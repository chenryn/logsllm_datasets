User: How to write a program using Python to monitor and report server resource usage?
Assistant: To use Python to write a program to monitor and report server resource usage, you can follow the steps below: 1. Import necessary libraries: you need to import psutil, datetime and socket libraries, which are used to obtain system resource information, obtain current time and obtain The local IP address. 2. Obtain system resource information: Use the cpu_percent(), virtual_memory(), disk_usage() functions of the psutil library to obtain information such as CPU usage, memory usage, and disk usage, and save them as variables. 3. Obtain the current time and local IP address: use datetime and socket library to obtain the current time and local IP address, and save them as variables. 4. Integrate and format the information obtained above to form the content of the report. 5. Send the report to the relevant person or group using email or SMS API. The following is a simple sample code: ```python import psutil import datetime import socket # Get system resource information cpu = psutil.cpu_percent() mem = psutil.virtual_memory().percent disk = psutil.disk_usage('/'). percent # Get the current time and local IP address now = datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S') ip = socket.gethostbyname(socket.gethostname ()) # Integrate report information and format report = f""" Server resource usage report ------------------ Time: {now} Server: { ip} CPU usage: {cpu}% Memory usage: {mem}% Disk usage: {disk}% """ # Call email or SMS API, send report # The code is abbreviated and needs to be implemented according to the specific API document`` ` Note: The above code is just an example, and the specific implementation needs to be modified and improved according to the actual situation. For example, you can periodically obtain resource information and send reports by adding loop and timer functions; you can also increase other indicators such as network bandwidth and CPU temperature as needed.