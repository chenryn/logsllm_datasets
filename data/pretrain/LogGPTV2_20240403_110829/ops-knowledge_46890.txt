User: 请解答这个和日志有关的问题How do I perform an Exchange 2010 database backup using Windows Server Backup with Hyper-V VMs collocated on the same drive? Yeah... I'm not the one who set it up. I've been tasked with setting up backups for their Exchange data. I've read through the documentation and learned about all the caveats that come with using the cheapo built-in backup solution, including that the entire volume must be backed up in order to make a consistent "application" backup of Exchange.

OK, so I selected the D:\ drive, which is where the DB and logs were. In an attempt to save space, I added two folder exclusions in the Advanced menu, one of which apparently contained the VHDs and associated files for live, running VMs. The backup ran successfully, the logs were replayed and truncated, and all appears to be well.

The next day I go to perform a test restore. On the restore type selection screen, Application is greyed out! Grrr...

1a. Does adding exclusions count against the "whole volume" requirement for an Exchange Application backup, or...

1b. Does the Hyper-V writer conflict with the Exchange writer?


Is it possible to restore the backup that I made at the file level? If so, how?

Assistant: I don't think you are going to get a successful backup/restore.

If you want to host HyperV then it needs to be that exclusively, not with other applications on it. I am pretty sure this is an unsupported or at least untested configuration, so the answer to your questions will be nobody knows.

I would use this as a good excuse to get the environment redesigned, putting Exchange in to its own VM for example. 

File level backup isn't going to work for Exchange, as that will result in an inconsistent database file, which will most likely result in a loss of data.