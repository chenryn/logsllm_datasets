## 总结 {#34.html#-}让效果指标真的在反映效果，也是要追求的效果。这句话虽然有点绕口，但是作为推荐系统从业者，应该牢记心间。这句话背后反映的就是推荐系统的健壮性。外部对推荐系统的攻击常常发生，而且又常常发生在协同过滤算法上。协同过滤相比训练出模型的推荐算法来说，的确更加脆弱些。基于用户的协同过滤又比基于物品的协同过滤要更常被攻击，究其原因，因为基于用户的协同过滤被攻击不容易在直观上发现，毕竟人在现实中也容易盲从，更何况在数字世界中被人伪造了几个知音一样的用户帮他们推荐呢？基于物品的协同过滤如果被攻击，直观上可能就不符合人们的理解，所以容易被发现，例如攻击者通过伪造数据，导致《小时代》和《肖申克的救赎》非常相似，这在计算出结果还没被上线使用时就被发现了。任何协同的攻防都需要实际问题实际分析，因为攻防是一个永无止境的过程，如果已经有非常明确的规律，那么想必攻击方也就不会采用了。如果你也遇到过推荐系统被攻击的例子，欢迎留言给我，我们一起研究一下。感谢你的收听，我们下期再见。![](Images/d3b48a2755db0a3707ef37007c2179c8.png){savepage-src="https://static001.geekbang.org/resource/image/87/b0/873b086966136189db14874181823fb0.jpg"}
# 【产品篇】推荐系统在互联网产品商业链条中的地位今天我要和你探讨的是推荐系统在商业链条中的地位。一个完整的推荐系统一定是置身商业世界中的，而不是只在学术界撒野，毕竟学术界大部分时间里只关注算法和模型的效果，并且是建立在强假设和非常有限的数据基础上的，显然这不并算是推荐系统的全貌。在商业世界里，就应该带一点"功利"的眼光看待推荐系统，但功利地看待推荐系统之前，要认识到推荐系统在商业链条中到底是个什么样的角色和作用？
## 推荐系统的作用 {#35.html#-}商业社会中亘古不变的关系是供求关系，供求关系的背后是交换。无论是实体经济还是虚拟经济，都是基于这个原理。供求关系动态变化，当供给小于需求时，就产生了稀缺，有了稀缺，就有了商业。我不是商人，所以我就只懂得基本原理，下面我就根据这个基本原理来说说推荐系统的角色和地位。推荐系统处理的是信息，它的主要作用是在信息生产方和信息消费方搭建起桥梁。所以推荐系统是信息经济中的一个装置。那么在信息经济中供求到底又是什么呢？信息经济中，看上去供求方是信息生产者，需求方是注意力提供者。这里似乎猝不及防地就引出了"注意力"这个词。所以，无论推荐系统服务的是什么样的产品，这些产品属于资讯，社交，电商，游戏等不同的形式，它们最终得到真金白银的手段不一样，也就是所谓的商业模式各有不同，但是它们都有一个关键步骤就是：获得用户的注意力。用户产生行为就是付出注意力的表现，也因此信息流产品都在看谁家的阅读时间长，那都是白花花的注意力啊。信息经济其实就是注意力经济，而推荐系统就是留住注意力的重要手段。那么说注意力这种东西到底是什么？它不是真的物理"力"，不属于四种宇宙基本力，而是一种决策可能性。比如用户为一个广告倾注了注意力，那么就有可能去点击广告，如果这个注意力非常强烈，还会继续消费广告中的商品，如果注意力足够持久，那么就会参与到整个链条上的各个经济活动。注意力有个特点：总量有限。随着信息越来越丰富，注意力越来越稀缺。首先，在门户时代，信息稀缺，注意力丰富，用户主动找信息。其次，在搜索时代，信息已经丰富，但搜索的工具属性和使用场景单一，导致它并不会侵蚀用户的注意力，所以依然是用户主动找信息。最后，在移动互联网普及之后，信息已经泛滥到很大程度，智能手机变成身体的一个器官，丰富的注意力被信息源以推荐的方式逐渐侵蚀，注意力从丰富变成稀缺。但是，注意力本身有价值高低之分。资讯阅读类注意力量大，但是便宜，电商、游戏类注意力贵重，但数量上不如资讯阅读类。这个注意力价值，一般在行业里被粗略称呼为用户价值，实际上这应该是注意力价值。综合看，三个时代的信息和注意力关系如下图所示。![](Images/6e93f5b2ff606cd51164ee1f82b2509c.png){savepage-src="https://static001.geekbang.org/resource/image/e7/90/e7fecdb9223f8594367aa2448d9b7990.png"}在推荐系统的帮助下，注意力变成了稀缺方，信息源在打着灯笼到处寻找注意力，其实商品不再是信息，商品就是注意力，信息源变成了这些注意力的消费方。有限的注意力在推荐系统的帮助下，聚到了平台上，平台方需要像电力一样把这些注意力储存起来，储存起来的注意力就是平台方最有价值的资产。储存这些注意力的并不是电池板，而是产品，而推荐系统是一种注意力储存设备型号，这就是推荐系统在商业链条中的角色和地位。如何定量地定义注意力？直观地看，注意力的存在会导致平台上内容被消耗。因此，我个人把注意力定义为：内容被消耗的加速度与平台内容复杂度的乘积。写成公式就是：]{.MathJax_Preview style="color: inherit; display: none;"} {.MathJax_Display style="text-align: center;"}``{=html}[[a]{#35.html#MathJax-Span-3 .mistyle="font-family: MathJax_Math-italic;"}[t]{#35.html#MathJax-Span-4.mistyle="font-family: MathJax_Math-italic;"}[t]{#35.html#MathJax-Span-5.mistyle="font-family: MathJax_Math-italic;"}[e]{#35.html#MathJax-Span-6.mistyle="font-family: MathJax_Math-italic;"}[n]{#35.html#MathJax-Span-7.mistyle="font-family: MathJax_Math-italic;"}[t]{#35.html#MathJax-Span-8.mistyle="font-family: MathJax_Math-italic;"}[i]{#35.html#MathJax-Span-9.mistyle="font-family: MathJax_Math-italic;"}[o]{#35.html#MathJax-Span-10.mistyle="font-family: MathJax_Math-italic;"}[n]{#35.html#MathJax-Span-11.mistyle="font-family: MathJax_Math-italic;"}[=]{#35.html#MathJax-Span-12.mostyle="font-family: MathJax_Main; padding-left: 0.285em;"}[A]{#35.html#MathJax-Span-13.mistyle="font-family: MathJax_Math-italic; padding-left: 0.285em;"}[×]{#35.html#MathJax-Span-14.mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[C[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.049em;"}]{#35.html#MathJax-Span-15.mistyle="font-family: MathJax_Math-italic; padding-left: 0.238em;"}]{#35.html#MathJax-Span-2.mrow}[]{style="display: inline-block; width: 0px; height: 2.355em;"}]{style="position: absolute; clip: rect(1.508em, 1008.24em, 2.496em, -999.998em); top: -2.351em; left: 0em;"}]{style="display: inline-block; position: relative; width: 8.238em; height: 0px; font-size: 125%;"}[]{style="display: inline-block; overflow: hidden; vertical-align: -0.056em; border-left: 0px solid; width: 0px; height: 1.062em;"}]{#35.html#MathJax-Span-1.mathstyle="width: 10.308em; display: inline-block;"}``{=html}[$$attention = A \times C$$]{.MJX_Assistive_MathML.MJX_Assistive_MathML_Blockrole="presentation"}]{#35.html#MathJax-Element-1-Frame .MathJaxtabindex="0" style="text-align: center; position: relative;"mathml="attention=A×C"role="presentation"}$$$$是的，你没看错，我就是类比了牛顿第二定律定义了注意力。我来解释一下这个公式。1.  C    是内容复杂程度，因为不好量化，可以理解为内容被消耗光所需的时间，比如论文网站和鸡汤文网站，要读完两者，难度显然不同，表现为消耗时间不同，再比如，卖奢侈品电商网站和卖地摊货的电商网站，要买光所有商品，花费的钱需要时间去累积，也表现在消耗时间不同。2.  A    是内容消耗的加速度，为什么是加速度，而不是速度呢？因为这里衡量的注意力并不只是内容消费者的注意力，还有内容创作者的注意力，是两者合并后的结果。如果用户的注意力和内容创作者倾注的注意力相同，就表现为每天消耗的内容数量一样，加速度为    0，整个平台上没有多余的注意力剩下，没有多余的注意力剩下，就无法销售注意力。3.  内容消耗的加速度，还与参加消耗的用户数量有关，用户数量越多，每天消耗越多，用户数量指数增加，则消耗的加速度就不为    0，平台方就有了多余的注意力。上述是一个注意力定义框架，限于篇幅，这里不展开详细定义。但是可以针对这个注意力定义框架制定一些提升平台剩余注意力的策略，及负面影响。1.  内容创作适当少倾注注意力，这样的结果是，用户消耗会快，但难度也会减少，总注意力会受到制衡；2.  提升内容难度，这意味着创作者也要倾注更多注意力，有可能用户方消耗不了，加速度变成负数；3.  提高单用户消耗加速度，这就是推荐系统的作用，给用户推荐他更愿意消耗的内容；4.  提高用户数，或者说提高活跃用户数。定义了注意力之后，就能看清楚推荐系统在提升平台注意力的作用，也就能看清楚推荐系统的价值。
## 推荐系统的成本 {#35.html#-}既然是商业，那么就会考虑成本，虽然只考虑成本是非常浅薄的商业思维；但是这不重要，如果你是公司或者团队负责人，想清楚你的成本，你就会掂量一下是不是要去把"个性化"或者"算法"的标签贴给自己的产品。如果你是从业者，清楚成本你就会有危机感，你不会觉得老板不懂，所以就不把成本放在眼里，而是会时刻提醒自己，一切成本，他都是知道的，包括你本身。这并非危言耸听，时代赐予的红利会消失，创造的价值覆盖了成本才能挺过来。大致来说，打造一个推荐系统的成本分布在这几个地方：1.  团队成本；2.  硬件成本；3.  机会成本。``{=html}
### 1. 团队成本 {#35.html#1-}团队成本包含团队组建的成本和团队维护的成本。一个推荐系统的团队至少要包含以下几类全职的人。1.  算法工程师，承担了数据科学家和程序员的双重工作，以数据科学为主，并兼具工程能力，在国外一般叫做机器学习工程师。团队里的这类人，由于市场长期供不应求，所以招募成本很高。比如要在各大招聘网站去投放广告，不断和人    social    混脸熟，高昂的猎头费用，转化率极低。招募这部分人，如果只是靠在朋友圈发个招聘文案，可以说是    0    可能会招到人。招募成本高，人员本身的成本也高，由于时代红利存在，整体薪资水平水涨船高，在无法真实分辨出每个人实际价值前，也只能付出这部分人才试错成本。2.  软件工程师，如果把推荐系统分为引擎和算法的话，那么软件工程师承担的责任比算法工程师更大，因为算法可以用一些开箱即用的开源工具暂时顶上去；而没有引擎，算法则就没有了用武之地。软件工程师由于市场存量高于算法工程师，所以招募时稍微好一点，但是请注意是好一点，实际上，要找到好的软件工程师，该付出的成本一个都不少。团队成本占据了推荐系统成本的大头，老板们也容易在这一部分产生焦虑，不要这样的团队，生怕自己的产品被市场抛弃，维护这样一个团队呢，那真是"玩儿得特大"。其实不只是推荐系统，对于技术团队，有一个错误的认识被无数前辈警醒过，那就是：短期高估，长期低估。团队维护的成本除了实打实的薪资支出，还有文化建设成本。工程师们都号称需要宽容自由的环境，形式上看就像是花钱请了一群野马，这也是成本，或者说风险。因为真正优秀的工程师才会在宽松环境下创造出远大于成本的价值，而普通工程师有可能在宽松自由的环境下逐渐废掉。给团队维护一个宽松自由的环境，就需要有一些非常明确地验收工程师成果的机制，这种技术文化建设也不是一朝一夕的事情，需要付出很大的精力。