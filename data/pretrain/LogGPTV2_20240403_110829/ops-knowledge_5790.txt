User: How to use iptables in Linux to configure firewall policies?
Assistant: iptables is a powerful firewall tool in Linux system, it is usually used to control network transmission. The main function of iptables is to control the inbound and outbound traffic of the network in the Linux system, and different firewall policies can be configured for different scenarios. The following are the basic steps to use iptables to configure firewall policies: 1. Query iptables rules Use the following command to query the current iptables rules: ``` iptables -L -n ``` This command can be used to view the current iptables rules (including built-in rules and user-defined rules). 2. Add iptables rules Use the iptables command to add rules. Here are some example rules: Allow all requests from TCP port 80 on network segment 10.0.0.0/24: ``` iptables -A INPUT -s 10.0.0.0/24 -p tcp --dport 80 -j ACCEPT `` ` Allow all ICMP protocol requests to pass: ``` iptables -A INPUT -p icmp -j ACCEPT ``` Forbid all requests from TCP port 22 of the 192.168.1.0/24 network segment to pass: ``` iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 22 -j DROP ``` 3. Save iptables rules After adding iptables rules, you need to save the rules to the iptables configuration file so that the next time you start the system Keep these rules. Use the following command to save the rules: ``` iptables-save > /etc/sysconfig/iptables ``` This will save the current iptables rules to the /etc/sysconfig/iptables file. The above are the basic steps for iptables to configure firewall policies. Appropriate rules need to be selected according to the specific network environment and requirements.