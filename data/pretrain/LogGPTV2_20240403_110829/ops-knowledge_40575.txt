User: How do I check to see if a given file descriptor is valid? I want to write to fd=3 if it's available; otherwise, I want to write to stdout. I'm aware that I could wrap every os.write call with try-except statement, but I would like to know ahead of time if fd=3 is writable or not.
Assistant: How about trying to os.write to fd=3 once at the start (inside a try-except block), and change all subsequent behaviour based on the success of that?
This way you won't have to wrap every call in try-except. Of course, this will break down if fd=3 stops being valid in the middle of your problem (e.g. if it's a pipe that gets closed from the other end).