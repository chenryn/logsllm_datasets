Multiple simultaneous failures. We next consider simultane-
ous link failures. To avoid disconnecting the topologies, we split the
capacity of each link evenly across two sub-links that fail indepen-
dently. We report the performance of all schemes when designing
for all possible scenarios involving the simultaneous failure of three
sub-links. For all PCF schemes we pick 6 tunnels, choosing them to
be as disjoint as possible. For similar reasons as above, we found
FFC achieved significantly better performance with 4 tunnels (FFC
resulted in a demand scale factor of 0 with 6 tunnels).2 Fig. 12 shows
a CDF of the demand scale ratios for each scheme relative to FFC.
On average, PCF-TF, PCF-LS and PCF-CLS achieve improvements of
more than 1.11ùëã, 1.25ùëã and 1.50ùëã over FFC respectively. Note that
while the trends are similar to single failures, the absolute values of
demand scales are lower for all schemes ‚Äì e.g., the optimal under 3
failures is 0.42 for Deltacom, while 0.85 under single failures).
Throughput metric. Instead of demand scale, we next consider
performance when the schemes optimize the throughput metric
(sum of bandwidth allocated to each pair). Given a demand ùëëùë†ùë°
for source ùë† and destination ùë°, and an allocated bandwidth ùëèùë§ùë†ùë°
(ùëèùë§ùë†ùë° ‚â§ ùëëùë†ùë°), we compute the throughput overhead 1 ‚àí  ùëèùë§ùë†ùë° ùëëùë†ùë°
.
Fig.13 shows the % reduction in throughput overhead of each
scheme relative to FFC when designing for three failures. PCF pro-
vides significant benefits. In the median case, PCF-TF and PCF-LS
reduce the throughput overhead of FFC by more than 16%, and the
reduction with PCF-CLS is 46%. For 25% of the topologies, PCF-TF,
PCF-LS and PCF-CLS reduce the throughput overhead by 27%, 41%
and 55% respectively. We do not report the optimal for this metric
since it requires a prohibitively large optimization formulation that
simultaneously models combinatorially many routing problems,
one for each failure state.
5.2 Feasibility of local yet optimal routing
As discussed earlier, PCF-TF uses a routing mechanism identical to
FFC, while PCF-LS uses topologically sorted logical sequences and
can be realized using a locally proportional routing (¬ß4.2) similar
to FFC. However, the LSs chosen in PCF-CLS are not guaranteed to
be topologically sorted.
Interestingly, under single link failures, the LSs generated by
PCF-CLS are already topologically sorted by default for 16 of our
21 topologies. For the remaining ones, we consider a new scheme,
which we refer to as PCF-CLS-TopSort, that starts with the LSs
initially generated by PCF-CLS, and picks a subset which are topo-
logically sorted. To achieve this, we use a greedy algorithm that
adds LSs one by one from the original set, omitting any LS that
violates the topological sort property. In all cases, less than 0.59%
of the LSs were pruned. Further, for 4 of the 5 topologies, PCF-CLS-
TopSort performs identically with PCF-CLS for the demand scale
metric. For Ion alone there was some performance degradation,
2It was only feasible to select 6 tunnels, with 2 sharing a common link. Under three
failures, FFC must provision for the case all tunnels failed.
0.50.60.70.80.91.0Demand scale0.00.20.40.60.81.0cdfFFC(2)FFC(3)FFC(4)Optimal Demand scale00.20.40.60.8FFCPCF-TF2 Tunnels3 Tunnels4 Tunnels1.01.21.41.61.82.0Demand scale relative to FFC0.00.20.40.60.81.0cdfPCF-TFPCF-LSPCF-CLSOptimalPCF: Provably Resilient Flexible Routing
SIGCOMM ‚Äô20, August 10‚Äì14, 2020, Virtual Event, NY, USA
Figure 11: PCF vs FFC across topologies. Figure 12: Performance under three si-
multaneous failures.
Figure 13: Reduction in throughput
overhead compared to FFC
models only need to be run at the granularity of several minutes
(on failure, lighter-weight online operations are used (¬ß4.3)).
The figure also shows the solving time for the optimal scheme
(truncating the Y-Axis at 1 hour). The solving time is much larger
even for the smaller topologies and did not complete within an
hour for most topologies. For one of the larger topologies, it did
not complete even after two days.
6 RELATED WORK
Reactive vs. congestion-free routing schemes. Many recent
traffic engineering (TE) schemes [17, 20] have developed flexible
ways of routing traffic motivated by the goal of efficiently utiliz-
ing network capacity. Typically, these schemes involve deciding
how to optimally route traffic at a centralized controller leverag-
ing network-wide views [17, 20, 23]. Failures are handled reactively
by recomputing routes at the centralized controller, and updating
rules at switches, a process that can take a long time, and that
could congestion links in the interim [26]. A more recent work [23]
derives tunnels from an oblivious routing strategy, and determines
how to split traffic across tunnels so link utilizations are minimized.
The scheme does not guarantee that the network would remain
congestion-free on failure.
A second class of schemes [26, 32, 37] proactively guarantee the
network remains congestion-free over a large set of failure scenar-
ios (e.g., all scenarios with ùëì simultaneous link failures), while only
allowing for the network to respond to failures using fast and light-
weight response mechanisms. For instance, FFC [26] conservatively
admits traffic so the network does not experience congestion when
local proportional routing is used. With such schemes, an optimiza-
tion problem is only solved offline (i.e., prior to any failure scenario).
The optimization models guarantee the congestion-free property,
and are tractable in that they do not require an explicit enumeration
of the large space of failure scenarios.
PCF addresses both objectives at the same time, by developing
provably congestion-free light-weight mechanisms that achieve
close to the optimal performance sought by reactive TE mechanisms.
PCF not only out-performs existing congestion-free mechanisms,
but performs close to optimal (the best possible performance that
can be achieved by a reactive centralized TE scheme). Further, like
other congestion-free schemes, PCF does not solve an LP on failure
but only involves light-weight operations. Finally, with topologi-
cally sorted LSs, PCF uses local proportional routing, similar to FFC.
Finally, while we do not explore in this paper, the tractable failure
Figure 14: Solving time for PCF‚Äôs schemes and optimal.
from a demand scale of 1.11 with PCF-CLS to 0.82 with PCF-CLS-
TopSort, but still much better than FFC which achieved a demand
scale of 0.48. Overall, the results indicate that for single failure
scenarios, a local proportional routing mechanism is sufficient to
ensure near optimal performance.
For multiple simultaneous failures, PCF-CLS-TopSort does not
match the performance of PCF-CLS. We note however that (i) PCF-
CLS-TopSort and PCF-LS still significantly out-perform FFC and
are realizable as local algorithms; and (ii) while PCF-CLS nearly
matches optimal, it only requires a linear system of equations to be
solved on each failure as opposed to a more expensive optimization
problem.
5.3 Tractability of formulations
Fig. 14 presents the solving time (Y-Axis) against topology size
(X-Axis) when PCF-TF, and PCF-CLS (the most complex scheme)
are used to design for all simultaneous three link failure scenarios.
Each point corresponds to a topology. PCF-LS takes less time than
PCF-CLS and is not shown. For most topologies, the solving times
is under 10 seconds. For the two largest networks (Deltacom and
Ion) with 302 and 270 sub-links (each original link comprises 2
sub-links), the solving time for PCF-TF is under 50 seconds and
for PCF-CLS under 100 seconds. This is reasonable because PCF‚Äôs
1.01.52.02.5Demand scale relative to FFC0.00.20.40.60.81.0cdfPCF-TFPCF-LSPCF-CLSOptimal1.01.52.02.53.0Demand scale relative to FFC0.00.20.40.60.81.0cdfPCF-TFPCF-LSPCF-CLSOptimal0204060Reduction in throughput overhead(%)0.00.20.40.60.81.0cdfPCF-TFPCF-LSPCF-CLS50100150200250300Number of sub-links10‚àí1100101102103solving time(s)1 h (truncated)PCF-TFPCF-CLSOptimalSIGCOMM ‚Äô20, August 10‚Äì14, 2020, Virtual Event, NY, USA
Chuan Jiang, Sanjay Rao, and Mohit Tawarmalani
models associated with congestion-free schemes in general and PCF
in particular can aid in network design tasks such as provisioning
networks with sufficient capacity to protect against failures.
in a top-down manner. Moreover, pathlet routing is motivated by
the challenges of multipath routing, while it does not provide any
performance guarantee upon failures.
Other related work. While several works explore quick re-
routing of traffic to restore connectivity on failures [24, 25, 28, 31,
38], PCF guarantees the network is congestion-free (not merely
restore connectivity). Oblivious routing provides bounds on net-
work performance over multiple demands, and when networks do
not adapt [2, 3, 36, 39]. PCF carefully adds flexibility to network
response to allow for tractable analysis of performance under fail-
ures. Robust network design under single link or node failures
has received attention [3, 5, 11, 15, 29, 33, 41]. PCF scales to the
large number of failure states arising from concurrent failures, and
shows how networks with carefully chosen response can achieve
near optimal performance.
7 CONCLUSIONS
In this paper, we have made two contributions. First, we have shown
that existing mechanisms which ensure the network is congestion-
free on failures achieve performance far short of the network‚Äôs
intrinsic capability, and shed light on the underlying reasons. Sec-
ond, we have proposed PCF, a set of novel congestion-free mecha-
nisms that bridges this gap by better modeling network structure,
and by carefully enhancing the flexibility of network response to
ensure that the performance under failures can be tractably mod-
eled. Through formal theoretical results, we show PCF‚Äôs schemes
provably out-perform FFC. Empirical experiments over 21 Internet
topologies show that PCF‚Äôs schemes can sustain higher through-
put than FFC by a factor of 1.11X to 1.5X on average across the
topologies, providing a benefit as high as 2.6X in some cases. PCF‚Äôs
schemes are practically realizable, and some of them can yet achieve
near optimal performance. This work does not raise any ethical
issues.
8 ACKNOWLEDGEMENTS
We thank our shepherd, Barath Raghavan, and the anonymous re-
viewers for their feedback which greatly helped improve the paper.
This work was funded in part by the National Science Foundation
(NSF) Award 1910234.
Other congestion-free routing schemes. Among congestion-
free schemes, we have extensively discussed FFC [26]. R3, another
congestion-free mechanisms based on link bypass [37], is based
on flows, and cannot handle node failures (¬ß3.5). PCF uses tunnels
which are easier to deploy [23], and can tackle node failures. When
flows are allowed, PCF provably out-performs R3 even for link
failures (¬ß3.5). Another work [32] addresses link failures by adding
edges to the network. The original excess capacity of the network
is not used, and the number of edges added may be substantial.
Rather than tackle all ùëì failures, recent works Teavar [6], and
Lancet [10] design for scenarios that occur with sufficient prob-
ability so a desired availability target is met. The techniques in
Teavar [6] and Lancet [10] are respectively demonstrated with FFC
and a generalization of R3. Techniques for probabilistic design are
orthogonal to the design of congestion-free routing schemes. In
particular, the ideas in both Teavar and Lancet are complementary
to PCF, and may be potentially combined with PCF in the future to
achieve better performance bounds when designing for scenarios
with given probability.
A framework for analyzing the worst-case performance of cen-
tralized TE approaches was presented in [9]. The framework pro-
vides conservative performance bounds when network response
can be modeled as an optimization problem. The conservative
bounds may be viewed loosely equivalent to the performance
of a more restricted network routing scheme that does not re-
optimize on each failure. However, the bounds are obtained us-
ing optimization-theoretic relaxation methods, and it is an open
question whether these abstract relaxations relate to practically
realizable network response mechanisms. In contrast, all of PCF‚Äôs
models are associated with realizable network response mecha-
nisms as we have discussed. Interestingly, while we do not explore
in this paper, PCF‚Äôs models may provide alternate and better ways
to bounds the performance of centralized TE schemes ‚Äì e.g., the
performance of PCF-CLS under failures matched the optimal for
most topologies (¬ß5). These benefits arise because using LSs can im-
prove the bounds for the relaxations proposed in [9]. Finally, PCF‚Äôs
formulations can be naturally used to augment capacities so as to
meet a desired performance metric by simply making capacities
variable.
Segment and pathlet routing. Logical sequences are similar
to segment routing [16, 34] in that traffic is steered through a given
series of hops. DEFO considers ISP carrier network settings where
the traffic in each segment is carried using a (possibly legacy) mech-
anism such as shortest-path forwarding, and the segments may
be chosen so as to optimize a traffic engineering goal [16]. In con-
trast, LSs are an abstraction to increase the flexibility of provably
congestion-free resilient routing mechanisms. Each LS is associated
with a reservation, and may only be active when some conditions
are met. Our actual implementation (¬ß4.1) may be entirely tunnel-
ing based, or use both LSs and tunnels with a local proportional
routing scheme (¬ß4.2).
In pathlet routing [13], sources concatenate fragments of paths
(pathlets) into end-to-end routes in a bottom-up fashion. In contrast,
with PCF, logical sequences and physical tunnels are predefined
PCF: Provably Resilient Flexible Routing
SIGCOMM ‚Äô20, August 10‚Äì14, 2020, Virtual Event, NY, USA