User: 请回答以下安全问题SSH的authorized_keys和known_hosts文件之间有什么区别？我正在学习SSH协议的基础知识。我对以下两个文件的内容感到困惑：
~/.ssh/authorized_keys：保存服务器的授权公钥列表。当客户端连接到服务器时，服务器通过检查存储在此文件中的已签名公钥来验证客户端
~/.ssh/nknown_hosts：包含用户访问的ssh服务器的DSA主机密钥。这个文件对于确保SSH客户端连接正确的SSH服务器非常重要。
我不知道这意味着什么。请帮忙。

Assistant: known_hosts文件允许客户端对服务器进行身份验证，以检查其是否未连接到模仿者。authorized_keys文件允许服务器对用户进行身份验证。
服务器身份验证
当SSH连接建立时，首先发生的事情之一是服务器将其公钥发送给客户端，并向客户端证明（由于公钥加密）它知道相关的私钥。这将验证服务器：如果协议的这一部分成功，客户端就会知道服务器就是它声称的服务器。
客户端可以检查服务器是否为已知服务器，而不是某个试图冒充正确服务器的流氓服务器。SSH只提供了一个简单的机制来验证服务器的合法性：它会在客户端机器上的~/.SSH/nknown_hosts文件中记住您已经连接到的服务器（还有一个系统范围的文件/etc/SSH/known_host）。第一次连接到服务器时，您需要通过其他方式检查服务器提供的公钥是否真的是您想要连接的服务器的公钥。如果您有要连接的服务器公钥，您可以手动将其添加到客户端上的~/.ssh/nknown_hosts中。
顺便说一句，known_hosts可以包含SSH实现支持的任何类型的公钥，而不仅仅是DSA（还有RSA和ECDSA）。
在向服务器发送任何机密数据之前，必须对服务器进行身份验证。特别是，如果用户身份验证涉及密码，则不得将密码发送到未经身份验证的服务器。
用户身份验证
只有当远程用户能够证明他们有权访问该帐户时，服务器才允许该用户登录。根据服务器的配置和用户的选择，用户可以提供几种形式的凭据之一（以下列表并非详尽无遗）。
用户可以提供他正试图登录的帐户的密码；然后服务器验证密码是否正确。
用户可以出示公钥并证明他拥有与该公钥相关联的私钥。这与用于验证服务器的方法完全相同，但现在用户正在尝试证明其身份，服务器正在验证。如果用户证明他知道私钥，并且公钥在帐户的授权列表中（服务器上的~/.ssh/authorized_keys），则接受登录尝试。
另一种类型的方法涉及将验证用户的部分工作委托给客户端机器。这种情况发生在企业等受控环境中，当许多机器共享相同的帐户时。服务器通过与另一种方式相同的机制对客户端机器进行身份验证，然后依靠客户端对用户进行身份验证。