lob
src_lob blob/c IN 否 被写入的源blob/clob对象。
lob
len int IN 是 写入源对象的长度，为NULL则默认写入
源对象全部。
 PKG_UTIL.LOB_COMPARE
该函数LOB_COMPARE按照指定的起始位置、个数比较对象是否相同，lob1大则返回
1，lob2大返回-1，相等返回0。
PKG_UTIL.LOB_COMPARE函数原型为：
南大通用数据技术股份有限公司
709
GBase 8s V8.8开发者手册
PKG_UTIL.LOB_COMPARE(
lob1 IN anyelement,
lob2 IN anyelement,
len IN int,
start1 IN int,
start2 IN int
)
RETURNINTEGER;
表 6PKG_UTIL.LOB_COMPARE接口参数说明
参数 类型 入参/ 是否可以 描述
出参 为空
lob1 clob/bl IN 否 待比较的字符串。
ob
lob2 clob/bl IN 否 待比较的字符串。
ob
len int IN 否 比较的长度。
start1 int IN 否 lob1起始偏移量。
start2 int IN 否 lob2起始偏移量。
 PKG_UTIL.LOB_MATCH
该函数LOB_MATCH返回pattern出现在lob对象中第match_nth次的位置。
PKG_UTIL.LOB_MATCH函数原型为：
PKG_UTIL.LOB_MATCH(
lob IN anyelement,
pattern IN anyelement,
start IN int,
match_nth IN int
)
RETURNINTEGER;
南大通用数据技术股份有限公司
710
GBase 8s V8.8开发者手册
表 7PKG_UTIL.LOB_MATCH接口参数说明
参数 类型 入参/ 是否可以 描述
出参 为空
lob clob/bl IN 否 待比较的字符串。
ob
pattern clob/bl IN 否 待匹配的pattern。
ob
start int IN 否 lob的起始比较位置。
match_nt int IN 否 第几次匹配到。
h
 PKG_UTIL.LOB_RESET
该函数LOB_RESET清除一段数据为字符value。
PKG_UTIL.LOB_RESET函数原型为：
PKG_UTIL.LOB_RESET(
lob INOUT bytea,
len INOUT int,
start IN intDEFAUTL1，
value IN chardefault0
)
RETURNrecord;
表 8PKG_UTIL.LOB_RESET接口参数说明
参数 类 入参/出 是否 描述
型 参 可以
为空
lob byte IN 否 待重置的字符串。
a
len int IN 否 重置的长度。
南大通用数据技术股份有限公司
711
GBase 8s V8.8开发者手册
参数 类 入参/出 是否 描述
型 参 可以
为空
start int IN 否 重置的起始位置。
value int IN 是 设置的字符。默认值‘0’。
 PKG_UTIL.IO_PRINT
该函数IO_PRINT将一段字符串打印输出。
PKG_UTIL.IO_PRINT函数原型为：
PKG_UTIL.IO_PRINT(
format IN text,
is_one_line IN boolean
)
RETURNvoid;
表 9PKG_UTIL.IO_PRINT接口参数说明
参数 类 入参/出 是否 描述
型 参 可以
为空
format text IN 否 待打印输出的字符串。
is_one_li bool IN 否 是否输出为一行。
ne ean
 PKG_UTIL.RAW_GET_LENGTH
该函数RAW_GET_LENGTH获取raw的长度。
PKG_UTIL.RAW_GET_LENGTH函数原型为：
PKG_UTIL.RAW_GET_LENGTH(
value IN raw
)
RETURNinteger;
南大通用数据技术股份有限公司
712
GBase 8s V8.8开发者手册
表 10PKG_UTIL.RAW_GET_LENGTH接口参数说明
参数 类 入参/出 是否 描述
型 参 可以
为空
raw raw IN 否 待获取长度的对象。
 PKG_UTIL.RAW_CAST_FROM_VARCHAR2
该函数RAW_CAST_FROM_VARCHAR2将varchar2转化为raw。
PKG_UTIL.RAW_CAST_FROM_VARCHAR2函数原型为：
PKG_UTIL.RAW_CAST_FROM_VARCHAR2(
str IN varchar2
)
RETURNraw;
表 11PKG_UTIL.RAW_CAST_FROM_VARCHAR2接口参数说明
参数 类型 入参/出 是否 描述
参 可以
为空
str varc IN 否 需要转化的源数据。
har2
 PKG_UTIL.CAST_FROM_BINARY_INTEGER
该函数CAST_FROM_BINARY_INTEGER将binaryinteger数据转化为raw 。
PKG_UTIL.CAST_FROM_BINARY_INTEGER函数原型为：
PKG_UTIL.CAST_FROM_BINARY_INTEGER(
value IN integer,
endianess IN integer
)
RETURNraw;
表 12PKG_UTIL.CAST_FROM_BINARY_INTEGER接口参数说明
南大通用数据技术股份有限公司
713
GBase 8s V8.8开发者手册
参数 类 入参/出 是否 描述
型 参 可以
为空
value inte IN 否 需要转化为raw的源数据。
ger
endianess inte IN 否 表示字节序的整型值1或2（1代表BIG_ENDI
ger AN，2代表LITTLE-ENDIAN）。
 PKG_UTIL.CAST_TO_BINARY_INTEGER
该函数CAST_TO_BINARY_INTEGER将raw数据转化为binaryinteger 。
PKG_UTIL.CAST_TO_BINARY_INTEGER函数原型为：
PKG_UTIL.CAST_TO_BINARY_INTEGER(
value IN raw,
endianess IN integer
)
RETURNinteger;
表 13PKG_UTIL.CAST_TO_BINARY_INTEGER接口参数说明
参数 类 入参/出 是否 描述
型 参 可以
为空
value raw IN 否 需要转化为binary integer的raw类型源数据。
endianess inte IN 否 表示字节序的整型值1或2（1代表BIG_ENDI
ger AN，2代表LITTLE-ENDIAN）。
PKG_UTIL.SET_RANDOM_SEED
该函数SET_RANDOM_SEED设置随机数种子。
PKG_UTIL.SET_RANDOM_SEED函数原型为：
PKG_UTIL.RANDOM_SET_SEED(
seed IN int
南大通用数据技术股份有限公司
714
GBase 8s V8.8开发者手册
)
RETURNinteger;
表 14PKG_UTIL.SET_RANDOM_SEED接口参数说明
参数 类 入参/出 是否 描述
型 参 可以
为空
seed int IN 否 随机数种子。
 PKG_UTIL.RANDOM_GET_VALUE
该函数RANDOM_GET_VALUE返回0~1区间的一个随机数。
PKG_UTIL.RANDOM_GET_VALUE函数原型为：
PKG_UTIL.RANDOM_GET_VALUE(
)
RETURNnumeric;
 PKG_UTIL.FILE_SET_DIRNAME
设置当前操作的目录，基本上所有涉及单个目录的操作，都需要调用此方法先设置操作
的目录。
PKG_UTIL.FILE_SET_DIRNAME函数原型为：
PKG_UTIL.FILE_SET_DIRNAME(
dir IN text
)
RETURNbool
表 15PKG_UTIL.FILE_SET_DIRNAME接口参数说明
参数 描述
dirname 文件的目录位置，这个字符串是一个目录对象名。
说明：
文件目录的位置，需要添加到系统表PG_DIRECTORY中，如果传入的路
径和PG_DIRECTORY中的路径不匹配，会报路径不存在的错误，下面的
南大通用数据技术股份有限公司
715
GBase 8s V8.8开发者手册
参数 描述
涉及location作为参数的函数也是同样的情况。
 PKG_UTIL.FILE_OPEN
该函数用来打开一个文件，最多可以同时打开50个文件。并且该函数返回INTEGER
类型的一个句柄。
PKG_UTIL.FILE_OPEN函数原型为：
PKG_UTIL.FILE_OPEN(
file_name IN text,
open_mode IN integer)
表 16PKG_UTIL.FILE_OPEN接口参数说明
参数 描述
file_name 文件名，包含扩展（文件类型），不包括路径名。如果文件名中包含路径，
在OPEN中会被忽略，在Unix系统中，文件名不能以/.结尾。
open_mode 指定文件的打开模式，包含r：read text，w: write text和a: append text。
说明：
对于写操作，会检测文件类型，如果写入elf文件，将会报错并退出。
 PKG_UTIL.FILE_SET_MAX_LINE_SIZE
设置写入文件一行的最大长度。
PKG_UTIL.FILE_SET_MAX_LINE_SIZE函数原型为：
PKG_UTIL.FILE_SET_MAX_LINE_SIZE(
max_line_sizeininteger)
RETURNBOOL
表 17PKG_UTIL.FILE_SET_MAX_LINE_SIZE接口参数说明
参数 描述
max_line_siz 每行最大字符数，包含换行符（最小值是1，最大值是32767）。如果没有
南大通用数据技术股份有限公司
716
GBase 8s V8.8开发者手册
参数 描述
e 指定，会指定一个默认值1024。
 PKG_UTIL.FILE_IS_CLOSE
检测一个文件句柄是否关闭。
PKG_UTIL.FILE_IS_CLOSE函数原型为：
PKG_UTIL.FILE_IS_CLOSE(
fileininteger
)
RETURNBOOL
表 18PKG_UTIL.FILE_IS_CLOSE接口参数说明
参数 描述
file 一个打开的文件句柄。
 PKG_UTIL.FILE_READ
根据指定的长度从一个打开的文件句柄中读取出数据。
PKG_UTIL.FILE_READ函数原型为：
PKG_UTIL.FILE_READ(
file IN integer,
buffer OUT text,
len IN integer)
表 19PKG_UTIL.FILE_READ接口参数说明
参数 描述
file 通过调用OPEN打开的文件句柄，文件必须以读的模式打开，否则会抛出
INVALID_OPERATION的异常。
buffer 用于接收数据的BUFFER。
南大通用数据技术股份有限公司
717
GBase 8s V8.8开发者手册
参数 描述
len 从文件中读取的字节数。
 PKG_UTIL.FILE_READLINE
根据指定的长度从一个打开的文件句柄中读取出一行数据。
PKG_UTIL.FILE_READLINE函数原型为：
PKG_UTIL.FILE_READLINE(
file IN integer,
buffer OUTtext,
len IN integerdefault1024)
表 20PKG_UTIL.FILE_READLINE接口参数说明
参数 描述
file 通过调用OPEN打开的文件句柄，文件必须以读的模式打开，否则会抛出
INVALID_OPERATION的异常。
buffer 用于接收数据的BUFFER。
len 从文件中读取的字节数，默认是NULL。如果是默认NULL，会使用max_
line_size来指定大小。
 PKG_UTIL.FILE_WRITE
将BUFFER中指定的数据写入到文件中。
PKG_UTIL.FILE_WRITE函数原型为：
PKG_UTIL.FILE_WRITE(
fileininteger,
bufferintext