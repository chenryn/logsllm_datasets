### 9.6 搜索引擎的全文索引

#### 9.6.1 全文索引概述
用户通常会通过搜索引擎如HotBot（http://www.hotbot.com）或Google（http://www.google.com）进行查询。这些搜索引擎提供了一个Web搜索网关，用于访问全文索引。由于Web页面不断更新，且爬取整个网络需要很长时间，因此全文索引实际上只是Web的一个快照。

#### 9.6.2 现代搜索引擎的结构
现代搜索引擎的高层结构如图9-7所示。
![图9-7](图9-7)

#### 9.6.3 全文索引
全文索引是一个数据库，它能够快速提供包含特定单词的所有文档。创建索引后，无需再对文档本身进行扫描。

**注27：** 这取决于服务器资源、客户端机器人及两者之间的网络状况。

#### 9.6.4 查询请求
当用户向Web搜索引擎网关提交查询时，会填写一个HTML表单，浏览器通过HTTP GET或POST请求将表单发送给网关。网关程序解析搜索请求，并将其转换为查询全文索引所需的表达式。

例如，图9-9显示了一条对www.joes-hardware.com站点的简单用户查询。用户在搜索框中输入“drills”，浏览器将此操作转换为带有请求参数的GET请求。Joe的五金商店的Web服务器收到请求后，将其转发给搜索网关应用程序，该程序返回结果列表，Web服务器再将这些结果转换为HTML页面提供给用户。

![图9-9](图9-9)

**注28：** 请求方法与使用的搜索策略有关。
**注29：** 2.2.6节讨论了URL中查询参数的常见用法。

#### 9.6.5 结果排序与展示
搜索引擎通过其索引获得查询结果后，网关应用程序会获取这些结果并生成结果页面提供给用户。许多Web页面可能包含相同的单词，因此搜索引擎使用智能算法对结果进行排名。这被称为相关性排名，旨在提供最相关的搜索结果。

为了更好地支持这一过程，在爬取Web时会收集统计数据。例如，统计指向特定页面的链接数量有助于判断其流行度，从而决定结果的顺序。这些算法和辅助信息是搜索引擎的核心机密。

#### 9.6.6 欺诈行为
用户希望在搜索结果中看到他们想要的内容，因此网站管理员会努力使他们的网站排在搜索结果的前列。这种竞争导致了许多欺诈行为，如堆砌关键字、创建假冒页面等。搜索引擎和机器人实现者必须不断改进相关性算法以应对这些欺诈行为。

### 9.7 更多信息
更多关于Web客户端的信息，请参阅以下资源：
- [Web机器人页面](http://www.robotstxt.org/wc/robots.html) —— 机器人开发者所需资源，包括互联网机器人的注册。
- [搜索引擎世界](http://www.searchengineworld.com) —— 搜索引擎和机器人的相关资源。
- [Web站点和内部网络的搜索工具](http://www.searchtools.com) —— 搜索工具和机器人的相关资源。
- [RobotRules的Perl语言资源](http://search.cpan.org/doc/ILYAZ/perl_ste/WWW/RobotRules.pm)
- [拒绝机器人访问的扩展标准](http://www.conman.org/people/spc/robots2.html)
- 《海量数据管理——文档和图像的压缩与索引》（Witten, I.、Moffat, A. 和 Bell, T. 编写，Morgan Kaufmann出版）

### 第10章 HTTP-NG

#### 10.1 HTTP发展中存在的问题
HTTP最初设计用于访问分布式信息服务器上的多媒体内容，但随着时间的推移，它被广泛应用于各种不同的应用场景。尽管HTTP/1.1提供了许多功能，但它也面临着复杂性、可扩展性、性能和传输依赖性等方面的问题。

#### 10.2 HTTP-NG的活动
1997年夏天，万维网联盟启动了一个项目，调查并提出一个新的HTTP版本，即HTTP-NG，以解决这些问题。虽然HTTP-NG尚未被广泛采用，但它确实为扩展HTTP系统做出了重要努力。

#### 10.3 模块化及功能增强
HTTP-NG的主题可以概括为“模块化及功能增强”。HTTP-NG工作组建议将协议分为三层：
- **报文传输层**：负责端点间报文的不透明传输，支持多种子协议栈，如无线环境下的协议栈。HTTP-NG项目组为此层提出了WebMUX协议。
- **远程调用层**：定义了请求/响应的功能，客户端可以通过这些功能调用服务器资源的操作。本层独立于报文传输及操作的精确语义，类似于CORBA、DCOM和Java RMI。HTTP-NG项目组建议使用二进制连接协议。
- **Web应用层**：提供了大部分内容管理逻辑，定义了HTTP/1.1的方法和首部参数，还支持其他基于远程调用的服务，如WebDAV。

通过将HTTP组件模块化，可以改进性能并提供更多特性。

#### 10.4 分布式对象
HTTP-NG借鉴了CORBA和DCOM等结构化、面向对象的技术，旨在提供更好的性能和更丰富的功能。