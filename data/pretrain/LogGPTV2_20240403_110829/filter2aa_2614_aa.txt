随着API技术的发展和广泛使用，API安全问题越来越受到人们的
重视。本书从API安全的视角出发，介绍了API技术的发展和变化以及
不同API技术中常见的安全漏洞，探讨了如何使用自动化安全工具检测
API安全漏洞、如何使用API安全设计规避漏洞。全书从API安全漏洞基
础知识入手，逐步讲解API安全设计、API安全治理等内容，并结合头
部互联网企业的API安全案例，分析业界API安全的最佳实践，是国内
第一本讲解API安全知识和技术实战的专业书籍。
本书适合网络安全人员、软件开发人员、系统架构师以及高等院校
相关专业师生阅读学习。
图书在版编目（CIP）数据
API安全技术与实战/钱君生，杨明，韦巍编著.—北京：机械工业出版
社，2021.5
（网络空间安全技术丛书）
ISBN 978-7-111-67639-3
Ⅰ.①A… Ⅱ.①钱…②杨…③韦… Ⅲ.①计算机网络-网络安全 
Ⅳ.①TP393.08
中国版本图书馆CIP数据核字（2021）第036173号
机械工业出版社（北京市百万庄大街22号 邮政编码 1300037）
策划编辑：李培培  责任编辑：李培培
责任校对：张艳霞  责任印制：李 昂
北京机工印刷厂印刷
2021年3月·第1版·第1次印刷
184mm×260mm·15.5印张·379千字
标准书号：ISBN 978-7-111-67639-3
定价：99.00元
电话服务
客服电话：010-88361066
010-88379833
010-68326294
网络服务
机 工 官 网：www.cmpbook.com
机 工 官 博：weibo.com/cmp1952
金  书  网：www.golden-book.com
机工教育服务网：www.cmpedu.com
封底无防伪标均为盗版
网络空间安全技术丛书专家委员会名单
主  任 沈昌祥 中国工程院院士
副 主 任 方滨兴 中国工程院院士
王小云 中国科学院院士
委  员（以姓氏拼音为序）
陈兴蜀 四川大学
陈 洋 小米科技有限责任公司
程 光 东南大学
程 琳 中国人民公安大学
丁 勇 广西密码学与信息安全重点实验室
弓峰敏 滴滴出行科技有限公司
贺卫东 中电长城网际系统应用有限公司
贾 焰 中国人民解放军国防科技大学
李 晖 西安电子科技大学
李建华 上海交通大学
李 进 广州大学
李欲晓 中国网络空间研究院
刘建伟 北京航空航天大学
马 斌 腾讯计算机系统有限公司
马 杰 北京百度网讯科技有限公司
孟 丹 中国科学院信息工程研究所
卿 昱 中国电子科技网络信息安全公司
任 奎 浙江大学
谈剑峰 上海众人网络安全技术有限公司
谭晓生 北京赛博英杰科技有限公司
位 华 中国信息安全测评中心
魏 军 中国网络安全审查技术与认证中心
吴志刚 中国软件评测中心
肖新光 安天实验室
谢海永 中国科学技术大学
赵 波 武汉大学
郑志彬 华为技术有限公司
祝跃飞 中国人民解放军战略支援部队信息工程大学
秘 书 长 胡毓坚 机械工业出版社
副秘书长 秦 安 中国网络空间战略研究所
出版说明
随着信息技术的快速发展，网络空间逐渐成为人类生活中一个不可
或缺的新场域，并深入到了社会生活的方方面面，由此带来的网络空间
安全问题也越来越受到重视。网络空间安全不仅关系到个体信息和资产
安全，更关系到国家安全和社会稳定。一旦网络系统出现安全问题，那
么将会造成难以估量的损失。从辩证角度来看，安全和发展是一体之两
翼、驱动之双轮，安全是发展的前提，发展是安全的保障，安全和发展
要同步推进，没有网络空间安全就没有国家安全。
为了维护我国网络空间的主权和利益，加快网络空间安全生态建
设，促进网络空间安全技术发展，机械工业出版社邀请中国科学院、中
国工程院、中国网络空间研究院、浙江大学、上海交通大学、华为及腾
讯等全国网络空间安全领域具有雄厚技术力量的科研院所、高等院校、
企事业单位的相关专家，成立了阵容强大的专家委员会，共同策划了这
套《网络空间安全技术丛书》（以下简称"丛书"）。
本套丛书力求做到规划清晰、定位准确、内容精良、技术驱动，全
面覆盖网络空间安全体系涉及的关键技术，包括网络空间安全、网络安
全、系统安全、应用安全、业务安全和密码学等，以技术应用讲解为
主，理论知识讲解为辅，做到"理实"结合。
与此同时，我们将持续关注网络空间安全前沿技术和最新成果，不
断更新和拓展丛书选题，力争使该丛书能够及时反映网络空间安全领域
的新方向、新发展、新技术和新应用，以提升我国网络空间的防护能
力，助力我国实现网络强国的总体目标。
由于网络空间安全技术日新月异，而且涉及的领域非常广泛，本套
丛书在选题遴选及优化和书稿创作及编审过程中难免存在疏漏和不足，
诚恳希望各位读者提出宝贵意见，以利于丛书的不断精进。
机械工业出版社
前言
对大多数IT技术人员来说，API这个词并不陌生。而对架构师、研
发工程师、安全工程师来说，API则更是日常工作中接触并熟知的内
容。从2008年国内API经济活跃伊始，各个互联网企业纷纷构建自己的
API开放平台，2012年API模式日益成熟，大量API安全问题在2013年之
后也逐渐暴露出来。如今，仍可以通过漏洞平台、安全大会议题、企业
安全应急响应中心看到这些痕迹。虽然API安全问题或安全事件时有发
生，但企业对API安全的真正重视程度，仍比技术应用落后很多。这其
中固然有企业的原因，但技术人员自身API安全知识的缺乏也是重要因
素之一，再加上已出版的关于API安全的图书尤其少，于是作者决定写
一本API安全方面的专业书籍。
1.本书的主要内容和特色
本书主要是为IT技术人员提供API安全知识和技术实战方面的案例
讲解，采用理论和实践相结合的模式，由基础篇、设计篇、治理篇三个
部分组成，为读者讲述API安全的基本概况、API安全漏洞、API安全设
计以及API生命周期安全管理等内容。
基础篇包括第1～5章。
第1章 API的前世今生 结合互联网技术的发展，介绍API技术的发
展。重点围绕当下不同的API技术，如RESTful API技术、GraphQL API
技术、SOAP API技术等，来介绍其技术特点。最后，简要讲述了头部
互联网公司API的使用现状。
第2章 API安全的演变 以API安全的含义为切入点，讲述API安全关
注的重点内容、API漏洞类型以及API安全的未来趋势。
第3章 典型API安全漏洞剖析 从最近三年的安全漏洞案例中，精心
挑选出5个有代表性的案例，分别从漏洞基本信息、漏洞利用过程、漏
洞启示三个方面，为读者讲述典型的API安全漏洞原理。
第4章 API安全工具集 结合API生命周期，从需求、设计、编码、
测试、运维等角度，介绍与API安全相关的工具，并对部分工具做了重
点说明。
第5章 API渗透测试 参考业界标准渗透基本流程，介绍了API渗透
测试过程中的注意事项和关键点，并分析了RESTful 
API、GraphQL
API、SOAP 
API等API渗透测试技术的特点。最后，通过案例讲述了
API安全工具的典型用法。
设计篇包括第6～9章。
第6章 API安全设计基础 介绍了API安全设计技术栈，并结合5A原
则和纵深防御原则，对不同的API安全关键技术做了简要讲述，帮助读
者初步构建API安全设计的整体概念。最后，以API安全中南北向、东
西向场景为例，分别做了导入性的案例分析。
第7章 
API身份认证 
从身份认证的概念入手，主要讲述了HTTP
Basic基本认证、AK/SK认证、Token认证等API身份认证技术，并重点
介绍了OpenID Connect身份认证协议及常见安全漏洞。最后，结合微软
Azure云、支付宝第三方应用公开文档，分析了API身份认证技术的安全
设计细节。
第8章 API授权与访问控制 结合授权与访问控制的基本概念，重点
讲述了OAuth 2.0协议、RBAC模型的相关流程与设计，分析了常见授权
与访问控制的安全漏洞成因。最后，结合百度开放云平台、微信公众平
台等第三方平台公开文档，分析了API授权与访问控制技术的安全设计
细节。
第9章 API消息保护 主要从传输层、应用层介绍了消息保护相关技
术及常见漏洞，如TLS、JWT、JOSE、Paseto技术等。最后，结合百度
智能小程序OpenCard、微信支付的官方文档，对消息保护过程进行了案
例分析。
治理篇包括第10～13章。
第10章 API安全与SDL 结合微软SDL模型，讲述了在API生命周期
安全管理中涉及的安全活动，并挑选出了关键的安全活动，从活动实
践、工具依赖两个方面展开叙述，为下一章做知识导入。
第11章 API安全与DevSecOps 从DevSecOps视角，重点介绍了API
安全在工具链和自动化管理上的实践，比如设置关键卡点、引入API网
关、接入WAF等。
第12章 API安全与API网关 从开源API安全产品的角度，分析API
网关的基本产品组成部分以及上下文关系，并对Kong API网关、WSO2
API管理平台做了重点介绍。最后，结合花椒直播Kong应用实践做了案
例分析。
第13章 API安全与数据隐私 从隐私保护的视角，结合数据安全的
生命周期，介绍了API安全中如何保护数据隐私，并结合Microsoft API
使用条款、京东商家开放平台API敏感信息处理两个案例，分析了API
安全中的数据隐私实践。
2.本书面向的读者