### 优化后的文本

#### 概述
本文档提供了对多个应用程序（如Nginx、Apache、Lighttpd、Bind、Memcached和Redis）的调用图分析。通过使用SVF进行初始调用图生成，并结合参数类型和地址获取技术，我们能够显著减少虚假边的数量，从而提高指针分析的精度。此外，我们还展示了在不同阶段保留的系统调用数量，并讨论了时间复杂度。

#### 调用图分析
对于考虑的应用程序，确定初始化阶段和服务阶段之间的过渡边界是直接的。以下是对每个应用程序的详细说明：

- **Nginx**：我们使用默认配置，启用所有默认模块。Nginx有三个函数可以作为服务阶段的过渡点：`ngx_worker_process_cycle` 和 `ngx_single_process_cycle` 用于处理客户端请求，而 `ngx_cache_manager_process_cycle` 负责缓存管理。每个函数都在其自己的单独线程中运行。
- **Apache Httpd**：我们使用静态编译的 vanilla 配置，包含 libapr 和 libapr-util 库以简化分析。我们的配置启用了所有默认模块。服务阶段的过渡边界是 `child_main` 函数。
- **Lighttpd**：具有事件驱动架构，不依赖于主次进程模型。它可以配置为多个进程，每个进程执行 `server_main_loop` 函数来处理客户端请求。
- **Bind**：是最广泛使用的DNS服务器之一，既可作为权威名称服务器，也可作为递归解析器。Bind使用多线程处理客户端请求，并在创建辅助线程后通过调用 `isc_app_ctxrun` 函数进入服务阶段。
- **Memcached 和 Redis**：都是内存键值数据库。类似于 Lighttpd，Memcached 也具有事件驱动架构，并执行 `worker_libevent` 函数来服务客户端请求。在 Redis 中，`aeMain` 函数作为事件处理循环。

表1显示了这些应用程序的复杂性差异，初始调用图（由SVF生成）中的边数从Lighttpd的3K到Bind的67.9K不等。通过应用基于参数类型和地址获取的修剪技术，指针分析的精度显著提高，将虚假边的数量减少了至少一半，特别是在最复杂的应用程序中。这使得我们能够在每个应用程序的服务阶段禁用更多的系统调用。例如，在Apache Httpd的情况下，仅使用SVF的结果无法移除诸如 `execve` 这样的安全敏感系统调用。

#### 分析时间
每个应用程序的复杂性影响了生成调用图所需的时间。表2显示了每一步生成调用图所需的时间分解，最后一列是整个工具链的总时间。我们对每个应用程序进行了10次编译，并报告平均时间。编译时间在所有应用程序中只有几秒钟的差异。分析时间从Lighttpd的三分钟到Bind的九小时以上不等。我们方法中最耗时的部分是运行Andersen的指针分析算法，这是预期的。虽然可以使用其他更高效和可扩展的算法（如Steensgaard的算法），但它们会牺牲一些精度。我们在第7节中讨论了其他可用于生成调用图的算法和工具。

#### 系统调用过滤
我们将我们的方法与库专业化 [12, 51] 进行比较，以展示应用时间专业化的好处。如表3所示，一旦进入长期服务阶段，时间专业化保留的系统调用比静态库专业化少。表4列出了通过库专业化和时间专业化移除的关键系统调用。

### 表格
#### 表1：应用程序的初始调用图边数
| 应用程序 | 初始调用图边数 |
|----------|-----------------|
| Bind     | 67.9K           |
| Memcached| 23.8K           |
| Redis    | 3.0K            |
| SVF      | 38.2K           |
| Nginx    | 7.6K            |
| Apache   | 33.8K           |

#### 表2：生成调用图所需时间（秒）
| 应用程序 | 参数类型 | 地址获取 | 总时间 |
|----------|----------|----------|--------|
| Bind     | 11.6K    | 11.5K    | 83     |
| Memcached| 12.4K    | 11.1K    | 17     |
| Redis    | 2.7K     | 2.7K     | 3      |
| Nginx    | 33.7K    | 33.3K    | 562    |
| Apache   | 6.2K     | 5.8K     | 3      |
| Lighttpd | 18.6K    | 18.6K    | 23     |

#### 表3：保留的系统调用数量
| 应用程序 | 库去膨胀 | 时间专业化 | 初始化 | 服务 |
|----------|-----------|--------------|---------|-------|
| Nginx    | 104       | 105          | 95      | 127   |
| Apache   | 99        | 99           | 99      | 90    |
| Lighttpd | 97        | 79           | 76      | 85    |
| Bind     | 84        | 84           | 82      | 82    |
| Memcached| 82        | 82           | 82      | 82    |
| Redis    | 82        | 82           | 82      | 82    |

#### 表4：移除的关键系统调用
| 系统调用 | Nginx (库) | Nginx (时间) | Apache (库) | Apache (时间) | Lighttpd (库) | Lighttpd (时间) | Bind (库) | Bind (时间) | Memcached (库) | Memcached (时间) | Redis (库) | Redis (时间) |
|------------|-------------|---------------|---------------|-----------------|----------------|------------------|-------------|--------------|-----------------|--------------------|-------------|----------------|
| clone      | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| execveat   | 0           | 0             | 0             | 0               | 0              | 0                | 0           | 0            | 0               | 0                  | 0           | 0              |
| execve     | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| fork       | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| ptrace     | 0           | 0             | 0             | 0               | 0              | 0                | 0           | 0            | 0               | 0                  | 0           | 0              |
| chmod      | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| mprotect   | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| setgid     | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| setreuid   | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| setuid     | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| accept4    | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| accept     | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| bind       | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| connect    | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| listen     | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| recvfrom   | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |
| socket     | 4           | 0             | 4             | 0               | 4              | 0                | 4           | 0            | 4               | 0                  | 4           | 0              |

希望这些改进使文档更加清晰、连贯和专业。如果有任何进一步的修改需求，请告知。