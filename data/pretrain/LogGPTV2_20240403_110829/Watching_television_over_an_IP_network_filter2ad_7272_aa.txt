title:Watching television over an IP network
author:Meeyoung Cha and
Pablo Rodriguez and
Jon Crowcroft and
Sue B. Moon and
Xavier Amatriain
Watching Television Over an IP Network
Meeyoung Cha
MPI-SWS
Saarbrücken, Germany
Pablo Rodriguez
Telefonica Research
Barcelona, Spain
Jon Crowcroft
University of Cambridge
Cambridge, UK
Sue Moon
KAIST
Daejeon, Korea
Xavier Amatriain
Telefonica Research
Barcelona, Spain
ABSTRACT
For half a century, television has been a dominant and per-
vasive mass media, driving many technological advances.
Despite its widespread usage and importance to emerging
applications, the ingrained TV viewing habits are not com-
pletely understood. This was primarily due to the diﬃculty
of instrumenting monitoring devices at individual homes at
a large scale. The recent boom of Internet TV (IPTV) has
enabled us to monitor the user behavior and network usage
of an entire network. Such analysis can provide a clearer
picture of how people watch TV and how the underlying
networks and systems can better adapt to future challenges.
In this paper, we present the ﬁrst analysis of IPTV work-
loads based on network traces from one of the world’s largest
IPTV systems. Our dataset captures the channel change ac-
tivities of 250,000 households over a six month period. We
characterize the properties of viewing sessions, channel pop-
ularity dynamics, geographical locality, and channel switch-
ing behaviors. We discuss implications of our ﬁndings on
networks and systems, including the support needed for fast
channel changes. Our data analysis of an operational IPTV
system has important implications on not only existing and
future IPTV systems, but also the design of the open In-
ternet TV distribution systems such as Joost and BBC’s
iPlayer that distribute television on the wider Internet.
Categories and Subject Descriptors
C.2.3 [Computer Systems Organization]: Computer-
Communication Networks—Network Operations;
C.4
[Computer Systems Organization]: Performance of
Systems—Measurement techniques
General Terms
Design, Measurement
Keywords
IPTV, channel switching behavior, network measurement
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
IMC’08, October 20–22, 2008, Vouliagmeni, Greece.
Copyright 2008 ACM 978-1-60558-334-1/08/10 ...$5.00.
INTRODUCTION
1.
Since the 1950’s, television has been a dominant and perva-
sive mass media; it is watched across all age groups and by
almost all countries in the world. Over the years, television
has transformed itself into a new media. The number of
channels has increased from a few free-to-air broadcasts to
several hundreds for cable, satellite, and Internet TV net-
works, that transmit more channels to each user. The video
signal itself has changed from black & white and color analog
to high-quality digital stream.
Many technological advances were produced by trying to
meet user needs and expectations in such a widespread me-
dia. For example, the large number of users that concur-
rently watch TV sparked the use of IP multicast by network
operators to provide Internet TV (IPTV) services with low
transmission costs. And now traditional media is converging
with newer Internet-based services (e.g., Joost [1], Zatoo [2],
Livestation [3], and BBC’s iPlayer [4]). In such a context,
IPTV is a promising starting point for research because it
opens up the door for many innovations while still keeping
its roots in the traditional TV watching paradigm.
Despite the widespread usage of television and its impor-
tance to emerging applications, the ingrained TV viewing
habits are not completely understood. Nielsen Media Re-
search [5] spearheads a long-standing research eﬀort to es-
timate TV viewing behaviors through monitoring and sur-
veys. However, due to the diﬃculty of instrumenting moni-
toring devices at individual homes, it is hard to monitor user
behavior across the entire network. Sophisticated methods
such as stratiﬁed sampling, systematic sampling, and cluster
sampling are used to ﬁnd a representative set of users and
extrapolate their behaviors to the entire population [6].
With the recent large-scale deployment of commercial
IPTV systems, the IPTV workloads add a new dimension to-
wards understanding TV viewing habits. The bidirectional
communication in IPTV systems gives more visibility on TV
viewing activities across an entire network. At the same
time, the large user base provides a clearer picture of how
people watch TV across diﬀerent groups of users (e.g., loca-
tion, content genre, etc).
In this paper, we present the ﬁrst in-depth analysis of
IPTV workloads using anonymized traces obtained from a
live IPTV network. Our trace spans a six-month period and
includes network activity information generated by roughly
a quarter million households1, an order magnitude larger
than that of Nielsen. We characterize several properties
1We are not able to diﬀerentiate individuals in the same
household sharing a TV.
of aggregate viewing sessions, channel popularity dynamics,
and content locality, which help content producers and ser-
vice providers create more appealing programs and a better
broadcasting schedule. We also identify the browsing pat-
terns of TV users to ﬁnd content and characterize the user
arrival and departure patterns across channels, which could
be used as an input to design future IPTV systems. Our
analysis focuses on aggregate user behavior to understand
the impact in the network, but does not characterize view-
ing patterns of individual users.
The highlights of our ﬁndings could be summarized as
follows:
1) Over 60% of channel switching events happen within 10
seconds, indicating user focus is very volatile.
2) Channel popularity changes widely over a day and popu-
larity of top channels is reinforced during peak times.
Popularity distribution is Zipf-like for popular chan-
nels and it decays fast for non-popular ones.
3) When watching TV, attention span is content genre-
dependent and ranges from 5 to 21 minutes. Daily
viewing patterns are also heavily dependent on genre.
4) We observe strong diﬀerences in the viewing patterns of
diﬀerent regions within a country. Across thousands
of local communities, the viewing patterns vary up to
20%.
5) Channel switching rates depend on program popularity;
people change channels less when watching popular
channels. Channel switching events are predominant
(over 60%) and can have a major impact in user’s ex-
perience as well as network performance.
6) The set of channels people watch (for longer than 1
minute) follows non-sequential channel numbers, while
62% of channel changes are sequential.
Our ﬁndings, based on non-sampled data, have several
important implications for the design of both future tele-
vision and the open Internet TV distribution systems.
In
particular, users’ channel selection process can have a ma-
jor impact on the network, as signiﬁcant channel changes
generate unnecessary network load. The design of a system
that supports fast channel switching and helps users ﬁnd the
right channel quickly is imperative to both improving end
user experience and minimizing the impact in the network.
There are also observe high spikes in departure patterns,
which could aﬀect the design of peer-to-peer (P2P) IPTV
systems. Finally, the users’ tastes are not as homogeneous
as one would expect over time, geography, and content, and
therefore, our ﬁndings can provide important input towards
designing eﬃcient IPTV channel recommendation systems.
The rest of the paper is organized as follows. We describe
the context and background of IPTV in §2. We introduce
the dataset and our assumptions in §3. §4 presents our char-
acterization of the viewing session, channel popularity, and
geographical locality. §5 focuses on the dynamics of chan-
nel switching behaviors. In §6, we discuss the implications
of our ﬁndings. We present related work in §7, and discuss
issues for further work and conclude in §8.
2. CONTEXT AND BACKGROUND
We introduce the IPTV services and its architecture, and
summarize the previous studies on TV habits.
2.1 IPTV market
The IPTV market has grown rapidly over the past few
years. As a whole, an estimated 13.2 million households
received IPTV services in 2007 worldwide and this number
is projected to grow 52.2% annually through 2012 [7]. Ma-
jor IPTV players are the telcos (telecommunication service
providers) that run national backbones. There are other
types of IPTV services, that are not based on high-speed re-
altime streaming but primarily on downloading movies and
TV programs before viewing (e.g., Apple TV [8], Vudu [9],
Amazon’s Unbox for Tivo [10]). Despite the huge success,
no large-scale studies have been published on the viewing
habits from IPTV services. In this paper, we study the in-
trinsic characteristics of what and how people watch TV
using traces collected from one IPTV live operation.
2.2 IPTV service architecture
Most
IPTV architecture is based on “walled-
gardened,” well-provisioned IP multicast infrastructure [11,
12]. Figure 1 illustrates a typical service architecture, where
customers subscribe to IPTV, IP phone, and Internet ac-
cess. A network device called Digital Subscriber Line Access
Multiplexer (DSLAM) aggregates traﬃc from hundreds to
thousands of users and connects to the high-speed IP back-
bone. For IPTV distribution, the TV head-end streams all
the live broadcast TV channels towards DSLAMs through
bandwidth-provisioned multicast trees in the backbone.
telco’s
TV  
head-end
Internet
ISP
IP backbone
DSLAM
customer 
premise
home
gateway
STB
TV
PC
phone
Figure 1: Telco’s IPTV service architecture
Due to limited access bandwidth at the last mile (i.e., from
a DSLAM to the home gateway at the customer’s premise),
not all TV channels are delivered to customers simultane-
ously. The IPTV network studied in this paper streams one
channel to each customer. However, multiple channels can
be delivered to support multiple TVs at home. The IPTV
set-top-box (STB) translates a channel switching event from
a user into a pair of Internet Group Management Protocol
(IGMP) messages: one to alert the user’s departure from
the multicast group of a channel and the other to join an-
other multicast group of a new channel. Upon receiving
IGMP messages, DSLAMs extend or prune multicast trees
dynamically towards the customers’ STBs.
2.3 Studies on TV viewing
The Nielsen Media Research provides a wide set of statis-
tics on TV viewing and program ratings based on a sample
of population [5]. The Nielsen technicians install metering
equipment on TV sets at sampled home, and record minute-
by-minute viewing of users. These records are collected on a
daily basis and mapped with the broadcast program sched-
ules to produce the Nielsen TV ratings. Their sampling
devices now gather traces from approximately 25,000 people
from 10,000 homes in the United States. One of their meter-
ing equipments called “peoplemeters” [13] assign a personal
viewing button for each family member in a sample house-
hold, which is matched to that person’s age and sex. This
is to identify viewing habits of speciﬁc groups (e.g., young
men in their 20s and 30s).
However, there are known issues with sampling methods
such as the ones used by Nielsen. Selected households are
not accurate in terms of demographic and regional weighing
and since viewers are aware of being monitored, it can lead
to bias in viewing habits. Furthermore, regardless of the
increasing incentives oﬀered by audience analysis companies,
over 30% of the selected households refuse to be part of the
studies [14]. There is no available information of how this
may bias the statistics.
In contrast, IPTV providers can
monitor behaviors of all the users closely and continuously
without having to install extra monitoring devices. However,
IPTV providers lack information about what the individual
members of each family are watching. Our study is also
limited by the absence of such information.
3. DATASET AND ASSUMPTIONS
We describe our methodology to collect and process logs and
discuss our assumptions. Throughout this paper, we refer to
individual households as users and use the term switching
to refer to the user action of changing channels.
3.1 Trace collection
We obtained a collection of IPTV channel switching logs
from an operational backbone provider. The trace spans six
months from May to October, 2007 and records the IGMP
messages on the channel changes of 250,000 users. The log
includes the following:
(cid:129) Timestamp in units of seconds
(cid:129) IP address of the DSLAM
(cid:129) IP address of the set-top-box (STB)
(cid:129) IP address of the multicast group (channel)
(cid:129) Multicast option of join or leave.
Some multicast groups are used to manage set-top-boxes
(e.g., bootstrapping and software upgrades). We pre-process
the log by excluding events of non-video multicast groups.
We then chronologically sort IGMP join messages. This al-
lows us to identify which program a user was watching, for
how long, and how one switched channels. Due to the scale
of our trace, we present results that are averaged across the
trace period or from a representative day.
There are 150 channels, which are grouped by the IPTV
provider as follows: First, there are national, free-to-air
broadcasted channels, which we refer to as free, and local
channels produced by the regional states. Then there are
audio, satellite, and pay-per-view (ppv) channels. The
rest are cable TV-like content including children’s programs
(kids), documentaries (docu), movies (cine), sports, news,
and music channels. We refer to the collection of comedy,
soaps, and reality shows of the remaining channels (e.g., Fox,
Paramount comedy) as mixed.
Our data does not capture other performance related met-
rics such as the network latency, jitter, and loss of the
IPTV streams. Also, at the time of data collection, the de-
ployed IPTV system did not support digital video recorders
(DVRs), either in the network or in the set-top-box, that
allow people to store favorite shows and view later. We
leave the studies of IP multicast throughput and behavioral
changes due to DVRs as future work.
3.2 Assumptions on user modes
Before we proceed our analysis and in order to better un-
derstand the user behavior, we will divide user activity into
three diﬀerent modes, which we will call surﬁng, view-
ing, and away. Our away mode indicates whether the user
has turned oﬀ the TV or the TV is left on without anyone
watching it. Our trace does not include information to dif-
ferentiate these two options, because most users leave the
IP set-top-box on and continue receiving multicast stream,
even when the television is oﬀ.
To deﬁne these three modes, we examine the channel hold-
ing times, i.e., the time interval between channel switchings.
Figure 2 shows the cumulative distribution of channel hold-
ing times, where the slope of the curve changes around 10
seconds and again around 1 hour, indicating natural divi-
sions of the times between these three diﬀerent modes. Al-
though these divisions may somehow look arbitrary, they
coincide very well with those divisions made by the tradi-
tional media research. For example, the Nielsen Media Re-
search demarcates viewing events by the minute [5]. MSK
Research in Korea uses 15 seconds for viewing period; TNS
Media in Korea considers the channel that a user spent most
time during every 1 minute as the viewed channel.
1
0.8
0.6
0.4
0.2
F
D
C
0
1 sec
Surfing
Viewing
Away
10 secs
1 min
1 hour
1 day
Channel holding time
Figure 2: Inferring three user modes; 60% of channel
holding times are shorter than 10 seconds
We set the viewing threshold (or viewing period) to 1
minute to be consistent with the Nielsen Research and to be
able to compare the data better. We set the away threshold
(or away period) to 1 hour. The most popular channels in
our IPTV system are free-to-air, which are paid by adver-
tisements, and therefore it is hard to ﬁnd any single program
longer than 1 hour with no interruptions. Some users may
watch TV for more than 1 hour without channel changes,
especially when watching movie channels or when checking
the Internet at the same time as watching a program. As we
do not have information about the detailed user activity, we
focus on the “active online viewers”—the users who denote
some activity during a 1 hour period.2
2Although we borrow the concept of “active viewer” from
traditional media research [15], we do not mean to imply
that our threshold-based method is a good measure of view-
ing activity.
To validate our ﬁndings, we have repeated most of our
analyses with diﬀerent thresholds. The results were not
sensitive to changes in the thresholds, for instance, from
1 minute to 5 minutes or from 1 hour to 2 hours. Due to
space limitations, we do not present those results.
4. HOW, WHEN, AND WHAT PEOPLE
WATCH
In this section, we characterize several properties of TV
viewing behaviors, in particular:
(cid:129) User session characteristics: when people watch TV
and what is their attention span across genre.
(cid:129) Channel popularity and dynamics: how user interests
are spread across channels over time.
(cid:129) Geographical locality: whether users in the same re-
gion or DSLAM show similar viewing patterns.