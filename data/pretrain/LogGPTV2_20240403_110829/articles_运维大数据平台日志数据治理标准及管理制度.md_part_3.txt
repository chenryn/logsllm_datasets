  4          uc04.\*\_中间件_描述     uc04.\*\_中间件_db2/was/tomcat/mysql_描述    中间件类告警
  5          uc05.\*\_应用_描述       uc05.\*\_应用_esb/xbus/ebus_描述             应用告警
  6          uc06.\*\_业务_描述       uc06.\*\_业务_核心/网银_描述                 业务告警
  7          uc07.\*\_支撑平台_描述   uc07.\*\_支撑平台_备份/监控/日志/自动_描述   支撑平台告警
  8          uc09.\*\_其他_描述                                                    暂未分类的告警
  -------------------------------------------------------------------------------------------------
示例:
UC0601_BPC_TRANS_BankTransWarn
UC0601_BPC_MS_KPI
UC0602_CBOD_TRANS\_
UC0301_NMON_CPU_UserCpuUseWarn
Tips:告警发送信息内容
  -----------------------------------------------------------------------------------
  **字段**            **字段释义**     **备注**
  ------------------- ---------------- ----------------------------------------------
  problem             故障/问题        描述故障/问题，可与告警标题相同
  hostname            告警主机或设备   告警涉及相关的设备或者节点
  timestamp           告警时间         告警触发的时间，扩展字段duration告警持续时间
  severity            告警等级         
  key                 告警项目         告警内容事项分类
  value               问题详情         告警详细信息，可包含spl语句及其执行结果
  eventid             事件ID           统一的事件id
  status              当前状态         告警处理状态
  persons concerned   相关人           需处理告警相关的人员或者人员组
  reserved field      预留字段         预留几个字段作为扩展
  -----------------------------------------------------------------------------------
### 仪表盘命名规则
APP0301_应用_ESB_TransInfoDashboard
+-----+----------------+-----------------------------+---------------+
| *   | **编号**       | **二级编号**                | **备注**      |
| *序 |                |                             |               |
| 号  |                |                             |               |
| **  |                |                             |               |
+=====+================+=============================+===============+
| 1   | inf            | inf.\*\_主机_xxx_描述       | 基础          |
|     | _基础设施_描述 |                             | 设施类仪表盘  |
|     |                | inf.\*\_网络设备_xxx_描述   |               |
|     |                |                             |               |
|     |                | inf.\*\_安全设备_xx_描述    |               |
+-----+----------------+-----------------------------+---------------+
| 2   | m              | mid.\*\_中间件\_            | 中            |
|     | id_中间件_描述 | was/tomcat/db2/mysql_描述   | 间件类仪表盘  |
+-----+----------------+-----------------------------+---------------+
| 3   | app_应用_描述  | app.                        | 业务          |
|     |                | \*\_应用_esb/xbus/ebus_描述 | 系统类仪表盘  |
+-----+----------------+-----------------------------+---------------+
| 4   | ptf            | ptf.\*\_支撑平              | 支撑          |
|     | _支撑平台_描述 | 台_备份/监控/日志/自动_描述 | 平台类仪表盘  |
+-----+----------------+-----------------------------+---------------+
| 5   | u              | udf_未分类/临时类_描述      | 暂未          |
|     | nd_未定义_描述 |                             | 分类的仪表盘  |
+-----+----------------+-----------------------------+---------------+
示例:
INF0601_主机_HOST_UserCpuUseDashboard
MID0401_中间件_DB2_PerformanceDashboard
APP0301_应用_ESB_TransInfoDashboard
### 报表命名规则
APP0301_应用_ESB_TransInfoReport
+-----+----------------+-----------------------------+---------------+
| *   | **编号**       | **二级编号**                | **备注**      |
| *序 |                |                             |               |
| 号  |                |                             |               |
| **  |                |                             |               |
+=====+================+=============================+===============+
| 1   | inf            | inf.\*\_主机_xxx_描述       | 基            |
|     | _基础设施_描述 |                             | 础设施类报表  |
|     |                | inf.\*\_网络设备_xxx_描述   |               |
|     |                |                             |               |
|     |                | inf.\*\_安全设备_xx_描述    |               |
+-----+----------------+-----------------------------+---------------+
| 2   | m              | mid.\*\_中间件\_            | 中间件类报表  |
|     | id_中间件_描述 | was/tomcat/db2/mysql_描述   |               |
+-----+----------------+-----------------------------+---------------+
| 3   | app_应用_描述  | app.                        | 业            |
|     |                | \*\_应用_esb/xbus/ebus_描述 | 务系统类报表  |
+-----+----------------+-----------------------------+---------------+
| 4   | ptf            | ptf.\*\_支撑平              | 支            |
|     | _支撑平台_描述 | 台_备份/监控/日志/自动_描述 | 撑平台类报表  |
+-----+----------------+-----------------------------+---------------+
| 5   | u              | udf_未分类/临时类_描述      | 暂            |
|     | nd_未定义_描述 |                             | 未分类的报表  |
+-----+----------------+-----------------------------+---------------+
示例:
INF0601_主机_HOST_UserCpuUseReport
MID0401_中间件_DB2_PerformanceReport
APP0301_应用_ESB_TransInfoReport
### 标准syslog类型日志规范
#### 适用范围
1)  网络安全设备：交换机，路由器，防火墙，F5，IDS，IPS，DDOS，WAF，应用网关等；
2)  操作系统：linux,aix,suse linux;
3)  基础资源：存储，光纤交换机，虚拟化平台等
#### 编码要求
日志文件采用统一编码字符集编码，如使用GBK（全称汉字内码扩展规范，GB即"国标"、K即"扩展"汉语拼音的第一个字母，英文名称：Chinese
Internal Code
Specification）。当然除了建议使用的GBK外，还有其他的各种字符集编码也可以使用如UTF-8，但是因字符集编码间存在兼容性问题，整个系统必须使用一种字符集编码，确保不会因使用多个字符集编码造成输出后日志文件乱码问题。
考虑到银行应用系统日志中中文字符比较多，故建议使用GBK字符集编码。
#### 日志格式要求
日志样例：
*\Oct 9 22:33:20 hlfedora auditd\[1787\]: The audit daemon is
exiting.*
*其中"\"是PRI部分，"Oct 9 22:33:20
hlfedora"是HEADER部分，"auditd\[1787\]: The audit daemon is
exiting."是MSG部分。*
要求：
1）Syslog类型需要遵循标准syslog协议RFC3164，至少包含："PRI"、"HEADER"、"MSG"三部分；
2）Header部分的时间戳为北京时区时间；
3）同种类型的设备或系统必须保存日志格式的一致；
4）同种类型的设备或系统必须保存日志编码保持一致；
5）日志在生产是不能进行归并；
6）日志的传输使用udp协议；
#### 配置模版
##### 操作系统
1.  linux：
-   /etc/hosts追加\*.\*.\*.\* loghost
-   /etc/syslog.conf或/etc/rsyslog.conf中添加
-   \*.\* \@loghost
2.  AIX
-   /etc/hosts追加\*.\*.\*.\* loghost
-   /etc/syslog.conf中添加
-   \*.info \@loghost
注意：aix需要配置errpt的信息输出到syslog，配置如下：
*1.创建配置文件/tmp/syslog.add*
*errnotify:*
*en_pid=0*
*en_name = \"syslog1\"*
*en_persistenceflg = 1*
*en_crcid=0*
*en_method = \"\`errpt -l \$1 \|tail -1 \|logger -t errpt -p
daemon.notice\`\"*
*2.导入odm使配置生效*
*Odmadd /tmp/syslog.add*
编码、轮询方式、命名方式、内容的要求：时间戳、
### 操作系统日志规范
#### Linux系统日志
本规范适用通用操作系统linux(centos6/7、redhat6/7等)日志规范，对于其它操作系统或者较低版本的系统类型，不在本规范适用范围内。
##### Linux操作系统日志
Linux系统常见采集的日志及其作用如下：
-   /var/log/secure：记录验证和授权方面的倍息，只要涉及账户和密码的程序都会记录，比如系统的登录、ssh的登录、su切换用户，sudo授权，甚至添加用户和修改用户密码都会记录在这个日志文件中。
-   /var/log/messages：它是核心系统日志文件，其中包含了系统启动时的引导信息，以及系统运行时的其他状态消息。I/O
    错误、网络错误和其他系统错误都会记录到此文件中。其他信息，比如某个人的身份切换为
    root，已经用户自定义安装软件的日志，也会在这里列出。
-   /var/log/cron：记录与系统定时任务相关的日志。
-   /var/log/wtmp(last命令)：永久记录所有用户的登陆、注销信息，同时记录系统的后动、重启、关机事件。同样，这个文件也是二进制文件.不能直接用Vi查看，而要使用last命令查看
-   /var/log/audi/audit.log：记录文件变化、记录用户对文件的读写，甚至记录系统调用，文件变化通知。
##### Linux操作系统日志关键字段
同一种系统，建议日志格式、时间戳保持一致，通过对linux系统主要几个日志分析，梳理出日志中关键的几个字段，包含**时间戳(timestamp)、syslog头部中日志级别(pri)、用户(user)、源IP(srcip)、目的IP(dstip)、操作/命令(action/cmd)及服务(program)**等关键字段。
syslog日志：通过对linux系统主要几个日志分析，梳理出日志中关键的几个字段，包含**syslog头部中日志级别(pri)、时间戳(timestamp)、主机名(hostname)、IP(ip)**等关键字段。
时间戳使用同一种格式：May 01 15:00:00.000
##### linux操作系统日志输出规则
linux操作系统日志输出匹配规则可参见如下:
![](media/image1.png){width="5.768055555555556in"
height="4.847222222222222in"}
#### aix系统日志
本规范适用aix操作系统日志规范，对于其它操作系统或者较低版本的系统类型，不在本规范适用范围内。
##### Aix操作系统日志