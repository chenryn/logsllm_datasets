18. 
19. TASK **\[**Gathering Facts**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
20. ok**:** **\[**cache**\]**
21. 
22. TASK **\[**command**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
23. changed**:** **\[**cache**\]**
24. 
25. TASK **\[**user**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
26. changed**:** **\[**cache**\]**
27. 
28. TASK **\[**command**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
29. changed**:** **\[**cache**\]**
30. 
31. PLAY RECAP
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
32. cache **:** ok**=4** changed**=3** unreachable**=0** failed**=0**
> 2、忽略：ignoring_errors:
> True(推荐使用这个，会有报错信息，告诉你错误忽略，继续执行下面的命令)
1.  **\[**root@ansible ansible**\]**\# vim user6**.**yml
2.  **\-\--**
3.  **-** hosts**:** cache
4.  remote_user**:** root
5.  vars**:**
6.  user**:** bb
7.  tasks**:**
8.  **-** shell**:** setenforce **0**
9.  ignore_errors**:** True
10. **-** user**:**
11. name**:** \"{{user}}\"
12. group**:** root
13. password**:** \"{{\'123456\' \| password_hash(\'sha512\')}}\"
14. **-** shell**:** chage **-**d **0** \"{{user}}\"
15. 
16. **\[**root@ansible ansible**\]**\# ansible**-**playbook
    > user6**.**yml
17. 
18. PLAY **\[**cache**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
19. 
20. TASK **\[**Gathering Facts**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
21. ok**:** **\[**cache**\]**
22. 
23. TASK **\[**command**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
24. fatal**:** **\[**cache**\]:** FAILED**!** **=\>**
    > **{**\"changed\"**:** **true,** \"cmd\"**:** \"setenforce 0\"**,**
    > \"delta\"**:** \"0:00:00.004198\"**,** \"end\"**:** \"2018-09-07
    > 11:08:14.936959\"**,** \"msg\"**:** \"non-zero return code\"**,**
    > \"rc\"**:** **1,** \"start\"**:** \"2018-09-07
    > 11:08:14.932761\"**,** \"stderr\"**:** \"setenforce: SELinux is
    > disabled\"**,** \"stderr_lines\"**:** **\[**\"setenforce: SELinux
    > is disabled\"**\],** \"stdout\"**:** \"\"**,**
    > \"stdout_lines\"**:** **\[\]}**
25. **\...**ignoring
26. 
27. TASK **\[**user**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
28. changed**:** **\[**cache**\]**
29. 
30. TASK **\[**command**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
31. changed**:** **\[**cache**\]**
32. 
33. PLAY RECAP
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
34. cache **:** ok**=4** changed**=3** unreachable**=0** failed**=0**
> **步骤二： handlers**
>
> 关注的资源发生变化时采取的操作
>
> 1\) 使用handlers来配置文件，重新载入配置文件让服务生效
1.  **\[**root@ansible ansible**\]**\# vim adhttp**.**yml
2.  **\-\--**
3.  **-** hosts**:** cache
4.  remote_user**:** root
5.  tasks**:**
6.  **-** copy**:**
7.  src**:** /root/httpd**.**conf
8.  dest**:** /etc/httpd**/**conf**/**httpd**.**conf
9.  owner**:** root
10. group**:** root
11. mode**:** **0644**
12. notify**:**
13. **-** restart httpd
14. handlers**:**
15. **-** name**:** restart httpd
16. service**:** name**=**httpd state**=**restarted
17. 
18. **\[**root@ansible ansible**\]**\# ansible**-**playbook
    > adhttp**.**yml
19. 
20. PLAY **\[**cache**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
21. 
22. TASK **\[**Gathering Facts**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
23. ok**:** **\[**cache**\]**
24. 
25. TASK **\[**copy**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
26. ok**:** **\[**cache**\]**
27. 
28. PLAY RECAP
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
29. cache **:** ok**=2** changed**=0** unreachable**=0** failed**=0**
30. 
31. **\[**root@ansible ansible**\]**\# ssh cache apachectl **-**t
32. Syntax OK
33. **\[**root@ansible ansible**\]**\# curl **192.168.1.56:8080**
34. hello world
> 2）使用脚本调用变量更改服务
1.  **\[**root@ansible ansible**\]**\# vim adhttp2**.**yml
2.  **\-\--**
3.  **-** hosts**:** cache
4.  remote_user**:** root
5.  vars**:**
6.  server**:** httpd
7.  tasks**:**
8.  **-** copy**:**
9.  src**:** /root/httpd**.**conf
10. dest**:** /etc/httpd**/**conf**/**httpd**.**conf
11. owner**:** root
12. group**:** root
13. mode**:** **0644**
14. notify**:**
15. **-** restart \"{{server}}\"
16. handlers**:**
17. **-** name**:** restart \"{{server}}\"
18. service**:** name**=**httpd state**=**restarted
19. **\[**root@ansible ansible**\]**\# ansible**-**playbook
    > adhttp2**.**yml
20. 
21. PLAY **\[**cache**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
22. 
23. TASK **\[**Gathering Facts**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
24. ok**:** **\[**cache**\]**
25. 
26. TASK **\[**copy**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
27. ok**:** **\[**cache**\]**
28. 
29. PLAY RECAP
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
30. cache **:** ok**=2** changed**=0** unreachable**=0** failed**=0**
31. 
32. **\[**root@ansible ansible**\]**\#
## 4 案例4：编写playbook
### 4.1 问题
> 本案例要求：
-   把所有监听端口是8080的Apache服务全部停止
### 4.2 步骤
> 实现此案例需要按照如下步骤进行。
>
> **步骤一：把监听端口是8080的Apache服务全部停止**
1.  **\[**root@ansible ansible**\]**\# vim ad**.**yml
2.  **\-\--**
3.  **-** hosts**:** cache
4.  remote_user**:** root
5.  tasks**:**
6.  **-** shell**:** netstat **-**atunlp **\|** awk \'{print
    > \$4}\'**\|** awk \'-F:\' \'{print \$2}\'
7.  register**:** result
8.  **-** service**:**
9.  name**:** httpd
10. state**:** stopped
11. **\[**root@ansible ansible**\]**\# ansible**-**playbook ad**.**yml
12. 
13. PLAY **\[**cache**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
14. 
15. TASK **\[**Gathering Facts**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
16. ok**:** **\[**cache**\]**
17. 
18. TASK **\[**command**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
19. changed**:** **\[**cache**\]**
20. 
21. TASK **\[**service**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
22. changed**:** **\[**cache**\]**
23. 
24. PLAY RECAP
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
25. cache **:** ok**=3** changed**=2** unreachable**=0** failed**=0**
> **步骤二：when条件判断**
>
> 1）当系统负载超过0.7时，则关掉httpd
1.  **\[**root@ansible ansible**\]**\# vim when**.**yml
2.  **\-\--**
3.  **-** hosts**:** cache
4.  remote_user**:** root
5.  tasks**:**
6.  **-** shell**:** uptime **\|** awk \'{printf(\"%.2f\",\$(NF-2))}\'
7.  register**:** result
8.  **-** service**:**
9.  name**:** httpd
10. state**:** stopped
11. when**:** result**.**stdout**\|**float **\>** **0.7**
12. 
13. **\[**root@ansible ansible**\]**\# ansible**-**playbook when**.**yml
14. 
15. PLAY **\[**cache**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
16. 
17. TASK **\[**Gathering Facts**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
18. ok**:** **\[**cache**\]**
19. 
20. TASK **\[**command**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
21. changed**:** **\[**cache**\]**
22. 
23. TASK **\[**service**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
24. changed**:** **\[**cache**\]**
25. 
26. PLAY RECAP
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
27. cache **:** ok**=3** changed**=2** unreachable**=0** failed**=0**
> **步骤三：with_items标准循环**
>
> 1）为不同用户定义不同组
1.  **\[**root@ansible ansible**\]**\# vim add**.**yml
2.  
3.  **\-\--**
4.  **-** hosts**:** web2
5.  remote_user**:** root
6.  tasks**:**
7.  **-** user**:**
8.  name**:** \"{{item.name}}\"
9.  group**:** \"{{item.group}}\"
10. password**:** \"{{\'123456\'\|password_hash(\'sha512\')}}\"
11. with_items**:**
12. **-** **{**name**:** \"aa\"**,** group**:** \"users\"**}**
13. **-** **{**name**:** \"bb\"**,** group**:** \"mail\" **}**
14. **-** **{**name**:** \"cc\"**,** group**:** \"wheel\"**}**
15. **-** **{**name**:** \"dd\"**,** group**:** \"root\" **}**
16. **\[**root@ansible ansible**\]**\# ansible**-**playbook add**.**yml
17. 
18. PLAY **\[**web2**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
19. 
20. TASK **\[**Gathering Facts**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
21. ok**:** **\[**web2**\]**
22. 
23. TASK **\[**user**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
24. changed**:** **\[**web2**\]** **=\>** **(**item**={**u\'group\'**:**
    > u\'users\'**,** u\'name\'**:** u\'aa\'**})**
25. changed**:** **\[**web2**\]** **=\>** **(**item**={**u\'group\'**:**
    > u\'mail\'**,** u\'name\'**:** u\'bb\'**})**
26. changed**:** **\[**web2**\]** **=\>** **(**item**={**u\'group\'**:**
    > u\'wheel\'**,** u\'name\'**:** u\'cc\'**})**
27. changed**:** **\[**web2**\]** **=\>** **(**item**={**u\'group\'**:**
    > u\'root\'**,** u\'name\'**:** u\'dd\'**})**
28. 
29. PLAY RECAP
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
30. web2 **:** ok**=2** changed**=1** unreachable**=0** failed**=0**
> 2）嵌套循环，循环添加多用户
1.  **\[**root@ansible ansible**\]**\# vim add1**.**yml
2.  **\-\--**
3.  **-** hosts**:** web2
4.  remote_user**:** root
5.  vars**:**
6.  un**:** **\[**a**,** b**,** c**\]**
7.  id**:** **\[1,** **2,** **3\]**
8.  tasks**:**
9.  **-** name**:** add users
10. shell**:** echo **{{**item**}}**
11. with_nested**:**
12. **-** \"{{un}}\"
13. **-** \"{{id}}\"
14. 
15. **\[**root@ansible ansible**\]**\# ansible**-**playbook add1**.**yml
16. 
17. PLAY **\[**web2**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
18. 
19. TASK **\[**Gathering Facts**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
20. ok**:** **\[**web2**\]**
21. 
22. TASK **\[**add users**\]**
    > **\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\***
23. changed**:** **\[**web2**\]** **=\>** **(**item**=\[**u\'a\'**,**
    > **1\])**
24. changed**:** **\[**web2**\]** **=\>** **(**item**=\[**u\'a\'**,**
    > **2\])**
25. changed**:** **\[**web2**\]** **=\>** **(**item**=\[**u\'a\'**,**
    > **3\])**
26. changed**:** **\[**web2**\]** **=\>** **(**item**=\[**u\'b\'**,**
    > **1\])**
27. changed**:** **\[**web2**\]** **=\>** **(**item**=\[**u\'b\'**,**
    > **2\])**
28. changed**:** **\[**web2**\]** **=\>** **(**item**=\[**u\'b\'**,**
    > **3\])**
29. changed**:** **\[**web2**\]** **=\>** **(**item**=\[**u\'c\'**,**
    > **1\])**
30. changed**:** **\[**web2**\]** **=\>** **(**item**=\[**u\'c\'**,**
    > **2\])**