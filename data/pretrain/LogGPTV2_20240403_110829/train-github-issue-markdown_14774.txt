**Migrated issue, originally created by Wichert Akkerman (@wichert)**
After upgrading from 0.9.4 to 0.9.5 or 0.9.6 I am suddenly seeing an error
appear in my tests:
    src/lets_lynk/factory.py:51: in factory
    >       return query.first()
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/query.py:2334: in first
    >           ret = list(self[0:1])
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/query.py:2201: in __getitem__
    >               return list(res)
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/query.py:2404: in __iter__
    >           self.session._autoflush()
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/session.py:1188: in _autoflush
    >               self.flush()
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/session.py:1907: in flush
    >           self._flush(objects)
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/session.py:2025: in _flush
    >               transaction.rollback(_capture_exception=True)
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/util/langhelpers.py:57: in __exit__
    >           compat.reraise(exc_type, exc_value, exc_tb)
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/session.py:1989: in _flush
    >               flush_context.execute()
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/unitofwork.py:350: in execute
    >       postsort_actions = self._generate_actions()
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/unitofwork.py:324: in _generate_actions
    >               for rec in cycles
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/unitofwork.py:324: in 
    >   for rec in cycles
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/unitofwork.py:541: in per_state_flush_actions
    >           dep.per_state_flush_actions(uow, states_for_prop, False)
    ../../Library/buildout/eggs/SQLAlchemy-0.9.5-py2.7-macosx-10.9-x86_64.egg/sqlalchemy/orm/dependency.py:166: in per_state_flush_actions
    >                                       else attributes.PASSIVE_NO_INITIALIZE)
    E           TypeError: get_all_pending() takes exactly 3 arguments (4 given)