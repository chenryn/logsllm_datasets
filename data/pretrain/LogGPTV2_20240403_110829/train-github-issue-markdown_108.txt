The expression `iterFunc({|| ret; })` does not return from the outer function. Given the lack of non-local control flow, it may be necessary to accept this limitation, as there is no elegant way to implement such returns in this context.