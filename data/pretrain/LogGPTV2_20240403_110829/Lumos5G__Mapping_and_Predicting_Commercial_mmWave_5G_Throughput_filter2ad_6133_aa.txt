title:Lumos5G: Mapping and Predicting Commercial mmWave 5G Throughput
author:Arvind Narayanan and
Eman Ramadan and
Rishabh Mehta and
Xinyue Hu and
Qingxu Liu and
Rostand A. K. Fezeu and
Udhaya Kumar Dayalan and
Saurabh Verma and
Peiqi Ji and
Tao Li and
Feng Qian and
Zhi-Li Zhang
Lumos5G: Mapping and Predicting
Commercial mmWave 5G Throughput
Arvind Narayanan, Eman Ramadan, Rishabh Mehta, Xinyue Hu, Qingxu Liu, Rostand A. K. Fezeu,
Udhaya Kumar Dayalan, Saurabh Verma, Peiqi Ji, Tao Li, Feng Qian, Zhi-Li Zhang
Department of Computer Science & Engineering, University of Minnesota – Twin Cities, U.S.A.
PI:EMAIL*
ABSTRACT
The emerging 5G services offer numerous new opportunities for net-
worked applications. In this study, we seek to answer two key ques-
tions: i) is the throughput of mmWave 5G predictable, and ii) can
we build “good” machine learning models for 5G throughput predic-
tion? To this end, we conduct a measurement study of commercial
mmWave 5G services in a major U.S. city, focusing on the through-
put as perceived by applications running on user equipment (UE).
Through extensive experiments and statistical analysis, we iden-
tify key UE-side factors that affect 5G performance and quantify
to what extent the 5G throughput can be predicted. We then pro-
pose Lumos5G – a composable machine learning (ML) framework
that judiciously considers features and their combinations, and ap-
ply state-of-the-art ML techniques for making context-aware 5G
throughput predictions. We demonstrate that our framework is able
to achieve 1.37× to 4.84× reduction in prediction error compared
to existing models. Our work can be viewed as a feasibility study
for building what we envisage as a dynamic 5G throughput map
(akin to Google traffic map). We believe this approach provides
opportunities and challenges in building future 5G-aware apps.
CCS CONCEPTS
• Networks → Mobile networks; Network measurement; Net-
work performance analysis; • General and reference → Mea-
surement; Estimation;
KEYWORDS
5G, machine learning, deep learning, throughput prediction,
mmWave, prediction, bandwidth estimation, Lumos5G
ACM Reference Format:
Arvind Narayanan, Eman Ramadan, Rishabh Mehta, Xinyue Hu, Qingxu
Liu, Rostand A. K. Fezeu, Udhaya Kumar Dayalan, Saurabh Verma, Peiqi Ji,
Tao Li, Feng Qian, Zhi-Li Zhang. 2020. Lumos5G: Mapping and Predicting
Commercial mmWave 5G Throughput. In ACM Internet Measurement Con-
ference (IMC ’20), October 27–29, 2020, Virtual Event, USA. ACM, New York,
NY, USA, 18 pages. https://doi.org/10.1145/3419394.3423629
*Corresponding authors: {arvind,eman,PI:EMAIL}, fengqian@umn.edu.
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than ACM
must be honored. Abstracting with credit is permitted. To copy otherwise, or republish,
to post on servers or to redistribute to lists, requires prior specific permission and/or a
fee. Request permissions from permissions@acm.org.
IMC ’20, October 27–29, 2020, Virtual Event, USA
© 2020 Association for Computing Machinery.
ACM ISBN 978-1-4503-8138-3/20/10...$15.00
https://doi.org/10.1145/3419394.3423629
1 INTRODUCTION
With new radio (NR) specifications (5G NR [19]) that cover a
wide spectrum of frequencies from low-band, to mid-band and
high-band with flexible waveform, the 5th generation (5G) cellular
technology is envisaged to offer a whole gamut of new services
from Ultra-Reliable Low-Latency Communication (URLLC) and
massive Machine Type Communication (mMTC) to enhanced
Mobile Broadband (eMBB) services1. Exciting new applications
enabled by these services include (Industrial) Internet-of-Things
(IoT), autonomous driving, Augmented/Virtual Reality (AR/VR),
and ultra-HD interactive video services.
2019 saw the commercial deployment of 5G services in US and
worldwide, with majority using 5G NR mid-band and low-band
frequencies and a few using 5G NR millimeter wave (mmWave)
high-band frequencies (e.g., Verizon in US). We are particularly
interested in mmWave 5G performance for several reasons. First
of all, the ultra-high bandwidth (theoretically up to 20 Gbps) of
mmWave 5G offers exciting new opportunities to support a variety
of emerging and future bandwidth-intensive applications expected of
the 5G eMBB service. On the other hand, from theoretical analysis,
simulation studies, controlled experiments and limited field testing,
it has been widely known that there are many technical challenges
facing mmWave radios (see, e.g., [31, 33, 39, 40, 51, 66, 68, 69]
and the references therein), making designing and managing 5G
services based on mmWave radio a daunting task. For example,
due to the directionality and limited range of mmWave radio and
its high sensitivity to obstructions (e.g., surrounding buildings,
moving bodies, foliage, etc.), establishing and maintaining a stable
communication link with user equipment (UE) can be difficult,
especially when the UE is moving around [17].
Indeed, our very recent measurement study of commercial 5G
services in US [47] has shown both the exciting new opportunities
offered by mmWave 5G but also the difficult challenges involved:
(i) commercial mmWave 5G services can offer ultra-high bandwidth
(up to 2 Gbps) which makes it possible to support new classes of
applications with high bandwidth requirements; (ii) the challenges
lie in that 5G performance can fluctuate wildly over time and from
one location to another, reaching as high as 2 Gbps but sometimes
quickly dropping below that of 4G or to nearly zero (5G “dead
zones”). For illustrative purposes, Figs. 1 and 2 summarize these
1In terms of bandwidth, 5G low-band offers similar capacity as 4G (less than 100 Mbps).
5G mid-band offers bandwidth usually in the range of 100–400 Mbps similar to
that of advanced 4G LTE. Both low-band and mid-band radio signals are largely
omni-directional, thus providing large coverage areas without requiring line-of-sight
(LoS) to user equipment (UE). However, with flexible waveform and numerology, they
are expected to be more reliable and capable of providing 1ms latency to support URLLC
and mMTC services. URLLC and mMTC, together with eMBB supported primarily by
5G NR high-band, form the three new 5G services as envisioned by the ITU-R.
IMC ’20, October 27–29, 2020, Virtual Event, USA
Arvind Narayanan, Eman Ramadan, Rishabh Mehta, Xinyue Hu, et al.
Figure 1: Walking in a Loop.
Figure 2: Driving in a Loop.
observations. Given these findings, it is therefore natural to ask:
what new tools and mechanisms are needed to help emerging eMBB
applications to effectively leverage the ultra-high bandwidth offered
by 5G while mitigating its challenges, thus making them 5G-aware?
In this paper, we conduct a systematic measurement study to
characterize and map mmWave 5G throughput performance, with
the goal to develop effective tools for predicting 5G throughput. As
further articulated in §2, we focus on 5G throughput measurement
(as opposed to, e.g., “low-level” signal strength measurement) as this
is what matters to emerging applications such as 4K/8K, 360° and
volumetric video streaming, cloud gaming, AR/VR, which require
ultra-high bandwidth. Tools for throughput predictions [20, 26,
44, 45, 54, 58, 63, 70] are essential to these applications, e.g., in
aiding them in bandwidth adaptation to maximize user quality-of-
experience (QoE). The diverse impact factors and their complex
interplay on 5G performance also call for data-driven, machine
learning (ML) tools for throughput prediction.
Our work can be viewed as a “feasibility” study for building
what we envisage as a (dynamic) 5G throughput map (akin to a
Google traffic map) that not only depicts 5G coverage but also
feeds variegated throughput performance information to mobile
applications over time; furthermore, it captures and incorporates
key impacting factors specific to a user’s environs and context
in the form of downloadable ML models. Such a throughput map
augmented with the ML models can then aid a 5G-aware application
to, e.g., select the initial bitrate for video streaming [27, 62, 70],
and predict future throughput for rate adaptation (see §2.2 for
potential use cases). We recognize that 5G deployment is still in
its infancy, the measurement findings and tools developed in this
study will need to be revised and evolved over time. Nonetheless we
believe that this is also the perfect time to consider the design and
development of tools that can be incorporated in user-side systems
and apps, making them 5G-aware. While we focus on the user side,
our findings and ML models can also help 5G carriers in improving
their 5G services (see §8 for details).
Key Contributions and Roadmap: In the following we
summarize the key contributions of our work, which also serve as
a roadmap to the technical part of the paper.
• Due to lack of publicly available tools/APIs for 5G
measurements, we develop our own 5G service monitoring and
throughput measurement platform (§3.1). We use our tools to
conduct extensive, and repeated on-field experiments for 5G
throughput data collection in a large U.S. city. While ensuring data
quality remains high, we carefully design systematic measurement
methodologies to measure 5G throughput under various settings
(indoor/outdoor, mobility scenarios, etc.). After cleaning, our dataset
contains throughput samples captured by walking over 331 km and
driving over 132 km (§3.2), part of which have been made publicly
available on our website: https://lumos5g.umn.edu.
• To understand their potential impact on 5G throughput,
we identify several UE-side factors and decompose them into
quantifiable factors. In §4, we conduct numerous empirical and
statistical analysis over the factors individually to understand their
impact on 5G throughput behavior and its predictability. We find
that 5G throughput performance is driven by a wide spectrum of
factors and their interplay that are much more complex compared
to traditional cellular technologies such as 3G and 4G.
• Based on our measurement findings, we develop Lumos5G – a
holistic and robust ML framework that predicts 5G throughput both
qualitatively (via classification) and quantitatively (via regression).
Our framework is “composable” in that it judiciously considers
different feature groups (geographic location, mobility, tower-based,
radio connection) as well as their combinations. This is to our
knowledge the first study taking a look at the predictability of
commercial 5G performance using real-world data.
• Using Lumos5G, we conduct extensive evaluations and
demonstrate that it achieves accurate and reliable 5G throughput
prediction, and that using 5G-specific features significantly
improves the prediction results (§6.1-§6.2). Powered by judicious
feature and ML model selection, our framework achieves an
overall weighted average F1 score of up to 0.96 (with three
prediction classes), and 1.37× to 4.84× reduction in throughput
prediction error compared to existing approaches designed for
3G/4G (§6.3-§7). Finally, we reveal other interesting research
opportunities consequential to our work (§8).
2 BACKGROUND & OVERVIEW
We first provide a quick background on the current commercially
available 5G services and their measurement. We then present the
rationale for our work and potential use cases.
2.1 5G Deployment & Measurement
Today’s commercial 5G services are all deployed in the so-called
NSA (non-standalone) mode: namely, 5G NR is deployed with its
own antennas, but shares the 4G packet core infrastructure. As
such, 5G “towers” are either co-located with or are close to 4G
towers. With NSA, much of the touted 5G benefits come from
5G NR. 5G NR encompasses a wide spectrum from low-band (24 GHz) frequencies.
Low-band and mid-band 5G form the basis of most of today’s initial
5G service deployment in the world – they offer only moderately
higher bandwidth than existing 4G LTE or advanced LTE services.
Lumos5G: Mapping and Predicting Commercial mmWave 5G Throughput
IMC ’20, October 27–29, 2020, Virtual Event, USA
In contrast, high-band 5G – which covers the mmWave frequency
bands – offers bandwidth as high as 20 Gbps theoretically, but
considerably lower bandwidth in practice2.
The commercial deployment of 5G services offers a new oppor-
tunity to conduct “in the field" measurement of 5G performance,
especially mmWave 5G that is known to be highly sensitive to
various radio signal quality impairments and environmental fac-
tors [17, 31, 33, 39, 40, 66]. Our recent work [47] conducted a mea-
surement study of commercial 5G deployment, including mid-band
and mmWave 5G services offered by several carriers in the US.
It shows that commercial mmWave 5G services can deliver up
to 2 Gbps bandwidth per UE, but their performance is subject to
various environmental and other factors.
Building upon [47] which provides a broad, general measure-
ment study of 5G performance from various aspects, this paper
focuses on understanding the key user-side factors (i.e., features)
affecting mmWave 5G throughput performance, and how to build
good machine learning models that can utilize such user-side fea-
tures to predict 5G throughput performance. Hereafter when not
explicitly stated, 5G refers to mmWave 5G. To help illustrate and
motivate the problems we study in this paper, Figs. 1 & 2 show two
sample 5G throughput traces under two mobility scenarios from
our measurement study. We see that 5G throughput performance
can vary widely and wildly from as high as 2 Gbps to as low as close
to 0; user mobility and obstructions also create frequent handoffs
(see §4 for further discussion). Such high variability poses many
challenges for new applications that rely on the ultra-high band-
width offered by mmWave 5G eMBB services. Our study therefore
focuses on characterizing and mapping 5G throughput performance,
with the goal of identifying the key (especially, UE-side) impact
factors and quantifying the (short- & long-term) predictability of
5G throughput performance via repeated experiments.
2.2 Case for Mapping & Predicting mmWave
5G Throughput
As the rationale for our work, we answer two key questions: (i) why
5G throughput mapping is important; and (ii) why take an ML-
based approach for 5G throughput prediction.
Figure 3: 5G Performance.
(a) By Carrier [13].
(b) 5G Coverage Map. (c) 5G Throughput Map.
• Why 5G Throughput Mapping? Signal strength, spectrum
and channel state measurements have been widely studied in
wireless and cellular networks, many from the perspective of
a cellular provider, e.g., for 3G/4G cellular channel scheduling.
2High-band (especially mmWave) 5G radio signals are known to be highly directional,
require line-of-sight (LoS), and have limited ranges. Particularly, they are sensitive
to the environment and can be blocked by concrete structures, tinted glass, human
bodies, and other moving objects [47, 66].
Several studies have shown that even in the case of 3G/4G