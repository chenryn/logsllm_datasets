Formulae 1 and 2: Recall from Section 5 that we had two
formulae for estimating the Lp norms, i.e.,
• Formula 1:
• Formula 2:
L( (cid:6)O)p+L( (cid:6)D)p−L( (cid:6)O− (cid:6)D)p
2
L( (cid:6)O+ (cid:6)D)p−L( (cid:6)O− (cid:6)D)p
2p
”1/p
”1/p
.
“
“
We ﬁrst compare the experimental results for these two
formulae. The cumulative density plots for the error of our
algorithm using these two formulae for Trace 1 are given in
Figure 2. We observe that both formulae have reasonably
small and comparable error values. This observation also
holds on all ﬁve minute traces and hence we ﬁx and use
Formula 1 for the rest of our evaluation.
Varying number of buckets: We study the eﬀect of vary-
ing the number of buckets on the performance of our al-
gorithm. Keeping all other parameters ﬁxed at reasonable
values, we varied the number of buckets between k = 5000
and k = 80000, with increasing factors of two. Figure 3
shows the results of Trace 2. We observe that increasing the
number of buckets increases the accuracy (as expected), but
with diminishing returns.
5The results on other ﬁve minute traces are very similar.
We omit them here for sake of brevity.
s
t
n
e
m
i
r
e
p
x
e
f
o
n
o
i
t
c
a
r
F
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
Formula 1
Formula 2
 0
 0.05
 0.1
 0.15
Relative Error
 0.2
 0.25
s
t
n
e
m
i
r
e
p
x
e
f
o
n
o
i
t
c
a
r
F
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
Five minutes
One hour
 0
 0.05
 0.1
 0.15
Relative Error
 0.2
 0.25
Figure 2: Comparing Formulae 1 and 2 (Trace 1)
Figure 5: Comparing Traces 1 and 2
s
t
n
e
m
i
r
e
p
x
e
f
o
n
o
i
t
c
a
r
F
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
k = 5000
k = 10000
k = 20000
k = 40000
k = 80000
 0
 0.1  0.2  0.3  0.4  0.5  0.6  0.7
Relative Error
r
o
r
r
e
e
v
i
t
l
a
e
R
 0.11
 0.1
 0.09
 0.08
 0.07
 0.06
 0.05
 0.04
 0.03
 0.02
 0.01
 0
 5
 10  15  20  25  30  35  40
Ratio of OD traffic to ingress traffic (%)
Figure 3: Varying numbers of buckets (Trace 2)
Figure 6: Varying fraction of traﬃc from ingress
s
t
n
e
m
i
r
e
p
x
e
f
o
n
o
i
t
c
a
r
F
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
P = 0.01
P = 0.001
P =0.0001
 0
 0.05
 0.1
 0.15
 0.2
 0.25
 0.3
Relative Error
r
o
r
r
e
e
v
i
t
l
a
e
R
 0.11
 0.1
 0.09
 0.08
 0.07
 0.06
 0.05
 0.04
 0.03
 0.02
 0  2  4  6  8  10  12  14  16  18  20  22
Ratio of OD traffic to egress traffic (%)
Figure 4: Varying sampling rates (Trace 2)
Figure 7: Varying fraction of traﬃc from egress
Varying sampling rate: Recall from Section 4 that we
separate the computation for the large (elephant) ﬂows by
means of Sample and Hold. By varying the sampling rate
we can increase or decrease the probability with which we
will sample ﬂows that are above our elephant threshold (i.e.,
ﬂows of size greater than 1000). We found that the sampling
rate did not aﬀect the performance of our algorithm signiﬁ-
cantly. Figure 4 shows that, even with a small sampling rate
(e.g., 1 in 1000), the elephant detection mechanism allows
good overall performance for our algorithm.
Varying trace length: Figure 5 compares the cumulative
density plots of the error for the ﬁve minute, Trace 2, and
the one hour, Trace 1, which have the same origin and des-
tination nodes and similar traﬃc distributions. We observe
that, even though there is an order of magnitude diﬀerence
in the size of these traces, not only does the error remain
comparable, but also the distribution of the error. Our ex-
periments on diﬀerent trace sizes show that the algorithm
is robust to changes in the size of the trace as long as the
fraction of cross-traﬃc is held constant, as discussed next.
Varying cross traﬃc: We study the variation of the ac-
curacy of our algorithm based on what fraction of the total
ﬂow (from the source) that particular OD ﬂow comprises.
For OD ﬂows that are very small in comparison to the vol-
umes of traﬃc at the origin (and destination) we expect the
performance of our algorithm to degrade since the variation
of the cross traﬃc will begin to dominate the error of our
estimator. This is demonstrated in Figures 6 and 7 for
various fractions of the ingress and egress traﬃc (using the
average of 100 runs), respectively. The complete c.d.f.
for
the ingress traﬃc is given for reference in Figure 8.
Computing Actual Entropy: We evaluate the perfor-
mance of our algorithm in computing the actual entropy (as
opposed to the entropy norm) of the OD ﬂows. This compu-
tation has additional error since we need to make use of our
sketch to estimate the total volume of traﬃc between the
s
t
n
e
m
i
r
e
p
x
e
f
o
n
o
i
t
c
a
r
F
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
35.5%
14.5%