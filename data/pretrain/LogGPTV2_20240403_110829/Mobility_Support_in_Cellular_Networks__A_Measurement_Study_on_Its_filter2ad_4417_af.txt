in A3, and A5 allows for more than 20 options (see §4.1). They
may prevent or delay handoffs, thus impeding performance on the
go. Second, operators should check measurement and decision pa-
rameters with nontrivial gaps for idle-state handoff configurations
(see §4.2). They imply either premature measurements or overdue
handoff decisions. Consequently, they may unnecessarily drain
the battery at the mobile device. Third, operators should look into
their priority settings carefully. Our study has identified several
real-world instances of losing 4G access, despite the availability of
local 4G cells, due to improper priority settings by operators. In
fact, when performing infrastructure upgrades or reconfiguring
parameters (more than priorities), operators should consider not
only their impacts on the updated cells, but also those that are
not upgraded but still affected (e.g., cells in proximity, see §5.4.2).
Fourth, operators should take configurations into account when
troubleshooting the user complaint tickets on poor performance
Device side improvement for users We believe that mobile
users can benefit from our study along two dimensions by utilizing
device-side power.
Our key finding is that, given the observable configurations,
it is feasible to predict handoffs at runtime at the mobile device.
Using our tool, the mobile devices can readily collect runtime con-
figuration parameters, and use them plus realtime measurements
to forecast whether and how a handoff will occur in the near fu-
ture. Moreover, such predictions can be highly accurate, given the
common handoff policies being used. Such accurate predictions sup-
ply reliable heuristics at runtime to optimize TCP and application
performances over cellular networks.
Mobile devices can further detect improper configurations using
the information collected from handoff configurations. They can
leverage their device-side capabilities to eliminate or alleviate neg-
ative impact (e.g., reducing unnecessary measurements, triggering
timely handoffs, and relaxing strict requirements on radio signal
quality).
• Automated tool for configuration verification
Research community. Our study so far helps to understand how
operators manage handoffs and design their policies. It also partially
explains why operators design their handoffs in the current forms.
However, a number of research issues remain for further efforts.
Given the
sheer scale of cells and configuration settings, we thus believe
an automated solution to configuration verification is a viable ap-
proach. Our study sheds lights on how to design such an automated
tool. We believe that such a tool is feasible, if we leverage runtime
configurations collected from the device, the formal models for
handoffs specified by the 3GPP standards, the verification tech-
niques borrowed from programming language and AI communities,
and the learning algorithm to be adapted from the machine learning
and AI communities. Moreover, given such configuration checks,
we can further conduct a cross-layer study that spans the low-level
cellular protocol stack to the higher-level TCP/IP suite.
• What are the goals for operators to achieve in their policy-based
handoffs? Policy-based practice is not for performance only. As we
have learned from the Internet BGP case, policy design is mainly
shaped by nontechnical issues. However, a big difference exists
for the handoff case. Handoffs are mainly for a single carrier net-
work, without crossing administration domains. They are invoked
for diverse (even conflicting) goals such as selecting the best ra-
dio signal quality, boosting high-speed access, sustaining seamless
data/voice support, balancing loads, lowering operational cost, etc..
Note that not all configurations are exposed to us. The observed
configurations are mainly based on radio signal evaluation tuned
by cell priorities. Our study shows that it might be viable to first
examine their policies on radio signal quality, and then extend
to non-radio components. Through relaxing their radio signal re-
quirements (see the A5 examples in §4.1) and comparing with other
configurations, we can possibly infer how handoff policies vary,
reason the expected impacts of such changes and learn the handoff
policies.
158
 0 0.2 0.4 0.6 0.8 1ATT-LTEATT-WCDMASprint-EVDOATT-GSMSimpson IndexMobility Support in Cellular Networks
IMC ’18, October 31-November 2, 2018, Boston, MA, USA
• Will handoff configurations realize the policies and goals as
expected? From configurations we learn that a handoff will take
place under what conditions and go to which cell, as well as its
required time and overhead. As shown in our measurements §4.2,
we may infer their impact on intra-freq and non intra-freq mea-
surements when the threshold reduces from 62dB to 42dB. From
performance assessments, we can associate these configurations
with the perceived configurations. Through large-scale learning,
we can quantify their performance impacts and examine whether
they induce unnecessary performance penalties.
• Will handoff configurations introduce unexpected troubles? Hand-
offs are distributed operations in nature. While single-cell config-
urations are well justified, there is no guarantee for no conflicts
among multiple cells. Our prior studies [22, 27] have shown that
misconfigurations may compromise the structural properties of
stability and reachability. This study reveals rich diversity, which
is prone to configuration conflicts and misconfigurations.
• Implications to 5G
The identified results are likely appli-
cable to 5G. 5G will continue its policy-based handoff management.
Following the RAT evolution, the upcoming 5G will employ even
more configuration options, with the adoption of new radio access
technology and support for extremely high speed (e.g., at aircrafts).
7 RELATED WORK
There is no work that characterizes real-world handoff configura-
tions and investigates their implications, except our preliminary
studies [22, 24, 27]. Our prior results have disclosed the problems
of handoff instability [22, 24] and unreachability [27] due to mis-
configurations or conflicting configurations. Those studies conduct
theoretical analysis (reasoning) to prove the existence and their
conditions of unstable handoffs or unreachable cells, use a small
dataset of two US carriers in two cities to validate the possibilities
in real-world and assess their performance impacts. As a matter of
fact, this measurement study is motivated by them but it focuses
on characterizing configurations at a much larger global-scale (30
carriers, 31,000+ cells). Moreover, we assess the impacts of ’nor-
mal’ configurations, rather than problematic configurations only,
on handoff quality and user performance. We next compare most
relevant work in two categories, which may also benefit from our
measurement study.
Performance in mobility. Cellular data performance on the go
has been measured, analyzed and enhanced in the literature [16–
18, 20, 21, 25, 26, 29]. They look into TCP and application layers only.
They show data performance indeed declines due to handoffs [20,
21, 25] and propose enhanced TCP solutions for cellular networks
(e.g., recent advances in [16, 18, 26, 29] and a survey in [17]). Our
study takes a new perspective into the underlying handoff process
directly and investigates performance impacts induced by diverse
configurations. It can offer explicit handoff information, not only on
its consequence, but also the reason and procedure. This potentially
help higher TCP/application layers deal with handoffs in a better
way.
Handoff parameter re-design. Several studies aim to enhance
mobility support in cellular networks through handoff parameter
optimization [14, 15, 28]. [14] proposes to locate optimal event pa-
rameters for 2G-3G handoffs; [15, 28] advocate to integrate user
159
objectives into handoff decision strategies and introduce new pa-
rameters. However, they use a simplistic model which aims to
optimize one objective function, but do not take into account real
handoff mechanisms (distributed handoffs, policies and configura-
tions). Our work can help solve handoff configuration optimization
in a more realistic setting.
8 CONCLUSION
In this work, we conduct a sizable measurement study on policy-
based handoff configurations from 30 mobile carriers in the US
and globally. To this end, we design a new device-centric tool,
MMLab, which collects runtime handoff configurations without the
assistance from operators.
We exhibits three main points from our analysis. 1) Extremely
complex and diverse configurations are deployed by operators in
reality. 2) The setting of handoff configuration values affect data
performance and user experience when moving. 3) Such diverse
configurations lead to unexpected negative compound effect to
performance and efficiency. Our study further sheds lights on how
the operators, the mobile user at the device side, and the research
community can move forward to refine the handoff management
in 4G/5G systems, which are the only large-scale networks with
ubiquitous mobility support.
ACKNOWLEDGMENTS
We greatly appreciate our shepherd Dr. Craig Partridge and anony-
mous reviewers for their constructive comments. We are grateful
to all volunteers for their help with running experiments and data
collection. This work was partially supported by NSF Grants: CNS-
1750953, CNS-1749049.
REFERENCES
[1] 2017. The move to Band 30 causing issues with other bands? https://forums.att.
com/t5/Apple/The-move-to-Band-30-causing-issues-with-other-bands/td-p/
5267142.
[2] 2018. Continuous speed test. http://backup1.startrinity.com/InternetQuality/
ContinuousBandwidthTester.aspx.
[3] 2018. Frequency Calculator. http://niviuk.free.fr/lte_band.php.
[4] 2018. What are AT&T’s 4G LTE bands in 2018? https://forums.att.com/t5/
Phone-Device-Upgrades/What-are-AT-amp-T-s-4G-LTE-bands-in-2018/td-p/
5359265.
[5] 3GPP. 2006. TS25.331: Radio Resource Control (RRC). http://www.3gpp.org/ftp/
Specs/html-info/25331.htm
[6] 3GPP. 2011. TS23.009: Handover Procedures.
[7] 3GPP. 2012. TS25.304: User Equipment (UE) Procedures in Idle Mode and Proce-
dures for Cell Reselection in Connected Mode.
[8] 3GPP. 2012. TS36.331: E-UTRA; Radio Resource Control (RRC).
[9] 3GPP. 2015. TS36.304: E-UTRA; User Equipment Procedures in Idle Mode.
[10] 3GPP. 2017. TS25.133: Requirements for support of radio resource management
[14] Christopher Brunner, Andrea Garavaglia, Mukesh Mittal, Mohit Narang, and
Jose Vargas Bautista. 2006. Inter-system Handover Parameter Optimization. In
VTC Fall.
[15] Dhanaraj Cheelu, M Rajasekhara Babu, P Venkatakrishna, and XZ Gao. 2017.
User preferences and expert opinions based vertical handoff decision strategy
with the inclusion of cost parameter for 4G networks. International Journal of
Autonomous and Adaptive Communications Systems 10, 3 (2017), 261–278.
[16] Yung-Chih Chen, Yeon-sup Lim, Richard J Gibbens, Erich M Nahum, Ramin
Khalili, and Don Towsley. 2013. A measurement-based study of multipath tcp
[11] 3GPP. 2017. TS36.101: E-UTRA; User Equipment (UE) radio transmission and
[12] 3GPP. 2017. TS36.133: E-UTRA; Requirements for support of radio resource
[13] A. Skrondal B. S. Everitt. 2011. The Cambridge dictionary of statistics. Cambridge
(FDD).
reception.
management.
University Press.
IMC ’18, October 31-November 2, 2018, Boston, MA, USA
H. Deng et al.
performance over wireless networks. In Proceedings of the 2013 conference on
Internet measurement conference. ACM, 455–468.
[17] Hala Elaarag. 2002. Improving TCP performance over mobile networks. ACM
Computing Surveys (CSUR) 34, 3 (2002), 357–374.
[18] Prateesh Goyal, Mohammad Alizadeh, and Hari Balakrishnan. 2017. Rethink-
ing Congestion Control for Cellular Networks. In Proceedings of the 16th ACM
Workshop on Hot Topics in Networks (HotNets-XVI). 29–35.
[19] M. O. Hill. 1973. Diversity and Evenness: A Unifying Notation and Its Conse-
quences. In Ecology. Ecological Society of America, 427–432.
[20] Keon Jang, Mongnam Han, Soohyun Cho, Hyung-Keun Ryu, Jaehwa Lee,
Yeongseok Lee, and Sue B Moon. 2009. 3G and 3.5 G wireless network per-
formance measured from moving cars and high-speed trains. In Proceedings of
the 1st ACM workshop on Mobile internet through cellular networks. ACM, 19–24.
[21] Li Li, Ke Xu, Dan Wang, Chunyi Peng, Qingyang Xiao, and Rashid Mijumbi. 2015.
A Measurement Study on TCP Behaviors in HSPA+ Networks on High-speed
Rails. In INFOCOM.
[22] Yuanjie Li, Haotian Deng, Jiayao Li, Chunyi Peng, and Songwu Lu. 2016. Instabil-
ity in Distributed Mobility Management: Revisiting Configuration Management
in 3G/4G Mobile Networks. In Proceedings of the 2016 ACM SIGMETRICS Inter-
national Conference on Measurement and Modeling of Computer Science. ACM,
261–272.
[23] Yuanjie Li, Chunyi Peng, Zengwen Yuan, Jiayao Li, Haotian Deng, and Tao Wang.
2016. MobileInsight: Extracting and Analyzing Cellular Network Information on
Smartphones. In ACM MobiCom.
Mobility Management in Cellular Networks. In HotMobile.
[25] Ruben Merz, Daniel Wenger, Damiano Scanferla, and Stefan Mauron. 2014. Per-
formance of LTE in a high-velocity environment: A measurement study. In
Proceedings of the 4th workshop on All things cellular: operations, applications, &
challenges. ACM, 47–52.
[26] Ashkan Nikravesh, Yihua Guo, Feng Qian, Z Morley Mao, and Subhabrata Sen.
2016. An in-depth understanding of multipath TCP on mobile devices: Mea-
surement and system design. In Proceedings of the 22nd Annual International
Conference on Mobile Computing and Networking. ACM, 189–201.
[27] Chunyi Peng and Yuanjie Li. 2016. Demystify Undesired Handoff in Cellular
Networks. In Computer Communication and Networks (ICCCN), 2016 25th Inter-
national Conference on. IEEE, 1–9.
[28] Li Qiang, Jie Li, and Corinne Touati. 2017. A user centered multi-objective handoff
scheme for hybrid 5G environments. IEEE Transactions on Emerging Topics in
Computing 5, 3 (2017), 380–390.
[29] Vasilios A Siris, Maria Anagnostopoulou, and Dimitris Dimopoulos. 2013. Im-
proving mobile video streaming with mobility prediction and prefetching in
integrated cellular-WiFi networks. In International Conference on Mobile and
Ubiquitous Systems: Computing, Networking, and Services. Springer, 699–704.
[30] Wikipedia. [n. d.]. Cellular frequencies. https://en.wikipedia.org/wiki/Cellular_
frequencies.
[24] Yuanjie Li, Jiaqi Xu, Chunyi Peng, and Songwu Lu. 2016. A First Look at Unstable
160