愈合攻击是瓦解区块链的技术手段，实施愈合攻击，最常用的是BGP劫持。什么是BGP劫持呢？
正常的矿机与矿池的通讯应该包括这几个步骤：  
矿机 -> 网络运营商A -> 网络运营商B -> 网络运营商… -> 矿池
由于比特币矿池的跨地域性，在矿机和矿池之间的网络运营商（ISP）可能有数个作为跳转。这是极不安全的，任何一个环节的都有可能被黑客通过边界网关协议（BGP）劫持。
边界网关协议(BGP)是因特网的关键组成部分,用于确定路由路径。BGP劫持,即利用BGP操纵因特网路由路径。无论是网络犯罪分子还是国家防火墙,都可以利用这种技术来达到自己的目的,如误导和拦截流量等。
BGP是一种网络协议,用于交换因特网上各网络之间的路由信息。一般情况下,它用来确定在独立运营的网络或自治系统之间路由数据的最佳路径。
因此,它也常常用来寻找从ISP到ISP路由数据的路径。需要注意的是,BGP不是用来传输数据的,而是用来确定最高效的路由路径的。
实际的传输工作,是由其他协议来完成的,例如TCP/IP协议栈。  
现在,假设我需要发送数据到世界的另一端。最终,这些数据肯定会离开我的ISP所控制的网络,因此,必然就会用到BGP。
当然,路由路径是无法通过单独一个自治系统来决定的,这需要其他的BGP对等端或邻居的参与才行。
这些对等端是些已经通过手工配置为共享路由信息的自治系统。当自治系统学习新路由的时候,这些信息就会进一步传播到其他对等端。
通过梳理从BGP对等端收集来的路由信息,处理这些数据的路由器就能够找出最佳路径。这些最佳路径是参考多种因素综合得出的,包括距离以及路由器管理员实现的配置设置等。
由于传播路由的对等端是手工配置的,因此有必要入侵一台边界路由器来广播外部BGP通告,从而实现因特网级别的BGP劫持。尽管这做起来非常困难,但是BGP劫持攻击确实已经出现在现实世界之中了。
因为BGP决定了数据从源端到目的地端的传输方式,所以,必须要关注该协议的安全性。通过操纵BGP,攻击者可以按照自己的意愿来修改数据的传输路线,从而达到拦截或者修改数据的目的。
为了劫持因特网级别的BGP,需要配置一个边界路由器,让它发送含有未分配给它的前缀的通告。如果恶意通告比合法通告还要具体,或者声称提供更短的路径,那么流量就可能被定向到攻击者那里去。
攻击者经常利用弃用的前缀来进行劫持,以免引起合法属主的关注。通过广播含有虚假前缀的通告,受攻击的路由器可能会污染其他路由器的路由信息库。
在污染了其他路由器之后,恶意路由信息可能会进一步传播到别的路由器中,或自治系统,甚至主干因特网上。
最近几年来,已经有多起BGP劫持攻击被记录在案：
比较著名的就是13年巴基斯坦屏蔽Youtube的事件。由于巴基斯坦电信部门错误地把屏蔽youtube加到了BGP上，导致该协议上的所有AS都被屏蔽了。换句话说，全世界其他所有国家的人都无法上Youtube了，因为数据包都涌向巴基斯坦了，而巴基斯坦恰恰屏蔽了Youtube。
在Renesys记载的案例中,2013年BGP劫持技术曾经用来重新路由数据,使其在到达目的地之前,先经过任意指定的国家。
其中,一个攻击案例中的数据流量,在到达起目的地之前,竟然先绕道墨西哥至美国,然后转至白俄罗斯。通过散布虚假BGP广播,白俄罗斯的ISP成功将非法路由传播到了因特网上。
在这个案例中,很可能是一种公司或国家间谍行为。不过,有迹象说明,即使非国家级别的对手,照样也能够发动BGP劫持攻击。
2014年Dell
SecureWorks分析的一个案例中,BGP劫持被用来拦截比特币矿机到采矿池服务器的链接。通过将流量重路由至攻击者控制的矿池,攻击者就能够窃取受害者的比特币。
这次攻击在两月内收集到了价值$83,000的比特币。
在2015年7月,监视软件供应商Hacking Team被黑,泄露的内部邮件表明,在2013年,意大利政府曾经与Hacking
Team有关合作,同时,意大利的一家ISP也购买过该公司的BGP劫持服务。 由于托管Hacking
Team指令控制服务器的IP被阻断之后,该服务器已经离线,因此该恶意软件与指令控制服务器的连接也一直保持不可达状态。通过公布托管该指令控制服务器的虚假IP前缀,Hacking
Team竟然又恢复了对受害者机器的访问能力。 这是第一个记载在册的西方国家政府使用BGP劫持的案例。
**致命伤： “拜占庭将军问题” &“两军问题”**
比特币是分布式系统一次空前的社会实验，也被称为解决”拜占庭将军“问题的成功实例。在此强烈建议大家百度或者维基一下理论原型。
拜占庭将军问题是2013年图灵奖得主 Leslie Lamport 在 1980 年的论文 The Byzantine Generals Problem
中提出的分布式领域的容错问题，这是分布式领域最复杂、最严格的容错模型。Lamport是分布式系统的祖师爷级的大师，这个故事也广为流传：
拜占庭位于如今的土耳其的伊斯坦布尔，是东罗马帝国的首都。由于当时拜占庭罗马帝国国土辽阔，为了防御目的，因此每个军队都分隔很远，将军与将军之间只能靠信差传消息。
在战争的时候，拜占庭军队内所有将军和副官必需达成一致的共识，决定是否有赢的机会才去攻打敌人的阵营。但是，在军队内有可能存有叛徒和敌军的间谍，左右将军们的决定又扰乱整体军队的秩序。在进行共识时，结果并不代表大多数人的意见。这时候，在已知有成员谋反的情况下，其余忠诚的将军在不受叛徒的影响下如何达成一致的协议，拜占庭问题就此形成。
拜占庭将军问题不去考虑信差是否会被截获或无法传递信息等问题。Lamport已经证明，在存在消息丢失的不可靠信道上试图通过消息传递的方式达到一致性是不可能的。
另一个比“拜占庭将军问题”更基础，更广为人知的是“两军问题”Two Generals’ Problem：
两支军队，分别由两个将军领导，正在准备攻击一个坚固的城市。两支军队都驻扎在城市旁边的两个不同的山谷里。两军之间隔着第三个山谷，两个将军想要通讯的唯一方法就是穿过第三个山谷传送信件。问题是，第三个山谷被城市的守卫敌军占据，并且经此传送的信件可能会被守卫敌军截获。虽然两个将军商量好要同时对城市发起攻击，但是他们没有约定特定的攻击时间。为了保证取胜，他们必须同时发起攻击，否则任何单独发起攻击的军队都有可能全军覆没。他们必须互相通信来决定一个同时攻击时间，并且同意在那个时间发起攻击。两个将军彼此之间要知道另一个将军知道自己同意了作战计划。
两军问题是阐述在一个不可靠的通信链路上试图通过通信以达成一致是存在缺陷的和困难的，这个问题经常出现在计算机网络入门课程中，用于阐释TCP协议不能保证通信两端状态的一致性。不过两军问题同样适用于任何有可能通信失败情况下的两点通信。
对比两个故事，我们会发现两军问题和拜占庭将军问题有一定的相似性，但必须注意的是，信差得经过敌人的山谷，在这过程中他可能被捕，也就是说，两军问题中信道是不可靠的，并且其中没有叛徒之说，这就是两军问题和拜占庭将军问题的根本性不同。
两军问题是在计算机通信领域首个被证明无解的问题，由此也可推论出，信道不可靠条件下的“拜占庭将军问题”也同样无解。