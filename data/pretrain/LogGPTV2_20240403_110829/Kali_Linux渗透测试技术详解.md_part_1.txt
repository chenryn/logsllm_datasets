# OCR Output
## Page 1
Kali Linux
渗透测试技术详解
杨波编著
基于39款专用工具和38个实例，详细介绍了KaliLinux渗透测试的各种核心技术
涵盖从安装配置，到信息收集和漏洞扫描及利用，再到权限提升及各种渗透测试等技术
M基于最为流行的KaliLinux系统，全面介绍了渗透测试的各种核心技术
涉及渗透测试的基础知识、操作系统、网络协议和社会工程学等诸多领域
M结合Wireshark等工具，以直观的形式由表及里地展示了网络渗透的奥秘
遵循渗透测试的基本流程，重点介绍了渗透测试的4个大环节及其相关技术
M注重操作，避免纯理论讲解，让读者可以轻松掌握渗透测试的实施方法
清华大学出版社
---
## Page 2
作者简介
杨波现就职于兰州文理学院电子信息工程
学院，副教授。从事计算机教学与科研工作
16年。熟悉Linux操作系统及相关开发，长
期从事计算机网络及信息安全的研究。参编
教材3部，在国内外发表学术论文10余篇，
其中SCI论文1篇。
---
## Page 3
KaliLinux渗透测试技术
详解
杨波编著
清华大学出版社
北京
---
## Page 4
内容简介
本书由浅入深地介绍了KaliLinux的各种渗透测试技术。书中选取了最核心和最基础的内容进行讲
解，让读者能够掌握渗透测试的流程，而不会被高难度的内容所淹没。本书涉及面广，从基本的知识介
绍、安装及配置KaliLinux，到信息收集和漏洞扫描及利用，再到权限提升及各种渗透测试，均有涉及。
本书共9章，分为3篇。第1篇为Linux安全渗透测试基础，介绍了Linux安全渗透简介、安装及配
置KaliLinux操作系统、配置目标测试系统：第2篇为信息的收集及利用，介绍了信息收集、漏洞扫描、
漏洞利用等技术：第3篇为各种渗透测试，介绍了权限提升、密码攻击、无线网络攻击、渗透测试等
技术。
本书适合使用Linux各个层次的人员作为学习渗透测试技术的基础读物，也适合对安全、渗透感兴趣
的人、网络管理员及专门从事搞安全的人员等阅读。
本书封面贴有清华大学出版社防伪标签，无标签者不得销售。
版权所有，侵权必究。侵权举报电话：010-6278298913701121933
图书在版编目（CIP）数据
KaliLinux渗透测试技术详解/杨波编著.一北京：清华大学出版社，2015
ISBN 978-7-302-38964-4
1.①K.II.①杨IⅢl.①Linux操作系统IV.①TP316.89
中国版本图书馆CIP数据核字（2015）第005625号
责任编辑：杨如林
封面设计：欧振旭
责任校对：徐俊伟
责任印制：
出版发行：清华大学出版社
网t址t:http://www.tup.com.cn, http://www.wqbook.com
地址：北京清华大学学研大厦A座
邮编：100084
社总机：010-62770175
邮
购：010-62786544
投稿与读者服务：010-62776969，PI:EMAIL
质量反馈：010-62772015，PI:EMAIL
印刷者：
装订者：
经
销：全国新华书店
开
本：185mm×260mm
印
张：20.25
字
数：506千字
版
次：2015年3月第1版
印
次：2015年3月第1次印刷
印
数：1~000
产品编号：062966-01
---
## Page 5
前言
由于网络的使用越来越广泛，网络安全问题也越来越被大众关注。在此背景下，Kali
Linux于2013年发布。KaliLinux的前身为网络安全业界知名的BackTrack。KaliLinux集
成了海量的渗透测试工具，如nmap、Wireshark、John theRipper和Airecrack-ng等。
渗透测试是通过模拟恶意黑客的攻击方法，来评估计算机网络系统安全的一种评估方
法。这个过程包括对系统的任何弱点、技术缺陷或漏洞的主动分析。这个分析是从一个攻
击者可能存在的位置来进行的，并且从这个位置有条件主动利用安全漏洞。
本书选取了KaliLinux最核心和最基础的内容进行了讲解，让读者能够掌握渗透测试
的流程，并使用Wireshark工具，通过分析捕获的数据包，详细介绍了攻击的实现方式。
学习完本书后，读者应该可以具备独立进行一些基本渗透测试的能力。
本书特色
1.基于最新的渗透测试系统KaliLinux
BackTrack曾是安全领域最知名的测试专用Linux系统，但是由于其已经停止更新，
而全面转向KaliLinux，所以Kali将成为安全人士的不二选择。本书基于KaliLinux来展
现渗透测试的各项内容。
2.内容难度适当
本书介绍了Linux安全渗透测试的基础知识及操作系统、网络协议、社会工程学等诸
多领域，最后还详细介绍了各种渗透测试无线网络。
3.理论和操作结合讲解
本书没有枯燥的罗列理论，也没有一味的讲解操作，而是将两者结合起来，让读者明
白测试所基于的理论，以及从中衍生出的测试攻击手段。这样，读者可以更为清楚地掌握
书中的内容。
4.更直观的讲述方式
由于网络协议工作在底层，并且渗透工具将功能封装，读者很难看到攻击的实现方式。
为了让读者更直观的理解，本书采用Wireshark抓包和分析包的方式，给读者展示了攻击
过程中实现的各个细节。这样，读者既可以掌握理论，也可以避免成为只会使用工具的初
级技术工。
---
## Page 6
Kali Linux渗透测试技术详解
5.提供多种学习和交流的方式
为了方便大家学习和交流，我们提供了多种方式供读者交流。读者可以在论坛
www.wanjuanchina.net上发帖讨论，也可以通过QQ群336212690转入对应的技术群：还
可以就图书阅读中遇到的问题致信PI:EMAIL或PI:EMAIL，
以获得帮助。另外，本书涉及的工具也可以在论坛的相关版块获取。
本书内容及体系结构
第1篇Linux安全渗透测试基础（第1~3章）
本篇主要内容包括：Linux安全渗透简介、配置KaliLinux和高级测试实验室。通过
本篇的学习，读者可以了解安全渗透测试的概念及所需的工具、在各种设备上安装Kali
Linux操作系统、配置目标系统等。
第2篇信息的收集及利用（第4～6章）
本篇主要内容包括：信息收集、漏洞扫描和漏洞利用等。通过本篇的学习，读者可以
收集大量目标主机的信息、扫描目标主机存在的漏洞及利用这些漏洞，为后续渗透攻击做
好准备。
第3篇各种渗透测试（第7～9章）
本篇主要内容包括：提升用户权限、密码攻击和无线网络渗透测试等。通过本篇的学
习，读者可以通过提升自己的权限，实现各种密码攻击，如获取目标主机上各种服务的用
户名、密码和无线网络的登录密码等。
学习建议
口掌握基本的网络协议。通常攻击目标主机，需要了解其存在的漏洞或开放的端口，
但是这些端口都对应有一个网络协议，了解对应的网络协议和工作机制，可以更
好地收集信息和寻找漏洞。
口一定要有耐心。渗透测试往往需要花费大量的时间，例如通常在被解密码时，如
果没有一个很好的密码字典，会需要几个小时、甚至几天的时间。再比如要抓取
理想的数据包，往往需要长时间的等待，然后从海量数据包中寻找需要的信息。
本书读者对象
口Linux初学者；
口想成为安全渗透测试人员；
口渗透测试兴趣爱好者：
·II·
---
## Page 7
前言
口网络管理员：
口专业的安全渗透测试人员；
口大中专院校的学生：
口社会培训班学员：
口需要一本案头必备手册的程序员。
本书作者
本书主要由兰州文理学院电子信息工程学院的杨波主笔编写。其他参与编写的人员有
魏星、吴宝生、伍远明、谢平、项宇峰、徐楚辉、闫常友、阳麟、杨纪梅、杨松梅、余月、
张广龙、张亮、张晓辉、张雪华、赵海波、赵伟、周成、朱森。
阅读本书的过程中若有任何疑问，都可以发邮件或者在论坛和QQ群里提问，会有专
人为您解答。最后顺祝各位读者读书快乐！
编者
·II ·
---
## Page 9
目
录
第1篇Linux安全渗透测试基础
第1章Linux安全渗透简介
2
1.1什么是安全渗透
2
1.2安全渗透所需的工具
1.3Kali Linux 简介
*3
1.4安装Kali Linux
1.4.1安装至硬盘.
4
1.4.2安装至USB驱动器
13
1.4.3安装至树莓派
·15
1.4.4安装至VMware Workstation
·20
1.4.5安装VMware Tools
25
1.5Kali更新与升级
·26
1.6基本设置
 28
1.6.1启动默认的服务
·28
1.6.2设置无线网络
·32
第2章配置KaliLinux“
-34
2.1准备内核头文件
·34
2.2安装并配置NVIDIA显卡驱动
36
2.3应用更新和配置额外安全工具
·38
2.4设置ProxyChains
42
2.5目录加密
44
2.5.1创建加密目录·
·44
2.5.2文件夹解密
52
第3章高级测试实验室
54
3.1使用VMwareWorkstation
·54
3.2攻击WordPress和其他应用程序-
57
3.2.1获取WordPress应用程序…
·58
3.2.2安装 WordPress Turnkey Linux
09-
3.2.3攻击WordPress应用程序
·65
---
## Page 10
KaliLinux渗透测试技术详解
第2篇信息的收集及利用
第4章信息收集
72
4.1枚举服务
72
4.1.1DNS 枚举工具DNSenum.
 72
4.1.2DNS 枚举工具fierce
.73
4.1.3SNMP枚举工具Snmpwalk
* 74
4.1.4S
SNMP 枚举工具 Snmpcheck
75
4.1.5SMTP 枚举工具 smtp-user-enum
80
4.2测试网络范围
 80
4.2.1
域名查询工具 DMitry
 80
4.2.2跟踪路由工具 Scapy
 81
4.3识别活跃的主机·
8-
4.3.1网络映射器工具Nmap
84
4.3.2使用Nmap识别活跃主机.
.85
4.4查看打开的端口…
.86
4.4.1TCP端口扫描工具Nmap“
.86
4.4.2图形化TCP端口扫描工具Zenmap“
-- 88
4.5系统指纹识别·
* 89
4.5.1
使用Nmap工具识别系统指纹信息..
* 89
4.5.2指纹识别工具pof
90
4.6服务的指纹识别一
16-
4.6.1使用Nmap工具识别服务指纹信息·
4.6.2服务枚举工具Amap
·92
4.7
其他信息收集手段·
6...
4.7.1Recon-NG 框架
6
4.7.2ARP侦查工具Netdiscover"
.97
4.7.3搜索引擎工具Shodan‘
86
4.8使用Maltego收集信息
 103
4.8.1准备工作..
01 -
4.8.2使用 Maltego 工具.….
- 103
4.9绘制网络结构图
011-
第5章漏洞扫描
 117
5.1使用Nessus
-- 117
5.1.1安装和配置Nessus
 117
5.1.2扫描本地漏洞
·126
5.1.3扫描网络漏洞·
· 129
5.1.4
扫描指定Linux的系统漏洞·
-- 130
5.1.5扫描指定Windows的系统漏洞
- 132
5.2使用OpenVAS
-- 133
5.2.1
配置OpenVAS·
133
5.2.2创建ScanConfig和扫描任务
138
·VI·
---
## Page 11
目录
5.2.3扫描本地漏洞
141
5.2.4扫描网络漏洞·
· 142
5.2.5扫描指定Linux系统漏洞
· 143
5.2.6扫描指定Windows系统漏洞
 145
第6章漏洞利用
 148
6.1Metasploitable 操作系统
-- 148
6.2Metasploit 基础
149
6.2.1I
Metasploit 的图形管理工具Armitage“
· 149
6.2.2控制Metasploit终端（MSFCONSOLE）
--155
6.2.3控制Metasploit 命令行接口（MSFCLI）
· 157
6.3控制 Meterpreter
161
6.4渗透攻击应用·
163
6.4.1
渗透攻击MySQL数据库服务
·163
6.4.2
渗透攻击PostgreSQL数据库服务.
-- 166
6.4.3
渗透攻击Tomcat服务·
 169
6.4.4
渗透攻击Telnet服务
· 172
6.4.5
渗透攻击Samba服务
 173
6.4.6
PDF文件攻击
 174
6.4.7
使用browser_autopwn模块渗透攻击浏览器·
 176
6.4.8在Metasploit 中捕获包