当前对应类型MPLS资源的使用数量已达到系统支持的最大容量。
处理步骤
步骤1 通过hwMplsResourceType，确认具体的资源类型的超限情况。
步骤2 减少使用相关资源的配置，或减少触发相关资源创建的配置或消息，以降低对应类型
MPLS资源的占用。完成后，观察告警是否清除。
l 如果是，请执行步骤4。
文档版本 06 (2017-09-12) 华为专有和保密信息 495
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
l 如果没有清除，请执行步骤3。
步骤3 请收集日志信息和配置信息，并联系技术支持人员。
步骤4 结束。
----结束
52.14 MPLS_LSPM/2/
hwMplsResourceTotalCountExceed_clear
日志信息
MPLS_LSPM/2/hwMplsResourceTotalCountExceed_clear: The number of used MPLS
resources fell below the maximum number. (hwMplsResourceType=[ResourceType],
hwMplsResourceTotalCount=[ResourceTotalCount])
日志含义
MPLS资源使用总数超限恢复。
日志参数
参数名称 参数含义
hwMplsResourceType MPLS资源类型。
hwMplsResourceTotalCount 系统支持的MPLS资源总量。
可能原因
当前对应类型的MPLS资源使用数量下降到系统支持最大容量的95%以下。
处理步骤
l 正常运行信息，无需处理。
----结束
52.15 MPLS_LSPM/3/
hwMplsTunnelBesteffortDown_active
日志信息
MPLS_LSPM/3/hwMplsTunnelBesteffortDown_active: The best-effort LSP of the tunnel
changes to Down. (SessionTunnelId=[SessionTunnelId], TunnelInstIndex=[TunnelInstIndex],
IngressLsrId=[IngressLsrId], EgressLsrId=[EgressLsrId],
mplsTunnelIfName=[mplsTunnelIfName],
hwMplsTunnelDownReason=[hwMplsTunnelDownReason],
文档版本 06 (2017-09-12) 华为专有和保密信息 496
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
hwMplsTunnelDownLSRId=[hwMplsTunnelDownLSRId],
hwMplsTunnelDownIfAddrType=[hwMplsTunnelDownIfAddrType],
hwMplsTunnelDownIfAddr=[hwMplsTunnelDownIfAddr])
日志含义
隧道逃生路径LSP进入Down状态。
日志参数
参数名称 参数含义
SessionTunnelId 隧道标识。
TunnelInstIndex Tunnel的InstIndex。
IngressLsrId 头节点地址。
EgressLsrId 目的地址。
mplsTunnelIfName Tunnel的接口名称
hwMplsTunnelDownReason Tunnel进入Down状态的原因。
hwMplsTunnelDownLSRId 出错节点的LSR ID。
hwMplsTunnelDownIfAddrType 出错接口的IP地址类型。
hwMplsTunnelDownIfAddr 出错接口的IP地址。
可能原因
原因1：Other.（其它。）
原因2：Static LSP Down.（静态LSP状态为Down。）
原因3：Static CR-LSP Down.（静态CR-LSP状态为Down。）
原因4：The out interface of the RSVP LSP ingress is down.（RSVP LSP的Ingress出接口状
态为Down。）
原因5：The resource of RSVP LSP is preempted.（RSVP LSP的资源被抢占。）
原因6：RSVP message timeout.（RSVP消息超时。）
原因7：RSVP neighbor lost.（RSVP Hello检测到下游节点故障。）
原因8：The bypass-tunnel is down or is unbinded with main tunnel, as bypass-tunnel is in
used.（旁路隧道处于“In Use”状态时, 旁路隧道Down或与主隧道解绑定。）
原因9：CSPF fails to compute.（CSPF算路失败。）
原因10：User shutdown.（用户手动Shutdown隧道。）
文档版本 06 (2017-09-12) 华为专有和保密信息 497
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
处理步骤
步骤1 原因1：Other.
1. 请收集日志信息和配置信息，并联系技术支持人员。
步骤2 原因2：Static LSP Down.
1. 检查当前Tunnel接口的配置、RSVP协议和IGP协议的配置，以及整条链路及其带
宽是否满足。
– 如配置错误，修改相应配置后提交，问题解决。
– 否则请执行步骤2。
2. 执行命令display mpls te tunnel-interface last-error，查看出错提示。
– 如有以下错误提示：
n 显示“Cspf failed to calculate a path for Tunnel.”，表示入节点使能了
CSPF，但CSPF算路失败，检查显式路径是否配置正确，IGP协议是否使
能MPLS TE，路由配置是否正确。
○ 配置错误，修改配置，问题解决。
○ 否则请执行步骤3。
n 显示“Routing Problem:Bad EXPLICIT_ROUTE object.”或者“Routing
Problem:Bad initial subobject.”，表示入节点没有使能CSPF，但配置了错
误的显式路径，检查并配置正确的显式路径。
○ 问题解决。
○ 否则请执行步骤3。
n 显示“Routing Problem:No route available toward destination.”，表示隧道
入节点和中间节点都没有使能CSPF，配置了错误的显式路径或者没有到
达目的地址的路由，检查IGP及显式路径的配置。
○ 问题解决。
○ 否则请执行步骤3。
n 显示“Service preempted”，表示该隧道资源被抢占了，根据实际需要修
改Tunnel接口下配置的抢占优先级。
○ 问题解决。
○ 否则请执行步骤3。
n 显示“Admission Control failure”表示入节点使能了CSPF，下游节点未
使能CSPF，且CSPF在入节点上沿显式路径计算带宽足够，但下游节点的
链路带宽不足，检测显式路径及带宽配置。
○ 问题解决。
○ 否则请执行步骤3。
n 其它类型的错误请执行步骤4。
– 如没有提示错误提示，请执行步骤3。
3. 执行命令display mpls lsp statistics，检查当前LSP数量是否超出规格限制。
4. 请收集日志信息和配置信息，并联系技术支持人员。
步骤3 原因3：Static CR-LSP Down.
1. 检查当前Tunnel接口的配置、RSVP协议和IGP协议的配置，以及整条链路及其带
宽是否满足。
– 如配置错误，修改相应配置后提交，问题解决，请执行步骤4。
文档版本 06 (2017-09-12) 华为专有和保密信息 498
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
– 否则请执行步骤2。
2. 执行命令display mpls te tunnel-interface last-error，查看出错提示。
– 如有以下错误提示：
n 显示“Cspf failed to calculate a path for Tunnel.”，表示入节点使能了
CSPF，但CSPF算路失败，检查显式路径是否配置正确，IGP协议是否使
能MPLS TE，路由配置是否正确。
○ 配置错误，修改配置，问题解决，请执行步骤4。
○ 否则请执行步骤3。
n 显示“Routing Problem:Bad EXPLICIT_ROUTE object.”或者“Routing
Problem:Bad initial subobject.”，表示入节点没有使能CSPF，但配置了错
误的显式路径，检查并配置正确的显式路径。
○ 问题解决，请执行步骤4。
○ 否则请执行步骤3。
n 显示“Routing Problem:No route available toward destination.”，表示隧道
入节点和中间节点都没有使能CSPF，配置了错误的显式路径或者没有到
达目的地址的路由，检查IGP及显式路径的配置。
○ 问题解决，请执行步骤4。
○ 否则请执行步骤3。
n 显示“Service preempted”，表示该隧道资源被抢占了，根据实际需要修
改Tunnel接口下配置的抢占优先级。
○ 问题解决，请执行步骤4。
○ 否则请执行步骤3。
n 显示“Admission Control failure”表示入节点使能了CSPF，下游节点未
使能CSPF，且CSPF在入节点上沿显式路径计算带宽足够，但下游节点的
链路带宽不足，检测显式路径及带宽配置。
○ 问题解决，请执行步骤4。
○ 否则请执行步骤3。
n 其它类型的错误请执行步骤4。
– 如没有提示错误提示，请执行步骤3。
3. 执行命令display mpls lsp statistics，检查当前LSP数量是否超出规格限制。
4. 请收集日志信息和配置信息，并联系技术支持人员。
步骤4 原因4：The out interface of the RSVP LSP ingress is down.
1. 检查当前Tunnel的出接口配置和状态，排除出接口问题。
2. 请收集日志信息和配置信息，并联系技术支持人员。
步骤5 原因5：The resource of RSVP LSP is preempted.
1. 根据实际需要修改Tunnel接口下配置的抢占优先级。
2. 请收集日志信息和配置信息，并联系技术支持人员。
步骤6 原因6：RSVP message timeout.
1. 请收集日志信息和配置信息，并联系技术支持人员。
步骤7 原因7：RSVP neighbor lost.
1. 检查当前Tunnel整条链路下游节点并排除故障。
文档版本 06 (2017-09-12) 华为专有和保密信息 499
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
2. 请收集日志信息和配置信息，并联系技术支持人员。
步骤8 原因8：The bypass-tunnel is down or is unbinded with main tunnel, as bypass-tunnel is in
used.
1. 执行命令display mpls te tunnel-interface，查看旁路隧道状态，则根据隧道状态排
除旁路隧道故障。
– 如果旁路隧道Up后问题已解决，请执行步骤3。
– 否则，请执行步骤2。
2. 执行命令display mpls te tunnel verbose，查看主隧道bypass的绑定关系，及排除绑
定关系故障后问题是否解决。
3. 请收集日志信息和配置信息，并联系技术支持人员。
步骤9 原因9：CSPF fails to compute.
1. 表示入节点使能了CSPF，但CSPF算路失败，检查显式路径是否配置正确，IGP协
议是否使能MPLS TE，路由配置是否正确。
2. 请收集日志信息和配置信息，并联系技术支持人员。
步骤10 原因10：User shutdown.
1. 在该隧道接口视图下执行undo shutdown命令。
2. 请收集日志信息和配置信息，并联系技术支持人员。
----结束
52.16 MPLS_LSPM/3/
hwMplsTunnelBesteffortDown_clear
日志信息
MPLS_LSPM/3/hwMplsTunnelBesteffortDown_clear: The best-effort LSP of the tunnel
changes to Up. (SessionTunnelId=[SessionTunnelId], TunnelInstIndex=[TunnelInstIndex],
IngressLsrId=[IngressLsrId], EgressLsrId=[EgressLsrId],
mplsTunnelIfName=[mplsTunnelIfName])
日志含义
隧道逃生路径LSP建立成功。
日志参数
参数名称 参数含义
SessionTunnelId 隧道标识。
TunnelInstIndex Tunnel的InstIndex。
IngressLsrId 头节点地址。
EgressLsrId 目的地址。
mplsTunnelIfName Tunnel的接口名称
文档版本 06 (2017-09-12) 华为专有和保密信息 500
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
可能原因
隧道逃生路径LSP建立成功。
处理步骤
l 正常运行信息，无需处理。
----结束
52.17 MPLS_LSPM/3/
hwMplsTunnelOrdinaryDown_active
日志信息
MPLS_LSPM/3/hwMplsTunnelOrdinaryDown_active: The ordinary LSP of the tunnel
changes to Down. (SessionTunnelId=[INTEGER], TunnelInstIndex=[integer],
IngressLsrId=[integer], EgressLsrId=[integer], mplsTunnelIfName=[octet],
hwMplsTunnelDownReason=[integer], hwMplsTunnelDownLSRId=[binary],
hwMplsTunnelDownIfAddrType=[integer], hwMplsTunnelDownIfAddr=[binary])
日志含义
隧道普通备份LSP进入Down状态。
日志参数
参数名称 参数含义
SessionTunnelId 隧道标识。
TunnelInstIndex Tunnel的InstIndex。
IngressLsrId 头节点地址。
EgressLsrId 目的地址。
mplsTunnelIfName Tunnel的接口名称
hwMplsTunnelDownReason Tunnel进入Down状态的原因。
hwMplsTunnelDownLSRId 出错节点的LSR ID。
hwMplsTunnelDownIfAddrType 出错接口的IP地址类型。
hwMplsTunnelDownIfAddr 出错接口的IP地址。
可能原因
原因1：Other.（其它。）
原因2：Static LSP Down.（静态LSP状态为Down。）
原因3：Static CR-LSP Down.（静态CR-LSP状态为Down。）
文档版本 06 (2017-09-12) 华为专有和保密信息 501
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
原因4：The out interface of the RSVP LSP ingress is down.（RSVP LSP的Ingress出接口状
态为Down。）
原因5：The resource of RSVP LSP is preempted.（RSVP LSP的资源被抢占。）
原因6：RSVP message timeout.（RSVP消息超时。）
原因7：RSVP neighbor lost.（RSVP Hello检测到下游节点故障。）
原因8：The bypass-tunnel is down or is unbinded with main tunnel, as bypass-tunnel is in
used.（旁路隧道处于“In Use”状态时, 旁路隧道Down或与主隧道解绑定。）
原因9：CSPF fails to compute.（CSPF算路失败。）
原因10：User shutdown.（用户手动Shutdown隧道。）
处理步骤
步骤1 原因1：Other.
1. 请收集日志信息和配置信息，并联系技术支持人员。
步骤2 原因2：Static LSP Down.
1. 检查当前Tunnel接口的配置、RSVP协议和IGP协议的配置，以及整条链路及其带
宽是否满足。
– 如配置错误，修改相应配置后提交，问题解决。
– 否则请执行步骤2。
2. 执行命令display mpls te tunnel-interface last-error，查看出错提示。
– 如有以下错误提示：
n 显示“Cspf failed to calculate a path for Tunnel.”，表示入节点使能了
CSPF，但CSPF算路失败，检查显式路径是否配置正确，IGP协议是否使
能MPLS TE，路由配置是否正确。
○ 配置错误，修改配置，问题解决。
○ 否则请执行步骤3。
n 显示“Routing Problem:Bad EXPLICIT_ROUTE object.”或者“Routing
Problem:Bad initial subobject.”，表示入节点没有使能CSPF，但配置了错
误的显式路径，检查并配置正确的显式路径。
○ 问题解决。
○ 否则请执行步骤3。
n 显示“Routing Problem:No route available toward destination.”，表示隧道
入节点和中间节点都没有使能CSPF，配置了错误的显式路径或者没有到
达目的地址的路由，检查IGP及显式路径的配置。
○ 问题解决。
○ 否则请执行步骤3。
n 显示“Service preempted”，表示该隧道资源被抢占了，根据实际需要修
改Tunnel接口下配置的抢占优先级。
○ 问题解决。
○ 否则请执行步骤3。
n 显示“Admission Control failure”表示入节点使能了CSPF，下游节点未
使能CSPF，且CSPF在入节点上沿显式路径计算带宽足够，但下游节点的
链路带宽不足，检测显式路径及带宽配置。
文档版本 06 (2017-09-12) 华为专有和保密信息 502
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
○ 问题解决。
○ 否则请执行步骤3。
n 其它类型的错误请执行步骤4。
– 如没有提示错误提示，请执行步骤3。
3. 执行命令display mpls lsp statistics，检查当前LSP数量是否超出规格限制。
4. 请收集日志信息和配置信息，并联系技术支持人员。
步骤3 原因3：Static CR-LSP Down.
1. 检查当前Tunnel接口的配置、RSVP协议和IGP协议的配置，以及整条链路及其带
宽是否满足。
– 如配置错误，修改相应配置后提交，问题解决，请执行步骤4。
– 否则请执行步骤2。
2. 执行命令display mpls te tunnel-interface last-error，查看出错提示。
– 如有以下错误提示：
n 显示“Cspf failed to calculate a path for Tunnel.”，表示入节点使能了
CSPF，但CSPF算路失败，检查显式路径是否配置正确，IGP协议是否使
能MPLS TE，路由配置是否正确。
○ 配置错误，修改配置，问题解决，请执行步骤4。
○ 否则请执行步骤3。