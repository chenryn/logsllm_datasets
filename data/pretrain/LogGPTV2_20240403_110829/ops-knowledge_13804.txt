User: 请撰写一份网络拓扑图及详细的设备配置说明，确保所有设备能够互相通信，并实现访问互联网和内部资源的功能。
Assistant: 网络拓扑图如下：

![网络拓扑图](https://i.imgur.com/Fcwa27M.png)

设备配置说明：

1. PC1、PC2、PC3：IP地址为192.168.1.2、192.168.1.3和192.168.1.4，子网掩码为255.255.255.0，网关为192.168.1.1，DNS服务器为8.8.8.8/8.8.4.4。

2. Internet: 该部分由ISP（互联网服务提供商）提供，公网IP地址为45.67.89.10，子网掩码为255.255.255.0，网关为45.67.89.1。

3. Router: 该路由器有两个端口，WAN端口连接互联网服务提供商，LAN端口连接Switch1。WAN端口的IP地址为45.67.89.1，子网掩码为255.255.255.0，网关为空。LAN端口的IP地址为192.168.1.1，子网掩码为255.255.255.0，网关为空。该路由器需要启用NAT，以便内部网络能够访问互联网。

4. Switch1: 连接Router的LAN端口和Switch2的Trunk端口。需要将Trunk端口模式设置为802.1q，VLAN ID为10和20。该交换机需要打开STP。

5. Switch2: 该交换机连接Switch1的Trunk端口和Server、Printer、NAS的Access端口。需要将Access端口模式设置为Access，VLAN ID分别为10、20和30。这些端口的IP地址分别为192.168.10.1、192.168.20.1和192.168.30.1，子网掩码为255.255.255.0，网关为192.168.10.1。

6. Server: 该服务器有两个网卡，一个连接Switch2的VLAN为20的Access端口，另一个连接Switch2的VLAN为10的Access端口。需要配置双网卡绑定。IP地址分别为192.168.10.10和192.168.20.10，子网掩码为255.255.255.0，网关为192.168.10.1。

7. Printer: 连接Switch2的VLAN为10的Access端口，IP地址为192.168.10.20，子网掩码为255.255.255.0，网关为192.168.10.1。

8. NAS: 连接Switch2的VLAN为30的Access端口，IP地址为192.168.30.10，子网掩码为255.255.255.0，网关为192.168.30.1。

这些设备的配置可以使用CLI（命令行界面）或网页界面进行配置。要确保所有设备可以互相通信，需要进行相应的端口配置、VLAN配置以及路由器和交换机之间的配置。需要注意的是，设备的IP地址、子网掩码和网关需要配置正确，以便设备能够正确地路由内部和外部数据流量。