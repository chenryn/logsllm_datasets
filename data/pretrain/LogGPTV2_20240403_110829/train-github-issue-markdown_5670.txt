 _Original tickethttp://projects.scipy.org/numpy/ticket/1091 on 2009-04-22 by
trac user mesmith, assigned to unknown._
I want to re-open ticket #1035. Here is the information that I submitted.
I am re-opening this issue because the crackfortran patch does not appear to
be redundant to me. The patch allows for setting the python callback argument
as optional. I use it by adding the follow f2py declarations to the FORTRAN
file where the python callback is called. [[BR]]
    c These lines are here to get the correct settings into flip.pyf
    cf2py  intent(callback, hide) py_errmsg
    cf2py optional py_errmsg
    cf2py external py_errmsg
    cf2py use gp_errmsg__user__routines
[[BR]]  
where py_errmsg is a python callback function.
Without the patch I get an error message from python when I attempt to execute
the FORTRAN subroutine containing the python callback. [[BR]]
    TypeError: flip.gp_setdef() takes at least 1 argument (0 given)
[[BR]]  
where gp_setdef is the FORTRAN subroutine called from python and containing
the cf2py lines above.
I have tried numpy version 1.3 and the patch is still required. If there is
another way to accomplish what I am trying to do without the patch--and
without requiring the python callback function as an argument--I would like to
know how to do it. The user base for our software is growing and the necessity
of applying the patch for each installation is becoming unmanagable.
I have updated the attached crackfortran.patch file for numpy 1.3.
Thanks