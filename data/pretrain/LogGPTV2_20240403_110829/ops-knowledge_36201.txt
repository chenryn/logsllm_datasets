User: In the Linux system, how to use iptables for network security settings?
Assistant: 1. View iptables status Use the following command to view the current iptables status: ``` sudo iptables -L ``` 2. Clear all iptables rules Use the following command to clear all iptables rules: ``` sudo iptables -F ``` This command All the rules of the current iptables will be cleared, which is equivalent to resetting iptables. 3. Allow access to specified ports Use the following command to allow access to specified ports, such as port 80: ``` sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT ``` This command will Add a rule to allow TCP port 80. 4. Allow the access of the specified IP Use the following command to allow the access of the specified IP, such as allowing the access of the IP address of 192.168.1.100: ``` sudo iptables -A INPUT -s 192.168.1.100 -j ACCEPT ``` This command will be input Add a rule to the chain that allows the specified IP address. 5. Prevent access to specified ports Use the following command to deny access to specified ports, such as denying access to port 22: ``` sudo iptables -A INPUT -p tcp --dport 22 -j DROP ``` Add a rule that denies TCP port 22. 6. Allow access to all local loopback devices Use the following command to allow access to all local loopback devices: ``` sudo iptables -A INPUT -i lo -j ACCEPT ``` This command will add an allow all local loopback device to the input chain Device rules. 7. Allow traffic for established connections by using the following command: ``` sudo iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT ``` This command will Add a rule to the chain that allows established connections. 8. Block all other traffic Deny all other traffic with the following command: ``` sudo iptables -A INPUT -j DROP ``` This command will add a rule in the input chain that denies all other traffic. 9. Save iptables rules Use the following command to save iptables rules: ``` sudo iptables-save > /etc/iptables/rules.v4 ``` This command will save the current iptables rules to /etc/iptables/rules.v4 file . 10. Reload iptables rules Use the following command to reload previously saved iptables rules: ``` sudo iptables-restore < /etc/iptables/rules.v4 ``` This command will reload previously saved iptables rules.