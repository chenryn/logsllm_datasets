User:  According to the following description, configure an Nginx-based reverse proxy server. Use Nginx as a reverse proxy server to forward requests to two different web servers. It is necessary to use the round robin algorithm for load balancing, and enable the gzip compression function for all HTTP requests. The addresses of the web servers are 192.168.1.10 and 192.168.1.11 respectively, and the listening port is 80.
Assistant: The following is the reverse proxy server configuration based on Nginx: 1. Install Nginx: apt-get install nginx 2. Configure the reverse proxy service: Create a new configuration file vim /etc/ in the /etc/nginx/sites-available directory nginx/sites-available/reverse-proxy enter the following in the file: upstream web_backend { server 192.168.1.10:80; server 192.168.1.11:80; } server { listen 80; gzip on; gzip_types text/plain text/css application /json application/javascript text/xml application/xml application/xml+rss text/javascript; location / { proxy_pass http://web_backend/; } } In the above configuration, the addresses of the two web servers are defined first, through the upstream The directive defines a service cluster named web_backend. Then define a server listening on port 80, and enable gzip compression for all HTTP requests. Finally, use the location directive to define a proxy forwarding rule to forward all requests to the web_backend service cluster. 3. Enable the reverse proxy service: Create a soft link to the reverse proxy configuration in the /etc/nginx/sites-enabled directory ln -s /etc/nginx/sites-available/reverse-proxy /etc/nginx/sites- enabled/ Restart the Nginx service to make the modification take effect: service nginx restart 4. Test: Use a browser to open the IP address of the Nginx server to check whether the request is normally reverse-proxyed to the two web servers, and whether the gzip compression function takes effect.