User: Configure an nginx server so that it can handle requests from multiple domain names at the same time and realize the reverse proxy function.
Assistant: The steps are as follows: 1. Install the nginx server ``` sudo apt-get update sudo apt-get install nginx ``` 2. Configure server blocks for multiple domain names ``` sudo nano /etc/nginx/sites-available/site1. com sudo nano /etc/nginx/sites-available/site2.com ``` The specific configuration is as follows: site1.com ``` server { listen 80; server_name site1.com www.site1.com; location / { proxy_pass http:/ /localhost:8000; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } } ``` site2.com ``` server { listen 80; site2.com; location / { proxy_pass http://localhost:9000; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; Replace the port number with the respective application port. 3. Create a soft link and place the configuration files in the `sites-enabled` directory to activate them ``` sudo ln -s /etc/nginx/sites-available/site1.com /etc/nginx/sites-enabled/ sudo ln -s /etc/nginx/sites-available/site2.com /etc/nginx/sites-enabled/ ``` 4. Test whether the nginx configuration is wrong and restart the nginx service ``` sudo nginx -t sudo systemctl restart nginx ``` If the "syntax is ok" prompt appears, the nginx configuration is correct. If an error occurs, you need to modify the configuration file, retest and restart the nginx service. 5. Modify the DNS records and point the two domain names to the IP address of the server. 6. Open port 80 in the firewall (if the firewall is enabled) Now, when the user visits site1.com or www.site1.com, nginx will forward the request Go to `http://localhost:8000`; when visiting site2.com or www.site2.com, nginx will forward the request to `http://localhost:9000`. This enables nginx to handle requests from multiple domain names, and can reverse proxy to different applications.