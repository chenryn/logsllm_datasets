User: Please write an Ansible script to deploy a Java based web application.
Assistant: Here is an example of a basic Ansible script to deploy a Java-based web application on a CentOS system: ``` --- - name: Deploy Java Web Application hosts: webserver become: true vars: app_name: my_app app_version: 1.0 app_url: http://www.example.com/my_app-{{app_version}}.war tomcat_home: /opt/tomcat java_home: /usr/lib/jvm/java-1.8.0 tasks: - name: Install dependencies yum: name={{item}} state=present with_items: - tomcat - tomcat-webapps - java-1.8.0-openjdk - name: Create app directory file: path: "{{tomcat_home}}/webapps/{{app_name}} " state: directory owner: tomcat - name: Download and deploy app get_url: url: "{{app_url}}" dest: "{{tomcat_home}}/webapps/{{app_name}}.war" mode: 0440 owner: tomcat - name: Set environment variables lineinfile: dest: /etc/profile line: export JAVA_HOME="{{java_home}}" become: yes - name: Restart Tomcat service service: name: tomcat state: restarted ``` in above script Among them, the `app_name` variable represents the name of the Web application, the `app_version` variable represents the version number, the `app_url` variable represents the URL of the Web application, the `tomcat_home` variable represents the installation path of the Tomcat server, and the `java_home` variable represents the Java installation path. Tasks in the script include installing dependent packages, creating application directories, downloading and deploying web applications, setting environment variables, and restarting the Tomcat service. Variables and tasks need to be modified according to the actual situation.