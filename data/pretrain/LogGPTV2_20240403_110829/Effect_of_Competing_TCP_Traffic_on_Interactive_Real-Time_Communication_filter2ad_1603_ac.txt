Worst - 5
0.2
0.4
0.6
0.8
1
1.2
1.4
1.6
1.8
2
Time (s)
(a) With one competing TCP ﬂow, IW3
(b) With two competing TCP ﬂows, IW3
Loss Period Level for Audio with 6 short TCP flows, Jitter Buffer of 40 ms
Loss Period Level for Audio with 1 short TCP flow, Jitter Buffer of 40 ms
)
d
e
z
i
l
a
m
r
o
n
(
s
t
e
k
c
a
p
f
o
r
e
b
m
u
N
 1.2
 1.1
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
0
Best - 0
1
2
3
4
Worst - 5
0.2
0.4
0.6
0.8
1
1.2
1.4
1.6
1.8
2
Time (s)
)
d
e
z
i
l
a
m
r
o
n
(
s
t
e
k
c
a
p
f
o
r
e
b
m
u
N
 1.2
 1.1
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
0
Best - 0
1
2
3
4
Worst - 5
0.2
0.4
0.6
0.8
1
1.2
1.4
1.6
1.8
2
Time (s)
(c) With six competing TCP ﬂows, IW3
(d) With one competing TCP ﬂow, IW10
Fig. 6. Estimated loss period levels for audio packets when an audio ﬂow using 40 ms
jitter buﬀer competes with TCP transfers, 50 replications
ﬂow the loss period eﬀect is not falling to the worst level and the level is rapidly
restored after the initial window around 0.2 seconds. With two TCP ﬂows the
initial window injection causes much worse eﬀect than with one concurrent ﬂow
but still the media ﬂow is able to restore better level once the initial windows
have been transmitted. However, as the two TCP ﬂows start to open up their
window resulting in more jitter the loss period eﬀect again becomes notable.
With six concurrent connections the loss period level is very bad right from the
beginning and aﬀects almost the whole duration of the TCP transfers. Figure 6d
shows the loss period level with one competing TCP ﬂow using IW10. The worst
loss period level immediately becomes dominant like in case of six TCP ﬂows
with IW3 and remains dominant all the way until the completion of the TCP
ﬂows.
Figure 7 summarizes the estimated loss period eﬀect on the media ﬂow with
n competing TCP ﬂows when diﬀerent IW sizes are used. The loss period levels
0 and 1 are combined to determine “acceptable” level (i.e., no lost packet has
an adjacent packet lost) and all the cases with one, two, or six short TCP ﬂows
are considered together. We observe that the number of acceptable media ﬂow
102
I. J¨arvinen et al.
)
d
e
z
i
l
a
m
r
o
n
(
s
t
e
k
c
a
p
f
o
r
e
b
m
u
N
 1.2
 1.1
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
 0
200ms
150ms
100ms
80ms
60ms
40ms
 0.2
 0.4
 0.6
 0.8
 1
 1.2
 1.4
 1.6
 1.8
 2
Time (s)
)
d
e
z
i
l
a
m
r
o
n
(
s
t
e
k
c
a
p
f
o
r
e
b
m
u
N
 1.2
 1.1
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
 0
200ms
150ms
100ms
80ms
60ms
40ms
 0.2
 0.4
 0.6
 0.8
 1
 1.2
 1.4
 1.6
 1.8
 2
Time (s)
(a) IW3, 150 replications (n=1,2,6)
(b) IW10, 150 replications (n=1,2,6)
Fig. 7. Overview of the acceptable loss period level for an audio ﬂow with diﬀerent
jitter buﬀer sizes when 1, 2, and 6 TCP ﬂows using (a) IW3 and (b) IW10 compete
with the audio ﬂow
packets is clearly lower with IW10 than with IW3 for all corresponding jitter
buﬀer sizes. The aggressive start with IW10 is also likely to make the later
periods of transfer to trigger more delay-based packet discarding at the codecs.
5 Concluding Remarks
In this paper we present how interactive media ﬂows are aﬀected by concur-
rent TCP transmissions in a high-speed cellular network. Our measurements
show that the packets of the media ﬂow are heavily delayed when competing
with TCP connections, which is likely to prevent a codec from using signiﬁcant
portion of the packets before the playback deadline. Even a moderate number
of parallel TCP connections that are typically used for carrying Web page re-
sponses, for example, causes irreparable harm for a concurrent interactive media
transfer. Startup dynamics for individual TCP connections may vary between the
browsers and Web pages but we believe that our current measurements captured
the major eﬀect regardless of diﬀerent mechanisms in browsers for launching par-
allel connections. Such variations are just likely to result in numerous variants
of similar behavior.
Our experiments also indicate that during a short TCP transmission the worst
eﬀect on the media ﬂow is measured during the burst of packets that occur
because of the initial TCP window transmission, and that initial window of ten
segments is worse for the competing media ﬂow than initial window of three
segments. With a competing bulk TCP transfer, the media stream becomes
unusable for interactive purposes.
As the media ﬂow performance degradation is caused by the behavior of Web
traﬃc and deep buﬀers, we believe that the results are representative also for
other than cellular access. The performance data is available at:
http://www.cs.helsinki.ﬁ/group/wibra/pam2013-data/.
Eﬀect of Competing TCP Traﬃc on Interactive Real-Time Communication
103
References
1. Almes, G., Kalidindi, S., Zekauskas, M.: A One-way Delay Metric for IPPM. rfc
2679 (September 1999)
2. Browserscope, http://www.browserscope.org/?category=network&v=1
3. Chu, J., Dukkipati, N., Cheng, Y., Mathis, M.: Increasing TCP’s Initial Window.
Internet Draft (November 2012) (work in progress)
4. Demichelis, C., Chimento, P.: IP Packet Delay Variation Metric for IP Performance
Metrics (IPPM). rfc 3393 (November 2002)
5. Dukkipati, N., et al.: An Argument for Increasing TCP’s Initial Congestion Win-
dow. ACM SIGCOMM Computer Communications Review 40(3), 26–33 (2010)
6. Fielding, R., et al.: Hypertext Transfer Protocol – HTTP/1.1. rfc 2616 (June
1999)
7. Floyd, S., Jacobson, V.: Random Early Detection Gateways for Congestion Avoid-
ance. IEEE/ACM Transactions on Networking 1(4), 397–413 (1993)
8. Gettys, J.: IW10 Considered Harmful. Internet Draft (August 2011) (work in
progress)
9. Huang, J.: et al.: Anatomizing Application Performance Diﬀerences on Smart-
phones. In: Proceedings of the 8th International Conference on Mobile Systems,
Applications, and Services (MobiSys), pp. 165–178 (June 2010)
10. J¨arvinen, I., Ding, Y., Nyrhinen, A., Kojo, M.: Harsh RED: Improving RED for
Limited Aggregate Traﬃc. In: Proceedings of the 26th IEEE International Con-
ference on Advanced Information Networking and Applications (AINA) (March
2012)
11. Jiang, H., Liu, Z., Wang, Y., Lee, K., Rhee, I.: Understanding Buﬀerbloat in Cellu-
lar Networks. In: Proceedings of the Workshop on Cellular Networks: Operations,
Challenges, and Future Design (CellNet) at SIGCOMM 2012 (August 2012)
12. Koodli, R., Ravikanth, R.: One-way Loss Pattern Sample Metrics. rfc 3357 (Au-
gust 2002)
13. Mills, D., Martin, J., Burbank, J., Kasch, W.: Network Time Protocol Version 4:
Protocol and Algorithms Speciﬁcation. rfc 5905 (June 2010)
14. Shalunov, S., Hazel, G., Iyengar, J., Kuehlewind, M.: Low extra delay background
transport (LEDBAT). rfc 6817 (December 2012)
15. Souders, S.: Roundup on Parallel Connections (March 2008),
http://www.stevesouders.com/blog/2008/03/20/roundup-on-parallel-
connections/
16. Tan, W., Lam, F., Lau, W.: An Empirical Study on the Capacity and Performance
of 3G Networks. IEEE Transactions on Mobile Computing 7(6), 737–750 (2008)
17. TCPDUMP/LIBPCAP public repository, http://www.tcpdump.org/