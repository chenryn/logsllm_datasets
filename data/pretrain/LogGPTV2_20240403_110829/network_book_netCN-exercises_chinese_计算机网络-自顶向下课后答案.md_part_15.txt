该查询包将由交换机1重新广播，最终由主机B。
以太网帧从E接收到S2：
源IP=E的IP地址
目的地IP=B的IP地址
源MAC=E的MAC地址
目的地MAC=广播MAC地址：FF-FF-FF-FF-FF-FF。
c)交换机S1将通过两个接口广播以太网帧，因为接收到的ARP帧的目标地址是广播地址。它了解到A驻留在连接到子网1的子网1上，并且S1将更新它的转发表以包括主机A的条目。
是的，路由器S2也接收这个ARP请求消息，S2将这个查询包广播到它的所有接口。
B不会发送请求A的MAC地址的ARP查询消息，因为这个地址可以从A的查询消息中获得。
一旦交换机S1接收到B的响应消息，它将在其转发表中为主机B添加一个条目，然后删除接收到的帧，因为目的地主机A与主机B在同一个接口上(即A和B位于同一个LAN段上)。
P17、等待51200比特时间。对于10 Mbps，这个等待是
$\frac{51.2\times 10^3 bits}{10\times 10^6 bps}=5.12ms$
对于100Mbps，等待时间是512$\mu s$
P18、在t=0时A发射。在t=576时，A将完成传输。在最坏的情况下，B在时间t=324开始发送，即A的第一个帧到达B之前的时间。在时间t=324+325=649时 B的第一个比特到达A时，A在检测到B已经发送之前就完成了传输，所以A错误地认为它的帧在没有碰撞的情况下被成功地传输了。
P19、
|时间，t|事件|
|------|---|
|0|A和B开始传输|
|245|A和B检测碰撞|
|293|A和B结束拥塞信号传输|
|293+245=538|B的最后一比特到达A；A检测空闲线路|
|538+96=634|A开始传输|
|293+512=805|B返回到第二步|
||B必须对空闲信道进行96 bit的检测，然后才能传输。|
|634+245=879|A的传送到达B|
由于A的重传在B的预定重传时间(805+96)之前到达B，所以B在A重传时不进行传输，因此A和B不发生碰撞，因此指数退避算法中出现的因子512足够大。
P20、
a)设Y是表示插槽数目的随机变量，直到成功：
$P\left ( Y=m \right )=\beta \left ( 1-\beta \right )^{m-1}$
$\beta$表示成功的概率。
这是一个几何分布，它的平均值为$1/\beta$。连续浪费的插槽数为X=Y-1 其中
$x=E[X]=E[Y]-1=\frac{1-\beta}{\beta}$
$\beta = Np\left ( 1-p \right )^{N-1}$
$x=\frac{1-Np(1-p)^{N-1}}{Np(1-p)^{N-1}}=\frac{k}{k+x}=\frac{k}{k+\frac{1-Np(1-p)^{N-1}}{Np(1-p)^{N-1}}}$
效率
b)最大化效率等同于最小化x，这相当于最大化$\beta$。我们从文本中得知，$\beta$在$p=\frac{1}{N}$处是最大的。
c)效率=$\frac{k}{k+\frac{1-(1-\frac{1}{N})^{N-1}}{(1-\frac{1}{N})^{N-1}}}$
$\lim_{N \to\infty } efficiency =\frac{k}{k+\frac{1-1/e}{1/e}}=\frac{k}{k+e-1}$
d)显然，当k趋近于无穷时$\frac{k}{k+e-1}$趋近于1。
P21、
![avater](./img/4.png)
i) 从A到右路由器：
   源MAC地址：00-00-00-00-00-00 
   目的地MAC地址：22-22-22-22-22-22 
   源IP：111.111.111.001 
   目的地IP：133.333.333.003 
ii) 从交换机到右路由器：
   源MAC地址：33-33-33-33-33-33
   目的地MAC地址: 55-55-55-55-55-55 
   源IP: 111.111.111.001 
   目的地IP: 133.333.333.003 
iii) 从右路由器到F：
   源MAC地址: 88-88-88-88-88-88 
   目的地MAC地址: 99-99-99-99-99-99 
   源IP: 111.111.111.001 
   目的地IP: 133.333.333.003
P22、
i) 从A到交换机：
   源MAC地址：00-00-00-00-00-00 
   目的地MAC地址：55-55-55-55-55-55 
   源IP：111.111.111.001 
   目的地IP：133.333.333.003 
ii) 从交换机到右路由器：
   源MAC地址：00-00-00-00-00-00
   目的地MAC地址: 55-55-55-55-55-55 
   源IP: 111.111.111.001 
   目的地IP: 133.333.333.003 
iii) 从右路由器到F：
   源MAC地址: 88-88-88-88-88-88 
   目的地MAC地址: 99-99-99-99-99-99 
   源IP: 111.111.111.001 
   目的地IP: 133.333.333.003 
P23、如果所有11=9.2节点以100 Mbps的最大可能速率发送数据，则总总吞吐量为11*100=1100 Mbps是可能的。
P24、每个部门中心都是一个冲突域，最大吞吐量为100 Mbps。连接Web服务器和邮件服务器的链接的最大吞吐量为100 Mbps。因此，如果三个碰撞域以及Web服务器和邮件服务器以各自100 Mbps的最大可能速率发送数据，则11端系统之间的总总吞吐量可达到500 Mbps。
P25、所有的11端系统都将处于相同的碰撞域。在这种情况下，在11端系统中，最大总吞吐量为100 Mbps是可能的。
P26、
|行为|开关表状态|链路包前往|解释|
|---|---------|--------|---|
|B发送一帧给E|与B的MAC地址对应的交换机学习接口|A,C,D,E,F|由于交换机表是空的，所以交换机不知道与E的MAC地址对应的接口|
|E发送一帧给B|与E的MAC地址对应的交换机学习接口|B|由于交换机已经知道与B的MAC地址对应的接口|
|A发送一帧给B|与A的MAC地址对应的交换机学习接口|B|由于交换机已经知道与B的MAC地址对应的接口|
|B发送一帧给A|切换表状态与以前相同。|A|由于交换机已经知道与A的MAC地址对应的接口|
P27、
a）填充$L\cdot8$ bits需要的时间是：
$\frac{L\cdot8}{128\times 10^3 } sec = \frac{L}{16}ms$
b）对于L=1500，包化延迟为：
$\frac{1500}{16}ms=93.75 ms$
对于L=50，包化延迟为：
$\frac{50}{16}ms=3.125 ms$
c）存储和转发延迟为$\frac{L \cdot 8+40}{R}$
对于L=1500，延迟为
$\frac{1500\cdot 8+40}{622\times 10^{6}} sec \approx 19.4 \mu s$
对于L=50，存储和转发延迟<1微秒。
d）对于典型的链路速度，存储和转发延迟对于这两种情况都是很小的.然而，L=1500的分组化延迟对于实时语音应用来说太大了.
P28、EE部门这三台计算机(从左到右)的IP地址是：111.111.1.1、111.111.1.2、111.111.1.3。子网掩码为111.111.1/24。
CS部门这三台计算机(从左到右)的IP地址是：111.111.2.1、111.111.2.2、111.111.2.3。子网掩码为111.111.2/24。
连接到端口1的路由器接口卡可以配置为包含两个子接口IP地址：111.111.1.0和111.111.2.0。第一种是针对EE部门的子网，第二种是针对CS部门的子网。每个IP地址都与VLAN ID相关联。假设111.111.1.0与VLAN 11相关联，111.111.2.0与VLAN 12相关联。这意味着来自子网111.111.1/24的每一帧将被添加一个带有VLAN ID 11的802.1q标记，而来自111.111.2/24的每一帧将被添加一个带有VLAN ID 12的802.1q标记。
假设EE部门中具有IP地址111.111.1.1的主机A希望向CS部门中的主机B(111.111.2.1)发送IP数据报。主机A首先将IP数据报(目的地为111.111.2.1)封装到具有与连接到交换机端口1的路由器接口卡的MAC地址相等的目标MAC地址的帧中。一旦路由器接收到该帧，然后将其传递到IP层，该层决定通过子接口111.111.2.0将IP数据报转发到子网111.111.2/24。然后路由器将IP数据报封装成一个帧并发送到端口1。请注意，该帧有一个802.1q标记VLAN ID 12。一旦交换机接收到帧端口1，它就知道该帧被发送到ID为12的VLAN，因此交换机将该帧发送到位于CS部门的主机B。一旦主机B接收到此帧，它将删除802.1q标记。
P29、
![avater](./img/3.png)
P30、
![avater](./img/2.png)
P31、(下面的说明很简短，但包含了所有主要的关键步骤和涉及的关键协议。)
您的计算机首先使用DHCP获取IP地址。您的计算机首先在DHCP服务器发现步骤中创建一个指定为255.255.255.255的特殊IP数据报，并将其放在以太网帧中并在以太网中广播。然后，按照DHCP协议中的步骤，您的计算机能够获得具有给定租约时间的IP地址。
以太网上的DHCP服务器还为计算机提供了第一跳路由器的IP地址列表、计算机所在子网的子网掩码以及本地DNS服务器的地址(如果存在的话)。
由于您的计算机的ARP缓存最初是空的，您的计算机将使用ARP协议来获取第一跳路由器和本地DNS服务器的MAC地址。
您的计算机将首先获得您想要下载的网页的IP地址。如果本地DNS服务器没有IP地址，则计算机将使用DNS协议查找网页的IP地址。
一旦计算机拥有了网页的IP地址，如果网页不驻留在本地Web服务器中，它将通过第一跳路由器发送HTTP请求。HTTP请求消息将被分割并封装到TCP数据包中，然后进一步封装到IP数据包中，最后封装到以太网帧中。您的计算机将以太网帧发送到第一跳路由器.一旦路由器接收到这些帧，就会将它们传递到IP层，检查其路由表，然后将数据包从所有接口发送到正确的接口。
然后，您的IP包将通过互联网路由，直到它们到达Web服务器。