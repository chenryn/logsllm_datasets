and ICMPv6 slowly rising up to 9 %.
In Figure 7, we plot the application mix for the campus data sets. We again highlight
the World IPv6 Day with a red rectangle and separate different traces with a vertical
line. Similar to the IXP we notice a strong shift in the application mix during and after
the World IPv6 Day. Before the World IPv6 Day, DNS trafﬁc is in general the main
contributor. During the ramp-up to the World IPv6 Day, at and post the World IPv6 Day,
we see that HTTP is dominating with a share of up to 97 %. The DNS trafﬁc volume
remains unchanged (1–2 GB/day), indicating that it is caused by server-to-server DNS
communication and not client requests.
Inside 6in4 tunnels: Since we separately observe multiple different IPv6 tunneling
mechanisms at the IXP, we next analyze a breakdown of the application mix according
to the tunneling protocol. However, we discuss only 6in4 tunnels since Teredo is almost
entirely control trafﬁc and AYIYA lacks volume to provide meaningful results. In 6in4
trafﬁc, which is responsible for more than 32 % of the volume, the most prevalent pack-
ets are IPv6 fragments. Further examination of these fragments reveals that half of them
have a size of 1,280 bytes (at offset 0), while the other half has 96 bytes. Almost all of
the fragments use UDP as transport protocol. We investigated the fragments with offset
0 to get the UDP port numbers, which appear to be random. Assuming these fragments
belong together, the size of the original IPv6 packet before fragmentation would have
been 1,320 bytes, which is the minimum IPv6 MTU of 1,280 plus the size of an IPv6
header. We speculate that a broken client software tried to send packets with minimum
MTU to prevent fragmentation but forgot to account for the IPv6 header. Before the
World IPv6 Day, HTTP was typically at 1–5 % of the trafﬁc volume. During and after
the World IPv6 Day, the HTTP fraction increases to 10–16 %. Unknown trafﬁc is at
45 % before and at 52 % during and after the World IPv6 Day.
●
●
●
●
●
●
●
Investigating IPv6 Trafﬁc
17
e
m
u
o
v
f
l
o
t
n
e
c
r
e
P
100
80
60
40
20
0
l
e
m
u
o
v
f
o
t
n
e
c
r
e
P
100
80
60
40
20
0
7
−
6
−
5
−
4
−
3
−
2
−
1
−
D
6
W
1
+
2
+
3
+
4
+
5
+
6
+
7
+
8
+
9
+
0
1
+
1
1
+
2
1
+
3
1
+
4
1
+
1
6
+
2
6
+
3
6
+
4
6
+
5
6
+
6
6
+
7
6
+
Fig. 6. Application mix per day for native IPv6 trafﬁc (IXP)
unknown
wellknown
smtp
dns
rsync
ssh
icmp6
nntp
http
unknown
well−known
ftp−data
ssh
ssl
dns
http
6
−
5
−
4
−
3
−
2
−
1
−
D
6
W
1
+
2
+
9
+
0
1
+
1
1
+
2
1
+
6
1
+
7
1
+
8
1
+
9
1
+
0
2
+
1
2
+
2
2
+
Fig. 7. Application mix per day for all IPv6 trafﬁc (campus)
5 Trafﬁc Sources
Since HTTP dominates in the campus environment (up to 97 % of total volume), we
analyze HTTP in more detail. We utilize Bro’s HTTP analyzer and extract the HTTP
server name from the Host header ﬁeld. We use this information to group HTTP requests
by their destination (e.g., YouTube) and plot the result in Figure 8. The “open source”
category consists of HTTP-enabled open source software sites, including freebsd.org,
mozilla.com, and ubuntu.com. The “gov” and “edu” categories contain all sites under
their respective top level domains.
We ﬁnd that the mix of popular HTTP sites varies from day to day before the World
IPv6 Day. Open source and edu sites have signiﬁcant shares and a large fraction of the
trafﬁc is generated by “other” sites. During and after the World IPv6 Day, we observe
a signiﬁcant change with YouTube and Google being responsible for most IPv6 HTTP
trafﬁc. According to our data, Google enabled IPv6 just before the ofﬁcial start of the
World IPv6 Day and disabled IPv6 again after the World IPv6 Day. In contrast, we
observe that YouTube kept IPv6 enabled after the World IPv6 Day. Considering that
HTTP dominates the application mix and YouTube dominates the HTTP mix after the
World IPv6 Day, we conclude that a large volume of IPv6 trafﬁc after the World IPv6
Day is contributed by YouTube.
At the IXP we see more than 3,500 unique IPv6 preﬁxes. We investigate the largest
preﬁxes in terms of IPv6 trafﬁc volume. Figure 9 shows three out of the top 10 preﬁxes
from the World IPv6 Day. With the help of the IXP we were able to identify preﬁx A
as belonging to a large content provider, and preﬁxes B and C as large IPv6 enabled
18
N. Sarrar et al.
e
m
u
o
v
f
l
o
t
n
e
c
r
e
P
100
80
60
40
20
0
other
edu
gov
Facebook
open source
Google
YouTube
6
−
5
−
4
−
3
−
2
−
1
−
D
6
W
1
+
2
+
9
+
0
1
+
1
1
+
2
1
+
6
1
+
7
1
+
8
1
+
9
1
+
0
2
+
1
2
+
2
2
+
Fig. 8. Daily HTTP mix (campus)
stub networks. Only preﬁx A is actively participating on the World IPv6 Day. Yet, all
of them see a roughly ten-fold sustained increase in trafﬁc volume since the IPv6 day.
This highlights that passively participating networks can exhibit as much of a change
as actively participating ones.
6 Related Work
To the best of our knowledge this paper is the ﬁrst to perform a systematic study of the
IPv6 trafﬁc around the World IPv6 Day. However, there are a number of reports about
IPv6 and the World IPv6 Day in the proceedings of the IETF 81 meeting in Canada,
July 2011, contributed by the Operations and Management working group.
Palmer and Thaler from Microsoft provide an experience report [12] about the IPv6
activation of several Microsoft’s domains. They report having only few connectivity
issues. Windows Vista and Windows 7 dominate the observed system types. 91 % of the
connections were native IPv6, and less than 1 % were using Teredo. This is consistent
with our results about the idleness of Teredo tunnels, and also surprising since Microsoft
has enabled Teredo tunneling as a default service since Windows Vista.
Bob Hinden from Check Point reports in [6] about their experience of enabling IPv6
for their company website by using load balancers to handle IPv6. They encountered
less difﬁculties than expected and kept IPv6 active after the World IPv6 Day.
Comcast provides a summary of their IPv6 experiences in [1]. Comcast deployed
SMTP over IPv6 by duplicating their infrastructure. Consistent with our results, they
report a signiﬁcant sustained increase of IPv6 trafﬁc at the World IPv6 Day.
In contrast to this study, the above reports were limited to either a few web sites of a
single operator, or in case of Comcast to a set of test customers. Still, the reported IPv6
trafﬁc trends and conclusions are consistent with our results.
Hurricane Electric is an early IPv6 adopter—they enabled IPv6 in 2001. Similar to
other reports, they observed [9] an IPv6 trafﬁc increase during and after the World IPv6
Day. They also report on path MTU problems and ICMPv6 blocking caused by too
aggressive ﬁltering. In addition, they ﬁnd that 11 % of ASes are present in the IPv6
routing table in August 2011, up from 3.6 % three years earlier.
Wijnen et al. [15] present results from active measurements including DNS, ping6,
traceroute6, and HTTP probes. The data was gathered from 40 different vantage points
0
0
0
1
.
0
0
1
.
0
0
1
0
0
.
1
0
0
.
0
Investigating IPv6 Trafﬁc
19
Prefix A
Prefix B
Prefix C
h
t
i
d
w
d
n
a
b
6
v
P
I
d
e
z
i
l
a
m
r
o
N
1 week before
World IPv6 Day
1 week after
9 weeks after
Fig. 9. Normalized bandwidth of all IPv6 trafﬁc per preﬁx before, at, and post the World IPv6
Day (IXP). The plot shows three examples out of the top ten high-volume IPv6 preﬁxes. Note the
log-scale y-axis.
from June 1st through June 11th, 2011. For example, they performed DNS AAAA
queries to participating websites and found that nearly all World IPv6 Day participant
web sites could be resolved successfully from all of their vantage points. Interestingly,
the results also indicate effects due to negative caching of DNS records, as a number of
vantage points were not able to resolve AAAA records of some participant, while other
vantage points were. Furthermore, they show that after the World IPv6 Day, a number
of web sites disabled IPv6 connectivity immediately, while DNS servers continued to
return AAAA records for as long as half a day.
Claffy [3] provides an extensive survey of available data that enables tracking of
IPv6 deployments, performs comparisons with IPv6 at the topology and the DNS level,
and calls out to researchers and industry to provide more data. With our paper, we can
contribute to some of the areas identiﬁed by Claffy, in particular utilization at access
and interconnection links, application mix, and IPv6 tunneling.
Labovitz [8] performs a pre World IPv6 Day study of IPv6 trafﬁc across several
providers and presents an application mix including tunneled trafﬁc in which P2P trafﬁc
dominates. In addition, our paper characterizes how different tunneling protocols are
being used.
Cho et al. [2] performed a very early study of IPv6 path problems and latencies
compared to IPv4. Limoncelli et al. [10] compare rollout strategies for IPv6. Gu´erin
et al. [5] model incentives in IPv6 deployment.
7 Summary
In this paper, we conduct the ﬁrst systematic analysis of IPv6 trafﬁc around the World
IPv6 Day. We rely on data collected at two vantage points: a large European Internet
Exchange Point and the campus of a major US university. We analyze the trafﬁc volume,
application mix, and the use of tunneling protocols for transporting IPv6 packets.
We ﬁnd that native IPv6 trafﬁc almost doubled during the World IPv6 Day, while
changes in tunneled trafﬁc were limited. Teredo tunnels contribute a signiﬁcant fraction
to IPv6 trafﬁc, yet only carry control trafﬁc. We observe signiﬁcant changes in the
application mix during the World IPv6 Day, with the IPv6 application mix becoming
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
●
20
N. Sarrar et al.
similar to the IPv4 one. We ﬁnd a large amount of fragmented IPv6 packets inside
6in4 tunnels for which broken software is a likely cause. Our results also show that a
signiﬁcant number of participants at the World IPv6 Day kept their IPv6 support online
even after the test period ended, suggesting that they did not encounter any signiﬁcant
problems.
Acknowledgements. This work was supported in part by a fellowship within the post-
doctoral program of the German Academic Exchange Service (DAAD) and by NSF
Awards CNS-0855125 and OCI-1032889. Any opinions, ﬁndings, and conclusions or
recommendations expressed in this material are those of the authors or originators and
do not necessarily reﬂect the views of DAAD or the National Science Foundation.
References
1. Brzozowski, J., Grifﬁths, C.: Comcast IPv6 Trial/Deployment Experiences, Internet-Draft:
draft-jjmb-v6ops-comcast-ipv6-experiences-01 (July 2011)
2. Cho, K., Luckie, M., Huffaker, B.: Identifying ipv6 network problems in the dual-stack
world. In: Proceedings of the ACM SIGCOMM Workshop on Network Troubleshooting:
Research, Theory and Operations Practice Meet Malfunctioning Reality, NetT 2004, pp.
283–288. ACM, New York (2004)
3. Claffy, k.: Tracking ipv6 evolution: data we have and data we need. SIGCOMM Comput.
Commun. Rev. 41, 43–48
4. Dreger, H., Feldmann, A., Mai, M., Paxson, V., Sommer, R.: Dynamic application-layer
protocol analysis for network intrusion detection. In: Proc. USENIX Security Symposium
(2006)
5. Gu´erin, R., Hosanagar, K.: Fostering ipv6 migration through network quality differentials.
SIGCOMM Comput. Commun. Rev. 40, 17–25 (2010)
6. Hinden, B.: Check Point’s World IPv6 Day Experience. IETF 81 V6OPS,
http://www.ietf.org/proceedings/81/slides/v6ops-2.pptx
7. Kim, J., Schneider, F., Ager, B., Feldmann, A.: Today’s Usenet Usage: Characterizing NNTP
Trafﬁc. In: Proc. IEEE Global Internet Symposium (2010)
8. Labovitz, C.: Six month, six providers and IPv6. Tech. rep. (March 2011),
http://www.monkey.org/˜labovit/papers/v6sixmonths.pdf
9. Levy, M.: IETF 81 - World IPv6 Day Operators Review. IETF 81 V6OPS,
http://www.ietf.org/proceedings/81/slides/v6ops-19.pdf
10. Limoncelli, T.A., Cerf, V.G.: Successful strategies for ipv6 rollouts. really. Commun.
ACM 54, 44–48 (2011)
11. Maier, G., Feldmann, A., Paxson, V., Allman, M.: On dominant characteristics of residential
broadband internet trafﬁc. In: Proc. Internet Measurement Conf., IMC (2009)
12. Palmer, C., Thaler, D.: World IPv6 Day at Microsoft. IETF 81 V6OPS,
http://www.ietf.org/proceedings/81/slides/v6ops-1.pptx
13. Paxson, V.: Bro: A system for detecting network intruders in real-time. Computer Networks
Journal 31, 2435–2463 (1999), Bro homepage: http://www.bro-ids.org
14. InMon: sFlow Toolkit, http://www.inmon.com/technology/sflowTools.php
15. Wijnen, B., Aben, E., Wilhelm, R., Kisteleki, R.: World IPv6 Day—What did we learn? IETF
81 V6OPS, http://www.ietf.org/proceedings/81/slides/v6ops-4.pdf