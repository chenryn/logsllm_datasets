### Title: Good Intentions, Flawed Execution: Pitfalls in MPU Usage in Embedded Systems

As the number of microcontroller-based embedded devices connected to the Internet continues to grow, as part of the Internet of Things (IoT), previously less scrutinized and potentially insecure devices are becoming more exposed to malicious actors. To mitigate these risks, the Memory Protection Unit (MPU), a feature available on many of these devices, has the potential to enhance security. We conducted a comprehensive study on the adoption of MPUs in leading operating systems for microcontrollers. Our investigation focused on whether MPUs are supported, how they are utilized, and whether the intended security benefits are effectively realized.

Despite the potential, we found that MPUs have not been widely adopted in real-world products, largely due to the added complexity and compatibility issues. Furthermore, even when MPUs are implemented, they often fail to meet their intended security goals and can be easily bypassed in many scenarios. We demonstrate this through concrete attacks on FreeRTOS and RIoT.

Our findings have been reported to the relevant parties. Additionally, we delve into the root causes of this situation. We hope that our research will inspire further investigation into innovative and effective uses of MPUs in microcontrollers.