title:OSPF failure reconvergence through SRG inference and prediction
of link state advertisements
author:Bart Puype and
Dimitri Papadimitriou and
Goutam Das and
Didier Colle and
Mario Pickavet and
Piet Demeester
OSPF failure reconvergence through SRG inference and
prediction of link state advertisements
Bart Puype
Dept. of Information
Technology (IBCN)
Ghent University - IBBT
Ghent, Belgium
PI:EMAIL
Dimitri Papadimitriou
Alcatel-Lucent Bell
Antwerp, Belgium
dimitri.papadimitriou@alcatel-
lucent.com
Goutam Das
Dept. of Information
Technology (IBCN)
Ghent University - IBBT
Ghent, Belgium
PI:EMAIL
Didier Colle
Dept. of Information
Technology (IBCN)
Ghent University - IBBT
Ghent, Belgium
PI:EMAIL
Mario Pickavet
Dept. of Information
Technology (IBCN)
Ghent University - IBBT
Ghent, Belgium
PI:EMAIL
Piet Demeester
Dept. of Information
Technology (IBCN)
Ghent University - IBBT
Ghent, Belgium
PI:EMAIL
ABSTRACT
We demonstrate machine learning augmented Open Shortest
Path First (OSPF) routing which infers Shared Risk Groups
(SRG) from link failure history. For an initial link failure
matching an SRG, it predicts subsequent link state adver-
tisements corresponding with that SRG, improving conver-
gence and recovery times during multiple network failures.
Categories and Subject Descriptors
C.2.2 [Computer Systems Organization]: Computer-
communication Networks—Network Protocols; I.2.6 [Computing
Methodologies]: Artiﬁcial Intelligence—Learning
General Terms
Experimentation
Keywords
OSPF, machine learning, cognitive routing, network recov-
ery, shared risk group
1.
INTRODUCTION
As part of the Future Internet Research and Experimenta-
tion (FIRE) initiative within the European Seventh Frame-
work Programme, the ECODE (Experimental COgnitive Dis-
tributed Engine) project [1] designs, evaluates and experi-
ments cognitive routing system functionality using online
distributed machine learning techniques.
In this demonstration, concurrent failures under Open
Shortest Path First (OSPF [2]) link state routing are consid-
ered. A machine learning engine (MLE) was developed and
implemented, which clusters and data-mines multiple net-
work failures from locally received OSPF routing informa-
tion sequences. From these, it predicts link state advertise-
ments (LSA) for future concurrent failures and coordinates
Copyright is held by the author/owner(s).
SIGCOMM’11, August 15–19, 2011, Toronto, Ontario, Canada.
ACM 978-1-4503-0797-0/11/08.
Figure 1: Routing system functional overview
with OSPF to speed-up convergence connectivity recovery.
The MLE is inserted in the router architecture as part of the
control plane (Fig. 1). This experiment uses the ECODE
cognitive routing platform, based on the eXtensible Open
Routing Platform (XORP) [3].
2. SRG INFERENCE
Layered networks often suﬀer from concurrent upper layer
failures of multiple links (the shared risk group or SRG)
caused by failure of a single lower layer resource. It might
seem SRG information may be derived from the current
network conﬁguration. In reality, IP link topology is often
constructed on top of diﬀerent network layers and domains,
e.g., IP links carried over optical channels provided by diﬀer-
ent operators leasing ﬁbers in the same physical duct. This
makes SRG disjointness a hard problem. Furthermore, si-
multaneous failures can trigger multiple successive routing
table re-computations.
In this work, machine learning is
used to identify and predict SRGs from statistical informa-
tion embedded in LSAs, without a-priori SRG knowledge.
The XORP OSPF module’s process-ﬂow in-between LSA
reception and routing table re-computation was modiﬁed,
to allow interaction with the MLE module (Fig. 2), which
Routing engineRIBForwardingengineFIBcontrolforwardingpacketlinkstateMachine learningengineKIBMonitoringenginepacketlinkstatelearnedrulesand decisionsRouting engineRIBForwardingengineFIBcontrolforwardingpacketlinkstateMachine learningengineKIBMonitoringenginepacketlinkstatelearnedrulesand decisions468Figure 2: Flow model of OSPF and SRG inference
interactions
Figure 4: Video stream traces showing recovery
times
First, both SRGs are failed and recovered (i.e., the OSPF
adjacencies are interrupted and then re-established) once.
This allows the SRG inference algorithm to learn the exis-
tence of these SRGs. Initially, both cases show normal OSPF
reconvergence — the three streams are recovered one by one
as the failures in each of the paths links are detected. Note
that the SRG2 link corresponding with end-to-end connec-
tivity for stream 1 is detected locally through a hardware
alarm, yielding faster detection than normal Hello protocol
based neighbor discovery seen for the other streams. Next,
the SRGs are both failed again, to show the improvement
oﬀered by the SRG inference. For the SRG inference sce-
nario the streams are now recovered simultaneously as the
ﬁrst LSA arrives. When one of the failing links in a SRG is
detected locally, all SRG links and thus all streams beneﬁt
from this fast detection, which allows for sub 25 ms recovery
in the demonstration setup.
5. ACKNOWLEDGMENTS
This research work is (partially) funded by the European
Commission (EC) through the ECODE project (INFSO-
ICT-223936), part of the European Seventh Framework Pro-
gramme (FP7).
6. REFERENCES
[1] ECODE project. http://www.ecode-project.eu/.
[2] J. Moy. OSPF Version 2. RFC 2328, IETF, April 1998.
[3] XORP, eXtensible Open Router Platform,
http://www.xorp.org/.
[4] G. Das et al. Link state protocol data mining for shared
risk link group detection. In 19th Int. Conf. on
Computer Communications and Networks (ICCCN
2010), Zurich, Switzerland, August 2010.
[5] G. Das et al. SRLG identiﬁcation from time series
analysis of link state data. In 3rd Int. Conf. on
Communication Systems and Networks (COMSNET
2011), Bangalore, India, January 2011.
[6] Demonstration video.
http://users.ugent.be/˜bpuype/pub/sigcomm2011/.
Figure 3: Network and SRG information screenshot
runs the SRG inference algorithm receiving link failure event
data from OSPF running in the local routing engine. The
algorithm learns SRGs from this data using techniques de-
veloped in [4][5], and passes the SRG prediction information
on to OSPF.
3. DEMONSTRATION
SRG inference is demonstrated on an emulated OSPF area
which is augmented with the machine learning component.
The setup visualizes network connectivity by displaying a
graph model of the network and SRG information on one
screen (Fig. 3), as well as showing output of several video
streams transported over the network on a second screen,
allowing spectators to verify the impact on network connec-
tivity of multiple link failures. We compare standard OSPF
which oﬀers slow, piece-wise recovery of connectivity, versus
SRG inference augmented OSPF operation which reroutes
and recovers for all links in an entire SRG at once. A video
of the demonstration is available [6].
4. RESULTS
Fig. 4 shows packet traces obtained when applying the
proposed technique to recover three video streams. The
streams are routed over diﬀerent paths, visiting a set of
spread-out links in two SRGs. Recovery times for normal
OSPF (top three traces) and SRG inference augmented OSPF
(bottom three traces) are shown.
updatepart ofSRG?knownSRG?recomputeYY (SRG set)NN…OSPFMLELSA traceLSAhistorystateLSASRG?1234YNNYSRG1,44,1LSASRG?1234YNNYLSA1234SRG1,44,1xrlxrl:LSASRG?1234YNNYSRG1,44,1:LSASRG?1234YNNYLSA1234SRG1,44,1xrlDelay =TrecompPruned Links = SRGDelay = TSRLGTrecomp= 1sInformationLSA updatestandardSRG inferencelocal failureSRG2(learned)SRG1(learned)SRG2SRG1Stream 3Stream 2Stream 1Stream 3Stream 2Stream 1timestreampacket arrivalshello protocolbased detectionlocal detectionsimultaneousrecovery<25msrecovery469