25.8.4.10 enable_global_stats
参数说明：标识当前统计信息模式，区别采用全局统计信息收集模式还是单节点统计信
息收集模式，默认创建为采用全局统计信息模式。当关闭该参数时，则默认收集GBase8s
第一个节点的统计信息，此时可能会影响生成查询计划的质量，但信息收集性能较优，建议
客户谨慎考虑。
该参数属于SUSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on/true表示全局统计信息。
 off/false表示数据库节点统计信息。
默认值：on
25.8.4.11 enable_opfusion
参数说明：控制是否对简单增删改查进行优化。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
简单查询限制如下：
 只支持indexscan和indexonlyscan，且全部WHERE语句的过滤条件都在索引上。
 只支持单表增删改查，不支持join、using。
 只支持行存表，不支持分区表，表不支持有触发器。
 不支持activesql、QPS等信息统计特性。
 不支持正在扩容和缩容的表。
 不支持查询或者修改系统列。
南大通用数据技术股份有限公司
1277
GBase 8s V8.8开发者手册
 只支持简单SELECT语句，例如：
SELECTc3FROMt1WHEREc1=?andc2=10;
仅可以查询目标表的列，c1和c2列为索引列，后边可以是常量或者参数，可以使用 for
update。
 只支持简单INSERT语句，例如：
INSERTINTOt1VALUES(?,10,?);
仅支持一个VALUES，VALUES里面的类型可以是常量和参数，不支持returning。
 只支持简单DELETE语句，例如：
DELETEFROMt1WHEREc1=?andc2=10;
c1和c2列为索引列，后边可以是常量或者参数。
 只支持简单UPDATE语句，例如：
UPDATEt1SETc3=c3+?WHEREc1=?andc2=10;
c3列修改的值可以是常量和参数，也可以是一个简单的表达式，c1和c2列为索引列，
后边可以是常量或者参数。
取值范围：布尔型
 on表示使用。
 off表示不使用。
默认值：on
25.8.4.12 enable_partition_opfusion
参数说明：在enable_opfusion参数打开的状态下，如果开启该参数，可以对分区表的
简单查询进行查询优化，提升SQL执行性能。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on表示使用。
南大通用数据技术股份有限公司
1278
GBase 8s V8.8开发者手册
 off表示不使用。
默认值：off
25.8.4.13 sql_beta_feature
参数说明：标识开启的可选SQL引擎Beta特性，其中包括对行数估算、查询等价估算
等优化。
开启它们可以对特定的场景进行优化，但也可能会导致部分没有被测试覆盖的场景发生
性能劣化。在特定的客户场景中，通过此GUC参数对查询重写规则进行设置，使得查询效
率最优。
此参数可以控制SQL引擎Beta特性的组合，比如有多个Beta特性：feature1、feature2、
feature3、feature4。可以设置：
--启用SQL引擎Beta特性feature1。
set sql_beta_feature=feature1;
--启用SQL引擎Beta特性feature2和feature3。
set sql_beta_feature=feature2,feature3;
--关闭所有可选SQL引擎Beta特性。
set sql_beta_feature=none;
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：字符串
 none：不使用任何Beta优化器特性。
 sel_semi_poisson：使用泊松分布对等值的半连接和反连接选择率进行校准。
 sel_expr_instr: 使用字符串匹配的行数估算方法对instr(col,'const') >0、=0、 =1
进行更准确的估算。
 param_path_gen：生成更多可能的参数化路径。
 rand_cost_opt：对小数据量表的随机读取代价进行优化。
南大通用数据技术股份有限公司
1279
GBase 8s V8.8开发者手册
 param_path_opt：利用表的膨胀系数优化索引analyze信息。
 page_est_opt：优化对非列存表索引analyze信息的relpages估算。
 no_unique_index_first：关闭主键索引扫描路径优先的优化。
 join_sel_with_cast_func：估算join行数的时候支持类型转换函数。
 canonical_pathkey：正则化pathkey生成置后（pathkey是指标记数据有序性键值的
集合）。
 index_cost_with_leaf_pages_only：估算索引代价时考虑索引叶子结点。
 partition_opfusion：开启分区表优化。
 a_style_coerce：开启Decode类型转换规则兼容O，详见对于case，在ORA兼容模
式下的处理。
 partition_fdw_on：支持基于分区表创建postgresforeigntable下的相关SQL。
 predpush_same_level：开启predpushhint控制同层参数化路径的功能。
默认值：none
25.8.4.14 ngram_gram_size
参数说明：ngram解析器分词的长度。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，1～4
默认值：2
25.8.4.15 ngram_grapsymbol_ignore
参数说明：ngram解析器是否忽略图形化字符。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on表示忽略图形化字符。
南大通用数据技术股份有限公司
1280
GBase 8s V8.8开发者手册
 off表示不忽略图形化字符。
默认值：off
25.8.4.16 ngram_punctuation_ignore
参数说明：ngram解析器是否忽略标点符号。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on表示忽略标点符号。
 off表示不忽略标点符号。
默认值：on
25.8.4.17 default_statistics_target
参数说明：为没有用ALTERTABLESETSTATISTICS设置字段目标的表设置缺省统计
目标。此参数设置为正数时，代表统计信息的样本数量；设置为负数时，代表使用百分比的
形式设置统计目标，负数转换为对应的百分比，即-5代表5%。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，-100～10000。
须知：
 比默认值大的正数数值增加了ANALYZE所需的时间，但是可能会改善优化器的
估计质量。
 调整此参数可能存在性能劣化的风险，如果某个查询劣化，可以考虑：
1. 恢复默认的统计信息。
2. 使用planhint来调整到之前的查询计划。（详细参见使用PlanHint进行调优）
 当此guc参数设置为负数时，如果计算的采样样本数大于等于总数据量的2%，且
用户表的数据量小于1600000时，ANALYZE所需时间相比guc参数为默认值的时
南大通用数据技术股份有限公司
1281
GBase 8s V8.8开发者手册
间会有所增加。
 当此guc参数设置为负数时，则autoanalyze不生效。
默认值：100
25.8.4.18 constraint_exclusion
参数说明：控制查询优化器使用表约束查询的优化。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：枚举类型
 on表示检查所有表的约束。
 off表示不检查约束。
 partition表示只检查继承的子表和UNIONALL子查询。
须知： 当constraint_exclusion为on，优化器用查询条件和表的CHECK约束比
较，并且在查询条件和约束冲突的时候忽略对表的扫描。
默认值：partition
说明： 目前， constraint_exclusion缺省被打开，通常用来实现表分区。如果所有
的表都打开它，对于简单的查询强加了额外的规划，并且对简单查询没有益处。如果不用分
区表，可以关掉它。
25.8.4.19 cursor_tuple_fraction
参数说明：优化器估计游标获取行数在总行数中的占比。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：浮点型，0.0～1.0。
须知： 比默认值小的值与使用“faststart”为游标规划的值相偏离，从而使得前几
行恢复的很快而抓取全部的行需要很长的时间。比默认值大的值加大了总的估计的时间。在
南大通用数据技术股份有限公司
1282
GBase 8s V8.8开发者手册
最大的值1.0处，像正常的查询一样规划游标，只考虑总的估计时间和传送第一行的时间。
默认值：0.1
25.8.4.20 from_collapse_limit
参数说明：根据生成的FROM列表的项数来判断优化器是否将把子查询合并到上层查
询，如果FROM列表项个数小于等于该参数值，优化器会将子查询合并到上层查询。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，1～INT_MAX。
须知： 比默认值小的数值将降低规划时间，但是可能生成差的执行计划。
默认值：8
25.8.4.21 join_collapse_limit
参数说明：根据得出的列表项数来判断优化器是否执行把除FULLJOINS之外的JOIN
构造重写到FROM列表中。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，1～INT_MAX。
须知：
 设置为1会避免任何JOIN重排。这样就使得查询中指定的连接顺序就是实际的连
接顺序。查询优化器并不是总能选取最优的连接顺序，高级用户可以选择暂时把这
个变量设置为1，然后指定它们需要的连接顺序。
 比默认值小的数值减少规划时间但也降低了执行计划的质量。
默认值：8
25.8.4.22 plan_mode_seed
参数说明：该参数为调测参数，目前仅支持OPTIMIZE_PLAN和RANDOM_PLAN两
种。其中： OPTIMIZE_PLAN表示通过动态规划算法进行代价估算的最优plan，参数值设
南大通用数据技术股份有限公司
1283
GBase 8s V8.8开发者手册
置为0；RANDOM_PLAN表示随机生成的plan；如果设置guc参数值为-1，表示用户不指
定随机数的种子标识符seed值，由优化器随机生成[1,2147483647]范围整型值的随机数，并
根据随机数生成随机的执行计划。 如果设置guc参数值为[1,2147483647]范围的整型值，
表示指定的生成随机数的种子标识符seed，优化器需要根据seed值生成随机的执行计划。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，-1~2147483647
默认值：0
须知：
 当该参数设置为随机执行计划模式时，优化器会生成不同的随机执行计划，该执行
计划可能不是最优计划。因此在随机计划模式下，会对查询性能产生影响，所以建
议在升级、扩容、缩容等正常业务操作或运维过程中将该参数保持为默认值0。
 当该参数不为0时，查询指定的planhint不会生效。
25.8.4.23 hashagg_table_size
参数说明：用于设置执行HASHJOIN操作时HASH表的大小。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，0～INT_MAX/2。
默认值：0
25.8.4.24 enable_codegen
参数说明：标识是否允许开启代码生成优化，目前代码生成使用的是LLVM优化。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on表示允许开启代码生成优化。
 off表示不允许开启代码生成优化。
南大通用数据技术股份有限公司
1284
GBase 8s V8.8开发者手册
须知： 目前LLVM优化仅支持向量化执行引擎特性和SQLonHadoop特性，在
其他场景下建议关闭此参数。
默认值：on
25.8.4.25 codegen_strategy
参数说明：标识在表达式codegen化过程中所使用的代码生成优化策略。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：枚举类型
 partial表示当所计算表达式中即使包含部分未被codegen化的函数时，仍可借助表
达式全codegen框架调用LLVM动态编译优化策略。
 pure表示当所计算表达式整体可被codegen化时，才考虑调用LLVM动态编译优
化策略。
须知： 在开启代码生成优化会导致查询性能下降的场景下可以设置此参数为
pure，其他场景下建议不改变此参数的默认值partial。
默认值：partial
25.8.4.26 enable_codegen_print
参数说明：标识是否允许在log日志中打印所生成的LLVMIR函数。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on表示允许在log日志中打印IR函数。
 off表示不允许在log日志中打印IR函数。
默认值：off
南大通用数据技术股份有限公司
1285
GBase 8s V8.8开发者手册
25.8.4.27 codegen_cost_threshold
参数说明：由于LLVM编译生成最终的可执行机器码需要一定时间，因此只有当实际
执行的代价大于编译生成机器码所需要的代码和优化后的执行代价之和时，利用代码生成才
有收益。codegen_cost_threshold标识代价的阈值，当执行估算代价大于该代价时，使用LLVM
优化。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，0~2147483647。
默认值：10000
25.8.4.28 enable_bloom_filter
参数说明：标识是否允许使用BloomFilter优化。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on表示允许使用BloomFilter优化。
 off表示不允许使用BloomFilter优化。
默认值：on
25.8.4.29 enable_extrapolation_stats
参数说明：标识对于日期类型是否允许基于历史统计信息使用推理估算的逻辑。使用该
逻辑对于未及时收集统计信息的表可以增大估算准确的可能性，但也存在错误推理导致估算
过大的可能性，需要对于日期类型数据定期插入的场景开启此开关。
该参数属于SUSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on表示允许基于历史统计信息使用推理估算的逻辑。
 off表示不允许基于历史统计信息使用推理估算的逻辑。
默认值：off
南大通用数据技术股份有限公司
1286
GBase 8s V8.8开发者手册
25.8.4.30 autoanalyze
参数说明：标识是否允许在生成计划的时候，对于没有统计信息的表进行统计信息自动
收集。对于外表和临时表，不支持autoanalyze，如果需要收集统计信息，用户需手动执行
analyze操作。如果在autoanalyze某个表的过程中数据库发生异常，当数据库正常运行之后
再执行语句有可能仍提示需要收集此表的统计信息。此时需要用户对该表手动执行一次
analyze操作，以同步统计信息数据。
该参数属于SUSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on表示允许自动进行统计信息收集。
 off表示不允许自动进行统计信息收集。
默认值：off
25.8.4.31 enable_analyze_check