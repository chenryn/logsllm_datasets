    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/object_detection/defs.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/quantization/defs.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/reduction/defs.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/rnn/defs.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/rnn/old.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/schema.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/tensor/defs.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/tensor/old.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/tensor/utils.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/tensor_proto_util.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/traditionalml/defs.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/defs/traditionalml/old.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/onnxifi_utils.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/optimizer/optimize.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/optimizer/pass.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/optimizer/pass_manager.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/optimizer/pass_registry.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/shape_inference/implementation.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/version_converter/convert.cc.o
    [ 45%] Building CXX object third_party/onnx/CMakeFiles/onnx.dir/onnx/version_converter/helper.cc.o
    [ 45%] Linking CXX static library ../../lib/libonnx.a
    [ 45%] Built target onnx
    [ 45%] Building HIPCC object caffe2/CMakeFiles/torch.dir/__/aten/src/THH/torch_generated_THHBlas.hip.o
    [ 45%] Building HIPCC object caffe2/CMakeFiles/torch.dir/__/aten/src/THH/torch_generated_THHStorageCopy.hip.o
    [ 45%] Generating ../../torch/csrc/autograd/generated/Functions.cpp, ../../torch/csrc/autograd/generated/VariableType_0.cpp, ../../torch/csrc/autograd/generated/VariableType_1.cpp, ../../torch/csrc/autograd/generated/VariableType_2.cpp, ../../torch/csrc/autograd/generated/VariableType_3.cpp, ../../torch/csrc/autograd/generated/VariableType_4.cpp, ../../torch/csrc/jit/generated/register_aten_ops_0.cpp, ../../torch/csrc/jit/generated/register_aten_ops_1.cpp, ../../torch/csrc/jit/generated/register_aten_ops_2.cpp, ../../torch/csrc/nn/THNN.cpp, ../../torch/csrc/nn/THCUNN.cpp, ../../torch/csrc/autograd/generated/VariableType.h, ../../torch/csrc/autograd/generated/Functions.h, ../../torch/csrc/autograd/generated/variable_factories.h, ../../torch/csrc/autograd/generated/python_functions.cpp, ../../torch/csrc/autograd/generated/python_variable_methods.cpp, ../../torch/csrc/autograd/generated/python_torch_functions.cpp, ../../torch/csrc/autograd/generated/python_nn_functions.cpp, ../../torch/csrc/autograd/generated/python_functions.h, ../../torch/csrc/autograd/generated/python_variable_methods_dispatch.h, ../../torch/csrc/autograd/generated/python_torch_functions_dispatch.h, ../../torch/csrc/autograd/generated/python_nn_functions.h, ../../torch/csrc/autograd/generated/python_nn_functions_dispatch.h
    [ 45%] Building HIPCC object caffe2/CMakeFiles/torch.dir/__/aten/src/THH/torch_generated_THHSleep.hip.o
    [ 45%] Building HIPCC object caffe2/CMakeFiles/torch.dir/__/aten/src/THH/torch_generated_THHStorage.hip.o
    [ 45%] Building HIPCC object caffe2/CMakeFiles/torch.dir/__/aten/src/THH/torch_generated_THHReduceApplyUtils.hip.o
    [ 45%] Building HIPCC object caffe2/CMakeFiles/torch.dir/__/aten/src/THH/torch_generated_THHTensor.hip.o
    [ 45%] Building HIPCC object caffe2/CMakeFiles/torch.dir/__/aten/src/THH/torch_generated_THHTensorCopy.hip.o
    Skipped writing torch/csrc/nn/THNN.cpp
    Skipped writing torch/csrc/nn/THCUNN.cpp
    Skipped writing torch/csrc/autograd/generated/python_functions.h
    Skipped writing torch/csrc/autograd/generated/python_functions.cpp
    Skipped writing torch/csrc/autograd/generated/python_variable_methods.cpp
    Skipped writing torch/csrc/autograd/generated/python_variable_methods_dispatch.h
    Skipped writing torch/csrc/autograd/generated/python_torch_functions.cpp
    Skipped writing torch/csrc/autograd/generated/python_torch_functions_dispatch.h
    Skipped writing torch/csrc/autograd/generated/python_nn_functions.cpp
    Skipped writing torch/csrc/autograd/generated/python_nn_functions.h
    Skipped writing torch/csrc/autograd/generated/python_nn_functions_dispatch.h
    /home/luke/Builds/pytorch/aten/src/THH/THHBlas.hip:257:17: warning: rocblas_gemm_strided_batched_ex: The workspace_size and workspace arguments are obsolete, and will be ignored [-W#pragma-messages]
      THCublasCheck(rocblas_gemm_strided_batched_ex(handle, opa, opb, (int)m, (int)n, (int)k,
                    ^
    /opt/rocm/rocblas/include/rocblas-functions.h:2231:41: note: expanded from macro 'rocblas_gemm_strided_batched_ex'
                                            ROCBLAS_VA_OPT_PRAGMA(GCC warning "rocblas_gemm_strided_batched_ex: The workspace_size and workspace arguments are obsolete, and will be ignored", __VA_ARGS__) \
                                            ^
    /opt/rocm/rocblas/include/rocblas-functions.h:50:5: note: expanded from macro 'ROCBLAS_VA_OPT_PRAGMA'
        ROCBLAS_VA_OPT_PRAGMA_IMPL(pragma, ROCBLAS_VA_OPT_COUNT(__VA_ARGS__))
        ^
    /opt/rocm/rocblas/include/rocblas-functions.h:48:51: note: expanded from macro 'ROCBLAS_VA_OPT_PRAGMA_IMPL'
    #define ROCBLAS_VA_OPT_PRAGMA_IMPL(pragma, count) ROCBLAS_VA_OPT_PRAGMA_IMPL2(pragma, count)
                                                      ^
    /opt/rocm/rocblas/include/rocblas-functions.h:47:52: note: expanded from macro 'ROCBLAS_VA_OPT_PRAGMA_IMPL2'
    #define ROCBLAS_VA_OPT_PRAGMA_IMPL2(pragma, count) ROCBLAS_VA_OPT_PRAGMA_SELECT##count(pragma)
                                                       ^
    :51:1: note: expanded from here
    ROCBLAS_VA_OPT_PRAGMA_SELECTN
    ^
    /opt/rocm/rocblas/include/rocblas-functions.h:46:52: note: expanded from macro 'ROCBLAS_VA_OPT_PRAGMA_SELECTN'
    #define ROCBLAS_VA_OPT_PRAGMA_SELECTN(pragma, ...) _Pragma(#pragma)
                                                       ^
    In file included from /home/luke/Builds/pytorch/aten/src/THH/THHStorage.hip:7:
    In file included from /opt/rocm/include/thrust/system/cuda/execution_policy.h:34:
    /opt/rocm/include/thrust/system/cuda/detail/par.h:37:28: error: unknown type name 'cudaStream_t'
    __host__ __device__ inline cudaStream_t default_stream()
                               ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:39:10: error: use of undeclared identifier 'cudaStreamLegacy'
      return cudaStreamLegacy;
             ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:43:1: error: unknown type name 'cudaStream_t'
    cudaStream_t __host__ __device__ 
    ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:50:1: error: unknown type name 'cudaError_t'
    cudaError_t THRUST_RUNTIME_FUNCTION
    ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:53:3: error: use of undeclared identifier 'cudaDeviceSynchronize'; did you mean 'hipDeviceSynchronize'?
      cudaDeviceSynchronize();
      ^
    /opt/rocm/hip/include/hip/hcc_detail/hip_runtime_api.h:334:12: note: 'hipDeviceSynchronize' declared here
    hipError_t hipDeviceSynchronize(void);
               ^
    In file included from /home/luke/Builds/pytorch/aten/src/THH/THHStorage.hip:7:
    In file included from /opt/rocm/include/thrust/system/cuda/execution_policy.h:34:
    /opt/rocm/include/thrust/system/cuda/detail/par.h:54:10: error: use of undeclared identifier 'cudaGetLastError'; did you mean 'hipGetLastError'?
      return cudaGetLastError();
             ^
    /opt/rocm/hip/include/hip/hcc_detail/hip_runtime_api.h:592:12: note: 'hipGetLastError' declared here
    hipError_t hipGetLastError(void);
               ^
    In file included from /home/luke/Builds/pytorch/aten/src/THH/THHStorage.hip:7:
    In file included from /opt/rocm/include/thrust/system/cuda/execution_policy.h:34:
    /opt/rocm/include/thrust/system/cuda/detail/par.h:62:3: error: unknown type name 'cudaStream_t'
      cudaStream_t stream;
      ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:66:26: error: unknown type name 'cudaStream_t'
      execute_on_stream_base(cudaStream_t stream_ = default_stream())
                             ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:71:10: error: unknown type name 'cudaStream_t'
          on(cudaStream_t const &s) const
             ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:79:10: error: unknown type name 'cudaStream_t'
      friend cudaStream_t __host__ __device__
             ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:85:10: error: unknown type name 'cudaError_t'
      friend cudaError_t THRUST_RUNTIME_FUNCTION
             ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:96:12: error: use of undeclared identifier 'cudaGetLastError'; did you mean 'hipGetLastError'?
        return cudaGetLastError();
               ^
    /opt/rocm/hip/include/hip/hcc_detail/hip_runtime_api.h:592:12: note: 'hipGetLastError' declared here
    hipError_t hipGetLastError(void);
               ^
    In file included from /home/luke/Builds/pytorch/aten/src/THH/THHStorage.hip:7:
    In file included from /opt/rocm/include/thrust/system/cuda/execution_policy.h:34:
    /opt/rocm/include/thrust/system/cuda/detail/par.h:107:21: error: unknown type name 'cudaStream_t'
      execute_on_stream(cudaStream_t stream) : base_t(stream){};
                        ^
    /opt/rocm/include/thrust/system/cuda/detail/par.h:105:25: error: type 'thrust::cuda_cub::execute_on_stream::base_t' (aka 'execute_on_stream_base') is not a direct or virtual base of 'thrust::cuda_cub::execute_on_stream'
      execute_on_stream() : base_t(){};
                            ^~~~~~
    /opt/rocm/include/thrust/system/cuda/detail/par.h:138:6: error: unknown type name 'cudaStream_t'
      on(cudaStream_t const &stream) const
         ^
    In file included from /home/luke/Builds/pytorch/aten/src/THH/THHStorage.hip:7:
    In file included from /opt/rocm/include/thrust/system/cuda/execution_policy.h:39:
    In file included from /opt/rocm/include/thrust/system/cuda/detail/copy.h:99:
    /opt/rocm/include/thrust/system/cuda/detail/internal/copy_cross_system.h:60:5: error: unknown type name 'cudaError'
        cudaError status;
        ^
    /opt/rocm/include/thrust/system/cuda/detail/internal/copy_cross_system.h:61:14: error: no member named 'trivial_copy_to_device' in namespace 'thrust::cuda_cub'; did you mean 'hip_rocprim::trivial_copy_from_device'?
        status = cuda_cub::trivial_copy_to_device(dst,
                 ^~~~~~~~~~
    /opt/rocm/include/thrust/system/hip/detail/util.h:62:1: note: 'hip_rocprim::trivial_copy_from_device' declared here
    trivial_copy_from_device(Type* dst, Type const* src, size_t count, hipStream_t stream)
    ^
    In file included from /home/luke/Builds/pytorch/aten/src/THH/THHStorage.hip:7:
    In file included from /opt/rocm/include/thrust/system/cuda/execution_policy.h:39:
    In file included from /opt/rocm/include/thrust/system/cuda/detail/copy.h:99:
    /opt/rocm/include/thrust/system/cuda/detail/internal/copy_cross_system.h:64:47: error: no member named 'stream' in namespace 'thrust::cuda_cub'; did you mean 'hip_rocprim::stream'?
                                                  cuda_cub::stream(device_s));
                                                  ^~~~~~~~~~
    /opt/rocm/include/thrust/system/hip/detail/util.h:55:33: note: 'hip_rocprim::stream' declared here
    __host__ __device__ hipStream_t stream(execution_policy& policy)
                                    ^
    In file included from /home/luke/Builds/pytorch/aten/src/THH/THHStorage.hip:7:
    In file included from /opt/rocm/include/thrust/system/cuda/execution_policy.h:39:
    In file included from /opt/rocm/include/thrust/system/cuda/detail/copy.h:99:
    /opt/rocm/include/thrust/system/cuda/detail/internal/copy_cross_system.h:65:5: error: no member named 'throw_on_error' in namespace 'thrust::cuda_cub'; did you mean 'hip_rocprim::throw_on_error'?
        cuda_cub::throw_on_error(status, "__copy::trivial_device_copy H->D: failed");
        ^~~~~~~~~~
    /opt/rocm/include/thrust/system/hip/detail/util.h:113:33: note: 'hip_rocprim::throw_on_error' declared here
    static void __host__ __device__ throw_on_error(hipError_t status, char const* msg)
                                    ^
    fatal error: too many errors emitted, stopping now [-ferror-limit=]
    20 errors generated.
    1 warning generated.
    Skipped writing torch/csrc/autograd/generated/VariableType.h
    Skipped writing torch/csrc/autograd/generated/VariableType_0.cpp
    Skipped writing torch/csrc/autograd/generated/VariableType_1.cpp
    Skipped writing torch/csrc/autograd/generated/VariableType_2.cpp
    Skipped writing torch/csrc/autograd/generated/VariableType_3.cpp
    Skipped writing torch/csrc/autograd/generated/VariableType_4.cpp
    Skipped writing torch/csrc/autograd/generated/VariableTypeEverything.cpp
    Skipped writing torch/csrc/autograd/generated/Functions.h
    Skipped writing torch/csrc/autograd/generated/Functions.cpp
    Skipped writing torch/csrc/autograd/generated/variable_factories.h
    /home/luke/Builds/pytorch/aten/src/THH/THHBlas.hip:257:17: warning: rocblas_gemm_strided_batched_ex: The workspace_size and workspace arguments are obsolete, and will be ignored [-W#pragma-messages]
      THCublasCheck(rocblas_gemm_strided_batched_ex(handle, opa, opb, (int)m, (int)n, (int)k,
                    ^
    /opt/rocm/rocblas/include/rocblas-functions.h:2231:41: note: expanded from macro 'rocblas_gemm_strided_batched_ex'
                                            ROCBLAS_VA_OPT_PRAGMA(GCC warning "rocblas_gemm_strided_batched_ex: The workspace_size and workspace arguments are obsolete, and will be ignored", __VA_ARGS__) \
                                            ^
    /opt/rocm/rocblas/include/rocblas-functions.h:50:5: note: expanded from macro 'ROCBLAS_VA_OPT_PRAGMA'
        ROCBLAS_VA_OPT_PRAGMA_IMPL(pragma, ROCBLAS_VA_OPT_COUNT(__VA_ARGS__))
        ^
    /opt/rocm/rocblas/include/rocblas-functions.h:48:51: note: expanded from macro 'ROCBLAS_VA_OPT_PRAGMA_IMPL'
    #define ROCBLAS_VA_OPT_PRAGMA_IMPL(pragma, count) ROCBLAS_VA_OPT_PRAGMA_IMPL2(pragma, count)
                                                      ^
    /opt/rocm/rocblas/include/rocblas-functions.h:47:52: note: expanded from macro 'ROCBLAS_VA_OPT_PRAGMA_IMPL2'
    #define ROCBLAS_VA_OPT_PRAGMA_IMPL2(pragma, count) ROCBLAS_VA_OPT_PRAGMA_SELECT##count(pragma)
                                                       ^
    :51:1: note: expanded from here
    ROCBLAS_VA_OPT_PRAGMA_SELECTN
    ^
    /opt/rocm/rocblas/include/rocblas-functions.h:46:52: note: expanded from macro 'ROCBLAS_VA_OPT_PRAGMA_SELECTN'
    #define ROCBLAS_VA_OPT_PRAGMA_SELECTN(pragma, ...) _Pragma(#pragma)