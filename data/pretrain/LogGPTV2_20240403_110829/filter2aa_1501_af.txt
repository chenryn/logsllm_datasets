  ship	
  with	
  zero	
  health	
  cannot	
  perform	
actions.	
When	
  the	
  repair	
  is	
  executed	
  successfully,	
  the	
  RepairShip’s	
  Engineering	
  value	
  will	
  be	
added	
  to	
  the	
  DamagedShip’s	
  health,	
  and	
  an	
  event	
  will	
  be	
  added	
  to	
  the	
  my_events	
view	
  for	
  the	
  player	
  involved.	
  Any	
  errors	
  that	
  occur	
  during	
  this	
  function	
  will	
  be	
  piped	
through	
  the	
  player’s	
  error_channel.	
Using	
  this	
  function	
  will	
  act	
  as	
  an	
  Action	
  for	
  the	
  ship.	
  The	
  ship	
  will	
  not	
  be	
  able	
  to	
perform	
  another	
  action	
  until	
  the	
  game	
  tic	
  increases.	
Parameters	
Name	
Type	
Description	
Repair	
  Ship	
  ID	
integer	
Damaged	
  Ship	
  ID	
integer	
Returns	
Type	
Description	
integer	
Health	
  regained	
  by	
  the	
  ship	
Purchasing	
  and	
  Trading	
convert_resource(Current	
  Resource	
  Type,	
  Amount	
  to	
  Convert)	
Use	
  this	
  function	
  to	
  convert	
  fuel	
  to	
  currency,	
  or	
  vice	
  versa.	
  The	
  value	
  of	
  the	
  fuel	
  will	
fluctuate	
  based	
  on	
  levels	
  in	
  the	
  game.	
Any	
  errors	
  that	
  occur	
  during	
  this	
  function	
  will	
  be	
  piped	
  through	
  the	
  player’s	
error_channel.	
Using	
  this	
  function	
  does	
  not	
  count	
  as	
  an	
  action	
  and	
  can	
  be	
  run	
  as	
  often	
  as	
  you	
  like.	
Page	
  37	
  of	
  42	
Parameters	
Name	
Type	
Description	
Current	
Resource	
  Type	
character	
varying	
What	
  is	
  the	
  player	
  selling	
  for	
  conversion;	
  either	
  the	
string	
  ‘FUEL’	
  or	
  ‘MONEY’	
Amount	
  to	
Convert	
integer	
Returns	
Type	
Description	
integer	
Total	
  resources	
  acquired	
  from	
  the	
  conversion	
upgrade(Ship	
  ID	
  |	
  Fleet	
  ID,	
  Product	
  Code,	
  Quantity)	
Use	
  this	
  function	
  to	
  upgrade	
  your	
  fleets	
  or	
  your	
  ships.	
  This	
  does	
  not	
  count	
  as	
  a	
  ship	
action.	
To	
  see	
  a	
  list	
  of	
  what	
  is	
  available	
  for	
  upgrade,	
  run	
  a	
  SELECT	
  on	
  the	
  price_list	
  table.	
Then	
  use	
  the	
  code	
  listed	
  there	
  for	
  the	
  Product	
  Code	
  parameter	
  for	
  this	
  function.	
There	
  are	
  a	
  maximum	
  amount	
  of	
  upgrades	
  that	
  can	
  be	
  done	
  to	
  ships.	
  To	
  learn	
  the	
maximums	
  look	
  to	
  the	
  public_variable	
  view.	
Any	
  errors	
  that	
  occur	
  during	
  this	
  function	
  will	
  be	
  piped	
  through	
  the	
  player’s	
error_channel.	
Parameters	
Name	
Type	
Description	
Ship	
  ID	
  |	
  Fleet	
  ID	
integer	
Product	
  Code	
character	
varying	
See	
  the	
  price_list	
  table	
  for	
  a	
  list	
  of	
  values	
  to	
  use	
  here.	
Quantity	
integer	
Returns	
Page	
  38	
  of	
  42	
Type	
Description	
boolean	
   Returns	
  TRUE	
  (t)	
  if	
  the	
  purchase	
  was	
  successful	
  and	
  FALSE	
  (f)	
  if	
  there	
was	
  a	
  problem	
Utilities	
get_char_variable(Variable	
  Name)	
This	
  utility	
  function	
  simply	
  makes	
  it	
  easier	
  to	
  recall	
  character	
  varying	
  values	
  from	
the	
  public_variable	
  view.	
Using	
  this	
  function	
  does	
  not	
  count	
  as	
  an	
  action	
  and	
  can	
  be	
  run	
  as	
  often	
  as	
  you	
  like.	
Parameters	
Name	
Type	
Description	
Variable	
Name	
character	
varying	
The	
  name	
  of	
  the	
  value	
  you	
  wish	
  to	
  return	
  from	
public_variable	
Returns	
Type	
Description	
character	
varying	
The	
  matching	
  character	
  varying	
  value	
  from	
  the	
  public_variable	
view	
get_numeric_variable(Variable	
  Name)	
This	
  utility	
  function	
  simply	
  makes	
  it	
  easier	
  to	
  recall	
  integer	
  values	
  from	
  the	
public_variable	
  view.	
Using	
  this	
  function	
  does	
  not	
  count	
  as	
  an	
  action	
  and	
  can	
  be	
  run	
  as	
  often	
  as	
  you	
  like.	
Parameters	
Name	
Type	
Description	
Variable	
Name	
character	
varying	
The	
  name	
  of	
  the	
  value	
  you	
  wish	
  to	
  return	
  from	
public_variable	
Returns	
Page	
  39	
  of	
  42	
Type	
Description	
integer	
The	
  matching	
  integer	
  value	
  from	
  the	
  public_variable	
  view	
get_player_id(Player	
  Username)	
This	
  utility	
  function	
  performs	
  a	
  lookup	
  of	
  a	
  users	
  player	
  id	
  based	
  on	
  the	
  username	
given.	
Using	
  this	
  function	
  does	
  not	
  count	
  as	
  an	
  action	
  and	
  can	
  be	
  run	
  as	
  often	
  as	
  you	
  like.	
Parameters	
Name	
Type	
Description	
Player	
  Username	
character	
  varying	
Returns	
Type	
Description	
integer	
The	
  player	
  id	
  for	
  the	
  username	
  supplied	
get_player_username(Player	
  ID)	
This	
  utility	
  function	
  performs	
  a	
  lookup	
  of	
  a	
  player’s	
  username	
  based	
  on	
  the	
  Player	
ID	
  given.	
Using	
  this	
  function	
  does	
  not	
  count	
  as	
  an	
  action	
  and	
  can	
  be	
  run	
  as	
  often	
  as	
  you	
  like.	
Parameters	
Name	
Type	
Description	
Player	
  ID	
integer	
Returns	
Type	
Description	
character	
  varying	
The	
  player	
  username	
  for	
  the	
  Player	
  ID	
  supplied	
Page	
  40	
  of	
  42	
get_player_error_channel(Player	
  Username	
  [DEFAULT	
SESSION_USER])	
This	
  utility	
  function	
  performs	
  a	
  lookup	
  of	
  a	
  user’s	
  error_channel	
  based	
  on	
  the	
username	
  given.	
  This	
  information	
  is	
  readily	
  available	
  from	
  my_players	
  but	
  this	
  just	
makes	
  the	
  lookup	
  easier.	
Using	
  this	
  function	
  does	
  not	
  count	
  as	
  an	
  action	
  and	
  can	
  be	
  run	
  as	
  often	
  as	
  you	
  like.	
Parameters	
Name	
Type	
Description	
Player	
  Username	
character	
  varying	
Returns	
Type	
Description	
character(10)	
The	
  error	
  channel	
  for	
  the	
  username	
  supplied	
in_range_planet(Ship	
  ID,	
  Planet	
  ID)	
This	
  utility	
  function	
  performs	
  a	
  lookup	
  to	
  see	
  if	
  a	
  ship	
  is	
  within	
  range	
  of	
  a	
  specified	
planet.	
  It's	
  helpful	
  to	
  find	
  out	
  if	
  a	
  ship	
  is	
  able	
  to	
  mine	
  a	
  planet	
  during	
  this	
  tic.	
Using	
  this	
  function	
  does	
  not	
  count	
  as	
  an	
  action	
  and	
  can	
  be	
  run	
  as	
  often	
  as	
  you	
  like.	
Parameters	
Name	
Type	
Description	
Ship	
  ID	
integer	
Planet	
  ID	
integer	
Returns	
Type	
Description	
boolean	
   Returns	
  TRUE	
  (t)	
  if	
  the	
  Planet	
  is	
  within	
  range	
  and	
  FALSE	
  (f)	
  if	
  it	
  is	
  not	
Page	
  41	
  of	
  42	
in_range_ship(Ship	
  ID,	
  Ship	
  ID)	
This	
  utility	
  function	
  performs	
  a	
  lookup	
  to	
  see	
  if	
  a	
  ship	
  is	
  within	
  range	
  of	
  another	
specified	
  ship.	
  It's	
  helpful	
  to	
  find	
  out	
  if	
  a	
  ship	
  is	
  able	
  to	
  attack	
  or	
  repair	
  the	
  other	
ship	
  during	
  this	
  tic.	
Using	
  this	
  function	
  does	
  not	
  count	
  as	
  an	
  action	
  and	
  can	
  be	
  run	
  as	
  often	
  as	
  you	
  like.	
Parameters	
Name	
Type	
Description	
Ship	
  ID	
integer	
Ship	
  ID	
integer	
Returns	
Type	
Description	
boolean	
Returns	
  TRUE	
  (t)	
  if	
  the	
  Ships	
  are	
  within	
  range	
  and	
  FALSE	
  (f)	
  if	
  they	
are	
  not	
read_event(Event	
  ID)	
This	
  utility	
  uses	
  the	
  available	
  data	
  within	
  a	
  row	
  of	
  the	
  event	
  table	
  to	
  convert	
  the	
information	
  into	
  a	
  readable	
  string	
  of	
  text.	
  Consider	
  the	
  following	
  entry	
  in	
  my_events:	
EventID	
Action	
player_id_1	
ship_id_1	
referencing_id	
descriptor_numeric	
public	
171	
MINE_SUCCESS	
1	
1	
1	
1879	
t	
SELECT	
  READ_EVENT(171)	
  as	
  string_event;	
will	
  return	
  the	
  following:	
string_event	
(#1)cmdr’s	
  ship	
  (#1)dog	
  has	
  successfully	
  mined	
  1879	
  fuel	
  from	
  the	
  planet	
(#1)Torono"	
Using	
  this	
  function	
  does	
  not	
  count	
  as	
  an	
  action	
  and	
  can	
  be	
  run	
  as	
  often	
  as	
  you	
  like.	
Parameters	
Page	
  42	
  of	
  42	
Name	
Type	
Description	
Event	
  ID	
integer	
Returns	
Type	
Description	
Text	
Returns	
  the	
  text	
  based	
  on	
  the	
  type	
  of	
  action	
  being	
  read	
  and	
  event	
  details