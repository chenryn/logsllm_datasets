materials, or by employing very narrow beam antennas. For inter-
container trafﬁc, ﬂyways are an ideal choice, since a number of
devices can be mounted atop a container. At the same time, inter-
container links will need higher bandwidth. We plan to study this
scenario further.
Comparison with Helios and c-Through: A direct comparison
between Helios [7] and c-Through [30] is difﬁcult to perform at this
point. There are several reasons for this. First, the performance of
any ﬂyway scheme will depend on the speed at which ﬂyways can
be switched between nodes. We believe (Appendix A) that wireless
ﬂyways can be switched extremely fast compared to optical MEMs
switches. However, to do a meaningful comparison, we would need
access to electronically steerable antennas, which we do not have.
Second, the Helios system is meant for inter-container trafﬁc, while
we focus on inter-rack trafﬁc. Third, the workload used in Helios
is artiﬁcial, while our evaluation is based on real traces. Finally,
our modest attempt at comparison was not successful. We built
a test-bed using MEMs optical switches from the same vendor as
Helios. However, we found switching times to be above 100 ms
and reducing it to the values in the Helios paper (10 ms) would have
required signiﬁcant resources and time (software switches and NIC
modiﬁcations).
Signal leakage: A concern with using wireless in a data center en-
vironment is that the signal may leak outside the data center and
be picked up by an attacker. Our measurements show that the con-
cern is unfounded. We found that common construction materials
such as wood, glass and metal signiﬁcantly attenuate the signal by
a large margin. Coupled with normal free-space attenuation, this
margin makes it very unlikely that the signal can be decoded out-
side the data center, even with a highly directional antenna. We
omit detailed results due to lack of space.
Power consumption: Our experimental 60 GHz HXI devices con-
sume 25 Watts of power. Several startups report devices that con-
sume at most a few Watts [24, 27]. As a typical server rack draws
thousands of Watts of power, a few additional wireless devices per
rack increase consumption by a negligible fraction.
8. RELATED WORK
60 GHz wireless: Millimeter wavelength wireless communication
is a very active research area, especially at the hardware/PHY level,
with several dedicated conferences and workshops. Much of this
work focuses on characterizing signal propagation, proposing new
modulation schemes and devising antenna hardware, and much has
been synthesized into WiGig and WirelessHD standards. Our work
beneﬁts from advances in this area. However, our use of 60 GHz
links for data center communications is signiﬁcantly different from
the other applications that the ﬁeld has explored.
We are aware of only one other1 paper [22] that has discussed
using 60 GHz links in data centers. In it, the authors give a high-
level vision for an all-wireless data center network.
In contrast,
we present a hybrid architecture, backed by an experimental study
of 60 GHz wireless propagation in the data center environment and
evaluate its merit upon several types of trafﬁc measured in the data
center.
Data center networks: A number of papers have addressed the
problem of congestion in data center networks. We discuss a rep-
resentative sample. Researchers have proposed [1, 8, 9] building
full bisection bandwidth networks to eliminate hot-spots. Deploy-
ing such networks is expensive, and the cabling complexity of some
of them is quite daunting [15].
Hedera [2] and MicroTE [5] advocate ﬁne-grained trafﬁc engi-
neering over a ﬁxed topology to alleviate congestion. However,
this approach has limitations. For example, in a tree-structured net-
1Apart from the preliminary version [15] of this paper.
47work, if the downlink from an aggregator switch to a ToR switch
is congested, only extra bandwidth can relieve the congestion. At
the other extreme, Proteus [28] explored the idea of a completely
reconﬁgurable, all-optical network topology.
Instead, we explore the idea of adding additional bandwidth to
data center networks on demand. The closest work to our own
is Helios [7] and c-Through [30], both of which propose ﬂyways
using optical switches. Wireless ﬂyways have the beneﬁts of po-
tentially lower costs and limited cabling complexity but also face
challenges unique to wireless, such as interference, and we show
how we address these.
There are other differences in the designs as well. C-Through
delays TCP connections to ensure that optical links are used op-
timally; we do not require any such delay. Helios is targeted to-
wards inter-container trafﬁc; we target sub-agg-switch trafﬁc. Most
importantly, both Helios and c-Through use synthetic workloads,
while we use extensive trafﬁc traces from a variety of real data cen-
ters to motivate our system and assess the value of ﬂyways.
9. CONCLUSION
We have presented the design and evaluation of a 60 GHz wire-
less ﬂyway system. It adds wireless links to the wired data center
network to relieve hotspots and thus improve performance. Work-
ing with prototype 60 GHz devices, we measured and simulated
performance to show that wireless ﬂyways can provide a dense de-
ployment of stable, multi-Gbps paths in the DC environment. By
analyzing traces of DC trafﬁc for four real applications, we ﬁnd that
only a relatively small number of top-of-rack switches and links are
congested at any time. This implies that a set of ﬂyways with rela-
tively small capacity can relieve hotspots and boost application per-
formance. Informed by our exploration of 60 GHz and DC trafﬁc,
we designed a wireless ﬂyway system that sets up the most bene-
ﬁcial ﬂyways and routes over them both directly and indirectly to
reduce congestion on hot links. Our trace-driven simulation shows
this design speeds up network-limited DC applications with pre-
dictable trafﬁc workloads by 45% in 95% of the cases at a fraction
of the cost of avoiding oversubscription.
10. REFERENCES
[1] M. Al-Fares et al. A scalable, commodity data center network
architecture. In SIGCOMM, 2008.
[2] M. Al-Fares et al. Hedera: Dynamic ﬂow scheduling for data
center networks. In NSDI, 2009.
[3] S. Alalusi. CMOS multi-antenna systems at 60 GHz. In
Communications Design Conference, July 2004.
[4] M. Alizadeh et al. DCTCP: Efﬁcient packet transport for the
commoditized data center. In SIGCOMM, 2010.
[5] T. Benson et al. The case for ﬁne-grained trafﬁc engineering
in data-centers. In WREN, 2010.
[6] T. Benson et al. Network trafﬁc characteristics of data centers
in the wild. In IMC, 2010.
[7] N. Farrington et al. Helios: A hybrid electrical/optical switch
architecture for modular data centers. In SIGCOMM, 2010.
[8] A. Greenberg et al. VL2: A scalable and ﬂexible data center
network. In SIGCOMM, 2009.
[9] C. Guo et al. BCube: High performance, server-centric
network architecture for data centers. In SIGCOMM, 2009.
[10] IEEE P802.11ad/D0.1: Enhancements for very high
throughput in the 60 GHz band. Draft 0.1, June 2010.
[11] M. Isard et al. Quincy: fair scheduling for distributed
ocmputing clusters. In SOSP, 2009.
[12] K. Jain et al. Impact of interference on multi-hop wireless
network performance. In MOBICOMM, 2003.
[13] S. Kandula et al. Walking the tightrope: responsive yet stable
trafﬁc engineering. In SIGCOMM, 2005.
[14] S. Kandula et al. The nature of datacenter trafﬁc:
Measurements and analysis. In IMC, 2009.
[15] S. Kandula, J. Padhye, and P. Bahl. Flyways to de-congest
data center networks. In HotNets, Nov. 2009.
[16] LightPointe. http://www.lightpointe.com/.
[17] X. Liu et al. DIRC: Increasing indoor wireless capacity using
directional antennas. In SIGCOMM, 2009.
[18] T. Manabe et al. Effects of antenna directivity on indoor
multipath propagation characteristics at 60 GHz. In PIMRC,
1995.
[19] V. Navda et al. MobiSteer: Using steerable beam directional
antenna for vehicular network access. In MobiSys, 2007.
[20] G. Nikolaidis et al. (Poster) Cone of silence: Adaptively
nulling interferers in wireless networks. In SIGCOMM, 2010.
[21] The ns-3 network simulator. http://www.nsnam.org/.
[22] K. Ramachandran et al. 60 GHz data-center networking:
[23] T. S. Rappaport. Wireless Communications: Principles and
Wireless ⇒ worry less? Technical report, NEC, 2008.
Practice. Prentice-Hall, 2002.
[24] Sayana Networks.
[25] A. Sheth et al. Geo-fencing: Conﬁning Wi-Fi coverage to
physical boundaries. In Pervasive, 2009.
[26] SiBeam. http://sibeam.com/whitepapers/.
[27] SiBeam. http://www.earthtimes.org/articles/press/
generation-solutions-ces-2011,1604984.html.
[28] A. Singla et al. Proteus: A topology malleable data center
network. In HotNets, 2010.
[29] Terabeam Wireless. http://www.terabeam.com/.
[30] G. Wang et al. c-Through: Part-time optics in data centers. In
SIGCOMM, 2010.
[31] Wireless Gigabit Alliance. http://wirelessgigabitalliance.org/.
[32] WirelessHD. http://wirelesshd.org/.
[33] Y. Yu et al. A 60 GHz digitally controlled phase shifter in
CMOS. In ESSCIRC, 2008.
APPENDIX
A. PHASED ARRAYS
Our assumptions about phased array design are based on three
sources of information: (1) research literature on commercially avail-
able 2.4 GHz Phocus arrays from the wireless research communi-
ties, (2) existing 60 GHz silicon such as SiBeam’s WirelessHD [26]
products, and (3) research on 60 GHz phased arrays technology.
Phased array technology: A phased array comprises multiple an-
tenna elements each transmitting (or receiving) an attenuated, phase-
shifted copy of the same RF signal. By varying the amount of at-
tenuation or phase shift, a device can control the radiation pattern
of the antenna, including the direction of maximum gain or the size
and location of lobes. The ﬂexibility of a phased array increases
rapidly with the number of antenna elements. The 2.4 GHz Phocus
array is commercially available today and uses 8 elements; in con-
trast, 60 GHz phased array design is an area of ongoing research [3,
33], but SiBeam’s initial WirelessHD products include 32 elements
and ﬁt into 1 in2.
In this work, we simply replicate the radia-
Antenna pattern:
tion pattern used in the Geo-fencing project [25]. This pattern
minimizes the size and extent of back and side lobes and can be
produced by the 8-element Phocus arrays. Though 60 GHz and
2.4 GHz phased array technologies will likely differ, we expect that
the increased number of elements at 60 GHz will enable patterns of
similar or better ﬂexibility. For simplicity, in this paper we assume
that the antenna pattern can be steered to an arbitrary angle. Extrap-
olating from the Phocus array, a 30-element array might in practice
have a 6◦ granularity.
Switching times: The phased array technology used in the Phocus
arrays can be switched within 250 µs [19].
In personal commu-
nication, the authors of [33], informed us that their 60 GHz phase
shifting technology can be switched in picoseconds. However since
48we cannot yet implement and evaluate phase-switched ﬂyways, we
ignore switching overhead in this paper and instead focus on indi-
vidual trafﬁc matrices in isolation.
Discovering the steering coefﬁcients: Steering coefﬁcients allow
directional antennas of the sender and transmitter to point at each
other. Optimizing the search process to discover steer coefﬁcients
is currently an active area of research. However, the ﬂyways sce-
nario greatly simpliﬁes this problem. We use the wired network to
coordinate the steering. Rather than needing to optimize the combi-
nation of multiple reﬂections off walls and in-home objects, in the
DC, we can use physically meaningful steering patterns that point
in a particular direction. A movement of a few mm does not dra-
matically reduce gains. The stable DC environment allows us to use
history and retrain infrequently. Any nodes not involved in ﬂyways
(there will be many of these) can opportunistically measure their
directional gains with respect to ongoing transmissions, as well as
update measurements for patterns between idle nodes that will not
interfere with ongoing trafﬁc.
B. 60 GHz SIMULATOR
We implemented an 802.11ad simulator in ns-3. To have con-
ﬁdence that our simulations are a good reﬂection of reality, we
base wireless effects directly on the physical layer measurements
we took in §3 and the WiGig/802.11ad PHY and MAC design [31].
Here we describe wireless aspects of our ns-3 model. We ex-
tended ns-3 with other support too, such as automatic generation
of DC layouts and routing, but these components are straightfor-
ward and we omit them due to lack of space.
Directional antennas: We built table-driven models from the mea-
sured radiation patterns of the antennas in our lab (Figure 3). We
interpolate between measurements when needed. As well as using
measured patterns, rather than the manufacturer antenna speciﬁca-
tions, we take care to simulate the full 360◦ radiation pattern, not
just the primary lobe. We also added a simple isotropic antenna
model, and the radiation pattern used for Geo-fencing [25].
IEEE 802.11ad PHY and MAC: We implemented in ns-3 the
physical and MAC layers deﬁned in the draft 802.11ad standard.
We limit ourselves to the faster OFDM PHY. We ﬁx transmit power
to 10 mW to match commercial devices.
Signal propagation: We model signal propagation using Friis’ law.
Our measurements (§3.2) show that this is a good ﬁt for line-of-
sight environments. Still, we conservatively subtract an additional
3 dB from the signal power (but not from interference) to represent
potential destructive multi-path interference received via side lobes.
Interference (SINR): To calculate the SINR needed for bit error
rate estimation, ns-3 uses the standard SINR modeling technique.
It adds together the power from multiple interferers, combines it
with noise, and compares it with signal strength. ns-3 does not
model symbol-level fading, i.e., it assumes that the received power
(RSS) from each transmitter is consistent throughout its transmis-
sion. It does, however, compute different SINR levels for different
parts of packets when interference stops or starts during reception.
Our measurements of the stability of real links (§3.3) show that
we can use this SINR model and ignore fading at the sub-packet
level. Prior work (DIRC [17]) has also found this simple SINR
model to be appropriate with directional antennas, even when us-
ing the 802.11g OFDM rates in non-line-of-sight environments and
omni-directional antennas at receivers. The model is much more
ﬁtting in our 60 GHz domain: both transmitter and receiver use di-
rectional antennas so that secondary rays (multi-path) have little
impact (§3.2); and the channel is very stable due to little environ-
Ideal Rate Wireless TCP
693 Mbps
6.76 Gbps
656 Mbps
4.58 Gbps
Ofﬂoad ACKs
to Wired
672 Mbps
5.36 Gbps
No DCF
676 Mbps
5.62 Gbps
Table 2: Impact of sending TCP ACKs over wire
mental mobility (§3.3).
Bit error rate (BER): Estimating the bit error rate, and hence
whether a transmitted packet is received correctly, forms a key func-
tion of any wireless model. The input to this calculation is the
SINR and the 802.11ad wireless rate. To estimate BER, we use the
802.11ad standard as our guide. It deﬁnes the sensitivity for each
rate and coding as the (SINR) power level down to which a device
much successfully receive more than 99% of 4096-byte packets sent
using that rate. This reception rate corresponds to a BER less than
3.07×10-7, and thus we calibrate our error model for each rate by
assuming its BER is 3×10-7 when its SINR is the sensitivity thresh-
old. The sensitivities deﬁned in the standard implicitly include the
(≈−81 dBm) thermal noise for a 2.16 GHz channel, and a 15 dB
combined implementation loss. We compute BERs at other SINR
values using textbook formulas [23] for BER as a function of SNR
in Gaussian noise. To receive a packet, all bits must be correct.
Auto-rate algorithm: The 802.11ad standard does not mandate use
of a speciﬁc auto-rate algorithm. We select rates based on received
SINR. This is reasonable for our stable data center environment.
C.
IMPROVING WIRELESS PERF.
Data center performance will improve the most when the ﬂy-
ways deliver the largest possible throughputs. A unique aspect of
our ﬂyways scenario is the hybrid wired and wireless nature of the
network, and in this section we describe and evaluate two wire-
less optimizations that leverage the wired backbone in the DC to
increase ﬂyway TCP throughput by 25%
Wired ofﬂoad of MAC-inefﬁcient packets: TCP ACKs are far
smaller than data packets, and make inefﬁcient use of wireless links
because payload transmission time is dwarfed by overheads such as
preamble and SIFS. The hybrid wired-wireless design of our net-
work lets us improve efﬁciency by sending ACK packets over the
wire instead. To measure the improvement, we simulated a single
TCP ﬂow on a 20 m link and conﬁgured ns-3 to send the TCP
ACKs over the wired network. Table 2 shows the resulting TCP
throughput. For fast links enabled by the narrow-beam antenna, the
performance improves 17%. Note that the TCP ACK trafﬁc will
use some wired bandwidth, but this will be trivial compared to the
increase in throughput.
Removing DCF: For the common case of one-way TCP ﬂows in
the data center [4], if we divert TCP ACKs over the wire as above
then all trafﬁc over a given wireless link will ﬂow in only one direc-
tion. Furthermore, our system design (§5) is based on independent
ﬂyways that do not interfere with one another. Thus, there are no
collisions in our wireless network, and we can eliminate the DCF
backoff mechanism. This change improves the TCP throughput by
an additional 5%, as seen in the third column of Table 2.
Occasionally there may be bidirectional data ﬂows over the ﬂy-
way. Even in this case, we can remove the cost of DCF. Since only
the two communicating endpoints can interfere with each other, we
can easily schedule transmissions on the link by passing a token be-
tween the endpoints. This naturally ﬁts into the 802.11 link layer
protocol because after transmitting a packet batch, the sender waits
for a link layer Block-ACK. We can exploit this scheduled hand-off
to let the receiver take the token and send its own batch of trafﬁc.
49