### 代码片段优化

```python
else:
    time += tin - last_time
    pkts += 1
    last_time = tin
    result = groupby(R1, 5tuple, burst_stats)
```

### 文本优化

她运行查询72秒，并在图12中查看结果。她正确地得出结论，h3和h4之间的UDP流量是导致延迟峰值的原因。共有18次UDP突发，其平均数据包大小和持续时间与我们的模拟设置相符。

### 图表描述优化

- **图表1**：展示了不同缓存槽位数（以log_2为单位）下的准确率百分比。Core16和Core14的对比。
- **图表2**：展示了不同时间间隔（1分钟、3分钟、5分钟）下，不同缓存槽位数（以log_2为单位）的准确率百分比。
- **图表3**：展示了0到90秒内的时间与延迟的关系。
- **图表4**：展示了0到90秒内的时间与队列中数据包数量的关系。

### 论文内容优化

#### 性能监控的重要性
性能监控是任何大型系统维护的关键部分。Marple通过提供网络可见性和查询语言，使得应用能够轻松诊断网络性能问题。我们希望网络运营商能够根据需要进行查询，而不受交换机功能集的限制。Marple通过细粒度且可编程的网络监控，将控制权从交换机供应商转移到网络运营商手中。

#### Marple与其他方法的比较
- **sFlow [21]**：主要用于网络流量分析，而非性能测量。由于重度欠采样，可能会错过重要事件 [55]。
- **NetFlow**：硬件实现无法记录每个流，因为哈希冲突会导致流查找表无法在线速率下插入新流 [46]。Marple通过其缓存设计和合并解决了这个问题。
- **线速数据包捕获设备** [10]：可以记录高速率下的所有数据包流量，但高数据收集和存储要求使其无法广泛部署。
- **Sketches [34, 48, 49, 52, 63]** 和 **可编程交换机计数器 [38, 54]**：使用摘要数据结构和流计数器来暴露流量统计信息。Marple提供了比这些先前工作更广泛的性能统计信息，并且实现了全精度计数。
- **In-band Network Telemetry (INT) [12, 44]**：通过在数据包上附加元数据来暴露交换机上的队列长度和其他性能元数据。Marple使用类似INT的性能元数据，但在交换机上直接进行灵活聚合，具有三个优势：
  1. 无需每个INT端点处理高速率的数据包数据。
  2. 节省了将分布式数据包数据集中所需的带宽。
  3. 即使INT数据包在到达端点前丢失，也能处理这种情况。

#### 网络查询语言
之前的网络查询语言 [35, 38, 41, 54] 主要用于询问流量体积和计数统计信息，因为它们的输入数据来自NetFlow和匹配动作规则计数器 [51]。相比之下，Marple允许操作员通过设计新的交换机硬件来提出更丰富的性能问题。Marple支持在交换机上直接进行聚合，使操作员能够以低开销收集细粒度的定制统计数据。它补充了离线查询系统，后者通过对历史数据进行采样或数据包捕获来回答事后问题。

#### 案例研究
##### 案例研究#2：流片大小分布
我们展示了Marple在实际中的另一个用例：计算流片大小分布作为流片阈值的函数，即后续数据包被视为不同流片的时间间隔。此分析有许多实际用途，例如配置基于流片的负载均衡策略 [27, 60]。特别是，LetFlow [60] 的性能高度依赖于流片大小的分布。

我们的设置使用Mininet，单个交换机连接五个主机：一个客户端和四个服务器。流大小是从真实数据中心的跟踪数据计算出的经验分布 [28]。交换机运行图7中的“流片大小直方图”查询，针对六个不同的delta值（流片阈值）。

图13显示了不同delta值下的流片大小累积分布函数（CDF）。请注意，实际的delta值是Mininet设置所允许的带宽的结果；在数据中心部署中，可能会使用更低的delta值。

#### 相关工作
- **端点监控**：许多系统仅从端点监控网络性能 [16, 31, 53, 58, 62]。虽然端点解决方案对于应用程序上下文（如套接字调用）是必要的，但由于端点缺乏对网络核心的可见性，因此不足以调试所有网络问题。结合INT等交换机增强的端点解决方案，数据分布在多个端点上。我们认为网络需要同时具备端点和基于交换机的系统，因为每种系统都能看到对方看不到的信息。
- **基于交换机的监控**：大多数基于交换机的监控主要集中在每个流的计数（如NetFlow [7]）和采样（如sFlow [21]）上。Marple通过在交换机上直接进行聚合，提供了更广泛的性能统计信息。

### 致谢
本研究得到了NSF资助CNS-1563826, CNS-1526791, 和 CNS-1617702，DARPA I2O Award No. HR0011-15-2-0047，以及Cisco Research Center的支持。感谢Jennifer Rexford, Fadel Adib, Amy Ousterhout, 我们的指导者Marco Canini，以及SIGCOMM匿名审稿人提供的宝贵反馈。

### 参考文献
[此处列出参考文献]

通过这些优化，文本变得更加清晰、连贯和专业。希望这些修改对你有帮助！