Comcast (near) and Netflix (far)
2nd
3rd
4th
5th
Date in April 2014 (localtime in San Jose)
6th
7th
 40
 30
 20
)
s
m
(
T
T
R
 10
28th
Fri
(c)
Level3 (near) and AT&T (far)
29th
3rd
Date in March/April 2014 (localtime in Dallas)
30th
31st
2nd
1st
 70
 60
 50
 40
 30
19th
Weds
)
s
m
(
T
T
R
8th
Tues
 40
 30
 20
)
s
m
(
T
T
R
4th
Fri
 10
28th
Fri
(b)
Free (near) and Google (far)
20th
21st
22nd
23rd
24th
25th
Date in March 2014 (localtime in France)
(d)
Level3 (near) and Verizon (far)
29th
Date in March/April 2014 (localtime in Dallas)
30th
31st
2nd
1st
3rd
26th
Weds
4th
Fri
Figure 6: Case studies of four interdomain connections, discussed in section 4.
Texas. From our Ark monitor in Level3’s network, we were
able to observe congestion on Level3’s interconnections with
both AT&T and Verizon (we presume two of the broadband
consumer networks) in Dallas (ﬁgures 6c and 6d). These
links appear congested for 6 hours during weekdays and up
to 16 hours during weekends in March/April 2014, and both
are consistent with the anonymized MRTG graph published
by Level3. While both time series are similar for this se-
lected week (we chose to coincide with the MRTG graph in
the Level3 article) we observe diﬀerences in the diurnal pat-
tern on March 31st: AT&T was congested longer, and we
believe it is the anonymized example [35]. For Verizon, the
last day we observed the diurnal pattern was June 22nd. For
AT&T, the last day we observed the pattern was July 14th;
our Ark monitor was down until the 19th, and the signal was
gone when the monitor restarted. This example illustrates
the power of our technique to (1) provide independent evi-
dence of speciﬁc congestion, (2) identify the parties involved
where the parties themselves cannot do so because of their
NDA agreements, and (3) inform the public debate.
5. OTHER RELATED WORK
Current methods of measuring systematic congestion re-
quire instrumentation at both ends of a path being mea-
sured [18, 30], but our TSLP method can potentially mea-
sure congestion from any VP hosted in an AS to any inter-
domain link involving that AS provided the link can be iso-
lated. More recently researchers have studied in-home [7,11],
and broadband access [2, 16, 23, 34] performance issues, and
whether these components are the end-to-end performance
bottlenecks for most users. Liu and Crovella used simula-
tion to show that the loss-pairs methodology [24] can infer
if a router uses AQM or tail-drop. Mahimkar et al. used a
level shift detection algorithm to correlate changes in net-
work performance with network upgrades [28].
6. CONCLUSION
We developed and tested a simple method of identifying
congestion on interdomain links, and used it to study sev-
eral incidents of reported congestion on interdomain links
that correlate with reports of contested business negotia-
tions between the ASes. The advantages of this method are
its conceptual, implementation, and deployment simplicity.
In contrast to experiments that produce broadband perfor-
mance maps, which require VPs at many access points, we
can measure interdomain links from a given serving area of
an ISP with one VP. Most importantly, the TSLP method
does not require a server on the other side of the link be-
ing probed. Approaches that depend on a server may re-
veal evidence of congestion from one measurement, but re-
quire either instrumentation in the right two places, and/or
complex correlation and tomography to localize the point of
congestion. Since the vast majority of links do not exhibit
persistent congestion, being able to localize congestion deep
in the network from a single endpoint has beneﬁts that jus-
tify further attention by the research community to resolve
the many challenges we have described.
The major challenge is not ﬁnding evidence of congestion
but associating it reliably with a particular link. This diﬃ-
culty is due to inconsistent interface numbering conventions,
and the fact that a router may have (and report in ICMP
responses) IP interface addresses that come from third-party
ASes. This problem is well understood, but not deeply stud-
ied. Going forward we will study this problem, as well as
focus on localizing the directionality of congestion.
We have reported early results from a new project to
detect and measure congestion at Internet interconnection
points, an issue of recent interest due to the changing nature
of Internet traﬃc over the last decade. For the thousands of
interconnection links we have probed thus far, we have not
found evidence of widespread persistent congestion, which is
good news, but also suggests the value of a lightweight tech-
nique that can locate interdomain congestion from a VP at
the edge. We plan to deploy VPs in as many access networks
as possible, to generate a global “congestion heat map” of the
Internet, cross-validate with non-ICMP traﬃc, and publish
evidence of congestion over time.
Acknowledgments
We thank the operators who discussed aspects of their net-
work’s operations, Ahmed Elmokashﬁ who provided an im-
plementation of CUSUM-based level shift detection, and the
anonymous reviewers and Ethan Katz-Bassett for their feed-
back. This work was supported by the U.S. NSF CNS-
1414177 and CNS-1413905, by Comcast, and by Verisign,
but the material represents only the position of the authors.
207. REFERENCES
[1] R. Andrews and S. Higginbotham. YouTube sucks on
French ISP Free, and French regulators want to know
why. GigaOm, 2013.
[2] S. Bauer, D. Clark, and W. Lehr. Understanding
Broadband Speed Measurements. In TPRC, 2010.
[3] J. Brodkin. Time Warner, net neutrality foes cry foul
over Netﬂix Super HD demands, 2013.
[4] J. Brodkin. Why YouTube buﬀers: The secret deals
that make-and break-online video. Ars Technica, July
2013.
[5] S. Buckley. Cogent and Orange France ﬁght over
interconnection issues. Fierce Telecom, 2011.
[6] S. Buckley. France Telecom and Google entangled in
peering ﬁght. Fierce Telecom, 2013.
[7] K. L. Calvert, W. K. Edwards, N. Feamster, R. E.
Grinter, Y. Deng, and X. Zhou. Instrumenting home
networks. ACM SIGCOMM CCR, 41(1), Jan. 2011.
[8] K. Chen, D. R. Choﬀnes, R. Potharaju, Y. Chen,
F. E. Bustamante, D. Pei, and Y. Zhao. Where the
sidewalk ends: Extending the Internet AS graph using
traceroutes from P2P users. In ACM CoNEXT, Dec.
2009.
[9] Y. Chen, S. Jain, V. K. Adhikari, and Z.-L. Zhang.
Characterizing roles of front-end servers in end-to-end
performance of dynamic content distribution. In ACM
SIGCOMM IMC, Nov. 2011.
[10] S. Cowley. ISP spat blacks out Net connections.
InfoWorld, 2005.
[11] L. DiCioccio, R. Teixeira, M. May, and C. Kreibich.
Probe and Pray: Using UPnP for Home Network
Measurements. In PAM, pages 96–105, 2012.
[12] M. Dischinger, A. Haeberlen, K. P. Gummadi, and
S. Saroiu. Characterizing residential broadband
networks. In ACM SIGCOMM IMC, Oct. 2007.
[13] J. Engebretson. Level 3/Comcast dispute revives
eyeball vs. content debate, Nov. 2010.
[14] J. Engebretson. Behind the Level 3-Comcast peering
settlement, July 2013.
http://www.telecompetitor.com/behind-the-
level-3-comcast-peering-settlement/.
[15] P. Faratin, D. Clark, S. Bauer, W. Lehr, P. Gilmore,
and A. Berger. The growing complexity of Internet
interconnection. Communications and Strategies,
(72):51–71, 2008.
[16] FCC. Measuring Broadband America, 2011.
http://www.fcc.gov/measuring-broadband-america.
[17] S. Floyd and V. Jacobson. Random early detection
(RED) gateways for congestion avoidance. IEEE/ACM
Transactions on Networking, 1(4):397–413, 1993.
[18] D. Genin and J. Splett. Where in the Internet is
congestion?, 2013. http://arxiv.org/abs/1307.3696.
[19] B. Huﬀaker, A. Dhamdhere, M. Fomenkov, and
kc claﬀy. Toward topology dualism: Improving the
accuracy of AS annotations for routers. In PAM, Apr.
2010.
[20] Y. Hyun, B. Huﬀaker, D. Andersen, M. Luckie, and
K. C. Claﬀy. The IPv4 Routed /24 Topology Dataset,
2014. http://www.caida.org/data/active/ipv4_
routed_24_topology_dataset.xml.
[21] M. Jain and C. Dovrolis. End-to-end available
bandwidth: Measurement methodology, dynamics,
and relation with TCP throughput. IEEE/ACM
Transactions on Networking, 11(4):537–549, 2003.
[22] E. Katz-Bassett, H. V. Madhyastha, V. K. Adhikari,
C. Scott, J. Sherry, P. vas Wesep, T. Anderson, and
A. Krishnamurthy. Reverse traceroute. In USENIX
NSDI, Apr. 2010.
[23] C. Kreibich, N. Weaver, B. Nechaev, and V. Paxson.
Netalyzr: Illuminating the Edge Network. In ACM
SIGCOMM IMC, 2010.
[24] J. Liu and M. Crovella. Using loss pairs to discover
network properties. In ACM SIGCOMM IMW, Nov.
2001.
[25] M. Luckie, B. Huﬀaker, A. Dhamdhere, V. Giotsas,
and k claﬀy. AS relationships, customer cones, and
validation. In ACM SIGCOMM IMC, 2013.
[26] M. Luckie and kc claﬀy. A second look at detecting
third-party addresses in traceroute traces with the IP
timestamp option. In PAM, 2014.
[27] R. Mahajan, N. Spring, D. Wetherall, and
T. Anderson. User-level Internet path diagnosis. In
ACM SOSP, Oct. 2003.
[28] A. A. Mahimkar, H. H. Song, Z. Ge, A. Shaikh,
J. Wang, J. Yates, Y. Zhang, and J. Emmons.
Detecting the performance impact of upgrades in large
operational networks. In ACM SIGCOMM, Aug. 2010.
[29] Z. M. Mao, D. Johnson, J. Rexford, J. Wang, and
R. Katz. Scalable and accurate identiﬁcation of
AS-Level forwarding paths. In IEEE INFOCOM, Mar.
2004.
[30] M. Mathis. Model Based Bulk Performance Metrics.
http://datatracker.ietf.org/doc/draft-ietf-
ippm-model-based-metrics/, Oct 2013.
[31] K. Nichols and V. Jacobson. Controlling queue delay.
ACM Queue, 10(5), May 2012.
[32] M. Ricknas. Sprint-Cogent dispute puts small rip in
fabric of Internet. PCWorld, Oct. 2008.
[33] J. Sherry, E. Katz-Bassett, M. Pimenova, H. V.
Madhyastha, T. Anderson, and A. Krishnamurthy.
Resolving IP aliases with prespeciﬁed timestamps. In
ACM SIGCOMM IMC, Nov. 2010.
[34] S. Sundaresan, W. de Donato, N. Feamster,
R. Teixeira, S. Crawford, and A. Pescap`e. Broadband
Internet performance: A view from the gateway. In
ACM SIGCOMM, 2011.
[35] M. Taylor. Observations of an Internet Middleman,
May 2014. http://blog.level3.com/global-
connectivity/observations-internet-middleman/.
[36] W. A. Taylor. Change-point analysis: A powerful new
tool for detecting changes, 2000. http:
//www.variation.com/cpa/tech/changepoint.html.
[37] Verizon. Unbalanced peering, and the real story
behind the Verizon/Cogent dispute, June 2013.
http://publicpolicy.verizon.com/blog/.
[38] B. Zhang, J. Bi, Y. Wang, Y. Zhang, and J. Wu.
Reﬁning IP-to-AS mappings for AS-level traceroute.
In IEEE ICCCN, July 2013.
[39] Y. Zhang, R. Oliveira, H. Zhang, and L. Zhang.
Quantifying the pitfalls of traceroute in AS
connectivity inference. In PAM, 2010.
21