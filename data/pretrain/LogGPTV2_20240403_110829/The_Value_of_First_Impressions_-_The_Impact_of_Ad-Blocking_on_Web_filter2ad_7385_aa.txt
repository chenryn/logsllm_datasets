title:The Value of First Impressions - The Impact of Ad-Blocking on Web
QoE
author:James Newman and
Fabi&apos;an E. Bustamante
The Value of First Impressions
The Impact of Ad-Blocking on Web QoE
James Newman(B) and Fabi´an E. Bustamante
Northwestern University, Evanston, USA
PI:EMAIL
Abstract. We present the ﬁrst detailed analysis of ad-blocking’s impact
on user Web quality of experience (QoE). We use the most popular web-
based ad-blocker to capture the impact of ad-blocking on QoE for the
top Alexa 5,000 websites. We ﬁnd that ad-blocking reduces the number
of objects loaded by 15% in the median case, and that this reduction
translates into a 12.5% improvement on page load time (PLT) and a
slight worsening of time to ﬁrst paint (TTFP) of 6.54%. We show the
complex relationship between ad-blocking and quality of experience -
despite the clear improvements to PLT in the average case, for the bot-
tom 10 percentile, this improvement comes at the cost of a slowdown on
the initial responsiveness of websites, with a 19% increase to TTFP. To
understand the relative importance of this trade-oﬀ on user experience,
we run a large, crowd-sourced experiment with 1,000 users in Amazon
Turk. For this experiment, users were presented with websites for which
ad-blocking results in both, a reduction of PLT and a signiﬁcant increase
in TTFP. We ﬁnd, surprisingly, 71.5% of the time users show a clear pref-
erence for faster ﬁrst paint over faster page load times, hinting at the
importance of ﬁrst impressions on web QoE.
1 Introduction
The web advertisement industry has grown exponentially over the past decade
and is now the primary source of income for most content providers [19]. A
number of research eﬀorts in the last few years have focused on understanding
their scale, mechanisms, and economics [10,26,34].
While keeping most online content and services “free”, web advertisements
have raised serious security problems and privacy concerns, and attracted some
negative press due to questionable practices [21,29,40]. In response, millions of
users have adopted some form of ad-blocker. By February 2017, at least 615 mil-
lion devices have an ad-blocker installed, and the total ad-block usage increased
30% between December 2015 and 2016, according to the latest PageFair Adblock
Report from 2017 [8].
Besides increased security and fewer interruptions, a key motivation for the
wide adoption of ad-blockers is speed [8]. While it seems intuitive that loading
fewer objects would lead to an improved quality of experience (QoE), the exact
c(cid:2) Springer Nature Switzerland AG 2019
D. Choﬀnes and M. Barcellos (Eds.): PAM 2019, LNCS 11419, pp. 273–285, 2019.
https://doi.org/10.1007/978-3-030-15986-3_18
274
J. Newman and F. E. Bustamante
impact of ad-blocking on perceived website performance is still unclear, despite
the importance of QoE on user engagement and proﬁt [24,39].
This paper presents the ﬁrst detailed analysis of ad-blocking’s impact on user
QoE. We use the most popular web-based ad-blocker to analyze the impact of
ad-blocking on users’ web experience when visiting the top-5,000 most popular
websites according to Alexa. We rely on three commonly used metrics as proxies
of users’ QoE – Page Load Time, First Paint Time, and Speed Index.
Our results reveal a complex relationship between ad-blocking and web QoE.
We ﬁnd, as expected, that ad-blocking reduces the number of objects loaded by
15% in the median case. This reduction in loaded objects translates into a 12.5%
improvement on PLT and a slight worsening of TTFP of 6.54%, on average.
When focusing on the bottom 10 percentile, however, we ﬁnd that while ad-
blocking yields a 14% improvement on PLT, the worsening of TTFP is about 3x
higher than in the average case.
To understand the relative importance of this trade-oﬀ for user experience, we
conducted a large crowd-sourced experiment of ad-blocking and Web QoE with
1,000 users in Amazon Mechanical Turk. Users were presented with websites for
which ad-blocking results in both a signiﬁcant reduction of PLT and a signiﬁcant
increase of TTFP. We ﬁnd, surprisingly, that 71.5% of the time users show a clear
preference for faster ﬁrst paint over page load times, suggesting the importance
of ﬁrst impressions on web QoE.
In summary, our main contributions are:
– We report on the ﬁrst large-scale evaluation of the web QoE impact of ad-
blocking with the 5,000 top Alexa sites.
– We show the complex relationship between ad-blocking and quality of expe-
rience – while ad-blocking yields clear improvements to PLT in the average
case, for the bottom 10 percentile, this improvement comes at the cost of
a signiﬁcant slowdown on the initial responsiveness of websites, with a 19%
increase to TTFP.
– We present results from the largest crowd-sourced analysis of ad-blocking
impact on QoE today, with 1,000 users in Amazon Mechanical Turk. Our
results suggest that user experience is more sensitive to faster ﬁrst paint than
slower page load times.
– To assist open science, we will publicly release our dataset from our con-
trolled experiment with the top 5,000 Alexa websites and the 1,000-user
crowd-sourced experiment.1
2 Ad-Block Background
Ad-blockers come in a number of formats – as browser extensions, VPN-based
solutions and full browsers (e.g., Brave, Cliqz and now Chrome Canary [13]). In
this work we focus on the browser-extension format as this is by far the most
commonly used option.
1 http://www.aqualab.cs.northwestern.edu/projects/AdQoE.
The Value of First Impressions
275
There is a wide range of browser extensions aimed at avoiding or blocking
ads including Ghostery, 1Blocker, NoScript, Adblock, and Adblock Plus [18].
Most web-based ad-blockers rely on the browser’s webRequest API to intercept
requests from websites for modiﬁcation [7]. The API allows an extension or
plugin to act as a proxy and interact with requests from the website at diﬀerent
points in their life cycle.2 For example, in the Chrome browser Adblock Plus uses
the “onBeforeRequest” callback to receive the URL of a request and determines
whether or not to block it.
To decide whether a URL should be blocked or not, ad-blockers use crowd-
sourced list of ﬁlter rules (“ﬁlter lists”). Filter list rules are regular expressions
that match HTTP requests and HTML elements. Ad-blockers block HTTP
requests and hide HTML elements if they match any of the ﬁlter rules. Ad-
blockers typically allow users to subscribe to diﬀerent ﬁlter lists and even incor-
porate custom ﬁlter rules. EasyList [32] is the most popular of these list, but
there are others such as Fanboy’s Enhanced Tracking List [11], Disconnect.me [9]
and Blockzilla [14] as well as language-speciﬁc ones [3]. Filters lists can include
thousands of rules; EasyList alone is over 69K-rules long at the time of submis-
sion.
For our analysis we use Adblock Plus (ABP). ABP is by far the most popular
ad-blocker holding, according to a recent study by Malloy et al. [19], over 90% of
the market for Firefox and Internet Explorer and nearly 50% of Google Chrome’s
market. Despite or focus on ABP, we believe our ﬁnding are generalizable to any
of the ad-blockers relying on EasyList or similar ﬁlter lists.
3 The Performance Cost of Ad-Blocking
Our analysis aims to identify speciﬁcally how ad-blockers impact user QoE. The
following paragraphs present our experimental methodology and dataset, and
describe our evaluation results.
3.1 Methodology and Dataset
To analyze the impact of ad-blocking on user QoE, we load a range of popular
websites in a controlled environment, with and without ABP enabled. For this we
use WebPageTest (WPT) [20], an online, open-source web performance diagnos-
tic tool. WPT creates a sandbox with virtual machines in which testers can load
websites using various devices and browsers over diﬀerent network conditions.
The tool returns a straightforward report card summarizing the performance
results of its tests, including a table of milestones alongside speed metrics, such
as PLT and TTFP. WPT performs a similar analysis of web pages as [30] and
was used by Netravali et al. for accurate record-and-replay for HTTP [23].
We employ a private instance of WPT using a dedicated virtual machine
on a desktop and a web server instantiated on Google Cloud Platform [1]. We
2 https://developer.chrome.com/extensions/webRequest.
276
J. Newman and F. E. Bustamante
use a private instance instead of a public one to avoid polluting our results
with traﬃc from other users’ concurrent tests. To load diﬀerent websites in
succession, with and without Adblock Plus enabled, we use the Chrome browser
ﬂag --load-extension to load the unpacked Adblock Plus extension from the
local computer’s storage.
For our analysis, we aim to limit overhead or bias from the testbed. As
such, we do not add latency and leave the default bandwidth for both upload
and download. We use the Google Chrome browser (version 57.0.2979.23) with
Adblock Plus browser extension (version 1.12.4). After all of the websites have
completely loaded, we collect the results using the WPT REST API hosted on
our web server, before parsing the resulting HAR ﬁles with Haralyzer [12].
We use the top 5,000 popular sites world-wide according to Alexa [2]. This
set includes websites with similar URLs and diﬀerent country codes, which we
opted to keep as the may be hosted by diﬀerent servers or CDNs and potentially
be aﬀected diﬀerently by ad-blocking.
3.2 Ad-Blocking, Requested Objects and Web QoE
We begin by measuring the reduction in the number of objects loaded with ad-
blocking for the top 5,000 Alexa sites. We focus on two of the metrics, Page
Load Time and Time to First Paint.4
Impact on Requested Objects. Sites are made up of many diﬀerent types
of objects including HTML, CSS, JavaScript, image, and video ﬁles. Butkiewicz
et al. [5] highlight the growing complexity of websites and report that loading
a base web page requires fetching more than 40 objects in the median case. For
a non-trivial fraction (20%) of websites, the number of objects requested is well
above 100. Our analysis on the impact of ad-blocker usage on the number of
requested objects focuses on three of the ﬁve common object types – JavaScript,
images, and HTML [22] – as these are most typically associated with ads [25].
When websites are loaded with ABP enabled, we see 19% fewer objects
requested on average, and a 75% reduction for the 95pct (220 instead of 900
objects when loading with ABP disabled).
Table 1 shows a set of percentile numbers of requested objects across our
collection of web sites, when the sites were loaded with and without ad-blocker.
The last column in the table is the ad-block exposure rate, deﬁned as in Malloy
et al. [19], as the number of ads shown to ad-block users per ad shown to no-
ad-block users. The drop in the number of requested objects is clear; at the
30th percentile there is already a 10% reduction from ad-blocking. At the 90th
percentile, the use of ad-blocking yields a 25% reduction in ad-block exposure
rate.
In Fig. 1 we focus on the diﬀerence in requests for various object types across
the 90th percentile of websites. The most blocked type of objects are images,
3 The newest version able to work with WebPageTest.
4 We excluded SpeedIndex results for space considerations; these results were consis-
tent with other ﬁndings.
The Value of First Impressions
277
Table 1. When loaded with ad-block, websites request noticeably fewer objects as soon
as the 30th percentile. This is mirrored in the ad-block exposure rate, deﬁned as the
number of ads shown to an ad-block user per ad shown to a non-blocking user.
Percentile Adblock No adblock Ad-block exposure rate
10
30
50
70
90