# OCR Output
## Page 1
·畅销书《高性能Linux服务器构建实战：运维监控、性能调优与集
System Security,Troubleshooting,Automated
系统安全、故障排查、
以实际生产环境为背景，从系统安全、故障排查、自动化运维、集
服务器构建实战
术、工具、方法及技巧
群架构4个维度讲解构建大规模和高性能Linux服务器集群所需技
群应用》姊妹篇，资深运维专家与架构师多年经验结晶
高性能Linux
Build HighPerformance LinuxServers
Operations,ClusterArchitecture
机械工业出版社
高俊峰著
自动化运维与集群架构
技术丛书
Jnuxnx
---
## Page 2
系统安全、故障排查、
服务器构建实战
Build High Performance Linux Servers
高性能Linux
Operations, Cluster Architecture
机械a曲e版社
高俊峰
自动化运维与集群架构
---
## Page 3
本书法律顾问：北京大成律师事务所韩光/邹晓东
封底无防伪标均为盗版
版权所有·侵权必究
购书热线：（010）68326294
凡购本书，如有缺页、倒页、脱页，由本社发行部调换
书
品
责任编辑：秦健
出版发行：机械工业出版社（北京市西城区百万庄大街22号邮政编码：100037）
高俊峰著
系统安全、
高性能Linux服务器构建实战：
集群架构篇（第10~14章）讲解如何构建和优化基于Web和MySQL数据库的高性能集群和高可用的负载均衡集群。
监控、分布式监控等大规模集群运维所需的各种工具（pssh、pdsh、mussh、Ganglia、nagios、Centreon等）和方法；
及常见的和经典的运维故障的解决方案：自动化运维篇（第6~9章）主要讲解海量主机的自动化部署和配置、自动化
维的关键技术和方法；运维故障排查篇（第4~5章）从服务器系统和应用软件两个维度讲解运维故障的排查思路，以
含大量案例）、易懂，同时也改进了读者反馈的不足之处。
要掌握的各种知识。本书在内容上继承了其姊妹篇中被读者认可的诸多优点：实用（以实际生产环境为背景）、实战（包
务器集群所需要的技术、工具、方法和技巧，二者一脉相承，互为补充，内容涵盖了运维工程师构建高性能服务器需
用》的姊妹篇，它从安全运维、运维故障排查、自动化运维、集群架构四个维度讲解了构建大规模和高性能Linux服
中国版本图书馆CIP数据核字（2014）第148500号
I.高…II.高…II.Linux操作系统IV.TP316.89
ISBN978-7-111-47249-0
（Linux/Unix技术丛书）
一北京：机械工业出版社，2014.7
高性能Linux服务器构建实战：系统安全、故障排查、自动化运维与集群架构/高俊峰著，
图书在版编目（CIP）数据
全书共14章，分为四个部分：安全运维篇（第1~3章）主要讲解服务器安全运维、网络安全运维和数据安全运
本书是Linux运维领域畅销的、公认的经典著作《高性能Linux服务器构建实战：运维监控、性能调优与集群应
号：ISBN978-7-111-47249-0
本：
刷：北京市荣盛彩色印刷有限公司
186mm×240mm1/16
故障排查、
88361066
8837964968995259
自动化运维与集群架构
读者信箱：PI:EMAIL
投稿热线：（010）88379604
定
版
责任校对：董纪丽
价：79.00元
张：26.25
次：2014年9月第1版第1次印刷
---
## Page 4
术的各种经验和技巧，从而真正提高实践能力。
绍结合实际应用贯穿全书，通过学习真实案例，读者可以深入、迅速地掌握Linux 运维技
分注重实战化，从运维的多个方面以真实的生产环境介绍运维工作中的方方面面，理论介
点到线及面、由浅入深的讲述。本书秉承了实战、实用、通俗、易懂的特点，在内容上十
带有很大的实验性质，并没有介绍生产环境中的实战应用和经验技巧。
么只讲基础理论和系统命令，要么侧重粘贴代码，要么介绍软件的安装与配置，这种模式
因此，本书应运而生。
励我继续写作的动力，但是仅仅通过一本书没办法将运维工作中的所有内容完全展开讲述，
运维监控、性能调优与集群应用》。此书出版后，得到了很多同行的认可，这也成为鼓
化运维代替人工操作为出发点的诉求得到广泛研究和应用。
动化、架构优化、过程优化等降低运维成本的因素越来越受到人们所重视。其中，以自动
算数据中心，单靠人工已经无法满足在技术、业务、管理等方面的要求，那么标准化、自
供服务，这种模式中的保障因素就是Linux运维。从初期的几台服务器发展到庞大的云计
需求，不断扩展的应用需要越来越合理的模式来保障Linux灵活便捷、安全稳定地持续提
山，而基于Linux 的运维也面临新的挑战：面对越来越复杂的业务，越来越多样化的用户
为什么要写这本书
本书针对这些问题，从基础入手，再进行深人研究，同时结合实际的应用案例进行由
2012年我完成了基于Linux运维的开源软件应用作品《高性能Linux服务器构建实战：
目前市场上关于Linux 运维管理的书籍有很多，但是普遍存在的问题是模式单一，要
随着虚拟化、云计算时代的来临，Linux得到迅猛发展，在服务器领域已经占据半壁江
本书由机械工业出版社出版，ISBN:978-7-111-36695-9。
7rctace前
---
## Page 5
和数据安全运维。
读，也可以从第1章依次阅读。纵观全书，每个知识点的介绍都由浅入深，由点及面。
有实例作为对知识的补充，并且每个章节都是一个独立的知识块，读者可以选择从中间阅
如何阅读本书
读者对象
使不同层次的读者都能从本书受益。
既可以让初学者参考学习，也可以帮助有一定基础的中高级Linux运维管理人员进阶学习，
容的综合和深人，也是本书介绍的重点。
而最后的集群架构篇主要介绍当今流行的集群架构方案和集群应用软件，应该说是本书内
控的应用，这些内容在大规模集群运维下是非常有用的，这也符合运维日益发展的需要。
绍了海量主机的自动化部署、配置工具，接着介绍了运维的核心：自动化监控、分布式监
趋势，这就促使Linux运维向自动化方面发展，即自动化运维，本书自动化运维篇主要介
思路和技巧。随着云计算、虚拟化在企业的普及和深人，大规模的服务器集群运维是必然
经验技巧的总结，通过讲述实际案例，使读者有身临其境的感觉，并从中获取处理问题的
眼同类图书，介绍安全运维方面内容的并不多。运维故障排查篇是对生产环境实际案例与
安全运维篇是本书的一大亮点，它是运维中很容易忽略但又非常重要的一个组成部分，放
方面，主要从安全运维、运维故障排查、自动化运维、集群架构四个方面展开介绍。其中
本书是笔者多年实践工作的经验和总结，全书贯穿了由点及线、由线及面的学习方法，
安全运维篇介绍了系统运维中安全应用的三个方面：服务器安全运维、网络安全运维
本书最大的特点是注重实践、理论与实际相结合，在讲述完一个知识点后，一般都附
安全运维篇（第1章至第3章）
本书主要分为四篇，总计14个章，基本结构如下。
·所有开源爱好者
·解决方案构架师
·Linux系统工程师
·中高级Linux运维管理人员
本书适合的阅读对象有：
本书分为四篇，以Linux运维平台下的开源应用软件为中心，涉及Linux 运维的各个
·系统集成商
---
## Page 6
均衡集群的应用案例，每个案例都是生产环境下的真实应用。
数据展示平台，通过一个数据提取程序实现了Ganglia和Centreon 的无缝整合。
Centreon实现整合。在这个整合过程中，Ganglia是一个数据收集平台，而Centreon是一个
Centreon实现的，并可实现声音、邮件、短信等多种形式的报警。
将 nagios 监控、报警配置 Web 化的过程，而分布式 Web 监控平台是通过一款开源软件
千台以上Linux主机，并且性能稳定。
具基本可以应对在上千台主机中批量安装和部署软件。
内容。
的是一种解决问题的思路，相信掌握了思路，一切问题都会迎刃而解。
的解决方法。该章内容完全是生产环境下的实际案例，通过对每个案例的介绍，更多传递
extundelete可以在误删除数据的时候进行数据恢复。
据恢复工具extundelete。DRBD可以通过网络对数据进行实时备份，保证数据安全，而
防范网络攻击。
用的网络安全运维工具，通过对这些网络安全工具的介绍，可使读者迅速定位网络故障与
最后通过一个实际案例详细介绍了服务器遭受攻击后的处理过程。
全、文件系统安全、系统软件安全等的应用与防范，同时介绍了两款系统安全检测软件、
第9章讲述了如何构建一个智能化的监控报警平台，主要讲述如何将Ganglia和
第7章讲述了分布式监控系统Ganglia 的使用方法和应用实例，通过Ganglia可以监控
第6章讲述了几个轻量级自动化部署工具，分别是 pssh、pdsh 和 mussh，这三个小工
第3章介绍了运维过程中的数据安全策略，主要介绍了数据镜像工具DRBD和数
第2章讲述了Linux下网络安全运维，主要介绍了iftop、ntop、iperf、nmap 等几款常
第8章讲述了如何通过 nagios 构建一个基于 Web 的分布式监控报警平台，其实就是
集群架构应用篇也是本书的重点，主要介绍了基于Web 和数据库的高可用集群、负载
集群架构篇（第10章至第14章）
自动化运维篇是本书的一个重点，主要讲述了海量主机的自动化部署、分布式监控等
自动化运维篇（第6章至第9章）
第5章讲述了Linux运维中常见的一些软件级应用故障，以及故障出现的原因和最终
第4章讲述了Linux服务器经常出现的问题及解决思路，这是Linux运维的基础。
运维故障排查篇介绍了运维工作中可能遇到的一些常见问题以及相应的解决思路和方法。
运维故障排查篇（第4章和第5章）
第1章讲述了Linux服务器安全运维，主要从系统角度介绍了账号安全、远程访问安
---
## Page 7
的辛苦付出。
他们从技术角度对本书某些章节进行了修改和补充，并提出了很多意见和建议。
致谢
期待能够听到你的真挚反馈。
言中提出。如果你有更多的宝贵意见，也欢迎发送邮件至笔者的邮箱（PI:EMAIL），
该博客中不定期更新本书中的遗漏，当然，也欢迎读者将遇到疑惑或书中的错误在博客留
不妥之处恳请读者批评指正。
勘误和支持
可用的解决方案。
缺点，引出构建高可用HAProxy的必要性，详细介绍了通过Keepalived实现HAProxy高
用、MySQL读写分离等各种MySQL生产环境高性能解决方案。
解决方案，深人讲述了通过Keepalived 实现 MySQL 双主高可用、MMM 构建MySQL高可
了基于虚拟主机的负载均衡的实现过程。
HAProxy常见的应用实例和配置技巧，然后通过生产环境下HAProxy的配置实例详细介绍
在生产环境下的使用方法和使用技巧。
原理，接着详细介绍了Keepalived 的配置过程，最后通过一个应用案例演示了Keepalived
作为负载均衡服务器的应用案例。
URL重写功能，并列举了很多实例，最后深人讲述了Nginx作为 Web 缓存服务器、Nginx
感谢机械工业出版社华章公司的编辑杨福川老师和姜影老师，此书的出版离不开他们
本书的修订信息会发布在笔者的博客上，地址为http://ixdba.blog.51cto.com。笔者会在
第13章讲述了如何构建高性能的MySQL集群系统，主要介绍了常见的高可用MySQL
第14章讲述了如何构建高可用的HAProxy负载均衡集群系统，通过单机HAProxy的
第12章讲述了千万级高并发负载均衡软件HAProxy的应用技巧，首先介绍了
第 11章讲述了高性能集群软件Keepalived 的实战应用，首先介绍了Keepalived 的实现
首先要感谢我的爸爸、妈妈，感谢你们将我培养成人，并时时刻刻向我传递信心和力量！
由于作者的水平有限，加之编写时间仓促，书中难免会出现一些错误或不准确的地方，
感谢对本书提供大力支持的杨武先生、禄广峰先生，感谢我的挚友张建坤、兰海文，
感谢我的妻子吴娟然女士，是她的鼓励和背后默默的支持，让我坚持写完了这本书。
第10章讲述了Nginx作为Web 服务器的应用，主要介绍了Nginx的反向代理功能和
---
## Page 8
谨以此书作为送给他的一份特殊的人生礼物！
举，在此一并感谢。
多本书的支持者，在本书撰写过程中他们向我提出了很多意见和建议，人数众多不一一列
更加精彩。同时也要感谢学习和使用Linux开源软件过程中认识的一些同行好友，以及众
对无私奉献的每位开源作者以及每个开源社区表示衷心的感谢，因为有他们，开源世界才
本书定稿之时，我儿子已经满三个月了，在这里祝福我的宝贝健康成长、幸福快乐，
本书内容是建立在开源软件与开源社区研究成果基础之上的，因此在本书完成之际，
2014年4月于西安
高俊峰（南非蚂蚁）
---
## Page 9
EILLY
推荐阅读
---
## Page 10
第1章Linux服务器安全运维.
前言
目
1.4
1.3
1.2
1.1账户和登录安全.
1.4.1软件自动升级工具yum….
1.2.1远程登录取消telnet 而采用SSH方式·
远程访问和认证安
1.4.2yum的安装与配置....
系统软件安全管理
1.3.3/tmp、/var/tmp、/dev/shm安全设定….
1.3.2
1.3.1锁定系统重要文件·
文件系统安
1.2.3启用tcp_wrappers防火墙…....
1.2.2合理使用shell历史命令记录功能.…
1.1.6禁止Control-Alt-Delete键盘关闭命令
1.1.5
1.1.4
1.1.3
1.1.2关闭系统不需要的服务.
1.1.1删除特殊的用户和用户组.
文件权限检查和修改.
删减系统登录欢迎信息
合理使用 su、sudo 命令.
密码安全策略·
第一部分安全运维篇
---
## Page 11
第2章Linux网络安全运维·
2.3
2.2网络流量监控与分析工具Ntop 和 Ntopng….
2.1网络实时流量监测工具iftop..
1.7
1.6
1.5Linux后门人侵检测工..…
2.3.2iperf的安装与使用...
2.3.1iperf能做什...
网络性能评估工具iperf.
2.2.4Ntop 和Ntopng 的使用技巧..
2.2.1Ntop与MRTG的异....
2.1.3使用iftop监控网卡实时流量.
2.1.2iftop的安装.
2.1.1iftop能做什..
一次Linux被入侵后的分析
1.6.1处理服务器遭受攻击的一般思路·
服务器遭受攻击后的处理过程