> TheWSDL portTypeofferedby
 theserviceto itscustomer
…
 Roles
…
79 80
[http://www-106.ibm.com/developerworks/webservices/library/ws-bpel/]
81 82
BPEL4WS BPEL4WS
An Example –The process An Example –The process
 This section defines the
… r n s ma e ym r Re v o= i l" c ec e =u L "s i pt n uo k rm T ce y hr p a" e s = e" Sl en rs v: ip cu er "c /h >aseLT" d w coi if tf uhe r r ste h en e ot b fp u pa s rr oit nie ce es s sst sh ipa nrt go i n c thete esr sa o c i rn dt eth r.e e u Pr r u" c r h ca hs ae sO er Od re dr eP rT ""
messageType="lns:InvMessage"/> This section defines the data …
…  containers used by the process, 
providing their definitions in terms of
 tName="lns:cannotCompleteOrder" WSDL message types.  o cp oe nr ta at ii no en r= =" "s Ie nn vd oP iu cr ec "h /a >seOrder"
aseOrderPT" This section contains fault handlers
operation="sendPurchaseOrder" defining the activities that must be 
 c fo an ut la ti Nn ae mr e= =" "P cO aF na nu ol tt C" o mpleteOrder"/> executed in response to faults. 
… 81 82
BPEL4WS 83 DAML- S 84
An Example –The process Introduction
DAML- S
 Th  construct provides concurrency and synchronization  DAML-S
k name="ship-to-scheduling"/>  DAML (DARPA Agent Markup Language)
 Activities are executed sequentially  DAML-S: Upper ontology of web services
…
"  D elA emM eL n-S ts :provides support forthe following
  Process description.
  Selection, composition & interoperation.
ve>  Invocation.
…   Execution and monitoring.
83 84
DAML-S projecthome page
14
DAML- S 85 DAML- S 86
Ontologies Service Profile
 DAML-S defines ontologies for the construction of service The Service Profile provides details about a service.
models:
 Service Profiles sshI hnI on op up uu ldu lt d st b s b. e. eI nI p n pp rp oru ou vt vst ids i dt eht eh da da t t t ot o OO thu thu et ept ip nu inu tt etst es r. ar.O acO ctu itu ot iopt np nu u w t wst is tie h te hx tx p htp he ee ec sc t se ete ed rd vr va i ca if cetfe et .er . r
 Process Models ininvvookkee t hthee s seervrvicicee..
 Service Grounding provides Receipt
RReessoouurcrcee SSeervrvicicee Client
Itinerary
presents supports Local
Tourism
described by
SSeervrviciceePProrofifliele SSeervrviciceeMMooddeell GGS roS re ouer uv nrv ni dci dc ie nie ngg condP itir oe nc so tn hd ai tt i so hn os u. ldS he ot lo df prior Web Service sE hf ofe uc ldts h. oS lde t t ro uf e s it fa tt he em se en rt vs i cth ea ist
to the service being invoked. invoked successfully.
what the how the how to access
service does service works the service
85 86
Service Profile 87 BPEL4WS vs. DAML-S 88
An example of Inputs and Outputs Comparison
...  BPEL4WS relates closely to the ServiceModel(Process
 Model) component of DAML-S.
...
  DAML-S defines preconditions and effects
rf f f oi i i fl l l ie e e l: : : ep r r :a e e Pr s f aa t e rm r r ae i s mt c T ee t o tr e eN d r ra T d Dm o f ee : s> r r c d e rA f s id : o pd r u tr e r is c op r "r c &o e cf = oi " nl g&e oa: ;dp #da crr oea nsm gse o;t B#e uAr ydN Rda erm cee es> is p" t/ "> /> I Anp ,du ,t ,ds r WO . .h . .u . .etp nuts   T I st h a ri vls s o ce n e sa n .b al be ls e sth ae bre ep ttr ee rs re en at sa otio nn in go f a s bid oe u te tf hfe ec cts o mof p W ose itb io s ne orv f i ces.
e i e
...
r i Wp ht ei no n  e terName>  DAML-S classes provide a richer representation of services
  Classes allow reasoning draw properties from inheritance and
 other relationships to other DAML-S classes.
...
87 88
89 90
BPEL4WS vs. DAML-S Semantic QoS
Comparison Web Processes Quality of
Service
 The DAML-S ServiceProfileand ServiceModelprovide
sufficient information to enable
 The automated discovery, composition, and execution based on Organizations operating in modern markets,
well-defined descriptions of a service's inputs, outputs,
such as e-commerce activities, require QoS
preconditions, effects, and process model.
management.
 BPEL4WS has complicated semantics for determining
whether an activity actually happens in a block.
 BPEL4WS defines mechanisms for catching andhandling QoS management is indispensable for
faults and for setting compensation handlers. organizations striving to achieve a
 BPEL4WS includes WS-Coordination andWS-Transaction to higher degree of competitiveness.
provide a context for pre-defined transactional semantics.
89 90
15
Discovery 91 QoS 92
New Requirements New Requirements
Quality of Service
Before Now
 The autonomy of Web services does not allow for
designer to identify their operational metrics at Time: 17 Hours
design time. R Fe iC l diao ebs liit tl? i yt ?y? FeT iC dii aom ebs lie it tl??
N1 E N2 R l i yt ?y?
 Nevertheless, when composing a process it is 1
indispensable to inquire the Web services B Z1
operational metrics. A N1 E 2 N2 F N1 E N2
1 5 C D 4 2 C
 Operational metrics characterize the Quality of 1 3 Z1 Z2
Service (QoS) that Web services exhibit when
A N1 E N2 F N1 E N2
invoked.
C D C D
F
91 92
93 QoS 94
QoS Semantics
Benefits
QoS QoS
What ?  Compositionof processes according to QoS
Formally describes operational metrics of a objective and requirements.
web service/process
 Selection and executionof processes
Why ? based on QoS metrics.
To select the most suitable service to carry out  Monitoringof processes to assure
an activity in a process compliance with initial QoS requirements.
How ?  Evaluationof alternative strategies when
Using QoS model for web services QoS requirements are violated.
[Cardoso and Sheth, 2002] 93 94
Semantic WP QoS 95 Web Services 96
Research Issues QoS Specification
QoS QoS
Specification.What dimensions need to be part xx  Operational Metrics Specification
of the QoS model for processes? yy  Operational metrics are described using a QoS
zz model represented with a suitable ontology.
Computation.What methods and algorithms can  The specification of Web services
be used to compute, analyze, and predict QoS? operational metrics allows the analysis Web Process QoS
and computation processes QoS.
Monitoring.What king of QoS monitoring
tools need to be developed?  Processes can be designed according
to QoS objectives and requirements.
Control.What mechanisms need to be  This allows organizations to translate
developed to control processes, in response to their strategies into their processes Web Service Annotation
unsatisfactory QoS metrics? more efficiently.
95 96
16
97 98
QoS Models QoS Models and Semantics
QoS QoS
A QoS Model describes non-functionalproperties of a process ? ? Use Semantics
Which dimensions should be part of
Security
a QoS model? Z#$%&/
Time
Time
Cost
Cost Security Cost Price
Price Price Fidelity
Duration
Fidelity Duration Security Reliability Reliability
Repudiation
Reliability Repudiation Time Duration Availability
Fidelity
Reliability Repudiation
Availability 97 Availability 98
99 QoS 100
QoS in METEO-R S
Creation of Estimates
QoS QoS
Design QoS Model  To analyze a process QoS, it is necessary
to:
 Create estimated for task QoS metrics and
QoS Estimates for QoS Estimates
Tasks/Web services for Transitions  Create estimated for transition probabilities
SWR
algorithm
Stochastic
Process Once tasks and transitions have their estimates set,
QoS algorithms and mechanisms, such as simulation, can be
Computation applied to compute the overall QoS of a process.
Enact
Simulation
Log
99 100
QoS 101 102
Web process QoS computation
Estimates for Web Services
QoS QoS
WS runtime behavior description can be composed of Design time| Runtime
several classes. For example:
LLinineeaarr
pprrooggrraammmminingg
QQooSS M Mooddeell
Security Price
Basic class Distributional class SSimimuulalattioionn
Basic class Distributional class Duration
Min value Avg value Max value Dist. Function PPeettrri-i-nneettss a annaalylyssisis Time
Time 0.291 0.674 0.895 Normal(0.674, 0.143) Repudiation
Cost 0 0 0 0.0 Cost
Reliability - 100% - 1.0 GGrraapphh R Reedduuccttioionn Reliability
Fidelity.ai 0.63 0.81 0.92 Trapezoidal(0.7,1,1,4) TTeecchhnniqiquueess Fidelity
Task QoS for an automatic task (SP FASTA task) Availability
Reliability
CCrrititicicaal lP Paatthh
mathematical methods simulation systems
101 AAlglgoorritithhmm 102
17
103 104
QoS Computation QoS Computation
QoS QoS
Graph Reduction Graph Reduction
Technique Technique
p4 Send tR 6eport QQooSS pj
ti tj tij
p1 p3 (a) (b)
xor xor xor xor
t1 t2 p2 t3 t4 p5 t5 and and t8 Reduction of a
P Sr ae mpa pr lee P Cre lop na er se Sequencing PS re oq cu ee sn sc ine C Rr ee pa ote S Ben ild Sequential System T(tij) = T(ti) + T(tj)
g rt l
t7 C(tij)= C(ti) + C(tj)
Store R(tij) = R(ti) * R(tj)