提示
支持，通常都无须在做设置。
完成设置后单击左上方的“完成”按钮返回安装信息摘要界面。
删除时间服务器。
的滑块至开启位置即可，而如需对时间服务器进行设置，可以单击滑块右侧的齿轮按钮添加或
步时间，设置此项需要在系统设置中先设置网络。如果已经设置网络，可以拖动网络时间后面
中单击对应的区域来设置时区。网络时间设置是用来设置是否让操作系统自动从时间服务器同
步冀06
在窗口的下方可以设置当前日期和时间及时间显示的制式等，读者按需要进行设置即可，
在日期和时间设置窗口中，可以在地区和城市中选择需要使用的时区，也可以在下方地图
如图2.13所示，在本地化中系统已经按之前设置的语言预设了时区、键盘类型和语
面，如图2.15所示。
默认设置为最小安装即只安装系统最基本的组件，单击软件选择进入软件定制界
介质即光盘，无须修改。软件选择选项表示安装操作系统时需要一并安装的软件，
源。其中安装源表示安装时软件包的来源，此时安装程序已自动将来源设置为本地
安装信息摘要界面中的软件部分，主要是用来定制需要安装的软件包及软件包的来
如图2.14所示。
言支持三个选项，如需要修改直接鼠标单击对应的图标即可。首先日期和时间中的
否则某些中文命名的文件可能无法正常显示。
若选择英语作为系统的默认语言，也应该在语言支持中选择安装简体中文相关的软件包，
地区(R)）亚洲
日期&时间
11:08PM
人员入
24小时制（H)
AM/PM
图2.14日期和时间设置窗口
城市（C）：上海
第2章跟我学CentOS的安装
三月13~2015
网端时间（N）
CENTOS7安装
关用
15
---
## Page 28
CentOS7系统管理与运维实战
16
80新
要界面，返回后安装程序将重新计算软件依赖关系，此过程中软件部分的选项将显示为灰色。
初学者此处可选择“GNOME桌面”。选择完成后单击左上角的“完成”按钮返回安装信息摘
处可以根据自身需求选择基本环境，需要注意的是某些基本环境默认没有安装图形界面，对于
及打印服务器、基本网页服务器和虚拟化主机等。右侧则为每个基本环境中附加软件选项，此
软件定制界面左侧是系统预定义的基本环境，按用途不同可以分为基础设施服务器、文件
装目标位置”选择界面，如图2.16所示。
方案设置为自动分区，但要求用户确认，如图2.13所示。单击“安装位置”进入“安
系统部分要求用户设置硬盘分区方案和网络连接，此时安装程序已自动将硬盘分区
其它存铺选项
设备选择
软件选择
完整磁盘摘要以及引导程序（F）
加密
添加硬盘（A).
特别的及网络磁盘
本地标准磁盘
选择您想要安装的设备。在您点击“开始安装”按钮之前，选择的设备并不会被操作。
小安装
基本环境
我慧让需外间可用（M
设施服务销
10.24G8
我衰配置分区（0
施医务的服务器。
图2.16
图2.15软件定制界面
“安装目标位置”界面
已选环境的啊加选项
开案工夏环境。
已选择1个磁盘：容量10.24GB：10.24GB空附
此处未选择的磁盘将不会被操作
50
T057安装
7安装
---
## Page 29
空间）。分区完成后将显示分区方案，如图2.19所示
的交换分区，大小为2GB，挂载点为根分区的“/”，期望容量不填（不填将默认使用剩余所有
基本的分区方案，依次添加挂载点为“/boot"的引导分区，空间大小为500MB，挂载点为“swap”
此处填入分区大小，默认单位为MB，但也可以使用如2GB、100MB等形式。本例将使用最
图2.18所示。
择，本例中将选择标准分区。然后单击下方的“+”添加分区，此时将弹出添加分区窗口，如
然后单击左上角的“完成”按钮进入分区界面，如图2.17所示。
项”中，可以选择手动分区和系统是否加密（通常不选择加密选项）。选择“我要配置分区”，
外的存储，可以在设置网络之后单击“添加硬盘”选项添加额外的存储。最后的“其他存储选
容量为10.24GB，空闲空间为10.24GB。本地标准磁盘下面是存储添加区域，如果需要使用额
添加分区窗口主要有两项需要用户设置，第一项为挂载点即系统目录，第二项为期望容量，
在“手动分区”界面中可以看到，这是一个新的CentOS7安装，分区方案可以有多种选
在安装目标位置界面中，首先需要用户确认安装的磁盘，此处已选择了一个本地磁盘sda，
手动分区
10.23GD1024GB
已选择1存储设量（S）
新挂载点蒋使用以下分区方案（N）：
新CentOs7安装
或者向下方选择的已有分区分配新挂载点。
通过点击“+”按钮创建新挂载点。
期望容量（D）：
挂载点（P）：
添加新挂载点
图2.17手动分区界面
有更方创建技越点局
图2.18分区窗口
取消（C）
添加挂载点（A)
第2章跟我学CentOS的安装
cn
全部董设（R)
的
二
---
## Page 30
CentOS7系统管理与运维实战
18
关闭状态。在界面左下侧安装程序已经设置了一个主机名，用户可以在此处输入新的主机名。
步骤09
击“接受更改”即可保存并返回安装信息摘要界面。
在本例中保持默认，单击左上角的“完成”按钮，将提示是否需要将分区方案保存到硬盘，单
“配置”按钮，在弹出的窗口中选中“IPv4设置”，如图2.21所示。
拖动界面右侧的滑块将网卡启用，如果使用的网络还需要设置IP地址等信息，可以单击
从界面左侧可以看到，安装程序发现了一张网卡命名为eno16777736，并且网卡默认处于
在分区方案的右侧，还可以对分区进行一些调整，此处最主要的调整是调整文件系统类型。
完成分区方案设置之后，接下来需要设置网络和主机名，单击“网络和主机名”弹
出设置窗口，如图2.20所示。
手动分区
已选择1存值设备（5}
新Cento57安装
主机名（H)）：
口
网络和主机名
图2.20网络和主机名设置
图2.19分区方案
500MB
2GB
硬伴地址00:0C:29:9F：5858
文件系统（5）
（a）
签（L）：
挂藏点(P）:
sda3
xfs
标淮分区
7.739GB
关用
尼置（0）
全部重（）
---
## Page 31
密码”选项将设置root用户的密码，root用户通常也称为根用户，在Linux系统中拥有至高无
步骤10
按钮返回安装信息摘要界面。
的网络设置为Host-Only和NAT，此处应该设置为通过DHCP方式获得IP地址等信息。
填写在“附加DNS 服务器”选项中，如果有多个DNS 地址则使用逗号作分隔。如果虚拟机
中选择“手动”，然后在地址中添加相应的IP 地址、子网掩码和网关。DNS 服务器地址应该
完成上述设置后，单击“保存”按钮返回网络和主机名设置界面，再单击左上角的“完成”
从图2.22中可以看到安装程序已经开始安装工作，但还需要对用户进行设置。其中“ROOT
可以看到系统默认使用DHCP的方式来获得IP地址等信息，如需设置IP地址可以在方法
完成前面几步的设置之后，请再次确认每一项设置是否合适，特别是磁盘分区，因
的“开始安装”，安装程序会使用之前的设置开始系统的安装工作，如图2.22所示。
为到此时为止安装程序还没有修改磁盘中的数据。确认没有问题之后，单击右下角
Centos用户设置
entOS Core SIG
RO
动软件包安装进程
配景
方法（M）：自动（DHCP）
常项以大网802.1X安全性DCB/1Pv4说置IPv6设置
连相名称（N）016家政3号
OHCP客户ID：
加拨索域（E）：
时加DNS服务器
需要IPV4地址完成这个连接
图2.22开始安装
图2.21网卡设置
记的内容再进行下一步，
正在编辑eno16777736
关
路由（R)
创建产任何用户
第2章跟我学CentOS的安装
CENTOS7安装
---
## Page 32
2
正常识别U盘，且U盘足够大（建议容量8GB）。然后打开USBWriter，如图2.24所示。
2.2.3U盘安装CentOS7
CentOS7就已经安装完成了。
提示
角的“完成”按钮即可返回安装界面。
用普通用户登录系统，必要时向root用户“申请”权利。
烦，例如输错一个字母删除系统中重要的数据等。因此系统强制要求创建一个普通用户，并使
上的权限（相当于Windows系统中的Administrator用户），因此如果在生产环境中，应当设置
CentOS7系统管理与运维实战
以使用U盘安装。本小节将简单介绍如何使用U盘安装CentOS 7。
步驿11
一个强度较高的密码。
单击“创建用户”选项即可弹出创建用户窗口，填入全名、用户名、密码之后，单击左上
首先需要下载一个名为USBWriter的软件，将U盘插入计算机的USB接口，确保系统能
由于光盘使用不是非常方便，目前在计算机中安装操作系统多使用U盘，CentOS7也可
由于root用户的权限太大，若用户登录并使用根用户误操作可能会带来一些不必要的麻
此时只需要单击。“重启”按钮，系统就会将最后的修改写入硬盘并重新启动系统，至此
设置完密码之后，等待安装程序安装完成（视计算机配置不同，此步可能需要20~40
分钟），安装结束时如图2.23所示。
衡量，即密码要包含构成密码的4种字符（大写字母、小写字母、数字和字符）中的3种。
建议设置为8~16位。其二是密码要具备一定的复杂性，复杂性通常用“四分之三原则”来
如果在生产环境中设置密码，通常需要注意两点，其一是密码必须要有一定的长度，通常
Centos
用户设置
配置
图2.23安装完成
CENTOS7安装
---
## Page 33
CentOS7预留足够的空间。这些空间可以不用分区，以空闲空间的形式存在即可，如图2.25所示。
安装Linux，在Linux的引导程序中添加Windows引导选项。
统，但Linux系统的引导程序Grub则可以引导Windows。因此应该先安装Windows，然后再
合其他版本的Windows和Linux。
以Windows7为例，介绍如何在一台计算上同时安装Windows 和Linux，此处介绍的方法也适
运行可能会不太流畅，因此许多人将Windows和CentOS都安装到同一个计算机中。本小节将
2.2.4Windows7+CentOS7双系统安装
提示
安装。之后的安装步骤与2.2.1中介绍的相同，此处不再赘述。
请慎重。确定使用的U盘中没有任何有用数据之后，单击“Write”按钮开始写入映像文件。
然后在Target后面选择要使用的U盘。由于写入光盘映像会清空U盘中的所有数据，此步骤
待USBWriter写入完成，将U盘插入需要安装CentOS7的计算机上，然后使用U盘启动
如果计算机中还没有安装Windows7，即硬盘中还没有分区，在Windows7安装时需要为
由于虚拟机安装CentOS7时会占用大量内存，对计算机要求相对较高，低配置的计算机
（1）安装双系统应该先安装Windows，因为Windows的引导装载程序无法引导Linux系
单击Source后面的“Browse”按钮，在弹出的对话框中选择CentOS7的光盘映像文件，
并不是所有的U盘都可以写入光盘映像，某些U盘制作启动盘时，可能会失败。
您想将Wirndoe安装在何处？
盘0未分配空间
图2.25安装Windows7时预留空间
Source
USBWriter
图2.24USBWriter软件
格式化
11.6 
建
11.6GB
银7主分区
19.5GB主分区
第2章跟我学CentOS的安装
下一步
Z
---
## Page 34
CentOS7系统管理与运维实战
引导装载程序的配置文件，并添加Windows7的引导选项。
在桌面上单击右键，选择“在终端中打开”，此时将弹出终端窗口。接下来将修改CentOS
然后安装CentOS7，安装过程与2.2.1节中介绍的相同，此处不再赘述。安装完成后登录系统，
个10:66GB的未分配空间。
最后剩余一部分空间作为CentOS7的预留空间。如图2.26所示，已经为CentOS7预留了一
魔术分区大师等软件重新调整分区，将分区中的未使用空间调整为未分配空间。如果磁盘中还
震示
一步”继续安装即可。
分区并预留空间。由于需要将Windows7安装在分区2中，因此只需选中分区2并单击“下
11.6GB，这个未分配空间就是留给CentOS7的空间。
配给Windows7使用的第二个分区，大小为19.5GB，而最后还有一个未分配空间，容量为
的系统保留空间，容量为48.7GB的分区2作为Windows7的系统分区，即C盘。分区3是分
安装Windows7时，也可以只添加系统盘，待系统安装完成后，再使用磁盘管理器进行
在终端窗口中输入命令“su-root”，然后输入root用户密码切换到root用户，需要注
（3）完成上述步骤后，重新启动系统，修改BIOS设置并使用安装光盘或U盘启动系统
如果系统中还有多余没有分配的空闲空间，此时可以在未分配空间上单击右键，添加分区。
从图中可以看到磁盘0的容量约为80GB，其中分区1是由Windows7安装程序自动分配
版本Windows 的安装方法，读者可自行阅读相关文档或搜索相关视频了解。
由于本书的重点并非Windows的安装，故此略过Windows安装一节，Windows7和其他
图2.26计算机管理
”
---
## Page 35
中该选项并按Enter键即可引导进入Windows 7。
多了Windows7的引导选项，如图2.28所示。
表示加载Windows的引导程序。
导的设备为第0块磁盘的第1个分区（此处需要按实际情况设置），而其后的“chainloader+1"
项中“Windows 7”表示启动时，Grub显示的菜单名称，“set root=(hdo,1)”表示Windows 引
标将跳转到第70行。
打开后，依次单击菜单中的“搜索”和“跳转到行”，在弹出的对话框中输入70，此时光
Enter键，此命令表示使用gedit编辑器打开Grub的配置文件/boot/grub2/grub.cfg。待gedit
意的是输入密码时终端内不会有任何显示，输入完成后按Enter键即可。切换成root用户
如图2.27所示，在原有的菜单条目“menuentry”之后加上Windows7的引导选项。引导
从图2.28中可以看出，引导菜单中已有Windows7选项，此时只需要使用向上方向键选
完成以上操作后，保存退出并重启系统，待系统重启后可以发现CentOS7的引导菜单中
u-LInus
grub.cfg
文件（F）编辑（E）查看（V）搜索（S）工具（T）文档（D）
ad=keep
图2.27使用gedit编辑grub.cfg
图2.28CentOS7引导菜单
ipa6 -(zqnb/ooq/ 6qru6
纯文本制表符宽度：8
第2章 跟我学CentOS的安装
行70.列1插入
2
---
## Page 36
CentOS官网上查询并使用其他安装源。设置完安装源之后，其他设置和安装方法与2.2.1小节
后，单击“安装源”进行设置，如图2.29所示。
CentOS7系统管理与运维实战
忆
中介绍的相同，此处不再赘述。
以单击“网络和主机名”进行设置，请参考2.2.1节中的介绍，此处不再赘述。完成网络设置
虚拟机，之后的操作与2.2.1中介绍的相同，直到进入安装信息摘要界面。
接方式一般选择桥接或NAT，视宿主机网络环境而定。接下来使用NetInstall版光盘映像启动
先需要下载NetInstall版的光盘映像文件，接下来需要让虚拟机能正常访问网络，这时网络连
文档了解，本小节将介绍如何使用网络安装版的使用方法。
由于PXE网络启动安装方式比较复杂且实用性不太多，此处不作介绍，读者可自行阅读相关
用于大规模自动化安装，例如一次性安装100台计算机，并且这些计算机的分区方案都相同。
通过网络下载安装所需的软件包；另一种方式是使用PXE网络启动的方式安装，这种方式适
2.2.5
在NetInstall 版的安装信息摘要界面中，会要求用户设置安装源。首先需要设置网络，可
网络安装通常适用于不能使用DVD和U盘的环境，读者仍可以使用虚拟机模拟安装。
网络安装分为两种模式，一种是使用NetInstall版（网络安装版），使用这个版本安装需要
CentOS 安装完之后，需要第一次配置并登录使用，Linux 系统的登录方式有多种，本节
如图2.29所示在安装源中输入地址即可，此处使用的是网易的安装源，读者也可以从
也可以通过解压DVD 安装光盘映像的方式自建安装源，但由于光盘文件名长度限制，光
网络安装
盘中解压出的目录repodata和 Packages 中有许多文件名有误，需要修正才能使用。
Linux的登录
额外软件仓库
您要使用哪个安装源？
安装源
已店用名称
mp/
在网路上（N）
波URL指向一个银像列装（(M）
图2.29安装源设置
7/os/x86.64/
哥w
居产名04
代URLP）
IRL招表
代理服务器设置（(F）
CENTOS7安装
---