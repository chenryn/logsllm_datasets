i=1,j=1,i6=j
=
1
Z(Λ)
λi,jxixj],
(7)
where Λ = [λi,j] is the Lagrange parameter, and
X
exp[− KX
λi,ixi − i=K,j=KX
Z(Λ) =
x
i=1
i=1,j=1,i6=j
λi,jxixj],
(8)
is the partition function that depends on Λ, and it has the following
properties:
1
Z
∂Z
∂λi,j
= −pi,j.
(9)
Unfortunately, a closed form solution for Λ is not available in
general. Thus, we seek a numerical solution by solving the follow-
ing equations iteratively.
dλi,j
dt
= pt
i,j − pi,j,
(10)
where pt
i,j is the intermediate probability computed at step t, based
on the intermediate distribution pt(x; Λ). For details of the deriva-
tion of the equations, refer to [12]. In Algorithm 3, we brieﬂy de-
scribe the iterative procedure to construct the maximum entropy
distribution p∗(x), and then use Gibbs Sampler ([24]) to obtain in-
stances of member clusters. The key method in the algorithm is
basically a known statistical technique [31]. Understanding it and
implementing it is a non-trivial task. The user of our GEM tool
does not have to thoroughly understand the intricacies of this tech-
nique.
5.2.3 Discussions
ME Values in 3 Cases. In the above three cases, the ME value
decreases from case 1 to case 3. For case 1, we do not know any-
thing except the portion of clusters to join the multicast group.
For case 2, we know a little bit more: different cluster has dif-
ferent group participation probability. While for case 3, besides the
knowledge in case 2, we even know the pairwise correlation, which
adds more constraints to the ME distribution, as leads to a smaller
ME value compared to case 2.
Input Distribution Validation. It can be shown that the tech-
nique we use in case 3 will lead provably to the correct distribution,
if such a solution exists. Note that in some cases, the given distribu-
tion may be self-contradicting. For example, cluster A and cluster
B have high positive correlation, and so do cluster B and C. How-
ever, the correlation of C and A is negative. It may not be possible
to satisfy such a constraint. Thus, GEM needs to check whether the
input distributions are valid or not. In fact, given pi, pj, and pi,j,
Algorithm 3 Member Cluster Generation (Case 3)
Require: For K variables, X1, X2, ..., Xi, ..., XK, P (Xi =
1) = pi, and P (Xi = 1, Xj = 1) = pi,j, where 1 ≤ i, j ≤
K. Notes: Xi represents the group participation of cluster Ci
with values of 0 (not join) or 1 (join)
Ensure: A set of K-dimension vectors, (x1, x2, ..., xi, ..., xK ),
which follows given distribution.
1: initialize Λ as Λ0
2: E0 = 0 //initialize judgement term as 0
3: t = 0 //initialize step counter
4: repeat
5:
6:
7:
t = t + 1
compute Z t based on equation 8, then we know pt(x; Λ).
use Gibbs Sampler ([24]) to sample pt(x; Λ) and compute
pt
i,j.
i,j = λ(t−1)
λt
i,j − pi,j) //update Λ
compute Et = exp(−(P
i,j(pt
i,j + (pt
8:
9:
10: until |Et − Et−1| <  //the iteration reaches steady state
11: compute Z t based on equation 8, then we know pt(x; Λ).
12: use Gibbs Sampler ([24]) to sample pt(x; Λ), and output the
i,j − pi,j)2))
series of generated vectors x.
the only constraint we need to consider is that pi + pj ≤ 1 + pi,j
should hold (this can be easily deducted from the basic deﬁnitions
of probability and joint probability).
Bounded Size Group Generation. Sometimes, we want to con-
trol the size of the groups in our simulations. We can impose con-
straints in our approaches to stop the creation of a group once a
size is reached. However, this may affect the correlations and prob-
abilities in case 3. A suggested method is to recompute the prob-
abilities and correlations under the given condition, i.e., bounded
group size. But this will introduce more computation. Thus, a fu-
ture work direction is to investigate the possibility of an efﬁcient
heuristic algorithm design for bounded size group generation.
6. EXPERIMENTAL VALIDATION
In this section, through experiments, we validate that GEM can
generate realistic groups with great success and the generated groups
match very well the real data.
6.1 Experiment Design
Based on our measurement results and analysis, we see that GEM
can model both MBONE applications and net games: to model net
games, Algorithm 1 can be used, since uniform distribution without
correlation approximately characterizes net games’s spatial prop-
erties; while to model MBONE applications, such as IETF and
NASA, GEM needs to employ Algorithm 3, because in these ap-
plications, the features of non-uniform distribution and correlation
are very signiﬁcant. Since Algorithm 1 is pretty straightforward,
to validate GEM, in this section, we only consider MBONE appli-
cations (IETF and NASA), which will be modelled by GEM with
Algorithm 3.
Based on our measurement results of MBONE applications, we
give inputs, such as the distributions of group participation prob-
ability and pairwise correlation of clusters, and the distribution
of member cluster size, to GEM, and GEM generates multicast
groups using Algorithm 3. Note that, in our validation experiments,
we only consider possible member clusters, which has participa-
tion probability greater than 0, as is the same as the methodol-
ogy in our measurement. Then, we analyze the generated multi-
cast groups similarly, and compute the distributions of group par-
ticipation probability and pairwise correlation of clusters, and the
distribution of member cluster size. And ﬁnally, we compare the
results from real measurement data and simulation data (generated
by GEM).
6.2 Results and Analysis
We give the comparison results for data set IETF43-Video as an
example. The curves for CDF of cluster size, participation proba-
bility, and correlation coefﬁcient are shown in Fig. 13, Fig. 14, and
Fig. 15 respectively. To show the limitation of the uniform random
model, we also plot the curves for its corresponding simulation data
in Fig. 14 and Fig. 15.
Figure 13: The comparison of cluster size distribution for
IETF43-Video between measurement and modelling data.
Figure 14: The comparison of group participation probabil-
ity distribution of clusters for IETF43-Video between measure-
ment and modelling data (GEM and Uniform model).
From Fig. 13 and Fig. 14, we can see that, for cluster size and
participation probability, the two CDF curves for measurement and
GEM simulation data are “perfectly” matched. For the correlation
coefﬁcient (shown in Fig. 15), the CDF curves for measurement
and GEM simulation data are “nearly” matched. The difference
is because CDF is an accumulative function, and the CDF of cor-
relation coefﬁcient involves much more variables (the number of
variables is K 2 in total) than the CDF of participation probability
(the number of variables is K). And simulation errors are prop-
agated accumulatively.
In addition, to facilitate the computation
00.10.20.30.40.50.60.70.80.91123102030100CDFCluster sizeFrom simulationFrom real measurements00.10.20.30.40.50.60.70.80.9100.10.20.30.40.5560.70.80.91CDFParticipation probabilityFrom GEM simulationFrom real measurementsUniform model simulationFuture Work. We would like to continue this work in two main
directions. First, we want to study more applications with multi-
ple recipients, and explore their spatial properties. We believe that
different applications have different spatial properties, but we hope
that we can well characterize existing applications, which will as-
sist research and development of multicast and other group com-
munication technologies. Second, we would like to integrate in our
model temporal properties of group membership.
8. ACKNOWLEDGEMENT
We give our special thanks to Robert Chalmers and Kevin Almeroth
from University of California, Santa Barbara. Without their data,
we would not be able to analyze multicast groups from MBONE.
9. REFERENCES
[1] Group Membership Measurement and Modelling Project
Page at UCLA.
http://www.cs.ucla.edu/NRL/hpi/MCModel/index.html.
[2] NLANR Global ISP interconnectivity by AS number.
http://moat.nlanr.net/AS/.
[3] QStat. http://www.qstat.org.
[4] K. Almeroth and M. Ammar. Collection and modeling of the
join/leave behavior of multicast group members in the
MBone. Proceedings of High Performance Distributed
Computing Focus Workshop (HPDC ’96), Aug. 1996.
[5] T. Billhartz and et al. Performance and resource cost
comparisons for the CBT and PIM multicast routing
protocols. IEEE Journal on Selected Areas in
Communications, 1997.
[6] L. Breslau, P. Cao, L. Fan, G. Phillips, and S. Shenker. Web
caching and zipf-like distributions: Evidence and
implications. In INFOCOM (1), pages 126–134, 1999.
[7] R. Caceres, N. Dufﬁeld, J. Horowitz, D. Towsley, and T. Bu.
Multicast-based inference of network-internal
characteristics: Accuracy of packet loss estimation. IEEE
INFOCOM, 1999.
[8] R. Chalmers and K. Almeroth. Modeling the branching
characteristics and efﬁciency gains of global multicast trees.
Proceedings of the IEEE INFOCOM’ 2001, Apr. 2001.
[9] R. Chalmers and K. Almeroth. On the topology of multicast
trees. UCSB Technical Report, Mar. 2002.
[10] J. Chuang and M. Sibru. Pricing multicast communications:
A cost-based approach. Proceedings of the Internet Society
INET’98 Conference, July 1998.
[11] M. Crovella and A. Bestavros. Self-similarity in World Wide
Web trafﬁc, evidence and possible causes. SIGMETRICS,
pages 160–169, 1996.
[12] J.-H. Cui, D. Maggiorini, M. Faloutsos, M. Gerla, and
K. Boussetta. Modelling the spatial properties of multicast
group members in the internet. Technical report, UCLA CSD
Technical Report, Feb. 2003.
[13] M. Faloutsos, A. Banerjea, and R. Pankaj. QoSMIC: Quality
of Service sensitive Multicast Internet protoCol. ACM
SIGCOMM’98, Vancouver, British Columbia, Sept. 1998.
[14] A. Fei, J.-H. Cui, M. Gerla, and M. Faloutsos. Aggregated
Multicast with inter-group tree sharing. Proceedings of
NGC2001, Nov. 2001.
Figure 15: The comparison of correlation coefﬁcient distribu-
tion of clusters for IETF43-Video between measurement and
modelling data (GEM and Uniform model).
in ME method, we approximate some very small (in terms of the
absolute value) correlation coefﬁcients as zero (which means the
corresponding constraints could be ignored). But this will add ex-
periment errors to the simulation. Another observation in Fig. 14
and Fig. 15 is that the uniform random model could not generate
realistic multicast groups, as shows the limitation of it capabilities.
For other sessions,such as IETF Audio and NASA, we get sim-
ilar results. Thus, based on our experimental results, we can con-
clude that our model can produce group members which follows
given distribution successfully.
7. CONCLUSIONS AND FUTURE WORK
In this paper, we measured and modelled the spatial properties
of multicast members. Our contributions can be summarized as
follows:
1. We identify and quantify the spatial properties of members:
member clustering, group participation probability, and pair-
wise correlation, in net games and large audio-video broad-
casts from IETF and NASA.
2. We observe that MBONE multicast members are highly clus-
tered and the clusters exhibit skewed distribution and strong
pairwise correlations in their participation.
3. We ﬁnd that net game members are not as clustered and there
does not seem to be a strong correlation between users. The
uniform random membership can roughly model net games
(Quake) However, this could be partially due to the small
scale of the games we were able to measure. Interestingly,
we observe a very strong daily periodicity.
4. We develop GEM, a powerful group membership model, that
can generate realistic member distribution. GEM combines
of two conﬂicting forces:
it maximizes the entropy of the
distribution, while it tries to match given constraints.
5. We validate our model with great success:
the generated
groups match very well the real data.
We provide our data and our model as a contribution to the com-
munity with the hope that it can be part of a realistic and systematic
multicast evaluation methodology ([1]).
[15] T. Henderson and S. Bhatti. Modelling user behaviour in
networked games. Proceedings of ACM Multimedia’01, Sept.
2001.
00.10.20.30.40.50.60.70.80.91-1-0.8-0.6-0.4-0.200.20.40.60.81CDFCorrelation CoefficientFrom GEM simulationFrom real measurementsUniform model simulation[16] B. Krishnamurthy and J. Wang. On network-aware clustering
[25] J. K. Shapiro, J. Kurose, D. Towsley, and S. Zabel. Topology
of web clients. Proceddings of SIGCOMM’00, 2000.
[17] S. Kumar, P. Radoslavov, D. Thaler, C. Alaettinoˇglu,
D. Estrin, and M. Handley. The MASC/BGMP architecture
for inter-domain multicast routing. In Proceedings of ACM
SIGCOMM’98, pages 93–104, Sept. 1998.
[18] W. Leland, M. Taqqu, W. Willinger, and D. Wilson. On the
self-similar nature of ethernet trafﬁc. IEEE Transactions on
Networking, 2(1):1–15, Feb. 1994. (earlier version in
SIGCOMM ’93, pp 183-193).
[19] M.Jovanovic. Modeling large-scale peer-to-peer networks
and a case study of gnutella. Master thesis,University of
Cincinnati, 2001.
[20] V. Paxson and S. Floyd. Wide-area trafﬁc: The failure of
poisson modeling. IEEE/ACM Transactions on Networking,
3(3):226–244, June 1995. (earlier version in SIGCOMM’94,
pp. 257-268).
[21] G. Philips and S. Shenker. Scaling of multicast trees:
comments on the Chuang-Sirbu scaling law. In Proceedings
of ACM SIGCOMM’99, pages 41–51, Sept. 1999.
[22] P. I. Radoslavov, D. Estrin, and R. Govindan. Exploiting the
bandwidth-memory tradeoff in multicast state aggregation.
Technical report, USC Dept. of CS Technical Report 99-697
(Second Revision), July 1999.
[23] P. Rajvaidya and K. Almeroth. Analysis of routing
characteristics in the multicast infrastructure. IEEE
INFOCOM, 2003.
[24] S. M. Ross. Introduction to Probability Models (Seventh
Edition). Academic Press, 2000.
discovery service for router-assisted multicast transport.
Proceedings of OpenArch 2002, 2002.
[26] D. Thaler and M. Handley. On the aggregatability of
multicast forwarding state. Proceedings of IEEE INFOCOM,
Mar. 2000.
[27] B. M. Waxman. Routing of multipoint connections. IEEE
Journal on Selected Areas in Communications,
6(9):1617–1622, Dec. 1988.
[28] L. Wei and D. Estrin. The trade-offs of multicast trees and
algorithms. Proceedings of the International Conference on
Computer Communications and Networks (ICCCN), 1994.
[29] A. Wolman, G. M. Voelker, N. Sharma, N. Cardwell, A. R.
Karlin, and H. M. Levy. On the scale and performance of
cooperative web proxy caching. In Symposium on Operating
Systems Principles, pages 16–31, 1999.
[30] T. Wong and R. Katz. An analysis of multicast forwarding
state scalability. In Proceedings of the 8th International
Conference on Network Protocols (ICNP), Japan, Nov. 2000.
[31] S. C. Zhu, Y. N. Wu, and D. Mumford. FRAME: Filters,
Random ﬁeld And Maximum Entropy: — Towards a Uniﬁed
Theory for Texture Modeling. — International Journal of
Computer Vision, 27(2) pp.1-20, March/April, 1998.
[32] G. K. Zipf. Human behavior and the principle of least effort.
Reading, MA: Addison-Wesley, 1949.