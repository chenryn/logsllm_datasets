late at night in an attempt to reduce the interference from the pro-
duction 802.11g network. The Jigsaw nodes are signiﬁcantly less
powerful than those in the ALIX testbed, and turn out to be CPU-
limited when using the MORE protocol, so we do not report results
for MORE.
Because it was originally deployed as a passive sniffer net-
work, the Jigsaw nodes are quite dense. Hence, the overall results
most closely resemble those from the maximum-power ALIX ex-
periment: there is little difference between ExOR and any of its
variants—including modrate. Due to the disparate layouts of the
ﬂoors, however, there is signiﬁcant variation between the connec-
tivity of individual ﬂoors. Hence, we also plot the performance one
ﬂoor at a time.
Figures 12 and 13 show the results for ﬂoors two and three, re-
spectively. Each ﬂoor has a similar area and density of nodes, so
comparing ﬂoors reveals differences between similar networks in
393%
,
s
e
t
u
o
r
f
o
F
D
C
%
,
s
e
t
u
o
r
f
o
F
D
C
 100
 80
 60
 40
 20
 0
-100
 100
 80
 60
 40
 20
 0
-100
%
,
s
e
t
u
o
r
f
o
F
D
C
%
,
s
e
t
u
o
r
f
o
F
D
C
 100
 80
 60
 40
 20
 0
-100
 100
 80
 60
 40
 20
 0
-100
trad-TCP
hop-by-hop
group-ACK
on-path
modrate
modrate2
-50
 0
 50
 100
 150
Speed differences, %
(a) Power 30
trad-TCP
hop-by-hop
group-ACK
on-path
modrate
modrate2
-50
 0
 50
 100
 150
Speed differences, %
(c) Power 50
trad-TCP
hop-by-hop
group-ACK
on-path
modrate
modrate2
-50
 0
 50
 100
 150
Speed differences, %
(b) Power 40
trad-TCP
hop-by-hop
group-ACK
on-path
modrate
modrate2
-50
 0
 50
 100
 150
Speed differences, %
(d) Power 60
Figure 10: Modrate performance relative to ExOR on the ALIX network at various power levels.
different physical locations. Floor two, in particular, shows sub-
stantial improvement from modrate and bulk transport—similar to
power 50 in the ALIX testbed. Yet ﬂoor three has some routes with
dramatic improvements under modrate, some exceeding 100%,
over and above the already dramatic improvements due to group
acknowledgments. Floor four (not shown), on the other hand, had
several routes where modrate harmed performance, likely due to
signiﬁcant differences between predicted and experience reception
rates cause by broadband interference or hidden terminals. (Coin-
cidentally, the hidden terminals previously reported to exist in the
Jigsaw testbed [10] were located on the fourth ﬂoor.)
8. SUMMARY
Most opportunistic bulk-transfer schemes reported in the liter-
ature employ a single, ﬁxed link rate. We ﬁnd that an adaptive
scheme is almost always superior, even if it only takes into account
the immediate next hop in a path. While it appears that the joint
optimization of link rates and overhearing potential may not signif-
icantly increase the performance of ExOR in many cases (Chachul-
ski came to a similar conclusion regarding MORE [7]), our study
reveals a somewhat surprising reason: overhearing itself is often
only a minor contributor to the performance of ExOR. Instead, far
more prosaic aspects of the implementation like bulk transport and
group acknowledgments deliver the vast majority of the improve-
ment: In only one of our tested conﬁgurations (the ALIX testbed
at power level 40) did overhearing contribute more than a few per-
cent of performance improvement to the median route over a sim-
ple group-acknowledgment, bulk transfer scheme. In every other
instance, almost all of the improvement was gained without taking
advantage of overhearing—regardless of whether link rates were
optimized in an attempt to enhance overhearing.
Acknowledgments
The authors are indebted to Stefan Savage, Patrick Verkaik, and
Geoff Voelker for their invaluable comments on earlier versions
of this manuscript, and to Szymon Jakubczak and Dina Katabi for
assistance with their MORE implementation. This work is funded
in part by the UCSD Center for Networked Systems (CNS), NSF
CAREER grant CNS-0347949, and a grant from the Alfred P. Sloan
Foundation.
9. REFERENCES
[1] M. Afanasyev, D. G. Andersen, and A. C. Snoeren.
Efﬁciency through eavesdropping: Link-layer packet
caching. In Proceedings of ACM/USENIX NSDI, Apr. 2008.
[2] M. Afanasyev, T. Chen, G. M. Voelker, and A. C. Snoeren.
Analysis of a mixed-use urban WiFi network: When
metropolitan becomes neapolitan. In Proceedings of USENIX
IMC, Oct. 2008.
394%
,
s
e
t
u
o
r
f
o
F
D
C
%
,
s
e
t
u
o
r
f
o
F
D
C
%
,
s
e
t
u
o
r
f
o
F
D
C
 100
 80
 60
 40
 20
 0
 0
 100
 80
 60
 40
 20
 0
 0
 100
 80
 60
 40
 20
 0
 0
 100
 80
 60
 40
 20
%
,
s
e
t
u
o
r
f
o
F
D
C
 0
-100
hop-by-hop
group-ACK
on-path
ExOR
modrate
modrate2
 200
 400
 600
 800
 1000
Kbytes/sec
hop-by-hop
group-ACK
on-path
modrate
modrate2
-50
 0
 50
 100
Speed differences, %
(a) CDF of path throughputs.
(b) Per-path throughput relative to ExOR for modrate
Figure 11: Jigsaw network, full power.
 100
 80
 60
 40
 20
%
,
s
e
t
u
o
r
f
o
F
D
C
 0
-100
trad-TCP
hop-by-hop
group-ACK
on-path
ExOR
modrate
modrate2
 200
 400
 600
 800
 1000
Kbytes/sec
trad-TCP
hop-by-hop
group-ACK
on-path
modrate
modrate2
-50
 0
 50
 100
Speed differences, %
(a) CDF of path throughputs.
(b) Per-path throughput relative to ExOR for modrate
Figure 12: Jigsaw network, 2nd ﬂoor only; full power.
 100
 80
 60
 40
 20
%
,
s
e
t
u
o
r
f
o
F
D
C
 0
-100
hop-by-hop
group-ACK
on-path
ExOR
modrate
modrate2
 200
 400
 600
 800
 1000
Kbytes/sec
hop-by-hop
group-ACK
on-path
modrate
modrate2
-50
 0
 50
 100
Speed differences, %
(a) CDF of path throughputs.
(b) Per-path throughput relative to ExOR for modrate
Figure 13: Jigsaw network, 3rd ﬂoor only; full power.
395[3] D. Aguayo, J. Bicket, S. Biswas, G. Judd, and R. Morris.
[13] R. Draves, J. Padhye, and B. Zill. Routing in multi-radio,
Link-level measurement from an 802.11b mesh network. In
Proceedings of ACM SIGCOMM, Aug. 2004.
multi-hop wireless mesh networks. In Proceedings of
ACM/IEEE MobiCom, Sept. 2004.
[4] J. Bicket, D. Aguayo, S. Biswas, and R. Morris. Architecture
[14] G. Holland, N. Vaidya, and P. Bahl. A rate-adaptive MAC
and evaluation of an unplanned 802.11b mesh network. In
Proceedings of the ACM Mobicom, Aug. 2005.
protocol for multi-hop wireless networks. In Proceedings of
ACM Mobicom, July 2001.
[5] J. C. Bicket. Bit-rate selection in wireless networks. Master’s
[15] A. Kamerman and L. Monteban. WaveLAN II: A
thesis, Massachusetts Institute of Technology, 2005.
[6] S. Biswas and R. Morris. ExOR: Opportunistic multi-hop
routing for wireless networks. In Proceedings of ACM
SIGCOMM, Aug. 2005.
[7] S. Chachulski. Trading structure for randomness in wireless
opportunistic routing. Master’s thesis, Massachusetts
Institute of Technology, 2007.
[8] S. Chachulski, M. Jennings, S. Katti, and D. Katabi. Trading
structure for randomness in wireless opportunistic routing. In
Proceedings of ACM SIGCOMM, Aug. 2007.
high-performance wireless LAN for the unlicensed band.
Bell Labs Technical Journal, pages 118–133, 1997.
[16] S. Katti, H. Rahul, W. Hu, D. Katabi, M. Mèdard, and
J. Crowcroft. XORs in the air: practical wireless network
coding. In Proceedings of ACM SIGCOMM, pages 243–254,
Sept. 2006.
[17] P. Larsson. Selection diversity forwarding in a multihop
packet radio network with fading channel and capture. ACM
SIGMOBILE Mobile Computing and Communications
Review, 5(4):47–54, 2001.
[9] K. Chebrolu, B. Raman, and S. Sen. Long-distance 802.11b
[18] C. Reis, R. Mahajan, M. Rodrig, and D. Wetherall.
links: Performance measurements and experience. In
Proceedings of ACM Mobicom, Sept. 2006.
Measurement-based models of delivery and intereference. In
Proceedings of ACM SIGCOMM, Aug. 2006.
[10] Y.-C. Cheng, M. Afanasyev, P. Verkaik, P. Benkö, J. Chiang,
[19] R. Roy Choudhury and N. Vaidya. MAC layer anycasting in
A. C. Snoeren, S. Savage, and G. M. Voelker. Automating
cross-layer diagnosis of enterprise wireless networks. In
Proceedings of ACM SIGCOMM, Sept. 2007.
[11] Y.-C. Cheng, J. Bellardo, P. Benkö, A. C. Snoeren, G. M.
Voelker, and S. Savage. Jigsaw: Solving the puzzle of
enterprise 802.11 analysis. In Proceedings of ACM
SIGCOMM, pages 39–50, Sept. 2006.
[12] D. S. J. De Couto, D. Aguayo, J. Bicket, and R. Morris. A
high-throughput path metric for multi-hop wireless routing.
In Proceedings of ACM/IEEE MobiCom, Sept. 2003.
wireless networks. In Proceedings of ACM HotNets
Workshop, 2003.
[20] B. Sadeghi, V. Kanodia, A. Sabharwal, and E. Knightly.
OAR: An opportunistic auto-rate media access protocol for
ad hoc networks. Wireless Networks, 11(1–2):39–53, Jan.
2005.
[21] S. H. Y. Wong, H. Yang, S. Lu, and V. Bharghavan. Robust
rate adaptation for 802.11 wireless networks. In Proceedings
of ACM Mobicom, pages 146–157, Sept. 2006.
396