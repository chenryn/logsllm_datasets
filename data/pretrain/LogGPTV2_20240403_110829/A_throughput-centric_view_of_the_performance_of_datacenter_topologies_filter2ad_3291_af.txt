or variants thereof, tub can be used to understand how well a
proposed routing design can utilize capacity.
7 RELATED WORK
Datacenter Designs. Prior work has investigated a large body
of topology designs focusing on high bisection bandwidth, cost-
effective topologies with low diameter [8, 30, 44, 47, 52]. Our paper
addresses the performance of many of these topology designs. We
do not evaluate topologies such as SlimFly [6] and Dragonfly [30].
These focus on reducing latency, but, to scale to today’s datacen-
ters, they generally need switches with much higher port counts
than available with merchant silicon. For instance, with a 64-port
switch, a SlimFly can support 32K servers, but a 4-stage Clos can
accommodate 2.1M. We emphasize that tub applies to these two
topologies as well as they are uni-regular. Prior work has described
server-centric topologies such as DCell [17] and BCube [16] which
equip servers with multiple ports and route packets through servers.
Server-based forwarding can be highly unreliable [42], so deployed
datacenters have not adopted these designs, and we have not con-
sidered these in this paper. Future work can explore throughput
bounds for this class of topologies.
A more recent direction focuses on reconfigurable topology de-
signs [13, 14, 20, 37, 38, 54] that adapt the topology in response to
the observed traffic. Most reconfigurable topology designs adapt
instantaneously to shifts in traffic demand, and attempt to minimize
flow completion times. To the extent that each adapted topology is
uni-regular or bi-regular, Theorem 2.2 will apply to the topology.
However, we have left it to future work to understand how topology
throughput relates to the objective of minimizing flow completion
times, the focus of topology reconfiguration.
Throughput. As discussed earlier, significant prior work exists
on throughput in datacenters. Some work [50] has explored the
application-level throughput under different traffic conditions. Prior
work has developed a theoretical understanding of throughput [12,
27, 43]. Of these, [12] compares performance of 3 throughput-
approximating algorithms (Jain [24], Hoefler [23, 51], and an LP-
based approximation), and show that Jain method is a more accurate
approximation model compared to the other two in capturing the
average throughput over all the flows. More recently, [43] focuses
on approximating average throughput under uniform traffic, and
[27] studies the relationship between traffic-dependent sparsest-
cut and throughput at the scale of few thousand servers. Inspired
especially by the latter two papers, we derive a tight throughput
A Throughput-Centric View of the Performance of Datacenter Topologies
SIGCOMM ’21, August 23–28, 2021, Virtual Event, USA
REFERENCES
[1] Mohammad Al-Fares, Alexander Loukissas, and Amin Vahdat. 2008. A Scalable,
Commodity Data Center Network Architecture. In Proceedings of the ACM SIG-
COMM 2008 Conference on Data Communication (SIGCOMM ’08). Association
for Computing Machinery, New York, NY, USA, 63–74. https://doi.org/10.1145/
1402958.1402967
[2] Shahbaz Alam, Pawan Agnihotri, and Greg Dumont. 2016. AWSre:Invent. Enter-
prise fundamentals: design your account and VPC architecture for enterprise op-
erating models. https://www.slideshare.net/AmazonWebServices/aws-reinvent-
2016-enterprise-fundamentals-design-your-account-and-vpc-architecture-for-
enterprise-operating-models-ent203. (2016).
[3] Alexey Andreyev. 2014. Introducing Data Center Fabric, the Next-generation
https://engineering.fb.com/production-
Facebook Data Center Network.
engineering/introducing-data-center-fabric-the-next-generation-facebook-
data-center-network/. (2014).
[4] Jordi Arjona Aroca and Antonio Fernández Anta. 2014. Bisection (Band)Width
of Product Networks with Application to Data Centers. IEEE Transactions on
Parallel and Distributed Systems 25, 3 (2014), 570–580. https://doi.org/10.1109/
TPDS.2013.95
[5] Dimitri P. Bertsekas, Angelia Nedić, and Asuman E. Ozdaglar. 2003. Convex
Analysis and Optimization. Athena Scientific.
[6] Maciej Besta and Torsten Hoefler. 2014. Slim Fly: A Cost Effective Low-Diameter
Network Topology. In Proceedings of the International Conference for High Perfor-
mance Computing, Networking, Storage and Analysis (SC ’14). IEEE Press, 348–359.
https://doi.org/10.1109/SC.2014.34
[7] Maciej Besta, Marcel Schneider, Karolina W Cynk, Marek Konieczny, Erik Hen-
riksson, Salvatore Di Girolamo, Ankit Singla, and Torsten Hoefler. 2019. FatPaths:
Routing in Supercomputers, Data Centers, and Clouds with Low-Diameter Net-
works When Shortest Paths Fall Short. ArXiv abs/1906.10885 (2019).
[8] C. Clos. 1953. A Study of Non-blocking Switching Networks. The Bell System
Technical Journal 32, 2 (Mar. 1953).
[9] Gabor Csardi and Tamas Nepusz. 2006. The Igraph Software Package for Complex
Network Research. InterJournal Complex Systems (2006), 1695. http://igraph.org
[10] Andrew R. Curtis, Tommy Carpenter, Mustafa Elsheikh, Alejandro López-Ortiz,
and S. Keshav. 2012. REWIRE: An optimization-based framework for unstructured
data center network design. In 2012 Proceedings IEEE INFOCOM. 1116–1124.
https://doi.org/10.1109/INFCOM.2012.6195470
[11] N. G. Duffield, Pawan Goyal, Albert Greenberg, Partho Mishra, K. K. Ramakr-
ishnan, and Jacobus E. van der Merive. 1999. A Flexible Model for Resource
Management in Virtual Private Networks. SIGCOMM Comput. Commun. Rev. 29,
4 (Aug. 1999), 95–108. https://doi.org/10.1145/316194.316209
[12] Peyman Faizian, Md Atiqul Mollah, Md Shafayat Rahman, Xin Yuan, Scott Pakin,
and Mike Lang. 2017. Throughput Models of Interconnection Networks: The
Good, the Bad, and the Ugly. In 2017 IEEE 25th Annual Symposium on High-
Performance Interconnects (HOTI). 33–40.
[13] Nathan Farrington, George Porter, Sivasankar Radhakrishnan, Hamid Hajabdolali
Bazzaz, Vikram Subramanya, Yeshaiahu Fainman, George Papen, and Amin
Vahdat. 2010. Helios: A Hybrid Electrical/Optical Switch Architecture for Modular
Data Centers. In Proceedings of the ACM SIGCOMM 2010 Conference (SIGCOMM
’10). Association for Computing Machinery, New York, NY, USA, 339–350. https:
//doi.org/10.1145/1851182.1851223
[14] Monia Ghobadi, Ratul Mahajan, Amar Phanishayee, Nikhil Devanur, Janard-
han Kulkarni, Gireeja Ranade, Pierre-Alexandre Blanche, Houman Rastegarfar,
Madeleine Glick, and Daniel Kilper. 2016. ProjecToR: Agile Reconfigurable Data
Center Interconnect. In Proceedings of the 2016 ACM SIGCOMM Conference (SIG-
COMM ’16). Association for Computing Machinery, New York, NY, USA, 216–229.
https://doi.org/10.1145/2934872.2934911
[15] Albert Greenberg, James R. Hamilton, Navendu Jain, Srikanth Kandula,
Changhoon Kim, Parantap Lahiri, David A. Maltz, Parveen Patel, and Sudipta
Sengupta. 2009. VL2: A Scalable and Flexible Data Center Network. In Pro-
ceedings of the ACM SIGCOMM 2009 Conference on Data Communication (SIG-
COMM ’09). Association for Computing Machinery, New York, NY, USA, 51–62.
https://doi.org/10.1145/1592568.1592576
[16] Chuanxiong Guo, Guohan Lu, Dan Li, Haitao Wu, Xuan Zhang, Yunfeng Shi,
Chen Tian, Yongguang Zhang, and Songwu Lu. 2009. BCube: A High Performance,
Server-Centric Network Architecture for Modular Data Centers. In Proceedings
of the ACM SIGCOMM 2009 Conference on Data Communication (SIGCOMM
’09). Association for Computing Machinery, New York, NY, USA, 63–74. https:
//doi.org/10.1145/1592568.1592577
[17] Chuanxiong Guo, Haitao Wu, Kun Tan, Lei Shi, Yongguang Zhang, and Songwu
Lu. 2008. Dcell: A Scalable and Fault-Tolerant Network Structure for Data Centers.
Proceedings of the ACM SIGCOMM 2008 conference on Data communication 38, 4
(Aug. 2008), 75–86. https://doi.org/10.1145/1402946.1402968
[18] LLC Gurobi Optimization. 2020. Gurobi Optimizer Reference Manual. (2020).
http://www.gurobi.com
[19] Aric A. Hagberg, Daniel A. Schult, and Pieter J. Swart. 2008. Exploring Network
Structure, Dynamics, and Function using NetworkX. In Proceedings of the 7th
(2010).
Python in Science Conference, Gaël Varoquaux, Travis Vaught, and Jarrod Millman
(Eds.). Pasadena, CA USA, 11 – 15.
[20] Navid Hamedazimi, Zafar Qazi, Himanshu Gupta, Vyas Sekar, Samir R. Das, Jon P.
Longtin, Himanshu Shah, and Ashish Tanwer. 2014. FireFly: A Reconfigurable
Wireless Data Center Fabric Using Free-Space Optics. In Proceedings of the 2014
ACM Conference on SIGCOMM (SIGCOMM ’14). Association for Computing Ma-
chinery, New York, NY, USA, 319–330. https://doi.org/10.1145/2619239.2626328
[21] James Hamilton. 2010. Datacenter Networks are in my Way. http://goo.gl/Ho6mA.
[22] Vipul Harsh, Sangeetha Abdu Jyothi, and P. Brighten Godfrey. 2020. Spineless
Data Centers. In Proceedings of the 19th ACM Workshop on Hot Topics in Networks
(HotNets ’20). Association for Computing Machinery, New York, NY, USA, 67–73.
https://doi.org/10.1145/3422604.3425945
[23] Torsten Hoefler, Timo Schneider, and Andrew Lumsdaine. 2008. Multistage
switches are not crossbars: Effects of static routing in high-performance networks.
In 2008 IEEE International Conference on Cluster Computing. 116–125.
[24] Nikhil Jain, Abhinav Bhatele, Xiang Ni, Nicholas J. Wright, and Laxmikant V. Kale.
2014. Maximizing Throughput on a Dragonfly Network. In SC ’14: Proceedings of
the International Conference for High Performance Computing, Networking, Storage
and Analysis. 336–347.
[25] A. Jajszczyk. 2003. Nonblocking, Repackable, and Rearrangeable Clos Networks:
Fifty Years of the Theory Evolution. IEEE Communications Magazine 41, 10 (2003),
28–33.
[26] Sangeetha Abdu Jyothi, Ankit Singla, P Godfrey, and Alexandra Kolla. 2014.
Measuring and Understanding Throughput of Network Topologies. arXiv preprint
arXiv:1402.2531 (2014).
[27] Sangeetha Abdu Jyothi, Ankit Singla, P. Brighten Godfrey, and Alexandra Kolla.
2016. Measuring and Understanding Throughput of Network Topologies. In
Proceedings of the International Conference for High Performance Computing,
Networking, Storage and Analysis (SC ’16). IEEE Press, Article 65, 12 pages.
[28] George Karypis and Vipin Kumar. 1998. A Fast and High Quality Multilevel
Scheme for Partitioning Irregular Graphs. SIAM J. Sci. Comput. 20, 1 (Dec. 1998),
359–392.
[29] Simon Kassing, Asaf Valadarsky, Gal Shahaf, Michael Schapira, and Ankit Singla.
2017. Beyond Fat-Trees Without Antennae, Mirrors, and Disco-Balls. In Proceed-
ings of the Conference of the ACM Special Interest Group on Data Communication
(SIGCOMM ’17). Association for Computing Machinery, New York, NY, USA,
281–294. https://doi.org/10.1145/3098822.3098836
[30] John Kim, Wiliam J. Dally, Steve Scott, and Dennis Abts. 2008. Technology-
Driven, Highly-Scalable Dragonfly Topology. In Proceedings of the 35th Annual
International Symposium on Computer Architecture (ISCA ’08). IEEE Computer
Society, USA, 77–88. https://doi.org/10.1109/ISCA.2008.19
[31] Murali Kodialam, T. V. Lakshman, and Sudipta Sengupta. 2011. Traffic-Oblivious
Routing in the Hose Model. IEEE/ACM Trans. Netw. 19, 3 (June 2011), 774–787.
https://doi.org/10.1109/TNET.2010.2099666
[32] Harold W Kuhn. 1955. The Hungarian method for the assignment problem. Naval
research logistics quarterly 2, 1-2 (1955), 83–97.
[33] Praveen Kumar, Yang Yuan, Chris Yu, Nate Foster, Robert Kleinberg, Petr La-
pukhov, Chiun Lin Lim, and Robert Soulé. 2018. Semi-Oblivious Traffic Engi-
neering: The Road Not Taken. In 15th USENIX Symposium on Networked Systems
Design and Implementation (NSDI 18). USENIX Association, Renton, WA, 157–170.
https://www.usenix.org/conference/nsdi18/presentation/kumar
[34] Tom Leighton and Satish Rao. 1999. Multicommodity Max-Flow Min-Cut Theo-
rems and Their Use in Designing Approximation Algorithms. J. ACM 46, 6 (Nov.
1999), 787–832. https://doi.org/10.1145/331524.331526
[35] Hong Liu, Ryohei Urata, Xiang Zhou, and Amin Vahdat. 2020. Evolving Require-
ments and Trends of Datacenters Networks. Springer International Publishing,
Cham, 707–724. https://doi.org/10.1007/978-3-030-16250-4_21
[36] Vincent Liu, Daniel Halperin, Arvind Krishnamurthy, and Thomas Anderson.
2013. F10: A Fault-Tolerant Engineered Network. In Proceedings of the 10th
USENIX Conference on Networked Systems Design and Implementation (NSDI’13).
USENIX Association, USA, 399–412.
[37] William M. Mellette, Rajdeep Das, Yibo Guo, Rob McGuinness, Alex C. Snoeren,
and George Porter. 2020. Expanding Across Time to Deliver Bandwidth Efficiency
and Low Latency. In 17th USENIX Symposium on Networked Systems Design and
Implementation (NSDI 20). USENIX Association, Santa Clara, CA, 1–18. https:
//www.usenix.org/conference/nsdi20/presentation/mellette
[38] William M. Mellette, Rob McGuinness, Arjun Roy, Alex Forencich, George Pa-
pen, Alex C. Snoeren, and George Porter. 2017. RotorNet: A Scalable, Low-
Complexity, Optical Datacenter Network. In Proceedings of the Conference of
the ACM Special Interest Group on Data Communication (SIGCOMM ’17). As-
sociation for Computing Machinery, New York, NY, USA, 267–280. https:
//doi.org/10.1145/3098822.3098838
[39] Mirka Miller and Jozef vSirávn. 2005. Moore Graphs and Beyond: A Survey of the
Degree/diameter Problem. Electronic Journal of Combinatorics, Dynamic survey
14 (12 2005), 1–61.
[40] James Munkres. 1957. Algorithms for the assignment and transportation prob-
lems. Journal of the society for industrial and applied mathematics 5, 1 (1957),
SIGCOMM ’21, August 23–28, 2021, Virtual Event, USA
Namyar .et al.
32–38.
[41] S. Ohta. 1987. A Simple Control Algorithm for Rearrangeable Switching Net-
works with Time Division Multiplexed Links. IEEE Journal on Selected Areas in
Communications 5, 8 (1987), 1302–1308.
[42] Arjun Singh, Joon Ong, Amit Agarwal, Glen Anderson, Ashby Armistead, Roy
Bannon, Seb Boving, Gaurav Desai, Bob Felderman, Paulie Germano, Anand
Kanagala, Jeff Provost, Jason Simmons, Eiichi Tanda, Jim Wanderer, Urs Hölzle,
Stephen Stuart, and Amin Vahdat. 2015. Jupiter Rising: A Decade of Clos Topolo-
gies and Centralized Control in Google’s Datacenter Network. In Proceedings
of the 2015 ACM Conference on Special Interest Group on Data Communication
(SIGCOMM ’15). Association for Computing Machinery, New York, NY, USA,
183–197. https://doi.org/10.1145/2785956.2787508
[43] Ankit Singla, P. Brighten Godfrey, and Alexandra Kolla. 2014. High Throughput
Data Center Topology Design. In Proceedings of the 11th USENIX Conference on
Networked Systems Design and Implementation (NSDI’14). USENIX Association,
USA, 29–41.
[44] Ankit Singla, Chi-Yao Hong, Lucian Popa, and P. Brighten Godfrey. 2012. Jellyfish:
Networking Data Centers Randomly. In 9th USENIX Symposium on Networked Sys-
tems Design and Implementation (NSDI 12). USENIX, San Jose, CA, 225–238. https:
//www.usenix.org/conference/nsdi12/technical-sessions/presentation/singla
[45] Sucha Supittayapornpong, Barath Raghavan, and Ramesh Govindan. 2019. To-
wards Highly Available Clos-Based WAN Routers. In Proceedings of the ACM
Special Interest Group on Data Communication (SIGCOMM ’19). Association for
Computing Machinery, New York, NY, USA, 424–440. https://doi.org/10.1145/
3341302.3342086
[46] Brian Towles and William J. Dally. 2002. Worst-Case Traffic for Oblivious Routing
Functions. In Proceedings of the Fourteenth Annual ACM Symposium on Parallel
Algorithms and Architectures (SPAA ’02). Association for Computing Machinery,
New York, NY, USA, 1–8. https://doi.org/10.1145/564870.564872
[47] Asaf Valadarsky, Gal Shahaf, Michael Dinitz, and Michael Schapira. 2016. Xpander:
Towards Optimal-Performance Datacenters. In Proceedings of the 12th Inter-
national on Conference on Emerging Networking EXperiments and Technologies
(CoNEXT ’16). Association for Computing Machinery, New York, NY, USA,
205–219. https://doi.org/10.1145/2999572.2999580
[48] Damon Wischik, Costin Raiciu, Adam Greenhalgh, and Mark Handley. 2011.
Design, Implementation and Evaluation of Congestion Control for Multipath