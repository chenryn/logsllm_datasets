title:A study of the short message service of a nationwide cellular network
author:Petros Zerfos and
Xiaoqiao Meng and
Starsky H. Y. Wong and
Vidyut Samanta and
Songwu Lu
A Study of the Short Message Service of a
Nationwide Cellular Network
Petros Zerfos
Deutsche Telekom Laboratories
10587 Berlin, Germany
PI:EMAIL
In recent years, cellular networks have experienced an
astronomical increase in the use of Short Message Service
(SMS), making it a popular communication means for inter-
personal as well as content provider-to-person usage. Yet lit-
tle is known about the traﬃc and message user behavior in
real SMS systems. In this paper, we present a measurement
study of SMS based on traces collected from a nationwide
cellular carrier during a three-week period. We characterize
message traﬃc at both the message level and the conversa-
tion thread level. We also examine the “store-and-forward”
mechanism of SMS and present initial measurements on how
messages are actually delivered.
Categories and Subject Descriptors
C.2.3 [Computer-Communication Networks]: Network
Operations
General Terms
Measurement
Keywords
Short Message Service, Network Measurements, Traﬃc Char-
acterization
1.
INTRODUCTION
The Short Message Service (SMS) is arguably the most
popular data service over cellular networks nowadays. Though
it was originally conceived as a paging mechanism for voice
mails as part of the GSM speciﬁcation in 1992, SMS has
evolved into one of the most successful wireless data services
in recent years. According to [13], SMS accounts for about
80% of data revenue generated for Western European mo-
bile operators in 2005. In the largest twenty European coun-
tries, over 200 billion messages are exchanged in each month
[19]. In Asia, the two major cellular carriers, China Mobile
and China Unicom, report 304.14 billion message volume
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
IMC’06, October 25–27, 2006, Rio de Janeiro, Brazil.
Copyright 2006 ACM 1-59593-561-4/06/0010 ...$5.00.
Xiaoqiao Meng, Starsky H.Y Wong,
Vidyut Samanta, Songwu Lu
UCLA Computer Science Dept.
Los Angeles, CA, 90095, USA
{xqmeng,hywong1,vids,slu}@cs.ucla.edu
in 2005. SMS allows for users to exchange short alphanu-
meric messages with other users globally. Moreover, cellular
carriers have opened their SMS interfaces to Internet-based
content providers to deliver a wide variety of services to cell
phone users, e.g., ringtone download, news, weather fore-
cast, voting and casting preferences, mobile search, etc.
The SMS method of communication exhibits a number of
characteristics that have contributed to its increased popu-
larity. First, device support for sending and receiving short
messages is almost ubiquitous, ranging from low-end mo-
bile phones to Web-interface gateways that can be accessed
via ordinary PCs over the Internet. Moreover, delivery and
routing of SMS messages are supported by most cellular net-
works around the world. Second, it follows a “push” model
of operation and short messages are delivered to mobile de-
vices in near real-time, making SMS the wireless counterpart
of Internet-like instant messaging applications such as ICQ
and AIM. Third, it follows the store-and-forward commu-
nication paradigm similar to emails, in which a message is
not discarded if it cannot be immediately received by the
destination, and instead is stored at the server temporar-
ily and retransmitted later. Therefore, its communication
is more immune to intermittent connectivity scenarios that
are frequently encountered in wireless networks. Consider-
ing the above main features of the SMS service and their
suitability for operating in wireless environments, it is not
surprising that it is recognized as one of the most successful
communication services, especially in Europe and Asia.
In this paper, we present a preliminary analysis of SMS
data traﬃc based on logs of Charging Data Records (CDRs1) [4]
that were obtained from the billing subsystem of a national
cellular carrier in India. The logs were collected over a pe-
riod of three weeks, during which over 59 million short mes-
sages were exchanged by more than 10 million mobile users.
We make three contributions through our trace analysis.
First, we characterize short messages by examining the mes-
sage size distribution and message arrivals, and try to ex-
plain them through user activity. Despite the conventional
understanding that short messages are generated by person-
to-person communications, 7.2% of total messages sent by
mobile users are requests to SMS services, and at least 10.1%
of total received messages are sent by content providers in-
stead of mobile users. Second, we examine how messages
are “stored-and-forwarded” in SMS. Although 94.9% of mes-
sages are successfully delivered, the other 5.1% are not, due
1In the traditional circuit domain, CDR has been used to
denote “Call Detail Record”, which was subsumed by the
“Charging Data Record” term.
to either expiration or denial of delivery. Regarding the de-
livered messages, 73.2% of them reach their recipients within
10 seconds, 17% of them need more than one minute, and
another 5% require more than an hour and a half. Third, we
characterize the message traﬃc at the conversation thread
level. A conversation thread consists of messages continu-
ously exchanged between two mobile users. Our study shows
that 87.1% of threads are static threads, whereby neither
user changes her associated Mobile Switching Center (MSC).
The thread duration can be modeled by either the Weibull
or the Lognormal distribution, and the thread interarrival
times can be modeled by either the Weibull or the Gamma
distribution.
Our measurement results can serve as a benchmark for
protocol design, performance evaluation, planning and pro-
visioning of SMS or other messaging systems. For example,
the authors in [12] analyzed the optimal buﬀer size issue in
SMS, but their results are based on assumptions about mes-
sage arrivals and the service time. For a similar SMS study,
web traﬃc traces (instead of models from real SMS traces)
are used in [15]. Clearly our models herein can be applied
to evaluate their design. As Short Messaging represents a
major form of computer-mediated communications, our de-
rived user behavior models reveal truly “mobile behavior” of
users, since the service is available anywhere and anytime,
unlike traﬃc over Wi-Fi hotspots [14], where most users
are essentially stationary. Finally, although SMS does not
generate a large traﬃc volume, the next-generation wireless
messaging system, Multimedia Messaging Service (MMS)
[6], is expected to signiﬁcantly surpass SMS in terms of both
traﬃc demands and popularity. Our study of SMS traﬃc
may provide useful insights and guidelines for the planning
and provisioning of MMS systems.
The rest of this paper is organized as follows. In Section
2, we provide a brief introduction to SMS and describe gen-
eral characteristics of the collected traces. In Section 3, we
present a preliminary analysis of the SMS traces, including
message-level characteristics, the store-and-forward behav-
iors, and thread-level characteristics. We conclude the paper
in Section 4 by outlining future work.
2. BACKGROUND AND TRACES
Before presenting our analysis on the SMS traﬃc, we
brieﬂy introduce the network architecture for SMS, as well
as the network elements that provide the service. We also
provide information on the traces that were collected.
2.1 SMS network architecture
In current cellular networks, SMS messages are transmit-
ted over the Common Channel Signaling System 7 (SS7),
which is the digital signaling control network used by net-
work elements of wireline and wireless telephone carriers to
exchange control information for call setup, routing, mobil-
ity management, etc. Figure 1 shows the typical network
elements and architecture employed for handset-to-handset
communication (Point-to-Point SMS).
Conceptually, the network architecture is split into two
segments that are central to the SMS philosophy of opera-
tions (Figure 1). The elements at the sender, i.e., the Mobile
Originating (MO) part, include the Mobile Station (MS) of
the sender, the Base Station (BS) that provides the radio
infrastructure for wireless communications, and the Origi-
nating Mobile Switching Center (MSC) that manages routes
Figure 1: Typical handset-to-handset network ar-
chitecture for SMS
and switches all traﬃc into and out of the cellular system
on behalf of the mobile device of the sender. The elements
at the destination of the message, more often known as the
Mobile Terminating (MT) part, also feature a base station
and an MSC (Terminating MSC) for the receiver.
In ad-
dition, an SMS Center (SMSC) acts as a centralized, store-
and-forward server that is responsible for accepting, storing,
retrieving subscriber information, and forwarding messages
to the intended recipients of the messages. It is assisted by
two databases, namely the Home Location Register (HLR)
and the Visitor Location Register (VLR), in which location
information is kept regarding the subscribers and their mo-
bile devices (such as the address of the MSC that the device
is associated with). For more details on the SMS network ar-
chitecture and its operations, as well as other scenarios with
ﬁxed entities that are capable of sending and receiving short
messages (e.g., application servers), we refer the interested
reader to the tutorial [17] and the speciﬁcation [3].
2.2 Traces
We obtained permission from a cellular carrier in India to
collect anonymized SMS logs for a period of about 3 weeks.
The carrier operates a nationwide network, which covers al-
most the entire country except from a small area in the far
east. The number of phone numbers appearing in our logs
represents around 10% of the total mobile subscribers in the
country. Due to the size of the set of mobile subscribers and
the coverage of the network that was studied, we believe
that the analysis carried out in this work provides useful
insights on the SMS traﬃc characteristics2.
The traces are logs of Charging Data Records (CDRs) [4].
For every SMS that is sent from one handset to another,
two records are logged in the trace for billing purposes: one
(MO-CDR) for the Mobile Originating part of the commu-
nication (from the originator mobile device to the SMSC),
and another (MT-CDR) for the Mobile Terminating segment
(from the SMSC to the destination handset). Each record
logs information such as the time stamp of the event (with
second-level granularity), mobile identiﬁcation (and direc-
tory) numbers of the sender and the receiver, the number
of retransmissions, the address of the MSC with which the
2As a side note, only sending a message is charged at a cost
comparable to that of a 1-minute local voice call.
sender/receiver device is associated, the size of the message,
the result of the delivery attempt, and a reference value that
can be used to associate the MO and the MT records of an
SMS.
The traces were made available to us in a proprietary,
binary format used by the billing subsystem of the carrier,
which we had to reverse-engineer to automate the retrieval of
ASCII values from the records. The automated tool that we
implemented for extracting the values was developed with
the help of a GUI-based utility from the network analyzer
package of the carrier to guide our reverse-engineering ef-
forts. After the conversion we ended up with 20GB of data,
consisting of 48,573,312 MO and 59,612,388 MT records.
Overall, 10,854,135 SMS-capable entities sent 5.206G char-
acters in short messages and received 5.198G characters.
The SMS logs used in the analysis span a period that
starts on 04/04/2005, 15:01:02 and ends on 04/26/2005,
00:00:04. Unfortunately, due to the collection process in the
premises of the carrier, certain time periods are not logged,
which amount in a total of 544,521 seconds (≈ 6.3 days)
missing. Additionally, the overload incident reported in Fig-
ure 9 was based on a separate set of traces collected around
the period of New Year’s Eve of 2005.
3. RESULTS
In this section, we present a preliminary analysis of the
SMS traces obtained from the cellular carrier. We ﬁrst ana-
lyze the message-level statistics and then examine the store-
and-forward aspects of the SMS. Finally, we group messages
into conversational threads and characterize these threads.
3.1 Message-level characteristics
We ﬁrst present message-level characteristics such as the
distribution of message among users, the distribution of mes-
sage size, and the distribution of messages at diﬀerent loca-
tions.
Figure 2 plots the number of messages sent/received by
each phone number (y-axis) versus the rank of the phone
number (x-axis), in log-log scale. Phone numbers are ranked
in a descending order according to the number of messages
they send or receive.
# of messages vs. rank of phone numbers (log-log scale)
SMS Sent
SMS Received
RINGTONES Received
 1e+07
 1e+06
 100000
 10000
 1000
 100
 10
s
e
g
a
s
s
e
m
f
o
#
 1
 1
 10
 100
 1000
Rank of  phone numbers
 10000
 100000
 1e+06
 1e+07
 1e+08
Figure 2: Messages per phone number versus the
rank of phone numbers (log-log scale)
Figure 2 shows that the majority of phone numbers send
only one or two messages; this can be veriﬁed by the tail
of the curves in the ﬁgure. However, quite a few phone
numbers send (and receive) thousands of messages within
the 22 days, which cannot be explained by normal human
activity. For example, the most active 28 phone numbers
send more than 10,000 messages each, and 3573 out of the
approximately 10 million subscribers sent more than 1000
each. We conjecture that these high-volume activities are
due to value-added service and content providers, e.g., news,
stock quotes, notiﬁcations for entertainment and lifestyle,
horoscope, dating and others. Since service and content
providers have distinguishing 4-digit phone numbers, we are
able to identify almost 13,000 such providers in the trace.
Furthermore, from the most active phone numbers, we iden-
tify 55 4-digit numbers of various SMS services that the
cellular carrier oﬀers, as listed in the carrier’s website. As
SMS becomes more widely used as a generalized notiﬁcation
and control mechanism in the future [19], such application-
to-person (or even application-to-application) traﬃc might
easily surpass the message volume generated by person-to-
person communications.
The distribution of the message size (excluding message
header) depends on the type of messages. Speciﬁcally, for
those messages created in person-to-person communications,
the length seems to evenly span the whole range of the
allowable message size, for which the maximum value de-
pends on the encoding that is used for each message [5].
This is also evident from the large number of messages with
sizes 140 characters (6.12% of mobile originated messages
and 6.18% of mobile terminated) and 160 characters (2.58%
of mobile originated and 2.18% of mobile terminated mes-
sages), which are the fragmentation limits for messages en-
coded in 7-bit and 8-bit uncompressed format respectively.
Person-to-application communication, namely mobile users
requesting service by sending an MO SMS to the applica-
tion server, tends to exhibit small message sizes; more than
96% of such requests have less than 50 characters. The
reason might be that only limited information (such as a
code or ID number) needs to be conveyed in the request. In
the application-to-person communication, the messages ex-
hibit a diﬀerent pattern: such replies are usually customized
versions of pre-formatted messages, and their sizes tend to
concentrate around speciﬁc values. For example, more than
40% of these messages have a size between 67 and 106 bytes.
The messages in our trace are sent by 91 MSCs. By ex-
amining the message arrival processes at these MSCs, we
ﬁnd that the message arrival rates vary between 0 and 84
msg/minute. In order to derive a simple model for the ar-
rival process, we tested several analytical distributions, such
as the Exponential, Weibull, Lognormal, Gamma, Extreme-
value, and the Pareto models. For those MSCs with low
message arrival rates (less than 3 msg/minute), their mes-
sage interarrival times are well modeled by the Exponential
distribution. On the other hand, for MSCs with large arrival
rates, no distribution can pass any statistical test.
3.2 Storing-and-forwarding short messages
To understand the “store-and-forward” operation in the
SMS system, we examine the process of message delivery
to the intended recipients. We seek to answer the following
questions: (1) how much time do the messages stay in the
messaging system before being delivered? (2) how many
delivery attempts are needed for a message to be received
by a mobile user?
CDF of messages vs. message service time
CDF of # of messages vs. # of retries/message
 100
DELIVERED
DENIED
EXPIRED
)
%
(
s
e
g
a
s
s
e
m
f
o
r
e
b
m
u
n
f
o
F
D
C
 80
 60
 40
 20
 0
 1
 10
 100
 1000
 10000
 100000
 1e+06
message service time
)
%
(
s
e
g
a
s
s
e
m
f
o
#
F
D
C
 100
 80