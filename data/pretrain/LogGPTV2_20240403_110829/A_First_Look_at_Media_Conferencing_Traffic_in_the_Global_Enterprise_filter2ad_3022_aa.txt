title:A First Look at Media Conferencing Traffic in the Global Enterprise
author:Vijay Vasudevan and
Sudipta Sengupta and
Jin Li
A First Look at Media Conferencing Traﬃc
in the Global Enterprise
Vijay Vasudevan1,2, Sudipta Sengupta2, and Jin Li2
1 Carnegie Mellon University, Pittsburgh PA 15213, USA
2 Microsoft Research, Redmond WA 98052, USA
Abstract. Many enterprise networks have grown far beyond a single
large site to span tens to hundreds of branch oﬃces across the globe, each
connected over VPNs or leased lines. With the emergence of the globally-
connected enterprise and the trend towards enterprise all-IP convergence,
including transitioning the enterprise PBX to VoIP servers, IP-based au-
dio/video conferencing for telepresence has challenged the notion that
bandwidth is abundant in the enterprise. We take a ﬁrst look at media
conferencing traﬃc in the global enterprise and, by instrumenting mea-
surement of call quality and network statistics, we quantify the impact
on call quality for a range of factors in the enterprise, such as wired vs.
wireless access, inter- vs. intra- branch oﬃce communication, QoS mech-
anisms like VLAN tagging and DiﬀServ DSCP marking, and VPN vs.
public Internet access.
1 Introduction
Enterprise traﬃc analysis has received only scarce attention in the networking
community, due in part to the diﬃculty of recording enterprise traﬃc. Early stud-
ies on enterprise traﬃc have found that network utilization is typically 1-3 orders
less than network capacity, suggesting that enterprise networks have abundant
bandwidth provisioning, unlike the WAN or global Internet [1]. This belief can
no longer be assumed, primarily because of two trends: 1) the emergence of the
globally-connected enterprise that spans countries and continents, with branch
oﬃces connected by leased lines, Virtual Private Networks (VPNs), and public
Internet connections, and 2) the trend towards enterprise all-IP convergence, in-
cluding transitioning the enterprise PSTN-based telephone exchange deployments
to VoIP servers and IP-based audio/video conferencing for telepresence.
In particular, the move to VoIP and video conferencing is fundamentally
changing enterprise traﬃc characteristics. Worldwide VoIP service is projected
to grow to $24.1B in 2007, up 52% from 2006. It is expected that worldwide VoIP
service revenue will more than double over the next 4 years, reaching $61.3B in
2011 [2]. To the best of our knowledge, there is no large-scale quantiﬁed mea-
surement study of the quality of service for VoIP and video conferencing in the
enterprise, despite its rapid expected growth.
In this paper, we attempt to characterize the network quality of audio/video
conferencing and VoIP communication within a globally-connected and diverse
S.B. Moon et al. (Eds.): PAM 2009, LNCS 5448, pp. 133–142, 2009.
c(cid:2) Springer-Verlag Berlin Heidelberg 2009
134
V. Vasudevan, S. Sengupta, and J. Li
enterprise network. Using call logs from over 100,000 endpoints within this net-
work over several months, we seek to understand several characteristics of en-
terprise network traﬃc and provisioning, including coarse statistics for packet
loss, bandwidth utilization, and the causes of and potential solutions for poor
call quality.
Our main results can be summarized as follows:
– Endpoints on wireless experience poor call quality as a result of a combina-
tion of non-negligible packet loss rates and high packet burstiness.
– Users connected to the enterprise over VPN or from home connections ex-
perience signiﬁcantly higher packet loss rates.
– Non-wireless calls with DiﬀServ QoS priority treatment very rarely experi-
ence packet loss rates > 2%, a loss rate which many audio codecs can mask.
We believe these results have implications for both enterprise network and
protocol/application design, and suggest that large enterprise networks may not
always be suﬃciently provisioned given the growth of media conferencing traﬃc
in the enterprise.
2 The Globally-Connected Modern Enterprise
Uniﬁed communication, which uses an IP-based network to carry many forms of
communication traﬃc (e.g. VoIP, video conferencing, bulk data, and instant mes-
saging) is gaining momentum in the industry. Most large enterprises today are
turning their attention to uniﬁed communication to improve business processes,
reduce communication delays, and improve employee productivity. While small
to medium-sized enterprise networks consist of a small set of LANs within a sin-
gle site [1], large, modern enterprise networks have grown far beyond this size,
comprising several IP devices per employee, hundreds to thousands of employees
per site, and tens to hundreds of sites around the world.
To accommodate this increasingly diverse geographic distribution, the scope
of the modern enterprise has expanded to form a very heterogeneously-connected
network. Using a large IT company with hundreds of branch oﬃces across the
globe as an example, our study focuses on the deployment and growing use of
IP-based telephony and conferencing within this class of enterprise networks.
This network comprises the main campus networks located in the U.S., China,
and Singapore via well-provisioned private lines (e.g. OC-48) and includes a
large set of branch oﬃce sites, connected via VPN over the public Internet or
over leased lines, with bandwidth capacity ranging from 1.5Mbps to 45Mbps
depending on the size of the branch oﬃce. As a result, the modern large enterprise
diﬀers signiﬁcantly from typical single-site enterprise deployments. Even within a
single site, devices will use wireless or wired connectivity. Although the network is
managed by one administrative body, the distribution of branch oﬃces makes it
diﬃcult to provision all oﬃces systematically to meet (variable) traﬃc demands.
As a result, the assumption that enterprise networks are likely to have suﬃcient
bandwidth throughout no longer holds.
A First Look at Media Conferencing Traﬃc in the Global Enterprise
135
As a step towards understanding such large-scale enterprise networks, in this
paper we try to characterize one aspect of traﬃc within the network: IP tele-
phony and audio/video conferencing, a growing portion of traﬃc that requires
strict guarantees on performance for eﬀective communication. While still prelim-
inary in scope, we hope this investigation provides another initial step towards
understanding the use and deployment of enterprise networks and motivates
further study in the area.
3 Measurement Methodology and Datasets
3.1 Measurement
Our datasets consist of several IP phone and audio/video conference call log
databases. A call can span multiple users at multiple branch oﬃces. Each branch
oﬃce has one or more Media Control Unit (MCU) servers whose function is to
bridge the call – an audio/video stream originating at a user endpoint (client)
is received at an MCU and replicated to all other participants (the choice of the
MCU location for a given call depends on the location of the earliest joining user
in the call). Thus, a call consists of multiple sessions, each session identiﬁed by
a {user endpoint, MCU} pair. For a two-party call, the MCU is not involved,
hence the session identiﬁed by a {user endpoint, user endpoint} pair. If any of the
conference participants is on the PSTN (Public Switched Telephone Network),
then a PSTN-gateway server is also involved.
For every IP phone call or audio/video conference call made within the en-
terprise, a session-level report is logged at the end of the call by participating
endpoints to a central reporting server. Each individual session log contains sev-
eral pieces of information for streams in both directions, including start and
end timestamps, average/max packet loss, latency, average/max jitter, band-
width capacity estimate, network quality (also known as Network Mean Opinion
(cid:17)(cid:396)(cid:258)(cid:374)(cid:272)(cid:346)(cid:3)(cid:75)(cid:296)(cid:296)(cid:349)(cid:272)(cid:286)(cid:3)(cid:4)
(cid:1007)(cid:882)(cid:449)(cid:258)(cid:455)(cid:3)(cid:272)(cid:381)(cid:374)(cid:296)(cid:286)(cid:396)(cid:286)(cid:374)(cid:272)(cid:286)
(cid:17)(cid:396)(cid:258)(cid:374)(cid:272)(cid:346)(cid:3)(cid:75)(cid:296)(cid:296)(cid:349)(cid:272)(cid:286)(cid:3)(cid:17)
MCU
MCU
(cid:1006)(cid:882)(cid:449)(cid:258)(cid:455)(cid:3)(cid:272)(cid:381)(cid:374)(cid:296)(cid:286)(cid:396)(cid:286)(cid:374)(cid:272)(cid:286)
MCU
(cid:104)(cid:400)(cid:286)(cid:396)(cid:3)(cid:286)(cid:374)(cid:282)(cid:393)(cid:381)(cid:349)(cid:374)(cid:410)
(cid:1008)(cid:882)(cid:449)(cid:258)(cid:455)(cid:3)(cid:272)(cid:381)(cid:374)(cid:296)(cid:286)(cid:396)(cid:286)(cid:374)(cid:272)(cid:286)
(cid:272)(cid:381)(cid:374)(cid:296)(cid:286)(cid:396)(cid:286)(cid:374)(cid:272)(cid:286)(cid:3)(cid:400)(cid:286)(cid:400)(cid:400)(cid:349)(cid:381)(cid:374)(cid:400)
(cid:17)(cid:396)(cid:258)(cid:374)(cid:272)(cid:346)(cid:3)(cid:75)(cid:296)(cid:296)(cid:349)(cid:272)(cid:286)(cid:3)(cid:18)
Fig. 1. Illustrating sessions in multi-party audio/video conference calls across branch
oﬃces – the session is the level at which measurements are logged
136
V. Vasudevan, S. Sengupta, and J. Li
Score, or NMOS), device type, audio/video codec used, bitrate, etc. While the
dataset does not include packet-level traces, these call log summary statistics
are useful for identifying the cause of poor call quality in the enterprise, and
allow for a ﬁrst-look at new kinds of modern enterprise traﬃc characteristics.
Although packet-level traces would allow for detailed traﬃc analysis, we instead
focus on a broad characterization of call traﬃc in the enterprise by analyzing
call volume, the eﬀect of QoS, the real-world impact of wireless on call quality,
and individual call statistics to identify the growth and potential implications
for future enterprise network design.
3.2 Datasets
Table 1 describes two datasets we obtained for our characterization study.
Dataset D1 consists of a log set for a “dogfood” test deployment within the
enterprise, while D2 contains a recent, full log database of all calls. Because
our logs comprise usage data for over 100,000 endpoints, our study focuses on a
broad characterization of the pervasive IP-based conferencing traﬃc statistics in
the enterprise network. We note that the number of distinct endpoints is larger
than the number of users in the enterprise, because many users make calls from
several endpoints (e.g., desktop machine, wireless laptop, IP phone). We use the
D2 dataset for all our analysis due to its increased log density and recency, but
mention D1 here only to note that the results obtained from both datasets are
similar (except for call density), suggesting that the results presented in this pa-
per cannot simply be attributed to initial deployment and provisioning hurdles.
Table 1. Overall Dataset Characteristics
Data Start Date End Date #Audio Streams #Video Streams Distinct IP Endpoints
D1
17,118
D2
205,526
09/12/07 01/16/08
01/21/08 06/22/08
532,191
9,744,660
49,235
617,018
We supplement our datasets with location information pulled from an inter-
nal database that contains the location of all IP subnets within the enterprise
network. More speciﬁcally, the location information is of the form {IP Sub-
net/mask, Country, City, Building}. For each IP address in our dataset, we
perform a longest-preﬁx match to map the location of the caller to a speciﬁc
building, city, and country. For security and privacy reasons, however, we do not
obtain router-level topology information for the enterprise network. In total, the
location database contains entries for over 7,000 subnets spanning 500 unique
buildings/locations around the world.
4 Data Analysis
In analyzing our datasets, we break down the results into two categories: trends
and statistics, and quality diagnosis. The ﬁrst category discusses overall media
A First Look at Media Conferencing Traﬃc in the Global Enterprise
137
traﬃc characteristics within the enterprise, such as aggregate call patterns, and
overall traﬃc trends. The second category concerns evaluation of call quality and
diagnosis of aspects that can impact call quality, such as QoS mechanisms like
DiﬀServ [3], wired vs. (last-hop) wireless usage, and integration with the public
Internet.
4.1 Trends and Statistics
Growth Trends: In Figure 2, we plot the number of audio and video streams
per day over a six month period from D3. During this period, total call volume
nearly tripled as a result of an aggressive IP phone deployment across the en-
terprise starting in April 2008. On the other hand, the number of video streams
did not increase as dramatically over the six month span, showing 60% growth
over six months. We note, however, that the more gradual video stream growth
is not connected to any particular external deployment eﬀort and represents a
trend towards increased video conferencing.
Number of Audio Streams over Time
Number of Video Streams over Time
 160000
 140000
 120000
 100000
 80000
 60000
 40000
 20000
y
a
D
r
e
P
s
m
a
e
r
t
i
S
o
d
u
A
f
o
r
e
b
m
u
N
 9000
 8000
 7000
 6000
 5000
 4000
 3000
 2000
 1000
y
a
D
r
e
P
s
m
a
e
r
t
S
o
e
d
V
i
f
o
r
e
b
m
u
N
 0
01/24/2008
03/01/2008
04/08/2008
05/15/2008
06/22/2008
 0
01/24/2008
03/01/2008
04/07/2008
05/14/2008
06/21/2008
Time
(a)
Time
(b)
Fig. 2. (a) Audio trends follow call trends closely; growth in call volume was mostly
due to increased VoIP and audio conferencing traﬃc. (b) Video calls increase slower in
frequency in comparison to audio calls.
Call Patterns: We note several types of patterns in our dataset, ranging from
time-of-day and time-of-week eﬀects, to conference call patterns. Figure 3(a)
shows the typical media traﬃc patterns observed at intermediate media devices
(PSTN-gateways or conference stream aggregators) over a representative week.
As expected, traﬃc exhibits a strong time-of-week eﬀect, with peak usage dur-
ing mid-week and a strong drop-oﬀ on weekends. Figure 3(b) depicts the same
data for a typical Wednesday, with traﬃc always seen between business hours
and occasional peaks due to individual large conferences. We also note the exis-
tence of many larger conference calls that occur at weekly intervals, predictably
producing media traﬃc peaks.
4.2 Call Quality Diagnosis
Feedback indicating poor quality calls motivated us to investigate the cause of
such calls and the impact of some eﬀorts to improve call quality. Several factors
138
V. Vasudevan, S. Sengupta, and J. Li
)
s
p
b
M
(
n
o
i
t
a
z
i
l
i
t
i
t
U
h
d
w
d
n
a
B
 20
 18
 16
 14
 12
 10
 8
 6
 4
 2
 0
Bandwidth Utilization over Typical Week at Media Server
Bandwidth Utilization over Typical Wednesday at Media Server
)
s
p
b
M
(
n
o
i
t
a
z
i
l
i
t
i
t
U
h
d
w
d
n
a
B
 20
 18
 16