User: I'm writing a script in python that generates output that contains utf-8 characters, and even though most linux terminals use utf-8 by default, I'm writing the code presuming it isn't in utf-8 (in case the user changed it, for some reason).
From what I tested, os.environ["LANG"] = "en_US.utf-8" does not change the system environment variable, it only changes in the data structure inside Python.
Assistant: It is not clear what you want to see happen when you change the LANG environment. If you want to test your Python code with other character encodings, you will need to set LANG before starting the Python code, as I believe LANG is read when Python first starts.
There might(?) be a function call you can call to change the LANG after Python has started, however if this is for testing purposes I recommend setting it before running the Python code.
An even better approach however would be to change the LANG in your terminal program. So that it has the correct encoding. Although almost everyone should be using UTF8, so I am not really sure you need to test non-UTF8 anymore.