analysis, 
to match the utilizations 
assuming 
rates of the two classes, 
arrival 
is used to describe 
a job arrival 
exact fit can be found, we suggest 
Bl,l so that a valid AMH[2] matching 
be found. 
follows: 
Bl,l closest 
The feasible 
process. 
to adjust 
the value of 
rates can 
as 
that the MMAP 
Thus, when no 
the arrival 
to Bl,l is obtained 
•  if PIBI,l is above the upper bound (18), 
Eh,l 
= PII min( (hI + h2)Pl, hlPI + h2r"1) (20) 
•  if PIBI,l is below the lower bound (19), 
- -1 
Bl,l = PI max((hl 
+h2)PI -h2(1-r"1), hlPl) 
(21) 
we evaluate 
backward 
APH(2) <l£e feasible, 
the 
moment Bl,l for both and choose the 
which leads to the smallest 
When two underlying 
best feasible 
APH(21 representation 
error IBl,1 -Bl,ll. This provides 
one of the two representations 
has a larger 
for the backward 
1. 
accuracy 
feasible 
as shown in Figure 
improved 
moment, 
since 
region 
possible 
of the AMPH[2] parameters. 
the impact of the choice of the underlying 
region 
in the example 
hI, h2 and r"l, we 
and since each of the APH(2) 
process, 
of the parameters 
the APH(2) with hI = , h2 = t, r"l = t, which 
tion of the renewal 
has different 
values 
can investigate 
APH(2) on the feasible 
in Figure 1. There, we 
This is illustrated 
consider 
moments MI = 1, M2 = , M3 = l' The 
has ordinary 
same moments are also fitted by the APH(2) with hI 
= t, 
h2 = , r"l . Figure 1 shows the feasible 
regions 
of 
PlBl,l, which is the un-normalized 
moment in 
[1], and PI for the AMPHs that use these two APH(2) 
processes. 
contains 
Hence, the first APH(2) leads to a AMPH[2] which has 
The feasible region 
the feasible region 
backward 
of the first AMPH[2] (dashed) 
of the second AMPH[2] (dotted). 
Degenerate 
cases. We also remark that, for some values 
of freedom 
of the underlying 
PH, a degree 
of the parameters 
might be lost. For example, 
freedom 
is lost and the process 
for r"l = lone degree of 
becomes: 
Do = [-i' -\ ] h2  (22) 
h2 h2 (23) 
Dl,l = [ ] ,DI,2 = [ 1q2 ] 
In this case, the only parameter 
arrival 
rates of the classes 
are properly 
is q2 and imposes 
that the 
fitted. 
The ordinary 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 07:41:16 UTC from IEEE Xplore.  Restrictions apply. 
moments, 
coincide. 
the forward 
For instance, 
moments 
the first-order 
and the backward 
moments are 
moments 
B. AMMAP[2} with positive 
autocorrelation 
decay 
we relax the restriction 
of 
Recall 
In this and 
in the next section, 
MAP(2) being a PH renewal 
acyclic 
acyclic 
forms, called 
process. 
the underlying 
from [12] that any MAP(2) can be represented 
with one 
AMAP(2)s, 
of two different 
where 
the 
the specific 
on whether 
or negative. 
autocorrelation 
These two 
and in Section 
cases are considered 
respectively, 
fitting 
for 
the resulting 
decay rate is positive 
in this section 
in which we discuss 
called 
acyclic 
with positive 
the parameter 
a AMMAP[2]. 
form chosen depends 
process, 
The AMMAP[2] process 
decay in the underlying 
IV-C, 
MAP has representation: 
Do = [-d' l ] -h2 
DI,1 = [::::Al=::; 
q21'2] 
h2  h2 
[(I-Ql.,)(I-1',)  0] 
DI,2 = (l-q2.)(l-1'2) (l-q2.2
)1'2 
h2 h2 
(25) 
(26) 
(27) 
out of a theoretical 
of freedom 
which offers seven degrees 
maximum of eight. 
eters in the underlying 
then spend three degrees 
moments and class probabilities. 
and class probabilities 
Thus, we can match up to four param­
maximum, 
and 
MAP, the theoretical 
The multi-class 
of the AMMAP[2] are as follows 
of freedom 
moments 
to match multi-class 
rl(ql,l -q2,2 -rlql,l + rlq2,1) 
(1'1 - 1)(p2(rl - 1) + 1) 
,l + rlq2,1 - rlq2,
ql,l - rlql
1'1 - 1 
2 
Pl,l =Pl(l- r2)(ql,1 - rlQl
,l - r2Ql,1 + rl
Q2,1+ 
rlrQ2,1 -rlrQ2,2 + rlr2Ql,1 -
2rlr2Q2,1) 
B1,1 =hl+ 
rlQ2,1 -Ql,l(rl + 1'2 -1'11'2 
rlr2Q2,2 
- 1) -rlr2Q2,1 + 
F1,1 =hl + h2Pl-
rlr2Q2,2(h1 -h2 + h2rl) 
autocorrelation 
Ql,l = 
Pi (1'11'2 
-1'2 + 1)(B1,1 -hi -h2 + h1r2) 
(h2 - h11'2)(1'l 
-1'2 + 1) Pl(B1,1 - hd(rl1'2 - 1'2 + 1) 
- 1)(1'2 - 1) 
Q2,1 =  h - 1)(1'2 - 1)  1'l(h2 
Pl(rlr2 
- h1r2)(r2 - 1) 
,1 and PI,I, described 
1 and PI,I, described 
2) fitting PI, FI
3) fitting PI, BI,
the Ql,l, QI,2, q2,2 parameters. 
For each case, we proceed 
which we start 
and class probabilities 
from the expressions 
to obtain explicit 
similar 
to the AM PH [2] model in 
of multi-class 
moments 
expressions 
for 
In general, 
the resulting 
in Section 
in Section 
IV-B2; 
IV-B3. 
degenerate 
but elementary 
are non-linear 
symbolically. 
Finally 
expressions 
be solvable 
discuss 
be taken when fitting 
to zeros occurring 
in Section 
cases in which special 
in Do or DI of the underlying 
the second-order 
1) Fitting PI, BII and FI 1: Solving 
PI, BI,
1 and FI,1 for the parameters ql,l, QI,2, Q2,2 yields 
enough to 
IV-B4, we 
care should 
AMMAP[2], 
due 
AMAP(2). 
the expressions 
of 
- 1'2 + l)(hl -F1,1 + B1,l1'l) 
Pl(rlr2 
rl(hl + h2h - l))h - l)h - 1) 
Q2,2 = 
Pl(rlr2 
- 1'2 + l)(hl -F1,1 + h21'l) 
1'l1'2(hl -h2 + h21'd 
region 
values 
of the four 
AMAP(2)s 
region of the forward 
and 
that can be used to fit the same set of 
2. The figure shows the feasible 
of PI, is shown in 
in Do and 
region. The feasible 
moments, 
for different 
Feasible 
backward 
Figure 
possible 
moments and autocorrelation 
differ for the ordering 
for the chosen root of the quadratic 
the fitting 
strongly 
though a common region 
choice. 
feasible 
The special 
and corresponds 
[7]. We find that the feasible 
even 
AMAP(2) chosen, 
to this 
case BI,1 = FI,1 = MI is always 
Ql,l = Q2,1 = Q2,2 = Pl· While for the AMPH[2] processes 
of the diagonal elements 
arising 
region 
decay rate. Such AMAP(2)s 
which is insensitive 
to the choice of the parameters 
on the specific 
procedure 
equation 
depends 
exists 
in 
values 
regions 
backward 
and forward 
of the other, 
increases, 
is a superset 
since the best choice depends 
on the 
of the sample 
we observe 
one of the feasible 
as shown in Figure 1, for the AMMAP[2] the situation 
is more complex, 
actual 
Furthermore, 
arrival 
to match, as we can see from the fact that the 
difficult 
feasible 
region 
that ordinary 
and backward 
that as the fraction PI of class-l 
PI grows large BI,1 and MI,1 become the dominant 
This is due to the fact 
are convex combinations 
as shown in (9), thus as the value of 
terms in 
and both tend to MI. This suggests 
progressively collapses. 
moments 
moments, 
combination 
of forward 
moments. 
the class-l moments become 
increasingly 
for multi-class 
moment 
I, and 
PI and P2 = 1 -PI are required 
of PI, PI,I, BI,
of freedom 
only a subset 
exactly. 
the linear 
the fact that, for queueing 
more flexible 
jobs that arrive 
properties 
the assumption 
to impose 
three 
we may consider 
rate of each class, 
Assuming 
again that the 
rarely 
of a class that arrives 
are three, 
matching 
Since the degrees 
FI,1 may be matched 
1) fitting PI, BI,
probabilities 
the mean arrival 
cases: 
1 and FI,I, described 
are outside 
in Section 
backward 
Approximate 
IV-BI; 
in the arrival 
it appears 
analysis 
of a class of 
purposes, 
properties 
stream rather 
frequently. 
rate A = 1/ MI is fixed. 
This holds under 
than the 
that the total arrival 
fitting. When the first-order 
forward 
and 
to fit the statistical 
the feasible 
region, 
we fit the feasible 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 07:41:16 UTC from IEEE Xplore.  Restrictions apply. 
with respect 
expressions 
for the AMMAP[2] parameters 
to (Bl,l' Fl,d in Euclidean 
and PlBl,l. Hence, the feasibility 
are 
and back­
for 
The explicit 
linear 
point (131,1, Fl,l) closest 
ward moments PlFl,l 
o :::; qi,j :::; 1 
point (131,1, Fl,l) closest 
the first-order 
by six linear 
forward 
inequalities, 
by imposing 
for the above expressions. 
is determined 
the conditions 
norm to (Bl,l' Fl,l)' 
to the un-normalized 
forward 
To find the feasible 
in Euclidean 
and backward 
derived 
moments 
norm. 
all the vertices 
and edges of the polytope 
and 
we enumerate 
find the closest 
2) Fitting 
point on the boundary. 
by imposing 
simplify 
where x; and Y; are defined in the appendix. 
to the 
jitting. Similarly 
is bounded 
0 :::; qi,j :::; 1 
by nonlinear 
in (31), 
to 
are uniquely 
AMMAP[2], 
of notation, 
we define 
case, the feasible 
de­
a second­
4) Degenerate 
generate 
in Euclidean 
constrained 
obtained 
by imposing 
fitting 
purposes, 
depending 
on the 
least squares 
problem. 
process 
can be fitted with 
explicit 
analytical 
probability 
of an arrival 
the probabilities 
autocorrelation 
decay. 
underlying 
model, it might be valuable 
The parameters 
of the second-order 
AMMAP[2] are then 
cases have to be considered 
upon fitting 
the stationary 
probability 
of for state 1 or 2, 
is equal to 1. In this degenerate 
case, 
for ward moments and class probabilities: 
cases: We remark that the following 
expression 
First, 
from this set of characteristics. 
We have obtained 
the parameters 
point closest 
a nonlinearly 
derive 
for convenience 
0 or r2 = 1, the AMAP(2) is exponential, 
While, for the second-order 
determined 
because 
respectively, 
only a marked Poisson 
region and approximate 
region 
Feasible 
previous 
constraints, 
(32), (33). We fit the feasible 
once we fix Pc, Fl,c and 
Pc,k 
Bl,c, for approximate 
to fit Pc, Fl,c and 
Pc,k. 
-Fl,lr2 + hlr2 -h2rl + Fl,lrlr2 
WI = Fl,l - hI 
W2 = PI (rl -l)Wl 
-1) (hI -
h2 + h2rl)Wl 
W3 = rl(r2 
ql,l =w2"1(pihl
-P12Fl,1-Pl,lhlrl 