# Fuzzingå…¥å‘ç³»åˆ—-Part1
##### è¯‘æ–‡å£°æ˜
æœ¬æ–‡æ˜¯ç¿»è¯‘æ–‡ç« 
è¯‘æ–‡ä»…ä¾›å‚è€ƒï¼Œå…·ä½“å†…å®¹è¡¨è¾¾ä»¥åŠå«ä¹‰åŸæ–‡ä¸ºå‡†ã€‚
## å‰è¨€:
æœ€è¿‘å•ƒäº†[FuzzingBook](https://www.fuzzingbook.org)ï¼Œç„¶åè®°å½•ä¸€ä¸ªå…³äºå…¥å‘fuzzingçš„å­¦ä¹ å†ç¨‹
## Fuzzingç®€ä»‹ï¼š
é¦–å…ˆæ˜¯å…³äºè½¯ä»¶æµ‹è¯•ï¼š
è½¯ä»¶æµ‹è¯•ä¸»è¦æ˜¯ä¸‰ç§æ–¹å¼ï¼š
  1. æ‰‹å·¥æµ‹è¯•
  2. åŠè‡ªåŠ¨åŒ–æµ‹è¯•
  3. è‡ªåŠ¨åŒ–æµ‹è¯•
ä½œè€…è§‰å¾—Fuzzingæ˜¯ä¸€ç§ä»‹äºè‡ªåŠ¨åŒ–å’ŒåŠè‡ªåŠ¨åŒ–çš„æµ‹è¯•æ–¹æ³•
>
> å…¶æ ¸å¿ƒæ€æƒ³æ˜¯è‡ªåŠ¨æˆ–åŠè‡ªåŠ¨çš„ç”Ÿæˆéšæœºæ•°æ®è¾“å…¥åˆ°ä¸€ä¸ªç¨‹åºä¸­ï¼Œå¹¶ç›‘è§†ç¨‹åºå¼‚å¸¸ï¼Œå¦‚å´©æºƒï¼Œæ–­è¨€(assertion)å¤±è´¥ï¼Œä»¥å‘ç°å¯èƒ½çš„ç¨‹åºé”™è¯¯ï¼Œæ¯”å¦‚å†…å­˜æ³„æ¼ã€‚æ¨¡ç³Šæµ‹è¯•å¸¸å¸¸ç”¨äºæ£€æµ‹è½¯ä»¶æˆ–è®¡ç®—æœºç³»ç»Ÿçš„å®‰å…¨æ¼æ´ã€‚
>
> â€‹
> â€”â€”[ç»´åŸºç™¾ç§‘:æ¨¡ç³Šæµ‹è¯•](https://zh.wikipedia.org/wiki/%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95)
å°±Fuzzingæ¥è¯´ï¼Œæ¨¡ç³Šæµ‹è¯•ä¸»è¦æœ‰ä¸¤ä¸ªé‡è¦çš„æ¨¡å—ç»„æˆ **Fuzzer** å’Œ **Runner**
ä¸‹é¢æ˜¯å…¶ç±»å›¾ï¼š
ä¸€ä¸ªå¾ˆç®€å•çš„è°ƒç”¨å…³ç³»æ¥è¿›è¡Œç®€å•çš„åŒ…è£…ï¼ŒRunnerç±»ä¸»è¦è´Ÿè´£å°†æ•°æ®è¾“å…¥ç¨‹åºï¼Œä»¥åŠç›‘æ§ç¨‹åºçš„è¿è¡ŒçŠ¶æ€ï¼Œè¿™æ¬¡æˆ‘ä»¬å…ˆé‡ç‚¹ä»‹ç»Fuzzer
## Fuzzer
å¯¹äºæ¨¡ç³Šæµ‹è¯•æ¥è¯´ï¼Œå¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯å¯¹æ•°æ®è¿›è¡Œæ¨¡ç³Šå¤„ç†ï¼Œæ‰€ä»¥ä¸€èˆ¬åœ¨å®ç°ä¸Šéƒ½ä¼šå•ç‹¬æŠŠ **Fuzzer** æ¨¡å—æŠ½ç¦»å‡ºæ¥
å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¯¹äºæ•°æ®å˜å¼‚å¸¸ç”¨çš„ä¸‰ç§åŸºç¡€çš„æ–¹å¼æ˜¯ **éšæœºåˆ é™¤** ï¼Œ **éšæœºæ·»åŠ ** ï¼Œ **éšæœºåè½¬(filp)**
ï¼Œä¸‹é¢æ˜¯ç®€å•çš„å®ç°ä»£ç ï¼Œæˆ‘ä»¬åç»­çš„å·¥ä½œä¹Ÿæ˜¯åŸºäºå…¶æ¥è¿›è¡Œçš„æ„å»º
    def del_random_chr(s):
            if s is None:
                return self.insert_random_chr(s)
            pos = random.randint(0, len(s))
            return s[:pos]+s[pos+1:]
        def insert_random_chr(s):
            pos = random.randint(0, len(s))
            new_s = chr(random.randrange(32, 127))
            return s[:pos]+new_s+s[pos:]
        def flip_random_chr(s):
            if s is None:
                return self.insert_random_chr(s)
            pos = random.randint(0, len(s)-1)
            bit = 1 python3 mutator_test.py
    http://www.google.com/search?q=fuzzing
    http:/ww.gooc:le.co/earcH?qcom/sarch?=uuzinw
    http://www.google.com[/search?q=fuzzing;
    http://www.g%oogl.c`omd-se]rc?qfi9o
    htp:/cww.qgoglg.coi/search?pfuzajg
    http:/+www.eoogle.coe/ search?q=fuzzing
ç¡®å®å°†æ•°æ®è¿›è¡Œäº†æ¨¡ç³Šå¤„ç†ï¼Œä½†å…¶ä¼¼ä¹å¤ªå‘æ•£äº†ï¼ŒåŸºæœ¬ä¸åœ¨æˆ‘ä»¬å¯æ§èŒƒå›´å†…ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸€ç§æ–¹æ¡ˆï¼Œå…¶èƒ½å¤Ÿå¼•å¯¼æˆ‘ä»¬çš„Fuzzeræ¥ç”Ÿæˆæ•°æ®ï¼Œç›¸å½“äºä¸€ç§å…·æœ‰å¼•å¯¼æ€§çš„Fuzzerï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å­¦ä¹ ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼š
**Code Coverage** (ä»£ç è¦†ç›–ç‡)
## Code Coverage:
> **ä»£ç è¦†ç›–** ï¼ˆè‹±è¯­ï¼š **Code coverage**
> ï¼‰æ˜¯[è½¯ä»¶æµ‹è¯•](https://zh.wikipedia.org/wiki/%E8%BB%9F%E9%AB%94%E6%B8%AC%E8%A9%A6)ä¸­çš„ä¸€ç§[åº¦é‡](https://zh.wikipedia.org/wiki/%E8%BB%9F%E9%AB%94%E5%BA%A6%E9%87%8F)ï¼Œæè¿°[ç¨‹åº](https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F)ä¸­[æºä»£ç ](https://zh.wikipedia.org/wiki/%E6%BA%90%E4%BB%A3%E7%A2%BC)è¢«æµ‹è¯•çš„æ¯”ä¾‹å’Œç¨‹åº¦ï¼Œæ‰€å¾—æ¯”ä¾‹ç§°ä¸º
> **ä»£ç è¦†ç›–ç‡** ã€‚
> â€”â€”[ç»´åŸºç™¾ç§‘:ä»£ç è¦†ç›–ç‡](https://zh.wikipedia.org/wiki/%E4%BB%A3%E7%A2%BC%E8%A6%86%E8%93%8B%E7%8E%87)
å…³äºä»£ç è¦†ç›–ç‡ï¼Œå…¶å®é¡¾åæ€ä¹‰ï¼Œè¯´ç®€å•äº†ä¹Ÿå°±æ˜¯æˆ‘ä»¬è¾“å…¥çš„æ•°æ®ï¼Œèƒ½å¤Ÿè®©ç¨‹åºçš„é‚£äº›ä»£ç å¾—å€’æ‰§è¡Œä»¥åŠå…¶æ‰§è¡Œçš„æ¬¡æ•°ï¼ŒåŒ…æ‹¬å…¶æ‰§è¡Œæ¬¡æ•°å æ€»æ•°çš„ä¸€ä¸ªæ¯”ä¾‹ã€‚
åœ¨FuzzingBookä¸­ï¼Œå…¶ä½œè€…ä¸¾äº†ä¸€ä¸ªğŸŒ°ï¼š
    /* CGI decodeing as c program */
    #include 
    #include 
    #include 
    #define DEBUG   0
    typedef unsigned int bool;
    bool true = 1;
    bool false = 0;
    int hex_values[256];
    #define HEX_VALUES_LENGTH sizeof(hex_values)/sizeof(int)
    void init_hex_values() {
        for (int i = 0; i < HEX_VALUES_LENGTH; i++) {
            hex_values[i] = -1;
        }
       for (char i='0'; i<='9'; i++) {
           hex_values[i] = i-'0';
       }
       for (char i='a'; i<='f'; i++) {
           hex_values[i] = i-'a'+0xa;
       }
       for (char i='A'; i<='F'; i++) {
           hex_values[i] = i-'A'+0xA;
       }
    }
    bool cgi_decode(char *s, char *t) {
        while (*s!='\0')
        {
            switch (*s)
            {
            case '+':
                *t++ = ' ';
                break;
            case '%':
                {
                    int dight_high = *++s;
                    int dight_low = *++s;
                    if (hex_values[dight_high]<0 && hex_values[dight_low]<0) {
                        return false;
                    }
                    *t++ = (hex_values[dight_high]<<4) + hex_values[dight_low];
                }
                break;
            default:
                *t++ = *s;
                break;