0
1
0
0
1
5
0
2
0
0
2
5
0
5
0
1
0
0
1
5
0
2
0
0
2
5
0
w
k
(
)
among the 250 possible choices. We then picked the second
best vantage point T2 such that combined with T1 would
produce the lowest median relative error for S, and so on
until k vantage points have been chosen.
Baseline: Vivaldi. Vivaldi [7] is a popular network coor-
dinate system. The Vuze ﬁle-sharing application [25] imple-
ments a similar network coordinate scheme and Vivaldi is
used for computing coordinates in various “secure” coordi-
nate schemes [12, 23, 27]. Using the iPlane dataset, we ran
a simulation of Vivaldi. The median relative error obtained
was 25%.
DF
C
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
G-5
G-1
G-1
G-2
0.2
0.4
0.6
0.8
Relative Error
Figure 3: CDF of relative error when varying the num-
ber of vantage points k used
Accuracy: Figure 3 shows the CDF of the relative error
for varying number of vantage points k. We note that us-
ing fewer than 5 vantage points produces the same CDF
curve. Increasing k from 5 to 10 increases the accuracy as
the median relative error is decreased.
Increasing k past
10 produces the same median relative error but the gain
in accuracy can be seen at the 90th percentile. Increasing
the number of vantage points increases the accuracy of our
scheme – the median relative error is 26% (compared to 25%
for Vivaldi). From the ﬁgure, only 20 trusted vantage points
are needed to be able to accurately estimate the network dis-
tance between two nodes.
Median
0th 
Percentile
r
o
r
r
E
e 
v
i
t
a
e
l
1.6
1.4
1.2
0.8
0.6
0.4
0.2
Day
Figure 4: Median and 90th percentile relative error
using 12/01/09 positions for estimation measurements
through 12/21/09, by day.
Stability: If end-hosts in Treeple need to contact the van-
tage points often to obtain their new positions, then these
nodes become a central point of failure as they would have
to be online all the time. We now consider whether the
accuracy of the Treeple’s positions changes over time. We
used the best 20 trusted nodes from 12/01/2009 to esti-
mate the network distances for the nodes from 12/01/2009
to 12/21/2009 (three weeks). The median and 90th per-
centile relative errors are shown in Figure 4. This shows
that Treeple remains accurate over time. Thus, frequent
network measurements are not needed: the same positions
can be used weeks later.
5. FUTURE WORK
There are possible improvements to Treeple which could
further improve accuracy. It is known that multiple inter-
faces,
load balancers, multi-protocol label switching, and
hosts which do not respond, can aﬀect the accuracy of net-
work paths returned by traceroute, Resolving them could
improve the accuracy of Treeple. Moreover, we treated the
trusted vantage points as ﬁxed. However,
it is possible
to have the vantage points migrate using standard meth-
ods such as migrating trusted servers for services for DNS,
DHTs, and Tor. Finally, we plan to consider router compro-
mise and expand our threat model to determine if Treeple
is still provably secure if, for example, BGPSec is deployed.
6. REFERENCES
[1] Ittai Abraham and Dahlia Malkhi. Compact routing on euclidian metrics.
In PODC ’04: Proceedings of the twenty-third annual ACM symposium on Principles
of distributed computing, pages 141–149, New York, NY, USA, 2004. ACM.
[2] R. Bazzi and G. Konjevod. On the Establishment of Distinct Identities in
Overlay Networks. In ACM PODC, 2005.
[3] Eric Chan-Tin, Daniel Feldman, Yongdae Kim, and Nicholas Hopper. The
Frog-Boiling Attack: Limitations of Anomaly Detection for Secure
Network Coordinates. SecureComm, 2009.
[4] D. Choffnes and F. Bustamante. Taming the Torrent: A practical
approach to reducing cross-ISP tra¡c in P2P systems. ACM Special Interest
Group on Data Communication (SIGCOMM), 2008.
[5] M. Costa, M. Castro, A. Rowstron, and P. Key. PIC: Practical Internet
Coordinates for Distance Estimation. Proceedings of the IEEE International
Conference on Distributed Computing Systems (ICDCS), 2004.
[6] James Cowling, Dan Ports, Barbara Liskov, Raluca Ada Popa, and
Abhijeet Gaikwad. Census: Location-Aware Membership Management for
Large-Scale Distributed Systems. In the proceedings of USENIX Annual
Technical Conference, 2009.
[7] Frank Dabek, Russ Cox, Frans Kaashoek, and Robert Morris. Vivaldi: A
Decentralized Network Coordinate System. In Proceedings of ACM SIGCOMM,
2004.
[8] John R. Douceur. The sybil attack. In Proc. of the International Workshop on
Peer-to-Peer Systems (IPTPS), 2002.
[9] R. Gummadi, R. Govindan, N. Kothari, B. Karp, Y. J. Kim, , and
S. Shenker. Reduced state routing in the internet. HotNets, 2004.
[10] M. A. Kaafar, L. Mathy, T. Turletti, and W. Dabbous. Real attacks on
virtual networks: Vivaldi out of tune. Proceedings of the SIGCOMM workshop
on Large-scale Attack Defense, 2006.
[11] M.A. Kaafar, L. Mathy, T. Turletti, and W. Dabbous. Virtual Networks
under Attack: Disrupting Internet Coordinate Systems. ACM/e-NEXT
International Conference on Future Networking Technologies (CoNext), 2006.
[12] Mohamed Ali Kaafar, Laurent Mathy, Chadi Barakat, Kave Salamatian,
Thierry Turletti, and Walid Dabbous. Securing Internet Coordinate
Embedding Systems. Proceedings of ACM SIGCOMM, 2007.
[13] Jonathan Ledlie, Michael Mitzenmacher, and Margo Seltzer. Wired
geometric routing. International Workshop on Peer-to-Peer Systems (IPTPS),
2007.
[14] C. Lumezanu, D. Levin, and N. Spring. Peer wise discovery and
negotiation of faster path. In Proceedings of HotNets-VI, 2007.
[15] Cristian Lumezanu, Randy Baden, Neil Spring, and Bobby Bhattacharjee.
Triangle inequality variations in the internet. In IMC ’09: Proceedings of the
9th ACM SIGCOMM conference on Internet measurement conference, pages
177–183, New York, NY, USA, 2009. ACM.
[16] Harsha V. Madhyastha, Tomas Isdal, Michael Piatek, Colin Dixon, Thomas
Anderson, Arvind Krishnamurthy, and Arun Venkataramani. iPlane: An
Information Plane for Distributed Services. In Proceedings of the USENIX
Symposium on Operating Systems Design and Implementation (OSDI), 2006.
[17] T. S. Eugene Ng and Hui Zhang. Predicting Internet Network Distance
with Coordinates-Based Approaches. Proceedings of IEEE INFOCOM, 2002.
[18] T. S. Eugene Ng and Hui Zhang. A network positioning system for the
internet. Proceedings of the USENIX annual technical conference, 2004.
[19] M. Pias, J. Crowcroft, S. Wilbur, T. Harris, and S. Bhatti. Lighthouses for
Scalable Distributed Location. International Workshop on Peer-to-Peer Systems
(IPTPS), 2003.
[20] PlanetLab. http://planet- lab.org.
[21] Damien Saucez, Benoit Donnet, and Olivier Bonaventure. A
Reputation-Based Approach for Securing Vivaldi Embedding System. In
EUNICE Open European Summer School and IFIP TC6.6 Workshop on Dependable
and Adaptable Networks and Service, 2007.
[22] Y. Shavitt and T. Tankel. Big-Bang Simulation for embedding network
distances in Euclidean space. IEEE INFOCOM, 2003.
[23] Micah Sherr, Matt Blaze, and Boon Thau Loo. Veracity: Practical Secure
Network Coordinates via Vote-based Agreements. In USENIX Annual
Technical Conference, 2009.
[24] GNP Simulator. http://www.cs.rice.edu/~gw4314/ncs- configurable.tar.gz.
[25] Vuze. http://azureus.sourceforge.net.
[26] Guohui Wang and T. S. Eugene Ng. Distributed Algorithms for Stable and
Secure Network Coordinates. ACM/USENIX Internet Measurement Conference
(IMC), 2008.
[27] David Zage and Cristina Nita-Rotaru. On the accuracy of decentralized
virtual coordinate systems in adversarial networks. In Proceedings of the 14th
ACM conference on Computer and communications security (CCS), 2007.
[28] Han Zheng, Eng Keong Lua, Marcelo Pias, and Timothy Griffin. Internet
Routing Policies and Round-trip Times. Passive and Active Measurement
Workshop, 2005.
662 
1
0
1
0
5
0
1
0
5
1
0
1
5
2
0
R
9