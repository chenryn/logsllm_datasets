title:Computing Battery Lifetime Distributions
author:Lucia Cloth and
Marijn R. Jongerden and
Boudewijn R. Haverkort
Computing Battery Lifetime Distributions
Lucia Cloth, Marijn R. Jongerden, Boudewijn R. Haverkort
University of Twente
Design and Analysis of Communication Systems
[lucia,brh,jongerdenmr]@ewi.utwente.nl
http://dacs.ewi.utwente.nl/
Abstract
The usage of mobile devices like cell phones, navigation
systems, or laptop computers, is limited by the lifetime of
the included batteries. This lifetime depends naturally on
the rate at which energy is consumed, however, it also de-
pends on the usage pattern of the battery. Continuous draw-
ing of a high current results in an excessive drop of residual
capacity. However, during intervals with no or very small
currents, batteries do recover to a certain extend. We model
this complex behaviour with an inhomogeneous Markov re-
ward model, following the approach of the so-called Ki-
netic battery Model (KiBaM). The state-dependent reward
rates thereby correspond to the power consumption of the
attached device and to the available charge, respectively.
We develop a tailored numerical algorithm for the compu-
tation of the distribution of the consumed energy and show
how different workload patterns inﬂuence the overall life-
time of a battery.
1 Introduction
With the proliferation of cheap wireless access technolo-
gies, such as wireless LAN, Bluetooth as well as GSM, the
number of wireless devices an average citizen is using has
been steadily increasing since a few years. Such devices not
only add to the ﬂexibility with which we can do our work,
but also add to our reachability and our security. Next to
these personal wireless devices, an ever growing number of
wireless devices is used for surveillance purposes, most no-
tably in sensor-type networks. A common issue to be dealt
with in the design of all of these devices is power consump-
tion. Since all of these devices use batteries of some sort,
mostly rechargeable, achieving low power consumption for
wireless devices has become a key design issue. This fact
is witnessed by many recent publications on this topic, and
even a special issue of IEEE Computer (November 2005)
devoted to it [1].
Low-power design is a very broad area in itself, with so-
called “battery-driven system design” a special branch of it,
that becomes, due to the reasons mentioned, more and more
important. A key issue to be addressed is to ﬁnd the right
tradeoff between battery usage and required performance:
how can we design a (wireless) system such that with a
given battery, good performance (throughput, reachability,
and so on) is obtained, for a long-enough period. Stated dif-
ferently, how should the processes in the wireless device be
organised such that the battery lifetime (which determines
the system lifetime) will be as high as possible. Indeed, it
has been observed recently that due to the speciﬁc physical
nature of batteries, achieving the longest battery lifetime is
not always achieved by “just” trying to minimise the power
consumption at any point in time. Instead, also the way in
which the power is consumed, that is, the current-extraction
patterns and the employed current levels play a role in the
battery lifetime.
In order to obtain a better insight in the lifetime of batter-
ies, a wide variety of models has been developed. We will
discuss some of these models in the next section, thereby
focusing on the Kinetic Battery Model (KiBaM). What has
not been done, however, is the combination of such power
consumption models in a versatile way with performance
models for mobile communication systems, thereby taking
into account typical physical aspects of battery operation. It
is exactly this issue that we address in the current paper.
Our approach will be to describe the operation of a sys-
tem with an abstract workload model, describing the various
states the wireless device can be in, together with the en-
ergy consumption rates in those states. Also, the transition
possibilities between these states will be represented in the
workload model. Such a description can be interpreted as a
Markov-reward model in which accumulated reward stands
for the amount of energy consumed. The system or bat-
tery lifetime would then be equal to the time until a certain
level of consumption (the available charge of the battery) is
reached. Determining this time, or better, its distribution,
could be done with well-known techniques for performabil-
ity evaluation. However, such an approach does not well
take into account the physical aspect of battery operation.
Indeed, studies on batteries reveal that the battery deple-
tion rate in general is non-linear in time, and, moreover,
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 12:51:07 UTC from IEEE Xplore.  Restrictions apply. 
37th Annual IEEE/IFIP International Conference on Dependable Systems and Networks (DSN'07)0-7695-2855-4/07 $20.00  © 2007also depends on the amount of energy still in the battery.
Furthermore, in periods when a battery is not used, subtle
but important battery-restoration effects are in place, that
apparently reﬁll the battery. Translating such effects to a
Markov reward model context, this would amount to mod-
els in which, possibly, the reward and transition rates de-
pend on time and/or on the amount of reward accumulated
so far, and in which both positive and negative reward rates
are in place.
In this paper we take the analytical KiBaM as a starting
point and combine it with performance models. We also
present a tailored algorithm for evaluating battery lifetime
distributions for the so-called KiBaMRM (Kinetic Battery
Markov reward model).
The rest of the paper is organised as follows. We in-
troduce into the world of batteries in Section 2. Section
3 refers to battery models and describes the KiBaM in de-
tail. We then ﬁx some notation for inhomogeneous Markov
reward models and present the Markov reward models for
batteries used in the rest of the paper in Section 4. In Sec-
tion 5 we describe the algorithm for the computation of the
battery lifetime. Section 6 discusses the results obtained for
the models and in Section 7 we conclude this paper.
2 Batteries
The two most important properties of a battery are its
voltage (expressed in volts V ) and its capacity (mostly ex-
pressed in Ampere-hour, Ah); the product of these two
quantities gives the energy stored in the battery. For an
ideal battery the voltage stays constant over time until the
moment it is completely discharged, then the voltage drops
to zero. The capacity in the ideal case is the same for every
load for the battery. Reality is different, though: the voltage
drops during discharge and the effectively perceived capac-
ity is lower under a higher load.
In the ideal case it would be easy to calculate the life-
time of a battery. The lifetime (L) in the case of a constant
load is the capacity (C) over the load current (I (Ampere)),
L = C/I. Due to various nonlinear effects this relation
does not hold for real batteries. A simple approximation for
the lifetime under constant load can be made with Peukert’s
law [2]:
L = a
I b
,
where a > 0 and b > 1 are constants which depend on
the battery. This relation does not hold for a variable load.
Following Peukert’s law, all load proﬁles with the same av-
erage would have the same lifetime. Experimentally it can
be shown that this is not the case. One of the effects playing
an important role here is the recovery effect of the battery,
as follows.
All batteries are driven by electro-chemical reactions.
During the discharge, an oxidation reaction at the anode
takes place. In this reaction electrons are produced, which
are released into the (connected) circuit. At the cathode a
reduction reaction takes place. Here electrons are accepted
from the circuit and consumed in the reaction:
O1 + ne− → R1,
R2 → O2 + me−.
cathode
anode
As an example of a chemical reaction, this is what happens
in the highly-used Lithium-ion batteries [3]:
Li1−xCoO2 + xLi+ + xe− → LiCoO2,
CLix → C + xLi+ + xe−.
These are the reactions for discharging the battery. For
charging the battery the arrows in the reaction equations are
directed to the left.
In a lithium ion battery, the Li+ ions made at the an-
ode have to diffuse to the cathode when a current is drawn
from the battery. When the current is too high the internal
diffusion cannot keep up with the rate the ions react at the
cathode. As a result, the positive charge at the cathode drops
and rises at the anode. This causes a drop in the output volt-
age of the battery. However, when the battery is less loaded
for a while, the ions have time enough to diffuse again and
charge recovery takes place.
Another effect that occurs when high currents are drawn
is that no reaction sites (molecules) are available in the cath-
ode. At small load (low currents) the reaction sites are uni-
formly distributed over the cathode. But at high currents
the reduction takes place only at the surface of the cathode.
Due to this, the reaction sites in the internal of the cathode
become unreachable. This also results in a drop of the ef-
fective capacity of the battery.
3 Battery models
In an attempt to get a grip on the above physical bat-
tery processes, a variety of models has been proposed. The
simplest models are purely analytical and similar to Peuk-
ert’s law. With more detail, so-called equivalent electrical
circuit models have been introduced, that can be evaluated
(simulated) using a package such as Spice [4]. With even
more detail, electro-chemical models have been developed;
although these models can be very accurate for predicting
battery lifetime under concrete loads, these models are of-
ten too large and complicated to be used as part of high-
level system models [5]. Recently, also stochastic models
have been proposed, in which the battery charge is discre-
tised and in which probabilistic transitions between charge
levels are included to account for the above presented ef-
fects [6]. With these, in essence, Markovian models, also
the effect of workload variations (around a given mean) has
been studied [7].
The Kinetic Battery Model (KiBaM) [8] is an intuitive
analytical battery model.
It is called kinetic because it
uses a chemical kinetics process as its basis. The battery
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 12:51:07 UTC from IEEE Xplore.  Restrictions apply. 
37th Annual IEEE/IFIP International Conference on Dependable Systems and Networks (DSN'07)0-7695-2855-4/07 $20.00  © 2007h2
1 − c
y2
c
y1
h1
k
I
bound charge
available charge
Figure 1. Two well model of the Kinetic Bat-
tery Model
charge is distributed over two wells, the available-charge
well and the bound-charge well, see Figure 1. The avail-
able charge well supplies electrons directly to the load, the
bound-charge well supplies electrons only to the available-
charge well. The rate at which charge ﬂows between the
wells depends on the difference in heights of the two wells,
and on a parameter k. The parameter c gives the fraction
of the total charge in the battery that is part of the available-
charge well. The change of the charge in both wells is given
by the following system of differential equations:
(cid:1)
dy1
dt = −I + k(h2 − h1),
dt = −k(h2 − h1),
dy2
(1)
with initial conditions y1(0) = c·C and y2(0) = (1−c)·C,
where C is the total battery capacity. For h1 and h2 we
have: h1 = y1/c and h2 = y2/(1 − c). When a load I is
applied to the battery, the available charge reduces, and the
difference in heights between the two wells grows. Now,
when the load is removed, charge ﬂows from the bounded-
charge well to the available-charge well until h1 and h2 are
equal again. So, during an idle period, more charge be-
comes available effectively and the battery lasts longer than
when the load is applied continuously.
A special case arises if c = 1, that is, all charge is readily
available. The pair of differential equations (1) then reduces
dt = −I, because y2 = 0 at any time.
to a single equation dy1
The system of differential equations can be solved ana-
lytically when the load current I is constant. This solution
can be used to calculate the battery lifetime for any given
workload with piecewise constant currents. We calculated
the battery lifetime for simple workloads consisting of a
square wave with ﬁxed frequency. In Figure 2 the charges
in the available-charge and bound-charge well are given as
a function of the time for such a workload with a frequency
of f = 0.001Hz. The current drawn during the on peri-
ods was set to 0.96A. We see the charge in the available-
charge well decreasing when the current is drawn from the
battery and rising again during the idle periods. The ﬂow
of charge from the bound-charge well starts slowly and gets
faster over time, because of the increasing difference of the
heights h2 − h1 of the two wells.
y1
y2
 4500
 4000
 3500
 3000
 2500
 2000
 1500
 1000
 500
)
s
A
m
(
e
g
r
a
h
c
 0
 0
 2000
 4000
 6000
t (seconds))
 8000
 10000
 12000
Figure 2. Evolution of the available-charge
and the bound-charge for f = 0.001Hz
Frequency
Exp.
lifetime
KiBaM Modiﬁed KiBaM
lifetime
lifetime
stochastic numerical
(Hz)
(min)
(min)
(min)
(min)
Continuous
1
0.2
90
193
230
91
203
203
90
193
226
89
193
193
Table 1. Experimental and computed lifetimes
To be able to do these calculations, the parameters c and
k have to be determined. The parameter c can be calculated
from the capacity delivered under very large and very small
loads. At very large loads the battery lifetime is short, and
there is no time for the charge to move from the bound-
charge well to the available-charge well. The capacity de-
livered equals the amount of charge in the available-charge
well. At very small loads, however, all the charge from both
the bound and available-charge well is delivered. The quo-
tient of these two numbers is exactly c, from [9] we take
c = 0.625. We set the parameter k in such a way that the