title:Measuring Mobile Peer-to-Peer Usage: Case Finland 2007
author:Mikko V. J. Heikkinen and
Antero Kivi and
Hannu Verkasalo
Measuring Mobile Peer-to-Peer Usage:  
Case Finland 2007 
Mikko V.J. Heikkinen, Antero Kivi, and Hannu Verkasalo 
TKK Helsinki University of Technology, P.O. Box 3000, FI-02015 TKK, Finland 
{mikko.heikkinen,antero.kivi,hannu.verkasalo}@tkk.fi 
Abstract. We study the development of mobile peer-to-peer (MP2P) traffic and 
the  usage  of  MP2P  applications  in  Finland  during  2005-2007.  Research  data 
consists of 1) traffic traces measured from three Finnish GSM/UMTS networks 
covering the Internet-bound mobile data traffic generated by 80-90% of Finnish 
mobile  subscribers  (N  >  4,000,000),  and  2)  usage  log  files  collected  with  a 
dedicated  Symbian  handset  monitoring  application  (N  =  579).  In  the  traffic 
trace measurement, we notice almost zero P2P file sharing traffic for handsets, 
but 9-18% of unidentified traffic, part of which possibly being P2P traffic. Po-
tentially a notable growing trend for computer-based P2P file sharing traffic is 
visible in GSM/UMTS networks, BitTorrent and eDonkey being the most popu-
lar protocols. In the panel study, only Fring, a client to several P2P-based com-
munication services, has significant usage and data volume levels. 
Keywords: Measurement, mobile, peer-to-peer, traffic, usage. 
1   Introduction 
Peer-to-peer (P2P) traffic has been rapidly growing in the Internet during past years 
[1].  On  the  other  hand,  mobile  devices  and  laptops  are  increasingly  using 
GSM/UMTS  (Global  System  for  Mobile  communications  /  Universal  Mobile  Tele-
communications System) connections to access the Internet [2]. Our aim is to study 
the development of mobile P2P (MP2P) traffic and the use of MP2P applications in 
Finland during 2005-2007 from two perspectives: 1) by analyzing traffic traces meas-
ured at the GSM/UMTS networks of three major Finnish mobile operators, and 2) by 
investigating results from a panel study conducted with a handset monitoring applica-
tion  running  in  Nokia  Symbian  S60  operating  system.  In  the  traffic  trace  measure-
ment, we identify P2P file sharing traffic based on TCP/UDP port numbers and use 
TCP  fingerprinting  to  differentiate  between  computers  and  handsets.  In  the  handset 
monitoring, we identify MP2P applications based on logged application name, and re-
cord the number of usage sessions and transferred data volume. Our approach is re-
stricted to the end-user viewpoint. 
No  commonly  accepted  definition  for  MP2P  exists.  According  to  Steinmetz  and 
Wehrle  [3],  P2P  is  “a  system  with  completely  decentralized  self-organization  and  
resource  usage”.  Androutsellis-Theotokis  and  Spinellis  [4]  attribute  the  following 
S.B. Moon et al. (Eds.): PAM 2009, LNCS 5448, pp. 165–174, 2009. 
© Springer-Verlag Berlin Heidelberg 2009 
166 
M.V.J. Heikkinen, A. Kivi, and H. Verkasalo 
characteristics  to  P2P  systems:  distribution,  node  interconnection,  self-organization, 
resource sharing, adaptation to failures and transient populations, maintenance of ac-
ceptable connectivity and performance, and absence of global centralized servers or 
authority. We use the term “mobile” to describe both laptop computers and handsets 
with a data transfer connection to a GSM/UMTS mobile network. We cover both P2P 
systems consisting only or partially of mobile nodes, and mobile clients to P2P sys-
tems  consisting  only  of  fixed  nodes.  Of  the  handset  applications  we  analyzed,  only 
SymTorrent acts as a fully functional peer in a P2P system, other applications act as 
clients  to  P2P  systems,  i.e.  relay  traffic  via  intermediating  peers  or  servers  without 
implementing full peer capabilities. 
Previous  traffic  measurement  studies  on  MP2P  in  GSM/UMTS  mobile  networks 
are concentrated on the evaluation of using specific applications in limited test scenar-
ios [5]-[9]. According to the best of our knowledge, our study is the first holistic ex-
amination of MP2P usage in GSM/UMTS mobile networks. 
Our paper is structured as follows: first, we conduct a brief literature study on pre-
vious research. Then, we present our research methods, and the results of our meas-
urements. Finally, we conclude our findings. 
2   Previous Research 
P2P traffic can be identified using various alternative methods. The simplest method 
is  to  investigate  the  port  numbers  in  TCP  or  UDP  packet  headers  [10],  [11].  Some 
P2P applications use static port numbers to relay traffic, making their usage analysis 
fairly straightforward. However, an increasing number of P2P applications randomize 
or let their users randomize the port numbers in use. Therefore, in some studies vari-
ous  statistical  methods  have  been developed to identify P2P traffic [12]-[16]. Other 
studies identify application-specific signatures in packet payload [17]-[19]. Guo et al. 
[20] analyze the log files generated by centralized components of a P2P network. 
The point of measurement varies significantly in previous P2P measurement stud-
ies.  Some  analyzed  a  border  point  of  an  Internet  Service  Provider  (ISP)  network  
[10], [11], [13]. Others investigated a border point of an academic network [15], [17], 
[18].  Henderson  et  al.  [19]  collected  packet-level  traces  and  syslog  messages  from 
several access points to an academic Wireless Local Area Network (WLAN). Wu et 
al. [16] obtained traces from a company providing a streaming service based on a P2P 
network. 
The reported metrics in the studies can be grouped into several categories. Traffic-
based  metrics  include  bandwidth  consumption  and  traffic  volume  [11],  [18],  [19]; 
connection and session durations and latencies [10], [11], [18]; packet and flow level 
distributions [15], [16]; traffic patterns over time [10], [11], [13], [16]-[20]; and up-
stream and downstream traffic comparisons [10], [11] [16], [19]. Peer-related metrics 
consist of geographical distribution of peers [10]; number of downloads, uploads and 
shares by peers [8]; number of peers over time [14], [16], [20]; and peer connectivity 
and locality [10], [11]. 
Measuring Mobile Peer-to-Peer Usage: Case Finland 2007 
167 
3   MP2P Usage Measurements 
3.1   TCP/IP Traffic Measurements 
We  use  TCP/IP  traffic  measurements  to  collect  traces  of  IP  traffic  in  GSM/UMTS 
mobile networks. The measurements were conducted simultaneously at the networks 
of  three  major  Finnish  GSM/UMTS  mobile  network  operators  during  two  weeks  in 
September-October  2005,  2006,  and  2007.  The  measurements  took  place  at  a  point 
between the Gateway GPRS  Support Node (GGSN) and the Internet, at each of the 
three  networks  measured.  In  total,  the  measurements  included  the  Internet-bound 
packet-switched data traffic of approximately 80-90% of Finnish mobile subscribers, 
i.e. over 4,000,000 subscribers. The measurements resulted in traces with the packet 
headers of Internet and transport layer protocols, whereas all application layer proto-
col headers were sanitized from the data. 
The underlying operating systems of the end-user devices generating the traffic, for 
example Symbian and Windows, are identified by using a method called TCP finger-
printing  [21].  Different  operating  systems  are  recognized  by  identifying  idiosyncra-
sies in the implementation of their respective TCP/IP stacks. No application layer data 
is needed, as the method only uses certain TCP and IP header fields. Operating sys-
tem identification using TCP fingerprinting  is a  fairly reliable  method, but it leaves 
some of the traffic unidentified. 
Different application protocols are identified from the traffic traces using transport 
protocol  (TCP,  UDP)  port  numbers.  Furthermore,  the  analysis  of  P2P  traffic  by 
Karagiannis et al. [22] is used to classify specific port numbers as P2P traffic. Port-
based identification of P2P traffic has some limitations. First, as many P2P applica-
tions  select  the  used  port  numbers  dynamically,  identification  based  on  the  default 
port might leave a lot of traffic unidentified. Second, some P2P applications also use 
port  80  (HTTP)  to  masquerade  their  traffic  as  web  traffic  in  order  to,  for  example, 
pass  simple  firewalls  or  gain  higher  priority.  Due  to  the  limitations  of  the  process, 
only  the  use  of  the  following  file  sharing  protocols  is  identified:  BitTorrent,  Direct 
Connect, eDonkey, FastTrack, Gnutella and Napster. Several applications can use the 
protocols and their variations.  
Table 1. TCP and UDP port numbers used in P2P file sharing protocol identification 
BitTorrent 
Direct Connect 
eDonkey 
FastTrack 
Gnutella 
Napster 
TCP 
6881-6889 
411, 412 
4661, 4662 
1214 
6346, 6347 
6699-6702 
UDP 
- 
411, 412 
4665 
1214 
6346, 6347 
6257 
168 
M.V.J. Heikkinen, A. Kivi, and H. Verkasalo 
Table 1 summarizes the TCP and UDP port numbers used for identification. We 
also depict traffic generated by web and email protocols with the following TCP port 
numbers: HTTP (80), HTTPS (443) and HTTP alternate (8080) for web, and SMTP 
(25), POP3 (110), IMAP (143), IMAP/SSL (993) and POP3/SSL (995) for email. 
3.2   Handset Monitoring 
We  utilize  a  handset-based  research  method  in  collecting  data  from  end-users  [23]. 
The method provides data on the actual usage of mobile applications and services, as 
the measurements are conducted directly in the device. End-users participating in the 
study install a client application on their device having a Nokia Symbian S60 operat-
ing  system.  The  client  runs  as  a  background  process,  observing  user  actions  and  
storing usage data into  memory. The data collected includes application usage, data 
sessions,  communication  activities,  memory  status  and  Uniform  Resource  Locator 
(URL) traces, among others. The data is collected at the level of events and sessions, 
including accurate time stamps and identifiers for participating end-users. The data is 
transmitted daily to centralized servers for analysis. The method is deployed in con-
trolled panel studies, to which typically a few hundred panelists are recruited. 
The panel lasted for 1-2 months between November 2007 and January 2008. The 
panelists  (i.e.  users  participating  in  the  study)  are  provided  with  €€ 20  vouchers  as  a 
compensation to potential data transfer costs they have to bear due to research and are 
entered to prize draws. 
The  main  shortcoming  of  the  method  is  the  adverse  selection  of  panelists.  Typi-
cally  technologically  enthusiastic  persons  or  people  motivated  by  the  prize  draws  
participate in this kind of research panels. In addition, the Symbian device penetration 
is still well below 20% in the Finnish market [2], therefore the panelists could poten-
tially be characterized as early-adopter users. 
The panelists are recruited from the subscriber bases of three major Finnish mobile 
operators, targeting only consumer customers. 579 panelists from whom at least three 
weeks of usage-data is collected are included in the dataset. 44% of panelists are us-
ing Nokia S60 3rd edition devices, and 56% use older 2nd edition devices. 25% of the 
panelists have WLAN functionality in their handsets. 79 % of the panelists are male. 
The most dominant age groups are 20-29 years (38%) and 30-39 years (30%). Most 
panelists (77%) are employed. Over half (58%) of the panelists  have a usage based 
data plan, the rest have a quota based plan (31%) or a flat rate plan (11%). 
In  the  panel  measurements,  we  identify  four  MP2P  applications:  Fring,  iSkoot, 
MobileMule  and  SymTorrent.  We  have  no  knowledge  whether  the  applications  
were installed by the users before or during the panel. Also, we do not know which 
applications the user had installed but did not use during the panel. We identify the 
applications by analyzing a list containing all the applications the panelists had used. 
The decision whether to include an application for detailed analysis is based on its re-
corded name. The detailed analysis consists of an Internet search, the aim of which is 
to determine whether the application can be considered a MP2P application. If we had 
used a different classification scheme, for instance included push-to-talk and instant 
messaging  applications  which  use  servers  for  both  control  and  media  traffic,  we 
would have classified significantly more applications as MP2P applications.  
Measuring Mobile Peer-to-Peer Usage: Case Finland 2007 
169 
4   Results 
4.1   TCP/IP Traffic Measurement Results 
According  to  the  data  provided  by  the  mobile  operators  to  Statistics  Finland  [24], 
[25], the volume of packet-switched data traffic in Finnish mobile networks has been 
growing rapidly during the recent years (2005: 34,000 GB, 2006: 100,000 GB, 2007: 
500,000  GB).  The  rapid  growth  in  data  traffic  volumes  is  partly  explained  by  in-
creased  penetration  of  UMTS  capable  handsets  [2],  expansion  of  UMTS  network 
coverage  to  smaller  cities,  and  High-Speed  Downlink  Packet  Access  (HSDPA)  up-
grades to mobile networks. These developments have been accompanied by introduc-
tion  of  alternative  flat  rate  mobile  data  subscriptions  and  heavy  marketing  of  data 
cards and Universal Serial Bus (USB) data modems. 
Our results from the measurement weeks in Falls 2005, 2006, and 2007 are consis-
tent with the yearly figures reported by Statistics Finland. A fourfold increase in over-
all traffic volumes was observed between Falls 2005 and 2006, as both computer and 
handset  (Symbian)  originated  traffic  grew  in  proportion.  However,  between  Falls 
2006  and  2007  the  traffic  by  computers  grew  by  a  factor  of  fourteen,  whereas  the 
growth of handset traffic was more moderate and merely tripled. The obvious differ-
ence between our results and the figures  from Statistics Finland is explained by the 
fact  that  traffic  volumes  in  Finnish  mobile  networks  started  to  grow  rapidly  in  late 
Summer  2007,  likely  due  to  the  operators’  aggressive  marketing  of  flat  rate  mobile 
broadband subscriptions bundled with HSDPA-capable USB dongles for laptop com-
puters. Overall, our measurements show that the relative share of computer traffic in 
mobile networks has grown from 70-75% in 2005-2006 to over 90% in 2007, whereas 
the  traffic  share  of  handsets  running  Symbian  operating  system  has  dropped  from 
around 15% to about 4% of all traffic. 
The profile of handset and computer traffic by application protocol is presented in 
Fig.  1  and  2.  Clear  differences  in  the  application  protocol  profile  of  computers  and 
handsets can be observed. Handset traffic is dominantly  web browsing, whereas the 
share of email is significant albeit decreasing in relative terms. Other protocols, espe-
cially  P2P  protocols,  are  marginal  traffic-wise.  For  computers,  the  relative  share  of 
web browsing and email traffic have been decreasing at the expense of the traffic that 
could not be identified, which amounts to almost 60% of all traffic in the latest traces. 
A small share (4-5%) of P2P traffic is also observed. 
79%
57%
59%
)
s
e
t
y
b
(
c
i
f
f
a
r
t
f
o
e
r
a
h
S
80%
60%
40%
20%
0%
24%
17%
10%
0%
0% 0%
10%
7%
3%
18%
9%
9%
Web
Email