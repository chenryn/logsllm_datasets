title:Unintended Consequences: Effects of Submarine Cable Deployment on
Internet Routing
author:Rod&apos;erick Fanou and
Bradley Huffaker and
Ricky K. P. Mok and
Kimberly C. Claffy
Unintended Consequences: Eﬀects
of Submarine Cable Deployment
on Internet Routing
Rod´erick Fanou(B), Bradley Huﬀaker, Ricky Mok, and K. C. Claﬀy
CAIDA/UC San Diego, San Diego, USA
{roderick,bhuffake,cskpmok,kc}@caida.org
Abstract. We use traceroute and BGP data from globally distributed
Internet measurement infrastructures to study the impact of a notewor-
thy submarine cable launch connecting Africa to South America. We
leverage archived data from RIPE Atlas and CAIDA Ark platforms, as
well as custom measurements from strategic vantage points, to quantify
the diﬀerences in end-to-end latency and path lengths before and after
deployment of this new South-Atlantic cable. We ﬁnd that ASes oper-
ating in South America signiﬁcantly beneﬁt from this new cable, with
reduced latency to all measured African countries. More surprising is that
end-to-end latency to/from some regions of the world, including intra-
African paths towards Angola, increased after switching to the cable. We
track these unintended consequences to suboptimally circuitous IP paths
that traveled from Africa to Europe, possibly North America, and South
America before traveling back to Africa over the cable. Although some
suboptimalities are expected given the lack of peering among neighboring
ASes in the developing world, we found two other causes: (i) problematic
intra-domain routing within a single Angolese network, and (ii) subop-
timal routing/traﬃc engineering by its BGP neighbors. After notifying
the operating AS of our results, we found that most of these suboptimal-
ities were subsequently resolved. We designed our method to generalize
to the study of other cable deployments or outages and share our code
to promote reproducibility and extension of our work.
1 Introduction
The underlying physical infrastructure of the Internet includes a mesh of sub-
marine cables, generally shared by network operators who purchase capacity
from the cable owners [8,48]. Little academic research has tried to isolate per-
formance changes induced by the deployment of new submarine cables, although
a few studies have investigated the end-to-end performance impacts of disrup-
tions to existing cable operations [21,23]. Recently Bischof et al. [8,9] made a
case for a new research agenda focused on characterizing the fundamental role
these cables play in inter-continental connections. We agree with this aspiration
and undertook a study that represents a step toward it.
c(cid:2) Springer Nature Switzerland AG 2020
A. Sperotto et al. (Eds.): PAM 2020, LNCS 12048, pp. 211–227, 2020.
https://doi.org/10.1007/978-3-030-44081-7_13
212
R. Fanou et al.
In 2018, Angola Cables, Inc. (AC) deployed the ﬁrst trans-Atlantic under-
sea cables (SACS) crossing the South Hemisphere [56], linking Fortaleza, Brazil
to Sangano, Angola [24,26,56,57]. We developed a methodology to analyze the
impact of a speciﬁc cable launch on observed end-to-end round-trip latencies and
paths across diﬀerent regions of the world, and applied it to the case of the new
SACS cable. The initial challenge in such a task is to identify the cable of interest
using IP-layer traceroute measurements. Transit providers often do not publicly
disclose cable details, e.g., IP addresses, and existing measurement techniques
cannot easily distinguish multiple co-terminating (or nearly co-terminating) par-
allel cable systems [9]. The unique landing points of SACS created an opportu-
nity to identify it in large-scale traceroute datasets: besides the fact that SACS
is the ﬁrst South-Atlantic cable system linking Africa to the Americas, only two
cable systems (WACS and SACS) anchor at Sangano post-SACS, versus 18 to
Fortaleza, the second landing point of the new cable.
Our high-level approach was to analyze traceroutes paths that crossed SACS
from mid-Sep 2018 to late Jan 2019, to the paths those same endpoints tra-
versed before the cable activation. This comparison revealed signiﬁcantly reduced
latency from ASes operating in South America toward Africa. However, we were
surprised to ﬁnd 21.3% of observed paths, with sources in Europe and Asia, as
well as intra-African paths, experienced worse performance – in terms of higher
RTTs across the corresponding endpoints – after SACS. Even more surprising,
the median RTT of intra-African paths towards Angola doubled. We analyzed
the root causes of these unintended consequences – suboptimal circuitous paths
that unnecessarily crossed continents e.g., from Africa/Europe toward Angola.
This work makes three contributions. First, we introduce a methodology to
investigate submarine cable-related events, and second, we applied it to the case
of the ﬁrst operational South-Atlantic submarine cable to Africa. Finally, we
suggest ways operators can avoid/mitigate suboptimal routing post-cable acti-
vation during future deployments. We emphasize that as third-party observers,
we do not have access to traﬃc data: the observed suboptimalities may occur
on paths traversed by little to no traﬃc. In other words, this analysis does not
necessarily reﬂect the performance of most traﬃc actually using that link. That
said, these circuitous paths lasted the whole period considered in our analysis
(i.e., 3.5 months post-SACS) until we notiﬁed the provider.
We believe this work is the ﬁrst attempt to evaluate the macroscopic impact
of a new submarine cable on end-to-end paths and performance, and our results
reveal how lack of diagnostic tools and exercises can amplify the existing rout-
ing ineﬃciencies involving the developing world, that derive from investment
decisions, peering strategies [7,10,29,32,34], or traﬃc engineering [55].
2 Methodology
Our method requires ﬁrst identifying the link of interest and its terminating IP
addresses. We use these IP addresses to extract relevant paths from historical
traceroute archives and then use this subset of paths to study the eﬀects of
Eﬀects of Submarine Cable Deployment on Internet Routing
213
the event on AS topology and performance (Sect. 2.1). We assume there is, and
the method requires identifying, a cable of interest [1,2], and its IP addresses,
which we call link IPs. The method also requires some meta-data about the
event of interest, including date, duration, and the AS(es) operating the cable.
We believe our method generalizes to the study of other cable deployments,
and cable failures/outages. If the cable supports the use of layer-2 tunnels or
wavelengths by diﬀerent operators, identifying these link IPs is more complex
and requires further study.
Step 1: Collect Candidate IP Paths That Could Have Crossed the
Cable. We conduct traceroute measurements from vantage points (VPs) near
the two cable endpoints toward each other; these are candidate IP paths that
possibly traversed or rerouted through the link/cable after the event. Researchers
can use public sea cable databases/maps [1,2,41,58] to inform the scheduling and
execution of targeted traceroutes on existing measurement platforms [11,18,51].
Step 2: Identify Router IP Interfaces on Both Sides of the Cable.
This task requires disambiguating the IP addresses terminating the cable of
interest from those terminating other cable systems. We combine two approaches:
an RTT-threshold based on speed-of-light constraints and IP geolocation. We
analyze only the traceroute hops inferred (using bdrmapIT [42]) to be owned by
the AS of interest. For these hops, we look for an RTT diﬀerence gap between
consecutive hops in traceroute, using a threshold of t = 2×l
(2/3)×c, where l is the
c is the speed of light traveling in ﬁber optics.
physical length of the cable, and 2
3
At this point, we can narrow down the set of consecutive hops to the ones that
match the landing sites of the cable of interest. We use IP geolocation databases
(e.g., NetAcuity [25], MaxMind [43]) to map IP addresses to countries. Given the
low accuracy of such geolocation databases for router infrastructure [33,35,49],
we also apply hostname-based geolocation. We validate the inferred location of
IP addresses adjacent to these IPs by measuring the RTTs from VPs located in
the inferred country. We consider the geolocation correct if the minimum RTT
is less than 10 ms. We then resolve the router aliases of the selected IPs using
CAIDA’s MIDAR [16], Vela aliasq [19], and ITDK [20]. We obtain two lists of
IP addresses of the router interfaces at the two ends of the cable denoted by RA
and RB. We call these two lists link IPs.
Step 3: Search for Comparable Historical Traceroutes. We use P to
denote all source IP/destination preﬁx pairs, , where s is the VP’s source
IP address and d is the longest-match preﬁx for the destination in the BGP
routing table. We use longest-match because existing measurement platforms
(Ark and Atlas) randomly probe within preﬁxes [17,52], and thus probing an
exact destination IP address twice within a short period of time is unlikely. Fur-
thermore, in many cases, only some IPs within a preﬁx respond to measurement
probes [45]. We ﬁrst look for a set of traceroutes, T,∀ ∈ P, that
contain either RA → RB or RB → RA after the occurrence of the event. With
this list of preﬁx pairs, we search for pre-event traceroutes from the same 
pairs, T (cid:3)
, for comparison.
214
R. Fanou et al.
Step 4: Annotate Collected Paths. For every hop in the traceroute sets
T and T (cid:3)
, we resolve the hostname and AS number, perform country-
level IP geolocation, and compute the diﬀerence in RTT from that of the previous
hop. To accurately map IP addresses appearing in traceroutes to AS numbers,
we run bdrmapIT [42] on the traceroutes collected on each day from both Ark
and Atlas, using as inputs daily RIB from Routeviews and RIPE RIS [44,53],
CAIDA’s AS relationship ﬁle [13,40] from the ﬁrst ﬁve days of the month, a
daily dump of IXP preﬁxes from peeringDB [39,46], and WHOIS delegation ﬁles
collected in the middle of the period of the study. To resolve IP addresses to
hostnames, we use zdns [28] and qr [37]. Next, we collect a combined list of
Internet eXchange Points (IXPs) preﬁxes from CAIDA’s IXP Dataset [14], com-
pare them to the preﬁx corresponding to every hop in the traceroute sets T
and T (cid:3)
, and single out traces for which an IXP preﬁx matches the preﬁx of
the IP hop. By doing so, we identify the IXPs through which the cable operator
received/routed the packets pre and post-event.
We then group the traceroutes of each set by  pair and, based on their
corresponding timestamps of execution, we cluster them per week. For every
IP hop of each traceroute, we include its inferred annotations. These annotated
traceroutes enable us to compare the AS paths and latency before and after the
event using metrics described in Sect. 2.1.
 using
2.1 Metrics for Quantifying the Impact of the Event
We compare the performance and AS paths between T and T (cid:3)
three metrics.
1: RTTs to the Common IP Hops Closest to the Traceroute Destinations.
This metric compares RTT values to
reveal the change in latency across
the network paths before and after
cable deployment. Figure 1 illustrates
the identiﬁcation of traceroutes in sets
T and T (cid:3)
 between the same
 pair that share at least one
IP address. Among all traceroutes run
toward a destination preﬁx, we locate
the common IP hop, hc, closest to the
destination IP and extract the RTTs
from s to hc in T and T (cid:3)
,
denoted as dc and d(cid:3)
c, respectively. We
only consider the subset ˆP of ,
such that ˆP ⊆ P and hc (cid:6)= Ø (i.e., that contains non-empty hc) in our analysis.
For each  pair, we then compute the medians of all dc and d(cid:3)
c per week
and choose their respective minimum values over the periods pre and post-event
to mitigate noise.
Fig. 1. Pre&post-event path comparison.
Orange circles indicate common IP hops
in T and T (cid:2)
. s is the source IP
address, and hc is the common IP hop clos-
est to the destination IP. The red circles
rA ∈ RA and rB ∈ RB are the router
interfaces of the two ends of the submarine
cable (Step 2). (Color ﬁgure online)
Eﬀects of Submarine Cable Deployment on Internet Routing
215
2: AS-Centrality of Transit ASes in Paths. We use bdrmapIT [42] to infer
AS paths from the IP paths and compute from T and T (cid:3)
 the AS-
centrality of each observed transit AS. This metric is deﬁned as the percentage
of  pairs for which the AS path with the minimum observed RTT dc
(or d(cid:3)
c for pre-event) contains the considered AS, and where that AS is neither
the source nor the destination [29]. A higher AS-centrality of an AS post-event
indicates increased transit importance, i.e., more ASes use that AS for transit.
3: Length of AS Paths Crossing Cable Operator’s Network Pre and
Post-event. We analyze the length of AS paths between source AS/destination
preﬁx pairs observed to cross the cable operator’s network in RouteViews and
RIPE RIS [44,53] data pre and post-event. Similar to previous work [13,40], we
consider paths collected on the ﬁrst ﬁve days of the month before and after the
event.
3 Data Collection: Case Study of SACS Cable
Deployment
We collected candidate IP paths that crossed SACS (Sect. 3.1) on Mar 25–26,
2019. We identiﬁed the link IPs from those candidate IP paths and ITDK [20]
(Sect. 3.2). We used those link IPs to search in Ark and RIPE Atlas historical
data for matching traceroutes post-SACS (Jan–mid-Sep 2018) and the tracer-
outes with the same  pairs pre-SACS (mid-Sep 2018–Jan 2019) (Sect. 3.3).
Next, we annotated these traceroutes with supplementary information for its
analysis (Sect. 3.4).
3.1 Collecting Candidate IP Paths Crossing SACS
At the beginning of this study (Mar 2019) there were eight active Ark VPs in
South America, but none in Angola. AC hosted a looking-glass (LG) server [5]
connected to the Sangano landing point [26,27,36]: An LG server allows BGP
and traceroute queries by third-parties. Using both CAIDA’s Vela interface [18]
to execute measurements on the Ark infrastructure, and the AC LG server [5],
we collected traceroutes from VPs located in South America toward the AC LG
server (and in the reverse direction) to obtain IP paths that possibly crossed
SACS, i.e., candidate IP paths.
3.2 Identifying Link IPs
Based on the length of the cable, we estimate the round-trip time to cross SACS
to be about tSACS = 6,165km × 2
(2/3) × c = 62 ms. By inspecting the candidate IP paths,
we found a pair of AC IP addresses (170.238.232.146 and 170.238.232.145) in
the same /30, which had RTT diﬀerences with preceding and subsequent IPs
that matched our latency heuristics. We could not resolve their hostnames, but
the hostnames of their adjacent hops contained geolocation hints ao.sgn and
br.ftz. Because of the small diﬀerential RTTs between the two IPs and their
adjacent hops, we inferred that 170.238.232.146 and 170.238.232.145 were in
216
R. Fanou et al.
Sangano, Angola and Fortaleza, Brazil, respectively. We leveraged VPs in Angola
and Brazil to conduct latency measurements toward these two IPs to conﬁrm
our inference. Using the two IP addresses, we obtained a set of aliases of SACS
routers in Angola (RA) and Brazil (RB) from ITDK [20] of Jan 2019. We found
that RA and RB contained respectively 29 and 18 MIDAR-observed IP addresses
aliases of the same router.
3.3 Fetching Matching Traceroutes Paths
We analyzed CAIDA’s Ark [11] and RIPE Atlas data [51]. We considered the
on-going IPv4 Routed /24 Topology measurements [17] from 178 Ark VPs that
execute ICMP Paris-traceroute [6] toward a random destination in every routed
/24 preﬁx. Using CAIDA’s Henya [15] interface to search Ark traceroute data,
we split historical Ark traceroutes into two sets. ARK-AFTER includes tracer-
outes going through SACS from mid-Sep 2018 to late Jan 2019 (after SACS)
and which had an IP of RA followed by an IP of RB or vice-versa; and ARK-
BEFORE includes traceroutes from early Jan 2018 to mid-Sep 2018 between
the same  pairs as those measured in ARK-AFTER. Of the 8,035 
pairs common to both ARK-BEFORE and ARK-AFTER, we enumerate 6,778
(84.3%)  pairs that contained a common IP hop.