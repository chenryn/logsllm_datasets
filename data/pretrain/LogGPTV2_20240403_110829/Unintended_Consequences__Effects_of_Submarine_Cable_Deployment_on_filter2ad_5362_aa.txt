# Unintended Consequences: Effects of Submarine Cable Deployment on Internet Routing

**Authors:**  
Rod'éric Fanou, Bradley Huffaker, Ricky K. P. Mok, and Kimberly C. Claffy  
CAIDA/UC San Diego, San Diego, USA  
{roderick, bhuffake, cskpmok, kc}@caida.org

## Abstract
We utilize traceroute and BGP data from globally distributed Internet measurement infrastructures to investigate the impact of a significant submarine cable launch connecting Africa to South America. By leveraging archived data from RIPE Atlas and CAIDA Ark, as well as custom measurements from strategic vantage points, we quantify the differences in end-to-end latency and path lengths before and after the deployment of this new South-Atlantic cable. Our findings indicate that ASes operating in South America significantly benefit from this new cable, with reduced latency to all measured African countries. Surprisingly, end-to-end latency for some regions, including intra-African paths towards Angola, increased after the cable's activation. We attribute these unintended consequences to suboptimal, circuitous IP paths that traveled from Africa to Europe, possibly North America, and then back to Africa over the cable. While some suboptimalities are expected due to the lack of peering among neighboring ASes in the developing world, we identified two additional causes: (i) problematic intra-domain routing within a single Angolan network, and (ii) suboptimal routing/traffic engineering by its BGP neighbors. After notifying the operating AS of our results, most of these suboptimalities were resolved. Our method is designed to generalize to the study of other cable deployments or outages, and we share our code to promote reproducibility and extension of our work.

## 1. Introduction
The physical infrastructure of the Internet includes a mesh of submarine cables, generally shared by network operators who purchase capacity from the cable owners [8,48]. Academic research has not extensively explored the performance changes induced by the deployment of new submarine cables, although a few studies have investigated the end-to-end performance impacts of disruptions to existing cable operations [21,23]. Recently, Bischof et al. [8,9] proposed a new research agenda focused on characterizing the fundamental role these cables play in inter-continental connections. We agree with this aspiration and undertook a study that represents a step toward it.

In 2018, Angola Cables, Inc. (AC) deployed the first trans-Atlantic undersea cable (SACS) crossing the South Hemisphere, linking Fortaleza, Brazil, to Sangano, Angola [24,26,56,57]. We developed a methodology to analyze the impact of a specific cable launch on observed end-to-end round-trip latencies and paths across different regions of the world, and applied it to the case of the new SACS cable. The initial challenge was to identify the cable of interest using IP-layer traceroute measurements, as transit providers often do not publicly disclose cable details. The unique landing points of SACS provided an opportunity to identify it in large-scale traceroute datasets: besides being the first South-Atlantic cable system linking Africa to the Americas, only two cable systems (WACS and SACS) anchor at Sangano post-SACS, versus 18 to Fortaleza, the second landing point of the new cable.

Our high-level approach was to compare traceroute paths that crossed SACS from mid-September 2018 to late January 2019 with the paths those same endpoints traversed before the cable activation. This comparison revealed significantly reduced latency from ASes operating in South America toward Africa. However, we found that 21.3% of observed paths, with sources in Europe and Asia, as well as intra-African paths, experienced worse performance in terms of higher RTTs after SACS. Even more surprising, the median RTT of intra-African paths towards Angola doubled. We analyzed the root causes of these unintended consequences, which included suboptimal circuitous paths that unnecessarily crossed continents.

This work makes three contributions. First, we introduce a methodology to investigate submarine cable-related events. Second, we applied it to the case of the first operational South-Atlantic submarine cable to Africa. Finally, we suggest ways operators can avoid or mitigate suboptimal routing post-cable activation during future deployments. As third-party observers, we do not have access to traffic data, so the observed suboptimalities may occur on paths traversed by little to no traffic. Nevertheless, these circuitous paths persisted for the entire 3.5 months post-SACS until we notified the provider.

We believe this work is the first attempt to evaluate the macroscopic impact of a new submarine cable on end-to-end paths and performance, revealing how the lack of diagnostic tools and exercises can amplify existing routing inefficiencies involving the developing world, which derive from investment decisions, peering strategies [7,10,29,32,34], or traffic engineering [55].

## 2. Methodology
Our method requires first identifying the link of interest and its terminating IP addresses. We use these IP addresses to extract relevant paths from historical traceroute archives and then use this subset of paths to study the effects of the event on AS topology and performance (Section 2.1). We assume there is, and the method requires identifying, a cable of interest [1,2], and its IP addresses, which we call link IPs. The method also requires metadata about the event, including date, duration, and the AS(es) operating the cable. We believe our method generalizes to the study of other cable deployments and cable failures/outages. If the cable supports the use of layer-2 tunnels or wavelengths by different operators, identifying these link IPs is more complex and requires further study.

### Step 1: Collect Candidate IP Paths That Could Have Crossed the Cable
We conduct traceroute measurements from vantage points (VPs) near the two cable endpoints toward each other; these are candidate IP paths that possibly traversed or rerouted through the link/cable after the event. Researchers can use public sea cable databases/maps [1,2,41,58] to inform the scheduling and execution of targeted traceroutes on existing measurement platforms [11,18,51].

### Step 2: Identify Router IP Interfaces on Both Sides of the Cable
This task requires disambiguating the IP addresses terminating the cable of interest from those terminating other cable systems. We combine two approaches: an RTT-threshold based on speed-of-light constraints and IP geolocation. We analyze only the traceroute hops inferred (using bdrmapIT [42]) to be owned by the AS of interest. For these hops, we look for an RTT difference gap between consecutive hops in traceroute, using a threshold of \( t = \frac{2 \times l}{(2/3) \times c} \), where \( l \) is the physical length of the cable, and \( c \) is the speed of light traveling in fiber optics. At this point, we can narrow down the set of consecutive hops to the ones that match the landing sites of the cable of interest. We use IP geolocation databases (e.g., NetAcuity [25], MaxMind [43]) to map IP addresses to countries. Given the low accuracy of such geolocation databases for router infrastructure [33,35,49], we also apply hostname-based geolocation. We validate the inferred location of IP addresses adjacent to these IPs by measuring the RTTs from VPs located in the inferred country. We consider the geolocation correct if the minimum RTT is less than 10 ms. We then resolve the router aliases of the selected IPs using CAIDA’s MIDAR [16], Vela aliasq [19], and ITDK [20]. We obtain two lists of IP addresses of the router interfaces at the two ends of the cable, denoted by RA and RB. We call these two lists link IPs.

### Step 3: Search for Comparable Historical Traceroutes
We use \( P \) to denote all source IP/destination prefix pairs, where \( s \) is the VP’s source IP address and \( d \) is the longest-match prefix for the destination in the BGP routing table. We use longest-match because existing measurement platforms (Ark and Atlas) randomly probe within prefixes [17,52], and thus probing an exact destination IP address twice within a short period of time is unlikely. Furthermore, in many cases, only some IPs within a prefix respond to measurement probes [45]. We first look for a set of traceroutes, \( T \), for all \( \langle s, d \rangle \in P \), that contain either RA → RB or RB → RA after the occurrence of the event. With this list of prefix pairs, we search for pre-event traceroutes from the same pairs, \( T' \), for comparison.

### Step 4: Annotate Collected Paths
For every hop in the traceroute sets \( T \) and \( T' \), we resolve the hostname and AS number, perform country-level IP geolocation, and compute the difference in RTT from that of the previous hop. To accurately map IP addresses appearing in traceroutes to AS numbers, we run bdrmapIT [42] on the traceroutes collected on each day from both Ark and Atlas, using as inputs daily RIB from Routeviews and RIPE RIS [44,53], CAIDA’s AS relationship file [13,40] from the first five days of the month, a daily dump of IXP prefixes from peeringDB [39,46], and WHOIS delegation files collected in the middle of the period of the study. To resolve IP addresses to hostnames, we use zdns [28] and qr [37]. Next, we collect a combined list of Internet Exchange Points (IXPs) prefixes from CAIDA’s IXP Dataset [14], compare them to the prefix corresponding to every hop in the traceroute sets \( T \) and \( T' \), and single out traces for which an IXP prefix matches the prefix of the IP hop. By doing so, we identify the IXPs through which the cable operator received/routed the packets pre and post-event.

We then group the traceroutes of each set by \( \langle s, d \rangle \) pair and, based on their corresponding timestamps of execution, we cluster them per week. For every IP hop of each traceroute, we include its inferred annotations. These annotated traceroutes enable us to compare the AS paths and latency before and after the event using metrics described in Section 2.1.

### 2.1 Metrics for Quantifying the Impact of the Event
We compare the performance and AS paths between \( T \) and \( T' \) using three metrics:

1. **RTTs to the Common IP Hops Closest to the Traceroute Destinations**: This metric compares RTT values to reveal the change in latency across the network paths before and after cable deployment. Figure 1 illustrates the identification of traceroutes in sets \( T \) and \( T' \) between the same \( \langle s, d \rangle \) pair that share at least one IP address. Among all traceroutes run toward a destination prefix, we locate the common IP hop, \( h_c \), closest to the destination IP and extract the RTTs from \( s \) to \( h_c \) in \( T \) and \( T' \), denoted as \( d_c \) and \( d'_c \), respectively. We only consider the subset \( \hat{P} \) of \( P \), such that \( \hat{P} \subseteq P \) and \( h_c \neq \emptyset \) (i.e., that contains non-empty \( h_c \)) in our analysis. For each \( \langle s, d \rangle \) pair, we then compute the medians of all \( d_c \) and \( d'_c \) per week and choose their respective minimum values over the periods pre and post-event to mitigate noise.

   ![Pre&post-event path comparison. Orange circles indicate common IP hops in \( T \) and \( T' \). \( s \) is the source IP address, and \( h_c \) is the common IP hop closest to the destination IP. The red circles \( r_A \in R_A \) and \( r_B \in R_B \) are the router interfaces of the two ends of the submarine cable (Step 2). (Color figure online)](path_comparison.png)

2. **AS-Centrality of Transit ASes in Paths**: We use bdrmapIT [42] to infer AS paths from the IP paths and compute from \( T \) and \( T' \) the AS-centrality of each observed transit AS. This metric is defined as the percentage of \( \langle s, d \rangle \) pairs for which the AS path with the minimum observed RTT \( d_c \) (or \( d'_c \) for pre-event) contains the considered AS, and where that AS is neither the source nor the destination [29]. A higher AS-centrality of an AS post-event indicates increased transit importance, i.e., more ASes use that AS for transit.

3. **Length of AS Paths Crossing Cable Operator’s Network Pre and Post-event**: We analyze the length of AS paths between source AS/destination prefix pairs observed to cross the cable operator’s network in RouteViews and RIPE RIS [44,53] data pre and post-event. Similar to previous work [13,40], we consider paths collected on the first five days of the month before and after the event.

## 3. Data Collection: Case Study of SACS Cable Deployment
We collected candidate IP paths that crossed SACS (Section 3.1) on March 25–26, 2019. We identified the link IPs from those candidate IP paths and ITDK [20] (Section 3.2). We used those link IPs to search in Ark and RIPE Atlas historical data for matching traceroutes post-SACS (January–mid-September 2018) and the traceroutes with the same \( \langle s, d \rangle \) pairs pre-SACS (mid-September 2018–January 2019) (Section 3.3). Next, we annotated these traceroutes with supplementary information for its analysis (Section 3.4).

### 3.1 Collecting Candidate IP Paths Crossing SACS
At the beginning of this study (March 2019), there were eight active Ark VPs in South America, but none in Angola. AC hosted a looking-glass (LG) server [5] connected to the Sangano landing point [26,27,36]: An LG server allows BGP and traceroute queries by third-parties. Using both CAIDA’s Vela interface [18] to execute measurements on the Ark infrastructure, and the AC LG server [5], we collected traceroutes from VPs located in South America toward the AC LG server (and in the reverse direction) to obtain IP paths that possibly crossed SACS, i.e., candidate IP paths.

### 3.2 Identifying Link IPs
Based on the length of the cable, we estimate the round-trip time to cross SACS to be about \( t_{\text{SACS}} = \frac{6,165 \text{ km} \times 2}{(2/3) \times c} = 62 \text{ ms} \). By inspecting the candidate IP paths, we found a pair of AC IP addresses (170.238.232.146 and 170.238.232.145) in the same /30, which had RTT differences with preceding and subsequent IPs that matched our latency heuristics. We could not resolve their hostnames, but the hostnames of their adjacent hops contained geolocation hints `ao.sgn` and `br.ftz`. Because of the small differential RTTs between the two IPs and their adjacent hops, we inferred that 170.238.232.146 and 170.238.232.145 were in Sangano, Angola, and Fortaleza, Brazil, respectively. We leveraged VPs in Angola and Brazil to conduct latency measurements toward these two IPs to confirm our inference. Using the two IP addresses, we obtained a set of aliases of SACS routers in Angola (RA) and Brazil (RB) from ITDK [20] of January 2019. We found that RA and RB contained, respectively, 29 and 18 MIDAR-observed IP addresses aliases of the same router.

### 3.3 Fetching Matching Traceroutes Paths
We analyzed CAIDA’s Ark [11] and RIPE Atlas data [51]. We considered the ongoing IPv4 Routed /24 Topology measurements [17] from 178 Ark VPs that execute ICMP Paris-traceroute [6] toward a random destination in every routed /24 prefix. Using CAIDA’s Henya [15] interface to search Ark traceroute data, we split historical Ark traceroutes into two sets. `ARK-AFTER` includes traceroutes going through SACS from mid-September 2018 to late January 2019 (after SACS) and which had an IP of RA followed by an IP of RB or vice-versa; and `ARK-BEFORE` includes traceroutes from early January 2018 to mid-September 2018 between the same \( \langle s, d \rangle \) pairs as those measured in `ARK-AFTER`. Of the 8,035 \( \langle s, d \rangle \) pairs common to both `ARK-BEFORE` and `ARK-AFTER`, we enumerate 6,778 (84.3%) \( \langle s, d \rangle \) pairs that contained a common IP hop.