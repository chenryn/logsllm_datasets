[]{#ch-manage.html#idm140321007272640
.indexterm}[]{#ch-manage.html#idm140321007270720
.indexterm}[]{#ch-manage.html#idm140320970493152 .indexterm}
::: para
每​​​​​​​个​​​​​​​用​​​​​​​户​​​​​​​ ID（UID）或​​​​​​​者​​​​​​​ 组​​​​​​​群​​​​​​​
ID（GID）都​​​​​​​有​​​​​​​两​​​​​​​个​​​​​​​配​​​​​​​额​​​​​​​设​​​​​​​定​​​​​​​可​​​​​​​用​​​​​​​：*硬​​​​​​​限​​​​​​​制​​​​​​​*和​​​​​​​*警​​​​​​​告​​​​​​​限​​​​​​​制​​​​​​​*。​​​​​​​
:::
::: para
硬​​​​​​​限​​​​​​​制​​​​​​​是​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​的​​​​​​​空​​​​​​​间​​​​​​​量​​​​​​​。​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​将​​​​​​​不​​​​​​​会​​​​​​​允​​​​​​​许​​​​​​​用​​​​​​​户​​​​​​​或​​​​​​​者​​​​​​​组​​​​​​​群​​​​​​​使​​​​​​​用​​​​​​​超​​​​​​​过​​​​​​​该​​​​​​​磁​​​​​​​盘​​​​​​​空​​​​​​​间​​​​​​​量​​​​​​​的​​​​​​​空​​​​​​​间​​​​​​​。​​​​​​​硬​​​​​​​限​​​​​​​制​​​​​​​值​​​​​​​为​​​​​​​
[*0*]{.emphasis} 表​​​​​​​示​​​​​​​没​​​​​​​有​​​​​​​强​​​​​​​制​​​​​​​限​​​​​​​制​​​​​​​。​​​​​​​
:::
::: para
警​​​​​​​告​​​​​​​限​​​​​​​制​​​​​​​通​​​​​​​常​​​​​​​是​​​​​​​一​​​​​​​个​​​​​​​小​​​​​​​于​​​​​​​硬​​​​​​​限​​​​​​​制​​​​​​​的​​​​​​​值​​​​​​​。​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​会​​​​​​​在​​​​​​​达​​​​​​​到​​​​​​​警​​​​​​​告​​​​​​​限​​​​​​​制​​​​​​​时​​​​​​​通​​​​​​​知​​​​​​​用​​​​​​​户​​​​​​​或​​​​​​​者​​​​​​​组​​​​​​​群​​​​​​​，提​​​​​​​醒​​​​​​​他​​​​​​​们​​​​​​​使​​​​​​​用​​​​​​​的​​​​​​​空​​​​​​​间​​​​​​​量​​​​​​​。​​​​​​​警​​​​​​​告​​​​​​​限​​​​​​​制​​​​​​​为​​​​​​​
[*0*]{.emphasis} 表​​​​​​​明​​​​​​​没​​​​​​​有​​​​​​​强​​​​​​​制​​​​​​​限​​​​​​​制​​​​​​​。​​​​​​​
:::
::: para
请​​​​​​​使​​​​​​​用​​​​​​​ `gfs2_quota`{.command} 命​​​​​​​令​​​​​​​设​​​​​​​定​​​​​​​限​​​​​​​制​​​​​​​。​​​​​​​该​​​​​​​命​​​​​​​令​​​​​​​只​​​​​​​需​​​​​​​要​​​​​​​在​​​​​​​挂​​​​​​​载​​​​​​​ GFS2
的​​​​​​​单​​​​​​​一​​​​​​​节​​​​​​​点​​​​​​​中​​​​​​​运​​​​​​​行​​​​​​​。​​​​​​​
:::
::: para
By default, quota enforcement is not set on GFS2 file systems. To enable
quota accounting, use the `quota=`{.option} of the `mount`{.command}
command when mounting the GFS2 file system, as described in [第 3.4.4 节
"启​​​​​​​用​​​​​​​/禁​​​​​​​用​​​​​​​配​​​​​​​额​​​​​​​强​​​​​​​制​​​​​​​"](#ch-manage.html#s2-manage-enablequota){.xref}.
:::
::: simplesect
::: titlepage
### [⁠]{#ch-manage.html#ss-manage-setquota-use}用​​​​​​​法​​​​​​​ {.title}
:::
::: para
[**Setting Quotas, Hard Limit**]{.application}
:::
``` screen
gfs2_quota limit -u User -l Size -f MountPoint
```
``` screen
gfs2_quota limit -g Group -l Size -f MountPoint
```
::: para
[**Setting Quotas, Warn Limit**]{.application}
:::
``` screen
gfs2_quota warn -u User -l Size -f MountPoint
```
``` screen
gfs2_quota warn -g Group -l Size -f MountPoint
```
::: variablelist
[*`User`*]{.term}
:   ::: para
    要​​​​​​​限​​​​​​​制​​​​​​​或​​​​​​​者​​​​​​​警​​​​​​​告​​​​​​​的​​​​​​​用​​​​​​​户​​​​​​​ ID。​​​​​​​可​​​​​​​以​​​​​​​是​​​​​​​密​​​​​​​码​​​​​​​文​​​​​​​件​​​​​​​中​​​​​​​的​​​​​​​用​​​​​​​户​​​​​​​名​​​​​​​，也​​​​​​​可​​​​​​​以​​​​​​​是​​​​​​​ UID
    号​​​​​​​码​​​​​​​。​​​​​​​
    :::
[*`Group`*]{.term}
:   ::: para
    要​​​​​​​限​​​​​​​制​​​​​​​或​​​​​​​者​​​​​​​警​​​​​​​告​​​​​​​的​​​​​​​组​​​​​​​群​​​​​​​ ID。​​​​​​​可​​​​​​​以​​​​​​​是​​​​​​​密​​​​​​​码​​​​​​​文​​​​​​​件​​​​​​​中​​​​​​​的​​​​​​​组​​​​​​​群​​​​​​​名​​​​​​​，也​​​​​​​可​​​​​​​以​​​​​​​是​​​​​​​ GID
    号​​​​​​​码​​​​​​​。​​​​​​​
    :::
[*`Size`*]{.term}
:   ::: para
    指​​​​​​​定​​​​​​​限​​​​​​​制​​​​​​​或​​​​​​​者​​​​​​​警​​​​​​​告​​​​​​​配​​​​​​​额​​​​​​​的​​​​​​​新​​​​​​​数​​​​​​​值​​​​​​​。​​​​​​​默​​​​​​​认​​​​​​​情​​​​​​​况​​​​​​​该​​​​​​​数​​​​​​​值​​​​​​​的​​​​​​​单​​​​​​​位​​​​​​​是​​​​​​​ MB。​​​​​​​附​​​​​​​加​​​​​​​的​​​​​​​
    `-k`{.option}、​​​​​​​`-s`{.option} 和​​​​​​​ `-b`{.option} 标​​​​​​​签​​​​​​​可​​​​​​​将​​​​​​​单​​​​​​​位​​​​​​​分​​​​​​​别​​​​​​​改​​​​​​​为​​​​​​​
    kb、​​​​​​​扇​​​​​​​区​​​​​​​和​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​块​​​​​​​。​​​​​​​
    :::
[*`MountPoint`*]{.term}
:   ::: para
    指​​​​​​​定​​​​​​​要​​​​​​​执​​​​​​​行​​​​​​​动​​​​​​​作​​​​​​​的​​​​​​​ GFS2 文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​。​​​​​​​
    :::
:::
:::
::: simplesect
::: titlepage
### [⁠]{#ch-manage.html#ss-manage-setquota-ex}示​​​​​​​例​​​​​​​ {.title}
:::
::: para
这​​​​​​​个​​​​​​​示​​​​​​​例​​​​​​​为​​​​​​​用​​​​​​​户​​​​​​​ *Bert* 在​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​ `/mygfs2`{.filename} 中​​​​​​​设​​​​​​​定​​​​​​​的​​​​​​​硬​​​​​​​限​​​​​​​制​​​​​​​为​​​​​​​
1024MB（1GB）。​​​​​​​
:::
``` screen
gfs2_quota limit -u Bert -l 1024 -f /mygfs2
```
::: para
这​​​​​​​个​​​​​​​示​​​​​​​例​​​​​​​为​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​ `/mygfs2`{.filename} 的​​​​​​​组​​​​​​​群​​​​​​​ ID 21 设​​​​​​​定​​​​​​​的​​​​​​​警​​​​​​​告​​​​​​​限​​​​​​​制​​​​​​​为​​​​​​​
50kb。​​​​​​​
:::
``` screen
gfs2_quota warn -g 21 -l 50 -k -f /mygfs2
```
:::
:::
::: section
::: titlepage
## [⁠]{#ch-manage.html#s2-manage-displayquota}3.4.2. 显​​​​​​​示​​​​​​​配​​​​​​​额​​​​​​​限​​​​​​​制​​​​​​​和​​​​​​​用​​​​​​​法​​​​​​​ {.title}
:::
[]{#ch-manage.html#idm140321032623088
.indexterm}[]{#ch-manage.html#idm140321026753744
.indexterm}[]{#ch-manage.html#idm140321026752304 .indexterm}
::: para
使​​​​​​​用​​​​​​​ `gfs2_quota get`{.command}
命​​​​​​​令​​​​​​​可​​​​​​​为​​​​​​​特​​​​​​​定​​​​​​​用​​​​​​​户​​​​​​​或​​​​​​​者​​​​​​​组​​​​​​​群​​​​​​​显​​​​​​​示​​​​​​​配​​​​​​​额​​​​​​​限​​​​​​​制​​​​​​​和​​​​​​​当​​​​​​​前​​​​​​​使​​​​​​​用​​​​​​​。​​​​​​​还​​​​​​​可​​​​​​​使​​​​​​​用​​​​​​​
`gfs2_quota list`{.command}
命​​​​​​​令​​​​​​​显​​​​​​​示​​​​​​​配​​​​​​​额​​​​​​​文​​​​​​​件​​​​​​​的​​​​​​​完​​​​​​​整​​​​​​​内​​​​​​​容​​​​​​​，此​​​​​​​时​​​​​​​会​​​​​​​列​​​​​​​出​​​​​​​包​​​​​​​括​​​​​​​所​​​​​​​有​​​​​​​非​​​​​​​零​​​​​​​硬​​​​​​​限​​​​​​​制​​​​​​​、​​​​​​​警​​​​​​​告​​​​​​​限​​​​​​​制​​​​​​​和​​​​​​​列​​​​​​​出​​​​​​​数​​​​​​​值​​​​​​​的​​​​​​​
ID。​​​​​​​
:::
::: simplesect
::: titlepage
### [⁠]{#ch-manage.html#ss-manage-displayquota-use}用​​​​​​​法​​​​​​​ {.title}
:::
::: para
[**Displaying Quota Limits for a User**]{.application}
:::
``` screen
gfs2_quota get -u User -f MountPoint
```
::: para
[**Displaying Quota Limits for a Group**]{.application}
:::
``` screen
gfs2_quota get -g Group -f MountPoint
```
::: para
[**Displaying Entire Quota File**]{.application}
:::
``` screen
gfs2_quota list -f MountPoint
```
::: variablelist
[*`User`*]{.term}
:   ::: para
    显​​​​​​​示​​​​​​​特​​​​​​​定​​​​​​​用​​​​​​​户​​​​​​​信​​​​​​​息​​​​​​​的​​​​​​​用​​​​​​​户​​​​​​​ ID，它​​​​​​​可​​​​​​​以​​​​​​​是​​​​​​​密​​​​​​​码​​​​​​​文​​​​​​​件​​​​​​​中​​​​​​​的​​​​​​​用​​​​​​​户​​​​​​​名​​​​​​​，也​​​​​​​可​​​​​​​以​​​​​​​是​​​​​​​ UID
    号​​​​​​​码​​​​​​​。​​​​​​​
    :::
[*`Group`*]{.term}
:   ::: para
    显​​​​​​​示​​​​​​​特​​​​​​​定​​​​​​​组​​​​​​​群​​​​​​​信​​​​​​​息​​​​​​​的​​​​​​​组​​​​​​​群​​​​​​​ ID，它​​​​​​​可​​​​​​​以​​​​​​​是​​​​​​​密​​​​​​​码​​​​​​​文​​​​​​​件​​​​​​​中​​​​​​​的​​​​​​​组​​​​​​​群​​​​​​​名​​​​​​​，也​​​​​​​可​​​​​​​以​​​​​​​是​​​​​​​ GID
    号​​​​​​​码​​​​​​​。​​​​​​​
    :::
[*`MountPoint`*]{.term}
:   ::: para
    指​​​​​​​定​​​​​​​要​​​​​​​执​​​​​​​行​​​​​​​动​​​​​​​作​​​​​​​的​​​​​​​ GFS2 文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​。​​​​​​​
    :::
:::
:::
::: simplesect
::: titlepage
### [⁠]{#ch-manage.html#ss-manage-displayquota-output}命​​​​​​​令​​​​​​​输​​​​​​​出​​​​​​​ {.title}
:::
::: para
`gfs2_quota`{.command} 命​​​​​​​令​​​​​​​中​​​​​​​的​​​​​​​ GFS2 配​​​​​​​额​​​​​​​信​​​​​​​息​​​​​​​显​​​​​​​示​​​​​​​如​​​​​​​下​​​​​​​：
:::
``` screen
user User: limit:LimitSize warn:WarnSize value:Value
group Group: limit:LimitSize warn:WarnSize value:Value