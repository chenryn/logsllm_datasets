# APP_ID = '你的 App ID'    
# API_KEY = '你的 Api Key'    
# SECRET_KEY = '你的 Secret Key'    client = AipOcr(APP_ID, API_KEY, SECRET_KEY)    """ 读取图片 """    def get_file_content(filePath):        with open(filePath, 'rb') as fp:            return fp.read()    image = get_file_content('example.png')    """ 调用通用文字识别, 图片参数为本地图片 """    result = client.basicGeneral(image)    print(result)在这段代码里，实现了三个功能，分别是用户验证、读取图片和识别图片。为了让你更直观地看到效果，我来对一张电子发票的图片example.png进行识别。识别结果如下：![](Images/a8422ff997eed837b9c5b23bf3ce031e.png)savepage-src="https://static001.geekbang.org/resource/image/24/fa/2400754a55374cba0cd2df2979a9f6fa.png"}其实识别的准确率是非常高的，基本上没有错误。那接下来我具体给你介绍一下核心代码。在代码的第一行，我使用了一个 AipOcr 库。AipOcr 是百度云提供给用户的OCR Python SDK 客户端，能够让你用 Python语言和百度云进行交互。一般情况下，我们进行用户认证、图片上传至服务器功能，都需要自己编写很多代码，但是使用AipOcr库之后，这些基础功能都被封装好了。你只需要填写三个变量，就能正式进入文字识别的环节了：1.  第一个变量是    APP_ID，它用来识别应用；        2.  第二个变量是    API_KEY，用于识别用户；        3.  第三个变量是 SECRET_KEY    ，用来加密密钥。        当把这三个变量传入 AipOcr 函数，使用 AipOcr函数通过互联网交互后，就可以用来识别用户是不是被授权使用相应的产品，之后就可以把图片加密发送到AI 产品的服务器上了。这些就是所有公有云识别用户的通用做法，我把这个做法整理为三个步骤。第一步， 安装 SDK。代码是：    pip install baidu-aip第二步，注册用户。以百度云为例，你需要登录 https://ai.baidu.com/网址，以自己的手机为用户名注册一个新的用户。第三步，申请应用。成功登录网站之后，你会进入服务控制台界面，然后选择文字识别功能，再新创建一个文字识别类型的应用。创建应用之后，就可以在服务控制台中的应用列表中查看百度云提供的APP_ID、API_KEY、SECRET_KEY三个变量。 在这三个变量中，APP_ID在百度云的控制台中创建用户之后会自动创建。![](Images/8a506781bc27c01d4677237bf0ddcfcc.png)savepage-src="https://static001.geekbang.org/resource/image/f3/83/f34cd2e1ea9d2b97b6c130b181fb5783.png"}变量 API_KEY 与 SECRET_KEY是在创建完毕应用后分配给用户的。在你成功通过服务控制台得到这三个变量之后，就可以把这三个变量回添到代码中的第3-5行，然后去掉"#"开头的注释，这样就可以通过代码完成用户签名和验证功能。你在掌握它们之后，也可以使用其他的公有云完成类似的用户签名和验证功能。完成以上三个步骤之后，我们需要把指定路径的图片上传到百度云，通过第 12行的 get_file_content函数，把图片的路径和名称作为参数传入这个函数之后，再交给client.basicGeneral(image)函数处理，这样就能够完成图片的上传功能了，图片的识别和返回结果都会由AipOcr 包自动处理以后放入 result变量中。 总结来说，我在代码中实现了单个图片的在线识别文字功能，当你掌握了对单个图片实现文字识别的方法之后,你就可以通过我们在第二讲学过的的 for循环功能，遍历多个文件夹里的多个图片，你可以实现批量图片的识别功能了。怎么进行离线文字识别？我们再来看另一种文字识别形式------离线文字识别。被识别的图片同样是example.png这张发票的扫描件，代码如下：    import pytesseract    from PIL import Image          
# 打开图片    image = Image.open('example.png')    