technical issues Hypervisor
Analyze VM resources to detect
HOW IT WORKS
IaaS Layer correlated anomalies
Problem VM VM VM VM
▪ No effective solution exist to Host Method 1 (Change Points) la m VM VM VM VM
192.168.5.15
detect hypervisors failures 1.Treat time-series as univariate ro VM VM VM VM
2.Detect change points N VM VM VM VM
3.Vote to decide global changes
TECHNOLOGIES
VM VM VM VM PRODUCTION
la
Indirect approach to detect hypervisor Method 2 (Isolation Forest) m VM VM VM VM Current Status
1.Treat time-series as features ro VM VM VM VM
failures by monitoring VMs 2.Detect significant changes N VM VM VM VM ▪ 3 algorithms were proposed and compared
▪ Algorithms were evaluated on existing datasets
Method 3 (ECP E.Divisive) y VM VM VM VM
la
1.Treat time-series as multivariate m VM VM VM VCMorrelated
Fig. Several time- 2.Detect multiple change points o n VM VM VM Va Mnomalies
series generated A
by several VMs VM VM VM VM
running in the
same hypervisor
ASSUMPTIONS & LIMITATIONS
▪ Datasets used for evaluation were collected from simulation
environment, synthetic data generator and public sources
▪ Insight. When an hypervisor is malfunctioning,
IAD: Indirect Anomalous VMMs Detection in the Cloud-based Environments,
resource saturation of VMs suddenly changes, TRL 5. Basic technological components are integrated with realistic Jindal, A.; Shakhat, I.; Cardoso, J.; Gerndt, M. and Podolskiy, V. International
within a window w Workshop on AIOPS 2021, Springer, 2021.
supporting elements so it can be evaluated in testbed environment
ULTRA-SCALE AIOPS LAB 7
Root Cause Analysis
Application Logs
PAIN POINT DESCRIPTION IMPACT
Once an anomaly is detected, root cause MAIN ACHIEVEMENT Lower troubleshooting time in 80%
analysis (RCA) is fundamental to resolve
Performs RCA based on application logs
problems
alarms
▪ Anomaly detection in large volume of semi-structured logs 1
2
Several forms ▪ Correlation between metric anomalies and alarms and logs
of RCA exist ▪ Log summarization that 100x reduces amount of data a human
▪ App logs, has to process
metrics, traces,
events, etc. HOW IT WORKS
10000 error messages
Problem 1.Template mining. Fast log
▪ Mainly log severity level has been used for AD & template reconstruction using
RCA Drain algorithm 100 templates
▪ High number of false positives 2.Natural Language
Processing. Language-aware
TECHNOLOGIES 50 events
log parsing and keyword PRODUCTION
extraction using NLP
Use a novel, fast algorithms for RCA using approaches (www.spacy.io) Possible improvements
5 events correlated
log analytics ▪ Topic extraction to allow to select events using
3.Dynamic Grouping. Time-
fuzzy queries, e.g. “network issue” (similar to
series classification using
Twitter hashtag prediction)
Poisson model Grouping using
▪ Online log processing and model construction to
Pearson correlation coefficient
enable RCA immediately once the issue occurs
Distance-aware correlation
▪ Interactive user interface to simplify browsing
through the report
ASSUMPTIONS & LIMITATIONS
▪ On-demand processing requires a certain range of logs to learn
normality
▪ Results depend on service logs quality
▪ Insight. Recent research shows it is possible to
Self-Attentive Classification-Based Anomaly Detection in Unstructured Logs.
model the underlying structure of application logs TRL 5. Basic technological components are integrated with realistic Nedelkoski, S.; Bogatinovski, J.; Acker, A.; Cardoso, J. and Kao, O. In 20th IEEE
using machine learning [1, 2] International Conference on Data Mining (ICDM), 17-20 November, 2020, Italy, 2020.
supporting elements so it can be evaluated in testbed environment
ULTRA-SCALE AIOPS LAB 8
Anomaly Detection
Multi-modal Anomaly Detection
PAIN POINT DESCRIPTION IMPACT
Move from single source, single
MAIN ACHIEVEMENT Lower false positive alarm rate
dimension to multi-source & dimensions
New ensemble AI Algorithms to Detect Anomalies in Multi-
source, Multi-dimension data
Fig. Metrics,
▪ Robust anomaly detection ensemble
logs, and
traces are ▪ Extend approaches such as SkyWalking
monitored by
separated
systems HOW IT WORKS anomaly:No False positive -Ignored
va-api
1 2) R Ave cq eu se ss t as nag dce Dn se r taa ant e log rof Etne Un dAs (u rop ame cr iv )li ys ed stneve tT etr u s-e p noo gus li et riv e - A ol mar am
P ▪ro H sib i ggl ne h am p lse rr ece qn ut ira eg se o ef fa Als De &po Rs Citi Ave oa bla ur sm s. Noisy e m cee tn r it c s s , t r e a, d gniddebm ve hcae e n tt e c t ea o n ylam onA e F Ci og r. eM lau l i s c ae a n aly lies sis
lb
n w r t ) m r i n as a way to improve precision
TECt Hec Nhn Oiq Lue Os T Rrr ooa bvn uis sf eo r Aam na out mi no an lyt ro gniddebm Eyek Un dAs eu (top ome gr )iv oli ys ed syek ano Km 4aly: e s n
n ta gol e
GIES 3) p d t n i fo m view hcae rof le c n ylam onA n o itc e te PRODUCTION
A a ▪pp epp arl otoy ea nr ,ce h ic oidhee neesn ot ,t oS xare A tnq rsI asO uu cale ttp ln s ic e tL ede msya pr den eei pn ehg bD e an oe cs ot e ke c wm eCt ai b ao rl an de u a( nms eAi oun mnlg t oi a-a rv lkn yi se sw c) erutaeF innoitcartxe therotce Un dA (s meu n t eop e tme c rr t ica iv o sli y ns ed cirtem ylam onamn :o ar l D y la m o n
S t ca ge o if t ta r et e s nn gam a n a p pcli c a dti eo nn cs i: 4) R nt u s e a l y ai s u ods ee v ) onA A
ts
i rm tv o t r l t i o n t h e u r l tw n ylam u
1 b
g o n - r n e s n r Huma n loop o R
propagation to identify Semi-supervised
Anomaly
the root of the problem Detection
anomaly: 1
ASSUMPTIONS & LIMITATIONS
▪ Requires a special (not trivial) software development of recurrent
neural networks, like LSTM
▪ Requires access to Topology Services
▪ e.g., unsupervised anomaly detection in log files Multi-source Distributed System Data for AI-Powered Analytics. Nedelkoski, S.;
(DeepLog) TRL 3: Active research and development is initiated. Analytical studies and B Oo rig ea nt ti en do v as nk di, CJ. lo; uM da Cnd oa mp pa uti t, i nA g. K (E.; S B Oe Cc Cke ),r , 2 S 0. 2; 0C . ardoso, J. and Kao, O. In Service-
laboratory studies to validate analytical feasibility of the approach
ULTRA-SCALE AIOPS LAB 9
Anomaly Detection & Root Cause Analysis
Distributed Traces
PAIN POINT DESCRIPTION IMPACT
While popular, only visualization tools
MAIN ACHIEVEMENT Improve trace-based RCA in 90%
exist for trace management
Trace anomaly detection and root-cause analysis using
trace structure
▪ Previous tentative using Deep Learning (LSTM, CNN), Machine
Learning (Optiks), Sequence Analysis (LCS, Multiple sequence
alignment, Needleman-Wunsch) algorithms did not enable a
precise root cause analysis
Structural
anomalies (in
red)
Fig. Jaeger traces (blue, beige)
HOW IT WORKS
Current limitations 1) Learning. For each service
Fig. Trace management & trace analysis
endpoint, learn the traces’
▪ Tracing tools only provides trace visualization Red circles show structural anomalies
structure it generates
▪ Analyzing traces manually is error-proneand not scalable
2) Modeling. Aggregate all the
TECHNOLOGIES traces into a behavior model Learn traces structure PRODUCTION
3) Anomaly detection. When a
Apply recent ML and statistical new trace is generate, compare Create Status
Model
approaches to process sequential data its structure with the behavior ▪ Algorithm design and implementation completed
model. If it was not seen
before, an anomaly exists
Create VM
▪ Explore the use Trace Events 4) Root-cause analysis. When an Anomaly
Detection
of Deep anomaly is detected, determine
Learning: Long in which span it occurred and
Short Term identify host, service, function Ro Ao nt a- lc ya su isse H Seo rs vt: i c1 e9 : 2 n. o1 v6 a8 -. a5 p.1 i3
Memory (LSTM) Function: schedule VM
LSTM Network
▪ Explore the use
of attention ASSUMPTIONS & LIMITATIONS
networks
▪ Microservicesare instrumented with tracing capabilities
▪ Explore the use Trace Structure
of association Self-Supervised Anomaly Detection from Distributed Traces. Bogatinovski, J.;
rules OK | ANOMALY TRL 4. Small scale prototype. Basic technological components are N Ce od ne felk reo ns ck ei, oS n.; UC ta ilr itd yo as no d, J C. la on ud d K Ca oo m, pO u. t iI nn g I E (UE CE C/A ),C 2M 0 21 03th International
integrated to establish that they will work together.
ULTRA-SCALE AIOPS LAB 10
Anomaly Detection & Root Cause Analysis
Network Verification
PAIN POINT DESCRIPTION IMPACT
Users deploy Virtual Private Networks (VPC) MAIN ACHIEVEMENT NetworkBrain
to organize their Virtual Machines (VM) Planning & Discovery & Analysis & Optimization
VPC Reachability Verification Verification Inspection Diagnosis & Repair
▪ Model networks with all of the elements, e.g., VPC, ECS, Subnets,
Fig. Complex ACLs, Security Groups, accurately using “extended” BDDs
VPC
▪ Compute all classes of packets that are expected to flow between
configuration
errors are a source-destination pair
difficult to
▪ Highly efficient detection and localization mechanisms
localize
HOW IT WORKS
Problem
▪ Users are not able to verify the reachability of their 1 VPC configuration 2 Network object model 3 Abstract data plane Fig. Network construction and verification. Colored nodes
represent different types of equipment. Red lines show
VPCs, localize faults, carry recovery actions, … reachability problems between nodes.
TECHNOLOGIES
PRODUCTION
Optimize Binary Decision Diagrams (BDDs)
for large-scale verification scenarios
Fig. Network
analysis tools (left
[1]) and the Bastfish
network Large-scale continuous verification of virtual networks with end-to-end support
configuration
analysis tool (below)
ASSUMPTIONS & LIMITATIONS
▪ Users need to understand which rule of a given network element
precludes the reachability and eventually manually correct it
▪ This task is complex. In the future, research on assisted correction
▪ Insight. The optimization of BDDs (e.g., via is needed
parallelization, pruning, compression) allows to Logic verification using binary decision diagrams in a logic synthesis
environment, Malik, Sharad, et al.,1988 IEEE International Conference on
speedup verification tasks while reducing the TRL 5. Basic technological components are integrated with realistic Computer-Aided Design. IEEE Computer Society, 1988.
computing resources needed supporting elements so it can be evaluated in testbed environment
ULTRA-SCALE AIOPS LAB 11 [1] Beckett, A General Approach to Network Configuration Verification, SIGCOMM ’17
Thank you.
Bring digital to every person, home and
organization for a fully connected,
intelligent world.
Copyright©2019 Huawei Technologies Co., Ltd.
All Rights Reserved.
The information in this document may contain predictive
statements including, without limitation, statements regarding
the future financial and operating results, future product
portfolio, new technology, etc. There are a number of factors that
could cause actual results and developments to differ materially
from those expressed or implied in the predictive statements.
Therefore, such information is provided for reference purpose
only and constitutes neither an offer nor an acceptance. Huawei
may change the information at any time without notice.