User: Please write a Python script to monitor server CPU, memory and disk usage, and record the results to a log file
Assistant: The following is a simple Python script to monitor server CPU, memory and disk usage and log the results to a log file. ```python import psutil import datetime import time def monitor(): log_file = "monitor.log" while True: cpu_percent = psutil.cpu_percent() mem_percent = psutil.virtual_memory().percent disk_usage = psutil.disk_usage('/' ).percent current_time = datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S") log_message = f"{current_time} - CPU: {cpu_percent}%, Memory : {mem_percent}%, Disk: {disk_usage}%\n" with open(log_file, "a") as f: f.write(log_message) time.sleep(60) if __name__ == "__main__": monitor() ``` This script calls the `psutil` library to get CPU, memory and disk usage, and uses the `datetime` module to format the current time. These values are then logged to a log file. The program will run a monitoring program every 60 seconds in order to continuously record server usage.