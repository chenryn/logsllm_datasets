User:  How to use Ansible to automatically deploy MySQL database and make some basic security settings?
Assistant: Here are the steps to automatically deploy a MySQL database using Ansible: Step 1: Install the MySQL role First, you need to install the Ansible MySQL role. You can install it using the command line or by specifying it in a `requirements.yml` file. Command line installation: ``` ansible-galaxy install geerlingguy.mysql ``` Alternatively, you can specify and install in the `requirements.yml` file: ```yaml - src: geerlingguy.mysql version: 2.9.0 `` ` Execute the following command to install: ``` ansible-galaxy install -r requirements.yml ``` Step 2: Write Ansible Playbook In this step, you need to write Ansible Playbook, which will install MySQL on your remote server, And make basic security settings. Here is an example Playbook: ```yaml - name: Install MySQL hosts: all vars: mysql_root_password: "YOUR_PASSWORD" become: true roles: - geerlingguy.mysql - name: Secure MySQL hosts: all vars: mysql_root_password: "YOUR_PASSWORD" become : true tasks: - name: Remove anonymous users mysql_user: name: "" host_all: true state: absent login_user: root login_password: "{{ mysql_root_password }}" - name: Remove root remote login mysql_user: name: root host: "{ { item.host }}" state: absent login_user: root login_password: "{{ mysql_root_password }}" with_items: - { host: "127.0.0.1" } - { host: "::1" } - { host: "localhost " } - name: Create new MySQL user mysql_user: name: "{{ db_username }}" password: "{{ db_password }}" priv: "*.*:ALL,GRANT" host: "{{ db_host }}" append_privs : yes login_user: root login_password: "{{ mysql_root_password }}" - name: Delete the test database mysql_db: name: test state: absent login_user: root login_password: "{{ mysql_root_password }}" ``` In the above Playbook, The first task will install the MySQL role on all remote hosts. The second task will make MySQL more secure. Here we delete the default MySQL user and create a new one. Finally, we deleted the test database. Step 3: Execute the Playbook Now, you can execute the above Playbook using the following command: ``` ansible-playbook -i inventory.ini install-mysql.yml ``` After completing the execution, you should have installed and The MySQL database is safely deployed.