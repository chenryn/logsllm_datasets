User: How to use LVM for partition management and disk expansion on Linux system?
Assistant: LVM (Logical Volume Management) is a virtual storage technology that can create logical volumes (Logical Volumes) on physical disks and create file systems on logical volumes for data storage. The following are the steps for partition management and disk expansion using LVM on the Linux system: 1. Prepare disks First, you need to prepare some physical disks for creating logical volumes. You can use the fdisk command or the parted command to partition unpartitioned disks, and then use the pvcreate command to initialize these partitions as physical volumes. For example, initialize the /dev/sdb1 partition: ``` # pvcreate /dev/sdb1 ``` 2. Create a volume group Combine one or more physical volumes into a volume group (Volume Group). You can use the vgcreate command to create a volume group and specify physical volumes as members of the volume group. For example, create a volume group named myvg and add /dev/sdb1 as a member of the volume group: ``` # vgcreate myvg /dev/sdb1 ``` 3. Create a logical volume Create a logical volume in the volume group ( Logical Volume). You can use the lvcreate command to create a logical volume, and specify the volume group to which the logical volume belongs, the name and size of the logical volume, and other information. For example, create a logical volume named mylv with a size of 10G: ``` # lvcreate -L 10G -n mylv myvg ``` 4. Create a file system Create a file system on the logical volume. You can use the mkfs command to create a file system, and specify the file system type, the name of the logical volume, and other information. For example, to create an ext4 type file system, the mount point is /mnt/mylv: ``` # mkfs.ext4 /dev/myvg/mylv # mkdir /mnt/mylv # mount /dev/myvg/mylv /mnt/mylv ` `` 5. Expand the logical volume When you need to expand the logical volume, you can use the lvextend command to expand the size of the logical volume. Then use the resize2fs or xfs_growfs command to expand the file system. For example, increase the size of the mylv logical volume by 5GB: ``` # lvextend -L +5G /dev/myvg/mylv # resize2fs /dev/myvg/mylv ``` After expansion, you can check the size of the logical volume and file system: ` `` # lvdisplay /dev/myvg/mylv # df -h /mnt/mylv ``` The above are the basic steps to use LVM for partition management and disk expansion. In addition to the above commands, there are some other related commands that can be used and modified according to requirements.