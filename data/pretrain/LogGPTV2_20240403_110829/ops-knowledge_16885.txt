User: 请回答以下安全问题（从安全角度来看）只将服务器证书添加到客户端可信存储，而不在SSL中添加根证书可以吗？（从安全角度来看）只将服务器证书添加到客户端可信存储，而不在SSL中添加根证书可以吗？
在这种情况下，握手是否成功完成？

Assistant: 对您所询问的问题通常被称为“证书固定”。
当您将签名证书或根证书添加到您的信任存储时，您会说：“我信任由该证书签名的所有证书”。通过将证书添加到客户端的信任存储中，您表示“我明确且直接地信任此证书”。在前者中，您隐式地信任许多证书，而在后者中，您显式地只信任一个证书。
有一些事情需要注意。
某些客户端可能不支持此模型。如果是第三方软件，您需要在以这种方式部署之前进行测试
您需要一种安全的方式来将证书交付给您的客户。此机制必须是受信任的，并且必须防止其他不受信任的证书进入客户端。Web浏览器从浏览器制造商、操作系统制造商或IT部门获得默认证书。如果你使用的是网络浏览器，而且是针对公司以外的用户，这将更加困难——他们不能只连接到你的非根链接网站，获得证书警告并将证书添加到他们的存储中，因为他们无法知道自己是否连接到了恶意网站。
当证书过期或被破坏时，您需要一个安全的机制来轮换证书。
测试你的客户端应用可能很有挑战性。您需要将客户端应用连接到测试服务器，这意味着您需要一种方法来设置客户端应用以使用测试服务器的证书。
与在信任存储中使用root或签名证书相比，您还获得了一些优势
如果它是您的自定义应用，并且存储中没有其他人的证书，则可以保证客户端仅与您的服务器通信（直到有人替换客户端的信任存储）
root/signing证书使用证书吊销列表来吊销证书，但没有人监视这些列表。您的方法将简单地替换客户端信任存储中的证书，以有效地吊销受损的证书。
有一个较小的攻击面。在web浏览器标准模型中，攻击者可以攻击任何受信任的根、任何显式或隐式受信任的中间证书或叶证书。通过证书固定，只有叶证书是目标*
*我故意忽略对软件、弱加密和客户端信任存储的攻击，因为这在两种情况下都很常见。