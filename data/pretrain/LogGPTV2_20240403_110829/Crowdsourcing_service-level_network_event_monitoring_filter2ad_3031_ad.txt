are conﬁrmed network problems – covering nearly 80% of the
labeled events. Our edge-based approach detected an additional
127 events; although these are not conﬁrmed problems, we caution
against inferring false positive rates, as the reported events are
based on those detectable from existing monitoring systems. Still,
even in the unlikely case that these events are not real, the average
false alarm rate (just over 4 events per day) is manageable.
For a North American ISP, our approach detected a variety of
performance events, some of which were conﬁrmed outages. For
cases where there was a drop in performance but not an outage,
we were not able to obtain ground truth information. Figure 7
shows a sample of three cases of events detected by our approach:
(a) an conﬁrmed outage, (b) a non-outage performance event
(unconﬁrmed) and (c) an unconﬁrmed outage.5 Table 3 presents
summary results for this ISP. Our approach was able to detect
half of the largest outages (column 3).
In column 4, we show
the number of outages that appeared to affect monitored hosts,
but not in sufﬁcient numbers to validate the event. In addition to
these events, our approach detected 41 events during the 1-month
period. Unfortunately, the ISP did not have sufﬁcient information
to conﬁrm or deny them.
4
http://www.grenouille.com
5An outage refers to loss of network connectivity; non-outages indicate
connectivity with signiﬁcantly reduced performance.
394)
s
/
B
K
(
e
t
a
r
d
a
o
p
U
l
 500
 400
 300
 200
 100
 0
05:00
Mar 04
11:00
Mar 04
17:00
Mar 04
Time
23:00
Mar 04
05:00
Mar 05
)
s
/
B
K
(
e
t
a
r
d
a
o
p
U
l
 70
 60
 50
 40
 30
 20
 10
 0
24:07
Mar 18
04:37
Mar 18
09:07
Mar 18
Time
13:37
Mar 18
18:07
Mar 18
)
s
/
B
K
(
e
t
a
r
d
a
o
p
U
l
 60
 50
 40
 30
 20
 10
 0
09:10
Mar 29
12:10
Mar 29
15:10
Mar 29
Time
18:10
Mar 29
21:10
Mar 29
(a) Conﬁrmed outage.
(b) Unconﬁrmed non-outage event.
(c) Unconﬁrmed outage.
Figure 7: Timelines depicting events (centered in the ﬁgures) affecting transfer rates for peers in a North American ISP. Throughput
drops are misaligned due to periodic data reports being dropped during the outages. Best viewed in color.
Affected customers
Pct of total events
Detected
Possible
Relationship
Min. ASNs
# cases
# countries
C ≥ 10000
10000 > C ≥ 1000
C < 1000
53%
40%
7%
50%
0%
0
38%
67%
0
Customer-Provider
Customer-Provider
Peer-Peer
2
3
2
370
7
487
5
2
7
Table 3: Comparison with events from a North American ISP.
(a)
(b)
ISP
Users Events
ISP
Users Events
Deutsche Tel.
HTP
HanseNet
Neuf Cegetel
Arcor
Cableuropa
Proxad/Free
France Tel.
Tel. Italia
Telefonica
6760
3652
3216
2821
2245
1999
1769
1688
1651
1337
69
112
17
108
29
245
176
31
20
27
Cableuropa
BTnet UK
Proxad/Free
HTP
Neuf Cegetel
Deutsche Tel.
Telewest
Pakistan Tel.
Comunitel
Mahanagar Tel.
1999
1277
1769
3652
2821
6760
237
729
197
454
245
182
176
112
108
69
50
46
45
42
Table 4: Top 10 ISPs by users (a) and by events (b).
5.2 Coverage
Edge-system event detection requires a sufﬁcient number of
peers to concurrently use a network for the purpose of corrob-
oration. To evaluate whether using a popular P2P service as
a host application can offer sufﬁcient coverage for edge-system
event detection, we calculated the maximum number of peers
simultaneously online (and active) for each network in our dataset.
Figure 8 plots a CDF of these values for each routable preﬁx and
ASN. On average, the number of simultaneous online peers per
routable preﬁx is 3 and per ASN is 7. Even though our installed
base of users represents less than 0.4% of all BitTorrent clients,
we ﬁnd that this offers sufﬁcient coverage (three or more peers
concurrently online) for more than half of the ASNs that we study.
5.3 Worldwide events
Having shown the effectiveness of NEWS, this section charac-
terizes network events that detected worldwide, using a threshold
LR = 2 (as guided by Fig. 6). For a one-month period, our
approach detected events in 38 countries across ﬁve continents,
emphasizing how edge-based detection can achieve broad network
coverage worldwide. In Table 4(a), we list the top 10 ISPs in terms
of the number of users participating in our study, and the number
of events detected in each of these ISPs.
Because different networks provide different quality of ser-
vice [22], increasing the number of peers should not necessarily
increase the number of events detected. As the table shows, there
is indeed little correlation between the number of vantage points in
a network and the number of detected performance events.
Table 5: Number of cross-network events as inferred from
single-network events. The ﬁrst column indicates the AS
relationship;
the following columns specify the minimum
number of ASes and countries affected.
Time (GMT)
Provider(s)
Affected ASes
Country
Apr 16, 13:35
Apr 17, 12:40
Apr 30, 01:15
8218
1267
15557,12876,12322
16338,3352,6739
10396,7910
12357,16338,12715
FR
ES
ES
Table 6: Example cross-network events corresponding to the
second row of Table 5.
Table 4(b) shows the top 10 ISPs in terms of the number of
events detected, covering ISPs of varying size in Europe and
Asia. We note that with the exception of the top three ISPs, our
approach generates fewer than four detected events per day. Thus,
a deployment of our approach should report events at a reasonable
rate – one that will not overwhelm network operators and users.
5.4 Cross-network events
A unique advantage of an edge-system based monitoring ap-
proach like NEWS is its ability to detect network problems af-
fecting multiple ISPs, e.g., due to provider or peering link issues.
The following paragraphs describe cross-network events detected
during the period of study.
We focus on events due to issues with upstream providers or
peers. To this end, we ﬁnd events that occur in multiple ASes at
the same time, then determine which of these ASes have a peering
relationship or identical providers (based on the AS topology
generated by Chen et al. [5]). Events that occur within 30 minutes
of each other are considered the same, and we conservatively
consider AS relationships only for those ASes in the same country.
Table 5 summarizes our results. The ﬁrst row indicates that
when searching for at least two ASNs with the same provider,
there are 370 cases in ﬁve countries. In the second row, we use
a more restrictive search where we require that at least three ASNs
having the same provider see synchronized network events – such
events are, as expected, much rarer; a sample of them is provided
in Table 6. Finally, the last row indicates that there is a signiﬁcant
number of peering ASNs that see synchronized problems.
5.5 Robustness
As discussed in Sec. 4.3.2, the likelihood ratio (LR) can be seen
as a parameter for distilling network events from locally detected
395]
x
<
n
[
F
D
C
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
 1
Routable Prefix
ASN
 100
 10
 1000
Number of Simultaneous Online Peers
]
r
<
X
[
F
D
C
 1
 0.95
 0.9
 0.85
 0.8
 0.75
 0.1
]
r
<
X
[
F
D
C
 1
 0.995
 0.99
 0.985
 0.98
 0.975
 0.97
 0.1