**黑客Linux基础**
**从学习Kali Linux中的网络、脚本和安全性开始**

**LINUX BASICS FOR HACKERS**
**Getting Started with Networking, Scripting, and Security in Kali by OccupyTheWeb**

![](media/eb9002c942bec8f6a3e8c5f9a2ea65c5.jpg)

**San Francisco**

**LINUX BASICS FOR HACKERS.** Copyright © 2019 by OccupyTheWeb.

版权所有。未经版权所有者和出版商事先书面许可，不得以任何形式或通过电子或机械方式（包括影印、录制或任何信息存储或检索系统）复制或传播本作品的任何部分。

ISBN-10: 1-59327-855-1  
ISBN-13: 978-1-59327-855-7

**出版信息：**
- 出版商：William Pollock
- 制作编辑：Serena Yang 和 Meg Sneeringer
- 封面插图：Josh Ellingson
- 内图设计：Octopod Studios
- 发展编辑：Liz Chadwick
- 技术评论员：Cliff Janzen
- 编辑：Barton D. Reed
- 合成：Serena Yang 和 Meg Sneeringer
- 校对员：Paula L. Fleming
- 索引者：JoAnne Burek
- 翻译：byr0nchan (HawooSec.Lab)、nJcx、ink247GG、咸鱼、sara961
- 校对：byr0nchan

**关于分发、翻译或批量销售的信息，请直接联系 No Starch出版社：**
- No Starch Press, Inc.
- 地址：245 8th Street, San Francisco, CA 94103
- 电话：1.415.863.9900
- 邮箱：info@nostarch.com
- 网站：[www.nostarch.com](../TP1_backup/www.nostarch.com)

*Library of Congress Cataloging-in-Publication Data*
- 作者：OccupyTheWeb
- 标题：Linux basics for hackers : getting started with networking, scripting, and security in Kali
- 版本：第一版
- 出版地：San Francisco
- 出版社：No Starch Press, Inc.
- 出版年份：2018
- ISBN：9781593278564 (epub), 159327856X (epub), 9781593278557 (print), 1593278551 (print)
- 主题：渗透测试（计算机安全）、Kali Linux、黑客、操作系统（计算机）
- 分类：LCC QA76.9.A25 (ebook), LCC QA76.9.A25 O325 2018 (print), DDC 005.8-dc23

**绪 论**

![](media/451fdbee142e8cd4684d71b24707d050.jpg)

黑客技能是21世纪最重要的技能之一。近年来，新闻报道频繁提及各国之间的间谍活动、网络犯罪分子窃取数十亿美元、勒索软件攻击以及政治对手影响选举等事件。这些都是黑客行为的影响，它们在我们日益数字化的世界中越来越显著。

我决定写这本书，是因为我在与数千名有志成为黑客的人合作时发现，他们中的许多人对Linux几乎没有任何经验，而这种缺乏经验是他们成为专业黑客的主要障碍。几乎所有最好的黑客工具都是用Linux编写的，因此一些基本的Linux技能是成为专业黑客的先决条件。本书旨在帮助有志成为黑客的人克服这一障碍。

黑客是IT领域的精英职业，需要对IT概念和技术有广泛而详细的理解。在最基础的层次上，Linux是一项必需技能。如果你想把黑客和信息安全作为你的职业，我强烈建议你投入时间和精力来使用和理解它。

本书不适合经验丰富的黑客或资深的Linux管理员。相反，它适用于那些想要在黑客、网络安全和渗透测试这条激动人心的道路上起步的人。它也不是一篇关于Linux或黑客的完整论文，而是这些领域的起点。它从Linux的基本知识开始，并扩展到bash和Python的一些基本脚本。

在适当的情况下，我尝试使用来自黑客世界的示例来教授Linux原理。在本简介中，我们将介绍信息安全的道德黑客行为的发展，并指导您完成安装虚拟机的过程，以便您可以在系统上安装Kali Linux，而不会干扰您已经运行的操作系统。

**本书内容概览**

- **第一章**：让您熟悉Linux的基础知识，学习使用文件系统和终端，并提供一些基本命令。
- **第二章**：介绍如何操作文本以查找、检查和更改软件和文件。
- **第三章**：管理网络，扫描网络，查找连接信息，并通过屏蔽网络和DNS信息来伪装自己。
- **第四章**：教您添加、删除和更新软件，以及如何简化系统。
- **第五章**：操纵文件和目录权限来控制谁可以访问什么，您还将学习一些权限提升技术。
- **第六章**：教您如何管理服务，包括启动和停止进程以及分配资源以便更好地控制。
- **第七章**：管理环境变量以获得最佳性能、便利性甚至隐身性。您将找到并过滤变量，更改PATH变量以及创建新的环境变量。
- **第八章**：向您介绍了bash脚本，这是任何认真黑客的主要工具。您将学习bash的基础知识并构建一个脚本来扫描您可能稍后渗透的目标端口。
- **第九章和第十章**：为您提供了一些基本的文件系统管理技能，向您展示如何压缩和存档文件以保持系统整洁，复制整个存储设备以及获取有关文件和连接磁盘的信息。
- **第十一章**：使用和操作日志系统来获取目标活动的信息，并覆盖您自己的轨迹。
- **第十二章**：向您展示了如何使用和滥用三个核心Linux服务：Apache Web服务器、OpenSSH和MySQL。您将创建一个Web服务器，构建一个远程视频间谍，并了解数据库及其漏洞。
- **第十三章**：向您展示如何在代理服务器、Tor网络、VPN和加密电子邮件中保持安全和匿名。
- **第十四章**：涉及无线网络。您将学习基本的网络命令，然后破解WiFi接入点并检测连接蓝牙信号。
- **第十五章**：深入探讨了Linux本身，深层次了解内核如何工作以及如何滥用其驱动程序来传递恶意软件。
- **第十六章**：学习基本的调度技巧，以便自动化您的黑客脚本。
- **第十七章**：教你核心的Python概念，你将编写两个黑客工具：一个监视TCP/IP连接的扫描程序和一个简单的密码破解程序。

### 什么是道德黑客？

近年来，随着信息安全领域的发展，道德黑客领域也出现了迅猛的发展，也被称为白帽黑客。道德黑客是试图渗透和利用一个系统，以找出其弱点并更好地保护它的实践做法。我将道德黑客分为两个主要部分：为合法信息安全公司进行渗透测试，以及为国家的军事或情报机构工作。两者都是快速增长的领域，需求强劲。

#### *渗透测试*

随着组织越来越注重安全性并且安全漏洞的成本呈指数级增长，许多大型组织开始将安全服务外包出去。其中一项关键安全服务是渗透测试。渗透测试本质上是一个合法的、受委托的黑客行为，以证明公司的网络和系统的脆弱性。

通常，组织首先进行漏洞评估，以发现其网络、操作系统和服务中的潜在漏洞。我强调是潜在的，因为此漏洞扫描包含大量误报（确定为漏洞的事实并非如此）。渗透测试人员的角色是试图破解或渗透这些漏洞。只有这样，组织才能知道漏洞是否真实，并决定投入时间和金钱来弥补漏洞。

#### *军事和间谍活动*

现在，世界上几乎每个国家都在进行网络间谍活动和网络战争。人们只需要浏览一下头条新闻，就会发现网络活动是监视和攻击军事和工业系统的选择方法。

黑客在这些军事和情报收集活动中起着至关重要的作用，随着时间的推移，这种情况只会更加真实。想象一下未来的战争，黑客可以获得对手的作战计划，并摧毁他们的电网、炼油厂和供水系统。这些活动现在每天都在进行。因此，黑客成为国家防御的关键组成部分。

### 为什么黑客使用Linux

那么为什么黑客使用Linux而不是其他操作系统呢？主要是因为Linux通过几种不同的方法提供了更高级别的控制。

#### *Linux是开源的*

与Windows不同，Linux是开源的，这意味着您可以使用操作系统的源代码。因此，您可以随意更改和操作它。如果您试图使系统以它不希望的方式运行，那么能够操作源代码是必不可少的。

#### *Linux是透明的*

要有效地进行黑客攻击，您必须了解并理解您的操作系统，并在很大程度上了解您正在攻击的操作系统。Linux完全透明，这意味着我们可以查看和操作其所有工作部分。

Windows则不然。微软努力让它变得越来越难以了解其操作系统的内部工作方式，所以你永远不会真正知道“幕后”会发生什么，而在Linux中，你会直接看到操作系统的每一个组件。这使得使用Linux更加有效。

#### *Linux提供粒度控制*

Linux是细粒度的。这意味着您对系统几乎拥有无限的控制权。在Windows中，您只能控制Microsoft允许您控制的内容。在Linux中，一切都可以由终端控制，无论在最微小的级别或最宏观的级别。此外，Linux使任何脚本语言的脚本编写变得简单有效。

#### *多数黑客工具都是为Linux编写的*

超过90％的黑客工具都是为Linux编写的。当然也有例外，如Cain and Abel以及Wikto，但这些例外证明了这一规则。即使在为Windows移植诸如Metasploit或nmap等黑客工具时，并非所有功能都能从Linux移植。

#### *未来属于Linux/Unix*

这似乎是一个激进的陈述，但我坚信信息技术的未来属于Linux和Unix系统。微软在20世纪80年代和90年代曾风光一时，但它的增长正在放缓并停滞。

自互联网诞生以来，由于其稳定性、可靠性和稳健性，Linux/Unix一直是Web服务器的首选操作系统。 即便在今天，Linux/Unix仍在三分之二的Web服务器中使用并占据市场主导地位。路由器、交换机和其他设备中的嵌入式系统几乎总是使用Linux内核，而虚拟化世界则由Linux主导，VMware和Citrix都基于Linux内核构建。

超过80％的移动设备运行Unix或Linux（iOS是Unix，Android是Linux），所以如果您认为计算机的未来在于平板电脑和手机等移动设备（否则很难争辩），那么未来就是Unix/Linux。Microsoft Windows仅占移动设备市场的7％**①**。那是你想要的情形吗？

1. 2019年1月10日微软通过自己的官方博客宣布放弃Win10 Mobile，于2019年12月终止支持。

### 下载Kali Linux

在开始之前，您需要下载并在计算机上安装Kali Linux。这是我们将在本书中使用的Linux发行版。Linux最初由Linus Torvalds于1991年开发，作为Unix的开源替代品。由于它是开源的，志愿者开发人员对内核、实用程序和应用程序进行提交编码。这意味着没有凌驾于其之上的公司实体来监督发展，因此，通常缺乏公约和标准化。

Kali Linux由Offensive Security开发，是一个基于Linux发行版的黑客操作系统。Linux有很多发行版，而Debian是最好的发行版之一。您可能最熟悉Ubuntu作为Linux的流行桌面发行版。Ubuntu也是基于Debian构建的。其他发行版包括Red Hat、CentOS、Mint、Arch和SUSE。虽然它们都共享相同的Linux内核（控制CPU、RAM等操作系统的核心），但每个内核都有自己的实用程序、应用程序和用于不同目的的图形界面选择（GNOME、KDE和其他）。因此，Linux的这些发行版中的每一个外观和感觉都略有不同。Kali专为渗透测试人员和黑客而设计，并配有大量黑客工具。

我强烈建议您在本书中使用Kali。虽然您可以使用其他发行版，但您可能需要下载并安装我们将使用的各种工具，这可能意味着可能需要花费数小时去下载和安装工具。此外，如果该发行版不是基于Debian构建的，则可能存在其他细微差别。您可以从https://www.kali.org/下载并安装Kali。

在主页上，单击页面顶部的“Downloads”链接。在“Kali Linux Downloads”页面上，您将面临多种下载选择。选择正确的下载非常重要。在表的左侧，您将看到镜像名称，该名称是链接下载的版本的名称。例如，我看到的一个镜像名称列表是Kali Linux 64 Bit，这意味着它是完整的Kali Linux并且适用于64位系统 - 大多数现代系统使用64位Intel或AMD CPU。要确定系统上的CPU类型，请转至 控制面板▸系统和安全性▸系统，应列出该系统信息。如果您的系统是64位，请下载并安装64位版本的完整Kali（不是Light或Lxde，或任何其他替代方案）。

如果您运行的是具有32位CPU的旧计算机，则需要安装32位版本，该版本显示在页面下方。

您可以选择通过HTTP或Torrent下载。如果您选择HTTP，Kali将直接下载到您的系统，就像任何下载一样，它将被放置在您的下载文件夹中。Torrent（bt）下载是许多文件共享站点使用的P2P下载。你需要像BitTorrent这样的种子应用程序才能做到这一点。然后，Kali文件将下载到torrenting应用程序存储其下载的文件夹中。

还有其他类型的CPU的其他版本，例如在许多移动设备中常见的ARM体系架构。如果您使用的是树莓派、平板电脑或其他移动设备（手机用户可能更喜欢Kali Nethunter），请确保下载并安装ARM架构版本的Kali，方法是向下滚动并单击以下载和安装Kali ARM映像。

您已经下载了Kali，但在安装任何软件之前，我想谈谈虚拟机。通常，对于初学者来说，将Kali安装到虚拟机中是学习和练习的最佳解决方案。

### 虚拟机

虚拟机（VM）技术允许您从笔记本电脑或台式机等硬件上运行多个操作系统。这意味着您可以继续运行您熟悉的Windows或MacOS操作系统，并在该操作系统中运行Kali Linux虚拟机。您不需要覆盖现有的操作系统来学习Linux。

VMware、Oracle、Microsoft和其他供应商提供了大量虚拟机应用程序。这些都很好用，但在这里我将向您展示如何下载和安装Oracle的免费VirtualBox。

#### *安装VirtualBox*

您可以从[VirtualBox官网](https://www.virtualbox.org/)下载VirtualBox，如图1所示，单击左侧菜单中的下载链接，并为计算机当前操作系统选择VirtualBox安装包，该操作系统将承载VirtualBox VM。请务必下载最新版本。