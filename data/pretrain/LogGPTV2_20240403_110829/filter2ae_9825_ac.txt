除测试芯片外，调试器还使用这些引脚与微控制器上实现的TAP（测试访问端口）进行通信。从安全角度来看，识别JTAG端口并与之连接可以使攻击者提取固件，对逻辑进行逆向工程并在设备上刷新恶意固件。以后会在以后的博客文章中提供更多信息。
  1. cJTAG（紧凑型JTAG）：这是标准IEEE 1149.7中定义的新JTAG协议。它不会替代1149.1标准，而是会进一步扩展它，并且与JTAG向后兼容。它定义了两个引脚的接口（TCK和TMS）以及实现新功能的新TAP。
  2. SWD（串行线调试）：SWD是用于调试微控制器的另一个接口/协议。它是一个两针接口：a。SWDIO（双向）b。SWCLK（时钟）这是ARM特定的协议，使用ARM调试接口v5中定义的ARM CPU标准双向有线协议。SWD的好处是它声称比JTAG更有效。
![upload
successful](https://images.seebug.org/content/images/2019/09/29/1569741366000-0431_1569660521782.png-w331s)
JTAG端口在PCB板上的外观如何
请注意，如上图所示，JTAG端口不一定是10个引脚。
#### 2.3 I2C
集成电路间是一种短距离通信协议，用于在同一板上的芯片之间进行通信。它是由飞利浦（现在为NXP）发明的。它具有主从（多）架构，并使用两线总线
  1. SDA –串行数据
  2. SCL –串行时钟
I2C的一种使用情况是在EEPROM芯片中，该芯片连接到微控制器的I2C引脚，通常存储数据或代码。典型的攻击包括篡改数据，提取敏感信息，破坏数据等。我们应该分析EEPROM芯片上的静态数据，以及通过嗅探I2C通信执行运行时分析以了解行为和安全隐患。如前所述，我们将在系列文章中专门写一篇博客文章，以了解和分析I2C通信。
#### 2.4 SPI
串行外设接口也是一种短距离通信协议，用于在同一板上的芯片之间进行通信。它是由摩托罗拉公司开发的。它是全双工的，并使用主从结构（单个主服务器）。与I2C相比，它还具有更高的吞吐量。它使用四线串行总线：
  1. SCLK –串行时钟。其他名称包括SCK
  2. MOSI –主输出从站输入。其他名称包括SIMO，SDI，DI，DIN，SI，MTSR。
  3. MISO –主进从出。其他名称包括SOMI，SDO，DO，DOUT，SO，MRST。
  4. SS –从机选择。其他名称包括S?S?，SSEL，CS，C?S?，CE，nSS，/ SS，SS＃
它用于与各种外围设备通信。闪存和EEPROM芯片也使用SPI。测试和分析的方法类似于I2C，只是我们具有不同的总线接口。我们将在后面的博客文章中详细讨论SPI。
#### 2.5个USB
该设备可以具有用于充电或通讯的USB（微型/微型等）接口。对于后者，有必要测试接口的已知或未知问题。我们应该嗅探通信以进行运行时分析，并模糊USB接口中的未知错误。
#### 2.6传感器
这是一个宽松的名称，我们指的是与物理世界的接口。它可以不必限于感测类型的接口。例如，温度传感器将是一个完美的例子，但门锁除了“ Lock /
Unlock”（锁定/解锁）动作可控制物理世界之外，什么也不会感测。根据它们的操作，它们可以分为三种类型：
  1. 监控器：这与传感器的字面含义更紧密地联系在一起，即感测或监控物理世界的任何变化。防爆。温度，运动，脉搏，血压，轮胎气压等
  2. 控制：这些类型的设备以某种方式控制物理世界。防爆。锁，分配器等
  3. 混合：这是上述两种类型的组合，例如温度控制，基于一天中的时间的照明灯等。这是关键接口之一，因为从物理世界获得的所有值和数据都将传输到云中。如果攻击者可以用错误的（错误的）数据强制设备，则整个生态系统都将受到影响，因为所有决策和统计都基于此数据。换句话说，这是物联网生态系统的关键。错误的值可能会对生态系统做出的决定造成灾难性的影响。
#### 2.7人机界面
与传感器接口一样，我们使用HMI作为通用术语来定义用户与设备之间的接口，而并不局限于工业控制系统中使用的术语。这是用户可用来与设备通信并直接在其上进行操作的界面。一些常见的例子是触摸屏，按钮，触摸板等。测试此接口以发现任何旁路机制，安全漏洞等非常重要。
#### 2.8其他硬件接口
还有许多其他硬件接口用于与设备通信。作为最后一个阶段，分析并发现所有接口中的缺陷和旁路机制非常重要。一些众所周知的接口包括（但不限于）：
  1. d类微型- 
  2. ecommended标准（RS232，RS485等）–有关RS协议的更多详细信息，请参见
  3. 板载诊断（OBD）– 
### 3.网络通讯接口
该接口允许设备与虚拟世界的其余部分进行对话，包括传感器网络，云和移动设备。负责网络通信的硬件接口可能具有提供通信功能的独立微控制器/固件。在这种情况下，攻击面是实施低级通信的固件或驱动程序代码。
#### 3.1 Wifi
wifi接口存在一些已知问题。从攻击面的角度来看，攻击wifi芯片可能会损坏它，DOS，绕过安全限制或执行代码会很有趣。
#### 3.2以太网
以太网接口（与wifi接口一样）具有低级别的TCP / IP堆栈漏洞，硬件实现漏洞和类似的攻击媒介。
#### 3.3广播
考虑到许多物联网产品已转移到/正在使用无线电通信构建，无线电接口已成为最重要的攻击面之一。优先选择源于以下事实：在许多情况下，通过Wifi
/有线网络连接使用无线电更为有效。我将Wifi进行单独分类而不是在本节中进行分类的原因主要是为了清楚地区分可以直接连接到互联网的设备（Wifi
/有线）和需要网关（例如智能集线器）的设备，这些设备必须同时实现无线电以及Wifi
/有线接口，分别用于与传感器和Internet进行通信。从实际的通信角度来看，可以将其视为两种不同的通信模式：
  1. 简单/非结构化：这种类型通常用于诸如百叶窗，锁，门铃等简单产品。简单非结构化是指它使用简单（主要是专有的）数据（流）并通过无线电接口发送。作为渗透测试人员，您需要对通信进行反向工程以发现实施中的缺陷。使用诸如SDR（软件定义的无线电）之类的无线电嗅探硬件工具来嗅探无线电通信很容易。
  2. 复杂/结构化的：复杂和结构化的通信意味着它使用结构化的数据包进行无线电通信，这是复杂的，因为它们不仅携带数据，还携带有关协议的其他信息和元信息。这些协议由于效率，标准化，经济芯片和实施便利性而在物联网世界中非常出名。同样，有多种工具可用于嗅探和解析协议，以提取跨应用程序发送的特定于应用程序的数据。一些常见的协议包括：
a.Bluetooth and BLE  
b.ZigBee  
c.Zwave  
d.NFC  
e.RFID  
f.LORA  
g.Wireless HART …
## 物联网安全–第3部分（103-物联网十大漏洞）
在谈论十大漏洞时，我们首先想到的是OWASP。为什么不呢，毕竟他们是定义Web和移动十大漏洞的先锋。我是OWASP的粉丝，仅因为OWASP社区多年来为定义应用程序安全性问题所做的工作，为行业提供了免费的教程和开源工具以减轻风险和漏洞。您不太可能没有听说过OWASP或从他们的网站上阅读过内容，但是，如果您没有听说过，我强烈建议您浏览他们的网站
[https://www.owasp.org](https://www.owasp.org/)
OWASP还启动了IoT安全计划，该社区已定义了IoT攻击面和除Web和移动设备之外的IoT十大漏洞。他们朝着正确的方向发展，很快它将成为物联网安全内容的绝佳去处。
OWASP网站上与IoT安全读者相关的内容如下：
  1. OWASP Web十大项目：
  2. OWASP Mobile十大项目：
  3. 事物项目OWASP互联网：
OWASP
IoT攻击面：
OWASP
IoT十大漏洞：
### OWASP物联网十大漏洞
OWASP最近定义了IoT中的十大漏洞。它们非常全面，我们建议您仔细阅读它们，了解IoT生态系统的威胁和问题。作为一项家庭作业，您可以将其映射到上一篇博客文章中定义的攻击面。OWASP
IoT的十大漏洞(根据)
  1. 不安全的Web界面
  2. 身份验证/授权不足
  3. 不安全的网络服务
  4. 缺少传输加密/完整性验证
  5. 隐私权问题
  6. 云接口
  7. 不安全的移动接口
  8. 不安全的安全配置性不足
  9. 不安全的软件/固件
  10. 人身安全性差
我们不会在前十名列表中详细介绍每个项目。可以在OWASP链接（如上）中找到详细信息。相反，我们将根据对我们发现的问题或在Internet上发布的问题的经验来完善前十名。
### 物联网十大漏洞2018
免责声明：请注意，我们的目标不是要超越OWASP十强，这是伙计们所做的出色工作。OWASP团队敬上！这是根据我们的经验进行的练习，应将重点更多地放在硬件和新的物联网技术上，这一点值得引起我们的注意。
Payatu