downstream link bandwidths for the diﬀerent DSL and ca-
ble ISPs. For many ISPs, the distributions jump sharply
at distinct bandwidth levels, such as 256 Kbps, 384 Kbps,
512 Kbps, and 1 Mbps. Only two cable ISPs (Rogers in
1
0.8
0.6
0.4
0.2
s
t
s
o
h
f
o
n
o
i
t
c
a
r
F
0
0
DSL
)
s
p
b
K
i
(
h
t
d
w
d
n
a
b
k
n
Cable
i
l
d
e
t
a
c
o
l
l
A
2
4
6
8
10
12
14
Ratio (downstream bandwidth / upstream bandwidth)
Unstable (Rogers cable host)
7,000
6,000
5,000
4,000
3,000
2,000
1,000
0
0
1
2
3
5
4
6
Time (seconds)
Stable (PacBell DSL host)
7
8
9
10
Figure 5: The ratio of downstream to upstream
link bandwidths: The gap between downstream and up-
stream bandwidths is much wider for cable networks than
for DSL networks.
Figure 6: Stable and unstable link bandwidths: The
allocated link bandwidth is stable for the PacBell DSL host.
For the Rogers cable host, the access link bandwidth varies
greatly over time.
Canada and Comcast in the United States) allocate band-
widths distributed along a continuous spectrum.
By comparing these measured allocated bandwidths to the
advertised link speeds from Table 1, we can conﬁrm and
quantify some commonly held opinions. We ﬁnd that most
DSL ISPs have bandwidth rates corresponding to those ad-
vertised. By contrast, major cable ISPs, such as Comcast
and Rogers, show rates diﬀerent from those advertised (both
higher and lower). We consider that this discrepancy is due
to the nature of the two technologies – cable is a shared
medium, whereas DSL is not. Our data also shows that
many cable ISPs have signiﬁcantly higher downstream band-
widths than DSL.
Figures 4(c) and (d) show the cumulative distributions of
upstream link bandwidths. Upstream bandwidths are strik-
ingly diﬀerent from downstream bandwidths – with the ex-
ception of a few ISPs, most upstream bandwidths are lower
than 500 Kbps, even when their downstream bandwidths
exceed 5 Mbps. To examine this diﬀerence, we plotted the
ratio of downstream to upstream link bandwidths in Fig-
ure 5. Most DSL hosts have much smaller ratios than ca-
ble hosts, because compared to cable, DSL hosts have lower
downstream but similar upstream bandwidths. For over half
of the cable hosts, the downstream bandwidths exceed up-
stream bandwidths by a factor of more than 10.
The highly asymmetric nature of bandwidths does not
align well with the requirements of emerging peer-to-peer
systems [8, 24], whose workloads tend to be symmetric. De-
spite all the excitement surrounding user-driven content gen-
eration and distribution, residential networks continue to be
predominantly optimized for client-server workloads.
4.1.2 How stable are the allocated link bandwidths?
Next, we studied the short-term and long-term stability of
link bandwidths. Understanding the stability of link proper-
ties is useful for designing network protocols that can quickly
adapt to changing link conditions.
We examined the stability of the allocated link bandwidths
over the 10 s duration of our packet ﬂoods. For this, we
divided the 10 s into 100 ms intervals (the RTT of a typi-
cal Internet path), we estimated the bandwidth within each
interval, and we compared the diﬀerent estimates across in-
tervals. Figure 6 shows how bandwidths for a PacBell link
(DSL) and a Rogers link (cable) vary over time. Whereas
i
h
t
d
w
d
n
a
b
e
l
b
a
t
s
h
t
i
w
s
t
s
o
h
f
o
n
o
i
t
c
a
r
F
1
0.8
0.6
0.4
0.2
0
A meritech
B T Broadband
BellSouth
PacBell
Q west
S W Bell
Charter
Chello
Comcast
Road Runner
Rogers
Figure 7: Fraction of hosts with ‘stable’ downstream
link bandwidths: Most DSL links show stable bandwidths,
whereas most cable links do not. The results for upstream
bandwidth are similar.
the PacBell link shows stable bandwidth, the Rogers link
weaves above and below its average bandwidth of 3 Mbps.
Figure 7 shows the fraction of DSL and cable links that
exhibit stable bandwidths in the downstream direction. We
classiﬁed a link as stable if at least 90% of the 100 ms in-
tervals show a bandwidth estimate within 10% of the aver-
age bandwidth. Although most DSL ISPs show stable link
bandwidths, we found that most cable ISPs have bandwidths
that vary signiﬁcantly even within the short 10 s duration of
our probes. We also found that upstream bandwidths have
unstable short-term characteristics. We have omitted these
results because of space constraints.
This large short-term variation in cable bandwidths poses
new challenges to transport protocol designers. Tradition-
ally, transport protocols have been developed to achieve sta-
ble throughput and to avoid reacting to short-term events
(on timescales less than one RTT) [19]. However, when run-
ning in a cable network environment, protocols need to ad-
just quickly to rapidly changing link conditions. Slow react-
ing protocols might not achieve good throughput in cable
networks.
We now turn our focus to the long-term diurnal stability
of link bandwidths. We took measurements of the upstream
and downstream bandwidths every half an hour for one week
h
t
d
i
w
d
n
a
b
x
a
m
/
h
t
d
i
w
d
n
a
b
d
e
v
e
i
h
c
A
100%
80%
60%
40%
20%
0%
BT Broadband
)
s
p
b
K
Rogers
Tue
0:00
Wed
0:00
Thu
0:00
Fri
0:00
Local time
Sat
0:00
Sun
0:00
Mon
0:00
i
(
h
t
d
w
d
n
a
b
k
n
i
l
d
e
t
a
c
o
l
l
A
3,000
2,500
2,000
1,500
1,000
500
0
0
1
2
3
5
4
6
Time (seconds)
7
8
9
10
Figure 8: Long-term link bandwidth stability: Whereas
BT Broadband has stable bandwidths over time, Rogers’s
allocated link bandwidths show diurnal patterns.
Figure 9: Traﬃc-shaped downstream: The bandwidth
of this link is initially 2.5 Mbps, but it drops to 1.5 Mbps
after one second.
from 70 randomly chosen hosts from each ISP.3 Figure 8
shows the diurnal variation in bandwidths for one DSL ISP
(BT Broadband) and one cable ISP (Rogers). Each curve
shows the bandwidth variation averaged across all measured
links within one ISP. To account for links with diﬀerent
bandwidths, we normalize each link’s bandwidth by using
the maximum measured bandwidth of that link during the
entire measurement period.
We found that most ISPs have high long-term stability
(not shown). As the curve for BT Broadband illustrates,
their bandwidths do not vary with the time of the day. By
contrast, a small number of ISPs, such as Rogers, show a
clear diurnal trend in link bandwidths. Rogers’s end hosts
see signiﬁcantly lower bandwidths (almost a 25% reduction)
in the evening (between 4 PM and 7 PM) than in the early
morning (between 1 AM and 5 AM). In the upstream di-
rection, we ﬁnd stable bandwidths (not shown) for all ISPs,
including Rogers. These ﬁndings seem to contradict the pop-
ular idea that competing traﬃc aﬀects the bandwidths of
broadband hosts. For most ISPs, we found little evidence
that competing traﬃc aﬀects link bandwidths during the
day.
4.1.3 Is there evidence of trafﬁc shaping?
Traﬃc shaping is likely to be one of the factors leading to the
bandwidth instability encountered in broadband networks.
Some ISPs allow an initial burst of bandwidth that is often
many times greater than the advertised bandwidth. For ex-
ample, Comcast’s PowerBoost feature [15] doubles the cus-
tomer’s allocated bandwidth for a short time. This provi-
sioning reduces the download times of relatively small ﬁles,
such as MP3s. Other ISPs throttle the bandwidth allocated
to long running transfers to discourage the heavy hitters
from consuming a disproportionate share of the bandwidth.
Because our probe ﬂoods were limited to 10 s, we could
only detect the traﬃc shaping associated with short-duration
ﬂows. To do this, we performed the following experiment.
We used our packet streams to compute the allocated link
bandwidth of each 100 ms interval. To detect the presence
of traﬃc shaping, we checked for a consistent and signiﬁ-
cant drop in bandwidth after some initial period. Figure 9
3To minimize DHCP eﬀects, we discarded any host that went
oﬄine (i.e., did not respond to probes) during this period.
We also excluded measurements when we detected cross-
traﬃc.
shows an example link from Ameritech DSL, whose band-
width drops from 2.5 Mbps to 1.5 Mbps (its long-term rate)
after the ﬁrst second.
We found similar downstream traﬃc-shaping techniques
used by three ISPs – Ameritech, Comcast, and Chello. 11%
of the Ameritech links, 26% of the Comcast links, and 67%
of the Chello links provide an initial burst of bandwidth to
speed up short transfers. The burst rates are typically more
than 1 Mbps above the long-term bandwidth. However, in
many cases, we were unable to quantify precisely the burst
rates because they exceeded the rate of our probe train. In
the upstream direction, we found no evidence of traﬃc shap-
ing or bandwidth throttling of our probe stream. The short
duration of our probe trains (10 s) could have prevented us
from detecting upstream traﬃc shaping.
History-based bandwidth prediction is a popular technique
used in several transport protocols [3, 9, 19] and content dis-
tribution systems [25]. Although our traﬃc-shaping anal-
ysis is preliminary, it suggests that using past bandwidth
estimates to predict future bandwidth conditions might not
work well over broadband links.
4.2 Packet latencies
We analyzed each of the three components of packet laten-
cies: propagation delays, transmission delays, and queueing
delays.
4.2.1 Do broadband links have large propagation
delays?
A link’s propagation delay is the time elapsed between send-
ing a bit at one end and receiving it at the other end. On one
hand, broadband propagation delays could be short because
the links themselves are short. On the other hand, sophisti-
cated signal processing and error correction algorithms could
increase broadband propagation delays.
Our methodology prevents us from directly measuring the
propagation delay of a broadband access link. Instead, we
were able to estimate the round-trip delay of the last-hop of
the path between our measurement hosts and the broadband
hosts. This last-hop delay roughly approximates the sum of
downstream and upstream broadband propagation delays.
To do this, we sent small-TCP trickle probes to both the
broadband host and its last-hop router. The trickle consisted
of several hundred widely spaced small probes and their re-
sponses. We calculated the last-hop RTT by subtracting the
DSL
jitter
1
0.8
0.6
0.4
0.2
s
t
s
o
h
f
o
n
o
i
t
c
a
r
F
0
0
Cable
last hop
Cable
jitter
DSL
last hop
5
10
15
20
25
30
Latency (milliseconds)
1
0.8
0.6