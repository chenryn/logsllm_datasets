对灯塔ARL进⾏⼀些定制-host碰撞 
0x00 前⾔ 
看了⼀下灯塔ARL整体感觉还不错，该有的基本功能都有界⾯也不错，只不过⼀些细节上不符合我
的预期，这两天⼤概浏览了⼀下整体的代码功能，拎出⼏个点来先进⾏⼀波优化。
0x01 host碰撞原先设计 
ARL确实带有host碰撞功能，在任务创建⾥
我们跟⼀下host碰撞的实现，直接搜host碰撞
接着搜这个findvhost
进⼊这个find_vhost
可以看到在app->services->findVhost.py⾥，但是看起来并不是我们要的那种修改host字段后进⾏
爆破的代码逻辑，所以接着看看这个find_vhost在哪⾥被调⽤
这⼀块有好⼏个findvhost相关的函数，圈红圈的进去看看
这⾥可以看到，通过查库找出私有ip对应的域名，具体代码应该在别的地⽅，⼤概猜猜是差不多：
1. 前置域名爆破获取到包含私有ip地址解析的域名存⼊进库
2. 这⾥通过find_private_domain_by_task_id查库找出私有ip对应的⼆级域名放⼊待爆破的host碰
撞域名
3. 在通过find_public_ip_by_task_id查找出对应扫描任务获取到的公⽹ip
4. 把这两个放⼀起通过find_vhost函数进⾏爆破，如果爆破出存在则返回结果
也就是说，这⾥的host碰撞是基于前期⼦域名搜集时是否获取到解析到私有地址的域名来进⾏的。
这确实是⼀个⽅⾯，但是我这边还希望增加另⼀个功能：给定⼀个关键字列表，爆破是否存在该关
键词对应的内部域名，⽐如grafana.guahao.com绑定到⼀个公⽹ip进⾏爆破是否存在内部
grafana。
0x02 增加列表爆破 
⼤概明⽩前⾯的过程后，其实我们只需要增加⼀个本地字典读取然后⼀起加到前⾯的域名列表⾥去
就⾏了，修改部分代码就够了。
先整理⼀下思路：
1. 获取到任务内所有已经有的域名，包括根域名和⼦域名
2. 在根域名和⼦域名前加上字典列表后形成⼀个新的域名
3. 新域名传⼊后续进⾏host碰撞
那么现在还有个问题就是如何获取根域名和⼦域名列表，这⾥出于速度来考虑可以先实现根域名后
续再考虑把⼦域名也带上。
如果我们只需要考虑根⽬录上的爆破的话，那么就这样就⾏了。
好了，我们加了⼀段⾃⼰定义的host列表的碰撞需求，这样保存⼀下接着跑就⾏了。
0x03 总结 
其实是⼀个⽐较简单的需求修改，但是这个修改可能会帮助我们找到更多的漏洞，基本上这样修改
后就能覆盖掉所有我认为需要host爆破的场景，形成⾃动发觉⾃动碰撞了。