178–189.
them(i.e.,automaticloginstructionwriting). [23] MatthewHonnibal,InesMontani,SofieVanLandeghem,andAdrianeBoyd.2020.
spaCy:Industrial-strengthNaturalLanguageProcessinginPython.Explosion.ai.
REFERENCES https://doi.org/10.5281/zenodo.1212303
[24] ThorstenJoachims.2005.ASupportVectorMethodforMultivariatePerformance
[1] TitusBarik,RobertDeLine,StevenDrucker,andDanyelFisher.2016.TheBones Measures.InProceedingsofthe22ndInternationalConferenceonMachineLearning.
oftheSystem:ACaseStudyofLoggingandTelemetryatMicrosoft.In2016 AssociationforComputingMachinery,NewYork,NY,USA,377–384.
IEEE/ACM38thInternationalConferenceonSoftwareEngineeringCompanion [25] SuhasKabinna,Cor-PaulBezemer,WeiyiShang,MarkD.Syer,andAhmedE.
(ICSE-C).AssociationforComputingMachinery,NewYork,NY,USA,92–101. Hassan.2018.ExaminingtheStabilityofLoggingStatements.EmpiricalSoftware
[2] JasminBogatinovski.2021. QuLog:Githubrepolink. Anonymous. Retrieved Engineering23(2018),290–333.
January02,2022fromhttps://github.com/qulog/QuLog [26] DiederikP.KingmaandJimmyBa.2015.Adam:AMethodforStochasticOpti-
[3] LeoBreiman.2001.RandomForests.MachineLearning45,1(2001),5–32. mization.
[4] TomBrown,BenjaminMann,NickRyder,MelanieSubbiah,JaredDKaplan, [27] HengLi,Tse-Hsun(Peter)Chen,WeiyiShang,andAhmedE.Hassan.2018.
PrafullaDhariwal,ArvindNeelakantan,PranavShyam,GirishSastry,Amanda StudyingSoftwareLoggingUsingTopicModels.EmpiricalSoftw.Engg.23(2018),
Askell,SandhiniAgarwal,ArielHerbert-Voss,GretchenKrueger,TomHenighan, 2655–2694.
RewonChild,AdityaRamesh,DanielZiegler,JeffreyWu,ClemensWinter,Chris [28] HengLi,WeiyiShang,BrayanAdams,MohammedSayagh,andAhmedE.Hassan.
Hesse,MarkChen,EricSigler,MateuszLitwin,ScottGray,BenjaminChess,Jack 2020.AQualitativeStudyoftheBenefitsandCostsofLoggingfromDevelopers’
Clark,ChristopherBerner,SamMcCandlish,AlecRadford,IlyaSutskever,and Perspectives. IEEETransactionsonSoftwareEngineering47(2020),2858–2873.
DarioAmodei.2020.LanguageModelsareFew-ShotLearners.InAdvancesin https://doi.org/10.1109/TSE.2020.2970422
NeuralInformationProcessingSystems,Vol.33.CurranAssociates,Inc.,1877– [29] HengLi,WeiyiShang,andAhmedE.Hassan.2017. WhichLogLevelShould
1901. DevelopersChooseforaNewLoggingStatement?EmpiricalSoftw.Engg.22,4
[5] JeandersonCândido,HaesenJan,MaurícioAniche,andArievanDeursen.2021. (2017),1684–1716.
AnExploratoryStudyofLogPlacementRecommendationinanEnterprise [30] JianLi,YueWang,MichaelR.Lyu,andIrwinKing.2018.CodeCompletionwith
System.In2021IEEE/ACM18thInternationalConferenceonMiningSoftware NeuralAttentionandPointerNetworks.InProceedingsofthe27thInternational
Repositories(MSR).IEEEComputerSociety,LosAlamitos,CA,USA,143–154. JointConferenceonArtificialIntelligence.AAAIPress,4159–25.
https://doi.org/10.1109/MSR52588.2021.00027 [31] ZhenhaoLi.2020.TowardsProvidingAutomatedSupportstoDevelopersonWriting
[6] BoyuanChenandZhenMing(Jack)Jiang.2017.Characterizingloggingpractices LoggingStatements.AssociationforComputingMachinery,NewYork,NY,USA,
inJava-basedopensourcesoftwareprojects–areplicationstudyinApache 198–201. https://doi.org/10.1145/3377812.3381385
SoftwareFoundation.EmpiricalSoftwareEngineering22(2017),330–374. [32] ZhenhaoLi,Tse-Hsun(Peter)Chen,andWeiyiShang.2020. WhereShallWe
[7] BoyuanChenandZhenMingJiang.2019.ExtractingandStudyingtheLogging- Log?StudyingandSuggestingLoggingLocationsinCodeBlocks.InProceedings
Code-Issue-IntroducingChangesinJava-BasedLarge-ScaleOpenSourceSoft- ofthe35thIEEE/ACMInternationalConferenceonAutomatedSoftwareEngineering.
wareSystems.EmpiricalSoftw.Engg.24(2019),2285–2322. AssociationforComputingMachinery,NewYork,NY,USA,361–372.
[8] Tse-HsunChen,StephenW.Thomas,andAhmedE.Hassan.2016.ASurveyon [33] ZhenhaoLi,Tse-HsunPeterChen,JinqiuYang,andWeiyiShang.2021.Studying
theUseofTopicModelsWhenMiningSoftwareRepositories.EmpiricalSoftw. DuplicateLoggingStatementsandTheirRelationshipswithCodeClones.IEEE
Engg.21(2016),1843–1919. TransactionsonSoftwareEngineering(2021). https://doi.org/10.1109/TSE.2021.
[9] MarcelloCinque,DomenicoCotroneo,andAntonioPecchia.2013.EventLogs 3060918
fortheAnalysisofSoftwareFailures:ARule-BasedApproach.IEEETransactions [34] ZhenhaoLi,HengLi,Tse-HsunChen,andWeiyiShang.2021.DeepLV:Suggest-
onSoftwareEngineering39(2013),806–821. ingLogLevelsUsingOrdinalBasedNeuralNetworks.In2021IEEE/ACM43rd
[10] CorinnaCortesandVladimirVapnik.1995.Support-vectornetworks.Machine InternationalConferenceonSoftwareEngineering(ICSE).IEEEPress,NJ,USA,
Learning20(1995),273–297. 1461–1472. https://doi.org/10.1109/ICSE43902.2021.00131
[11] ThomasM.CoverandJoyA.Thomas.2006. ElementsofInformationTheory [35] SeppoLinnainmaa.1976.Taylorexpansionoftheaccumulatedroundingerror.
(WileySeriesinTelecommunicationsandSignalProcessing).Wiley-Interscience, BITNumericalMathematics16(1976),146–160.
USA. [36] ScottLundberg.2019.SHAPGithubImplementation.GitHub. RetrievedJanuary
[12] JacobDevlin,Ming-WeiChang,KentonLee,andKristinaToutanova.2019.Bert: 2,2022fromhttps://github.com/slundberg/shap
Pre-trainingofdeepbidirectionaltransformersforlanguageunderstanding. , [37] ScottM.Lundberg,GabrielErion,HughChen,AlexDeGrave,JordanM.Prutkin,
4171—4186pages. https://doi.org/10.18653/v1/N19-1423 BalaNair,RonitKatz,JonathanHimmelfarb,NishaBansal,andSu-InLee.2020.
[13] RuiDing,HuchengZhou,Jian-GuangLou,HongyuZhang,QingweiLin,Qiang FromlocalexplanationstoglobalunderstandingwithexplainableAIfortrees.
Fu,DongmeiZhang,andTaoXie.2015.Log2:ACost-AwareLoggingMechanism NatureMachineIntelligence2,1(2020),56–67.
forPerformanceDiagnosis.InProceedingsofthe2015USENIXConferenceon [38] AntonioPecchia,MarcelloCinque,GabriellaCarrozza,andDomenicoCotroneo.
UsenixAnnualTechnicalConference.USENIXAssociation,USA,139–150. 2015.IndustryPracticesandEventLogging:AssessmentofaCriticalSoftware
ICPC2022,May21–22,2022,Pittsburgh,PA,USA Bogatinovski,etal.
DevelopmentProcess.In2015IEEE/ACM37thIEEEInternationalConferenceon Whenconsideringthelinguisticcomparison,asseenbythere-
SoftwareEngineering,Vol.2.IEEEPress,NewYork,USA,169–178. sults,QuLogandBERT_SVMareperformingsimilarly.Wefind
[39] QOS.2022.SimpleLoggingFacedforJava.QOS. RetrievedJanuary2,2022from
oneconsistentexamplewhereQuLogperformsbetterthanSVM,
https://www.slf4j.org/
[40] WeiyiShang,ZhenMingJiang,BramAdams,AhmedE.Hassan,MichaelW. i.e.,whenHBaseisusedfortestingQuLogcorrectlypredictsthe
Godfrey,MohamedNasser,andParminderFlora.2014.Anexploratorystudyof linguisticgroup"VERBVERB"asinsufficient.Wehypothesisethat
theevolutionofcommunicatedinformationabouttheexecutionoflargesoftware
systems.JournalofSoftware:EvolutionandProcess26(2014),3–26. QuLogcanextrapolatethisinformationhavingthegroups"VERB"
[41] HeShilin,ZhuJieming,HePinjia,andLyuMichael,R.2016.ExperienceReport: and"VERBNOUNVERB"asinsufficientduringtraining.Thetwo
SystemLogAnalysisforAnomalyDetection.In2016IEEE27thInternational baselines,SVMandRFareperformingslightlydifferentlyonthe
SymposiumonSoftwareReliabilityEngineering(ISSRE).IEEEPress,RiverSide,
USA,207–218. samerepresentation,weconsidertheobserveddifferencetoreside
[42] JuliusSimandChrisCWright.2005.TheKappaStatisticinReliabilityStudies: inthetypeofdecisionboundarytheyfit.SVMsarecharacterized
Use,Interpretation,andSampleSizeRequirements.PhysicalTherapy85(2005),
toperformbetterinveryhighdimensionalspaces(becauseofthe
257–268.
[43] A.PlateTony.1995.Holographicreducedrepresentations.IEEETransactionson propertiesofsuchspaces).RFischaracterizedbydiversevolume
NeuralNetworks6,3(1995),623–641. https://doi.org/10.1109/72.377968 pocketsindifferentregions.Sincethesamplesinthehighdimen-
[44] vanderAalstandetal.2012. ProcessMiningManifesto.InBusinessProcess
ManagementWorkshops.SpringerBerlinHeidelberg,Berlin,Heidelberg,169– sionsareveryfarapartfromoneanotherthepocketregionscreated
194. byRFleadtomoremiss-classifications.
[45] AshishVaswani,NoamShazeer,NikiParmar,JakobUszkoreit,LlionJones,
AidanN.Gomez,undefinedukaszKaiser,andIlliaPolosukhin.2017. Atten-
tionisAllYouNeed.InProceedingsofthe31stInternationalConferenceonNeural
InformationProcessingSystems.CurranAssociatesInc.,RedHook,NY,USA, B COMPARINGQULOGLINGUISTICMODULE
6000–6010. AGAINSTRULE-BASEDAPPROACH
[46] AndrewWattersandSarahBoslaugh.2008. StatisticsinaNutshell:ADesktop
QuickReference.O’ReillyMedia,USA. Theprocessofidentificationofsufficientlinguisticstructurewas
[47] DingYuan,SoyeonPark,PengHuang,YangLiu,MichaelM.Lee,XiaomingTang, conductedasfollows.Twohumanannotatorsexaminedthelinguis-
YuanyuanZhou,andStefanSavage.2012.BeConservative:EnhancingFailure
DiagnosiswithProactiveLogging.In10thUSENIXSymposiumonOperating ticstructureandtherawstatictextsorganizedbylinguisticgroups.
SystemsDesignandImplementation(OSDI12).USENIXAssociation,Hollywood, Alinguisticgroupisasetofstatictextinstructions’.Alinguistic
CA,293–306. groupisidentifiedbythesequenceofPOStags.Eachhumananno-
[48] DingYuan,SoyeonPark,andYuanyuanZhou.2012.CharacterizingLoggingPrac-
ticesinOpen-SourceSoftware.InProceedingsofthe34thInternationalConference tatorexaminedtheindividualstatictextwithineachgroup(within
onSoftwareEngineering.IEEEPress,RiverStreet,USA,102–112. eachoftherandomlysampled361groups).Sinceeachlogmessage
[49] DingYuan,JingZheng,SoyeonPark,YuanyuanZhou,andStefanSavage.2012.
shoulddescribeaneventverboselyandconveysufficientinforma-
ImprovingSoftwareDiagnosabilityviaLogEnhancement.ACMTrans.Comput.
Syst.30,1(2012),3–14. tionononeside,andfollowingthemaximofqualityandquantity
[50] YiZeng,JinfuChen,WeiyiShang,andTse-Hsun(Peter)Chen.2019.Studying forshorttextsfromgenerallanguageproperties,ontheotherside,
thecharacteristicsofloggingpracticesinmobileapps:acasestudyonF-Droid.
EmpiricalSoftwareEngineering24(2019),3394–3434. thestatictextshouldhaveminimallinguisticstructureforsufficient
[51] XuZhao,KirkRodrigues,YuLuo,MichaelStumm,DingYuan,andYuanyuan expressionoftheinformation.Byexaminingtherawstatictext
Zhou.2017.Log20:FullyAutomatedOptimalPlacementofLogPrintingState- withineachgrouptheannotatorsrelatetheirunderstandingofthe
mentsunderSpecifiedOverheadThreshold.InProceedingsofthe26thSymposium
onOperatingSystemsPrinciples.AssociationforComputingMachinery,New sufficientinformationalogmessagehas.Theyassignlabels0for
York,NY,USA,565–581. "linguisticallysufficient"or1forthe"linguisticallyinsufficient"
[52] ChenZhi,JianweiYin,ShuiguangDeng,MaoxinYe,MinFu,andTaoXie.2019.
group.Thenthelabelsprovidedbythetwohumanannotatorsare
AnExploratoryStudyofLoggingConfigurationPracticeinJava.In2019IEEE
InternationalConferenceonSoftwareMaintenanceandEvolution(ICSME).IEEE compared,andthelinguisticgroupswithoverlappinglabelsare
Press,NewYork,USA,459–469. https://doi.org/10.1109/ICSME.2019.00079 retained.Eachofthestatictextsisthenlabeledwiththelabelofthe
[53] JiemingZhu,PinjiaHe,QiangFu,HongyuZhang,MichaelR.Lyu,andDongmei
Zhang.2015.LearningtoLog:HelpingDevelopersMakeInformedLoggingDeci- linguisticgroupassociatedwithit.However,themodelistrained
sions.InProceedingsofthe37thInternationalConferenceonSoftwareEngineering usingthelinguisticgrouprepresentationofthestatictextobtained
-Volume1.IEEEPress,RiverStreet,USA,415–425. bythepostag.Thelabelscanbeusedasruleswhatisalinguistically
goodandbadstatictext.
A SAMPLEANALYSIS:WHENQULOG
Thegeneratedrulescanbeusedtodetectlogswithsufficientand
OUTPERFORMSTHEBASELINES? insufficientstructure(thatishowtheyaregenerated).Whenever
OnesetofexampleswherewefindthatQuLog’sloglevelpre- wehaveanewsystem,wecalculatetheirlinguisticrepresentations
diction outperforms other methods is in the logs like "created andmatchthemagainsttherules.Anymatchisconsideredasa
withbuffersize=*andmaxpoolsize=*"(withoriginalloglevelINFO, logwithinsufficientquality.Forexample,ifwefindastatictext
QuLogpredictionis"info","DeepLV"and"BERT_SVM"arepredict- with"NOUNNOUN"fromthenewsystem,wecansaythatthe
ing"warning")and"stoppingthewallprocedurestore,isabort=| statictextisof"insufficient"quality.However,wefoundexamples,
(selfaborting)"(withoriginalloglevelINFO,QuLogpredictionis whereQuLogmaybeinterpolatesbetweentwonearbyrules,and
"info","DeepLV"and"BERT_SVM"arepredicting"error").These correctlyidentifyarulefromanewprojectthatwasnotpartof
two messages contain words like "maxpoolsize", "buffersize" or thetrainingdata.Forexample,whenHBaseisinthetestset,(the
"isabort"whicharenotstandardingenerallanguage.Therefore, rulesinthetrainingsetareextractedfromothersystems),therules
thelogrepresentationbygenerallanguagemodelsisinferiorin do not cover the linguistically insufficient group "VERB VERB".
comparisontoQuLog,whichdirectlylearnslogrepresentations Incontrast,QuLogcorrectlypredictsthisgroupas"insufficient"
fromthestatictext.SinceQuLog,isdirectlytrainedonlog-specific becauseofitssimilaritieswiththelinguisticallyinsufficientgroups
wordsitcanlearnbetterrepresentationsandrelatethewordsto of "VERB" and ’VERB NOUN VERB’ (that are slightly different
thecorrecttarget. from"VERBVERB").SinceQuLoghasstrongperformance,andcan
QuLog:Data-DrivenApproachforLogInstructionQualityAssessment ICPC2022,May21–22,2022,Pittsburgh,PA,USA
interpolatebetweenrulesweoptforthegivendesign.Nevertheless, In the following, we further describe two Jira issues related
thereisstillmuchspaceforimprovingtheinputtrainingdataset to linguistic structural problems. In ZOOKEEPER-3659 it is
thatwillleadtonewinsights. reported that WatchManagerFactory log is not sufficiently
readable. The fix of this issue is to change the prior static
C LINGUISTICQUALITYASSESSMENT text Using org.apache.zookeeper.server.watch.WatchManager
ADDITIONALEVIDENCE as watch manager, into dataWatches is using
The idea for "sufficient linguistic quality" assesment is built org.apache.zookeeper.server.watch.WatchManager as watch
aroundJiraissueslikeZOOKEEPER-2126,ZOOKEEPER-3659and manager.. From the linguistic perspective this means that the
Zookeeper-259.Theyshowthattheminimalinformationinthe linguisticstructure[’VERB’,’PUNCT’,’ADP’,’NOUN’,’NOUN’]
static text hurts comprehensibility. By relating the information istransformedinto[’NOUN’,’AUX’, ’VERB’,’PUNCT’,’ADP’,
aboutminimality(e.g.,minimalnumberoftokens,linguistictoken ’NOUN’,’NOUN’].Theadditionallinguisticconceptsimprovethe
categories)withthe(in)sufficientlinguisticstructureofthestatic comprehensibilityoftheevent.
textwecanevaluatethetypeoflinguisticcategories(e.g.,verb, SimilarlyintheJiraissueZookeeper-259despitethecorrection
nouns, adjectives, and similar) participating in the verbose and oftheloglevels,thetextintheloginstructionsischangedaswell.
comprehensivedescriptionoftheevents.Byenrichingtheeventde- Oneexampleisthechangeonlines524,through526.Specifically,
scriptionwithadditionallinguisticproperties,thelogmessagesare thepriorstatictext"Gotpingsessionid:0x"wasreplacedwith"Got
easierforreading,comprehension,andcontainsufficientverbose pingresponseforsessionid:0x".Linguisticallyspeakingthismeans
information. thatthetextischangedfrom[’AUX’,’VERB’,’NOUN’]into[’VERB’,
’NOUN’,’NOUN’,’ADP’,’NOUN’]whichimprovesthecomprehen-
sibilityandmakestheloglineeaserfortheoperatorstounderstand.