告诉Sheen说他知道该公司工会的主席是Sheen的父亲。这意味着
Douglas手下的研究人员可以发现人们和公司的关系，而在那时，它
促使我思考数据连接在一起可以做什么事情。
当然，在以上场景下，这听起来让人有点毛骨悚然，但这正是像证
券和交易委员会（ScuritiesandExchangeCommission,SEC）这样的机构
为了发现欺诈和内幕交易，通过手工所做的研究。暂时抛并个人隐
私问题和如家庭关系这样的个人数据，而是考虑如果几百个公共数
据源能够结合在一起，我们可以发现不同事物之间的关系，那将会
发生什么事情呢？我们会发现什么？
以下是一些即兴的想法来启发你。你很可能对实施这些想法没有任
何兴趣，但是希望这些想法可以引导你产生自己的关于数据连接的
想法。
使用商标数据，我们可以确定哪些公司为不同的品牌服务，我们可
能会结合美国农业部(UitedStatesDepartmentofAgriculture,USDA)的
营养学数据，以便确定哪个公司生产最多的含糖饮料。我们还可以
对商标数据进行商标标识分类，查看卡通是否更经常被用于销售高
热量的产品。我们还引入更多的数据，使用美国环境保护局（EA）的
数据来查看不同地方企业的污染量，以及这些数据和公司产品的销
售情况的相互关联关系。
把地理数据库如Geonames和社交网络结合起来，我们可以判断人们
的地理位置和距离对他们成为朋友的可能性所产生的影响。把这些
影响关系和人口普查数据结合起来可以告诉我们人们成为朋友是否
受到地理位置或者人口统计的影响（小城镇的人们是否关系更密
切？未婚率高的人口是否与更多的社交网络使用相关？）。在政治
方面，我们可以把证券交易委员会的哪个公司属于哪个行业的数据
和责任政治中心（CnterforResponsiblePolitics，CRP）提供的政治贡献
相关的数据结合起来。这可以帮助我们确定哪个行业给哪个政治党
1720
---
## Page 1722
派捐赠最多。图20-1显示了一些饼图，用于证明这种特定方式的数
据混搭。
图20-1：证券交易委员会的数据和责任政治中心提供的政治责献
相关的数据的饼图（见彩图70）
我甚至还没有谈及股票价格和留言板上的情绪分析之间的关系，试
着把遗传和药物数据结合起来，或者判断在收入低的小区的餐馆是
否卫生更差（根据健康检查员的报告），但是这只会使你对不同数
据源连接起来后带来的可能性有略微的了解。遗憾的是，数据集之
间的自动连接很复杂，甚至接近不可能。在上个例子中，我们获取
证券交易委员会的数据，它根据名字列出各个公司，但是为了在证
券交易委员会找到公司，我们需要中心索引关键字（CntralIndex
Key,CIK)。更进一步，像ExxonMobile这样的公司通常不是分类为
“能源"公司，而是更具体的“石油勘探”公司，因此，为了发现所有
的能源公司，我们需要建立哪个公司属于哪个行业子集的层次分
类。
企业内部
我们认为对Web上的数据源进行整合是一个很大的挑战，但是这种
挑战的缩影却是无处不在。通常，大公司内部有一些数据库存储了
相同的数据项，但是这些数据库之间却无法进行查询或者员工都无
法知道他们感兴趣的数据就存储在与他们一起工作的某个同事所维
护的数据库里，这些问题让人震惊（至少当我注意到这个问题
时）。这个问题通常被称为“信息仓库问题”，指出信息被清晰地分
隔开来，而且绝大多数情况下是不可访问的一—像仓库里的一粒稻
容（我一直认为隐喻可以达到涵义延伸的效果）。
当我在生物技术行业工作，与很多制药公司探讨它们的数据集成方
案时，这个问题显得非常突出。在很多情况下，公司的管理结构被
分为医疗领域（重点研究疾病家族）。这些领域的人们可能采用特
定的目标蛋白质集来查找药品或者寻找遗传标记来预测某种药物是
1 721
---
## Page 1723
否有效，他们所有的时间都在执行成本昂贵的实验，在这些基因、
蛋白质及其化合物上构建大的知识集。
同时，公司其他部门的同事，或者可能提早完成项目的研究人员，
通常研究或者已经研究了相同的或者相似的基因、蛋白质及其化合
物，因此可能错过了一些重要的深刻的见解和重复的实验。
想想为什么会有这样的问题：即使假定所有人都同意了某种模式和
查询机制，也不能保证人们会使用相同的术语来描述他们的实验。
应该使用什么字段以及如何搜索？比如“肺癌"实验而另一个人却把
它描述为"腺癌”。很多工作组都已经尝试创建受控的词汇和固定的
模式使得更容易发现实验，但是目前为止没有一个人完全真正破解
这个问题。
生物技术实际上走在了前列，因为它至少已经明确了该问题，而且
做出了严谨的工业范畴内的努力来解决这个问题。而另一方面，最
近美国的银行投资的失败问题则很突出，没有人知道他们的股票经
纪人的立场是什么，而股票经纪人自己也无法知道他们是否对房间
里的某个人持反对立场。如果数据连接太少是一个问题，那么连接
不应该连接的事物则会成为更大的问题。举个例子，政府已经做出
了一些万众瞩目的案例，比如错误地确定某些人是恐怖分子或者拒
绝某人登机仅仅因为他们和已知的被怀疑的人有相同的名字。
这些当然不是局限于大公司或者特定行业的信息。即使是小公司，
也存在使客户和员工资料结合起来的问题。
连接数据的障碍
希望你已经相信把不同数据源的数据整合起来有很大优势。但是存
在一些原因，使得人们并没有做这件事...
展现问题
试图连接数据集所面临的最基本的问题可能是很多数据存储在非常
不灵活的结构中。首先，在科学和商业中，有惊人数据量的数据就
存储在Excel表单，保存在人们本地的计算机中，其他人无法访问，
而且不是为整合而做出的设计。
即使在数据库可以访问的公司，数据通常是存储在关系数据库中，
很多都是预先定义适合最初设计时认为重要的模式。图20-2显示了
1722
---
## Page 1724
餐馆数据的关系模式的一个简单例子。这对于大的、可预测的数据
集很好，因为当配置调整很少时，关系数据库的性能非常卓越，但
是当应用需要新的数据类型、新的字段或者需要经常添加新的关系
时，这些都对关系数据库提出了难题。
我见过人们通过很多种方式来解决这个问题，但是有两种方式很突
出，主要是因为这两种解决方法刚好相反。传统的解决方式是不断
地重构数据库，创建新表，给已有表增加新的字段，这个过程可能
代价很高，很容易犯错误且很慢。（由于篇幅问题，我在这里就不
再赞述其他例子，但是每当我谈到这个问题时，总有很多人点
头。）这种解决方式使得模式变得越来越复杂，最终使得整个模式
变得过于复杂，难以可视化和理解。
我见过的另一种解决方式是简单地构建一个非常基础的数据库模
式，它可以支持任何类型的数据。通常的实现方式是有一个实体
表、一个关系表以及如图20-3所示的UML图。
Restaurant
Hours
id
restaurant_id
name
day
address
open
cuisine_id
close
Cuisine
id
name
图20-2：餐馆数据的关系数据库模式
1723
---
## Page 1725
Relationship
object
name
id
fromID
name
toID
toString
图20-3：基础的数据库模式
这种做法有个优点，开发人员和数据加载人员可以随时给数据增加
新的关系。一般来说，它把数据表示成图，而不是一组表。图20-4
显示了以图形表示的餐馆，以及人们日后可以很容易增加的额外数
据。
Peking Inn
Downtown
Wellington,Nz
ame
ame
Chinese
cuisir
56
best drink
ScorpionBowl
图20-4：餐馆数据的"图形数据库”，可扩展
遗憾的是，关系数据库不是为了以这种方式来存储数据而设计的，
而在该模式上做任何有用的查询将需要很多自连接操作，因此会变
得非常慢。
由于这是一个非常通用的模式，因此最近几年出现了很多商业的和
开源的“图形数据库”，专门为了存储这种数据而设计。以下是一些
例子：
Sesame(http: //openrdf. org)
一个开源的图形数据库，由荷兰的一家软件公司Aduna维护。
1724
---
## Page 1726
Jena(http://jena. sourceforge.net)
另一个开源的图形数据库，由HewlettPackard开发。
AllegroGraph(http://agraph. franz.com)
它是一个特征更丰富的商业图形数据库，由Franz开发。
Neo4J(http: //neo4j. org)
它是一个有商业授权的开源图形数据库。
虽然它们代表了在数据建模和开发实践上的转型，当从多个数据源
中连接数据时，图形数据库变得更加灵活。由于这个原因，这两种
数据库最近获得了很多关注，因为人们开始考虑“复杂度扩展"以及
规模扩展。遗憾的是，这个属于我们连接数据时面临的最简单的问
题——已经变得越来越糟糕。
共享名词和共享动词
假定你有一个非常优雅的图形或者一个完全合适的关系模式来合并
两个数据库，你如何知道哪些数据项真的相互匹配？比如可口可乐
公司，一个数据库可能是“Coca-Cola”，而另一个是“TheCoca-Cola
Company”，或者更简单的"Coke”（但是这些都和"TheCoca-Cola
BottlingCompany"没有关系，它是独立区分开的）。
更糟糕的是，人们在命名各个字段或者对象属性时，几乎没有任何
一致性可言。在一个数据库中，一个餐馆地址可能通过address字段
表示，而另一个数据库可能通过location字段表示。我们如何识别一
个数据库的location字段在作为餐馆的一个属性时，表示的是地址，
但是当location用于描述基因序列时，表示的是在染色体中的位置。
在实践中，这通常是一个人工识别过程，但是如果我们期望构建一
个系统，可以很容易整合成千上万的数据，我们需要找到一些方式
来消除整合过程中需要涉及的人工操作。
人们已经尝试了很多种办法来解决这些命名问题。在语义Web社区
产生了“链接开源数据”，人们鼓励其他人通过标准的通用资源标识