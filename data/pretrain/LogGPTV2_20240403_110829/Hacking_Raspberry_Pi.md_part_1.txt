About This eBook
ePUB is an open, industry-standard format for eBooks. However, support of ePUB and its many
features varies across reading devices and applications. Use your device or app settings to customize
the presentation to your liking. Settings that you can customize often include font, font size, single or
double column, landscape or portrait mode, and figures that you can click or tap to enlarge. For
additional information about the settings and features on your reading device or app, visit the device
manufacturer’s Web site.
Many titles include programming code or configuration examples. To optimize the presentation of
these elements, view the eBook in single-column, landscape mode and adjust the font size to the
smallest setting. In addition to presenting code and configurations in the reflowable text format, we
have included images of the code that mimic the presentation found in the print book; therefore, where
the reflowable format may compromise the presentation of the code listing, you will see a “Click here
to view code image” link. Click the link to view the print-fidelity code image. To return to the
previous page viewed, click the Back button on your device or app.
®
Hacking Raspberry Pi
Timothy L. Warner
800 East 96th Street,
Indianapolis, Indiana 46240 USA
Hacking Raspberry Pi®
Copyright © 2014 by Que Publishing
All rights reserved. No part of this book shall be reproduced, stored in a retrieval system, or
transmitted by any means, electronic, mechanical, photocopying, recording, or otherwise, without
written permission from the publisher. No patent liability is assumed with respect to the use of the
information contained herein. Although every precaution has been taken in the preparation of this
book, the publisher and author assume no responsibility for errors or omissions. Nor is any liability
assumed for damages resulting from the use of the information contained herein.
ISBN-13: 978-0-7897-5156-0
ISBN-10: 0-7897-5156-9
Library of Congress Control Number: 2013944701
Printed in the United States of America
First Printing: November 2013
Editor-in-Chief
Greg Wiegand
Executive Editor
Rick Kughen
Development Editor
Todd Brakke
Managing Editor
Kristy Hart
Project Editor
Elaine Wiley
Copy Editor
Chrissy White
Indexer
Brad Herriman
Proofreader
Kathy Ruiz
Technical Editor
Brian McLaughlin
Editorial Assistant
Kristen Watterson
Cover Designer
Chuti Prasertsith
Book Designer
Mark Shirar
Senior Compositor
Gloria Schurick
Graphics
Tammy Graham
Cover Illustration
©Kokander/Shutter Stock
©Yippe/Shutter Stock
Trademarks
All terms mentioned in this book that are known to be trademarks or service marks have been
appropriately capitalized. Que Publishing cannot attest to the accuracy of this information. Use of a
term in this book should not be regarded as affecting the validity of any trademark or service mark.
Warning and Disclaimer
Every effort has been made to make this book as complete and as accurate as possible, but no
warranty or fitness is implied. The information provided is on an “as is” basis. The author and the
publisher shall have neither liability nor responsibility to any person or entity with respect to any loss
or damages arising from the information contained in this book.
Bulk Sales
Que Publishing offers excellent discounts on this book when ordered in quantity for bulk purchases or
special sales. For more information, please contact
U.S. Corporate and Government Sales
1-800-382-3419
PI:EMAIL
For sales outside of the U.S., please contact
International Sales
PI:EMAIL
Contents at a Glance
Introduction
Part I Hardware Foundations
Chapter 1 What Is the Raspberry Pi?
Chapter 2 Hardware Components Quick Start
Chapter 3 A Tour of Raspberry Pi Peripheral Devices
Part II Software Foundations
Chapter 4 Installing and Configuring an Operating System
Chapter 5 Debian Linux Fundamentals—Terminal
Chapter 6 Debian Linux Fundamentals—Graphical User Interface
Chapter 7 Networking Raspberry Pi
Chapter 8 Programming Raspberry Pi with Scratch—Beginnings
Chapter 9 Programming Raspberry Pi with Scratch—Next Steps
Chapter 10 Programming Raspberry Pi with Python—Beginnings
Chapter 11 Programming Raspberry Pi with Python—Next Steps
Part III Basic Raspberry Pi Projects
Chapter 12 Raspberry Pi Media Center
Chapter 13 Raspberry Pi Retro Game Station
Chapter 14 Raspberry Pi Minecraft Server
Chapter 15 Raspberry Pi Web Server
Chapter 16 Raspberry Pi Portable Webcam
Chapter 17 Raspberry Pi Security and Privacy Device
Part IV Hacking the Raspberry Pi
Chapter 18 Raspberry Pi Overclocking
Chapter 19 Raspberry Pi and Arduino
Chapter 20 Raspberry Pi and the Gertboard
Index
Table of Contents
Introduction
What’s in This Book
Who Can Use This Book
How to Use This Book
Task: This Is a Task
There’s More Online...
Part I Hardware Foundations
Chapter 1 What Is the Raspberry Pi?
Why the Pi?
Hardware Versions
Is the Raspberry Pi Open Source?
Open Source Licenses
Open Source and the Raspberry Pi
How Can I Purchase a Raspberry Pi?
Chapter 2 Hardware Components Quick Start
Understanding Pi Hardware Terminology
The Hidden Cost of Owning a Raspberry Pi
A 5V Power Supply
SD Card
Powered USB Hub
Ethernet Cable
Monitor
Cables
USB Keyboard and Mouse
A Tour of the Model B Board
Networking
Video and Audio
Storage
Power/Status Information
Camera
Processing
Expansion
Next Steps
Chapter 3 A Tour of Raspberry Pi Peripheral Devices
Circuit Prototyping Equipment
Single-Board Microcontrollers
The Gertboard
Single-Board Computers
Relevant Technician Tools
Task: Check Raspberry Pi Voltage with a Multimeter
Raspberry Pi Starter Kits
Next Steps
Part II Software Foundations
Chapter 4 Installing and Configuring an Operating System
Common Operating Systems
Understanding Linux
Linux and Raspberry Pi
The Kernel and Firmware
Raspberry Pi’s Other Operating Systems
Installing Raspbian on Your Raspberry Pi
Task: Creating a Raspbian SD Card in Windows
Task: Creating a Raspbian SD Card in OS X
Task: Creating a Raspbian SD Card in Linux
An All-in-One Solution
Task: Installing an OS on Your Raspberry Pi Using NOOBS
Testing Your New Raspbian Image
Chapter 5 Debian Linux Fundamentals—Terminal
Baby Steps
Essential Terminal Commands
startx
pwd
ls
cd
sudo
passwd
nano
man
shutdown
Updating Your Software
Updating Raspbian
Updating the Pi Firmware
Revisiting Raspi-Config
Expand Filesystem
Change User Password
Enable Boot to Desktop
Internationalisation Options
Enable Camera
Add to Rastrack
Overclocking
Advanced Options
Raspi-Config Under the Hood
Next Steps
Chapter 6 Debian Linux Fundamentals—Graphical User Interface
LXDE—The Desktop Environment
Starting and Exiting LXDE
Task: Using Raspi-Config to Adjust Boot Behavior
Touring the LXDE Interface
Delving into the Main Menu
Installing, Updating, and Removing Software
Accessing the Pi Store
Task: Downloading a Free App from the Pi Store
Tweaking the LXDE UI
Task: Change the Desktop Background
Task: Customize the LXTerminal
Task: Customize the LXPanel
Openbox
Editing Configuration Files
Chapter 7 Networking Raspberry Pi
Basic Networking Concepts
Configuring Wired Ethernet
Task: Setting a Static IP Address on Your Raspberry Pi
Configuring Wireless Ethernet
Task: Setting Up Wi-Fi on Your Pi
Configuring “Headless” Raspberry Pi
Secure Shell (SSH)
Task: Using SSH to Connect to a Raspberry Pi Remotely
Virtual Network Computing (VNC)
Task: Using VNC to Connect to the Raspberry Pi
Task: Configure Your Pi to Start VNC Server Automatically
On Browsing the Web with the Pi
Chapter 8 Programming Raspberry Pi with Scratch—Beginnings
Technical Aspects of Scratch
Scratch Version Issues
The Scratch Community
Getting Comfortable with the Scratch Interface
About Blocks
Crafting a (Very) Simple Scratch Application
Task: Creating a Basic Scratch App
The PicoBoard
Obtaining a PicoBoard?
Using a PicoBoard in Scratch
Task: Using the PicoBoard in Scratch
Chapter 9 Programming Raspberry Pi with Scratch—Next Steps
Begin with the End in Mind
Let’s Build the Game!
Task: Setting Up the Game Screens
Task: Setting Up the Scratch Cat
Setting Up the First Ball
Setting Up the Second and Third Balls
Debugging and Troubleshooting
Uploading Your Project
Task: Share Your Scratch Project
Remixing
Task: Create a Remix
Chapter 10 Programming Raspberry Pi with Python—Beginnings
Checking Out the Python Environment
Interacting with the Python 3 Interpreter
Exiting the Interpreter
Getting Online Help
Writing Your First Python Program
Task: Creating Your First Python Script
Running Python Scripts
Task: Running Python Scripts (command line)
Task: Running Python Scripts (IDLE)
Broadening Your Python Horizons
Chapter 11 Programming Raspberry Pi with Python—Next Steps
Getting Comfortable with IDLE
Task: Creating a New Python Script File
Writing a Simple Game
Delving into a Bit More Detail
Variables
Type Casting
Concatenation
Modules
Task: Loading and then Updating the GPIO Module in Python 3
Where Do You Go from Here?
Part III Basic Raspberry Pi Projects
Chapter 12 Raspberry Pi Media Center
A Bit o’ History
But Will It Blend?
Introducing Raspbmc
Task: Installing Raspbmc Under Windows
Task: Installing Raspbmc Under OS X
Configuring Raspbmc
Getting Your Remote Control Working
Task: Controlling Your Raspbmc Box from iOS
Task: Controlling Your Raspbmc Box from a Web Browser
Task: Configuring a GPIO-based IR Receiver
Transferring Content to Your Pi
Task: Uploading Media Content to Raspberry Pi
Scraping Your Media
Task: Configuring XBMC Media Detection
Playing Your Content
Installing Add-Ons
Chapter 13 Raspberry Pi Retro Game Station
A Word About Console Video Game Emulation
Installing RetroPie
Task: Setting Up RetroPie
Transferring ROMs to RetroPie
Task: Transferring ROMs to Your Raspberry Pi
Setting Up Your Controls