User: 请解答这个和日志有关的问题Does putting the XFS log on an SSD significantly improve performance? I have a five disk array running XFS in RAID5, and I would like to improve it's performance. I have seen some hints that putting the log onto a separate device can help, does putting the log onto an SSD help dramtically?

In theory, it should, but I have not been able to find any case studies where someone has actually done this, and buying an SSD and then having it not work well would be inconvenient at best…

Assistant: The performance metric you need to keep an eye on is sequential writes. Devices with high sequential write rates are good for an external log device. That said, FS logs are pretty small relative to the data size. Old fashioned rotational magnetic media can turn in some impressive sequential write numbers. If you can afford to spare it, a single old-school hard-drive can be a very good external log device so long as you can dedicate that one device to that one log.

The top tier of SSDs can beat rotational media for sequential write speeds. By dedicating one of these premium drives to logging you gain a few things. Yes, it'll wear faster since writes do wear SSDs down. However, if you're only using 5% of the drive (if that much) the firmware on these drives is smart enough to allow even 50% (or more) bad cells before you start getting problems with the log volume corrupting; your OS should alarm on this well before you get to this point. By committing writes faster than rotational media, you greatly reduce the metadata bottleneck that XFS is prone to.

Is it any faster in practice? Can't say. A lot of it depends on what kind of data is on that XFS drive. As I said, metadata updates are the serious thing. If 'noatime' is not giving you enough breathing room and your throughput is still throttling on metadata updates, an external log drive (SSD or rotational) would be a good next step to eek out performance.