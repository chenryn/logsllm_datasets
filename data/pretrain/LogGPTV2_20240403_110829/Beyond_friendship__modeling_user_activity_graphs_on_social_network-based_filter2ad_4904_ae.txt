101
Degree, k
102
103
Figure 6: Simulated degree structures with 6 pa-
rameters for week 50-2009, iHeart.
Our 4-parameter model already works signiﬁcantly better
than existing algorithms, and the 6-parameter model works
exceptionally well. We therefore do not require extensive
information to model UAGs for gifting applications.
Our model potentially provides an alternative to sharing
large data sets of application user activity, and since these
graphs are synthetic, it also alleviates the violation of user
privacy when sharing such data. Furthermore, given social
applications exhibit weekly and yearly temporal patterns in
user activity [16], our model is a step towards predicting user
activity on other classes of social applications as well. Such
a model is useful to application developers that wish to fore-
cast an application’s usage, and seek a reliable tool to help
optimize growth strategies and advertising budgets. For in-
stance, a developer might wish to buy N0 application users
from an advertising company to jumpstart (seed) their new
application. Our model can provide them an approximation
of user activity up to a week after application launch, which
also helps them predict resource usage to minimize problems
such as application downtime in the future.
5.4 Deriving Steady-State Results
Our UAG growth model allows us to run simulations given
some knowledge of target graphs. However, simulating ac-
tivity graphs for millions of users can be time consuming, for
e.g., some of our simulations with 10 million nodes required
over 5 hours to complete. We can lower our reliance on sim-
ulations through steady-state equations for degree distribu-
tions generated by our growth model. Using these equations,
we can gauge statistics that convey user activity levels (such
as the ratio of power to casual users) without running sim-
ulations.
In this section, we probabilistically derive these
distributions. We also provide a theoretical proof that our
UAG growth model creates synthetic graphs with more than
a single connected component.
Asymptotic Degree Distributions
Mathematical analysis allows us to obtain steady-state prop-
erties which assume the graph is inﬁnite. However, our in-
terest here is in producing a ﬁnite graph that captures 7
days of user activity. We ﬁnd that the simulated degree
distributions converge to the steady-state mathematical re-
476Algorithm 1 Produces a model for weekly UAGs.
Require: N0, M, α, β, γd, γm.
Initialize the network G0 as a set of N0 isolated nodes.
for all x ∈ G0 do
Activate x.
dx ← IP L(γd, 7)
mx ← RP L(γm, M)
diffx ← )mxdx* − )mx*dx
actx ← 0
end for
for i = 0 → 6 do
for all Active nodes x do
if diffx ≥ actx then
else
dailyOutput ← )mx*
dailyOutput ← )mx* + 1
end if
for j = 1 → dailyOutput do
coinflip ← uniform(0, 1)
if i = 1 and j = 1 then
Add a self loop (x, x) to G1
else if coinflip ≤ α then
Add isolated node y to Gi+1
Add the edge (x, y) to Gi+1
coinflip ← uniform(0, 1)
if coinflip ≥ β then
Mark y for activation.
dy ← IP L(γd, 7)
my ← RP L(γm, M)
diffy ← )mydy* − )my*dy
acty ← 0
end if
else
Choose a random edge (y, z)
Add the edge (x, z) to Gi+1.
end if
end for
dx ← dx − 1
actx ← actx + 1
if dx = 0 then
Deactivate x.
end if
end for
for all Marked nodes m do
Activate m.
end for
end for
return G7.
100
10−1
10−2
)
k
(
P
10−3
10−4
10−5
10−6
100
Simulated In−degree
Simulated Out−degree
Theoretical In−degree
Theoretical Out−degree
101
Degree, k
102
Figure 7: Simulated versus theoretical degree dis-
tributions for week 34-2009 from iHeart.
sults quickly as the number of seeding nodes (N0) increases.
Figure 7 shows example theoretical steady-state, as well as
simulated, degree distributions for the week 34-2009 UAG
on iHeart. Figure 7 shows that this theoretical formulation
is indeed in agreement with our simulation results. The for-
mulation is as follows:
First, consider out-degrees. Deﬁne Nt as the number of
newly activated nodes at the tth timestep and N as the
If we assume that x ∈ Nt, where
total number of nodes.
x is chosen uniformly at random, then the out-degree of x
is a random variable )mxdx,t* where dx,t = dx1dx≤7−t +
(7 − t)1dx>7−t. The indicator random variable 1A outputs
1 if the event A has occurred, and 0 otherwise. The general
formula for out-degree is as follows:
Pr(degout(x) = j) =
Nk
N
7Xk=0
Pr(mxdx,k ∈ (j, j + 1))
To calculate the in-degree, ﬁrst deﬁne Nk,t as the number
of nodes of in-degree k after t edges have been added. If pk,t
is the probability of observing a node of in-degree k after t
edges have been added, then pk,t = t
n ak,t, where n is the
number of nodes in the graph after t edges have been added.
Dropping the t subscript in any of these variables denotes
the asymptotic limit as t → ∞.
N1,t = N1,t−1 − N1,t−1(1 − α)t − 1 + α
(1 − α)
N2,t = N2,t−1[1 −
] +
+N1,t−1[
2(1 − α)
t − 1 −
(1 − α)
t − 1
n
]
...
Nk,t = Nk,t−1[1 −
+Nk−1,t−1[
(1 − α)
] +
k(1 − α)
t − 1 −
(k − 1)(1 − α)
t − 1
n
]
Using these master equations, we derive a recursive for-
mula for pk shown as Equation (1), which can be used to cal-
culate pk in time linear in k, and can also be approximated
in closed form. This approximation is found by taking logs
of both sides of Equation (1) and by replacing the resultant
477sum with an integral. This also shows that for large k, pk
decays as a PL with exponent 1 + 1
1−α . Note that Equation
(1) allows exponents strictly larger than 2.
p1 =
=
pk =
=
t
n
=
t
1 + (1 − α)
N0 + (1 − α) ∗ t
k − 1
t
(pk−1)
n
(1−α) + k
1
α
t
N0 + (1 − α) ∗ t
α
=
1 + (1 − α)
=
(pk−1)
k − 1
(1−α) + k
1
(1)
Connectivity
Although our model relies on a modiﬁed form of Preferen-
tial Attachment, unlike graphs with pure Preferential At-
tachment, our synthetic graphs are disconnected with some
very small components, as in our empirical UAGs. The the-
orem below shows that with high probability, the synthetic
graph produced is not entirely connected, and in fact for
suﬃciently large N0 has a component of any ﬁxed size.
Proposition 1. Given any ﬁxed integer t∗, the graph Gt∗
has multiple weakly connected components.
1
Nt∗ ≥
Nt∗ ≤ Nt
Nt∗
Proof. First note that Nk ≤ (M +1)Nk−1, so that Nt∗ ≤
(M + 1)t∗ N0. It follows that N0
(M+1)t∗ > 0 and thus N0
is proportional to Nt∗ for any choice of parameters. Let x
be a node in Gt, and suppose y is a node that is sending out
a heart. Since all nodes in Gt have in-degree at least 1, the
probability that y sends the heart to x is at most 1
. Since
Nt
0 < N0
it follows that the probability that a node x
of in-degree 1 receives a heart is O( 1
) at any given time
Nt∗
step. The out-degree of any node is bounded by the constant
Mt∗, and so the probability that x receives no hearts at all
))Mt∗Nt∗ =Ω( e−Mt∗ ).
throughout the process is (1 − O( 1
Nt∗
It follows that some non-vanishing portion of nodes in Nt
receive no hearts after time t − 1, and some non-vanishing
portion of nodes in N0 receive no hearts from other users.
Moreover, there is some non-vanishing portion of nodes
in N0 which have out-degree 1 and are connected to a node
with out-degree 0.
If both nodes receive no other hearts
throughout the process, which will occur with probability
Ω(e−2Mt∗ ), they form a component of size 2. Therefore,
with high probability a portion of the nodes in N0 will be
contained in a component of size 2. Similarly it can be shown
with high probability that for any k = o(log Nt∗ ) there is at
least on component of size k for suﬃciently large n.
6. CONCLUSION AND FUTURE WORK
We have provided insight into user activity on Facebook-
based gifting applications, and have presented our method-
ology to create the ﬁrst UAG growth model for a class of
social applications that use only ARs for growth. Our algo-
rithm requires little information to produce synthetic graphs
for gifting applications, and provides a feasible alternative
to sharing large data sets that may violate user privacy. To-
gether with our steady-state equations for the synthetic de-
gree structure, our algorithm may serve as an eﬃcient user
activity prediction tool to application developers.
Our work is a ﬁrst step towards modeling user activity
from social applications, and as such it does suﬀer from
some shortcomings. Speciﬁcally, our growth model does not
currently diﬀerentiate between male and female users, even
though we speculate there are diﬀerences in gender-wise user
behavior, and it only simulates weekly UAGs without tying
multiple weeks’ graphs into, say, a monthly or yearly UAG.
A further (albeit minor) issue is that the very low clustering
of nodes in our empirical UAGs is not accurately represented
in our synthetic graphs, where the clustering is in fact even
lower. It is important for future work to resolve these issues
to create a more ﬂexible UAG growth model.
We wish to create an algorithm that simulates UAGs from
non-gifting social applications as well. While the gifting
genre of applications is the second largest on at least Face-
book, gaming applications are the largest and most lucra-
tive. This is due to the fact that social gaming itself is now
a 5+ billion dollar industry, and shows no signs of declin-
ing with the advent of mobile platforms such as iPhone and
Android. Modeling UAGs from gaming applications is, how-
ever, a highly challenging task due to use of growth mecha-
nisms in addition to ARs (Section 3.1), and the wide variety
of possible in-game activities that aﬀect their growth.
A cursory glance at the top ten Facebook gaming appli-
cations reveals most, if not all, games incorporate a select
few mechanisms to drive growth and increase user engage-
ment. Social games diﬀer from their counterparts in the
same genre due to the extent of importance a given mecha-
nism is aﬀorded. Mechanics such as leader boards, periodic
item give-aways, holiday-themed in-game items and non-
friend interactions drive user engagement and subscriber-
ship growth, while pure growth mechanisms include gifting
in-game items to OSN-resident friends. The common use of
engagement and growth mechanisms in social games hints
at a possible general growth model for social games.
A successful model for gaming applications must incor-
porate characteristics of social gaming user activity such as
high clustering coeﬃcients, presence of strong community
structures, high average time spent per user, and lower or-
ganic subscriber growth compared to gifting applications [16].
For now, quantitative measurements from non-gifting appli-
cations are lacking, and this prevents research into creating
a more elaborate model.
Our work is the ﬁrst step towards modeling social appli-
cations that use a combination of growth mechanisms, and
it begins to alleviate the lack of availability of social appli-
cation data to the research community. We hope this work
will encourage research into activity models for non-gifting
social applications as well.
Acknowledgements
We thank Manakki, LLC for the donation of anonymized
activity data. This work is supported in part by AT&T
Labs–Research, Google Research Award, Defense Threat
Reduction Agency, Basic Research Award No. HDTRA1-
10-1-0088, and the Army Research Laboratory under Coop-
erative Agreement Number W911NF-09-2-0053.
4787. REFERENCES
[1] Backstrom, L., et al. Four degrees of separation. In
ArXiv, Social and Information Networks (2011).
[2] Cha, M., et al. Characterizing social cascades in
ﬂickr. In ACM SIGCOMM Workshop on Online Social
Networks (WoSN) (2008).
[3] Chierchetti, F., et al. Models for the compressible
web. In Proc. of the Symposium on Foundations of
Computer Science (2009).
[4] Clauset, A., et al. Power-law distributions in
empirical data. In SIAM Review (2009).
[5] Gjoka, M., et al. Poking facebook: Characterization
of osn applications. In ACM SIGCOMM Workshop on
Online Social Networks (WoSN) (2008).
[6] Gjoka, M., et al. Walking in facebook: A case
study of unbiased sampling of osns. In Proc. IEEE
INFOCOM (2010).
[7] Golder, S., et al. Rhythms of Social Interaction:
Messaging within a Massive Online Network. In
International Conference on Communities and
Technologies (2007).
[8] Guo, F., et al. Recovering temporally rewiring
networks: model-based approach. In Proc. of
International Conference on Machine Learning (2007).
[9] Handcock, M. S., et al. Model-based clustering for
social networks. In Journal of the Royal Statistical
Society, Series A (2007).
[10] Holme, P., and Saram¨aki, J. Epidemic spreading in
scale-free networks. In Physical Review (2011).
[11] Krishnamurthy, B. A measure of online social
networks. In Proc. International Conference on
Communication Systems and Networks (2009).
[12] Krishnamurthy, B., et al. On the leakage of
personally identiﬁable information via online social
networks. In ACM SIGCOMM Workshop on Online
Social Networks (WoSN) (2009).
[13] Leskovec, J., et al. Graphs over time: Densiﬁcation
laws, shrinking diameters and possible explanations.
In International Conference on Knowledge Discovery
and Data Mining (2005).
[14] Li, L., et al. A ﬁrst principles approach to
understanding the internet’s router-level topology. In
Proc. ACM SIGCOMM (2004).
[15] Mislove, A. and M. Marcon and K. Gummadi
and P. Druschel and B. Bhattacharjee
Measurement and Analysis of Online Social Networks.
In Proc. ACM IMC (2007).
[16] Nazir, A., Raza, S., and Chuah, C.-N. Unveiling
facebook: A measurement study of social network
based applications. In Proc. ACM IMC (2008).
[17] Nazir, A., Raza, S., Gupta, D., Chuah, C.-N.,
and Krishnamurthy, B. Network level footprints of
facebook applications. In Proc. ACM IMC (2009).
[18] Newman, M. E. J. The structure and function of
complex networks. In SIAM Review (2003).
[19] Sala, A., et al. Measurement-calibrated graph
models for social network experiments. In Proc. of
World Wide Web Conference (2010).
[20] Sharan, U., and Neville, J. Temporal-relational
classiﬁers for prediction in evolving domains. In Proc.
of International Conference on Data Mining (2008).
[21] Tang, J., et al. Temporal distance metrics for social
network analysis. In ACM SIGCOMM Workshop on
Online Social Networks (WoSN) (2009).
[22] Torkjazi, M., Rejaie, R., and Willinger, W. Hot
today, gone tomorrow: On the migration of myspace
users. In ACM SIGCOMM Workshop on Online Social
Networks (WoSN) (2009).
[23] Ugander, J., Karrer, B., et al. The anatomy of
the facebook social graph. In ArXiv, Social and
Information Networks (2011).
[24] Valafar, M., et al. Beyond friendship graphs: a
study of user interactions in ﬂickr. In ACM
SIGCOMM Workshop on Online Social Networks
(WoSN) (2009).
[25] Viswanath, B., Mislove, A., Cha, M., and
Gummadi, K. P. On the evolution of user interaction
in facebook. In ACM SIGCOMM Workshop on Online
Social Networks (WoSN) (2009).
[26] App data. http://appdata.com/.
[27] Developer analytics. http://developeranalytics.com/.
[28] Farmville. https://apps.facebook.com/onthefarm/.
[29] Wilson, C., Boe, B., et al. User interactions in
social networks and their implications. In ACM
EuroSys (2009).
479