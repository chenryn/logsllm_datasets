    /src/pytorch/c10/util/ArrayRef.h:41:7: note: declared here
     class ArrayRef final {
           ^~~~~~~~
    /src/pytorch/aten/src/ATen/native/cuda/MaxUnpooling.cu:581:8: warning: ‘IntList’ is deprecated [-Wdeprecated-declarations]
         IntList padding) {
            ^
    /src/pytorch/c10/util/ArrayRef.h:41:7: note: declared here
     class ArrayRef final {
           ^~~~~~~~
    /src/pytorch/aten/src/ATen/native/cuda/MaxUnpooling.cu:581:8: warning: ‘IntList’ is deprecated [-Wdeprecated-declarations]
         IntList padding) {
            ^
    /src/pytorch/c10/util/ArrayRef.h:41:7: note: declared here
     class ArrayRef final {
           ^~~~~~~~
    [1566/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_RangeFactories.cu.o
    [1567/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_Normalization.cu.o
    [1568/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_RNN.cu.o
    [1569/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_Reduce.cu.o
    [1570/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_Repeat.cu.o
    [1571/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_ReflectionPad.cu.o
    [1572/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_ReplicationPadding.cu.o
    [1573/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_Resize.cu.o
    [1574/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_SoftMax.cu.o
    [1575/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_SparseMM.cu.o
    [1576/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_ReduceOpsKernel.cu.o
    [1577/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_SpectralOps.cu.o
    [1578/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_SortingKthValue.cu.o
    [1579/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_SummaryOps.cu.o
    [1580/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_TensorTransformations.cu.o
    /src/pytorch/aten/src/ATen/native/cuda/TensorTransformations.cu(15): warning: variable "at::native::AT_APPLY_THREADS_PER_BLOCK" was declared but never referenced
    /src/pytorch/aten/src/ATen/native/cuda/TensorTransformations.cu(16): warning: variable "at::native::AT_APPLY_BLOCKS_PER_SM" was declared but never referenced
    [1581/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_UnaryOpsKernel.cu.o
    [1582/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_TensorFactories.cu.o
    [1583/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_UpSampleBicubic2d.cu.o
    [1584/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_UpSampleBilinear2d.cu.o
    [1585/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_UpSampleLinear1d.cu.o
    [1586/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_TensorCompare.cu.o
    [1587/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_UpSampleNearest1d.cu.o
    [1588/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_Distributions.cu.o
    [1589/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_UpSampleNearest2d.cu.o
    [1590/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_UpSampleNearest3d.cu.o
    [1591/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/sparse/cuda/torch_generated_SparseCUDABlas.cu.o
    [1592/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_UpSampleTrilinear3d.cu.o
    [1593/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_WeightNorm.cu.o
    [1594/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/sparse/cuda/torch_generated_SparseCUDATensorMath.cu.o
    [1595/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/sparse/cuda/torch_generated_SparseCUDATensor.cu.o
    [1596/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/quantized/cuda/torch_generated_fake_quantize_per_tensor_affine.cu.o
    [1597/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/utils/math/torch_generated_broadcast.cu.o
    [1598/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/core/torch_generated_context_gpu.cu.o
    [1599/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/utils/math/torch_generated_transpose.cu.o
    [1600/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/utils/math/torch_generated_elementwise.cu.o
    [1601/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/utils/math/torch_generated_reduce.cu.o
    [1602/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/__/aten/src/ATen/native/cuda/torch_generated_Unique.cu.o
    [1603/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/operators/torch_generated_channelwise_conv3d_op_cudnn.cu.o
    FAILED: caffe2/CMakeFiles/torch.dir/operators/torch_generated_channelwise_conv3d_op_cudnn.cu.o 
    cd /src/pytorch/build/caffe2/CMakeFiles/torch.dir/operators && /root/miniconda3/envs/torchbeast/bin/cmake -E make_directory /src/pytorch/build/caffe2/CMakeFiles/torch.dir/operators/. && /root/miniconda3/envs/torchbeast/bin/cmake -D verbose:BOOL=OFF -D build_configuration:STRING=Release -D generated_file:STRING=/src/pytorch/build/caffe2/CMakeFiles/torch.dir/operators/./torch_generated_channelwise_conv3d_op_cudnn.cu.o -D generated_cubin_file:STRING=/src/pytorch/build/caffe2/CMakeFiles/torch.dir/operators/./torch_generated_channelwise_conv3d_op_cudnn.cu.o.cubin.txt -P /src/pytorch/build/caffe2/CMakeFiles/torch.dir/operators/torch_generated_channelwise_conv3d_op_cudnn.cu.o.Release.cmake
    /src/pytorch/caffe2/operators/channelwise_conv3d_op_cudnn.cu(102): error: identifier "__ldg" is undefined
    /src/pytorch/caffe2/operators/channelwise_conv3d_op_cudnn.cu(123): error: identifier "__ldg" is undefined
    /src/pytorch/caffe2/operators/channelwise_conv3d_op_cudnn.cu(102): error: identifier "__ldg" is undefined
              detected during instantiation of "void caffe2::DepthwiseConv3dGPUKernelNCHW(caffe2::DepthwiseArgs, const T *, const T *, T *, int) [with T=float]" 
    (380): here
    /src/pytorch/caffe2/operators/channelwise_conv3d_op_cudnn.cu(123): error: identifier "__ldg" is undefined
              detected during instantiation of "void caffe2::DepthwiseConv3dGPUKernelNCHW(caffe2::DepthwiseArgs, const T *, const T *, T *, int) [with T=float]" 
    (380): here
    /src/pytorch/caffe2/operators/channelwise_conv3d_op_cudnn.cu(184): error: identifier "__ldg" is undefined
              detected during instantiation of "void caffe2::DepthwiseConv3dBackpropFilterGPUKernelNCHW(caffe2::DepthwiseArgs, const T *, const T *, T *, int) [with T=float]" 
    (505): here
    /src/pytorch/caffe2/operators/channelwise_conv3d_op_cudnn.cu(303): error: identifier "__ldg" is undefined
              detected during instantiation of "void caffe2::DepthwiseConv3dBackpropInputGPUKernelNCHW(caffe2::DepthwiseArgs, const T *, const T *, T *, int) [with T=float]" 
    (515): here
    6 errors detected in the compilation of "/tmp/tmpxft_00002dce_00000000-14_channelwise_conv3d_op_cudnn.compute_30.cpp1.ii".
    CMake Error at torch_generated_channelwise_conv3d_op_cudnn.cu.o.Release.cmake:279 (message):
      Error generating file
      /src/pytorch/build/caffe2/CMakeFiles/torch.dir/operators/./torch_generated_channelwise_conv3d_op_cudnn.cu.o
    [1604/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/operators/torch_generated_depthwise_3x3_conv_op_cudnn.cu.o
    [1605/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/operators/torch_generated_spatial_batch_norm_op_cudnn.cu.o
    /src/pytorch/cmake/../third_party/eigen/Eigen/src/Core/arch/GPU/PacketMathHalf.h(149): warning: missing return statement at end of non-void function "Eigen::internal::ptrue(const Packet &) [with Packet=half2]"
    /src/pytorch/cmake/../third_party/eigen/Eigen/src/Core/arch/GPU/PacketMathHalf.h(149): warning: missing return statement at end of non-void function "Eigen::internal::ptrue(const Packet &) [with Packet=half2]"
    /src/pytorch/cmake/../third_party/eigen/Eigen/src/Core/arch/GPU/PacketMathHalf.h(149): warning: missing return statement at end of non-void function "Eigen::internal::ptrue(const Packet &) [with Packet=half2]"
    /src/pytorch/cmake/../third_party/eigen/Eigen/src/Core/arch/GPU/PacketMathHalf.h(149): warning: missing return statement at end of non-void function "Eigen::internal::ptrue(const Packet &) [with Packet=half2]"
    /src/pytorch/cmake/../third_party/eigen/Eigen/src/Core/arch/GPU/PacketMathHalf.h(149): warning: missing return statement at end of non-void function "Eigen::internal::ptrue(const Packet &) [with Packet=half2]"
    /src/pytorch/cmake/../third_party/eigen/Eigen/src/Core/arch/GPU/PacketMathHalf.h(149): warning: missing return statement at end of non-void function "Eigen::internal::ptrue(const Packet &) [with Packet=half2]"
    /src/pytorch/cmake/../third_party/eigen/Eigen/src/Core/arch/GPU/PacketMathHalf.h(149): warning: missing return statement at end of non-void function "Eigen::internal::ptrue(const Packet &) [with Packet=half2]"
    /src/pytorch/cmake/../third_party/eigen/Eigen/src/Core/arch/GPU/PacketMathHalf.h(149): warning: missing return statement at end of non-void function "Eigen::internal::ptrue(const Packet &) [with Packet=half2]"
    [1606/3154] Building NVCC (Device) object caffe2/CMakeFiles/torch.dir/utils/torch_generated_math_gpu.cu.o
    ninja: build stopped: subcommand failed.
    Building wheel torch-1.2.0a0+54a63e0
    -- Building version 1.2.0a0+54a63e0
    cmake -GNinja -DBUILD_PYTHON=True -DBUILD_TEST=True -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/src/pytorch/torch -DCMAKE_PREFIX_PATH=/root/miniconda3/envs/torchbeast -DNUMPY_INCLUDE_DIR=/root/miniconda3/envs/torchbeast/lib/python3.7/site-packages/numpy/core/include -DPYTHON_EXECUTABLE=/root/miniconda3/envs/torchbeast/bin/python -DPYTHON_INCLUDE_DIR=/root/miniconda3/envs/torchbeast/include/python3.7m -DPYTHON_LIBRARY=/root/miniconda3/envs/torchbeast/lib/libpython3.7m.so.1.0 -DTORCH_BUILD_VERSION=1.2.0a0+54a63e0 -DUSE_CUDA=True -DUSE_DISTRIBUTED=True -DUSE_NUMPY=True -DUSE_SYSTEM_EIGEN_INSTALL=OFF /src/pytorch
    cmake --build . --target install --config Release -- -j 4
    Traceback (most recent call last):
      File "setup.py", line 756, in 
        build_deps()
      File "setup.py", line 325, in build_deps
        cmake=cmake)
      File "/src/pytorch/tools/build_pytorch_libs.py", line 64, in build_caffe2
        cmake.build(my_env)
      File "/src/pytorch/tools/setup_helpers/cmake.py", line 321, in build
        self.run(build_args, my_env)
      File "/src/pytorch/tools/setup_helpers/cmake.py", line 133, in run
        check_call(command, cwd=self.build_dir, env=env)
      File "/root/miniconda3/envs/torchbeast/lib/python3.7/subprocess.py", line 363, in check_call
        raise CalledProcessError(retcode, cmd)
    subprocess.CalledProcessError: Command '['cmake', '--build', '.', '--target', 'install', '--config', 'Release', '--', '-j', '4']' returned non-zero exit status 1.
i buidling pytorch in docker nvidia/cuda:10.1-cudnn7-devel-ubuntu18.04：  
some of docker commands like this:
    RUN git clone --single-branch --branch v1.2.0 --recursive https://github.com/pytorch/pytorch
    WORKDIR /src/pytorch
    ENV CMAKE_PREFIX_PATH ${CONDA_PREFIX}
    # Added (referencing https://github.com/pytorch/pytorch/blob/master/docker/pytorch/Dockerfile)
    RUN git submodule update --init --recursive
    # Added (referencing https://github.com/pytorch/pytorch/blob/master/docker/pytorch/Dockerfile)
    RUN TORCH_CUDA_ARCH_LIST="3.5 5.2 6.0 6.1 7.0+PTX" TORCH_NVCC_FLAGS="-Xfatbin -compress-all" \
        CMAKE_PREFIX_PATH="$(dirname $(which conda))/../"
    #     pip install -v .
    RUN python setup.py install