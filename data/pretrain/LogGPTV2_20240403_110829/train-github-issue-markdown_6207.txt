 **Elasticsearch version** : 5.0.0-alpha5  
**Plugins installed** : []
**JVM version** : openjdk version "1.8.0_91"
**OS version** : Linux 4.4.0-28-generic #47-Ubuntu SMP Fri Jun 24 10:09:13 UTC
2016 x86_64 x86_64 x86_64 GNU/Linux
**Description of the problem including expected versus actual behavior** :  
when trying to load template with command:  
`curl -v -XPUT http://localhost:9200/_template/template_esb -d
@/path/to/template_esb.json`
I got empty response from server in case template file >1024 bytes.  
In ES I got:  
`[2016-08-11 14:19:10,657][WARN ][http.netty4 ] [7o-5HeP] caught exception
while handling client http traffic, closing connection [id: 0x83358c12,
L:/127.0.0.1:9200 - R:/127.0.0.1:39434]
java.lang.UnsupportedOperationException: unsupported message type:
DefaultFullHttpResponse (expected: ByteBuf, FileRegion)`
If I cut file to be less than 1024 bytes then template created successfully.  
The same template works fine in 5.0.0-alpha1
**Steps to reproduce** :
  1. start ES
  2. prepare template file with size >1024 bytes
  3. curl -XPUT http://localhost:9200/_template/template_esb -d @/path/to/template_esb.json
**Provide logs (if relevant)** :  
`[2016-08-11 14:19:10,657][WARN ][http.netty4 ] [7o-5HeP] caught exception
while handling client http traffic, closing connection [id: 0x83358c12,
L:/127.0.0.1:9200 - R:/127.0.0.1:39434]
java.lang.UnsupportedOperationException: unsupported message type:
DefaultFullHttpResponse (expected: ByteBuf, FileRegion) at
io.netty.channel.nio.AbstractNioByteChannel.filterOutboundMessage(AbstractNioByteChannel.java:260)
at
io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:799)
at
io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1291)
at
io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:748)
at
io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:811)
at
io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:824)
at
io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:804)
at
io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:841)
at io.netty.handler.codec.MessageAggregator.decode(MessageAggregator.java:222)
at
io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)
at
io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)
at
io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)
at
io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)
at
io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293)
at
io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:267)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)
at
io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)
at
io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)
at
io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)
at
io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)
at
io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)
at
io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926)
at
io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:129)
at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:571)
at
io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:474)
at
io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:428)
at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:398) at
io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:877)
at java.lang.Thread.run(Thread.java:745)`
**Describe the feature** :