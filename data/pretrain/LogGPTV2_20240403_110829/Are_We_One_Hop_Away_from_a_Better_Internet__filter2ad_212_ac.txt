ing to well-connected clouds; providers are building out serving
infrastructure [9, 18]; and peering is on the rise [11, 37]. The rise
of video [2] and interactive applications suggests that providers
will continue to seek peering and distributed infrastructure to re-
duce costs and latency. Because traﬃc is concentrating along short
paths, solutions tailored for this setting can have impact, even if
they do not work as well for or do not achieve deployment along
arbitrary Internet paths.
One-hop paths only involve invested parties. The performance of
web traﬃc depends on the intra- and inter-domain routing decisions
of every AS on the path. The source and destination have incentives
to improve performance, as it impacts their quality of experience
and revenue. Transit ASes in the middle are not as directly invested
in the quality of the route. In comparison, one-hop paths bypass
transit, and the only ASes are senders and receivers with motivation
to improve routing.
Internet protocols support communication between neighbors.
An AS can use MEDs, selective advertisements, and BGP commu-
nities to express policy that may impact the routing of neighbors.
ASes are willing to work together [41] using these mechanisms.
However, the mechanisms generally only allow communication to
neighbors: MEDs and communities usually do not propagate past
one hop [36], and selective advertising only controls which neigh-
bors receive a route. This limitation leaves ASes with almost no
ability to aﬀect the routing past their immediate neighbors,12 but
one-hop paths only consist of immediate neighbors.
12Some ASes oﬀer communities to inﬂuence route export.
0123 and aboveNumber of Hops020406080100Percentage of PathsGCE to end-users,  weightedSoftLayer to end-users,  weightedAWS to end-users,  weighted0123 and aboveNumber of Hops020406080100Percentage of PathsGoogle.comGCEBing.comFacebook.com5274.2 Short paths can simplify many problems
Joint traﬃc engineering. BGP does not support the negotiation
of routing and traﬃc engineering between autonomous systems.
Instead, network operators hint via MEDs and prepending, to in-
dicate to neighbor ASes their preferences for incoming traﬃc. The
coarse granularity of these hints and the lack of mechanisms to mu-
tually optimize across AS boundaries result in paths with inﬂated
latencies [41].
Prior work proposed the joint optimization of routing between
neighboring ASes [31]. Yet such protocols become more complex
when they must be designed to optimize paths that traverse inter-
mediate ASes [30], to the point that it is unclear what fairness
and performance properties they guarantee. In comparison, one-
hop paths between provider and end-user ASes reduce the need for
complicated solutions, enabling direct negotiation between the par-
ties that beneﬁt the most. Since the AS path is direct and does not
involve the rest of the Internet, it may be possible to use channels or
protocols outside, alongside, or instead of BGP, without requiring
widespread adoption of changes.
Preventing spoofed traﬃc. Major barriers exist to deploying ef-
fective spooﬁng prevention. First, ﬁlters are only easy to deploy cor-
rectly near the edge of the Internet [6]. Second, existing approaches
do not protect the AS deploying a ﬁlter, but instead prevent that AS
from originating attacks on others. As a result, ASes lack strong
incentives to deploy spooﬁng ﬁlters [6].
The short paths on today’s Internet create a setting where it may
be possible to protect against spooﬁng attacks for large swaths of
the Internet by sidestepping the existing barriers. A cloud provider
like Google that connects directly to most origins should know
valid source addresses for traﬃc over any particular peering and
be able to ﬁlter spoofed traﬃc, perhaps using strict uRPF ﬁlters.
The direct connections address the ﬁrst barrier by removing the
routing complexity that complicates ﬁlter conﬁguration, essentially
removing the core of the Internet from the path entirely. The cloud
provider is the destination,13 removing the second barrier as it can
protect itself by ﬁltering spoofed traﬃc over many ingress links.
While these mechanisms do not prevent all attacks,14 they reduce
the attack surface and may be part of a broader solution.
Limiting preﬁx hijacks. Preﬁx origins can be authenticated with
the RPKI, now being adopted, but it does not enable authentication
of the non-origin ASes along a path [28]. So, a provider having
direct paths does not on its own prevent other ASes from hijacking
the provider’s preﬁxes via longer paths. While RPKI plus direct
paths are not a complete solution by themselves, we view them as
a potential building block towards more secure routing. If an AS
has authenticated its preﬁx announcements–especially an important
content provider or set of end users–it seems reasonable for direct
peers to conﬁgure preferences to prefer one-hop, RPKI-validated
announcements over competing advertisements.
Speeding route convergence. BGP can experience delayed con-
vergence [25], inspiring general clean-slate alternatives such as
HLP [42] and simpler alternatives with restricted policies that have
better convergence properties [39]. Our ﬁndings on the ﬂattening of
the path distribution may make the latter class of solutions appeal-
ing. Speciﬁcally, it may suﬃce to deploy restricted policies based on
BGP next-hop alone [39] for one-hop neighbors. In this as well, the
incentive structure is just right: delayed route failovers can disrupt
popular video content, so the content provider wants to ensure fast
failover to improve the user’s quality of experience.
13Most cloud and content providers are stub networks.
14An attacker can still spoof as a cloud provider in a reﬂection attack.
Avoiding outages. The Internet is susceptible to long-lasting partial
outages in transit ASes [23]. The transit AS lacks visibility into end-
to-end connections, so it may not detect a problem, and the source
and destination lack visibility into or control over transit ASes,
making it diﬃcult to even discern the location of the problem [24].
With a direct path, an AS has much better visibility and control
over its own routing to determine and ﬁx a local problem, or it can
know the other party–also invested in the connection–is to blame.
Proposals exist to enable coordination between providers and end-
user networks [19], and such designs could enable reactive content
delivery that adapts to failures and changes in capacity.
5. RELATED WORK
Previous work observed a trend towards ﬂattening and the cen-
trality of content using active measurements [20], passive moni-
toring [4, 26], and modeling [13]. Our work extends this observa-
tion by measuring to and from a much larger number of networks.
Earlier work showed advantages to allowing direct negotiation be-
tween neighbors [31] and CDNs and access ISPs [19], similar to
approaches we imagine over direct paths. Work showing the beneﬁts
to BGP policy based only on the next hop [39] helps demonstrate
the potential of such approaches. Similarly, ARROW posited that
many routing problems can be lessened by tunneling to a network
that oﬀers reliable transit, and that the ﬂattening Internet means
that one tunnel is often enough [35]. Our work relies on a similar
observation but an even ﬂatter Internet.
6. CONCLUSIONS
As large content and cloud providers have been building out con-
tent distribution infrastructure and engaging in direct peering, many
clients are one AS hop away from important content. This trend to-
wards one-hop paths for important content will likely accelerate,
driven by competitive pressures, and by the need to reduce latency
for improved user experience. The trend suggests that, in a departure
from the current focus on general solutions, interdomain routing and
traﬃc management techniques may beneﬁt from optimizing for the
common case of one-hop paths, a regime where simpler, deployable
solutions may exist.
7. ACKNOWLEDGMENTS
We would like to thank the anonymous reviewers for their valu-
able feedback. We also thank David Choﬀnes for running Sidewalk
Ends AS-path conversion for our traces, Matthew Luckie for help
with Scamper, Matt Calder for RIPE Atlas measurements, and Ji-
tendra Padhye and Ratul Mahajan for helpful conversations. We
thank Google for a Faculty Research Award and for a Cloud Credits
Award. This work was supported in part by the National Science
Foundation grants CNS-1351100 and CNS-1413978.
8. REFERENCES
[1] MaxMind GeoLite Database.
http://dev.maxmind.com/geoip/legacy/geolite/.
[2] Sandvine global Internet phenomena report, 2014.
[3] The CAIDA AS relationships dataset.
http://www.caida.org/data/as-relationships/,
cited February 2015.
[4] B. Ager, W. Mühlbauer, G. Smaragdakis, and S. Uhlig. Web
content cartography. IMC ’11.
[5] B. Augustin, X. Cuvellier, B. Orgogozo, F. Viger,
T. Friedman, M. Latapy, C. Magnien, and R. Teixeira.
Avoiding Traceroute anomalies with Paris Traceroute. IMC
’06.
528[26] C. Labovitz, S. Iekel-Johnson, D. McPherson, J. Oberheide,
and F. Jahanian. Internet inter-domain traﬃc. SIGCOMM
’10.
[27] M. Luckie. Scamper: A scalable and extensible packet prober
for active measurement of the Internet. IMC ’10.
[28] R. Lychev, S. Goldberg, and M. Schapira. BGP security in
partial deployment: Is the juice worth the squeeze?
SIGCOMM ’13.
[29] H. V. Madhyastha, T. Isdal, M. Piatek, C. Dixon, T. Anderson,
A. Krishnamurthy, and A. Venkataramani. iPlane: An
information plane for distributed services. OSDI ’06.
[30] R. Mahajan, D. Wetherall, and T. Anderson. Mutually
controlled routing with independent ISPs. NSDI ’07.
[31] R. Mahajan, D. Wetherall, and T. Anderson.
Negotiation-based routing between neighboring ISPs. NSDI
’05.
[32] Z. M. Mao, J. Rexford, J. Wang, and R. H. Katz. Towards an
accurate AS-level Traceroute tool. SIGCOMM ’03.
[33] J. Mirkovic and E. Kissel. Comparative evaluation of
spooﬁng defenses. IEEE Transactions on Dependable and
Secure Computing, March 2011.
[34] R. Oliveira, D. Pei, W. Willinger, B. Zhang, and L. Zhang.
The (in)completeness of the observed Internet AS-level
structure. IEEE/ACM Transactions on Networking, February
2010.
[35] S. Peter, U. Javed, Q. Zhang, D. Woos, T. Anderson, and
A. Krishnamurthy. One tunnel is (often) enough. SIGCOMM
’14.
[36] B. Quoitin and O. Bonaventure. A survey of the utilization of
the BGP community attribute. Internet-Draft
draft-quoitin-bgp-comm-survey-00, February 2002.
[37] P. Richter, G. Smaragdakis, A. Feldmann, N. Chatzis,
J. Boettger, and W. Willinger. Peering at peerings: On the
role of IXP route servers. IMC ’14.
[38] M. A. Sanchez, F. E. Bustamante, B. Krishnamurthy,
W. Willinger, G. Smaragdakis, and J. Erman. Inter-domain
traﬃc estimation for the outsider. IMC ’14.
[39] M. Schapira, Y. Zhu, and J. Rexford. Putting BGP on the
right path: A case for next-hop routing. HotNets ’10.
[40] Y. Shavitt and U. Weinsberg. Topological trends of Internet
content providers. SIMPLEX ’12.
[41] N. Spring, R. Mahajan, and T. Anderson. The causes of path
inﬂation. SIGCOMM ’03.
[42] L. Subramanian, M. Caesar, C. T. Ee, M. Handley, M. Mao,
S. Shenker, and I. Stoica. HLP: A next generation
inter-domain routing protocol. SIGCOMM ’05.
[43] F. Wang, Z. M. Mao, J. Wang, L. Gao, and R. Bush. A
measurement study on the impact of routing events on
end-to-end Internet path performance. SIGCOMM ’06.
[44] Z. Zhang, Y. Zhang, Y. C. Hu, Z. M. Mao, and R. Bush.
iSPY: detecting IP preﬁx hijacking on my own. SIGCOMM
’08.
[6] R. Beverly, A. Berger, Y. Hyun, and k. claﬀy. Understanding
the eﬃcacy of deployed Internet source address validation
ﬁltering. IMC ’09.
[7] K. Butler, T. R. Farley, P. McDaniel, and J. Rexford. A survey
of BGP security issues and solutions. Proceedings of the
IEEE, January 2010.
[8] X. Cai, J. Heidemann, B. Krishnamurthy, and W. Willinger.
An organization-level view of the Internet and its
implications (extended). Technical report, USC/ISI TR, June
2012.
[9] M. Calder, X. Fan, Z. Hu, E. Katz-Bassett, J. Heidemann,
and R. Govindan. Mapping the expansion of Google’s
serving infrastructure. IMC ’13.
[10] I. Castro, J. C. Cardona, S. Gorinsky, and P. Francois.
Remote peering: More peering without Internet ﬂattening.
CoNEXT ’14.
[11] N. Chatzis, G. Smaragdakis, A. Feldmann, and W. Willinger.
There is more to IXPs than meets the eye. ACM SIGCOMM
CCR, October 2013.
[12] K. Chen, D. R. Choﬀnes, R. Potharaju, Y. Chen, F. E.
Bustamante, D. Pei, and Y. Zhao. Where the sidewalk ends:
Extending the Internet AS graph using traceroutes from P2P
users. CoNEXT ’09.
[13] A. Dhamdhere and C. Dovrolis. The Internet is ﬂat:
Modeling the transition from a transit hierarchy to a peering
mesh. CoNEXT ’10.
[14] B. Edwards, S. Hofmeyr, G. Stelle, and S. Forrest. Internet
topology over time. arXiv preprint, 2012.
[15] X. Fan and J. Heidemann. Selecting representative IP
addresses for Internet topology studies. IMC ’10.
[16] M. T. Fangfei Chen, Ramesh K. Sitaraman. End-user
mapping: Next generation request routing for content
delivery. SIGCOMM ’15.
[17] T. Flach, N. Dukkipati, A. Terzis, B. Raghavan, N. Cardwell,
Y. Cheng, A. Jain, S. Hao, E. Katz-Bassett, and R. Govindan.
Reducing web latency: The virtue of gentle aggression.
SIGCOMM ’13.
[18] A. Flavel, P. Mani, D. Maltz, N. Holt, J. Liu, Y. Chen, and
O. Surmachev. FastRoute: A scalable load-aware anycast
routing architecture for modern CDNs. NSDI ’15.
[19] B. Frank, I. Poese, Y. Lin, G. Smaragdakis, A. Feldmann,
B. Maggs, J. Rake, S. Uhlig, and R. Weber. Pushing
CDN-ISP collaboration to the limit. ACM SIGCOMM CCR,
July 2013.
[20] P. Gill, M. Arlitt, Z. Li, and A. Mahanti. The ﬂattening
Internet topology: Natural evolution, unsightly barnacles or
contrived collapse? PAM ’08.
[21] V. Giotsas, M. Luckie, B. Huﬀaker, and k. claﬀy. Inferring
complex AS relationships. IMC ’14.
[22] J. P. John, E. Katz-Bassett, A. Krishnamurthy, T. Anderson,
and A. Venkataramani. Consensus routing: The Internet as a
distributed system. NSDI ’08.
[23] E. Katz-Bassett, H. V. Madhyastha, J. P. John,
A. Krishnamurthy, D. Wetherall, and T. Anderson. Studying
black holes in the Internet with Hubble. NSDI ’08.
[24] E. Katz-Bassett, C. Scott, D. R. Choﬀnes, I. Cunha,
V. Valancius, N. Feamster, H. V. Madhyastha, T. Anderson,
and A. Krishnamurthy. LIFEGUARD: Practical repair of
persistent route failures. SIGCOMM ’12.
[25] C. Labovitz, A. Ahuja, A. Bose, and F. Jahanian. Delayed
Internet routing convergence. SIGCOMM ’00.
529