    文件无效，无法正常解析，需要手工修改。
\--resume \ (继续中断的扫描)
:   一些扩展的Nmap运行需要很长的时间 \-- 以天计算，这类扫描
    往往不会结束。可以进行一些限制，禁止Nmap在工作时间运行，导致
    网络中断、运行Nmap的主机计划或非计划地重启、或者Nmap自己中断。
    运行Nmap的管理员可以因其它原因取消运行，按下**ctrl-C**
    即可。从头开始启动扫描可能令人不快，幸运的是，如果标准扫描
    (-oN)或Grep扫描(-oG)日志
    被保留，用户可以要求Nmap恢复终止的扫描，只需要简单地使用选项
    \--resume并说明标准/Grep扫描输出文件，不允许
    使用其它参数，Nmap会解析输出文件并使用原来的格式输出。使用方式
    如**nmap \--resume *\***。
    Nmap将把新地结果添加到文件中，这种方式不支持XML输出格式，原因是
    将两次运行结果合并至一个XML文件比较困难。
\--stylesheet \ (设置XSL样式表，转换XML输出)
:   Nmap提从了XSL样式表nmap.xsl，用于查看
    或转换XML输出至HTML。XML输出包含了一个xml-stylesheet，
    直接指向nmap.xml文件，
    该文件由Nmap安装(或位于Windows当前工作目录)。在Web浏览器
    中打开Nmap的XML输出时，将会在文件系统中寻找nmap.xsl文件，
    并使用它输出结果。如果希望使用不同的样式表，将它作为
    \--stylesheet的参数，必段指明完整的路
    径或URL，常见的调用方式是\--stylesheet
    http://www.insecure.org/nmap/data/nmap.xsl。
    这告诉浏览器从Insecire.Org中加载最新的样式表。这使得
    没安装Nmap(和nmap.xsl)
    的机器中可以方便地查看结果。因此，URL更方便使用，本地文件系统
    的nmap.xsl用于默认方式。
\--no-stylesheet (忽略XML声明的XSL样式表)
:   使用该选项禁止Nmap的XML输出关联任何XSL样式表。
    xml-stylesheet指示被忽略。
[]{#13}
## 其它选项
本节描述一些重要的(和并不重要)的选项，这些选项 不适合其它任何地方。
-6 (启用IPv6扫描)
:   从2002年起，Nmap提供对IPv6的一些主要特征的支持。ping扫描(TCP-only)、
    连接扫描以及版本检测都支持IPv6。除增加-6选项外，
    其它命令语法相同。当然，必须使用IPv6地址来替换主机名，如
    3ffe:7501:4819:2000:210:f3ff:fe03:14d0。
    除"所关注的端口"行的地址部分为IPv6地址。
    IPv6目前未在全球广泛采用，目前在一些国家(亚洲)应用较多，
    一些高级操作系统支持IPv6。使用Nmap的IPv6功能，扫描的源和目
    的都需要配置IPv6。如果ISP(大部分)不分配IPv6地址，Nmap可以采用
    免费的隧道代理。一种较好的选择是BT
    Exact，位于[https://tb.ipv6.btexact.com/](https://tb.ipv6.btexact.com/){target="_top"}。
    此外，还有Hurricane
    Electric，位于[http://ipv6tb.he.net/](http://ipv6tb.he.net/){target="_top"}。6to4隧道是
    另一种常用的免费方法。
-A (激烈扫描模式选项)
:   这个选项启用额外的高级和高强度选项，目前还未确定代表
    的内容。目前，这个选项启用了操作系统检测(-O)
    和版本扫描(-sV)，以后会增加更多的功能。
    目的是启用一个全面的扫描选项集合，不需要用户记忆大量的
    选项。这个选项仅仅启用功能，不包含用于可能所需要的
    时间选项(如-T4)或细节选项(-v)。
\--datadir \ (说明用户Nmap数据文件位置)
:   Nmap在运行时从文件中获得特殊的数据，这些文件有 nmap-service-probes，
    nmap-services， nmap-protocols， nmap-rpc， nmap-mac-prefixes和
    nmap-os-fingerprints。Nmap首先
    在\--datadir选项说明的目录中查找这些文件。
    未找到的文件，将在BMAPDIR环境变量说明的目录中查找。
    接下来是用于真正和有效UID的\~/.nmap
    或Nmap可执行代码的位置(仅Win32)；然后是是编译位置，
    如/usr/local/share/nmap 或/usr/share/nmap。
    Nmap查找的最后一个位置是当前目录。
\--send-eth (使用原以太网帧发送)
:   要求Nmap在以太网(数据链路)层而不是IP(网络层)发送
    报文。默认方式下，Nmap选择最适合其运行平台的方式，原套接
    字(IP层)是UNIX主机最有效的方式，而以太网帧最适合Windows操作
    系统，因为Microsoft禁用了原套接字支持。在UNIX中，如果没有其
    它选择(如无以太网连接)，不管是否有该选项，Nmap都使用原IP包。
\--send-ip (在原IP层发送)
:   要求Nmap通过原IP套接字发送报文，而不是低层的以
    太网帧。这是\--send-eth选项的补充。
\--privileged (假定用户具有全部权限)
:   告诉Nmap假定其具有足够的权限进行源套接字包发送、
    报文捕获和类似UNIX系统中根用户操作的权限。默认状态下，
    如果由getuid()请求的类似操作不为0，Nmap将退出。
    \--privileged在具有Linux内核性能的类似
    系统中使用非常有效，这些系统配置允许非特权用户可以进行
    原报文扫描。需要明确的是，在其它选项之前使用这些需要权
    限的选项(SYN扫描、操作系统检测等)。Nmap-PRIVILEGED变量
    设置等价于\--privileged选项。
\--interactive (在交互模式中启动)
:   在交互模式中启动Nmap，提供交互式的Nmap提示，便于
    进行多个扫描(同步或后台方式)。对于从多用户系统中扫描
    的用户非常有效，这些用户常需要测试他们的安全性，但不希望
    系统中的其它用户知道他们扫描哪些系统。使用\--interactive
    激活这种方式，然后输入**h**可
    获得帮助信息。由于需要对正确的shell程序和整个功能非常熟悉，
    这个选项很少使用。这个选项包含了一个!操作符，用于执行shell命令，
    这是不安装Nmap setuid root的多个原因之一。
-V; \--version (打印版本信息)
:   打印Nmap版本号并退出。
-h; \--help (打印帮助摘要面)
:   打印一个短的帮助屏幕，列出大部分常用的
    命令选项，这个功能与不带参数运行Nmap是相同的。
[]{#14}
## 实例
下面给出一些实例，简单的、复杂的到深奥的。为更具体，一
些例子使用了实际的IP地址和域名。在这些位置，可以使用*你自己网络*
的地址/域名替换。注意，扫描其它网络不一定合法，一些网络管理员不愿看到
未申请过的扫描，会产生报怨。因此，先获得允许是最好的办法。
如果是为了测试，scanme.nmap.org
允许被扫描。但仅允许使用Nmap扫描并禁止测试漏洞或进行DoS攻击。为
保证带宽，对该主机的扫描每天不要超过12次。如果这个免费扫描服务被
滥用，系统将崩溃而且Nmap将报告解析
指定的主机名/IP地址失败：scanme.nmap.org。这些免
费扫描要求也适用于scanme2.nmap.org、 scanme3.nmap.org等等，虽然这些
主机目前还不存在。
**nmap -v scanme.nmap.org**
这个选项扫描主机scanme.nmap.org中
所有的保留TCP端口。选项-v启用细节模式。
**nmap -sS -O scanme.nmap.org/24**
进行秘密SYN扫描，对象为主机Saznme所在的"C类"网段
的255台主机。同时尝试确定每台工作主机的操作系统类型。因为进行SYN扫描
和操作系统检测，这个扫描需要有根权限。
**nmap -sV -p 22，53，110，143，4564 198.116.0-255.1-127**
进行主机列举和TCP扫描，对象为B类188.116网段中255个8位子网。这
个测试用于确定系统是否运行了sshd、DNS、imapd或4564端口。如果这些端口
打开，将使用版本检测来确定哪种应用在运行。
**nmap -v -iR 100000 -P0 -p 80**
随机选择100000台主机扫描是否运行Web服务器(80端口)。由起始阶段
发送探测报文来确定主机是否工作非常浪费时间，而且只需探测主机的一个端口，因
此使用-P0禁止对主机列表。
**nmap -P0 -p80 -oX logs/pb-port80scan.xml -oG logs/pb-port80scan.gnmap
216.163.128.20/20**
扫描4096个IP地址，查找Web服务器(不ping)，将结果以Grep和XML格式保存。
**host -l company.com \| cut -d -f 4 \| nmap -v -iL -**
进行DNS区域传输，以发现company.com中的主机，然后将IP地址提供给
Nmap。上述命令用于GNU/Linux \-- 其它系统进行区域传输时有不同的命令。
:::
:::
::: {#copyright}
©Nmap.com.cn
:::
:::