## IMPORTANT: DevOps Kit (AzSK) is being sunset by end of FY21. More details [here](../../../ReleaseNotes/AzSKSunsetNotice.md)
----------------------------------------------
StorageDescription & RationaleControlSeverityAutomatedFix ScriptThe Access Type for containers must not be set to 'Anonymous'Data in containers that have anonymous access can be downloaded by anyone on the internet without authentication. This can lead to a compromise of corporate data. HighYesYesAlert rules must be configured for tracking anonymous activityAlert rules for anonymous authentication requests enable you to detect any suspicious and malicious activity early and respond in a timely manner.HighYesYesStorage Account must be configured to log and monitor authentication request dataLogging and monitoring of authentication request data can help to detect suspicious and malicious activities early and respond in a timely manner.MediumYesYesHTTPS protocol must be used for accessing Storage Account resourcesUse of HTTPS ensures server/service authentication and protects data in transit from network layer man-in-the-middle, eavesdropping, session-hijacking attacks. When enabling HTTPS one must remember to simultaneously disable access over plain HTTP else data can still be subject to compromise over clear text connections.HighYesYesUse IP-restrictions in SAS tokens to only permit access from intended IP addressesUsing appropriate IP-based ACLs ensures that data in storage is protected and accessible only to entities from an expected set of endpoints.MediumNoNoEnd user/client apps should access Storage Account through SAS token only (and not via Storage Account Key)A shared access signature (SAS) provides you with a way to grant limited access to objects in your Storage Account to other clients, without exposing your account key. This is in accordance with the principle of least privilege access.HighNoNoStorage Account keys must be rotated periodicallyPeriodic key/password rotation is a good security hygiene practice as, over time, it minimizes the likelihood of data loss/compromise which can arise from key theft/brute forcing/recovery attacks.MediumNoNoUse Stored Access Policies with least privileges needed to access services in the Storage Account.Granting minimum access ensures that users are granted just enough permissions to perform their tasks. This minimizes operations that can be performed on the resource in case of access policy key compromise.HighNoNoEnsure that CORS access is granted to a minimal set of trusted origins and only required verbs are supported.CORS enables applications running under one domain to access a resource under another domain. Using '*' (allow all) for CORS setting means that an application running under any domain can have access to your application's resources and data. Restricting allowed origins to the specific set that needs access aligns with the principle of least privilege.MediumYesNoEnsure that Firewall and Virtual Network access is granted to a minimal set of trusted originsRestricting access using firewall/virtual network config reduces network exposure of a storage account by limiting access only to expected range/set of clients. Note that this depends on the overall service architecture and may not be possible to implement in all scenarios.MediumYesNoSoft delete should be enabled to allow recovery of deleted blobs or blob snapshotsEnabling soft delete feature on Storage acts as a safety measure to recover inadvertently or maliciously deleted blobs or blob snapshots. If your data is critical, this can be a valuable BC/DR mechanism.MediumYesNoAll users/identities must be granted minimum required permissions using Role Based Access Control (RBAC)Granting minimum access by leveraging RBAC feature ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user/service account compromise.MediumYesNoUse AAD-based access for storage accountWhere possible, use AAD-based identities (SPNs/groups/Users) to grant access to storage accounts using minimum RBAC roles. Wherever the client supports it, the SPN-type used should be a 'Managed Service Identity'(MSI). The identity is managed by the Azure platform and eliminates the need to provision/manage/rotate any secrets thus reducing the overall risk. Using the native enterprise directory for authentication ensures that there is a built-in high level of assurance in the user identity established for subsequent access control.MediumYesNo