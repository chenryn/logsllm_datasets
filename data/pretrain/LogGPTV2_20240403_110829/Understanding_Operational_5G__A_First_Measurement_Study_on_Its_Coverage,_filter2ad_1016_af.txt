(2016), 20–53.
[25] Stanley CF Chan, KM Chan, Ke Liu, and Jack YB Lee. 2013. On queue length and
link buffer size estimation in 3G/4G mobile data networks. IEEE Transactions on
Mobile Computing 13, 6 (2013), 1298–1311.
[26] Hsin-Hung Cho, Chin-Feng Lai, Timothy K Shih, and Han-Chieh Chao. 2014.
Integration of SDR and SDN for 5G. IEEE Access 2 (2014), 1196–1204.
[27] D. Clark. 1988. The Design Philosophy of the DARPA Internet Protocols. SIG-
COMM Comput. Commun. Rev. 18, 4 (1988).
[28] Ben Cox, Jan G Laufer, Simon R Arridge, Paul C Beard, A Jan G Laufer, A Simon R
Arridge, et al. 1984. Long range dependence: A review. In Iowa State University.
Citeseer.
[29] Ning Ding, Daniel Wagner, Xiaomeng Chen, Abhinav Pathak, Y Charlie Hu, and
Andrew Rice. 2013. Characterizing and modeling the impact of wireless signal
strength on smartphone battery drain. ACM SIGMETRICS Performance Evaluation
Review 41, 1 (2013), 29–40.
[30] Wikipedia enciclopedia libera. 2019. System-on-a-Chip. https://ro.wikipedia.org/
wiki/System-on-a-Chip. (2019).
[31] FierceWireless. 2013.
Propagation
at-t-s-harp-tool-tackling-smart-cell-propagation-challenge. (2013).
Challenge.
AT&T’s HARP Tool Tackling Smart Cell
https://www.fiercewireless.com/tech/
[32] Cheng Peng Fu and Soung C Liew. 2003. TCP Veno: TCP enhancement for
transmission over wireless access networks. IEEE Journal on selected areas in
communications 21, 2 (2003), 216–228.
[33] Jim Gettys and Kathleen Nichols. 2011. Bufferbloat: Dark buffers in the internet.
Queue 9, 11 (2011), 40–54.
//about.att.com/innovationblog/2019/06/ants_and_5g.html. (2019).
[34] Arun Ghosh. 2019. Using High Tech ANTS to Unlock 5G’s Potential. https:
491
[35] Asvin Gohil, Hardik Modi, and Shobhit K Patel. 2013. 5G technology of mobile
[36] Google. 2019. Tools for Web Developers. https://developers.google.com/web/
communication: A survey. In ISSP. IEEE.
tools/chrome-devtools?hl=zh-cn. (2019).
[37] Yu Guan, Chengyuan Zheng, Xinggong Zhang, Zongming Guo, and Junchen
Jiang. 2019. Pano: Optimizing 360 video streaming with a better understanding
of quality perception. In ACM SIGCOMM.
[38] Yihua Guo, Feng Qian, Qi Alfred Chen, Zhuoqing Morley Mao, and Subhabrata
Sen. 2016. Understanding on-device bufferbloat for cellular upload. In ACM IMC.
[39] Sangtae Ha, Injong Rhee, and Lisong Xu. 2008. CUBIC: a new TCP-friendly
high-speed TCP variant. ACM SIGOPS operating systems review 42, 5 (2008),
64–74.
[40] Fourat Haider, Cheng-Xiang Wang, Harald Haas, Dongfeng Yuan, Haiming Wang,
Xiqi Gao, Xiao-Hu You, and Erol Hepsaydir. 2011. Spectral efficiency analysis of
mobile femtocell based cellular systems. In IEEE ICCT.
[41] Pan Hu, Pengyu Zhang, Mohammad Rostami, and Deepak Ganesan. 2016. Braidio:
An integrated active-passive radio for mobile devices with asymmetric energy
budgets. In ACM SIGCOMM.
[42] Junxian Huang, Feng Qian, Alexandre Gerber, Z Morley Mao, Subhabrata Sen,
and Oliver Spatscheck. 2012. A close examination of performance and power
characteristics of 4G LTE networks. In ACM MobiSys.
[43] Junxian Huang, Feng Qian, Yihua Guo, Yuanyuan Zhou, Qiang Xu, Z Morley Mao,
Subhabrata Sen, and Oliver Spatscheck. 2013. An in-depth study of LTE: effect
of network protocol and application behavior on performance. ACM SIGCOMM
Computer Communication Review 43, 4 (2013), 363–374.
[44] Ehab Ahmed Ibrahim, MRM Rizk, and Ehab F Badran. 2015. Study of lte-r
x2 handover based on a3 event algorithm using matlab. In 2015 International
Conference on Information and Communication Technology Convergence (ICTC).
IEEE, 1155–1159.
[45] ifeng net. 2019. From NSA to SA: 5G network evolution roadmap. https://tech.
ifeng.com/c/7onp0cB69lw. (2019).
[46] Haiqing Jiang, Zeyu Liu, Yaogong Wang, Kyunghan Lee, and Injong Rhee. 2012.
Understanding bufferbloat in cellular networks. In Proceedings of the 2012 ACM
SIGCOMM workshop on Cellular networks: operations, challenges, and future design.
1–6.
[47] Yurong Jiang, Lenin Ravindranath Sivalingam, Suman Nath, and Ramesh Govin-
dan. 2016. WebPerf: Evaluating what-if scenarios for cloud-hosted web applica-
tions. In ACM SIGCOMM.
[48] jocelyndang. 2017. Battery Historian is a tool to analyze battery consumers using
Android "bugreport" files. https://github.com/google/battery-historian. (2017).
[49] kevinkong. 2019. Android performance test tool-CPU,memory,network traf-
https://github.com/NetEase/
fic,starting time,battery current and status.
Emmagee. (2019).
[50] Tarmo Koppel, Andrei Shishkin, Heldur Haldre, Nikolajs Toropovs, Inese Vilcane,
and Piia Tint. 2017. Reflection and Transmission Properties of Common Con-
struction Materials at 2.4 GHz Frequency. Energy Procedia 113 (2017), 158 – 165.
https://doi.org/10.1016/j.egypro.2017.04.045 International Scientific Conference
“Environmental and Climate Technologies”, CONECT 2016, 12-14 October 2016,
Riga, Latvia.
[51] Swarun Kumar, Ezzeldin Hamed, Dina Katabi, and Li Erran Li. 2014. LTE Radio
[52] Juho Lee and Yongjun Kwak. 2016. 5G standard development: technology and
Analytics Made Easy and Accessible. In Proceedings of ACM SIGCOMM.
roadmap. Signal Processing for 5G (2016).
[53] Li Li, Ke Xu, Tong Li, Kai Zheng, Chunyi Peng, Dan Wang, Xiangxiang Wang,
Meng Shen, and Rashid Mijumbi. 2018. A measurement study on multi-path tcp
with multiple cellular carriers on high speed rails. In ACM SIGCOMM.
[54] Yuanjie Li, Haotian Deng, Jiayao Li, Chunyi Peng, and Songwu Lu. 2016. Instabil-
ity in distributed mobility management: Revisiting configuration management
in 3g/4g mobile networks. In ACM SIGMETRICS.
[55] Yuanjie Li, Chunyi Peng, Zengwen Yuan, Haotian Deng, Jiayao Li, and Tao Wang.
2017. Mobileinsight: Analyzing cellular network information on smartphones.
GetMobile 21, 1 (2017), 39–42.
[56] Ming Liu, Tianyi Cui, Henry Schuh, Arvind Krishnamurthy, Simon Peter, and
Karan Gupta. 2019. Offloading distributed applications onto smartNICs using
iPipe. In ACM SIGCOMM.
[57] Lu Lu, Geoffrey Ye Li, A Lee Swindlehurst, Alexei Ashikhmin, and Rui Zhang.
2014. An overview of massive MIMO: Benefits and challenges. IEEE journal of
selected topics in signal processing 8, 5 (2014), 742–758.
[58] Bruce A. Mah. 2019. iperf 3.7. https://github.com/esnet/iperf/releases/tag/3.7.
(2019).
[59] monsoon company. 2019. A battery used to measure a user’s electric quantity.
https://www.msoon.com/online-store. (2019).
[60] Arvind Narayanan, Jason Carpenter, Eman Ramadan, Qingxu Liu, Yu Liu, Feng
Qian, and Zhi-Li Zhang. 2019. A First Measurement Study of Commercial
mmWave 5G Performance on Smartphones. arXiv preprint arXiv:1909.07532
(2019).
[61] Arvind Narayanan, Eman Ramadan, Jason Carpenter, Qingxu Liu, Yu Liu, Feng
Qian, and Zhi-Li Zhang. 2020. A First Look at Commercial 5G Performance on
Smartphones. In Proceedings of The Web Conference 2020 (WWW ’20). Association
for Computing Machinery, New York, NY, USA, 894–905. https://doi.org/10.1145/
3366423.3380169
[62] Navid Nikaein, Mahesh K Marina, Saravana Manickam, Alex Dawson, Raymond
Knopp, and Christian Bonnet. 2014. OpenAirInterface: A flexible platform for 5G
research. ACM SIGCOMM Computer Communication Review 44, 5 (2014), 33–38.
[63] Ashkan Nikravesh, Hongyi Yao, Shichang Xu, David Choffnes, and Z Morley
Mao. 2015. Mobilyzer: An open platform for controllable mobile network mea-
surements. In ACM MobiSys.
routers/5g-cpe-pro/. (2019).
[64] HUAWEI office. 2019. HUAWEI 5G CPE Pro. https://consumer.huawei.com/cn/
[65] ZTE office. 2019. ZTE Axon10 pro. https://www.ztedevices.com/cn/product/
smart-phone/axon_10s_pro. (2019). This is the first commercial 5G device in
China.
[66] 3GPP Org. 2019. 3GPP Release 15. https://www.3gpp.org/release-15. (2019).
Update of April 26, 2019.
[67] Mugen Peng, Yong Li, Zhongyuan Zhao, and Chonggang Wang. 2015. System
architecture and key technologies for 5G heterogeneous cloud radio access net-
works. IEEE network 29, 2 (2015), 6–14.
com/piaobozaizai/5G_measurement. (2020).
[68] piaobozaizai. 2020. A series of 5G measurement tools and dataset. https://github.
[69] Qualcomm.
formance.
signals-research-group-s-5g-benchmark-study.pdf. (2019).
A Global Perspective of
5G Network Per-
https://www.qualcomm.com/media/documents/files/
[70] Qualcomm.org. 2020. Snapdragon 855 Mobile Platform. https://www.qualcomm.
2019.
com/products/snapdragon-855-mobile-platform. (2020).
[71] Gaurav Raina, Don Towsley, and Damon Wischik. 2005. Part II: Control theory
for buffer sizing. ACM SIGCOMM CCR 35, 3 (2005), 79–82.
[72] Ignacio Rodriguez, Huan C Nguyen, Niels TK Jørgensen, Troels B Sørensen, Jan
Elling, Morten B Gentsch, and Preben Mogensen. 2013. Path loss validation for
urban micro cell scenarios at 3.5 GHz compared to 1.9 GHz. In IEEE GLOBECOM.
[73] Ghoul Smail and Jia Weijia. 2017. Techno-economic analysis and prediction for
the deployment of 5G mobile network. In 2017 20th Conference on innovations in
clouds, internet and networks (ICIN). IEEE, 9–16.
[74] Marco Sousa, André Martins, and Pedro Vieira. 2016. Tracking Down High
Interference and Low Coverage in 3G/4G Radio Networks Using Automatic RF
Measurement Extraction. In International Conference on E-Business and Telecom-
munications. Springer, 401–425.
[75] Zhaowei Tan, Yuanjie Li, Qianru Li, Zhehui Zhang, Zhehan Li, and Songwu Lu.
2018. Supporting mobile VR in LTE networks: How close are we? ACM POMACS
2, 1 (2018), 1–31.
[76] Insta360 team. 2019. Insta360 ONEX API. https://www.insta360.com/download/
insta360-onex. (2019).
[77] Juan Pedro Tomas. 2019.
report.
5G base stations:
china-mobile-alread-operates-50000-5g-base-stations-report. (2019).
China Mobile already operates 50,000
https://www.rcrwireless.com/20191119/5g/
[78] Guan-Hua Tu, Yuanjie Li, Chunyi Peng, Chi-Yu Li, Hongyi Wang, and Songwu Lu.
2014. Control-plane protocol interactions in cellular networks. ACM SIGCOMM
Computer Communication Review 44, 4 (2014), 223–234.
[79] Cheng-Xiang Wang, Fourat Haider, Xiqi Gao, Xiao-Hu You, Yang Yang, Dongfeng
Yuan, Hadi M Aggoune, Harald Haas, Simon Fletcher, and Erol Hepsaydir. 2014.
Cellular architecture and key technologies for 5G wireless communication net-
works. IEEE communications magazine 52, 2 (2014), 122–130.
[80] Jing Wang, Yufan Zheng, Yunzhe Ni, Chenren Xu, Feng Qian, Wangyang Li,
Wantong Jiang, Yihua Cheng, Zhuo Cheng, Yuanjie Li, et al. 2019. An active-
passive measurement study of tcp performance over lte on high-speed rails. In
ACM MobiCom.
[81] Li Wang and Huaqing Wu. 2014. Fast pairing of device-to-device link underlay
for spectrum sharing with cellular users. IEEE Communications Letters 18, 10
(2014), 1803–1806.
[82] Song Wang, Jingqi Huang, Xinyu Zhang, Hyoil Kim, and Sujit Dey. 2020. X-Array:
Approximating Omnidirectional Millimeter-Wave Coverage Using an Array of
Phased Arrays. In Proceedings of the 26th Annual International Conference on
Mobile Computing and Networking (MobiCom). Article 5, 14 pages.
[83] Teng Wei, Anfu Zhou, and Xinyu Zhang. 2017. Facilitating Robust 60 GHz
Network Deployment by Sensing Ambient Reflectors. In Proceedings of the 14th
USENIX Conference on Networked Systems Design and Implementation (NSDI’17).
USENIX Association, USA, 213–226.
[84] Jeroen Wigard, Troels Kolding, Lars Dalsgaard, and Claudio Coletti. 2009. On the
user performance of LTE UE power savings schemes with discontinuous reception
in LTE. In 2009 IEEE International Conference on Communications Workshops. IEEE,
1–5.
[85] Damon Wischik and Nick McKeown. 2005. Part I: Buffer sizes for core routers.
[89] Xiufeng Xie, Xinyu Zhang, Swarun Kumar, and Li Erran Li. 2015. pistream:
ACM SIGCOMM CCR 35, 3 (2005), 75–78.
[86] Gang Wu, Chenyang Yang, Shaoqian Li, and Geoffrey Ye Li. 2015. Recent advances
in energy-efficient networks and their application in 5G systems. IEEE Wireless
Communications 22, 2 (2015), 145–151.
[87] Feng Xia, Laurence T Yang, Lizhe Wang, and Alexey Vinel. 2012. Internet of
things. International journal of communication systems 25, 9 (2012), 1101.
[88] Xiufeng Xie and Xinyu Zhang. 2017. Poi360: Panoramic mobile video telephony
over lte cellular networks. In ACM CoNext. ACM, 336–349.
Physical layer informed adaptive video streaming over lte. In ACM MobiCom.
[90] Xiufeng Xie, Xinyu Zhang, and Shilin Zhu. 2017. Accelerating mobile web loading
using cellular link information. In ACM MobiSys. 427–439.
[91] Yasir Zaki, Thomas Pötsch, Jay Chen, Lakshminarayanan Subramanian, and
Carmelita Görg. 2015. Adaptive Congestion Control for Unpredictable Cellular
Networks. In Proc. of ACM SIGCOMM.
robotic telesurgery. arXiv preprint arXiv:1803.03586 (2018).
[93] Xu Zhang, Siddhartha Sen, Daniar Kurniawan, Haryadi Gunawi, and Junchen
Jiang. 2019. E2E: embracing user heterogeneity to improve quality of experience
on the web. In ACM SIGCOMM.
[94] Peng zhao. 2020. Last year, 13.76 million 5G mobile phones were shipped, and
this year’s sales may exceed 170 million. http://www.bjd.com.cn/a/202001/16/
WS5e1fca44e4b0e6e583938e4d.html. (2020).
[92] Qi Zhang, Jianhui Liu, and Guodong Zhao. 2018. Towards 5G enabled tactile
[95] Anfu Zhou, Shaoqing Xu, Song Wang, Jingqi Huang, Shaoyuan Yang, Teng Wei,
Xinyu Zhang, and Huadong Ma. 2019. Robot Navigation in Radio Beam Space:
Leveraging Robotic Intelligence for Seamless MmWave Network Coverage. In
Proceedings of the Twentieth ACM International Symposium on Mobile Ad Hoc
Networking and Computing (Mobihoc ’19). Association for Computing Machinery,
New York, NY, USA, 161–170. https://doi.org/10.1145/3323679.3326514
[96] Anfu Zhou, Huanhuan Zhang, Guangyuan Su, Leilei Wu, Ruoxuan Ma, Zhen
Meng, Xinyu Zhang, Xiufeng Xie, Huadong Ma, and Xiaojiang Chen. 2019. Learn-
ing to Coordinate Video Codec with Transport Protocol for Mobile Video Tele-
phony. In The 25th Annual International Conference on Mobile Computing and
Networking, MobiCom 2019, Los Cabos, Mexico, October 21-25, 2019. ACM, 29:1–
29:16. https://doi.org/10.1145/3300061.3345430
[97] Lei Zhou, Haibo Xu, Hui Tian, Youjun Gao, Lei Du, and Lan Chen. 2008. Perfor-
mance analysis of power saving mechanism with adjustable DRX cycles in 3GPP
LTE. In IEE VTC.
[98] Yibo Zhu, Zengbin Zhang, Zhinus Marzi, Chris Nelson, Upamanyu Madhow,
Ben Y. Zhao, and Haitao Zheng. 2014. Demystifying 60GHz outdoor picocells. In
The 20th Annual International Conference on Mobile Computing and Networking,
MobiCom’14, Maui, HI, USA, September 7-11, 2014, Sung-Ju Lee, Ashutosh Sabhar-
wal, and Prasun Sinha (Eds.). ACM, 5–16. https://doi.org/10.1145/2639108.2639121
492
Specifically, a mobile device actively uploads periodic MR through
RRC signaling. The MR contains the signal quality (RSRP, RSRQ,
etc) of the serving cell and the neighboring auxiliary cell. Then,
the serving cell decides whether to allow/trigger the mobile phone
to hand-off. In 4G LTE or 5G NR, there are seven hand-off related
events, as shown in Tab. 5. In our analysis in Sec. 3.4 and 4.3. From
our measurement, A3 is the dominant event, which indicates that
the cellular operator mainly uses this event to trigger hand-offs.
We proceed to detail the handoff-procedure in 5G NSA. Note that
5G radio resource is controlled by the 4G master eNB under the NSA
infrastructure, so a hand-off from a 5G source gNB (referred to as
S-gNB) and a target gNB (referred to as T-gNB) will undergo a more
complicated signaling procedure. Fig. 24 plots the procedure that
we reverse engineered based on the signaling message traces from
XCAL-Mobile. To focus on the hand-off, we only present the signal
exchange of the control plane, and omit the data transfer on the user
plane. In particular, the whole hand-off process can be divided into
four phases: UE (user equipment, i.e., a smartphone in our setting)
measurement, results reporting, HO decision and HO execution: (i)
The UE periodically monitors the physical signal from the serving
gNB and neighboring gNBs, and uses key performance indicators
(i.e., RSRP, RSRQ) to quantify the channel quality. (ii) Then, the
UE feedbacks the measurement report to the S-eNB, which lets
the S-eNB be aware of the channel quality variation in real-time,
and make the HO decision correspondingly. (iii) After comparing