Record Live Stream 
Play and Record Live Stream 
Convert Stream to MP4
No video capture utility is perfect, and do not expect this option to work every time. However, it is one of the 
best options we have. If you investigate targets who stream live video, this is a tool you must possess at all times.
Figure 4.05: The Video Stream Tool menu and progress.
[error: No plugin can handle URL: https://ktla.con/on-air/ 
live-streaming/
ostntfosint:• :: 
./streanlink.sh
[clt][info] Found Hatching plugin his for URL https://dcs 
-live.apis.anvato.net/server/play/50ZGbepT8XD8SCRA/rendir 
ion.n3u8?track=video-28anvsid=il76161005-na06c5d31-18f9-4 
292-b3a9-alef016b360e&ts=1684184596&anvtrid=w43aa5566a63b 
07O2alOcdlaa9d769a8
[clt][info] Available streams: live (worst, best) 
[cli][info] Opening stream: live (his) 
i[clt][info] Starting player: /usr/bin/vlc
This utility works well with most live and pre-recorded video streams within popular platforms such as Twitch 
and Vimeo. However, some sites cause errors. I prefer to use this tool in tandem with the Stream Detector 
extension previously mentioned. Let’s conduct a live demonstration.
exit;;
$opt4 )
zenity —info —text="The next window will prompt you for a target stream file."
—title="Stream Converter"
file=$(zenity —file-selection —title "Video Stream")
ffmpeg -i $file -c copy -/Videos/stream.mp4
nautilus -/Videos/
exit;;esac
After entering the live news video stream from KTLA at https://ktla.com/on-air/live-streaming into the Video 
Stream Tool, I was notified "No plugin can handle URL.". However, when I loaded this site within my custom 
Firefox build, I could see that the Stream Detector extension captured the M3U8 stream from this live broadcast. 
I clicked on the stream to copy the link and then re-opened the Video Stream Tool. 1 chose the option to Play 
and Record Live Stream" and entered this new URL. Strcamlink immediately began playing and archiving the 
video since I had provided the direct stream. Figure 4.06 displays these results. Notice the error when providing 
a generic URL (ktla.com), but a successful capture when entering the exact stream (anvato.net).
Instagram Tool
Linux Applications
63
cd -/Desktop
instalooter user mikeb 
instaloader user mikeb
sudo -H pip install instalooter 
sudo -H pip install instaloader 
sudo -H pip install toutatis
Now that you have all programs installed, we can test them. Start with the following commands for Instaloader 
and Instalooter within Terminal. Please note this is not my account but serves as a good demonstration with 
minimal content.
If you wanted to log in to your own Instagram account in order to see additional content which may be restricted 
otherwise, you could enter the following instead, replacing the content within brackets with your actual 
credentials.
Instalooter should have downloaded several individual images to your Desktop, while Instaloader should have 
created a new folder titled mikeb on your Desktop containing the same images. Since these two programs save 
data in a unique way, our script will need unique options for each. The entire custom script is tided 
"instagram.sh" within the "vm-files" archive. In both of these options, all data wall be saved to folders containing 
the target username within the folder tides. These will be in the "instalooter" and "instaloader" folders in your 
"Documents" folder. Since we have already analyzed these types of scripts within the previous tutorials, 
I will no longer present them here within this chapter. You can open any of the scripts within your Linux 
VM by navigating to the Documents/Scripts folder and double-clicking each. Let's now^ focus on the techniques.
There are several independent programs which assist with bulk-download of Instagram data. The first is 
Instalooter, which has been a staple within Buscador since the beginning. Since it occasionally stops working, 
pending an updated release, we also want Instaloader, Toutatis, and Osintgram available at all times. The 
results of each are very similar, bur it is good to have redundant options. Osintgram is the most powerful of all 
of them. First let's install the three basic Instagram programs into our VM.
Osintgram requires a few additional steps which should be familiar to you now. The final step will prompt you 
for your Instagram username and password which is required for this application. It only needs to be supplied 
once during installation, and the application will store the credentials. Notice that the Pip command now 
includes "-1" at the end. This will be included with all Pip commands for the rest of the book. This tells Pip to 
ignore any previous installations of a dependency. This is required as many of the applications we will use are 
not updated often, errors about older versions of software may prevent complete installation. Once we are done, 
we will update all software to the latest versions.
• 
cd -/Downloads/Programs
• sudo apt install -y git
• git clone https://github.com/Datalux/Osintgram.git
• cd Osintgram
• sudo apt-get install libncurses5-dev libffi-dev -y
• sudo -H pip install -r requirements.txt -I
• make setup
cd -/Desktop
instalooter login -u [username] -p [password] user mikeb
instaloader —login [username] -p [password] user mikeb
Figure 4.07: The Instagram Tool Dialogue Box.
OK
Cancel
Cancel
OK
Cancel
OK
Figure 4.08: A series of prompts from the Instagram Tool.
lay need to log
64 Chapter 4
*
Instalooter
*
x
Credentials
Credentials
• 
Open the Applications menu again and scroll down to "Instagram Tool".
• 
Right-click this program and select "Add to favorites".
© Instalooter (Without Login) 
Instaloader (Without Login) 
Instalooter (With Login) 
Instaloader (with Login) 
Toutatis
OsintCram Photos 
OsintGram Stories 
OsintGram Comments
O OsintGram Captions 
OsintGram Followers 
OsintGram Followers Emails 
OsintGram Followers Numbers 
OsintGram Following 
OsintGram Following Emails 
OsintGram Following Numbers 
OSINTGram Info
Add Instagram Credentials
Enter TARGET Instagram User ID 
n 
i
Enter YOUR Instagram Username
Il 
I
Enter YOUR Instagram Password
I'l 
I
While writing this chapter, both Instalooter and Instaloader downloaded the target data without any 
modification. However, a second attempt with Instalooter failed. It required Instagram credentials in order to 
function again, likely due to blockage from our suspicious automated activity. Overall, you will experience much 
better results from both programs if you authenticate a valid Instagram account. Note that you mt, 
in again after a period of inactivity.
Figure 4.07 displays the dialogue when executing die custom script previously downloaded. Figure 4.08 displays 
the dialogues presented when choosing the Instalooter (With Login) option. Notice that it demands your 
username and password for an Instagram account. The script populates these details in order to perform 
optimally- Your credentials are stored within your own VAI and never transmitted to any7 service aside from 
Instagram.
The "instagram.sh" script should already be in the "scripts" folder in your "Documents" folder next to die 
others. The "instagram.dcsktop" file should be available in your Applications menu. Next, let's add a shortcut 
icon to our Dock in order to have easy access to this new utility.
While these two applications may suffice for most needs without the requirement to log in to an active account, 
1 have found that Instagram actively blocks this type of automated behavior. Furthermore, Instagram often 
delivers images with lower resolution when you are not logged in, while presenting higher quality media when 
an account is authorized. Therefore, we x\dll add two choices to our script which gives us options to log in to an 
active account before submitting our commands.
toutatis -u mikeb -s 24316:Lh59ygrmY4N:4
The result is similar to the following, which I have partially redacted.
• cd -/Downloads/Programs/Osintgram/
65
Linux Applications
captions mikeb 
followers mikeb
Full Name: Mike Brandon | userID : 1144153003
Verified : False
Is buisness Account : False
Is private Account: False
Follower: 70 Following : 31
Number of posts: 18
Number of tag in posts : 0
Obfuscated phone 
: +44 **** ****77
• 
Log in to an Instagram account from your Firefox browser.
• 
Right-click an empty area of the page and choose "Inspect".
• 
Click the "Network" tab in the new menu at the bottom.
• 
Navigate to any user’s Instagram page.
• 
In the Inspector menu, click on an entry similar to "200 GET www.instagram.com".
• 
Click the "Cookies" tab in the Inspector menu to the right.
• 
Scroll down this list and find "sessionid:".
• 
Copy the alphanumeric entry.
I find this information extremely valuable, and the process only takes a few seconds to complete. You could 
easily copy and paste these details into your report. Next, let's look at Osintgram. First, navigate to the software 
folder with the following command.
Keep this Session ID somewhere which is easy to access. Since you previously installed the software, we can 
conduct a test with the following command for the target of "mikeb" and Session ID of24316:Lh59ygrmY4N:4.
Next, let's discuss Toutalis. This application provides Instagram account details, often including full email 
addresses and partial telephone numbers. This extra level of disclosure requires a unique piece of information 
from our account. Each time you run the command, or use the automated script, you are required to enter your 
Instagram "Session ID". The following steps will identify this information.
• python3 main.py -c photos mikeb
• python3 main.py -c stories mikeb
• python3 main.py -c comments mikeb
• python3 main.py
• python3 main.py
• python3 main.py -c fwersemail mikeb
• python3 main.py -c fwersnumber mikeb
• python3 main.py -c followings mikeb
• python3 main.py -c fwingsemail mikeb
• python3 main.py -c fwingsnumber mikeb
• python3 main.py -c info mikeb
Next, we can conduct numerous types of queries on "mikeb". The following would display this user's photos, 
stories, comments, captions, followers, followers' email addresses, followers' telephone numbers, followings, 
followings' email addresses, followings' telephone numbers, and general account information.
Gallery Tool
• gallery-dl "parakeertle.tumblr.com"
gallery-dl " https://boards.4channel.Org/g/"
66 Chapter 4
• sudo snap install gallery-dl
• sudo snap connect gallery-dl:removable-media
• cd -/Downloads
• sudo apt install default-jre -y
• wget https://github.com/ripmeapp/ripme/releases/latest/download/ripme.jar
• chmod +x ripme.jar
Let's conduct a demonstration. Assume that you have located a Tumblr blog at parakeettle.tumblr.com and you 
want to archive all of the images. The following command would download the data to the current folder.
In the previous edition of this book, I presented complete steps to create a similar utility for Twitter using Twine 
As of this writing, that utility is no longer maintained due to changes at Twitter which blocked all functionality. 
By the time you read this, Instagram may be blocking these scripts. OSINT is a constant game of cat-and-mouse. 
Be sure to monitor my website files, blog, Twitter, or podcast to stay current with any changes. When these 
tools break for you, they break for me too. We are in this together.
Next, you might want a graphical solution for your investigation when you encounter a situation which presents 
a large number of photos. I previously mentioned browser extensions which help automate this process, but 
they have limits. My preference is always the Gallery-DL, but it may not function on the site which you have 
targeted. We should always consider other automated options. I have had great success with RipMe 
(github.com/RipMeApp/ripme). This application requires Java to be installed on your machine. I refuse to 
install Java on any Windows or Mac host due to security’ concerns, as it adds an additional layer of vulnerability. 
However, I have no objection to installing it within a Linux virtual machine. Enter the following within Terminal.
You now have four Instagram applications at your fingertips, and no requirement to manually use Terminal or 
typed commands. This utility’ attempts to extract media from a target's Instagram profile. While screen captures 
of an account through your browser may suffice for investigations, you should consider downloading images 
directly from the source when possible. Options including credentials will always perform better than without
The result is all 235 images from the photo gallery’. This is a very’ valuable and efficient resource. Gallery-DL 
currently supports over 150 services including Tumblr, 4chan, Flickr, Imgur, Reddit, and numerous "adult 
websites. As a test, I submitted the following command to download 1,503 images from a 4chan board, which 
completed in three minutes. The "Gallery’ Tool" icon in your custom OSINT VM prompts y’ou for the target 
URL and executes the command for you.
The automated script, visible previously in Figure 4.07, will automate this entire process; output the results in 
the appropriate locations in your Documents folder; and open the results upon completion. Note that the last 
option is to populate your Instagram credentials for use with Osintgram. This is beneficial in the event you 
created your OSINT VM with the single command explained in the next chapter, which does not add your 
username and password as we did during the manual installation. In my experience, the options to retrieve email 
addresses and telephone numbers can take a long time to run, and often fail to finish. 1 only use these options 
when my target has a small number of followers or following.
I previously explained YouTube-DL as an all-in-one bulk online video download solution. Gallery-DL 
(github.com/mikf/gallery-dl) is a similar option for image collections. You can easily’ install this within Terminal 
by entering the following commands.
Open ./Downlojds/ ..5C3rch_osint
P Log
0 Configuration
Cl Log 0 History
— Queue-
Figure 4.09: The RipMe application extracting bulk images from Reddit and Twitter.
Uscmamc/Email Tool
requirements.txt -I
-/Documents/Report.csv
python3 sherlock.py inteltechniques —csv
Linux Applications
67
RlPM«Vl.747
mkdir -/Downloads/Programs 
cd -/Downloads/Programs
git clone https://github.com/sherlock-project/sherlock.git 
cd sherlock
sudo -H pip install
hMBH
URL.jht tptV/twIlt ez.com/icatdi ?q=otint&M[ 4* Rip
L'Rl:|litt|it://www.reddlt.corn/f7OSIirT/ j Rip 
reddle album detected
Pl Open /Downlo.ids/...lt_sub_OSIi IT
£2
a
Downloading https://i-rcdd.lt/2zuhnia6w97s01.png
Downloading https://l-redd.it/lfj6tpajjsh2l.png
Downloading https://i.redd.it/lbyps0zuh6g21.jpg
__
□
The previous versions of this book provided an automated tool for a Python program called Sherlock. It queried 
a username and tried to identify online accounts which might be associated with the target. While Sherlock is 
still valuable, there are additional tools which assist with this type of query. I currendy rely on Sherlock, 
SocialScan, Holehe, WhatsMyName, and Email2Phone, all of which are explained here. Let's start with 
Sherlock. It is installed with the following commands.
Downloading https://l.r edd.lt/cusxrocllhg3l.Jpg 
. 
■ 
.’■■ fl ■  
'
Downloading https:/Aredd.lt/15<jy3c4qch23l.jpg
Downloading https://i-redd.it/gzjmqw2zr3231.jpg
Downloading https://Lredd.it/brnj96l25ay21.jpg
Downloading https://i-redd.il/gniniixvmyoit2i.jpg
You can now double-click this file within Downloads to launch the program. Enter any target URL and click 
"Rip". Figure 4.09 (left) displays extraction of the OSINT Subreddit URL. The application downloaded all the 
images to the "rips" folder in my Downloads. Figure 4.09 (right) extracted all of the images from a search of 
"OSINT" on Twitter. This application supports image downloads from Imgur, Twitter, Tumblr, Instagram, 
Flickr, Photobucket, and Reddit.
0 Hisloiy ~ Queue Configuration
Downloading hltp5://l.rcdd.lt/eusxraci1hg31.jpg 
j ' 
,'i 