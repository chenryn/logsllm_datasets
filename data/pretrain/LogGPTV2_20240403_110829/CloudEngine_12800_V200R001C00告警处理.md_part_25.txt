Trap 属性
Trap属性 描述
Alarm or Event Event
Trap Severity Error
Mnemonic Code threshold
Trap OID 1.3.6.1.4.1.2011.5.25.136.1.6.4
Alarm ID 该Trap是事件Trap，不涉及告警ID。
Alarm Type 该Trap是事件Trap，不涉及告警类型。
Raise or Clear 该Trap是事件Trap，不涉及告警产生或恢复。
Match trap 该Trap是事件Trap，不涉及配对Trap。
Trap Buffer 信息参数
参数名称 参数含义
IfIndex 端口索引。
EventLogIndex 所打印的log的序号。
EventLogTimestamp 记录发生时间的时间戳。
EventLogOui 事件的OUI。
EventLogType 记录事件的类型。
EventLogLocation 标识是本地发生的还是远端发生的(1表示
本端，2表示远端)。
EventLogWindowHi 表示监视区间的高位值。
文档版本 06 (2017-09-12) 华为专有和保密信息 184
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 14 EFM
参数名称 参数含义
EventLogWindowLo 表示监视区间的低位值。
EventLogThresholdHi 表示监视区间门限值的高位值。
EventLogThresholdLo 表示监视区间门限值的低位值。
EventLogValue 则表示越限事件发生的次数。
EventLogRunningTotal 表示事件出现的次数。
EventLogEventTotal 表示事件通知的次数。
IfName 端口名称。
VB 信息参数
VB OID VB Name VB Index
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogTim ifIndex
2.2.7.1.2 estamp
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogOui ifIndex
2.2.7.1.3
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogTyp ifIndex
2.2.7.1.4 e
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogLoc ifIndex
2.2.7.1.5 ation
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogWin ifIndex
2.2.7.1.6 dowHi
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogWin ifIndex
2.2.7.1.7 dowLo
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogThr ifIndex
2.2.7.1.8 esholdHi
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogThr ifIndex
2.2.7.1.9 esholdLo
hwDot3ahEfmEventLogInd
ex
文档版本 06 (2017-09-12) 华为专有和保密信息 185
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 14 EFM
VB OID VB Name VB Index
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogVal ifIndex
2.2.7.1.10 ue
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogRun ifIndex
2.2.7.1.11 ningTotal
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogEve ifIndex
2.2.7.1.12 ntTotal
hwDot3ahEfmEventLogInd
ex
对系统的影响
业务不能正常转发。
可能原因
原因1：
端口上配置了efm error-code threshold 0、efm error-frame threshold 0或efm error-
frame-second threshold 0。
原因2：
物理链路故障，导致出现误帧或误码现象。
处理步骤
步骤1 请查看告警中EventLogType字段的值。
l 1 误码告警，请执行步骤2。
l 2 误帧告警，请执行步骤3。
l 4 误帧秒告警，请执行步骤4。
步骤2 在接口视图下执行display this命令查看是否有配置efm error-code threshold 0。
l N，请执行步骤5。
l Y，请执行步骤6。
步骤3 在接口视图下使用display this命令查看是否有配置efm error-frame threshold 0。
l N，请执行步骤5。
l Y，请执行步骤7。
步骤4 在接口视图下使用display this命令查看是否有配置efm error-frame-second threshold
0。
l N，请执行步骤5。
l Y，请执行步骤8。
文档版本 06 (2017-09-12) 华为专有和保密信息 186
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 14 EFM
步骤5 请检查物理链路是否有故障。
l N，请执行步骤10。
l Y，请执行步骤9。
步骤6 在接口视图下执行命令efm error-code threshold threshold，根据实际需要重新配置当前
接口的EFM误码检测门限值，检查是否有新事件持续上报。
l N，请执行步骤11
l Y，请执行步骤10
步骤7 在接口视图下执行命令efm error-frame threshold threshold，根据实际需要重新配置当
前接口的EFM误帧检测门限值，检查是否有新事件持续上报。
l N，请执行步骤11
l Y，请执行步骤10
步骤8 在接口视图下执行命令efm error-frame-second threshold threshold，根据实际需要重新
配置当前接口的EFM误帧秒检测门限值，检查是否有新事件持续上报。
l N，请执行步骤11
l Y，请执行步骤10
步骤9 请处理物理链路故障，检查是否有新事件持续上报。
l N，请执行步骤11
l Y，请执行步骤10
步骤10 请收集告警信息、日志信息和配置信息，并联系技术支持人员。
步骤11 结束。
----结束
14.2 EFM_1.3.6.1.4.1.2011.5.25.136.1.6.5 nonthreshold
Trap Buffer 信息解释
Nonthreshold Event occured. (IfIndex=[INTEGER], EventLogIndex=[GAUGE],
EventLogTimestamp=[TIMETICK], EventLogOUI=[OPAQUE], EventLogType=[GAUGE],
EventLogLocation=[INTEGER], IfName=[OCTET])
链路发生了握手超时或链路事件。
Trap 属性
Trap属性 描述
Alarm or Event Alarm
Trap Severity Error
Mnemonic Code nonthreshold
Trap OID 1.3.6.1.4.1.2011.5.25.136.1.6.5
Alarm ID 0x00f10002
文档版本 06 (2017-09-12) 华为专有和保密信息 187
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 14 EFM
Trap属性 描述
Alarm Type communicationsAlarm
Raise or Clear Raise
Match trap EFM_1.3.6.1.4.1.2011.5.25.136.1.6.17
hwDot3ahEfmNonThresholdRecovery
Trap Buffer 信息参数
参数名称 参数含义
IfIndex 端口索引。
EventLogIndex 所打印的log的序号。
EventLogTimestamp 记录发生时间的时间戳。
EventLogOUI 事件的OUI。
EventLogType 记录事件的类型。
EventLogLocation 标识是本地发生的还是远端发生的。
IfName 端口索引。
VB 信息参数
VB OID VB Name VB Index
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogTim ifIndex
2.2.7.1.2 estamp
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogOui ifIndex
2.2.7.1.3
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogTyp ifIndex
2.2.7.1.4 e
hwDot3ahEfmEventLogInd
ex
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmEventLogLoc ifIndex
2.2.7.1.5 ation
hwDot3ahEfmEventLogInd
ex
对系统的影响
业务中断。
文档版本 06 (2017-09-12) 华为专有和保密信息 188
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 14 EFM
可能原因
原因1：
对端接口EFM没有使能。
原因2：
本端端口被shutdown或物理链路Down。
处理步骤
步骤1 请查看告警中EventLogType字段的告警类型。
l 254 超时告警＝>2。
l 256 本端接口shutdown＝>3。
步骤2 请在对端设备接口视图下执行命令display this查看对端设备EFM是否使能。
l Y＝>4。
l N＝>5。
步骤3 请在接口视图下执行命令display this查看本端端口是否被shutdown。
l Y=>6。
l N=>4。
步骤4 请检查物理链路是否有故障。
l Y＝>7。
l N＝>8。
步骤5 在对端设备的接口视图下，执行命令efm enable使能EFM功能，检查告警是否恢复。
l Y=>9。
l N=>8。
步骤6 在接口视图下，执行命令undo shutdown，检查告警是否恢复。
l Y=>9。
l N=>7。
步骤7 请更换物理链路，检查告警是否恢复。
l Y＝>9
l N＝>8
步骤8 请收集告警信息、日志信息和配置信息，并联系技术支持人员。
步骤9 结束。
----结束
文档版本 06 (2017-09-12) 华为专有和保密信息 189
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 14 EFM
14.3 EFM_1.3.6.1.4.1.2011.5.25.136.1.6.8 dyinggasp
Trap Buffer 信息解释
Remote DyingGasp Event occurred. (IfIndex=[INTEGER], RemoteMacAddress=[OCTET],
IfName=[OCTET])
发生了不可恢复的事件。包括：设备整机重启、单板重启和设备掉电。
Trap 属性
Trap属性 描述
Alarm or Event Event
Trap Severity Error
Mnemonic Code dyinggasp
Trap OID 1.3.6.1.4.1.2011.5.25.136.1.6.8
Alarm ID 该Trap是事件Trap，不涉及告警ID。
Alarm Type 该Trap是事件Trap，不涉及告警类型。
Raise or Clear 该Trap是事件Trap，不涉及告警产生或恢复。
Match trap 该Trap是事件Trap，不涉及配对Trap。
Trap Buffer 信息参数
参数名称 参数含义
IfIndex 本端设备收到远端设备的接口索引。
RemoteMacAddress 远端设备的Mac地址。
IfName 本端设备收到远端设备的接口名称。
VB 信息参数
VB OID VB Name VB Index
1.3.6.1.4.1.2011.5.25.136.1. hwDot3ahEfmPeerMacAddr ifIndex
2.2.3.1.1 ess
1.3.6.1.2.1.2.2.1.2 None ifDescr
文档版本 06 (2017-09-12) 华为专有和保密信息 190
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 14 EFM
对系统的影响
远端设备的业务都不可用。
可能原因
原因1：
远端设备整机重启。
原因2：
远端设备单板重启。
原因3：
远端设备掉电。
处理步骤
步骤1 待远端设备重启或者远端设备单板重启后，使用display efm session命令检查EFM状态
是否正常。
l Y=>3。
l N=>2。
步骤2 请收集告警信息、日志信息和配置信息，并联系技术支持人员。
步骤3 结束。
----结束
14.4 EFM_1.3.6.1.4.1.2011.5.25.136.1.6.17
nonthredholdrecovery
Trap Buffer 信息解释
Nonthreshold trap recovered. (IfIndex=[INTEGER], EventLogIndex=[GAUGE],
EventLogTimestamp=[TIMETICK], TrapLogOUI=[OPAQUE], TrapLogType=[GAUGE],
TrapLogLocation=[INTEGER], IfName=[OCTET])