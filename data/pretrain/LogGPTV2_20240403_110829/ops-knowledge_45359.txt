User: How to configure a simple firewall (Firewall) rule in Linux system? Please write down the specific order.
Assistant: In Linux systems, commonly used firewall software includes iptables and firewalld. The following are specific commands to configure simple firewall rules with iptables: 1. First clear the existing iptables rules to ensure a clean start: ``` sudo iptables -F sudo iptables -X sudo iptables -Z sudo iptables -t nat -F sudo iptables -t nat -X sudo iptables -t mangle -F sudo iptables -t mangle -X ``` 2. Set the default policy to deny all traffic: ``` sudo iptables -P INPUT DROP sudo iptables -P FORWARD DROP sudo iptables -P OUTPUT DROP ``` 3. Open local loopback traffic: ``` sudo iptables -A INPUT -i lo -j ACCEPT sudo iptables -A OUTPUT -o lo -j ACCEPT ``` 4. Allow already Established connection information flow: ``` sudo iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT sudo iptables -A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT ``` 5. Allow SSH access. Assuming the SSH port is the default 22: ``` sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT sudo iptables -A OUTPUT -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT `` ` 6. For other services and ports that need to be allowed, you can add rules similarly. 7. Finally, save the new rules so that they will take effect on the next boot: ``` sudo iptables-save > /etc/sysconfig/iptables ```