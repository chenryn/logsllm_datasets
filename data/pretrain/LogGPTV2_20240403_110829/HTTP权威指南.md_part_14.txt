则是最具体的引用。更多有关Location首部的信息参见表3-21。
服务器必须在发送这个状态码之前创建好对象
202 Accepted 请求已被接受，但服务器还未对其执行任何动作。不能保证服务器会
完成这个请求；这只是意味着接受请求时，它看起来是有效的。
服务器应该在实体的主体部分包含对请求状态的描述，或许还应该有
对请求完成时间的估计（或者包含一个指针，指向可以获取此信息的
位置）
203 Non-Authoritative 实体首部（更多有关实体首部的信息参见3.5.4节）包含的信息不是
Information 来自于源端服务器，而是来自资源的一份副本。如果中间节点上有一
份资源副本，但无法或者没有对它所发送的与资源有关的元信息（首
部）进行验证，就会出现这种情况。
这种响应码并不是非用不可的；如果实体首部来自源端服务器，响应
为200状态的应用程序就可以将其作为一种可选项使用
204 No Content 响应报文中包含若干首部和一个状态行，但没有实体的主体部分。主
要用于在浏览器不转为显示新文档的情况下，对其进行更新（比如刷
新一个表单页面）
205 Reset Content 另一个主要用于浏览器的代码。负责告知浏览器清除当前页面中的所
有HTML 表单元素
206 Partial Content 成功执行了一个部分或Range（范围）请求。稍后我们会看到，客
户端可以通过一些特殊的首部来获取部分或某个范围内的文档——这
个状态码就说明范围请求成功了。更多有关Range首部的内容参见
15.9节。
206响应中必须包含Content-Range、Date以及ETag或Content-
Location首部
3.4.3 300～399——重定向状态码
重定向状态码要么告知客户端使用替代位置来访问他们所感兴趣的资源，要么就提
供一个替代的响应而不是资源的内容。如果资源已被移动，可发送一个重定向状态
61 码和一个可选的Location首部来告知客户端资源已被移走，以及现在可以在哪里
找到它（参见图3-14）。这样，浏览器就可以在不打扰使用者的情况下，透明地转
入新的位置了。
64 ｜ 第3章
请求报文
GET /pet-products.txt HTTP/1.1
Host: www.joes-hardware.com
Accept: *
响应报文
客户端 www.joes-hardware.com
HTTP/1.1 301 Moved Permanently
Location: http://www.gentle-grooming.com/
Content-length: 56
Content-type: text/plain
Please go to our partner site,
www.gentle-grooming.com
请求报文
GET / HTTP/1.1
Host: www.gentle-grooming.com
Accept: *
响应报文
客户端 HTTP/1.1 200 OK www.gentle-grooming.com
Content-type: text/html
Content-length: 3307
...
图3-14 将请求重定向到新的位置
可以通过某些重定向状态码对资源的应用程序本地副本与源端服务器上的资源进行
验证。比如，HTTP应用程序可以查看其资源的本地副本是否仍然是最新的，或者
在源端服务器上资源是否被修改过。图3-15显示了一个这样的例子。客户端发送了
一个特殊的 If-Modified-Since首部，说明只读取1997年10月之后修改过的文
档。这个日期之后，此文档并未被修改过，因此，服务器回送了一个304状态码，
而不是文档的内容。 62
HTTP报文 ｜ 65
客户端上有以前请求过的http://www.joes-hardware.
com/seasonal/index-fall.html的副本
请求报文
GET /seasonal/index-fall.html HTTP/1.1
客户端 Host: www.joes-hardware.com
Accept: * 未被修改过
If-Modified-Since: Fri, Oct 3 1997 02:16:00 GMT
响应报文
HTTP/1.1 304 Not Modified www.joes-hardware.com
...
客户端
从最后一次请求此文档以来，原始文档未
被修改过，所以浏览器显示的是本地副本。
图3-15 重定向为使用本地副本的请求
总之，在对那些包含了重定向状态码的非HEAD请求进行响应时，最好要包含一
个实体，并在实体中包含描述信息和指向（多个）重定向URL的链接——参见图
3-14的第一个响应报文。表3-8列出了已定义的重定向状态码。
表3-8 重定向状态码与原因短语
状态码 原因短语 含 义
300 Multiple Choices 客户端请求一个实际指向多个资源的URL时会返回这个状态码，比
如服务器上有某个HTML文档的英语和法语版本。返回这个代码时
会带有一个选项列表；这样用户就可以选择他希望使用的那一项了。
有多个版本可用时，客户端需要沟通解决，更多与此有关的信息请参
见第17章。服务器可以在Location首部包含首选URL
301 Moved Permanently 在请求的URL已被移除时使用。响应的Location首部中应该包含
资源现在所处的URL
66 ｜ 第3章
（续）
状态码 原因短语 含 义
302 Found 与301状态码类似；但是，客户端应该使用Location首部给出的
URL来临时定位资源。将来的请求仍应使用老的URL 63
303 See Other 告知客户端应该用另一个URL来获取资源。新的URL位于响应报文
的Location首部。其主要目的是允许POST请求的响应将客户端
定向到某个资源上去
304 Not Modified 客户端可以通过所包含的请求首部，使其请求变成有条件的。更多有
关条件首部的内容请参见第3章。如果客户端发起了一个条件GET
请求，而最近资源未被修改的话，就可以用这个状态码来说明资源未
被修改。带有这个状态码的响应不应该包含实体的主体部分
305 Use Proxy 用来说明必须通过一个代理来访问资源；代理的位置由Location
首部给出。很重要的一点是，客户端是相对某个特定资源来解析这
条响应的，不能假定所有请求，甚至所有对持有所请求资源的服务器
的请求都通过这个代理进行。如果客户端错误地让代理介入了某条请
求，可能会引发破坏性的行为，而且会造成安全漏洞
306 （未使用） 当前未使用
307 Temporary Redirect 与301状态码类似；但客户端应该使用Location首部给出的URL
来临时定位资源。将来的请求应该使用老的URL
从表3-8中，你可能已经注意到302、303和307状态码之间存在一些交叉。这些状
态码的用法有着细微的差别，大部分差别都源于HTTP/1.0和HTTP/1.1应用程序对
这些状态码处理方式的不同。
当HTTP/1.0客户端发起一个POST请求，并在响应中收到302重定向状态码时，
它会接受Location首部的重定向URL，并向那个URL发起一个GET请求（而不
会像原始请求中那样发起POST请求）。
HTTP/1.0服务器希望HTTP/1.0客户端这么做——如果HTTP/1.0服务器收到来自
HTTP/1.0客户端的POST请求之后发送了302状态码，服务器就期望客户端能够接
受重定向URL，并向重定向的URL发送一个GET请求。
问题出在HTTP/1.1。HTTP/1.1规范使用303状态码来实现同样的行为（服务器发
送303状态码来重定向客户端的POST请求，在它后面跟上一个GET请求）。
为了避开这个问题，HTTP/1.1规范指出，对于HTTP/1.1客户端，用307状态码取
代302状态码来进行临时重定向。这样服务器就可以将302状态码保留起来，为
HTTP/1.0客户端使用了。
HTTP报文 ｜ 67
这样一来，服务器要选择适当的重定向状态码放入重定向响应中发送，就需要查看
64 客户端的HTTP版本了。
3.4.4 400～499——客户端错误状态码
有时客户端会发送一些服务器无法处理的东西，比如格式错误的请求报文，或者最
常见的是，请求一个不存在的URL。
浏览网页时，我们都看到过臭名昭著的404 Not Found错误码——这只是服务器在
告诉我们，它对我们请求的资源一无所知。
很多客户端错误都是由浏览器来处理的，甚至不会打扰到你。只有少量错误，比如
404，还是会穿过浏览器来到用户面前。表3-9显示了各种客户端的错误状态码。
表3-9 客户端错误状态码及原因短语
状态码 原因短语 含 义
400 Bad Request 用于告知客户端它发送了一个错误的请求
401 Unauthorized 与适当的首部一同返回，在这些首部中请求客户端在获取对资源
的访问权之前，对自己进行认证。更多有关认证的内容请参见
12.1节
402 Payment Required 现在这个状态码还未使用，但已经被保留，以作未来之用
403 Forbidden 用于说明请求被服务器拒绝了。如果服务器想说明为什么拒绝请
求，可以包含实体的主体部分来对原因进行描述。但这个状态码通
常是在服务器不想说明拒绝原因的时候使用的
404 Not Found 用于说明服务器无法找到所请求的URL。通常会包含一个实体，以
便客户端应用程序显示给用户看
405 Method Not Allowed 发起的请求中带有所请求的URL不支持的方法时，使用此状态码。
应该在响应中包含Allow首部，以告知客户端对所请求的资源可以
使用哪些方法。更多有关Allow首部的信息请参见3.5.4节
406 Not Acceptable 客户端可以指定参数来说明它们愿意接收什么类型的实体。服务器
没有与客户端可接受的URL相匹配的资源时，使用此代码。通常，
服务器会包含一些首部，以便客户端弄清楚为什么请求无法满足。
更多信息请参见第17章
407 Proxy Authentication 与401状态码类似，但用于要求对资源进行认证的代理服务器
Required
408 Request Timeout 如果客户端完成请求所花的时间太长，服务器可以回送此状态码，
并关闭连接。超时时长随服务器的不同有所不同，但通常对所有的
合法请求来说，都是够长的
409 Conflict 用于说明请求可能在资源上引发的一些冲突。服务器担心请求会引
发冲突时，可以发送此状态码。响应中应该包含描述冲突的主体
68 ｜ 第3章
（续）
状态码 原因短语 含 义
410 Gone 与404类似，只是服务器曾经拥有过此资源。主要用于Web站点
的维护，这样服务器的管理者就可以在资源被移除的情况下通知客
户端了
65
411 Length Required 服务器要求在请求报文中包含Content-Length首部时使用。更
多有关Content-Length首部的信息请参见3.5.4节
412 Precondition Failed 客户端发起了条件请求，且其中一个条件失败了的时候使用。客户
端包含了Expect首部时发起的就是条件请求。更多有关Expect
首部的内容请参见附录C中Expect部分
413 Request Entity Too Large 客户端发送的实体主体部分比服务器能够或者希望处理的要大时，
使用此状态码
414 Request URI Too Long 客户端所发请求中的请求URL比服务器能够或者希望处理的要长
时，使用此状态码
415 Unsupported Media Type 服务器无法理解或无法支持客户端所发实体的内容类型时，使用此
状态码
416 Requested Range Not 请求报文所请求的是指定资源的某个范围，而此范围无效或无法满
Satisfiable 足时，使用此状态码
417 Expectation Failed 请求的Expect请求首部包含了一个期望，但服务器无法满足此期
望时，使用此状态码。更多有关Expect首部的内容请参见附录C
中Expect部分
如果代理或其他中间应用程序有确切证据说明源端服务器会为某请
求产生一个失败的期望，就可以发送这个响应状态码
3.4.5 500～599——服务器错误状态码
有时客户端发送了一条有效请求，服务器自身却出错了。这可能是客户端碰上了服
务器的缺陷，或者服务器上的子元素，比如某个网关资源，出了错。
代理尝试着代表客户端与服务器进行交流时，经常会出现问题。代理会发布5XX服
务器错误状态码来描述所遇到的问题（参见第6章）。表3-10列出了已定义的服务
器错误状态码。
表3-10 服务器错误状态码及原因短语
状态码 原因短语 含 义
500 Internal Server Error 服务器遇到一个妨碍它为请求提供服务的错误时，使用此状态码
501 Not Implemented 客户端发起的请求超出服务器的能力范围（比如，使用了服务器不
支持的请求方法）时，使用此状态码
HTTP报文 ｜ 69
（续）
状态码 原因短语 含 义
502 Bad Gateway 作为代理或网关使用的服务器从请求响应链的下一条链路上收到了
一条伪响应（比如，它无法连接到其父网关）时，使用此状态码
503 Service Unavailable 用来说明服务器现在无法为请求提供服务，但将来可以。如果服务
器知道什么时候资源会变为可用的，可以在响应中包含一个Retry-
66 After首部。更多有关Retry-After首部的信息请参见3.5.3节
504 Gateway Timeout 与状态码408类似，只是这里的响应来自一个网关或代理，它们在
等待另一服务器对其请求进行响应时超时了
505 HTTP Version Not 服务器收到的请求使用了它无法或不愿支持的协议版本时，使用此
Supported 状态码。有些服务器应用程序会选择不支持协议的早期版本
3.5 首部