On current master (0.4.0-dev+6723), I ran `Pkg.update()` and got this:
    INFO: Computing changes...
    ERROR: TypeError: map_to!: in typeassert, expected Array{VersionNumber,1}, got Array{VersionNumber,1}
     in map_to! at abstractarray.jl:1307
     in map at ./abstractarray.jl:1326
     in prune_versions at ./pkg/query.jl:232
     in prune_dependencies at ./pkg/query.jl:387
     in resolve at ./pkg/entry.jl:414
     in update at ./pkg/entry.jl:306
     in anonymous at pkg/dir.jl:31
     in cd at ./file.jl:22
     in cd at pkg/dir.jl:31
     in update at ./pkg.jl:45
Unless I am missing something the 'expected' and 'got' types match.