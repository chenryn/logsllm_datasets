## IMPORTANT: DevOps Kit (AzSK) is being sunset by end of FY21. More details [here](../../../ReleaseNotes/AzSKSunsetNotice.md)
----------------------------------------------
DatabricksDescription & RationaleControlSeverityAutomatedSecrets and keys must not be in plain text in notebooks and jobsKeeping secrets such as connection strings, passwords, keys, etc. in clear text can lead to easy compromise. Storing them in a secert scope ensures that they are protected at rest.MediumYesUse Azure Key Vault backed secret scope to hold secretsUsing Key Vault backed secret scopes leads to imroved protection and segregation of stored secrets.MediumYesEach secret scope should use an independent key vaultUsing a separate key vault for each secret scope leads to better segregation of access to secrets via use of scope level ACLs. If the same key vault is used for two different scopes then any person with access to either of them will be able to see keys and secrets in both. MediumYesPersonal access tokens (PAT) must have a shortest possible validity periodIf a personal access token (PAT) gets compromised, the Databricks assets accessible to the user can be accessed/manipulated by unauthorized users. Minimizing the validity period of the PAT ensures that the window of time available to an attacker in the event of compromise is small.HighYesAll users/identities must be granted minimum required permissions using Role Based Access Control (RBAC)Granting minimum access by leveraging RBAC feature ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user account compromise.MediumYesMinimize the number of workspace adminsDatabricks workspace admins have full access on the workspace to perform any operation. Each additional person in the admin role increases the attack surface for the workspace. The number of members in these roles should be kept to as low as possible.MediumYesAll users must be granted minimum required permissions on clustersGranting minimum access by leveraging RBAC feature ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user account compromise.MediumNoWorkspace access control should be enabledEnabling workspace access control allows an admin to manage fine-grained user permissions and ensures that users can perform only intended operations. This minimizes exposure of data in case of user account compromise.MediumYesCluster access control should be enabledEnabling cluster access control allows admin to provide restricted access to user over cluster so that users can perform only intended operations. This minimizes exposure of data in case of user/service account compromise.MediumYesJob access control should be enabledEnabling job access control ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of data in case of user/service account compromise.MediumYesDo not mount any data sources that may not be required for all users in the workspace.Mouting a data source gives all users within the workspace access to the data from the mount point. Thus, mounting sources with sensitive data onto DBFS can lead to unauthorized access.MediumNoGuest accounts within the AAD tenant should not be granted admin accessDatabricks workspace admins have full access on the workspace to perform any operation. Each guest account in an admin role increases the attack surface for the workspace. Adding guest accounts as admin on workspace should be avoided.MediumYesUse of any virtual network peerings should be justifiedResources in the peered virtual networks can communicate with each other directly. If the two peered networks are on different sides of a security boundary (e.g., corpnet v. private vNet), this can lead to exposure of corporate data. Hence any vNet peerings should be closely scrutinized and approved by the network security teamHighYes