title:The role and effectiveness of cryptography in network virtualization:
a position paper
author:Wenbo Mao
The Role and Effectiveness of Cryptography   
in Network Virtualization 
Wenbo Mao 
DaoliCloud Company 
Room 2329, Building 2 
ZhongGuanCun Software Park 
Haidian District 
Beijing 100193, China 
www.daolicloud.com 
Abstract 
Communications  of  IT  boxes  need  control.  For  IT  boxes 
standing on floors, the control is done by wiring the boxes to 
some  machines  that  specialize  in  controlling  communications. 
Since  through  the  wires  the  controlling  machines  can  see  the 
addresses of the wired IT boxes, the control of communications 
is  done  by  the  controlling  machines  working  on  the  address 
information. Today in a paradigm shift, IT boxes are more and 
more  standing  on 
intelligent  and  distributed  software: 
hypervisors.  However,  the  industry  remains  in  a  legacy 
momentum of controlling communications by hypervisors still 
working only on the address information. This is not only under 
using the intelligence of hypervisors in capturing the identities 
of  the  IT  boxes  standing  on  them,  but  worse,  making  some 
infamous problems associated with working on addresses to get 
inhered into the new way of life of networking. 
We identify problems of today’s secure network virtualization 
due  to  its  negligence  in  using  the  intelligence  and  distributed 
power of hypervisors, and propose to use hypervisors to work 
on the identities of IT boxes to increase the controlling power. 
The result is a new technology for network virtualization with 
many  useful  applications  including  secure  multi-tenancy  in 
cloud computing. This work will manifest the powerful role of 
cryptography  in  leveraging  the  intelligence  and  distributed 
power of hypervisors. 
Categories and Subject Descriptors 
D.1.0 Software, PROGRAMMING TECHNIQUES -- General 
Keywords 
Cloud computing, Network virtualization, Secure multi-tenancy   
Introduction 
Cloud  computing  is  multi-tenancy:  compute,  storage  and 
network resources of a cloud datacenter are shared by multiple 
client organizations called tenants. Virtualization is the enabling 
technology  for  resource  sharing  multi-tenancy,  and  secure 
multi-tenancy  requires  enhancing  security  in  virtualization.  In 
Permission to make digital or hard copies of all or part of this work for 
personal or classroom use is granted without fee provided that copies are 
not made or distributed for profit or commercial advantage and that copies 
bear this notice and the full citation on the first page. To copy otherwise, 
or republish, to post on servers or to redistribute to lists, requires prior 
specific permission and/or a fee. 
ASIA CCS’13, May 8–10, 2013, Hangzhou, China. 
Copyright © 2013 ACM 978-1-4503-1767-2/13/05...$15.00. 
to  connect 
this  position  paper  we  shall  focus  our  discussions  on  secure 
network virtualization. 
To  ease  a  bit  for  the  introduction  to  the  problem  of  secure 
network  virtualization,  let  us  begin  by  discussing  something 
probably easier, definitely much smaller, and closer to our daily 
life  reality,  than  secure  multi-tenancy  in  cloud  computing  is: 
BYOD, short for “Bring Your Own Device” (to office). More 
and  more  young  people,  the  so-called  “net-natives”,  are 
entering  their  employment  age.  The  net-natives  grow  up 
accustomed  to  bringing  their  personal  mobile  computers  with 
them  all  the  time  and  to  wherever  they  are,  in  particular 
including when they are in office as employees. More and more 
employers  (the  smarter  ones  in  particular)  are  embracing 
BYOD,  permitting  employees 
their  mobile 
computers to the office intranet. In fact, permitting BYOD can 
let  an  employer  not  only  make  use  of  free-cost  IT  resources 
which  are  contributed  by  employees,  but  also  attract  smarter 
employees  who  consider  their  mobile  computers  being  their 
always available knowledge extension. Of course and inevitably, 
most employers will also be concerned of information security 
issues  when  they  adopt  a  BYOD  scheme.  Security  concerns 
include: BYOD may cause data leakage from the organization, 
and  virus  or  malware  infection,  and  even  intrusion,  to  the 
organization’s internal IT infrastructure. There have been many 
proposals  for  secure  BYOD,  scanning  and  inspecting  the 
software  environment  of  employees’  mobile  platforms  are 
among  very  common  approaches.  We  believe  that  such 
approaches,  while  their  effectiveness  is  in  doubt,  seem  to 
constitute a privacy intrusion to the employee. 
The  CPU  virtualization  technology  can  clean-cut  divide  a 
software  platform  into  different  computing  environments.  Let 
us  consider 
the  well-known  application  of  VMware 
Workstation which is widely used by professionals in technical 
communities: it runs on common commercial operating systems 
and virtualizes a guest OS which is a completely independent 
computing environment from that of the underlying host OS. A 
natural BYOD solution can be as follows: let the native OS of 
the  employee’s  platform  be  the  host  OS  which  the  employer 
should  not  stick  nose  into;  instead,  let  the  employer  pay 
attention to, due to having ownership of, a guest OS which is 
virtualized on top of the host OS using VMware Workstation. 
For instance, the employer has constructed the image file of the 
guest OS, can keep scanning and inspecting the guest OS (this 
does not form an intrusion since the employer owns the guest 
OS), and keep monitoring the network traffics to and from the 
179guest  OS.  Provided  that  the  employer  can  differentiate  the 
network  packets  which  are  generated  by  the  guest  OS  from 
those which are generated by the host OS, then it is very easy 
for  the  employer  to  place  its  guest  OS  inside  its  inner  IT 
infrastructure, and place the employee’s host OS outside. If the 
differentiation can be done, then this employer does have a nice 
and  effective  secure  BYOD  scheme.  However  unfortunately, 
such a differentiation is not as straightforward as we may think 
in a first glance. We notice that all the network traffics from the 
employee’s  platform  are  through  the  network  card  of  the 
hardware platform, which are completely under the control of 
the host OS since the network card is a device of the host OS. 
Consequently,  purely  inspecting  the  metadata  part  of  the  IP 
packets from this hardware platform there would be no way to 
differentiate the two cases; the host OS can even setup a relay 
service to make all packets from the guest OS exactly the same 
as those from itself, or even worse forge packets as if they were 
from  the  guest  OS.  Inspecting  the  payload  data  of  IP  packets 
cannot be effective as doing so is just the same as scanning and 
inspecting  the  host  OS,  yet  not  to  mention  forming  a  privacy 
intrusion to the employee. The essential problem we have met 
here is: VMware Workstation has very well virtualized the CPU, 
however  has  not  virtualized  the  network.  By  saying  that 
VMware  Workstation  has  very  well  virtualized  the  CPU,  we 
mean that the guest OS can protect its computing environment 
from  intrusion,  e.g.,  by  the  host  OS,  to  a  quite  satisfactory 
quality.  However,  since  the  network  traffics  of  the  guest  OS 
completely  route  via  the  host  OS,  the  lack  of  secure  network 
virtualization  in  VMware  Workstation  means  that  the  secure 
BYOD scenario we are sketching here cannot be achieved by 
directly applying VMware Workstation. 
Now  let  us  see  the  power  of  cryptography  in  enabling  secure 
network  virtualization  for  our  VMware  Workstation  based 
secure  BYOD  scheme.  We  notice  that  the  guest  OS  whose 
image file is stored in the organization’s internal infrastructure 
can  contain  sufficiently  large  amount  of  the  organization 
defined  and  controlled  data  which  can  be  used  for  the 
organization  to  identify  the  guest  OS.  As  we  have  discussed 
above,  the  well-done  CPU  virtualization  can  have  these 
in-guest-OS  data  well  protected  from  comprehension  by  the 
host OS as well as from the employee user of the guest OS. So 
protected guest-OS identity data can be used to setup a secure 
communication  channel  between 
the 
organization.  For  instance,  the  hypervisor  (Workstation)  can 
easily  make  use  of  such  guest-OS  identity  data  to  run  IPsec 
with the organization. Thus, the payload data from the guest OS 
is protected by IPsec which the host OS can do nothing about 
them,  not  forgeable,  or  not  even  visible  by  the  host  OS, 
however,  the  organization  running  IPsec  with  the  guest  OS 
hypervisor can know for 100% sure guest-OS sent packets, and 
thereby  accept  the  guest  OS  inside  its  internal  firewall.  What 
has happened here? Of course secure network virtualization: the 
physical  network  resource  on 
the  employee’s  hardware 
platform  is  securely  virtualized  into  clear-cut  two  virtual 
networks: one for the guest OS, and the other for the host OS. 
The  secure  network  virtualization  in  this  BYOD  use-case  is 
only  possibly  and  practically  enabled  by 
the  use  of 
cryptography. 
the  guest  OS  and 
to  achieve  secure  multi-tenancy 
Network Virtualization for Secure Multi-tenancy in 
Cloud Computing: Problem Identification 
Cloud computing is a service, everything as a service! A tenant 
will not pay attention to how computing is done, and therefore 
should  be  hidden  away  from  responsibilities  of  dealing  with 
technical problems itself. This new “lifestyle” for a tenant using 
a secure multi-tenancy cloud datacenter, the phrase is “Security 
as  a  Service”:  “As  for  how  to  configure  my  firewall,  how  to 
control virus for me, how to detect and prevent intrusion to my 
rental resource, how to prevent data loss from my cloud, …, etc, 
these must all be services done by you the cloud”. The tenant 
should not care how these are done, as long as they are properly 
done to a quality by an expert. 
Today  we  are  in  a  well  connected  era,  and  thus  cloud 
computing should also have a luxury of wide distribution. This 
second new “lifestyle” for a tenant should be: “If you the cloud 
cannot do services well enough, or if the services will later turn 
out to be too expensive, I shall go to other competitors. To ease, 
just in case, going away, I won’t put all my eggs in bucket. Rent 
a  bit  of  my  IT  from  this  cloud,  and  a  bit  of  from  that  cloud. 
Therefore, my cloud shall be a “hybrid” one.” 
Technologies 
in  cloud 
datacenter  inevitably  use  secure  virtualization  technologies. 