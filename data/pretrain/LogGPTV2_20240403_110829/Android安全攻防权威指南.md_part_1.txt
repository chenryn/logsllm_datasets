# OCR Output
## Page 1
TURING图灵程序设计丛书
Android
安全攻防权威指南
AndroidHackersHandbook
[美]JoshuaJ.Drake[美]Collin Mulliner
[西]Pau Oliva Fora[
[美]Stephen A.Ridley
[美]ZachLanier
[]Georg Wincherski
诸建伟杨坤肖梓航译
中国工信出版集团
人民邮电出版社
---
## Page 2
TURING图灵程序设计丛书
Androld
安全攻防权威指南
AndroidHacker'sHandbook
[美]Joshua J. Drake[美] Collin Mulliner
[西] Pau Oliva Fora
[美] Stephen A. Ridley
O著
[美]Zach Lanier
[德]Georg Wincherski
诸葛建伟杨坤肖梓航O译
人民邮电出版社
北京
---
## Page 3
图书在版编目（CIP）数据
Android安全攻防权威指南/（美）德雷克
（Drake.J.J.）等著：诸葛建伟，杨坤，肖梓航译.
北京：人民邮电出版社，2015.4
（图灵程序设计丛书）
ISBN 9787115385703
1.①.…II.①德…②诸…③杨.…肖.…IIL.①
移动终端一应用程序一程序设计一安全技术-指南IV.
①TN929. 5362
中国版本图书馆CIP数据核字（2015）第038666号
内容提要
本书由世界顶尖级黑客打造，是目前最全面的一本Android系统安全手册，书中细致地介绍了
Android系统中的漏洞挖掘、分析，并给出了大量利用工具，结合实例从白帽子角度分析了诸多系统问题，
是一本难得的安全指南。
本书的目标读者为软件安全技术人员，操作系统及应用开发人员。
著
[美] Josbua J. Drake[四] Pau Oliva Fora
[美] Zach Lanier[关] Collin Mulliner
[美] Stephen A. Ridley[他] Georg Wincherski
译
诸葛建伟杨坤肖梓航
责任编辑朱巍
执行编辑杨琳
责任印制杨林杰
人民邮电出版社出版发行
北京市丰台区成寿寺路11号
邮编100164
电子邮件PI:EMAIL
网hl: http://www.ptpress.com.cn
北京鑫正大印刷有限公司印刷
开本：800×10001/16
印账：25.5
字数：617千字
2015年4月第1版
印数：1-4000册
2015年4月北京第1次印刷
著作权合同登记号图字：01-2014-4711号
定价：89.00元
读者服务热线：（010)51095186转600印装质量热线：（010)81055316
反盗版热线：（010)81055315
广告经营许可证：京崇工商广字第0021号
---
## Page 4
中文版序
“中国”和“Android”是一对独特的组合。近几年来，中国已经成为全球最大的手机市场，
与此同时，Android也成为最主流的智能手机操作系统。但是两者的联系并不仅仅体现在规模上。
中国还拥有与众不同的手机产业环境，许多手机厂商专门为中国市场生产各种移动设备，面这些
设备大都采用Android或者从Android原始代码衍生面来的操作系统。此外，中国还有着庞大的
安全研究社区，并且产出了许多优秀的研究成果，尤其是在移动安全领域。我们希望Android
Hacker'sHandbook的这本中文版有助于中国的开发者和研究人员理解关于Android平台及其安
全特性的必备知识。
China and Android are a unique combination. Over the last couple of years China has become the
operating system. But the combination of China and Android is not only about size. China has a unique
mobile phone ecosystem with a number of mobile phone manufacturers that exclusively built devices for
the Chinese market. Many of these devices run Android or operating systems that are derived from the
original Android code. China also features a large security research community and is the source of a lot
of good research, especially in the mobile space. With the Chinese translation of the Android Hacker's
Handbook we hope to provide developers and researchers with essential and easy accessible knowledge
about the Android platform and its security features
Collin Mulliner
---
## Page 5
前言
信息安全与大多数领域一样，都是从家庭式手工作坊开始萌芽的。经过自主发展，这一领域
已经跨越了业余消遗式的初级阶段，逐渐成为一个健全的产业。如今的信息安全领域中，有顶着
是一块创新热土，能够让数论、密码学、自然语言处理、图论、算法、理论计算机科学等一系列
看似冷解的研究方向产生重大行业影响。对于这些令人神往的科学研究而言，信息安全行业正在
发展进化成为它们的创新试验场，但与此同时，信息安全（特别是“漏洞研究”）仍然受信息技
术领域整体发展的限制，并与信息技术领域的热点趋势保持一致。
正如我们每个人从个人生活中强烈感受到的那样，移动计算显然是信息技术领域近年来得到
巨大发展的一个热点方向。现在，各种移动设备已经无时无刻不伴随在我们的左右，我们花在移
动设备上的时间要比花在电脑上的时间多得多：办公用的电脑在下班后就会被我们遗弃在办公桌
上，而家里的电脑在我们早上急匆匆去上班时甚至没有打开的机会，这种变化是前所未有的。与
电脑不同的是，我们的移动设备始终是保持开机的，而且连接着工作与家庭这两个世界，因此也
成为了坏人们眼中更具价值的攻击目标。
不幸的是，信息安全行业适应移动化趋势的脚步有些迟缓，近期才刚刚跨出了一小步。作为
一个“保守派”占多数的行业，信息安全领域在移动与嵌人式安全研究开发上的行动在过去几年
里过于缓慢（至少公开层面上是这样的），以至于移动安全在某种程度上仍然被认为是前沿研究，
威胁也随之为移动安全研究与安全产品创造了市场前景。
对于信息安全领域研究者而言，移动平台就像是一块新大陆，等待着人们去探索，其中有着
各种处理器架构、硬件外设、软件栈和操作系统所构成的多样化“地理结构”，它们共同构成了
一个挖掘、利用和研究各类漏洞的生态系统。
根据IDC的统计，Android在2012年第三季度的全球市场份额是75%（以当季出货量计算）
共出货一亿三千六百万部。苹果公司的iOS在当季的市场份额为14.9%，黑莓与塞班则分别以
iOS下降至12.9%，剩余的6.1%则分散在其他移动操作系统中。在这样的市场份额分布格局下，
Android世界中有着一系列有题的信息安全事件和研究工作，我们觉得一本能够描述该领域本质
的书籍肯定是大家翘首以盼的。
Wiley 出版社已经出版了 Shcllooder's、Mac、Database、Web Application、iOS和 Browser 等“黑
---
## Page 6
前言V
客攻防技术宝典”系列图书”。《Android安全攻防权威指南》是这一系列的最新图书，充分借助
了整个系列的一些基础信息。
本书及相关技术概述
我们决定写这本书的主要原因是，当前移动安全研究领域的知识图谱过于稀疏，仅有的参考
资源和技术资料互相孤立，甚至是相互冲突的。虽然已经有了不少专注于Android的优秀论文和
其他出版物，但其中很大一部分所涵盖的内容都非常狭窄，仅仅关注Android安全的某个特定方
向，或者只是在讨论移动或嵌人式设备的某个安全问题时将Android作为一个辅助例子予以提及。
此外，Android相关的已公开漏洞信息非常稀缺，虽然现在已经有超过1000个已公开的漏润会影
响到Android设备，但通过常见漏润信息渠道报告的只有不到100个。我们相信，本书所介绍的
相关技术、概念、工具、技巧和案例，可以帮助你迈上改善Android安全产业态势的漫漫长路。
本书的结构
本书应该按照章节顺序进行阅读，但是对于正在钻研Android或者进行Android设备安全研
究的读者来说，也可以将本书作为一本参考资料。本书一共分为13章，几乎涵盖了安全研究人
员第一次接触Android所需要了解的所有内容。这些章节通过图表、截图、代码片段和反汇编代
码等来介绍Android的软硬件环境，进而讨论在Android上进行软件漏润利用和逆向工程的不同
之处。全书的大致结构是，从一些宽泛的话题开始，以深度的技术细节收尾。这些章节逐步具体
化，最终将讨论一些安全研究的高级话题，如发现、分析和攻击Android设备。本书尽可能地引
用来自外部的各类详细文档，从面专注于闸述设备root、逆向工程、漏洞研究和软件漏润利用等
技术细节。
口第1章介绍Android移动设备的生态系统。首先回顾Android系统发展的历史，然后介绍
通用软件的构成、Android设备的市场流通情况以及供应链当中的各大关键角色，最后从
较高层面上总结和讨论Android生态系统发展遭遇的挑战以及安全研究面临的困难。
口第2章闸述Android系统的基础知识。首先引人系统安全机制的基础核心概念，然后深入
关键安全组件的内部机制。
口第3章介绍获取Android设备完全控制权的动机与方法。首先讲授适用于众多设备的通用
技术，而后逐一详细分析十几个公开的漏洞利用。
口第4章涉及Android应用相关的安全概念和技术。讨论了Android应用开发过程中常见的
安全错误，并介绍如何使用正确的工具和流程来找到这些问题。
口第5章讨论移动设备可能遭受攻击的形式，并解释用来描述这些攻击的关键术语。
①其中《黑客攻防技术宝典：系统实战篇）《黑客攻防技术宝典：Web实战霜）（黑客攻防技术宝典：iOS实战篇）
已由人民邮电出版社出版，《黑客攻防技术宝典：浏览器实战篇》亦将于2015年面世。一编者注
---
## Page 7
前言
口第6章讲述如何使用模糊测试技术来发现Android系统中的软件漏洞。从介绍模糊测试宏
观流程入手，重点描述如何使用这些流程更好地帮助我们发现Android系统中的安全问题。
口第7章介绍如何分析在Android系统中发现的缺陷和安全漏洞。本章涵盖了Android系统
中不同类型与层次代码的调试技术，最后以基于WebKit引擎的浏览器中一个未修补的安
全问题为案例进行深人分析
口第8章关注如何利用Android设备中发现的内存破坏漏洞，涵盖了编译器和操作系统的内部
机理，例如堆的实现、ARM体系架构规范等。章节最后详细分析了几个公开的漏洞利用。
口第9章介绍高级利用技术ROP（RetumOrientedProgramming）。进一步讲述ARM体系架
构，并解释为何、如何使用ROP技术，最后对一个独特的漏洞利用作了更为细致的分析。
口第10章深入Android操作系统内核的内部工作原理，涵盖如何从黑客的角度来对内核进
行开发和调试，本章最后还会教会你如何利用若干已公开的内核漏洞。
口第11章将带你返回用户空间，来讨论一个特殊且重要的Android智能手机组件—无线
接口层（RIL）在闸明RIL的架构细节之后，教你如何通过与RIL组件的交互，对Android
系统中处理短消息的模块进行模棚测试。
口第12章关注目前存在于Android系统中的安全保护机制，介绍了这些保护机制是何时被
发明并引人Android系统，以及是如何运作的，最后总结绕过这些保护机制的方法。
口第13章深人探索通过硬件层面来攻击Android和其他嵌人式设备的方法。首先介绍如何
识别、监视和拦截各种总线级别的通信，并展示如何利用这些方法来攻击那些难以触及
的系统组件。最后给出了如何避免遭受这些常见硬件攻击的诀窍。
本书面向的读者
任何想要加深对Android安全认识的人都可以阅读本书，不管是软件开发者、嵌人式系统设
计师、安全架构师，还是安全研究人员，本书都会帮助你拓宽对Android安全的理解。
---
## Page 8
致谢
“感谢我的家人，特别是我的妻子和儿子，他们在图书撰写过程中不知疲倦地给予我支持与
付出。我要向业界和学术界的合作伙伴们致以谢意，他们的努力研究拓展了公共知识的边界。我