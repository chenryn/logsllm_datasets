``` screen
[root@tng3-1 ~]# vgs
  VG                #PV #LV #SN Attr   VSize  VFree
  striped_vol_group   3   0   0 wz--n- 51.45G 51.45G
```
:::
::: section
::: titlepage
## [⁠]{#LVM_examples.html#lv_create_ex2}5.2.3. 创​​​​​​​建​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​ {.title}
:::
::: para
下​​​​​​​面​​​​​​​的​​​​​​​命​​​​​​​令​​​​​​​可​​​​​​​在​​​​​​​卷​​​​​​​组​​​​​​​ `striped_vol_group`{.literal} 中​​​​​​​创​​​​​​​建​​​​​​​条​​​​​​​状​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​
`striped_logical_volume`{.literal}。​​​​​​​本​​​​​​​示​​​​​​​例​​​​​​​创​​​​​​​建​​​​​​​的​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​的​​​​​​​大​​​​​​​小​​​​​​​为​​​​​​​
2GB，有​​​​​​​三​​​​​​​个​​​​​​​条​​​​​​​带​​​​​​​，每​​​​​​​个​​​​​​​条​​​​​​​带​​​​​​​的​​​​​​​大​​​​​​​小​​​​​​​为​​​​​​​ 4Kb。​​​​​​​
:::
``` screen
[root@tng3-1 ~]# lvcreate -i3 -I4 -L2G -nstriped_logical_volume striped_vol_group
  Rounding size (512 extents) up to stripe boundary size (513 extents)
  Logical volume "striped_logical_volume" created
```
:::
::: section
::: titlepage
## [⁠]{#LVM_examples.html#fs_create_ex2}5.2.4. 创​​​​​​​建​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​ {.title}
:::
::: para
以​​​​​​​下​​​​​​​命​​​​​​​令​​​​​​​在​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​中​​​​​​​创​​​​​​​建​​​​​​​了​​​​​​​一​​​​​​​个​​​​​​​ GFS 文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​。​​​​​​​
:::
``` screen
[root@tng3-1 ~]#  gfs_mkfs -plock_nolock -j 1 /dev/striped_vol_group/striped_logical_volume
This will destroy any data on /dev/striped_vol_group/striped_logical_volume.
Are you sure you want to proceed? [y/n] y
Device:                    /dev/striped_vol_group/striped_logical_volume
Blocksize:                 4096
Filesystem Size:           492484
Journals:                  1
Resource Groups:           8
Locking Protocol:          lock_nolock
Lock Table:
Syncing...
All Done
```
::: para
下​​​​​​​面​​​​​​​的​​​​​​​命​​​​​​​令​​​​​​​将​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​挂​​​​​​​载​​​​​​​到​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​并​​​​​​​报​​​​​​​告​​​​​​​磁​​​​​​​盘​​​​​​​空​​​​​​​间​​​​​​​用​​​​​​​量​​​​​​​。​​​​​​​
:::
``` screen
[root@tng3-1 ~]# mount /dev/striped_vol_group/striped_logical_volume /mnt
[root@tng3-1 ~]# df
Filesystem           1K-blocks      Used Available Use% Mounted on
/dev/mapper/VolGroup00-LogVol00
                      13902624   1656776  11528232  13% /
/dev/hda1               101086     10787     85080  12% /boot
tmpfs                   127880         0    127880   0% /dev/shm
/dev/striped_vol_group/striped_logical_volume
                       1969936        20   1969916   1% /mnt
```
:::
:::
::: section
::: titlepage
# [⁠]{#LVM_examples.html#vol_split_ex}5.3. 分​​​​​​​割​​​​​​​卷​​​​​​​组​​​​​​​ {.title}
:::
[]{#LVM_examples.html#idm139761021791104 .indexterm}
::: para
在​​​​​​​本​​​​​​​示​​​​​​​例​​​​​​​中​​​​​​​，现​​​​​​​有​​​​​​​卷​​​​​​​组​​​​​​​由​​​​​​​三​​​​​​​个​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​组​​​​​​​成​​​​​​​。​​​​​​​如​​​​​​​果​​​​​​​在​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​中​​​​​​​有​​​​​​​足​​​​​​​够​​​​​​​的​​​​​​​未​​​​​​​使​​​​​​​用​​​​​​​空​​​​​​​间​​​​​​​，就​​​​​​​可​​​​​​​在​​​​​​​不​​​​​​​添​​​​​​​加​​​​​​​新​​​​​​​磁​​​​​​​盘​​​​​​​的​​​​​​​情​​​​​​​况​​​​​​​下​​​​​​​创​​​​​​​建​​​​​​​新​​​​​​​的​​​​​​​卷​​​​​​​组​​​​​​​。​​​​​​​
:::
::: para
在​​​​​​​初​​​​​​​始​​​​​​​设​​​​​​​定​​​​​​​中​​​​​​​，逻​​​​​​​辑​​​​​​​卷​​​​​​​ `mylv`{.literal} 是​​​​​​​从​​​​​​​卷​​​​​​​组​​​​​​​ `myvol`{.literal}
中​​​​​​​分​​​​​​​割​​​​​​​出​​​​​​​来​​​​​​​的​​​​​​​，它​​​​​​​依​​​​​​​次​​​​​​​包​​​​​​​含​​​​​​​三​​​​​​​个​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​
`/dev/sda1`{.literal}、​​​​​​​`/dev/sdb1`{.literal} 和​​​​​​​ `/dev/sdc1`{.literal}。​​​​​​​
:::
::: para
完​​​​​​​成​​​​​​​这​​​​​​​个​​​​​​​步​​​​​​​骤​​​​​​​后​​​​​​​，卷​​​​​​​组​​​​​​​ `myvg`{.literal} 将​​​​​​​包​​​​​​​含​​​​​​​ `/dev/sda1`{.literal} 和​​​​​​​
`/dev/sdb1`{.literal}。​​​​​​​第​​​​​​​二​​​​​​​个​​​​​​​卷​​​​​​​组​​​​​​​ `yourvg`{.literal} 将​​​​​​​包​​​​​​​含​​​​​​​
`/dev/sdc1`{.literal}。​​​​​​​
:::
::: section
::: titlepage
## [⁠]{#LVM_examples.html#freespace_ex3}5.3.1. 确​​​​​​​定​​​​​​​剩​​​​​​​余​​​​​​​空​​​​​​​间​​​​​​​ {.title}
:::
::: para
您​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​ `pvscan`{.command}
命​​​​​​​令​​​​​​​来​​​​​​​确​​​​​​​定​​​​​​​在​​​​​​​卷​​​​​​​组​​​​​​​中​​​​​​​目​​​​​​​前​​​​​​​有​​​​​​​多​​​​​​​少​​​​​​​可​​​​​​​用​​​​​​​的​​​​​​​剩​​​​​​​余​​​​​​​空​​​​​​​间​​​​​​​。​​​​​​​
:::
``` screen
[root@tng3-1 ~]# pvscan
  PV /dev/sda1   VG myvg   lvm2 [17.15 GB / 0    free]
  PV /dev/sdb1   VG myvg   lvm2 [17.15 GB / 12.15 GB free]
  PV /dev/sdc1  VG myvg   lvm2 [17.15 GB / 15.80 GB free]
  Total: 3 [51.45 GB] / in use: 3 [51.45 GB] / in no VG: 0 [0   ]
```
:::
::: section
::: titlepage
## [⁠]{#LVM_examples.html#data_move_ex3}5.3.2. 转​​​​​​​移​​​​​​​数​​​​​​​据​​​​​​​ {.title}
:::
::: para
您​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​ `pvmove`{.command} 将​​​​​​​ `/dev/sdc1`{.literal}
中​​​​​​​所​​​​​​​有​​​​​​​使​​​​​​​用​​​​​​​的​​​​​​​物​​​​​​​理​​​​​​​扩​​​​​​​展​​​​​​​移​​​​​​​动​​​​​​​到​​​​​​​ `/dev/sdb1`{.literal} 中​​​​​​​。​​​​​​​执​​​​​​​行​​​​​​​
`pvmove`{.command} 会​​​​​​​花​​​​​​​一​​​​​​​些​​​​​​​时​​​​​​​候​​​​​​​。​​​​​​​
:::
``` screen
[root@tng3-1 ~]# pvmove /dev/sdc1 /dev/sdb1
  /dev/sdc1: Moved: 14.7%
  /dev/sdc1: Moved: 30.3%
  /dev/sdc1: Moved: 45.7%
  /dev/sdc1: Moved: 61.0%
  /dev/sdc1: Moved: 76.6%
  /dev/sdc1: Moved: 92.2%
  /dev/sdc1: Moved: 100.0%
```
::: para
转​​​​​​​移​​​​​​​完​​​​​​​数​​​​​​​据​​​​​​​后​​​​​​​，您​​​​​​​可​​​​​​​以​​​​​​​看​​​​​​​到​​​​​​​ `/dev/sdc1`{.literal} 中​​​​​​​的​​​​​​​所​​​​​​​有​​​​​​​空​​​​​​​间​​​​​​​都​​​​​​​可​​​​​​​用​​​​​​​了​​​​​​​。​​​​​​​
:::
``` screen
[root@tng3-1 ~]# pvscan
  PV /dev/sda1   VG myvg   lvm2 [17.15 GB / 0    free]
  PV /dev/sdb1   VG myvg   lvm2 [17.15 GB / 10.80 GB free]
  PV /dev/sdc1   VG myvg   lvm2 [17.15 GB / 17.15 GB free]
  Total: 3 [51.45 GB] / in use: 3 [51.45 GB] / in no VG: 0 [0   ]
```
:::
::: section
::: titlepage
## [⁠]{#LVM_examples.html#vol_splitting_ex3}5.3.3. 分​​​​​​​割​​​​​​​卷​​​​​​​组​​​​​​​ {.title}
:::
::: para
要​​​​​​​创​​​​​​​建​​​​​​​新​​​​​​​卷​​​​​​​组​​​​​​​ `yourvg`{.literal}，请​​​​​​​使​​​​​​​用​​​​​​​ `vgsplit`{.command} 命​​​​​​​令​​​​​​​分​​​​​​​割​​​​​​​卷​​​​​​​组​​​​​​​
`myvg`{.literal}。​​​​​​​
:::
::: para
在​​​​​​​您​​​​​​​可​​​​​​​以​​​​​​​分​​​​​​​割​​​​​​​卷​​​​​​​组​​​​​​​前​​​​​​​，必​​​​​​​须​​​​​​​使​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​失​​​​​​​活​​​​​​​。​​​​​​​如​​​​​​​果​​​​​​​挂​​​​​​​载​​​​​​​了​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​，您​​​​​​​必​​​​​​​须​​​​​​​在​​​​​​​失​​​​​​​活​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​之​​​​​​​前​​​​​​​卸​​​​​​​载​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​。​​​​​​​
:::
::: para
您​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​ `lvchange`{.command} 命​​​​​​​令​​​​​​​或​​​​​​​者​​​​​​​ `vgchange`{.command}
命​​​​​​​令​​​​​​​使​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​失​​​​​​​活​​​​​​​。​​​​​​​以​​​​​​​下​​​​​​​命​​​​​​​令​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​ `mylv`{.literal} 失​​​​​​​活​​​​​​​并​​​​​​​从​​​​​​​卷​​​​​​​组​​​​​​​
`myvg`{.literal} 中​​​​​​​分​​​​​​​割​​​​​​​出​​​​​​​卷​​​​​​​组​​​​​​​ `yourvg`{.literal}，将​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​
`/dev/sdc1`{.literal} 移​​​​​​​动​​​​​​​到​​​​​​​新​​​​​​​的​​​​​​​卷​​​​​​​组​​​​​​​ `yourvg`{.literal} 中​​​​​​​。​​​​​​​
:::
``` screen
[root@tng3-1 ~]# lvchange -a n /dev/myvg/mylv
[root@tng3-1 ~]# vgsplit myvg yourvg /dev/sdc1
  Volume group "yourvg" successfully split from "myvg"