title:Combined circuit and microarchitecture techniques for effective soft
error robustness in SMT processors
author:Xin Fu and
Tao Li and
Jos&apos;e A. B. Fortes
International Conference on Dependable Systems &Networks: Anchorage, Alaska, June 24-272008
Combined Circuit and Microarchitecture Techniques for
Effective Soft Error Robustness in SMT Processors
Xin Fu, Tao Li and Jose Fortes
Department ofEeE, University ofFlorida
PI:EMAIL,
PI:EMAIL, PI:EMAIL
Abstract
As
an
scales,
crucial
applying
radiation
challenge
reliability
technology
circuit-level
increasingly
semiconductor
is
in
becoming
microprocessor design. The rSRAM and voltage scaling are
two promising circuit-level radiation hardening techniques to
increase soft error robustness ofa SRAM-based storage cell.
However,
hardening
techniques to all on-chip transistors will result in significant
overhead in performance and power consumption. In this
paper, we propose microarchitecture support that allows
cost-effective implementation of radiation hardened key
microarchitecture structures (e.g.
issue queue and reorder
buffer) in SMT processors using soft error robust circuit
techniques. Our study shows that the combined circuit and
microarchitecture techniques achieve attractive tradeojJs
between reliability, performance and power.
1. Introduction
itself
Technology scaling, such as smaller feature sizes, lower
supply voltage and higher device integration are projected to
lead to a rapid increase in the soft error rate (SER) in future
high-performance microprocessors. Soft errors or single(cid:173)
event upsets (SEUs) are failures caused by high energy
neutron or alpha particle strikes in integrated circuits. Such
failures are called soft errors since only the data is destroyed
while the circuit
is not permanently damaged.
Protection techniques such as parity or ECC have been used
the pipeline
in memory and cache design. However,
structures (e.g. issue queue and reorder buffer) are latency(cid:173)
critical and need to handle frequent accesses in a single cycle.
These protection techniques can add latency to each access
which severely hurts performance. For instance, studies in [1]
investigated the performance effect of protecting the issue
queue (IQ) with ECC and showed that such a modification
can result in up to 45% performance degradation. Various
techniques have been proposed to mitigate the deleterious
impact of soft errors [2, 3, 4]. Among them, radiation
hardening circuit design provides greatly increased immunity
to soft error strikes. For example, [5] proposed robust SRAM
(rSRAM) which adds two capacitors into a standard SRAM
cell. The charge to flip transistor state is significantly
increased due to the two added capacitors. However, the
rSRAM introduces additional write latency. This suggests
that using rSRAM to implement hardware structures in the
processor critical path improves soft error reliability at the
cost of noticeable performance penalty. Similarly, scaling up
supply voltage has positive effect on reducing soft error rate
since the critical charge in altering logic device state is
to
proportional to the supply voltage. Nevertheless, the power
consumption is also quadratic related to supply voltage. The
tradeoff between reliability and power consumption has to be
appropriately considered. Recent studies [6, 7, 8] show that a
fraction of soft errors can be masked at
significant
microarchitecture level, making soft error vulnerability
mitigation using microarchitecture techniques cost-effective
solutions
At
microarchitecture
vulnerability
characteristics can be exploited to alleviate the soft error
failure rate but doing so does not guarantee convergence to
the high reliability design goal. Moreover, the capability of
techniques is limited by intrinsic
microarchitecture level
circuit susceptibility to soft errors. Note that
redundant
execution [9, 10] detects/recovers
faults based on the
committed architecture states, we regard it as the architecture
to the
level fault
vulnerability mitigation technique discussed in the paper.
tolerance solution which is orthogonal
enhance
level,
application
reliability.
processor
circuit
designs
Although
radiation
soft
hardened
error
and
vulnerability mitigation
microarchitecture
techniques have been proposed in literature,
there are
relatively few studies that cost-effectively integrate them
together. This paper bridges the gap by proposing combined
circuit and microarchitecture techniques for soft error
robustnes~. We show that the two techniques can be used to
complement with each other to achieve attractive tradeoffs
between reliability and other
important design goals.
Specifically, we studied the effectiveness of combining
circuit and microarchitecture level solutions to increase soft
error tolerance of the key microarchitecture structures in SMT
processors. We choose SMT architecture since exploiting
both instruction level parallelism (ILP) and thread level
parallelism (TLP) introduces greater susceptibility to soft
errors. We opt to optimize the reliability of issue queue (IQ)
and reorder buffer (ROB) since they are vulnerability hot spot
in SMT processors. To our knowledge, this is the first work
that combines
for SER
robustness.
in the two levels
techniques
The contributions of this work are:
the
using
radiation
hardened
• We propose an issue queue consists of a part
implemented using the standard SRAM cells (NIQ) and a part
implemented
rSRAM
technologies (RIQ). The operands ready instructions are
dispatched into NIQ while other not-ready but performance
critical instructions are dispatched into RIQ. By decreasing
both quantity and residency cycles of instructions' vulnerable
bits in a hardware structure,
the operand readiness based
dispatch can effectively mitigate soft error vulnerability of
NIQ where no error protection is provided. The filtering out
1-4244-2398-9/08/$20.00 ©2008 IEEE
137
DSN 2008: Fu et al.
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 13:18:09 UTC from IEEE Xplore.  Restrictions apply. 
International Conference on Dependable Systems &Networks: Anchorage, Alaska, June 24-27 2008
of performance critical instructions from operand readiness
based dispatch alleviates performance penalty. Meanwhile,
the write latency of the rSRAM based RIQ can be effectively
hidden since instructions dispatched to the RIQ normally will
issuing. The RIQ, which
not be immediately ready for
provides great soft error immunity, successfully protects
those instructions from soft error strikes during their IQ
residency period.
• We compare the proposed technique with existing
mechanisms which can potentially reduce IQ soft error
vulnerability, such as 20P_BLOCK [11], FLUSH [12] and
IQ exclusively implemented using the rSRAM cells. Results
show that
the combined circuit and microarchitecture
schemes achieve the most attractive reliabilitylperformance
tradeoffs: IQ vulnerability is reduced by 80% with 0.3%
throughput and 1% fairness performance loss. Compared with
rSRAM-based
20%
performance improvement. Compared with FLUSH which
flushes the pipeline upon the long latency instructions (e.g.
L2 cache misses), the proposed schemes achieve 58% more
reliability enhancement while showing 3% throughput and
12% fairness performance gain. We further study the
performance and reliability efficiency of the proposed hybrid
schemes while varying performance critical
threshold and
RIQ size.
scheme
hybrid
shows
IQ,
the
• We observe that the ROB soft error vulnerability
increases rapidly once a L2 miss occurs and the ROB
susceptibility to soft error decreases after the L2 miss is
solved. To protect the ROB from soft error strikes during its
high vulnerability period, we propose to scale up the ROB
supply voltage when its vulnerability is higher than a certain
threshold during L2 misses, and switch the voltage back to
nominal value after the cache miss is solved. The novelty of
our proposed scheme is to apply reliability awareness trigger
to achieve attractive reliability/power tradeoffs. As a result,
our scheme improves ROB reliability by 20% with 1.4%
processor power overhead.
• We put the two proposed techniques together and
evaluate their aggregate effect on the entire processor core
and other important microarchitecture structures. Results
show that
reduce processor core
vulnerability by 20%.
the two techniques
The rest of this paper is organized as follows. Section 2
provides a background on circuit-level and microarchitecture
level soft error tolerance. Section 3 proposes hybrid circuit
and microarchitecture techniques for soft error robustness.
Section 4 presents our experimental
setup. Section 5
evaluates the proposed techniques in terms of reliability
enhancement
overhead. We
discussed related work in Section 6 and conclude our work in
Section 7.
2.
and
Microarchitecture Level Techniques for Soft
Error Robustness
Background:
performance/power
Circuit
and
The soft error rate (SER) of a single SRAM cell can be
expressed by the following empirical model [13]:
QcriJ
SER SRAM = F . (A d,p + Ad,n) . K . e
(Eq.1)
where F is the total neutron flux within the whole energy
spectrum, Ad
are the p-type and n-type drain
and A
Q..
,p
d,n
diffusion areas which are sensitive to particle strikes, K is a
technology-independent fitting parameter, Qcril is the critical
charge and Qs is the charge collection efficiency of the device.
A soft error occurs if the collected charge Q exceeds critical
charge Qcril of a circuit node. For a given technology and
circuit node, QCril depends on supply voltage v DD , the effective
capacitance of the drain nodes C and the charge collection
waveform. The critical charge Qerilof a six transistor SRAM
cell is a function (shown as Eq.2) ofvDD , the threshold voltage
T and the effective time constant T of the collection
V
waveform. In Eq. 2, the time dependence of current transients
is given by To' which depends strongly on the strike location
and activated mobility models. Eq.l and 2 show that SER
increases exponentially with reduction in Qerit and Qcril is
proportional to the effective capacitance of the node and the
supply voltage. Hence, the SER is exponentially dependent
on C and VDD •
T
Q eril (V DD ,T) = C . (V DD + (V DD - V T ) •T)
o
(Eq.2)
2.1. Soft Error Robust SRAM (rSRAM)
Eq. 2 suggests that
the minimum amount of charges
required to flip the SRAM cell logic state is proportional to
the internal node capacitances. Therefore,
increasing the
effective capacitances will reduce the SER of a storage node.
In [5], the soft error robust SRAM (rSRAM) cell (see Figure
I) is built by symmetrically adding two stacked capacitors to
a standard six transistor high density SRAM cell. Both area
penalty and manufacturing cost of the rSRAM can be
mitigated by adding the two capacitors in the vertical
dimension (i.e. between the polysilicon and the Metal I levels)
and manufactured with a standard embedded DRAM process
flow. Accelerated alpha and neutron tests have demonstrated
that
the rSRAM devices are alpha immune and almost
insensitive to neutrons [14].
:;~::l
Stacked
capacitor
V oo /2
Figure 1. Soft error robust SRAM (rSRAM) cell (6T+2C). The
rSRAM cell is built from a standard 6 transistor high density
SRAM cell above which two stacked Metal-Insulator-Metal
(MIM) capacitors are symmetrically added. The embedded
capacitors increase the critical charge required to mp the cell
logic state and lead to a much lower SER. The common node
of the two capacitors is biased at VDD/2.
1-4244-2398-9/08/$20.00 ©2008 IEEE
138
DSN 2008: Fu et al.
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 13:18:09 UTC from IEEE Xplore.  Restrictions apply. 
International Conference on Dependable Systems &Networks: Anchorage, Alaska, June 24-272008
The rSRAM cell symmetry and the transistor sizing
remain strictly identical
to the standard SRAM. Further
comparison between rSRAM and standard SRAM shows that
they both have similar power consumption, leakage and area.
However, there are trade-offs between robustness and timing
performance. Compared with the standard SRAM, both the
read current and the static noise margin of rSRAM are
unchanged, whereas the intrinsic write operation of the
rSRAM is slowed down proportionally to the extra loads on
the two internal nodes. The normalized SER rates for the
rSRAM as a function of the added capacitor value were
studied in [14] using Monte Carlo simulations. As shown in
[5], to achieve the desired SER rates on rSRAM, the added
capacitors degrade the memory cell write timing performance
by a factor three in typical conditions. For very high capacitor
values, the write might become even slower than the read,
leading to significant cycle time penalty. Such disadvantage
limits the applicability of using the rSRAM to harden
hardware structures that reside in the critical path of the
processor pipeline.
2.2. Voltage Scaling for SRAM Soft Error
Robustness
scaling up voltage will
Eq 2. shows that Q erit has a linear relation with the supply
voltage. Transistors with high supply voltage exhibit strong
immunity to soft errors since the particle energy threshold
required to cause soft errors is increased. Therefore, scaling
up supply voltage can provide immunity to soft errors. In this
paper, we used dual- vDD [15], a technique that is originally
to enhance hardware SER
proposed for power saving,
robustness. However,
increase
dynamic and leakage power consumption. For example,
dynamic power of the circuit is proportional to the square of
the supply voltage. Therefore, it is important to appropriately
scale up supply voltages such that the power savings can be
balanced with concerns of reliability. This paper proposes
methods that can selectively adjust the supply voltage and
achieve attractive trade-offs between power and reliability.
2.3. Microarchitecture
Vulnerability Analysis
observation
at
microarchitecture level is that a SEU may not affect processor
states
execution. At
microarchitecture level, the overall hardware structure's soft
error rate, as given in Eq. 3, is decided by two factors: the FIT
rate (Failures in Time, which is the raw SER at circuit level)
per bit, mainly determined by circuit design and processing
technology, and the architecture vulnerability factor (AVF)
[6].
program correct
Error
behavior
Level
of
soft
required
for
A key
Soft
error
SER = FIT· A VF
(Eq.3)
fault
in that hardware structure will
A hardware structure's AVF refers to the probability that a
in
transient
incorrect program results. Therefore, the AVF, which can be
used as a metric to estimate how vulnerable the hardware is to
soft errors during program execution, is determined by the
processor
required for architecturally correct
state bits
result
execution (ACE).
Mathematically,
expressed as:
In [6], such bits are called ACE bits.
a hardware
structure's AVF can be
AVF
-
-
B ACE
. LACE
# B
(Eq.4)
where BACE is the average bandwidth of the ACE bits into