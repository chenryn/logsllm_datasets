# Quantifying the Extent of IPv6 Deployment

**Authors:**
- Elliott Karpilovsky<sup>1</sup>
- Alexandre Gerber<sup>2</sup>
- Dan Pei<sup>2</sup>
- Jennifer Rexford<sup>1</sup>
- Aman Shaikh<sup>2</sup>

**Affiliations:**
1. Princeton University
2. AT&T Labs â€“ Research

## Abstract
Our understanding of IPv6 deployment is surprisingly limited. It is not even clear how we should quantify it. In this paper, we collect and analyze a variety of data to characterize the penetration of IPv6. Our findings reveal that each analysis leads to somewhat different conclusions. For example:
- Registry data shows that IPv6 address allocations are growing rapidly, yet BGP table dumps indicate that many addresses are either never announced or announced long after allocation.
- NetFlow records from a tier-1 ISP show growth in native IPv6 traffic, but deeper analysis reveals that most of the traffic consists of DNS queries and ICMP packets.
- A more detailed inspection of tunneled IPv6 traffic uncovers many packets exchanged between IPv4-speaking hosts (e.g., to traverse NAT boxes).

Overall, our study suggests that from our vantage points, current IPv6 deployment appears somewhat experimental. The growth of IPv6 allocations, routing announcements, and traffic volume probably indicates that more operators and users are preparing for the transition to IPv6.

## 1. Introduction
IPv4, the current Internet protocol, is showing its age. Addresses are becoming scarce, with estimates of exhaustion within the next several years [1]. People are looking toward IPv6, with its 2<sup>128</sup> possible addresses, as the solution. While there has been pressure to deploy IPv6, NAT technologies have extended IPv4's life. Given the lack of urgency to upgrade, coupled with the administrative and financial overhead of becoming IPv6-enabled, it is difficult to say whether we have moved any closer to a day when IPv6 is so dominant that IPv4 can be "switched off."

Not only has IPv6 deployment been slower than expected, but our understanding of it is also surprisingly limited. Questions such as, "Are organizations actually using IPv6?", "What IPv6 transitional technologies are being used?", and "What applications are using IPv6?" remain largely unanswered.

To answer these questions, we looked at a variety of data sources, ranging from regional Internet registry (RIR) logs to BGP dumps to NetFlow records to packet header traces. Along the way, we found several "gotchas," where surface-level analysis implies a different conclusion from in-depth analysis. For example:
- RIR data indicates that IPv6 prefixes are being allocated at near-exponential rates, implying strong growth. However, longitudinal BGP analysis shows that nearly half of these allocated prefixes are never announced, and the remainder take an average of 173 days to appear in the global routing system. In other words, many people are acting as IPv6 speculators but not deployers.
- Native IPv6 traffic analysis of the enterprise customers of a US tier-1 ISP shows considerable volume, yet most of the traffic is generated by DNS and ICMP; this indicates a dearth of real IPv6 applications.
- A reasonable amount of tunneled IPv6 traffic is already observed on a US broadband ISP (0.001% of total traffic). However, further analysis indicates that much of this traffic is between IPv4 clients, implying that IPv6 tunneling technologies are primarily used to circumvent NAT and firewall restrictions.

The paper is organized as follows. Section 2 examines IPv6 address block allocation and compares it against an analysis of address block announcements. Section 3 looks at both native and tunneled IPv6, analyzing the types of technologies used to enable IPv6 communication and the application mix. We discuss related work in Section 4, and conclude with Section 5.

## 2. Allocation and Announcement of IPv6 Address Blocks
RIR and BGP data are important for understanding how IPv6 addresses are allocated and announced, respectively.

### 2.1 Data Sources
RIR allocations are important because they indicate the number of institutions requesting blocks and the sizes being allocated. For our analysis of IPv6 allocations, we used the ARIN public FTP repository [2], which maintains information about the five regional registries responsible for allocating IPv6 address blocks: APNIC, RIPE, ARIN, LACNIC, and AFRINIC. The date ranges for the different repositories are: 1999-08-13 to 2008-09-25 (APNIC); 1999-08-12 to 2008-09-26 (RIPE); 1999-08-03 to 2008-09-23 (ARIN); 2003-01-10 to 2008-09-22 (LACNIC); and 2004-12-14 to 2008-09-23 (AFRINIC).

To analyze how address blocks are announced, we used the RouteViews BGP data archives [3]. We collected routing table (RIB) snapshots at approximately 6-hour intervals from this website. The BGP data obtained from RouteViews starts on 2003-05-03 and ends on 2008-09-28.

### 2.2 Why Address Allocation Statistics Are Misleading
Looking at the distribution of allocated prefixes, along with the total number of addresses allocated, seems like a reasonable method for quantifying the extent of IPv6 deployment. However, we find that using such information can be misleading.

First, one can incorrectly conclude that IPv6 address allocations are very volatile, as seen by the gigantic spike and dip in the curve. Figure 1 shows the total number of IPv6 addresses assigned by the RIRs. We count the number of allocated addresses by de-aggregating all prefixes into their corresponding sets of IPv6 addresses and unioning these sets together. A couple of points clearly stand out. On 2001-02-01, the number of addresses doubles due to the allocation of 2002::/16 to the 6to4 transitional technology [4], which reserved a part of the IPv6 space for 6to4. Since this is a reservation, it cannot be considered a true measure of IPv6 growth. Likewise, a significant drop is seen on 2006-06-06, due to the decommissioning of the 6Bone (3FFE::/16). Since the 6Bone was experimental and decommissioned once IPv6 growth was observed [5], it cannot be considered evidence of significant IPv6 constriction.

Second, one can incorrectly conclude that IPv6 growth has plateaued. The number of allocated addresses only grew by 20% from 2006-06-07 to 2008-09-26, nearly a 2.5-year period. However, growth is masked by a few extremely large prefixes, which hide the allocation of smaller ones. As of 2008-09-28, of the 2774 allocated prefixes, 31 had a prefix length of 22 or shorter, compared to a median prefix length of 32. Since such large address blocks are delegations (i.e., assigning responsibility for address assignment to local or national registries), they are not true measures of growth. This delegation explains the plateau, and it is incorrect to draw conclusions about IPv6 growth based on it.

### 2.3 Drawing Correct Conclusions from the RIR Allocation
What information can be gleaned from the RIR data? After further analysis, we find that statistics concerning the number of prefix allocations provide insight into the deployment of IPv6.

#### Why Analyzing Prefix Allocations is Better
Since looking at the number of allocated addresses is not particularly insightful, why would looking at the number of allocated prefixes be appropriate? Moreover, is it fair to look at prefixes independent of their size, lumping /64s with /48s and /32s, treating them as all "equal"?

Table 1 shows the distribution of various prefix lengths as a function of year. As time passes, more and more /32 address blocks are present, and the statistics indicate that it is the favorite for recent allocations. In fact, as of 2008-09-28, more than 67% of all prefixes allocated were /32. We believe this heavy bias is due to RIR policy changes in 2004, which made obtaining /32s easier [6,7,8].

Since so many prefixes are the same size, analyzing allocated prefixes will be roughly fair (since most address blocks are the same size), and the results will not be skewed by the few "heavy hitters" seen before.

Unfortunately, sub-allocations are not recorded in the RIRs. Thus, if a /32 is allocated to an organization, and that organization re-allocates it to others, only the first entry is recorded. Thus, our prefix allocation analysis can potentially underestimate the growth of IPv6.

#### Prefix Allocations Reveal Growth Trends
Figure 2 shows the allocations of address blocks for the different registries. RIPE is clearly dominant and shows extremely large growth for 2008. Similarly, ARIN allocations are also increasing at a very fast rate, causing it to surpass APNIC. APNIC has many allocations but has been growing slowly, and only starts to show signs of acceleration toward the end of the study. LACNIC allocations remain approximately linear. While AFRINIC has very few allocations, it shows signs of acceleration. Cumulatively, there have been nearly 2800 address block allocations. Overall, it would appear that IPv6 growth has been somewhat stagnant, increasing at a mostly linear rate, until recently.

One point on the graph requires explanation. In July 2002, RIPENCC and APNIC experienced abnormal growth. Investigation revealed that on July 1, 2002, RIPENCC and APNIC both instituted policy changes regarding IPv6 allocation [9]. These policy changes set new guidelines for how to allocate space and for allocating to new organizations desiring IPv6 space. For example, it defined clear criteria for requesting IPv6 space and a method for organizations to request additional allocations. As such, we believe that these policy changes are responsible for the sudden surge in allocations.

To summarize, IPv6 allocation has only recently started taking off; previous years had mostly linear growth, while current growth could possibly be exponential. However, since we are only at the beginning of the "knee" in the curve, we should be careful in extrapolating too far into the future.

---

**References:**
1. [Reference 1]
2. [Reference 2]
3. [Reference 3]
4. [Reference 4]
5. [Reference 5]
6. [Reference 6]
7. [Reference 7]
8. [Reference 8]
9. [Reference 9]

---

This version of the text is more structured, coherent, and professional, with improved clarity and flow.