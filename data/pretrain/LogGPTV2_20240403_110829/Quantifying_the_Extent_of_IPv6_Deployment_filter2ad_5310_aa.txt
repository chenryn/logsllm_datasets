title:Quantifying the Extent of IPv6 Deployment
author:Elliott Karpilovsky and
Alexandre Gerber and
Dan Pei and
Jennifer Rexford and
Aman Shaikh
Quantifying the Extent of IPv6 Deployment
Elliott Karpilovsky1, Alexandre Gerber2, Dan Pei2, Jennifer Rexford1,
and Aman Shaikh2
1 Princeton University
2 AT&T Labs – Research
Abstract. Our understanding of IPv6 deployment is surprisingly limited. In fact,
it is not even clear how we should quantify IPv6 deployment. In this paper, we
collect and analyze a variety of data to characterize the penetration of IPv6. We
show that each analysis leads to somewhat different conclusions. For example:
registry data shows IPv6 address allocations are growing rapidly, yet BGP table
dumps indicate many addresses are either never announced or announced long
after allocation; Netﬂow records from a tier-1 ISP show growth in native IPv6
trafﬁc, but deeper analysis reveals most of the trafﬁc is DNS queries and ICMP
packets; a more detailed inspection of tunneled IPv6 trafﬁc uncovers many pack-
ets exchanged between IPv4-speaking hosts (e.g., to traverse NAT boxes). Over-
all, our study suggests that from our vantage points, current IPv6 deployment
appears somewhat experimental, and that the growth of IPv6 allocations, routing
announcements, and trafﬁc volume probably indicate more operators and users
are preparing themselves for the transition to IPv6.
1 Introduction
IPv4, the current Internet protocol, is showing its age. Addresses are becoming scarce,
with estimates of exhaustion within the next several years [1]. People are looking toward
IPv6, with its 2128 possible addresses, as the solution. While there has been pressure
to deploy IPv6, NAT technologies have extended IPv4’s life. Given the lack of urgency
to upgrade, coupled with the administrative and ﬁnancial overhead of becoming IPv6-
enabled, it is difﬁcult to say whether we have moved any closer to a day when IPv6 is
so dominant that IPv4 can be “switched off.”
Not only has IPv6 deployment has been slower than expected, but our understanding
of it is surprisingly limited as well. Questions such as, “are organizations actually using
IPv6,” “what IPv6 transitional technologies are being used,” and, “what applications are
using IPv6” remain largely unanswered.
To answer these questions, we looked at a variety of data sources, ranging from
regional Internet registry (RIR) logs to BGP dumps to Netﬂow records to packet header
traces. Along the way, we found several “gotchas,” where the surface level analysis
implies a different conclusion from the in-depth analysis. For example:
– RIR data indicates that IPv6 preﬁxes are being allocated at near exponential rates,
implying strong growth. However, longitudinal BGP analysis shows that nearly half
of these allocated preﬁxes are never announced, and the remainder take an average
of 173 days to appear in the global routing system. In other words, many people are
acting as IPv6 speculators but not deployers.
S.B. Moon et al. (Eds.): PAM 2009, LNCS 5448, pp. 13–22, 2009.
c(cid:2) Springer-Verlag Berlin Heidelberg 2009
14
E. Karpilovsky et al.
– Native IPv6 trafﬁc analysis of the enterprise customers of a US tier-1 ISP shows
considerable volume, yet most of the trafﬁc is generated by DNS and ICMP; this
indicates a dearth of real IPv6 applications.
– A reasonable amount of tunneled IPv6 trafﬁc is already observed on a US broad-
band ISP (0.001% of total trafﬁc). However, further analysis indicates that much
trafﬁc is between IPv4 clients, implying that IPv6 tunneling technologies are pri-
marily used to circumvent NAT and ﬁrewall restrictions.
The paper is organized as follows. Section 2 examines IPv6 address block allocation
and compares it against an analysis of address block announcements. Section 3 looks
at both native and tunneled IPv6, analyzing the types of technologies used to enable
IPv6 communication and the application mix. We discuss related work in Section 4,
and conclude with Section 5.
2 Allocation and Announcement of IPv6 Address Blocks
RIR and BGP data are important for understanding how IPv6 addresses are allocated
and announced, respectively.
2.1 Data Sources
RIR allocations are important because they indicate the number of institutions request-
ing blocks, as well the sizes being allocated. For our analysis of IPv6 allocations, we
used the ARIN public FTP repository [2] that maintains information about the ﬁve re-
gional registries responsible for allocating IPv6 address blocks: APNIC, RIPE, ARIN,
LACNIC, and AFRINIC. Date ranges for the different repositories are: 1999-8-13 to
2008-9-25 (APNIC); 1999-8-12 to 2008-9-26 (RIPE); 1999-8-03 to 2008-9-23 (ARIN);
2003-1-10 to 2008-9-22 (LACNIC); and 2004-12-14 to 2008-9-23 (AFRINIC).
In order to analyze how address blocks are announced, we used the RouteViews
BGP data archives [3]. We collected routing table (RIB) snapshots at approximately 6
hour intervals from this web site. The BGP data obtained from RouteViews starts on
2003-5-3 and ends on 2008-9-28.
s
e
s
s
e
r
d
d
a
f
o
r
e
b
m
u
N
 1.6e+34
 1.4e+34
 1.2e+34
 1e+34
 8e+33
 6e+33
 4e+33
1999
01
2000
01
2001
01
2002
01
2003
01
2004
01
Date
2005
01
2006
01
2007
01
2008
01
2009
01
Fig. 1. Number of IPv6 addresses allocated by RIRs. Each preﬁx is completely de-aggregated
Quantifying the Extent of IPv6 Deployment
15
2.2 Why Address Allocation Statistics Are Misleading
Looking at the distribution of allocated preﬁxes, along with the total number of ad-
dresses allocated, seems like a reasonable method for quantifying the extent of IPv6
deployment; however, we ﬁnd that using such information can be misleading.
First, one can incorrectly conclude that IPv6 address allocations are very volatile,
as seen by the gigantic spike and dip in the curve. Figure 1 shows the total number of
IPv6 addresses assigned by the RIRs. We count the number of allocated addresses by
de-aggregating all preﬁxes into their corresponding sets of IPv6 addresses, and union-
ing these sets together. A couple points clearly stand out. On 2001-2-1, the number of
addresses doubles, due to the allocation of 2002:/16 to the 6to4 transitional technol-
ogy [4], which reserved a part of the IPv6 space for 6to4; since this is a reservation,
it cannot be considered a true measure of IPv6 growth. Likewise, a gigantic drop is
seen on 2006-6-6, due to the decommissioning of the 6Bone (3FFE::/16). Since the
6Bone was experimental and decommissioned once IPv6 growth was observed [5], it
cannot be considered evidence of signiﬁcant IPv6 constriction.
Second, one can incorrectly conclude that IPv6 growth has plateaued. The number
of allocated addresses only grew by 20% from 2006-6-7 to 2008-9-26, nearly a 2.5
year period. However, growth is masked by a few extremely large preﬁxes, that hide
the allocation of smaller ones. As of 2008-9-28, of the 2774 allocated preﬁxes, 31 had a
preﬁx length of 22 or shorter, compared to a median preﬁx length of 32. Since such large
address blocks are allocations (i.e., delegating responsibility of address assignment to
local or national registries) as opposed to assignments, they are not true measures of
growth. This delegation is the explanation for the plateau, and it is incorrect to draw
conclusions about IPv6 growth based on it.
2.3 Drawing Correct Conclusions from the RIR Allocation
What information can be gleaned from the RIR data? After further analysis, we ﬁnd
that statistics concerning the number of preﬁx allocations provide insight into the de-
ployment of IPv6.
Why Analyzing Preﬁx Allocations is Better. Since looking at the number of allocated
addresses is not particularly insightful, why would looking at the number of allocated
preﬁxes be appropriate? Moreover, is it really fair to look at preﬁxes independent of
their size, lumping the /64s with the /48s and /32s, treating them as all “equal”?
Table 1 shows the distribution of various preﬁx lengths as a function of year. As time
passes, more and more /32 address blocks are present, and the statistics indicate that
it is the favorite for recent allocations. In fact, as of 2008-9-28, more than 67% of all
preﬁxes allocated were /32. We believe this heavy bias is due to RIR policy changes in
2004, which made obtaining /32s easier [6,7,8].
Since so many preﬁxes are the same size, analyzing allocated preﬁxes will be roughly
fair (since most address blocks are the same size), and the results will not be skewed by
the few “heavy hitters” seen before.
Unfortunately, the sub-allocations are not recorded in the RIRs. Thus, if a /32 is
allocated to an organization, and that organization re-allocates it to others, only the ﬁrst
entry is recorded. Thus, our preﬁx allocation analysis can potentially underestimate the
growth of IPv6.
16
E. Karpilovsky et al.
Table 1. Distribution of preﬁxes over time. Numbers are cumulative over time.
allocations mean mode 1st quartile median 3rd quartile
year
2005-3-3 1183
2006-3-3 1421
2007-3-3 1720
2008-3-3 2179
33.65 32
33.39 32
34.19 32
34.65 32
32
32
32
32
32
32
32
32
34
34
34
34
RIPENCC
ARIN
APNIC
LACNIC
AFRINIC
 1400
 1200
 1000
 800
 600
 400
 200
s
n
o
i
t
a
c
o
l
l
a
f
o
r
e
b
m
u
N
 0
1999
01
2000
01
2001
01
2002
01
2003
01
2005
01
2006
01
2007
01
2008
01
2009
01
2004
01
Date
Fig. 2. Growth of the individual registries
Preﬁx Allocations Reveal Growth Trends. Figure 2 shows allocations of address
blocks for the different registries. RIPE is clearly dominant, and shows extremely large
growth for 2008. Likewise, ARIN allocations are also increasing at a very fast rate, caus-
ing it to surpass APNIC. APNIC has many allocations, but has been growing slowly,
and only starts to show signs of acceleration toward the end of the study. LACNIC
allocations remain approximately linear. While AFRINIC has very few allocations, it
shows signs of acceleration. Cumulatively, there have been nearly 2800 address block
allocations. Overall, it would appear as if IPv6 growth has been somewhat stagnant,
increasing at a mostly linear rate, until recently.
One point on the graph requires explanation. In July of 2002, RIPENCC and APNIC
experienced abnormal growth. Investigation revealed that on July 1st, 2002, RIPENCC
and APNIC both instituted policy changes regarding IPv6 allocation [9]; this policy set
new guidelines for how to allocate space, as well as guidelines for allocating to new
organizations desiring IPv6 space. For example, it deﬁned clear criteria for requesting
IPv6 space, as well as a method for organizations to request additional allocations.
As such, we believe that these policy changes are responsible for the sudden surge in
allocations.
To summarize, IPv6 allocation has only recently started taking off; previous years
had mostly linear growth, while current growth could possibly be exponential. However,
since we are only at the beginning of the “knee” in the curve, we should be careful in
extrapolating too far into the future.
Quantifying the Extent of IPv6 Deployment
17
 50
 40
 30
 20
 10
d
e
c
n
u
o
n
n
a
s
e
x
i
f
e
r
p
t
n
e
c
r
e
P
 0
 0
 750
 1500
 2250
 3000
Latency (days)
d