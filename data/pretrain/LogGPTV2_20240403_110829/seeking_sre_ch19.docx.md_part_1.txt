# 优化后的文本

## 将文档集成到工作流程中
作者：Ríona MacNamara, Shylaja Nukala, Stas Miasnikoŭ, Aaron Gillies, Jeremy Sharpe (Google), Niall Richard Murphy (Microsoft)

在软件行业中，工程文档的质量一直是一个令人担忧的问题。根据 [2016 年 Stack Overflow 开发者调查报告](https://insights.stackoverflow.com/survey/2016#work-challenges-at-work)，文档是开发者面临的第二大难题。这个问题不仅影响开发效率和软件质量，还直接影响 SRE（站点可靠性工程师）最关心的服务可靠性。事实上，文档的缺失、不完整或过时可能是导致开发人员工作满意度下降的主要原因之一。

编写和维护文档需要时间和精力，这对 SRE 来说尤其具有挑战性。SRE 通常将 35% 的时间用于运营工作，而只有 65% 用于开发。因此，从开发预算中分配时间来编写文档可能会被视为一项难以获得认可或奖励的任务。那么，如何改变这一现状呢？如何让组织认识到工程文档的价值，并鼓励工程师创建和维护这些文档？如何说服管理层和领导层将其视为值得认可、资助和奖励的工作？

尽管 Google 拥有一个强大的技术写作团队，但其主要关注的是高影响力和高曝光度的项目。实际上，大多数工程和 SRE 团队仍需自行创建和维护文档，而这并不总是容易或吸引人的任务。然而，自 2015 年以来，我们在提高内部工程信息的质量和可用性方面取得了显著进展。本章将分享我们的经验和建议，希望对希望改进文档工作的 SRE、SWE 或技术写作者有所帮助。我们将重点关注以下几个方面：

- **定义文档质量**：我们提出了一套框架和词汇表来定义文档质量，并展示了如何使用这些工具来确定文档要求。
- **将文档集成到工程工作流中**：虽然理论上文档应是工程工作的重要组成部分，但在实践中往往被忽视。我们将分享如何将文档与代码库和工作流工具整合的经验。
- **传达文档的价值**：为了推动组织变革并说服领导投资于文档工作，你需要能够清晰地传达文档对业务的影响。

## 定义质量：好文档的标准是什么？
文档质量的定义其实很简单：
> 好的文档必须*达到其目的*。

然而，在测量或报告文档质量之前，我们需要一套描述文档质量的术语。在本节中，我们将介绍从软件测试领域借鉴的一套词汇，用以描述文档质量的各个方面。从根本上讲，文档质量包含两个方面：*结构质量*和*功能质量*，它们共同决定了文档的整体质量。

### 结构质量
结构质量是指文档的形式特征，例如拼写、语法、风格一致性等。高质量的文档应满足以下条件：
- 拼写和语法正确
- 符合风格指南
- 使用恰当的语气和称谓
- 组织有序，易于导航

由于这些标准相对容易衡量，结构质量常被用作默认的质量指标。但是，过分强调形式可能会忽略文档的整体价值。对于面向内部且内容频繁变化的文档，只要能清晰传达关键信息即可，不必追求完美措辞。

### 功能质量
相比之下，*功能质量*关注的是文档的实际效用。高功能质量的文档意味着它能够满足特定的需求，这些需求通常反映了业务目标。例如，SRE 所依赖的手册必须全面且最新；服务概述应涵盖理解服务所需的基本信息；事故报告则需要提供足够的细节以便分析问题并采取预防措施。

对于行动手册，我们可以问自己以下几个问题：
- 是否涵盖了所有警报？
- 团队能否依靠手册执行轮值职责？
- 文档是否可靠（即高可用）？
- 创建和更新条目是否简便？
- 每个警报的描述是否准确详尽？
- 每个条目是否提供了足够的信息来理解和解决警报？
- 是否有关于上报程序的指导？

尽管良好的结构是实现高功能质量的基础，但后者始终更为重要。即使是最精美的文档，如果不能有效支持实际工作，也是无用的。理想情况下，我们应该追求两者兼备，但在资源有限的情况下，优先确保文档的功能性更为明智。

## SRE 文档的功能需求
接下来，我们将探讨支持核心 SRE 职能所需的文档类型，包括但不限于：
- **监控与指标**：定义预期的服务行为，监测实际表现，并纠正偏差
- **应急响应**：迅速发现并处理服务故障，确保符合服务水平协议 (SLA)
- **容量规划**：预测未来需求，并确保有足够的资源来满足这些需求
- **服务升级与降级**：按计划增加或减少服务能力
- **变更管理**：安全地修改服务行为，同时保持既定的服务水平
- **性能优化**：涉及可扩展性、延迟、吞吐量等方面的考量

为完成上述任务，SRE 需要跨越开发与运维两大领域，通过有效的文档来理解和管理生产环境中的服务。然而，本文仅讨论了 SRE 在运行生产服务时所依赖的一些核心文档，如*服务概述*、*行动手册*、*故障报告*等。虽然对所有类型的 SRE 文档进行全面覆盖超出了本文范围，但我们相信这里提出的概念可以广泛应用于各种技术文档。

### 服务概述
这类文档对于 SRE 理解其所支持的服务至关重要。它应当详细说明系统架构、组件及其相互依赖关系，以及相关的联系人和负责人。服务概述通常是开发团队与 SRE 团队合作的结果，旨在为 SRE 提供必要的背景知识。