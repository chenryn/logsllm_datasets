    [ 51%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/experimental/c10/cpu/cast_cpu.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/experimental/c10/cpu/stop_gradient_cpu.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/experimental/c10/cpu/enforce_finite_cpu.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/experimental/c10/cpu/batch_gather_cpu.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/rnn/recurrent_network_executor.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/rnn/recurrent_network_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/rnn/recurrent_network_blob_fetcher_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/activation_distribution_observer.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/batch_matmul_dnnlowp_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/caffe2_dnnlowp_utils.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/channel_shuffle_dnnlowp_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/concat_dnnlowp_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/conv_dnnlowp_acc16_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/conv_relu_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/dequantize_dnnlowp_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/dnnlowp_partition.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/elementwise_add_dnnlowp_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/elementwise_linear_dnnlowp_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/elementwise_mul_dnnlowp_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/elementwise_sum_relu_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/fbgemm_pack_matrix_cache.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/fully_connected_dnnlowp_acc16_op.cc.o
    [ 52%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/fully_connected_dnnlowp_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/fully_connected_rowwise_dnnlowp_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/lstm_unit_dnnlowp_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/pool_dnnlowp_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/quantize_dnnlowp_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/sigmoid_dnnlowp_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/tanh_dnnlowp_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/utility_dnnlowp_ops.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/dynamic_histogram.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/kl_minimization.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/norm_minimization.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/p99.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/sigmoid.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/quantization/server/tanh.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/init_qnnpack.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_add_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_average_pool_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_channel_shuffle_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_concat_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_conv_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_conv_transpose_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_dequantize_op.cc.o
    [ 53%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_fc_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_flatten_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_given_tensor_fill_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_leaky_relu_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_max_pool_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_quantize_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_relu_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_reshape_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_resize_nearest_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_roi_align_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_slice_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_sigmoid_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/operators/quantized/int8_softmax_op.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/fusion.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/sink.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/backend_cutting.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/dead_code_elim.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/onnxifi_transformer.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/distributed_converter.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/mobile.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/passes.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/optimizer.cc.o
    [ 54%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/converter.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/distributed.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/optimize_ideep.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/device.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/opt/annotations.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/perfkernels/typed_axpy.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/perfkernels/math_cpu_base.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/perfkernels/embedding_lookup.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/perfkernels/fused_8bit_rowwise_embedding_lookup.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/perfkernels/adagrad.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/queue/blobs_queue_db.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/queue/rebatching_queue.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/queue/rebatching_queue_ops.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/queue/blobs_queue.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/queue/queue_ops.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/iter_op.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/wngrad_op.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/adagrad_op.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/clip_tensor_op.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/lars_op.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/learning_rate_adaption_op.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/ftrl_op.cc.o
    [ 55%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/momentum_sgd_op.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/adam_op.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/gftrl_op.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/rmsprop_op.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/learning_rate_op.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/yellowfin_op.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/sgd/adadelta_op.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/share/contrib/nnpack/conv_op.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/share/contrib/depthwise/depthwise3x3_conv_op.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/transforms/single_op_transform.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/transforms/common_subexpression_elimination.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/transforms/pattern_net_transform.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2.dir/transforms/conv_to_nnpack_transform.cc.o
    [ 56%] Linking CXX shared library ../lib/libcaffe2.so
    [ 56%] Built target caffe2
    Scanning dependencies of target caffe2_observers
    Scanning dependencies of target caffe2_module_test_dynamic
    Scanning dependencies of target caffe2_pybind11_state
    [ 56%] Building CXX object caffe2/torch/lib/libshm/CMakeFiles/shm.dir/core.cpp.o
    [ 56%] Building CXX object modules/module_test/CMakeFiles/caffe2_module_test_dynamic.dir/module_test_dynamic.cc.o
    [ 56%] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/net_observer_reporter_print.cc.o
    [ 56%] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/observer_config.cc.o
    [ 56%] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/perf_observer.cc.o
    [ 56%] Building CXX object caffe2/torch/lib/THD/CMakeFiles/THD.dir/base/data_channels/DataChannelMPI.cpp.o
    [ 56%] Building CXX object caffe2/torch/lib/THD/CMakeFiles/THD.dir/base/data_channels/DataChannelNccl.cpp.o
    [ 56%] Building CXX object caffe2/torch/lib/THD/CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o
    [ 56%] Building CXX object caffe2/torch/lib/THD/CMakeFiles/THD.dir/base/RPCType.cpp.o
    [ 56%] Building CXX object caffe2/torch/lib/THD/CMakeFiles/THD.dir/process_group/Collectives.cpp.o
    [ 56%] Building CXX object caffe2/torch/lib/THD/CMakeFiles/THD.dir/process_group/General.cpp.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2_pybind11_state.dir/python/pybind_state_dlpack.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2_pybind11_state.dir/python/pybind_state_registry.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2_pybind11_state.dir/python/pybind_state.cc.o
    [ 56%] Building CXX object caffe2/CMakeFiles/caffe2_pybind11_state.dir/python/pybind_state_nomni.cc.o
    [ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_context_gpu.cu.o
    [ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_THCCachingAllocator.cu.o
    [ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/utils/caffe2_gpu_generated_math_gpu.cu.o
    /home/user/backup/lichu/pytorch/torch/lib/THD/base/data_channels/DataChannelNccl.cpp:31:17: error: ‘ncclInt8’ was not declared in this scope
         {at::kChar, ncclInt8},
                     ^
    /home/user/backup/lichu/pytorch/torch/lib/THD/base/data_channels/DataChannelNccl.cpp:32:17: error: ‘ncclUint8’ was not declared in this scope
         {at::kByte, ncclUint8},
                     ^
    /home/user/backup/lichu/pytorch/torch/lib/THD/base/data_channels/DataChannelNccl.cpp:35:16: error: ‘ncclInt32’ was not declared in this scope
         {at::kInt, ncclInt32},
                    ^
    /home/user/backup/lichu/pytorch/torch/lib/THD/base/data_channels/DataChannelNccl.cpp:38:1: error: could not convert ‘{{at::kChar, }, {at::kByte, }, {at::kFloat, ncclFloat}, {at::kDouble, ncclDouble}, {at::kInt, }, {at::kLong, ncclInt64}, {at::kHalf, ncclHalf}}’ from ‘’ to ‘std::unordered_map’
     };
     ^
    In file included from /home/user/backup/lichu/pytorch/torch/lib/THD/base/data_channels/DataChannelNccl.cpp:1:0:
    /home/user/backup/lichu/pytorch/torch/lib/THD/base/data_channels/DataChannelNccl.cpp: In member function ‘void thd::DataChannelNccl::_destroyNcclResources(THDGroup)’:
    /home/user/backup/lichu/pytorch/torch/lib/THD/base/data_channels/DataChannelNccl.cpp:187:40: error: void value not ignored as it ought to be
             NCCL_CHECK(ncclCommDestroy(comm));