User: I have to process a large number of wide directory trees that are only a few levels tall and with the leaf (and only the leaf) directories containing thousands of files (over NFS).  When I use os.walk() there seems to be a very long delay at the leaf nodes as os.walk() is generating a list of all files in the directory.  Is there a solution that will give me one file at a time (as it walks the filesystem) instead of pre-generating the entire list?
I'm interested in both Python 2.7 and python 3.4 solutions
Assistant: You want scandir(), which has been added to the standard library for 3.5.  It is available for 2.7 and 3.4 from the Python Package index.  (You should be able to use pip or easyinstall to retrieve it.)