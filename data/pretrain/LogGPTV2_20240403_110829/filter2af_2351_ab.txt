python subDomainsBrute.py  //可以递归爆破三级四级域名
2、关联域名收集（在whois中已经有说明）
关联域名是指同一个邮箱所注册的所有域名。 但是收集到的关联域名不一定就是同一个企业的域名，但是可能性很高。  
域名Whois反查 - 站长之家 可完成关联域名反查。
3.corrs.xml文件
corrs.xml文件作用是设置对主域名flash文件访问权限控制，文件里面会记录主域名下的子域名。
3.IP地址旁注
根据获取到的目标ip地址反向查询，获取ip地址上所有域名我常用的又以下两个  
Find websites hosted on the same ip  
ip:31.220.110.42 - 必应
4.googlehack
1.使用site: _. 来匹配所有的子域名 ,获取到子域名  
2.然后在用site:_. -admin
在查询结果中去除掉admin域的记录，反复使用－参数查询可获取大量域名，已有开源程序theHarvester.py可以做到自动搜集。引擎除了Google之外还有bing、shodan、
钟馗之眼等等，
  1. spider
Spider信息除了利用公开的搜索引擎之外，也可以自己写爬虫爬目标企业的网站，遇到其子域名继续爬下去。这样可以收集到所有该网站上有链接过去的子域名（和搜索引擎可能有些重复）
00x6.IP范围
1.ip比较法
比较大型的目标会有比较多IP地址，大型目标网络ip地址通常分配在一个C段或多个c段中。  
例目标顶级域名为 其IP地址为222.222.222.222 ，bbs.seclines.com
其ip为222.222.222.223 wiki.seclines.con
其ip为222.222.222.224由此可以推测222.222.222.1-255的IP地址都为该公司IP地址，但最后的确定还要根据其他的信息进行判断
2.http头
有些服务器维护人员喜欢打上自己的标签，例如特殊的HTTP头。 我们可以通过shodan或钟馗之眼 来进行搜索拥有同样标签的服务器。
－－－根据ip查询as号
3.AS号查询IP地址范围
自治系统号码自治系统：autonomous
system。在互联网中，一个自治系统(AS)是一个有权自主地决定在本系统中应采用何种路由协议的小型单位。这个网络单位可以是一个简单的网络也可以是一个由一个或多个普通的网络管理员来控制的网络群体，它是一个单独的可管理的网络单元（例如一所大学，一个企业或者一个公司个体）。一个自治系统有时也被称为是一个路由选择域（routing
domain）。一个自治系统将会分配一个全局的唯一的16位号码，有时我们把这个号码叫做自治系统号（ASN）。利用AS号来寻找IP的方式
$ dig +short 32. TXT  
dig +short 117. TXT //根据ip查询as号  
whois -h  117.122.213.158 //根据ip查询as号  
whois -h  prefix 8075 //根基as查询ip段
关于 AS/ASN 号查询ip范围参考文档  
AS号码查询,ASN查询, Autonomous System Number (ASN) 查询, BGP查询,网络路由查询  
Shadowserver Foundation - Services - IP-BGP  
通过IP和AS自治系统号判断数据中心是几线BGP接入-数据中心-华为企业互动社区  
【转】网络中的AS自治域 - myLittleGarden - 博客园  
Shadowserver Foundation - Services - IP-BGP
－－－根据as号查询ip 红色条目是没生效ip
AS Report
4.spf记录获取ip地址
spf全称为Sender Policy Framework，它的作用是防止别人伪造你来发邮件，反伪造性邮件的解决方案.当你定义了你的domain
name也就是授权的地址。（域名txt记录也就是spf记录)）之后，接收邮件的一方根据定义的spf记录来确定ip地址受否包含在spf里面，包含在内的话就是正常邮件反之就是伪造的.所以在spf里面会添加一些自己的ip地址，在此我们也可获取到一些目标的ip段。以阿里为例来看一下  
localhost:~ root# nslookup  
> set type=txt  
>   
00x7. cdn真实ip地址
tools有个帖子写的很详细了我就 不啰嗦了地址如下  
绕过CDN查找网站真实IP方法收集 - 无法自拔 - 博客园 
00x8. 信息泄漏
1.员工信息搜集
通过社交网站发现一些心怀不满的员工,和前雇员，这些人是一个不错的切入点通过这些不满的员工获取重要的信息还是比较靠谱的。以及关注高管或者网络管理员的社交账户发布的信息，可能他会在不经意间透漏一些比如防火墙型号，近期遇见的一些技术问题，这些对我们来说是很有用的。一下我主要贴一些国外的站点国内的大家应该都比较熟悉。
－－社交网站
myspace .com  
通过求职网站查询现在就职或者曾经就职的员工进行,信息搜集。
－－求职网站
可以通过查人网站查询一些详细的个人信息资料，这些网站可以查询到，家庭电话号码，家庭地址，社会保障号，信用记录等。掌握这些信息对apt攻击很有用。
－－查人网站  
AMiner  
Background Checks & Public Records  
Tracking the entire world  
Corporation Wiki - Find Connections between People and Companies  
Free People Search
2.邮箱搜集
邮箱也可在求职网站进行搜集，但是似乎
@ 可以查看到一些历史邮件内容。网站如下。
从邮箱服务器获取信息
在渗透中通过直接与邮件服务器进行交互来获取更多信息，我们可以试探性的给目标发送一封空的邮件，或者是发送0kb的文件，或者是非恶意文件，比如计算器等正常的可执行文件，发送到目标服务器对邮件进行检测，可能会收到退信。这个退信肯能会包含很多信息，比如
杀软是什么，杀软版本号，电子邮件服务的型号品牌，服务器ip，软件版本，这些信息在漏洞利用的时候是很有用的。
3.代码泄漏
码云 - 开源中国代码托管平台
在以上3个站中搜索目标关键字由于开发人员的疏忽导致代码或者敏感信息泄漏参看如下实例  
github-hacker之TCL一万五千多名员工信息泄漏（git泄密新场景） | WooYun-2015-141726 | WooYun.org  
咕咚网github信息泄露 | WooYun-2016-177720 | WooYun.org
4.组建密码字典
通过以上步骤搜集到的信息 如 电话号码,邮箱id,用户id等信息组成字典，遇到登录的地方进行暴力破解
关于信息搜集就先写这些。下一节是扫描查点。