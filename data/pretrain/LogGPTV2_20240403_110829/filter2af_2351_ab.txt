### 信息收集与域名爆破

1. **递归爆破子域名**
   使用 `python subDomainsBrute.py` 可以递归地爆破三级和四级域名。该工具能够帮助我们发现目标网站的多个层级的子域名。

2. **关联域名收集**
   关联域名是指使用同一邮箱注册的所有域名。虽然这些域名不一定属于同一个企业，但这种可能性很高。可以利用站长之家提供的“域名Whois反查”功能来查找关联域名。

3. **corrs.xml 文件解析**
   `corrs.xml` 文件用于设置对主域名下Flash文件的访问权限控制，并记录主域名下的子域名列表。通过分析此文件，我们可以获取更多关于目标网站结构的信息。

### IP地址旁注与反向查询

4. **IP地址旁注**
   - 根据已知的目标IP地址进行反向查询，以获取该IP上托管的所有域名。
   - 常用工具包括：
     - “Find websites hosted on the same ip”
     - 必应 (例如：ip:31.220.110.42)

### Google Hacking 技术

5. **Google Hacking**
   - 利用 `site: _.*` 搜索语法匹配所有子域名。
   - 使用 `site: _.* -admin` 排除包含特定关键词（如“admin”）的结果，从而获得更广泛的域名列表。
   - 开源程序 `theHarvester.py` 支持自动化的子域名搜集工作，可配合多种搜索引擎（如Google、Bing、Shodan等）使用。

6. **爬虫技术**
   - 除了依赖公开搜索引擎外，还可以自行编写爬虫程序抓取目标企业的网页内容，进一步探索其子域名链接。
   - 此方法有助于补充或验证通过搜索引擎得到的数据。

### IP范围探测

7. **基于IP地址范围的探测**
   - 对于拥有大量IP地址的大规模目标，其网络通常位于一个或多个C类网段内。
   - 通过观察已知的IP地址分布模式（如222.222.222.222至222.222.222.255），可以推测出潜在的公司内部IP范围。
   - 需要注意的是，最终确认仍需结合其他信息来源。

8. **HTTP头部信息分析**
   - 一些服务器管理员会在HTTP响应头中添加自定义标识符。
   - 利用Shodan或钟馗之眼等平台搜索具有相同特征标签的服务器，可以帮助识别更多的相关资产。

### AS号与IP段查询

9. **自治系统号码 (ASN) 查询**
   - 自治系统(AS)是一个独立管理的小型网络单位，在互联网中有唯一的16位编号（即AS号）。
   - 通过查询特定IP地址对应的AS号，再根据该AS号查找所属组织拥有的全部IP段，可以有效扩大侦察范围。
   - 示例命令：
     ```bash
     $ dig +short 32. TXT
     $ whois -h  prefix 8075
     ```
   - 相关资源：
     - Shadowserver Foundation - Services - IP-BGP
     - 华为企业互动社区 - 通过IP和AS自治系统号判断数据中心是几线BGP接入

### SPF记录与CDN绕过

10. **SPF记录获取IP地址**
    - SPF(Sender Policy Framework)旨在防止邮件伪造，它在DNS TXT记录中列出允许发送邮件的合法IP地址。
    - 分析目标域的SPF配置可以帮助我们发现额外的IP段信息。

11. **绕过CDN找到真实IP**
    - 详细的方法参考：绕过CDN查找网站真实IP方法收集 - 无法自拔 - 博客园

### 信息泄漏及利用

12. **员工信息搜集**
    - 通过社交媒体平台（如MySpace）、求职网站以及个人资料查询服务收集不满员工或前雇员的信息，可能从中获取有价值的内部情报。
    
13. **邮箱搜集与邮件服务器测试**
    - 从求职网站和其他在线资源处搜集目标人员的电子邮件地址。
    - 向目标邮件服务器发送试探性邮件，根据退信内容了解服务器的安全配置情况。

14. **代码泄漏**
    - 在开源代码托管平台上搜索目标关键字，寻找因开发人员疏忽而泄露的敏感信息。
    
15. **构建密码字典**
    - 结合前面步骤收集到的各种个人信息（如电话号码、用户名等），生成定制化的暴力破解字典。

以上为本次信息收集部分的主要内容，接下来我们将讨论扫描与查点的相关技术。