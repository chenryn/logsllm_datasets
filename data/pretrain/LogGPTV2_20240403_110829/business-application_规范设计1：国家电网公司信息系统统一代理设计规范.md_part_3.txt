## 运行环境
由于企业内IT环境较为复杂，Agent应能够在目前在用的全部操作系统上运行，应保证在以下操作系统中安全稳定运行：
+-------------------+--------------------------+-----------------------+
| 服务器操作系统    | Window2003 Server        | 注：其它Unix如So      |
|                   |                          | laris等应有限度支持。 |
|                   | Window2008 Server        |                       |
|                   |                          |                       |
|                   | Window2012 Server        |                       |
|                   |                          |                       |
|                   | Linux /FreeBSD           |                       |
|                   |                          |                       |
|                   | Unix（Aix／HP-Unix）     |                       |
+===================+==========================+=======================+
| 终端操作系统      | Window XP/Vista/7/8/10   |                       |
|                   |                          |                       |
|                   | Linux                    |                       |
|                   |                          |                       |
|                   | Mac OSX                  |                       |
+-------------------+--------------------------+-----------------------+
## 性能规范
Agent运行应尽量避免与业务系统竞用资源，采集和上传应具有自调节能力。在被采集设备高负载和低负载状况下的性能应满足如下要求：
+-------------------+--------------------------+-----------------------+
|                   | 低负载                   | 高负载                |
|                   |                          |                       |
|                   | （设备CPU使              | （设备CPU使用         |
|                   | 用率\<60%，阀值可设定）  | 率≥60%，阀值可设定）  |
+===================+==========================+=======================+
| 服务器            | 采集占用CPU\<5%，        | 采集占用CPU\<2%，     |
|                   |                          |                       |
|                   | 内存占用率\<20M          | 内存占用率\<10M，     |
|                   |                          |                       |
|                   | 磁盘空间占用\<50M        | 磁盘空间占用\<50M     |
|                   |                          |                       |
|                   | 上传数据为实时上传       | 仅上传状态数据，      |
|                   |                          | 其它数据限制上传流量  |
+-------------------+--------------------------+-----------------------+
| 桌面终端          | 采集数据占用CPU\<2%      |                       |
|                   |                          |                       |
|                   | 内存占用率\<10M          |                       |
|                   |                          |                       |
|                   | 磁盘空间占用\<50M        |                       |
+-------------------+--------------------------+-----------------------+
## 安全性规范
安全Agent需满足较高的安全需求，软件应进行以下测试，以尽可能保证软件的安全性：
1）静态代码安全测试：主要通过对源代码进行安全扫描，根据程序中数据流、控制流、语义等信息与其特有软件安全规则库进行匹对，从中找出代码中潜在的安全漏洞。
2）动态渗透测试：使用自动化工具或者人工的方法模拟黑客的输入，对应用系统进行攻击性测试，从中找出运行时刻所存在的安全漏洞。
3）程序数据扫描：进行内存测试，发现诸如缓冲区溢出之类的漏洞。
通过安全性测试，防止以下攻击行为的发生：
1）SQL注入 
与外部系统接口不能直接传递SQL语句，对SQL变量进行合法性检查，避免SQL注入攻击。
2）修改提交数据
涉及计算、校验等功能，只能在服务端进行，不能在请求端进行，防止人为修改提交数据。
  3）跨站脚本攻击 
对http请求不允许包含脚本内容。
4）缓冲区溢出 
在外部输入层、接口层和实现层进行数据规则校验，避免引起溢出。
  5）加密弱点 
  避免以下不安全因素：
-   使用不安全的加密算法。加密算法强度不够，一些加密算法甚至可以用穷举法破解。
-   加密数据时密码是由伪随机算法产生的，而产生伪随机数的方法存在缺陷，使密码很容易被破解。
-   身份验证算法存在缺陷。
-   客户机和服务器时钟未同步，给攻击者足够的时间来破解密码或修改数据。
-   未对加密数据进行签名，导致攻击者可以篡改数据。
## 可靠性规范
安全Agent的可靠性依据IEEE标准定义进行评价。
可靠性指在给定的环境和给定的时间间隔内，按设计要求成功运行程序的概率。排除外部因素造成的影响下，安全Agent可靠性应满足以下要求：
+-----------------+---------------------------+------------------------+
| 项目            | 服务器                    | 桌面终端               |
+=================+===========================+========================+
| MTTF            | Linux／Unix               | Windows                |
|                 | ≥4320小时（6个月）        | ≥720小时（1个月）      |
| 平均无故障时间  |                           |                        |
|                 | Windows                   |                        |
|                 | ≥3600小时（5个月）        |                        |
+-----------------+---------------------------+------------------------+
| MTTR            | \< 1分钟                  | \< 1分钟               |
|                 |                           |                        |
| 平均恢复时间    |                           |                        |
+-----------------+---------------------------+------------------------+
## 易用性规范
安全Agent的管理节点与外部系统接口应具有较高的易用性，通过稳定、合理的接口设计进行保证。接口应满足以下要求：
-   接口设计应充分考虑未来1～2年内的业务变化，尽可能保持接口名称、参数列表不发生变化。
-   接口应采用请求－响应模型，一个业务请求应在一次交互中完成，避免多次、循环调用接口。
-   接口应支持推、拉两种用法，满足客户端请求和主动通知两种使用方式。
## 可维护性规范
因安全Agent为全网络部署，安装量巨大，人工维护极为耗时，因此必须具有良好的可维护性，实现自维护。应满足以下要求：
-   具备自动升级能力，agent端的升级应能够从管理节点进行自动升级，不需人工干预。
-   具有自启动能力，agent端通过看门狗程序实现自启动，当程序被人为或意外中断时，能够自动重新启动运行，并记录事件日志，发送到管理节点。
-   支持全命令行操作，支持脚本化管理，支持管道操作，agent端应避免在运行期发生人机交互。
## 可移植性性规范
安全Agent应具备源码移植能力，运行于服务器上的Agent端，应原生支持Linux、WindowsServer等操作系统，能够通过本地化编译，移植到Aix、HP-Unix、FreeBSD、Solaris等操作系统。运行于桌面终端的Agent端，应原生支持Windows
XP/ 7/8/10等操作系统，通过本地化编译，能有限度支持Mac
OSX、Linux等操作系统。
# 附录一：业务系统数据采集要求 {#附录一业务系统数据采集要求 .list-paragraph}
1.  S6000系统数据采集要求
  ----------------------------------------------------------------------------------------------------
  序号   数据名称                         传输协议   设备类型   操作系统         采集频度
  ------ -------------------------------- ---------- ---------- ---------------- ---------------------
  1      口令存储策略                     tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  2      口令策略配置                     tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  3      登录失败处理策略配置             tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  4      开启端口配置                     tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  5      默认共享配置                     tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  6      administrator帐号重命名配置      tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  7      敏感资源的访问权限               tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  8      鉴别信息自动清除策略             tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  9      最近访问过的信息清除策略         tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  10     补丁更新时间                     tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  11     开启服务                         tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  12     系统TTL返回值                    tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  13     防病毒软件版本                   tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  14     病毒库更新时间                   tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  15     屏保时间配置                     tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  16     远程管理服务配置                 tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  17     操作超时策略                     tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  18     系统资源的访问权限配置合规情况   tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  19     管理用户的权限配置               tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  20     默认帐户                         tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  21     默认口令                         tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  22     多余帐号                         tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  23     过期帐号                         tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  24     测试帐号                         tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  25     审计进程保护策略                 tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  26     日志记录策略                     tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）
  27     登录帐号                         tcp 传文件 主机       Windows/Linux/   自定义（最少1小时）