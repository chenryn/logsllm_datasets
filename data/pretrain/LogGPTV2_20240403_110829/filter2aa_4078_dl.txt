伙伴系统。
‘，，，户nvphdaa，叫‘u
图 1 1.1 05I 模型
OSI 模型对于网络产品供应商们是一个开放式的网络架构指南。 这个标准或指南为开发新的协
298
第 11 章 网络安全架构与保护网络组件
议、 网络服务甚至硬件设备提供了 一个通用 的基础。 根据 OSI 模型， 供应商们能够确保他们的产品
可 以与其他公司 的产品集成在一→起， 并且会得到操作系统的广泛支持。 如果所有的供应商都开发各
自 的 网络架构 ， 那么不同供应商 的产品之间 将几乎无法实现互通性。
OSI 模型的真正优点在于它对网络互连实际工作方式的描述。 在最基本的概念中 ， 网络通信出
现在物理连接中(无诡物理连接是铜钱上的电子、 光纤中 的光子还是空气中 的无线电信号)。 物理设
备建立了信道， 电子信号能够通过信道从一台计算机传递至另一台计算机。 这些物理设备信道只是
OSI 模型定义的 7 种逻辑通信类型中 的一种 。 OSI 模型的每一层都通过一个逻辑信道与另一台计算
机上的对等层进行通信 。 这样一来， 通过识别远程通信实体以及验证接收数据的来源， 基于 OSI 模
型 的协议就能够支持某种身份认证类型。
1 1 .1.3 封装/解封装
基于 OSI 模型的协议采用 了一种被称为封装的机制。 通过每一层从上一层接收到数据后， 封装
会给数据添加一个报头， 井且还可能添加一个报尾， 然后才将数据传输到下一层。 随着报文在每一
层的封装， 报文的大小也在不断增长。 数据从 OSI 模型的应用层向下移动至物理层时， 在每一层都
会发生封装。 数据从 OSI 模型的物理层向上移动至应用层时， 在每一层发生的逆向操作称为解封装。
封装/解封装过程如下所示i
(1) 应用层创建报文。
(2) 应用层将报文传递至表示层。
(3) 表示层通过向 报文添加信息对它进行封装。 信息通常只被添加到报文的开始部分(称为报
头); 不过， 某些层也会在报文的结尾部分添加 内 容(称为报尾) ， 如 图 1 1 .2 所示。
(4) 向 下传递报文并且部加每层指定信息的过程将一直持续 ， 直到报文到达物理层 。
(5) 在物理层， 报文被转换为表示 比特的 电子脉冲 ， 并且通过物理连接进行传输。
(6) 处于接收状态的计算机从物理连接中 截获这些 比特， 并且在物理层重新创建报文 。
(7) 物理层将报文从比特转换 为数据链路帧 ， 并且将报文向上发送至数据链路层 。
(8) 数据链路层剥离信息， 并且将报文向 上发送至网络层。
(9) 解封装的过程一直持续 ， 直到报文到达应用层 。
(10) 当 报文到达应用层时 ， 报文中的数据被发送至预期的软件接收者。
报头 仁豆豆1
、 庄豆豆二3
|11 数据 |
噩11 数据 |
||匾门 数据 l J报尾
闯匾川 数据 1 1"'"
|国噩门 数据 1 11
图 1 1 .2 OSI 模型的封装示例
被每一层去除的信息包括指令、 校验和等， 它们只能被最初添加或创建这些信息的对等层理解
(参看图 11.3)。 这些就是建立确保不同计算机上的对等层能够进行通信 的逻辑信道的信息。
299
300
CISSP 官方学 习指南(第 7 版)
、 F ， 、
- - 飞 ，
d 、 飞 ，
， 、 飞 ，
一， 、 飞 ，
图 1 1 .3 OSI 模型的对等层逻辑信道的示例
发送至应用层(第7层)上协议找中 的报文被称为数据流。 直至到达传输层(第4层)， 报文仍然保持
着数据流的标签， 报文在传输层被称为段(使用TCP协议时的称呼)或数据报(使用UDP协议时的称
呼)。 在网络层(第3层)， 报文被称为数据包。 在数据链路层(第3层)， 报文被称为l帧。 在物理层(第l
层)， 数据己经被转换为能够通过物理连接介质传输的比特。 图 1 1 .4说明 了每一层如何通过这个过程
来改变数据。
11.1.4 OSI 分层
数据流
数据流
数据流
段(TCP)I数据报归DP)
数据包
帧
比特
图 1 1 .4 OSI 模型的数据名称
理解OSI模型每一层的功能和职责将有助于理解网络通信的运作原理、 攻击对网络通信的影响
以及如何实施保护网络通信的安全措施。 接下来的 章节中， 我们将从最底层开始对每一层进行讨论。
注意 :
要了解 TCPIIP协议找的更多 信息， 请在维基百科站点 h句:ρ巳u.wikipedia. org 上搜索 "TCPIIP"。
记忆 081
尽管有人认为 OSI 在实 际中很少应 用 ， 并且大多数技术人员 并未经常使用 0日， 然 而 OSI 模型
及其相关概念仍然在 CISSP 考试中 占据着牢 固 的地位。 为 了 最大限度地掌握 OSI， 必须首先能够按
照正确的顺序记住 OSI 的7个不同的层。 记忆这些层的一个常见方法是根据每一层名 字 的首字母生
成助记语， 我们 比较喜欢的一个助记语是 Please Do Not Teach Surly People Acronyms。 根据这个助记
语， 就能够记忆从物理层到应用层的各层。 还有一个助记语， 是从应用 层向 下: All Presidents Since
Truman Never Did Pot。 此外还存在其他一些记忆模式， 不过需要确认它们采用 的顺序是由上至下还
是 由 下至上。
胁 ，
第 11 章 网络安全架构与保护网络组件
1 . 物理层
物理层(第 l 层)从数据链路层接收帧， 并把帧转换为可以通过物理连接介质传送的比特。 物理
层还负责接收来 自物理连接介质 的 比特 ， 并且将 比特转换为数据链路层所使用 的帧。
物理层包含了 会告诉协议如何应用硬件来发送和接收比特的多种设备驱动l}芋。 物理层还涉及
电气规范、 协议和接 口 标准 ， 如 下所示:
• EIAlTIA-232 和 EWTIA-449
• X.2 1
• 高速串 行接 口 (High-Speed Serial Interface， HSSI)
• 同 步光 网络(Synchronous Optical Network， SONET)
• V.24 矛口 V.35
通过设备驱动程序和这些标准 ， 物理层控制吞吐率、 处理同步、 管理线路噪音和介质访问 ， 并
且 决定使用数字、 模拟或光脉冲信 号在物理硬件接 口 上传输和接收数据。
工作在物理层上的网络硬件设备包括网络接口卡(NIC)、 集线器、 中继器、 集中器和放大器。 这
些设备执行基于硬件的信号操作， 例如， 从一个连接端口 向其他所有端口发送信号(集线器的要做操
作)， 或者为了 支持更长的传输距离而对信号进行放大(中 继器要做的操作)。
2. 数据链路层
数据链路层(第 2 层)负责将来自 网络层的数据包格式化为可以进行传输的适当格式。 这种适当
的格式由网络硬件和网络技术决定， 并且存在多种可能性， 如 以太网(IEEE 802.3)、 令牌环(IEEE
802.5)、异步传输模式(Asynchronous Transfer Mode， AT川、 光纤分布式数据接口σiber Distributed Data
Interface， FDDI)和铜线分布式数据接口(Copper DDI， CDDI)。 数据链路层内保留了一些技术特有的
协议， 这些协议将数据包转换为适当格式的数据帧。 一旦数据帧完成了 格式化， 就会被发送至物理
层进行传输。
下面列出了 数据链路层 内 驻 留 的协议:
• 串 行线路网络协议(SLIP)
• 点对点协议(PPP)
• 地址解析协议(ARP)
• 反向地址解析协议(RARP)
• 二层转发协议(L2F)
• 二层隧道协议(L2TP)
• 点对点隧道协议(PPTP)
• 综合服务数字网络(ISDN)
在数据链路层上对数据执行的部分处理过程包括向数据帧添加硬件的源地址和 目 的地址。 硬件
地址指的是介质访问控制。1AC)地址， 它是一种用十六进制表示法表示的 6 字节(48 比特)二进制地
址(例如， 00-13-02-1 F-58-F5)。 地址的前三个字节(24 比特)指示了 物理网络接口 的供应商或制造商。
这被称为组织唯一标识符(Organizationally Unique Identifier， OUI)o 0盯 由 IEEE 进行注册并控制发
行。 OUI 可 以用 于通过 IEEE 网站 http://stand缸ds.ieee.org/r电auth/oui/index.shtml 发现网卡制造商。 后
三个字节(24 位)代表一个独特的数字并被分配给该接口 的制造商。 没有两个设备可以在同一个本地
以太网广播域中具有相同的 " 同一个" 地址: 否则会发生地址冲突。 确保在私有企业网络中所有的
301
CISSP 官方学习指南(第 7 版)
MAC 地址都是唯一的， 这是一种非常好的做法 。 虽然 MAC 地址的设计应该是唯一的 ， 但因为供应
商的错误有可能导致产生重复的地址。 当这一切发生时， 必须更换网卡硬件或将 MAC 地址更改(例
如 ， 欺骗)到非冲突的 替 代地址。
EUI-48 到 EUI-64
MAC 地址是 48 位的 ， 并 已使用 了 数十年。 一种类似的地址方案是 EUI-48. EUI代表扩展的唯
一标识符。 对于 æEE 802， 原始的 48 位 MAC 地址方案采纳了 原来的 Xerox 以太网地址方案。 MAC
地址通常是用 来识别 网 络硬件的 ， 而 EUI 用 来识别其他类型 的硬件以 及软件。
IEEE 认为 MAC-48 已经过时 ， 并且也应该倾向 于弃用 EUI-48.
现在也有从 EUI-48 向 EUI-64 转换过渡的举动 。 这是为 未来在全世界范围普及 IP叫 做准备， 也