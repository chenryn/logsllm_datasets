MQLONG
Value
If the Report field in the original message descriptor is specified as
MQRO_PASS_DISCARD_AND_EXPIRY, the remaining expiry time from the original message is
used.
Otherwise:
MQEI_UNLIMITED
The report does not have an expiry time.
Feedback
Description: Feedback or reason code.
Data type: MQLONG.
Value: MQFB_ACTIVITY
Activity report.
Encoding
Description: Numeric encoding of report message data.
Data type: MQLONG.
Value: MQENC_NATIVE.
CodedCharSetId
Description: Character set identifier of report message data.
Data type: MQLONG.
Value: Set as appropriate.
Format
Description: Format name of report message data
Data type: MQCHAR8.
Value: MQFMT_EMBEDDED_PCF
Embedded PCF message.
Priority
Description: Report message priority.
Data type: MQLONG.
Value: Copied from the original message descriptor.
IBM MQ Monitoring and performance 101
Persistence
Description: Report message persistence.
Data type: MQLONG.
Value: Copied from the original message descriptor.
MsgId
Description: Message identifier.
Data type: MQBYTE24.
Values: If the Report field in the original message descriptor is specified as
MQRO_PASS_MSG_ID, the message identifier from the original message is used.
Otherwise, a unique value will be generated by the queue manager.
CorrelId
Description: Correlation identifier.
Data type: MQBYTE24.
Value: If the Report field in the original message descriptor is specified as
MQRO_PASS_CORREL_ID, the correlation identifier from the original message
is used.
Otherwise, the message identifier is copied from the original message.
BackoutCount
Description: Backout counter.
Data type: MQLONG.
Value: 0.
ReplyToQ
Description: Name of reply queue.
Data type: MQCHAR48.
Values: Blank.
ReplyToQMgr
Description: Name of reply queue manager.
Data type: MQCHAR48.
Value: The queue manager name that generated the report message.
UserIdentifier
Description: The user identifier of the application that generated the report message.
Data type: MQCHAR12.
Value: Copied from the original message descriptor.
AccountingToken
Description: Accounting token that allows an application to charge for work done as a result
of the message.
102 Monitoring and Performance for IBM MQ
Data type: MQBYTE32.
Value: Copied from the original message descriptor.
ApplIdentityData
Description: Application data relating to identity.
Data type: MQCHAR32.
Values: Copied from the original message descriptor.
PutApplType
Description: Type of application that put the report message.
Data type: MQLONG.
Value: MQAT_QMGR
Queue manager generated message.
PutApplName
Description: Name of application that put the report message.
Data type: MQCHAR28.
Value: Either the first 28 bytes of the queue manager name, or the name of the MCA
that generated the report message.
PutDate
Description: Date when message was put.
Data type: MQCHAR8.
Value: As generated by the queue manager.
PutTime
Description: Time when message was put.
Data type: MQCHAR8.
Value: As generated by the queue manager.
ApplOriginData
Description: Application data relating to origin.
Data type: MQCHAR4.
Value: Blank.
If Version is MQMD_VERSION_2, the following additional fields are present:
GroupId
Description: Identifies to which message group or logical message the physical message
belongs.
Data type: MQBYTE24.
Value: Copied from the original message descriptor.
IBM MQ Monitoring and performance 103
MsgSeqNumber
Description: Sequence number of logical message within group.
Data type: MQLONG.
Value: Copied from the original message descriptor.
Offset
Description: Offset of data in physical message from start of logical message.
Data type: MQLONG.
Value: Copied from the original message descriptor.
MsgFlags
Description: Message flags that specify attributes of the message or control its processing.
Data type: MQLONG.
Value: Copied from the original message descriptor.
OriginalLength
Description: Length of original message.
Data type: MQLONG.
Value: Copied from the original message descriptor.
Activity report MQEPH (Embedded PCF header)
Use this page to view the values contained by the MQEPH structure for an activity report
The MQEPH structure contains a description of both the PCF information that accompanies the message
data of an activity report, and the application message data that follows it.
For an activity report, the MQEPH structure contains the following values:
StrucId
Description: Structure identifier.
Data type: MQCHAR4.
Value: MQEPH_STRUC_ID.
Version
Description: Structure version number.
Data type: MQLONG.
Values: MQEPH_VERSION_1.
StrucLength
Description: Structure length.
Data type: MQLONG.
Value: Total length of the structure including the PCF parameter structures that follow
it.
104 Monitoring and Performance for IBM MQ
Encoding
Description: Numeric encoding of the message data that follows the last PCF parameter
structure.
Data type: MQLONG.
Value: If any data from the original application message data is included in the report
message, the value will be copied from the Encoding field of the original
message descriptor.
Otherwise, 0.
CodedCharSetId
Description: Character set identifier of the message data that follows the last PCF parameter
structure.
Data type: MQLONG.
Value: If any data from the original application message data is included in the report
message, the value will be copied from the CodedCharSetId field of the original
message descriptor.
Otherwise, MQCCSI_UNDEFINED.
Format
Description: Format name of message data that follows the last PCF parameter structure.
Data type: MQCHAR8.
Value: If any data from the original application message data is included in the report
message, the value will be copied from the Format field of the original message
descriptor.
Otherwise, MQFMT_NONE.
Flags
Description: Flags that specify attributes of the structure or control its processing.
Data type: MQLONG.
Value: MQEPH_CCSID_EMBEDDED
Specifies that the character set of the parameters containing character data
is specified individually within the CodedCharSetId field in each structure.
PCFHeader
Description: Programmable Command Format Header
Data type: MQCFH.
Value: See “Activity report MQCFH (PCF header)” on page 105.
Activity report MQCFH (PCF header)
Use this page to view the PCF values contained by the MQCFH structure for an activity report
For an activity report, the MQCFH structure contains the following values:
Type
Description: Structure type that identifies the content of the report message.
Data type: MQLONG.
IBM MQ Monitoring and performance 105
Value: MQCFT_REPORT
Message is a report.
StrucLength
Description: Structure length.
Data type: MQLONG.
Value: MQCFH_STRUC_LENGTH
Length in bytes of MQCFH structure.
Version
Description: Structure version number.
Data type: MQLONG.
Values: MQCFH_VERSION_3
Command
Description: Command identifier. This identifies the category of the message.
Data type: MQLONG.
Values: MQCMD_ACTIVITY_MSG
Message activity.
MsgSeqNumber
Description: Message sequence number. This is the sequence number of the message within
a group of related messages.
Data type: MQLONG.
Values: 1.
Control
Description: Control options.
Data type: MQLONG.
Values: MQCFC_LAST.
CompCode
Description: Completion code.
Data type: MQLONG.
Values: MQCC_OK.
Reason
Description: Reason code qualifying completion code.
Data type: MQLONG.
Values: MQRC_NONE.
106 Monitoring and Performance for IBM MQ
ParameterCount
Description: Count of parameter structures. This is the number of parameter structures that
follow the MQCFH structure. A group structure (MQCFGR), and its included
parameter structures, are counted as one structure only.
Data type: MQLONG.
Values: 1 or greater.
Activity report message data
Use this page to view the parameters contained by the Activity PCF group in an activity report message.
Some parameters are returned only when specific operations have been performed.
Activity report message data consists of the Activity PCF group and, if generated for a trace-route
message, the TraceRoute PCF group. The Activity PCF group is detailed in this topic.
Some parameters, which are described as Operation-specific activity report message data, are returned
only when specific operations have been performed.
For an activity report, the activity report message data contains the following parameters:
Activity
Description: Grouped parameters describing the activity.
Identifier: MQGACF_ACTIVITY.
Data type: MQCFGR.
Included in PCF None.
group:
Parameters in PCF ActivityApplName
group:
ActivityApplType
ActivityDescription
Operation
TraceRoute
Returned: Always.
ActivityApplName
Description: Name of application that performed the activity.
Identifier: MQCACF_APPL_NAME.
Data type: MQCFST.
Included in PCF Activity.
group:
Maximum length: MQ_APPL_NAME_LENGTH.
Returned: Always.
ActivityApplType
Description: Type of application that performed the activity.
Identifier: MQIA_APPL_TYPE.
Data type: MQCFIN.
Included in PCF Activity.
group:
IBM MQ Monitoring and performance 107
Returned: Always.
ActivityDescription
Description: Description of activity performed by the application.
Identifier: MQCACF_ACTIVITY_DESCRIPTION.
Data type: MQCFST.
Included in PCF Activity.
group:
Maximum length: 64
Returned: Always.
Operation
Description: Grouped parameters describing an operation of the activity.
Identifier: MQGACF_OPERATION.
Data type: MQCFGR.
Included in PCF Activity.
group:
Parameters in PCF OperationType
group:
OperationDate
OperationTime
Message
QMgrName
QSGName
Note: Additional parameters are returned in this group depending on the
operation type. These additional parameters are described as Operation-
specific activity report message data.
Returned: One Operation PCF group per operation in the activity.
OperationType
Description: Type of operation performed.
Identifier: MQIACF_OPERATION_TYPE.
Data type: MQCFIN.
Included in PCF Operation.
group:
Values: MQOPER_*.
Returned: Always.
OperationDate
Description: Date when the operation was performed.
Identifier: MQCACF_OPERATION_DATE.
Data type: MQCFST.
Included in PCF Operation.
group:
108 Monitoring and Performance for IBM MQ
Maximum length: MQ_DATE_LENGTH.
Returned: Always.
OperationTime
Description: Time when the operation was performed.
Identifier: MQCACF_OPERATION_TIME.
Data type: MQCFST.
Included in PCF Operation.
group:
Maximum length: MQ_TIME_LENGTH.
Returned: Always.
Message
Description: Grouped parameters describing the message that caused the activity.
Identifier: MQGACF_MESSAGE.
Data type: MQCFGR.
Included in PCF Operation.
group:
Parameters in MsgLength
group:
MQMD
EmbeddedMQMD
Returned: Always, except for Excluded Publish operations.
MsgLength
Description: Length of the message that caused the activity, before the activity occurred.
Identifier: MQIACF_MSG_LENGTH.
Data type: MQCFIN.
Included in PCF Message.
group:
Returned: Always.
MQMD
Description: Grouped parameters related to the message descriptor of the message that
caused the activity.
Identifier: MQGACF_MQMD.
Data type: MQCFGR.
Included in PCF Message.
group:
IBM MQ Monitoring and performance 109
Parameters in StrucId
group:
Version
Report
MsgType
Expiry
Feedback
Encoding
CodedCharSetId
Format
Priority
Persistence
MsgId
CorrelId
BackoutCount
ReplyToQ
ReplyToQMgr
UserIdentifier
AccountingToken
ApplIdentityData
PutApplType
PutApplName
PutDate
PutTime
ApplOriginData
GroupId
MsgSeqNumber