title:Improving the Fault Resilience of Overlay Multicast for Media Streaming
author:Guang Tan and
Stephen A. Jarvis and
Daniel P. Spooner
Improving the Fault Resilience of Overlay Multicast for Media Streaming
Guang Tan, Stephen A. Jarvis and Daniel P. Spooner
Department of Computer Science, University of Warwick,
Coventry, CV4 7AL, United Kingdom
{gtan,saj,dps}@dcs.warwick.ac.uk
Abstract
This paper addresses the problem of fault resilience of
overlay-based live media streaming from two aspects: (1)
how to construct a stable multicast tree that minimizes the
negative impact of frequent member departures on existing
overlay, and (2) how to efﬁciently recover from packet er-
rors caused by end-system or network failures.
In particular, this paper makes two contributions: (1) A
distributed Reliability-Oriented Switching Tree (ROST) al-
gorithm that minimizes the failure correlation among tree
nodes. By exploiting both bandwidth and time properties,
the algorithm constructs a more reliable multicast tree than
existing algorithms that solely minimize tree depth, while
not compromising the quality of the tree in terms of service
delay and incurring only a small protocol overhead; (2)
A simple Cooperative Error Recovery (CER) protocol that
helps recover from packet errors efﬁciently. Recognizing
that a single recovery source is usually incapable of pro-
viding timely delivery of the lost data, the protocol recovers
from data outages using the residual bandwidths from mul-
tiple sources, which are identiﬁed using a minimum-loss-
correlation algorithm. Extensive simulations are conducted
to demonstrate the effectiveness of the proposed schemes.
1 Introduction
Overlay multicast [4] has emerged as an effective tech-
nique to provide large-scale data dissemination over net-
works. While it is the case that shifting multicast func-
tionality from routers to end hosts brings greater ﬂexibility,
the transient nature of the end hosts introduces problems of
service reliability – in an overlay multicast tree, the (unan-
nounced) departure of a member may result in data outages
on all its downstream members. This paper considers this
issue in the context of live media streaming, where the data
is streamed from a single source to a large number of clients
over a data delivery tree. Such an application has several
characteristics that differentiate it from other applications
(e.g., ﬁle transfers) and hence calls for special considera-
tions in system design: (1) It is bandwidth-intensive and yet
the available bandwidth resources possessed by a multicast
group may be far from rich. Each member has an out-degree
(the number of immediate downstream nodes) constraint,
and there may exist a large proportion of free-riders (i.e.,
zero-out-degree members) in the network [10] [13] [15]; (2)
Multicast members exhibit a signiﬁcant amount of hetero-
geneity in bandwidths [11] [13], and as a result the mul-
ticast tree nodes have a wide range of out degrees, which
implies that the tree shape can be vastly different under var-
ious overlay construction methods; (3) Multimedia stream-
ing does not require perfect reliability, and the packet error
recovery can be performed in a best-effort manner.
Based on these observations, this paper proposes two
techniques to enhance the fault resilience of live media
streaming: the Reliability-Oriented Switching Tree (ROST)
algorithm and the Cooperative Error Recovery (CER) pro-
tocol. The ROST algorithm is a proactive component in
which the tree is adjusted toward a structure that minimizes
failure correlation among tree nodes1 – that is, the failure of
a node will affect as few downstream nodes as possible. For
it to be reliable, it is generally believed that the tree should
be as short (and hence wide) as possible [9] [14] [12] [5] [3],
under the constraint that no network congestion occurs near
the nodes. While this is effective, we show that it is not op-
timal. Inspired by the use of member’s long-tailed lifetime
distribution in tree construction [12], this paper proposes to
combine the members’ bandwidth and time properties as a
new criterion to adjust the tree. We deﬁne a metric called
bandwidth-time product (BTP) as the product of one mem-
ber’s outbound bandwidth2 and its age, and move the nodes
with large BTPs gradually up the tree in a distributed man-
ner. Simulation results under realistic experimental settings
show that ROST (1) reduces the average number of stream-
ing disruptions per member by 36-57% compared to a cen-
tralized depth-optimal approach; (2) achieves the smallest
1In this paper, every node in the overlay is a member of a multicast
group, so we will use the term node and member interchangeably.
2The outbound bandwidth is the maximum outgoing bandwidth pro-
vided by the access link. For simplicity, it is also referred to as bandwidth.
Proceedings of the 2006 International Conference on Dependable Systems and Networks (DSN’06) 
0-7695-2607-1/06 $20.00 © 2006 IEEE 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 12:30:01 UTC from IEEE Xplore.  Restrictions apply. 
end-to-end service delay (or tree depth) among three rep-
resentative distributed algorithms, and only incurs a small
increase in service delay of 10-15% compared to the cen-
tralized depth-optimal approach; and (3) introduces a very
low protocol overhead.
The Cooperative Error Recovery protocol is a reactive
mechanism that recovers from streaming disruptions in-
curred by the failures of upstream nodes. When a non-
leaf overlay node fails, the affected nodes need to rejoin
the tree, which involves failure detection and parent re-
ﬁnding periods and usually lasts in the order of tens of sec-
onds [4]. During these periods, the affected nodes must
retrieve the lost data from other normal nodes before the
receiving buffer is exhausted. Many techniques have been
proposed to identify recovery nodes and request data from
them [17] [2] [18] [16] [6]. However, they are all based
on a single-source-based recovery mechanism. We propose
to use multiple recovery nodes, which are identiﬁed using
a minimum-loss-correlation algorithm, in order to recover
from node failures. Our experiments demonstrate that sub-
stantial improvements can be achieved using this scheme.
This paper focuses on the single-tree based data deliv-
ery paradigm. Although there exist multiple-tree based ap-
proaches that improve fault-resilience by leveraging some
specialized media encodings (e.g. multiple description cod-
ing [9]), using a single-tree provides a more general ap-
proach and we believe that the techniques developed under
this scheme can also be applied to the multiple-tree case.
The remainder of this paper is organized as follows. The
next section reviews related work in both reliable overlay
construction and packet error recovery; Section 3 describes
the ROST algorithm in detail; Section 4 presents the CER
protocol; Section 5 introduces the simulation methodology;
Section 6 analyzes the simulation results and Section 7 con-
cludes the paper.
2 Related Work
2.1 Construction of Overlay Multicast Trees
Some earlier work on overlay construction for large-
scale single-source multicast
include NICE [1] and
ZIGZAG [14]. However, these methods do not consider the
out-degree limits of multicast nodes and thus are not suited
to high bandwidth media streaming.
For media data multicast, most algorithms try to build a
fault resilient overlay. An important approach to achieving
this is to build a short tree. Intuitively, the shortness helps to
reduce the number of descendant nodes that will be affected
by a failed node. An additional merit of this approach is that
it generally leads to a small average service delay from the
source. The minimum depth algorithm [5] [9] [12] is an
example of this approach.
It searches from the tree root
downward to the leaf layer to identify a parent with spare
bandwidth capacity for a new node to join.
If there are
multiple choices, the nearest parent (in terms of network
delay) is chosen. A variant of this algorithm [8] ﬁrst se-
lects a number of members randomly from the overlay, and
then performs the minimum depth algorithm. Borrowing
the idea of “fat-trees” in parallel architectures, Birrer et al.
propose to build a fat tree [3] with similar characteristics
to the short and wide tree. The high-bandwidth-ﬁrst algo-
rithm [5] achieves minimum tree depth by placing the nodes
from high to low layers in a non-increasing order of band-
widths; that is, nodes do not have more bandwidth capacity
than any node higher up in the tree. This algorithm achieves
a global optimization. However, it imposes very high pro-
tocol overhead and is therefore not practical for real imple-
mentation.
In contrast to the depth-optimizing approach using the
members’ bandwidth properties, Sripanidkulchai et al. pro-
pose another approach [12] which leverages the member’s
time property:
if the members’ lifetimes follow a distri-
bution with a long tail [15] [11], then the older members
are less likely to leave before the younger ones. This idea
leads to the design of the longest-ﬁrst algorithm [12], which
selects the longest-lived member among those with spare
bandwidth capacities as the new member’s parent. This al-
gorithm, however, turns out to yield poor performance since
it results in a tall tree.
2.2 Packet Error Recovery for Overlay Multicast
STORM [17]
is a resilient multicast protocol
for
continuous-media applications, in which the media data is
delivered using network-layer multicast, while the error re-
covery mechanism is built on an overlay. Each receiver
maintains a list of recovery parents which provide the loss
repair service. The idea of using multiple recovery parents
is similar to our CER protocol. However, the selection of
recovery parents and the recovery procedure are both dif-
ferent from our scheme. Lateral Error Recovery (LER) [16]
aims to provide fast recovery for overlay multicast. In LER,
all subtrees immediately under the root node (called planes
in LER) are organized in a way such that a node in a subtree
has a small network latency from its recovery nodes in other
subtrees. Since failure correlation of these subtrees is small,
the error recovery can be performed in a fast and reliable
manner. This tree construction method may however result
in large network stretch under the out-degree constraints.
Probabilistic Resilient Multicast (PRM) [2] is a multicast
data recovery scheme that uses a technique called random-
ized forwarding. The randomized forwarding adds some
random cross-tree edges on the overlay, so packets losses
can be repaired in a proactive manner. PRM handles node
failures by raising the forwarding probability of some re-
covery nodes to one. This is equivalent to using all the resid-
ual bandwidth of one recovery node. Cooperative Patch-
ing [6] uses a list of recovery nodes for each receiver when
Proceedings of the 2006 International Conference on Dependable Systems and Networks (DSN’06) 
0-7695-2607-1/06 $20.00 © 2006 IEEE 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 12:30:01 UTC from IEEE Xplore.  Restrictions apply. 
the tree. This recursive rejoin imposes very high overheads
on the multicast nodes.
The time-optimizing algorithm places the younger nodes
under the older nodes, making use of the fact that under a
long-tailed lifetime distribution, older nodes are more likely
to stay longer in the network. The research in [12] has
shown that this algorithm can give good prediction on the
relative stableness of multicast members. However, a pure
time-based algorithm like this will result in a tall tree [12],
which greatly increases the failure correlation of the tree
nodes and ﬁnally makes the tree more unstable.
In light of the beneﬁts of time-ordering to tree reliabil-
ity, a natural question is: Is it possible to incorporate this
element into the bandwidth-based algorithm so that the re-
liability of the depth-optimal tree can be further improved?
The answer to this question, of course, ultimately depends
on how great the power of time ordering is. Besides which,
a major challenge is to ensure that the tree depth does not
signiﬁcantly deviate from the optimal value as produced by
the BO tree, so that the beneﬁts from the time ordering are
not cancelled out, or even exceeded, by the negative effect
of the increased tree depth, as in the longest-ﬁrst algorithm.
In addition to the primary goal concerning the reliability and
tree depth, some other desired properties of the expected ap-
proach include: (1) A small protocol overhead. In contrast
to the high overhead of the BO algorithm, the new method
should not impose heavy burden of parent re-ﬁnding on in-
dividual multicast members; (2) A distributed implementa-
tion. For large-scale overlay networks in which the nodes