User: 请回答以下安全问题数字签名和验证？AFAIK，当Alice想给Bob写一条消息时，她使用Bob的公钥加密消息，然后Bob使用他的私钥解密消息。
所以公钥被用来解密，私钥被用来加密。
但后来我看到了这样的解释（在数字签名上下文中）：
这里说散列值（签名）是用她的私钥加密的？
所以私钥不仅用于解密（发送给我的消息），还用于加密（我计算的哈希）？

Assistant: 这就是“签名就像用私钥加密”的常见混淆。
忘了它吧。这是一个糟糕的解释，没有用。它似乎在过去起作用，当时第一个数字签名算法（基于非对称密码学）首次被描述（我说的是RSA，它是在迪斯科时代）；但即使对于RSA来说，这也是不正确的，因为它没有考虑到对安全至关重要的填充。
看看PKCS#1，了解RSA是如何使用的。特别是，当使用RSA和1024位密钥加密数据时，一次最多可以加密117个字节，但加密结果总是128个字节，这正是解密引擎所期望的。无论你尝试了多少，128个字节都不能容纳少于117个字节。。。
必须记住的是，私钥是用来做一些不应该每个人都能做的事情的。这意味着数据解密（任何人都可以向Bob加密消息，但只有Bob才能读取）和签名生成（每个人都可以验证签名，但只有鲍勃才能生成每个人都能验证为来自Bob的签名）。
尽管有一些非对称加密算法可以使用与数字签名算法相同的密钥（有RSA加密，也有RSA签名，两者都使用“RSA密钥”），但对两者使用相同的密钥不是一个好主意。