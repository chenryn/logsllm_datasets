完成会话转换
398
用户感觉不受欢迎
404
会话寿命很短
406
.....而cookie可以永存！
407
会话+cookie=更优秀的登录持久性
409
xvi
---
## Page 28
目录
消除重复代码
分享就是关爱
并不只是伞能分享。在任何Web应用中，你都会遇到这样的情况，即相同的代
码重复出现在多个地方。这样不仅很浪费，而且会导致维护困难，因为你肯定会
修改代码，这就必须在多个位置上都做此修改。解决方案就是通过共享来消除重
复代码。换句话说，把重复代码放在一个位置上，然后在需要它的地方直接引用
这个唯一的副本就可以了。消除重复代码会使应用更高效，更易于维护，并且最
终更为健壮。
Mismatch分解
421
由模板重构Mismatch
422
利用模板重构Mismatch
424
Mismatch再次集成......而且组织得更有条理
426
页零出现在每个
Mismatch页面的最上
婴示应用标题以及
页面持定的标题。
startsession.php
header.php
Mismatch中每个针对
用户的个性化页面
需要誉录代码来浓
踪该用户。
dud'nuauseu
是航莱单就出现在
页周下面，为每个
页脚在每个Mismatch
Mismatch页面提供
页面最下方提供内察
个一致的菜单从而在
其中包括一个版本声
主页面之间导航
的信息。
PDG
index.php
在这么多脚本的帮动
footer.php
index.php即本可以专
注于它独有的功能，即显
示主用户列表。
!!AX
---
## Page 29
目录
控制你的数据，世界在你手中
收获数据
没有什么能够比得上一次完美的数据秋收。已经准备好丰富的信息，可以
供你检查、分类、比较和合并，一般来讲可以做你的一流Web应用需要完成的
任何工作。是不是很满足？不错。不过就像真正的秋收一样，控制一个MySQL
数据库中的数据也需要一些艰苦的工作，还要有相当的经验。Web用户想要的
绝不只是让人毫无兴趣、枯燥乏味的陈旧数据。用户们希望得到有丰富内涵
能完成任务………真正重要的数据。那么你还等什么呢？开动你的MySQL收割机，
开始工作吧！
建立完美的互补配对
428
很讨厌！
互补配对的关键是数据
429
使用模式为数据库建模
431
恐怖件
关联多个表
436
使用外键
437
Sidney对恐
互补配对！
非常喜欢
表可以建立行与行的匹配
438
饰片的厌
恶可以得
一行指向多行
439
出一个互
补配对。
多对多的行匹配
恐佛片
440
建立一个Mismatch问卷
445
将响应放入数据库
446
可以利用数据驱动一个表单
450
生成Mismatch问卷表单
456
努力达到规范化
462
规范化时，要按原子来考虑
463
规范化数据库的3大步骤
465
修改Mismatch数据库
469
Mismatch真的规范吗？
470
查询中的查询中的查询.
472
下面完全联表
473
用点连接
474
当然还可以利用内连接做更多工作
join_dote
475
表和列的别名
477
ost_
救兵来了：连接
478
dity
成功找到互补配对的5大步骤
485
slate
picure
比较用户得到“互补配对度”
487
我们需要一个FOR循环
488
xviii
---
## Page 30
目录
串与定制函数
通过函数改善生活
函数能把应用提升到一个全新高度。之前你一直在使用PHP内置函数，现在
有必要来了解一些更有用的内置函数。然后学习如何构建你自己的定制函数来达
到超乎你想象的高度。必须承认，也许还达不到养鲨鱼当宠物的程度，但定制函
数确实能改善你的代码，保证重用。
很难找到一个合适的高风险职位
502
搜索没有给错误留有余地
RiskyJobs-54
504
Risky Jubs
利用LIKE，SQL查询可以很灵活
505
将一个串分解为单个词
510
implodeO由子串构造一个串
513
预处理搜索串
519
Find your risky job:
替换不想要的搜索字符
520
Suomg)
查询需要合法的搜索项
524
将非空元素复制到新数组
525
有时只需要串的一部分
528
Risky
JUDS
从任意一端抽取子串
529
多个查询可以对结果排序
532
Riky Jobs -Serca Rewetls
函数允许重用代码
536
Iuh TRz
利用一个定制函数构建查询
537
Bbs Tuita
定制函数：他们定制程度到底如何？
538
Risky
Jubs
switch可以比if做更多决策
542
使build_queryO支持排序
-1234 ->
545
可以对结果分页
leb 18k
548
non
使用LIMIT只获取你需要的行
Risky Jubs
549
用LIMIT控制页面链接
o ea
550
TghinyWgb
跟踪分页数据
Ccxlxanle
Risky Jabs -Starch Reelts
551
1234
b Tite
建立分页变量
552
r9eg/mgg
针对分页结果修改查询
553
生成页面导航链接
Eari Sa2 Ryu
554
Fwfyn
合成完整的Search脚本
557
1234 >
完整的Search脚本（续）…….
558
xix
---
## Page 31
目录
10
正则表达式
替换规则
串函数很可爱，不过它们也很受限。当然，它们可以告诉你串的长度，可以
将串截断，还可以把一些字符改为另外一些字符。不过，有时你还需要自由
发挥，完成更复杂的文本处理。在这方面正则表达式可以提供帮助。它们可
以根据一组规则而不只是一个条件准确地修改字符串。
RiskyJobs允许用户提交简历
562
确定数据的样式
566
建立电话号码模式
569
用正则表达式匹配模式
570
使用元字符构建模式
572
用字符类优化模式
579
用preg_matchO检查模式
584
标准化电话号码数据
591
去除不想要的字符
592
First Name: Jimmy
Last Name: Swift
匹配email地址可能很困难
596
Email:PI:EMAIL
域后缀无处不在
Phone: 636 4652
598
Desired Job: Ninja
使用PHP检查域
599
email验证：集成
600
我收到一个错误，然后
输入了完整的电话号码。
后来就得到了一个武师
的职位！
First Name: Jimmy
Last Name: Swift
Email:PI:EMAIL
Phone: (555) 636 4652
Desired Job: Ninja
PDG
XX
---
## Page 32
目录
数据可视化··.·以及更多！
11
绘制动态图像
当然，我们都知道一个好的查询和丰富的结果很有意义。不过，查询结果
并不总能清楚地自我表达。有时有必要换个角度描述数据，可能需要一个更可见
的角度。PHP使之成为可能，可以提供数据库数据的一个图形化表示：饼图、直
方图、维恩图、罗夏图等。只要能帮助用户了解应用中的数据流程，就都是有益
的。不过并非PHP应用中所有有意义的图像都来自于数据库。例如，你知道可以
利用动态生成的图像挫败填写表单的垃圾邮件机器人吗？
ARE
GuitarWars再现：机器的兴起
606
所有输入表单都是不安全的
607
需要区分人类和机器
608
可以利用自动化打败自动化
611
生成CAPTCHA通行短语文本
613
可视化显示CAPTCHA图像
614
GD图像函数
616
利用某个字体绘制文本
620
生成一个随机CAPTCHA图像
623
使GuitarWars恢复安宁
625
向Add Score脚本增加CAPTCHA
627
5级对立性
630
建立互补配对性图表
631
存储直方图数据
632
图表详解
635
从一个数组到另一个
636
构建互补配对主题数组
638
建立直方图规划
639
处理类别
640
类别的数学问题
641
直方图基础
644
绘制和显示直方图图像
647
所有用户分别有一个直方图图像
650
Mismatch仿佛在利用直方图
653
xxi
---
## Page 33
目录
合成与Web服务
12
与世界连接
外面的世界很大，不容忽视你的Web应用。也许更重要的，你更希望这个世
界不要忽视你的应用。要把你的Web应用加人这个世界，一个绝妙的方法是
让Web应用的数据可供合成，这是指用户可以订购你的网站的内容，而不必
直接访问网站来查找新的信息。不仅如此，你的应用可以通过Web服务与其
他应用连接，充分利用其他人的数据为用户提供更丰富的体验。
Owen需要得到有关Fang的消息
658
将外星人劫持数据推向人们
659
RSS向人们推Web内容
660
RSS实际上是XML
661
从数据库到新闻阅读器
666
RSS可视化
669
新闻记者的工作
671
动态生成RSS提要
672
链接到RSS提要
676
一个视频胜过长篇大论
678
从其他来源“拉”Web内容
680
合成YouTube视频
681
建立一个YouTube视频请求
682
Owen准备建立一个REST请求
686
YouTube的语言是XML
690
剖析YouTubeXML响应
694
可视化显示XML视频数据
695
用对象访问XML数据
696