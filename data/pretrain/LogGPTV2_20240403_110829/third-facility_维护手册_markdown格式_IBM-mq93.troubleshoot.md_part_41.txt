Information from the DISPLAY CONN command
The DISPLAY CONN command provides information about which applications are connected to a queue
manager, and information to help you to diagnose those that have a long-running unit of work. You could
collect this information periodically and check it for any long-running units of work, and display the
detailed information about that connection.
Diagnostic aids for CICS
You can use the CICS diagnostic transactions to display information about queue manager tasks, and MQI
calls. Use this topic to investigate these facilities.
You can use the CKQC transaction (the CICS adapter control panels) to display information about queue
manager tasks, and what state they are in (for example, a GET WAIT). See Administering IBM MQ for z/OS
for more information about CKQC.
The application development environment is the same as for any other CICS application, and so you can
use any tools normally used in that environment to develop IBM MQ applications. In particular, the CICS
execution diagnostic facility (CEDF) traps entry to and exit from the CICS adapter for each MQI call, as well
as trapping calls to all CICS API services. Examples of the output produced by this facility are given in
“Examples of CEDF output from MQI calls” on page 257.
The CICS adapter also writes trace entries to the CICS trace. These entries are described in “CICS adapter
trace entries” on page 403.
Additional trace and dump data is available from the CICS region. These entries are as described in the
CICS Problem Determination Guide.
Examples of CEDF output from MQI calls
Examples of the output produced by the CICS execution diagnostic facility (CEDF) when using IBM MQ.
These examples show the data produced on entry to and exit from the following MQI calls, in both
hexadecimal and character format. Other MQI calls produce similar data.
Related reference
Function calls
Example CEDF output for the MQOPEN call
The parameters for this call are as follows:
Table 9. Parameters for the MQOPEN call
Parameter Description
ARG 000 Connection handle
ARG 001 Object descriptor
ARG 002 Options
ARG 003 Object handle
ARG 004 Completion code
ARG 005 Reason code
IBM MQ troubleshooting and support 257
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000010000000200004044') AT X'05ECAFD8'
001: ARG 001 (X'D6C440400000000100000001C3C5C4C6') AT X'00144910'
001: ARG 002 (X'00000072000000000000000000000000') AT X'001445E8'
001: ARG 003 (X'00000000000000720000000000000000') AT X'001445E4'
001: ARG 004 (X'00000000000000000000000000000000') AT X'001445EC'
001: ARG 005 (X'00000000000000000000000000000000') AT X'001445F0'
Figure 16. Example CEDF output on entry to an MQOPEN call (hexadecimal)
STATUS: COMMAND EXECUTION COMPLETE
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000010000000200004044') AT X'05ECAFD8'
001: ARG 001 (X'D6C440400000000100000001C3C5C4C6') AT X'00144910'
001: ARG 002 (X'00000072000000000000000000000000') AT X'001445E8'
001: ARG 003 (X'00000001000000720000000000000000') AT X'001445E4'
001: ARG 004 (X'00000000000000000000000000000000') AT X'001445EC'
001: ARG 005 (X'00000000000000000000000000000000') AT X'001445F0'
Figure 17. Example CEDF output on exit from an MQOPEN call (hexadecimal)
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 ('.............. .')
001: ARG 001 ('OD ........CEDF')
001: ARG 002 ('................')
001: ARG 003 ('................')
001: ARG 004 ('................')
001: ARG 005 ('................')
Figure 18. Example CEDF output on entry to an MQOPEN call (character)
STATUS: COMMAND EXECUTION COMPLETE
CALL TO RESOURCE MANAGER MQM
001: ARG 000 ('.............. .')
001: ARG 001 ('OD ........CEDF')
001: ARG 002 ('................')
001: ARG 003 ('................')
001: ARG 004 ('................')
001: ARG 005 ('................')
Figure 19. Example CEDF output on exit from an MQOPEN call (character)
Related reference
MQOPEN - Open object
Example CEDF output for the MQCLOSE call
The parameters for this call are:
Table 10. Parameters for the MQCLOSE call
Parameter Description
ARG 000 Connection handle
258 Troubleshooting and Support for IBM MQ
Table 10. Parameters for the MQCLOSE call (continued)
Parameter Description
ARG 001 Object handle
ARG 002 Options
ARG 003 Completion code
ARG 004 Reason code
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000010000007200000000') AT X'001445E0'
001: ARG 001 (X'00000001000000720000000000000000') AT X'001445E4'
001: ARG 002 (X'00000000000000010000000200004044') AT X'05ECAFD8'
001: ARG 003 (X'00000000000000000000000800000008') AT X'001445EC'
001: ARG 004 (X'00000000000000080000000800000060') AT X'001445F0'
Figure 20. Example CEDF output on entry to an MQCLOSE call (hexadecimal)
STATUS: COMMAND EXECUTION COMPLETE
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000000000007200000000') AT X'001445E0'
001: ARG 001 (X'00000000000000720000000000000000') AT X'001445E4'
001: ARG 002 (X'00000000000000010000000200004044') AT X'05ECAFD8'
001: ARG 003 (X'00000000000000000000000800000008') AT X'001445EC'
001: ARG 004 (X'00000000000000080000000800000060') AT X'001445F0'
Figure 21. Example CEDF output on exit from an MQCLOSE call (hexadecimal)
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 ('................')
001: ARG 001 ('................')
001: ARG 002 ('.............. .')
001: ARG 003 ('................')
001: ARG 004 ('...............-')
Figure 22. Example CEDF output on entry to an MQCLOSE call (character)
STATUS: COMMAND EXECUTION COMPLETE
CALL TO RESOURCE MANAGER MQM
001: ARG 000 ('................')
001: ARG 001 ('................')
001: ARG 002 ('.............. .')
001: ARG 003 ('................')
001: ARG 004 ('...............-')
Figure 23. Example CEDF output on exit from an MQCLOSE call (character)
Related reference
MQCLOSE - Close object
IBM MQ troubleshooting and support 259
Example CEDF output for the MQPUT call
The parameters for this call are:
Table 11. Parameters for the MQPUT call
Parameter Description
ARG 000 Connection handle
ARG 001 Object handle
ARG 002 Message descriptor
ARG 003 Put message options
ARG 004 Buffer length
ARG 005 Message data
ARG 006 Completion code
ARG 007 Reason code
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000010000007200000000') AT X'001445E0'
001: ARG 001 (X'00000001000000720000000000000000') AT X'001445E4'
001: ARG 002 (X'D4C44040000000010000000000000008') AT X'001449B8'
001: ARG 003 (X'D7D4D640000000010000002400000000') AT X'00144B48'
001: ARG 004 (X'00000008000000000000000000040000') AT X'001445F4'
001: ARG 005 (X'5C5CC8C5D3D3D640E6D6D9D3C45C5C5C') AT X'00144BF8'
001: ARG 006 (X'00000000000000000000000800000000') AT X'001445EC'
001: ARG 007 (X'00000000000000080000000000000000') AT X'001445F0'
Figure 24. Example CEDF output on entry to an MQPUT call (hexadecimal)
STATUS: COMMAND EXECUTION COMPLETE
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000010000007200000000') AT X'001445E0'
001: ARG 001 (X'00000001000000720000000000000000') AT X'001445E4'
001: ARG 002 (X'D4C44040000000010000000000000008') AT X'001449B8'
001: ARG 003 (X'D7D4D640000000010000002400000000') AT X'00144B48'
001: ARG 004 (X'00000008000000000000000000040000') AT X'001445F4'
001: ARG 005 (X'5C5CC8C5D3D3D640E6D6D9D3C45C5C5C') AT X'00144BF8'
001: ARG 006 (X'00000000000000000000000800000000') AT X'001445EC'
001: ARG 007 (X'00000000000000080000000000000000') AT X'001445F0'
Figure 25. Example CEDF output on exit from an MQPUT call (hexadecimal)
260 Troubleshooting and Support for IBM MQ
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 ('................')
001: ARG 001 ('................')
001: ARG 002 ('MD ............')
001: ARG 003 ('PMO ............')
001: ARG 004 ('................')
001: ARG 005 ('**HELLO WORLD***')
001: ARG 006 ('................')
001: ARG 007 ('................')
Figure 26. Example CEDF output on entry to an MQPUT call (character)
STATUS: COMMAND EXECUTION COMPLETE
CALL TO RESOURCE MANAGER MQM
001: ARG 000 ('................')
001: ARG 001 ('................')
001: ARG 002 ('MD ............')
001: ARG 003 ('PMO ............')
001: ARG 004 ('................')
001: ARG 005 ('**HELLO WORLD***')
001: ARG 006 ('................')
001: ARG 007 ('................')
Figure 27. Example CEDF output on exit from an MQPUT call (character)
Related reference
MQPUT - Put message
Example CEDF output for the MQPUT1 call
The parameters for this call are:
Table 12. Parameters for the MQPUT1 call
Parameter Description
ARG 000 Connection handle
ARG 001 Object descriptor
ARG 002 Message descriptor
ARG 003 Put message options
ARG 004 Buffer length
ARG 005 Message data
ARG 006 Completion code
ARG 007 Reason code
IBM MQ troubleshooting and support 261
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000000000007200000000') AT X'001445E0'
001: ARG 001 (X'D6C440400000000100000001C3C5C4C6') AT X'00144910'
001: ARG 002 (X'D4C44040000000010000000000000008') AT X'001449B8'
001: ARG 003 (X'D7D4D640000000010000002400000000') AT X'00144B48'
001: ARG 004 (X'00000008000000080000006000040000') AT X'001445F4'
001: ARG 005 (X'5C5CC8C5D3D3D640E6D6D9D3C45C5C5C') AT X'00144BF8'
001: ARG 006 (X'00000000000000000000000800000008') AT X'001445EC'
001: ARG 007 (X'00000000000000080000000800000060') AT X'001445F0'
Figure 28. Example CEDF output on entry to an MQPUT1 call (hexadecimal)
STATUS: COMMAND EXECUTION COMPLETE
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000000000007200000000') AT X'001445E0'
001: ARG 001 (X'D6C440400000000100000001C3C5C4C6') AT X'00144910'
001: ARG 002 (X'D4C44040000000010000000000000008') AT X'001449B8'
001: ARG 003 (X'D7D4D640000000010000002400000000') AT X'00144B48'
001: ARG 004 (X'00000008000000080000006000040000') AT X'001445F4'
001: ARG 005 (X'5C5CC8C5D3D3D640E6D6D9D3C45C5C5C') AT X'00144BF8'
001: ARG 006 (X'00000000000000000000000800000008') AT X'001445EC'
001: ARG 007 (X'00000000000000080000000800000060') AT X'001445F0'
Figure 29. Example CEDF output on exit from an MQPUT1 call (hexadecimal)
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 ('................')
001: ARG 001 ('OD ........CEDF')
001: ARG 002 ('MD ............')
001: ARG 003 ('PMO ............')
001: ARG 004 ('...........-....')
001: ARG 005 ('**HELLO WORLD***')
001: ARG 006 ('................')
001: ARG 007 ('...............-')
Figure 30. Example CEDF output on entry to an MQPUT1 call (character)
STATUS: COMMAND EXECUTION COMPLETE
CALL TO RESOURCE MANAGER MQM
001: ARG 000 ('................')
001: ARG 001 ('OD ........CEDF')
001: ARG 002 ('MD ............')
001: ARG 003 ('PMO ............')
001: ARG 004 ('...........-....')
001: ARG 005 ('**HELLO WORLD***')
001: ARG 006 ('................')
001: ARG 007 ('...............-')
Figure 31. Example CEDF output on exit from an MQPUT1 call (character)
Related reference
MQPUT1 - Put one message
Example CEDF output for the MQGET call
The parameters for this call are:
262 Troubleshooting and Support for IBM MQ
Table 13. Parameters for the MQGET call
Parameter Description
ARG 000 Connection handle
ARG 001 Object handle
ARG 002 Message descriptor
ARG 003 Get message options
ARG 004 Buffer length
ARG 005 Message buffer
ARG 006 Message length
ARG 007 Completion code
ARG 008 Reason code
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000010000007200000000') AT X'001445E0'
001: ARG 001 (X'00000001000000720000000000000000') AT X'001445E4'
001: ARG 002 (X'D4C44040000000010000000000000000') AT X'001449B8'
001: ARG 003 (X'C7D4D6400000000100004044FFFFFFFF') AT X'00144B00'
001: ARG 004 (X'00000008000000000000000000040000') AT X'001445F4'
001: ARG 005 (X'00000000000000000000000000000000') AT X'00144C00'
001: ARG 006 (X'00000000000000000004000000000000') AT X'001445F8'
001: ARG 007 (X'00000000000000000000000800000000') AT X'001445EC'
001: ARG 008 (X'00000000000000080000000000000000') AT X'001445F0'
Figure 32. Example CEDF output on entry to an MQGET call (hexadecimal)
STATUS: COMMAND EXECUTION COMPLETE
CALL TO RESOURCE MANAGER MQM
001: ARG 000 (X'00000000000000010000007200000000') AT X'001445E0'
001: ARG 001 (X'00000001000000720000000000000000') AT X'001445E4'
001: ARG 002 (X'D4C44040000000010000000000000008') AT X'001449B8'
001: ARG 003 (X'C7D4D6400000000100004044FFFFFFFF') AT X'00144B00'
001: ARG 004 (X'00000008000000080000000000040000') AT X'001445F4'
001: ARG 005 (X'5C5CC8C5D3D3D640E6D6D9D3C45C5C5C') AT X'00144C00'
001: ARG 006 (X'00000008000000000004000000000000') AT X'001445F8'
001: ARG 007 (X'00000000000000000000000800000008') AT X'001445EC'
001: ARG 008 (X'00000000000000080000000800000000') AT X'001445F0'
Figure 33. Example CEDF output on exit from an MQGET call (hexadecimal)
IBM MQ troubleshooting and support 263
STATUS: ABOUT TO EXECUTE COMMAND
CALL TO RESOURCE MANAGER MQM
001: ARG 000 ('................')
001: ARG 001 ('................')
001: ARG 002 ('MD ............')
001: ARG 003 ('GMO ...... .....')
001: ARG 004 ('................')
001: ARG 005 ('................')
001: ARG 006 ('................')
001: ARG 007 ('................')
001: ARG 008 ('................')