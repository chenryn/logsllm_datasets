As per golang-nuts:
I am trying to get vendoring working with submodules which is supposed to be
working according to s/go15vender. The building part works fine but the "go
get" part doesn't.
To reproduce I created a test repo by doing the following:
Created a test package and added a submodule via:
     git submodule add https://github.com/dgrijalva/jwt-go vendor/github.com/dgrijalva/jwt-go
Committed everything.
Now, if I do:
    GO15VENDOREXPERIMENT=1 go get github.com/StephanDollberg/govendorsubmodulestest
I get the error:
    # cd .; git --git-dir=/$GOPATH/src/github.com/StephanDollberg/govendorsubmodulestest/.git submodule update --init --recursive
    No submodule mapping found in .gitmodules for path 'vendor/github.com/dgrijalva/jwt-go'
    package github.com/StephanDollberg/govendorsubmodulestest: exit status 1
The interesting thing is that if I do a go get -u after that it checks out the
submodule correctly. Looking at the error and the source of the go command I
think it has to do with --git-dir not working together with the submodule
command.
I tested this on Windows, Mac OSX and Linux (all Intel 64bit) with go 1.5.1
and several git versions (2.3, 2.4, 2.5).