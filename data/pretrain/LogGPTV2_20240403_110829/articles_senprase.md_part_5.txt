http://doi.ieeecomputersociety.org/10.1109/ICAC.2004.31
been adapted to identify anomalies, such as LSTM [14], [40],
[2] W.Xu,L.Huang,A.Fox,D.A.Patterson,andM.Jordan,“Large-scale
CNN [41], Transformers [42] and pre-trained language mod- systemproblemsdetectionbyminingconsolelogs,”EECSDepartment,
els[48].Toovercometheunseenlogproblem,LogRobust[14] University of California, Berkeley, Tech. Rep. UCB/EECS-2009-103,
Jul 2009. [Online]. Available: http://www2.eecs.berkeley.edu/Pubs/
proposedarobustlogencodingmethodwiththeTF-IDFvalue
TechRpts/2009/EECS-2009-103.html
and word embeddings, and then an attention-based bi-LSTM [3] N. Zhao, H. Wang, Z. Li, X. Peng, G. Wang, Z. Pan, Y. Wu,
was used to learn the importance of each log. Z. Feng, X. Wen, W. Zhang et al., “An empirical investigation
of practical log anomaly detection for online service systems,” in
Althoughanomalydetectionpointsoutwhetherananomaly
Proceedings of the 29th ACM Joint Meeting on European Software
existsinsystemlogs,removingsuchanomalyrequiresthehelp Engineering Conference and Symposium on the Foundations of
offailurediagnosis.Toaddresstheproblem,somestudies[49], Software Engineering, 2021, pp. 1404–1415. [Online]. Available:
https://dl.acm.org/doi/abs/10.1145/3468264.3473933
[50] automatically constructed time-weighted control flow
[4] A.R.Chen,T.-H.P.Chen,andS.Wang,“Pathidea:Improvinginforma-
graphs (TCFG) from normal execution log sequences as the tionretrieval-basedbuglocalizationbyre-constructingexecutionpaths
reference model, and then checks the deviation between the usinglogs,”IEEETransactionsonSoftwareEngineering,2021.
[5] A. Amar and P. C. Rigby, “Mining historical test logs to
reference model and the new coming log sequences to diag-
predict bugs and localize faults in the test logs,” in Proceedings
noseafailure.Finitestatemodelsarealsousedtohighlightthe of the 41st International Conference on Software Engineering:
difference between the logs [51]. In addition, inspired by the Companion Proceedings, Montreal, QC, Canada, May 25-31, 2019.
IEEE / ACM, 2019, pp. 140–151. [Online]. Available: https:
factthatoccurredfailuremanifestsrecurring,somestudies[5],
//doi.org/10.1109/ICSE.2019.00031
[52]wereinterestedindevelopingafailurematchingalgorithm [6] R. Vaarandi, “A data clustering algorithm for mining patterns from
to retrieve similar historical failure reports from the report event logs,” in Proceedings of the 3rd IEEE Workshop on IP
Operations & Management (IEEE Cat. No. 03EX764), Kansas City,
database.Undoubtedly,asanimportantpartofloganalysisand
MO,USA,Oct3,2003. IEEE,2003,pp.119–126.[Online].Available:
systemmonitoring,theperformancesofanomalydetectionand https://ieeexplore.ieee.org/document/1251233
fault diagnosis model are affected by the output of upstream [7] M. Nagappan and M. A. Vouk, “Abstracting log lines to log
event types for mining software system logs,” in Proceedings
tasks.Wehavedemonstratedthatoursemanticparserenhances
of the 7th International Working Conference on Mining Software
the performance of mainstream analysis models. Repositories, Cape Town, South Africa, May 2-3, 2010, IEEE.
IEEE Computer Society, 2010, pp. 114–117. [Online]. Available:
VIII. CONCLUSION https://doi.org/10.1109/MSR.2010.5463281
[8] H.Dai,H.Li,C.S.Chen,W.Shang,andT.-H.Chen,“Logram:Efficient
In this paper, we first point out three limitations of cur-
log parsing using n-gram dictionaries,” CoRR, vol. abs/2001.03038,
rent log parsers: inadequate informative tokens, missing se- 2020.[Online].Available:http://arxiv.org/abs/2001.03038
mantics within logs, and missing relation between logs. To [9] L. Tang, T. Li, and C.-S. Perng, “Logsig: Generating system events
from raw textual logs,” in Proceedings of the 20th Conference
overcome the limits, we then design SemParser, a semantic
on Information and Knowledge Management, UK, October 24-
parser with two phases: a semantics miner aiming to mine 28, 2011. ACM, 2011, pp. 785–794. [Online]. Available: https:
explicit semantics from logs, as well as a joint parser lever- //doi.org/10.1145/2063576.2063690
[10] M. Mizutani, “Incremental mining of system log format,” in
aging domain knowledge to infer implicit semantics. We then
International Conference on Services Computing, Santa Clara, CA,
conduct extensive experiments to evaluate SemParser in six USA, June 28 - July 3, 2013. IEEE Computer Society, 2013, pp.
representative system logs for semantic mining ability, which 595–602.[Online].Available:https://doi.org/10.1109/SCC.2013.73
[11] G. Chu, J. Wang, Q. Qi, H. Sun, S. Tao, and J. Liao, “Prefix-
achievesanaverageF1scoreof0.985.Moreover,weevaluate
graph: A versatile log parsing approach merging prefix tree with
our approach in two downstream log analysis tasks (i.e., probabilistic graph,” in 2021 IEEE 37th International Conference on
anomalydetectionandfailureidentification).Theexperimental Data Engineering. IEEE, 2021, pp. 2411–2422. [Online]. Available:
https://ieeexplore.ieee.org/abstract/document/9458609
resultsdemonstratethatourmethodoutperformssyntax-based
[12] P.He,J.Zhu,Z.Zheng,andM.R.Lyu,“Drain:Anonlinelogparsing
log parsers by large margins, confirming the importance of approachwithfixeddepthtree,”in2017IEEEInternationalConference
understanding semantics in log analysis. We release code and onWebServices,Honolulu,HI,USA,June25-30,2017. IEEE,2017,
data for future research¶. pp.33–40.[Online].Available:https://doi.org/10.1109/ICWS.2017.13
[13] H. Li, T.-H. P. Chen, W. Shang, and A. E. Hassan, “Studying
softwareloggingusingtopicmodels,”EmpiricalSoftwareEngineering,
ACKNOWLEDGEMENT
vol. 23, no. 5, pp. 2655–2694, 2018. [Online]. Available: https:
The work described in this paper was supported by the Na- //doi.org/10.1007/s10664-018-9595-8
[14] X. Zhang, Y. Xu, Q. Lin, B. Qiao, H. Zhang, Y. Dang, C. Xie,
tional Natural Science Foundation of China (No. 62202511),
X. Yang, Q. Cheng, Z. Li et al., “Robust log-based anomaly
and the Research Grants Council of the Hong Kong Special detection on unstable log data,” in Proceedings of the ACM
Administrative Region, China (No. CUHK 14206921 of the Joint Meeting on European Software Engineering Conference and
Symposium on the Foundations of Software Engineering, Tallinn,
General Research Fund).
Estonia, August 26-30, 2019. ACM, 2019, pp. 807–817. [Online].
Available:https://doi.org/10.1145/3338906.3338931
[15] Q.Fu,J.-G.Lou,Y.Wang,andJ.Li,“Executionanomalydetectionin
distributedsystemsthroughunstructuredloganalysis,”inInternational
¶Pleasefindinhttps://github.com/YintongHuo/SemParser. Conference on Data Mining, Miami, Florida, USA, December 6-9,
2009. IEEEComputerSociety,2009,pp.149–158.[Online].Available: [32] J. Liu, J. Zhu, S. He, P. He, Z. Zheng, and M. R. Lyu, “Logzip:
https://doi.org/10.1109/ICDM.2009.60 extractinghiddenstructuresviaiterativeclusteringforlogcompression,”
[16] S.Messaoudi,A.Panichella,D.Bianculli,L.Briand,andR.Sasnauskas, in International Conference on Automated Software Engineering, San
“A search-based approach for accurate identification of log message Diego, CA, USA, November 11-15, 2019. IEEE, 2019, pp. 863–873.
formats,” in Proceedings of the 26th Conference on Program [Online].Available:https://doi.org/10.1109/ASE.2019.00085
Comprehension,Gothenburg,Sweden,May27-28,2018. ACM,2018, [33] Z. Chen, J. Liu, W. Gu, Y. Su, and M. R. Lyu, “Experience
pp. 167–177. [Online]. Available: https://doi.org/10.1145/3196321. report: Deep learning-based system log analysis for anomaly
3196340 detection,” CoRR, vol. abs/2107.05908, 2021. [Online]. Available:
[17] D. M. Blei, A. Y. Ng, and M. I. Jordan, “Latent dirichlet allocation,” https://arxiv.org/abs/2107.05908
Journal of machine Learning research, vol. 3, no. Jan, pp. 993–1022, [34] Q. Lin, H. Zhang, J.-G. Lou, Y. Zhang, and X. Chen, “Log clustering
2003. basedproblemidentificationforonlineservicesystems,”inProceedings
[18] R.He,W.S.Lee,H.T.Ng,andD.Dahlmeier,“Anunsupervisedneural of the 38th International Conference on Software Engineering, Austin,
attentionmodelforaspectextraction,”inProceedingsofthe55thAnnual TX, USA, May 14-22, 2016 - Companion Volume. ACM, 2016, pp.
Meeting of the Association for Computational Linguistics, 2017, pp. 102–111.[Online].Available:https://doi.org/10.1145/2889160.2889232
388–397. [35] W. Xu, L. Huang, A. Fox, D. Patterson, and M. I. Jordan, “Detecting
[19] M. Sundermeyer, R. Schlu¨ter, and H. Ney, “Lstm neural networks large-scale system problems by mining console logs,” in Proceedings
for language modeling,” in Annual Conference of the International oftheACMSIGOPS22ndsymposiumonOperatingsystemsprinciples,
SpeechCommunicationAssociation,Portland,Oregon,USA,September 2009,pp.117–132.
9-13, 2012. ISCA, 2012, pp. 194–197. [Online]. Available: http: [36] S. He, J. Zhu, P. He, and M. R. Lyu, “Experience report: System
//www.isca-speech.org/archive/interspeech 2012/i12 0194.html log analysis for anomaly detection,” in International Symposium on
[20] A. Graves, A.-r. Mohamed, and G. Hinton, “Speech recognition SoftwareReliabilityEngineering,Ottawa,ON,Canada,October23-27,
with deep recurrent neural networks,” in International Conference on 2016. IEEEComputerSociety,2016,pp.207–218.[Online].Available:
Acoustics, Speech and Signal Processing, Vancouver, BC, Canada, https://doi.org/10.1109/ISSRE.2016.21
May 26-31, 2013. IEEE, 2013, pp. 6645–6649. [Online]. Available: [37] K. Shima, “Length matters: Clustering system log messages using
https://doi.org/10.1109/ICASSP.2013.6638947 lengthofwords,”CoRR,vol.abs/1611.03213,2016.[Online].Available:
[21] M. Xuezhe and H. H. Eduard, “End-to-end sequence labeling via http://arxiv.org/abs/1611.03213
bi-directionallstm-cnns-crf,”inProceedingsofthe54thAnnualMeeting [38] Z. M. Jiang, A. E. Hassan, P. Flora, and G. Hamann, “Abstracting
of the Association for Computational Linguistics, Berlin, Germany, execution logs to execution events for enterprise applications (short
August 7-12, 2016. The Association for Computer Linguistics, 2016. paper),” in Proceedings of the Eighth International Conference
[Online].Available:https://doi.org/10.18653/v1/p16-1101 on Quality Software, Oxford, UK, August 12-13, 2008,. IEEE
[22] Z. Huang, W. Xu, and K. Yu, “Bidirectional lstm-crf models Computer Society, 2008, pp. 181–186. [Online]. Available: https:
for sequence tagging,” CoRR, vol. abs/1508.01991, 2015. [Online]. //doi.org/10.1109/QSIC.2008.50
Available:http://arxiv.org/abs/1508.01991 [39] A. A. Makanju, A. N. Zincir-Heywood, and E. E. Milios, “Clustering
[23] J.P.ChiuandE.Nichols,“Namedentityrecognitionwithbidirectional eventlogsusingiterativepartitioning,”inProceedingsofthe15thACM
lstm-cnns,” Trans. Assoc. Comput. Linguistics, vol. 4, pp. 357–370, SIGKDD International Conference on Knowledge Discovery and Data
2016. [Online]. Available: https://transacl.org/ojs/index.php/tacl/article/ Mining,Paris,France,June28-July1,2009. ACM,2009,pp.1255–
view/792 1264.[Online].Available:https://doi.org/10.1145/1557019.1557154
[24] M.Shetty,C.Bansal,S.Kumar,N.Rao,N.Nagappan,andT.Zimmer- [40] M. Du, F. Li, G. Zheng, and V. Srikumar, “Deeplog: Anomaly
mann, “Neural knowledge extraction from cloud service incidents,” in detection and diagnosis from system logs through deep learning,”
2021IEEE/ACM43rdInternationalConferenceonSoftwareEngineer- in Proceedings of the 2017 ACM SIGSAC Conference on Computer
ing:SoftwareEngineeringinPractice. IEEE,2021,pp.218–227. and Communications Security, Dallas, TX, USA, October 30 -
[25] J.Tabassum,M.Maddela,W.Xu,andA.Ritter,“Codeandnamedentity November03,2017. ACM,2017,pp.1285–1298.[Online].Available:
recognitioninstackoverflow,”inProceedingsofthe58thAnnualMeeting https://doi.org/10.1145/3133956.3134015
of the Association for Computational Linguistics, Online, July 5-10, [41] S. Lu, X. Wei, Y. Li, and L. Wang, “Detecting anomaly in
2020. AssociationforComputationalLinguistics,2020,pp.4913–4926. big data system logs using convolutional neural network,” in Intl
[Online].Available:https://doi.org/10.18653/v1/2020.acl-main.443 Conf on Dependable, Autonomic and Secure Computing, 16th Intl
[26] R. Caruana, “Multitask learning,” Machine learning, vol. 28, Conf on Pervasive Intelligence and Computing, 4th Intl Conf on
no. 1, pp. 41–75, 1997. [Online]. Available: https://doi.org/10.1023/A: Big Data Intelligence and Computing and Cyber Science and
1007379606734 Technology Congress, Athens, Greece, August 12-15, 2018. IEEE
[27] D. Cotroneo, L. De Simone, P. Liguori, R. Natella, and N. Bidokhti, Computer Society, 2018, pp. 151–158. [Online]. Available: https:
“How bad can a bug get? an empirical analysis of software failures //doi.org/10.1109/DASC/PiCom/DataCom/CyberSciTec.2018.00037
in the openstack cloud computing platform,” in Proceedings of the [42] S. Nedelkoski, J. Bogatinovski, A. Acker, J. Cardoso, and O. Kao,
ACM Joint Meeting on European Software Engineering Conference “Self-attentive classification-based anomaly detection in unstructured
and Symposium on the Foundations of Software Engineering, Tallinn, logs,” in International Conference on Data Mining, Sorrento, Italy,
Estonia, August 26-30, 2019. ACM, 2019, pp. 200–211. [Online]. November 17-20, 2020. IEEE, 2020, pp. 1196–1201. [Online].
Available:https://doi.org/10.1145/3338906.3338916 Available:https://doi.org/10.1109/ICDM50108.2020.00148
[28] J.Cohen,“Acoefficientofagreementfornominalscales,”Educational [43] A. Vaswani, N. Shazeer, N. Parmar, J. Uszkoreit, L. Jones,
and psychological measurement, vol. 20, pp. 37–46, 1960. [Online]. A. N. Gomez, Ł. Kaiser, and I. Polosukhin, “Attention is all
Available:https://w3.ric.edu/faculty/organic/coge/cohen1960.pdf you need,” in Advances in Neural Information Processing Systems
[29] T. Mikolov, I. Sutskever, K. Chen, G. S. Corrado, and J. Dean, 30: Annual Conference on Neural Information Processing Systems,
“Distributed representations of words and phrases and their Long Beach, CA, USA, December 4-9, 2017, 2017, pp. 5998–
compositionality,” in Annual Conference on Neural Information 6008. [Online]. Available: https://proceedings.neurips.cc/paper/2017/
Processing Systems, Lake Tahoe, Nevada, USA, December 5-8, 2013, hash/3f5ee243547dee91fbd053c1c4a845aa-Abstract.html
2013, pp. 3111–3119. [Online]. Available: https://proceedings.neurips. [44] P. Covington, J. Adams, and E. Sargin, “Deep neural networks
cc/paper/2013/hash/9aa42b3188ec039965f3c4923ce901b-Abstract.html for youtube recommendations,” in Proceedings of the 10th ACM
[30] R. Rˇehu˚ˇrek and P. Sojka, “Software framework for topic modelling Conference on Recommender Systems, Boston, MA, USA, September
with large corpora,” in Proceedings of LREC 2010 workshop New 15-19, 2016. ACM, 2016, pp. 191–198. [Online]. Available:
Challenges for NLP Frameworks, Valletta, Malta, May 22, 2010. https://doi.org/10.1145/2959100.2959190
UniversityofMalta,2010,pp.46–50.[Online].Available:http://www. [45] T. Osadchiy, I. Poliakov, P. Olivier, M. Rowland, and E. Foster,
fi.muni.cz/usr/sojka/presentations/lrec2010-poster-rehurek-sojka.pdf “Recommender system based on pairwise association rules,” Expert
[31] S. He, J. Zhu, P. He, and M. R. Lyu, “Loghub: A large collection Systems with Applications, vol. 115, pp. 535–542, 2019. [Online].
of system log datasets towards automated log analytics,” CoRR, vol. Available:https://doi.org/10.1016/j.eswa.2018.07.077
abs/2008.06448, 2020. [Online]. Available: https://arxiv.org/abs/2008. [46] S. He, P. He, Z. Chen, T. Yang, Y. Su, and M. R. Lyu, “A survey
06448 onautomatedloganalysisforreliabilityengineering,”ACMComputing
Surveys(CSUR),vol.54,no.6,pp.1–37,2021.
[47] Y. Liang, Y. Zhang, H. Xiong, and R. Sahoo, “Failure prediction for anomaly diagnosis based on hybrid graph model with logs for
in ibm bluegene/l event logs,” in International Symposium on distributed services,” in International Conference on Web Services,
Parallel and Distributed Processing, Miami, Florida USA, April Honolulu, HI, USA, June 25-30, 2017. IEEE, 2017, pp. 25–32.
14-18, 2008. IEEE, 2008, pp. 1–5. [Online]. Available: https: [Online].Available:https://doi.org/10.1109/ICWS.2017.12
//doi.org/10.1109/IPDPS.2008.4536397 [51] H. Amar, L. Bao, N. Busany, D. Lo, and S. Maoz, “Using finite-state
[48] H.Ott,J.Bogatinovski,A.Acker,S.Nedelkoski,andO.Kao,“Robust modelsforlogdifferencing,”inProceedingsofthe201826thACMJoint
and transferable anomaly detection in log data using pre-trained lan- MeetingonEuropeanSoftwareEngineeringConferenceandSymposium
guage models,” in 2021 IEEE/ACM International Workshop on Cloud ontheFoundationsofSoftwareEngineering,2018,pp.49–59.
Intelligence(CloudIntelligence). IEEE,2021,pp.19–24. [52] H. Jiang, X. Li, Z. Yang, and J. Xuan, “What causes my
[49] T.Jia,L.Yang,P.Chen,Y.Li,F.Meng,andJ.Xu,“Logsed:Anomaly test alarm? automatic cause analysis for test alarms in system
diagnosis through mining time-weighted control flow graph in logs,” and integration testing,” in Proceedings of the 39th International
inInternationalConferenceonCloudComputing(CLOUD),Honolulu, Conference on Software Engineering, Buenos Aires, Argentina, May
HI, USA, June 25-30, 2017. IEEE Computer Society, 2017, pp. 20-28, 2017. IEEE / ACM, 2017, pp. 712–723. [Online]. Available:
447–455.[Online].Available:https://doi.org/10.1109/CLOUD.2017.64 https://doi.org/10.1109/ICSE.2017.71
[50] T. Jia, P. Chen, L. Yang, Y. Li, F. Meng, and J. Xu, “An approach