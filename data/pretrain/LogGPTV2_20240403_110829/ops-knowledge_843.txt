User: How does MongoDB perform master-slave replication and fragmentation?
Assistant: The steps for MongoDB to perform master-slave replication are as follows: 1. Start each MongoDB instance and assign a unique port and data directory. 2. Configure a replica set on the primary node, and add other MongoDB instances to the replica set. 3. Start the replica set on each slave node and connect to the replica set using the configuration file specified in the master node. 4. Make sure that the network connection between the master node and the replica node is stable and reliable, so that when the master node updates the data, the replica node can copy the data in time. 5. When the master node fails, the system automatically promotes one of the slave nodes as the new master node and continues to process all write operations. The steps for MongoDB sharding are as follows: 1. Design the MongoDB Shard cluster architecture, including Shard nodes, Config nodes, and Router nodes, start them, initialize the database, and create the required collections. 2. Distribute the data to multiple Shard nodes. 3. Select the sharding strategy and sharding key according to the requirements, and provide the sharding key information to the Router node so that it can route requests to the correct Shard node according to the sharding key. 4. Ensure that each Shard node ensures a certain degree of data redundancy and availability, and at the same time, ensure that the Config node contains enough data to support automatic recovery when the node fails. 5. Test whether the sharding of the entire cluster works normally, and check the consistency and integrity of the data.