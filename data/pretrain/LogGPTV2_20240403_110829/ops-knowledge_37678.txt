User: Write a script in Python that automates the installation and configuration of a web server on an AWS EC2 instance.
Assistant: The following script is based on Amazon Linux 2 AMI: #!/bin/bash # Update system software sudo yum update -y # Install Nginx and Apache web server sudo amazon-linux-extras install nginx1.12 -y sudo yum install httpd -y # Start and set up Nginx and Apache boot sudo systemctl start nginx sudo systemctl enable nginx sudo systemctl start httpd sudo systemctl enable httpd # configure Nginx sudo mv /etc/nginx/conf.d/default.conf /etc/nginx/conf.d /default.conf.bak sudo touch /etc/nginx/conf.d/web.conf sudo chmod 666 /etc/nginx/conf.d/web.conf sudo echo "server { listen 80; server_name example.com; location / { proxy_pass http://localhost:80; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } }" > /etc/nginx/conf.d/web.conf sudo chmod 644 /etc/nginx/conf.d/web.conf sudo systemctl restart nginx # Configure Apache sudo mv /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf.bak sudo touch /etc/ httpd/conf.d/web.conf sudo chmod 666 /etc/httpd/conf.d/web.conf sudo echo "<VirtualHost *:80> DocumentRoot /var/www/html ServerName example.com ErrorLog /var/log/ httpd/error.log CustomLog /var/log/httpd/access.log combined </VirtualHost>" > /etc/httpd/conf.d/web.conf sudo chmod 644 /etc/httpd/conf.d/web.conf sudo systemctl restart httpd echo "The web server is installed and configured. "