  1 8 0
  0
  1 0
  2 0
  3 0
  4 0
  5 0
  6 0
  7 0
E v e nt s (i n t h o u s a n d s)
Pr o v e n a n c e st or a g e gr o wt h
P F:
Pr o v T hi n gs;
R e s p o n s e  Ti m e ( Milli s e c o n d s)
( c) Pr o v e n a n c e q u er y p erf or m a n c e
Pr o v F ull,
P S:
Pr o v S a v e
Si n k
n o d es
n o d es.
a v er a g e
a n d t h e
h a v e l ar g e
n o d es
5
milli o n
of
a v er a g e
b y
q u er y ti m e f or si n k
q u er y ti m e
ms
ms.
a n c estr y t h a n
g e n er at e d
a cti vit y
2
n o d es is
as t h e y
n o d es is
9
F or
wit h
h a v e l o n g er
w e
o bs er v e si mil ar
2
r es ults
T h e r es ults i n di c at e
t h at Pr o v T hi n gs is a bl e t o q ui c kl y r es p o n d t o f or e nsi c q u eri es
m ali ci o us
a n d is a bl e t o b e us e d i n a r e al ti m e s etti n g t o d et e ct
b e h a vi ors.
gr e atl y
aff e ct e d b y t h e si z e of t h e d at a b as e. F or e x a m pl e, f or a s m all er
d at as et
ms.
wit h 4 1 7, 3 8 0 n o d es, t h e si n k n o d es q u er y ti m e is 8
Pr o v F ull,
ms r es p e cti v el y.
p erf or m a n c e is
n ot e t h at
ms a n d
gr a p hs
q u er y
n ot
1 4
We
VII.  
U S E R S C E N A RI O S
b e
w e ill ustr at e
I n t his s e cti o n,
Pr o v T hi n gs c a n
d e-
h o w
wit h diff er e nt t e c h ni c al
pl o y e d a n d b e n e ﬁt t hr e e ki n ds of us ers
c a p a biliti es: 1)
Pr of essi o n als s u c h as s m art h o m e pl atf or m d e-
v el o p ers i n v esti g ati n g a b n or m al b e h a vi ors i n t h eir c ust o m ers’
h o m es,
p oli ci es f or t h eir
s m art h o m es, a n d
3) Ty pi c al c o ns u m ers wit h li mit e d t e c h ni c al
s kill t h at
wis h t o u n d erst a n d a n d r e a ct t o p e c uli ar e v e nts t h at
h a p p e ni n g i n t h eir s m art h o m es.
c ust o mi z e d
“ Te c hi es ”
cr e ati n g
2)
A.
Pr of essi o n als
I o T
pr of essi o n als
a
of
pr o vi d er
pl atf or m
d e pl o y
wit hi n t h eir pl atf or m t o pr o vi d e s er vi c es t o t h eir
We f urt h er di vi d e t h e m i nt o: Pl atf or m d e v el o p ers
c ust o m er r e p orts,
h el pi n g c ust o m ers t o tr o u bl es h o ot pr o b-
a b n or m al
b e h a vi or
b as e d
c a n
o n
D es k st aff
Pr o v T hi n gs
c ust o m ers.
i n v esti g ati n g
a n d H el p
l e ms.
a
w e
t o
h er
a p p
h o w
us es
t h at
s h o w
h o m e
A d mi n
c a m er a
I n t his
s c e n ari o,
s ur v eill a n c e
o n
H o w e v er,
t h e
h o m e,
m o d e
D e v el o p ers.
d e v el o p er
m o d e
a n d
c h a n g e
a n
e v e nts t h e n l o c ks t h e
of
A w a y
L o c k I t W h e n I L e a v e ,
m o d e is
Ali c e’s c o p y of L o c k I t W h e n I L e a v e
a
Pl atf or m
Pr o v T hi n gs t o i n v esti g at e a n
pl atf or m
a b n or m al b e h a vi or i n a c ust o m er’s h o m e.
A s m art h o m e c us-
t o m er, Ali c e , i nst all e d s e v er al a p ps: W h e n E v e r y o n e I s A w a y ,
a n
s ets
w h e n
e v er y o n e
a p p
h as l eft
d o or
t h at s u bs cri b es t o
s et
a n d t ur ns
h as
t o A w a y .
A p p e n di x
b e e n
B
h o m e t o
f or
a
d o m ai n t o r etri e v e
a n d ti m e.
m ali ci o us
w aits u ntil e v er y o n e is a w a y, t h e n e x e c ut es t h e att a c k
T h e a p p
c o m m a n d aft er t h e s p e ci ﬁ e d ti m e.
Aft er i nst all e d t h es e a p ps,
Ali c e e nj o y e d t h e b e n e ﬁts pr o vi d e d b y h o m e a ut o m ati o ns f or
d a y, s h e
s e v er al
ar e
ﬁ n ds
st ol e n.
a
r e p ort t o
m ali ci o us
W h e n i nst all e d, t h e
a n
p a yl o a d (s e e
a p p
att a c k
A d mi n a n d r e q u ests a n i n v esti g ati o n.
w e e ks.
d o or is l eft
e m b e d d e d
d et ails).
will
p h o n e
c o m m a n d
Si n c e t h er e
h o m e
h er
b el o n gi n gs
e ntr y, s h e
a n d s o m e
of f or c e d
w h e n s h e
w h e n t h e
H o w e v er,
n o si g ns
g ets
of
o p e n
ﬁl es
wit h
o n e
h er
ar e
a
I n
w as
A PI
d a y.
k n o w
w hi c h
gr a p h
A d mi n
u n l o c k
u n l o c k
a cti vit y
or d er t o
n o d e t h at
c o m m a n d
d uri n g t h e
pr o v e n a n c e
w er e cr e at e d
w as tri g g er e d
h o w t h e d o or
B a c k w a r d Q u e r y
wit h t h e
as
c alls t h e
T h e
w as g e n er at e d i n t h e pr o v e n a n c e gr a p h.
m et h o d i n v o c ati o n
T h e n a m e of t h e d y n a mi c
o p e n e d,
us es
t h e F i n d N o d e s A PI t o g et t h e a cti viti es n o d es of
Ali c e’s fr o nt
d o or l o c k t h at
T h e
A PI r et ur ns
o n e
w as cr e at e d i n t h e aft er n o o n.
T h e n s h e
u n l o c k
a cti vit y.
A PI r et ur ns
a
s h o w n i n
Fi g ur e 1 0. F or si m pli cit y,
w e d o n ot s h o w h o w t h e p r e s e n c e
e v e nt
T h e pr o v e n a n c e
gr a p h s h o ws t h at t h e
b y a
d y n a mi c
w as i n v o k e d b y t h e a t t a c k
f u n cti o n.
a n d
w as st or e d i n t h e s t a t e . c o m m a n d gl o b al v ari a bl e t h e v al u e
it
w as d eri v e d fr o m a n
of
w hi c h
m ali ci o us
v al u e
N ot e t h at t h e
d o m ai n.
s et
w as
f u n cti o n i n
w e e ks
b ef or e it
w as
L o c k I t W h e n I L e a v e ,
b y a
m o d e c h a n g e e v e nt t h at
ti m er t h at
w as
f u n cti o n i n v o k e d
b y W h e n E v e r y o n e I s A w a y . T o u n d erst a n d t h e att a c k r a mi ﬁ c a-
ti o ns,
a t t a c k
a cti vit y. T h e r et ur n e d pr o v e n a n c e gr a p h s h o ws t h at t h e a t t a c k
f u n cti o n n ot o nl y s e nt a s h ort
m ess a g e t o a dis p os a bl e p h o n e
b ut als o
m ali ci o us sit e t o g et t h e
n e xt att a c k c o m m a n d.
H T T P r es p o ns e t o a
of
s t a t e . c o m m a n d
T h e
us e d.
h a n d,
A d mi n c alls t h e F o r w a r d Q u e r y
m a d e a n ot h er r e q u est t o t h e
ot h er
h a n dli n g a
s e t L o c a t i o n M o d e
w as tri g g er e d
w as u n l o c k
g e n er at e d
wit h t h e
a t t a c k
w as s et
b y t h e
m et h o d
o n t h e
e arli er
w hil e
A PI
A d mi n
w h e n t h e
es p e ci all y
v ul n er a bl e,
r e ali z es t h at
D uri n g t h e i n v esti g ati o n,
d y n a mi c
v al u e
m et h o d i n v o c ati o n is
us e d b y t h e d y n a mi c i n v o c ati o n
w as fr o m a n u ntr ust e d s o ur c e.
B as e d o n t h e pr o v e n a n c e gr a p h s h o w n i n Fi g ur e 1 0, s h e cr e at es
is a l a b el
a p oli c y as s h o w n i n Fi g ur e 1 1. I n t h e p oli c y, S I N K
r e pr es e nti n g si n k a cti viti es, R e f l e c t i o n r e pr es e nts a d y n a mi c
T h e p oli c y s p e ci ﬁ es t h at if a si n k
m et h o d i n v o c ati o n a cti vit y.
m et h o d i n v o c ati o n a n d t h e v al u e
w as i n v o k e d usi n g d y n a mi c
w as fr o m
e xt er n al
n otif y
A d mi n of t h e a cti vit y.
H T T P i n p ut,
Pr o v T hi n gs
will
a n
D es k St aff.
a n d f o u n d
We l o o k e d i nt o t h e c o m m u nit y/f or u ms of
H el p
w h er e
S m art T hi n gs
d e b u g gi n g
Pr o v T hi n gs
pr o bl e ms.
c o ul d
us e
Pr o v T hi n gs t o tr o u bl es h o ot pr o bl e ms f or t h eir c ust o m ers.
di a g n osi n g
D es k st aff
h el pf ul i n
H el p