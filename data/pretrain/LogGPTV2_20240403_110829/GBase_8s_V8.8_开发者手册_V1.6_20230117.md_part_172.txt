ACTION:“Checkwhetherthequerycanbeexecuted”
ERRMSG:“createWDRsnapshotdatatablefailed”
SQLSTATE:22000
CAUSE:“Systemerror.”
ACTION:“Checkwhetherthequerycanbeexecuted”
ERRMSG:“insertintotables_snap_timestampstarttimestampfailed”
SQLSTATE:22000
CAUSE:“Systemerror.”
ACTION:“Checkwhetherthequerycanbeexecuted”
ERRMSG:“insertintosnap_%sisfailed”
SQLSTATE:22000
CAUSE:“Systemerror.”
ACTION:“Checkwhetherthequerycanbeexecuted”
ERRMSG:“updatetables_snap_timestampendtimestampfailed”
SQLSTATE:22000
CAUSE:“Systemerror.”
ACTION:“Checkwhetherthequerycanbeexecuted”
ERRMSG:“createindexfailed”
SQLSTATE:22000
CAUSE:“Systemerror.”
ACTION:“Checkwhetherthequerycanbeexecuted”
ERRMSG:“analyzetable,connectionfailed:%s”
SQLSTATE:XX000
CAUSE:“Systemerror.”
南大通用数据技术股份有限公司
1479
GBase 8s V8.8开发者手册
ACTION:“Checkwhetherthesnapshotretryissuccessful”
ERRMSG:“snapshotthreadSPI_connectfailed:%s”
SQLSTATE:XX000
CAUSE:“Systemerror.”
ACTION:“Checkwhetherthesnapshotretryissuccessful”
ERRMSG:“Distributedkeycolumncan'tbetransformed”
SQLSTATE:42P10
CAUSE:“Thereisariskofviolatinguniquenesswhentransformingdistributioncolumns.”
ACTION:“Changetransformcolumn.”
ERRMSG:“cannotconvert%sto%s”
SQLSTATE:42804
CAUSE:“Thereisnoconversionpathinpg_cast.”
ACTION:“Rewriteorcasttheexpression.”
ERRMSG:“creatematviewonTDEtablefailed”
SQLSTATE:0A000
CAUSE:“creatematerializedviewsisnotsupportedonTDEtable”
ACTION:“checkCREATEsyntaxaboutcreatethematerializedviews”
ERRMSG:“schemanamecannotsameaspackage”
SQLSTATE:22023
CAUSE:“schemanameconflict”
ACTION:“renameschemaname”
ERRMSG:“UnrecognizedcommandTypewhencheckingread-onlyattribute.”
SQLSTATE:XX004
CAUSE:“Systemerror.”
南大通用数据技术股份有限公司
1480
GBase 8s V8.8开发者手册
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“Failtogeneratesubqueryplan.”
SQLSTATE:XX005
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“Unrecognizednodetypewhenprocessingqualcondition.”
SQLSTATE:XX004
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“Unrecognizednodetypewhenprocessingconstparameters.”
SQLSTATE:XX004
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“SELECTFORUPDATE/SHAREisnotallowedwith
UNION/INTERSECT/EXCEPT”
SQLSTATE:0A000
CAUSE:“SQLusesunsupportedfeature.”
ACTION:“ModifySQLstatementaccordingtothemanual.”
ERRMSG:“GROUPBYcannotbeimplemented.”
SQLSTATE:0A000
CAUSE:“GROUPBYusesunsupporteddatatypes.”
ACTION:“ModifySQLstatementaccordingtothemanual.”
ERRMSG:“TSDBfunctionscannotbeusedifenable_tsdbisoff.”
SQLSTATE:D0011
CAUSE:“Functionsarenotloaded.”
南大通用数据技术股份有限公司
1481
GBase 8s V8.8开发者手册
ACTION:“Turnonenable_tsdbaccordingtomanual.”
ERRMSG:“Unrecognizednodetypewhenextractingindex.”
SQLSTATE:XX004
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“Orderingoperatorcannotbeidentified.”
SQLSTATE:42883
CAUSE:“Groupingsetcolumnsmustbeabletosorttheirinputs.”
ACTION:“ModifySQLstatementaccordingtothemanual.”
ERRMSG:“DISTINCTcannotbeimplemented.”
SQLSTATE:0A000
CAUSE:“DISTINCTusesunsupporteddatatypes.”
ACTION:“ModifySQLstatementaccordingtothemanual.”
ERRMSG:“Failedtolocategroupingcolumns.”
SQLSTATE:55000
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“Resjunkoutputcolumnsarenotimplemented.”
SQLSTATE:20000
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“PARTITIONBYcannotbeimplemented.”
SQLSTATE:0A000
CAUSE:“PARTITIONBYusesunsupporteddatatypes.”
南大通用数据技术股份有限公司
1482
GBase 8s V8.8开发者手册
ACTION:“ModifySQLstatementaccordingtothemanual.”
ERRMSG:“ORDERBYcannotbeimplemented.”
SQLSTATE:0A000
CAUSE:“ORDERBYusesunsupporteddatatypes.”
ACTION:“ModifySQLstatementaccordingtothemanual.”
ERRMSG:“Failedtodeconstructsortoperatorsintopartitioning/orderingoperators.”
SQLSTATE:D0011
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“OBSandHDFSforeigntablecanNOTbeinthesameplan.”
SQLSTATE:XX008
CAUSE:“SQLusesunsupportedfeature.”
ACTION:“ModifySQLstatementaccordingtothemanual.”
ERRMSG:“Poolsizeshouldnotbezero”
SQLSTATE:22012
CAUSE:“Computepoolconfigurationfilecontainserror.”
ACTION:“Pleasecheckthevalueof'pl'incp_client.conf.”
ERRMSG:“Failedtogettheruntimeinfofromthecomputepool.”
SQLSTATE:22004
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“Versionisnotcompatiblebetweenlocalclusterandthecomputepool.”
SQLSTATE:XX008
CAUSE:“Computepoolisnotinstalledappropriately.”
南大通用数据技术股份有限公司
1483
GBase 8s V8.8开发者手册
ACTION:“Configurecomputepoolaccordingtomanual.”
ERRMSG:“Nooptionalindexpathisfound.”
SQLSTATE:01000
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“MERGEINTOonreplicatedtabledoesnotyetsupportusingdistributedtables.”
SQLSTATE:0A000
CAUSE:“SQLusesunsupportedfeature.”
ACTION:“ModifySQLstatementaccordingtothemanual.”
ERRMSG:“FailtofindForeignScannode!”
SQLSTATE:P0002
CAUSE:“Systemerror.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“sqladvisordon'tsupportnonetable,temptable,systemtable.”
SQLSTATE:42601
CAUSE:“sqladvisordon'tsupportnonetable,temptable,systemtable.”
ACTION:“checkquerycomponent”
ERRMSG:“Invalidautonomoustransactionreturndatatypes”
SQLSTATE:P0000
CAUSE:“PL/SQLusesunsupportedfeature.”
ACTION:“ContactHuaweiEngineer.”
ERRMSG:“newrowforrelation'%s'violatescheckconstraint'%s'”
SQLSTATE:23514
CAUSE:“somerowscopyfailed”
南大通用数据技术股份有限公司
1484
GBase 8s V8.8开发者手册
ACTION:“checktabledefination”
ERRMSG:“newrowforrelation'%s'violatescheckconstraint'%s'”
SQLSTATE:23514
CAUSE:“somerowscopyfailed”
ACTION:“setclient_min_messages=infoformoredetails”
ERRMSG:“getgausshomepathisNULL”
SQLSTATE:XX005
CAUSE:“gausshomepathnotset”
ACTION:“checkif$GAUSSHOMEisexist”
ERRMSG:“unabletoopenkms_iam_info.jsonfile”
SQLSTATE:58P03
CAUSE:“filenotexistorbroken”
ACTION:“checkthekms_iam_info.jsonfile”
ERRMSG:“cannotgetpasswordplaintext”
SQLSTATE:XX005
CAUSE:“filenotexistorbroken”
ACTION:“checkthepasswordcipherrandfile”
ERRMSG:“IAMinfojsonkeyisNULL”
SQLSTATE:XX005
CAUSE:“IAMinfovalueerror”
ACTION:“checktde_configkms_iam_info.jsonfile”
ERRMSG:“getinternalpasswordisNULL”
SQLSTATE:XX005
CAUSE:“cipherrandfilemissing”
南大通用数据技术股份有限公司
1485
GBase 8s V8.8开发者手册
ACTION:“checkpasswordcipherrandfile”
ERRMSG:“KMSinfojsonkeyisNULL”
SQLSTATE:XX005
CAUSE:“KMSinfovalueerror”
ACTION:“checktde_configkms_iam_info.jsonfile”
ERRMSG:“unabletogetjsonfile”
SQLSTATE:58P03
CAUSE:“parsejsonfilefailed”
ACTION:“checkthekms_iam_info.jsonfileformat”
ERRMSG:“getJSONtreeisNULL”
SQLSTATE:XX005
CAUSE:“getKMSJSONtreefailed”
ACTION:“checkinputprarmeterorconfig.inifile”
ERRMSG:“failedtogetjsontree”
SQLSTATE:XX005
CAUSE:“config.inijsontreeerror”
ACTION:“checkinputprarmeterorconfig.inifile”
ERRMSG:“failedtosetthevalueofjsontree”
SQLSTATE:XX005
CAUSE:“config.inijsontreeerror”
ACTION:“checkinputprarmeterorconfig.inifile”
ERRMSG:“httprequestfailed”
SQLSTATE:XX005
CAUSE:“httprequesterror”
南大通用数据技术股份有限公司
1486
GBase 8s V8.8开发者手册
ACTION:“checkKMSorIAMconnectorconfigparameter”
ERRMSG:“getiamtokenoriamagencytokenisNULL”
SQLSTATE:XX005
CAUSE:“connectIAMfailed”
ACTION:“checkifyourenvcanconnectwithIAMserver”
ERRMSG:“KMSdekjsonkeyisNULL”
SQLSTATE:XX005
CAUSE:“KMSreturnvalueerror”
ACTION:“checkKMSconfigparamenter”
ERRMSG:“getkmsdekisNULL”
SQLSTATE:XX005
CAUSE:“connectKMSfailed”
ACTION:“checkifyourenvcanconnectwithKMSserver”
ERRMSG:“gethttpheaderisNULL”
SQLSTATE:XX005
CAUSE:“httprequestfailed”
ACTION:“checkIAMconfigparameter”
ERRMSG:“createKMSdekfailed”
SQLSTATE:XX005
CAUSE:“KMSerror”
ACTION:“checkKMSconnectorconfigparameter”
ERRMSG:“getKMSdekfailed”
SQLSTATE:XX005
CAUSE:“KMSerror”
南大通用数据技术股份有限公司
1487
GBase 8s V8.8开发者手册
ACTION:“checkKMSconnectorconfigparameter”
ERRMSG:“getKMSDEKisNULL”
SQLSTATE:XX005
CAUSE:“getKMSdek_plaintextfailed”
ACTION:“checkKMSnetworkorcipherisright”
ERRMSG:“creatematviewwithTDEfailed”
SQLSTATE:0A000
CAUSE:“TDEfeatureisnotsupportedforCreatematerializedviews”
ACTION:“checkCREATEsyntaxaboutcreatethematerializedviews”
ERRMSG:“failedtoadditemtotheindexpage”
SQLSTATE:XX002
CAUSE:“Systemerror.”
ACTION:“CheckWARNINGSforthedetails.”
ERRMSG:“indexrowsize%luexceedsmaximum%luforindex'%s'”
SQLSTATE:54000
CAUSE:“Valueslargerthan1⁄3ofabufferpagecannotbeindexed.”
ACTION:“ConsiderafunctionindexofanMD5hashofthevalue,orusefulltextindexing.”
27 常见故障定位指南
27.1常见故障定位手段
27.1.1 操作系统故障定位手段
查询状态时，显示一个节点上所有实例都不正常时，可能是操作系统发生了故障。
可以通过如下方法确定操作系统是否存在问题：
南大通用数据技术股份有限公司
1488
GBase 8s V8.8开发者手册