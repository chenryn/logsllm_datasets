---
author: David Both
category: 技术
comments_data:
- date: '2017-08-24 18:49:26'
  message: 赞一个
  postip: 180.168.107.74
  username: 来自上海的 Firefox 55.0|Windows 7 用户
- date: '2017-08-24 23:18:35'
  message: 好文@！~
  postip: 14.106.132.242
  username: sunriders [Firefox 55.0|Windows 10]
- date: '2017-08-25 04:42:00'
  message: 粗看题图，还以为是个在流口水的吃豆人，简直吓尿
  postip: 58.61.233.136
  username: 来自广东广州的 Firefox 55.0|Ubuntu 用户
- date: '2017-08-28 13:25:39'
  message: SYSTEMD还是应该保留很多SYSV的配置方法。太激进不好
  postip: 111.20.112.126
  username: 来自陕西西安的 Chrome 60.0|GNU/Linux 用户
- date: '2017-08-29 07:26:12'
  message: 赞一个！
  postip: 218.18.212.96
  username: hello_linux [Chrome 51.0|Windows 7]
- date: '2017-08-31 00:11:47'
  message: 不错哦，很详细，赞一个
  postip: 1.204.12.26
  username: 张熙熙 [Firefox 55.0|Windows 10]
- date: '2017-08-31 08:35:45'
  message: "&quot;图 1 中，以 * 开头的目标态是通用的启动状态。&quot;\r\n为什么我在图1中找不到带*的内容？"
  postip: 58.61.222.32
  username: 来自广东广州的 Firefox 55.0|Ubuntu 用户
- date: '2017-08-31 15:36:24'
  message: 哦，这是一个疏漏，马上补上
  postip: 61.186.26.238
  username: linux [Chrome 60.0|Mac 10.11]
- date: '2017-09-15 11:58:19'
  message: 看不懂
  postip: 59.42.210.246
  username: 来自广东广州的 Sogou Explorer 2|Windows 7 用户
- date: '2017-09-18 08:40:58'
  message: 牛逼
  postip: 223.104.106.170
  username: ubuntu~ [Chrome Mobile 40.0|Android 6.0]
- date: '2019-05-19 21:42:55'
  message: zhendeniupi
  postip: 113.143.41.86
  username: 来自陕西宝鸡的 Chrome 73.0|Windows 10 用户
- date: '2019-05-19 21:42:59'
  message: zhendeniupi
  postip: 113.143.41.86
  username: 来自陕西宝鸡的 Chrome 73.0|Windows 10 用户
- date: '2019-05-19 21:43:03'
  message: zhendeniupi
  postip: 113.143.41.86
  username: 来自陕西宝鸡的 Chrome 73.0|Windows 10 用户
- date: '2019-05-19 21:43:03'
  message: zhendeniupi
  postip: 113.143.41.86
  username: 来自陕西宝鸡的 Chrome 73.0|Windows 10 用户
- date: '2020-04-08 14:54:28'
  message: 写的非常好，必须赞一个
  postip: 61.140.99.152
  username: 来自广东广州的 Chrome 50.0|Windows 7 用户
- date: '2020-05-20 11:12:33'
  message: 非常棒
  postip: 121.13.130.208
  username: 来自广东东莞的 Chrome 78.0|Windows 7 用户
- date: '2021-07-30 13:55:09'
  message: 看不懂，但是看起来很厉害！
  postip: 222.92.90.170
  username: 来自江苏苏州的 Chrome 92.0|Windows 10 用户
- date: '2021-08-17 11:18:49'
  message: 盗别人的网页资料，连话术和标题都一模一样，你咋这么优秀呢
  postip: 220.165.252.98
  username: 来自云南昆明的 Chrome 75.0|Windows 10 用户
- date: '2021-09-09 09:41:48'
  message: 你看懂了吗？还非常好，漏洞百出
  postip: 113.98.191.137
  username: 来自广东佛山的 Chrome 86.0|Windows 10 用户
- date: '2021-09-09 09:41:50'
  message: 你看懂了吗？还非常好，漏洞百出
  postip: 113.98.191.137
  username: 来自广东佛山的 Chrome 86.0|Windows 10 用户
- date: '2021-11-12 17:05:54'
  message: 的地方
  postip: 223.76.241.156
  username: 来自湖北的 Chrome 95.0|Windows 10 用户
- date: '2022-07-25 16:44:53'
  message: 感谢分享
  postip: 113.57.152.160
  username: 来自湖北武汉的 Chrome 93.0|GNU/Linux 用户
count:
  commentnum: 22
  favtimes: 22
  likes: 0
  sharetimes: 0
  viewnum: 100168
date: '2017-08-24 12:37:00'
editorchoice: true
excerpt: 你是否曾经对操作系统为何能够执行应用程序而感到疑惑？那么本文将为你揭开操作系统引导与启动的面纱。
fromurl: https://opensource.com/article/17/2/linux-boot-and-startup
id: 8807
islctt: true
largepic: /data/attachment/album/201708/24/123711cam1fjf4eaefajnz.jpg
permalink: /article-8807-1.html
pic: /data/attachment/album/201708/24/123711cam1fjf4eaefajnz.jpg.thumb.jpg
related: []
reviewer: ''
selector: ''
summary: 你是否曾经对操作系统为何能够执行应用程序而感到疑惑？那么本文将为你揭开操作系统引导与启动的面纱。
tags:
- Linux
- 启动
- 引导
- GRUB2
thumb: false
title: Linux 开机引导和启动过程详解
titlepic: true
translator: penghuster
updated: '2017-08-24 12:37:00'
---
> 
> 你是否曾经对操作系统为何能够执行应用程序而感到疑惑？那么本文将为你揭开操作系统引导与启动的面纱。
> 
> 
> 
![](/data/attachment/album/201708/24/123711cam1fjf4eaefajnz.jpg)
理解操作系统开机引导和启动过程对于配置操作系统和解决相关启动问题是至关重要的。该文章陈述了 [GRUB2 引导装载程序](https://en.wikipedia.org/wiki/GNU_GRUB)开机引导装载内核的过程和 [systemd 初始化系统](https://en.wikipedia.org/wiki/Systemd)执行开机启动操作系统的过程。
事实上，操作系统的启动分为两个阶段： 引导   boot 和 启动   startup 。引导阶段开始于打开电源开关，结束于内核初始化完成和 systemd 进程成功运行。启动阶段接管了剩余工作，直到操作系统进入可操作状态。
总体来说，Linux 的开机引导和启动过程是相当容易理解，下文将分节对于不同步骤进行详细说明。
* BIOS 上电自检（POST）
* 引导装载程序 (GRUB2)
* 内核初始化
* 启动 systemd，其是所有进程之父。
注意，本文以 GRUB2 和 systemd 为载体讲述操作系统的开机引导和启动过程，是因为这二者是目前主流的 linux 发行版本所使用的引导装载程序和初始化软件。当然另外一些过去使用的相关软件仍然在一些 Linux 发行版本中使用。
### 引导过程
引导过程能以两种方式之一初始化。其一，如果系统处于关机状态，那么打开电源按钮将开启系统引导过程。其二，如果操作系统已经运行在一个本地用户（该用户可以是 root 或其他非特权用户），那么用户可以借助图形界面或命令行界面通过编程方式发起一个重启操作，从而触发系统引导过程。重启包括了一个关机和重新开始的操作。
#### BIOS 上电自检（POST）
上电自检过程中其实 Linux 没有什么也没做，上电自检主要由硬件的部分来完成，这对于所有操作系统都一样。当电脑接通电源，电脑开始执行 BIOS（ 基本输入输出系统   Basic I/O System ）的 POST（ 上电自检   Power On Self Test ）过程。
在 1981 年，IBM 设计的第一台个人电脑中，BIOS 被设计为用来初始化硬件组件。POST 作为 BIOS 的组成部分，用于检验电脑硬件基本功能是否正常。如果 POST 失败，那么这个电脑就不能使用，引导过程也将就此中断。
BIOS 上电自检确认硬件的基本功能正常，然后产生一个 BIOS [中断](https://en.wikipedia.org/wiki/BIOS_interrupt_call) INT 13H，该中断指向某个接入的可引导设备的引导扇区。它所找到的包含有效的引导记录的第一个引导扇区将被装载到内存中，并且控制权也将从引导扇区转移到此段代码。
引导扇区是引导加载器真正的第一阶段。大多数 Linux 发行版本使用的引导加载器有三种：GRUB、GRUB2 和 LILO。GRUB2 是最新的，也是相对于其他老的同类程序使用最广泛的。
#### GRUB2
GRUB2 全称是 GRand Unified BootLoader，Version 2（第二版大一统引导装载程序）。它是目前流行的大部分 Linux 发行版本的主要引导加载程序。GRUB2 是一个用于计算机寻找操作系统内核并加载其到内存的智能程序。由于 GRUB 这个单词比 GRUB2 更易于书写和阅读，在下文中，除特殊指明以外，GRUB 将代指 GRUB2。
GRUB 被设计为兼容操作系统[多重引导规范](https://en.wikipedia.org/wiki/Multiboot_Specification)，它能够用来引导不同版本的 Linux 和其他的开源操作系统；它还能链式加载专有操作系统的引导记录。
GRUB 允许用户从任何给定的 Linux 发行版本的几个不同内核中选择一个进行引导。这个特性使得操作系统，在因为关键软件不兼容或其它某些原因升级失败时，具备引导到先前版本的内核的能力。GRUB 能够通过文件 `/boot/grub/grub.conf` 进行配置。（LCTT 译注：此处指 GRUB1）