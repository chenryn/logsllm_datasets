# OCR Output
## Page 1
重视大脑的学习指南
Head First
设计模式
（中文版）
学习为何朋友们
避免一些
对工厂模式
尴尬的
的认知
耦合错误
可能有错
把事关紧要的模式
直接装入脑海里
发掘模式大师
的秘密
瞧瞧Jim
为何拒绝继承后
探究星巴兹咖啡
改善了爱情生活
如何以装饰者模式
让自己的股价翻倍
EricFreeman&ElisabethFreeman
OREILLY
中国电力出版社
withKathy Sierra&Bert Bates著
O'ReillyTaiwan公司译
IIMLChina改编
---
## Page 2
HeadFirst设计模式（中文版）
我昨天收到了这本书后就开始
Software Development/Java
读我简直欲罢不能。这真是
你不想重新发明轮子（或者更差的是，漏气的轮子），所以你从设计
太酷了！不但有趣，涵盖面广，而
模式中寻求协助一设计模式是过去人们面对同样的软件设计问题所学
且切中要点。这本书让我感到印
象深刻。
来的经验。有了设计模式，你就可以利用他人实践经验的精华，省下的
时间可以用在其他的事情上，一些更有挑战性的事情、更复杂的事
ErichGamma,
情、更有趣的事情。你想要学习：
IBM杰出工程师
《设计模式》作者之一
·事关紧要的模式
·何时使用某个模式，为何使用该模式
我感到读这本书的效果等同于
·如何在自己的设计中马上采用这些模式
读一千磅重的同类书的效果。”
·何时不该使用模式（如何避免对模式过度狂热）
Ward Cunningham,
·模式是基于哪些面向对象设计原则而设计出来的
Wiki发明者、
HillsideGroup创始人
更重要的是，你在学习设计模式的过程中不会感到昏昏欲睡。如果你曾
经读过任何一本HeadFirst系列书籍，就知道你能够从本书中得到的是：
本书趋近完美，因为它在提供
透过丰富的视觉效果让你的大脑充分地工作。本书的编写运用了许多最
专业知识的同时，仍然具有相当
新的研究，包括神经生物学、认知科学，以及学习理论，这使得这本书
高的可读性。口吻权威、阅读轻
能将这些设计模式深深地烙在你的脑海中，不容易被遗忘。你将更擅长
松。“
于解决软件设计中的问题，并能够和你的团队成员用模式的术语沟通。
DavidGelernter,
EricFreeman和ElisabethFreeman是作家、讲师，以及技术顾问。原本
耶鲁大学计算机科学系教授
在迪士尼公司领导了四年的数字媒体，以及Internet的开发，后来，他们
将这些经验应用在他们自己的媒体中，包括本书。Eric具有耶鲁大学的
计算机科学博士学位，Elisabeth具有耶鲁大学的计算机科学硕士学位。
这是我阅读过的最有趣且最聪
明的软件设计书籍之一。
Kathy Sierra（javaranch.com的创始者）和
AaronLaBerge,
BertBates是畅销的HeadFirst系列书籍的
ESPN.com技术副主席
创立者，也是Sun公司Java开发员认证考试
的开发者。
本书荣获2005年第十五届Jolt
通用类图书震撼大奖。
ISBN978-7-5083-5393-7
O'REILLY
www.oreilly.com
9787508353937>
定价：98.00元
OReillyMedia，Inc.投权中国电力出版社出版
---
## Page 3
TP311.5/195
2007
HeadFirst设计模式
（中文版）
如累有一本设计模式书，读
起来比希牙医更有趣，内容比国
税局表单更容易理解那该多好啊！
这可能只是个梦想吧·
Eric Freeman,
ElisabethFreeman,
KathySierra&e
BertBates著
OReillyTaiwan公司译
UMLChina改编
好
O'REILLY
O'ReillyMedia，Inc.授权中国电力出版社出版
中国电力出版社
---
## Page 4
图书在版编目（CIP）数据
HeadFirst设计模式（中文版）／（美）弗里曼（Freeman，E.）等著：O'ReillyTaiwan公司译，
UMLChina改编-北京：中国电力出版社，2007
书名原文：HeadFirst Design Pattern
ISBN 978-7-5083-5393-7
I.H...II.①弗...②O...③U...III.软件设计IV.TP311.5
中国版本图书馆CIP数据核字（2007）第031335号
北京版权局著作权合同登记
图字：10-2005-5994号
2004 by O'Reilly Media, Inc.
Simplified Chinese Edition, jointly published by O'Reilly Media, Inc. and China Electric Power Press,
2007. Authorizcd translation of the English edition, 2004 O'Reilly Media, Inc., the owner of all rights
to publish and sell the same.
All rights reserved including the rights of reproduction in whole or in part in any form.
英文原版由O'ReillyMedia，Inc.出版2004。
简体中文版由中国电力出版社出版，2007。英文原版的翻译得到O'ReillyMedia,Inc.的授权。此简
体中文版的出版和销售得到出版权和销售权的所有者一—O'ReillyMedia，Inc.的许可。
版权所有，未得书面许可，本书的任何部分和全部不得以任何形式重制。
书
名/
HeadFirst设计模式（中文版）
牛
/各
ISBN 978-7-5083-5393-7
责任编辑/
胡顺增，张曼
封面设计/
Ellie Volckhausen，张健
出版发行/
中国电力出版社（www.infopower.com.cn）
地
址/
北京三里河路6号（邮政编码100044）
印
刷/
北京盛通印刷股份有限公司
开
本/
787毫米×980毫米16开本42.5印张928千字
版
次/
2007年9月第1版2007年9月第1次印刷
印
数/
000S-1000
定
价/
98.00元（册）
敬告读者
本书封面贴有防伪标签，加热后中心图案消失。
本书如有印装质量问题，我社发行部负责退换。
版权所有翻印必究
---
## Page 5
O'ReillyMedia，Inc.介绍
为了满足读者对网络和软件技术知识的道切需求，世界著名计算机图书出版机构
O'ReillyMedia，Inc.授权中国电力出版社，翻译出版一批该公司久负盛名的英文经
典技术专著。
O'ReillyMedia，Inc.是世界上在Unix、X、Internet和其他并放系统图书领域具有领
导地位的出版公司，同时也是联机出版的先锋。
从最畅销的《TheWholeInternetUser'sGuide&Catalog》（被纽约公共图书馆评为
二十世纪最重要的50本书之一）到GNN（最早的Internet门户和商业网站），再到
WebSite（第一个桌面PC的Web服务器软件），O'ReillyMedia，Inc.一直处于Internet
发展的最前沿。
许多书店的反馈表明，O'ReillyMedia，Inc.是最稳定的计算机图书出版商一一每一
本书都一版再版。与大多数计算机图书出版商相比，O'ReillyMedia，Inc.具有深厚
的计算机专业背景，这使得O'ReillyMedia.Inc.形成了一个非常不同于其他出版商
的出版方针。O'ReillyMedia，Inc.所有的编辑人员以前都是程序员，或者是顶尖级
的技术专家。O'ReillyMedia，Inc.还有许多固定的作者群体一他们本身是相关领
域的技术专家、咨询专家，而现在编写著作，O'ReillyMedia，Inc.依靠他们及时地
推出图书。因为O'ReillyMedia，Inc.紧密地与计算机业界联系着，所以O'Reilly
Media，Inc.知道市场上真正需要什么图书。
PDG
---
## Page 6
译者序
设计模式（DesignPattern）很重要，不需要我多说。你瞧，程序员儿乎人手一本四人组（Erich
Gamma、RichardHelm、Ralph Johnson、JohnVlissides）所著的《设计模式》。打个比喻：信耶
稣的人都要读圣经，而信OO的人都要读四人组的《设计模式》，这就是OO的圣经。更有趣的
是，有人还不只买这本书的原版书、连它的光盘版、和中译本也一并买了收藏，可见这是一本多
么受到重视的书。我打探过这本书的销售量，它畅销的程度令人咋舌。
许多人反映，四人组的《设计模式》不容易阅读。对于不容易阅读的书，会有已经悟道的人写出
白话版或注释版，以飨后进。所以圣经和佛经都有注释版，用更白的方式阐述其中的道理，而我
认为《HeadFirst设计模式》也是因应这样的需求而产生，它可以被视为是白话版、搞笑版、漫
画版的《设计模式》。《HeadFirst设计模式》比起《设计模式》好读得多了，内容也相当有趣。
相信我，要写出这样的一本书绝对比写一本正儿八经的书难上许多，可见作者煞费苦心。作者的
用心换来空前的成功。《HeadFirst设计模式》得到相当正面的读者响应，连《设计模式》原创
者ErichGamma也概然为《HeadFirst设计模式》写一段推荐文来“作保证”。《HeadFirst设计
模式》还得到2005年的JoltAward大奖，风光至极。
本书大纲
本书共有14章，每章都介绍了几个设计模式，完整地涵盖了四人组版本全部23个设计模式。前
言先介绍这本书的用法：第1章到第11章陆续介绍的设计模式为Strategy、Observer、Decorator、
Abstract Factory、Factory Method、Singlcton、Command、Adapter、Facade、Template
Method、Iterator、Composite、State、Proxy。最后三章比较特别。第12章介绍如何将两个以上
的设计模式结合起来成为新的设计模式（例如著名的MVC模式），作者称其为复合设计模式
（这是作者自创的名称，并非四人组的标准名词），第13章介绍如何进一步学习设计模式，如何
发觉新的设计模式等主题，至于第14章则很快地浏览尚未介绍的设计模式，包括Bridge、Builder、
Chain of Responsibility、Flyweight、Interpreter、Mediator、Memento、Prototype.Visitor。
第1章还介绍了四个00基本概念（抽象、封装、继承、多态），而第1章到第9章也陆续介绍了
九个OO原则（Principle）。千万不要轻视这些OO原则，因为每个设计模式背后都包含了儿个OO
原则的概念。很多时候，在设计时有两难的情况，这时候我们必须回归到00原则，以方便判断
取舍。可以这么说：OO原则是我们的目标，而设计模式是我们的做法。
---
## Page 7
本书特色
强大的写作阵容。本书作者EricFreeman和ElisabethFreeman是作家、讲师和技术
顾问。Eric拥有耶鲁大学的计算机科学博士学位，Elisabath拥有耶鲁大学的计算机
科学硕士学位。KathySierra（javaranch.com的创始人）和BertBates是畅销的Head
First系列书籍的创立者，也是Sun公司Java开发员认证考试的开发者。
本书的产品设计应用神经生物学、认知科学，以及学习理论，这使得这本书能够将
这些知识深深地印在你的脑海里，不容易被遗忘。本书的编写方式采用引导式教
学，不直接告诉你该怎么做，而是利用故事当作引子，带领读者思考并想办法解决
问题。解决问题的过程中又会产生一些新的问题，再继续思考、继续解决问题，这
样可以加深体会。作者以大量的生活化故事当背景，例如第1章是鸭子，第2章是气
象站，第3章是咖啡店，书中搭配大量的插图（几乎每一页都有图），所以阅读起
来生动有趣，不会感觉到昏昏欲睡。作者还利用歪歪斜斜的手写字体，增加“现场
感”。精心设计许多爆笑的对白，让学习过程不会太枯燥。还有模式告白节目，将
设计模式拟人化成节目来宾，畅谈其内在的一切。
本书人量采用UML的Class Diagram（Static Structure Diagram）。书中的例子程序
虽然都是用Java编写，但是本书所介绍的内容对于任何OO语言的用户都适用，包
括C++和C#。每一章都有数目不等的测验题。每章最后有一页要点整理，这也是精
华所在，我都是利用这-页做复习。
我认为，这本书的作者全都是“变态”！唔，我是说，好的那种“变态”。毕竞要
把这么枯燥的主题写得这么有趣而学习效果又好，不是“变态”的作者还真是做不
PDG
---
## Page 8
《HeadFirst设计模式》的作者/开发者
ElisabethFreeman
Eric Freeman
Eric是一个计算机科学家，热衷于软件架构和媒体。
他刚刚花了四年的时间在一个梦寐以求的工作上：在
迪士尼指导Internet宽带与无线应用。现在，他回到写
Elisabeth是作者、软件开发人员及数字艺术家。
她很早就开始进行Internet相关的研究，也是Ada
作的岗位上，用Java和Mac创造很酷的软件。
Project的共同发起人（AdaProject是一个针对在在90年代，Eric和DavidGelernter一起花了大量的时间，
计算机界工作的女性而设计的网站，曾获得大奖，寻找Desktopmetaphor的替代品。（他们“仍然”在
现在已经并入ACM）。最近她带领迪土尼的数字问：我干嘛不得不给计算机文件取个名字）。也因为
媒体研发力量与他人共同发明了一个名为Motion这样的研究，Eric在1997年获得耶鲁大学的博士学位。
的内容系统，此系统每天传送巨量的数字内容给他也与他人一同创立了MirrorWorldsTechnologies公司
迪士尼、ESPN及Movies.com的用户。
（已经被收购），将他的论文内容商业化，创建了一套
软件Lifestreams。
Elisabeth本质上是一个计算机科学家，拥有耶鲁
的工作领域很广，包括视觉语言、RSS内容整合《JavaSpacesPrinciplesPatterns and Practice》这本书得
与Internet系统。她也很积极提倡女性从事计算机知他的名号。他曾在Thinking MachineCM-5上实现了
工作。今天，你可以发现她在她的Mac上使用Java元组空间系统（tuple-space system），也在80年代末
或Cocoa，但是其实，她最希望的是全世界都使用期为NASA创建了第一个Internet信息系统，他为此深
Scheme。从小在苏格兰长大，Elisabeth喜欢在大感自豪。
离手。她热爱骑单车，是个素食主义者，也很喜
时，他总是花更多时间摆弄他的家庭影院，而不是观
欢动物。
看影片，他利用空档时间试着修复80年代的经典视频游
她的电子邮件信箱是PI:EMAIL，你
戏DragonLair。他也不介意在晚上兼差当个电音DJ。
可以发电子邮件给她。
给他的E-mail可以写到PI:EMAIL，你也可
以去参观他的Blog，网址在http://www.ericfreeman.com。
x
---
## Page 9
HeadFirst系列的创立者（以及本书共同策划者）
Kathy Sierra
Bert Bates
Kathy自从开始设计游戏以来（她为Virgin、MGM、
Amblin等都编写过游戏），一直对学习理论很感兴
Bert很早就是一位软件开发者和建构师，不过由于
趣。HeadFirst系列的大多数格式都出自她的手，具
在人工智能领域有近十年的经历，使得他对学习理
体来说，都是她在为UCLAExtension（加利福尼亚
论和基于技术的培训发生了兴趣。从那以后，他一
大学洛杉矶分校）的“EntertainmentStudies”研究
直在教客户学习编程。最近，他成为Sun的Java认证
项目教授“NewMediaAuthoring”（新媒体创作）
考试开发小组的一员。
课程时完成的。最近，她成为Sun公司的一名高级
培训人员，负责教Sun的Java讲师如何讲授最新的
在他软件生涯的最初十年，他全世界游历，向
Java技术，并参与开发了多个Sun的认证考试，其中
Radio New Zealand、Weather Channel和Arts&
就包括SCBCD考试。与BertBates一道，她积极地
EntertaininentNetwork(A&E）这样一些客户提供帮
使用HeadFirst概念来教成千上万的开发人员。她还
助。他最得意的项目是为UnionPacificRailroad构建
是世界上最大的Java群体网站javeranch.com的创始
了一个全轨系统仿真应用。
人之一，这家网站赢得了2003年和2004年《软件开
长久以来，Bert一直是无可救药的围棋玩家，玩围
发》杂志生产力大奖。有时你还会看到她在JavaJam
棋的时间已经长得超乎想象。他的吉他弹得不错，
Geek Cruise（geekcruises.com）给学生上Java认证课
程。
现在更意图染指Banjo（五弦琴或称斑鸠琴）。
她最近从加州搬到了科罗拉多，在这里，她得学习
你可以在Javaranch.com找到他，或者在1GS
一些新的词汇，包括“刨冰机”、“羊绒大衣”（译
goServer上找到他。你也可以通过terrapin@
注），但是在这里的字典里找不到闪电两个字。
wickedlysmart.com给他写信。
喜欢的事：跑步、滑雪、滑板、和她养的冰岛马玩、
以及怪力乱神的玩意儿。不喜欢：Entropy（混乱）。
你可以在javaranch.com找到她，偶而她也会出现
在java.net的blog中。写给她的信可以寄到kathy@
wickedlysmart.com。
译注：加州会打雷，科罗拉多州会下雪。
xi
---
## Page 10
如何使用这本书
引子
真是无法相信，这样
一些东西也能放在一本
设计模式书里！
这本书适合你竭？
这本书适合任何买得
送礼自用两相
有一个问题真是听得我们耳杂都磨出强了，这就是：“你们为
什么要把这样一些东西放在一本设计模式书里呢？”这一节正
PDG
是要回答这个问题。
xxvii
---
## Page 11
如何使用这本书
谁适合读这本书？
如果对下面的所有问题你都能肯定地回答“是”：
如果你全C#可能
①你懂Java吗？（不过不要求精通。）
也可以。
②你想学习、了解、记得并应用设计模式，以及其所基于
的OO设计原则吗？
③你是不是更喜欢一种轻松的氛围，就像在餐桌上交谈一样，
而不愿意被动地听技术报告似的枯燥乏味的说教？
那么，本书正是你需要的。
谁暂时还不适合读这本书？
如果对下面任何一个问题你能回答“是”：
①你是不是对Java一无所知？
（你不需要是高手，甚至你只会C#但不会Java也
没关系，因为两者的相似度是80%。如果你只有