::: para
本​​​​​​​文​​​​​​​档​​​​​​​的​​​​​​​以​​​​​​​下​​​​​​​内​​​​​​​容​​​​​​​对​​​​​​​在​​​​​​​ LVM 中​​​​​​​实​​​​​​​施​​​​​​​这​​​​​​​些​​​​​​​特​​​​​​​性​​​​​​​进​​​​​​​行​​​​​​​了​​​​​​​论​​​​​​​述​​​​​​​。​​​​​​​
:::
:::
::: section
::: titlepage
# [⁠]{#LVM_overview.html#LVM_definition}1.2. LVM 构​​​​​​​架​​​​​​​总​​​​​​​览​​​​​​​ {.title}
:::
[]{#LVM_overview.html#idm139761019251984
.indexterm}[]{#LVM_overview.html#idm139761018674576
.indexterm}[]{#LVM_overview.html#idm139761027029440
.indexterm}[]{#LVM_overview.html#idm139761027028480 .indexterm}
::: para
在​​​​​​​ Linux 操​​​​​​​作​​​​​​​系​​​​​​​统​​​​​​​的​​​​​​​ RHEL 4 中​​​​​​​，LVM2 替​​​​​​​换​​​​​​​了​​​​​​​原​​​​​​​来​​​​​​​的​​​​​​​ LVM1 逻​​​​​​​辑​​​​​​​卷​​​​​​​管​​​​​​​理​​​​​​​器​​​​​​​，LVM2
比​​​​​​​ LVM1 内​​​​​​​核​​​​​​​架​​​​​​​构​​​​​​​更​​​​​​​具​​​​​​​普​​​​​​​遍​​​​​​​性​​​​​​​。​​​​​​​它​​​​​​​相​​​​​​​对​​​​​​​ LVM1 来​​​​​​​说​​​​​​​有​​​​​​​如​​​​​​​下​​​​​​​改​​​​​​​进​​​​​​​：
:::
::: {.itemizedlist xmlns:d="http://docbook.org/ns/docbook"}
-   ::: para
    灵​​​​​​​活​​​​​​​的​​​​​​​容​​​​​​​量​​​​​​​
    :::
-   ::: para
    更​​​​​​​有​​​​​​​效​​​​​​​的​​​​​​​元​​​​​​​数​​​​​​​据​​​​​​​存​​​​​​​储​​​​​​​
    :::
-   ::: para
    更​​​​​​​好​​​​​​​的​​​​​​​修​​​​​​​复​​​​​​​格​​​​​​​式​​​​​​​
    :::
-   ::: para
    新​​​​​​​的​​​​​​​ ASCII 元​​​​​​​数​​​​​​​据​​​​​​​格​​​​​​​式​​​​​​​
    :::
-   ::: para
    元​​​​​​​数​​​​​​​据​​​​​​​微​​​​​​​调​​​​​​​
    :::
-   ::: para
    元​​​​​​​数​​​​​​​据​​​​​​​冗​​​​​​​余​​​​​​​副​​​​​​​本​​​​​​​
    :::
:::
::: para
LVM2 可​​​​​​​向​​​​​​​下​​​​​​​兼​​​​​​​容​​​​​​​ LVM1，但​​​​​​​不​​​​​​​支​​​​​​​持​​​​​​​ LVM1 的​​​​​​​快​​​​​​​照​​​​​​​和​​​​​​​群​​​​​​​集​​​​​​​。​​​​​​​您​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​
`vgconvert`{.command} 命​​​​​​​令​​​​​​​将​​​​​​​卷​​​​​​​组​​​​​​​从​​​​​​​ LVM1 格​​​​​​​式​​​​​​​转​​​​​​​换​​​​​​​成​​​​​​​ LVM2 格​​​​​​​式​​​​​​​。​​​​​​​有​​​​​​​关​​​​​​​转​​​​​​​换​​​​​​​
LVM 元​​​​​​​数​​​​​​​据​​​​​​​格​​​​​​​式​​​​​​​的​​​​​​​详​​​​​​​情​​​​​​​请​​​​​​​参​​​​​​​考​​​​​​​ `vgconvert`{.command}(8) man page。​​​​​​​
:::
::: para
LVM
逻​​​​​​​辑​​​​​​​卷​​​​​​​的​​​​​​​基​​​​​​​本​​​​​​​物​​​​​​​理​​​​​​​存​​​​​​​储​​​​​​​单​​​​​​​元​​​​​​​是​​​​​​​块​​​​​​​设​​​​​​​备​​​​​​​，比​​​​​​​如​​​​​​​分​​​​​​​区​​​​​​​或​​​​​​​者​​​​​​​整​​​​​​​个​​​​​​​磁​​​​​​​盘​​​​​​​。​​​​​​​这​​​​​​​个​​​​​​​设​​​​​​​备​​​​​​​是​​​​​​​作​​​​​​​为​​​​​​​
LVM [*物​​​​​​​理​​​​​​​卷​​​​​​​*]{.emphasis}（PV）进​​​​​​​行​​​​​​​初​​​​​​​始​​​​​​​化​​​​​​​的​​​​​​​。​​​​​​​
:::
::: para
要​​​​​​​创​​​​​​​建​​​​​​​一​​​​​​​个​​​​​​​ LVM
逻​​​​​​​辑​​​​​​​卷​​​​​​​，就​​​​​​​要​​​​​​​将​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​合​​​​​​​并​​​​​​​到​​​​​​​[*卷​​​​​​​组​​​​​​​*]{.emphasis}（VG）中​​​​​​​。​​​​​​​这​​​​​​​就​​​​​​​生​​​​​​​成​​​​​​​了​​​​​​​磁​​​​​​​盘​​​​​​​空​​​​​​​间​​​​​​​池​​​​​​​，用​​​​​​​它​​​​​​​可​​​​​​​分​​​​​​​配​​​​​​​
LVM
逻​​​​​​​辑​​​​​​​卷​​​​​​​（LV）。​​​​​​​这​​​​​​​个​​​​​​​过​​​​​​​程​​​​​​​和​​​​​​​将​​​​​​​磁​​​​​​​盘​​​​​​​分​​​​​​​区​​​​​​​的​​​​​​​过​​​​​​​程​​​​​​​类​​​​​​​似​​​​​​​。​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​由​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​和​​​​​​​应​​​​​​​用​​​​​​​程​​​​​​​序​​​​​​​（比​​​​​​​如​​​​​​​数​​​​​​​据​​​​​​​库​​​​​​​）使​​​​​​​用​​​​​​​。​​​​​​​
:::
[]{#LVM_overview.html#idm139761083165360 .indexterm}
::: para
[图 1.1 "LVM Logical Volume
Components"](#LVM_overview.html#basic_lvm_volume){.xref} shows the
components of a simple LVM logical volume:
:::
::: figure
[⁠]{#LVM_overview.html#basic_lvm_volume}
::: figure-contents
::: mediaobject
![LVM Logical Volume Components](images/overview/basic-lvm-volume.png)
:::
:::
**图 1.1. LVM Logical Volume Components**
:::
::: para
For detailed information on the components of an LVM logical volume, see
[第 2 章 *LVM 组​​​​​​​成​​​​​​​*](#LVM_components.html){.xref}.
:::
:::
::: section
::: titlepage
# [⁠]{#LVM_overview.html#LVM_Cluster_Overview}1.3. 群​​​​​​​集​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​管​​​​​​​理​​​​​​​器​​​​​​​（CLVM） {.title}
:::
[]{#LVM_overview.html#idm139761062480576
.indexterm}[]{#LVM_overview.html#idm139761062479136
.indexterm}[]{#LVM_overview.html#idm139761062477696 .indexterm}
::: para
群​​​​​​​集​​​​​​​的​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​过​​​​​​​滤​​​​​​​器​​​​​​​（CLVM）是​​​​​​​ LVM
的​​​​​​​一​​​​​​​组​​​​​​​群​​​​​​​集​​​​​​​的​​​​​​​扩​​​​​​​展​​​​​​​。​​​​​​​这​​​​​​​些​​​​​​​扩​​​​​​​展​​​​​​​允​​​​​​​许​​​​​​​计​​​​​​​算​​​​​​​机​​​​​​​群​​​​​​​集​​​​​​​使​​​​​​​用​​​​​​​ LVM 管​​​​​​​理​​​​​​​共​​​​​​​享​​​​​​​存​​​​​​​储​​​​​​​（例​​​​​​​如​​​​​​​：在​​​​​​​
SAN 中​​​​​​​）。​​​​​​​
:::
::: para
您​​​​​​​是​​​​​​​否​​​​​​​应​​​​​​​该​​​​​​​使​​​​​​​用​​​​​​​ CLVM 取​​​​​​​决​​​​​​​于​​​​​​​您​​​​​​​的​​​​​​​系​​​​​​​统​​​​​​​要​​​​​​​求​​​​​​​：
:::
::: {.itemizedlist xmlns:d="http://docbook.org/ns/docbook"}
-   ::: para
    如​​​​​​​果​​​​​​​您​​​​​​​的​​​​​​​系​​​​​​​统​​​​​​​中​​​​​​​只​​​​​​​有​​​​​​​一​​​​​​​个​​​​​​​节​​​​​​​点​​​​​​​需​​​​​​​要​​​​​​​访​​​​​​​问​​​​​​​您​​​​​​​正​​​​​​​在​​​​​​​将​​​​​​​其​​​​​​​配​​​​​​​置​​​​​​​为​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​的​​​​​​​存​​​​​​​储​​​​​​​，那​​​​​​​么​​​​​​​您​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​
    LVM 而​​​​​​​不​​​​​​​是​​​​​​​ LVM
    扩​​​​​​​展​​​​​​​，且​​​​​​​在​​​​​​​该​​​​​​​节​​​​​​​点​​​​​​​中​​​​​​​生​​​​​​​成​​​​​​​的​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​对​​​​​​​该​​​​​​​节​​​​​​​点​​​​​​​来​​​​​​​说​​​​​​​都​​​​​​​是​​​​​​​本​​​​​​​地​​​​​​​的​​​​​​​。​​​​​​​
    :::
-   ::: para
    如​​​​​​​果​​​​​​​您​​​​​​​正​​​​​​​在​​​​​​​使​​​​​​​用​​​​​​​群​​​​​​​集​​​​​​​的​​​​​​​系​​​​​​​统​​​​​​​进​​​​​​​行​​​​​​​故​​​​​​​障​​​​​​​切​​​​​​​换​​​​​​​，其​​​​​​​中​​​​​​​在​​​​​​​任​​​​​​​意​​​​​​​时​​​​​​​间​​​​​​​只​​​​​​​有​​​​​​​那​​​​​​​个​​​​​​​访​​​​​​​问​​​​​​​该​​​​​​​存​​​​​​​储​​​​​​​的​​​​​​​单​​​​​​​一​​​​​​​节​​​​​​​点​​​​​​​是​​​​​​​活​​​​​​​跃​​​​​​​的​​​​​​​，您​​​​​​​应​​​​​​​该​​​​​​​使​​​​​​​用​​​​​​​高​​​​​​​性​​​​​​​能​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​管​​​​​​​理​​​​​​​代​​​​​​​理​​​​​​​（HA-LVM）。​​​​​​​有​​​​​​​关​​​​​​​
    HA-LVM 的​​​​​​​详​​​​​​​情​​​​​​​请​​​​​​​参​​​​​​​考​​​​​​​*《​​​​​​​配​​​​​​​置​​​​​​​和​​​​​​​管​​​​​​​理​​​​​​​红​​​​​​​帽​​​​​​​群​​​​​​​集​​​​​​​》​​​​​​​*。​​​​​​​
    :::
-   ::: para
    如​​​​​​​果​​​​​​​您​​​​​​​的​​​​​​​群​​​​​​​集​​​​​​​中​​​​​​​有​​​​​​​一​​​​​​​个​​​​​​​以​​​​​​​上​​​​​​​的​​​​​​​节​​​​​​​点​​​​​​​需​​​​​​​要​​​​​​​访​​​​​​​问​​​​​​​您​​​​​​​的​​​​​​​存​​​​​​​储​​​​​​​，那​​​​​​​么​​​​​​​该​​​​​​​存​​​​​​​储​​​​​​​会​​​​​​​在​​​​​​​所​​​​​​​有​​​​​​​活​​​​​​​跃​​​​​​​的​​​​​​​节​​​​​​​点​​​​​​​间​​​​​​​共​​​​​​​享​​​​​​​，则​​​​​​​您​​​​​​​必​​​​​​​须​​​​​​​使​​​​​​​用​​​​​​​
    CLVM。​​​​​​​CLVM
    允​​​​​​​许​​​​​​​用​​​​​​​户​​​​​​​通​​​​​​​过​​​​​​​在​​​​​​​配​​​​​​​置​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​时​​​​​​​锁​​​​​​​定​​​​​​​对​​​​​​​物​​​​​​​理​​​​​​​存​​​​​​​储​​​​​​​的​​​​​​​访​​​​​​​问​​​​​​​来​​​​​​​在​​​​​​​共​​​​​​​享​​​​​​​存​​​​​​​储​​​​​​​中​​​​​​​配​​​​​​​置​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​，并​​​​​​​使​​​​​​​用​​​​​​​群​​​​​​​集​​​​​​​的​​​​​​​锁​​​​​​​定​​​​​​​服​​​​​​​务​​​​​​​管​​​​​​​理​​​​​​​共​​​​​​​享​​​​​​​存​​​​​​​储​​​​​​​。​​​​​​​
    :::
:::
[]{#LVM_overview.html#idm139761087220064 .indexterm}
::: para
要​​​​​​​使​​​​​​​用​​​​​​​ CLVM，则​​​​​​​必​​​​​​​须​​​​​​​运​​​​​​​行​​​​​​​红​​​​​​​帽​​​​​​​群​​​​​​​集​​​​​​​套​​​​​​​件​​​​​​​软​​​​​​​件​​​​​​​，其​​​​​​​中​​​​​​​包​​​​​​​括​​​​​​​ `clmvd`{.command}
守​​​​​​​护​​​​​​​进​​​​​​​程​​​​​​​。​​​​​​​`clvmd`{.command} 守​​​​​​​护​​​​​​​进​​​​​​​程​​​​​​​是​​​​​​​ LVM
的​​​​​​​关​​​​​​​键​​​​​​​群​​​​​​​集​​​​​​​扩​​​​​​​展​​​​​​​。​​​​​​​`clvmd`{.command} 在​​​​​​​每​​​​​​​个​​​​​​​群​​​​​​​集​​​​​​​计​​​​​​​算​​​​​​​机​​​​​​​中​​​​​​​运​​​​​​​行​​​​​​​，并​​​​​​​在​​​​​​​群​​​​​​​集​​​​​​​中​​​​​​​发​​​​​​​布​​​​​​​
LVM
元​​​​​​​数​​​​​​​据​​​​​​​更​​​​​​​新​​​​​​​，用​​​​​​​相​​​​​​​同​​​​​​​的​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​视​​​​​​​图​​​​​​​来​​​​​​​显​​​​​​​示​​​​​​​每​​​​​​​个​​​​​​​群​​​​​​​集​​​​​​​计​​​​​​​算​​​​​​​机​​​​​​​。​​​​​​​有​​​​​​​关​​​​​​​安​​​​​​​装​​​​​​​和​​​​​​​管​​​​​​​理​​​​​​​红​​​​​​​帽​​​​​​​群​​​​​​​集​​​​​​​套​​​​​​​件​​​​​​​的​​​​​​​详​​​​​​​情​​​​​​​请​​​​​​​参​​​​​​​考​​​​​​​*《​​​​​​​配​​​​​​​置​​​​​​​和​​​​​​​管​​​​​​​理​​​​​​​红​​​​​​​帽​​​​​​​群​​​​​​​集​​​​​​​》​​​​​​​*。​​​​​​​
:::
::: para
要​​​​​​​确​​​​​​​定​​​​​​​在​​​​​​​引​​​​​​​导​​​​​​​时​​​​​​​启​​​​​​​动​​​​​​​了​​​​​​​ `clmvd`{.command}，您​​​​​​​可​​​​​​​对​​​​​​​ `clmvd`{.command}
服​​​​​​​务​​​​​​​执​​​​​​​行​​​​​​​ `chkconfig ... on`{.command} 命​​​​​​​令​​​​​​​，如​​​​​​​下​​​​​​​：
:::
``` screen
# chkconfig clvmd on
```
::: para
如​​​​​​​果​​​​​​​还​​​​​​​没​​​​​​​有​​​​​​​启​​​​​​​动​​​​​​​ `clvmd`{.command} 守​​​​​​​护​​​​​​​进​​​​​​​程​​​​​​​，您​​​​​​​可​​​​​​​以​​​​​​​对​​​​​​​ `clvmd`{.command}
服​​​​​​​务​​​​​​​执​​​​​​​行​​​​​​​ `service ... start`{.command} 命​​​​​​​令​​​​​​​，如​​​​​​​下​​​​​​​：
:::
``` screen
# service clvmd start
```
::: para
Creating LVM logical volumes in a cluster environment is identical to
creating LVM logical volumes on a single node. There is no difference in
the LVM commands themselves, or in the LVM graphical user interface, as
described in [第 4 章 *用​​​​​​​ CLI 命​​​​​​​令​​​​​​​管​​​​​​​理​​​​​​​ LVM*](#LVM_CLI.html){.xref} and
[第 7 章 *用​​​​​​​ LVM GUI 进​​​​​​​行​​​​​​​ LVM 管​​​​​​​理​​​​​​​*](#LVM_GUI.html){.xref}. In order to
enable the LVM volumes you are creating in a cluster, the cluster
infrastructure must be running and the cluster must be quorate.
:::
::: para
By default, logical volumes created with CLVM on shared storage are
visible to all computers that have access to the shared storage. It is
possible, however, to create logical volumes when the storage devices
are visible to only one node in the cluster. It is also possible to
change the status of a logical volume from a local volume to a clustered
volume. For information, see [第 4.3.2 节
"在​​​​​​​群​​​​​​​集​​​​​​​中​​​​​​​创​​​​​​​建​​​​​​​卷​​​​​​​组​​​​​​​"](#LVM_CLI.html#VG_create_cluster){.xref} and
[第 4.3.7 节 "修​​​​​​​改​​​​​​​卷​​​​​​​组​​​​​​​参​​​​​​​数​​​​​​​"](#LVM_CLI.html#VG_change){.xref}.
:::
::: para
[图 1.2 "CLVM 总​​​​​​​览​​​​​​​"](#LVM_overview.html#clvm_in_cluster){.xref} shows a
CLVM overview in a Red Hat cluster.
:::
::: figure
[⁠]{#LVM_overview.html#clvm_in_cluster}
::: figure-contents
::: mediaobject
![CLVM 总​​​​​​​览​​​​​​​](images/overview/clvmoverview.png){width="444"}
:::
:::
**图 1.2. CLVM 总​​​​​​​览​​​​​​​**
:::
::: {.note xmlns:d="http://docbook.org/ns/docbook"}
::: admonition_header
**注意**
:::
::: admonition
::: para
在​​​​​​​红​​​​​​​帽​​​​​​​群​​​​​​​集​​​​​​​套​​​​​​​件​​​​​​​中​​​​​​​使​​​​​​​用​​​​​​​的​​​​​​​共​​​​​​​享​​​​​​​存​​​​​​​储​​​​​​​要​​​​​​​求​​​​​​​您​​​​​​​要​​​​​​​运​​​​​​​行​​​​​​​群​​​​​​​集​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​管​​​​​​​理​​​​​​​器​​​​​​​守​​​​​​​护​​​​​​​进​​​​​​​程​​​​​​​（`clvmd`{.literal}）或​​​​​​​者​​​​​​​高​​​​​​​可​​​​​​​用​​​​​​​性​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​管​​​​​​​理​​​​​​​代​​​​​​​理​​​​​​​（HA-LVM）。​​​​​​​如​​​​​​​果​​​​​​​您​​​​​​​有​​​​​​​与​​​​​​​操​​​​​​​作​​​​​​​原​​​​​​​因​​​​​​​或​​​​​​​者​​​​​​​您​​​​​​​没​​​​​​​有​​​​​​​正​​​​​​​确​​​​​​​的​​​​​​​权​​​​​​​利​​​​​​​而​​​​​​​无​​​​​​​法​​​​​​​使​​​​​​​用​​​​​​​
`clvmd`{.literal} 守​​​​​​​护​​​​​​​进​​​​​​​程​​​​​​​或​​​​​​​者​​​​​​​ HA-LVM，您​​​​​​​就​​​​​​​不​​​​​​​能​​​​​​​在​​​​​​​共​​​​​​​享​​​​​​​磁​​​​​​​盘​​​​​​​中​​​​​​​使​​​​​​​用​​​​​​​单​​​​​​​一​​​​​​​事​​​​​​​件​​​​​​​
LVM，因​​​​​​​为​​​​​​​这​​​​​​​将​​​​​​​导​​​​​​​致​​​​​​​数​​​​​​​据​​​​​​​崩​​​​​​​溃​​​​​​​。​​​​​​​如​​​​​​​果​​​​​​​您​​​​​​​有​​​​​​​任​​​​​​​何​​​​​​​疑​​​​​​​问​​​​​​​请​​​​​​​与​​​​​​​您​​​​​​​的​​​​​​​红​​​​​​​帽​​​​​​​服​​​​​​​务​​​​​​​代​​​​​​​表​​​​​​​联​​​​​​​络​​​​​​​。​​​​​​​