for 
4.3 TCP  Performance  for  h-hop  Chain  with    a 
Single Flow 
We  consider  an  equally  spaced  chain  comprising  of 
h+1 nodes (h hops) with a single flow. Each node is 200 
meters  apart  from  each  of  its  adjacent  nodes.  TCP 
packets  travel  along  the  chain  from  the  leftmost  node 
(i.e., the sender) to the rightmost node (i.e., the receiver). 
Figure  1  shows  the  h-hop  chain  topology  with  a  single 
FTP  flow  without  cross  traffic.  As  observed  in  [5], 
successive  packet  transmissions  of  the  single  flow 
interfere with each other as they move along the chain. In 
fact,  a  potential  sending  node  i  constitutes  a  hidden 
terminal  to  an  ongoing  transmission  from  node  (i-3)  to  
(i-2)  where  i  =  4,5,..,h+1.  Node  i  cannot  sense  the 
ongoing  transmission  from  (i-3)  to  (i-2)  and  thus  starts 
transmitting,  causing  collisions  with 
the  ongoing 
transmission.  Such  hidden  terminal  effects  result  from 
the fact that the interference range of each node is much 
larger  than  its  transmission  range,  and  since  the  IEEE 
802.11 protocol cannot achieve global packet scheduling 
between  all  nodes,  such  effects  are  inevitable  with  the 
standard  IEEE  802.11  specifications.  In 
the  first 
experiment,  we  consider  TCP  Vegas  with  different 
values of the  parameter (cid:68).  The goal  of this  study  lies in 
determining  an  optimal  value  of  (cid:68)  for  TCP  Vegas 
without ACK thinning. Figures 2 to 4 show performance 
curves  for  TCP  Vegas  with  (cid:68)(cid:3)(cid:32)(cid:3)(cid:21)(cid:15)(cid:3)(cid:22)(cid:15)(cid:3)(cid:23).  In  Figure  2,  we 
observe that TCP Vegas with (cid:68) = 2 achieves the highest 
goodput  for  a  chain  length  between  4  and  20  hops.  For 
longer chains, the goodput of TCP is almost equal for all 
(cid:68)  values.  Figure  3  shows  that  the  average  TCP  window 
size increases for increasing (cid:68). Thus, TCP Vegas with (cid:68)
= 2 has the smallest average window size. Figure 4 plots 
the  goodput  in  a  7-hop  chain  for  different  bandwidths. 
We observe that for 2 Mbit/s bandwidth TCP Vegas with 
(cid:68)  =  2  achieves  the  highest  goodput.  For  5.5  Mbit/s 
bandwidth  TCP  Vegas  with  (cid:68)  =  2  yields  only  slightly 
higher  goodput  than  the  two  other  variants  whereas  for 
11  Mbit/s  bandwidth,  all  three  TCP  variants  yield  an 
equal goodput. Note that we observe a sub-linear growth 
of  goodput  with  increasing  bandwidth.  This  is  because 
according  to  the  IEEE  802.11  specifications,  RTS,  CTS 
and ACK control packets are sent at 1 Mbit/s regardless 
of  the  bandwidth  used  for  data  packets  to  achieve 
compatibility  between  different  IEEE  802.11  versions. 
Thus,  the  relative  overhead  for  sending  control  packets 
on the MAC layer increases with increasing data rate.  
Fig. 1: 7-hop chain topology with a single flow 
Proceedings of the 2005 International Conference on Dependable Systems and Networks (DSN’05) 
0-7695-2282-3/05 $20.00 © 2005 IEEE
]
]
s
s
/
/
t
t
i
i
b
b
K
K
[
[
t
t
u
u
p
p
d
d
o
o
o
o
G
G
400
400
350
350
300
300
250
250
200
200
150
150
100
100
50
50
0
0
2
2
Vegas (cid:68)= 2
Vegas (cid:68)= 2
Vegas (cid:68)= 3
Vegas (cid:68)= 3
Vegas (cid:68)= 4
Vegas (cid:68)= 4
4
4
8
8
16
16
32
32
64
64
Number of Hops
Number of Hops
400
400
350
350
300
300
250
250
200
200
150
150
100
100
50
50
]
]
s
s
/
/
t
t
i
i
b
b
K
K
[
[
t
t
u
u
p
p
d
d
o
o
o
o
G
G
0
0
2
2
Vegas
Vegas
NewReno
NewReno
NewReno ACK Thinning
NewReno ACK Thinning
Paced UDP
Paced UDP
4
4
8
8
16
16
32
32
64
64
Number of Hops
Number of Hops
Fig 2: h-hop chain with 2 Mbit/s: TCP Vegas goodput 
Fig 6: h-hop chain with 2 Mbit/s: Goodput vs. number 
]
]
s
s
t
t
e
e
k
k
c
c
a
a
p
p
#
#
[
[
i
i
i
i
e
e
z
z
S
S
w
w
o
o
d
d
n
n
W
W
e
e
g
g
a
a
r
r
e
e
v
v
A
A
20
20
15
15
10
10
5
5
0
0
2
2
vs. number of hops  
Vegas (cid:68)= 2
Vegas (cid:68)= 2
Vegas (cid:68)= 3
Vegas (cid:68)= 3
Vegas (cid:68)= 4
Vegas (cid:68)= 4
4
4
8
8
16
16
32
32
64
64
Number of Hops
Number of Hops
i
i
i
i
s
s
n
n
o
o
s
s
s
s
m
m
s
s
n
n
a
a
r
r
t
t
e
e
R
R
f
f
o
o
r
r
e
e
b
b
m
m
u
u
N
N
e
e
g
g
a
a
r
r
e
e
v
v
A
A
0.16
0.16
0.14
0.14
0.12
0.12
0.1
0.1
0.08
0.08
0.06
0.06
0.04
0.04
0.02
0.02
0
0
2
2
of hops
Vegas
Vegas
NewReno
NewReno
NewReno ACK Thinning
NewReno ACK Thinning
4
4
8
8
16
16
32
32
64
64
Number of Hops
Number of Hops
Fig 3: h-hop chain with 2 Mbit/s: TCP Vegas average 
Fig 7: h-hop chain with 2 Mbit/s: Retransmissions vs. 
]
]
s
s
/
/
t
t
i
i
b
b
K
K
[
[
t
t
u
u
p
p
d
d
o
o
o
o
G
G
1600
1600
1400
1400
1200
1200
1000
1000
800
800
600
600
400
400
200
200
0
0
window size vs. number of hops 
number of hops
Vegas (cid:68)= 2
Vegas (cid:68)= 2
Vegas (cid:68)= 3
Vegas (cid:68)= 3
Vegas (cid:68)= 4
Vegas (cid:68)= 4
2
2
5.5
5.5
11
11
Bandwidth [Mbit/s]
Bandwidth [Mbit/s]
i
i
]
]
s
s
t
t
e
e
k
k
c
c
a
a
p
p
#
#
[
[
e
e
z
z
S
S
w
w
o
o
d
d
n
n
W
W
e
e
g
g
a
a
r
r
e
e
v
v
A
A
i
i
20
20
15
15
10
10
5
5
0
0
2
2
Vegas
Vegas