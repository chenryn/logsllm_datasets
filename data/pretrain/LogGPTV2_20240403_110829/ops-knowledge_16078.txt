User: Use Python to write a script that automatically cleans up expired log files.
Assistant: import os import datetime # The folder path to be cleaned directory = "/path/to/log/folder" # The name prefix of the log file to be cleaned log_prefix = "log_" # Log file expiration time (days) expiration_days = 30 # Get Current time today = datetime.date.today() # Loop through all files in a folder for file_name in os.listdir(directory): # If the filename starts with the specified prefix and is a file instead of a folder if file_name.startswith( log_prefix) and os.path.isfile(os.path.join(directory, file_name)): # Get the last modification time of the file last_modified_date = datetime.date.fromtimestamp(os.path.getmtime(os.path.join(directory, file_name ))) # If the file expires if (today - last_modified_date).days > expiration_days: # delete the file os.remove(os.path.join(directory, file_name)) print("Deleted file:", file_name)