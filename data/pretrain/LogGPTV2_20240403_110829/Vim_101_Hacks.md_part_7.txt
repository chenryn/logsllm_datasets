frequently, you can store them in a file and execute them as shown below.
$ vim –w repetitive_task.txt file_to_edit.txt
97
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Hack 62. Skip Loading Plugins Temporarily
While opening a file, you can temporarily stop loading all plugins only during
that particular file editing as shown below.
$ vim --noplugin filename.txt
Hack 63. Enter Restricted Mode in Vim
You can enter restricted mode in Vim using one of the following methods.
$ vim –Z filename
(or)
$ rvim filename
From :help –Z
Restricted mode (-Z): All commands that make use of an external shell are
disabled. This includes suspending with CTRL-Z, ":sh", filtering, the system()
function, backtick expansion, etc.
98
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Chapter 10: gVim Hacks
gVim is an X-window based interface to the Vim editor.
Hack 64. Display and Hide gVim Menu and Toolbar
Sometimes to get more screen real estate you may want to disable gVims
menu bar, tool bar, scroll bar or other visual components.
This can be achieved using :set guioptions.
For example, to disable the toolbar do the following. Please note that there
is a - symbol before the =
:set guioptions-=T
To enable the toolbar do the following. Please note that there is a + symbol
before the =
:set guioptions+=T
You can manipulate the following gVim GUI elements.
UI Element Code Description
:set guioptions+=TmrlRL Display all gVim GUI elements
: set guioptions-=TmrlRL Hide all gVim GUI elements
99
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
:set guioptions-=T Hide gVim Toolbar
:set guioptions-=m Hide gVim Menu Bar
:set guioptions-=r Hide gVim Right side scroll bar
:set guioptions-=l Hide gVim Left side scroll bar
:set guioptions-=R Hide gVim Right side scroll bar that appears
when window is split vertically
:set guioptions-=L Hide gVim Left side scroll bar that appears
when window is split vertically
Hack 65. Adding a Custom Menu or Menu Items to
gVim
You can add your own menu and menu item to gVim for custom operation.
New Menu Item under an Existing Menu
For example, you can add the following two menu items under the Tools
menu
• Hide Tool Bar – This will hide the tool bar
• View Tool Bar – Once you’ve hidden the tool bar, use this to get it
back.
To add the Tools -> Hide Tool Bar menu item, do the following:
100
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
:amenu Tools.&Hide-Tool-Bar :set guioptions-=T
To add Tools -> View Tool Bar menu item, do the following:
:amenu Tools.&View-Tool-Bar :set guioptions+=T
If you Press Alt+T to drop down the tools menu, you can see H and V
highlighted. This is because we placed an & in front of H and V when we
defined the menu items.
So, you can use the following shortcuts to invoke the custom menu items
you’ve defined.
• ALT+T H to Hide Tool Bar
• ALT+T V to View Tool Bar
New Top Level Menu Bar
The following example will add a new menu bar called Bookmark (with Alt+K
key) and a menu item called “Windows Explorer” (with Alt+K E) that will
launch Windows Explorer.
:amenu Bookmar&k.Windows\ &Explorer
:!explorer
Note: The above command is one command that should be typed in a single
line. There should be a space after &Explorer.
101
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Hack 66. Change Font in gVim
You might not like the default font of the gVim. You can change it using one
the following two methods:
Method 1:
This example sets the font type to Courier New and size to 10. For this
method, you should already know the name of the font.
:set guifont=Courier\ New:h10
Method 2:
The following will launch a font chooser UI, where you can select the font
type and size.
:set guifont=*
Fig: Font chooser on Windows gVim
102
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Chapter 11: Vim Look and Feel, Tabs, and
Windows
Hack 67. Split Windows Horizontally and Vertically
Split the current Window
To split the current window into two windows horizontally, do the following.
:split
To split the current window into two windows vertically, do the following.
:vsplit
To close a window that was created by split, type :q to close that window.
:q
Open a different file in another window
If you are viewing /etc/passwd and you would like to open /etc/group using a
split horizontal view, do the following.
:split /etc/group
103
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
If you are viewing /etc/passwd and you would like to open /etc/group using a
split vertical view, do the following.
:vsplit /etc/group
Navigate Between Windows
To navigate between windows do the following:
CTRL-W {Navigation key – j, k, h, l}
For example, to jump to the window above, do the following.
CTRL-W k
To jump to the window below, do the following.
CTRL-W j
Resize Split Windows
When you have split windows inside the Vim editor, you can enlarge or reduce
the size of the current window as shown below.
CTRL Key Description
CTRL-W + Increase the size of current window in split mode
CTRL-W - Reduce the size of current window in split mode
104
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Set the Size of a Window
To open a vertical split with 25 columns do the following
:25 vsplit filename.txt
To open a horizontal split with 3 lines do the following
:3 split filename.txt
Hack 68. Change Window Title
To change the text displayed in the title, do the following.
:set title titlestring=My\ Favorite\ File
The above will change the text in the Vim window title bar to “My Favorite
File”.
Note: The following example is shown in the Vim documentation, when you
do :help titlestring
:set title titlestring=%<%F%=%l/%L-%P titlelen=70
• %F – Name of the file in the current window
105
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
• %l – Line number of the line where the cursor is located
• %L – Total number of lines in the file
• %p - percentage of the file. For example, if the cursor is at the
middle of the file, this will show 50%
Hack 69. Change Vim Colors
First view all available color schemes in your Vim editor
:!ls $VIMRUNTIME/colors
blue.vim delek.vim evening.vim
murphy.vim README.txt slate.vim
darkblue.vim desert.vim koehler.vim
pablo.vim ron.vim torte.vim
default.vim elflord.vim morning.vim
peachpuff.vim shine.vim zellner.vim
For example, if you see blue.vim or evening.vim listed, you can change to
those color schemes as shown below.
:colorscheme evening
(or)
:colorscheme blue
You can also download additional color scheme and put it under
$VIMRUNTIME/colors. Get those from
http://www.vim.org/scripts/script_search_results.php?keywords=&script_typ
e=color+scheme&order_by=rating
106
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
You can check http://code.google.com/p/vimcolorschemetest/ for
screenshots of available Vim color schemes before downloading them.
Hack 70. Edit Multiple Files in Tabs
One efficient way of editing multiple files in a single Vim session is by using
tabs.
Open multiple files from the command line.
$ vim -p file1 file2 file3
The following screen shot shows three files opened in tabs
$ vim –p helloworld.cc employee.txt /etc/passwd
Fig: Three files opened in tabs
107
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Once the files are opened in tabs, you can use any one of the following tab
commands.
Tab Command Description
:tabedit FILENAME Open another file in a new tab under current Vim
session.
:tabe FILENAME
:tabs List all open tabs
:tabn N Go to Nth tab
:tabclose Close the current tab
:tabc
:tabdo CMD Execute a command in all tabs
:tabn Go to the next tab
:tabp Go to the previous tab
108
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Chapter 12: Additional Features in Vim
Editor
Hack 71. Repeat an Operation N number of times
The "repeat operation" capability works with virtually all Vim operations. For
example, to move down 10 lines at a time, you can type 10j as shown below.
10j
The following are few repeat commands.
Repeat Command Description
@@ Repeat previously executed macro
n Repeat the search in same direction
N Repeat the search in opposite direction
. Repeat the last edit command
@: Repeat the last command line
Hack 72. Undo and Redo Action
Single Undo:
To undo one change, do the following:
109
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
u
Multiple Undo:
To undo multiple changes, do the following. The example below will undo 5
changes.
5u
Undo All:
To undo all latest changes (in the current line), do the following.
U
Redo Action
If you’ve performed an undo by mistake, you can redo the change as shown
below.
:red
(or)
CTRL-R
Hack 73. Open the File whose Name is under the
Cursor
This hack is helpful in the following situations:
110
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
• To verify the filenames given inside configuration files are valid.
• While editing a text document, if you want to go to another file
whose name is specified in the text document.
• While editing source code, to visit a local file which is included or
imported by filename reference.
Open a file (in the same window) whose name is currently under the cursor.
gf
Open a file (in a new window) whose name is currently under the cursor.
CTRL-W f
Open a file (in a new tab) whose name is currently under the cursor.
CTRL-W gf
If the filename under the cursor doesn’t have a full or relative path
specification included, Vim will search for the file under the current
directory.
For certain files, Vim will open the file even without the full path as Vim
knows where to locate those files. For example,
• Header file included in a C program
• Perl module included in a Perl program
111
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Hack 74. Edit Multiple Files Using the Traditional
Method
Using this hack you can edit multiple files in a single Vim session.
Open multiple files from command line.
$ vim file1 file2 file2
Open another file when you are already in a Vim session.
:e another_file
List all open files in the current Vim session.
:ls
1 %a "helloworld.cc" line 1
2 "employee.txt" line 0
3 "/etc/passwd" line 0
Go to the Nth file from the above :ls output.
:e #N
Toggle between two files.
CTRL-^
112
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Moving Between Files While Editing Multiple Files
Go to next file when multiple files are opened.
:next
Go to previous file when multiple files are opened.
:previous
Hack 75. Saving Files Automatically
Vim normally will give an error message if you have unsaved changes when
you try to switch buffers or files.
To enable the automatic writing of files when switching buffers/files, do the
following.
:set autowrite
Write all files using a single command. (this can be VERY useful in macros)
:wall
113
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Hack 76. Encrypt File in Vim
Save and encrypt the current file:
:X
Enter encryption key: ********
Enter same key again: ********
Once you’ve encrypted a file using :X, the next time you open that file, Vim
will prompt for the encryption key.
Hack 77. Save and Resume Vim Sessions
When you are editing files in a Vim session, if you have to perform some other
task you may have to close all files and Vim sessions. However after a while
you may want to come back and continue the Vim sessions exactly where you
left off earlier.
In that case, you should save the Vim sessions, which will save your current
settings such as:
Buffers
o
Window size
o
Custom Options
o
Folds
o
Current directory
o
114
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
All of the above information will be stored when you save your session. You
can also customize and decide which options you prefer to have stored by the
save session command.
To save the current session, do the following.
:mksession
When you have N files opened along with folds, multiple options set, different