洞态IAST与黑盒、白盒
共建DevSecOps
01
02目录
1> IAST检测原理 
2> 洞态IAST架构设计
3> 灰盒、黑盒、白盒共建DevSecOps
4> 部署与落地
IAST检测原理
03
03 IAST检测原理
IAST（Interactive AST，交互式扫描器）高频、高效、无脏数据
应用运行
态分析
污点跟
踪算法
准确率高
效率高
无脏数据*
 原理
 效果
覆盖度完整
03 IAST检测原理 污点跟踪算法
不可信数据采集
不可信数据预处理
不可信数据传播图
数据调用链路查找
decode
id
_jspService
put
id
id
getParameter
exec
cmd->id
decode
_jspService
put
id
getParameter
exec
cmd->id
id
id
decode
_jspService
put
id
getParameter
exec
cmd->id
id
id
decode
_jspService
put
id
getParameter
exec
cmd->id
id
id
洞态IAST架构设计
04
04洞态IAST架构设计
整体架构
类型
架构
分析
一般IAST
重Agent端+轻服务端
数据监听和漏洞检测全部在Agent端完成。
1.需频繁升级Agent端；
2.未检测出漏洞的Agent端数据直接丢弃，若产品检测能
力升级，需联系功能测试团队重新发起测试；
3.无法实现跨请求关联分析。
洞态IAST
轻Agent端+重服务端
Agent端仅实现数据监听，漏洞检测全部在
服务端完成
1.Agent端代码和逻辑简单，单点故障率更低，极少升级；
2.所有数据保存在服务端，可在服务端直接进行回归测试；
3.服务端可动态加载检测引擎，并可实现跨请求关联分析。
 更低的使用成本及更强大的检测能力
04洞态IAST架构设计
部署架构
灰盒、黑盒、白盒共建
DevSecOps
05
共建DevSecOps
什么是DevOps
从字面上来理解，DevOps 只是Dev（开发人员）+Ops
（运维人员），实际上，它是一组过程、方法与系统的统称
DevOps目前并没有权威的定义，DevOps 强调的是高效组
织团队之间如何通过自动化的工具协作和沟通来完成软件的
生命周期管理，从而更快、更频繁地交付更稳定的软件。
共建DevSecOps
安全如何更好的加入
DevOps并非旨在以牺牲安全性为代价来最大化速度；
安全去适应特性：简单、快捷、持续
在CI-自动化测试环节引入安全检查（Sec）
Sec嵌入流程
安全不是流程的关卡而是齿轮，串联起整个生命周期
共建DevSecOps
IAST在DevSecOps中是如
何工作的
         方式一：先白盒审计，覆盖率高，后灰盒接入，
初步解决误报问题，黑盒针对性扫描再次确认，避免脏数据
与性能压力，最终上报，人工确认
      方式二：若不介意性能压力问题，三者同时进行，三
者结果匹对，最终上报，人工处理
自动化测试+灰盒
白盒代码检查
代码构建
黑盒漏扫
本地功能开发
发送通知
上线
上传结果
PR
MR
CI流程
CI流程
GitHub Action
DevOps
人工验证
共建DevSecOps
持续提升IAST检测能力
灰盒做 DevOps 中的同步检测，
黑盒、白盒做旁路检测/辅助检测，
持续运营，提升 IAST 的检测能力，
实现自动化的检测并保证检出率、准确率
DevSecOp
s
灰盒
黑盒
白盒
部署与落地
06
06 部署与落地
洞态IAST部署
Server端部署
Agent端部署
•
docker
•
K8s – Manifest
•
K8s - helm
•
Base Docker Image
•
K8s initContainer
洞态IAST官方文档：https://doc.dongtai.io/zh/
06 部署与落地
DongTai-Agent-Java 如何集成到 DevOps 
洞态IAST官方文档：https://doc.dongtai.io/zh/
Java Agent 在 GitHub Action 及 DevOps 流程中的建议启动命令：
java  -javaagent:/path/to/agent.jar  -Dproject.create=true  -
Dproject.name=WebGoat  -Dproject.version=8.2  -Dresponse.length=1000  -
Diast.server.mode=local -jar app.jar
需求： 
       在每次提交代码时，自动将靶场的测试数据存入特定的项目、
特定的版本中，方便直接根据项目及版本进行数据的对比分析。
06 部署与落地
同程IAST的推广
发挥安全的主动性，主动去贴合业务流程
 培训和文章推广：在公司内部开展周期性的安全培训和
安全发文，介绍IAST；
 根据发现的安全事件，主动推动和提供给业务线安全能
力；
 与测试团队合作，推动SDL安全能力融入测试流程；
提问环节
提问环节