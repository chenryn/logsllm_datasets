ple queues, one for each priority level present. Our system allows
for four priority levels and in the ﬁgure we show only three queues
populated with data (corresponding to I, P, and B frame data). In
a regular 802.11a pipeline, all data coming into the controller will
be a single queue and for a regular sized Ethernet-style frame, may
have a maximum payload of 1500 bytes. In our case, we expect the
total bytes corresponding to a single wireless frame, still to be 1500
bytes, but this data may consist of a different number of bytes from
I, P, and B queues. Each of these I, P, and B fragments will pass
through the scrambler and the convolution encoder independently
like in a regular 802.11 pipeline, and arrive at the interleaver. Note
that, at the interleaver, the scrambled and the convolutionally en-
coded data are still separated according their priority levels, and
are placed in separate queues.
In the interleaver, the bits will be placed into bit positions based
on the greedy algorithm. Each bit-sequence, thus generated, will
correspond to a symbol and will likely consist of bits collected from
the three different queues. Like a regular 802.11 interleaver, we
will allow interleaving of bit values across different OFDM sub-
carriers (if multiple OFDM sub-carriers are used). But unlike a
regular interleaver, we will only limit interleaving of bits within a
single sub-carrier to within the bit positions allocated to data from
the same priority class.
Finally, based on the application data value and the BER feed-
back from the receiver, one of the data constellation maps will be
selected. The bit-sequences will be mapped to the corresponding
symbol values using a simple table lookup process as in a regular
pipeline, and handed over the RF front-end.
A similar, but reverse process would occur in the receive chain.
4. EVALUATION
We now evaluate the performance beneﬁts offered by Apex in de-
tail. In addition, we also show that the advantages of approximate
communication are complementary to some alternate mechanisms
of adding unequal error protection, e.g., application-layer FECs,
and data re-transmissions.
4.1 Experiment conﬁgurations
We describe the new aspects of our experimental conﬁguration
vis-a-vis Section 2.1 for evaluating performance of video streaming
MOS Rating of video quality PSNR range
Excellent
Good
Fair
Poor
Bad
> 37
31-37
25-31
20-25
< 20
Table 3: Table mapping the MOS based user perception of
video quality to the PSNR range [25]
in Apex. We use the same WARP SDR platform, with the signal
processing functions implemented in laptops connected to these ra-
dios.
Video content: We use Claire and Foreman video clips, encoded
to MPEG-4 format using ffmpeg tool. The rate of encoded video is
384 kbps, frame rate is 30 frames per second and each of its GOP
consists of 30 frames. We induce a buffering of 1 second to collect
all the frames in a GOP. The video is looped multiple times to get
a playback length of 500 seconds. Each experiment is repeated 20
times unless otherwise stated. We use Evalvid tool [4] to stream
the video. The tool has been modiﬁed to provide information about
frame-type and priority, while streaming.
Metrics: We have compared the quality of the received video
both visually and using a widely used metric — peak signal to
noise ratio (PSNR). The PSNR of a video is well correlated with
the perceived quality of video experienced by the user. The rela-
tionship between user perception expressed in Mean Opinion Score
(MOS)and the PSNR range were detailed in [25, 17] and are sum-
marized in Table 3.
Schemes compared: We compare the performance of an ap-
proximate communication (Apex) and a traditional communica-
tion(Trad.) system (which is unaware of the relative protection lev-
els of the different bit positions), when both are allowed to transmit
the same amount of application data. We allow partial recovery of
bits not in error [18].
We compare the relative volume of re-transmissions needed for
the Apex and traditional systems to achieve similar PSNR. We also
measure the additive gains of Apex in presence of application layer
FEC.
Apex is complementary to other data protection mechanisms that
can be implemented at the different layers, e.g., MAC-layer mecha-
22)
B
d
n
i
(
R
N
S
P
 50
 40
 30
 20
 10
 0
Apex
Trad.
 0
 5
 10
 15
 20
Experiment iteration
R
N
S
P
 50
 40
 30
 20
 10
 0
Video
Claire
Foreman
Trad. Apex (Gray)
21.8
21.0
29.5
34.5
Apex (Block)
37.8
31.0
Trad.
Apex
Table 4: Table showing the PSNR for the two video clips in the
representative wireless scenario with statically chosen constel-
lation map.
(a) PSNR of each iteration
(b) Average and Standard de-
viation
Figure 12: PSNR differences between traditional and approx-
imate communication with rate adaptation at a representative
wireless environment (Claire video).
nisms (ZipTx and MRD), PHY-MAC mechanisms (PPR and SOFT).
It was challenging for us to implement all of these schemes within
the experimental WARP SDR platform. In Section 5 present an in-
tuitive explanation of why other schemes, PPR, SOFT, MRD, and
ZipTx, are also expected to provide gains that are complementary
to Apex.
Trace-based evaluation for dynamic rate adaptation scenar-
ios: In our SDR platform (WARP radios) a high latency is asso-
ciated with processing RF samples from a received wireless frame
and sending feedback to the transmitter for efﬁcient rate adapta-
tion. To avoid this latency related inaccuracy in evaluation, we
adopt the practice of trace-driven analysis as is commonly applied
in evaluating rate adaptation algorithms with PHY layer processing
needs [34].
Symbols carrying application data are sent at different rates in
succession. We iteratively send small packets of 200 bytes at all the
different rates for building the trace. Also, we ensure that the BER
is monotonically increasing with increasing data rate for a iteration
(discarding samples for which this criteria does not hold) signifying
a coherent channel [34]. At the receiver we calculate the achieved
throughput by different data-rates and and only those symbols that
correspond to the rate selected by the rate adaptation algorithm are
considered to be part of the media ﬂow. As the selected rate varies
over time, the symbols selected to be part of the ﬂow at different
time instants are picked accordingly. The actual performance of
the media delivery process can then be evaluated by identifying
loss behaviors due to errors in an off-line manner.
4.2 Experimental results
In this section, we show how Apex helps improve the media
quality under different interference scenarios, how the gains of Apex
are signiﬁcant when compared to FEC-based or re-transmission
based data recovery schemes, and describe some parameter selec-
tions made in the system.
Apex vs traditional — a representative scenario: We present
the relative performance for traditional media delivery and the Apex
scheme with dynamic rate and constellation map adaptation en-
abled for the same channel conditions as above in Figure 12. The
average uncoded BER for this scenario was 4.1 × 10
−3 (corre-
−5), which is normal operating
sponds to a coded BER of O(10
condition for 802.11 based radios). The average PSNR improve-
ment due to Apex across a set of 20 runs was about 16 dB. The bet-
ter performance of Apex stems from the fact that a throughput opti-
mal data delivery can be further improved upon by the importance-
aware mapping of data bits to bit positions within symbols.
We next illustrate how the dynamic adaptation of constellation
map is useful to improving the performance of Apex.
Impact of constellation map selection: The best choice of con-
stellation map depends both on the channel conditions (pj values)
R
N
S
P
 60
 50
 40
 30
 20
 10
 0
Apex w/ switching
Gray
Block
Trad.
Switching points
 0
 2
 4
 6
 8
 10  12  14  16
Time(in seconds)
Figure 13: Dynamic switching of data encoding scheme com-
puted based on the utility of each encoding alternative (Block
and Gray).
and the differential value of application bit (vi values). channel
conditions. We demonstrate this in turn.
- Dependence on application data: For the same representative
scenario as in Figure 12, we show the relative performance of tradi-
tional and Apex for two different video clips, Claire and Foreman,
in Table 4, but with statically chosen constellation maps for the en-
tire duration of the clip. Apex outperforms the traditional system
in all cases. But the relative amount of improvement depends on
the speciﬁc constellation map selection. Due to the distribution of
bytes between I-, P-, and B-frames in these clips, the relative value
of different data bits are different in these two schemes. As a conse-
quence, Gray code leads to a better average PSNR performance for
the Foreman video than Block code, while the reverse is true for the
Claire video. By dynamically selecting the most appropriate con-
stellation map, Apex would be able to deliver the best performance
among various alternatives.
- Dependence on channel conditions: We next illustrate how the
dynamic adaptation of the constellation map occurs in practice, also
due to changing channel conditions (Figure 13). The ﬁgure shows
how the dynamic choice of the data encoding scheme ensures that
the best encoding scheme is picked as the quality of the channel
changes. In particular, our algorithm decides to switch constella-
tion maps around time 1.8, 3.3, and 10.9 seconds, soon after the
PSNR quality using the constellation map falls below the other al-
ternative. We also show the performance of traditional communica-
tion system in the ﬁgure for the sake of completeness. We ﬁnd that
Apex performs better than traditional communication at all times.
Currently, our feedback latencies are signiﬁcantly higher since
the decoding operation with different encoding schemes are per-
formed in the associated laptop, incurring high latencies, although
they are adequate to provide performance gains. A future version
23R
N
S
P
 50
 40
 30
 20
 10
 0
Trad.
Apex
500 Kb/s
5760 Kb/s
 O(10-4)
O(10-2)
Interfering traffic, BER observed
3450 Kb/s
O(10-3) 
Figure 14: PSNR for traditional and approximate communica-
tion under varying external interference (Claire video). X-axis
marks both the imposed (802.11) interference load on the chan-
nel and the corresponding average uncoded BER.
of the system will implement the feedback process in an FPGA,
leading to a more agile response and potential performance gain.
With external interference: We next experimented by chang-
ing the level of external interference generated by a third (laptop-
based) node in the vicinity, as described in Section 2.1. As ex-
pected, both schemes suffer with increasing interference. However
as the channel condition worsens, due to increasing interference,
the relative gains of Apex over traditional communication increases
(Figure 14). At the higher interference levels, the PSNR in Apex is
about 1.8 times that of traditional communication. The higher gains
of Apex can be attributed to informed placement of application bits
to bit-positions of symbols.
Complementarity to application-level FEC: We show that gains
of Apex communication are complementary to application-level
FECs through evaluation of traditional and approximate communi-
cation, both with and without such FEC. We used a Reed-Solomon
RS(255,233) code for application-layer FEC, where the amount of
coding was determined based on ambient channel conditions as
suggested in related efforts [9, 21].
In Figure 15, we show the
performance comparison for a scenario where traditional commu-
nication achieved the highest possible PSNR. The plot shows that
Apex achieves better performance than traditional communication
both in presence and absence of application-layer FECs, and the
gap in PSNR between the two approaches is somewhat similar in
both cases.
Comparison with a MAC layer scheme: Consider a MAC-
layer variant of Apex as follows. Given an optimal PHY rate dis-
covered by a rate adaptation algorithm, in this variant we assume
that I-frames are sent at a rate which is one lower (to protect it better
from errors), and the P- and B-frames are sent at some higher rate
(reﬂecting their lower priority). A recently proposed work for video
streaming [29] uses a similar MAC-layer rate adaptation strategy,
albeit in context of multicast communication. To show that the
PHY layer implementation of Apex is the most efﬁcient version
of this idea, we compared Apex to this variant of MAC layer rate
adaptation. In our experiments, we found that Apex outperformed
this MAC layer variant by at least 4 dB or more in different ex-
periments, primarily owing to the fact that the former was able to
achieve differential data prioritization at a ﬁner granularity.
We next augmented the MAC layer scheme even further by al-
lowing it to send an increasing number of re-transmissions until it
was able to match the PSNR of Apex (without any re-transmissions).
We found that the number of symbols required by the MAC layer
Pilot
symbols
1 in 25
1 in 50
1 in 100
1 in 150
1 in 200
Error in estimating BER
in MSBs
0.05 (0.03)
0.06 (0.04)
0.08 (0.06)
0.12 (0.08)
0.14 (0.11)
in MIDs
0.05 (0.03)
0.05 (0.04)
0.07 (0.05)
0.11 (0.13)
0.16 (0.07)
in LSBs
0.04 (0.02)
0.05 (0.03)
0.06 (0.05)
0.09 (0.07)
0.10 (0.08)
Table 5: Error of BER estimation for different bit positions in
64-QAM, Block coding, with varying number of pilot symbols.
We use 1 pilot symbol for each 100 symbols in Apex. Exper-
iments used 1500 byte packets. Mean (standard deviation) of
prediction error is presented.
scheme is 1.85× that of Apex, to achieve the same PSNR perfor-
mance (when the uncoded BER was 4.1 × 10