lldp system-description
Description Defines the alpha-numeric string that describes the system in the network.
Syntax [no] lldp system-description sys-description-value
Default None
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.
lldp system-name
Description Defines the string that will be assigned as the system name.
Syntax [no] lldp system-name system-name-value
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 142
A10 Thunder Series and AX Series—Command Line Interface Reference
Default hostname
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.
Example The following command will set the LLDP system name to “testsystem”:
ACOS(config)# lldp system-name testsystem
lldp tx fast-count
Description This value is used as the initial value for the Fast transmission variable. This value determines
the number of LLDP data packets that are transmitted during a fast transmission period. This
value can range from 1-8 seconds.
Syntax [no] lldp tx fast-count value
Default 4
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.
Example The following command will set the LLDP fast count transmission value to 3 seconds:
ACOS(config)# lldp tx fast-count 3
lldp tx fast-interval
Description This variable defines the time interval in timer ticks between transmissions during fast trans-
mission periods (that is, txFast is non-zero). The range for this variable is 1-3600 seconds.
Syntax [no] lldp tx fast-interval
Default 1 second
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.
Example The following command will set the LLDP fast transmission interval value to 2000 seconds:
ACOS(config)# lldp tx fast-interval 2000
lldp tx interval
Description Defines the transmission (tx) interval between a normal transmission period.
Syntax [no] lldp tx interval value
page 143 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Replace value with the transmission interval from 1 to 3600 seconds.
Default 30 seconds
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.
Example The following command will set the transmission interval to 200:
ACOS(config)# lldp tx interval 200
lldp tx hold
Description Determines the value of the message transmission time to live (TTL) interval that is carried in
LLDP frames. The hold-value can be from 1 to 100 seconds.
Syntax [no] lldp tx hold hold-value
Default Default 4 seconds
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.
Example The following command will set the transmission hold time to 255:
ACOS(config)# lldp tx hold 255
lldp tx reinit-delay
Description Indicates the delay interval when the administrative status indicates ‘disabled’ after which re-
initialization is attempted. The range for the
reinit-delay-value is 1-5 seconds.
Syntax [no] lldp tx reinit-delay reinit-delay-value
Default 2 seconds
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.
Example The following command will set the retransmission delay to 3 seconds:
ACOS(config)# lldp tx reinit-delay 3
locale
Description Set the CLI locale.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 144
A10 Thunder Series and AX Series—Command Line Interface Reference
Syntax [no] locale {test | locale}
Default en_US.UTF-8
Mode Configuration mode
Usage Use this command to configure the locale or to test the supported locales.
If the ACOS device is a member of an aVCS virtual chassis, use the device-context
command to specify the device in the chassis to which to apply this command.
Example The following commands test the Chinese locales and set the locale to zh_CN.GB2312:
ACOS(config)# locale test zh_CN
ACOS(config)# locale zh_CN.GB2312
logging auditlog host
Description Configure audit logging to an external server.
Syntax [no] logging auditlog host {ipaddr | hostname}
[facility facility-name]
Parameter Description
ipaddr IP address of the remote server.
hostname Host name of the remote server.
facility-name Name of a log facility:
• local0
• local1
• local2
• local3
• local4
• local5
• local6
• local7
There is no default.
Default N/A
Mode Configuration mode
Usage The audit log is automatically included in system log backups. You do not need this com-
mand in order to back up audit logs that are within the system log. To back up the system
log, see “backup system” on page38 and “backup log” on page36.
In the current release, only a single log server is supported for remote audit logging.
page 145 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
logging buffered
Description Configure the event log on the ACOS device.
Syntax [no] logging buffered max-messages
Syntax [no] logging buffered
{disable | emergency | alert | critical | error | warning |
notification | information | debugging}
Parameter Description
max-messages Specifies the maximum number of messages the event log buffer will hold. The default buffer
size (maximum messages) is 30000.
disable Disable logging to the monitor.
emergency Send emergency events (severity level 0—system unusable) to the monitor.
alert Send alert events (severity level 1—take action immediately) to the monitor.
critical Send critical events (severity level 2—system is in critical condition) to the monitor.
error Send error events (severity level 3—system has an error condition) to the monitor.
warning Send warning events (severity level 4—system has warning conditions) to the monitor.
notification Send notifications (severity level 5—normal but significant conditions) to the monitor.
information Send informational messages (severity level 6) to the monitor.
debugging Send debug level messages (severity level 7) to the monitor.
Default See descriptions.
Mode Configuration mode
Example The following command sets the severity level for log messages to 7 (debugging):
ACOS(config)#logging buffered debugging
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 146
A10 Thunder Series and AX Series—Command Line Interface Reference
logging console
Description Set the logging level for messages sent to the console.
Syntax [no] logging console
{disable | emergency | alert | critical | error | warning |
notification | information | debugging}
Parameter Description
disable Disable logging to the console.
emergency Send emergency events (severity level 0—system unusable) to the console.
alert Send alert events (severity level 1—take action immediately) to the console.
critical Send critical events (severity level 2—system is in critical condition) to the console.
error Send error events (severity level 3—system has an error condition) to the console.
warning Send warning events (severity level 4—system has warning conditions) to the console.
notification Send notifications (severity level 5—normal but significant conditions) to the console.
information Send informational messages (severity level 6) to the console.
debugging Send debug level messages (severity level 7) to the console.
Default Level 3—Error messages
Mode Global configuration
logging disable-partition-name
Description Disable display of L3V partition names in log messages.
Syntax [no] logging disable-partition-name
Default Display of L3V partition names in log messages is enabled by default.
Mode Configuration mode
Usage When this option is enabled partition names are included in log messages as the following
example illustrates.
Jan 24 2014 15:30:21 Info [HMON]: SLB server rs1 (4.4.4.4) is down
Jan 24 2014 15:30:19 Info [HMON]: SLB server rs1 (4.4.4.4) is up
Jan 24 2014 15:30:17 Info [ACOS]: Server rs1 is created
logging email buffer
Description Configure log email settings.
page 147 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Syntax [no] logging email buffer [number num] [time minutes]
Parameter Description
num Specifies the maximum number of messages to buffer (16-256).
The default number is 50 messages.
minutes Specifies how long to wait before sending all buffered messages, if the
buffer contains fewer than the maximum allowed number of messages.
You can specify 10-1440 minutes.
The default time is 10 minutes.
Default By default, emailing of log messages is disabled. When you enable the feature, the buffer
options have the default values described in the table above.
Mode Configuration mode
Usage To configure the ACOS device to send log messages by email, you also must configure an
email filter and specify the email address to which to email the log messages. See “logging
email filter” on page148 and “logging email-address” on page151.
Example The following command configures the ACOS device to buffer log messages to be emailed.
Messages will be emailed only when the buffer reaches 32 messages, or 30 minutes passes
since the previous log message email, whichever happens first.
ACOS(config)#logging email buffer number 32 time 30
logging email filter
Description Configure a filter for emailing log messages.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 148
A10 Thunder Series and AX Series—Command Line Interface Reference
Syntax [no] logging email filter filter-num “conditions” operators
[trigger]
Parameter Description
filter-num Specify the filter number (1-8).
conditions Message attributes on which to match. The conditions list can contain one or more of the following:
• Severity levels of messages to send in email. Specify the severity levels by number or word:
• 0 - emergency
• 1 - alert
• 2 - critical
• 3 - error
• 4 - warning
• 5 - notification
• 6 - information
• 7 - debugging
• Software modules for which to email messages. Messages are emailed only if they come from one
of the specified software modules. For a list of module names, enter ? instead of a module name,
and press Enter.
• Regular expression. Standard regular expression syntax is supported. Only messages that meet the
criteria of the regular expression will be emailed. The regular expression can be a simple text string
or a more complex expression using standard regular expression logic.
operators Set of Boolean operators (AND, OR, NOT) that specify how the conditions should be compared.
The CLI Boolean expression syntax is based on Reverse Polish Notation (also called Postfix Notation), a
notation method that places an operator (AND, OR, NOT) after all of its operands (in this case, the con-
ditions list).
After listing all the conditions, specify the Boolean operator(s). The following operators are supported:
• AND – All conditions must match in order for a log message to be emailed.
• OR – Any one or more of the conditions must match in order for a log message to be emailed.
• NOT – A log message is emailed only if it does not match the conditions
For more information about Reverse Polish Notation, see:
http://en.wikipedia.org/wiki/Reverse_Polish_notation
trigger Immediately sends the matching messages in an email instead of buffering them. If you omit this
option, the messages are buffered based on the logging email buffer settings.
Default Not set. Emailing of log messages is disabled by default.
Mode Configuration mode
Usage To configure the ACOS device to send log messages by email, you also must specify the
email address to which to email the log messages. See “logging email-address” on page151.
Below are some additional usage considerations:
• You can configure up to 8 filters. The filters are used in numerical order, starting with fil-
ter 1. When a message matches a filter, the message will be emailed based on the buf-
fer settings. No additional filters are used to examine the message.
page 149 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
• A maximum of 8 conditions are supported in a filter.
• The total number of conditions plus the number of Boolean operators supported in a
filter is 16.
• The filter requires a valid module name, even if you omit the module option.
• For backward compatibility, the following syntax from previous releases is still sup-
ported:
logging email severity-level
The severity-level can be one or more of the following (specify either the severity
number o r name):
• 0 - emergency
• 1 - alert
• 2 - critical
• 5 - notification
The command is treated as a special filter. This filter is placed into effect only if the com-
mand syntax shown above is in the configuration. The filter has an implicit trigger
option for emergency, alert, and critical messages, to emulate the behavior in previous
releases.
Example The following command configures a filter that matches on log messages if they are infor-
mation-level messages and contain the string “abc”. The trigger option is not used, so the
messages will be buffered rather than emailed immediately.
ACOS(config)#logging email filter 1 “level information pattern abc and”
The following command reconfigures the filter to immediately email matching messages.
ACOS(config)#logging email filter 1 “level information pattern abc and” trigger
Example The following example configures a filter to send email if the log message is generated by
the “AFLEX” module and the severity level is “warning”:
ACOS(config)#logging email filter 1 “level warning module AFLEX and”
Example The following example configures a filter to send email if the log message has the pattern of
“disk is full” or the severity level is “critical”:
ACOS(config)#logging email filter 2 “pattern disk is full level critical or”
Example The following example configures a filter to send email if the log message is generated by
(module “SYSTEM” or “ALB”) and (the severity level is “alert” or has pattern of “unexpected
error”)
ACOS(config)#logging email filter 3 “module SYSTEM module ALB or level alert pattern unex-
pected error or and”
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 150
A10 Thunder Series and AX Series—Command Line Interface Reference
logging email-address
Description Specify the email addresses to which to send event messages.
Syntax [no] logging email-address address
Parameter Description
address Email address to which event message will be sent.
To specify multiple Email addresses, use the logging email-
address command once for each address.
Default None
Mode Configuration mode
Usage To configure the ACOS device to send log messages by email, you also must configure an
email filter. See “logging email filter” on page148.
Example The following command sets two email addresses to which to send log messages:
ACOS(config)#logging email-address PI:EMAIL
ACOS(config)#logging email-address PI:EMAIL
logging export
Description Send the messages that are in the event buffer to an external file server.
Syntax [no] logging export [all] [use-mgmt-port] url
Parameter Description
all Include system support messages.
use-mgmt-port Use the management interface as the source interface for the connection to the remote device.
The management route table is used to reach the device. Without this option, the ACOS device
attempts to use the data route table to reach the remote device through a data interface.
url Saves a backup of the log to a remote server.
You can enter the entire URL on the command line or press Enter to display a prompt for each
part of the URL. If you enter the entire URL and a password is required, you will still be
prompted for the password. The password can be up to 255 characters long.
To enter the entire URL:
• tftp://host/file
• ftp://[user@]host[:port]/file
• scp://[user@]host/file
• sftp://[user@]host/file
Default Not set
page 151 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Mode Configuration mode
Usage If the ACOS device is a member of an aVCS virtual chassis, use the device-context com-
mand to specify the device in the chassis to which to apply this command.
Example The following example sends the event buffer to an external file server using FTP. The file
“event-buffer-messages.txt” will be created on the remote server.
ACOS(config)#logging export ftp://exampleuser@examplehost/event-buffer-messages.txt
logging facility
Description Enable logging facilities.
Syntax [no] logging facility facility-name
Parameter Description
facility-name Name of a log facility:
• local0
• local1
• local2
• local3
• local4
• local5
• local6
• local7
Default The default facility is local0.
Mode Configuration mode
logging host
Description Specify a Syslog server to which to send event messages.
Syntax [no] logging host ipaddr [port protocol-port [tcp]] [use-mgmt-port]
Parameter Description
ipaddr IP address of the Syslog server.
protocol-port Protocol port number to which to send messages (1-32767).
tcp Use TCP as the transport protocol.
use-mgmt-port Establish the connection to the Syslog server using the management port.
Default The default protocol port is 514.
Mode Global configuration
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 152
A10 Thunder Series and AX Series—Command Line Interface Reference
Usage Multiple log servers can be created by using the logging host command once for each
server. If you use the command with the same IP address as an existing logging server, it
replaces any existing configuration for that existing server.
Example The following command configures two external log servers. In this example, both servers
use the default syslog protocol port, 514, to listen for log messages.
ACOS(config)#logging host 10.10.10.1
ACOS(config)#logging host 10.10.10.2
logging monitor
Description Set the logging level for messages sent to the terminal monitor.
Syntax [no] logging monitor
{disable | emergency | alert | critical | error | warning |
notification | information | debugging}
Parameter Description
disable Disable logging to the monitor.
emergency Send emergency events (severity level 0—system unusable) to the monitor.
alert Send alert events (severity level 1—take action immediately) to the monitor.
critical Send critical events (severity level 2—system is in critical condition) to the monitor.
error Send error events (severity level 3—system has an error condition) to the monitor.
warning Send warning events (severity level 4—system has warning conditions) to the monitor.
notification Send notifications (severity level 5—normal but significant conditions) to the monitor.
information Send informational messages (severity level 6) to the monitor.
debugging Send debug level messages (severity level 7) to the monitor.
Default Not set (no logging)