RouterId 标识。
可能原因
在一个区域内有至少两台非直连设备的router id配置相同，导致router lsa不断刷新，路
由振荡。
有两种场景会产生此条日志：
l 合理场景：Device A产生Type-5 LSA洪泛给Device B，由于某些原因，Device A重
新启动并重新与Device B建立邻居关系。此时，Device A就会从Device B收到自己
之前产生的Type-5 LSA，当Device A检查收到的Type-5 LSA的Router ID时，就会发
现和自己的Router ID冲突了，系统会产生此条日志。由于Type-5 LSA在系统中大
量存在，因此该场景很容易出现，是一个合理的场景，用户收到此条日志后，无
需关注。
l 冲突场景：两个不同区域的设备配置了相同的Router ID，导致区域间设备的Router
ID冲突，发生路由震荡，系统会产生此条日志。
处理步骤
步骤1 检查外部路由振荡原因，如果存在区域间router id冲突，请修改router id配置。
----结束
61.8 OSPF/4/CONFLICT_ROUTERID_INTF
日志信息
OSPF/4/CONFLICT_ROUTERID_INTF: OSPF router ID conflict is detected on the
interface.(ProcessId=[ProcessId], RouterId=[RouterId], AreaId=[AreaId],
InterfaceName=[InterfaceName], IpAddr=[IpAddr], PacketSrcIp=[PacketSrcIp])
日志含义
OSPF在接口上检测到标识冲突。
日志参数
参数名称 参数含义
ProcessId 进程号。
RouterId 标识。
AreaId 区域标识。
InterfaceName 接口名称
文档版本 06 (2017-09-12) 华为专有和保密信息 592
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 61 OSPF
参数名称 参数含义
IpAddr IP地址。
PacketSrcIp 报文源地址。
可能原因
直连接口配置冲突的router id触发。
处理步骤
步骤1 通过接口找到冲突的router id，修改router id配置。
----结束
61.9 OSPF/4/CONFLICT_ROUTERID_INTRA
日志信息
OSPF/4/CONFLICT_ROUTERID_INTRA: Router IDs conflict in an intra area.
(ProcessId=[ProcessId], AreaId=[AreaId], SelfIfnetIndex=[SelfIfnetIndex],
NbrIpAddr=[NbrIpAddr], RouterId=[RouterId], NbrRtrId=[NbrRtrId])
日志含义
OSPF在区域内检测到标识冲突。
日志参数
参数名称 参数含义
ProcessId 进程号。
AreaId 区域标识。
SelfIfnetIndex 接口索引。
NbrIpAddr 邻居IP地址。
RouterId 标识。
NbrRtrId 邻居路由器标识。
可能原因
在一个区域内有至少两台非直连设备的Router ID配置相同，导致router lsa不断刷新，路
由振荡。
处理步骤
步骤1 修改冲突的Router ID，保证网络上在同一个区域内没有设备的router id配置重复。
----结束
文档版本 06 (2017-09-12) 华为专有和保密信息 593
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 61 OSPF
61.10 OSPF/4/
CONFLICT_ROUTERID_INTRA_RECOVER
日志信息
OSPF/4/CONFLICT_ROUTERID_INTRA_RECOVER: Router IDs confliction is recovered.
(ProcessId=[ProcessId], AreaId=[AreaId], OldRouterId=[OldRouterId],
NewRouterId=[NewRouterId])
日志含义
Router ID冲突解决。
日志参数
参数名称 参数含义
ProcessId 进程号。
AreaId 区域标识。
OldRouterId 原来的路由器标识。
NewRouterId 新的路由器标识。
可能原因
在一个区域内有至少两台非直连路由器的Router ID配置相同，导致router lsa不断刷新，
路由振荡。设备会自动修改Router ID，解决冲突。
处理步骤
l 正常运行信息，无需处理。
----结束
61.11 OSPF/6/ENTER_HELPER
日志信息
OSPF/6/ENTER_HELPER: OSPF [ProcessId] enter helper successful.
日志含义
进入Helper模式成功。
文档版本 06 (2017-09-12) 华为专有和保密信息 594
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 61 OSPF
日志参数
参数名称 参数含义
[ProcessId] 进程号。
可能原因
进入Helper模式成功。
处理步骤
l 正常运行信息，无需处理。
----结束
61.12 OSPF/6/EXIT_HELPER
日志信息
OSPF/6/EXIT_HELPER: OSPF process exit helper mode. (ProcessId=[ProcessId],
NbrInformation=[NbrInformation], IfIpAddress=[IfIpAddress])
日志含义
退出helper模式。
日志参数
参数名称 参数含义
ProcessId 进程号。
NbrInformation 邻居信息。
IfIpAddress 接口IP地址。
可能原因
该进程为所有的邻居退出Helper模式。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
文档版本 06 (2017-09-12) 华为专有和保密信息 595
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 61 OSPF
61.13 OSPF/4/HELPER_EXIT_RECV_LSA
日志信息
OSPF/4/HELPER_EXIT_RECV_LSA: OSPF exit the helper mode because flooding received
changed LSA. (ProcessId=[ProcessId], InterfaceName=[InterfaceName],
NbrIpAddr=[NbrIpAddr], LsaType=[LsaType], AdvertisingRouter=[AdvertisingRouter],
LinkId=[LinkId])
日志含义
退出helper模式，收到改变的LSA。
日志参数
参数名称 参数含义
ProcessId 进程号。
InterfaceName 接口名称。
NbrIpAddr 邻居IP地址。
LsaType LSA类型。
AdvertisingRouter 发布路由器。
LinkId 链路ID。
可能原因
拓扑改变。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
61.14 OSPF/6/HELPER_TIMER_FIRED
日志信息
OSPF/6/HELPER_TIMER_FIRED: OSPF exit helper mode because grace period timer for
neighbor expired. (ProcessId=[ProcessId], InterfaceName=[InterfaceName],
NbrIpAddr=[NbrIpAddr])
日志含义
退出helper模式。
文档版本 06 (2017-09-12) 华为专有和保密信息 596
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 61 OSPF
日志参数
参数名称 参数含义
ProcessId 进程号。
InterfaceName 接口名称。
NbrIpAddr 邻居IP地址。
可能原因
在邻居完成GR之前，邻居的GR定时器超时。
处理步骤
步骤1 为邻居的GR定时器配置合适的值。
----结束
61.15 OSPF/6/IF_NO_RES_NBR_EXIT
日志信息
OSPF/6/IF_NO_RES_NBR_EXIT: OSPF [ProcessId] cannot exit the helper mode on
interface [IfName] as no restarting neighbor is found on this interface.
日志含义
由于接口上没有找到Restarter不能退出Helper模式。
日志参数
参数名称 参数含义
[ProcessId] 进程号。
[IfName] 接口名称。
可能原因
在接口上找不到需要帮助其重启的邻居。
处理步骤
l 正常运行信息，无需处理。
----结束
文档版本 06 (2017-09-12) 华为专有和保密信息 597
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 61 OSPF
61.16 OSPF/6/LDP_SYNC_CREA
日志信息
OSPF/6/LDP_SYNC_CREA: Interface [IfName] LDP synchronization hold maximum cost
timer created.
日志含义
LDP联动Hold max cost定时器创建。
日志参数
参数名称 参数含义
[IfName] 接口名称。
可能原因
使能LDP联动。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
61.17 OSPF/6/LDP_SYNC_EVENT
日志信息
OSPF/6/LDP_SYNC_EVENT: Interface [IfName] received LDP event [LdpEvent], LDP
synchronization state [PrevState] change to [CurrentSatate].
日志含义
LDP联动状态发生迁移。
日志参数
参数名称 参数含义
[IfName] 接口名称。
[LdpEvent] LDP联动消息。
[PrevState] 本机先前状态。
[CurrentSatate] 本机目前状态。
文档版本 06 (2017-09-12) 华为专有和保密信息 598
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 61 OSPF
可能原因
LDP联动状态发生迁移。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
61.18 OSPF/6/LDP_SYNC_FIRE
日志信息
OSPF/6/LDP_SYNC_FIRE: Interface [IfName] LDP synchronization hold maximum cost
timer expired.
日志含义
LDP联动Hold max cost定时器超时。
日志参数
参数名称 参数含义
[IfName] 接口名称。
可能原因
定时器超时。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
61.19 OSPF/6/LSA_SEQ_WRAP
日志信息
OSPF/6/LSA_SEQ_WRAP:LSA's sequence number wraps. (ProcessId=[ProcessId],
LsaType=[LsaType], AdvertisingRouter=[RouterId], LinkId=[LinkId])
日志含义
LSA序号回绕。
文档版本 06 (2017-09-12) 华为专有和保密信息 599
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 61 OSPF
日志参数
参数名称 参数含义
ProcessId 进程号。
LsaType LSA类型：
l 1：router lsa
l 2：network lsa
l 3：sum-net lsa
l 4：sum-asbr lsa
l 5：external lsa
l 7：nssa lsa
l 9：opaque-link lsa
l 10：opaque-area lsa
l 11：opaque-as lsa
AdvertisingRouter 产生该LSA的Router ID。
LinkId 链路ID。
可能原因
进程产生新的LSA实例，导致LSA序列号超过最大值(0x7fffffff)。
处理步骤
l 正常运行信息，无需处理。
----结束
61.20 OSPF/6/NBR_CHANGE
日志信息
OSPF/6/NBR_CHANGE:Neighbor changes event: neighbor status changed.
(ProcessId=[ProcessId], NbrIpAddr=[NbrIpAddr], NbrEvent=[NbrEvent],
NbrPreviousState=[NbrPreviousState], NbrCurrentState=[NbrCurrentState])
日志含义
收到一个邻居状态变化的事件。
文档版本 06 (2017-09-12) 华为专有和保密信息 600
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 61 OSPF
日志参数
参数名称 参数含义
[ProcessId] 进程号。
[NbrIpAddr] 邻居地址。
[NbrEvent] 导致邻居状态变化的事件：
l 0：HelloReceived，从邻居接收到一个Hello
l 1：Start，NBMA接口将以HelloInterval间隔向邻居发送Hello报
文
l 2：2WayReceived，两台邻居设备之间达到双向通讯状态
l 3：NegotiationDone，邻居间完成主从协商
l 4：ExchangeDone，两台设备都已成功交换了完整的DD报文
l 5：BadLsReq，收到错误的LSR报文
l 6：LoadingDone，数据库交换过程完成
l 7：AdjOK，是否需要与邻居建立、维持邻接关系
l 8：SequenceNumberMismatch，DD报文序列号不匹配
l 9：1Way，从邻居收到1-way的Hello报文
l 10：KillNbr，删除邻居
l 11：LLDown，底层链路Down
l 12：InactivityTimer，邻居保持计时器被触发
[NbrPreviousState] 邻居先前状态：
l 0：Down
l 1：Init
l 2：Attempt
l 3：2Way
l 4：ExStart
l 5：Exchange
l 6：Loading