RDS for PG(PostgreSQL)
产品介绍
阿里云
digoal
目录
• 什么是 RDS
• RDS 产品形态
• RDS for PG 技术架构
• RDS for PG 产品特性
• 云 VS 自建
• RDS for PG 产品生态
• PG 与 MySQL结合使用解决哪些问题?
什么是RDS
RDS是阿里云提供的关系型数据库服务，支持MySQL，PostgreSQL，MS SQL。
面向企业设计，统一的管控平台，完整支持数据库生命周期管理：
（可靠性、安全、性能检测与优化、扩展、管理功能等方面。）
为企业用户提供开箱即用的数据库能力。
管理、监
控、审计、
生命周期统一管控-
Cloud DBA
OPENAPI、
MySQL,
研发资源、
内核可控
PostgreSQL.
MS SQL.
开箱即用
备份、
克隆、
容灾
安全、HA、
多可用区、
只读实例
RDS for PG 输出形态
公共云
虚拟运营商
专有云
大客户专属模式
敏捷版
RDS for PG 技术架构
应用
SLB
生态
统
工具
一 【打破孤岛】
：
PG PG PG 对接
oss_fdw外部表: 管
PG
【打破孤岛】 主 从 只读 DMS 【海量计算】
【对接云端】 控
【海量计算】
DBS
基础版 平
多可用区，高可用版 只读实例
DTS
台
ADB
备份
函数计算
MAX
(冷数据外部表存储) 阿里云OSS海量对象存储 Compute
RDS for PG 产品特性
•支持高可用版、基础版 •ESSD(云盘版、3副本) •全量+归档备份 •SSL链路 •只读、容灾实例
•HA版支持主备多可用区 •32T 100W IOPS •克隆实例 •数据加密 •跨可用区(本地盘版支持，云盘
•保护模式可选(云盘高可用版)： •SSD •（时间点、备份集、实例克隆） •云盘加密(BYOK,CMK) 版2月)
•最大保护、最高可用、最大性 •6TB 5W IOPS •备份策略管理 •网络访问安全组 •跨Region(规划)
能 •本地盘 •SQL审计 •云盘版只读实例(规划)
•强同步、半同步、异步 •6TB 5W IOPS •SGX全加密版(达摩院合作) •不限规格
•64C 512G(规划104C 768G) •9副本(云盘6副本+oss3副本)
大容量
高可用 备份恢复 安全、可靠 只读、容灾
高性能
•性能洞察 •开放OPENAPI •用户、数据库管理 •冷热分离存储（OSS外部表） •GPU加速规格(10基础版)
•SQL洞察 •大型企业 •版本升级管理 •实时中文分词、模糊查询 •CPU并行(10,11,12版)
•一键诊断 •PaaS服务型企业 •参数管理 •向量相似搜索（图像搜索） •20x+提速
•秒级监控 •支持Terraform平台 •HA机制管理 •多维搜索
•性能监控、告警配置 •用户画像（实时营销圈人）
•SQL翻译(Oracle to PG)规划 •PostGIS、Ganos时空
•插件管理（规划） •SQL/JSON path语法…其他扩展
CloudDBA OPENAPI 便捷管理 应用增强 并行计算加速
RDS for PG 特性解读 - 1 【性能洞察】
性
能
洞
察
，
微
观
宏
观
，
问
题
毕
现
RDS for PG 特性解读 - 2 【并行计算，支撑混合负载业务】
高性能 自动并行 覆盖几乎所有复杂查询
l 表扫描
l 索引扫描
l 不需要改写SQL
l SQL 过滤
l 自动根据SQL代价启动并行计算
l 平均20倍+提速 l JOIN、子查询
l 支持自定义配置并行度
l RDS PG 11+ l 聚合、自定义函数
l 支持配置最大并行度，防止资源
l 分区表、外部表
耗尽
l 自定义聚合、函数
l 排序、建表、物化、创建索引
RDS for PG 特性解读 - 2 【并行计算，支撑混合负载业务】
RDS for PG 特性解读 - 2 【并行计算，支撑混合负载业务】
RDS for PG 特性解读 - 2 【并行计算，支撑混合负载业务】
RDS for PG 特性解读 - 2 【并行计算，支撑混合负载业务】
RDS for PG 特性解读 - 3 【多模。应用增强特性】
时空、
图谱、 图像、多维 文本
GIS、 用户画像、 相似分析、 分析、搜索，
实时营销圈人 向量搜索 冷热分离
时序
插件：
插件：
l Imgsmlr(图像相似) 插件：
插件： l ltree(树模块)
l cube(高维向量) l pg_trgm(模糊查询)
l Ganos(自研GIS模块) l varbitx(位图模块)
l Smlar(文本相似) l Zhparser(中文分词)
l PostGIS(GIS模块) l pg_roaringbitmap
l Pase(高维向量模块) l oss_fdw(冷热分离)
l Timescaledb l (高级位图模块)
l 向量相似 l JSONB(文档类型)
l (时序模块)
l 人脸识别 l SQL/JSON path语法
索引：
索引： l GIN
索引： 索引：
l GiST l GiST
l GIN l GIN
l BRIN l rum
l GiST l rum
l bloom
l Pase(hnsw, ivfflat算法)
RDS for PG 特性解读 - 4 【无死角全加密-特殊版本】
Computer & Mobile Apps
Secure Enclave
Isolation – Secure
Execution Environment
Sealing – Data Storage
Encryption
Attestation – Local and
Application Services
Remote Attestation
防:
• 网络攻击
• 数据库攻击
• 操作系统攻击
• 存储攻击
• 机房攻击
• DBA窃取数据
• 云平台泄露数据
Inaccessible
• 云平台管理员窃取数据
RDS for PG 特性解读 - 5 【专业GIS模块 - Ganos】
平面几
何模型
拓扑网 球面几
络模型 何模型
SQL
点云模 栅格模
型 型
时空轨
迹模型
RDS PG相比自建PG优势
管理优势 安全优势 研发优势
l 开箱即用
l 多可用区HA、监控、
l 备份、克隆、性能洞察 l 持续fix bug
l SSL、
l 7*24 专家值班 l 持续内核优化
l 多重HA保护模式可选 l 专业GIS模块
l 云盘加密、
l 最大保护(强同步)、 l 定制、开源插件更丰富
l 最高可用(半同步)、 l 持续更新版本
l SGX全加密数据库规格、
l 最高性能(异步) l 顶级数据库专家
l 多重形态可选 l 完全兼容社区版本
l 安全组
l 基础版、 l 不绑定、自由割接
l 高可用版、
l 只读实例
产品生态
工具生态 合作伙伴 技术社群 官方支持 官方文档
l DBS,DMS,DTS l 开发者手册
l 全量、增量同步 l 服务伙伴 l 管理手册
l 阿里云大学课程
l 图形化管理|开发工具 l 开发商伙伴 l 最佳实践
l 专家服务
l 云监控工具 l 培训伙伴 l 时空GIS开发手册
l OPENAPI手册
MySQL+PostgreSQL解决什么问题？
加速请求：
• 分析
• 复杂查询
• GIS（地理信息）
• 实时广告业务(用户画像)
应用
• 分词、模糊查询
• 图像识别等
l 并行计算
20x+提速
RDS RDS
DTS 增量订阅同步 l 多模
MySQL PG
应用增强
两条数据链路：
1、dts
2、mysql_fdw
PG可通过mysql_fdw外部表访问mysql table
一期开课计划
• - 2019.12.30 19:30 RDS PG产品概览，如何与MySQL结合使用
• - 2019.12.31 19:30 如何连接PG，GUI，CLI的使用
• - 2020.1.3 19:30 如何压测PG数据库、如何瞬间构造海量测试数据
• - 2020.1.6 19:30 MySQL与PG类型、语法、函数等对应关系
• - 2020.1.7 19:30 如何将mysql数据同步到PG（dts）
• - 2020.1.8 19:30 PG外部表妙用 - mysql_fdw, oss_fdw（直接读写MySQL数据、冷热分离）
• - 2020.1.9 19:30 PG应用场景介绍 - 并行计算，实时分析
• - 2020.1.10 19:30 PG应用场景介绍 - GIS
• - 2020.1.13 19:30 PG应用场景介绍 - 用户画像、实时营销系统
• - 2020.1.14 19:30 PG应用场景介绍 - 多维搜索
• - 2020.1.15 19:30 PG应用场景介绍 - 向量计算、图像搜索
• - 2020.1.16 19:30 PG应用场景介绍 - 全文检索、模糊查询
• - 2020.1.17 19:30 pg 数据分析语法介绍
• - 2020.1.18 19:30 pg 更多功能了解：扩展语法、索引、类型、存储过程与函数。如何加入PG技术社群