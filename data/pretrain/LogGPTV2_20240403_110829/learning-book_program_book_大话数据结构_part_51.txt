10
14
9
10
13
15
图8-8-14
当然，如果对2-3树的插入和删除等所有的情况进行讲解，既占篇幅，又没必
要，总的来说它是有规律的，需要你们在上面的这些例子中多去体会后掌握。
8.8.22-3-4树
有了2-3树的讲解，2-3-4树就很好理解了，它其实就是2-3树的概念扩展，包括
了4结点的使用。一个4结点包含小中大三个元素和四个孩子（或没有孩子），一个4
348
---
## Page 373
第8章查找
结点要么没有孩子，要么具有4个孩子。如果某个4结点有孩子的话，左子树包含小
于最小元素的元素；第二子树包含大于最小元素，小于第二元素的元素；第三子树包
含大于第二元素，小于最大元素的元素；右子树包含大于最大元素的元素。
由于2-3-4树和2-3树是类似的，我们这里就简单介绍一下，如果我们构建一个
数组为{7,1,2,5,6,9,8,4,3}的2-3-4树的过程，如图8-8-15所示。图1是在分别插入
7、1、2时的结果图，因为3个元素满足2-3-4树的单个4结点定义，因此此时不需
要拆分，接着插入元素5，因为已经超过了4结点的定义，因此拆分为图2的形状。
之后的图其实就是在元素不断插入时最后形成了图7的2-3-4树。
?
9
8
127
12）
12
679
图1
图2
图3
图4
358
12
67
（14
67
图5
图6
图7
图8-8-15
图8-8-16是对一个2-3-4树的删除结点的演变过程，删除顺序是1、6、3、4、
5、2、9。
58
7
2
7
9
图
图2
图3
8
2
9
7
78
图4
图5
9
图7
图8-8-16
8.8.3B树
我们本节名称叫B树，但到了现在才开始提到它，似乎这主角出来的实在太晚
349
---
## Page 374
大语数据结构
了，可其实，我们前面一直都在讲B树。
B树（B-tree）是一种平衡的多路查找树，2-3树和2-3-4树都是B树的特例。结
点最大的孩子数目称为B树的阶（order），因此，2-3树是3阶B树，2-3-4树是4
阶B树。
一个m阶的B树具有如下属性：
■如果根结点不是叶结点，则其至少有两棵子树。
每一个非根的分支结点都有k-1个元素和k个孩子，其中[m/2l2×（[m/2]）k1，即：
k
注”：本节详细内客讲解可以参考（算法导论）第区章的内容
353
---
## Page 378
大话数据结构
来折半查找，直到相等时查找成功返回1。最终我们的目的都是为了找到那个i，其实
也就是相对的下标，再通过顺序存储的存储位置计算方法，LOC（a）=LOC（a）·+
（i-1）×c，也就是通过第一个元素内存存储位置加上i一1个单元位置，得到最后的
内存地址。
此时我们发现，为了查找到结果，之前的方法“比较”都是不可避免的，但这是
否真的有必要？能否直接通过关键字key得到要查找的记录内存存储位置呢？
8.9.1散列表查找定义
试想这样的场景，你很想学太极拳，听说学校有个叫张三丰的人打得特别好，于
是你到学校学生处找人，学生处的工作人员可能会拿出学生名单，一个一个的查找，
最终告诉你，学校没这个人，并说张三丰几百年前就已经在武当山作古了。可如果你
找对了人，比如在操场上找那些爱运动的同学，人家会告诉你，“哦，你找张三丰呀，
有有有，我带你去。”于是他把你带到了体育馆内，并告诉你，那个教大家打太极的小
图 8-9-1
学生处的老师找张三丰，那就是顺序表查找，依赖的是姓名关键字的比较。面通
过爱好运动的同学询问时，没有遍历，没有比较，就凭他们“欲找太极‘张三丰，必
在体育馆当中”的经验，直接告诉你位置。
也就是说，我们只需要通过某个函数f，使得
存储位置=f（关键字）
那样我们可以通过查找关键字不需要比较就可获得需要的记录的存储位置。这就
354
---
## Page 379
第8章查找
是一种新的存储技术—散列技术。
散列技术是在记录的存储位置和它的关键字之间建立一个确定的对应关系f，使得
每个关键字key对应一个存储位置f（key）。查找时，根据这个确定的对应关系找到
置上。
这里我们把这种对应关系f称为散列函数，又称为哈希（Hash）函数。按这个思
想，采用散列技术将记录存储在一块连续的存储空间中，这块连续存储空间称为散列
表或哈希表（Hashtable）。那么关键字对应的记录存储位置我们称为散列地址。
8.9.2散列表查找步骤
整个散列过程其实就是两步。
（1）在存储时，通过散列函数计算记录的散列地址，并按此散列地址存储该记
录。就像张三丰我们就让他在体育馆，那如果是爱因斯坦’我们让他在图书馆，如
果是‘居里夫人'，那就让她在化学实验室，如果是‘巴顿将军’，这个打仗的将军一
一我们可以让他到网吧。总之，不管什么记录，我们都需要用同一个散列函数计算出
地址再存储。
散列表
编号姓名
地址
爱因斯坦
张三丰
体育馆
散列函数
张三丰
2
爱因斯坦
图书馆
3
居里夫人
化学实验室
V
巴顿
居里夫人
4
巴顿
网吧
图 8-9-2
（2）当查找记录时，我们通过同样的散列函数计算记录的散列地址，按此散列地
址访问该记录。说起来很简单，在哪存的，上哪去找，由于存取用的是同一个散列函