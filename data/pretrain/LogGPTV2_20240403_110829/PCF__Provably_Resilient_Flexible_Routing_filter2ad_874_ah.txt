ğœğ‘’ğ‘ ğ‘¡ â‰¥ 0 âˆ€ğ‘ , ğ‘¡ âˆˆ ğ‘‰ ,âˆ€ğ‘’ âˆˆ ğ¸
ğœ™ğ‘™ â‰¥ 0 âˆ€ğ‘ , ğ‘¡ âˆˆ ğ‘‰ ,âˆ€ğ‘™ âˆˆ ğ‘‡ (ğ‘ , ğ‘¡).
More general conditions (Â§3.4). Let â„ğ‘ be a condition that
requires all links in ğœ‚ğ‘ to be alive and all links in ğœ‰ğ‘ to be dead.
Then we model â„ğ‘ by linearizing the constraint:

ğ‘’âˆˆğœ‰ğ‘

ğœ‚ğ‘
â„ğ‘ =
ğ‘¥ğ‘’
(1 âˆ’ ğ‘¥ğ‘’)
as follows:
(â„ğ‘ âˆ’ 1) + ğ‘¥ğ‘’ â‰¤ 0 âˆ€ğ‘’ âˆˆ ğœ‚ğ‘
â„ğ‘ âˆ’ ğ‘¥ğ‘’ â‰¤ 0 âˆ€ğ‘’ âˆˆ ğœ‰ğ‘
(1 âˆ’ â„ğ‘) âˆ’ 
ğ‘¥ğ‘’ âˆ’
ğ‘’âˆˆğœ‚ğ‘
ğ‘’âˆˆğœ‰ğ‘
0 â‰¤ â„ğ‘ â‰¤ 1.
(1 âˆ’ ğ‘¥ğ‘’) â‰¤ 0
We model ğ‘Œ ğ» by adding the above constraints for each LS ğ‘ to (4).
Proof of Proposition 5. We will show ğ‘€ âˆˆ Rğ‘ƒÃ—ğ‘ƒ is a weakly-
chained diagonally dominant matrix, where ğ‘€ğ‘– ğ‘—,ğ‘–1 ğ‘—1 â‰¤ 0 for (ğ‘–, ğ‘—) â‰ 
(ğ‘–1, ğ‘—1). Then, it follows from Theorems 2.1 and 2.2 in [8] that ğ‘€ is
an invertible M-Matrix.
For a particular failure scenario ğ‘¥, let ğ‘‡ğ‘¥ (ğ‘ , ğ‘¡) denote the set of
alive tunnels from ğ‘  to ğ‘¡, ğ¿ğ‘¥ (ğ‘ , ğ‘¡) denote the set of active LSs from ğ‘ 
to ğ‘¡ and ğ‘„ğ‘¥ (ğ‘ , ğ‘¡) denote the active LSs which go through segment
(ğ‘ , ğ‘¡). We first give the formal definition of ğ‘ƒ, the set of node pairs
of interest. A node pair (ğ‘–1, ğ‘—1) âˆˆ ğ‘ƒ if and only if there is a sequence
of node pairs (ğ‘–1, ğ‘—1), (ğ‘–2, ğ‘—2),...,(ğ‘–ğ‘˜, ğ‘—ğ‘˜), such that ğ‘§ğ‘–ğ‘˜ ğ‘—ğ‘˜ ğ‘‘ğ‘–ğ‘˜ ğ‘—ğ‘˜ > 0
and âˆ€ğ‘š : 1 â‰¤ ğ‘š â‰¤ ğ‘˜ âˆ’ 1, âˆƒğ‘ âˆˆ ğ¿ğ‘¥ (ğ‘–ğ‘š+1, ğ‘—ğ‘š+1) âˆ© ğ‘„ğ‘¥ (ğ‘–ğ‘š, ğ‘—ğ‘š) such
that ğ‘ğ‘ > 0. There is a chain of LSs, such that a preceding LS serves
a segment in the subsequent LS, where the last LS serves a pair
with non-zero allocation and the first LS contains (ğ‘–, ğ‘—). For the
node pairs which are not included in ğ‘ƒ, we set ğ‘ˆ (ğ‘–, ğ‘—) = 0.
Next, we formally define each entry in ğ‘€. The diagonal of ğ‘€ is
the sum of available reservations on the pair, i.e.âˆ€(ğ‘–, ğ‘—) âˆˆ ğ‘ƒ, ğ‘€ğ‘– ğ‘—,ğ‘– ğ‘— =
node pair needs to carry for other node pairs, i.e. for (ğ‘–, ğ‘—) â‰  (ğ‘š, ğ‘›)
It is easy to see that ğ‘€ is weakly diagonally dominated because
ğ‘€ Ã— (cid:174)1 â‰¥ (cid:174)ğ· â‰¥ 0, where the first inequality is the capacity constraint
and second because ğ‘§ğ‘ğ‘‘ğ‘ â‰¥ 0 for all ğ‘.
From our definition of ğ‘ƒ, we know that âˆ€(ğ‘–1, ğ‘—1) âˆˆ ğ‘ƒ, there
is a sequence (ğ‘–1, ğ‘—1), (ğ‘–2, ğ‘—2),...,(ğ‘–ğ‘˜, ğ‘—ğ‘˜), such that ğ‘§ğ‘–ğ‘˜ ğ‘—ğ‘˜ ğ‘‘ğ‘–ğ‘˜ ğ‘—ğ‘˜ > 0
and âˆ€ğ‘š : 1 â‰¤ ğ‘š â‰¤ ğ‘˜ âˆ’ 1, âˆƒğ‘ âˆˆ ğ¿ğ‘¥ (ğ‘–ğ‘š+1, ğ‘—ğ‘š+1) âˆ© ğ‘„ğ‘¥ (ğ‘–ğ‘š, ğ‘—ğ‘š) :
ğ‘ğ‘ > 0. Thus, for each row (ğ‘–, ğ‘—) âˆˆ ğ‘ƒ, there is a sequence (ğ‘–1, ğ‘—1),
(ğ‘–2, ğ‘—2),...,(ğ‘–ğ‘˜, ğ‘—ğ‘˜), such that
ğ‘€ğ‘–ğ‘˜ ğ‘—ğ‘˜,ğ‘šğ‘›
ğ‘™âˆˆğ‘‡ğ‘¥ (ğ‘–,ğ‘—) ğ‘ğ‘™ +ğ‘âˆˆğ¿ğ‘¥ (ğ‘–,ğ‘—) ğ‘ğ‘. Other entries of ğ‘€ denote how much a
we set ğ‘€ğ‘– ğ‘—,ğ‘šğ‘› = âˆ’ğ‘âˆˆğ‘„ğ‘¥ (ğ‘–,ğ‘—)âˆ©ğ¿ğ‘¥ (ğ‘š,ğ‘›) ğ‘ğ‘.

ğ‘ğ‘™ + 

(ğ‘š,ğ‘›)âˆˆğ‘ƒ
=
ğ‘™âˆˆğ‘‡ğ‘¥ (ğ‘–ğ‘˜,ğ‘—ğ‘˜)
â‰¥ ğ‘§ğ‘–ğ‘˜ ğ‘—ğ‘˜ ğ‘‘ğ‘–ğ‘˜ ğ‘—ğ‘˜ > 0,
ğ‘ğ‘ âˆ’ 
ğ‘ğ‘
ğ‘âˆˆğ¿ğ‘¥ (ğ‘–ğ‘˜,ğ‘—ğ‘˜)
ğ‘âˆˆğ‘„ğ‘¥ (ğ‘–ğ‘˜,ğ‘—ğ‘˜)
ğ‘€ğ‘– ğ‘—,ğ‘–1 ğ‘—1 = âˆ’ğ‘âˆˆğ‘„ğ‘¥ (ğ‘–,ğ‘—)âˆ©ğ¿ğ‘¥ (ğ‘–1,ğ‘—1) ğ‘ğ‘ â‰¤ 0, it follows that ğ‘€ is an
andâˆ€ğ‘š : 1 â‰¤ ğ‘š â‰¤ ğ‘˜âˆ’1, ğ‘€ğ‘–ğ‘˜ ğ‘—ğ‘˜,ğ‘–ğ‘˜+1 ğ‘—ğ‘˜+1 â‰  0. Therefore, ğ‘€ is a weakly-
chained diagonally dominant matrix. Since, for (ğ‘–, ğ‘—) â‰  (ğ‘–1, ğ‘—1),
invertible M-matrix and there is a unique solution (cid:174)ğ‘ˆ âˆ— to the linear
system ğ‘€ Ã— (cid:174)ğ‘ˆ = (cid:174)ğ·.
Next, we use Brouwer fixed-point theorem [7] to prove that all
entries of the solution are in [0, 1]. Let ğ‘“ ( (cid:174)ğ‘ˆ) be a function mapping
from [0, 1]ğ‘ƒ to Rğ‘ƒ. We define ğ‘“ ( (cid:174)ğ‘ˆ) as
ğ‘“ ( (cid:174)ğ‘ˆ)ğ‘–,ğ‘— =
Observe that the denominator is larger than zero. If not, it follows
from weak diagonal dominance that ğ‘€ğ‘– ğ‘—,ğ‘–â€² ğ‘—â€² = 0 for all (ğ‘–â€², ğ‘—â€²) â‰ 
(cid:174)ğ·(ğ‘–, ğ‘—) +(ğ‘š,ğ‘›)âˆˆğ‘ƒ,ğ‘âˆˆğ‘„ğ‘¥ (ğ‘–,ğ‘—)âˆ©ğ¿ğ‘¥ (ğ‘š,ğ‘›) (cid:174)ğ‘ˆ (ğ‘š, ğ‘›)ğ‘ğ‘
ğ‘™âˆˆğ‘‡ğ‘¥ (ğ‘–,ğ‘—) ğ‘ğ‘™ +ğ‘âˆˆğ¿ğ‘¥ (ğ‘–,ğ‘—) ğ‘ğ‘
(11)
.
Moreover,
PCF: Provably Resilient Flexible Routing
(ğ‘–, ğ‘—), which contradicts (ğ‘–, ğ‘—) âˆˆ ğ‘ƒ. It is easy to see that (cid:174)ğ‘ˆ0 is a
solution to ğ‘€ Ã— (cid:174)ğ‘ˆ = (cid:174)ğ· if ğ‘“ ( (cid:174)ğ‘ˆ0) = (cid:174)ğ‘ˆ0. With (cid:174)ğ‘ˆ âˆˆ [0, 1]ğ‘ƒ, we have
(12)
(cid:174)ğ·(ğ‘–, ğ‘—)
ğ‘“ ( (cid:174)ğ‘ˆ)ğ‘–,ğ‘— â‰¥
â‰¥ 0.
ğ‘™âˆˆğ‘‡ğ‘¥ (ğ‘–,ğ‘—) ğ‘ğ‘™ +ğ‘âˆˆğ¿ğ‘¥ (ğ‘–,ğ‘—) ğ‘ğ‘
(cid:174)ğ·(ğ‘–, ğ‘—) +(ğ‘š,ğ‘›)âˆˆğ‘ƒ,ğ‘âˆˆğ‘„ğ‘¥ (ğ‘–,ğ‘—)âˆ©ğ¿ğ‘¥ (ğ‘š,ğ‘›) ğ‘ğ‘
ğ‘™âˆˆğ‘‡ğ‘¥ (ğ‘–,ğ‘—) ğ‘ğ‘™ +ğ‘âˆˆğ¿ğ‘¥ (ğ‘–,ğ‘—) ğ‘ğ‘
ğ‘“ ( (cid:174)ğ‘ˆ)ğ‘–,ğ‘— â‰¤
â‰¤ 1,
(13)
where the first inequality is because (cid:174)ğ‘ˆ (ğ‘š, ğ‘›) â‰¤ 1, ğ‘ğ‘ â‰¥ 0, and the
denominator is positive. The second inequality is from the capacity
constraint. Since ğ‘“ is a continuous function mapping from [0, 1]ğ‘ƒ to
[0, 1]ğ‘ƒ, and [0, 1]ğ‘ƒ is a compact convex set, it follows from Brouwer
fixed-point theorem [7] that there is at least one point ğ‘ˆ0 âˆˆ [0, 1]ğ‘ƒ
so that ğ‘“ (ğ‘ˆ0) = ğ‘ˆ0, which we have already argued is the unique
solution to ğ‘€ Ã— (cid:174)ğ‘ˆ = (cid:174)ğ·. â–¡
Proof of Proposition 6. We consider (ğ‘ , ğ‘¡) column of ğ‘€âˆ’1,
which exists by Proposition 5, and denote it as ğœ†.
By definition, ğ‘€ = ğ´ + ğµ where ğ´ is a diagonal matrix with
ğ´ğ‘ ğ‘¡,ğ‘ ğ‘¡ =ğ‘™âˆˆğ‘‡ğ‘¥ (ğ‘ ,ğ‘¡) ğ‘ğ‘™, ğµğ‘ ğ‘¡,ğ‘ ğ‘¡ =ğ‘âˆˆğ¿ğ‘¥ (ğ‘ ,ğ‘¡) ğ‘ğ‘, and for (ğ‘ , ğ‘¡) â‰  (ğ‘š, ğ‘›),
ğµğ‘ ğ‘¡,ğ‘šğ‘› = âˆ’(ğ‘š,ğ‘›)âˆˆğ‘ƒ,ğ‘âˆˆğ‘„ğ‘¥ (ğ‘ ,ğ‘¡)âˆ©ğ¿ğ‘¥ (ğ‘š,ğ‘›) ğ‘ğ‘. Then it follows that

SIGCOMM â€™20, August 10â€“14, 2020, Virtual Event, NY, USA
Topology
# nodes
# edges
Topology
# nodes
# edges
B4
IBM
ATT
Quest
Tinet
Sprint
GEANT
Xeex
CWIX
Digex
IIJ
12
17
25
19
48
10
32
22
21
31
27
19
23
56
30
84
17
50
32
26
35
55
Janet Backbone
Highwinds
BTNorthAmerica
CRLNetwork
Darkstrand
Integra
Xspedius
InternetMCI
Deltacom
ION
29
16
36
32
28
23
33
18
103
114
45
29
76
37
31
32
47
32
151
135
Table 3: Topologies used in evaluation
Topologies summary (Â§5). Our evaluation is done using 21
topologies obtained from [22] and [23]. The number of nodes and
the number of edges of each topology is shown in Table 3.
ğœ†ğ‘šğ‘›ğ‘€ğ‘šğ‘›,Â· = ğ‘’ğ‘ ğ‘¡ ,
(ğ‘š,ğ‘›)âˆˆğ‘ƒ
(14)
where ğ‘’ğ‘ ğ‘¡ is (ğ‘ , ğ‘¡)ğ‘¡â„ unit vector in Rğ‘ƒ and ğ‘€ğ‘šğ‘›,Â· denotes the column
of ğ‘€ corresponding to the pair (ğ‘š, ğ‘›). It follows that
ğœ†ğ‘šğ‘›ğ´ğ‘šğ‘›,ğ‘šğ‘›ğ‘’ğ‘šğ‘› = ğ‘’ğ‘ ğ‘¡ âˆ’ 

ğœ†ğ‘šğ‘›ğµğ‘šğ‘›,Â·
(15)
(ğ‘š,ğ‘›)âˆˆğ‘ƒ
(ğ‘š,ğ‘›)âˆˆğ‘ƒ
Now, ğ‘’ğ‘ ğ‘¡ can be interpreted as a directed path carrying a unit flow
from ğ‘  to ğ‘¡. Moreover, we show that ğµğ‘šğ‘›,Â· is a circulation since
it can be written as an addition of cycles, one for each logical
sequence servicing (ğ‘š, ğ‘›). To show this, we only need to show that
for any ğ‘ âˆˆ ğ¿ğ‘¥ (ğ‘–, ğ‘—) with ğ‘ğ‘ > 0, if (ğ‘˜, ğ‘™) is a logical segment in ğ‘,
that is if ğ‘ âˆˆ ğ‘„ğ‘¥ (ğ‘˜, ğ‘™), then (ğ‘˜, ğ‘™) âˆˆ ğ‘ƒ. Since (ğ‘–, ğ‘—) âˆˆ ğ‘ƒ, there is a
weak chain from (ğ‘–, ğ‘—) to a strictly dominated pair. The existence
of ğ‘ shows that (ğ‘˜, ğ‘™) is connected to (ğ‘–, ğ‘—) since ğ‘€ğ‘˜ğ‘™,ğ‘– ğ‘— â‰¤ ğ‘ğ‘  0 are included in ğ‘ƒ. There-
fore, (cid:174)ğ· contains all the serviced demands and the proof is complete.

(ğ‘ ,ğ‘¡)âˆˆğ‘ƒ