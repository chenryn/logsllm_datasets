title:On the benefits of using a large IXP as an internet vantage point
author:Nikolaos Chatzis and
Georgios Smaragdakis and
Jan B&quot;ottger and
Thomas Krenc and
Anja Feldmann
On the Beneﬁts of Using a Large IXP
as an Internet Vantage Point
Nikolaos Chatzis
TU Berlin
PI:EMAIL
Georgios Smaragdakis
T-Labs/TU Berlin
PI:EMAIL
Jan Böttger
TU Berlin
PI:EMAIL
Thomas Krenc
TU Berlin
PI:EMAIL
Anja Feldmann
TU Berlin
PI:EMAIL
ABSTRACT
In the context of measuring the Internet, a long-standing question
has been whether there exist well-localized physical entities in to-
day’s network where trafﬁc from a representative cross-section of
the constituents of the Internet can be observed at a ﬁne-enough
granularity to paint an accurate and informative picture of how
these constituents shape and impact much of the structure and evo-
lution of today’s Internet and the actual trafﬁc it carries.
In this paper, we ﬁrst answer this question in the afﬁrmative by
mining 17 weeks of continuous sFlow data from one of the largest
European IXPs. Examining these weekly snapshots, we discover
a vantage point with excellent visibility into the Internet, seeing
week-in and week-out trafﬁc from all 42K+ routed ASes, almost
all 450K+ routed preﬁxes, from close to 1.5M servers, and around
a quarter billion IPs from all around the globe. Second, to show
the potential of such vantage points, we analyze the server-related
portion of the trafﬁc at this IXP, identify the server IPs and cluster
them according to the organizations responsible for delivering the
content. In the process, we observe a clear trend among many of
the critical Internet players towards network heterogenization; that
is, either hosting servers of third-party networks in their own infras-
tructures or pursuing massive deployments of their own servers in
strategically chosen third-party networks. While the latter is a well-
known business strategy of companies such as Akamai, Google,
and Netﬂix, we show in this paper the extent of network heteroge-
nization in today’s Internet and illustrate how it enriches the tradi-
tional, largely trafﬁc-agnostic AS-level view of the Internet.
Categories and Subject Descriptors
Computer Systems Organization,Computer Communication Net-
works,Network Operations [Network monitoring]:
Keywords
Internet Exchange Points, Internet Topology, Trafﬁc Characteriza-
tion, Content Delivery
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for proﬁt or commercial advantage and that copies bear this notice and the full citation
on the ﬁrst page. Copyrights for components of this work owned by others than the
author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior speciﬁc permission
and/or a fee. Request permissions from permissions@acm.org.
IMC’13, October 23–25, 2013, Barcelona, Spain.
Copyright is held by the owner/author(s). Publication rights licensed to ACM.
ACM 978-1-4503-1953-9/13/10 ...$15.00.
http://dx.doi.org/10.1145/2504730.2504746.
Acknowledgments
This work would not have been possible without the help, engage-
ment, and commitment of Walter Willinger.
We want to express our gratitude towards the IXP for their gener-
ous cooperation and support. Moreover, we thank the anonymous
reviewers for their useful feedback. This work was supported in
part by the EU projects BigFoot (FP7-ICT-317858) and CHANGE
(FP7-ICT-257422), EIT Knowledge and Innovation Communities
program, and an IKY-DAAD award (54718944).
1.
INTRODUCTION
An ever-growing demand for Web-based trafﬁc [30, 41] (e. g.,
HD video and other streaming media, e-commerce services), to-
gether with the proliferation of new Internet-enabled devices and
the emergence of new content distribution models and cloud infras-
tructure providers are radically transforming the nature of content
delivery in today’s Internet. These features are also having a pro-
found impact on how some of the main Internet players (e. g., ISPs,
CDNs, Web hosting companies, and content providers) operate in
such a dynamic environment and do business in an increasingly
competitive marketplace. Unfortunately, carefully tracking these
developments to obtain an accurate picture of how this critical cast
of players shapes and impacts much of the Internet and its trafﬁc
has become an increasingly daunting task. In the past, attempts at
painting such a picture had limited success because they typically
relied on piecing together incomplete and often inaccurate informa-
tion from many different sources of varying quality [40, 45, 50] or
using various types of hard-to-get (i. e., proprietary) datasets [41]
or hard-to-justify estimates of difﬁcult-to-measure (e. g., inter-AS
trafﬁc matrix) quantities [27].
A main reason for our current inability to accurately track a con-
stantly changing Internet has been the lack of global vantage points
where trafﬁc from a sufﬁciently large portion of the Internet can be
observed at a granularity that is sufﬁciently ﬁne-grained to discern
the make up of today’s Internet trafﬁc and the interactions of the
responsible parties. This raises the questions whether or not such
vantage points do indeed exist in today’s Internet, and if so, what
exactly they enable us to discern about the Internet as a whole as
well as its individual constituents?
Main contribution (part 1): The ﬁrst ﬁnding reported in this
paper is that some of the largest Internet Exchange Points (IXPs) in
Europe (i. e., AMS-IX in Amsterdam, DE-CIX in Frankfurt, LINX
in London) do indeed serve as the kind of vantage points we are
looking for. In particular, our detailed analysis of 17 contiguous
weeks of complete sFlow measurements from one of the largest
European IXPs reveals that in addition to being a critical part of the
333European portion of the Internet, this IXP also plays a global role,
“seeing” trafﬁc from a large fraction of the Internet. To highlight
the kind of visibility into the Internet as a whole that is possible at
these vantage points, we show that week-in and week-out, our IXP
“sees” trafﬁc from all 42K+ routed ASes, almost all 450K+ routed
preﬁxes, from about 1.5M servers, and around a quarter billion IP
addresses from all the countries around the globe. Importantly, the
fact that these largest European IXPs all operate in a very similar
fashion, handle comparable trafﬁc volumes, and have similar pro-
ﬁles with respect to the members and range of service offerings
allows us to conclude that either one of them ﬁts the role of being
a global Internet vantage point.
However, like all vantage points used in practice, visibility from
these large European IXPs into the Internet is not perfect. Thus,
knowing what we cannot discern about what aspects of the Inter-
net from mining the trafﬁc seen at one of these vantage points is as
important as knowing what we can discern. To deal with this im-
portant issue, we consider a variety of different IXP-external mea-
surements that not only complement the IXPs own data, but also
enable us to either check or validate our ﬁndings that are based on
the IXPs data alone or help us determine what aspects are impossi-
ble to discern from this vantage point, and why.
Main contribution (part 2): Our second main ﬁnding illustrates
the new opportunities or beneﬁts for Internet measurements that
arise from having access to vantage points with such good visi-
bility into the Internet. By squarely focusing on the analysis of
the Web server-related portion of the trafﬁc “seen” by our IXP and
applying an original methodology for identifying server-based in-
frastructures, classifying them by ownership (e. g., company, orga-
nization), and associating trafﬁc with them, we show that many of
the major commercial Internet players are actively contributing to a
clearly discernible trend towards network heterogenization. That is,
many of these players’ networks are undergoing major changes as
a result of business decisions that either favor the hosting of servers
from third-party networks within their own network infrastructures
or the deployment of their own servers, often in massive numbers,
in purposefully-selected third-party networks.
On the one hand, this ﬁnding simply conﬁrms what is well-
documented in press releases of some of the main commercial In-
ternet players and technology blogs, but remains a largely under-
reported issue in the networking research literature. For example,
it is well-known that CDN companies such as Akamai are accel-
erating the deployment of their own servers in eyeball networks
by forming strategic content delivery alliances with large ISPs [1,
6]. Similarly, it is also widely reported that large content providers
such as Netﬂix are installing their own brand of single-purpose
CDNs (e. g., Netﬂix’s Open Connect) inside various regional and
local ISPs for the sole purpose of enabling those ISPs to deliver
Netﬂix video data directly to their end users [5]. Other key compa-
nies such as Google, Amazon, or Facebook have followed suit and
further add to the complexities that result from this proliferation of
intertwined network infrastructures and trafﬁc.
On the other hand, by providing a methodology for discover-
ing an organization’s servers, whether they are deployed within
the organization’s own AS (or ASes) or inside some third-party
network’s infrastructure, we enable and advocate a measurement-
driven approach to inferring and assessing the extent to which in-
dividual network infrastructures or the trafﬁc that they carry are
heterogeneous. The results of our study show that network het-
erogenization is wide-spread and not just conﬁned to well-known
players such as Akamai or Google. We also study the impact that
this ﬁnding has on the usage of peering links at IXPs, in particu-
lar, and AS-links in the larger Internet, in general. Speciﬁcally, we
show that not only is AS-link usage becoming more heterogeneous,
but the task of attributing trafﬁc to the party responsible for it faces
enormous challenges in view of the complexities that result from
the observed proliferation of intertwined network infrastructures
and trafﬁc. In effect, these ﬁndings argue that future attempts at
accurately and meaningfully studying the business strategies of the
various Internet constituents (e. g., ISPs, content providers, CDNs,
IXPs, networks without an ASN, resellers, etc.) and the business
relationships among them have to move beyond the traditional and
largely trafﬁc-agnostic AS-level view of the Internet. They must
account for the complexities that result from today’s Internet re-
alities and are more concerned with how trafﬁc ﬂows across the
network than with how the network is connected at the AS level.
Head-on comparison with [13]: The large European IXP con-
sidered in this paper also featured prominently in the recent work
by Ager et al. [13]. However, while that study focused squarely on
the discovery of a surprisingly rich peering fabric among the mem-
ber ASes of that IXP, in this paper, we are mainly concerned with
mining the trafﬁc seen at this IXP to determine the IXP’s visibil-
ity into the Internet. Put differently, while [13] exploited the IXP
measurements to obtain an accurate picture of the “inside” of this
IXP (i. e., its member ASes, their peerings, and the IXP-speciﬁc
trafﬁc matrix), this paper mines recent trafﬁc data to obtain a view
of the “outside” of the IXP; that is, the larger Internet beyond the
boundary formed by the members of the IXP. In terms of results,
while [13] highlighted the severe level of incompleteness of the
commonly-studied AS maps of the Internet, this paper establishes
and provides concrete evidence for why and in what sense this tra-
ditional AS-level view— although still useful for exploring and un-
derstanding various connectivity- or reachability-related aspects—
is largely inept for accounting for critical elements of the networks
that make up today’s Internet. Thus, representing two largely com-
plementary efforts, the combined ﬁndings of [13] and of this paper
take the observations of the study by Labovitz et al. [41] to the next
level.
In the process, we identify and outline an alternative and
largely orthogonal perspective to the traditional AS-level view that
centers around organizations or companies and their server-based
infrastructures that are spread across many networks and countries
and defy traditional network and geographic boundaries.
Road-map: The remainder of the paper is organized as follows.
In Section 2, we describe the available IXP measurements and re-
port on how we extract the relevant trafﬁc data for our study. We
focus in Section 3 on our ﬁrst ﬁnding that the IXP deﬁnes a vantage
point that offers unprecedented visibility into the Internet, and we
support this ﬁnding with concrete results based on a week’s worth
of trafﬁc. Our results are complemented in Section 4 by a longi-
tudinal analysis, and we discuss what measurements taken at this
single vantage point for a 17-week long period reveal about the In-
ternet. In Section 5, we describe our methodology for grouping an
organization’s servers, irrespective of their location within the In-
ternet, and report on our second main ﬁnding; that is, evidence for
and extent of network heterogenization. We continue in Section 6
with a discussion of related and future work and conclude with a
summary of our main observations in Section 7.
2.
IXP AS RICH DATA SOURCE
In this section, we describe the IXP measurements that are at our
disposal for this study and sketch and illustrate the basic methodol-
ogy we use to identify the trafﬁc components relevant for our work.
We also list and comment on the different IXP-external datasets that
334local
non-local
local
non-local
TCP
UDP
ICMP
other
all trac
member
non-member
IPv4
IPv6
other
Figure 1: Trafﬁc ﬁltering steps
we rely on throughout this paper to show what we can and cannot
discern from the IXP-internal measurements alone.1
2.1 Available IXP-internal datasets
The work reported in this paper is based on trafﬁc measurements
collected between August 27 (beginning of week 35) and Decem-
ber 23 (end of week 51) of 2012 at one of the largest IXPs in Eu-
rope. At the beginning of the measurement period in week 35,
this IXP had 443 member ASes that exchanged on average some
11.9 PB of trafﬁc per day over the IXP’s public peering infras-
tructure (i. e., a layer-2 switching fabric distributed over a num-
ber of data centers within the city where the IXP is located). Dur-
ing the measurement period, the IXP added between 1-2 members
per week. Speciﬁcally, the measurements we rely on consist of
17 consecutive weeks of uninterrupted anonymized sFlow records
that contain Ethernet frame samples that were collected using a ran-
dom sampling of 1 out of 16K. sFlow captures the ﬁrst 128 bytes
of each sampled frame. This implies that in the case of IPv4 pack-
ets the available information consists of the full IP and transport
layer headers and 74 and 86 bytes of TCP and UDP payload, re-
spectively. For further details about the IXP infrastructure itself as
well as the collected sFlow measurements (e. g., absence of sam-
pling bias), we refer to [13]. In the following, we use our week 45
data to illustrate our method. The other weekly snapshots produce
very similar results and are discussed in more detail in Section 4.
2.2 Methods for dissecting the IXP’s trafﬁc
2.2.1 Peering trafﬁc
Figure 1 details the ﬁltering steps that we applied to the raw
sFlow records collected at this IXP to obtain what we refer to as
the “peering trafﬁc” component of the overall trafﬁc. As shown
in Figure 1, after removing from the overall trafﬁc, in succession,
all non-IPv4 trafﬁc (i. e., native IPv6 and other protocols; roughly
0.4% of the total trafﬁc, most of which is native IPv6), all trafﬁc
that is either not member-to-member or stays local (e. g., IXP man-
agement trafﬁc; about 0.6%), all member-to-member IPv4 trafﬁc
that is not TCP or UDP (i. e., ICMP and other transport protocols;
less than 0.5%), this peering trafﬁc makes up more than 98.5% of
the total trafﬁc. As an interesting by-product, we observe that 82%
of the peering trafﬁc is TCP and 18% is UDP.
2.2.2 Web server-related trafﬁc
We next identify the portion of the peering trafﬁc that can be un-
ambiguously identiﬁed as Web server-related trafﬁc. Our motiva-
tion is that Web servers are generally considered to be the engines
1For an overview of the importance of IXPs for today’s Internet,
we refer to [28].
of e-commerce, which in turn argues that Web server-related trafﬁc
is, in general, a good proxy for the commercial portion of Internet
trafﬁc. Accordingly, we focus on HTTP and HTTPS and describe
the ﬁltering steps for extracting their trafﬁc.
To identify HTTP trafﬁc, we rely primarily on commonly-used
string-matching techniques applied to the content of the 128 bytes
of each sampled frame. We use two different patterns. The ﬁrst
pattern matches the initial line of request and response packets and
looks for HTTP method words (e. g., GET, HEAD, POST) and the
words HTTP/1.{0,1}. The second pattern applies to header lines
in any packet of a connection and relies on commonly used HTTP
header ﬁeld words as documented in the relevant RFCs and W3C
speciﬁcations (e. g., Host, Server, Access-Control-Allow-Methods).
Using these techniques enables us to identify which of the IP end-
points act as servers and which ones act as clients. When applied to
our week 45 data, we identify about 1.3 million server IPs together
with roughly 40 million client IPs. Checking the port numbers, we
verify that more than 80% of the server IPs use the expected TCP
ports, i. e., 80 and 8080. Some 5% of them also use 1935 (RTMP)
as well as 443 (HTTPS). Note that by relying on string-matching,
we miss those servers for which our sFlow records do not contain
sufﬁcient information; we also might mis-classify as clients some
of those servers that “talk” with other servers and for which only
their client-related activity is captured in our data.
With respect to HTTPS trafﬁc, since we cannot use pattern match-
ing directly due to encryption, we use a mixed passive and active
measurement approach. In a ﬁrst step, we use trafﬁc on TCP port
443 to identify a candidate set of IPs of HTTPS servers. Here,
we clearly miss HTTPS servers that do not use port 443, but we
consider them not to be commercially relevant. However, given
that TCP port 443 is commonly used to circumvent ﬁrewalls and
proxy rules for other kinds of trafﬁc (e. g., SSH servers or VPNs
running TCP port 443), in a second step we rule out non-HTTPS
related use by relying on active measurements. For this purpose,
we crawl each IP in our candidate set for an X.509 certiﬁcate chain
and check the validity of the returned X.509 certiﬁcates. For those
IPs that pass the checks of the certiﬁcate, we extract the names for
which the X.509 certiﬁcate is valid and the purpose for which it
was issued. In particular, we check the following properties in each
retrieved X.509 certiﬁcate: (a) certiﬁcate subject, (b) alternative
names, (c) key usage (purpose), (d) certiﬁcate chain, (e) validity
time, and (f) stability over time. If a certiﬁcate does not pass any of
the tests, we do not consider it in the analysis.
We keep only the IPs that have a certiﬁcate subject and alterna-
tive names with valid domains and also valid country-code second-
level domains (ccSLD) according to the deﬁnition in [35]. Next,
we check if the key usage explicitly indicates a Web server role. In
the certiﬁcate chain we check if the delivered certiﬁcates do really
refer to each other in the right order they are listed up to the root
certiﬁcate, which must be contained in the current Linux/Ubuntu
white-list. Next, we verify the validity time of each certiﬁcate in
the chain by comparing it to the timestamp the certiﬁcate fetching
was performed. Lastly, we perform the active measurements sev-
eral times and check for changes because IPs in cloud deployments
can change their role very quickly and frequently. Ignoring validity
time, we require that all the certiﬁcates fetched from a single IP
have the same properties. In the case of our week 45 data, start-
ing with a candidate set of approximately 1.5M IPs, some 500K
respond to repeated active measurements, of which 250K are in the
end identiﬁed as HTTPS server IPs.
When combined, these ﬁltering steps yield approximately 1.5M
different Web server IPs (including the 250K HTTPS server IPs).
In total, these HTTP and HTTPS server IPs are responsible for or
335100
10−1
10−2
10−3
10−4
10−5
10−6
10−7
10−8
10−9
e
r
a
h
s
c
i
f
f
a
r
t
g
n
i
r
e
e
p
f
o
.
c
r
e
P
o oooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooo
100
101
102
IPs ranked by peering traffic share
103
104
105
106
Figure 2: Trafﬁc per server IP sorted by trafﬁc share
“see” more than 70% of the peering trafﬁc portion of the total traf-
ﬁc. Some 350K of these IP addresses appear in both sets and are
examples of multi-purpose servers; that is, servers with one IP ad-
dress that see activity on multiple ports. Multi-purpose servers are
popular with commercial Internet players (e.g., Akamai which uses
TCP port 80 (HTTP) and TCP port 1935 (RTMP)), and their pres-
ence in our data partially explains why we see a larger percentage
of Web server-related trafﬁc than what is typically reported in the
literature [33, 36, 43], but is often based on a strictly port-based
trafﬁc classiﬁcation [30, 41].
Among the identiﬁed HTTP and HTTPS server IPs, we ﬁnd
some 200K IPs that act both as servers and as clients. These are
responsible for some 10% of the server-related trafﬁc. Upon closer
inspection of the top contributors in this category, we ﬁnd that they
typically belong to major CDNs (e. g., EdgeCast, Limelight) or net-
work operators (e. g., Eweka). Thus, the large trafﬁc share of these
servers is not surprising and reﬂects typical machine-to-machine
trafﬁc associated with operating, for example, a CDN. Another
class of IPs in this category are proxies or clients that are managed
via a server interface (or vice versa).
In the context of this paper, it is important to clarify the notion of
a server IP. Throughout this paper, a server IP is deﬁned as a pub-
licly routed IP address of a server. As such, it can represent many
different real-world scenarios, including a single (multi-purpose)
server, a rack of multiple servers, or a front-end server acting as
a gateway to possibly thousands of back-end servers (e.g., an en-
tire data center). In fact, Figure 2 shows the trafﬁc share of each
server IP seen in the week 45 data. It highlights the presence of
individual server IPs that are responsible for more than 0.5% of all
server–related trafﬁc! Indeed, the top 34 server IPs are responsi-
ble for more than 6% of the overall server trafﬁc. These server IPs
cannot be single machines. Upon closer examination, they are iden-
tiﬁed as belonging to a cast of Internet players that includes CDNs,
large content providers, streamers, virtual backbone providers, and
resellers, and thus represent front-end servers to large data centers
and/or anycast services. Henceforth, we use the term server to refer
to a server IP as deﬁned above.
2.3 Available IXP-external datasets
When appropriate and feasible, we augment our IXP-based ﬁnd-
ings with active and passive measurements that do not involve the
IXP in any form or shape and are all collected in parallel to our
IXP data collection. Such complementary information allows us to
verify, check, or reﬁne the IXP-based ﬁndings.
One example of a complementary IXP-external dataset is a pro-
prietary dataset from a large European Tier-1 ISP consisting of
packet-level trafﬁc traces.2 With the help of the network intrusion
detection system Bro [47] we produce the HTTP and DNS logs,
extract the Web server-related trafﬁc and the corresponding server
IPs from the logs, and rely on the resulting data in Section 3.
For another example, we use the list of the top 280K DNS recur-
sive resolvers—as seen by one of the largest commercial CDNs—
as a starting set to ﬁnd a highly distributed set of DNS resolvers that
are available for active measurements such as doing reverse DNS
lookups or performing active DNS queries. From this initial list
of DNS servers, we eliminate those that cannot be used for active
measurements (i.e., those that are not open, delegate DNS resolu-
tions to other resolvers, or provide incorrect answers) and end up
with a ﬁnal list of about 25K DNS resolvers in some 12K ASes that
are used for active measurements in Section 3.3.
Other examples of IXP-external data we use in this work include
the publicly available lists of the top-1M or top-1K popular Web
sites that can be downloaded from www.alexa.com. We ob-
tained these lists for each of the weeks for which we have IXP
data. We also utilized blogs and technical information found on the
ofﬁcial Web sites of the various technology companies and Internet
players. In addition, we make extensive use of publicly available
BGP-based data that is collected on an ongoing basis by Route-
Views [8], RIPE RIS [7], Team Cymru [9], etc.
2.4 IP server meta-data
Our efforts in Section 5 rely on certain meta-data that we collect
for server IPs and that is obtained from DNS information, URIs,
and X.509 certiﬁcates from HTTPS servers.
Regarding DNS information, obvious meta-information is the
hostname(s) of a server IP. This information is useful because large
organizations [38] often follow industrial standards in their naming
schema’s for servers that they operate or host in their own networks.
Another useful piece of meta-data is the Start of Authority (SOA)
resource record which relates to the administrative authority and
can be resolved iteratively. This way one can often ﬁnd a common
root for organizations that do not use a uniﬁed naming schema.
Note that the SOA record is often present, even when there is no
hostname record available or an ARPA address is returned in the
reverse lookup of a server IP.
Next, the URI as well as the authority associated with the host-
name give us hints regarding the organization that is responsible
for the content. For example, for the URI youtube.com, one
ﬁnds the SOA resource record google.com and thus can asso-
ciate Youtube with Google.
Lastly, the X.509 certiﬁcates reveal several useful pieces of meta-
data. First, they list the base set of URIs that can be served by the
corresponding server IP. Second, some server IPs have certiﬁcates
with multiple names that can be used to ﬁnd additional URIs. This
is typically the case for hosting companies that host multiple sites
on a single server IP. In addition, it is used by CDNs that serve
multiple different domains with the same physical infrastructure.
Moreover, the names found in the certiﬁcates can be mapped to
SOA resource records as well.
Overall, we are able to extract DNS information for 71.7%, at
least one URI for 23.8%, and X.509 certiﬁcate information for
17.7% of the 1.5M server IPs that we see in our week 45 data. For
81.9% of all the server IPs, we have at least one of the three pieces
of information. For example, for streamers, one typically has no
2For this trace we anonymized the client information before apply-
ing the analysis with the network intrusion detection system Bro.
We always use a preﬁx preserving function when anonymizing IPs.
336week 45
232,460,635
42,825
445,051
242
1,488,286
19,824
75,841
200
educated guesses
of ground-truth
unknown  0 to 0.1
0.1 to 1
1 to 2
2 to 5
more than 5
Figure 3: Percentage of IPs per country—week 45
assigned URI, but information from DNS. Before using this rich
meta-data in Section 5, we clean it by removing non-valid URIs,
SOA resource records of the Regional Internet Registries (RIRs)
such as ripe.net, etc. This cleaning effort reduces the pool of
server IPs by less than 3%.
3. LOCAL YET GLOBAL
The main purpose of this section is to show that our IXP repre-
sents an intriguing vantage point, with excellent visibility into the
Internet as a whole. This ﬁnding of the IXP’s important global role
complements earlier observations that have focused on the impor-
tant local role that this large European IXP plays for the greater
geographic region where it is located [13], and we further elabo-
rate here on its dual role as a local and as a global player. Impor-
tantly, we also discuss what we can and cannot discern about the
Internet as a whole or its individual constituents based on measure-
ments taken at this vantage point. The reported numbers are for
the week 45 measurements when the IXP had 452 members that
exchanged some 14 PB of trafﬁc per day and are complemented by
a longitudinal analysis in Section 4.
3.1 On the global role of the IXP
By providing a well-deﬁned set of steps and requirements for es-
tablishing peering links between member networks, IXPs clearly
satisfy the main reason for why they exist in the ﬁrst place – keep-
ing local trafﬁc local. To assess the visibility into the global Inter-
net that comes with using a large European IXP as a vantage point,
we focus on the peering trafﬁc component (see Section 2.2.1) and
summarize in Table 1 the pertinent results.
First, in this single geographically well-localized facility, we ob-
serve during a one-week period approximately a quarter billion
unique IPv4 addresses (recall that the portion of native IPv6 trafﬁc
seen at this IXP is negligible). While the total number of pub-
licly routed IPv4 addresses in the Internet in any given week is un-
known, it is some portion of the approximately three and a half bil-
lion allocated IPv4 addresses, which suggests that this IXP “sees”
a signiﬁcant fraction of the ground truth. The global role of this
IXP is further illuminated by geo-locating all 230M+ IP addresses
at the country-level granularity [49] and observing that this IXP
“sees” trafﬁc from every country of the world, except for places
such as Western Sahara, Christmas Islands, or Cocos (Keeling) Is-
lands. This ability to see the global Internet from this single van-
tage point is visualized in Figure 3, where the different countries’
shades of gray indicate which percentage of IPs a given country
contributes to the IPs seen at this IXP.
Second, when mapping the encountered 230M+ IP addresses
to more network-speciﬁc entities such as subnets or preﬁxes and
ASes, we conﬁrm the IXP’s ability to “see” the Internet. More
precisely, in terms of subnets/preﬁxes, this IXP “sees” trafﬁc from
445K subnets; that is, from essentially all actively routed preﬁxes.
Determining the precise number of actively routed preﬁxes in the
Internet in any given week remains an imprecise science as it de-
pends on the publicly available BGP data that are traditionally used
in this context (e.g., RouteViews, RIPE). The reported numbers
vary between 450K-500K and are only slightly larger than the 445K
subnets we see in this one week. With respect to ASes, the results
are very similar – the IXP “sees” trafﬁc from some 42.8K actively
routed ASes, where the ground truth for the number of actively
routed ASes in the Internet in any given week is around 43K [3]
and varies slightly with the used BGP dataset.
Lastly, to examine the visibility that this IXP has into the more
commercial-oriented Internet, we next use the Web server-related
component of the IXP’s peering trafﬁc (see Section 2.2.2). Table 1
shows that this IXP “sees” server-related trafﬁc from some 1.5M
IPs that can be unambiguously identiﬁed as Web server IPs. Un-
fortunately, we are not aware of any numbers that can be reliably
considered as ground truth of all server IPs in the Internet in any
given week. Even worse, available white papers or reports that pur-
portedly provide this information are typically very cavalier about
their deﬁnition of what they consider as “Web server” and hence
cannot be taken at face value [40, 50].
To indirectly assess how the roughly 1.5M Web server IPs seen
at this IXP stack up against the unknown number of Web server IPs
Internet-wide, we use an essentially orthogonal dataset, namely the
HTTP and DNS logs from a large European Tier-1 ISP that does not
exchange trafﬁc over the public switching infrastructure of our IXP.
Applying the method as described in Section 2, we extract the Web
server IPs from this ISP dataset and ﬁnd that of the total number of
server IPs that are “seen” by this ISP, only some 45K are not seen at
the IXP. Importantly, for the server IPs seen both at the IXP and the
ISP, those we identiﬁed as server IPs using the IXP-internal data
are conﬁrmed to be indeed server IPs when relying on the more
detailed ISP dataset.
In any case, mapping the 1.5M server IPs
from the IXP to preﬁxes, ASes, and countries shows that this IXP
“sees” server-trafﬁc from some 17% of all actively routed preﬁxes,
from about 50% of all actively routed ASes, and from about 80%
of all the countries in the world.
3.2 On the IXP’s dual role
Visuals such as Figure 3 illustrate that by using this IXP as a van-
tage point, we are able to see peering trafﬁc from every country and
corner of the world or from almost every AS and preﬁx that is pub-
licly routed. However, such ﬁgures do not show whether or not cer-
tain countries or corners and ASes or preﬁxes are better visible than
337s
P
I
rank
1
2
3
4
5
6
7
8
9
10
1
2
3
4
5
6
7
8
9
10
c
ﬁ
f
a
r
T
Server IPs
Network
Akamai
1&1
OVH
All IPs Server IPs All IPs
Country Country Network
Chinanet
Vodafone/DE
Free SAS
Turk Telekom Softlayer
Telecom Italia ThePlanet
Liberty Global Chinanet
Vodafone/IT
Comnet
Virgin Media Webazilla
Telefonica/DE Plusserver
Akamai
Google
Hetzner
OVH
VKontakte
Kabel Deu.
Leaseweb
Vodafone/DE
Unitymedia
Kyivstar
Akamai
Google
Hetzner
VKontakte
Leaseweb
Limelight
OVH
EdgeCast
Link11
Kartina
US
DE
CN
RU
IT
FR
GB
TR
UA
JP
DE
US
RU
FR
GB
CN
NL
CZ
IT
UA
DE
US
RU
FR
GB
CN
NL
CZ
IT
UA
US
DE
NL
RU
GB
EU
FR
RO
UA
CZ
HostEurope
Strato
Table 2: Top 10 contributors—week 45
Member AS Distance 1 Distance > 1
A(G)
12.7%
55.8%
50.1%
4.3%
5.9%
20.9%
36.3%
0.05%
A(M )
45.0%
34.1%
48.9%
28.4%
41.2%
61.9%
61.5%
17.35%
A(L)
42.3%