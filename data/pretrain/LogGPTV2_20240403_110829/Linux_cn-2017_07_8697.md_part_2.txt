在 2014 年的 I/O 大会上，这家公司注意到启用飞行模式并关闭屏幕可以让安卓手机待机将近一个月。但是，如果用户全部启用并使用设备，它们没法坚持一整天。结论就是如果你能让一切都停止活动，你的电池表现就能好得多。
因此，谷歌创建了一个新 API，称作“JobScheduler（任务调度器）”，这是个新的针对安卓后台任务的警察。在任务调度器出现之前，每个单独的应用为它自己的后台进程负责，这意味着每个应用会独立唤醒处理器和调制解调器，检查连通性、组织数据库、下载更新以及上传日志。所有东西都有它自己独立的定时器，所以你的手机会一直被唤醒。有了任务调度器，后台任务从无组织的混乱，转变为统一的批处理，有有序的后台进程处理窗口。
任务调度器可以让应用指定它们的任务所需的条件（连通性、Wi-Fi、接入电源等等），它会在那些条件满足的时候发送一条通知。这就像是推送邮件和每五分钟检查一次邮件的区别……但是带上任务需求的。谷歌还开始给后台任务推进一个“懒”实现。如果一些事情可以推迟到设备处于 Wi-Fi，接入电源以及待机状态，那它就应该等到那时候执行。你现在可以看到这一策略的成果，在 Wi-Fi 下，你可以将安卓手机接入电源，并且只有在*这种条件下*它才会开始下载应用更新。你通常不需要立即下载应用更新，最好的时候是等到用户有无限的电源和网络的时候进行。
#### 开机设置获得面向未来的新设计
![](/data/attachment/album/201707/16/092157tccls2t32lgw2uot.jpg)
开机设置经过了大翻新，它不止是为了跟上 Material Design 指南，还是“面向未来”的，这样不管未来谷歌采用什么新的登录和验证方案，它都能够适应。记住，写“安卓编年史”的部分原因就是一些旧版安卓已经不再能工作了。这些年来，谷歌已经为用户升级了更佳加密的验证方案以及二次验证，但添加这些新的登录要求破坏了旧客户端的兼容性。很多安卓特性要求访问谷歌云设施，所以你没法登录的话，像安卓 1.0 的 Gmail 这样的就没法工作了。
![](/data/attachment/album/201707/16/092158pfbxzbff5ii5hblz.jpg)
在棒棒糖中，开机设置工作的前几个界面和之前的很像。你可以看到“欢迎使用安卓界面”以及一些设置数据和 Wi-Fi 连接的选项。但在这个界面之后就有了变化。一旦棒棒糖连接到了互联网，它会连接到谷歌的服务器来“检查更新”。这并不是检查系统或应用的更新，是在检查即将执行的设置工作的更新。安卓下载了最新版本的设置，*然后*它会要求你登录你的谷歌账户。
在今天登录进棒棒糖和奇巧的时候这个好处很明显。有可以可升级的设置流程，“2014”的棒棒糖系统可以适应 2016 的改进，像是谷歌新的“[触碰登录](http://arstechnica.com/gadgets/2016/06/googles-new-two-factor-authentication-system-tap-yes-to-log-in/)”双重认证。奇巧在这就卡住了，但幸运的是它有个“浏览器登录”可以解决双重认证的问题。
![](/data/attachment/album/201707/16/092158wfypciyi1ex6i6xg.jpg)
棒棒糖的开机设置对将你的谷歌账户和密码放在单独的页面持极端立场。[谷歌讨厌密码](https://www.theguardian.com/technology/2016/may/24/google-passwords-android)并提供了一些[实验性的方式](https://www.theguardian.com/technology/2016/may/24/google-passwords-android)来不用单独页面登录到谷歌。如果你的账户设置为不使用密码，棒棒糖可以跳过密码页面。如果你设置了双重认证，设置页面就会进入到“输入双因素码”的设置流程。每个登录部分都是在单独的一个页面，所以设置流程是模块化的。页面可以随要求添加或移除。
![](/data/attachment/album/201707/16/092159z4b6d1pddqpdp6l6.jpg)
开机设置还给了用户对应用还原的控制。安卓在这之前也提供了一些数据还原，但那是无法理解的，因为它仅仅只是在没有任何用户输入的情况下选择你的一台设备并开始恢复。开机设置流程中的一个新界面让用户可以看到在云端的设备配置集合，并选择合适的那个。你还可以选择要从那个备份还原的应用。备份有应用，你的主屏布局，以及一些小设置如 Wi-Fi 热点。它不是完全的应用数据备份。
#### 设置
![](/data/attachment/album/201707/16/092200uzrzinhzx1f23bxd.jpg)
设置从暗色主题切换到了亮色。除了新外观，它还有方便的搜索功能。每个界面用户都能访问放大镜，让他们可以更容易地找到难找的选项。
![](/data/attachment/album/201707/16/092201ooqhlwe5ylg3qhwb.png)
这里有一些和伏特计划有关的额设置。“网络限制”允许用户将一个 Wi-Fi 连接标记为计费的，让任务调度器处理后台处理时避免使用它。同时作为伏特计划的一部分，添加了一个“节电模式”。它会限制后台任务并限制 CPU 性能，给你更长的续航但更慢的设备。
![](/data/attachment/album/201707/16/092202k9osjmd9omd5scko.jpg)
多用户支持已经出现在安卓平板中有一段时间了，但棒棒糖终于将它带到了安卓手机上。设置界面添加了一个新的“用户”页面，让你添加额外的账户或设置一个“访客”账户。访客账户是临时的——它们可以一次点击轻松删除。它不会像正常账户那样尝试下载关联到你账户的每个应用，因为它注定要在不久后被删除。
---
![](/data/attachment/album/201706/24/162535j8ke2nu4ccvw44g9.jpg)
[Ron Amadeo](http://arstechnica.com/author/ronamadeo) / Ron 是 Ars Technica 的评论编缉，专注于安卓系统和谷歌产品。他总是在追寻新鲜事物，还喜欢拆解事物看看它们到底是怎么运作的。[@RonAmadeo](https://twitter.com/RonAmadeo)
---
via: 
作者：[RON AMADEO](http://arstechnica.com/author/ronamadeo) 译者：[alim0x](https://github.com/alim0x) 校对：[wxy](https://github.com/wxy)
本文由 [LCTT](https://github.com/LCTT/TranslateProject) 原创编译，[Linux中国](https://linux.cn/) 荣誉推出