**图 2.1. 物​​​​​​​理​​​​​​​卷​​​​​​​布​​​​​​​局​​​​​​​**
:::
:::
::: section
::: titlepage
## [⁠]{#LVM_components.html#multiple_partitions}2.1.2. 一​​​​​​​个​​​​​​​磁​​​​​​​盘​​​​​​​中​​​​​​​有​​​​​​​多​​​​​​​个​​​​​​​分​​​​​​​区​​​​​​​ {.title}
:::
[]{#LVM_components.html#idm139761077947120 .indexterm}
::: para
LVM
允​​​​​​​许​​​​​​​您​​​​​​​在​​​​​​​磁​​​​​​​盘​​​​​​​分​​​​​​​区​​​​​​​外​​​​​​​创​​​​​​​建​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​。​​​​​​​通​​​​​​​常​​​​​​​建​​​​​​​议​​​​​​​您​​​​​​​创​​​​​​​建​​​​​​​可​​​​​​​覆​​​​​​​盖​​​​​​​整​​​​​​​个​​​​​​​磁​​​​​​​盘​​​​​​​的​​​​​​​单​​​​​​​一​​​​​​​分​​​​​​​区​​​​​​​，并​​​​​​​将​​​​​​​其​​​​​​​标​​​​​​​记​​​​​​​为​​​​​​​
LVM 物​​​​​​​理​​​​​​​卷​​​​​​​，理​​​​​​​由​​​​​​​如​​​​​​​下​​​​​​​：
:::
::: {.itemizedlist xmlns:d="http://docbook.org/ns/docbook"}
-   ::: para
    方​​​​​​​便​​​​​​​管​​​​​​​理​​​​​​​
    :::
    ::: para
    如​​​​​​​果​​​​​​​每​​​​​​​个​​​​​​​正​​​​​​​真​​​​​​​的​​​​​​​磁​​​​​​​盘​​​​​​​只​​​​​​​出​​​​​​​现​​​​​​​一​​​​​​​次​​​​​​​会​​​​​​​比​​​​​​​较​​​​​​​容​​​​​​​易​​​​​​​在​​​​​​​系​​​​​​​统​​​​​​​中​​​​​​​追​​​​​​​踪​​​​​​​硬​​​​​​​件​​​​​​​，这​​​​​​​在​​​​​​​磁​​​​​​​盘​​​​​​​失​​​​​​​败​​​​​​​时​​​​​​​尤​​​​​​​为​​​​​​​突​​​​​​​出​​​​​​​。​​​​​​​另​​​​​​​外​​​​​​​，单​​​​​​​一​​​​​​​磁​​​​​​​盘​​​​​​​中​​​​​​​有​​​​​​​多​​​​​​​个​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​可​​​​​​​导​​​​​​​致​​​​​​​内​​​​​​​核​​​​​​​在​​​​​​​引​​​​​​​导​​​​​​​时​​​​​​​发​​​​​​​出​​​​​​​未​​​​​​​知​​​​​​​分​​​​​​​区​​​​​​​类​​​​​​​型​​​​​​​警​​​​​​​告​​​​​​​。​​​​​​​
    :::
-   ::: para
    条​​​​​​​带​​​​​​​性​​​​​​​能​​​​​​​
    :::
    ::: para
    LVM
    无​​​​​​​法​​​​​​​告​​​​​​​知​​​​​​​两​​​​​​​个​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​在​​​​​​​同​​​​​​​一​​​​​​​个​​​​​​​物​​​​​​​理​​​​​​​磁​​​​​​​盘​​​​​​​中​​​​​​​。​​​​​​​如​​​​​​​果​​​​​​​您​​​​​​​在​​​​​​​两​​​​​​​个​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​在​​​​​​​同​​​​​​​一​​​​​​​个​​​​​​​物​​​​​​​理​​​​​​​磁​​​​​​​盘​​​​​​​的​​​​​​​情​​​​​​​况​​​​​​​下​​​​​​​创​​​​​​​建​​​​​​​了​​​​​​​条​​​​​​​状​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​，那​​​​​​​么​​​​​​​条​​​​​​​带​​​​​​​就​​​​​​​可​​​​​​​能​​​​​​​在​​​​​​​同​​​​​​​一​​​​​​​磁​​​​​​​盘​​​​​​​的​​​​​​​不​​​​​​​同​​​​​​​分​​​​​​​区​​​​​​​中​​​​​​​。​​​​​​​这​​​​​​​可​​​​​​​能​​​​​​​会​​​​​​​降​​​​​​​低​​​​​​​它​​​​​​​的​​​​​​​性​​​​​​​能​​​​​​​而​​​​​​​不​​​​​​​是​​​​​​​提​​​​​​​高​​​​​​​其​​​​​​​性​​​​​​​能​​​​​​​。​​​​​​​
    :::
:::
::: para
尽​​​​​​​管​​​​​​​不​​​​​​​建​​​​​​​议​​​​​​​您​​​​​​​这​​​​​​​样​​​​​​​做​​​​​​​，但​​​​​​​在​​​​​​​特​​​​​​​别​​​​​​​的​​​​​​​情​​​​​​​况​​​​​​​下​​​​​​​可​​​​​​​能​​​​​​​需​​​​​​​要​​​​​​​您​​​​​​​将​​​​​​​一​​​​​​​个​​​​​​​磁​​​​​​​盘​​​​​​​分​​​​​​​成​​​​​​​独​​​​​​​立​​​​​​​的​​​​​​​ LVM
物​​​​​​​理​​​​​​​卷​​​​​​​。​​​​​​​例​​​​​​​如​​​​​​​：在​​​​​​​有​​​​​​​多​​​​​​​个​​​​​​​磁​​​​​​​盘​​​​​​​的​​​​​​​系​​​​​​​统​​​​​​​中​​​​​​​，当​​​​​​​您​​​​​​​从​​​​​​​现​​​​​​​有​​​​​​​系​​​​​​​统​​​​​​​迁​​​​​​​移​​​​​​​到​​​​​​​ LVM
卷​​​​​​​的​​​​​​​时​​​​​​​候​​​​​​​，可​​​​​​​能​​​​​​​需​​​​​​​要​​​​​​​将​​​​​​​数​​​​​​​据​​​​​​​在​​​​​​​分​​​​​​​区​​​​​​​间​​​​​​​转​​​​​​​移​​​​​​​。​​​​​​​另​​​​​​​外​​​​​​​，如​​​​​​​果​​​​​​​您​​​​​​​有​​​​​​​一​​​​​​​个​​​​​​​很​​​​​​​大​​​​​​​的​​​​​​​磁​​​​​​​盘​​​​​​​，并​​​​​​​且​​​​​​​因​​​​​​​为​​​​​​​管​​​​​​​理​​​​​​​的​​​​​​​原​​​​​​​因​​​​​​​想​​​​​​​要​​​​​​​有​​​​​​​超​​​​​​​过​​​​​​​一​​​​​​​个​​​​​​​卷​​​​​​​组​​​​​​​，那​​​​​​​么​​​​​​​对​​​​​​​磁​​​​​​​盘​​​​​​​进​​​​​​​行​​​​​​​分​​​​​​​区​​​​​​​是​​​​​​​很​​​​​​​必​​​​​​​要​​​​​​​的​​​​​​​。​​​​​​​如​​​​​​​果​​​​​​​您​​​​​​​的​​​​​​​磁​​​​​​​盘​​​​​​​分​​​​​​​区​​​​​​​数​​​​​​​大​​​​​​​于​​​​​​​
1，且​​​​​​​属​​​​​​​于​​​​​​​同​​​​​​​一​​​​​​​卷​​​​​​​组​​​​​​​，请​​​​​​​在​​​​​​​创​​​​​​​建​​​​​​​条​​​​​​​状​​​​​​​卷​​​​​​​的​​​​​​​时​​​​​​​候​​​​​​​小​​​​​​​心​​​​​​​指​​​​​​​定​​​​​​​哪​​​​​​​些​​​​​​​分​​​​​​​区​​​​​​​是​​​​​​​应​​​​​​​该​​​​​​​包​​​​​​​括​​​​​​​在​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​中​​​​​​​的​​​​​​​。​​​​​​​
:::
:::
:::
::: section
::: titlepage
# [⁠]{#LVM_components.html#volume_group_overview}2.2. 卷​​​​​​​组​​​​​​​ {.title}
:::
[]{#LVM_components.html#idm139761060337296
.indexterm}[]{#LVM_components.html#idm139761028250368 .indexterm}
::: para
物​​​​​​​理​​​​​​​卷​​​​​​​合​​​​​​​并​​​​​​​为​​​​​​​卷​​​​​​​组​​​​​​​（VG）。​​​​​​​这​​​​​​​样​​​​​​​就​​​​​​​创​​​​​​​建​​​​​​​了​​​​​​​一​​​​​​​个​​​​​​​磁​​​​​​​盘​​​​​​​空​​​​​​​间​​​​​​​池​​​​​​​，在​​​​​​​它​​​​​​​之​​​​​​​外​​​​​​​可​​​​​​​分​​​​​​​配​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​。​​​​​​​
:::
[]{#LVM_components.html#idm139761073722208 .indexterm}
::: para
在​​​​​​​卷​​​​​​​组​​​​​​​中​​​​​​​，可​​​​​​​用​​​​​​​于​​​​​​​分​​​​​​​配​​​​​​​的​​​​​​​磁​​​​​​​盘​​​​​​​空​​​​​​​间​​​​​​​被​​​​​​​分​​​​​​​成​​​​​​​固​​​​​​​定​​​​​​​大​​​​​​​小​​​​​​​的​​​​​​​单​​​​​​​元​​​​​​​，我​​​​​​​们​​​​​​​称​​​​​​​之​​​​​​​为​​​​​​​扩​​​​​​​展​​​​​​​。​​​​​​​一​​​​​​​个​​​​​​​扩​​​​​​​展​​​​​​​就​​​​​​​是​​​​​​​可​​​​​​​被​​​​​​​分​​​​​​​配​​​​​​​的​​​​​​​最​​​​​​​小​​​​​​​单​​​​​​​位​​​​​​​。​​​​​​​在​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​中​​​​​​​，扩​​​​​​​展​​​​​​​就​​​​​​​是​​​​​​​物​​​​​​​理​​​​​​​扩​​​​​​​展​​​​​​​。​​​​​​​
:::
::: para
逻​​​​​​​辑​​​​​​​卷​​​​​​​会​​​​​​​被​​​​​​​分​​​​​​​配​​​​​​​成​​​​​​​与​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​扩​​​​​​​展​​​​​​​相​​​​​​​同​​​​​​​大​​​​​​​小​​​​​​​的​​​​​​​逻​​​​​​​辑​​​​​​​扩​​​​​​​展​​​​​​​。​​​​​​​因​​​​​​​此​​​​​​​卷​​​​​​​组​​​​​​​中​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​的​​​​​​​扩​​​​​​​展​​​​​​​大​​​​​​​小​​​​​​​都​​​​​​​是​​​​​​​一​​​​​​​样​​​​​​​的​​​​​​​。​​​​​​​卷​​​​​​​组​​​​​​​将​​​​​​​逻​​​​​​​辑​​​​​​​扩​​​​​​​展​​​​​​​与​​​​​​​物​​​​​​​理​​​​​​​扩​​​​​​​展​​​​​​​匹​​​​​​​配​​​​​​​。​​​​​​​
:::
:::
::: section
::: titlepage
# [⁠]{#LVM_components.html#lv_overview}2.3. LVM 逻​​​​​​​辑​​​​​​​卷​​​​​​​ {.title}
:::
[]{#LVM_components.html#idm139761069708544 .indexterm}
::: para
在​​​​​​​ LVM 中​​​​​​​，卷​​​​​​​组​​​​​​​会​​​​​​​被​​​​​​​分​​​​​​​成​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​。​​​​​​​LVM
逻​​​​​​​辑​​​​​​​卷​​​​​​​有​​​​​​​三​​​​​​​种​​​​​​​类​​​​​​​型​​​​​​​：[*线​​​​​​​性​​​​​​​*]{.emphasis}卷​​​​​​​、​​​​​​​[*条​​​​​​​状​​​​​​​*]{.emphasis}卷​​​​​​​和​​​​​​​[*镜​​​​​​​像​​​​​​​*]{.emphasis}卷​​​​​​​。​​​​​​​这​​​​​​​些​​​​​​​在​​​​​​​以​​​​​​​后​​​​​​​的​​​​​​​内​​​​​​​容​​​​​​​中​​​​​​​都​​​​​​​有​​​​​​​论​​​​​​​述​​​​​​​。​​​​​​​
:::
::: section
::: titlepage
## [⁠]{#LVM_components.html#linear_volumes}2.3.1. 线​​​​​​​性​​​​​​​卷​​​​​​​ {.title}
:::
[]{#LVM_components.html#idm139761024307088 .indexterm}
::: para
一​​​​​​​个​​​​​​​线​​​​​​​性​​​​​​​卷​​​​​​​可​​​​​​​将​​​​​​​多​​​​​​​个​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​集​​​​​​​合​​​​​​​到​​​​​​​一​​​​​​​个​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​中​​​​​​​。​​​​​​​例​​​​​​​如​​​​​​​：如​​​​​​​果​​​​​​​您​​​​​​​有​​​​​​​两​​​​​​​个​​​​​​​ 60GB
的​​​​​​​磁​​​​​​​盘​​​​​​​，您​​​​​​​可​​​​​​​以​​​​​​​创​​​​​​​建​​​​​​​一​​​​​​​个​​​​​​​ 120GB 的​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​。​​​​​​​物​​​​​​​理​​​​​​​存​​​​​​​储​​​​​​​是​​​​​​​连​​​​​​​在​​​​​​​一​​​​​​​起​​​​​​​的​​​​​​​。​​​​​​​
:::
::: para
Creating a linear volume assigns a range of physical extents to an area
of a logical volume in order. For example, as shown in [图 2.2
"扩​​​​​​​展​​​​​​​映​​​​​​​射​​​​​​​"](#LVM_components.html#extent_mapping){.xref} logical extents
1 to 99 could map to one physical volume and logical extents 100 to 198
could map to a second physical volume. From the point of view of the
application, there is one device that is 198 extents in size.
:::
::: figure
[⁠]{#LVM_components.html#extent_mapping}
::: figure-contents
::: mediaobject
![扩​​​​​​​展​​​​​​​映​​​​​​​射​​​​​​​](images/components/extent-map.png)
:::
:::
**图 2.2. 扩​​​​​​​展​​​​​​​映​​​​​​​射​​​​​​​**
:::
::: para
The physical volumes that make up a logical volume do not have to be the
same size. [图 2.3
"物​​​​​​​理​​​​​​​卷​​​​​​​大​​​​​​​小​​​​​​​不​​​​​​​同​​​​​​​的​​​​​​​线​​​​​​​性​​​​​​​卷​​​​​​​"](#LVM_components.html#uneven_pvs){.xref} shows
volume group `VG1`{.literal} with a physical extent size of 4MB. This
volume group includes 2 physical volumes named `PV1`{.literal} and
`PV2`{.literal}. The physical volumes are divided into 4MB units, since
that is the extent size. In this example, `PV1`{.literal} is 100 extents
in size (400MB) and `PV2`{.literal} is 200 extents in size (800MB). You
can create a linear volume any size between 1 and 300 extents (4MB to
1200MB). In this example, the linear volume named `LV1`{.literal} is 300
extents in size.
:::
::: figure
[⁠]{#LVM_components.html#uneven_pvs}
::: figure-contents
::: mediaobject
![物​​​​​​​理​​​​​​​卷​​​​​​​大​​​​​​​小​​​​​​​不​​​​​​​同​​​​​​​的​​​​​​​线​​​​​​​性​​​​​​​卷​​​​​​​](images/components/uneven_pvs.png)
:::
:::
**图 2.3. 物​​​​​​​理​​​​​​​卷​​​​​​​大​​​​​​​小​​​​​​​不​​​​​​​同​​​​​​​的​​​​​​​线​​​​​​​性​​​​​​​卷​​​​​​​**
:::
::: para
You can configure more than one linear logical volume of whatever size
you desire from the pool of physical extents. [图 2.4
"多​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​"](#LVM_components.html#uneven_lvs){.xref} shows the same
volume group as in [图 2.3
"物​​​​​​​理​​​​​​​卷​​​​​​​大​​​​​​​小​​​​​​​不​​​​​​​同​​​​​​​的​​​​​​​线​​​​​​​性​​​​​​​卷​​​​​​​"](#LVM_components.html#uneven_pvs){.xref}, but
in this case two logical volumes have been carved out of the volume
group: `LV1`{.literal}, which is 250 extents in size (1000MB) and
`LV2`{.literal} which is 50 extents in size (200MB).
:::
::: figure
[⁠]{#LVM_components.html#uneven_lvs}
::: figure-contents
::: mediaobject
![多​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​](images/components/uneven_vols.png)
:::
:::
**图 2.4. 多​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​**
:::
:::
::: section
::: titlepage
## [⁠]{#LVM_components.html#striped_volumes}2.3.2. 条​​​​​​​状​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​ {.title}
:::
[]{#LVM_components.html#idm139761066566800 .indexterm}
::: para
当​​​​​​​您​​​​​​​向​​​​​​​ LVM
逻​​​​​​​辑​​​​​​​卷​​​​​​​写​​​​​​​入​​​​​​​数​​​​​​​据​​​​​​​时​​​​​​​，文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​在​​​​​​​基​​​​​​​本​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​之​​​​​​​间​​​​​​​部​​​​​​​署​​​​​​​数​​​​​​​据​​​​​​​。​​​​​​​您​​​​​​​可​​​​​​​以​​​​​​​通​​​​​​​过​​​​​​​创​​​​​​​建​​​​​​​条​​​​​​​状​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​控​​​​​​​制​​​​​​​数​​​​​​​据​​​​​​​向​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​写​​​​​​​入​​​​​​​的​​​​​​​方​​​​​​​法​​​​​​​。​​​​​​​对​​​​​​​于​​​​​​​大​​​​​​​批​​​​​​​量​​​​​​​的​​​​​​​读​​​​​​​取​​​​​​​和​​​​​​​写​​​​​​​入​​​​​​​，这​​​​​​​样​​​​​​​可​​​​​​​以​​​​​​​提​​​​​​​高​​​​​​​数​​​​​​​据​​​​​​​输​​​​​​​入​​​​​​​/输​​​​​​​出​​​​​​​的​​​​​​​效​​​​​​​率​​​​​​​。​​​​​​​
:::
::: para
条​​​​​​​带​​​​​​​化​​​​​​​数​​​​​​​据​​​​​​​可​​​​​​​通​​​​​​​过​​​​​​​以​​​​​​​ round-round
模​​​​​​​式​​​​​​​向​​​​​​​预​​​​​​​定​​​​​​​数​​​​​​​目​​​​​​​的​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​写​​​​​​​入​​​​​​​数​​​​​​​据​​​​​​​来​​​​​​​提​​​​​​​高​​​​​​​性​​​​​​​能​​​​​​​。​​​​​​​使​​​​​​​用​​​​​​​条​​​​​​​带​​​​​​​模​​​​​​​式​​​​​​​，I/O
可​​​​​​​以​​​​​​​平​​​​​​​行​​​​​​​执​​​​​​​行​​​​​​​。​​​​​​​在​​​​​​​有​​​​​​​些​​​​​​​情​​​​​​​况​​​​​​​下​​​​​​​，这​​​​​​​样​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​条​​​​​​​带​​​​​​​中​​​​​​​每​​​​​​​个​​​​​​​附​​​​​​​加​​​​​​​的​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​获​​​​​​​得​​​​​​​类​​​​​​​似​​​​​​​线​​​​​​​性​​​​​​​卷​​​​​​​的​​​​​​​性​​​​​​​能​​​​​​​。​​​​​​​
:::