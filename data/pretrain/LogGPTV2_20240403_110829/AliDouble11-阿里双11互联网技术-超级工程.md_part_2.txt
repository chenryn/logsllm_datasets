了关键字的点击行为外，还需要考虑对整个购物链路的影响，包括在推荐关键字的后
续行为中是否有商品点击、加购和成交或跳转到另外一个关键字的后继行为，这是一
个典型的强化学习问题，action是推荐的关键字候选集合，状态是用户当前搜索关键
词、上下文等，收益是搜索引导的成交。
除了被动的关键字推荐，我们也在思考搜索中更加主动的交互方式，能够做到像
导购员一样的双向互动，主动询问用户需求，挑选个性化的商品和给出个性化的推荐
理由，目前阿里搜索团队已经在做智能导购和智能内容方向的技术原型及论证，智能
导购在技术上主要是借鉴对话系统，通过引导用户和引擎对话与关键字推荐方式互为
补充，包括自然语言理解，对话策略，对话生成，知识推理、知识问答和商品搜索等
模块，功能主要包括：
a.根据用户搜索上下文生成引导用户主动交互的文本，比如搜索“奶粉”时，会
生成“您宝宝多大？0~6个月，6个月到1岁….”引导文案，提示用户细化
搜索意图，如果用户输入“3个月”后，会召回相应段位的奶粉，并在后续
的搜索中会记住对话状态“3个月”宝宝和提示用户“以下是适合3个月宝
宝的奶粉”。
新智能  9年双11：互联网技术超级工程
匹配，同样高质量样本，特别是高质量负样本很大程度上决定了模型的质量，
我们没有采样效率很低的随机负采样，而是基于电商知识图谱，通过生成字
面相似但不相关的query及相关文档的方法生成负样本。
从上面可以看到querytagging、query相似度、语义匹配和语义相关性是多个
目标不同但关联程度非常高的任务。下一步计划用统一的语义计算框架支持不同的语
义计算任务，具体包括：
1.开发基于商品内容的商品表征学习框架，为商品内容理解，内容生成，商品召
回和相关性提供统一的商品表征学习框架，重点包括商品标题，属性，详情
页和评价等文本信息抽取，图像特征抽取和多模信号融合。
2. query表征学习框架，为query类目预测，query改写，query推荐等提供
统一的表征学习框架，重点通过多个query相似任务训练统一的query表征
学习模型。
3.语义召回，语义相关性等业务应用模型框架。语义搜索除了增加搜索结果相关
性，提升用户体验外，也可以一定程度上遏制淘宝商品标题堆砌热门关键词
的问题。
智能匹配。这里主要是指个性化和排序。内容包括：
a. ibrain(深度用户感知网络)，搜索或推荐中个性化的重点是用户的理解与表
达，基于淘宝的用户画像静态特征和用户行为动态特征，我们基于multi-
modalslearning、multi-taskrepresentation learning以及LSTM的相关技
术，从海量用户行为日志中直接学习用户的通用表达，该学习方法善于“总
结经验”、“触类旁通”，使得到的用户表达更基础且更全面，能够直接用于用
户行为识别、偏好预估、个性化召回、个性化排序等任务，在搜索、推荐和
广告等个性化业务中有广泛的应用场景，感知网络超过10B个参数，已经学
习了几千亿次的用户行为，并且会保持不间断的增量学习越来越聪明。
b.多模学习，淘宝商品有文本、图像、标签、id 、品牌、类目、店铺及统计特
新智能  9年双11：互联网技术超级工程
得了10% (AB-Test)以上的搜索指标提升。
阿里巴巴人工智能搜索应用的未来计划
通用用户表征学习
前面介绍的DUPN是一个非常不错的用户表征学习模型，但基于query的
attention只适合搜索，同时缺少基于日志来源的attention，难以推广到其他业
务，在思考做一个能够适合多个业务场景的用户表征模型，非搜索业务做些简单fine
tuning就能取得比较好的效果；同时用户购物偏好受季节和周期等影响，时间跨度
非常大，最近K个行为序列假设太简单，我们在思考能够做life-long learning的模
型，能够学习用户过去几年的行为序列；
搜索链路联合优化
从用户进入搜索到离开搜索链路中的整体优化，比如搜索前的query引导（底
纹），搜索中的商品和内容排序，搜索后的query推荐（锦囊）等场景；
跨场景联合优化
今年搜索内部主搜索和店铺内搜索联合优化取得了很好的结果，未来希望能够拓
展在更多大流量场景，提高手淘的整体购物体验；
多目标联合优化
搜索除了成交外，还需要承担卖家多样性，流量公平性，流量商业化等居多平台
和卖家的诉求，搜索产品中除了商品搜索外还有“穹顶”，“主题搜索”，“锦囊”，“内
容搜索”等非商品搜索内容，不同搜索目标和不同内容（物种）之间的联合优化未来
很值得深挖。
智能交互
“搜索排序做的再好，搜索也只是一个工具”，如何把搜索从工具做成私人导购助
手，能够听懂你的语言，了解你的情绪，能够对话和多轮交互，解决售前售后困惑，
推荐更加个性化的商品应该是搜索未来的另外一个主要发展方向。
新智能  9年双11：互联网技术超级工程
数据库如何实现极致弹性能力？
数据库上云
大家都知道，数据库实现弹性能力是比较困难的，一方面是因为数据库对性能要
求非常高，另一方面是需要进行大量数据的搬迁，成本很高。数据库弹性的第一个方
向是数据库上云，通过云的弹性能力来解决数据库的资源问题。
数据库上云面临以下几个难点：
1.数据库如何快速上云，构建混合云？
2.如何降低虚拟化带来的性能损耗？
3.公有云环境和内部网络的互通问题。
经过几年的探索，这些难点都已得到解决。第一，数据库使用了高性能ECS，
通过使用SPDK、DPDK技术和NVMe存储，可以让虚拟化损耗非常小，接近物理
机；第二，我们建设了一套数据库混合云管理系统，可以同时管理云上和云下环境，
在双11前快速把混合云构建起来，支撑双十一。第三，我们通过VPC网络连接阿
里内部和公有云的网络，解决了混合云场景下的网络互联问题。
新智能 < 11
数据库弹性调度
使用云的资源还不够，为了实现更加极致的弹性能力，我们通过离在线混部技
术，可以让数据库使用离线集群的计算资源，最大程度的降低成本。为了实现离在线
混部技术，有两大基础条件：第一是容器化，通过容器实现了计算节点的资源隔离和
统一调度，第二是计算存储分离，它是数据库弹性调度能力的基础。非常幸运的是，
这几年技术的发展让存储计算分离成为可能，比如：25G高速网络、RDMA技术，
高性能分布式存储等。
数据库存储计算分离架构如图，包括存储层、网络层和计算层，存储使用阿里自
研分布式存储系统-盘古，数据库计算节点则部署在阿里自研容器（Pouch）中，通
过25G网络与存储节点连接。
为了实现数据库存储和计算分离，我们在分布式存储-盘古上做了非常多的优
化，比如：