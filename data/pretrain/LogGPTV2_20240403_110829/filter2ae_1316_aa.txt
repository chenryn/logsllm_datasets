# ä¸€ï¼šå‰ç½®çŸ¥è¯†
## 1.WebView
ç°åœ¨å¾ˆå¤šAppä¸­éƒ½ä¼šå†…ç½®html5ç•Œé¢ï¼Œæœ‰æ—¶å€™ä¼šæ¶‰åŠåˆ°ä¸androidè¿›è¡Œäº¤äº’ï¼Œè¿™å°±éœ€è¦ç”¨åˆ°WebViewæ§ä»¶ï¼ŒWebViewå¯ä»¥åšåˆ°ï¼š
    1.æ˜¾ç¤ºå’Œæ¸²æŸ“webç•Œé¢
    2.ç›´æ¥ä½¿ç”¨htmlè¿›è¡Œå¸ƒå±€
    3.ä¸jsè¿›è¡Œäº¤äº’
åˆ›å»ºWebViewæ‹¥æœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ–¹æ³•æ˜¯WebView webview = new
WebView(getApplicationContext());åˆ›å»ºï¼›ç¬¬äºŒç§æ˜¯åœ¨xmlæ–‡ä»¶å†…æ”¾åœ¨å¸ƒå±€ä¸­ï¼›ä¸‹é¢ä»¥ç¬¬äºŒç§æ–¹æ³•ä¸ºä¾‹
Activity_main.xmlæ–‡ä»¶
MainActivity.javaæ–‡ä»¶
    public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);
            // WebView
            WebView webView = (WebView) findViewById(R.id.eeeewebview);
            webView.loadUrl("https://www.baidu.com");
            webView.setWebViewClient(new WebViewClient(){
                @Override
                public boolean shouldOverrideUrlLoading(WebView view, String url) {
                    //ä½¿ç”¨WebViewåŠ è½½æ˜¾ç¤ºurl
                    view.loadUrl(url);
                    //è¿”å›true
                    return true;
                }
            });
å†™å®Œä¹‹åè¿è¡Œï¼Œå‘ç°æŠ¥é”™ï¼Œæ— æ³•æ‰“å¼€ç½‘é¡µ(net::ERR_CLEARTEXT_NOT_PERMITTED)ï¼Œ
ç»è¿‡æœç´¢åœ¨manifestå†…è®¾ç½®usesCleartextTrafficä¸ºtrueå³å¯  
å¯ä»¥çœ‹åˆ°ç™¾åº¦å·²ç»è¢«æ‰“å¼€äº†ï¼Œå•Šï½å› ä¸ºè¿™ä¸ªappæ˜¯æˆ‘ç”¨æ¥æµ‹è¯•å…¶ä»–ä¸œè¥¿çš„ï¼Œæ‰€ä»¥ä¼šçœ‹åˆ°ä¸‰ä¸ªå¥‡å¥‡æ€ªæ€ªçš„æŒ‰é’®
## 2.URI
Uriä»£è¡¨è¦æ“ä½œçš„æ•°æ®ï¼ŒAndroidä¸Šå¯ç”¨çš„æ¯ç§èµ„æº (å›¾åƒã€è§†é¢‘ç‰‡æ®µã€ç½‘é¡µç­‰) éƒ½å¯ä»¥ç”¨Uriæ¥è¡¨ç¤ºã€‚ä»æ¦‚å¿µä¸Šæ¥è®²ï¼ŒUrIåŒ…æ‹¬URLã€‚
Uriçš„åŸºæœ¬ç»“æ„æ˜¯
    å¤§è‡´ä¸º[scheme:]scheme-specific-part[#fragment]
    ç»†åˆ†ä¸º[scheme:][//authority][path][?query][#fragment]
pathå¯ä»¥å­˜åœ¨å¤šä¸ªï¼Œä»¥"/"è¿æ¥ scheme://authority/path1/path2/path3?query#fragment
queryå¯ä»¥å¸¦å‚æ•°çš„è¿”å›å€¼ä¹Ÿå¯ä¸å¸¦ scheme://authority/path1/path2/path3?id = 1#fragment
ä¸¾ä¾‹å¦‚ä¸‹
    http://www.eeeeeeeeeeeeeeeea.cn/about?id=1
schemeæ˜¯åœ¨":"ä¹‹å‰ï¼Œæ‰€ä»¥ä»–åŒ¹é…çš„æ˜¯http
authorityæ˜¯åœ¨"//"ä¹‹åï¼Œæ‰€ä»¥www.eeeeeeeeeeeeeeeea.cnä¸å…¶å¯¹åº”
pathè‡ªç„¶å¯¹åº”çš„å°±æ˜¯aboutè¿™ä¸ªé¡µé¢
queryå¯¹åº”çš„æ˜¯id=1
åœ¨å®‰å“å†…ï¼Œé™¤äº†authorityå’Œschemeå¿…é¡»å­˜åœ¨ï¼Œå…¶ä»–çš„å¯ä»¥é€‰æ‹©æ€§çš„è¦æˆ–è€…ä¸è¦
å°†ä¸€ä¸ªurlè§£ææˆuriå¯¹è±¡çš„æ“ä½œæ˜¯Uri.parse(â€œ
## 3.intent
### 1.intentåŠŸèƒ½
intentæ˜¯å„å¤§ç»„ä»¶ä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ï¼ŒAndroidæœ‰å››ä¸ªç»„ä»¶ï¼Œåˆ†åˆ«æ˜¯Activityï¼ŒServiceï¼ŒBroadcast Receiverï¼ŒContent
Providerï¼›ç»„ä»¶ä¹‹é—´å¯ä»¥è¿›è¡Œé€šä¿¡ï¼Œäº’ç›¸è°ƒç”¨ï¼Œä»è€Œå½¢æˆä¸€ä¸ªapp
æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½æœ‰è‹¥å¹²ä¸ªActivityç»„æˆï¼Œæ¯ä¸€ä¸ªActivityéƒ½æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸ç”¨æˆ·è¿›è¡Œäº¤äº’çš„çª—å£ï¼Œå‘ˆç°ä¸åŒçš„äº¤äº’ç•Œé¢ã€‚å› ä¸ºæ¯ä¸€ä¸ªActicityçš„ä»»åŠ¡ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ç»å¸¸äº’åœ¨å„ä¸ªActivityä¹‹é—´è¿›è¡Œè·³è½¬ï¼Œåœ¨Androidä¸­è¿™ä¸ªåŠ¨ä½œæ˜¯é Intentæ¥å®Œæˆçš„ã€‚é€šè¿‡startActivity()æ–¹æ³•å‘é€ä¸€ä¸ªIntentç»™ç³»ç»Ÿï¼Œç³»ç»Ÿä¼šæ ¹æ®è¿™ä¸ªIntentå¸®åŠ©ä½ æ‰¾åˆ°å¯¹åº”çš„Activityï¼Œå³ä½¿è¿™ä¸ªActivityåœ¨å…¶ä»–çš„åº”ç”¨ä¸­ï¼Œä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹æ³•å¯åŠ¨å®ƒã€‚
### 2.æ˜¾å¼intentå’Œéšå¼intent
intentåŒ…æ‹¬ä¸¤ç§ï¼Œä¸€æ˜¯æ˜¾å¼å¦ä¸€ä¸ªæ˜¯éšå¼ã€‚æ˜¾å¼intenté€šå¸¸æ˜¯å·²ç»çŸ¥é“è¦å¯åŠ¨Activityçš„åŒ…åï¼Œå¤šå‘äºåŒä¸€ä¸ªappå†…ï¼›éšå¼intentåªçŸ¥é“è¦æ‰§è¡Œçš„åŠ¨ä½œæ˜¯ä»€ä¹ˆï¼Œæ¯”å¦‚æ‹ç…§ï¼Œå½•åƒï¼Œæ‰“å¼€ä¸€ä¸ªç½‘ç«™ã€‚
é‚£ä¹ˆéšå¼çš„intentå¦‚ä½•å¯åŠ¨ä¸€ä¸ªç»„ä»¶å‘¢å‘¢ï¼Ÿå¦‚æœæ²¡æœ‰çº¦æŸçš„è¯å¯èƒ½ä¼šé€ æˆä¸€äº›åæœï¼Œæ‰€ä»¥åœ¨Manifestæ–‡ä»¶å†…å®šä¹‰äº†intent-filteræ ‡ç­¾ï¼Œå¦‚æœç»„ä»¶ä¸­çš„intentfilterå’Œintentä¸­çš„intentfilteråŒ¹é…ï¼Œç³»ç»Ÿå°±ä¼šå¯åŠ¨è¯¥ç»„ä»¶ï¼Œå¹¶æŠŠintentä¼ ç»™å®ƒï¼›è‹¥æœ‰å¤šä¸ªç»„ä»¶éƒ½ç¬¦åˆï¼Œç³»ç»Ÿå˜ä¼šå¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œä»»æˆ‘ä»¬é€‰æ‹©å¯åŠ¨è¯¥intentçš„åº”ç”¨(app)ã€‚
åœ¨intent-filteræ ‡ç­¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸‰ä¸ªintentçš„å±æ€§è¿›è¡Œè®¾ç½®ï¼ŒåŒ…æ‹¬actionï¼Œcategoryï¼Œdata
ä¸Šå›¾intent-filterå®šä¹‰çš„actionä¸ºMAINï¼Œä»£è¡¨appä»¥è¿™ä¸ªactivityå¼€å§‹
### 3.intentå±æ€§
#### 1.component
è¯¥å±æ€§æ˜¯æ˜¾å¼intentç‰¹æœ‰çš„ï¼Œè¡¨æ˜è¦å¯åŠ¨çš„ç±»çš„å…¨ç§°ï¼ŒåŒ…æ‹¬åŒ…åå’Œç±»åã€‚æœ‰å®ƒå°±æ„å‘³ç€åªæœ‰Component
nameåŒ¹é…ä¸Šçš„é‚£ä¸ªç»„ä»¶æ‰èƒ½æ¥æ”¶ä½ å‘é€å‡ºæ¥çš„æ˜¾å¼intentã€‚
ä¸‹é¢ä»£ç å¯ä»¥å¯åŠ¨å¦ä¸€ä¸ªappçš„ä¸»é¡µé¢
    Intent intent = new Intent(Intent.ACTION_MAIN);
    intent.addCategory(Intent.CATEGORY_LAUNCHER);            
    ComponentName cn = new ComponentName(packageName, className);            
    intent.setComponent(cn);
    startActivity(intent);
ä¸€ä¸ªactivityæ˜¯å¦èƒ½è¢«å…¶ä»–appçš„ç»„ä»¶å¯åŠ¨å–å†³äº"android:exported"ï¼Œtrueèƒ½ï¼Œfalseä¸èƒ½ã€‚å¦‚æœæ˜¯falseï¼Œè¿™ä¸ªactivityåªèƒ½è¢«ç›¸åŒappçš„ç»„ä»¶å¯åŠ¨ï¼Œæˆ–è€…æ˜¯ç›¸åŒuser
IDçš„appçš„ç»„ä»¶å¯åŠ¨ã€‚
**å¦‚æœæ˜¾å¼è®¾ç½®exportedå±æ€§ï¼Œä¸ç®¡è¿™ä¸ªactivityæœ‰æ²¡æœ‰è®¾ç½®intent-filter,é‚£ä¹ˆexportedçš„å€¼å°±æ˜¯æ˜¾å¼è®¾ç½®çš„å€¼**
**å¦‚æœæ²¡æœ‰è®¾ç½®exportedå±æ€§ï¼Œé‚£ä¹ˆexportedå±æ€§å–å†³äºè¿™ä¸ªactivityæ˜¯å¦æœ‰intent-filter**
**å¦‚æœ‰intent-filter,é‚£ä¹ˆexportedçš„å€¼å°±æ˜¯true**
**å¦‚æ²¡æœ‰intent-filter,é‚£ä¹ˆexportedçš„å€¼å°±æ˜¯false**
#### 2.action
ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼Œç”¨æ¥æŒ‡å®šIntentè¦æ‰§è¡Œçš„åŠ¨ä½œç±»åˆ«ï¼ˆæ¯”å¦‚ï¼šview or
pickï¼‰ã€‚ä½ å¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­è‡ªå®šä¹‰actionï¼Œä½†æ˜¯å¤§éƒ¨åˆ†çš„æ—¶å€™ä½ åªä½¿ç”¨åœ¨Intentä¸­å®šä¹‰çš„actionï¼Œä½ å¯ä»¥é€šè¿‡Intentçš„setAction()æ–¹æ³•è®¾ç½®actionã€‚
#### 3.data
ä¸€ä¸ªUriå¯¹è±¡ï¼Œå¯¹åº”ç€ä¸€ä¸ªæ•°æ®ã€‚åªè®¾ç½®æ•°æ®çš„URIå¯ä»¥è°ƒç”¨setData()æ–¹æ³•ï¼Œåªè®¾ç½®MIMEç±»å‹å¯ä»¥è°ƒç”¨setType()æ–¹æ³•ï¼Œå¦‚æœè¦åŒæ—¶è®¾ç½®è¿™ä¸¤ä¸ªå¯ä»¥è°ƒç”¨setDataAndType()ã€‚
#### 4.category
ä¸€ä¸ªåŒ…å«Intenté¢å¤–ä¿¡æ¯çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå“ªç§ç±»å‹çš„ç»„ä»¶æ¥å¤„ç†è¿™ä¸ªIntentã€‚ä»»ä½•æ•°é‡çš„Category
æè¿°éƒ½å¯ä»¥æ·»åŠ åˆ°Intentä¸­ï¼Œä½ å¯ä»¥é€šè¿‡è°ƒç”¨addCagegory()æ–¹æ³•æ¥è®¾ç½®categoryã€‚
#### 5.extras
Intentå¯ä»¥æºå¸¦çš„é¢å¤–key-valueæ•°æ®ï¼Œä½ å¯ä»¥é€šè¿‡è°ƒç”¨putExtra()æ–¹æ³•è®¾ç½®æ•°æ®ï¼Œæ¯ä¸€ä¸ªkeyå¯¹åº”ä¸€ä¸ªvalueæ•°æ®ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡åˆ›å»ºBundleå¯¹è±¡æ¥å­˜å‚¨æ‰€æœ‰æ•°æ®ï¼Œç„¶åé€šè¿‡è°ƒç”¨putExtras()æ–¹æ³•æ¥è®¾ç½®æ•°æ®ã€‚
#### 6.flags
ç”¨æ¥æŒ‡ç¤ºç³»ç»Ÿå¦‚ä½•å¯åŠ¨ä¸€ä¸ªActivityï¼ˆæ¯”å¦‚ï¼šè¿™ä¸ªActivityå±äºå“ªä¸ªActivityæ ˆï¼‰å’ŒActivityå¯åŠ¨åå¦‚ä½•å¤„ç†å®ƒ(æ¯”å¦‚ï¼šæ˜¯å¦æŠŠè¿™ä¸ªActivityå½’ä¸ºæœ€è¿‘çš„æ´»åŠ¨åˆ—è¡¨ä¸­)ã€‚
# äºŒï¼šé¢˜ç›®ç¯å¢ƒå¸ƒç½®
### 1.dockerå­˜åœ¨é—®é¢˜
è¿è¡Œrun.shï¼Œæˆ‘è‡ªå·±å¯åŠ¨äº†ä¸€édockerç¯å¢ƒï¼Œä¿®æ”¹äº†ä¸€äº›éƒ¨åˆ†ï¼Œæœ€ç»ˆå‘ç°æ˜¯åœ¨server.pyæ–‡ä»¶çš„ **setup_emulator()å‡½æ•°**
ä¸­æ²¡æœ‰æ¨¡æ‹Ÿå‡ºæ¥æ‰‹æœºï¼Œåªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªAVDç¯å¢ƒï¼Œå¹¶æ²¡æœ‰emulatoræˆåŠŸ
ç”±äºè‡ªå·±èƒ½åŠ›æœ‰é™ï¼Œå®åœ¨ä¸çŸ¥é“å¦‚ä½•ä¿®å¥½è¿™ä¸ªdockerç¯å¢ƒï¼Œä¾¿å°±æ­¤æç½®ï¼Œå¯¼è‡´åé¢silver droidåˆ©ç”¨ä¹Ÿä¸å®Œå…¨ï¼›å¦‚è‹¥åç»­è¿›æ­¥ï¼Œå¿…å®šå†æˆ˜ä¸€æ¬¡
### 2.server.pyè„šæœ¬å†…å‡½æ•°
#### 1.adb_broadcast
adb broadcastä¾¿æ˜¯å°†æœåŠ¡å™¨ä¸Šçš„flagä¼ ç»™apkçš„FlagReceiverï¼Œé€šè¿‡adb
shellè¿›å…¥æ‰‹æœºï¼Œå¯ä»¥æŸ¥çœ‹åˆ°flagè¢«å­˜åˆ°äº†"files/flag"å†…
ä¹‹å‰æœ‰ä¸€ä¸ªç–‘é—®ï¼Œä¾¿æ˜¯manifestæ–‡ä»¶å°†Flagreceiverè®¾ç½®ä¸ºexportedä¸ºfalseå’Œè®¾ç½®äº†intent-filterï¼Œé˜²æ­¢å¤–ç•Œappè¿›è¡Œå¹²æ‰°ï¼Œé‚£ä¹ˆæ˜¯æ€ä¹ˆå°†flagä¼ é€’ç»™FlagReceiverå‘¢ï¼Ÿ
ç”±äºrootçš„æƒ…å†µä¸‹ï¼Œæ˜¯å¿½ç•¥æ‰exportedçš„ï¼Œæ‰€ä»¥å¯ä»¥å¯¹å…¶è¿›è¡Œå¹¿æ’­
    am broadcast -W -a "com.wuhengctf.SET_FLAG" -n "com.bytectf.silverdroid/.FlagReceiver" -e 'flag' 'flag{eeeeeeee}'
#### 2.adb_activity
é€šè¿‡intentä¼ é€’urlæ•°æ®ï¼Œä¸‹é¢å¯ä»¥é€šè¿‡-dé€‰é¡¹æ¥æŒ‡å®šIntent data URI
    am start -a android.intent.action.VIEW -d  https://www.baidu.com
ä¸‹é¢çš„é¢˜ç›®ä»‹ç»ï¼Œéƒ½æ˜¯ä»¥pixel4ä¸ºç¯å¢ƒæ‰“çš„ï¼Œå› ä¸ºdockeræˆ‘è¿™è¾¹æ¨¡æ‹Ÿä¸èµ·æ¥
åŒæ—¶è®°å¾—è‡ªå·±å†™çš„apkè¦åœ¨AndroidManifest.xmlå†…åŠ ä¸¤å¥è¯ï¼Œå¯ä»¥è®©å…¶æœ‰ç½‘ç»œè®¿é—®çš„æƒé™
         10*1024*1024: # Limit size 10M
                return None
            with open(tmp_file, 'wb') as fp:
                fp.write(f.content)
            return tmp_file
        except:
            return None
    def proof_of_work():
        print_to_user(f"First, to ensure that the service will not be dos, please answer me a question.")
        prefix = random_hex(6)
        suffix = random_hex(difficulty)
        targetHash = sha256((prefix+suffix).encode()).hexdigest()
        print_to_user(f'Question: sha256(("{prefix}"+"{"x"*difficulty}").encode()).hexdigest() == "{targetHash}"')
        print_to_user(f'Please enter the {"x"*difficulty} to satisfy the above equation:')
        proof = sys.stdin.readline().strip()
        return sha256((prefix+proof).encode()).hexdigest() == targetHash
    def check_apk(path):
        # return True
        try:
            z = zipfile.ZipFile(path)
            for f in z.filelist:
                if f.filename == "AndroidManifest.xml":
                    return True
            return False
        except:
            return False
    def setup_emulator():
      #avdmanageræ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥ç”¨äºä»å‘½ä»¤è¡Œåˆ›å»ºå’Œç®¡ç† Android è™šæ‹Ÿè®¾å¤‡ (AVD)ï¼Œå€ŸåŠ© AVDï¼Œæ‚¨å¯ä»¥å®šä¹‰è¦åœ¨ Android æ¨¡æ‹Ÿå™¨ä¸­æ¨¡æ‹Ÿçš„ Android æ‰‹æœº
        subprocess.call(
            "avdmanager" +
            " create avd" +
            " --name 'pixel_xl_api_30'" +
            " --abi 'google_apis/x86_64'" +
            " --package 'system-images;android-30;google_apis;x86_64'" +
            " --device pixel_xl" +
            " --force" +
            ("" if isMacos  else " > /dev/null 2> /dev/null"),
            env=ENV,
            close_fds=True,
            shell=True)
        return subprocess.Popen(
            "emulator" +
            " -avd pixel_xl_api_30" +
            " -no-cache" +
            " -no-snapstorage" +
            " -no-snapshot-save" +
            " -no-snapshot-load" +
            " -no-audio" +
            " -no-window" +
            " -no-snapshot" +
            " -no-boot-anim" +
            " -wipe-data" +
            " -accel on" +
            " -netdelay none" +
            " -no-sim" +
            " -netspeed full" +
            " -delay-adb" +
            " -port {}".format(EMULATOR_PORT) +
            ("" if isMacos  else " > /dev/null 2> /dev/null ") +
            "",
            env=ENV,
            close_fds=True,
            shell=True, #é€šè¿‡æ“ä½œç³»ç»Ÿçš„ shell æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤
            preexec_fn=os.setsid)
    def adb(args, capture_output=True):  
      #æ‰§è¡Œadbå‘½ä»¤
        return subprocess.run(
            # "adb {}".format(" ".join(args)) +
            # ("" if isMacos  else " 2> /dev/null"),
            ['adb'] + (['-s', 'emulator-36666']+args if isMacos else args),
            env=ENV,
            # shell=True,
            close_fds=True,
            capture_output=capture_output).stdout
    def adb_install(apk):
        adb(["install", "-t", apk])
    def adb_activity(activity, extras=None, wait=False, data=None):
        args = ["shell", "am", "start"]
        if wait:
            args += ["-W"]
        args += ["-n", activity]
        if extras:
            for key in extras:
                args += ["-e", key, extras[key]]
        if data:
            args += ["-d", data]
        adb(args)
    def adb_broadcast(action, receiver, extras=None):
        args = ["shell", "su", "root", "am", "broadcast", "-W", "-a", action, "-n", receiver]
        if extras:
            for key in extras:
                args += ["-e", key, extras[key]]
        adb(args)
    print_to_user(r"""
    [0;1;35;95mâ–‘â–ˆ[0;1;31;91mâ–€â–€[0;1;33;93mâ–‘â–ˆ[0;1;32;92mâ–‘â–‘[0;1;36;96mâ–‘â–€[0;1;34;94mâ–ˆâ–€[0;1;35;95mâ–‘â–ˆ[0;1;31;91mâ–‘â–ˆ[0;1;33;93mâ–‘â–ˆ[0;1;32;92mâ–€â–€[0;1;36;96mâ–‘â–ˆ[0;1;34;94mâ–€â–„[0;1;35;95mâ–‘â–ˆ[0;1;31;91mâ–€â–„[0;1;33;93mâ–‘â–ˆ[0;1;32;92mâ–€â–„[0;1;36;96mâ–‘â–ˆ[0;1;34;94mâ–€â–ˆ[0;1;35;95mâ–‘â–€[0;1;31;91mâ–ˆâ–€[0;1;33;93mâ–‘â–ˆ[0;1;32;92mâ–€â–„[0m
    [0;1;31;91mâ–‘â–€[0;1;33;93mâ–€â–ˆ[0;1;32;92mâ–‘â–ˆ[0;1;36;96mâ–‘â–‘[0;1;34;94mâ–‘â–‘[0;1;35;95mâ–ˆâ–‘[0;1;31;91mâ–‘â–€[0;1;33;93mâ–„â–€[0;1;32;92mâ–‘â–ˆ[0;1;36;96mâ–€â–€[0;1;34;94mâ–‘â–ˆ[0;1;35;95mâ–€â–„[0;1;31;91mâ–‘â–ˆ[0;1;33;93mâ–‘â–ˆ[0;1;32;92mâ–‘â–ˆ[0;1;36;96mâ–€â–„[0;1;34;94mâ–‘â–ˆ[0;1;35;95mâ–‘â–ˆ[0;1;31;91mâ–‘â–‘[0;1;33;93mâ–ˆâ–‘[0;1;32;92mâ–‘â–ˆ[0;1;36;96mâ–‘â–ˆ[0m
    [0;1;33;93mâ–‘â–€[0;1;32;92mâ–€â–€[0;1;36;96mâ–‘â–€[0;1;34;94mâ–€â–€[0;1;35;95mâ–‘â–€[0;1;31;91mâ–€â–€[0;1;33;93mâ–‘â–‘[0;1;32;92mâ–€â–‘[0;1;36;96mâ–‘â–€[0;1;34;94mâ–€â–€[0;1;35;95mâ–‘â–€[0;1;31;91mâ–‘â–€[0;1;33;93mâ–‘â–€[0;1;32;92mâ–€â–‘[0;1;36;96mâ–‘â–€[0;1;34;94mâ–‘â–€[0;1;35;95mâ–‘â–€[0;1;31;91mâ–€â–€[0;1;33;93mâ–‘â–€[0;1;32;92mâ–€â–€[0;1;36;96mâ–‘â–€[0;1;34;94mâ–€â–‘[0m
    """)
    if not isMacos:
        if not proof_of_work():
            print_to_user("Please proof of work again, exit...\n")
            exit(-1)
    print_to_user("Please enter your poc url:")
    url = sys.stdin.readline().strip()
    # url should be like "https://xxx" to to ensure that `adb shell` passes intent.data correctly.
    if url.strip('"') == url:
        url = f'"{url}"'
    if not url.startswith('"https://'):
        print_to_user("Invalid poc url.\n")
        exit(-1)
    print_to_user("Preparing android emulator. This may takes about 2 minutes...\n")
    emulator = setup_emulator()
    #åªæœ‰è¿æ¥ä¸Šäº†æ¨¡æ‹Ÿå™¨/è®¾å¤‡è¿æ¥ä¸Šäº†adbï¼ŒæœåŠ¡æ‰ä¼šè¢«æ‰§è¡Œï¼Œè€Œåœ¨Androidç³»ç»Ÿå®Œå…¨å¯åŠ¨å‰æ‰§è¡Œå°±ä¼šæœ‰é”™è¯¯å‘ç”Ÿ