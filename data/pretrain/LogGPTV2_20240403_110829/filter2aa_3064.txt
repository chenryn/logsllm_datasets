Philips Hue Bridge2.1 获取设备 root 权限 
基础信息收集 
设备介绍 
Philips HUE Bridge 桥接器在现有 HUE Bridge 桥接器的基础上升级为支持 
HomeKit。这款 HUE Bridge 桥接器让你可在 iPhone、iPad 或 iPod touch 上
通过 Hue app 控制自己的各种 Hue 产品。只需安装好 HUE Bridge 桥接器，
并将 app 下载到 iOS 设备上，便可开始打造定制化的照明系统。 
(参考: https://www.apple.com.cn/shop/product/HPY82CH/A) 
设备版本 
philips Hue Bridge 2.1  
设备接入 
直接接入支持 DHCP 的设备中即可, 可以当作 DHCP Client 来直接获取 IP,然后
通过管理后台以及端口扫描的方式获取到设备的 Mac 地址, Mac 地址有标识是
Philips 的设备. 
Nmap scan report for 192.168.1.9 
Host is up (0.0027s latency). 
Not shown: 998 closed ports 
PORT     STATE SERVICE 
80/tcp   open  http 
8080/tcp open  http-proxy 
MAC Address: XXXXXXXXXXXXX (Philips Lighting BV) 
获取 Root 权限 
UART 接口测试 
根据如下线序进行连接(小三角处为 PIN1): 
连接好 UART, 波特率 115200,使用 minicom 进行调试: 
minicom -D /dev/ -b 115200 
测试乱码, 这里由于我使用的是 CH340G 的模块进行 uart 调试, 后边通过查询
网上的资料, 该类型调试口需要使用 FT232RL 进行调试, 于是更换 FT232RL 
京东上买一个: 
更换后即可看到正常显示: 
这里因为板子使用的是冷启动, 也就是在连接了 TX 之后, 板子不会启动, 因此
在引导加载程序启动之前保持未连接状态。 
如果想中断引导加载, 并且进入 U-boot 控制台的话,需要在加载 U-boot 的时
候, 连接 SEU 的 2 个接口到 flash 右边的这个触点上, 这样的话就可以使得引
导加载程序无法从 NAND 读取内核映像, 从而报错进入到 U-boot 控制台, 具体
操作方法如下: 
在设备接入电源约 2-3 秒后, 通过该方法就可以进入到 U-Boot 中,printenv 打
印一下环境变量, 发现有 security 字段, 它为 root 的原始密码 
此时通过 mkpasswd 生成一个 toor 的密码  
重新设置一下 security 值, 然后保存环境变量, 重新启动, 即可替换掉原有的
系统口令, 命令如下 
ath> setenv security 
'$5$wbgtEC1iF$ugIfQUoE7SNg4mplDI/7xdfLC7jXoMAkupeMsm1
0hY9' 
ath> saveenv 
ath> reset 
获取本地 Root 权限: 
打包固件: 
tar -zcvf /tmp/rom.tar.gz /rom/ 
通过 scp 传输: