User: How to use SSH key pairs for remote operations on Linux systems, including remote login and file transfer.
Assistant: Remote login 1. Generate a key pair First generate a key pair locally (on the machine to be connected to the remote machine), you can use the following command: ``` ssh-keygen -t rsa ``` Among them, the -t option specifies to generate The key type, the default is rsa. This command will generate two files id_rsa and id_rsa.pub in the .ssh directory of the user's home directory (id_rsa is the private key, id_rsa.pub is the public key). 2. Add the public key to the authorized_keys of the remote machine Next, add the public key on the local machine to the authorized_keys file on the remote machine to be connected to verify identity when making an SSH connection. You can use the following command: ``` ssh-copy-id username@remote_host ``` This command will automatically add the public key on the local machine to the authorized_keys file on the remote machine. If you cannot use the ssh-copy-id command, you can manually copy the public key content to the authorized_keys file of the remote machine, you can use the following command: ``` cat ~/.ssh/id_rsa.pub | ssh username@remote_host "mkdir - p ~/.ssh && cat >> ~/.ssh/authorized_keys" ``` Among them, username is the username of the remote machine to be connected, and remote_host is the IP address or host name of the remote machine to be connected. 3. Connect to the remote machine After completing the above steps, you can use the following command to connect to the remote machine: ``` ssh username@remote_host ``` Among them, username is the user name of the remote machine to be connected, and remote_host is the username of the remote machine to be connected IP address or hostname. File transfer Using SSH key pairs for file transfer can also use SCP or SFTP commands. 1. SCP command The SCP command is used to copy files between a local machine and a remote machine. You can use the following command to copy local files to the remote machine: ``` scp local_file username@remote_host:/remote/path ``` where local_file is the path of the file to be copied locally, and username is the username of the remote machine to be connected , remote_host is the IP address or host name of the remote machine to be connected, and /remote/path is the path to save the file on the remote machine. You can also use the following command to copy the files on the remote machine to the local machine: ``` scp username@remote_host:/remote/file /local/path ``` Among them, username is the username of the remote machine to be connected, remote_host is the IP address or host name of the remote machine to be connected, /remote/file is the path of the file to be copied on the remote machine, and /local/path is the path to save the file on the local machine. 2. SFTP command SFTP command is used to transfer files between local machine and remote machine. You can use the following command to connect to the SFTP server of the remote machine: ``` sftp username@remote_host ``` Among them, username is the username of the remote machine to be connected, and remote_host is the IP address or host name of the remote machine to be connected. After the connection is successful, you can use the SFTP command for file transfer. For example, use the following command to upload a local file to a remote machine: ``` put local_file /remote/path ``` Among them, local_file is the path of the file to be uploaded locally, and /remote/path is the path to save the file on the remote machine. You can also use the following command to download the file on the remote machine to the local machine: ``` get /remote/file /local/path ``` Among them, /remote/file is the file path to be downloaded on the remote machine, /local /path is the path to save the file on the local machine.