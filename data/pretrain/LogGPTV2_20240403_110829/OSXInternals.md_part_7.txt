Chapter 1. Origins of Mac OS X Page 28 of 32
A new version of the QuickTime player
The Music Player application for playing MP3s and audio CDs
A new version of the Sherlock Internet-searching tool
A beta version of Microsoft Internet Explorer
With Darwin, Apple would continually leverage a substantial amount of existing open source
software by using it forand often integrating it withMac OS X. Apple and Internet Systems
Consortium, Inc. (ISC), jointly founded the OpenDarwin project in April 2002 for fostering
cooperative open source development of Darwin. GNU-Darwin is an open source Darwin-based
operating system.
The New Kernel
Darwin's kernel is called xnu. It is unofficially an acronym for "X is Not Unix." It is also
a coincidental tribute to the fact that it is indeed the NuKernel for Mac OS X. xnu is
largely based on Mach and FreeBSD, but it includes code and concepts from various
sources such as the formerly Apple-supported MkLinux project, the work done on Mach
at the University of Utah, NetBSD, and OpenBSD.
1.5.4. Mac OS X 10.x
The first version of Mac OS X was released on March 24, 2001, as Mac OS X 10.0 Cheetah. Soon
afterwards, the versioning scheme of the server product was revised to synchronize it with that of the
desktop system. Since then, the trend has been that a new version of the desktop is released first,
soon followed by the equivalent server revision.
Table 11 lists several major Mac OS X releases. Note that the codenames are all taken from felid
taxonomy.
Table 11. Mac OS X Versions
Version Codename Release Date
10.0 Cheetah March 24, 2001
10.1 Puma September 29, 2001
10.2 Jaguar August 23, 2002
10.3 Panther October 24, 2003
10.4 Tiger April 29, 2005
10.5 Leopard 2006/2007?
Let us look at some notable aspects of each major Mac OS X release.
1.5.4.1. Mac OS X 10.0
Apple dubbed Cheetah as "the world's most advanced operating system," which would become a
file://C:\Dokumente und Einstellungen\Silvia\Lokale Einstellungen\Temp\~hhB9A2.h... 20.08.2007
Chapter 1. Origins of Mac OS X Page 29 of 32
[24]
frequently used tagline for Mac OS X. Finally, Apple had shipped an operating system with
features that it had long sought. However, it was clear that Apple had a long way to go in terms of
performance and stability. Key features of 10.0 included the following:
[24] Mac OS X page on Apple's web site, www.apple.com/macosx/ (accessed April 26,
2006).
The Aqua user interface, with the Dock and the Finder as the primary user-facing tools
The PDF-based Quartz 2D graphics engine
OpenGL for 3D graphics
QuickTime for streaming audio and video (shipping for the first time as an integrated feature)
Java 2 Standard Edition (J2SE)
Integrated Kerberos
Mac OS X versions of the three most popular Apple applications available as free downloads:
iMovie 2, iTunes, and a preview version of AppleWorks
Free IMAP service for Mac.com email accounts
When Mac OS X 10.0 was released, there were approximately 350 applications available for it.
1.5.4.2. Mac OS X 10.1
Puma was a free update released six months after 10.0's release. It offered significant performance
enhancements, as indicated by Apple's following claims:
Up to 3x improvement in application launch speed
Up to 5x improvement in menu performance
Up to 3x improvement in window resizing
Up to 2x improvement in file copying
There were substantial performance boosts in other areas such as system startup, user login, Classic
startup, OpenGL, and Java. Other key features of this release included the following:
The ability to move the Dock from its usual place at the bottom to the left or right
System status icons on the menu bar to provide easier access to commonly used functions such
as volume control, display settings, date and time, Internet connection settings, wireless
network monitoring, and battery charging
iTunes and iMovie as part of system installation, and the introduction of iDVD
A new DVD player with a simplified interface
file://C:\Dokumente und Einstellungen\Silvia\Lokale Einstellungen\Temp\~hhB9A2.h... 20.08.2007
Chapter 1. Origins of Mac OS X Page 30 of 32
Improved iDisk functionality based on WebDAV
A built-in image-capturing application to automatically download and enhance pictures from
digital cameras
The ability to burn over 4GB of data to a DVD, with support for burning recordable DVD
discs directly in the Finder
An integrated SMB/CIFS client
The Carbon API implementation in 10.1 was complete enough to allow important third-party
applications to be released. Carbonized versions of Microsoft Office, Adobe Photoshop, and
Macromedia Freehand were released soon after 10.1 went public.
1.5.4.3. Mac OS X 10.2
Jaguar was released at 10:20 P.M. to emphasize its version number. Its important feature additions
included the following:
Quartz Extreme an integrated hardware acceleration layer for rendering on-screen objects by
compositing them using primarily the graphics processing unit (GPU) on supported graphics
cards
iChat an instant-messaging client compatible with AOL Instant Messaging (AIM)
An enhanced mail application (Mail.app) with built-in adaptive spam filtering
A new Address Book application with support for vCards, Bluetooth, and iSync
synchronization with .Mac servers, PDAs, certain cell phones, and other Mac OS X computers
(the Address Book's information was accessible to other applications)
QuickTime 6, with support for MPEG-4
An improved Finder with quick file searching from the toolbar and support for spring-loaded
folders
Inkwell a handwriting recognition technology integrated with the text system, allowing text
input using a graphics tablet
[25]
Rendezvous, which was Apple's implementation of ZeroConf, a zero-configuration
networking technology allowing enabled devices to find one another on the network
[25] Rendezvous was later renamed Bonjour.
Better compatibility with Windows networks
Version 3 of the Sherlock Internet services tool
Hereafter, Apple introduced new applications and incorporated technologies in Mac OS X at a
bewildering pace. Other notable additions to Mac OS X after the release of Jaguar included the
iPhoto digital photo management application, the Safari web browser, and an optimized
implementation of the X Window System.
file://C:\Dokumente und Einstellungen\Silvia\Lokale Einstellungen\Temp\~hhB9A2.h... 20.08.2007
Chapter 1. Origins of Mac OS X Page 31 of 32
1.5.4.4. Mac OS X 10.3
Panther added several productivity and security features to Mac OS X, besides providing general
performance and usability improvements. Notable 10.3 features included the following:
An enhanced Finder, with a sidebar and support for labels
Audio and video conferencing through the iChat AV application
Expos√© a user-interface feature that can "live shrink" each on-screen window such that no
windows overlap, allowing the user to find a window visually, after which each window is
restored to its original size and location
FileVault encryption of a user's home directory
Secure deletion of files in a user's trash can via a multipass overwriting algorithm
Fast user switching
Built-in faxing
Improved Windows compatibility courtesy of better support for SMB shares and Microsoft
Exchange
Support for HFSXa case-sensitive version of the HFS Plus file system
1.5.4.5. Mac OS X 10.4
Besides providing typical evolutionary improvements, Tiger introduced several new technologies
such as Spotlight and Dashboard. Spotlight is a search technology consisting of an extensible set of
metadata importer plug-ins and a query API for searching files based on their metadata, even
immediately after new files are created. Dashboard is an environment for creating and running
lightweight desktop utilities called widgets, which normally remain hidden and can be summoned by
a key-press. Other important Tiger features include the following:
Improved 64-bit support, with the ability to compile 64-bit binaries, and 64-bit support in the
libSystem shared library
Automator a tool for automating common procedures by visually creating workflows
Core Image a media technology employing GPU-based acceleration for image processing
Core Video a media technology acting as a bridge between QuickTime and the GPU for
hardware-accelerated video processing
Quartz 2D Extreme a new set of Quartz layer optimizations that use the GPU for the entire
drawing path (from the application to the framebuffer)
Quartz Composer a tool for visually creating compositions using both graphical technologies
(such as Quartz 2D, Core Image, OpenGL, and QuickTime) and nongraphical technologies
(such as MIDI System Services and Rich Site Summary [RSS])
Support for a resolution-independent user interface
file://C:\Dokumente und Einstellungen\Silvia\Lokale Einstellungen\Temp\~hhB9A2.h... 20.08.2007
Chapter 1. Origins of Mac OS X Page 32 of 32
Improved iChat AV, with support for multiple simultaneous audio and video conferences
PDF Kit a Cocoa framework for managing and displaying PDF files from within applications
Improved Universal Access, with support for an integrated spoken interface
An embeddable SQL database engine (SQLite) allowing applications to use SQL databases
without running a separate RDBMS[26] process
[26] Relational database management system.
Core Data a Cocoa technology that integrates with Cocoa bindings and allows visual
description of an application's data entities, whose instances can persist on a storage medium
Fast Logout and Autosave for improved user experience
Support for access control lists (ACLs)
New formalized and stable interfaces, particularly for kernel programming
Improvements to the Web Kit (including support for creating and editing content at the DOM
level of an HTML document), the Safari web browser (including RSS support), QuickTime
(including support for the H.264 code and a new QuickTime Kit Cocoa framework), the Audio
subsystem (including support for OpenAL, the Open Audio Library), the Mac OS X installer
application, Sync Services, the Search Kit, Xcode, and so on
The first shipping x86-based Macintosh computers used Mac OS X 10.4.4 as the operating system.
As we have seen in this chapter, Mac OS X is a long evolution of many disparate technologies. The
next version of Mac OS X is expected to continue the remarkable pace of development, especially
with the transition from the PowerPC to the x86 platform.
In Chapter 2, we will take a diverse tour of Mac OS X and its features, including brief overviews of
the various layers. The remaining chapters discuss specific aspects and subsystems of Mac OS X in
detail.
file://C:\Dokumente und Einstellungen\Silvia\Lokale Einstellungen\Temp\~hhB9A2.h... 20.08.2007
Chapter 2. An Overview of Mac OS X Page 1 of 80
Chapter 2. An Overview of Mac OS X
We saw in Chapter 1 that Mac OS X is a mix of several technologies that differ not only in what they do but
also in where they came from, which philosophies they represent, and how they are implemented.
Nevertheless, Mac OS X presents a cohesive and consistent picture to the end user. The fact that Apple
computers have a well-defined, limited hardware base is conducive to Apple's success in maintaining a
mostly positive user experience despite the underlying software eclecticism seen in Mac OS X.
From a high-level standpoint, Mac OS X may be seen as consisting of three classes of technologies: those
that originated at Apple, those that originated at NeXT, and "everything else." The latter consists mostly of
third-party[1] open source software. On the one hand, such confluence makes it somewhat hard to clearly
visualize the structure of Mac OS X and might even be a stumbling block for the new Mac OS X
programmer. On the other hand, Mac OS X programmers have a rather colorful environment to give vent to
their creative fervors. The end user is the bigger beneficiary, enjoying a range of software that is not seen on
any other single platform. In particular, Mac OS X provides the benefits of a typical Unix system, while
maintaining the traditional ease of use of a Macintosh. The Mac OS X Unix environment is standard enough
so that most portable Unix softwaresuch as the GNU suite and X Window applicationsruns easily. Mac OS
X is often dubbed a mass-market Unix system, and yet, traditionally non-Unix, mainstream software, such
as Microsoft Office and the Adobe Creative Suite, is available natively for Mac OS X. Apple's own software
repertoire is wide ranging in that it includes offerings such as the following:
[1] The other two categories also contain open source components.
Everyday applications such as those for managing email, instant messaging, and web browsing
"Digital-lifestyle" applications such as those for managing digital photos, music, and movies
"Office" applications for creating presentations, slide shows, and other documents
High-end professional software for animation, movie editing and effects, music editing and
generation, DVD creation, and photography postproduction
This chapter is a whirlwind tour of the high-level architecture of Mac OS X. We will identify the main
technologies that constitute Mac OS X and see how they fit in the overall picture. Manybut not alltopics that
are mentioned in this chapter will be discussed in greater detail in subsequent chapters.
Figure 21 shows a layered view of the important components of the Mac OS X architecture. The picture is
approximate since it is impracticalif not impossibleto divide various components into cleanly separated
layers. Sometimes there is overlap between the layers. For example, OpenGL is functionally the hardware
abstraction layer (HAL) of the graphics subsystem and logically sits atop the graphics hardwarethis is not
obvious from Figure 21. As another example, the BSD application environment, which includes the standard
C library, logically sits atop the kernel but is shown alongside other application environments in Figure 21.
In general, the following statements apply to the layered view shown here.
Lower layers, which are shown closer to the kernel, provide functionality that is more fundamental
than that provided by higher layers. Typically, higher layers use lower layers in their implementation.
A layer may consist of applications, libraries, and frameworks.[2]
[2] In the simplest sense, a framework is a packaged dynamic shared library. We will
discuss frameworks in Section 2.8.3.
Entities may exist with the same (or similar) name in multiple layers. For example, QuickTime is both
an application environment and an application service. Similarly, we have a layer named Core
Services in Figure 21, but there is also a similarly named framework (CoreServices.framework).
file://C:\Dokumente und Einstellungen\Silvia\Lokale Einstellungen\Temp\~hhF139.htm 20.08.2007
Chapter 2. An Overview of Mac OS X Page 2 of 80
Moreover, many critical components of Mac OS X reside in the /System/Library/CoreServices/
directory.
End users interact with the highest layers, whereas developers additionally interact with one or more
lower layers, depending on the kind of development they do. For example, a developer creating an
end-user Cocoa application may not need[3] to go any "lower" than the Cocoa application
environment.
[3] In most cases, it would still be to a developer's advantage to understand how the
system works.
Figure 21. The high-level architecture of Mac OS X
[View full size image]
2.1. Firmware
The firmware is not technically a part of Mac OS X, but it plays an important role in the operation of an
Apple computer. Whereas PowerPC-based Apple computers use Open Firmware, x86-based Apple
computers use the Extensible Firmware Interface (EFI).
Open Firmware is a nonproprietary, platform-independent boot firmware that lives in the boot ROM[4] of a
PowerPC-based Apple computer. Its role in booting is somewhat analogous to that of the PC BIOS for x86-
based computers. However, Open Firmware includes various other capabilities: It can be used for
customized booting, diagnosing, debugging, and even programming. In fact, Open Firmware is a user-
accessible runtime and programming environment in its own right. EFI is conceptually very similar to Open
Firmware. Chapter 4 discusses Open Firmware and EFI.
[4] In modern Apple computers, the boot ROM is an onboard flash EEPROM.
file://C:\Dokumente und Einstellungen\Silvia\Lokale Einstellungen\Temp\~hhF139.htm 20.08.2007