3.0% 3.8% 5.0%
18% 25% 29%
42% 55% 57%
82% 85% 86%
45% 51% 52%
23% 32% 33%
47% 56% 57%
3.3% 4.0% 5.3%
Table 2: Simulated miss-rate for diﬀerent logs,
sources, and request-rates
5.2 Poisson and Pareto arrivals
We now consider the performance of a client-cache which
receives a stream of requests which is generated by Poisson
process with rate λ.
The miss rate through auth is 1/(1 + β), when β is the
expected number of requests in a T -interval following a cache
miss. For a memoryless process, β is simply the expected
number of requests in a T -interval following any request.
For a Poisson process, β = λ (expected λ requests in a T -
interval), and thus, the miss rate is 1/(1 + λ).
To obtain the miss rate through an exc source, consider
some ﬁxed source displacement α and the corresponding par-
tition of time into T -intervals. A request constitutes a miss
if and only if it is the ﬁrst request in a T -interval. There-
fore if r is the average number of requests in a nonempty
T-interval, then the miss rate is 1/r. For a Poisson process
with rate λ, the likelihood of a given T-interval to be empty
is exp(−λ), and thus, the expected number of requests in a
non-empty interval is λ/(1− exp(−λ)), thus the miss rate is
(1 − exp(−λ))/λ.
The miss rate through ind is 1/(1 + γ), where γ is the
expected number of requests occurring after a miss in an in-
terval drawn from U [0, T ]. For a Poisson process, the num-
ber of requests is proportional to interval length and thus,
γ = λ/2, yielding a miss rate of 1/(1 + λ/2).
Figure 6 shows the miss-rate and age-penalty for diﬀerent
source types, as a function of 1/λ for Poisson arrivals, and
as a function of k for Pareto arrivals with α = 1, 2. We
observed similar patterns in Pareto arrivals simulations with
values of α ranging between 0.5 and 10.
5.3 Trace-based simulations
Table 2 lists the miss-rates for diﬀerent request-rate ranges
under diﬀerent (simulated) basic sources. The age-penalty
through exc or ind sources amounts to an overall 15%-25%
increase in misses. The penalty is slightly larger for ind
source, and is larger for higher request-rates. These numbers
correspond to the simulated source treating requests with a
no-cache header as regular GET requests. The gap between
exc and ind is slightly smaller otherwise.
5.4 Lessons and implications
At the extremes, for low or high request-rates, the age-
Fixed freq arrivals: miss-rate
Fixed freq arrivals: age penalty
1
0.8
0.6
0.4
0.2
0
0
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
0
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
e
t
a
r
s
s
m
i
e
t
a
r
s
s
m
i
e
t
a
r
s
s
m
i
independent
exclusive
authoritative
0.2
0.4
0.6
1/lambda
0.8
1
Poisson arrivals: miss-rate
independent
exclusive
authoritative
0.2
0.4
0.6
0.8
1
1.2
1.4
1/lambda
Pareto arrivals alpha=1: miss-rate
y
t
l
a
n
e
p
e
g
a
y
t
l
a
n
e
p
e
g
a
y
t
l
a
n
e
p
e
g
a
1
0.8
0.6
0.4
0.2
0
0
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
independent
exclusive
0.2
0.4
0.6
1/lambda
0.8
1
Poisson arrivals: age penalty
independent
exclusive
0
0.2
0.4
0.6
0.8
1
1.2
1.4
1/lambda
Pareto arrivals alpha=1: age penalty
independent
exclusive
0.5
1
1.5
2
2.5
k
3
3.5
4
4.5
5
0
0
0.5
1
1.5
independent
exclusive
authoritative
2.5
3
3.5
4
2
k
Figure 6: Fixed frequency (top), Poisson (middle), and Pareto α = 1 arrivals (bottom). Miss-rate and age
penalty dependence on (inverse) request-rate.
penalty of exc approaches 0 whereas the age-penalty of ind
approaches 1 for high rates and 0 for low rates. The miss-
rate curves of ind and auth typically remain well-separated
across requests-rates, with exc being closer to auth with
higher rates and closer to ind with lower rates.
Both Poisson and Pareto arrivals exhibit similar patterns
with the age-penalty of ind source being monotonic increas-
ing with rate and the age-penalty of exc being bitonic, peak-
ing at an intermediate request-rate value (which varies by
distribution).
This shows that the magnitude of the age-penalty highly
depends on the mix of request-rates at the client cache. Our
trace-based simulations showed a gap of 15%-20% in miss-
rate between auth and exc sources, and a smaller gap of
2%-4% between exc and ind.
Interestingly, the (very diﬀerent) Poisson and Pareto dis-
tributions exhibit similar patterns, and diﬀer from the chop-
pier patterns for ﬁxed-frequency arrivals. As we shall see,
this observation prevails in more-involved scenarios explored
later on and we attribute it to the reference-locality property
of these distributions.
6. REJUVENATION
We now analyze the eﬀect of pre-term refreshes. A Pre-
term refresh by a cache is a refresh (validation request sent
to an origin server) of a non-expired copy of an object. As a
result, the cache obtains a copy with zero age. A pre-term
refresh can occur when the cache receives a client request
with a no-cache request header. We also consider top-level
caches that are conﬁgured to do periodic pre-term refreshes
of objects as a proactive mechanism for reducing the age
penalty. We call this mechanism Rejuvenation, and we call
a cache which is conﬁgured to use it a rejuvenating cache.
We consider speciﬁc types of rejuvenating sources deﬁned
as follows. The source excv (respectively, indv) is an exc
(resp., ind) source that refreshes its copy of the object when
its age exceeds v fraction of the lifetime duration. The pe-
riod of excv is of length vT and with displacement α ∈
[0, vT ]. So at time t the TTL provided by excv is T − (t +
α)mod(v ∗ T ). As with the basic exc source, when consid-
ering the performance of excv we average over uniformly
chosen displacement α ∈ [0, vT ]. The source indv provides
copies with age drawn from U [0, vT ], and thus, TTL drawn
from U [(1 − v)T, T ]. For both indv and excv sources, a re-
juvenation interval of v = 1 corresponds to the respective
basic source: exc1 ≡exc and ind1 ≡ind. A rejuvenation in-
terval of v = 0 corresponds to the basic auth source. That
is, exc0 ≡auth and ind0 ≡auth. Figure 7 illustrates the
TTL for rejuvenation with v = 0.5.
At ﬁrst glance, it seems that since rejuvenation reduces
rejuvenation with v=0.5
Authoritative
Exclusive
Independent
L
T
T
T
0.5T
α
+α
T
time
+α
2T
+α3T
Figure 7: TTL as a function of time for rejuvenat-
ing sources with v = 0.5.
exc0.5 has a period of
0.5T where the age cycles from T /2 to T and thus,
the TTL cycles from T to T /2. For ind0.5 the age
at any point in time is independently drawn from
U [T /2, T ] and thus the TTL is drawn from U [T /2, T ].
The dotted lines correspond to expiration times of
previously-served copies by exc0.5. The expiration
times are at iT /2 + α for integral values of i.
the average age of cached items, it can only improve per-
formance of client-caches. Furthermore, one might expect
a monotonic improvement in miss rate at the client cache
as v decreases from v = 1 to v = 0. This behavior indeed
occurs for a rejuvenating indv source [4, 5].
In contrast,
excv sources exhibit more involved patterns where for some
values of v  1/2 and
a request sequence with inter-request times of at most T (2v−
1) time units. Let mv be the miss-rate through excv. Then
mv = m1/v.
Proof. A cached copy at client-cache expires (1 − v)T
time units after the source most-recent refresh. Hence, if a
request arrives at client-cache shortly after the TTL expired,
it would get a TTL of at most vT . If objects are requested
at client-cache every T (2v − 1) time units, then it incurs a
miss every vT time units whereas without rejuvenation a
miss would be incurred once every T time units.
it can be shown through examples that excv
Moreover,
(7/8 > v > 3/4) can induce miss-rate even higher than
through the basic ind source. These claims suggest that
excv sources are more eﬀective when 1/v is integral (i.e.,
v = 1/2, 1/3, . . .). Thus, since sporadic pre-term refreshes
are better captured by non-integral 1/v values, they can de-
grade performance at client caches.
6.1 Poisson and Pareto arrivals
We now consider the performance of a client-cache that
receives requests generated by a Poisson process with rate
λ (per T -interval) that upon a miss contacts a rejuvenating
source. Following the derivation in [5]: the miss rate as a
function of v and λ is
1
1 + (2 − v)λ/2
through an indv source, and
λv ((cid:6)1/v(cid:7) + exp(λv(1/v − (cid:6)1/v(cid:7)))/(exp(−vλ) − 1))
1
through an excv source.
Figure 8 illustrates dependence of miss-rate on v, for 3
representative request rates, for a cache using excv and indv
sources.
Simulations that we performed for Pareto arrivals when
varying the scale parameter k (for a ﬁxed power α) revealed
patterns similar to those obtained for Poisson arrivals when
varying 1/λ. Figure 9 shows simulation results for some
representative “request-rates” and values of the power α.
t
e
a
r
s
s
m
i
0.3
0.28
0.26
0.24
0.22
0.2
0.18
0.16
0.14
0.12
0.1
rejuvenation with Pareto
ind alpha=1 k=0.1
exc alpha=1 k=0.1
ind alpha=2 k=0.2
exc alpha=2 k=0.2
ind alpha=5 k=0.5
exc alpha=5 k=0.5
0
0.2
0.4
0.6
0.8
1
v (rejuvenation interval)
Figure 9: Rejuvenation with Pareto arrivals
Elementary derivations show the following for Poisson ar-
rivals across all rates. Simulations using Pareto arrivals and
traces suggest that these patterns are present for these se-
quences as well.
• The miss rate of the client cache through indv and
excv converges to its miss rate through auth as v
approaches 0, and to its miss rate through ind and
exc respectively as v approaches 1.
• The miss-rate through indv is monotone increasing
with v and convex.
• The miss rate of excv has local minima for v’s such
that 1/v is integral. For these values of v, excv out-
performs indv. excv restricted to these points is a
convex monotone increasing function of v. Between
each pair of local minima excv is a concave function
of v, and has a local maxima around which it per-
forms worse than indv. This is more pronounced for
high rates (λ (cid:13) 1). The ratio is less than 1 for in-
tegral values of 1/v and is improving with increasing
1/v. For non-integral values and higher request rates
the ratio is larger than 1.