由于今天阅读了一篇文章《[危险的 target="_blank" 与
“opener”](https://paper.seebug.org/538/)》，其中提到了一个重要的安全知识点，即在使用`target="_blank"`属性时，新打开的页面可以通过`window.opener`对象访问并操控源页面的URL，从而实施钓鱼攻击。这一攻击手法我在博客《[神奇的opener对象](https://www.leavesongs.com/HTML/opener-fishing.html)》中也进行过讨论，在此不再赘述。而本文将介绍另一种与`target`属性相关的钓鱼攻击手段。

首先，请参考以下示例：
![](图片链接)
如上图所示，当用户点击了带有`target="_blank"`属性链接（例如这里的“click me”）后，会跳转至百度网站。此时检查地址栏确实显示为百度网址；但经过大约10秒钟后重新查看地址栏，你会发现当前页面已变为攻击者设定的一个恶意站点。即使之后尝试继续浏览其他网页（如淘宝），只要这些操作仍发生在同一标签页内，那么该标签页中的地址栏信息都将受到初始攻击页面的影响。

其背后原理其实非常直接：`<a>`标签中的`target`属性定义了目标链接应在哪个窗口或标签页中加载。如果该标签的`href`值被动态更改，并且用户再次点击这个链接，则会在原有的标签页内载入新的内容，从而覆盖之前加载过的任何页面。因此，这种利用`target`属性进行的攻击方式与通过`window.opener`执行的攻击类似，都是在没有跨域权限的情况下对目标标签页URL实施控制，以达到欺骗目的。

然而值得注意的是，此类基于`target`属性的攻击具有更高的持久性。这是因为即使用户手动输入新网址或者通过超链接跳转到其他站点，只要他们没有关闭最初的攻击页面，那么对于那个特定标签页来说，其地址栏始终会被最初的攻击者所掌控。理论上讲，在源页面未被关闭前，攻击者可以持续不断地修改目标页面地址栏的内容。