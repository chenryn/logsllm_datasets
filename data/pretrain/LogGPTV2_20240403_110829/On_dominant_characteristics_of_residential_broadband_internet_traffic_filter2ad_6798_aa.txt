title:On dominant characteristics of residential broadband internet traffic
author:Gregor Maier and
Anja Feldmann and
Vern Paxson and
Mark Allman
On Dominant Characteristics of
Residential Broadband Internet Trafﬁc
Gregor Maier
TU-Berlin/T-Labs
Anja Feldmann
TU-Berlin/T-Labs
Vern Paxson
UC Berkeley/ICSI
Mark Allman
ICSI
ABSTRACT
While residential broadband Internet access is popular in many
parts of the world, only a few studies have examined the charac-
teristics of such trafﬁc. In this paper we describe observations from
monitoring the network activity for more than 20,000 residential
DSL customers in an urban area. To ensure privacy, all data is im-
mediately anonymized. We augment the anonymized packet traces
with information about DSL-level sessions, IP (re-)assignments,
and DSL link bandwidth.
Our analysis reveals a number of surprises in terms of the mental
models we developed from the measurement literature. For exam-
ple, we ﬁnd that HTTP—not peer-to-peer—trafﬁc dominates by a
signiﬁcant margin; that more often than not the home user’s imme-
diate ISP connectivity contributes more to the round-trip times the
user experiences than the WAN portion of the path; and that the
DSL lines are frequently not the bottleneck in bulk-transfer perfor-
mance.
Categories and Subject Descriptors
C.2.2
[Computer-Communication Networks]:
Protocols—Applications;
Networks]: Network Operations—Network monitoring
C.2.3
Network
[Computer-Communication
General Terms
Measurement, Performance
Keywords
Network Measurement, Application Mix, HTTP usage, TCP per-
formance, Residential Broadband Trafﬁc, DSL
1.
INTRODUCTION
Residential broadband Internet connectivity is a mature service
in many countries. This foundation of rich access allows users to
tightly integrate network use into their lives—from checking the
weather or sports scores to shopping and banking to communicat-
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
IMC’09, November 4–6, 2009, Chicago, Illinois, USA.
Copyright 2009 ACM 978-1-60558-770-7/09/11 ...$10.00.
ing with family and friends in myriad ways. However, the nature of
the connectivity differs from previously studied environments such
as campus networks and enterprises in salient ways.
First, users of residential broadband connections will often have
different goals than those in other environments, and are not sub-
ject to the same sorts of strict acceptable use policies that may reg-
ulate their access at work or at school, such as prohibitions against
accessing certain Web sites or employing certain applications. In
addition, we expect that the users who set up hosts and ancillary
equipment in residences often have no expertise in system admin-
istration, nor much desire to understand any more than is necessary
to “make it work”. Finally, unlike for campuses (and to a lesser
extent, enterprises), researchers rarely have large-scale access to
residential trafﬁc, and thus its makeup, dynamics, and variations
remain underexamined.
In this work we present observations developed from passive
packet-level monitoring of more than 20,000 residential DSL lines
from a major European ISP. This unique vantage point provides a
broad view of residential trafﬁc, enabling more comprehensive and
detailed characterizations than was possible in previous work, such
as Cho et al.’s studies based on backbone traces [19, 9, 10], other
work that examined speciﬁc applications like P2P-assisted content
distribution [27] and Skype [7], or studies using active measure-
ments [12].
In this initial exploration we focus on studying a broad range
of dominant characteristics of residential trafﬁc across a number
of dimensions, including DSL session characteristics, network and
transport-level features, prominent applications, and network path
dynamics. Our study discovered a number of results we found sur-
prising in terms of the standard “mental models” one develops from
the Internet measurement literature and by talking with operators
and colleagues. For example:
• HTTP trafﬁc, not peer-to-peer, dominates. Overall, HTTP
makes up nearly 60% of trafﬁc by bytes while peer-to-peer
contributes roughly 14%. Even if we assume that all un-
classiﬁed trafﬁc is peer-to-peer, this latter ﬁgure only rises
to one-quarter, conﬁrming contemporaneous observations by
Erman et al. [15] for a major US broadband provider.
• DSL sessions run quite short in duration, with a median
length of only 20–30 min. The short lifetime affects the rate
of IP address reassignments, and we ﬁnd 50% of addresses
are assigned at least twice in 24 h, and 1–5% of addresses
more than 10 times, with signiﬁcant implications for IP ad-
dress aliasing.
90Time
Name
WEEK Aug 08
SEP
Sep 08
Duration Size
14x
90 min
24 h
100–600
GB ea.
>4 TB
APR
Apr 09
24 h
>4 TB
Loss
none
several multi-second
periods with no
packets
see above
Name
TEN
EVERY4
Time
Feb 2009
Jan–Feb 2009
Duration
10 days
6x 24 h
Loss
none
none
Table 2: Summary of additional anonymized DSL session in-
formation
all sessions
median duration per DSL line
Table 1: Summary of anonymized packet traces
• Delays experienced from a residence to the ISP’s Internet
gateway often exceed those over the wide-area path from the
gateway to the remote peer. We ﬁnd a median local com-
ponent of 46 ms (due to DSL interleaving), versus a median
remote component of 17 ms.
• Users rarely employ the full capacity of their lines, conﬁrm-
ing observations by Siekkinen et al. [47]. 802.11 wireless
networking in customers’ homes, and TCP settings on the
residential systems, appear to limit the achievable through-
put.
y
t
i
s
n
e
d
y
t
i
l
i
b
a
b
o
r
p
4
.
0
3
.
0
2
.
0
1
.
0
0
0
.
We organize the paper as follows. After giving a short overview
of our datasets and terminology in Section 2, we look at DSL ses-
sion characteristics in Section 3. In Section 4 we explore which ap-
plications are popular among the user population, and take a closer
look at the most predominant, HTTP, in Section 5. We brieﬂy ex-
amine transport protocol features in Section 6, and examine path
characteristics in Section 7. We summarize in Section 8.
2. DATA AND TERMINOLOGY
We base our study on passive, anonymized packet-level ob-
servations of residential DSL connections collected at aggrega-
tion points within a large European ISP. Overall,
the ISP has
roughly 10 million (4%) of the 251 million worldwide broad-
band subscribers [38]. They predominantly use DSL. The moni-
tor operated at the broadband access router connecting customers
to the ISP’s backbone. The access bandwidth of the monitored
lines varies between 1,200/200 Kbps (downstream/upstream) and
17,000/1,200 Kbps, with the exact rate depending on both the cus-
tomer’s contract and their distance from the DSLAM (the ISP’s
line-card). In the portion of the network we monitored most users
had distances low enough to in principle support 17 Mbps.
For clarity of exposition, we deﬁne the following terms. A line
denotes a physical DSL line as identiﬁed by a line-card identiﬁer.
We deﬁne a DSL-level session as the period when the DSL mo-
dem and the line-card are together in operation. We refer to the
network between the monitoring point and the customer as the lo-
cal side, as opposed to the remote side (remainder of the Internet).
Similarly, the customer sends upstream trafﬁc and receives down-
stream trafﬁc. A ﬂow refers to unidirectional data transmission
at the usual 5-tuple granularity (IP addresses, transport protocol,
transport ports). A connection is a bi-directional transport-level
communication channel, demarked for TCP by the usual control
packets (SYN, FIN/RST) and for UDP by the the arrival of the ﬁrst
packet and the absence of activity detected using an idle timeout
of 20 s. Finally, the originator endpoint actively initiated the con-
nection, as opposed to the responder, which passively awaited the
connection request.
Our monitoring vantage point allowed us to observe more than
20,000 DSL lines from one urban area, connected to one access
0
5
10
15
20
25
session duration [h]
Figure 1: PDF of session durations for sessions with duration
longer than 5 minutes for dataset TEN.
router, for which we employed Endace DAG network monitoring
cards [14] for trafﬁc capture. Immediately after capture we extract
application classiﬁcations (using DPD [13]; see Section 4.1) and
information such as HTTP headers from the traces using Bro [41],
storing anonymized versions of the packet and application head-
ers for later processing. Table 1 provides an overview of the data
traces, including when gathered and overall size. WEEK reﬂects
14 intervals of 90 minutes each, gathered twice per day during the
same hours over the course of one week.
In addition, we gath-
ered anonymized DSL session information, including the session
start and end times, anonymized IP address, anonymized line-card
identiﬁer, and the conﬁgured access-bandwidth. Along with DSL
session traces for each of our packet measurements, we obtained a
10-day DSL session-only trace from Jan 2009 (TEN), as well as six
separate 24h session-only traces (see Table 2).
To simplify the presentation, we focus our discussion on SEP
and TEN. However, we veriﬁed our results across all traces and
explicitly point out differences. In particular, we use the 14 samples
from WEEK to verify that there are no dominant day-of-week or
other biases apparent in the 24 h traces (SEP, APR). In addition,
we cross-checked our results with sampled NetFlow data exported
by 10 of the ISP’s routers. This further increases our conﬁdence in
the representativeness of our application mix results.
3. DSL SESSION CHARACTERISTICS
We begin our study with a look at the behavior of the users’ DSL
sessions (periods of connection to the ISP’s network). A ﬁrst ba-
sic question concerns the durations of such connections. Network
analysis studies often make the assumption that one can use IP ad-
dresses as host identiﬁers (for example, for studies that count the
number of systems exhibiting a particular phenomenon), and pre-
vious studies have found stability in these mappings on the order
of several hours to days. Moore et al. analyzed the 2001 Code
91downstream
upstream
SessionTimeout 7.2%
PortError 7.7%
Other 1.9%
IdleTimeout 1.7%
UserRequest
81.5%
l
e
m
u
o
v
e
v
i
t
a
e
r
l
Figure 2: DSL (Radius) session termination causes distribution
for sessions lasting longer than 5 minutes.
 4h
 8h
 12h
 16h
 20h
 0h
time
]
%
[
s
e
n
i
l
L
S
D
e
n
i
l
n
o
f
o
n
o
i
t
c
a
r
f
0
5
8
4
6
4
4
4
2
4
0
4
 4h
 8h
 12h
 16h
time
 20h
 0h
 4h
Figure 3: Relative number of concurrent DSL lines across time
for one 24h weekday period of dataset TEN. Note the base-line.
Red outbreak and found that for larger timescales (days to weeks),
IP addresses cannot be used as reliable host identiﬁers due to IP
reassignment [35]; they did not examine timescales below several
hours. Xie et al. observed some highly volatile dynamic IP address
ranges, which they attributed mainly to dial-up hosts [54].
Thus, we expected to ﬁnd typical session lengths of several
hours. However, we ﬁnd instead that many are quite short. We
base our analysis on Radius [43] logs, which many European ISPs
use for authentication and IP address leasing. Radius supports two
timeouts, SessionTimeout and IdleTimeout, though the monitored
ISP only makes use of the ﬁrst. SessionTimeout performs a role
similar to the DHCP lease time, limiting the maximum lifetime of
a session. The ISP sets it to 24 hr (a popular choice among Euro-
pean ISPs [52, 37]). DSL home routers generally offer an option to
reconnect immediately after a session expires. However, in contrast
to DHCP, Radius does not provide an option to request a particular
IP address (e.g., the previously used IP address), and the ISP allows
addresses to change across sessions.