本篇文章是悬镜安全实验室推出的第10篇原创安全技术文章
SSH 是建立在应用层基础上的安全协议，是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。利用 SSH
协议可以有效防止远程管理过程中的信息泄露问题。SSH最初是UNIX系统上的一个程序，后来又迅速扩展到其他操作平台。我们常用的OpenSSH就是SSH协议的开源实现。
IETF RFC 4251 到 4256 将 SSH 定义为 “经由一个不安全网络进行远程登录和其他安全网络服务的安全 shell 协议”。shell
由三个主要元素组成。
传输层协议：提供服务器身份验证、隐私和具有完美转发隐私的完整性。该层可以提供可选压缩且通过一个 TCP/IP
连接运行，但是也可用于任何其他可靠的数据流之上。
用户认证协议：从服务器到客户端进行身份验证，且通过传输层运行。
连接协议：多路传输加密隧道到多个逻辑通道，通过用户认证协议运行。
下面我们来看看如何让我们的OpenSSH更安全。
# 一、基础配置，服务端配置文件为/etc/ssh/sshd_config**
1、将 root 账户仅限制为控制台访问  
PermitRootLogin no
2、仅使用 SSH Protocol 2
3、禁用空密码  
PermitEmptyPasswords no
4、用户登录控制  
AllowUsers user1@host1 user1@! __ @*  
DenyUsers user2
5、配置 Idle Log Out Timeout 间隔  
ClientAliveInterval 300  
ClientAliveCountMax 0
6、禁用基于主机的身份验证  
HostbasedAuthentication no
7、禁用用户的 .rhosts 文件  
IgnoreRhosts yes
8、强密码策略（生成14位随机字符密码）  