Secure CPU virtualization and secure storage virtualization are 
relatively  more  mature  technologies  than  secure  network 
virtualization.  This  statement  is  even  truer  for  the  case  of 
realizing  CPU  and  storage  virtualization  technologies  in  a 
distributed manner, even in trans-multiple datacenter fashion. A 
virtual machine (VM) of a tenant can run in this server or that 
server, and even run in this datacenter or that datacenter, and so 
is  a  virtual  disk  (VD)  of  a  tenant.  Quality  of  service,  such  as 
efficiency  of  a  VM,  size  of  a  VD,  their  backup  copies,  etc, 
should not be very different if the services are offered by this 
datacenter or that datacenter, or even offered by co-working of 
multiple datacenters. Moreover, the notion of “in” and “out” for 
a tenant in the case of its rental VMs or VDs can be very clear 
defined. Clearly, the notion of “in” and “out” for a VM or for a 
VD is straightforward. Thus, labeling the VMs and VDs, which 
are rented by a tenant, with the identity of the tenant, then “in” 
and  “out”  for  the  tenant’s  rental  VMs  and  VDs  also  become 
clearly  defined.  The  case  for  network  virtualization  is  very 
different. 
First  of  all,  the  notion  of  “in”  and  “out”  of  a  network  is 
traditionally defined by a firewall. A firewall for IT as an asset 
(i.e., IT infrastructure which is privately owned) is defined on 
the  metadata  of  network  packets—IP/MAC  addresses;  a 
firewall  filters  IP/MAC  packets  on  their  addresses,  lets  the 
correctly  addressed  packets  pass,  and  blocks  (drops)  the 
incorrectly addressed ones. Because IT boxes used to stand on 
floors which do not think, the control of communications of the 
floor-standing IT boxes is done by wiring them to central control 
points  which  specialize  in  network  control,  and  in  our  topic  of 
discussion, these control points include firewall control for “in” 
and  “out”  for  a  network  of  floor-standing  IT  boxes.  In  the 
traditional  network  technology  for  IT  as  an  asset,  the  wiring 
essentially  only  needs  to  pass  the  IP/MAC  addresses  to  the 
firewall as the identities of the floor-standing IT boxes, and that is 
180if  a 
its  cloud 
to  distribute 
tenant  chooses 
why a traditional firewall doesn’t see, and hence cannot work on, 
the  identities  of  floor-standing  IT  boxes  other  than  IP/MAC 
addresses. 
In  today’s  server  virtualization  multi-tenancy  cloud  datacenters, 
IT boxes are VMs standing on hypervisors. As we have discussed 
for CPU virtualization, in order to identify VMs which are rented 
by  different  tenants,  VMs  have  machine  identities  and  the 
datacenter  does  manage  these  identities  for  multiple  of  tenants. 
However,  in  network  virtualization  (let’s  say  today’s  cloud 
datacenter  does  do  network  virtualization),  the  hypervisors  still 
only work on the IP/MAC addresses of the VMs, and so does the 
firewall,  whether  the  so-called  “virtual  firewall”  in  hypervisors 
(e.g.,  VMware’s  vShield  technology),  or  real  and  conventional 
ones  outside.  Although  a  hypervisor  can  so  easily  see  machine 
identities (e.g., UUID) of each VM on it, in terms of working on 
network,  it  chooses  to  only  work  on  IP/MAC  addresses  of  the 
VMs.  Thus,  “in”  and  “out”  for  a  tenant’s  rental  LAN  is  still 
defined  by  the  IP/MAC-address  working  firewall,  exactly  the 
same working principle of firewall for IT boxes on floors. This 
non-virtualized style of networking has many problems for secure 
network virtualization. In this position paper, we shall only point 
out one which is responsible for a very poor quality of service for 
the  second  new  “lifestyle”  we  listed  in  the  beginning  of  this 
section: 
in 
trans-datacenter  fashion  (very  reasonable),  the  LAN  distributes 
with a very poor quality of service due to tremendous network 
traffics which are flowing inter-datacenters. 
Why? It’s the firewall which cannot be virtualized nor distributed 
if only working on IP/MAC addresses. Working on addresses, “in” 
and “out” of a trans-datacenter “LAN” for a tenant is defined by 
an address filtering firewall. Such a firewall can only be defined 
at a single point of control, or else there would be loss of control. 
Distribution of an address filtering firewall is pointless unless the 
distributed firewalls are identical; if two firewalls for one tenant 
are different in filtering policy, the packets will choose to pass the 
one with less controlled policy. Thus, if a tenant chooses to have 
its  cloud  in  trans-datacenter  distribution,  then  today’s  address 
filtering  firewall  technology  requires  that  a  VPN  technique  is 
used: the firewall is deployed on the master or main datacenter of 
the VPN, and all VMs in the slave or minor datacenters must wire 
their network traffics through the VPN connection to the firewall 
in  the  master  datacenter  for  firewall  policy  control.  This  is 
obviously  a  non-virtualized  network.  Let’s  only  look  at  the 
following couple of. 
Problem 1 (Poor QoS, minor) 
Communications of two VMs in a slave datacenter cannot enjoy 
the  LAN  bandwidth;  their  packets  must  be  wired  through  the 
VPN cross the WAN to the master datacenter for firewall control. 
Problem 2 (Lack of distribution, very serious) 
If the tenant later turns out to be unhappy on the service of the 
master  datacenter,  then  moving  out  of  the  master  datacenter 
means  to  redeploy  and  reconfigure  the  VPN  of  its  complete 
distributed  cloud.  In  essence  and  in  fact,  the  tenant  has  not 
distributed its cloud at all. 
Network Virtualization for Secure Multi-tenancy in 
Cloud Computing: Solution Proposal 
Recall  that  in  the  “BYOD”  scheme  using  an  in-organization 
guest OS on VMware Workstation, only using IP addresses the 
organization cannot distinguish IP packets sent by the guest OS 
from  those  sent  by  the  host  OS.  In  other  words,  the  network 
provided by the physical NIC card of the employee’s platform 
is not virtualized. There we propose to use of cryptography to 
form an effective solution to have virtualized the network. The 
use of cryptography in that solution must use the identity of the 
guest OS. 
Here  we  meet the  same  problem  in  network  virtualization  for 
secure  multi-tenancy  cloud  datacenter:  only  working  on  IP 
addresses, network virtualization cannot be properly done. The 
solution is the same: working on VM identities. 
In server virtualization datacenters, IT boxes are VMs standing 
on distributed and powerfully intelligent hypervisors. For CPU 
and  storage  virtualization,  hypervisors  already  work  on 
managing VM identities for multiple of tenants. Then why not 
also  let  hypervisors  also  work  on  VM  identities  for  network 
virtualization? 
Let  us  highlight  below  a  scheme  for  a  completely  distributed 
and virtualized firewall for a tenant. 
1)  A  hypervisor  proves  the  identity  (e.g.,  UUID)  for  a  VM 
sitting  atop.  The  proof  can  be  done  using  public-key 
cryptography to make the proof verifiable globally. 
2)  A  hypervisor  verifies  identities  of  VMs  sitting  on  top  of 
other  hypervisors.  Again,  using  public  key  cryptography, 
the verification is a computation in a global fashion, i.e., 
identities of VMs in remote datacenters can be verified. 
3)  A  tenant  composes  a  list  of  global  VM  identities  for  its 
rental VMs and specifies communications policy for these 
identities.  For  example,  the  tenant  can  specify  that 
VM-Global-ID-i  can  or  cannot  communicate  with 
VM-Global-ID-j, etc. This list is in fact the virtual firewall 
policy which is defined by the tenant. If the tenant chooses 
to have its cloud in trans-datacenter distribution, then this 
list is also in trans-datacenter distribution. 
4)  Hypervisors, whether they are in one datacenter, or are in 
trans-datacenter 
tenant’s 
distributed  virtual  firewall  list  to  allow  or  disallow 
communications  between  any  two  VMs  according  to  the 
tenant’s instructions in its virtual firewall list. 
distribution, 
consult 
the 
Obviously,  a  firewall  defined  in  this  method  is  completely 
virtualized,  not  only  within  one  datacenter,  but  also 
trans-datacenter. We can list below a number of advantages of 
the  completely  virtualized  firewall  which  is  defined  and 
working on the VMs global identities: 
  Motion  of  a  VM,  in  particular  when  motion  is  in 
trans-datacenter,  may  cause  VM  IP  address  change, 
however, the globally defined VM identity will not change, 
and hence the new firewall which is defined and working 
on the unchanging VM identities will not be affected. We 
notice that, motion of VMs is not only a need of a tenant, it 
181is  more  a  need  of  a  datacenter,  e.g.,  for  load-balance, 
server maintenance, continuity of services, etc. 
  Complete  distribution  of  the  cloud  for  a  tenant.  There  is 
not a need of a master VPN datacenter and slave ones. The 
traffics  between  any  two  VMs  are  completely  controlled 
by the hypervisors serving them, and when two such VMs 
are  in  one  datacenter,  their  firewall  policy  is  controlled 
locally, and no trans-datacenter traffic whatsoever. 
  Working with cryptography, traffics between VMs within a 
firewall can be encrypted, and hence secure multi-tenancy 
is protected strongly by cryptography. 
  For  VMs  having  public-key  infrastructure  (PKI)  based 
globally  verifiable  IDs,  a  Domain  Name  Service  (DNS) 
can verify the genuineness of a web server on users’ behalf 
(as  a  service)  without  involving  in  content  liability  of  a 
web server; anti-phishing will become much eased 
  Hypervisors  working  with  a  database  of  the  tenant’s 
defined firewall, this algorithm can be done in high-level 
language  programming. 
than 
configurations  of  IP  addresses  filtering  policy  of  a 
traditional 
firewall  can  be 
programmed  to  work  in  complete  automation,  and  for 
tenant self-serve. 
firewall.  The 
tenant’s 
It 
is  much 
easier 
Of  course,  it  will  be  a  long  journey  for  this  new  network 
virtualization technology to be getting mature. Many things in 
this  technology  will  involve  standards  work,  and  hence  can 
only  be  done  in  joint  efforts  with  the  industry,  academia  and 
R&D communities. 
Let’s  work  together  to  make  this  new  and  useful  network 
virtualization 
technology  for  secure  multi-tenancy  cloud 
computing toward a reality. 
182