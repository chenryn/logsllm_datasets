StandardTime(Australia)UT+9:30）、中国标准时间（ChinaStandardTimeUT+8:00）、古巴
标准时间（CubaStandardTimeUT-4:00）。这种情况下在时区转化时可能会得不到正确的结
果，从而引发其他问题。
25.14.2.2 IntervalStyle
参数说明：设置区间值的显示格式。
该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设
置。
取值范围：枚举类型
 sql_standard表示产生与SQL标准规定匹配的输出。
 postgres表示产生与PostgreSQL8.4版本相匹配的输出，当DateStyle参数被设为ISO
时。
 postgres_verbose表示产生与PostgreSQL8.4版本相匹配的输出，当DateStyle参数
被设为non_ISO时。
南大通用数据技术股份有限公司
1348
GBase 8s V8.8开发者手册
 iso_8601表示产生与在ISO8601中定义的“格式与代号”相匹配的输出。
 a表示与numtodsinterval函数相匹配的输出结果，详细请参考numtodsinterval。
须知：
IntervalStyle参数也会影响不明确的间隔输入的说明。
默认值：postgres
25.14.2.3 TimeZone
参数说明：设置显示和解释时间类型数值时使用的时区。
该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设
置。
取值范围：字符串，可查询视图PG_TIMEZONE_NAMES获得。
默认值：PRC
说明：
gs_initdb将设置一个与其系统环境一致的时区值。
25.14.2.4 timezone_abbreviations
参数说明：设置服务器接受的时区缩写值。
该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设
置。
取值范围：字符串，可查询视图pg_timezone_names获得。
默认值：Default
说明：
Default表示通用时区的缩写，适合绝大部分情况。但也可设置其他诸如 'Australia' 和
'India' 等用来定义特定的安装。而设置除此之外的时区缩写, 需要在建数据库之前通过相应
的配置文件进行设置。
南大通用数据技术股份有限公司
1349
GBase 8s V8.8开发者手册
25.14.2.5 extra_float_digits
参数说明：这个参数为浮点数值调整显示的数据位数，浮点类型包括float4、float8以
及几何数据类型。参数值加在标准的数据位数上（FLT_DIG或DBL_DIG中合适的）。
该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设
置。
取值范围：整型，-15～3
说明：
- 设置为3，表示包括部分关键的数据位。这个功能对转储那些需要精确恢复的浮点数
据特别有用。
- 设置为负数，表示消除不需要的数据位。
默认值：0
25.14.2.6 client_encoding
参数说明：设置客户端的字符编码类型。
请根据前端业务的情况确定。尽量客户端编码和服务器端编码一致，提高效率。
该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设
置。
取值范围：兼容PostgreSQL所有的字符编码类型。其中UTF8表示使用数据库的字符
编码类型。
说明：
- 使用命令locale-a查看当前系统支持的区域和相应的编码格式，并可以选择进行设置。
- 默认情况下，gs_initdb会根据当前的系统环境初始化此参数，通过locale命令可以查
看当前的配置环境。
- 参数建议保持默认值，不建议通过gs_guc工具或其他方式直接在postgresql.conf文件
南大通用数据技术股份有限公司
1350
GBase 8s V8.8开发者手册
中设置client_encoding参数，即使设置也不会生效，以保证GBase8s内部通信编码格式一
致。
默认值：UTF8
推荐值：SQL_ASCII/UTF8
25.14.2.7 lc_messages
参数说明：设置信息显示的语言。
 可接受的值是与系统相关的。
 在一些系统上，这个区域范畴并不存在，不过仍然允许设置这个变量，只是不会有
任何效果。同样，也有可能是所期望的语言的翻译信息不存在。在这种情况下，用
户仍然能看到英文信息。
 该参数属于SUSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行
设置。
取值范围：字符串
说明：
- 使用命令locale-a查看当前系统支持的区域和相应的编码格式，并可以选择进行设置。
- 默认情况下，gs_initdb会根据当前的系统环境初始化此参数，通过locale命令可以查
看当前的配置环境。
默认值：C
25.14.2.8 lc_monetary
参数说明：设置货币值的显示格式，影响to_char之类的函数的输出。可接受的值是系
统相关的。
该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设
置。
取值范围：字符串
南大通用数据技术股份有限公司
1351
GBase 8s V8.8开发者手册
说明：
- 使用命令locale-a查看当前系统支持的区域和相应的编码格式，并可以选择进行设置。
- 默认情况下，gs_initdb会根据当前的系统环境初始化此参数，通过locale命令可以查
看当前的配置环境。
默认值：C
25.14.2.9 lc_numeric
参数说明：设置数值的显示格式，影响to_char之类的函数的输出。可接受的值是系统
相关的。
该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设
置。
取值范围：字符串
说明：
- 使用命令locale-a查看当前系统支持的区域和相应的编码格式，并可以选择进行设置。
- 默认情况下，gs_initdb会根据当前的系统环境初始化此参数，通过locale命令可以查
看当前的配置环境。
默认值：C
25.14.2.10 lc_time
参数说明：设置时间和区域的显示格式，影响to_char之类的函数的输出。可接受的值
是系统相关的。
该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设
置。
取值范围：字符串
说明：
南大通用数据技术股份有限公司
1352
GBase 8s V8.8开发者手册
- 使用命令locale-a查看当前系统支持的区域和相应的编码格式，并可以选择进行设置。
- 默认情况下，gs_initdb会根据当前的系统环境初始化此参数，通过locale命令可以查
看当前的配置环境。
默认值：C
25.14.2.11 default_text_search_config
参数说明：设置全文检索的配置信息。
如果设置为不存在的文本搜索配置时将会报错。如果default_text_search_config对应的
文本搜索配置被删除，需要重新设置default_text_search_config，否则会报设置错误。
 其被文本搜索函数使用，这些函数并没有一个明确指定的配置。
 当与环境相匹配的配置文件确定时，gs_initdb会选择一个与环境相对应的设置来初
始化配置文件。
 该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进
行设置。
取值范围：字符串
说明：
GBase8s支持pg_catalog.english、pg_catalog.simple两种配置。
默认值：pg_catalog.english
25.14.3其他缺省
主要介绍数据库系统默认的库加载参数。
25.14.3.1 dynamic_library_path
参数说明：设置数据查找动态加载的共享库文件的路径。当需要打开一个可以动态装载
的模块并且在CREATEFUNCTION或LOAD命令里面声明的名称没有目录部分时，系统将
搜索这个目录以查找声明的文件。
南大通用数据技术股份有限公司
1353
GBase 8s V8.8开发者手册
用于dynamic_library_path的数值必须是一个冒号分隔的绝对路径列表。当一个路径名
称以特殊变量$libdir为开头时，会替换为GBase8s发布提供的模块安装路径。例如：
dynamic_library_path='/usr/local/lib/gaussdb:/opt/testgs/lib:$libdir'
该参数属于SUSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设置。
取值范围：字符串
说明：
设置为空字符串，表示关闭自动路径搜索。
默认值：$libdir
25.14.3.2 gin_fuzzy_search_limit
参数说明：设置GIN索引返回的集合大小的上限。
该参数属于USERSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设
置。
取值范围：整型，0~2147483647
默认值：0
25.14.3.3 local_preload_libraries
参数说明：指定一个或多个共享库，它们在开始连接前预先加载。多个加载库之间用逗
号分隔，除了双引号，所有的库名都转换为小写。
 并非只有系统管理员才能更改此选项，因此只能加载安装的标准库目录下plugins
子目录中的库文件，数据库管理员有责任确保该目录中的库都是安全的。
local_preload_libraries中指定的项可以明确含有该目录，例如$libdir/plugins/mylib；
也可以仅指定库的名称，例如mylib（等价于$libdir/plugins/mylib）。
 与shared_preload_libraries不同，在会话开始之前加载模块与在会话中使用到该模
块的时候临时加载相比并不具有性能优势。相反，这个特性的目的是为了调试或者
测量在特定会话中不明确使用LOAD加载的库。例如针对某个用户将该参数设为
南大通用数据技术股份有限公司
1354
GBase 8s V8.8开发者手册
ALTERUSERSET来进行调试。
 当指定的库未找到时，连接会失败。
 每一个支持 GBase 8s 的库都有一个“magic block”用于确保兼容性，因此不支持
GBase8s的库不能通过这个方法加载。
该参数属于BACKEND类型参数，请参考表 GUC参数设置方式中对应设置方法进行
设置。
取值范围：字符串
默认值：空
25.15 锁管理
在GBase8s中，并发执行的事务由于竞争资源会导致死锁。本节介绍的参数主要管理
事务锁的机制。
25.15.1deadlock_timeout
参数说明：设置死锁超时检测时间，以毫秒为单位。当申请的锁超过设定值时，系统会
检查是否产生了死锁。
 死锁的检查代价是比较高的，服务器不会在每次等待锁的时候都运行这个过程。在
系统运行过程中死锁是不经常出现的，因此在检查死锁前只需等待一个相对较短的
时间。增加这个值就减少了无用的死锁检查浪费的时间，但是会减慢真正的死锁错
误报告的速度。在一个负载过重的服务器上，用户可能需要增大它。这个值的设置
应该超过事务持续时间，这样就可以减少在锁释放之前就开始死锁检查的问题。
 当设置log_lock_waits为on时，deadlock_timeout决定一个等待时间来将查询执行
过程中的锁等待耗时信息写入日志。如果要研究锁延时情况，可以设置
deadlock_timeout的值比正常情况小。
该参数属于SUSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设置。
取值范围：整型，1~2147483647，单位为毫秒（ms）。
南大通用数据技术股份有限公司
1355
GBase 8s V8.8开发者手册
默认值：1s
25.15.2lockwait_timeout
参数说明：控制单个锁的最长等待时间。当申请的锁等待时间超过设定值时，系统会报
错。
该参数属于SUSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设置。
取值范围：整型，0~INT_MAX，单位为毫秒（ms）。
默认值：20min
25.15.3update_lockwait_timeout
参数说明：允许并发更新参数开启情况下，该参数控制并发更新同一行时单个锁的最长
等待时间。当申请的锁等待时间超过设定值时，系统会报错。
该参数属于SUSET类型参数，请参考表 GUC参数设置方式中对应设置方法进行设置。
取值范围：整型，0~INT_MAX，单位为毫秒（ms）。
默认值：2min
25.15.4max_locks_per_transaction
参数说明：控制每个事务能够得到的平均的对象锁的数量。
 共 享 的 锁 表 的 大 小 是 以 假 设 任 意 时 刻 最 多 只 有
max_locks_per_transaction*(max_connections+max_prepared_transactions) 个独立的
对象需要被锁住为基础进行计算的。不超过设定数量的多个对象可以在任一时刻同
时被锁定。当在一个事务里面修改很多不同的表时，可能需要提高这个默认数值。
只能在数据库启动的时候设置。
 增大这个参数可能导致GBase8s请求更多的SystemV共享内存，有可能超过操作
系统的缺省配置。
 当运行备机时，请将此参数设置不小于主机上的值，否则，在备机上查询操作不会
被允许。
南大通用数据技术股份有限公司
1356
GBase 8s V8.8开发者手册
该参数属于POSTMASTER类型参数，请参考表 GUC参数设置方式中对应设置方法进
行设置。
取值范围：整型，10~INT_MAX
默认值：256
25.15.5max_pred_locks_per_transaction
参数说明：控制每个事务允许断定锁的最大数量，是一个平均值。
 共 享 的 断 定 锁 表 的 大 小 是 以 假 设 任 意 时 刻 最 多 只 有
max_pred_locks_per_transaction*(max_connections+max_prepared_transactions) 个独
立的对象需要被锁住为基础进行计算的。不超过设定数量的多个对象可以在任一时
刻同时被锁定。当在一个事务里面修改很多不同的表时，可能需要提高这个默认数
值。只能在服务器启动的时候设置。
 增大这个参数可能导致GBase8s请求更多的SystemV共享内存，有可能超过操作
系统的缺省配置。
该参数属于POSTMASTER类型参数，请参考表 GUC参数设置方式中对应设置方法进
行设置。
取值范围：整型，10~INT_MAX
默认值：64
25.15.6gs_clean_timeout
参数说明：控制主节点周期性清理临时表的时间，是一个平均值。
 数据库连接异常终止时，通常会有临时表残留，此时需要对数据库中的临时表进行
清理。
 增大这个参数可能导致GBase8s临时表清理时间延长。
该参数属于SIGHUP类型参数，请参考表 GUC参数设置方式中对应设置方法进行设置。
取值范围：整型，0~2147483，单位为秒（s）。
南大通用数据技术股份有限公司
1357
GBase 8s V8.8开发者手册
默认值：1min
25.15.7partition_lock_upgrade_timeout
参数说明：在执行某些查询语句的过程中，会需要将分区表上的锁级别由允许读的
ExclusiveLock级别升级到读写阻塞的AccessExclusiveLock级别。如果此时已经存在并发的
读事务，那么该锁升级操作将阻塞等待。partition_lock_upgrade_timeout为尝试锁升级的等
待超时时间。
 在分区表上进行MERGEPARTITION和CLUSTERPARTITION操作时，都利用了
临时表进行数据重排和文件交换，为了最大程度提高分区上的操作并发度，在数据
重 排 阶 段 给 相 关 分 区 加 锁 ExclusiveLock ， 在 文 件 交 换 阶 段 加 锁
AccessExclusiveLock。
 常规加锁方式是等待加锁，直到加锁成功，或者等待时间超过lockwait_timeout发
生超时失败。
 在分区表上进行MERGEPARTITION或CLUSTERPARTITION操作时，进入文件
交换阶段需要申请加锁AccessExclusiveLock，加锁方式是尝试性加锁，加锁成功