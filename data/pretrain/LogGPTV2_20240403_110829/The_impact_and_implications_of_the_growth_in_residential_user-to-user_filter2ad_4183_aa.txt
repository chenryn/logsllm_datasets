title:The impact and implications of the growth in residential user-to-user
traffic
author:Kenjiro Cho and
Kensuke Fukuda and
Hiroshi Esaki and
Akira Kato
The Impact and Implications of the Growth
in Residential User-to-User Trafﬁc
Kenjiro Cho
IIJ
Kensuke Fukuda
NII
Hiroshi Esaki
Univ. of Tokyo
Akira Kato
Univ. of Tokyo
ABSTRACT
It has been reported worldwide that peer-to-peer traﬃc is
taking up a signiﬁcant portion of backbone networks. In par-
ticular, it is prominent in Japan because of the high penetra-
tion rate of ﬁber-based broadband access. In this paper, we
ﬁrst report aggregated traﬃc measurements collected over
21 months from seven ISPs covering 42% of the Japanese
backbone traﬃc. The backbone is dominated by symmetric
residential traﬃc which increased 37% in 2005. We further
investigate residential per-customer traﬃc in one of the ISPs
by comparing DSL and ﬁber users, heavy-hitters and normal
users, and geographic traﬃc matrices. The results reveal
that a small segment of users dictate the overall behavior;
4% of heavy-hitters account for 75% of the inbound volume,
and the ﬁber users account for 86% of the inbound volume.
About 63% of the total residential volume is user-to-user
traﬃc. The dominant applications exhibit poor locality and
communicate with a wide range and number of peers. The
distribution of heavy-hitters is heavy-tailed without a clear
boundary between heavy-hitters and normal users, which
suggests that users start playing with peer-to-peer applica-
tions, become heavy-hitters, and eventually shift from DSL
to ﬁber. We provide conclusive empirical evidence from a
large and diverse set of commercial backbone data that the
emergence of new attractive applications has drastically af-
fected traﬃc usage and capacity engineering requirements.
Categories and Subject Descriptors
C.2.3 [Computer-Communication Networks]: Network
Operations—Network monitoring
General Terms
Measurement, Management
Keywords
ISP backbone traﬃc, Residential broadband, Traﬃc growth
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
SIGCOMM’06, September 11–15, 2006, Pisa, Italy.
Copyright 2006 ACM 1-59593-308-5/06/0009 ...$5.00.
1.
INTRODUCTION
Over the past few years, an unprecedented increase in
user-to-user traﬃc has been observed worldwide, particu-
larly in Japan due to its high penetration rate of ﬁber-based
broadband access. Figure 1 depicts the traﬃc growth in
Japanese backbones in terms of aggregated peak traﬃc at
major IXes: JPIX[11], JPNAP[12], and NSPIXP[18].
]
s
p
b
G
[
c
i
f
f
a
r
t
X
I
d
e
t
a
g
e
r
g
g
A
200
150
100
50
0
Traffic volume
Growth rate
8
7
6
e
t
a
r
5
h
t
w
o
4
r
g
3
l
a
u
n
n
2
A
1
0
2000 2001 2002 2003 2004 2005 2006
Year
Figure 1: Traﬃc growth of the aggregated peak rate
at the major Japanese IXes
Although a large part of the traﬃc increase on commercial
backbones is often attributed to peer-to-peer traﬃc, there
is little work in literature with statistics detailed enough to
prove it. It is also diﬃcult to plan for the future because
residential access and its traﬃc are undergoing a transfor-
mation; new innovations in access networking technologies
continue to be developed, and new applications as well as
new usage of older applications are emerging to take advan-
tage of low-cost high-speed connectivity. Japan leads other
countries by far in Fiber-To-The-Home (FTTH) penetration
[20], where the number of FTTH subscribers is increasing ex-
ponentially while the increase in DSL subscribers is slowing
down as shown in Figure 2 [29]. (FTTH includes Fiber-To-
The-Building with VDSL for in-building wiring.)
There is a strong concern that, if this trend continues,
Internet backbone technologies will not be able to keep up
with the rapidly-growing residential traﬃc. Moreover, com-
mercial ISPs will not be able to invest in backbone networks
simply for supporting this low-proﬁt customer segment.
In order to ensure the evolution of the Internet, it is es-
sential that we understand the eﬀects of growing residential
traﬃc, but it is diﬃcult both technically and politically to
obtain traﬃc data from commercial ISPs. Most ISPs collect
traﬃc data which contains sensitive information, and thus
seldom make it available to others. In addition, measure-
]
n
o
i
l
l
i
m
[
s
r
e
b
i
r
c
s
b
u
s
f
o
r
e
b
m
u
N
16
12
8
4
0
DSL
CATV
FTTH
(B1)
external 6IXes
JPNAP/JPIX/NSPIXP
(B2)
external domestic
local IXes
private peering/transit
(B3)
external international
2000 2001 2002 2003 2004 2005 2006
Year
external edge
customer edge
ISP
Figure 2:
Increase of residential broadband sub-
scribers in Japan: 23.3 million total broadband sub-
scribers, 14.5 million for DSL, 3.3 million for CATV,
and 5.5 million for FTTH as of March 2006.
(A1)
RBB customers
DSL/CATV/FTTH
(C) prefectural
(A2)
 non-RBB customers
leased lines
data centers
dialup
ment methods and policies diﬀer from ISP to ISP so that it
is in general not possible to compare a data set with another
set obtained from a diﬀerent ISP.
Seeking a practical way to investigate the impact of resi-
dential broadband traﬃc on commercial backbone networks,
we formed a study group with specialists including mem-
bers from seven major Japanese commercial ISPs in order
to identify the macro-level impact of residential broadband
traﬃc on ISP backbones [6]. Our goal is to obtain a clearer
grasp of the ratio of residential broadband traﬃc to other
traﬃc, changes in traﬃc patterns, and regional diﬀerences
across ISPs.
We have collected aggregated bandwidth usage logs for
several categories of traﬃc. The results reveal that the back-
bone is dominated by symmetric residential traﬃc which
increased 37% in 2005. The peak hours have shifted from
oﬃce hours to evening hours, and a considerable amount of
traﬃc is constantly ﬂowing.
Using these statistics as reference points, we have per-
formed further analyses of residential traﬃc data provided
by one of the ISPs. The results reveal surprisingly diverse
behavior of residential traﬃc.
2. DATA COLLECTION
Our data sets were collected using two diﬀerent methods.
The ﬁrst set was collected by aggregating interface counters
of edge routers from seven ISPs for analysis of residential
traﬃc at a macro-scopic level. The other set was collected
by Sampled NetFlow [2] from one of the ISPs for detailed
per-customer analysis.
2.1 Data Collection of Aggregated Trafﬁc
We found that most ISPs collect interface counter values
of almost all routers in their service networks via SNMP,
and archive per-interface traﬃc logs using MRTG [22] or
RRDtool [21]. Thus, it is possible for the ISPs to provide
aggregated traﬃc information if they can classify router in-
terfaces into a common set.
There are several requirements in order to solicit ISPs to
divulge traﬃc information. We need to ﬁnd a common data
set which all the participating ISPs are able to provide with
moderate workload and investment. The data set should
be coarse enough not to reveal sensitive information about
the ISP but be meaningful enough so that the behavior of
Figure 3: Five traﬃc groups for data collection at
ISP customer and external boundaries
residential broadband traﬃc can be analyzed. The data sets
should be aggregated with those provided by other ISPs so
that the share of each ISP is not revealed.
Our focus is on traﬃc crossing ISP boundaries which can
be roughly divided into customer traﬃc, and external traf-
ﬁc such as peering and transit. For practical purposes, we
selected the ﬁve traﬃc groups in Figure 3 for data collection.
(A1) RBB customers represent residential broadband custom-
er lines. This group also includes small business customers
using residential broadband access.
(A2) non-RBB customers represent customer lines other than
RBB customers, including leased lines, data centers, and
dialup lines. This group includes RBB customers behind
leased lines, e.g., second or third level ISPs, since ISPs do
not distinguish them from other leased lines.
(B1) external 6IXes represent links for 6 major IXes, namely
JPIX, JPNAP and NSPIXP in both Tokyo and Osaka in
order to compare measurements at these IXes as well as to
know the traﬃc share of our measurement.
(B2) external domestic represents domestic external links oth-
er than the 6IXes, including regional IXes, private peering
and transit. We used the term “domestic” to indicate that
both ends of a link are located in Japan. This group also
includes domestic peering with global ASes.
(B3) external international represents international external
links with one end point outside of Japan.
(C) prefectural represents RBB links categorized into 47 pre-
fectures in Japan. This group is a subset of (A1), and covers
two major residential broadband carriers who provide ag-
gregated links per prefecture to ISPs. Other RBB carriers
without prefectural information are not used for this group.
It is impossible to draw a strict line for grouping, e.g., res-
idential/business and domestic/international, on the global
Internet, so these groups are chosen by the existing opera-
tional practices of the participating ISPs. We re-aggregate
each ISP’s aggregated logs, and only the resulting aggre-
gated traﬃc is used in our study so as to not reveal the
share of each ISP.
Our main focus is on (A1), RBB customers, but we exam-
ine the other categories to understand the relative volume
of (A1) with respect to other types of traﬃc as well as to
cross-check the correctness of our results. (A2), non-RBB
customers, is used to obtain the ratio of residential broad-
band traﬃc to total customer traﬃc. The total customer
traﬃc (A) is (A) = (A1) + (A2). (B1), external 6IXes, and
(B2), external domestic, are used to estimate the coverage
of the collected data sets. (B3), external international, is
used to compare domestic traﬃc with international traﬃc.
The total external traﬃc (B) is (B) = (B1) + (B2) + (B3).
(C), prefectural, is used to measure regional diﬀerences.
In general, it is meaningless to simply sum up traﬃc val-
ues from multiple ISPs since a packet could cross ISP bound-
aries multiple times. Customer traﬃc is, however, summable
because a packet crosses customer edges only once in each
direction, when entering the source ISP and exiting the des-
tination ISP. The numbers for external traﬃc are overes-
timated since a packet could be counted multiple times if
it travels across intermediate ISPs other than ingress and
egress ISPs. However, the error should be negligible in this