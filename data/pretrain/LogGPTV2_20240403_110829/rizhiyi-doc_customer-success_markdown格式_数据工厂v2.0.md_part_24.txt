**返回类型**：Datetime.
time:trimDate()
**格式**：time:trimDate(\)
**解释**：通过将日期部分设置为1970年1月1日来调整日期时间值的日期部分。
**参数**：无
**返回类型**：Datetime.
**示例**：如果数据采集器机器是2016年7月25日下午5:18:05
*\${time:trimDate(time:now())}*
**返回**：1970年1月1日下午5:18:05
time:trimTime(\)
**格式**：time:trimTime(\)
**解释**：通过将时间部分设置为00:00:00来调整日期时间值的时间部分。
**返回类型**：Datetime.
**示例**：pickup_datetime字段的值为2016年7月22日上午11:16:10
*\${time:trimTime(record:value("/pickup_datetime"))}*
**返回**：2016年7月22日上午 12:00:00
#### math（数字）函数
math:abs(\)
**格式**：math:abs(\)
**解释**：返回参数的绝对值或正版本。如果参数已经为正，则返回原始数字。
**参数**：无
**返回类型**：Double、Float、Int或Long，基于参数的数据类型。
**示例**：查看-2的绝对值
*\${math:abs(-2)}*
**返回**：2
math:ceil()
**格式**：math:ceil(\)
**解释**：返回大于或等于参数的最小整数。
**参数**：无
**返回类型**：Double.
**示例**：查看8.0+3.6的四舍五入结果
*\${math:ceil(8.0+3.6)}*
**返回**：12.0.
math:floor ()
**格式**：math:floor (\)
**解释**：返回小于或等于参数的最大整数。
**参数**：无
**返回类型**：Double
*\${math:floor(8.0+3.6)}*
**返回**：11
math:max()
**格式**：math:max(\, \)
**解释**：返回两个参数中较大的一个。
**参数**：无
**返回类型**：Double、Float、Int或Long，基于参数的数据类型。
**示例**：如果tip_amount字段的值为2.5，而fare_amount字段的值为12.5
*\${math:max(record:value(\"/tip_amount\"),
record:value(\"/fare_amount\"))}*
**返回**：12.5
math:min()
**格式**：math:min(\, \)
**解释**：返回与参数最接近的数字，舍入以查找关系。
**参数**：无
**返回类型**：Double、Float、Int或Long，基于参数的数据类型。
示例：
*\${math:min(\"12.3\",\"13.5\")}*
**返回**：12.3
math:round()
**格式**：math:round(\)
**解释**：返回与参数最接近的数字，四舍五入。
**参数**：无
**返回类型**：Double or Long
示例：
*\${math:round(\"16.3\")}*
返回：16
#### 其他函数
length()
**格式**：length()
**解释**：返回列表的长度。
**参数**：无
**返回类型**：Integer（整型）
### 函数操作介绍
#### 关系运算
在EL中，提供了6种关系运算符。这6种关系运算符不仅可以用来比较整数和浮点数，还可以用来比较字符串。关系运算符的使用格式如下：
\${表达式1 关系运算符 表达式2}
EL中提供的关系运算符如下表：
  --------------------------------------------------------------------------------
  **关系运算符**   **说明**           **示例**                          **结果**
  ---------------- ------------------ --------------------------------- ----------
  == or eq         测试是否相等       \${5==5}或\${5 eq 5}              true
  != or ne         测试是否不等       \${5!=5}或\${5 ne 5}              false
  \ or gt         测试是否大于       \${3\>5}或\${3 gt 5}              false
  \= or ge        测试是否大于等于   \${3\>=5}或\${3 ge 5}             false
  --------------------------------------------------------------------------------
示例：
+--------------------------------+-------------------------------------+
| **表达式示例**                 | **描述**                            |
+================================+=====================================+
| \${record:value(\'/appname\')  | 筛选appname为yottaweb               |
| == \'yottaweb\'}               |                                     |
+--------------------------------+-------------------------------------+
| \${r                           | 列表格式数                          |
| ecord:value(\'\[0\]/appname\') | 据，筛选appname为nginx，第一条数据  |
| == \"nginx\"}                  |                                     |
+--------------------------------+-------------------------------------+
| \${record:err                  | 条件为：错误管                      |
| orCode()==\"FIELD_MERGER_02\"} | 道中数据为FIELD_MERGER_02的值的数据 |
+--------------------------------+-------------------------------------+
| \${                            | 条件为：列表格式的数                |
| record:value(\"\[20\]/value\") | 据第二十一条数据value字段的值为空。 |
| == \"\"}                       |                                     |
+--------------------------------+-------------------------------------+
| \                              | 条件为：ID字段为Siring类型的值      |
| ${record:type(\'/ID\')=STRING} |                                     |
+--------------------------------+-------------------------------------+
| \${empty expression}           | expre                               |
|                                | ssion：用于指定要判断的变量或对象。 |
|                                |                                     |
|                                | 判断对象                            |
|                                | 是否为空，可以通过empty运算符实现， |
|                                | 该运算符是一个前缀（prefix）运算符  |
|                                | ，即empty运算符位于操作数前方，用来 |
|                                | 确定一个对象或变量是否为null或空。  |
|                                |                                     |
|                                | 另外，e                             |
|                                | mpty运算符也可以与not运算符结合使用 |
|                                | ，用于判断一个对象或变量是否非空。  |
+--------------------------------+-------------------------------------+
#### 逻辑运算
在进行比较运算时，如果涉及两个或两个以上的判断条件时，就需要应用逻辑运算符。EL的逻辑运算符如下表：
  ----------------------------------------------------------------------------
  **逻辑运算符**   **说明**       **示例**                          **结果**
  ---------------- -------------- --------------------------------- ----------
  && or and        测试逻辑与     \${true&&false}或\${true and      false
                                  false}                            
  \|\| or or       测试逻辑或     \${true\|\|false}或\${true or     true
                                  false}                            
  ! or not         测试取反       \${!true}或\${not true}           false
  ----------------------------------------------------------------------------
**示例**：使用EL关系运算符和逻辑运算符。
\
userName=\${userName}\ \
age=\${age}\ \
\\\${userName!=\"\" and (userName==\"pan_junbiao的博客\") }： \
\${userName!=\"\" and userName==\"pan_junbiao的博客\" }\ \
\\\${userName==\"pan_junbiao的博客\" and age==\"30\" }： \
\${userName==\"pan_junbiao的博客\" and age==\"30\" } \
执行结果：
![](media/image102.png){width="5.307479221347331in"
height="1.2137117235345583in"}
#### if-then-else语句判断
在EL中进行简单的条件运算，可以通过条件运算符实现。EL的条件运算符唯一的优点在于其非常简单和方便，和Java语言里的用法完全一致。其语法格式如下：
\${条件表达式 ? 表达式1 : 表达式2}
参数说明如下：
-   条件表达式：用于指定一个条件表达式，该表达式的值为boolean型。可以由关系运算符、逻辑运算符和empty运算符组成。
-   表达式1：用于指定当条件表达式的值为true时，将要返回的值。
-   表达式2：用于指定当条件表达式的值为false时，将要返回的值。
示例：
+-------------------------+--------------------------------------------+
| **if-then-else语句**    | **描述**                                   |
+=========================+============================================+
| \${record:value(\'/g    | 当性别值为1时，替换为M，当性               |
| ender\')==\'1\'?\'M\':( | 别值为2时，替换为F，性别为其他值时替换为U  |
| record:value(\'/gender\ |                                            |
| ')==\'2\'?\'F\':\'U\')} |                                            |
+-------------------------+--------------------------------------------+
| \${reco                 | 依次根据home_p                             |
| rd:value(\'/phone_home\ | hone，mobile_phone和work_phone字段中的号码 |
| ')!=\"\"?record:value(\ | ，做为primary_phone(常用电话)的电话号码：  |
| '/phone_home\'):(record |                                            |
| :value(\'/phone_mobile\ | 1、如果家用电话号码                        |
| ')!=\"\"?record:value(\ | 值不为空，则使用家庭电话作为常用电话的值。 |
| '/phone_mobile\'):(reco |                                            |
| rd:value(\'/phone_work\ | 2、如果没有家                              |
| ')!=\"\"?record:value(\ | 庭电话号码，使用手机号码作为常用电话的值。 |
| '/phone_work\'):\'\'))} |                                            |
|                         | 3、如果家庭电话和手机号码都没              |
|                         | 有，则使用工作电话号码作为为常用号码的值。 |
|                         |                                            |
|                         | 4、如果没有家庭电话、手机号码及公司号码值  |
|                         | 都为空，则primary_home(常用电话)也为空值。 |
+-------------------------+--------------------------------------------+
#### 字符串操作
  -------------------------------------------------------------------------------------------------
  **字符串操作**                             **描述**
  ------------------------------------------ ------------------------------------------------------
  \${record:valueOrDefault(\'/Payment\',     将Payment字段中的空值或是没有此字段的值替换为unknown
  \'unknown\')}                              
  \${str:toUpper(record:value(\'/STATE\')}   将STATE字段的值转换为大写
  -------------------------------------------------------------------------------------------------
#### 数值运算
在EL中，也可以进行算术运算，同Java语言一样，EL提供了加、减、乘、除和求余5种算术运算符，各运算符及其用法，如下表所示。
  --------------------------------------------------------------------------
  **运算符**   **说明**         **示例**                          **结果**
  ------------ ---------------- --------------------------------- ----------
  \+           加               \${12+5}                          17
  \-           减或负           \${12-5}                          7
  \*           乘               \${12\*5}                         60
  / or div     除               \${12/5}或\${12 div 5}            2
  \% or mod    取模             \${13%5}或\${13 mod 5}            3
  --------------------------------------------------------------------------
示例：
  -----------------------------------------------------------------------
  **数据运算示例**                                       **描述**