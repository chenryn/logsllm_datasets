信息收集之SVN源代码社工获取及渗透实战  
antian365.com simeon  
在对某一个目标进行渗透时，通过前期信息收集，发现该用户的代码托管在阿里云代码中心。如果渗透时能够获取源代码，那对整个渗透将如虎添翼，通过笔者的探索，可以  
有两种方法来获取。  
第一种方式是直接获取泄漏的公开源代码，这种方式相对简单，只要用户未对代码进行保护，可以通过svn工具来自己获取完整的代码，当然也可以通过code.taobao.org进行在线查看和浏览。  
第二种方式就是通过社工等方法来获取开发人员的账号和密码，通过svn工具登录来获取所有完整的源代码。  
1.公开源代码获取  
（1）搜索用户和项目关键字  
如图1所示，在  
图1使用关键字进行搜索  
（2）浏览源代码  
如果用户公开了源代码和数据，则可以在搜索结果中单击项目名称或者用户名称来获取更多的详细信息，如图2所示，通过查看其代码，成功获取数据库连接等敏感信息。  
图2获取源代码中的敏感信息  
2.社工查询获取密码  
（1）查询用户名以及相关信息  
打开社工库查询网站  
图3获取密码相关信息  
（2）社工库交叉查询  
通过另外一个社工库网站  
图4交叉查询关键信息  
（3）密码分析  
通过两个社工库查询结果进行比对，可以获取以下信息：  
57 ** **143可能注册邮箱57**** PI:EMAIL、57 **
**PI:EMAIL，曾经使用gaobo007和gaobo1987密码。  
3.登录阿里云代码中心  
使用获取的密码进行登录尝试，用户名为“57****143”，密码分别为“gaobo007”和“gaobo1987”，如图5所示成功登录其代码管理中心。  
图5获取其所有项目信息  
4.获取其它开发用户的信息  
在站内搜索或者查看其它开发人员信息，如图6所示，对132 *****
952用户进行查看，在页面中有“发站内信”和“mail联系”，右键单击，在代码中可以获取用户“132 ***** 952”的email信息“yx
**PI:EMAIL”，如图7所示，如果社工库强大可以继续进行社工渗透。在实际渗透中，可以在阿里云代码中心注册，然后针对性的去获取其目标信息的email信息。  
图6获取其它用户信息  
图7获取email地址信息  
5.下载获取源代码  
（1）安装TortoiseSVN  
TortoiseSVN是一款代码
管理工具，其官方网站地址为  
（2）下载代码设置  
在磁盘上新建一个文件夹，该文件夹一般对应与代码项目的名称，例如在本地新建一个文件夹“Sh****nHuis”其对应项目
Checkout”，如图8所示。  
图8使用checkout命令来获取源代码
（3）设置URL库  
在弹出的Checkout中的“URL of
Repository（URL库）”中输入代码地址  
图9设置URL库  
（4）下载源代码  
如果网络顺畅，TortoiseSVN就会自动下载服务器上面的源代码，如图10所示，逐个下载所有的资料，源代码下载完成后OK按钮会由灰色（不可用）变成可用状态。  
图10获取源代码程序  
（5）本地查看源代码  
在本地文件夹下，通过notepad++工具对代码进行查看，如图11所示，如果权限许可还可以直接更新源代码。  
图11查看源代码  
6.后续渗透  
获取其源代码后，在源代码中发现有大量的数据库连接信息，对MSSQL和Mysql如果没有做安全限制，可以直接连接获取数据库中的数据，如果条件允许还可以直接获取服务器权限，有关渗透不在本文中进行介绍。  
7.总结  
在渗透过程中，信息收集的完善程度将直接影响最终的渗透结果，因此完美的信息收集应该是多方位，多层次，需要对数据进行挖掘和分析，再挖掘，再分析，再利用。本文通过泄漏的项目代号和开发作者等信息，利用社工查询，成功获取了其开发的大量源代码程序，对目标的成功渗透发挥了重要的作用。