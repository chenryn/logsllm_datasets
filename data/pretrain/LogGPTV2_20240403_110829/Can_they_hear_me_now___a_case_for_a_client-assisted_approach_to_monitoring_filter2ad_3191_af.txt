K
(
t
u
p
h
g
u
o
r
h
T
 2000
 1500
 1000
 500
 0
NetA
NetB
NetC
 0
 5  10  15  20  25  30  35  40  45
Zone
Figure 13: TCP performance on each zone across 20
km stretch of road for three monitored networks.
absence of any knowledge of which network gives the best
performance at the current location, the clients with such
phones would be forced either to select a network in a ran-
dom fashion or to carry out measurements to ascertain the
network quality for all the networks.
The second application that can beneﬁt from location spe-
ciﬁc information is a MAR [4] — a multi-network Internet
gateway mounted on a vehicle that can aggregate bandwidth
from all networks that it simultaneously connects to. The
scheduler in MAR stripes traﬃc ﬂows to diﬀerent network
interfaces. While authors in [4] suggest using location spe-
ciﬁc network performance information to further optimize
performance by intelligently mapping data requests to inter-
faces based on locality of operation, we highlight the bene-
ﬁts of such a scheme over a simple multi-interface striping
algorithm where all currently active requests from diﬀer-
ent clients are mapped onto diﬀerent cellular networks in a
round robin fashion.
To illustrate the beneﬁts of coarse throughput estimates
for the above two applications, we consider the following
experiment scenario. A client (either a MAR gateway or
a Multi-sim phone) places back-to-back requests for a set
of pages from the Internet while driving on a road stretch
depicted in Figure 12.
In our experiments, the client re-
quested pages from a webserver hosting a pool of 1000 wep
pages with sizes between 2.8 KBytes and 3.2 MBytes, gen-
erated using SURGE [28]. Akin to [4] we also experiment
with popular Web sites by downloading wepages to a depth
of 1 from their starting page. For our experiments we run
the car on the same road-segment (Table 2) multiple times
during the experiment. We compare performance between
a system where data is requested in a round robin fashion
on each network. The other system with a monitoring agent
uses the GPS to determine the location of the vehicle and
based on zone information selects the best network to min-
imize download latency.
Multi-sim Improvements: We present the results in
terms of HTTP latency averaged over ten runs in Table 6.
As can be seen from the Table 6, we can decrease the HTTP
latency by 30% by selecting best performed interface at a
given location. We show the HTTP latency for well known
Web pages in Figure 14(a). As can be seen from the plot, our
scheme gives the maximum improvement for amazon.com
webpage (32% improvement) and minimum improvement for
microsoft.com webpage (13% improvement).
MAR performance improvements: Here we compare
the download latency for the two schemes. We measured
110Avg.(in sec) Std.(in sec)
WiScape
NetA
NetB
NetC
MAR-WiScape
MAR-RR
87.66
124.26
158.55
145.46
25.72
36.8
8.33
14.90
33.69
14.89
3.48
6.44
Table 6: Average latency and standard deviation
for downloading 1000 HTTP ﬁles. We can improve
HTTP latency by 30% using Multi-sim-WiScape.
)
c
e
s
(
y
a
e
D
l
 250
 200
 150
 100
 50
 0
Multisim-Wiscape
Multisim-NetA
Multisim-NetB
Multisim-NetC
cnn microsoft youtube amazon
)
c
e
s
(
y
a
e
D
l
 80
 70
 60
 50
 40
 30
 20
 10
 0
MAR-Wiscape
MAR-RR
cnn microsoft youtube amazon
(a) Multi-sim improve-
ment
Figure 14: Multi-sim and MAR latency improve-
ments with well known Web pages over round-robin
(MAR).
(b) MAR improvement
the HTTP latency by running our car with a MAR client
with 3 interfaces on a 2.4 Km segment of road (from zone
10 to 15 from Figure 13). We measure the performance of
MAR system using network performance information and
while mapping client requests to interfaces in a throughput-
weighted Round Robin fashion (MAR-RR). As can be seen
from Table 6 (last two columns) by using the information
provided by WiScape we can decrease the HTTP latency by
32% compared to MAR-RR.
We have also experimented with well known Web pages
as described above. We present results in Figure 14(b). As
can be seen from the plot, using a locality aware scheme
can improve performance by 37% over a naive round robin
scheme.
We note that the applications can also estimate network
performance through explicit measurements of its own, which
would result in a steady measurement overhead on all the
network interfaces. Besides, applications like MAR would
also need to stop all client traﬃc thus potentially hamper-
ing performance. In contrast a client-sourcing base approach
would gather this data ahead of time and can simply make
it available to potential clients, at a low overhead. We would
also like to note, that we did not account for multiple sys-
tem level issues, such as energy eﬃciency, time to switch
between links, or presence of client think time into account
while calculating the performance. Accounting for such is-
sues might lead to changes in achievable beneﬁts that we
present. However, we believe that independent of the spe-
ciﬁc metric being optimized (energy or completion time) in-
formation about link performance can always be leveraged
for better performance.
5. RELATED WORK
We compare and contrast our contributions in WiScape
with prior work on two separate fronts.
Prior monitoring research: With the rapid growth of
cellular based Internet connectivity, cellular providers and
third-party developers have started developing client-based
techniques to learn about the properties of these networks.
They include the AT&T’s “Mark the Spot” [29] applica-
tion, 3gtest [9], and applications by Root Wireless [8]. Un-
like these applications, WiScape focuses on a measurement
methodology for client-sourcing that systematically reduces
the number of measurements required across time periods
and zones based on data already collected while ensuring
that collected data is statistically useful.
Other recent work has conducted detailed measurements
of speciﬁc 3G cellular networks to understand their perfor-
mance for both static and mobile environments [30, 31]. Lie
et al. presents the characterization of PHY and MAC layer
of 3G network and its impact on TCP performance [30].
Akin to [30] where the authors ﬁnd the DRC (dependent on
SINR) to vary signiﬁcantly over large time scales, we also
found a high variation in RSSI over the period of a day.
Similar to [30], we did not ﬁnd any correlation (0.03) be-
tween the expected application level TCP throughput and
RSSI. In light of the above observation we discarded RSSI
statistics from further consideration.
Similar studies have also been conducted on outdoor WiFi
mesh networks [32, 15]. Again, such prior works are primar-
ily measurement studies and do not focus on our focus of a
client-sourced measurement framework with goals of mini-
mal data collection from diverse clients.
Related applications: The novelty of our work is that
we collected long term city-scale data and built the WiS-
cape framework which harnesses the performance measure-
ment of 3G network to maximize the performance of multi-
network applications, e.g., MAR [4]. Many other vehicular
networking systems have been designed and deployed in re-
cent years, each with diﬀerent target applications. Exam-
ples include VanLAN [33, 34], a WiFi based Internet service
into vehicles [33, 34], PluriBus [35, 36] a WiFi, 3G, and
WiMAX based system with similar goals but with diﬀerent
algorithms, DieselNet [37, 38] that mostly focused on delay
tolerant networking and opportunistic Internet services. We
believe that many of these systems could potentially lever-
age client-based data collected by WiScape to better opti-
mize their data striping algorithms (analogous to our design
of improvements to MAR).
6. CONCLUSION
In this paper we presented the design for a client-assisted
network monitoring system. Through extensive measure-
ment over a period of more than one year, in and around
Madison and small parts of New Jersey, we have validated
the possibility of carrying out client assisted network mon-
itoring. With experimentation we show how client-assisted
network monitoring can help cellular network users and op-
erators. We believe this work is merely a starting point in
larger scale measurements and network monitoring, span-
ning multiple cities, state, or across the whole country.
Cellular data traﬃc volume is set to increase dramatically
in near future, placing enormous load on the infrastructure.
Moving forward, we intend to expand the spatial and tempo-
ral reach of our client-assisted cellular data network monitor-
ing, with the goal of understanding the eﬀects of increased
cellular networks on performance.
We hope to organically grow our eﬀorts in the months and
years to come. Speciﬁcally, we intend to extend our study
111to bigger cities, where high number of users, would present
a more challenging monitoring problem.
To deploy our ideas developed in WiScape, we plan to
integrate our proposed sampling techniques into a publicly
available cellular network based measurement and monitor-
ing tool called Network Test [39], available for both the An-
droid and iPhone platforms currently. We believe this would
further enrich our understanding of the client-sourced net-
work measurement process.
7. ACKNOWLEDGEMENTS
We would like to thank Shan-Hsiang Shen, Lance Har-
tung, Hoewook Chung for their help in collecting measure-
ments. We thank the Madison Metro Transit and the Van
Galder Bus Company, for letting us use their buses to col-
lect measurements. Sayandeep Sen, Jongwon Yoon, Joshua
Hare, Justin Ormont, and Suman Banerjee have been sup-
ported in part by the US National Science Foundation through
awards CNS- 1059306, CNS-0855201, CNS-0747177, CNS-
0916955, CNS-1040648, and CNS-1064944.
8. REFERENCES
[1] C. Fraleigh, S. Moon, B. Lyles, C. Cotton, M. Khan,
D. Moll, R. Rockell, T. Seely, and C. Diot. Packet-level
traﬃc measurements from the sprint ip backbone. In IEEE
Network, 2003.
measurement study of a commercial-grade urban wiﬁ mesh.
In IMC, 2008.
[18] D.W. Allan. Time and frequency characterization
,estimation and prediction of precision clocks and
oscillators. In IEEE Transactions, 1987.
[19] V. Shrivastava, D. Agrawal, A. Mishra, S. Banerjee, and
T. Nadeem. Understanding the limitations of transmit
power control for indoor wlans. In IMC, 2007.
[20] Manish Jain and Constantinos Dovrolis. Pathload: A
measurement tool for end-to-end available bandwidth. In
PAM Workshop, 2002.
[21] Mingzhe Li, Mark Claypool, and Robert E. Kinicki. Wbest:
A bandwidth estimation tool for ieee 802.11 wireless
networks. In LCN, pages 374–381. IEEE, 2008.
[22] D. Koutsonikolas and Y. Charlie Hu. On the feasibility of
bandwidth estimation in 1x evdo networks. In MICNET,
2009.
[23] P. Bahl and V. N. Padmanabhan. Enhancements to the
radar user location and tracking system. In INFOCOM,
2000.
[24] Moustafa Youssef and Ashok Agrawala. The horus wlan
location determination system. In MobiSys, 2005.
[25] A. Haeberlen, Flannery E., Ladd A., A. Rudys, D. Wallach,
and L. Kavrakt. Practical robust localization over
large-scale 802.11 wireless networks. In MobiCom, 2004.
[26] Samsung ﬁzz phone.
http://www.gsmarena.com/samsung c5212-2709.php.
[27] Jinpeng s4100 mobile phone.
http://www.chinatronic.com/products.php/S4100.
[2] D. Kotz and Essian K. Analysis of a campus-wide wireless
[28] Paul Barford and Mark Crovella. Generating representative
network. In MobiCom, 2002.
[3] Yu-Chung Cheng, John Bellardo, P´eter Benk¨o, Alex C.
Snoeren, Geoﬀrey M. Voelker, and Stefan Savage. Jigsaw:
solving the puzzle of enterprise 802.11 analysis. In
SIGCOMM, 2006.
[4] P. Rodriguez, R. Chakravorty, J. Chesterﬁeld, I. Pratt, and
S. Banerjee. Mar: A commuter router infrastructure for the
mobile internet. In MobiSYS, 2004.
[5] B. Cankaya, V. Watcon, and Metters D. Wireless cell site
ﬁnder and customer service system. In United States Patent
7236767, 2007.
[6] Aman Kansal, Michel Goraczko, and Feng Zhao. Building a
sensor network of mobile phones. In IPSN, 2007.
[7] Emiliano Miluzzo, Nicholas D. Lane, Krist´of Fodor, Ronald
Peterson, Hong Lu, Mirco Musolesi, Shane B. Eisenman,
Xiao Zheng, and Andrew T. Campbell. Sensing meets
mobile social networks: the design, implementation and
evaluation of the cenceme application. In SenSys, 2008.
[8] Root wireless inc. http://www.rootwireless.com.
[9] Smart phone 3g test. http://www.eecs.umich.edu/3gtest/.
[10] Community resource for archiving wireless data at
dartmouth. http://crawdad.cs.dartmouth.edu/.
[11] High-speed packet access. http://www.3gamericas.org.
[12] N. Bhushan, C. Lott, P. Black, Attar R., Y. Jou, M. Fan,
Ghosh D., and Au J. Cdma2000 1xev-do revision a: A
physical layer and mac layer overview. In IEEE Comm.
Magazine, 44(2), 2006.
[13] Wirover.
http://host.madison.com/wsj/news/local/article e1a67156-
dea9-11df-9332-001cc4c002e0.html.
[14] C. Demichelis and P. Chimento. Ip packet delay variation
metric for ip performance metrics (ippm). RFC 3393, IETF.
[15] Mikhail Afanasyev, Tsuwei Chen, Geoﬀrey M. Voelker, and
Alex C. Snoeren. Analysis of a mixed-use urban wiﬁ
network: when metropolitan becomes neapolitan. In IMC
’08.
[16] John Bicket, Daniel Aguayo, Sanjit Biswas, and Robert
Morris. Architecture and evaluation of an unplanned
802.11b mesh network. In ACM Mobicom, 2005.
[17] Vladimir Brik, Shravan Rayanchu, Sharad Saha, Sayandeep
Sen, Vivek Shrivastava, and Suman Banerjee. A
web workloads for network and server performance
evaluation. In ACM SigMetrics, 1998.
[29] At&t news release. http://www.att.com/gen/press-
room?pid=4800&cdvn=news&newsarticleid=30336&mapcode=.
[30] Xin Liu, Ashwin Sridharan, Sridhar Machiraju, Mukund
Seshadri, and Hui Zang. Experiences in a 3g network:
interplay between the wireless channel and applications. In