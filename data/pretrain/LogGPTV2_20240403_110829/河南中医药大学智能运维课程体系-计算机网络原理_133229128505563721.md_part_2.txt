■IP地址就是给每个连接在因特网上的主机（或路由器）分配一个在全世界范
■把整个因特网看成为一
围是唯一的32位的标识符。
 ICANN: https://www.icann.org
IP地址：32位二进制代码
采用点分十进制记法
将每8位的二进制数
分为每8位为一组
转换为十进制数
个单一的、抽象的网络。
IP地址及其表示方法
1000000000000000000000000000000
128
128.11.3.31
2.2IP地址
2.2IP地址
 36
35
8
---
## Page 19
2.网际协议IP
2.网际协议IP
口
■分类的IP地址就是将IP地址划分为若干个固定类，每一类地址都有两个字段
分类的IP 地址
1一个IP地址在整个因特网范围内必须是唯一的。
组成：网络号、主机号。
口
口
网络号的位数n是多少？
2个字段：网络号和主机号
主机号（host-id）：标志该主机（或路由器）
网络号（net-id）：标志主机（或路由器）所连接到的网络。
■一个网络号在整个因特网范围内必须是唯一的。
一个主机号在它前面的网络号所指明的网络范围内必须是唯一的。
IP地址采用2级结构
IP地址指明了连接到某个网络上的一个主机
IP地址在整个互联网范围内是唯一的。
IP地址：={，}
(网络号)
n位：
河南中医药大学信息技
32位
(32-n)位
(机号)
2.2IP地址
2.2IP地址
 38
6
---
## Page 20
2.网际协议IP
2.网际协议IP
指派主机号时，要扣除全0和全1。全0和全1有特殊含义和用途。
C类网络地址中，
类网络地址中，
D类地址
类地址
类地址
3类地址
类地址
2097151 (221 - 1)
16383 (214 - 1)
，网络号192.0.0是被IANA 保留的，不指派。采用无分类编址（CIDR）时可以指派。
126 (27 - 2)
1111
1110
网络号0和127是保留地址，不指派。0表示"本网络"，127保留作为本地环回测试地址。
的网络数
最大可指派
110
10!
net-id
net-id
24t-id
各类IP地址的指派范围
第一个可指派
保留为今后使用
192.0.1
的网络号
128.1
多播地址
分类的IP地址
P
最后一个可指派
223.255.255
191.255
的网络号
126
16777214 (224 - 2)
65534 (216 - 2)
单播地址
254 (28 - 2)
最大主机数
每个网络中
深
2.2IP地址
2.2IP地址
40
39
2
---
## Page 21
2.网际协议IP
2.网际协议IP
网络号
17
HV
0
非金0或全1
主机号
全1
H
划分子网，灵活地使用。
转发分组迅速；
使用方便；
管理简单；
可以
不可
不可
可以
可以
分类的IP地址的优点和缺点
一般不使用的特殊的IP地址
可以
可以
可以
不可
不可
用于本地软件环回测试
对网络号为丫的网络上的所有主机进行广播
只在本网络上进行广播 (各路由器均不转发)
在本网络上主机号为×的主机
在本网络上的本主机（见6.6节DHCP协议）
问题。
也无法解决IP地址枯竭的
即使采用划分子网的方法，
大地址块，浪费地址资源;
设计上不合理：
代表的意思
2.2IP地址
2.2IP地址
42
41
---
## Page 22
2.网际协议IP
2.网际协议IP
口
无分类编址 CIDR
■要点：
■CIDR (Classless Inter-Domain Routing)：无分类域间路由选择。
■
分配IPV4的地址空间，但无法解决IP地址枯竭的问题。
消除了传统的A 类、B类和C 类地址以及划分子网的概念，可以更加有效地
网络前缀的位数n 是多少?
2个字段：网络前缀和主机号
①网络前缀
32 之间选取任意值。
前缀的位数n不固定，可以在0~
与分类的IP 地址最大的区别：
地址掩码
地址块
无分类编址CIDR 的网络前缀
例如：128.14.35.7/20：前20位是网络前缀。
a.b.c.d / n:二进制IP地址的前n位是网络前缀。
CIDR记法：斜线记法(slash notation)
IP地址：={，}
(network-prefix)
n位
网络前缀
32位
(32-n)位
2.2IP地址
2.2IP地址
44
43
---
## Page 23
2.网际协议IP
2.网际协议IP
口
无分类编址CIDR
128.14725
128-14,320
■CIDR地址表示方法：
口10.0.0.0/10 相当于指出IP地址10.0.0.0的掩码是255.192.0.0，即
口10.0.0.0/10可简写为10/10，也就是将点分十进制中低位连续的0省略。
口10.0.0.0/10表示的地址块共有222个地址。
128.14.32.0/20 组成的地址块 (共 212个地址)
：即：00001010 00*，在星号*之前是网络前缀，而星号*表示IP地址中的主机号，可以是任意值。
1111111 11000000 00000000 00000000
示：
0000
10000000
0
无分类编址CIDR的地址块
00101
0
00°
0
00001110
o
1111
1111
1111
11
的位数。
地址数目，取决于网络前缀
一个CIDR地址块包含的IP
CIDR 地址块。
所有连续的IP地址组成一
CIDR把网络前缀都相同的
2.2IP地址
2.2IP地址
46
45
23
---
## Page 24
2.网际协议IP
2.网际协议IP
形式：由一连串1和接着的一连串0组成，1的数量即网络前缀的长度。
目的：让机器从IP地址迅速算出网络地址。
位数：32位。
又称为子网掩码 (subnet mask)。
128.14.32.0
128.14.35.7
128.14.32.0/20
128.14.35.7/20
/20地址块：
点分十进制记法：255.255.240.0
地址掩码：11111111111111111111000000000000
CIDR记法：255.255.240.0/20
无分类编址CIDR的地址掩码(addressmask)
不能指明一个网络地址，因为无法知道网络前缀是多少。
是IP地址，但未指明网络前缀长度，不知道其网络地址。
机号为全0的IP地址。
是包含有多个IP地址的地址块，同时也是这个地址块中主
该地址是128.14.32.0/20地址块中的一个地址。
是IP 地址,
无分类编址CIDR的地址块
，同时指明了网络前缀为 20 位。
2.2IP地址
2.2IP地址
48
忆
---
## Page 25
2.网际协议IP
2.网际协议IP
膜嫩
类姚
IP地址
2默5认2地址码0
默认,地址推码
默认地址推码
网络地址=(二进制的IP地址)AND(地址掩码)
1111111111111
无分类编址CIDR的默认地址掩码
00000000000000001111111111111111
11111111
11111111111111111111111
网络号
网络前缀
网络前缀
网络号
逐位进行AND运算
网络号
。
0
０00000000000000０
0000000000000000
主机号
主机号
主机号
00000000
主机号
2.2IP地址
2.2IP地址
50
49
---
## Page 26
2.网际协议IP
网络前缀长度
(e)网络地址 (点分十进制)
(d）IP地址与地址掩码按位AND
(c)地址掩码是255.255.224.0
(b)二进制IP地址
(a)点分十进制IP 地址
/27
23
2
2
16
15
/13
021
255.255.255.224
255.255.255.192
255.255.255.128
255.255.255.0
255.255.254.0
255.255.252.0
255.255.248.0
255.255.240.0
255.255.224.0
255.255.192.0
255.255.128.0
255.255.0.0
255.254.0.0
255.252.0.0
255.248.0.0
点分十进制
【例】已知IP地址是128.14.35.7/20。求网络地址。
10000000000011100010000000000000
11111111111111111111000000000000
10000000000011100010001100000111
包含的地址数
1K
2K
4K
8K
16 K
32K
64 K
128 K
256K
512 K
9
28
128
3
128
2个B类或512个C类
4个B类或1024个C类
8个B类或2048个C类
相当于包含分类的网络数
1个B类或256个C类
1/8个C类
1/4个C类
1/2个C类
1个C类
2个C类
4个C类
8个C类
16个C类
32个C类
64个C类
128个C类
32
35
常用的CIDR地址块
2.2IP地址
---
## Page 27
2.网际协议IP
2.网际协议IP
口
口
路由表中需要16 个路由项目。
地址掩码=255.255.255.0，
16个C类地址，
聚合前
路由聚合
构建超网
■
■每一个CIDR地址块中的地址数一定是2的整数次幂。
因此在文献中有时称CIDR 编址为"构造超网"
除最后几行外，CIDR地址块都包含了多个C类地址（是一个C类地址的 2n 
网络前缀长度
13
/32
255.255.255.254
255.255.255.255
点分十进制
0.0.0.0
三个特殊的CIDR地址块
同时IP地址也是全0，即0.0.0.0/0。用于默认路由。
只有两个IP地址，其主机号分别为0和1。这个地址块用于点对点链路
就是一个IP地址。这个特殊地址用于主机路由
192.24.0.0 /20
说明
路由表中只需1个路由项目
地址掩码=255.255.240.0，
聚合为1个地址，
聚合后
2.2IP地址
2.2IP地址
54
53
---
## Page 28
2.网际协议IP
2.网际协议IP
口
(3）转发器或交换机连接起来的若干个局域网仍为一个网络
(2）IP地址是标志一台主机（或路由器）和一条链路的接口。
IP 地址的特点
(4）在IP地址中，所有分配到网络前缀的网络都是平等的。
(1）每个IP地址都由网络前缀和主机号两部分组成。
(4）在IP地址中，所有分配到网络前缀的网络都是平等的。
(2）IP地址是标志一台主机（或路由器）和一条链路的接口。
(1）每个IP地址都由网络前缀和主机号两部分组成。
IP地址的特点
（3）转发器或交换机连接起来的若干个局域网仍为一个网络
址结构。
IP地址是一种分等级的地
(multihomed host).
由
这
个
一
这种主机称为多归属主机
表的时间。
空
料
方便了IP地址的分配
IP地址。
至少应当有两个不同
器
空间，以及查找转发
络上时，该主机就！
一台主机同时连接到
转发表所占的存
现路由聚合，减小
个