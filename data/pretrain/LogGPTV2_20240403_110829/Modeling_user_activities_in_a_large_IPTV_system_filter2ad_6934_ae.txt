d
e
z
i
l
a
m
r
o
n
(
s
B
T
S
e
n
i
l
n
o
f
o
#
1
0.9
0.8
0.7
0.6
0.5
0.4
0:00
Real trace
Synthetic trace
4:00
8:00
12:00
Local time
16:00
20:00
24:00
Figure 17: Number of on-line STBs over time. The results from
real trace and workload closely match.
s
B
T
S
f
o
r
e
b
m
u
n
d
e
z
i
l
a
m
r
o
N
1
0.9
0.8
0.7
0.6
0.5
0:00
Real trace
Single−class
Multi−class
4:00
8:00
12:00
Local Time
16:00
20:00
24:00
Figure 18: Multi-class population model captures the change
of channel popularity over time (hourly)
online STBs over time in Figure 17 because the single-class pop-
ulation model treats every channel-switch event uniformly. There-
fore, the changing rate of channel popularity is proportional to the
changing rate of on-line STB population.
To better understand the reasons that a multi-class population
model can better capture the dynamics of channel popularity, we
drill down the above example. There are two factors which shape
the popularity dynamics of a particular channel: i) the channel ac-
cess probability deﬁned as the number of STBs in a particular pop-
ulation (for multi-class population model) watching that channel
divided by the number of online STBs in that population at that
time period (e.g. one hour). It is actually the transition probability
of that channel; ii) the population mix which consists of the pro-
portions of different subgroups in the whole user population. The
channel popularity dynamics is generated by the combinational ef-
fect (which can be viewed as the weighted sum of productions of
subgroups) of these two factors.
Figure 19 shows the channel access probability of a popular kids
channel from our multi-class synthetic trace. We display one curve
for each group and an additional curve for all-STB cases (denoted
by “All”). We observe that the curve for all-watchers shows a diur-
nal pattern, but all the other curves are quite stable. This means the
change of the channel access probability in each group is very small
and hence does not contribute to the dynamics of channel popu-
larity in Figure 18. Figure 20 illustrates the population mix in our
synthetic trace. By [15], the light-watcher group consists of the ma-
jority of watchers for kids channels. When we compare Figure 19
with Figure 20, it is clear that the increase bump (approximately
5:00 – 14:00) of light-watcher group in population mix contributes
to the spike view of Figure 18.
439y
t
i
l
i
b
a
b
o
r
P
s
s
e
c
c
A
l
e
n
n
a
h
C
0.02
0.01
0.05
0.04
0.03
0.02
0.01
0:00
All
Heavy
Light
Medium
4:00
8:00
12:00
Local Time
16:00
20:00
24:00
Figure 19: Time-of-day dynamics for a popular kids channel,
based on multi-class synthetic trace
n
o
i
t
r
o
p
o
r
P
n
o
i
t
a
l
u
p
o
P
1
0.8
0.6
0.4
0.2
0
4:00
8:00
Heavy−watchers
Medium−watchers
Light−watchers
12:00
Time (hours)
16:00
20:00
24:00
F
D
P
0.12
0.1
0.08
0.06
0.04
0.02
0
0
0.08
0.06
F
D
P
0.04
0.02
0
130
Real trace
Synthetic trace
40
20
120
The number of simultaneous unicast streams
(a) Simultaneous unicast stream count
100
60
80
140
Real trace
Synthetic trace
230
430
The number of active multicast sessions
(b) Active multicast channel count
330
530
Figure 20: Population mix for each group, based on multi-class
synthetic trace
Figure 21: Case study. The results from real trace and work-
load closely match.
5.2.3 Case Study
is to use the synthetic trace from
Since our ultimate goal
SIMULWATCH in evaluating the performance of different design
of IPTV system, different system parameter settings, etc., we put
SIMULWATCH to a ﬁnal test by using it in a case study. In partic-
ular, we are interested in evaluating the bandwidth requirement to
support fast-channel-switch. Recall that using fast-channel-switch,
a short (x seconds) unicast stream is transmitted to the STB (in ad-
dition to a new multicast stream) when a user switches to a new
channel. We focus on a single router in one of the VHOs in the
IPTV network, which connects to 2, 137 downstream STBs. We
evaluate different value of x (4, 8, 16, 32). We only present re-
sult for x = 32 seconds, while other results are quantitatively very
similar.
We study the number of simultaneous unicast streams ﬂowing
downstream from the router of interest under the above settings.
Figure 21a shows the distribution density function on the number
of concurrent unicast streams when using either real trace or syn-
thetic trace in evaluation. We observe that the two curves closely
match. Both curves show that for around 4% of time there is no
unicast stream in the system; with a small probability, there can
be demand for more than 80 concurrent unicast streams, with the
maximum being 128 in both cases; and interestingly there are two
local peaks (at 10 and 60) in both distribution functions, the second
of which may relate to the correlated channel switchings at hour
boundaries. This result demonstrates that SIMULWATCH faithfully
preserves the intrinsic characteristics of user activities that are es-
sential to our evaluation.
We also examine the number of channels that these 2, 137 STBs
collectively request. This value translates to the amount of multi-
cast trafﬁc involved to support live TV viewing for the users. In
Figure 21b, we report the probability density function for the num-
ber of channels, in which we conﬁrm that the result from synthetic
trace closely matches that of real trace.
6. RELATED WORK
Traditionally, understanding users’ TV viewing activities in the
conventional TV systems relied on phone surveys or specialized
monitoring boxes (e.g., by Nielsen Media Research [1]). The chal-
lenge with that approach is the difﬁculty conducting a large-scale
survey or deploying monitoring boxes for the majority of TV users.
In this paper, we analyze user activity data from more than one mil-
lion commercial IPTV subscribers and present models that can be
used to generate realistic user activity workload.
Many researchers recently have looked into various aspects of
IPTV systems. The closest work to our study is the recent mea-
surement study conducted by Cha et al. [6]. While some of our
ﬁndings overlap with their study, our focus is to model the user
activities based on the measurement study and design a workload
generator, which can be used to evaluate different aspects of IPTV
system design and performance with respect to realistic user work-
load. In our earlier work [15], we extensively study one aspect of
IPTV system: channel popularity. In this paper, we model a wider
range of aspects of user activities, and design a workload generator.
Smith [17] analyzed bandwidth demand to support both multicast
and unicast for fast channel change, where channel switching is
modeled as a renewal process. However, the work is not based on
actual traces, and such a study can beneﬁt from our workload model
and trace generator. Whereas our work focuses on IPTV services
running on top of a provider backbone, there are a number of peer-
440to-peer (P2P) based IPTV systems [22, 14] and the measurement
study focusing on P2P IPTV systems [12, 16].
Some researchers have investigated user activity workload in
other context. For example, Costa et al. [9] analyzed user activi-
ties in media streaming applications. Cherkasova et al. [7], Chesire
et al. [8], and Tang et al. [18] built models for the workload of me-
dia streaming service. Yu et al. [21] studied the user activities to
access a Video-on-Demand (VoD) system. Cha et al. [5] explored
how users access videos in the YouTube system. Guo et al. [10]
compared access patterns of different types of media content on
the Internet including Web, P2P, VoD, and live streaming. These
studies are complimentary to our work in that as IPTV providers
offer more interactive video streaming and VoD services, we also
need to consider these aspects in the system design.
7. CONCLUSION
In this paper, we have performed an in-depth analysis on several
intrinsic characteristics of user activities in large IPTV systems, in-
cluding durations for on-, off- and channel-sessions, time-varying
rates of switching-on, switching-off and channel switching events,
and channel popularity. We have also developed a series of practi-
cal mathematical models to capture these characteristics. Further-
more, we construct the ﬁrst IPTV user activity workload genera-
tion tool SIMULWATCH, which can generate synthetic yet realistic
activity traces of a large number of IPTV users. All the derived
models and the implementation of SIMULWATCH have been val-
idated using real traces collected from a large nationwide IPTV
provider in the United States. In particular, we demonstrate that
while not explicitly modeled, the estimation of unicast and multi-
cast trafﬁc demand based on SIMULWATCH trace closely matches
the actual values from the real trace. We believe that SIMULWATCH
will prove useful in many different aspects of IPTV system design
and evaluation.
Our future work includes several extensions to our current
model. We plan to include proper modeling for the use of ad-
vanced features in IPTV, such as PIP and DVR. We also expect
that users’ activities likely change over time as IPTV providers in-
troduce more features. It would be also interesting to analyze such
changes and evaluate the performance impact those new features
impose on IPTV systems.
8. CONCLUSION
In this paper, we have performed an in-depth analysis on several
intrinsic characteristics of user activities in large IPTV systems, in-
cluding durations for on-, off- and channel-sessions, time-varying
rates of switching-on, switching-off and channel switching events,
and channel popularity. We have also developed a series of practi-
cal mathematical models to capture these characteristics. Further-
more, we construct the ﬁrst IPTV user activity workload genera-
tion tool SIMULWATCH, which can generate synthetic yet realistic
activity traces of a large number of IPTV users. All the derived
models and the implementation of SIMULWATCH have been val-
idated using real traces collected from a large nationwide IPTV
provider in the United States. In particular, we demonstrate that
while not explicitly modeled, the estimation of unicast and multi-
cast trafﬁc demand based on SIMULWATCH trace closely matches
the actual values from the real trace. We believe that SIMULWATCH
will prove useful in many different aspects of IPTV system design
and evaluation.
Our future work includes several extensions to our current
model. We plan to include proper modeling for the use of ad-
vanced features in IPTV, such as PIP and DVR. We also expect
[3] Paul Barford and Mark Crovella. Generating representative web
[9] Cristiano P. Costa, Italo S. Cunha, Alex Borges Vieira,
[11] Chris Harrison and Brian Amento. CollaboraTV: Using
[12] Xiaojun Hei, Chao Liang, Jian Liang, Yong Liu, and Keith W. Ross.
that users’ activities likely change over time as IPTV providers in-
troduce more features. It would be also interesting to analyze such
changes and evaluate the performance impact those new features
impose on IPTV systems.
9. REFERENCES
[1] The Nielsen Company. http://www.nielsenmedia.org.
[2] Dakshi Agrawal, Mandis S. Beigi, Chatschik Bisdikian, and
Kang-Won Lee. Planning and Managing the IPTV Service
Deployment. In 10th IFIP/IEEE International Symposium on
Integrated Network Management, pages 353–362, 2007.
workloads for network and server performance evaluation. In
SIGMETRICS, pages 151–160, 1998.
[4] Kathryn Jo-Anne Barger. Mixtures of exponential distributions to
describe the distribution of poisson means in estimating the number
of unobserved classes. Master’s thesis, Cornell University, 2006.
[5] Meeyoung Cha, Haewoon Kwak, Pablo Rodriguez, Yong-Yeol Ahn,
and Sue Moon. I Tube, You Tube, Everybody Tubes: Analyzing the
World’s Largest User Generated Content Video System. In
Proceedings of ACM IMC, 2007.
[6] Meeyoung Cha, Pablo Rodriguez, Jon Crowcroft, Sue Moon, and
Xavier Amatrianin. Watching Television Over an IP Network. In
Proceedings of ACM IMC, 2008.
[7] Ludmila Cherkasova and Minaxi Gupta. Characterizing locality,
evolution, and life span of accesses in enterprise media server
workloads. In NOSSDAV, 2002.
[8] Maureen Chesire, Alec Wolman, Geoffrey M. Voelker, and Henry M.
Levy. Measurement and analysis of a streaming media workload. In
USITS, pages 1–12, 2001.
Claudiney Vander Ramos, Marcus M. Rocha, Jussara M. Almeida,
and Berthier A. Ribeiro-Neto. Analyzing client interactivity in
streaming media. In WWW, 2004.
[10] Lei Guo, Enhua Tan, Songqing Chen, Zhen Xiao, and Xiaodong
Zhang. The stretched exponential distribution of internet media
access patterns. In PODC, pages 283–294, 2008.
Asynchronous Communication to Make TV Social Again. In
EuroITV, 2007.
A measurement study of a large-scale p2p iptv system. IEEE
Transactions on Multimedia, 9(8):1672–1687, 2007.
[13] Nicholas P. Jewell. Mixtures of Exponential Distributions. In
Annuals of Statistics, 1982.
[14] Xiaofei Liao, Hai Jin, Yunhao Liu, Lionel M. Ni, and Dafu Deng.
Anysee: Peer-to-peer live streaming. In INFOCOM, 2006.
[15] Tongqing Qiu, Zihui Ge, Seungjoon Lee, Jia Wang, Qi Zhao, and
Jun (Jim) Xu. Modeling Channel Popularity Dynamics in a Large
IPTV System. In SIGMETRICS, 2009.
Cho. Measuring p2p iptv trafﬁc on both sides of the world. In
CoNEXT, page 39, 2007.
Surﬁng. In INFOCOM, pages 2546–2550, 2007.
Medisyn: a synthetic streaming media service workload generator. In
NOSSDAV ’03, pages 12–21, 2003.
[19] J. Weber and J. Gong. Modeling switched video broadcast services.
In Cable Labs, 2003.
[20] Young J. Won, Mi-Jung Choi, Byung-Chul Park, Hee-Won Lee,
Chan-Kyu Hwang, and Jae-Hyoung Yoo. End-user iptv trafﬁc
measurement of residential broadband access networks. In NOMS
Workshops 2008, 2008.
[21] Hongliang Yu, Dongdong Zheng, Ben Y. Zhao, and Weimin Zheng.
Understanding user behavior in large-scale video-on-demand
systems. In EuroSys, pages 333–344, 2006.
Coolstreaming/donet: a data-driven overlay network for peer-to-peer
live media streaming. In INFOCOM, pages 2102–2111, 2005.
[17] Donald E. Smith. IPTV Bandwidth Demand: Multicast and Channel
[18] Wenting Tang, Yun Fu, Ludmila Cherkasova, and Amin Vahdat.
[16] Thomas Silverston, Olivier Fourmaux, Kavé Salamatian, and Kenjiro
[22] Xinyan Zhang, Jiangchuan Liu, Bo Li, and Tak-Shing Peter Yum.
441