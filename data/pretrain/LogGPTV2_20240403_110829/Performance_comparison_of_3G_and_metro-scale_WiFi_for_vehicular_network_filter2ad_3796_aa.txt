title:Performance comparison of 3G and metro-scale WiFi for vehicular network
access
author:Pralhad Deshpande and
Xiaoxiao Hou and
Samir R. Das
Performance Comparison of 3G and Metro-Scale WiFi for
Vehicular Network Access
Pralhad Deshpande, Xiaoxiao Hou, and Samir R. Das
Computer Science Department, Stony Brook University
Stony Brook, NY 11794, USA
Email: {pralhad, xhou, samir}@cs.stonybrook.edu
ABSTRACT
We perform a head-to-head comparison of the performance
characteristics of a 3G network operated by a nation-wide
provider and a metro-scale WiFi network operated by a com-
mercial ISP, from the perspective of vehicular network ac-
cess. Our experience shows that over a wide geographic
region and under vehicular mobility, these networks exhibit
very diﬀerent throughput and coverage characteristics. WiFi
has frequent disconnections even in a commercially oper-
ated, metro-scale deployment; but when connected, indeed
delivers high throughouts even in a mobile scenario. The 3G
network oﬀers similar or lower throughputs in general, but
provides excellent coverage and less throughput variability.
The two network characteristics are often complementary.
It is conceivable that these properties can be judiciously ex-
ploited for a hybrid network design where 3G data can be
oﬄoaded to WiFi for better performance and to reduce 3G
network congestion and to lower costs.
Categories and Subject Descriptors
C.2.1 [Network Architecture and Design]: Wireless Com-
munications—Vehicular Communications; C.4 [Performance
of Systems]: Measurement techniques.
General Terms
Performance, Measurement, Experimentation.
Keywords
Vehicular Internet Access, WiFi, 3G.
1.
INTRODUCTION
3G cellular data and WiFi are the two wireless broad-
band access technologies widely available today. The two
networks have signiﬁcant diﬀerences. The former uses li-
censed bands and macrocells with large coverage areas. The
base station and associated radio access network setup have
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
IMC’10, November 1–3, 2010, Melbourne, Australia.
Copyright 2010 ACM 978-1-4503-0057-5/10/11 ...$10.00.
signiﬁcant capital and operational costs [25]. On the other
hand, WiFi uses unlicensed spectrum. The access point
(AP) coverage is relatively smaller and typically capital and
operational costs are lower. Also, in comparison to 3G, most
users expect that WiFi access would be free or inexpensive,
and would provide a signiﬁcantly higher bit rate (in the order
of 10s of Mbps). However, they also expect that the cover-
age is available only in the local area, while 3G coverage is
often ubiquitous.
Recent experiences with outdoor and vehicular access with
WiFi [7, 11] have started to blur some of the diﬀerences
between 3G and WiFi. Many metro-scale WiFi deploy-
ments [20] have also succeeded in making WiFi ubiquitous
providing very good coverage in urban spaces. All these now
make it viable to access WiFi in outdoors even in a mobile
scenario at vehicular speeds. This makes us ask this ques-
tion: Can WiFi be used eﬀectively in outdoors and mobile
scenarios to reduce the load on the expensive 3G networks?
Demonstrating technical viability of this will certainly draw
interest in developing networking protocols and applications
that eventually lead to more eﬃcient and cost eﬀective wire-
less broadband access. We note that using WiFi to reduce
the load on 3G networks is not new, and has been promoted
by both networking [10, 27, 4] and policy researchers [16, 13].
Also, some carriers are known to incentivize such switching
(e.g., TMobile @Home) to reduce load on their cellular net-
works. However, in spite of the general interest, systematic
head-to-head comparisons of commercially operated metro-
scale WiFi and 3G networks are still missing (except [4]
where mostly open WiFi APs in the wild have been used).
Our paper makes the following contributions.
1. Provide an in-depth evaluation of WiFi access with ve-
hicular mobility using a commercially operated metro-
scale WiFi network. This is in contrast to prior studies
that only considered open APs in the wild [11, 7, 4] or
a limited WiFi deployment [12, 5, 9].
2. Provide a head-to-head comparison of WiFi and 3G
access under vehicular mobility. This lays down the
salient features of the two access networks and provide
pointers as to how future hybrid network access could
be designed by exploiting the better properties of the
two networks.
The rest of the paper is organized as follows. In Section 2,
we describe the related work. In Section 3, we describe the
measurement setup including the networks considered, the
testbed and the driving scenarios. The analysis of the mea-
301surement results are presented in Section 4. We conclude in
Section 5.
2. RELATED WORK
2.1 Vehicular WiFi Access
Several experimental studies have explored the potential
of using intermittently available WiFi connectivity from mov-
ing vehicles for data transfers. In the Drive-thru Internet
project [23, 24] controlled experiments are done with a single
car driving past a single access point to measure range and
connectivity in an intermittent network. More recently, the
CarTel project [7] has focused on upload performance while
using open APs in the wild. In the ViFi project [5] the link
layer performance is improved by exploiting macrodiversity
(using multiple APs simultaneously), and opportunistic re-
ceptions by nearby APs. By the nature of the work, both
CarTel and ViFi focus on upload.
Downloads and intermittent connectivity have been stud-
ied in a vehicular environment in a ﬂeet of taxis in the Caber-
net project [11] with an improved handoﬀ scheme and a new
transport protocol. In our prior work in this space [9], we
also have focused on downloads. The emphasis there has
been predictive methods for improving handoﬀs and use of
prefetching in the APs for better download performance.
Improving handoﬀs with vehicular mobility has been an
important area of research. Other than our work in [9],
optimized handoﬀs techniques have also been developed and
evaluated in the Cabernet project [11] and also in [12]. One
or more of these strategies can nicely complement our work.
Applications that require maintaining a session face prob-
lems in vehicular WiFi access because of intermittent con-
nectivity. Some papers address this issue by creating a trans-
port layer protocol that maintains sessions transparently to
changing IP addresses [11, 24].
Several other papers focus on sundry issues on vehicular
WiFi access. For example, link and transport layer problems
are examined in detail in [14]. Web applications are exam-
ined in presence of intermittent connectivity in [6]. Link
layer measurements are reported in [18]. Use of directional
antenna for better connectivity has been explored in [21].
2.2 Characterizing 3G Access
There has been less excitement about characterizing 3G
access in mobile or stationary environment. This is likely
because the 3G network is a closed system and under tight
operator control. Thus, much of the work is measurement-
based.
The important works in this space include cross-layer mea-
surement study to evaluate TCP performance over 1xRTT
networks in [19] and over EVDO networks in [15], capacity
evaluation of UMTS networks in [26]. Mobile experiments
are done in EVDO networks characterizing cross-layer as-
pects with TCP in [17]. Bandwidth predictability is evalu-
ated for HSDPA networks in [28]. A measurement system
for city-wide measurement of WiFi and EVDO networks was
developed in [22].
2.3 Augmenting Mobile 3G using WiFi
A recent paper [4] has addressed the issue of augmenting
mobile 3G by oﬄoading data on WiFi whenever possible.
However they mostly use open APs in the wild (more than
70% of times) and hence the median WiFi throughput num-
bers reported are much lower (about half) than in our 500
mile long drive case. Our work analyzes the performance of
a single commercially operated WiFi network.
3. MEASUREMENT SETUP
3.1 Network
For our study we use a metro-scale WiFi deployment in
the Long Island area in New York (population roughly 7 mil-
lion). This service is called ‘Optimum WiFi’ [2] and is pro-
vided by Cablevision, a local cable TV provider and ISP.
The WiFi network extends to most of populous areas of
Long Island where our study is conducted. It also extends
to parts of New York City, Pennsylvania, Connecticut and
New Jersey, where Cablevision has service. The entire net-
work has roughly 18,000 APs. WiFi access is provided free
to all subscribers of Cablevision’s TV or Internet services.
We note that there are several hundreds of such metro-scale
WiFi deployments in USA alone [20] While we expect that
our general observations will be repeatable in another metro
area deployment, we do note that more speciﬁc quantitative
observations could be strongly tied to deployment density,
radio characteristics of the APs and any handoﬀ control on
the APs.
For 3G access, we use Verizon’s EVDO Rev. A service
using the USB760 USB-based air interface available from
Verizon. EVDO Rev. A service is capable of a maximum bit
rate of 3 Mbps. Verizon’s website [1] claims a maximum of
1.5 Mbps TCP throughout. In our experience we occasion-
ally got a higher TCP throughput (about 2 Mbps).
3.2 Testbed
We use a Dell Latitude laptop running Linux as the client
machine to be carried in the car. The original miniPCI
WiFi interface from the laptop is removed and replaced by
a carrier-grade interface (Ubiquity XR2 [3]) with transmit
power set to 25 dBm. The interface uses Atheros chipset
supported by the latest madwiﬁ driver that we used. The
WiFi card is connected to a high-gain (12 dBi) omni-directional
antenna. We experimented with various other antennas (5
and 7 dBi) and transmit power choices (within FCC limits).
However, the 12 dBi antenna provided the best connectiv-
ity. Note that due to the high gain, the beamwidth for this
antenna on the vertical plane is relatively small (about 9
).
Thus, assuming that the APs are deployed at the height of
poletops, this antenna is likely to connect better to a distant
AP relative to a very close AP. This is because the distant
AP is much closer to the horizon relative to the car. The
antenna is long – about 4ft. The antenna is carried inside
the car with its top part sticking out from the sunroof.
◦
The laptop also carries Verizon’s USB-based USB760 EVDO
Rev. A Modem as the second network interface. A USB-
based Garmin GPS receiver is connected to the logging lap-
top. At startup the GPS receiver is initialized and the GPS
location is logged every second.
A server program runs on a lab machine with a public
IP address. The server accepts incoming connections from
the WiFi/3G networks and transmits 1500 byte packets con-
tinuously to the client over TCP. as selected by the client.
This enables download throughput tests to be reported in
the next section.
302Figure 1: Map of the middle of Long Island – the
area used in the long drive experiments. The route
is shown in red. Approximate WiFi coverages are
shown (from [2]).
Figure 2: Map of the road stretch used for short
repeated driving experiments (part of Route 25),
along with the route shown in red. Approximate
WiFi coverages are shown (from [2]).
We set the WiFi card’s AP selection mode to automatic,
i.e. the madwiﬁ driver decides on the best AP to connect to.
Auto rate control is disabled and a ﬁxed bit rate of 11 Mbps
is used. This is based on the observations in [11]. A few
empirical tests indeed veriﬁed that this was the best policy
in our setup.
DHCP is used to obtain the IP address. The Optimum
WiFi network allows clients to retain the IP address be-
tween associations; thus DHCP delay is incurred only once
at the beginning. This also allows us to retain the same TCP
socket across associations. Optimum WiFi uses a browser-
based authentication for the initial network access. This is
done manually. Again this step is needed only once. Au-
thentication is retained across associations.
Finally, a word about TCP. While using the stock TCP
implementation on Linux we faced problems during our ini-
tial experiments when the WiFi link loses association for
more than a few seconds. This sometimes makes the re-
transmission timeout really long (the timeout doubles at ev-
ery step). This is a well-known issue for TCP in a mobile
environment [8]. To tackle this problem, we simply set the
maximum retransmission timer value on the server side TCP
to 1 sec. We do note that this is not a general solution and
more sophisticated client-side approaches are possible. How-
ever for the scope of this measurement study this solution
worked reasonably well.
3.3 Driving Scenarios
Two driving scenarios are used for our evaluations.
• Long Drive: This is approximately a 500 miles drive
shown in Figure 1 driven in a continuous fashion (close
to 5 hours). The vehicle speed varied over a wide range
depending on the road traﬃc. Each road is driven in
both direction as the APs and their signal strengths
visible from one side of the road are likely to be dif-
ferent from the other side of the road. This drive was
performed only once. This long drive provides a rea-
sonable sample of the quality of WiFi access from mov-
ing vehicles in a metro-scale deployment scenario. The
association records for the long drive show over 900
unique APs.
• Short Repeated Drives: This is approximately a 9 mile