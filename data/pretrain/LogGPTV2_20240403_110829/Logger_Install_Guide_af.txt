To view the processes that can be started, stopped, or restarted with loggerd, click System Admin fromthe top-level menu bar. Then, under System, pick Process Status. The processes are listed on the right 
under Processes.
The following table describes the subcommands available with loggerd and their purpose.
Command 	Purpose
loggerd start 	Start all processes listed under the System and Process sections in the figure above. Use 
this command to launch Logger.this command to launch Logger.
loggerd stop 	Stop processes listed under the Process section only. Use this command when you want 
to leave loggerd running but all other processes stopped.
loggerd restart 	This command restarts processes listed under the Process section only.
Note: When the loggerd restart command is used to restart Logger, the status 
message for the “aps” process displays this message:Process ‘aps’ Execution failed 
After a few seconds, the message changes to:
Process ‘aps’ running
loggerd status 	Display the status of all processes.
loggerd quit 	Stops all processes listed under the System and Process sections in the figure above. Use 
this command to stop Logger.
loggerd start 	Start the named process. For example, loggerd start apache.
loggerd stop 	Stop the named process. For example, loggerd stop apache.
loggerd restart 	Restart the named process. For example, loggerd restart apache
You can also start and stop and view the status of Logger processes from the System Admin > System > 
Process Status page. Refer to the Logger Administrator’s guide or online help for more information.Micro Focus Logger (7.0.1) 	Page 48 of 74
Installation and Configuration Guide
Uninstalling Logger
To uninstall the Logger software, simply delete the VM. Alternatively, you can uninstall the software Logger from the VM.
If you will be uninstalling the Software Logger over an SSH connection and want to use GUI mode, make sure that you have enabled X window forwarding using the -X option, so that you can view the screens of the uninstall wizard. If you will be using PuTTY, you will also need an X client on the machine from which you are connecting to the Linux machine.Before uninstalling Logger, stop and then quit the Logger processes by using the loggerd stop and loggerd quit commands, as described in Using Software Logger Command Line Options
To uninstall the Logger software:
1. Enter this command in the installation directory:
./UninstallerData/Uninstall_ArcSight_Logger_7.0.1
The uninstall wizard launches. 
2. Click Uninstall or press Enter to start uninstalling Logger.Micro Focus Logger (7.0.1) 	Page 49 of 74
Chapter 6: Configuring Logger
This chapter includes basic deployment and configuration information on the following topics. It is applicable to all Logger types. If you have installed multiple Loggers, you must connect to each and configure it separately or use ArcSight Management Center to make bulk configuration changes.For more information on directly configuring and administering your Logger, refer to the Logger Administrator’s Guide. For more information on configuring and administering your Logger using ArcSight Management Center, refer to the ArcSight Management Center Administrator’s Guide. For more 
information on setting Connectors, refer to the documentation for each Connector.
Receiving Events and LogsReceiving Events and Logs
Logger comes preconfigured with several receivers that are ready to receive events and log files directly from devices and systems on your network, such as syslog servers, NFS, CIFS, or SAN systems. 
Note: In order to retrieve logs correctly and prevent rotation, Software Logger requires 2 Linux OS 
pre-installed packages: zip and unzip.Logger can also receive events from ArcSight SmartConnectors that collect event data from sources on your network. A subset of ArcSight SmartConnectors is supported for Trial Logger and available for download from the same location from which you downloaded Logger. The Configuration Guides for the supported SmartConnectors are included and available at the same web site. To learn more about ArcSightSmartConnectors, visit .
Receivers
Now that you have finished installing Logger, you can set up receivers to listen for events. Logger comes preconfigured with several receivers that are ready to receive events and log files directly from devices and systems on your network, such as syslog servers, NFS, CIFS, or SAN systems. You can use the preconfigured receivers or add your own. Receivers can be disabled and re-enabled later. You can add, change, and delete them as needed.The preconfigured receivers include a TCP receiver, a UDP Receiver, and a SmartMessage receiver already enabled and ready to receive events. Logger also comes preconfigured with folder follower receivers for Logger’s Apache Access Error Log, the system Messages Log, and the system Messages Audit Log (if auditing is enabled on your Linux OS).To receive data, a receiver's ports must be allowed through any firewall rules. See "Firewall Rules" on page15 for more information.  You must enable these receivers in order to use them. See "Enabling the Preconfigured Folder Follower Receivers" on the next page for instructions. 
Micro Focus Logger (7.0.1) 	Page 50 of 74
Installation and Configuration GuideInstallation and Configuration Guide
The preconfigured receivers are described more detail in "Receivers" on page13. For further information on receivers, refer to the Configuration chapter of the Logger Administrator’s Guide.
Logger can also receive events from ArcSight SmartConnectors that collect event data from sources on your network. To learn more about ArcSight SmartConnectors, visit .Enabling the Preconfigured Folder Follower Receivers
The preconfigured receivers are described more detail in "Receivers" on page13. For further information on receivers, refer to the Configuration chapter of the Logger Administrator’s Guide.
When you first log in by using the URL you configured, the preconfigured folder follower receivers are 
disabled. . Click  under Home page to open the Receivers page and enable the receivers.Tip: Before enabling these receivers, you must make /var/log/audit/audit.log and 
/var/log/messages readable by the non-root user you installed with or specified during Logger 
installation.
Micro Focus Logger (7.0.1) Page 51 of 74
Installation and Configuration Guide
To enable a receiver, click the disabled icon () at the end of the row.
Alternately, you can navigate to the Receivers page from the menu to enable the receivers.To open the Receivers page from the menu and enable a receiver:
1. Open the Configuration > Data menu and click Receivers.
2. Identify the receiver you want to enable, and click the disabled icon () at the end of that row.
For information on how to use the pre-configured SmartMessage receiver, see "Using SmartConnectors to 
Collect Events" on page54.
Micro Focus Logger (7.0.1) 	Page 52 of 74Installation and Configuration Guide
Configuring New Receivers
In addition to the out-of-box receivers, you can configure other receivers to meet your needs. Receiver types include UDP, TCP, SmartMessage, and three types of file follower, File Transfer, File Receiver, and Folder Follower Receiver. 
You can configure the following types of receiver for Logger:l UDP Receiver: UDP receivers listen for User Datagram Protocol messages on the port you specify. The 	pre-installed UDP receiver is enabled by default.
l CEF UDP Receiver: UDP receivers that receive events in Common Event Format.
l TCP Receiver: TCP receivers listen for Transmission Control Protocol messages on the port you specify. 	The pre-installed TCP receiver is enabled by default.l CEF TCP Receiver: TCP receivers that receive events in Common Event Format.
l File Receiver: Depending on the type of Logger, file receivers read log files from a local file system, Network File System (NFS), Common Internet File System (CIFS), or Storage Area Network (SAN). File receivers read single or multi-line log files. They provide a snapshot of a log file at a single point in time.l Folder Follower Receiver: Folder follower receivers actively read the log files in a specified directory as they are updated. If the source directory contains different types of log files, you can create a receiver for each type of file that you want to monitor. To start using the pre-installed folder follower receivers you must enable them.l File Transfer: File Transfer receivers read remote log files using Secure Copy Protocol (SCP), Secure file transfer protocol (SFTP), or File Transfer Protocol (FTP) protocol. These receivers can read single- or multi-line log files. You can schedule the receiver to read a file or batch of files periodically. 
Caution: The SCP and SFTP protocols on Logger appliances are not FIPS compliant.Note: The SCP, SFTP, and FTP file transfer receivers depend on the FTP, SCP,  and SFTP  clients 
installed on your system. 
l SmartMessage Receiver: SmartMessage receivers listen for encrypted messages from ArcSight SmartConnectors. To start using the pre-installed receiver, you must configure a SmartConnector to send events to it. For instructions, see "Configuring a SmartConnector to Send Events to Logger" on the next page.Sending Structured Data to Logger
Although Logger is message-agnostic, it can do more with messages that adhere to the Common Event Format (CEF), an industry standard for the interoperability of event- or log-generating devices. Events in Common Event Format (CEF) have more columns defined, making the data more useful. 
Micro Focus Logger (7.0.1) 	Page 53 of 74
Installation and Configuration GuideInstallation and Configuration Guide
Logger can receive structured data in the form of normalized CEF events from ArcSight SmartConnectors, as shown in the illustration in "How Logger Works" on page8. 
For more information about the Common Event Format (CEF), refer to Implementing ArcSight CEF. For a downloadable a copy of this guide, search for “ArcSight Common Event Format (CEF) Guide” in .Using SmartConnectors to Collect Events
Similar to ArcSight Manager, Logger leverages the ArcSight SmartConnectors to collect events. 
SmartConnectors can read security events from heterogeneous devices on a network (such as firewalls and servers) and filter events of interest (and optionally aggregate them) and send them to a Logger receiver. Logger can receive structured data in the form of normalized Common Event Format (CEF) events from the SmartConnectors.This section gives basic information on each of these topics. For details, refer to the documentation for that Connector and the SmartConnector User's Guide, available at the  .
SmartMessage
SmartMessage is an Micro Focus ArcSight technology that provides an efficient secure channel for Common Event Format (CEF) events between ArcSight SmartConnectors and Logger.SmartMessage provides an end-to-end encrypted secure channel using Transport Layer Security (TLS). One end is an ArcSight SmartConnector, receiving events from the many devices supported by ArcSight SmartConnectors. The other end is a SmartMessage receiver on Logger.
Note: The SmartMessage secure channel uses TLS protocol to send encrypted events to Logger. Thisis similar to, but different from, the encrypted binary protocol used between SmartConnectors and 
ArcSight Manager.
Configuring a SmartConnector to Send Events to Logger
Logger comes pre-configured with a SmartMessage Receiver. To  receive events from a SmartConnector, you must configure the SmartConnector as described below. You can also create new SmartMessage receivers and configure the SmartConnectors with these newly created receivers. When configuring a SmartConnector, be sure to specify the correct receiver name.To configure a SmartConnector to send events to Logger:
1. Install the SmartConnector component using the SmartConnector User’s Guide as a reference. Specify 	Logger as the destination instead of ArcSight ESM or a CEF file. 
| Note: Refer to the documentation that came with your SmartConnector for instructions. | Note: Refer to the documentation that came with your SmartConnector for instructions. ||---|---|
|  | |
| Micro Focus Logger (7.0.1) |Page 54 of 74 |
Installation and Configuration Guide
2. Specify the required parameters. Enter the Logger hostname or IP address and the name of the SmartMessage receiver. These settings must match the receiver in Logger that listen for events from this connector.
l To use the pre-configured receiver, specify “SmartMessage Receiver” as the Receiver Name.l To use SmartMessage to communicate between an ArcSight SmartConnector and aLogger 	Appliance, configure the SmartConnector to use port 443/tcp. 
l To communicate between an ArcSight SmartConnector and Software Logger, configure the 	SmartConnector to use the port configured for the Software Logger.
l For unencrypted CEF syslog, enter the Logger hostname or IP address, the desired port, and choose 	UDP or TCP output.Configuring SmartConnectors to Send Events to Both Logger and an ArcSight Manager
You can configure a SmartConnector to send CEF syslog output to Logger and send events to an ArcSight Manager at the same time.
For more information about the Common Event Format (CEF), refer to Implementing ArcSight CEF. For a downloadable a copy of this guide, search for “ArcSight Common Event Format (CEF) Guide” on the1. Install the SmartConnector normally. Register the SmartConnector with a running ArcSight Manager 	and test that the SmartConnector is up and running.
2. Start the SmartConnector configuration program again using the $ARCSIGHT_ 	HOME/current/bin/runagentsetup script (or arcsight agentsetup -w).
3. Select I want to add/remove/modify ArcSight Manager destinations, then choose Add new 	destination.4. ChooseLogger and specify the requested parameters. Restart the SmartConnector for changes to 	take effect.
Configuring SmartConnectors for Failover Destinations
SmartConnectors can be configured to send events to a secondary failover destination when a primary connection fails.
To configure a failover destination, follow these steps:1. Configure the SmartConnector for the primary Logger as described above. The transport must be raw 	TCP in order to detect the transmission errors that trigger failover.
2. Edit the agent.properties file in the directory $ARCSIGHT_HOME/current/user/agent, 	where $ARCSIGHT_HOME is the root directory where the SmartConnector component was installed. 
Micro Focus Logger (7.0.1) 	Page 55 of 74Installation and Configuration Guide
a. Add this property: transport.types=http,file,cefsyslog
b. Delete this property: transport.default.type
3. Start the SmartConnector configuration program again using the $ARCSIGHT_ 	HOME/current/bin/runagentsetup script (or arcsight agentsetup -w).
4. Choose I want to add/remove/modify and, with the primary Logger selected, choose Modify. Then 	select Add failover destination.5. Enter information for the secondary Logger.
6. Restart the SmartConnector for the changes to take effect.
7. For more information about installing and configuring ArcSight SmartConnectors, refer to the ArcSight SmartConnector User's Guide, or specific SmartConnector Configuration Guides, available from the .
Downloading SmartConnectorsDownloading SmartConnectors 
Contact your Micro FocusArcSight sales representative or customer support for the location to download the supported SmartConnectors. To learn more about ArcSight SmartConnectors, visit .
DevicesDevices
Logger begins storing events when an enabled receiver receives data or, in the case of a file receivers, when the files become available. Using a process called autodiscovery, Logger automatically creates resources called devices to keep track of source IP addresses and uses DNS to map them to hostnames. Eventually, a device is created for each device from which Logger received events.You can also create devices preemptively, by entering the IP addresses or hostnames of data sources that you expect to be sending events to Logger. You might do this if you do not want to wait for autodiscovery, or if you want to control the initial naming of each device. Discovered devices are named for their host, or if the DNS lookup fails, for their IP address, and their receiver. For information about creating devices, see the .Device Groups
Device groups are containers or logical groupings for devices, in the same way folders (or directories) contain files. They are a name for a group of devices. A given device can be a member of several device groups. Each device group can be associated with particular storage group, which would assign a retention policy.You can change and delete device groups freely as your needs change. Setting up device groups initially is not critical; incoming events that are not assigned to a device group are automatically sent to the Default Storage Group. For the details of setting up device groups, see the .
Micro Focus Logger (7.0.1) 	Page 56 of 74
Installation and Configuration Guide
Storage RulesStorage Rules
Events are stored in the Default Storage Group unless otherwise specified. Storage rules are a way to direct events from certain device groups to certain storage groups. You can use them to implement additional retention policies.
If you want to implement multiple retention policies, you can create storage rules that associate the specific device groups with the storage groups that implement the desired retention policy.For example, you could create one device group for each retention policy. However, for more control, you could associate device groups with storage groups and storage rules and use them to categorize events. 
Storage rules are evaluated in order of priority; the first matching rule determines  where the event is sent. This approach means that a single device can belong to several device groups without ambiguity about which storage group it will end up in.For more information, see . 
Sending Events from ArcSight ESM to Logger
The ArcSight Forwarding SmartConnector can read events from an ArcSight Manager and forward them to Logger as CEF-formatted syslog messages.
Note: The Forwarding SmartConnector is a separate installable file, named similar to  these:
ArcSight-x.x.x..x-SuperConnector-.exe
ArcSight-x.x.x..x-SuperConnector-.binUse build 4810 or later for compatibility with Logger.
To configure the ArcSight Forwarding SmartConnector to send events to Logger:
1. Install the SmartConnector component normally, but cancel the installation when the SmartConnector 	Wizard asks whether the target Manager uses a demo certificate.
When the first screen of the SmartConnector Configuration Wizard appears, asking about a demo certificate, click Cancel.2. Confirm that you want to exit, then click Done to dismiss the Install Wizard. This will install the 	SmartConnector, but leave it un-configured.
3. Create a file called agent.properties in the directory $ARCSIGHT_HOME/current/user/agent, 	where $ARCSIGHT_HOME is the root directory where the SmartConnector component was installed. 
This file should contain a single line:
transport.default.type=cefsyslogtransport.default.type=cefsyslog
Micro Focus Logger (7.0.1) 	Page 57 of 74
Installation and Configuration Guide
4. Start the SmartConnector configuration program again using the $ARCSIGHT_
HOME/current/bin/runagentsetup script (or arcsight agentsetup -w).
5. Specify the required parameters for CEF output. Enter the desired port for UDP or TCP output. Thesesettings will need to match the receiver you create in Logger to listen for events from ArcSight ESM.
Parameter 	Description
IP/Host 	IP or host name of the Logger
Port 	514 or another port that matches the receiver
Protocol 	UDP or Raw TCP
ArcSight Source Manager Host Name 	IP or host name of the source ArcSight Manager
ArcSight Source Manager Port 	8443 (default)ArcSight Source Manager User Name ArcSight Source Manager Password
A user account on the source Manager with sufficient privileges to read events Password for the specified Manager user account
SmartConnector Name 	A name for the ESM to Logger connector (visible in the Manager)
SmartConnector Location 	Notation of where this connector is installed
Device Location 	Notation of where the source Manager is installedComment 	Optional comments
To configure the Forwarding SmartConnector to send CEF output to Logger and send events to another 
ArcSight Manager at the same time, see "Configuring SmartConnectors to Send Events to Both Logger and 
an ArcSight Manager" on page55.
For more information about the Common Event Format (CEF), refer to Implementing ArcSight CEF. For adownloadable copy of this guide, search for “ArcSight Common Event Format (CEF) Guide” in the 
.
Micro Focus Logger (7.0.1) 	Page 58 of 74
Chapter 7: Alerts
You can configure your Logger to alert you by e-mail, an SNMP trap, or a Syslog message when a new event that matches a specific query is received or when a specified number of matches occur within a given time threshold.You can also view the alerts through the Alert sub-menu pull down under the Analyze tab. When an alert is triggered, Logger creates an alert event and sends a notification to the destinations you configured previously. 
Types of Alerts
Logger provides two types of alerts:
l Real time alerts
l Saved Search Alerts
The following table compares the two types of alerts. 
Real Time Alerts 	Saved Search AlertsReal Time Alerts 	Saved Search Alerts
No limit on the number of alerts that can be defined. A maximum of 25 alerts can be enabled at any time.
No limit on the number of configured e-mail destinations; 
however, you can only set one SNMP, one Syslog, and one ESM 
Any number of alerts can be defined. All defined alerts are enabled and effective; however, a maximum of 50 alerts can run concurrently.No limit on the number of configured e-mail destinations; 
however, you can only set one SNMP, one Syslog, and one ESM 
destination. 	destination.
Alerts are triggered in real time. That is, when specified number of matches occurs within the specified threshold, an alert is immediately triggered. 
Only regular expression queries can be specified for theseThese alerts are triggered at scheduled intervals. That is, when a specified number of matches occurs within the specified threshold, an alert is triggered at the next scheduled time interval.
Queries for these alerts are defined using the flow-based search 
alerts. 	language that allows you to specify multiple search commands 	in a pipeline format, including regular expressions. Aggregation 	operators such as chart and top cannot be included in the 	search query.To define a real time alert, you specify a query, match count, threshold, and one or more destinations.
A time range is not associated with the queries defined for these alerts. Therefore, whenever the specified number of matches occurs within the specified threshold, an alert is 
To define a Saved Search Alert, you specify a Saved Search (which is a query with a time range), match count, threshold, and one or more destinations.A time range (within which events should be searched) is specified for the query associated with these alerts. Therefore, 
triggered. 	specified number of matches within the specified threshold (in 
Micro Focus Logger (7.0.1) 	Page 59 of 74