    在抓取到足够多的iv包后，进行密码破解：
    这里我们使用命令aircrack-ng wep-01.ivs，也就是使用aircrack-ng这个工具对抓取到的ivs包进行破解，下面会提示需要输入一个编号用于指定破解目标，通过观察我们目标的target无线网络编号为3，这里我们输入3（可以看到IVs包有95876个，足够用于破解，抓取到很多无线网络的数据包的原因在前面说过，这些网络都是工作在信道1上的网络，抓取时同信道信号均可抓取）。
       输入编号3执行后，工具即可破解，如下图所示：
    绿色标注的部分，就是破解出来的WEP密码1234567890123，工具自动进行的解密校验提示正确率是100%，WEP加密的密码至此成功破解出来。
       下面我们使用Fern WIFI Cracker进行演示，首先打开工具：
    第一栏选择无线网卡wlan0，如果不显示可以点击右侧refresh按钮。选择好后点击下面的“Scan for access point”按钮，稍等片刻，待扫描网络充分后，选择WEP加密的WiFi按钮，进入如下界面：
    选中我们的目标WiFi信号，右侧打勾选项，点击Attack按钮开始攻击。此时软件自动进行抓取ivs包，自动进行ARP REQUEST攻击激发流量。在等待足够长的时间后，密码可以自动进行破解。
WiFi密码的数据包抓取，受限于无线路由器和无线网卡的质量、距离、障碍、信号强度等多种因素，所以破解未必能一次成功，破解需要足够的耐心、更好的信号质量。WEP的密码破解就讲到这里，作为了解即可，现在很难找到WEP加密的无线网络了，甚至部分无线路由器已经默认不支持WEP加密了。  
2.WPA2-PSK密码破解  
首先简单讲解一下WPA/WPA2和WPA-PSK/WPA2-PSK的区别。  
WPA/WPA2是一种比WEP强壮的加密算法，挑选这种安全类型时路由器将选用Radius服务器进行身份认证并得到密钥。因为要架起一台专用的认证服务器，成本相对较高并且维护也很繁琐，所以不推荐普通用户运用此安全类型。  
WPA-PSK/WPA2-PSK安全类型其实是WPA/WPA2的一种简化版别，它是依据同享密钥的WPA形式，安全性很高，设置也对比简单，合适普通家庭用户和小型企业运用，目前家用路由器基本都是这种加密。其包含如下几种选项：  
认证类型： 该项用来选择体系选用的安全形式，即自动、WPA-PSK、WPA2-PSK。若挑选自动选项，路由器会依据主机请求自动挑选WPA-PSK或WPA2-PSK安全形式。  
加密算法：
该项用来挑选对无线数据进行加密的安全算法，选项有自动、TKIP、AES。默许选项为自动，选择该项后，路由器将自动挑选TKIP或AES加密办法。这里需要注意802.11n版本不支持TKIP算法。  
PSK密码： 该项就是WPA-PSK/WPA2-PSK的初始密钥了，在设置时，需求为8-63个ASCII字符或8-64个十六进制字符，这里也可以理解为设置的无线网密码。  
组密钥更新周期：该项设置播送和组播密钥的定时更新周期。  
下面的路由器设置界面截图，大家可以清晰的看到相关选项：
    下面讲解一下WPA2-PSK方式加密的无线网络密码破解过程，主要使用Aircrack-ng工具套件和基于windows的解包工具EWSA进行密码破解。
       在破解开始之前，和破解WEP加密时一样，在Kali Linux系统中首先把无线网卡加载激活成功，设置为监听状态，这里不再重复说明方法，请自行参考前文的设置操作。监听模式设置完成后，使用airodump-ng wlan0mon探测附近无线网络的信号，如下图所示：
    图中标绿的部分就是我们要破解的目标，SSID名称设置为target，使用WPA2-PSK加密，工作信道11，MAC地址末位F8:06，信号强度-40，说明信号还是很不错的。这里重点需要关注的是工作信道，这里是11。把这个终端窗口留存在这里作为监视使用，不要关闭，新建一个终端窗口出来，作为抓包使用。这里的抓包命令为：
      airodump-ng –c 11 –w wpa2 wlan0mon
      简单解释一下，-c 11指设置抓包信道为11信道，-w wp2为抓包后保存的数据包文件以wpa2命名。这里再次强调一下，和WEP抓包破解不同，WPA2抓取的是无线终端和无线路由器建立连接时（注意，是“建立”连接时）的包含有连接密码的握手包，这个问题在之前的文章中讲解连接原理时说过，请自行翻阅即可。WEP抓包破解追求ivs数据包的数量较大，WPA2-PSK抓包破解追求的是抓取到的握手包里面含有有效的连接密钥。这个区别很重，需要认真理解并且记住。执行此条命令后，终端显示如下：
    图中标绿的部分就是设置的目标无线路由器，MAC地址末位为F8:06，此时说明无线网卡在监听模式下能够正常识别并等待抓取握手包。在下方的显示部分中，并没有观察到有终端，也就是STATION处，有合法终端已经连接到目标路由器上，有些读者可能会觉得这很不利，但恰恰相反，此时是比较有利的情况。破解WEP时希望已连终端越多越好，流量越大越好，但在破解WPA2-PSK时，“建立“与无线路由器的连接过程次数越多，无线网卡抓取到包含有效密钥的验证连接数据包成功率也就越高。理想情况下，有终端不断的断开、连接目标无线路由器，这种情况最容易抓取握手包。
        抓包的区别明确了破解需要的耐心程度。一般来说有较大流量的情况下WEP的破解还是很轻松的，而WPA2-PSK的抓取方式则是等待有终端能够以较好的信号状态连接目标无线路由器，并且我们的无线网卡稳定抓取到一个包含有密钥的有效数据包才能够进行下一步的破解工作。未连接的终端设备主动连接目标路由器，抓包等待的过程类似守株待兔，我们需要较好的信号条件和运气，才能够一次抓取到包含密钥的握手包。如果一次抓取没有成功，目标路由器已经连接了无线终端，并且不会有新的无线终端再去连接目标路由器时，也不用担心，可以通过利用工具主动将已连终端“踢“下线，在终端自动重连目标路由器时，抓取握手包，并且这个”踢“下线再重连的过程是可以重复进行的。
        这里需要特别说明一下，抓取握手包是工具配合网卡联合工作的一项过程，这个过程受限于信号强度等问题，可能工具会提示抓取成功握手包，但破解软件却判断出所抓取的握手包中并没有包含密钥，也就是无效握手包。这种情况还是很正常的，对于WPA2-PSK的无线网络密码破解，依据笔者的经验，在抓包这个过程中，一半靠工具及无线网卡，一半靠运气。
        将已连接无线终端“踢“下线的过程，实际上是利用无线网卡发送特定的数据包进行的，这个攻击过程称为发起DeAuth攻击。发起攻击的工具是Aircrack-ng套件中的aireplay-ng，这个工具在WEP破解时使用过，用作发起ARP REQUEST攻击。这里我们需要更改工具的运行模式参数，命令如下图所示：
    参数基本为aireplay-ng –0 5 –a APMAC –c clientMAC wlan0mon，这里重点解释一下参数。-0是发起DeAuth攻击的设定参数，后面5是设置的攻击次数。也就是说，执行一次这条命令，工具会自动发起5次DeAuth攻击。攻击次数的参数建议大家根据经验和实际情况适当的调整，一般来说5次应该是差不多的，只要能保证把目标路由器终端“踢“下线即可。-a后面跟上目标无线路由器的MAC地址，-c后面跟上目标无线终端的MAC地址，这也就是指定了目标无线路由器和目标终端，发起的攻击只会针对这样特定的连接进行，并不影响周围其他终端和无线路由器的正常使用。
        重点提醒：鉴于无线网络的不确定性，执行命令发起攻击时，一定要在我们之前预留的监视终端窗口中观察，目标无线终端一定要已连接时攻击才有效。
上图中展示了在发起攻击时可能出现的提示，这和破解WEP时一样，可能由于信道未同步的问题造成攻击失效，在此，攻击命令也是需要多次执行多次尝试，待到工作信道同步的时候发起攻击，才能够有效。命令成功执行发起攻击的结果如下图所示：
    图中可以看到，无线网卡成功发起了5次DeAuth攻击，但此刻可能会发现，目标无线终端并没有被“踢“下线，依然保持了连接状态。这就说明攻击失效，未能达到目的。这里的原因也很多，主要还是由于无线连接的不稳定性造成的。这里需要大家进行多次尝试，攻击以抓取到有效的握手包为止，这个过程可能持续数次甚至数十次。在破解过程最初的终端窗口中，也就是airodump-ng wlan0mon的那个终端窗口中，抓取握手包成功的提示会出现在顶部位置，如下图：
    图中标绿的部分，就是提示成功抓取到了握手包WPA handshake，但是特别提醒，这个数据表并不一定是包含了SSID和密钥的有效包，还是需要验证的！！！如果验证无效，前文的破解过程就需要再来一遍。这里抓取成功的握手包会在Home下：