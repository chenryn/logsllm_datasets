### Churn Growth in Relation to Topology Size

**Figure 11: Churn growth in relation to topology size in IPv4 (top) and IPv6 (bottom).** BGP churn, both in IPv4 and IPv6, grows linearly with the number of ASes. The data from the Oregon-IX collector exhibits similar behavior. We hypothesize that the anomalies observed in the AT&T and NTT monitors are due to non-stationary periods. This hypothesis is confirmed by filtering out noise from the AT&T time series, as described in [26], and plotting the filtered data as AT&T* in Figure 11 (top panel). Similar to other monitors, this filtered AT&T* time series shows a stable ratio of 5 updates per origin AS.

To summarize, while previous studies have highlighted qualitatively different growth trajectories for IPv4 and IPv6 churn, our findings show that churn in both protocols grows at the same rate as the underlying topology. Understanding the evolution of update dynamics requires more than just temporal analysis; it also necessitates considering the evolution of the underlying topology. By normalizing churn by the size of the underlying topologies, we reveal a more nuanced picture: BGP update dynamics in IPv4 and IPv6 are qualitatively similar, and their growth is a function of the growth in the number of ASes. The question of why the average number of updates per AS is 5 in IPv4 and 3 in IPv6 remains an interesting open question. We believe this difference is related to the nature of the underlying topologies and prevalent operational practices such as business relationships and traffic engineering.

### Churn Seen from Different Vantage Points

The churn observed from different vantage points can provide insights into the maturity of the underlying topology. As ASes establish denser interconnections and enforce business relationships, churn becomes more localized, meaning some routing events only affect a limited part of the Internet.

We calculate the cross-correlation between all pairs of daily churn time series in IPv6 and IPv4, respectively, for the monitors shown in Figure 11. We use the non-parametric Kendall’s τ rank correlation coefficient [29], which measures the association between random variables based on the ranking of their sample data. Kendall’s τ ranges from -1 to 1, where 1 denotes perfect correlation and -1 denotes anti-correlation.

**Figure 12: Correlation of the BGP churn time series across monitors.** IPv6 monitors exhibit stronger correlation than IPv4 monitors. The correlation coefficients between all pairs of IPv6 time series, as well as between all IPv4 pairs, are shown. IPv4 pairs show little correlation, with τ values mostly below 0.4, while IPv6 pairs show strong positive correlation, with τ values mostly above 0.5.

The lack of correlation between IPv4 monitors indicates that churn is highly dependent on the location and configuration of the corresponding router. This is likely due to denser interconnection and enforcement of business relationships in the IPv4 topology. In our previous work, we showed that the correlation between IPv4 churn time series doubles after filtering out updates triggered by routing events that affect only a limited part of the Internet [26].

In summary, we find that the churn seen by different BGP vantage points shows stronger correlation in IPv6 compared to IPv4. Two factors may contribute to this stronger correlation in IPv6. First, the IPv6 AS graph is smaller, providing less isolation, so routing changes have a larger scope of impact. Second, since IPv6 deployment is still in its early stages, business policies may be less enforced and monitored, resulting in less isolation of BGP messages. As IPv6 deployment progresses, we expect these factors to change, leading to a decrease in the correlation of IPv6 churn seen from different BGP monitors, eventually becoming similar to that in IPv4.

### Path Exploration and Convergence Times

Routing changes can have different outcomes, such as the withdrawal or addition of a prefix from the routing table, or alterations in reachability information (e.g., rerouting). These changes can be transient or long-lasting. The effects of routing instability on data plane characteristics, such as loss rate, have been well studied [23]. Therefore, it is important to compare routing changes in IPv6 and IPv4.

First, we must identify and group prefix updates that constitute a routing change. When an underlying incident triggers a routing change, it often results in several updates for each affected prefix (i.e., a convergence sequence). The duration of this sequence is referred to as the convergence time. A prefix event is a sequence of updates for a given prefix that are likely triggered by the same underlying cause. We use the definition by Wu et al. [30] to identify prefix events: two consecutive updates for the same prefix belong to the same prefix event if they are no more than 70 seconds apart. The maximum duration for a prefix event is set to 10 minutes. Events lasting longer than 10 minutes are considered flapping.

**Figure 13: Comparing path exploration and convergence times (IIJ).** The average number of updates per routing change event gradually converges between IPv4 and IPv6. The average convergence time in IPv6 is burstier, with a lower bound at a similar level as in IPv4.

Path exploration is often more pronounced in events leading to a complete withdrawal of a prefix (AW events) [32]. The top panel in Figure 13 compares the average number of updates per AW event in IPv6 and IPv4 as seen from the perspective of IIJ6. In IPv4, this number has mostly remained stable below 4, with a slight increase in post-withdrawal path exploration after 2009. In IPv6, the number was around 10 updates until early 2005, then decreased gradually and stabilized around 4. Investigating AW events in the first two years of the study period, we find that our monitors explored monotonically longer paths before sending the final withdrawal. For example, at IIJ, the median length of the longest explored path was 18 hops in January 2004 and gradually dropped to stabilize around 7 hops in 2008.

Two possible causes for this gradual reduction in path exploration are: first, ten years ago, only a few hundred ASes had deployed IPv6, and routing policies may have been less enforced, allowing for more alternative paths. Second, the early IPv6 graph was sparser, leading to naturally longer paths and proportionally longer convergence times [33]. These trends are consistent across monitors.

**Convergence times:** The bottom panel in Figure 13 shows the evolution of BGP convergence time from the perspective of IIJ, measured as the monthly average of all prefix event durations. The average convergence time in IPv4 is stable around 50 seconds but is higher and less stable in IPv6. During 2004, IPv6 convergence time was slightly higher, similar to the path exploration metric. We recorded two periods with sustained higher convergence times in 2006 and 2010. A closer look at the data revealed that the increase in 2006 was caused by one prefix that flapped between two paths differing only in the ATOMIC AGGREGATE attribute. The small size of the IPv6 routing system makes it vulnerable to such effects. Excluding events related to this prefix, the convergence time drops to the same level as prior to the instability. A similar flapping involving five prefixes caused the peak in 2010, likely triggered by an IGP misconfiguration in the origin AS. These peaks were evident in all monitors, consistent with the earlier observed strong correlation between IPv6 monitors. Apart from these anomalous periods, IPv6 generally matched IPv4 in terms of convergence time.

In summary, the evolution of path exploration and convergence time shows that the characteristics of routing changes in IPv6 are gradually becoming similar to those in IPv4. This is an encouraging trend, suggesting increasing maturity in IPv6 deployment. Any performance degradations resulting from routing changes in IPv6 should be no worse than those in IPv4.

### IPv4 vs. IPv6 Performance

**Figure 14: Relative performance between IPv4 and IPv6 measured by the relative mean fetch times (solid lines) and minimum SYN/ACK RTT (dashed lines).** Confirming the results of Nikkhah et al. [16], 79% of paths observed had IPv6 performance within 10% of IPv4 (or better) if the forward AS-level path was the same in both protocols, while only 63% of paths had similar performance if the forward AS-level path was different. However, our measurements (and theirs) are dominated by the path RTT because the transfers are typically small (although we only analyze measurements of transfers over 10K bytes). The dashed lines in Figure 14 plot the relative RTTs measured to the same (IPv4 and IPv6) webservers; the solid lines (relative fetch time) and the dashed lines (relative RTTs) are barely distinguishable. When IPv6 performance is better, it is more likely correlated with a different forward AS-level path. However, the correlation between RTT and fetch time is weaker when IPv6 performance is better, for reasons we do not yet understand.

**Implications of correlation between performance and topological congruence:**

The significant correlation between data plane performance between two endpoints and the congruity of the AS path between them raises the question: how far are we from topological parity between IPv4 and IPv6? Recall from Section 4 that only 40-50% of AS paths are actually identical. There are several reasons why the AS paths in IPv4 and IPv6 could differ—ASes or AS links seen on the IPv4 path may not be present in the IPv6 topology, or networks may choose different routes for IPv4 and IPv6. With the available data, we cannot confirm why the AS paths differ, but we can measure how much congruence between IPv4 and IPv6 AS paths is possible today. For each link in an IPv4 AS path toward a dual-stacked origin AS, we examine whether that link is present in the IPv6 topology, regardless of the AS path on which it appears.

**Figure 15: Fraction of AS paths that could be identical in IPv4 and IPv6 without configuring a new BGP peering session.** Currently, 60-70% of AS paths could be identical in IPv4 and IPv6, as each IPv4 link is already present in the IPv6 topology, just not yet part of an observable BGP-policy-compliant path between the edges. We take a step further and examine what would happen if each IPv6-capable AS were to establish equivalent peerings in IPv6 and IPv4. **Figure 16: Fraction of IPv4 AS paths where each AS on the path appears in the IPv6 topology.** If current IPv6-capable ASes were to establish equivalent peerings, the fraction of IPv4 AS paths that could be identical in IPv6 would increase.