TensorFlow version:
    $ python -c "import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)"
    v1.12.0-0-ga6d8ffae09 1.12.0
Issue:
    2019-04-19 15:30:36.879298: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:964] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
    2019-04-19 15:30:36.879649: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties:
    name: TITAN X (Pascal) major: 6 minor: 1 memoryClockRate(GHz): 1.531
    pciBusID: 0000:02:00.0
    totalMemory: 11.91GiB freeMemory: 4.75GiB
    2019-04-19 15:30:36.879665: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
    2019-04-19 15:30:37.551722: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
    2019-04-19 15:30:37.551754: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0
    2019-04-19 15:30:37.551764: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N
    2019-04-19 15:30:37.551930: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 4496 MB memory) -> physical GPU (device: 0, name: TITAN X (Pascal), pci bus id: 0000:02:00.0, compute capability: 6.1)
    INFO:xxx.store:Generating index with key 1-TTT ..
    INFO:xxx-cli.py:Loss @ batch 1 on 800: 1.6608102321624756
    Traceback (most recent call last):
      File "./bin/xxx-cli.py", line 253, in 
        main(sys.argv[1:])
      File "./bin/xxx-cli.py", line 193, in main
        gradients = tape.gradient(loss, trainable_variables)
      File "/home/anaconda/anaconda3/lib/python3.6/site-packages/tensorflow/python/eager/backprop.py", line 901, in gradient
        output_gradients=output_gradients)
      File "/home/anaconda/anaconda3/lib/python3.6/site-packages/tensorflow/python/eager/imperative_grad.py", line 64, in imperative_grad
        output_gradients)
      File "/home/anaconda/anaconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py", line 858, in grad_fun
        return [dresult._copy(device_name=self_device)]
    AttributeError: 'IndexedSlices' object has no attribute '_copy'
Environment information:
    == cat /etc/issue ===============================================
    Linux hamburg 4.15.0-47-generic #50-Ubuntu SMP Wed Mar 13 10:44:52 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
    VERSION="18.04.2 LTS (Bionic Beaver)"
    VERSION_ID="18.04"
    VERSION_CODENAME=bionic
    == are we in docker =============================================
    No
    == compiler =====================================================
    c++ (Ubuntu 6.5.0-2ubuntu1~18.04) 6.5.0 20181026
    Copyright (C) 2017 Free Software Foundation, Inc.
    This is free software; see the source for copying conditions.  There is NO
    warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    == uname -a =====================================================
    Linux hamburg 4.15.0-47-generic #50-Ubuntu SMP Wed Mar 13 10:44:52 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
    == check pips ===================================================
    msgpack-numpy                      0.4.3.2    
    numpy                              1.16.1     
    numpydoc                           0.8.0      
    protobuf                           3.6.1      
    tensorflow-estimator               1.13.0     
         13084:       trying file=tls/x86_64/libpthread.so.0
         13084:       trying file=tls/libpthread.so.0
         13084:       trying file=haswell/x86_64/libpthread.so.0
         13084:       trying file=haswell/libpthread.so.0
         13084:       trying file=x86_64/libpthread.so.0
         13084:       trying file=libpthread.so.0
         13084:      search cache=/etc/ld.so.cache
         13084:       trying file=/lib/x86_64-linux-gnu/libpthread.so.0
         13084:
         13084:     find library=libc.so.6 [0]; searching
         13084:      search path=/home/anaconda/anaconda3/bin/../lib                (RPATH from file /home/anaconda/anaconda3/bin/python)
         13084:       trying file=/home/anaconda/anaconda3/bin/../lib/libc.so.6
         13084:      search path=/usr/local/cuda-9.0/lib64:tls/haswell/x86_64:tls/haswell:tls/x86_64:tls:haswell/x86_64:haswell:x86_64:             (LD_LIBRARY_PATH)
         13084:       trying file=/usr/local/cuda-9.0/lib64/libc.so.6
         13084:       trying file=tls/haswell/x86_64/libc.so.6
         13084:       trying file=tls/haswell/libc.so.6
         13084:       trying file=tls/x86_64/libc.so.6
         13084:       trying file=tls/libc.so.6
         13084:       trying file=haswell/x86_64/libc.so.6
         13084:       trying file=haswell/libc.so.6
         13084:       trying file=x86_64/libc.so.6
         13084:       trying file=libc.so.6
         13084:      search cache=/etc/ld.so.cache
         13084:       trying file=/lib/x86_64-linux-gnu/libc.so.6
         13084:
         13084:     find library=libdl.so.2 [0]; searching
         13084:      search path=/home/anaconda/anaconda3/bin/../lib                (RPATH from file /home/anaconda/anaconda3/bin/python)
         13084:       trying file=/usr/local/cuda-9.0/lib64/libm.so.6
         13084:       trying file=tls/haswell/x86_64/libm.so.6
         13084:       trying file=tls/haswell/libm.so.6
         13084:       trying file=tls/x86_64/libm.so.6
         13084:       trying file=tls/libm.so.6
         13084:       trying file=haswell/x86_64/libm.so.6
         13084:       trying file=haswell/libm.so.6
         13084:       trying file=x86_64/libm.so.6
         13084:       trying file=libm.so.6
         13084:      search cache=/etc/ld.so.cache
         13084:       trying file=/lib/x86_64-linux-gnu/libm.so.6
         13084:
         13084:
         13084:     calling init: /lib/x86_64-linux-gnu/libpthread.so.0
         13084:
         13084: