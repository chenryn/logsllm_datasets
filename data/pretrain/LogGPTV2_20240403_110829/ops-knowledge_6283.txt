User: 请回答以下安全问题基于密码的AES CBC加密字符串是否应该具有额外的安全性？对于我编写的Java应用，我获取用户提供的密码，并使用100000次PBKDF2-HMAC-SHA512迭代和随机生成的512位salt从中生成128位AES密钥。我使用这个密钥使用AES-CBC模式加密文件，然后对加密的数据进行处理。
让我困扰的是，似乎有人只需生成密码，然后解密密文的前几个字节，看看是否会出现非垃圾。
我是偏执还是有额外的工作可以做？
例如，是否存在防止密文部分解密的AES模式？或者还有什么能减缓测试大量密钥的过程？

Assistant: 解密部分密文的能力并不重要。
通常的做法是，例如在磁盘加密程序中，将固定（已知）字符串添加到密文中，从而检查密码是否失败。
无论您使用哪种模式，这都不是关键点。
CBC模式只有一个显著的弱点：
CBC模式不能防止篡改攻击，也就是说，猜测密文一部分的攻击者可以根据其目的对其进行修改。
如果可用，请使用GCM、EAX、CCM或OCB模式。