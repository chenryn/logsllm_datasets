**前言**
本次渗透经历较基础，可以说是十分基础，所以各位师傅图个乐就好，有任何问题欢迎指出！  
本文两条getshell思路：  
1、sqlmap自带的OS-Shell功能直接Getshell  
2、利用注入得到管理员账户密码，通过后台图片上传+iis7.5解析漏洞Getsehll
**正文**
某天在挖掘edu漏洞的过程中突然看到这样一个站  
看到?id=  
于是尝试一下是否存在注入，单引号报错，发现确实存在注入  
废话不多说，直接sqlmap跑起来  
拿到数据库名  
让我们再看看是不是dba权限  
惊喜总是在不经意之间出现的，发现的确是dba权限！  
那接下来就好办了，直接OS-shell  
sqlmap在根目录自动创建了两个文件  
访问www.xxxx.com:80/tmpudxrm.php  
上传一句话木马，直接getshell  
过程很简单，但是当我将这个漏洞上报时，竟然重复了！！  
看来已经有人比我捷足先登了，所以只能想想还有没有办法getshell,毕竟有一个sql注入在我们还能做很多事。  
于是，我又回头利用sqlmap跑出了管理员账户及密码  
这时候我们去找找后台登录点  
但是当我在域名后面输入/admin时，发现没有出现管理后台界面而是进一步302跳转至了另一个地址，但却是连接失败。  
这里我有点纳闷了，遂问了下朋友，朋友告诉我直接将前面的本机地址127.0.0.1改为目标站点的ip地址即可，于是我们ping一下目标站点，成功得到目标ip地址  
替换前面连接失败的站点地址  
成功访问了站点，出现了管理后台,直接将拿到的管理员账户密码登入！  
让我们粗略的翻一翻，在学生成绩列表出，发现了大量学生的信息泄露（厚码）  
在随意翻了翻其他功能点之后，我们直接单刀直入，找上传点，看看有没有上传点可以利用的。  
发现产品管理处，有个修改操作可以上传图片  
先F12看看上传之后图片的路径在哪里  
有路径了，接下来就是上传了，但是当我使用我能想到的所有姿势之后，还是怎么样都绕不过（PS:主要是我太菜了）  
无论用什么姿势，上传之后文件名都会自动变成 上传时间+四位随机数.jpg 例如2020081415021928.jpg  
这时候我就自闭了，都到这里了，我怎么能放弃呢！！  
于是和朋友进行了深入♂的交流，对目标站点重新做了一次审查  
发现原来目标站点的中间件利用的是 IIS7.5！！！IIS7.5有个很著名的解析漏洞！！！  
看到这个解析漏洞成功执行之后，我直接掏出了我的图片马进行上传，配合解析漏洞又一次成功Getshell！！！  
**小结**
本次渗透过程并不复杂，主要是思路的转变，适合新手学习，还有本次渗透存在一定运气成分，毕竟不是所有的渗透测试都是这么顺利的。  
若本文中有任何问题，欢迎各位师傅指出。  
谢谢！