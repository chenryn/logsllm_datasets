渗 透 测试 之信 息搜 集 的 研 究 与 漏 洞 防 范
张 明 航
张卷美
（北京 电 子科 技学院
北京
１ ０ ００ ７０ ）
（ １ ５４ ０１ ０１ ６２ ３＠ ｑ ｑ． 
ｃｏｍ ）
Ｒ ｅ ｓｅａｒｃｈ
ａｎｄ
Ｖｕ ｌｎｅｒａｂ ｉ ｌ ｉ ｔｙ
Ｐｒｅｖｅｎ ｔｉｏｎ
ｏｆ
Ｉｎ ｆｏｒｍａ ｔ ｉｏｎ 
Ｇａｔ ｈｅｒｉｎ ｇ
ｉｎ
Ｐ ｅｎ ｅｔ ｒａｔ ｉｏｎ 
Ｔｅｓｔ
Ｚｈａ ｎｇ 
Ｍ ｉｎｇ ｄｕ ｏ
ａ ｎ ｄ
Ｚｈａｎ ｇ
Ｊ ｕ ａｎｍ ｅｉ
（Ｂｅｉｊ ｉｎｇ
Ｅｌｅｃｔｒｏｎ ｉ ｃ
Ｓ ｃｉｅｎｃｅ
＆
－ 
Ｔｅｃｈｎｏｌｏｇｙ
Ｉｎ ｓｔ ｉ ｔｕｔｅ
，
Ｂｅｉｊ ｉｎｇ
１ ０ ００ ７０ ）
Ａ ｂｓｔｒａｃｔ
Ｐ ｅｎｅ ｔｒａ ｔ ｉｏｎ 
ｔｅ ｓｔ 
ｄｏ ｅｓ 
ａ
ｔｈｏｒｏ ｕｇ ｈ
ｓｅ ｃｕｒｉｔｙ
ｒｅｖ ｉ ｅｗ
ｆｏｒ
ｎｅｔｗｏｒ ｋ
ｓ ｙ
ｓ ｔｅｍ
ａｎ ｄ
ｇ ｉｖ ｅｓ 
ｔｈｅ 
ａｄｖｉｃ ｅ
ｏ ｆ
ｖ ｕｌｎ ｅｒａｂ ｉ ｌ ｉｔｙ 
ｏ ｒ
ｉ ｎ ａｐ ｐ ｒｏ ｐ ｒ ｉａ ｔ ｅ 
ｃ ｏｎ ｆｉ ｇ ｕｒａ ｔ ｉ ｏｎ
ｂｙ
ｓ ｉ ｍｕ ｌ ａｔ ｉ ｎｇ
ｒｅ ａ ｌ
ａｔｔａｃ ｋｓ ．
Ａｓ
ｔ ｈｅ
ｆｉ ｒｓ ｔ
ｓ ｔａｇ ｅ
ｏｆ 
ｌ
ｉｆ ｅ
ｃｙｃ ｌｅ 
ｏ ｆ
ｐ ｅｎ ｅｔｒａ ｔ ｉｏ ｎ
ｔ ｅ ｓｔ
， 
ｔｈｅ 
ｔａ ｓ ｋ
ｏｆ
ｉｎ ｆｏ ｒｍａ ｔ ｉｏ ｎ 
ｃｏｌ ｌ ｅｃ ｔｉｏ ｎ
ｉ ｓ
ｔｏ
ｃｏｌ ｌｅｃ ｔ
ｄｅ ｔａ
ｉｌ ｅ ｄ
ｉｎ ｆｏ ｒｍａ ｔ ｉｏ ｎ
，
ｗｈｉ ｃ ｈ
ｄｅ ｔｅｒｍ ｉｎｅ ｓ
ｔｈｅ 
ｓ ｕｃ ｃｅ ｓｓ
ｏｆ 
ａ
ｗｈｏ ｌｅ 
ｐｅｎｅｔｒａｔ ｉｏ ｎ
ｔｅｓｔ 
ｔｏ
ａ
ｌａｒ ｇｅ 
ｅｘｔｅ ｎｔ ．
Ｔｈ ｉ ｓ
ｐ ａｐｅ ｒ
ｓ ｔｕｄ ｉｅ ｓ
ｔｈｅ 
ｖａｒｉｏｕｓ
ｍ ｅｔ ｈｏｄ ｓ
ａｎ ｄ
ｔ ｅ ｃｈｎｏ ｌｏｇｙ 
ｉ ｎ
ｔ ｈｅ
ｉ ｎｆ ｏｒｍａ ｔ ｉ ｏｎ 
ｇ ａ ｔｈｅｒ ｉ ｎｇ 
ｓ ｔａ ｇ ｅ
？
ｐ ｕｔ ｓ
ｔｈｅ 
ｔｏｏ ｌ ｓ
ｐｒ ｏｖｉ ｄｅ ｄ
ｂｙ 
Ｋ ａ ｌ ｉ
Ｌ ｉ ｎｕ ｘ
ｉｎ ｔ ｏ
ｐｒ ａｃ ｔ ｉ ｃｅ
＞
ｓｕｍｍ ａｒ ｉ ｅｓ
ｔｈｅ 
ｃｏｍｍ ｏｎ 
ｖｕ ｌｎｅｒａｂ ｉ ｌ ｉ ｔｙ 
ｉｎ
ｔｈ ｉ ｓ
ｓ ｔ ａｇ ｅ
ａｎ ｄ
ｐ ｒｏ ｐｏｓ ｅｓ 
ａ
ｃｏｍｐｒ ｅｈｅｎｓ ｉｖ ｅ
ｐ ｒｅ ｖｅｎｔ ｉ ｖｅ 
ｍｅａｓ ｕｒ ｅ
ｉ ｎ
ｔｈｅ 
ｅ ｎｄ．
Ｋｅｙ 
ｗ ｏｒ ｄｓ
ｐ ｅ ｎｅ ｔ ｒａ ｔｉ ｏｎ 
ｔ ｅ ｓｔ
；
ｉ ｎｆ ｏｒｍ ａｔ ｉ ｏｎ 
ｇａ ｔ ｈｅ ｒｉ ｎ ｇ
；
Ｋａ ｌ ｉ 
Ｌ ｉｎｕ ｘ
；
ｖｕｌ ｎｅ ｒａｂ ｉ ｌｉ ｔｙ ； 
ｐ ｒｅ ｖｅ ｎｔ ｉ ｖｅ 
ｍｅ ａｓｕ ｒｅ
摘
要
渗透 测 试技术 通过模拟 真 实 的 攻 击 来对 网 络 系 统进行全 面 的 安 全 审 查
， 并给 出 漏 洞 或 不 恰
当 配 置 的修复 建议． 作为 整 个渗透 测 试 生命周 期 的 第
１ 阶段
， 信 息 搜 集 的 任务 是尽 可能 多 地搜 集 到
有 关 目 标 的 详 细 信息
， 它 在很大程度上 决 定 了
一 次渗透 测 试 的 成 功 与 否 ． 分 块研 究 了 信息 搜 集 阶段
中 所 用 到 的 各种方 法 与 技术
， 利 用 Ｋａ ｌ ｉ 
Ｌ ｉｎｕｘ 中 提供 的 工 具 进行 了 深入 的 实 战操作
， 最后 总 结 归 纳
了 本 阶段 中 常 见的 漏 洞 并提 出 了 较 为 完 善 的 防 范 措施
．
关键 词
渗透 测 试
； 信 息 搜 集
； Ｋ ａｌ ｉ
Ｌ ｉｎｕ ｘ
； 漏 洞
； 防 范 措施
中 图 法分类号
ＴＰ ３ ０ １ ．
４
渗 透测试 （ ｐ ｅ ｎｅ ｔ ｒａ ｔｉ ｏｎ 
ｔｅ ｓ ｔ）
［ １
＿２ ］ 是
一 种 通过模
种安全业界 比 较流 行 的方法体系 标准
［ ３ ］
． 各体 系
拟 恶意攻击者 的 技术与 方法
， 挫败 目 标系 统安全
标准之 间虽 略有 差异
， 但均 将
一个完整 的 渗 透测
控制 措施
， 取得访问 控制权
， 并发现具备业务影 响
试分为若干 个前后承接
、 互有关联 的 几个阶段
， 首
后果安全隐 患 的
一种 安全测 试与 评估方法
． 渗 透
当 其冲 的第
１ 阶段便是对 目 标主 机或 系统相 关信
测试 目 前 已 经形成 较为 成熟 的 理论体 系
， 有 了 多
息 的搜集 ．
收稿 日 期
： ２ ０ １ ６
０２
１ ９
基金项 目
： 国 家 自 然科学基 金项 目
（ ６１ ３７ ０ １ ８ ８ ）
网址
ｈ ｔｔ ｐ
： ／ ／ｒ ｓ
． ｓ
ｉ ｃ
． ｇ ｏ ｖ
．ｃｎ
｜
２ １
１
信 息 安 全 研 究
第 ２ 卷 第 ３ 期
２０ １ ６ 年 ３ 月
Ｊ
ｏ ｕ
ｒ ｎ ａ
ｌ
ｏ ｆ
Ｉ ｎ
ｆ ｏ
ｒ ｍ ａ
ｔ
ｉ ｏ ｎ
Ｓ
ｅｃ
ｕ ｒｉ ｔ ｙ
Ｒ ｅ ｓ
ｅ ａ
ｒ
ｃ
ｈ
Ｖ〇ｌ
． ２
Ｎ 〇． ３
Ｍ ａ ｒ ． 
２０ １ ６
信息 搜集 阶 段
［ ４
５ ］ 的 任 务 主 要是利 用 各 种 方
表
１
信息 搜集 中 有用 网 站
法与工具对已 选定的 目 标主机或 系 统进行全面 的
网 站地址
功能简介
ｆ目息 搜集
， 以 获取 目 标的 网 络拓扑结构
、 系统 配置
ｈｔ ｔｐ
： ／／ ｓ ｅａ ｒｃｈｄｎｓ
．
ｎｅｔ ｃ ｒａｆ ｔ． 
ｃｏｍ／
子域名 查询
与安 全防御措 施等足 够多 的 信息
， 为渗 透测试 下
ｈｔ ｔｐ
： ／ ／ ｗｗ．
ｓ ｈｏｄａ ｎｈｑ
．
ｃｃ ｉｍ／
大数据搜 索
一阶段漏洞分 析打下 良 好的 基础
． 此 阶 段要 搜集
ｈｔ ｔ ｐ
：
／／ ｂｇｐ
． ｈｅ
＿
ｎｅ ｔ／
ＩＰ 信息 扫 描
的信息主 要有 在 线 主 机 、 域名 信 息 、 邮箱地址
、 常
ｈ ｔ ｔｐ
： ／ ／ ｂｕ ｉｌｄｗ ｉｔ ｈ．
ｃｏｍ／
网站 指纹信息
用密 码 、 同 网段信息 、 子域名信息
、 指纹信息 、 端 口
ｈｔ ｔ ｐ
：
／ ／ｗｈ ｏｉ ｓ ．
ｃｈｉｎａ ｚ．
ｃ ｏｍ
／
Ｗｈｏ ｉｓ 查询
信息
、 文件信息等
． 为得到 这些 信息 所使用 的 搜集
方法包括搜 索 引 擎 、 社会工程学 和
一些基本 的 扫
除了 通 过浏 览 器访 问 网 站进 行信 息 的 搜 索
描工具等
．
外
，还可 以通过
一些社交搜索 工具 （如
ｃｒｅｅｐｙ ） 和信
Ｋａ ｌ ｉ
Ｌ ｉｎ ｕ ｘ
［６
＿７ ］ 是
一个高级渗透测试 和安 全审
息搜索工具 （如
ｔｈ ｅＨａｒ ｖｅｓｔｅ ｒ 和 Ｒｅ ｃｏｎ
－ＮＧ ） 来直接
计 的
Ｌ ｉｎｕ ｘ 发 行 版
， 其 中 集 成 了 诸 如
Ｍ ｅｔ ａｓ