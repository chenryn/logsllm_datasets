User: Cassandra works in cluster model with 3 nodes.When all nodes are "UP", I use cql “select * from User” in cqlsh，Cassandra returns the right result.But after a node is dead,when I use "select" again,no result returns but reports:"Unable to complete request: one or more nodes were unavailable" .
I turned to use cassandra-cli command:"get Users", it returns me the right data without any error.
any ideas?
Assistant: I expect that when you are using CQL you are having a request with a Consistency-Level being "ALL". In this case, it will wait for a reply from all the servers (that host a replica of that node) before returning. As one node is down it fail because it cannot contact the down node.
When you are doing it through Cassandra-cli, I expect that the consistency-level is defaulting to either "QUORUM" or "ONE" or "ANY" and so will happily return you data, even if one replica is down.