关于性能和多用户测试我有自己的见解，它们应该同时适用于自动
测试和多用户手工测试。我设想多个自动脚本同时运行，每个脚本
模拟多用户执行一系列动作。我看到每行脚本运行得就像色彩棒、
射频波。脚本们好像在演绎一首乐曲，在声音增强的过程中，高音
同时袭面而来，儿乎撞击在一起，它们如此狂野，高低音按照各自
的节奏进行看。测试就像一首交响乐，和谐地始终融合在一起。
就像一种乐器增加到交响曲中所起的作用，每个手工测试人员加入
到整体测试系统中都起到一样的作用。甚至一个单独的手工测试人
员改变系统环境都会引起管乐的声音改变。这个动作不再只是关系
到一个测试人员，而是影响到整体协作。
多用户测试与性能测试本身不同。性能测试通常首要侧重于处理事
务的时间性。在多用户测试用例中，我们的目标不是时间，而是测
试多用户同时执行特定任务会发生的情况。总体来讲，多用户测试
思路是为了防正数据损坏、记录冲突、重复记录或系统崩溃。
测试概念是时刻清醒地提示进行医疗设备彻底地测试的重要性。虽
然测试条件已被设定为“编辑病人记录时检查竞争条件”，即假设两
个实验室技术人员同时编辑同一名病人记录，导致数据损坏或保留
1986
---
## Page 1988
了错误处方的病人数据（这个处方一旦下给病人，会导致病人死
亡）。这就是在多用户区域测试中都要使用的测试条件，可能造成
的结果是可怕的。
在一个真正的房间进行探索性测试的好处是我们能够更容易地协调
多用户测试。我们推测了一些可能的问题缺陷，但是直到我们有能
力通过协调多用户在多台机器上进行多项测试之前，都没有收集这
些缺陷严重性的证据。我们积累了一些思路，现在我们有办法实现
了。
在探索性测试开始之前，Michael草拟了一份多用户测试用例。我曾
经做过多用户测试，所以我们讨论了这些想法。思路集中在保证病
人数据和处方不被损害和相互冲突方面。但自从应用程序阻止在一
台机器上运行一个以上的实例以来，就不可能很容易地设计和管理
这类测试了，即一位测试人员在一台机器上单独测试。我们有一个
小型的测试实验室，装备了多台工作站，可以进行一些多用户测试
实验，但是不具备这样的侧重点和投入的精力，也不能很容易地连
接多台机器和协调多个测试人员的测试操作。
测试包增长很快，因为团队成员不断增加新的思路和“如果......就会
怎样”场景。这一轮的测试执行会话活力四射。一个思路引来另一个
思路，又扩展为第三个。每个人都在思考，并作出贡献。头脑风暴
的机会重新到来，测试不再与思想分离，因为测试用例的执行是预
规定的。测试在这个临时的测试实验室里形成了专业的注重发现和
思路共享的氛围。当人们聚集在一个充满智慧的团体中，并且给予
探索的时间和空间，那么创新和参与的愿望勃然而发。相比之下，
在执行过程中，测试脚本没有变化而产生的孤立的机械式的执行减
少了头脑参与。
这时，脚本测试则步履购。执行测试脚本堆积其传统的令人生畏
的印象，一切都经过测试了。但是，在培训室弥漫的活力和思想却
显示之前并没有彻底思考所有的思路，测试脚本没有完全抓住问
题。与其把测试脚本视为有缺陷的或不适合的，不如说团队的整体
意识是将软件和设备提供更多的排列组合，比之前测试过或解决过
的问题有更多的可能性。
我们可能想要相信所有的测试都被执行了，每个缺陷都被发现了，
我们就得到了一个完美的软件产品，特别是与医疗设备有关的。但
是完美从来都不现实。相反，质量保证是发现产品工作良好，不尽
完美，但美丽依存。
1987
---
## Page 1989
测试活动混合开始之后，我们真的发现了问题。随着问题发现越来
越多，我们的信心也在实实在在地增加。发现缺陷和对应该处理事
项的争论，当然比产品发布之后还未意识到有缺陷好得多。
大多数多用户测试都是在站在房间前面并解释测试用例的人的指导
下进行的。每位测试人员试用软件确保自已懂得讨论事项和如何执
行。指导测试的人员协调测试者发现诸如“如果......就....."的问题
答案。
测试人员完成为达到同一目标的多项操作，直到我们找到下列问题
的适合的答案：
每位测试人员都明白需要做什么了吗？
测试人员对时间和执行所达到的目标满意吗？
测试是否执行了足够时间来得出这个结论？
发现了什么问题吗？
除多用户测试之外，还需要保证一个拥有众多数据、病人和处方的
繁忙的医学实验室能够处理预计的工作负载。在较高层次，我们知
道正确的反应应该是：没有重复记录，没有竞态条件，没有数据损
坏，没有系统挂起。除此之外，测试人员不需要具体书面预期结果
就知道出了什么状况。
在这些测试之后，所有活动都会编写成正式的测试脚本，即前期的
探索性测试成为可重复的测试脚本。其价值在于可以保证这样的多
用户测试在产品发布以后的任何时间都可以执行。这是常规测试工
作的一个方面：基本的测试脚本在本版本发布后，为了下一个版
本，没有审阅和解释是不能被槟弃的。很明显，这种测试形式为将
来的发布需求作为产品整体测试需要保留下来。
我们不能保证在将来的测试中的创新和活力，但是我们可以保证起
码考虑多用户测试形式。对我来讲，团队工作之美意味着以团队实
现个人能力之外的作用。每一个我参与的测试对话过程，特别是多
用户测试（甚至当没有测出问题时），团队意味着无限的积极性和
长久的影响力。
科学实验室
1988
---
## Page 1990
项目的绝大多数都是以纯软件测试开始，少数测试是与医疗设备组
合的。但是Michael认为缺少真实情况再现的产品不可能有效，必须
在实验室整合所有组成部分，以完全负载方式运行多天作性能验
证。
Michael进行了我今天依然命名为“科学实验室"的设计。实验室的目
的是将医疗设备和电脑配对组合。一旦实验室装配好，我们就把探
索性测试人员和脚本测试人员配对，模拟医疗设备和电脑一起使用
的场景，而且尽量模拟真实生活。这个实验室测试计划为产品进行
最终正式测试。
我帮助Michael设计了科学实验室的每一个细节。这可不是一项简单
的任务，需要思考清楚，排序和组织电脑、软件、电缆、工作台、
医疗设备、更多的电缆、液体、4级袋、试管、打印机和标签。房间
里还装备了特别为工作台设计以防止液体被污染的层流罩。在空气
过滤装置工作时，它产生很大的声音，而且占用更多空间，也增加
了设备的复杂性。但是Michael认为层流罩是必需的，因为绝大多数
实验室都有，即使有些没有，病人的处方也是在层流罩中构建的。
每一位测试人员都要经过培训学会使用它。测试前，电脑网络必须
配置连接，软件也一样；医疗设备必须组装并校对好。
我们花了好几天的时间一起集成组装实验室。我还记得Michael对于
组装的实用建议：穿牛仔裤，带小折刀。我们瞬啪啪打开电脑和
医疗设备的包装箱。我从和他一起配置的过程中，学到很多关于设
备的知识。我们一边组装，一边讨论了未来日子里后勤保障的问
题。
在我们完成实验室组装那一天，我站在门口检视着房间。实验室是
一个大的长方形，周围是水泥墙；一个大水槽和长柜台位于后墙。
屋子中间有两排长的工作桌，摆放着两排仔细配好的设备。在头
顶，一个长长的线框嵌在管道里若隐若现，里面有无数连接电脑和
打印机的电缆。电脑和打印机配置完成，医疗设备校对完成，医用
试管液体准备好，层流罩装备完成。实验室看起来干净、整洁，一
切就绪。
下班时，我从里面的玻璃门中拿出一些纸制标签。标签上写着项目
名称和准入人员名单。我们关上灯，Michael先走出去，我记得我在
实验室门外站了一会儿，凝视着玻璃，心想明天的测试一定会成
功。
1989
---
## Page 1991
模拟真实应用
测试执行计划已经安排好。计划的核心是在多个整天模拟尽可能真
实的使用环境，不仅仅是软件与设备一起工作的情况，还有这些设
备所产生的解决方案。我们的目的是进行端对端的测试，至少模拟
我们可能模拟的真实。虽然没有病人，但我们试图进行整体和全面
的测试，同时心里希望看到软件和设备一起连续协调地工作的结
果。这不是压力测试（之前已经做过），但确实需要连续不断地运
行。
与其他时间人们愿意单独工作不同，在科学实验室进行的测试是一
个团队合作的过程。每个人都有自己的角色，知道他所承担的工
作。我们制定了一个详尽的计划，执行之前理顺计划，整合思路，
得到全体队员的反馈，进行了多次讨论。我们准备好大十一场。
计划分两个团队进行。分别模拟生产环境中的技术配置、特定的电
脑、软件和医疗设备。总控实验室将很繁忙，处方打印会排队，会
置换液体，试管也会不断使用和更替。我们计划使测试的日子处于
忙碌、稳定，甚至像一场球赛那样的兴奋状态，就像医疗实验室的
真实情况。
每个团队有多个处方要处理，每个处方代表我们要处理的变化方
式。当然，它与实际使用会有偏差。也许在实际的医疗实验室里
不会有这么多的变化方式。
在实际生活场景中理解和设计测试是一件具有挑战性的工作。通晓
实际用户如何使用产品意味着你必须从用户角度思考问题。如果产
品从未发布过，这更具挑战性。
即使产品已经在生产环境中使用，发现用户的真实操作也很困难。
如果是基于网络的应用程序，我们可能从服务器日志中获得所需的
信息，但是我们不能要求医院或实验室提供生产日志。敏感的病人
数据是被美国健康保险责任法案（HIPAA）和其他的相关法规保护
的。
但是如果我们对病人数据不感兴趣？如果我们只想进行最好的测试
并且我们相信已有的在业界使用的经验会赋予我们呢？我想对不了
解我们的医生和实验室专家们大喊，但是简单地说这个进退两难的
局面依然存在。
1990
---
## Page 1992
如果医疗设备的测试人员和使用者能够配对，对真实生活中的使用
进行还原，学习在关键情况下软件和设备如何在有压力、有限时间
和紧急情况下使用就太好了。
我想象这样的工作方式：测试人员更好地了解产品使用的机会和最
终用户教给测试人员实际的使用法则。这难道不是很具有实际基础
的解决方案吗？为什么不鼓励医疗从业者和软件测试人员进行这样
的合作呢？
作为测试人员，我们热切地试图创造真实场景。但是当我们坐在办
公室远离产品实用环坏境，我们知道什么呢？
生活中，我们并不知道记忆何时产生。直到时间推移，我们看到的
事情跟随我们变成记忆。在科学实验室里的记忆在我脑海中历历在
目。
记忆里，好像每个人都有一点焦急、一点焦虑，但比以前更愿意帮
助其他人。那种气氛很难用一个词表述，而是一串词汇：严肃、专
注、紧张、兴奋。每个人都希望能完成任务，发情意识浓厚。我们
一起行动。如果一个人需要休息，整个团队都等他。我们一起到办
公室，一起吃中饭，一起结束整大的工作。
在实验室的日子是漫长的。人们有时会犯错误。我们会记录下我们
做的事情。有两个队员不做测试，专门收集文档，审阅材料。每个
人都知道我们必须揭开一些特别重要的真相。
比起集中区域测试和从技术角度思考软件，设计模拟真实生活场景
具有更强的魅力一—大型场景应用的实用之美。直到执行这类模拟
使用测试，大型场景测试都不会产生缺陷。
总之，这就是使用产品的方式。
在监管环境进行测试