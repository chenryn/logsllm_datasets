shows  the  impact  of  RTO  granularity  in  TCP  —  most  responses 
with  a  timeout  take  at  least  1  second.  In  this  study  we  made  no 
attempt to empirically determine the “optimal” queue size for the 
drop-tail  queue  in  our  routers  (which  is  likely  to  be  somewhere 
between 300 and 2,000 elements). Finding such a drop-tail queue 
size involves a tradeoff between improving response times for the 
very  large  number  of  small  objects  versus  the  small  number  of 
very  large  objects  that  consume  most  of  the  network’s  capacity. 
Instead, we use a drop-tail queue of 240 elements as a baseline for 
comparing with AQM mechanisms because it corresponds to one 
of the targets selected for AQM and provides reasonable perform-
ance for drop-tail. 
4.1 Results for PI with Packet Drops 
Figure 8 gives the results for PI at target queue lengths of 24 and 
240, and offered loads of 80%, 90%, and 98%. At 80% load, there 
is essentially no difference in response times between the two tar-
get queue lengths, and their performance is very close to that ob-
tained on the un-congested network. At 90% load, the two target 
queue sizes provide nearly identical results except for the 10% of 
responses requiring more than 500 milliseconds to complete. For 
these  latter  requests,  the  longer  target  size  of  240  is  somewhat 
better.  At  98%  load,  the  shorter  queue  target  of  24  is  a  better 
choice as it improves response times for shorter responses but does 
not degrade response times for the longer responses.  
4.2 Results for REM with Packet Drops 
Figure 9 gives the results  for REM at target queue lengths of 24 
and 240, and offered loads of 80%, 90%, and 98%. At 80% load, 
there is essentially no difference in response times between the two 
target  queue  lengths,  and  their  performance  is  very  close  to  that 
obtained on the un-congested network. At 90% load, a queue refer-
ence  of  24  performs  much  better  than  a  target  queue  of  240.  At 
98%  load,  a  queue  reference  of  24  continues  to  perform  slightly 
better  than  240.  Overall,  REM  performs  best  when  used  with  a 
target queue reference of 24.  
100
80
60
40
20
)
%
(
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
l
a
u
m
u
C
Uncongested network
drop-tail - qlen=24
drop-tail - qlen=240
drop-tail - qlen=2400
500
1000
1500
2000
Response time (ms)
0
0
100
80
60
40
20
)
%
(
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
a
u
m
u
C
l
0
0
Uncongested network
PI 80load - qref=24
PI 80load - qref=240
PI 90load - qref=24
PI 90load - qref=240
PI 98load - qref=24
PI 98load - qref=240
500
1000
1500
2000
Response time (ms)
Figure 5: Drop-tail performance, 80% offered load. 
Figure 8: PI performance with packet drops. 
100
80
60
40
20
)
%
(
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
a
u
m
u
C
l
0
0
100
80
60
40
20
)
%
(
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
l
a
u
m
u
C
0
0
Uncongested network
drop-tail - qlen=24
drop-tail - qlen=240
drop-tail - qlen=2400
500
1000
1500
2000
Response time (ms)
Uncongested network
REM 80load - qref=24
REM 80load - qref=240
REM 90load - qref=24
REM 90load - qref=240
REM 98load - qref=24
REM 98load - qref=240
500
1000
1500
2000
Response time (ms)
Figure 6: Drop-tail performance, 90% offered load. 
Figure 9: REM performance with packet drops. 
100
80
60
40
20
)
%
(
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
a
u
m
u
C
l
0
0
100
80
60
40
20
)
%
(
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
l
a
u
m
u
C
0
0
Uncongested network
drop-tail - qlen=24
drop-tail - qlen=240
drop-tail - qlen=2400
500
1000
1500
2000
Response time (ms)
Uncongested network
ARED 80load - thmin=12 thmax=36 w=1/8192
ARED 80load - thmin=120 thmax=360 w=1/8192
ARED 90load - thmin=12 thmax=36 w=1/8192
ARED 90load - thmin=120 thmax=360 w=1/8192
ARED 98load - thmin=12 thmax=36 w=1/8192
ARED 98load - thmin=120 thmax=360 w=1/8192
500
1000
1500
2000
Response time (ms)
Figure 7: Drop-tail performance, 98% offered load. 
Figure 10: ARED performance with packet drops. 
4.3 Results for ARED with Packet Drops 
Figure  10  gives  the  results  for  ARED  at  the  two  target  queue 
lengths,  and  offered  loads  of  80%,  90%,  and  98%.  These  results 
are all quite surprising. In contrast to drop-tail, PI, and REM, the 
results at 80% load show some degradation relative to the results 
on the un-congested link. At this load there is essentially no differ-
ence  in  response  times  between  the  two  target  queue  lengths.  At 
90% load, there is still little difference in performance among the 
two target queues for ARED but the overall degradation from an 
un-congested  link  is  more  substantial.  At  98%  load,  the  two  set-
tings for ARED are again almost indistinguishable from each other 
and response times, overall, are very poor.  
Because of the consistently poor performance of ARED, we tried 
several  different  sets  of  parameters.  We  tried  the  recommended 
settings for our network capacity of minth at 60, maxth at 180 and 
wq at 1/16384. We also tried varying the parameter wq from 1/1024 
up  to  1/16384,  but  none  of  the  settings  yielded  results  that  were 
better than the ones presented here. We cannot recommend a set-
ting for ARED based on our experiments since the performance for 
all of them are very close to each other, and yet, unsatisfactory.  
)
%
(
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
l
a
u
m
u
C
)
%
(
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
a
u
m
u
C
l
)
%
(
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
l
a
u
m
u
C
100
80
60
40
20