---
author: Gabriel Cánepa
category: 技术
comments_data:
- date: '2015-09-17 10:16:52'
  message: 圣战、、、、
  postip: 140.207.146.14
  username: 来自上海的 QQ Browser 9.1|Windows 7 用户
- date: '2016-06-10 14:13:35'
  message: 我会经常用到设置行号 复制和取代的功能，没看到复制取代某个关键字的用法
  postip: 59.33.46.51
  username: yutou83 [Internet Explorer 11.0|Windows 7]
count:
  commentnum: 2
  favtimes: 9
  likes: 0
  sharetimes: 0
  viewnum: 6580
date: '2015-09-16 10:11:00'
editorchoice: false
excerpt: '作为系统管理员的日常职责的一部分，每个系统管理员都必须处理文本文件，这包括编辑已有文件（大多可能是配置文件），或创建新的文件。有这样一个说法，假如你想在
  Linux 世界中挑起一场圣战，你可以询问系统管理员们，什么是他们最喜爱的编辑器以及为什么。在这篇文章中，我们并不打算那样做，但我们将向你呈现一些技巧，这些技巧对使用两款在
  RHEL 7 中最为常用的文本编辑器: nano（由于其简单和易用，特别是对于新手来说）和 vi/m（由于其自身的几个特色使得它不仅仅是一个简单的编辑器）来说都大有裨益。我确信你可以找到更多的理由来'
fromurl: http://www.tecmint.com/rhcsa-exam-how-to-use-nano-vi-editors/
id: 6229
islctt: true
largepic: /data/attachment/album/201509/15/231442zmaexaxjqn7exmzn.png
permalink: /article-6229-1.html
pic: /data/attachment/album/201509/15/231442zmaexaxjqn7exmzn.png.thumb.jpg
related:
- displayorder: 0
  raid: 6187
- displayorder: 0
  raid: 6249
reviewer: ''
selector: ''
summary: '作为系统管理员的日常职责的一部分，每个系统管理员都必须处理文本文件，这包括编辑已有文件（大多可能是配置文件），或创建新的文件。有这样一个说法，假如你想在
  Linux 世界中挑起一场圣战，你可以询问系统管理员们，什么是他们最喜爱的编辑器以及为什么。在这篇文章中，我们并不打算那样做，但我们将向你呈现一些技巧，这些技巧对使用两款在
  RHEL 7 中最为常用的文本编辑器: nano（由于其简单和易用，特别是对于新手来说）和 vi/m（由于其自身的几个特色使得它不仅仅是一个简单的编辑器）来说都大有裨益。我确信你可以找到更多的理由来'
tags:
- RHCSA
thumb: false
title: 'RHCSA 系列（四）: 编辑文本文件及分析文本'
titlepic: false
translator: FSSlc
updated: '2015-09-16 10:11:00'
---
作为系统管理员的日常职责的一部分，每个系统管理员都必须处理文本文件，这包括编辑已有文件（大多可能是配置文件），或创建新的文件。有这样一个说法，假如你想在 Linux 世界中挑起一场圣战，你可以询问系统管理员们，什么是他们最喜爱的编辑器以及为什么。在这篇文章中，我们并不打算那样做，但我们将向你呈现一些技巧，这些技巧对使用两款在 RHEL 7 中最为常用的文本编辑器: nano（由于其简单和易用，特别是对于新手来说）和 vi/m（由于其自身的几个特色使得它不仅仅是一个简单的编辑器）来说都大有裨益。我确信你可以找到更多的理由来使用其中的一个或另一个，或许其他的一些编辑器如 emacs 或 pico。这完全取决于你自己。
![学习 Nano 和 vi 编辑器](/data/attachment/album/201509/15/231442zmaexaxjqn7exmzn.png)
*RHCSA: 使用 Nano 和 Vim 编辑文本文件 – Part 4*
### 使用 Nano 编辑器来编辑文件
要启动 nano，你可以在命令提示符下输入 `nano`，或可选地跟上一个文件名（在这种情况下，若文件存在，它将在编辑模式中被打开）。若文件不存在，或我们省略了文件名， nano 也将在编辑模式下开启，但将为我们开启一个空白屏以便开始输入：
![Nano 编辑器](/data/attachment/album/201509/15/231442f8q5dqolq6jqwmye.png)
*Nano 编辑器*
正如你在上一张图片中所见的那样， nano 在屏幕的底部呈现出一些可以通过指定的快捷键来触发的功能（^，即插入记号，代指 Ctrl 键)。它们中的一些是：
* Ctrl + G: 触发一个帮助菜单，带有一个关于功能和相应的描述的完整列表；
![Nano 编辑器帮助菜单](/data/attachment/album/201509/15/231443h7sqt9ddauamimmj.png)
*Nano 编辑器帮助菜单*
* Ctrl + O: 保存更改到一个文件。它可以让你用一个与源文件相同或不同的名称来保存该文件，然后按 Enter 键来确认。
![Nano 编辑器保存更改模式](/data/attachment/album/201509/15/231444dgk4qf4074vb9q6b.png)
*Nano 编辑器的保存更改模式*
* Ctrl + X: 离开当前文件，假如更改没有被保存，则它们将被丢弃；
* Ctrl + R: 通过指定一个完整的文件路径，让你选择一个文件来将该文件的内容插入到当前文件中；
![Nano: 插入文件内容到主文件中](/data/attachment/album/201509/15/231444mfuldufe2pzyyxe8.png)
*Nano: 插入文件内容到主文件中*
上图的操作将把 `/etc/passwd` 的内容插入到当前文件中。
* Ctrl + K: 剪切当前行；
* Ctrl + U: 粘贴；
* Ctrl + C: 取消当前的操作并返回先前的屏幕；
为了轻松地在打开的文件中浏览， nano 提供了下面的功能：
* Ctrl + F 和 Ctrl + B 分别先前或向后移动光标；而 Ctrl + P 和 Ctrl + N 则分别向上或向下移动一行，功能与箭头键相同；
* Ctrl + space 和 Alt + space 分别向前或向后移动一个单词；
最后，
* 假如你想将光标移动到文档中的特定位置，使用 Ctrl + \_ (下划线) 并接着输入 X,Y 将准确地带你到 第 X 行，第 Y 列。
![在 nano 中定位到具体的行，列](/data/attachment/album/201509/15/231444tch3efiuwpifxez2.png)
*在 nano 中定位到具体的行和列*
上面的例子将带你到当前文档的第 15 行，第 14 列。
假如你可以回忆起你早期的 Linux 岁月，特别是当你刚从 Windows 迁移到 Linux 中，你就可能会同意：对于一个新手来说，使用 nano 来开始学习是最好的方式。
### 使用 Vim 编辑器来编辑文件
Vim 是 vi 的加强版本，它是 Linux 中一个著名的文本编辑器，可在所有兼容 POSIX 的 \*nix 系统中获取到，例如在 RHEL 7 中。假如你有机会并可以安装 Vim，请继续；假如不能，这篇文章中的大多数（若不是全部）的提示也应该可以正常工作。
Vim 的一个出众的特点是可以在多个不同的模式中进行操作：
*  命令模式   （    Command Mode    ） 将允许你在文件中跳转和输入命令，这些命令是由一个或多个字母组成的简洁且大小写敏感的组合。假如你想重复执行某个命令特定次数，你可以在这个命令前加上需要重复的次数（这个规则只有极少数例外）。例如， `yy`（或 `Y`，yank 的缩写）可以复制整个当前行，而 `4yy`（或 `4Y`）则复制整个从当前行到接下来的 3 行(总共 4 行)。
* 我们总是可以通过敲击 `Esc` 键来进入命令模式（无论我们正工作在哪个模式下）。
* 在 末行模式   （    Ex Mode    ） 中，你可以操作文件（包括保存当前文件和运行外部的程序或命令）。要进入末行模式，你必须从命令模式中（换言之，输入 `Esc` + `:`)输入一个冒号(`:`)，再直接跟上你想使用的末行模式命令的名称。
* 对于 插入模式   （    Insert Mode    ） ，可以输入字母 `i` 进入，然后只需要输入文字即可。大多数的击键结果都将出现在屏幕中的文本中。
现在，让我们看看如何在 vim 中执行在上一节列举的针对 nano 的相同的操作。不要忘记敲击 Enter 键来确认 vim 命令。
为了从命令行中获取 vim 的完整手册，在命令模式下键入 `:help` 并敲击 Enter 键：
![vim 编辑器帮助菜单](/data/attachment/album/201509/15/231445svvzzavunbvav5kv.png)
*vim 编辑器帮助菜单*
上面的部分呈现出一个内容列表，这些定义的小节则描述了 Vim 的特定话题。要浏览某一个小节，可以将光标放到它的上面，然后按 `Ctrl + ]` （闭方括号）。注意，底部的小节展示的是当前文件的内容。
1、 要保存更改到文件，在命令模式中运行下面命令中的任意一个，就可以达到这个目的：
```
:wq!
:x!
ZZ (是的，两个 ZZ,前面无需添加冒号)
```