by a constant fraction of the overall participant, i.e., f < Î±n for
some protocol-specific threshold 0 â‰¤ Î± â‰¤ 1
2. For instance, Î± = 1
3
for asynchronous BFT consensus, meaning that the protocol can
tolerate up to 33% Byzantine faults.2 The security of chain division
requires the consensus bound to hold for the child chains, too: if fi
denotes the number of faulty nodes in Vi, then we require fi < Î±ini
for i = 1, 2, where Î±1 and Î±2 depend on the consensus protocols
run by the individual chains.
In the rest of this section, we assume for simplicity the same
consensus bounds for all three chains, i.e., Î± = Î±1 = Î±2, and let
chain division split V into two halves, i.e., ni = n
2 . Notice that
if the number of faults in V is just below the tolerated threshold,
i.e., f = âŒŠÎ±(n âˆ’ 1)âŒ‹, preserving security after splitting requires
that the sibling chains contain exactly fi = f
2 faulty nodes each.
Although a randomized assignment is likely to distribute the faulty
nodes equally among the two sibling chains, statistical fluctuations
may create an imbalanceâ€”leading to violating the consensus bound
in one of the sibling chains. In contrast, if the fraction of faulty
participants in V is sufficiently smallâ€”strictly below the consensus
boundâ€”the sibling chains still meet the consensus bounds with
high probability.3 Below we formalize this intuition.
2Different protocols might tolerate a different fraction of faulty nodes, for instance,
Î± = 1/2 suffices for synchronous BFT protocols and asynchronous CFT protocols.
3A similar argument applies to the committee selection in sharding protocols.
779ACSAC â€™21, December 6â€“10, 2021, Virtual Event, USA
Giorgia Azzurra Marson, Sebastien Andreina, Lorenzo Alluminio, Konstantin Munichev, and Ghassan Karame
Figure 2: Probability of violating security when Î±i = 1
plot the upper-bound limit for each probability in dotted lines).
3 (Figure 2a) and Î±i = 1
2 (Figure 2b), and Î² < Î±i. For completeness, we also
Table 2: Relevant variables and symbols.
Variable
Description
Requirements
n
Î±
f
Î²
ni
Î±i
fi
Number of nodes in V
Threshold of tolerated faults in V
Number of faulty nodes in V
Actual fraction of faulty nodes in V
Number of nodes in Vi
Threshold of tolerated faults in Vi
Number of faulty nodes in Vi
â€“
f < Î±n
â€“
f = Î²n
n1 = n2 = n
2
n
fi < Î±i
2
f1 + f2 = f
Let f = Î²n be the actual number of faulty participants in the
parent chain, with Î² < Î±. We assume a randomized process that
assigns each validator in V to either of the sets V1 and V2 uniformly
at random, subject to the restriction that n1 = n2 = n
2 . For the
sake of analysis, we consider n
2 nodes being selected uniformly at
random from V (without replacement) and assigned to V1, and have
the remaining nodes assigned to V2. Then the number of faulty
nodes assigned to each sibling chain, f1 and f2, are dependent
random variables with relation f1 + f2 = f and hypergeometric
distribution fi âˆ¼ H(n, f , n
throughout the analysis.
Table 2 summarizes the relevant variables and symbols used
2 ), which we recall below.
Hypergeometric distribution. A hypergeometric experiments can
be described through the following variables: N , the overall number
of elements; M, the number of elements â€œthat countâ€ (0 â‰¤ M â‰¤ N );
n, the number of elements which are extracted, without repetition,
from the set (0 â‰¤ n â‰¤ N ); and H(N , M, n), the number of elements
that count among the n which have been extracted [20]. Let X be a
random variable with X âˆ¼ H(N , M, n). Then
nâˆ’k
n
(cid:1)(cid:0)Nâˆ’M
(cid:1)
(cid:0)N
Pr[X = k] =
(cid:0)M
(4)
(cid:1)
k
,
with support Supp(X) = {max(0, n + M âˆ’ N), . . . , min(n, M)}, and
expected value E[X] = n M
N .
For 0 â‰¤ t â‰¤ n M
N , the following tail bounds hold:
Pr[X â‰¥ E[X] + tn] â‰¤ e
Pr[X â‰¤ E[X] âˆ’ tn] â‰¤ e
(5)
(6)
Probability of violating security. We are interested in the proba-
âˆ’2t 2n
âˆ’2t 2n
bility that security is violated in either of the child chains:
Pr[f1 â‰¥ Î±n1 âˆ¨ f2 â‰¥ Î±n2] .
(7)
By the relation f1 + f2 = f , and using the parametrization f = Î²n,
we obtain:
n
2
Pr
f1 â‰¥ Î±
âˆ¨ f1 â‰¤ Î²n âˆ’ Î±
By the assumptions made, we have Î²n âˆ’ Î± n
events { f1 â‰¥ Î± n
n
2
2 } and { f1 â‰¤ Î²n âˆ’ Î± n
âˆ¨ f1 â‰¤ Î²n âˆ’ Î±
f1 â‰¥ Î±
(cid:104)
(cid:105)
Pr
=
n
2
.
2 < Î± n
(8)
2 , hence the two
2 } are disjoint. Therefore:
Pr
(9)
We proceed with evaluating the two terms in Equation (9) sepa-
rately, observing that E[f1] = Î² n
2 and using the tail bounds for the
hypergeometric distribution. For the upper tail, we have:
+ Pr
.
f1 â‰¤ Î²n âˆ’ Î±
n
2
(cid:104)
n
2
f1 â‰¥ Î±
(cid:105)
n
2
(cid:104)
(cid:105)
(cid:104)
(cid:105)
(cid:104)
Pr
f1 â‰¥ Î±
n
2
(cid:104)
We obtain a similar expression for the lower tail:
Pr
f1 â‰¤ Î²n âˆ’ Î±
n
2
f1 â‰¤ E[f1] âˆ’ (Î± âˆ’ Î²)n
2
(cid:105)
(cid:105)
f1 â‰¥ (Î± âˆ’ Î²)n
n
2
f1 â‰¥ E[f1] + (Î± âˆ’ Î²)n
2
2 + Î²
(cid:105)
(cid:104)
(cid:104)
= Pr
= Pr
â‰¤ e
(cid:105)
âˆ’(Î±âˆ’Î²)2n .
(cid:104)
= Pr
â‰¤ e
âˆ’(Î±âˆ’Î²)2n
(10)
(11)
(12)
(13)
(14)
(cid:105)
ACSACâ€™21,December6â€“10,2021,VirtualEvent,USAGiorgiaAzzurraMarson,SebastienAndreina,LorenzoAlluminio,KonstantinMunichev,andGhassanKarame00.10.20.300.20.40.60.81ð›½Prob.ð‘›=10ð‘›=40ð‘›=50ð‘›=100(a)ð›¼=13.00.10.20.30.40.500.20.40.60.81ð›½Prob.ð‘›=10ð‘›=40ð‘›=50ð‘›=100(b)ð›¼=12.Figure2:Probabilityofviolatingsecuritywhenð›¼ð‘–=13(Figure2a)andð›¼ð‘–=12(Figure2b),andð›½<ð›¼ð‘–.Forcompleteness,wealsoplottheupper-boundlimitforeachprobabilityindottedlines).Table2:Relevantvariablesandsymbols.VariableDescriptionRequirementsð‘›Numberofnodesinð‘‰â€“ð›¼Thresholdoftoleratedfaultsinð‘‰ð‘“<ð›¼ð‘›ð‘“Numberoffaultynodesinð‘‰â€“ð›½Actualfractionoffaultynodesinð‘‰ð‘“=ð›½ð‘›ð‘›ð‘–Numberofnodesinð‘‰ð‘–ð‘›1=ð‘›2=ð‘›2ð›¼ð‘–Thresholdoftoleratedfaultsinð‘‰ð‘–ð‘“ð‘–<ð›¼ð‘–ð‘›2ð‘“ð‘–Numberoffaultynodesinð‘‰ð‘–ð‘“1+ð‘“2=ð‘“sakeofanalysis,weconsiderð‘›2nodesbeingselecteduniformlyatrandomfromð‘‰(withoutreplacement)andassignedtoð‘‰1,andhavetheremainingnodesassignedtoð‘‰2.Thenthenumberoffaultynodesassignedtoeachsiblingchain,ð‘“1andð‘“2,aredependentrandomvariableswithrelationð‘“1+ð‘“2=ð‘“andhypergeometricdistributionð‘“ð‘–âˆ¼ð»(ð‘›,ð‘“,ð‘›2),whichwerecallbelow.Table2summarizestherelevantvariablesandsymbolsusedthroughouttheanalysis.Hypergeometricdistribution.Ahypergeometricexperimentscanbedescribedthroughthefollowingvariables:ð‘,theoverallnumberofelements;ð‘€,thenumberofelementsâ€œthatcountâ€(0â‰¤ð‘€â‰¤ð‘);ð‘›,thenumberofelementswhichareextracted,withoutrepetition,fromtheset(0â‰¤ð‘›â‰¤ð‘);andð»(ð‘,ð‘€,ð‘›),thenumberofelementsthatcountamongtheð‘›whichhavebeenextracted[20].Letð‘‹bearandomvariablewithð‘‹âˆ¼ð»(ð‘,ð‘€,ð‘›).ThenPr[ð‘‹=ð‘˜]=(cid:0)ð‘€ð‘˜(cid:1)(cid:0)ð‘âˆ’ð‘€ð‘›âˆ’ð‘˜(cid:1)(cid:0)ð‘ð‘›(cid:1),(4)withsupportSupp(ð‘‹)={max(0,ð‘›+ð‘€âˆ’ð‘),...,min(ð‘›,ð‘€)},andexpectedvalueE[ð‘‹]=ð‘›ð‘€ð‘.For0â‰¤ð‘¡â‰¤ð‘›ð‘€ð‘,thefollowingtailboundshold:Pr[ð‘‹â‰¥E[ð‘‹]+ð‘¡ð‘›]â‰¤ð‘’âˆ’2ð‘¡2ð‘›(5)Pr[ð‘‹â‰¤E[ð‘‹]âˆ’ð‘¡ð‘›]â‰¤ð‘’âˆ’2ð‘¡2ð‘›(6)Probabilityofviolatingsecurity.Weareinterestedintheproba-bilitythatsecurityisviolatedineitherofthechildchains:Pr[ð‘“1â‰¥ð›¼ð‘›1âˆ¨ð‘“2â‰¥ð›¼ð‘›2].(7)Bytherelationð‘“1+ð‘“2=ð‘“,andusingtheparametrizationð‘“=ð›½ð‘›,weobtain:Pr(cid:104)ð‘“1â‰¥ð›¼ð‘›2âˆ¨ð‘“1â‰¤ð›½ð‘›âˆ’ð›¼ð‘›2(cid:105).(8)Bytheassumptionsmade,wehaveð›½ð‘›âˆ’ð›¼ð‘›2<ð›¼ð‘›2,hencethetwoevents{ð‘“1â‰¥ð›¼ð‘›2}and{ð‘“1â‰¤ð›½ð‘›âˆ’ð›¼ð‘›2}aredisjoint.Therefore:Pr(cid:104)ð‘“1â‰¥ð›¼ð‘›2âˆ¨ð‘“1â‰¤ð›½ð‘›âˆ’ð›¼ð‘›2(cid:105)=Pr(cid:104)ð‘“1â‰¥ð›¼ð‘›2(cid:105)+Pr(cid:104)ð‘“1â‰¤ð›½ð‘›âˆ’ð›¼ð‘›2(cid:105).(9)WeproceedwithevaluatingthetwotermsinEquation(9)sepa-rately,observingthatE[ð‘“1]=ð›½ð‘›2andusingthetailboundsforthehypergeometricdistribution.Fortheuppertail,wehave:Pr(cid:104)ð‘“1â‰¥ð›¼ð‘›2(cid:105)=Pr(cid:104)ð‘“1â‰¥(ð›¼âˆ’ð›½)ð‘›2+ð›½ð‘›2(cid:105)(10)=Pr(cid:104)ð‘“1â‰¥E[ð‘“1]+(ð›¼âˆ’ð›½)ð‘›2(cid:105)(11)â‰¤ð‘’âˆ’(ð›¼âˆ’ð›½)2ð‘›.(12)Weobtainasimilarexpressionforthelowertail:Pr(cid:104)ð‘“1â‰¤ð›½ð‘›âˆ’ð›¼ð‘›2(cid:105)=Pr(cid:104)ð‘“1â‰¤E[ð‘“1]âˆ’(ð›¼âˆ’ð›½)ð‘›2(cid:105)(13)â‰¤ð‘’âˆ’(ð›¼âˆ’ð›½)2ð‘›(14)780Mitosis: Practically Scaling Permissioned Blockchains
ACSAC â€™21, December 6â€“10, 2021, Virtual Event, USA
We observe that for realistic values of n (i.e., n â‰¤ 200), the tail
bounds from equations (10)-(14) are not tight, leading to a conser-
vative estimation for the probability of violating security. In other
words, the number of tolerated faulty participants in practice is
higher than that derived with the analytic bound. This is well visi-
ble in Figure 2, where we plot the probability of violating security
in a sibling chain, for n âˆˆ {10, 50, 100, 200} and Î±i âˆˆ { 1
2}, along
3 , 1
with the corresponding upper bounds. We approximated the exact
values using the cumulative probability:
Î²n
(cid:0)Î²n
k
(cid:1)
(cid:1)(cid:0)nâˆ’Î²n
(cid:1)
(cid:0) n
2 âˆ’k
n
Pr[fi â‰¥ Î±in] =
k =Î±i
n
2
n
2
.
(15)
Based on the analysis above, we observe that chain division is
guaranteed to preserve security, with high probability, as long as
the actual faulty ratio Î² is below 25% when the maximum faulty
ratio Î±i is 33%, and similarly, for Î² below 40% when Î±i is 50%.
Moreover, as the size of the parent chain increases, Mitosis can
tolerate a higher faulty ratio.
5 INTEGRATION IN HYPERLEDGER FABRIC
Hyperledger Fabric is a popular and modular operating system for
the deployment of permissioned blockchains, developed within an
open-source community effort hosted by the Linux Foundation. Fab-
ric introduces a novel architecture that separates transaction execu-
tion from consensus (i.e., transaction ordering). Namely, the Fabric
architecture uses the execute-order-validate paradigm, which is in
sharp contrast with the traditional order-execute approach used in
prior blockchain and state-machine replication (SMR) deployments.
Such a paradigm shift is the key enabler for the modularity and flex-
ibility of Fabric. The flexible and modular design of Fabric supports
â€œpluggableâ€ consensus, making it particularly attractive for different
applications and use cases. The Fabric architecture allows express-
ing flexible trust assumptions: all clients are untrusted (i.e., they
are considered as potentially malicious), while peers are grouped
into organizations such that mutual trust is assumed within each
organization. This model is suitable for accommodating diverse
application-specific requirements, as it is the case for our satellite