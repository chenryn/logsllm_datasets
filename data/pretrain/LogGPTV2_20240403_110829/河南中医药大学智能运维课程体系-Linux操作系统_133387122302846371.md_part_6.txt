## Page 83
83
NetworkManager
and operation as painless and automatic as possible by managing the primary
Mobile Broadband devices.
· NetworkManager will connect any network device when a connection for
that device becomes available, unless that behavior is disabled.
 Information about networking is exported via a D-Bus interface to any
interested application, providing a rich APl with which to inspect and
---
## Page 84
84
NetworkManager
■ The point of NetworkManager is to make networking configuration and setup
as painless and automatic as possible. If using DHCP NetworkManager is
intended to replace default routes, obtain IP addresses from a DHCP server
and change nameservers whenever it sees fit.
 In effect, the goal of NetworkManager is to make networking Just Work
Whilst it was originally targeted at desktops, it has more recently been chosen as the
default network management software for some non-Debian server-oriented Linux
distributions,but understand that NetworkManager is not intended to serve the
needs of all users.
---
## Page 85
85
CentOS
■CentOS操作系统上有NetworkManager和systemd-networkd两种网络管理工
具，如果两种都配置会引起冲突。
CentOS7及之后版本，主要使用NetworkManager服务来实现网络的配置和管理。
CentOS7以前的版本主要是通过systemd-networkd服务管理网络。
Teach-Demo-172.16.123.201
[root@CentoS7TeachBasic ~]# systemctl status systemd-networkd
Unit systemd-networkd.service could not be found.
[root@CentOS7TeachBasic ~]#
[root@Cent0S7TeachBasic ~]# systemctl status NetworkManager
● NetworkManager.service - Network Manager
Loaded: loaded (/usr/lib/systemd/system/NetworkManager.service; enabled; vendor preset: enabled)
Active: active (running) since 五 2020-03-13 10:49:26 CST; 2h 58min ago
Docs: man:NetworkManager(8)
Main PID: 696 (NetworkManager)
 CGroup: /system.slice/NetworkManager.service
L696 /usr/sbin/NetworkManager --no-daemon
3月
13 10:49:27 Cent0S7TeachBasic NetworkManager[696]: 
[1584067767.9812] device (enp0s3): state...d')
3月
13 10:49:27 Cent0S7TeachBasic NetworkManager[696]: 
[1584067767.9881] device (enp0s3): state...d')
3月
13 10:49:27 Cent0S7TeachBasic NetworkManager[696]: 
[1584067767.9951] device (enp0s3): state...d')
3月
13 10:49:27 Cent0S7TeachBasic NetworkManager[696]: 
[1584067767.9975] device (enp0s3): state...d')
3月
13 10:49:28 Cent0S7TeachBasic NetworkManager[696]: 
[1584067768.0009] manager: NetworkManage...CAL
3月
13 10:49:28 Cent0S7TeachBasic NetworkManager[696]:
：
[1584067768.0250] manager: NetworkManage...ITE
3月
 13 10:49:28 Cent0S7TeachBasic NetworkManager[696]:
[1584067768.0262] policy: set 'enp0s3' (...DNS
3月
13 10:49:28 Cent0S7TeachBasic NetworkManager[696]: 
[1584067768.0320] device (enp0s3): Activ...ed.
3月
13 10:49:28 Cent0S7TeachBasic NetworkManager[696]:
[1584067768.0368] manager: NetworkManage...BAL
3月13 10:49:28Cent0S7TeachBasic NetworkManager[696]:
[1584067768.0400] manager: startup complete
Hint: Some lines were ellipsized, use -l to show in full.
[root@CentoS7TeachBasic~]#
---
## Page 86
86
CentOs
■CentOS操作系统上有 NetworkManager 和 systemd-networkd 两种网络管理工
具，如果两种都配置会引起冲突。
，CentOS7及之后版本，主要使用NetworkManager服务来实现网络的配置和管理。
CentOS7以前的版本主要是通过systemd-networkd服务管理网络。
systemd-networkd 和 NetworkManager是网络管理工具。
，主要通过对Linux Kernel进行交互，实现网卡、网络连接的配置、管理等。
可以不借助任何工具，通过修改配置文件实现对网络配置信息的修改，然后通过
systemd-networkd和NetworkManager启用配置信息并管理网络设备和服务。
---
## Page 87
87
5.网络管理
systemd-networkd & Network Manager
网络配
网络管
网络测
网络监
置工具
理工具
试工具
控工具
net-tools
ethtool
ping
arpwatch
iproute2 : ip
iproute2 : tc
traceroute
iftop
nmcli / nmtui
mtr
ngrep
netplan
tcpdump
河南中医药大学信息技术学院互联网技术教学团队／https://internet.hactcm.edu.cn /http://www.51xueweb.cn
---
## Page 88
88
NetworkDeviceDrivers，网络设备的驱动
Device Independent Interface,统一设备模型
NetworkProtocols，实现网络传输协议
屏蔽不同的硬件设备和网络协议
Protocol Independent Interface
以相同的格式提供接口(socket)
Network Stack,网络子系统
net-tools -
iproute2 : ip -
systemd-networkd
网络配置工具
netplan -①
Network Manager
nmcli-①
ethtool
nmtui-③
网络管理工具
iproute2:tc
SystemCall interface，系统调用接口
ping
网络测试工具
traceroute
mtr
arpwatch
iftop
网络监控工具
ngrep
中
tcpdump
---
## Page 89
89
/etc/netplan/*.yaml
net-tools -2
generate
 iproute2 : ip -④
netplan
https://netplan.io
netplan
yaml
general
backend config
networking
systemd-networkd
radio
Linux kernel
systemd-networkd
网络配置工具
Network Manager
nmcli 
connection
device
Network Manager
ethtool
网络管理工具
agent
iproute2:tc
monitor
System Call interface，系统调用接口
 ping
edit a connection
网络测试工具
traceroute
nmtui
activate a connection
mtr
setsystemhostname
 arpwatch
iftop
网络监控工具
 ngrep
tcpdump
---
## Page 90
90
rarp
hostname
ifconfig
ipmaddr
iptunnel
mii-tool
net-tools
nameif
netstat
 plipconfig
rarp
systemd-networkd
route
网络配置工具
NetworkManager
slattach
System Call interface，系统调用接口
网络管理工具
iproute2: ip -
网络测试工具
③
netplan -①
网络监控工具
④
nmcli -①
-Inwu
---
## Page 91
91
net-tools -2
link
address
addrlabel
route
rule
neigh
ntable
iproute2:ip
[ systemd-networkd
tunnel
网络配置工具
Network Manager
tuntap
System Call interface,系统调用接口
maddress
网络管理工具
mroute
网络测试工具
③
mrule
网络监控工具
④
monitor
xfrm
netplan -①
nmcli -①
nmtui-③
---
## Page 92
92
NetworkDeviceDrivers，网络设备的驱动
Device Independent Interface,统一设备模型
NetworkProtocols，实现网络传输协议
屏蔽不同的硬件设备和网络协议
Protocol Independent Interface
以相同的格式提供接口(socket)
Network Stack,网络子系统
net-tools -
iproute2 :ip -④
systemd-networkd
网络配置工具
netplan -①
Network Manager
nmcli -①
ethtool
nmtui-③
网络管理工具
iproute2:tc
SystemCall interface，系统调用接口
ping
网络测试工具
traceroute
mtr
arpwatch
iftop
网络监控工具
ngrep
tcpdump
---
## Page 93
93
5.网络管理
5.1网络配置工具
 net-tools
12
iproute2:ip
systemd-networkd
网络配置工具
netplan
1
NetworkManager
nmcli 
SystemCallinterface，系统调用接口
网络管理工具
nmtui
网络测试工具
③
网络监控工具
④
河南中医药大学信息技术学院互联网技术教学团队/https://internet.hactcm.edu.cn /http://www.51xueweb.cn
---
## Page 94
94
5.网络管理
5.1网络配置工具
口net-tools起源于BSD的TCP/IP工具箱，后来成为老版本Linux内核中配置网络
功能的工具，但Linux社区自2001年起已对其停止维护。最新的Linux发行版
如Arch Linux、CentOS 7/8、RHEL 7及L以后版本等已经完全抛弃net-tools,
默认仅支持iproute2。
口iproute2的出现旨在从功能上取代net-tools。
1net-tools通过procfs(/proc)和ioctl系统调用去访问和改变内核网络配置，iproute2则通过
netlink套接字接口与内核通讯。
均使用合适的对象抽象去定义，使得用户可使用一致的语法去管理不同的对象。
口目前广泛使用的ifconfig、hostname、mii-tool、netstat、route等管理命令
均属于net-tools工具集，建议彻底抛弃
---
## Page 95
95
5.网络管理
5.1网络配置工具
 net-tools
of commands: arp, hostname, ifconfig, ipmaddr, iptunnel, mii-tool, nameif,
netstat, plipconfig, rarp, route und slattach.
■ net-tools Project Home: http://net-tools.sourceforge.net
net-tools
Project Home: https://sourceforge.net/projects/net-tools/
Commands: arp(8), hostname(1)., ifconfig(8). ipmaddr, iptunnel, mi-tool(8), nameif($), netstat(8). plipconfig(8). rarp(8), route(8) und slattach(8)
Additional mal pages: ethers(5) -- /etc/ethers file for arp(8)
NB: some projects (like Debian and RedHat) use a net-tools based but different hostnam
河南中医药大学信息技术学院互联网技术教学团队 /https://internet.hactcm.edu.cn /http://www.51xueweb.cn
---
## Page 96
96
5.网络管理
5.1网络配置工具
 net-tools
install
安装
[root@Cent0S7TeachBasic ~]# yum install net-tools
已加载插件：fastestmirror
Determining fastest mirrors
* base: mirror.bit. edu. cn
* extras: mirror.bit.edu. cn
* updates: mirror. bit. edu. cn
base
3.6 kB00:00:00
extras
2.9 kB 00:00:00
updates
2.9kB 00:00:00
(1/4) : base/7/x86_64/group_gz
165 kB 00:00:00
(2/4) : extras/7/x86_64/primary_db
164 kB 00:00:00
(3/4) : base/7/x86_64/primary_db
6. 0 MB 00:00:00
(4/4) : updates/7/x86_64/primary_db
|6.7 MB 00:00:01
正在解决依赖关系
-->正在检查事务
--->软件包net-tools.x86_64.0.2.0-0.25.20131004git.e17将被安装
-->解决依赖关系完成
河南中医药大学信息技术学院互联网技术教学团队/https://internet.hactcm.edu.cn /http://www.51xueweb.cn
---
## Page 97
97
5.网络管理
5.1网络配置工具
 net-tools
arp
语法
arp[选项][参数]
选项
-a：
显示arp缓冲区的所有条目；
-H:
指定arp指令使用的地址类型；
-d：
从arp缓冲区中删除指定主机的arp条目；
-D:
使用指定接口的硬件地址；
-e:
以Linux的显示风格显示arp缓冲区中的条目；
-i：
指定要操作arp缓冲区的网络接口；
-s：
设置指定的主机的IP地址与MAC地址的静态映射；
-n:
以数字方式显示arp缓冲区中的条目；
-V:
显示详细的arp缓冲区条目，包括缓冲区条目的统计信息；
-f：
设置主机的IP地址与MAC地址的静态映射。
参数