### LVM 物理卷
选择此选项将分区或设备配置为 LVM 物理卷。如果存储中没有现有的 LVM 卷组，那么这是唯一可用的选择。此时会出现与添加标准分区时相同的对话框。请参考[第 16.17.2 节 "添加分区"](#ch-guimode-ppc.html#Adding_Partitions-ppc){.xref}中的描述。请注意，必须将**文件系统类型**设定为“物理卷 (LVM)”。

![创建 LVM 物理卷](images/diskpartitioning/lvm-pv.png){width="444"}

**图 16.44. 创建 LVM 物理卷**

### 生成 LVM 卷组
选择此选项可以从可用的 LVM 物理卷中创建 LVM 卷组，或者在现有逻辑卷中添加卷组。

![生成 LVM 卷组](images/diskpartitioning/lvm-vg.png){width="444"}

**图 16.45. 生成 LVM 卷组**

要向卷组分配一个或多个物理卷，请首先为卷组命名，然后选择要在卷组中使用的物理卷。最后，在任何卷组中使用**添加**、**编辑**和**删除**按钮来配置逻辑卷。

如果从卷组中删除物理卷会导致该组没有足够的空间用于逻辑卷，则不能删除该物理卷。例如，如果一个卷组由两个 5GB 的 LVM 物理卷组成，并且包含一个 8GB 的逻辑卷，安装程序将不允许删除任何物理卷，因为这样就只为 8GB 的逻辑卷留下了 5GB 的空间。如果减小任意逻辑卷的大小，就可以从卷组中删除该物理卷。在这个示例中，将逻辑卷减小到 4GB 将允许删除一个 5GB 的物理卷。

### 生成逻辑卷
选择此选项可以创建 LVM 逻辑卷。假设其为标准磁盘分区，可以选择挂载点、文件系统类型及大小（单位 MB）。还可以选择逻辑卷名称并指定其所属卷组。

![生成逻辑卷](images/diskpartitioning/lvm-lv.png)

**图 16.46. 生成逻辑卷**

## 推荐的分区方案

除非另有原因，我们建议为 x86、AMD64 和 Intel 64 位系统创建以下分区：

- **swap 分区（至少 256MB）**：使用 swap 分区支持虚拟内存。换句话说，当内存不足以存储系统正在处理的数据时，数据会被写入 swap 分区。
  
  几年前，推荐的 swap 空间的增长与系统中的 RAM 量呈线性关系。但由于现代系统内存已经增加到数百 GB，因此将推荐的 swap 空间视为系统内存负载功能，而不是系统内存。

  以下表格根据系统中的 RAM 量以及是否有足够的 RAM 可让系统休眠提供 swap 空间大小。推荐的 swap 分区会在安装过程中自动建立。但要允许休眠，则需要在自定义分区阶段编辑 swap 空间。

  **重要**：对于低内存（1 GB 或更少）的系统，未能分配足够的 swap 空间可能导致不稳定甚至无法启动。

  | 系统 RAM 容量 | 建议 swap 空间大小 | 允许休眠的建议 swap 空间大小 |
  | ------------- | ------------------ | ---------------------------- |
  | ⩽ 2GB        | RAM 容量的两倍     | RAM 容量的三倍               |
  | > 2GB -- 8GB | 与 RAM 容量相等    | RAM 容量的两倍               |
  | > 8GB -- 64GB| 至少 4GB           | RAM 容量的 1.5 倍            |
  | > 64GB       | 至少 4GB           | 不建议使用休眠功能           |

  在每个范围临界点（例如：使用 2GB、8GB 或者 64GB 系统 RAM 的系统），可以根据所选 swap 空间以及休眠支持自行裁决。如果系统资源允许，增加 swap 空间可能会提高性能。

  注：可以在多个存储设备中分配 swap 空间，特别是对于那些使用高速驱动器、控制程序和接口的系统，这可以提高 swap 空间的性能。

  **注意**：Red Hat Enterprise Linux 6.0、6.1、6.2 中给出的推荐 swap 空间大小与现在不同，现在推荐的大小是 2012 年 6 月在 Red Hat Enterprise Linux 6.3 中给出的，且不依赖休眠空间。自动安装这些 Red Hat Enterprise Linux 6 的早期版本仍会生成 swap 空间，并配置这些已作废的推荐值。但推荐手动选择 Red Hat Enterprise Linux 6.3 中给出的推荐 swap 空间大小值以保证最优性能。

- **PReP boot 分区**：位于硬盘的第一个分区中，包含 [Yaboot]{.application} 引导加载程序（它允许其他 POWER 系统引导 Red Hat Enterprise Linux）。除非计划使用软盘或网络资源引导，否则必须有一个 PReP boot 分区才能引导 Red Hat Enterprise Linux。

  对于 IBM System p 用户：PReP 引导分区应该在 4 到 8MB 之间，不能超过 10MB。

- **/boot 分区（250 MB）**：挂载在 /boot 中的分区含有操作系统内核（它可让您的系统引导 Red Hat Enterprise Linux）以及在引导过程中使用的文件。鉴于多数 PC 固件的限制，创建一个较小的分区来容纳这些文件是一个好办法。对多数用户来说 250 MB 的 boot 分区足以。

  **警告**：如果使用 RAID 卡，请注意 Red Hat Enterprise Linux 6 不支持在 IPR 卡中设置硬件 RAID。在安装前可以引导独立的诊断 CD 以创建 RAID 阵列，然后安装到这个 RAID 阵列。

  **重要**：Red Hat Enterprise Linux 6 中的 /boot 和 /（root）分区只能使用 ext2、ext3 和 ext4（推荐）文件系统。这个分区不能使用其他任何系统，比如 Btrfs、XFS 或 VFAT。其他分区，比如 /home 可以使用任意支持的文件系统，包括 Btrfs 和 XFS（如可用）。详情请查看 Red Hat 客户门户网站文章。

- **root 分区（3.0GB - 5.0GB）**：这是 "/"（root 目录）所在分区。在这个设置中，所有文件（保存在 /boot 中的文件除外）都在 root 分区中。

  3.0GB 大的分区可进行最小安装，而 5.0GB root 分区可执行完全安装，选择所有软件包组群。

  **重要**：Red Hat Enterprise Linux 6 中的 /boot 和 /（root）分区只能使用 ext2、ext3 和 ext4（推荐）文件系统。这个分区不能使用其他任何系统，比如 Btrfs、XFS 或 VFAT。其他分区，比如 /home 可以使用任意支持的文件系统，包括 Btrfs 和 XFS（如可用）。详情请查看 Red Hat 客户门户网站文章。

  **重要**：/（或者 root）分区是目录结构的顶端。/root 目录有时读为"斜杠 root"，是进行系统管理的用户帐户主目录。

**警告**：[PackageKit]{.application} 更新软件默认将更新的软件包下载到 /var/cache/yum/。如果手动为系统分区，并创建独立 /var/ 分区，请确保创建的分区足够大（3.0 GB 以上）以便下载软件包更新。

## 在磁盘中写入更改

安装程序提示确认选择的分区选项。点击 [**在磁盘中写入更改**]{.guibutton}，以便安装程序对硬盘进行分区，并安装 Red Hat Enterprise Linux。

![在磁盘中写入存储配置](images/diskpartitioning/write_changes.png)

**图 16.47. 在磁盘中写入存储配置**

如果确定要执行该操作，请点击 [**在磁盘中写入更改**]{.guibutton}。

**警告**：直到安装过程的这一步，安装程序还没有对您的计算机做出任何永久性更改。点击 [**在磁盘中写入更改**]{.guibutton} 后，安装程序将在硬盘中分配空间，并开始将 Red Hat Enterprise Linux 传送到该空间。根据您的分区选项，这个过程可能包括删除已经保存到计算机中的数据。

要修改目前为止的所选内容，请点击 [**返回**]{.guibutton}。要完全取消安装，请关闭计算机。

点击 [**在磁盘中写入更改**]{.guibutton} 后，则可允许完成安装过程。如果过程被中断（例如：关闭或者复位计算机，或者断电），则可能在重启并完成 Red Hat Enterprise Linux 安装过程，或者安装一个不同的操作系统前使用您的计算机。

## 软件包组的选择

现在已经为安装选择了大多数项目，可以为系统确认默认软件包选择，或者自定义软件包。

出现 [**默认软件包安装**]{.guilabel} 页面，并详细列出 Red Hat Enterprise Linux 安装的默认软件包。根据要安装的 Red Hat Enterprise Linux，这个页面会有所不同。

**重要**：如果使用文本模式安装 Red Hat Enterprise Linux，则不能进行软件包选择。安装程序只能自动从基本和核心组群中选择软件包。这些软件包足以保证系统在安装完成后可操作，并可安装更新和新的软件包。要更改软件包选择，请在完成安装后，使用 [**Add/Remove Software**]{.application} 程序根据需要进行修改。

![软件包组的选择](images/pkgselection/pkg-group-ppc-s390.png){width="444"}

**图 16.48. 软件包组的选择**

默认情况下，Red Hat Enterprise Linux 安装进程载入将系统部署为基本服务器的适当软件选择。请注意这个安装不包含图形环境。要包含适合其他角色的软件选择，请点击对应以下选项单选按钮：

- **基本服务器**：这个选项提供在服务器中使用的 Red Hat Enterprise Linux 基本安装。
- **数据库服务器**：这个选项提供 [MySQL]{.application} 和 [PostgreSQL]{.application} 数据库。