# YUM 命令详解与 VirtualBox 网络配置

## 1. YUM 命令详解

### 1.1 通用选项
- `-e [0-10]`：设置错误等级（范围0~10）
- `-C`：指定配置文件位置
- `--cacheonly`：完全从缓存中运行，不下载或更新任何头文件
- `-R [秒数]`：设置命令的最大等待时间

### 1.2 安装类命令
| 命令 | 说明 |
| --- | --- |
| `yum install yum-fastermirror` | 自动搜索最快镜像插件 |
| `yum install [软件包名称]` | 安装指定的软件包 |
| `yum grouplist` | 查看可以批量安装的软件组列表 |
| `yum groupinstall [软件组名称]` | 批量安装指定的软件组 |

### 1.3 查找和显示类命令
| 命令 | 说明 |
| --- | --- |
| `yum search [关键字]` | 根据关键字查找软件包 |
| `yum deplist [软件包名称]` | 查看软件包的依赖关系 |
| `yum info [软件包名称]` | 显示指定软件包的信息 |
| `yum list` | 显示所有已安装和可安装的软件包 |
| `yum list installed` | 查看已安装的软件包 |
| `yum list [软件包名称]` | 显示指定软件包的安装情况 |
| `yum list all` | 列出仓库中的所有软件包 |
| `yum groupinfo [软件组名称]` | 显示软件组的信息 |
| `yum provides [功能]` | 查看提供特定功能的软件包 |
| `yum whatprovides [文件名]` | 查找包含指定文件的 RPM 包 |

### 1.4 更新类命令
| 命令 | 说明 |
| --- | --- |
| `yum check-update` | 检查可更新的软件包 |
| `yum update` | 更新所有软件包 |
| `yum update [软件包名称]` | 更新指定的软件包 |
| `yum localupdate [本地包路径]` | 升级本地的 RPM 包 |
| `yum groupupdate [软件组名称]` | 更新指定的软件组 |

### 1.5 卸载类命令
| 命令 | 说明 |
| --- | --- |
| `yum remove [软件包名称]` | 删除指定的软件包 |
| `yum groupremove [软件组名称]` | 删除指定的软件组 |
| `yum deplist [软件包名称]` | 查看软件包的依赖关系 |

### 1.6 清除与缓存类命令
| 命令 | 说明 |
| --- | --- |
| `yum clean packages` | 清除缓存目录下的软件包 |
| `yum clean headers` | 清除缓存目录下的头文件 |
| `yum clean oldheaders` | 清除缓存目录下的旧头文件 |
| `yum clean all` | 清除缓存目录下的所有软件包及旧头文件 |

---

## 2. VirtualBox 网络配置

### 2.1 虚拟机网络模式
VirtualBox 支持以下几种网络模式：
- **NAT 网络**：虚拟机通过主机访问互联网。
- **桥接网卡**：虚拟机直接连接到物理网络。
- **内部网络**：虚拟机之间形成局域网。
- **仅主机 (Host-Only) 网络**：虚拟机与主机之间形成局域网。

### 2.2 不同网络模式下的连通性
| 网络模式 | 虚拟机访问互联网 | 虚拟机访问本地主机 | 虚拟机访问其他虚拟机 |
| --- | --- | --- | --- |
| NAT 网络 | √ | × | × |
| 桥接网卡 | √ | √ | × |
| 内部网络 | × | × | √ |
| 仅主机 (Host-Only) 网络 | × | √ | × |

### 2.3 推荐网络配置
- **推荐使用桥接网络模式**，以便虚拟机可以直接连接到物理网络，并且能够与本地主机和其他设备通信。

### 2.4 配置步骤
1. **在 VirtualBox 中修改虚拟机配置**：
   - 关闭虚拟机。
   - 在 VirtualBox 中选择虚拟机，进入“设置” -> “网络” -> “网卡1”。
   - 启用网络连接，将连接方式设置为“桥接网卡”。

2. **在虚拟机操作系统中修改网络配置**：
   - 编辑网络配置文件 `/etc/sysconfig/network-scripts/ifcfg-enp0s3`。
   - 设置静态 IP 地址、子网掩码、网关和 DNS 服务器。
   - 重启网络服务以应用更改。

### 2.5 示例配置
```bash
# 编辑网络配置文件
[root@TeachLinux ~]# vi /etc/sysconfig/network-scripts/ifcfg-enp0s3

# 修改内容
BOOTPROTO=static
ONBOOT=yes
IPADDR=192.168.1.150
NETMASK=255.255.255.0
GATEWAY=192.168.1.1
DNS1=8.8.8.8

# 保存并退出后，重启网络服务
[root@TeachLinux ~]# nmcli c reload enp0s3
```

---

## 3. 学习环境搭建

### 3.1 理想的学习环境
- 在个人计算机上模拟数据中心的应用环境。
- 使用 VirtualBox 创建虚拟机，并配置适当的网络设置，以便进行各种实验和测试。

### 3.2 网络规划
- **本地主机接入互联网**：确保本地主机可以通过无线路由器正常上网。
- **无线路由器配置**：了解无线路由器的局域网配置信息，准备可用的 IP 地址。
- **虚拟机 IP 地址分配**：为虚拟机分配合适的静态 IP 地址，确保其能够与本地主机及其他设备通信。

### 3.3 网络拓扑示例
- **无线路由器 IP 地址**：172.16.123.1
- **本地主机 IP 地址**：172.16.123.100/24
- **虚拟机 IP 地址**：172.16.123.101-130/24
- **网关**：172.16.123.1
- **DNS 服务器**：8.8.8.8

---

河南中医药大学信息技术学院互联网技术教学团队  
官网: <https://internet.hactcm.edu.cn>  
课程资源: <http://www.51xueweb.cn>