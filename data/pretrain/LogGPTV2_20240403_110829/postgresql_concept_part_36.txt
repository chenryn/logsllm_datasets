informationaboutdatatypes).
Outputs
DROP Messagereturnedifthecommandissuccessful.
NOTICERemoveAggregate:aggregate’agg ’for’type’doesnotexist Thismessageoccurs
iftheaggregatefunctionspecifieddoesnotexistinthedatabase.
Description
DROPAGGREGATEwillremoveallreferencestoanexistingaggregatedefinition. Toexecute
thiscommandthecurrentusermustbetheowneroftheaggregate.
338 APPENDIXD. REFERENCEMANUAL
Notes
UseCREATEAGGREGATEtocreateaggregatefunctions.
Usage
Toremovethemyavgaggregatefortypeint4:
DROP AGGREGATE myavg int4;
Compatibility
SQL92
There is no DROP AGGREGATE statement in SQL92; the statement is a Postgres language
extension.
D.33 DROP DATABASE
Name
DROPDATABASE—Removesanexistingdatabase
DROPDATABASEname
Inputs
name Thenameofanexistingdatabasetoremove.
Outputs
DROPDATABASE Thismessageisreturnedifthecommandissuccessful.
ERROR: user’username’isnotallowedtocreate/dropdatabases Youmusthavethespe-
cialCREATEDBprivilegetodropdatabases. SeeCREATEUSER.
ERROR: dropdb: cannotbeexecutedonthetemplatedatabase Thetemplate1databasecan-
notberemoved. It’snotinyourinterest.
ERROR: dropdb: cannotbeexecutedonan opendatabase You cannot be connected to the
database your are about to remove. Instead, you could connect to template1 or any other
databaseandrunthiscommandagain.
ERROR: dropdb: database’name’doesnotexist Thismessageoccursifthespecifieddatabase
doesnotexist.
D.34. DROPFUNCTION 339
ERROR: dropdb:database’name’isnotownedbyyou Youmustbetheownerofthedatabase.
Beingtheownerusuallymeansthatyoucreateditaswell.
ERROR: dropdb:Maynotbecalledinatransactionblock. You must finish the transaction
inprogressbeforeyoucancallthiscommand.
NOTICE:Thedatabase directory’xxx’ couldnotberemoved. Thedatabasewasdropped(un-
lessothererrormessagescameup),butthedirectorywherethedataisstoredcouldnotbe
removed. Youmustdeleteitmanually.
Description
DROPDATABASEremovesthecatalogentriesforanexistingdatabaseanddeletesthedirectory
containingthedata. Itcanonlybeexecutedbythedatabaseowner(usuallytheuserthatcreated
it).
Notes
Thiscommandcannotbeexecutedwhileconnectedtothetargetdatabase. Thus,itmightbemore
convenienttousetheshellscriptdropdb,whichisawrapperaroundthiscommand,instead.
RefertoCREATEDATABASEforinformationonhowtocreateadatabase.
Compatibility
SQL92
DROP DATABASE statement is a Postgres language extension; there is no such command in
SQL92.
D.34 DROP FUNCTION
Name
DROPFUNCTION—Removesauser-definedCfunction
DROPFUNCTIONname([type[,...] ] )
Inputs
name Thenameofanexistingfunction.
type Thetypeoffunctionparameters.
340 APPENDIXD. REFERENCEMANUAL
Outputs
DROP Messagereturnedifthecommandcompletessuccessfully.
NOTICE RemoveFunction:Function"name"("types")doesnotexist Thismessageisgiven
ifthefunctionspecifieddoesnotexistinthecurrentdatabase.
Description
DROP FUNCTION will remove references to an existingC function. To executethis command
the user must be the owner of the function. The input argument types to the function must be
specified,asonlythefunctionwiththegivennameandargumenttypeswillberemoved.
Notes
RefertoCREATEFUNCTION forinformationoncreatingaggregatefunctions.
Nochecksaremadetoensurethattypes,operatorsoraccessmethodsthatrelyonthefunction
havebeenremovedfirst.
Usage
Thiscommandremovesthesquarerootfunction:
DROP FUNCTION sqrt(int4);
Compatibility
SQL92
DROPFUNCTIONisaPostgreslanguageextension.
SQL/PSM
SQL/PSM is a proposed standardto enable function extensibility. The SQL/PSM DROP FUNC-
TIONstatementhasthefollowingsyntax:
DROP[SPECIFIC]FUNCTIONname{RESTRICT|CASCADE}
D.35 DROP GROUP
Name
DROPGROUP—Removesagroup
DROPGROUPname
D.36. DROPINDEX 341
Inputs
name Thenameofanexistinggroup.
Outputs
DROPGROUP Themessagereturnedifthegroupissuccessfullydeleted.
Description
DROP GROUPremovesthe specifiedgroupfrom thedatabase. Theusersinthegrouparenot
deleted.
UseCREATEGROUPtoaddnewgroups,andALTERGROUPtochangeagroup’smember-
ship.
Usage
Todropagroup:
DROP GROUP staff;
Compatibility
SQL92
ThereisnoDROPGROUPinSQL92.
D.36 DROP INDEX
Name
DROPINDEX—Removesanindexfromadatabase
DROPINDEXindex_name
Inputs
index_name Thenameoftheindextoremove.
Outputs
DROP Themessagereturnediftheindexissuccessfullydropped.
ERROR: index "index_name"nonexistent Thismessageoccursifindex_nameisnotanindex
inthedatabase.
342 APPENDIXD. REFERENCEMANUAL
Description
DROPINDEXdropsanexistingindexfromthedatabasesystem. Toexecutethiscommandyou
mustbetheowneroftheindex.
Notes
DROPINDEXisaPostgreslanguageextension.
RefertoCREATEINDEXforinformationonhowtocreateindexes.
Usage
Thiscommandwillremovethetitle_idxindex:
DROP INDEX title_idx;
Compatibility
SQL92
SQL92 defines commands by which to access a generic relational database. Indexes are an
implementation-dependentfeatureandhencetherearenoindex-specificcommandsordefinitions
intheSQL92language.
D.37 DROP LANGUAGE
Name
DROPLANGUAGE—Removesauser-definedprocedurallanguage
DROPPROCEDURALLANGUAGE’name’
Inputs
name Thenameofanexistingprocedurallanguage.
Outputs
DROP Thismessageisreturnedifthelanguageissuccessfullydropped.
ERROR: Language"name"doesn’texist Thismessageoccursifalanguagecallednameisnot
foundinthedatabase.
D.38. DROPOPERATOR 343
Description
DROP PROCEDURAL LANGUAGE will remove the definition of the previously registered
procedurallanguagecalledname.
Notes
TheDROPPROCEDURAL LANGUAGEstatementisaPostgreslanguageextension.
RefertoCREATELANGUAGEforinformationonhowtocreateprocedurallanguages.
No checks are made if functions or trigger procedures registered in this language still exist.
To re-enable them without having to drop and recreate all the functions, the pg_proc’s prolang
attributeofthefunctionsmustbeadjustedtothenewobjectIDoftherecreatedpg_languageentry
forthePL.
Usage
ThiscommandremovesthePL/Samplelanguage:
DROP PROCEDURAL LANGUAGE ’plsample’;
Compatibility
SQL92
ThereisnoDROPPROCEDURALLANGUAGEinSQL92.
D.38 DROP OPERATOR
Name
DROPOPERATOR—Removesanoperatorfromthedatabase
DROPOPERATORid(type|NONE[,...] )
Inputs
id Theidentifierofanexistingoperator.
type Thetypeoffunctionparameters.
344 APPENDIXD. REFERENCEMANUAL
Outputs
DROP Themessagereturnedifthecommandissuccessful.
ERROR: RemoveOperator:binaryoperator’oper’taking’type’and’type2’doesnotexist
Thismessageoccursifthespecifiedbinaryoperatordoesnotexist.
ERROR: RemoveOperator:leftunaryoperator’oper’taking’type’doesnotexist Thismes-
sageoccursiftheleftunaryoperatorspecifieddoesnotexist.
ERROR: RemoveOperator:rightunaryoperator’oper’taking’type’doesnotexist Thismes-
sageoccursiftherightunaryoperatorspecifieddoesnotexist.
Description
DROPOPERATORdropsanexistingoperatorfromthedatabase. Toexecutethiscommandyou
mustbetheowneroftheoperator.
Theleftorrighttypeofaleftorrightunaryoperator,respectively,maybespecifiedasNONE.
Notes
TheDROP OPERATORstatementisaPostgreslanguageextension.
RefertoCREATEOPERATORforinformationonhowtocreateoperators.
Itistheuser’sresponsibilitytoremoveanyaccessmethodsandoperatorclassesthatrelyon
thedeletedoperator.
Usage
Removepoweroperatoraˆnforint4:
DROP OPERATOR ˆ (int4, int4);
Removeleftunarynegationoperator(b!) forbooleans:
DROP OPERATOR ! (none, bool);
Removerightunaryfactorialoperator(! i)forint4:
DROP OPERATOR ! (int4, none);
Compatibility
SQL92
ThereisnoDROPOPERATORinSQL92.
D.39. DROPRULE 345
D.39 DROP RULE
Name
DROPRULE—Removesanexistingrulefromthedatabase
DROPRULEname
Inputs
name Thenameofanexistingruletodrop.
Outputs
DROP Messagereturnedifsuccessful.
ERROR: RewriteGetRuleEventRel:rule"name"notfound Thismessageoccursifthespec-
ifiedruledoesnotexist.
Description
DROP RULE drops a rule from the specifiedPostgres rule system. Postgres will immediately
ceaseenforcingitandwillpurgeitsdefinitionfromthesystemcatalogs.
Notes
TheDROPRULEstatementisaPostgreslanguageextension.
RefertoCREATERULEforinformationonhowtocreaterules.
Oncearuleisdropped,accesstohistoricalinformationtherulehaswrittenmaydisappear.
Usage
Todroptherewriterulenewrule:
DROP RULE newrule;
Compatibility
SQL92
ThereisnoDROPRULEinSQL92.
346 APPENDIXD. REFERENCEMANUAL
D.40 DROP SEQUENCE
Name
DROPSEQUENCE—Removesanexistingsequence
DROPSEQUENCEname[,...]
Inputs
name Thenameofasequence.
Outputs
DROP Themessagereturnedifthesequenceissuccessfullydropped.
NOTICE:Relation"name"doesnotexist. Thismessageoccursifthespecifiedsequencedoes
notexist.
Description
DROPSEQUENCEremovessequencenumbergeneratorsfromthedatabase. Withthecurrent
implementationofsequencesasspecialtablesitworksjustliketheDROPTABLEstatement.
Notes
TheDROP SEQUENCEstatementisaPostgreslanguageextension.
RefertotheCREATESEQUENCEstatementforinformationonhowtocreateasequence.
Usage
Toremovesequenceserialfromdatabase:
DROP SEQUENCE serial;
Compatibility
SQL92
ThereisnoDROPSEQUENCEinSQL92.
D.41. DROPTABLE 347
D.41 DROP TABLE
Name
DROPTABLE—Removesexistingtablesfromadatabase
DROPTABLEname[,...]
Inputs
name Thenameofanexistingtableorviewtodrop.
Outputs
DROP Themessagereturnedifthecommandcompletessuccessfully.
ERRORRelation"name"DoesNotExist! Ifthespecifiedtableor viewdoesnotexistin the
database.
Description
DROPTABLEremovestablesandviewsfromthedatabase. Onlyitsownermaydestroyatable
orview. Atablemaybeemptiedofrows,butnotdestroyed,byusingDELETE.
Ifatablebeingdestroyedhassecondaryindexesonit,theywillberemovedfirst. Theremoval
ofjustasecondaryindexwillnotaffectthecontentsoftheunderlyingtable.
Notes
Refer to CREATE TABLE and ALTER TABLE for information on how to create or modify
tables.
Usage
Todestroytwotables,filmsanddistributors:
DROP TABLE films, distributors;
Compatibility
SQL92
SQL92specifiessomeadditionalcapabilitiesforDROPTABLE:
DROP TABLE table { RESTRICT | CASCADE }
348 APPENDIXD. REFERENCEMANUAL
RESTRICT Ensures that only a table with no dependent views or integrity constraints can be
destroyed.
CASCADE Anyreferencingviewsorintegrityconstraintswillalsobedropped.
Tip: Atpresent,toremoveareferencedviewyoumustdropitexplicitly.
D.42 DROP TRIGGER
Name
DROPTRIGGER—Removesthedefinitionofatrigger
DROPTRIGGERnameONtable
Inputs
name Thenameofanexistingtrigger.
table Thenameofatable.
Outputs
DROP Themessagereturnedifthetriggerissuccessfullydropped.
ERROR: DropTrigger:thereisnotriggernameonrelation"table" This message occurs if
thetriggerspecifieddoesnotexist.
Description
DROP TRIGGER will remove all references to an existing trigger definition. To execute this
commandthecurrentusermustbetheownerofthetrigger.
Notes
DROPTRIGGERisaPostgreslanguageextension.
RefertoCREATETRIGGERforinformationonhowtocreatetriggers.
Usage
Destroytheif_dist_existstriggerontablefilms:
DROP TRIGGER if_dist_exists ON films;
D.43. DROPTYPE 349
Compatibility
SQL92
ThereisnoDROPTRIGGERstatementinSQL92.
D.43 DROP TYPE
Name
DROPTYPE—Removesauser-definedtypefromthesystemcatalogs
DROPTYPEtypename
Inputs