Mac OS X Server
Java Application
Server Administration
For Version 10.3 or Later
Mac OS X Server Java Application 
Server Administration
For Version 10.3 or Later
January 22, 2004
   Apple Computer, Inc.
© 2003 Apple Computer, Inc.
All rights reserved. 
No part of this publication may be 
reproduced, stored in a retrieval 
system, or transmitted, in any form or 
by any means, mechanical, electronic, 
photocopying, recording, or 
otherwise, without prior written 
permission of Apple Computer, Inc., 
with the following exceptions: Any 
person is hereby authorized to store 
documentation on a single computer 
for personal use only and to print 
copies of documentation for personal 
use provided that the documentation 
contains Apple’s copyright notice. 
The Apple logo is a trademark of 
Apple Computer, Inc. 
Use of the “keyboard” Apple logo 
(Option-Shift-K) for commercial 
purposes without the prior written 
consent of Apple may constitute 
trademark infringement and unfair 
competition in violation of federal 
and state laws. 
No licenses, express or implied, are 
granted with respect to any of the 
technology described in this book. 
Apple retains all intellectual property 
rights associated with the technology 
described in this book. This book is 
intended to assist application 
developers to develop applications 
only for Apple-labeled or 
Apple-licensed computers.
Every effort has been made to ensure 
that the information in this document 
is accurate. Apple is not responsible 
for typographical errors.
Apple Computer, Inc.
1 Infinite Loop
Cupertino, CA 95014
408-996-1010
Apple, the Apple logo, Mac, and Mac 
OS are trademarks or Apple 
Computer, Inc., registered in the 
United States and other countries. 
Finder is a trademark or Apple 
Computer, Inc. Java and all 
Java-based trademarks are 
trademarks or registered trademarks 
of Sun Microsystems, Inc. in the U.S. 
and other countries.
Simultaneously published in the 
United States and Canada.
Even though Apple has reviewed this 
manual, APPLE MAKES NO 
WARRANTY OR REPRESENTATION, 
EITHER EXPRESS OR IMPLIED, WITH 
RESPECT TO THIS MANUAL, ITS 
QUALITY, ACCURACY, 
MERCHANTABILITY, OR FITNESS 
FOR A PARTICULAR PURPOSE. AS A 
RESULT, THIS MANUAL IS SOLD “AS 
IS,” AND YOU, THE PURCHASER, ARE 
ASSUMING THE ENTIRE RISK AS TO 
ITS QUALITY AND ACCURACY.
IN NO EVENT WILL APPLE BE LIABLE 
FOR DIRECT, INDIRECT, SPECIAL, 
INCIDENTAL, OR CONSEQUENTIAL 
DAMAGES RESULTING FROM ANY 
DEFECT OR INACCURACY IN THIS 
MANUAL, even if advised of the 
possibility of such damages.
THE WARRANTY AND REMEDIES SET 
FORTH ABOVE ARE EXCLUSIVE AND 
IN LIEU OF ALL OTHERS, ORAL OR 
WRITTEN, EXPRESS OR IMPLIED. No 
Apple dealer, agent, or employee is 
authorized to make any modification, 
extension, or addition to this warranty.
Some states do not allow the exclusion or 
limitation of implied warranties or 
liability for incidental or consequential 
damages, so the above limitation or 
exclusion may not apply to you. This 
warranty gives you specific legal rights, 
and you may also have other rights which 
vary from state to state.
3
  Apple Computer, Inc. January 22, 2004
Contents
Figures and Tables
7
Chapter 1
Introduction to Java Application Server Administration
9
Chapter 2
Application Server Overview
11
JBoss in Mac OS X Server
12
Three Deployment Configurations
13
Chapter 3
Configuring Applications
15
Starting the Application Server
15
Configuring Your Application
18
Starting the JBoss Deployment Tool
18
Loading Your Application
18
Configuring Your Application’s Components
22
Saving a Configured Application
24
Deploying Your Application
25
Chapter 4
Configuring and Deploying Sun’s Pet Store
27
Set Up the Environment
27
Configure the Pet Store Enterprise Application
29
Open the petstore.ear File in the Deployment Tool
29
Configure Application-Wide Settings
31
Configure the AsyncSender Enterprise Bean
31
Configure the Catalog Enterprise Bean
32
Configure the Customer Module
32
4
  Apple Computer, Inc. January 22, 2004 
C O N T
E
N T
S
Configure Module-Wide Settings
32
Configure the Account Enterprise Bean
35
Configure the Address Enterprise Bean
36
Configure the ContactInfo Enterprise Bean
36
Configure the CreditCard Enterprise Bean
36
Configure the Customer Enterprise Bean
37
Configure the Profile Enterprise Bean
37
Configure the PetStore Web Application
37
Configure the SignOn Module
38
Configure the User Enterprise Bean
38
Configure the Counter Enterprise Bean
39
Save the Application
39
Configure the Supplier Enterprise Application
39
Open the supplier.ear file in the Deployment Tool
40
Configure Application-Wide Settings
40
Configure the Supplier Module
40
Configure the Module Settings
40
Configure the Inventory Enterprise Bean
41
Configure the OrderFulfillmentFacade Enterprise Bean
41
Configure the SupplierOrder Message-Driven Bean
41
Configure the SupplierPurchaseOrder Module
42
Configure the Module Settings
42
Configure the Address Enterprise Bean
42
Configure the ContactInfo Enterprise Bean
43
Configure the LineItem Enterprise Bean
43
Configure the SupplierOrder Enterprise Bean
44
Configure the Supplier Web Application Module
44
Save the Application
44
Deploy and Test the Application
45
Chapter 5
Administering Application Servers
47
Logging In to the Management Tool
47
Choosing a Task
51
Managing Application Servers
51
Configuring Application Servers
55
Monitoring Application Servers
56
C O N T
E
N T
S
5
  Apple Computer, Inc. January 22, 2004
Starting and Stopping Services
57
Creating a Data Source
58
Creating a Topic or a Queue
59
Deploying Applications
59
Chapter 6
Balancing User Load and Replicating Sessions
61
Distributable Applications
61
Load Balancing and Clustering
63
Enable Load Balancing in the Web Server
63
Enable Load Balancing in the Application Servers
66
Test the Configuration
67
Appendix A Document Revision History
69
Glossary
71
Index
73
6
  Apple Computer, Inc. January 22, 2004 
C O N T
E
N T
S
7
  Apple Computer, Inc. January 22, 2004
Figures and Tables
Chapter 3
Configuring Applications
15
Figure 3-1
The Load Application window of the deployment tool
19
Figure 3-2
The Loaded Application window
20
Figure 3-3
The deployment-tool main window
21
Figure 3-4
The Quick Config pane of a component’s configuration 
window
23
Figure 3-5
A module-settings window
24
Figure 3-6
The Save Application window of the deployment tool
25
Chapter 4
Configuring and Deploying Sun’s Pet Store
27
Table 4-1
Relationship information for the Customer module
34
Chapter 5
Administering Application Servers
47
Figure 5-1
The Configuration window of the management tool
52
Figure 5-2
The JBoss Management Console window
52
Figure 5-3
The JBoss Management Console window showing the Security 
Configuration pane of the log-in configuration service
53
Figure 5-4
The JBoss Management Console window showing the Statistics pane 
of the Pet Store ShoppingCart enterprise bean
54
Figure 5-5
The JBoss Management Console window showing one of the 
configuration panes for the JMS Directory Service
56
Figure 5-6
The JBoss Management Console window showing the statistics of 
the Deploy Service
57
Figure 5-7
The JBoss Management Console window showing the Start or Stop 
Services pane
58
8
  Apple Computer, Inc. January 22, 2004 
F I G U R
E
S
A N D  
T A B
L
E
S
Chapter 6
Balancing User Load and Replicating Sessions
61
Figure 6-1
The WebApp window of the petstore.ear archive
62
Figure 6-2
The workers.properties file in /etc/httpd
65
Appendix A Document Revision History
69
Table A-1
Document revision history
69
9
  Apple Computer, Inc. January 22, 2004
C H
A P
T
E
R
1
1
Introduction to Java Application 
Server Administration
JBoss is a powerful Java-based open-source application server that is very popular 
among Java 2, Enterprise Edition (J2EE) application developers. This document 
describes how to configure and use the JBoss application server in Mac OS X Server, 
which lets you deploy J2EE applications easily and reliably.
This document is intended for system administrators, J2EE application assemblers, 
and developers. It assumes you have a solid background in system administration 
and J2EE technology. You must be familiar with Mac OS X Server, especially how 
to use Terminal to issue shell commands. Knowledge of database engines, such as 
MySQL, is helpful but not required.
This document has the following chapters:
I
“Application Server Overview” (page 11) provides an overview of JBoss for Mac 
OS X Server.
I
“Configuring Applications” (page 15) explains how to perform certain tasks 
with the deployment tool, such as opening, configuring, and saving application 
archives.
I
“Configuring and Deploying Sun’s Pet Store” (page 27) walks you through 
configuring and deploying Sun’s Pet Store application in Mac OS X Server.
I
“Administering Application Servers” (page 47) teaches you how to manage 
application servers, which are JBoss instances running on one or more 
computers.
I
“Balancing User Load and Replicating Sessions” (page 61) explains how to 
enable an application to be distributable among cluster nodes and walks you 
through configuring HTTP load balancing for Pet Store using three computers.
This document also contains a revision history, a glossary, and an index.
10
  Apple Computer, Inc. January 22, 2004 
C H
A P
T
E
R
1
Introduction to Java Application Server Administration
To use this document to its fullest, you should download its companion files, which 
are packaged in Application_Server_companion.zip, located in the same webpage 
from which you obtained this document.
For an introduction to J2EE, visit http://java.sun.com/j2ee. You can get detailed 
information on JBoss at http://jboss.org.
11
  Apple Computer, Inc. January 22, 2004
C H A P
T
E
R
2
2
Application Server Overview
JBoss is an open-source highly popular Java-based application server. Based on the 
Java 2, Enterprise Edition (J2EE) platform, JBoss provides an affordable delivery 
system for enterprise applications. Applications that follow the J2EE standard can 
be deployed on other application servers, such as WebLogic, WebSphere, and JRun, 
with little or no modification. JBoss provides many useful features in addition those 
defined in the J2EE standard, including support for clustering, session replication, 
mail, and security.
Mac OS X Server includes two easy-to-use, HTML-based tools that facilitate the 
configuration of J2EE applications for deployment: The deployment tool and the 
management tool. The deployment tool allows you to open application or 
component archives (EAR files, WAR files, JAR files, SAR files, and so on) without 