necessaryfor JITimprovements.
14/23
Advantages of Parallel Shard Access
◮ Canuselibpq’s asynchronousAPI to issuemultiplepending
queries
◮ Idealfor queries thatmustrun on every shard,e.g.,
◮ restrictionsonstatictables
◮ querieswithnosharded-keyreference
◮ querieswithmultipleshared-keyreferences
◮ Parallelaggregationacross shards
15/23
Joins With Replicated Tables
SQL Queries
PG FDW
SQL Queries
with joins to static data
and static data restrictions
Foreign S. Foreign S. Foreign S.
repl. repl. repl.
16/23
Implementing Joins With Replicated Tables
Joins withreplicated tables allow joinpushdownwherethequery
restriction is onthereplicated (lookup)tableandnotonthesharded
column. Tablescan bereplicated to shardsusinglogicalreplication.
Theoptimizermust beableto adjustjoinpushdownbasedon which
tables arereplicated ontheshards.
17/23
Shard Management
SQL Queries
PG FDW
DDL Queries
Foreign Server Foreign Server Foreign Server
Shard managementwill beaddedto theexisting partitioningsyntax,
which wasaddedin Postgres 10.
18/23