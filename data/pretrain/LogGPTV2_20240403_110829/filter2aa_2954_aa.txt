© 2021 Akamai | Confidential
1
解码API安全
威胁、挑战和最佳实践
无处不在的API
API是数字化体验的中⼼
•
移动应⽤
•
⽹站和应⽤程序依赖于 API 来实现核⼼功（例
如登录）
•
基于微服务的现代架构
•
API使得多⽤户体验更强⼤
•
法规要求使⽤Web API
(如PSD2 / Open Banking)
API
WEB应用攻击的 演进
Time
Complexity
Web应用攻击
•
DoS
•
Unvalidated Input
•
Authentication
•
Code execution
对Web应用和基
础设施的攻击
•
Buffer overflow
•
DoS/DDoS 
•
XSS & SQLi
•
Zero trust
针对web应用、基础设施、API
和浏览器的多种攻击方式
•
Bots
•
API threats
•
Client-side threats
•
Multi-vector DDoS
•
Phishing (Use of DGA)
借助智能化和自动化的编排工具，
通过武器化的机器学习算法和AI
技术进行多种的攻击方式
Deep learning and AI
TODAY
© 2021 Akamai | Confidential
4
API 攻击 - 是攻击者的最佳选择
和传统攻击模式相比，API具有更
好的攻击效果和更低廉的成本
4X
利用API的更多的撞库
攻击
API有更多的安全问
题和更多的脆弱性
© 2021 Akamai | Confidential
5
不断增长的API安全的重要性
多云混合环境
微服务架构
SaaS / IaaS / PaaS
移动
API的增长 - Akamai
•
API 请求占所有流量的83% 
•
API 的年增长为 30%
•
在2024年API的调用将达到 42 Trillion
“By 2022, API abuses will be the 
most-frequent attack vector resulting 
in data breaches for enterprise web 
applications.”
- Gartner Research, “How to Build an Effective API Security Strategy”
2021 – API Vulnerabilities disclosed for 
GraphQL Security, Facebook, YouTube, 
NoxPlayer, Clubhouse, healthcare apps, 
VMWare & Microsoft etc.  
- APISecurity.io is a community website for all things related to API 
security
更多的应用和逻辑迁移到云端
更强调创新的速度和敏捷性
API的可视化一直是一个大问题
缺乏日志和监控
组织经常低估API的威胁
§
低估影响
§
不充分的访问限制
§
采用过时的防护方法
§
没有API的报告
§
由于合作伙伴生态环境的集成经常低
估风险
为什么API的安全如此严峻?
© 2021 Akamai | Confidential
7
了解API的攻击界面
由于第三方API的集成导致的风险的增加
利用JSON/XML和Parser的攻击不断增长，并且导致
了严重的业务中断
基于API的应用是HTML应用的3倍之多
攻击者利用了脆弱的认证和授权的实现
注入类型的攻击始终相关和普遍
攻击界面在转换
Specific attacks on 
JSON / XML and 
parser based
Application 
vulnerabilities
3rd party integration
Login abuse
DoS / DDoS
Auth
Unauthorized use
API
© 2021 Akamai | Confidential
8
撞库
DDoS
通过突发的分布式请求
来淹没API的端点
API 解析
通过Hash碰撞或者反
序列化的方法攻击API
语法解析的能力
畸形的API请求
对API输入的数据进行
模糊测试，并对API
schema进行深度嵌套
应用漏洞
在JSON/XML负载中
嵌入SQLi，XSS脚本
利用已知漏洞进行攻
击
认证和授权
通过失效的对象级授
权和失效的认证绕过
认证和授权的控制
API攻击类型
认证
可用性
API暴露和授权问题
token / cookie
提取
© 2021 Akamai | Confidential
9
调查问卷1：
您的单位都遭受过哪一类的API安全威胁？
o
撞库
o
DDoS
o
畸形的API请求
o
应用漏洞
o
认证和授权
关注二维码，了解更多信息
暴露API参数
购买凭证
诈骗犯
验证凭证
僵尸网络
Usernam
e
Passwor
d
LO
GIN
Usernam
e
Passwor
d
LO
GIN
Usernam
e
Passwor
d
LO
GIN
登录API
客户侧
买票、薅羊毛
忠实用户
个人信息
经济获益
个人信息和奖励积分
凭证滥用
账户接管
凭证泄露
APIs – 令人垂涎的凭证滥用的目标
| 在2018-2020间, 出现了1000亿次的攻击
© 2021 Akamai | Confidential
12
针对API的凭证滥用处于增长趋势
| 在2018-2020期间, 出现1000亿次攻击. 每一年复杂度和攻击量都在增加
凭证滥用带来的损失高达
$22.8million
60%_新的僵尸活动都会涉及到凭证窃取
每
30
有一位身份被窃取的受害者
秒
金融服务中的凭证滥用
API被利用是其他行业的4倍之多
例 #1: 
API 风险暴露在商业生态环境中
源站回应
用户请求
SaaS合作伙伴
API请求在SaaS合作伙伴和源站间进行交互
API 风险暴露在商业生态环境中
针对SaaS合作方的DDoS攻击
如果单单依靠合作伙伴的安全措施，源站很难得以保障
源站
DDoS攻击
SaaS合作伙伴
例 #2: 数据通过API的响应被泄露
开发人员经常假设系统将按预期使用
“只有我的手机APP呼叫我的API”
curl https://api.orderinput.com/v1/sku\
-u sku_4bC39lelyjwGarjt:\
-d currency=usd\
-d inventory [type]=finite\
-d inventory[quantity]=500\-d price=3\
-d product=prod_BgrChzDbl\
-d attributes[size]=medium]
http 200 OK
https ://success.api.orderinput.com/v1/sku
-id order_number=14586
1
简单的订单会请求订单条目API
2
API的回应包括了一些有趣的数据
例 #2: 数据通过API的响应被泄露
开发人员很少考虑攻击场景，尤其是非传统场景。
“连续的订单号是有意义的”
但如果我在不同的时间和地域提交后续订单呢?
http 200 OK
https ://success.api.orderinput.com/v1/sku
-id order_number=23697
例 #3: 对微服务架构的攻击
DevOps 通过API功能在云端实现⾃动化
开发者在GitHub上共享代码
Code Sharing
GitHub
IT