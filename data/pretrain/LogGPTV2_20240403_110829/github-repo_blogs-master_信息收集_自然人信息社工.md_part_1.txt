人，是网络安全全流程中最大的弱点。针对人的攻击往往有出奇不意的效果。而想要利用人的弱点进行攻击，那么对目标的信息收集与了解就是非常重要的了。这篇文章记录了一些常用的用于对人进行身份信息收集的技术。这些技术常被用于溯源取证、社工攻击。
## 0x00 社工分析中的身份信息收集
关于人的社工分析有很多维度的信息都值得被关注。但不管怎样，开展身份信息社工工作往往都是从一些关于人的最基本的信息开始的，身份信息的收集过程就是尽可能使用有限信息关联出其他信息的过程。
这里，将关于人的信息，简单分为两大类。
第一类，基本信息。如：**姓名**，**昵称**，**手机号码**，**邮箱地址**，**各类证件**，**社交账号**。这类信息能在溯源中帮助确定人的身份。是人在进行社交过程中不可避免使用的信息，用来在社会中表明他的身份，是在社会中生活的名片。
第二类，其他信息。如：**居住地**、**爱好**、**家庭状况**、**婚姻状态**、**职业**。这类信息能帮助我们更好的了解一个人的生活习惯与生活状态，代表人的特点。在生成定制化的社工字典时很有用。
下面介绍常用到的信息收集方法。
### 1 搜索引擎关键字检索
最傻但往往最有效的办法，就是关键字搜索。但想要达到比较好的效果，依赖不少条件：
1.关键字不能过于过于大众化，可以选择多个与目标相关的关键字组合；
2.目标必须在互联网上有一定的活跃度;
3.尽量使用google、duckduckgo等国外搜索引擎。他们的屏蔽的网页与结果较少。
### 2 已注册网站查询
互联网上存在一类网站，这类网站旨在收集并存储用户的各种活动信息用以构建用户画像，或收集历次信息泄露事件中的数据库。这里先不讨论此类网站动机如何，是否真实有效，但一定程度上也给其他人提供了获得目标更多信息的方式。通过泛社工库查询，可以获得目标注册过的社交网站、甚至旧密码。
#### 2.1 REG007
查询**邮箱**、**手机号**注册过哪些社交平台：www.reg007.com
#### 2.2 手工查询
使用个网站的注册功能输入目标的邮箱地址或手机号，查看页面是否提示该邮箱、手机号被占用。
### 3 社工库查询
搭建社工库泄露用户隐私数据是犯法的。公网上很难找到，提供泄露数据细节的社工库，如果真的有，那么其动机也是值得高度怀疑的，使用时输入的信息极有可能被记录，用于溯源与黑吃黑。比较多的是一类脱敏后的网站，帮助用户查询自己的信息是否泄露。这两种方式都能帮助判断目标是否注册了某平台的账号。
#### 3.1 泄露检查查询
| 网站名          | 地址                        | 可查询项                         |
| --------------- | --------------------------- | -------------------------------- |
| Firefox Monitor | https://monitor.firefox.com | 邮箱                             |
| HaveIBeenPwned  | https://haveibeenpwned.com  | 邮箱                             |
| Aleph           | https://aleph.occrp.org/    | 名称、手机号码、邮箱             |
| snusbase        | https://snusbase.com/       | 邮箱、名称、IP、电话、哈希、密码 |
| checkusernames  | https://checkusernames.com/ | 名称                             |
| Intelligence X  | https://intelx.io/          | 邮箱、IP、CIDR、比特币地址       |
| dehashed        | http://www.dehashed.com/    | 邮箱、用户名、IP                 |
| IsLeaked        | https://isleaked.com/       | 邮箱                             |
| KnowEm          | https://knowem.com/         | 名称                             |
#### 3.2 社工库查询
### 4 姓名确认术
#### 4.1 通过手机号确定姓名
1> 支付宝
当手机号绑定了支付宝且完成了实名认证时，通过支付宝转账功能可以查到对方的姓名。
如果对方的姓名只有两个字，只需手工猜出姓即可。
如果对方的姓名多于两个字，可以知道最后一个名，并通过枚举姓的方式确定到姓。
通过以上的方式，能保证在未实际转账的情况下获得姓名中的绝大部分。如果使用支付宝使用**工商银行**/**网商银行**进行转账，且转账成功，那么在银行app的查询明细中能看到姓名全称。
ps: 微信的“**银行卡或手机号转账**”也有相同的效果，但是开通微信手机号转账的人很少。
2> 钉钉
如果目标使用过钉钉，可以使用在钉钉内使用手机号搜索，可以直接查出用户名。
3> 社工库
#### 4.2 百家姓频数表
鉴于有时需要用到姓名猜测，有一个关于姓的频数统计表还是蛮有作用的，能帮我们从高频到低频尽快的猜到正确的姓。
```text
李 王 张 刘 陈 杨 赵 黄 周 吴 徐 孙 胡 朱 高 林 何 郭 马 罗 梁 宋 郑 谢 韩 唐 冯 于 董 萧 程 曹 袁 邓 许 傅 沈 曾 彭 吕 苏 卢 蒋 蔡 贾 丁 魏 薛 叶 阎 余 潘 杜 戴 夏 钟 汪 田 任 姜 范 方 石 姚 谭 廖 邹 熊 金 陆 郝 孔 白 崔 康 毛 邱 秦 江 史 顾 侯 邵 孟 龙 万 段 漕 钱 汤 尹 黎 易 常 武 乔 贺 赖 龚 文 庞 樊 兰 殷 施 陶 洪 翟 安 颜 倪 严 牛 温 芦 季 俞 章 鲁 葛 伍 韦 申 尤 毕 聂 丛 焦 向 柳 邢 路 岳 齐 沿 梅 莫 庄 辛 管 祝 左 涂 谷 祁 时 舒 耿 牟 卜 路 詹 关 苗 凌 费 纪 靳 盛 童 欧 甄 项 曲 成 游 阳 裴 席 卫 查 屈 鲍 位 覃 霍 翁 隋 植 甘 景 薄 单 包 司 柏 宁 柯 阮 桂 闵 欧阳 解 强 柴 华 车 冉 房 边 滕 晋 苑 邬 臧 畅 宫 来  苟 全 褚 廉 简 娄 盖 符 奚 木 穆 党 燕 郎 邸 冀 谈 姬 屠 连 郜 晏 栾 郁 商 蒙 计 喻 揭 窦 迟 宇 敖 糜 鄢 冷 卓 花 仇 艾 蓝 都 巩 稽 井 练 仲 乐 虞 卞 封 竺 冼 原 官 衣 楚 佟 栗 匡 宗 应 台 巫 鞠 僧 桑 荆 谌 银 扬 
```
### 5 社交账号社工术
#### 5.1 微信、支付宝
微信、支付宝直接在添加好友处搜手机号
#### 5.2 QQ、快手、抖音、百度云网盘、京东、脉脉、网易云、微博
将手机号存入通讯录，然后在以下社交账号内开启通讯录同步，点**添加/发现好友**，获得对方社交账号。（需要开启应用访问通讯录权限）
#### 5.3 搜索引擎关键词查找
在google、duckduckgo上搜索手机号
#### 5.4 社工库
### 6 位置信息
#### 6.1 时区
通过人的社交时间、语言、分享动态推断目标大致所在的时区。
#### 6.2 精确位置
**屌丝级**：**各类带有地理位置元数据的文件**、**keep**、**行者**、**朋友圈**分享的位置记录
**黑客级**：欺骗用户安装能够实时获取GPS坐标的APP、诱导用户点击获取位置的链接
**政府级**：利用小区基站实现定位、利用信令漏洞定位
#### 6.3 通过IP查地理位置
IP地理位置查询：https://qifu.baidu.com/?activeKey=SEARCH_IP
IP地址定位：https://www.ipuu.net
### 7 邮箱信息收集
显然的，腾讯系的邮箱基本都是以数字打头的，暴露了QQ号。
部分网易126，163邮箱以手机号命名，暴露了手机号。
部分邮箱以名称+数字命名，暴露了姓名。
#### 7.1 收方回溯发方地址
查看邮件信件代码，标头内可以看到发送者的地址信息。