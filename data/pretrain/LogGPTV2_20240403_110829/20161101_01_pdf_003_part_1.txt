培训
PostgreSQL 9.3
Day 1
digoal.zhou
2013/12/5
个人介绍
 周正中 (Digoal.zhou)
 网名: 德哥
 杭州斯凯网络科技有限公司(Nasdaq: MOBI)数据库技术经理
 PostgreSQL相关经历介绍
 2008 (初次接触PostgreSQL, 负责斯凯所有数据库管理工作.)
 发布Oracle培训视频(冷备份与恢复,热备份与克隆, RMAN catalog的创建和使用,备份方案设计,RMAN恢复, RMAN
数据迁移, RMAN远程复制, RMAN创建DATAGUARD, logminer使用,statspack使用)
 2010 - PostgreSQL培训视频(数据库管理) , GreenPlum培训视频(架构, 管理)
 2010
 淘宝华东区数据库交流 - 
 2011
 DTCC中国数据库技术大会 - 
 PostgreSQL第一届全国大会 - , 
 PostgreSQL中国用户会成立, 在用户会负责PG数据库推广工作 以及 担任PG BBS管理板块版主
 组织华东区PostgreSQL数据库技术交流
 负责结算,营帐,认证等系统Oracle全面转PostgreSQL项目
个人介绍
 2012
 主讲 PostgreSQL 9.1 2DAY DBA免费培训
 华东区PostgreSQL交流 - ,,,,,
 PostgreSQL全国大会 - 
 2013
 PG实时大数据统计项目(友情支持), 每日数据超过1亿的多维度实时分析系统, (仅用1台8核服务器实现超过30个维
度的实时统计)
 筹办PG全国大会 - , 
 其他
 为PostgreSQL社区做出的一些小贡献: 软件, pg_cluster, pg_arch_cloud, pg_monitor_api, pg_cloud, sar_collect,
pg_nagios_plug(lock,csvlog)...
 文章, 851+篇(涉及PostgreSQL内核,源码,管理,开发,设计,性能优化,安全,水平扩展,复制,空间数据库等)
 书籍(eBook) - PostgreSQL内核动态跟踪(已完成初稿), PostgreSQL管理与优化(策划中), PostgreSQL企业应用案例(策划中)
 博客 : http://blog.163.com/digoal@126
 git : https://github.com/digoal
 QQ : 276732431
课程内容
 Day - 1
 PostgreSQL系统概述
 目标:
 了解PostgreSQL的发展历程, 国内外PG社区组成和运作,
 了解PG的特性, 与其他流行关系数据库的比对, 如何安装PostgreSQL等.
 体系结构
 目标:
 了解系统表以及系统表之间的关系, 系统视图, 管理函数等
 了解PG进程结构
 了解PG物理结构, 数据库逻辑概貌, 物理概貌, 可靠性等.
 使用基础
 目标:
 了解常用的数据库交互工具的使用
 了解PG数据库的数据类型体系, 以及表操作
PostgreSQL 系统概述
 发展史
 国内外社区运作
 特性
 与其他流行关系数据库的比对
 安装
 参考资料
PostgreSQL发展史
 PostgreSQL历史
 全球社区介绍
 中国社区介绍
 PostgreSQL发布历程
 PostgreSQL里程碑
 PostgreSQL数据库全球使用情况
PostgreSQL历史
 1973 University INGRES (起源于IBM System R的一系列文档, Michael Stonebraker and Eugene Wong)
 1982 INGRES
 1985 post-Ingres
 1988 POSTGRES version 1 - 1993 version 4 (END)
 1995 Postgres95 (伯克利大学学生Andrew Yu, Jolly Chen重写了SQL解释器, 替换原项目中的基于Ingres的SQL解释器)
 1996 更为PostgreSQL, 发布第一个开源版本.
PostgreSQL 全球贡献者
 Core Team成员
 Josh Berkus (USA, PostgreSQL Experts Inc.)
 主要负责PG推广, 性能测试, 优化, 文档编辑等工作.
 Peter Eisentraut (USA, MeetMe.com)
 主要负责了系统建设, 移植, 文档编辑, 国际化, 以及其他增强性的代码工作.
 Magnus Hagander (Sweden, redpill-linpro.se)
 帮助维护PostgreSQL WEB主站及基础设施, win32的移植, 以及系统认证等工作.
 Tom Lane (USA, Salesforce)
 遍及PostgreSQL代码的各个角落, 包括BUG评估和修复, 性能改进, 优化等.
 Bruce Momjian (USA, EnterpriseDB)
 负责维护TODO和FAQ列表, 代码, 发布版本补丁以及培训.
 Dave Page (United Kingdom, EnterpriseDB)
 负责pgadmin的开发和维护工作, 同时负责管理postgresql.org主站工程, PostgreSQL的安装程序等.
 主要贡献者
 http://www.postgresql.org/community/contributors/
 Committers (PI:EMAIL/postgresql.git)
 目前有20位committer. (http://wiki.postgresql.org/wiki/Committers)
PostgreSQL 全球赞助商
 PostgreSQL全球赞助商 (最新 http://www.postgresql.org/about/sponsors/)
 赞助商分级
 赞助商列表
PostgreSQL中国用户会介绍
 PostgreSQL中国用户会
 促进PostgreSQL在中国发展的非盈利组织
 PostgreSQL在中国发展简史
 199x何伟平建立bbs, 中文网站, 展开文档以及PG网站各板块的翻译工作,
 2011年全国大会, 广州暨南大学
 galy牵头组织第一次全国pg大会, 组建中国PG用户会, 成员7人, 负责PG在中国的推广.
 成员(galy,孙鹏,泥鳅,少聪,digoal, Louis, 阿弟)
 2012年全国大会, 北京人民大学
 铃木(pg-xc架构师@ntt), simon, magus, Andrew(@Instagram) 等外宾带来的一些
 2013年全国大会, 杭州斯凯网络
 用户会职能工作细化. 成立几个职能小组(商业支持,网站维护,文档翻译,内核开发,…)
 国内近期和PostgreSQL相关的线下活动
 2011 DTCC
 2011 淘宝华东区数据库技术交流
 2011 第一届PG全国大会
 2012 上海, 广州, 深圳, 北京, 杭州, 成都等地区域PG交流活动
 2012 北京, 杭州免费的2天课时PG DBA培训活动
 2013 各地的区域性PG交流,培训活动, …
PostgreSQL中文BBS统计(截至201312)
http://bbs.pgsqldb.com/client/index.php
PostgreSQL 发布历程
PostgreSQL 里程碑
Release First release Latest minor version Latest release Milestones
0.01 1995-05-01 0.03 1995-07-21 Initial release as Postgres95
1.0 1995-09-05 1.09 1996-11-04 Changed copyright to a more liberal license
6.0 1997-01-29 — Name change from Postgres95 to PostgreSQL, unique indexes, pg_dumpall utility, ident authentication.
6.1 1997-06-08 6.1.1 1997-07-22 Multi-column indexes, sequences, money data type, GEQO (GEnetic Query Optimizer).
6.2 1997-10-02 6.2.1 1997-10-17 JDBC interface, triggers, server programming interface, constraints.
6.3 1998-03-01 6.3.2 1998-04-07 SQL92 subselect capability, PL/pgTCL
6.4 1998-10-30 6.4.2 1998-12-20 VIEWs and RULEs, PL/pgSQL
6.5 1999-06-09 6.5.3 1999-10-13 MVCC, temporary tables, more SQL statement support (CASE, INTERSECT, and EXCEPT)
7.0 2000-05-08 7.0.3 2000-11-11 Foreign keys, SQL92 syntax for joins
7.1 2001-04-13 7.1.3 2001-08-15 Write-ahead log, Outer joins
7.2 2002-02-04 7.2.8 2005-05-09 PL/Python, OIDs no longer required, internationalization of messages
7.3 2002-11-27 7.3.21 2008-01-07 Schema, Internationalization
7.4 2003-11-17 7.4.30 2010-10-04 Optimization all-round
8.0 2005-01-19 8.0.26 2010-10-04 Native server on Microsoft Windows, savepoints, tablespaces, exception handling in functions, point-in-time recovery
8.1 2005-11-08 8.1.23 2010-12-16 Performance optimization, two-phase commit, table partitioning, index bitmap scan, shared row locking, roles
8.2 2006-12-05 8.2.23 2011-09-26 Performance optimization, online index builds, advisory locks, warm standby
8.3 2008-02-04 8.3.23 2013-02-07 Heap-only tuples, full text search, SQL/XML, ENUM types, UUID types
Windowing functions, default and variadic parameters for functions, column-level permissions, parallel database
8.4 2009-07-01 8.4.18 2013-10-10
restore, per-database collation, common table expressions and recursive queries
PostgreSQL 里程碑
Release First release Latest minor version Latest release Milestones
Built-in binary streaming replication, Hot standby, 64-bit Windows, per-column triggers and conditional trigger
9.0 2010-09-20 9.0.14 2013-10-10
execution, exclusion constraints, anonymous code blocks, named parameters, password rules
Synchronous replication, per-column collations, unlogged tables, k-nearest-neighbor indexing, serializable snapshot
9.1 2011-09-12 9.1.10 2013-10-10 isolation, writeable common table expressions, SE-Linux integration, extensions, SQL/MED attached tables (Foreign
Data Wrappers), triggers on views
Cascading streaming replication, index-only scans, native JSONsupport, improved lock management, range types,
9.2 2012-09-10 9.2.5 2013-10-10
pg_receivexlog tool, space-partitioned GiST indexes
Custom background workers, data checksums, dedicated JSON operators, LATERAL JOIN, faster pg_dump, new
9.3 2013-09-09 9.3.1 2013-10-10
pg_isready server monitoring tool, trigger features, view features, writeable foreign tables, replication improvements
PostgreSQL数据库全球使用情况
 生物制药 {Affymetrix(基因芯片), 美国化学协会, gene(结构生物学应用案例), …}
 电子商务 { CD BABY, etsy(与淘宝类似), whitepages, flightstats, Endpoint Corporation …}
 学校 {加州大学伯克利分校, 哈佛大学互联网与社会中心, .LRN, 莫斯科国立大学, 悉尼大学, …}
 金融 {Journyx, LLC, trusecommerce(类似支付宝), …}
 游戏 {MobyGames, …}
 政府 {美国国家气象局, 印度国家物理实验室, 联合国儿童基金, 美国疾病控制和预防中心, 美国国务院, …}
 医疗 {calorieking, 开源电子病历项目, shannon医学中心, …}
 制造业 {Exoteric Networks}
 媒体 {IMDB.com, 美国华盛顿邮报国会投票数据库, MacWorld, 绿色和平组织, …}
 开源项目 {Bricolage, Debian, FreshPorts, FLPR, PostGIS, SourceForge, OpenACS, Gforge, …}
 零售 {ADP, CTC, Safeway, Tsutaya, Rockport, …}
 科技 {Sony, MySpace, Yahoo, Afilias, APPLE, 富士通, Omniti, Red Hat, Sirius IT, SUN, 国际空间站, Instagram, Disqus, …}
 通信 {Cisco, Juniper, NTT(日本电信), Optus, Skype, Tlestra(澳洲电讯), …}
 物流 {SF}
 More : http://www.postgresql.org/about/users/
PostgreSQL特性
 PostgreSQL 许可
 PostgreSQL 支持的SQL标准
 PostgreSQL 扩展特性介绍
 企业特性
 PostgreSQL In BigData
 PostgreSQL In Cloud
 PostgreSQL 与其他数据库(Oracle, MySQL, Hadoop)的应用案例对比
PostgreSQL 许可
 许可, http://opensource.org/licenses/postgresql
 This is a template license. The body of the license starts at the end of this paragraph. To use it, say that it is The PostgreSQL
License, and then substitute the copyright year and name of the copyright holder into the body of the license. Then put the license
into a prominent file ("COPYRIGHT", "LICENSE" or "COPYING" are common names for this file) in your software
distribution.
 Copyright (c) $YEAR, $ORGANIZATION
 Permission to use, copy, modify, and distribute this software and its documentation for any purpose, without fee, and without a
written agreement is hereby granted, provided that the above copyright notice and this paragraph and the following two
paragraphs appear in all copies.
 IN NO EVENT SHALL $ORGANISATION BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT, SPECIAL,
INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS, ARISING OUT OF THE USE OF THIS
SOFTWARE AND ITS DOCUMENTATION, EVEN IF $ORGANISATION HAS BEEN ADVISED OF THE POSSIBILITY
OF SUCH DAMAGE.
 $ORGANISATION SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE
PROVIDED HEREUNDER IS ON AN "AS IS" BASIS, AND $ORGANISATION HAS NO OBLIGATIONS TO PROVIDE
MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
许可 PostgreSQL vs MySQL
 PostgreSQL(Copyfree) license VS MySQL(Copyleft) license
 http://www.wikivs.com/wiki/Copyfree_vs_Copyleft
 PostgreSQL Permission to use, copy, modify, and distribute this software and its documentation for any purpose, without fee,
and without a written agreement is hereby granted, provided that the above copyright notice and this paragraph and the following
two paragraphs appear in all copies.
 MySQL's source code is available under terms of the GNU General Public License, which also fits the Free Software and Open
Source definitions and conforms to the Debian Free Software Guidelines (but not to the Copyfree Standard). It is also available
under a proprietary license agreement, which is typically intended for use by those who wish to release software incorporating
MySQL code without having to release the source code for the entire application. In practical terms, this means that MySQL can
be distributed with or without source code, as can PostgreSQL, but to distribute without source code in the case of MySQL
requires paying Oracle for a MySQL Commercial License.
PostgreSQL 遵循的SQL标准
 标准,
 ISO/IEC 9075:2011
 ISO/IEC 9075-1 Framework (SQL/Framework)
 ISO/IEC 9075-2 Foundation (SQL/Foundation)
 ISO/IEC 9075-3 Call Level Interface (SQL/CLI)
 ISO/IEC 9075-4 Persistent Stored Modules (SQL/PSM)
 ISO/IEC 9075-9 Management of External Data (SQL/MED)
 ISO/IEC 9075-10 Object Language Bindings (SQL/OLB)
 ISO/IEC 9075-11 Information and Definition Schemas (SQL/Schemata)
 ISO/IEC 9075-13 Routines and Types using the Java Language (SQL/JRT)
 ISO/IEC 9075-14 XML-related specifications (SQL/XML)
 http://www.postgresql.org/docs/9.3/static/features.html
 http://www.postgresql.org/docs/9.3/static/features-sql-standard.html
 http://www.postgresql.org/docs/9.3/static/unsupported-features-sql-standard.html
 灰色部分PostgreSQL未涉及
PostgreSQL 扩展特性
 标准扩展特性矩阵
▲ ▲