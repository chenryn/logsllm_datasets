popular servers, advertised IPv6 routing preﬁxes, and active web-
based measurements embedded in the RIPE web site. Aben found
that in 2011/2012 around 6–7% of clients were IPv6 capable and
2–3% of clients preferred IPv6. Anderson [39] measured a client
dual-stack failure rate of 0.015% at two web sites in Norway in
May 2011.
We measured 6% of IPv6-capable connections, which is consis-
tent with the 6% observed in [14] (for EU countries) and the 6–7%
measured in [15]. We measured 1–2% of connections that preferred
IPv6 over IPv4. This is much higher than the 0.25% measured in
[13], but lower than the 2–3% reported in [15] and the 4.8% upper
bound reported in [30]. Our dual-stack failure rate is much higher
than the rate reported in [39], because our proportion is based on
the connections with DNS AAAA requests and not on all connec-
tions. As proportion of all connections our estimate is 0.02–0.09%.
Compared to most previous studies we sampled a wider range
of clients and domains, including clients sampled by our novel
Google-ad based measurement approach. Also, we provide a
more comprehensive analysis, e.g. we distinguish between IPv6-
preferred and IPv6-capable (including latent Windows Teredo)
clients, and analyse the IPv6 capabilities of the clients’ resolving
DNS servers. Furthermore, only our study analyses the client sam-
ple properties, discusses the sampling error and proposes methods
to mitigate the error.
7. CONCLUSIONS AND FUTURE WORK
Despite the predicted exhaustion of unallocated IPv4 addresses
in the next two years, it remains unclear how many clients can use
its successor IPv6. We proposed a reﬁned web-based measurement
approach that mitigates intrinsic measurement biases, and demon-
strated a novel web-based technique using Google ads to perform
IPv6 capability testing on a wider range of clients. To mitigate the
sampling error we re-weighted the raw data. We compared raw and
re-weighted OS and browser statistics with reference statistics and
showed that our raw statistics appear biased, but the re-weighted
statistics are similar to the reference. We then used the re-weighted
statistics to estimate the IPv6 capabilities of clients.
We observed slightly over 6% of connections from IPv6-capable
clients, but over 70% of these were from Windows clients that used
6to4 tunnelling and did not prefer IPv6 in dual-stack. Only 1–2%
of connections were from clients with native IPv6, but over 90% of
Figure 20: Percentage of connections from clients with native
IPv6 that used happy eyeballs – overall and by winning proto-
col (IPv4 or IPv6)
Figure 21: Percentage of connections from clients with native
IPv6 that used happy eyeballs by web browser
servers. They do not provide any insights into the IPv6-capabilities
of clients and we only brieﬂy mention them. Leber [6] tracked
the percentage of Autonomous Systems (ASs) that advertised IPv6
preﬁxes, and the percentage of top level domains and top-1000 web
servers (based on Alexa) that were IPv6-capable (had DNS AAAA
records). Prior [7] monitored the IPv6 capability of web, email,
DNS, and NTP servers of certain domains. Kuehne [8] surveyed
the IPv6 deployment by querying web and email servers of the top
domains from Alexa for DNS AAAA records. Nikkah et al. [36]
compared the performance of IPv4 and IPv6 based on accessing
a larger number of IPv6-capable web servers. CAIDA [37] visu-
alised the IPv6 Internet topology based on routing information and
active probing.
Other studies analysed server logs and traﬃc traces. They only
reveal the fraction of clients that preferred IPv6 over IPv4, but they
cannot reveal the IPv6 capabilities of all clients. Also, some of
these studies did not analyse the former, but focussed on other as-
pects, such as the IPv6 technologies used. Karpilovsky et al. [9]
analysed the proportion of diﬀerent IPv6 technologies used based
on NetFlow data, but they did not analyse the overall proportion of
IPv6 traﬃc. Shen et al. [10] studied the IPv6 deployment and the
applications using IPv6 in China based on NetFlow records. They
focused on the IPv6 techniques and addressing schemes used, but
did not estimate the proportion of IPv6 traﬃc. Malone [5] anal-
ysed the proportion of IPv6 addresses from three server logs (Web,
Percentage of native v6 capable that use happy eyeballsDate16May201125Jun201104Aug201113Sep201123Oct201102Dec201111Jan201220Feb201205101520Native IPv6 connections withhappy eyeballs [%]GGGGGGGTotalIPv6 winsIPv4 winsercentage of unicast v6 capable that use happy eyeballs by browserDate16May201125Jun201104Aug201113Sep201123Oct201102Dec201111Jan201220Feb201202468101214Native IPv6 connections withhappy eyeballs [%]ChromeSafariFirefox97them preferred IPv6 in dual-stack. The dual-stack failure rate (as
percentage of connections with DNS AAAA requests) was under
1%, but we observed an increasing trend. The use of happy eyeballs
(fast fail-over from IPv6 to IPv4) rose to over 20% of connections
from clients with native IPv6.
The percentage of connections with IPv6-capable resolving DNS
servers increased signiﬁcantly from 40% to nearly 60%. On
the other hand, the percentage of connections from IPv6-capable
clients and the percentage of clients that preferred IPv6 peaked
around IPv6 day 2011, decreased slightly and then remained rel-
atively constant. The IPv6-capable percentage actually decreased
slightly. However, this decrease was caused by a decline in 6to4
connections, while the percentage of native IPv6 connections in-
creased very slightly. Overall, the trends suggest that the adoption
of IPv6 by clients is still very slow, at least in the client sample
we observed. However, the increasing percentage of connections
with IPv6-capable DNS servers is encouraging, as it could indicate
an increased number of dual-stack DNS servers and possibly an
increased IPv6-capability of ISPs.
We noticed a clear diﬀerence between weekdays and weekends,
most likely driven by the diﬀerent capabilities of work and home
clients. The proportion of native IPv6 connections was higher
during the week, whereas the proportion of 6to4 and Teredo was
higher on weekends. The proportion of IPv6-capable connections
was roughly similar for Windows, MacOS X and Linux. How-
ever, while 80% of the Windows connections relied on 6to4, most
MacOS X and Linux connections used native IPv6.
An additional 15–20% of all connections from Windows 7 and
Windows Vista clients could use IPv6 with Teredo. However, by
default the Windows resolver does not ask for DNS AAAA records
if the only IPv6 network interface is a Teredo interface, so these
clients are not truly IPv6-capable. Without Teredo only 10% of
connections from Windows Vista or Windows 7 clients were IPv6-
capable, but with Teredo the percentage increased to 20–30% for
Windows Vista and 40–50% for Windows 7.
Our Google ad based measurement technique could be used for
other types of client-based measurements, if they can be performed
with the functionality of ActionScript available in Google Flash ad
banners. Our current test script already measures the delays for
fetching the test images [32], and this information could possibly
be used to analyse clients’ network access technologies. Another
possibility is to estimate the bottleneck capacities of clients with
a tailored packet-pair measurement approach. Our proposed re-
weighting method could be applied to other problems where a ge-
ographically biased sample of Internet clients is observed.
In the future we plan to increase the sample size, estimate the
size of the sampling error, and improve the sampling error reduc-
tion. We also plan to extend our measurement methodology, so that
we can determine IPv6 failures more accurately and identify their
causes.
Acknowledgements
We thank our shepherd Kenjiro Cho and the anonymous review-
ers for their helpful comments. This research was supported under
Australian Research Council’s Linkage Projects funding scheme
(project LP110100240) in conjunction with APNIC Pty Ltd and by
Australian Research Council grant FT0991594.
8. REFERENCES
[1] I. van Beijnum. Running IPv6 . Apress, Nov. 2005.
[2] S. Frankel, R. Graveman, J. Pearce, M. Rooks. Guidelines
for the Secure Deployment of IPv6. NIST SP 800-119, Dec.
2010.
[3] G. Huston. IPv4 Address Report.
http://www.potaroo.net/tools/ipv4/index.html.
[4] kc claﬀy. Tracking IPv6 Evolution: Data We Have and Data
We Need. ACM SIGCOMM Computer Communication
Review (CCR), (3):43–48, Jul 2011.
[5] D. Malone. Observations of IPv6 Addresses. In Passive and
Active Measurement Conference (PAM), pages 21–30, 2008.
[6] M. Leber. Global ipv6 deployment.
http://bgp.he.net/ipv6-progress-report.cgi.
[7] M. Prior. IPv6 Status Survey.
http://www.mrp.net/IPv6_Survey.html.
[8] T. Kuehne. Examining Actual State of IPv6 Deployment,
2008. http://www.circleid.com/posts/81166_
actual_state_ipv6_deployment.
[9] E. Karpilovsky, A. Gerber, D. Pei, J. Rexford, A. Shaikh.
Quantifying the Extent of IPv6 Deployment. In Passive and
Active Measurement Conference (PAM), pages 13–22, 2009.
[10] W. Shen, Y. Chen, Q. Zhang, Y. Chen, B. Deng, X. Li, G. Lv.
Observations of IPv6 Traﬃc. In ISECS Computing,
Communication, Control, and Management (CCCM), pages
278–282, August 2009.
[11] C. Labovitz. IPv6 Momentum? http://ddos.
arbornetworks.com/2010/10/ipv6-momentum/.
[12] S. Steﬀann. IPv6 test, 2008. http://ipv6test.max.nl/.
[13] L. Colitti, S. Gunderson, E. Kline, T. Reﬁce. Evaluating IPv6
Adoption in the Internet. In Passive and Active Measurement
Conference, pages 141–150. April 2010.
[14] R. Smets. IPv6 Deployment Monitoring, December 2010.
http://ipv6-ghent.fi-week.eu/files/2010/12/
1335-Rob-Smets-v2.pdf.
[15] E. Aben. Measuring World IPv6 Day - Long-Term Eﬀects,
2011. https://labs.ripe.net/Members/emileaben/
measuring-world-ipv6-day-long-term-effects.
[16] C. Huitema. Teredo: Tunneling IPv6 over UDP through
Network Address Translations (NATs). RFC 4380 (Proposed
Standard), February 2006.
[17] D. Wing, A. Yourtchenko. Happy Eyeballs: Success with
Dual-Stack Hosts. RFC 6555 (Proposed Standard), April
2012.
[18] Microsoft Technet. DNS Client Behavior in Windows Vista.
http://technet.microsoft.com/en-us/library/
bb727035.aspx.
[19] G. Huston, G. Michaelson. IPv6 Capability Tracker, 2012.
http://labs.apnic.net/tracker.shtml.
[20] N. C. Zakas. How many users have JavaScript disabled?,
Oct. 2010. http:
//developer.yahoo.com/blogs/ydn/posts/2010/10/
how-many-users-have-javascript-disabled/.
[21] S. Ramachandran. Web metrics: Size and number of
resources, 2010. https://developers.google.com/
speed/articles/web-metrics.
[22] Browserscope. Community-driven project for proﬁling web
browsers.
http://www.browserscope.org/?category=network.
[23] MaxMind’s GeoIP Country Database.
http://www.maxmind.com/app/geoip_country.
[24] Cisco Systems. Visual Network Index.
http://www.cisco.com/en/US/netsol/ns827/
networking_solutions_sub_solution.html.
98[25] Wikimedia Traﬃc Analysis, March 2012.
http://stats.wikimedia.org/wikimedia/squids/
SquidReportPageViewsPerCountryOverview.htm.
[26] Advanced Network Technology Center, University of
Oregon. University of Oregon Route Views Project, 2012.
http://www.routeviews.org/.
[27] A. Korinek, J. A. Mistiaen, M. Ravallion. An Econometric
Method of Correcting for Unit Nonresponse Bias in Surveys.
Journal of Econometrics, 136(1):213–235, 2007.
[28] Wikipedia. Usage share of operating systems, May 2012.
http:
//en.wikipedia.org/w/index.php?title=Usage_
share_of_operating_systems&oldid=490169177.
[29] Wikipedia. Usage share of web browsers, May 2012.
http://en.wikipedia.org/w/index.php?title=
Usage_share_of_web_browsers&oldid=490374342.
[30] C. Kreibich, N. Weaver, B. Nechaev, V. Paxson. Netalyzr:
Illuminating the Edge Network. In ACM SIGCOMM
Conference on Internet Measurement, pages 246–259, 2010.
[31] R. Despres. IPv6 Rapid Deployment on IPv4 Infrastructures
(6rd). RFC 5569 (Informational), January 2010.
[32] S. Zander, L. L. H. Andrew, G. Armitage, G. Huston, G.
Michaelson. Investigating the IPv6 Teredo Tunnelling
Capability and Performance of Internet Clients. SIGCOMM
CCR. (accepted for publication, to appear).
[33] Chrome Repository. Chrome Happy Eyeballs.
http://src.chromium.org/viewvc/chrome?view=
rev\&revision=85934.
[34] E. Aben. Hampered Eyeballs. https://labs.ripe.net/
Members/emileaben/hampered-eyeballs.
[35] Mozilla Bugzilla. Firefox happy Eyeballs. https:
//bugzilla.mozilla.org/show_bug.cgi?id=621558.
[36] M. Nikkhah, R. Guérin, Y. Lee, R. Woundy. Assessing IPv6
through web access a measurement study and its ﬁndings. In
Conference on Emerging Networking EXperiments and
Technologies (CoNEXT), pages 26:1–26:12, 2011.
[37] CAIDA. IPv4 and IPv6 AS Core: Visualizing IPv4 and IPv6
Internet Topology at a Macroscopic Scale in 2010.
http://www.caida.org/research/topology/as_
core_network/.
[38] M. Defeche, E. Vyncke. Measuring IPv6 Traﬃc in
BitTorrent Networks. IETF draft-vyncke-ipv6-traﬃc-
in-p2p-networks-01.txt, March 2012.
[39] T. Anderson. IPv6 Dual-stack Client Loss in Norway.
http://fud.no/ipv6/.
99