system settings. Another option, for both ﬁrmwares, is to root the device, in
this case Orbot will automatically transparent proxy all TCP traﬃc.
Development on this port is going strong but what is still missing is a
trusted secure browser. However, there’s an ongoing eﬀort in porting Mozilla
Fennec over to this operating system [18], this will open the road to a port of
TorButton [19] for the mobile version of Mozilla browser, which could bring
to the community the ﬁrst secure mobile browser for anonymous communi-
cations.
7
MobileTor: Tor On The iPhone and iPod
Touch Platforms
iPhone and iPod Touch devices are great mobile platforms: they oﬀer quite
good computing power, nice multimedia hardware and a responsive operating
system, all packed in a small, portable form factor [20] [21]. It’s no surprise
that such devices are getting a bigger slice of the growing mobile marketshare.
The growth and diﬀusions of these products is also due to the availability
of a continuously growing application marketplace known as App Store [22]
and an underground, live, development community built around Cydia [23]
[24].
Choosing between the oﬃcial route using the Apple iPhone SDK [25] or
the underground one with the open source development toolchain [26] [27] is
not an easy task: both of them have some pros and cons. When I started
looking into them for developing a port of Tor on the iPhone I had to make
the choice and went down for the open source road. The outcome was in
part forced by the stringent rules for applications submissions to the App
Store which prevents submitting new daemons so, for the initial testing and
development, it was the open source one.
The ﬁrst port of Tor on the iPhone platform was done by cjacker huang
in December 2007 [28]: he patched the program to have it build and run
5
under ﬁrst versions of the iPhone ﬁrmware together with a working port of
privoxy and he also provided iTor.app, a graphical controller application.
Unfortunately, some time later, he disappered together with iTor.app source
code and binaries: only his patches, accepted and merged into Tor source
tree, survived the event. In February 2010 I began my work from what he
left: I polished his own patches as no more necessaries with the growth of
both ﬁrmware versions and Tor code base and I start oﬀering an up to date,
working Tor port for the iPhone again.
My currently working setup includes a Slackware Linux 13.0 64bit open
source toolchain built against iPhone OS version 3.1.2 and a local Tele-
sphoreo [29] checkout. Packages are built following Jay Freeman packaging
conventions for Cydia and hosted at my own online repository available at
http://sid77.slackware.it/iphone/.
Right now, the ﬁrst phase of the project is completed: we ﬁnally have a
full working port of the command line version of Tor being able to run on
iPhone and iPod Touch devices. The program can both be used as an entry
point for the Tor network, as a traﬃc relaying node either over wireless or
cellular data networks and as an host for hidden services too.
The second phase of development is going on: even if the port is working
well, it can only be used via an SSH connection from a computer or directly on
the device using MobileTerminal [30]. These solutions are quite inappropriate
for the average user and there’s need for a graphical controller application
for Tor on the iPhone. A ﬁrst approach is to implement an SBSettings [31]
switch: the user will still have to upload or edit on the device a working
conﬁguration but there will be no more need for the command line interface
in order to start and stop Tor, just a tap on the appropriate icon. Such a
program is ready and soon available in my repository under the name of Tor
Toggle. A second, more complete, approach is the writing of a Vidalia-like
[17] application: this is the best solution for controlling and managing the
behavior of Tor on such devices but it’s still under heavy development and
not yet ready for publication.
Even if Tor on the iPhone is growing well, there’re some areas which
still need to be addressed. First of all, there’s lack of a Tor-secure browser:
the iPhone and iPod Touch are currently running Mobile Safari or WebKit
based browsers only, tests need to be run to examine such enviroments and
possibly ensure a secure anonymous browsing experience as much as it will
be allowed by the platform. Another issue is the ability to only set an HTTP
proxy from the wireless preference panel: SOCKS proxy are left out. Even if
this annoyance is easily bypassed by providing a working polipo port, using
Tor as plain SOCKS proxy could have been interesting. Last, the biggest
stopper is the inability to set a proxy for the cellular network: the only way
6
to do so, for now, is to plug the phone in a VPN and then setting a proxy from
there, plain VPN-less cellular data connections can not be proxied yet. All
of these problems are strictly related to the platform and operating system
but they yet impact the adoption of Tor on such mobile devices.
8
Conclusions
On the mobile communications front, Tor has been ported on diﬀerent, ex-
otic and unusual platforms, such as the Chumby One, the Nokia N900 and
Android-based devices.
My work has been focused in getting Tor running on the iPhone and
iPod touch and it’s currently working very well. What it’s still needed is
a good, secure, browser for anonymous communications on such platforms,
this could be either a result of a good securing work for browsers already
available or a newer one written from scratch. Finally, a graphical controller
application is yet to be written in order to help with adoption and diﬀusion
of this program.
7
References
[1] The Tor Project. https://www.torproject.org/.
[2] Running
a
Tor
relay.
https://www.torproject.org/docs/
tor-doc-relay.html.en.
[3] Chris Paget, Karsten Nohl. GSM: SRSLY? http://events.ccc.de/
congress/2009/Fahrplan/events/3654.en.html.
[4] Fabio Pietrosanti. Mobile Security. Security Summit, 2010.
[5] BlackBerry Help Center. Encryption. http://docs.blackberry.com/
en/smartphone users/deliverables/1487/Encryption 34117 11.
jsp.
[6] BlackBerry
Help
Center.
About
content
protection.
http:
//docs.blackberry.com/en/smartphone users/deliverables/
1487/About content protection 29009 11.jsp.
[7] bunnie:studios.
Tor
Bridge
on
chumby
One.
http://www.
bunniestudios.com/blog/?p=800.
[8] Jacob Appelbaum.
Chumby One and running a bridge.
http://
archives.seul.org/or/talk/Feb-2010/msg00261.html.
[9] Jacob
Appelbaum.
Tor
on
the
Nokia
N900
(Maemo)
GSM
telephone.
https://blog.torproject.org/blog/
tor-nokia-n900-maemo-gsm-telephone.
[10] The Tor Project. Tor: N900 Instructions. https://www.torproject.
org/docs/N900.html.
[11] Jacob Appelbaum. Tor on Android. https://blog.torproject.org/
blog/tor-android.
[12] The Tor Project.
Tor:
Android Instructions.
https://www.
torproject.org/docs/android.html.
[13] The Tor Project. Chumby Tor sources. https://svn.torproject.org/
svn/projects/chumby/.
[14] bunnie:studios.
Make
Your
Own
3G
Router.
http://www.
bunniestudios.com/blog/?p=1076.
[15] Maemo Community. Tor. http://maemo.org/packages/view/tor/.
8
[16] Maemo
Community.
Extras-devel.
http://wiki.maemo.org/
Extras-devel.
[17] The Tor Project. Vidalia. http://www.torproject.org/vidalia/.
[18] Mozilla Wiki. Android. https://wiki.mozilla.org/Android.
[19] TorButton. https://www.torproject.org/torbutton/.
[20] Apple. Apple - iPhone - Technical Speciﬁcations. http://www.apple.
com/iphone/specs.html.
[21] Apple. Apple - iPod Touch - Technical Speciﬁcations for iPod Touch.
http://www.apple.com/ipodtouch/specs.html.
[22] Apple. Apple - iPhone - Download thousand of iPhone applications.
http://www.apple.com/iphone/apps-for-iphone/.
[23] Jay Freeman (saurik). Cydia. http://cydia.saurik.com/.
[24] Jay Freeman (saurik).
Bringing Debian APT to the iPhone.
http:
//www.saurik.com/id/1.
[25] Apple. iPhone SDK. http://developer.apple.com/iphone/.
[26] Jay Freeman (saurik). Upgrading the iPhone Toolchain. http://www.
saurik.com/id/4.
[27] iphonedevonlinux. http://code.google.com/p/iphonedevonlinux/.
[28] cjacker huang. Tor and privoxy had been ported to iphone and works
very well. http://archives.seul.org/or/dev/Dec-2007/msg00023.
html.
[29] Jay Freeman (saurik). Telesphoreo Tangelo. http://www.telesphoreo.
org/.
[30] Mobile Terminal. http://code.google.com/p/mobileterminal/.
[31] BigBoss. The Future of BossPrefs. http://thebigboss.org/2008/10/
19/the-future-of-bossprefs/.
9