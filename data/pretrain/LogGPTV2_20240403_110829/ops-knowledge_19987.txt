User: Please write a shell script that starts a Node.js application and automatically restarts it when it crashes.
Assistant: The following is an example of a simple shell script that can be used to start a Node.js application and automatically restart it when it crashes: ``` #!/bin/bash # Set program name and path APP_NAME="myapp" APP_PATH="/path /to/myapp" # Set the monitoring log file path LOG_PATH="/var/log/myapp.log" # Loop start the program and monitor the log output while true; do # Start the program node $APP_PATH/$APP_NAME.js >> $LOG_PATH 2>&1 & # Monitor log tail -f $LOG_PATH | while read LOGLINE do # If keywords appear in the log, restart the program if echo $LOGLINE | grep -q "error"; then echo "Restarting $APP_NAME due to error. .." pkill node break fi done done ``` In the above example, we first set the name and path of the Node.js application to start, and the path to the log file to monitor. Then we use an infinite loop to start the program and monitor the log output. If the keyword ("error" in this example) appears in the log, the script will restart the program. The way to restart the program is to use the pkill command to kill all running Node.js processes. When the program crashes, the loop restarts the program and continues to monitor log output.