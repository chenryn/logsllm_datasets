Postgres Advanced Server Installation Guide available from the EnterpriseDB website
located at:
https://www.enterprisedb.com/resources/product-documentation
Note: Although the following primarily describes the installation of xDB Replication
Server version 6.2, access to the RPM packages for prior xDB Replication Server
versions are also described in order to differentiate the installation of these different
versions.
Each xDB Replication Server component is available as an individual RPM package.
Thus, you can install all xDB Replication Server components with a single yum
install command, or you may choose to install selected, individual components by
installing only those particular RPM packages.
The following table lists the RPM packages and the xDB Replication Server component
it contains.
Table 3-1 - xDB Replication Server Component RPM Packages
Package Name xDB Replication Server Component
ppas-xdb All components
xDB Replication Console and the xDB Replication Server
ppas-xdb-console
Command Line Interface
ppas-xdb-publisher Publication server
ppas-xdb-subscriber Subscription server
ppas-xdb-libs Library files required by all components
The Advanced Server server libs package must be available for access by Yum when
installing any xDB RPM package component. The edb-asxx-server-libs package is
a component of the Advanced Server repository package for version 9.6 or later. The
ppasxx-server-libs package is a component of the Advanced Server repository
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 113
EDB Postgres Replication Server User’s Guide
package for version 9.5 or earlier. Step 3 shows how to enable access to the Advanced
Server repository so Yum can access its server libs package.
To install any of the packages, invoke the following command as the root account:
yum install package_name
package_name is any of the packages listed under the Package Name column of the
preceding table.
For example to install all xDB components, invoke the following:
yum install ppas-xdb
To install only the xDB Replication Console and xDB Replication Server Command Line
Interface, invoke the following:
yum install ppas-xdb-console
To install only the publication server, invoke the following:
yum install ppas-xdb-publisher
Note: Though all xDB components are dependent upon and thus require installation of
the server libs package, by using Yum, the dependency on the server libs is recognized
when any xDB component is installed. Yum automatically installs the server libs package
from the enabled Advanced Server repository along with your selected xDB RPM
package.
The following are the steps to perform a complete xDB Replication Server installation
with all xDB components.
Step 1: You must have Java Runtime Environment (JRE) version 1.7 or later installed on
the hosts where you intend to install any xDB Replication Server component (xDB
Replication Console, publication server, or subscription server). Any Java product such
as Oracle Java or OpenJDK may be used.
Follow the directions for your host operating system to install Java runtime.
Note: For Advanced Server versions prior to 9.3, a Java runtime is supplied and installed
as part of the Advanced Server installation process, however, you must still have pre-
installed a separate Java runtime system on your host. The xDB Replication Server
installation process does not utilize the Java runtime supplied with Advanced Server.
Step 2: From the EDB Yum Repository, click on the edb-repo link to download the
repository RPM for all EnterpriseDB RPMs.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 114
EDB Postgres Replication Server User’s Guide
As the root account, issue the following command to install this repository
configuration package:
[root@localhost ~]# rpm -ivh edb-repo-latest.noarch.rpm
Preparing... ########################################### [100%]
1:edb-repo ########################################### [100%]
Step 3: In directory /etc/yum.repos.d, the repository configuration file edb.repo is
created, which is a text file containing a list of EnterpriseDB repositories, each denoted
by an entry starting with the text [repository_name].
Access to the packages in any of these repositories is accomplished by enabling the
repository by editing the following in the repository entry:
 Using your requested credentials for the EDB Yum Repository, substitute the user
name and password for the : placeholders of the
baseurl parameter.
 Change the setting of the enabled parameter to enabled=1.
For example, to access the server libs package from the repository for Advanced Server
version 9.6, enable the following entry:
[edbas96]
name=EnterpriseDB Advanced Server 9.6 $releasever - $basearch
baseurl=http://:@yum.enterprisedb.com/9.6/redhat/rhel-$releasever-
$basearch
enabled=0
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/ENTERPRISEDB-GPG-KEY
To enable the appropriate repository for installing the desired version of xDB Replication
Server, enable one of the following entries:
 To install version 6.2, enable the entry for [enterprisedb-xdb60].
 To install a prior version, enable the entry for [enterprisedb-tools].
Whichever version is chosen, be sure the other entries are disabled (that is, the parameter
setting is enabled=0 for the non-selected entries).
For example, to access xDB Replication Server version 6.2, enable the following entry:
[enterprisedb-xdb60]
name=EnterpriseDB XDB 6.0 $releasever - $basearch
baseurl=http://:@yum.enterprisedb.com/xdb60/redhat/rhel-
$releasever-$basearch
enabled=0
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/ENTERPRISEDB-GPG-KEY
Step 4: Install the xDB Replication Server RPM package.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 115
EDB Postgres Replication Server User’s Guide
The following syntax installs the xDB RPM package files that have been previously
downloaded to the current working directory. The local package files are installed by
referencing the package name appended with an asterisk suffix (*):
yum install ppas-xdb*
To install the xDB RPM package directly from the EDB Yum Repository website, omit
the asterisk suffix:
yum install ppas-xdb
The following is an example:
[root@localhost ~]# yum install ppas-xdb
Loaded plugins: fastestmirror, refresh-packagekit, security
Loading mirror speeds from cached hostfile
* base: mirrors.lga7.us.voxel.net
* epel: mirror.steadfast.net
* extras: mirror.vcu.edu
* updates: mirror.vtti.vt.edu
edb-repos
| 2.4 kB 00:00
edbas10
| 2.5 kB 00:00
enterprisedb-dependencies
| 2.5 kB 00:00
enterprisedb-xdb60
| 2.4 kB 00:00
enterprisedb-xdb60/primary_db
| 4.2 kB 00:00
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package ppas-xdb.x86_64 0:6.2.0-1.rhel6 will be installed
--> Processing Dependency: ppas-xdb-subscriber for package: ppas-xdb-6.2.0-
1.rhel6.x86_64
--> Processing Dependency: ppas-xdb-publisher for package: ppas-xdb-6.2.0-
1.rhel6.x86_64
--> Processing Dependency: ppas-xdb-console for package: ppas-xdb-6.2.0-1.rhel6.x86_64
--> Running transaction check
---> Package ppas-xdb-console.x86_64 0:6.2.0-1.rhel6 will be installed
--> Processing Dependency: ppas-xdb-libs for package: ppas-xdb-console-6.2.0-
1.rhel6.x86_64
---> Package ppas-xdb-publisher.x86_64 0:6.2.0-1.rhel6 will be installed
--> Processing Dependency: ppas-libs for package: ppas-xdb-publisher-6.2.0-
1.rhel6.x86_64
--> Processing Dependency: libpq.so.5()(64bit) for package: ppas-xdb-publisher-6.2.0-
1.rhel6.x86_64
---> Package ppas-xdb-subscriber.x86_64 0:6.2.0-1.rhel6 will be installed
--> Running transaction check
---> Package edb-as10-server-libs.x86_64 0:10.2.7-2.rhel6 will be installed
---> Package ppas-xdb-libs.x86_64 0:6.2.0-1.rhel6 will be installed
--> Finished Dependency Resolution
Dependencies Resolved
=======================================================================================
=======================================================================
Package Arch Version
Repository Size
=======================================================================================
=======================================================================
Installing:
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 116
EDB Postgres Replication Server User’s Guide
ppas-xdb x86_64 6.2.0-1.rhel6
enterprisedb-xdb60 6.8 k
Installing for dependencies:
edb-as10-server-libs x86_64 10.2.7-2.rhel6
edbas10 536 k
ppas-xdb-console x86_64 6.2.0-1.rhel6
enterprisedb-xdb60 3.0 M
ppas-xdb-libs x86_64 6.2.0-1.rhel6
enterprisedb-xdb60 13 M
ppas-xdb-publisher x86_64 6.2.0-1.rhel6
enterprisedb-xdb60 35 k
ppas-xdb-subscriber x86_64 6.2.0-1.rhel6
enterprisedb-xdb60 12 k
Transaction Summary
=======================================================================================
=======================================================================
Install 6 Package(s)
Total download size: 17 M
Installed size: 20 M
Is this ok [y/N]: y
Downloading Packages:
(1/6): edb-as10-server-libs-10.2.7-2.rhel6.x86_64.rpm
| 536 kB 00:09
(2/6): ppas-xdb-6.2.0-1.rhel6.x86_64.rpm
| 6.8 kB 00:00
(3/6): ppas-xdb-console-6.2.0-1.rhel6.x86_64.rpm
| 3.0 MB 00:01
(4/6): ppas-xdb-libs-6.2.0-1.rhel6.x86_64.rpm
| 13 MB 00:01
(5/6): ppas-xdb-publisher-6.2.0-1.rhel6.x86_64.rpm
| 35 kB 00:00
(6/6): ppas-xdb-subscriber-6.2.0-1.rhel6.x86_64.rpm
| 12 kB 00:00
---------------------------------------------------------------------------------------
--------------------------------------------------------------------------
Total
1.2 MB/s | 17 MB 00:13
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
Warning: RPMDB altered outside of yum.
Installing : ppas-xdb-libs-6.2.0-1.rhel6.x86_64
1/6
Installing : ppas-xdb-console-6.2.0-1.rhel6.x86_64
2/6
Installing : ppas-xdb-subscriber-6.2.0-1.rhel6.x86_64
3/6
Installing : edb-as10-server-libs-10.2.7-2.rhel6.x86_64
4/6
Installing : ppas-xdb-publisher-6.2.0-1.rhel6.x86_64
5/6
Installing : ppas-xdb-6.2.0-1.rhel6.x86_64
6/6
Verifying : ppas-xdb-6.2.0-1.rhel6.x86_64
1/6
Verifying : ppas-xdb-publisher-6.2.0-1.rhel6.x86_64
2/6
Verifying : ppas-xdb-console-6.2.0-1.rhel6.x86_64
3/6
Verifying : edb-as10-server-libs-10.2.7-2.rhel6.x86_64
4/6
Verifying : ppas-xdb-subscriber-6.2.0-1.rhel6.x86_64
5/6
Verifying : ppas-xdb-libs-6.2.0-1.rhel6.x86_64
6/6
Installed:
ppas-xdb.x86_64 0:6.2.0-1.rhel6
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 117
EDB Postgres Replication Server User’s Guide
Dependency Installed:
edb-as10-server-libs.x86_64 0:10.2.7-2.rhel6 ppas-xdb-console.x86_64
0:6.2.0-1.rhel6 ppas-xdb-libs.x86_64 0:6.2.0-1.rhel6
ppas-xdb-publisher.x86_64 0:6.2.0-1.rhel6 ppas-xdb-subscriber.x86_64
0:6.2.0-1.rhel6
Complete!
The xDB Replication Server is installed in directory location /usr/ppas-xdb-x.x
where x.x is the xDB Replication Server version number as shown by the following:
[root@localhost ppas-xdb-6.2]# pwd
/usr/ppas-xdb-6.2
[root@localhost ppas-xdb-6.2]# ls -l
total 84
drwxr-xr-x 2 root root 4096 Feb 23 16:05 bin
drwxr-xr-x 3 root root 4096 Feb 23 16:05 etc
drwxr-xr-x 4 root root 4096 Feb 23 16:05 lib
drwxr-xr-x 2 root root 4096 Feb 23 16:05 share
drwx------ 2 enterprisedb enterprisedb 4096 Feb 20 22:17 xdata
-r--r--r-- 1 enterprisedb enterprisedb 64035 Feb 20 20:40 xdb_3rd_party_licenses.txt
Successful installation of xDB Replication Server results in the creation of directory
structures and files in your host environment as described in Section 3.5.
Note: Neither the publication server nor the subscription server are running immediately
following installation. If after reviewing the remaining steps, you wish to start the
publication server, see Section 5.2.1. For starting the subscription server see Section
5.3.1.
Step 5 (For xDB Replication Server 6.2 or 6.1): In the xDB Replication Configuration
file /etc/edb-repl.conf, you can either use the default password (edb) as the admin
user password, or you can substitute a password of your choice. If you want to use your
own password, see Section 10.4.2 on how to generate the encrypted form of the
password. Place the encrypted password in the admin_password parameter of the xDB
Replication Configuration file. The default admin user name is set to admin and can be
changed as well. See Section 2.3.1.3 for information on the xDB Replication
Configuration file.
Step 5 (For xDB Replication Server 5.1): In the xDB Replication Configuration file
/etc/edb-repl.conf, verify that parameters host, port, database, user, and
password are set to allow access to a Postgres database that you wish to use as the xDB
Control database. If you wish to use a database other than the one identified by the
current default settings, create the desired database and change the parameters to permit
connection and authentication to this database to be used as the xDB Control database.
Step 6: The JAVA_EXECUTABLE_PATH parameter in the xDB Startup Configuration file
should be set so that the Java runtime program can be accessed upon startup of the
publication server and subscription server. If the publication server or subscription server
startup fails due to inaccessibility to the Java program, be sure to set the path to your Java
runtime program in the xDB Startup Configuration file. See Section 2.3.1.4 for
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 118
EDB Postgres Replication Server User’s Guide
information on the xDB Startup Configuration file. See Section 3.5 for the location of this
file.
3.4 Installing xDB on an SLES 12 Host
You can use the zypper package manager to install the xDB Replication Server on an
SLES 12 host. zypper will attempt to satisfy package dependencies as it installs a
package, but requires access to specific repositories that are not hosted at EnterpriseDB.
Before installing xDB, use the following commands to add EnterpriseDB repository
configuration files to your SLES host:
zypper addrepo https://zypp.enterprisedb.com/suse/epas96-
sles.repo
zypper addrepo https://zypp.enterprisedb.com/suse/epas-sles-
tools.repo
zypper addrepo https://zypp.enterprisedb.com/suse/epas-sles-
dependencies.repo
Each command creates a repository configuration file in the /etc/zypp/repos.d
directory. The files are named:
 edbas96suse.repo
 edbasdependencies.repo
 edbastools.repo
After creating the repository configuration files, use the zypper refresh command to
refresh the metadata on your SLES host to include the EnterpriseDB repositories:
/etc/zypp/repos.d # zypper refresh
Repository 'SLES12-12-0' is up to date.
Repository 'SLES12-Pool' is up to date.
Repository 'SLES12-Updates' is up to date.
Retrieving repository 'EDB Postgres Advanced Server 9.6 12 -
x86_64' metadata -----------------------[\]
Authentication required for
'https://zypp.enterprisedb.com/9.6/suse/suse-12-x86_64'
User Name:
Password:
Retrieving repository 'EDB Postgres Advanced Server 9.6 12 -
x86_64' metadata...................................[done]
Building repository 'EDB Postgres Advanced Server 9.6 12 -
x86_64' cache..........................[done]
All repositories have been refreshed.
...
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 119
EDB Postgres Replication Server User’s Guide
When prompted for a User Name and Password, provide your connection credentials
for the EnterpriseDB repository. If you need credentials, visit the following website:
https://www.enterprisedb.com/repository-access-request
Before installing EDB Postgres Advanced Server or supporting components, you must
also add SUSEConnect and the SUSE Package Hub extension to the SLES host, and
register the host with SUSE, allowing access to SUSE repositories. Use the commands:
zypper install SUSEConnect