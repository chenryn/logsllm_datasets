fsutil repair
Applies to: Windows Server 2022, Windows Server 2019, Windows Server 2016, Windows 10, Windows Server 2012 R2, Windows 8.1, Windows Server 2012, Windows 8
Administers and monitors NTFS self-healing repair operations. Self-healing NTFS attempts to correct corruptions of the NTFS file system online, without requiring Chkdsk.exe to be run. For more information, see Self-healing NTFS.
Syntax
fsutil repair [enumerate]  []
fsutil repair [initiate]  
fsutil repair [query] 
fsutil repair [set]  
fsutil repair [wait][] 
Parameters
Parameter
Description
enumerate
Enumerates the entires of a volume's corruption log.
Can be $corrupt, the set of confirmed corruptions in the volume or $verify, a set of potential, unverified corruptions in the volume.
initiate
Initiates NTFS self-healing.
Specifies the NTFS volume-specific file ID (file reference number). The file reference includes the segment number of the file.
query
Queries the self-healing state of the NTFS volume.
set
Sets the self-healing state of the volume.
Specifies the repair method to be used when setting the self-healing state of the volume.This parameter can be set to three values:0x01 - Enables general repair.0x09 - Warns about potential data loss without repair.0x00 - Disables NTFS self-healing repair operations.
state
Queries the corruption state of the system or for a given volume.
wait
Waits for repair(s) to complete. If NTFS has detected a problem on a volume on which it is performing repairs, this option allows the system to wait until the repair is complete before it runs any pending scripts.
[waittype {0|1}]
Indicates whether to wait for the current repair to complete or to wait for all repairs to complete. The waittype parameter can be set to the following values:0 - Waits for all repairs to complete. (default value)1 - Waits for the current repair to complete.
$corrupt
$verify
This parameter can be set to three values:0x01 - Enables general repair.0x09 - Warns about potential data loss without repair.0x00 - Disables NTFS self-healing repair operations.
[waittype {0|1}]
Examples
To enumerate the confirmed corruptions of a volume, type:
fsutil repair enumerate C: $Corrupt
To enable self-healing repair on drive C, type:
fsutil repair set c: 1
To disable self-healing repair on drive C, type:
fsutil repair set c: 0