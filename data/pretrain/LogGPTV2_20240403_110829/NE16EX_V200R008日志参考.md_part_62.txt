Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
日志含义
OSPF ISSU升级过程中收到平滑完毕消息。
日志参数
参数名称 参数含义
无 无
可能原因
ISSU备份阶段收到平滑完毕的消息。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
71.35 OSPF/6/JOIN_MULGRP_FAIL
日志信息
OSPF/6/JOIN_MULGRP_FAIL:Failed to join the multicast group. (MulticastGroup
Address=[IPADDR], ReturnValue=[STRING], InterfaceNetworkIndex=[ULONG],
PhysicalIndex=[ULONG], InterfaceName=[STRING])
日志含义
OSPF接口加入组播组失败。
日志参数
参数名称 参数含义
MulticastGroup Address 组播组地址。
ReturnValue 返回值。
InterfaceNetworkIndex 接口网络索引。
PhysicalIndex 接口物理索引。
InterfaceName 接口名称。
可能原因
地址加入组播组。
文档版本 03 (2017-06-22) 华为专有和保密信息 692
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
处理步骤
步骤1 检查接口的组播功能是否可用。
----结束
71.36 OSPF/5/LSA_CHANGE_FREQUENT
日志信息
OSPF/5/LSA_CHANGE_FREQUENT: LSAs change frequently now.
(ProcessId=[USHORT], AdvertiseRouterId=[IPADDR], TotalCount=[ULONG],
BeginTime=[STRING], EndTime=[STRING], Type-1LsaCount=[ULONG],
Type-2LsaCount=[ULONG], Type-3LsaCount=[ULONG], Type-4LsaCount=[ULONG],
Type-5LsaCount=[ULONG], Type-7LsaCount=[ULONG], Type-9LsaCount=[ULONG],
Type-10LsaCount=[ULONG], Type-11LsaCount=[ULONG])
日志含义
LSA正在频繁更新。
日志参数
参数名称 参数含义
ProcessId 进程号。
AdvertiseRouterId 宣告路由器标识。
TotalCount LSA更新总次数。
BeginTime 计数开始时间。
EndTime 计数结束时间。
Type-1LsaCount Router LSA的更新次数。
Type-2LsaCount Network LSA的更新次数。
Type-3LsaCount summary-Network LSA的更新次数。
Type-4LsaCount summary-ASBR LSA的更新次数。
Type-5LsaCount ASE LSA的更新次数。
Type-7LsaCount 7类LSA的更新次数。
Type-9LsaCount 9类LSA的更新次数。
Type-10LsaCount 10类LSA的更新次数。
Type-11LsaCount 11类LSA的更新次数。
可能原因
宣告路由器进行LSA更新计数，每小时输出一次历史记录，从中选出更新次数最多的
10条记录，如其中有更新总次数超过100的，打印此日志。
文档版本 03 (2017-06-22) 华为专有和保密信息 693
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
处理步骤
步骤1 正常运行信息，无需处理。
----结束
71.37 OSPF/6/LDP_INIT_EVENT
日志信息
OSPF/6/LDP_INIT_EVENT:Interface [interface-name] initial LDP synchronization state
[initial-state].
日志含义
LDP联动状态初始状态。
日志参数
参数名称 参数含义
[interface-name] 接口名称。
[initial-state] 初始状态。
可能原因
初始化LDP联动。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
71.38 OSPF/6/LDP_SYNC_CREA
日志信息
OSPF/6/LDP_SYNC_CREA:Interface [STRING] LDP synchronization hold maximum cost
timer created.
日志含义
LDP联动Hold max cost定时器创建。
文档版本 03 (2017-06-22) 华为专有和保密信息 694
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
日志参数
参数名称 参数含义
[STRING] 接口名称。
可能原因
使能LDP联动。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
71.39 OSPF/6/LDP_SYNC_EVENT
日志信息
OSPF/6/LDP_SYNC_EVENT:Interface [interface-name] received [ldp-synchronization-
message] from RM, LDP synchronization state [previous-state] change to [current-state].
日志含义
LDP联动状态发生迁移。
日志参数
参数名称 参数含义
[interface-name] 接口名称。
[ldp-synchronization-message] LDP联动消息。
[previous-state] 本机先前状态。
[current-state] 本机目前状态。
可能原因
LDP联动状态发生迁移。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
文档版本 03 (2017-06-22) 华为专有和保密信息 695
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
71.40 OSPF/6/LDP_SYNC_FIRE
日志信息
OSPF/6/LDP_SYNC_FIRE:Interface [interface-name] LDP synchronization hold maximum
cost timer expired.
日志含义
LDP联动Hold max cost定时器超时。
日志参数
参数名称 参数含义
[interface-name] 接口名称。
可能原因
定时器超时。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
71.41 OSPF/6/LEAVE_MULGRP_FAIL
日志信息
OSPF/6/LEAVE_MULGRP_FAIL:Failed to leave the multicast group.
(MulticastGroupAddress=[IPADDR], ReturnValue=[STRING],
InterfaceNetworkIndex=[ULONG], PhysicalIndex=[ULONG], InterfaceName=[STRING])
日志含义
OSPF接口离开组播组失败。
日志参数
参数名称 参数含义
MulticastGroupAddress 组播组地址。
ReturnValue 返回值。
InterfaceNetworkIndex 接口网络索引。
PhysicalIndex 接口物理索引。
文档版本 03 (2017-06-22) 华为专有和保密信息 696
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
参数名称 参数含义
InterfaceName 接口名称。
可能原因
地址离开组播组。
处理步骤
步骤1 检查接口的组播功能是否可用。
----结束
71.42 OSPF/4/NBR_CHANGE_E
日志信息
OSPF/4/NBR_CHANGE_E:Neighbor changes event: neighbor status changed.
(ProcessId=[process-id], NeighborAddress=[neighbor-ip-address], NeighborEvent=[neighbor-
event], NeighborPreviousState=[neighbor-previous-state], NeighborCurrentState=[neighbor-
current-state])
日志含义
邻居状态改变。
日志参数
参数名称 参数含义
ProcessId 进程号。
NeighborAddress 邻居地址。
NeighborEvent 邻居事件。
NeighborPreviousState 邻居先前状态。
NeighborCurrentState 邻居当前状态。
可能原因
邻居状态改变。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
文档版本 03 (2017-06-22) 华为专有和保密信息 697
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
71.43 OSPF/3/NBR_DOWN_REASON
日志信息
OSPF/3/NBR_DOWN_REASON:Neighbor state leaves full or changed to Down.
(ProcessId=[USHORT], NeighborRouterId=[IPADDR], NeighborAreaId=[ULONG],
NeighborInterface=[STRING],NeighborDownImmediate reason=[STRING],
NeighborDownPrimeReason=[STRING], NeighborChangeTime=[STRING])
日志含义
邻居状态改变为Down。
日志参数
参数名称 参数含义
ProcessId 进程号。
NeighborRouterId 邻居路由器标识。
NeighborAreaId 邻居区域ID。
NeighborInterface 邻居接口。
NeighborDownImmediate
OSPF邻居Down的直接原因，一般会有以下几种：
reason
l Neighbor Down Due to Inactivity：表示在Dead Time
时间内没有收到Hello报文导致OSPF邻居状态为
Down。
l Neighbor Down Due to LL Down LLDown：表示在
Dead Time时间内没有收到LLD报文导致OSPF邻居
状态为Down。
l Neighbor Down Due to Kill Neighbor：表示因为接口
Down、BFD Down或执行了reset ospf process命令。
此时，可以通过查看NeighborDownPrimeReason字
段判断具体原因。
l Neighbor Down Due to 1-Wayhello Received或
Neighbor Down Due to SequenceNum Mismatch：表
示因为对端OSPF状态首先变成Down，从而向本端
发送1-Way Hello报文，导致本端OSPF状态也变成
Down。
l Neighbor Down Due to AdjOK?：表示AdjOK?事件超
时导致邻居down。
l Neighbor Down Due to BadLSreq：表示本接口的邻
居状态机发生BadLSReq事件超时导致邻居down。
文档版本 03 (2017-06-22) 华为专有和保密信息 698
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
参数名称 参数含义
NeighborDownPrimeReason
邻居Down的根本原因，一般会有以下几种：
l Hello Not Seen：没有收到Hello报文
l Interface Parameter Mismatch：链路两端的接口配置
参数不匹配
l Logical Interface State Change：逻辑接口状态发生变
化
l Physical Interface State Change：物理接口状态发生
变化
l OSPF Process Reset：OSPF进程发生重启
l Area reset：区域类型发生变化导致区域重启
l Area Option Mis-match：链路两端接口所属的区域
Option不匹配
l Vlink Peer Not Reachable：虚连接邻居不可达
l Sham-Link Unreachable：Sham-Link邻居不可达
l Undo Network Command：network命令被删除
l Undo NBMA Peer：NBMA类型接口上的邻居配置被
删除
l Passive Interface Down：由于本端配置了silent-
interface命令，导致邻居关系Down
l Opaque Capability Enabled：使能了opaque能力
l Opaque Capability Disabled：去使能opaque能力
l Virtual Interface State Change：虚连接接口状态变化
l BFD Session Down：BFD会话Down
l Down Retransmission Limit Exceed：达到重传限制
l 1-Wayhello Received：收到1-Way的Hello报文
l Router State Change from DR or BDR to DROTHER：
接口状态机由DR或BDR变为DROTHER
l Neighbor State Change from DR or BDR to
DROTHER：接口状态机由DR或BDR变为
DROTHER
l NSSA Area Configure Change：NSSA区域配置发生
变化
l Stub Area Configure Change：Stub区域配置发生变化
l Received Invalid DD Packet：收到无效的DD报文
l Not Received DD during RouterDeadInterval：在Dead
定时器启动期间，没有收到DD报文
l M,I,MS bit or SequenceNum Incorrect：收到的DD报
文中M、I、MS比特位与协议规定不符
l Unable Opaque Capability,Find 9,10,11 Type Lsa：收
到了9,10,11类型的LSA，但是Opaque能力并没有被
使能
文档版本 03 (2017-06-22) 华为专有和保密信息 699
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
参数名称 参数含义
l Not NSSA,Find 7 Type Lsa in Summary List：本区域
不属于NSSA，却在Summary表中发现了Tpye-7 LSA
l LSrequest Packet,Unknown Reason：由于未知原因收
到LSR报文
l NSSA or STUB Area,Find 5 ,11 Type Lsa：本区域属
于NSSA或者Stub，却发现了Tpye-5、Tpye-11 LSA
l LSrequest Packet,Request Lsa is Not in the Lsdb：邻
居向本进程或区域通过LSR请求一条LSA，但该
LSA不存在本进程的LSDB中
l LSrequest Packet, exist same lsa in the Lsdb：本进程
收到一条本地LSDB中已存在的相同LSA，该LSA在
邻居的请求列表中
l LSrequest Packet, exist newer lsa in the Lsdb：本进程
收到一条更新的LSA，该LSA在本地LSDB中已存
在，并且在邻居的请求列表中
l Neighbor state was not full when LSDB overflow：
LSDB已经溢出，但是邻居状态机还没有达到Full
l Filter LSA configuration change：LSA filter配置发生
变化
l ACL changed for Filter LSA：LSA filter的ACL配置
发生变化
l Reset Ospf Peer：重启OSPF邻居
NeighborChangeTime 状态改变时间。
可能原因
邻居状态因为收到OSPF的报文或是影响OSPF邻居关系的操作，邻居状态发生迁移。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
71.44 OSPF/4/NOTIFYRM_ENTER_GR
日志信息
OSPF/4/NOTIFYRM_ENTER_GR:OSPF [process-id] notified RM that it started GR.
日志含义
OSPF通知路由管理进入GR状态。
文档版本 03 (2017-06-22) 华为专有和保密信息 700
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
日志参数
参数名称 参数含义
[process-id] 进程号。
可能原因
OSPF需要优雅重启。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
71.45 OSPF/6/NSSA_STATE_ELECT
日志信息
OSPF/6/NSSA_STATE_ELECT:The status of the NSSA translator is set to [STRING].
(ProcessId=[USHORT], AreaId=[IPADDR])
日志含义
NSSA的转换状态设置为选中状态、使能状态或去使能状态。
日志参数
参数名称 参数含义
[STRING] NSSA的转换状态，包括选中状态、使能状态、去使能状态。
ProcessId OSPF进程号。
AreaId 区域ID。
可能原因
路由器被选举为NSSA区域的translator。
处理步骤
步骤1 正常运行信息，无需处理。
----结束
文档版本 03 (2017-06-22) 华为专有和保密信息 701
版权所有 © 华为技术有限公司
Huawei NE16EX 系列多业务企业路由器
日志参考 71 OSPF
71.46 OSPF/6/ONE_IF_EXIT_WAITING
日志信息
OSPF/6/ONE_IF_EXIT_WAITING:OSPF [process-id] Interface [interface-name] exits