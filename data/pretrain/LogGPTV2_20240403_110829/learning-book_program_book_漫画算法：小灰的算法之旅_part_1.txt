# OCR Output
## Page 1
Broadview
漫画算法
小灰的算法之旅
魏梦舒（@程序员小灰）著
中国工信出版集团
电子工业出版社
---
## Page 2
漫画算法
小灰的算法之旅
魏梦舒（@权序员小友）
电子工出展社
Publishing House ef Electron
北京BEUING
图书在版编目（CIP）数据
漫画算法：小灰的算法之旅／魏梦舒著．一北京：电子工业出版社，
2019.5
---
## Page 3
ISBN 978-7-121-36197-5
1．①漫...
①魏..
III.
①算法分析②数据结构
IV.
①TP301.6②TP311.12
中国版本图书馆CIP数据核字（2019）第057355号
策划编辑：张月萍
责任编辑：牛勇
印
刷：北京富诚彩色印刷有限公司
装
订：北京富诚彩色印刷有限公司
出版发行：电子工业出版社
北京市海淀区万寿路173信箱邮编：100036
开
本：720×10001/16
印张：17.5字数：404千字
版
次：2019年5月第1版
印
次：2019年6月第2次印刷
印
数：20001~28000册
质量投诉请发邮件至PI:EMAIL，盗版侵权举报请发邮件至
PI:EMAIL。
本书咨询联系方式：PI:EMAIL。
未经许可，不得以任何方式复制或抄袭本书之部分或全部内容。
版权所有，侵权必究。
帐目
内容简介
---
## Page 4
Preface推荐序
Preface 前言
第1章算法概述
1.1算法和数据结构
1.1.1小灰和大黄
1.1.2什么是算法
1.1.3什么是数据结构
1.2时间复杂度
1.2.1算法的好与坏
1.2.2基本操作执行次数
1.2.3渐进时间复杂度
1.2.4时间复杂度的巨大差异
1.3空间复杂度
1.3.1什么是空间复杂度
1.3.2空间复杂度的计算
1.3.3时间与空间的取舍
14小结
第2章数据结构基础
2.1什么是数组
2.1.1初识数组
---
## Page 5
2.1.2数组的基本操作
2.1.3数组的优势和劣势
2.2什么是链表
2.2.1“正规军”和“地下党”
2.2.2链表的基本操作
2.2.3数组VS链表
2.3栈和队列
2.3.1物理结构和逻辑结构
2.3.2什么是栈
2.3.3栈的基本操作
2.3.4什么是队列
2.3.5队列的基本操作
2.3.6栈和队列的应用
22.4神奇的散列表
2.4.1为什么需要散列表
2.4.2哈希函数
2.4.3散列表的读写操作
2.5小结
第3章树
3.1树和二叉树
---
## Page 6
3.1.1什么是树
3.1.2什么是二叉树
3.1.3二叉树的应用
3.2二叉树的遍历
3.2.1为什么要研究遍历
3.2.2深度优先遍历
3.2.3广度优先遍历
3.3什么是二叉堆
3.3.1初识二叉堆
3.3.2二叉堆的自我调整
3.3.3二叉堆的代码实现
3.4什么是优先队列
3.4.1优先队列的特点
3.4.2优先队列的实现
3.5小结
第4章排序算法
4.1引言
4.2什么是冒泡排序
4.2.1初识冒泡排序
4.2.2冒泡排序的优化
---
## Page 7
4.2.3鸡尾酒排序
4.3什么是快速排序
4.3.1初识快速排序
4.3.2基准元素的选择
4.3.3元素的交换
4.3.4单边循环法
4.3.5非递归实现
4.4什么是堆排序
4.4.1传说中的堆排序
4.4.2堆排序的代码实现
4.5计数排序和桶排序
4.5.1线性时间的排序
4.5.2初识计数排序
4.5.3计数排序的优化
4.5.4什么是桶排序
4.6小结
第5章面试中的算法
5.1跨蹉满志的小灰
5.2如何判断链表有环
5.2.1一场与链表相关的面试
---
## Page 8
5.2.2解题思路
5.2.3问题扩展
5.3最小栈的实现
5.3.1一场关于栈的面试
5.3.2解题思路
5.4如何求出最大公约数
5.4.1一场求最大公约数的面试
5.4.2解题思路
5.5如何判断一个数是否为2的整数次幂
5.5.1一场很“2"的面试
5.5.2解题思路
5.6无序数组排序后的最大相邻差
5.6.1一道奇葩的面试题
5.6.2解题思路
5.7如何用栈实现队列
5.7.1又是一道关于栈的面试题
5.7.2解题思路
5.8寻找全排列的下一个数
5.8.1一道关于数字的题目
5.8.2解题思路
---
## Page 9
5.9删去k个数字后的最小值
5.9.1又是一道关于数字的题目
5.9.2解题思路
5.10如何实现大整数相加
5.10.1加法，你会不会
5.10.2解题思路
5.11如何求解金矿问题
5.11.1一个关于财富自由的问题
5.11.2解题思路
5.12寻找缺失的整数
5.12.1“五行"缺一个整数
5.12.2间题扩展
第6章算法的实际应用
6.1小灰上班的第1天
6.2Bitmap的巧用
6.2.1一个关于用户标签的需求
6.2.2用算法解决问题
6.3LRU算法的应用
6.3.1一个关于用户信息的需求
6.3.2用算法解决问题
---
## Page 10
6.4什么是A星寻路算法
6.4.1一个关于迷宫寻路的需求
6.4.2用算法解决问题
6.5如何实现红包算法
6.5.1一个关于钱的需求
6.5.2用算法解决问题
6.6算法之路无止境
内容简介
本书通过虚拟的主人公小灰的心路历程，用漫画的形式讲述了算法和数
据结构的基础知识、复杂多变的算法面试题目及算法的实际应用场景，
第1章介绍了算法和数据结构的相关概念，告诉大家算法是什么，数
据结构又是什么，它们有哪些用途，如何分析时间复杂度，如何分析空
间复杂度。
第2章介绍了最基本的数据结构，包括数组、链表、栈、队列、哈希
表的概念和读写操作。
第3章介绍了树和二叉树的概念、二叉树的各种遍历方式、二叉树的
特殊形式一一二叉堆和优先队列的应用。
第4章介绍了几种典型的排序算法，包括冒泡排序、快速排序、堆排
序、计数排序、桶排序。
第5章介绍了10余道职场上流行的算法面试题及详细的解题思路。例
如怎样判断链表有环、怎样计算大整数相加等。
第6章介绍了算法在职场上的一些应用，例如使用LRU算法来淘汰冷
数据，使用Bitmap算法来统计用户特征等。
---
## Page 11
Preface
推荐序
初识小灰是因为在他的微信公众号看到一篇讲动态规划的文章，当时觉
得挺意外，没想到还能有人用漫画来解释动态规划算法。
所谓算法，其实是个很宽泛的概念。有理解起来难度超大，烧脑到
要“爆炸"的；也有简单直接，一目了然的；更多的却是，虽然看起来复
杂，但只要方法得当，搞清原理，掌握起来还是很容易的那种算法。
可是很多人被“算法”二字“挣拧"的外表吓住了，久久不敢接触它。好不
容易斗胆翻翻算法书，结果看到的不是大篇大篇的代码，就是乱七八糟
的符号。这都是什么呀？算了，看来是学不会算法了，放弃吧.
但凡书籍文章，最难读的，肯定是公式符号；而最好读的，无外乎图
像、对话等。本书作者以可爱的小灰和大黄两个漫画形象为主人公，把
对算法的描述过程嵌入到它们的对话之中，并辅之以图形等直观方式来
表达数据结构和操作步骤一—这种表达形式带着大然的亲和力，完全没
有计算机背景的读者读来也不觉得生硬。
小灰所做的事情，就是给算法这颗“炮弹”包上了“糖衣”，让算法的威力
潜藏于内，外表不再吓人，反而变得萌萌哒，Q弹可爱，清新怡人，
先十为敬，让我们一起吞了这颗包着“炸药"的“糖丸"吧！
李烨，微软高级软件工程师
Preface
前言
许多程序员对算法望而生畏，认为算法是一门高深莫测的学问。
以前我曾经面试过一个求职者，起初考查他的技术功底和项目经验，他
---
## Page 12
都回答得不错。接下来我对他说：“OK，那我考查一下你的算法水平
吧。”
题目还没说出口，该求职者立马摆摆手说：“不要不要，我算法不行
的！”
我还是有些不甘心，接着说道：“我只考查最基础的，你说说冒泡排序
的基本思路吧！”
他仍旧说：“我不知道，我算法一点都不会....”
算法真的那么难，真的那么无趣吗？
恰恰相反，算法是编程领域中最有意思的一块内容，也不像许多人想象
的那样滩以驾驭。
许多人把算法比作程序员的“内功”，但笔者觉得这个比喻并不是很恰
当。内功实实在在，没有任何巧妙可言，而算法天马行空，千变万化
就像金庸笔下令狐冲的一套独孤九剑。
学习算法，我们不需要死记硬背那些允长复杂的背景知识、底层原理、
指令语法.....需要做的是领悟算法思想、理解算法对内存空间和性能的
影响，以及开动脑筋去寻求解决问题的最佳方案。相比编程领域的其他
技术，算法更纯粹，更接近数学，也更具有趣味性。
我一直希望写出一些东西，让更多的IT同行能够领略到算法的魅力，可
是用什么方式来写呢？
员形象，这个菜鸟程序员名叫小灰。
程序员小灰的故事活跃在同名的微信公众号上，该公众号用漫画的形式
诉说着小灰一次义一次的面试经历，偏强的小灰屡战屡败，屡败屡战，
小灰是我刚刚入行时的真实写照，相信许多程序员也能从中看到自已的
影子。
终于，在朋友们的支持和鼓励下，程序员小灰的故事从微信公众号搬到
了纸质图书上。能让更多同行看到小灰的故事，我感到十分欣慰。
---
## Page 13
本书特色
这本书通过漫画的形式，讲述了小灰学习算法和数据结构知识的心路历
程。书中许多内容源于本人的微信公众号，但是比公众号上所展现的内
容更加系统、全面，也更加严谨。
本书的前4章是对算法基础知识的讲解，没有算法和数据结构基础的读
者可以从头并始进行系统学习。
对于有一定基础的读者，也可以选择从第5章面试题的讲解开始阅读
每一道面试题目都是相对独立的，并不需要严格地按顺序学习。同时，
这不是一本编程入门书。在编程方面完全零基础的读者，建议至少先了
解一门编程语言。
这也不是一本局限于某个编程语言的书，虽然书中的代码示例都是用
Java来实现的，但算法思想是相通的。在实现代码时，书中尽可能规避
了Java语言的特殊语法和工具类，相信熟悉其他语言的并发者也不难看
懂。
勘误和支持
除书中所提供的代码示例以外，大家也可以关注微信公众号“程序员小
灰”，在后台回复“漫画算法”，获得全书完整的、可运行的代码。为了
保证代码的简洁，在部分代码实现中省略了烦项的参数判空和验证逻
基
正。读者如果在阅读过程中产生疑问或发现Bug，欢迎随时到微信公众
号的后台留言。“程序员小灰"微信公众号二维码如下。
---
## Page 14
致谢
感谢微信公众号“程序员小灰"的读者。你们的鼓励和支持，给了我坚持
创作的动力。
感谢成都道然科技有限责任公司的姚新军老师。有了他的肯定、支持和
指导意见，才有了这本书的正式出版。
感谢朴提、单耳和康慧三位插画师所画的精彩插画，是你们让小灰的形
象更丰满、更可爱。感谢为本书审稿的杨道谈先生，感谢为本书写序的
李烨老师，感谢在百忙之中阅读书稿并写书评的专家们，他们是刘欣、
张洪亮、安晓辉、李艳鹏、翟永超等。
特别感谢我的父母，是他们把我带进了数学的大门。在我上小学的时
候，是他们的坚持，才让我有机会学习奥数，参加数学竞赛，并对数学
和逻辑产生了兴趣。在这本书的写作过程中，又是他们辛苦努力屏蔽生
活琐事对我的干扰，让我能够全身心地投入到本书的写作当中。
谨以此书献给我的家人，我的读者，以及热爱编程的朋友们！
魏梦舒，微信公众号“程序号小灰”的作者
---
## Page 15
第1章算法概述
1.1
算法和数据结构
1.1.1
小灰和大黄
在大四临近毕业时，计算机专业的同学大都收到了满意的offer，可是小
灰却还在着急上火。虽然他这几天面试了很多家IT公司，可每次都被面
试官“虐"得很惨很惨。
就在心灰意冷之际，小灰忽然想到，他们系里有一位学霸名叫大黄，大
黄不但技术很强，而且很乐意帮助同学。于是，小灰赶紧去找大黄，希
望能够得到一些指点。
小灰，听说你昨天又去
面试了。结果怎么样？
---
## Page 16
实。还不是被面试官给
虐了？面试官说我算法
和数据结构基础太差
对程序员来说，简法和数据
结构是很重要的基础知识
一定要好好掌醒啊
谁说不是响？可我当初所
学的都还给老师了··大
黄。能不能给我补补算法
和数据结构有关的知识？
我请你吃大餐：
好吧，好吧，我们就从最
基础的知识来讲解，你可
要认真听哦。
1.1.2
什么是算法
算法，对应的英文单词是algorithm，这是一个很古老的概念，最早来
自数学领域。
---
## Page 17
有一个关于算法的小故事，估计大家都有耳闻。
在很久很久以前，曾经有一个顽皮又聪明的“熊孩子”，天天在课堂上调
皮捣蛋。
终于有一天，老师忍无可忍，对“熊孩子"说：
臭小子，你又调皮啊！今天罚你算加
法，算出1+2+3+4+5+6+7.....一直加到10000的结果，算不完不许
回家！
嘿嘿，我算就是了。
老师以为，“熊孩子"会按部就班地一步一步计算，就像下面这样。
1 + 2 = 3
3+3=6
6 + 4 = 10
10 + 5 = 15
---
## Page 18
谁知仅仅几分钟后....
老师，我算完了！结果是50005
000，对不对？
这、这、这..你小子怎么算得这么
快？我读书多，你骗不了我的！
看着老师惊讶的表情，“熊孩子"微微一笑，讲出了他的计算方法。
首先把从1到10000这10000个数字两两分组相加，如下。
1 + 10 000 =10 001
2 + 9999 = 10 001
3+9998=10001
---
## Page 19
4+ 9997 =10001
一共有多少组这样结果相同的和呢？有10000÷2即5000组。
所以1到10000相加的总和可以这样来计算：
(1+10000)×10000÷2=50005000
，而他所采用的这种等差数列求和的方法，被称为高斯算法。（上文
的故事情节与史实略有出入。）
这是数学领域中算法的一个简单示例。在数学领域里，算法是用于解决
某一类问题的公式和思想。
而本书所涉及的算法，是计算机科学领域的算法，它的本质是一系列程
序指令，用于解决特定的运算和逻辑问题。
从宏观上来看，数学领域的算法和计算机领域的算法有很多相通之处。
算法有简单的，也有复杂的。
简单的算法，诸如给出一组整数，找出其中最大的数。
---
## Page 20
139267
Max=?
复杂的算法，诸如在多种物品里选择装入背包的物品，使背包里的物品
总价值最大，或找出从一个城市到另一个城市的最短路线。
北京
上海
青岛
武汉
长沙
算法有高效的，也有拙劣的。
刚才所讲的从1加到10000的故事中，高斯所用的算法显然是更加高效的
算法，它利用等差数列的规律，四两拨千斤，省时省力地求出了最终结
果。
而老师心中所想的算法，按部就班地一个数一个数进行累加，则是一种
低效、笨拙的算法。虽然这种算法也能得到最终结果，但是其计算过程