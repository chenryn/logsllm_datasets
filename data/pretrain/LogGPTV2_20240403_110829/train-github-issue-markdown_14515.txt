 **Elasticsearch version** : 2.4.0  
**JVM version** : 1.8  
**OS version** : Elastic Cloud
**Description of the problem including expected versus actual behavior** :
distanceInMiles() is not recognized when GeoPoints come from an array.
Expected behavior is that the geo distance methods would operate on individual
GeoPoints regardless of where they originate.
Error Message: No signature of method:
org.elasticsearch.common.geo.GeoPoint.distanceInMiles() is applicable for
argument types: (java.lang.Double, java.lang.Double)
Seems like elasticsearch is hoping for one of these:
org.elasticsearch.index.fielddata.ScriptDocValues$GeoPoints
Works fine: "script": "distance =
doc['home.coordinates'].distanceInMiles(lat,lon)"  
Works fine: "script": "doc[favorite_parks.coordinates].each { coordinate ->
sumOfDistances = 1 }; return 1 "  
Doesn't work: "script": "doc[favorite_parks.coordinates].each { coordinate ->
sumOfDistances = coordinate.distanceInMiles(lat,lon) }; return 1 "
**Steps to reproduce** :  
https://gist.github.com/alexlitvak13/8146cc5a8ac0defd5ffcf77116d375d4
Related commentary at the bottom of this ticket: #16695