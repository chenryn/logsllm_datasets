# termcap - 终端功能数据库

## 名称
**termcap** - 终端功能数据库

## 描述
**termcap** 数据库是一个过时的工具，用于描述以字符为单位的终端和打印机的功能。尽管它被保留下来以支持旧程序，但新程序应使用 **terminfo(5)** 数据库及其相关库。

### 术语和文件
- **/etc/termcap** 是一个 ASCII 文件，列出了多种不同类型终端的功能。程序可以读取该文件，以找到控制实际使用的终端可视化属性所需的特定转义字符（escape code）。终端的其他方面由 `stty` 处理。
- termcap 数据库通过环境变量 `TERM` 进行索引。

### 条目格式
每个 termcap 条目必须定义在一个逻辑行中，并在换行符处用反斜杠 (`\`) 续行。字段之间用冒号 (`:`) 分隔。每个条目的第一个字段从左侧开始，包含一系列终端名称，用竖线 (`|`) 分隔。

#### 字段解释
1. 第一个子字段可能包含两个字符的简称（在 4.3BSD 及更早版本的 termcap 条目中）。这个简称可以由大写或小写字母组成。在 4.4BSD 格式中，这个字段被忽略。
2. 第二个子字段（在较新的 4.4BSD 格式中是第一个字段）包含环境变量 `TERM` 使用的名称。只能使用小写字母。可选的硬件功能可以通过附加一个连字符 (`-`) 和后缀来标记。常见的后缀包括：
   - `w`：行宽超过 80 个字符
   - `am`：自动加边
   - `nam`：不自动加边
   - `rv`：反转视频显示
3. 第三个子字段包含对该 termcap 条目的长描述性名称。
4. 接下来的字段包含终端功能。任何连续的功能行都必须从左边缩进一个制表符位置。

### 建议
尽管没有定义顺序，建议将布尔值放在最前面，然后是数字值，最后是字符串值；按字母顺序排列，不分大小写。类似功能可以写在同一行。

#### 示例
```
vt|vt101|DEC VT 101 terminal in 80 character mode:
Vt|vt101-w|DEC VT 101 terminal in (wide) 132 character mode:
:bs:
:co#80:
:sr=\E[H:
```

## 功能分类
### 布尔值
- **5i**：打印机不在屏幕上回显
- **am**：自动加边，意味着自动卷行
- **bs**：Control-H (8 dec.) 执行退格
- **bw**：在行的左边退格回到上一行的右边
- **da**：显示保留在屏幕上方
- **db**：显示保留在屏幕下方
- **eo**：一个空格删除光标所在位置的所有字符
- **es**：工作在状态行的转义顺序和特殊字符
- **gn**：普通设备
- **hc**：这是一个硬拷贝终端
- **HC**：光标不在底线时几乎看不见
- **hs**：有一个状态行
- **hz**：Hazeltine bug, 终端不能打印 ~ 符号
- **in**：终端插入空字符，不是空格，来填充空白
- **km**：终端有一个 meta 键
- **mi**：光标移动是工作在插入模式下
- **ms**：光标移动是工作在突出/下划线模式
- **NP**：无填充字符
- **NR**：ti 不能反转为 te
- **nx**：无填充，必须使用 XON/XOFF
- **os**：终端能重击
- **ul**：终端不能被重击，只能下划线
- **xb**：蜂窝信号，f1 发射 ESCAPE, f2 发射 ^C
- **xn**：换行/返转信号
- **xo**：终端使用 XON/XOFF 协议
- **xs**：打印的文字超过突出的文本，将显示在突出的位置
- **xt**：Teleray 信号，破坏 tabs 和奇数化突出模式

### 数字值
- **co**：列数
- **dB**：硬拷贝终端上退格延时，以毫秒为单位
- **dC**：硬拷贝终端上回车延时，以毫秒为单位
- **dF**：硬拷贝终端上打印纸进纸延时，以毫秒为单位
- **dN**：硬拷贝终端上新行符延时，以毫秒为单位
- **dT**：硬拷贝终端上制表符停止位延时，以毫秒为单位
- **dV**：硬拷贝终端上垂直制表符停止位延时，以毫秒为单位
- **it**：tab 位置间的差分
- **lh**：软标签高度
- **lm**：内存线
- **lw**：软标签的宽度
- **li**：行数
- **Nl**：软标签的数目
- **pb**：需要填充的最低波特率
- **sg**：突出信号
- **ug**：下划线信号
- **vt**：虚拟终端数目
- **ws**：若状态线宽度与屏幕宽度不同时的大小

### 字符串值
- **!1**：转义为保存键
- **!2**：转义为挂起键
- **!3**：转义为撤消键
- **#1**：转义为帮助键
- **#2**：转义为 home 键
- **#3**：转义为输入键
- **#4**：转义为光标左移键
- **%0**：重做键
- **%1**：帮助键
- **%2**：标记键
- **%3**：信息键
- **%4**：转移键
- **%5**：下一对象键
- **%6**：打开键
- **%7**：选项键
- **%8**：上一对象键
- **%9**：打印键
- **%a**：转义为信息键
- **%b**：转义为转移键
- **%c**：转义为 next 键
- **%d**：转义为 options 键
- **%e**：转义为 previous 键
- **%f**：转义为打印键
- **%g**：转义为 redo 键
- **%h**：转义为替换键
- **%i**：转义为光标右移键
- **%j**：转义为恢复键
- **&0**：转义为取消键
- **&1**：参考键
- **&2**：刷新键
- **&3**：替换键
- **&4**：重新开始键
- **&5**：恢复键
- **&6**：保存键
- **&7**：挂起键
- **&8**：撤销键
- **&9**：转义为开始键
- **\*0**：转义为查找键
- **\*1**：转义为命令键
- **\*2**：转义为拷贝键
- **\*3**：转义为创建键
- **\*4**：转义为删除字符
- **\*5**：转义为删除行
- **\*6**：选择键
- **\*7**：转义为结束键
- **\*8**：转义为清除行键
- **\*9**：转义为退出键
- **@0**：查找键
- **@1**：开始键
- **@2**：取消键
- **@3**：关闭键
- **@4**：命令键
- **@5**：拷贝键
- **@6**：创建键
- **@7**：结束键
- **@8**：回车/发送键
- **@9**：退出键
- **al**：插入新行
- **AL**：缩进 %1 行
- **ac**：成对的图形字符块，映射替代的字符集
- **ae**：结束替代的字符集
- **as**：为图形字符块开始替代的字符集
- **bc**：退格，如果没有 ^H
- **bl**：铃声
- **bt**：移动到前一个 tab 停止位
- **cb**：从行的开始处清除到光标处
- **cc**：虚设命令字符
- **cd**：清除到屏幕的末端
- **ce**：清除到行末
- **ch**：水平移动光标到 %1 列
- **cl**：清除屏幕并将光标置位
- **cm**：光标移动到 %1 行，%2 列 (屏幕中)
- **CM**：光标移动到 %1 行，%2 列 (内存中)
- **cr**：回车
- **cs**：翻滚区域，从 %1 行到 %2 行
- **ct**：清除 tab
- **cv**：垂直移动光标到 %1 行
- **dc**：删除一个字符
- **DC**：删除 %1 个字符
- **dl**：删除一行
- **DL**：删除 %1 行
- **dm**：开始 delete 模式
- **do**：光标下移一行
- **DO**：光标下移 #1 行
- **ds**：使状态行不可用
- **eA**：激活替代的字符集
- **ec**：从光标处开始，删除 %1 个字符
- **ed**：结束 delete 模式
- **ei**：结束 insert 模式
- **ff**：硬拷贝终端上的走纸符
- **fs**：在进入状态行之前返回字符到他的位置
- **F1**：由功能键 F11 发送的字符串
- **F2**：由功能键 F12 发送的字符串
- **F3**：由功能键 F14 发送的字符串
- **...**
- **F9**：由功能键 F19 发送的字符串
- **FA**：由功能键 F20 发送的字符串
- **FB**：由功能键 F21 发送的字符串
- **...**
- **FZ**：由功能键 F45 发送的字符串
- **Fa**：由功能键 F46 发送的字符串
- **Fb**：由功能键 F47 发送的字符串
- **...**
- **Fr**：由功能键 F63 发送的字符串

此文档提供了对 termcap 数据库的基本介绍和常见功能的详细说明。对于更详细的配置和使用方法，请参阅相关的手册页和文档。