title:A Comparative Study of Handheld and Non-handheld Traffic in Campus
Wi-Fi Networks
author:Aaron Gember and
Ashok Anand and
Aditya Akella
A Comparative Study of Handheld and Non-handheld
Trafﬁc in Campus Wi-Fi Networks
Aaron Gember, Ashok Anand, and Aditya Akella
University of Wisconsin-Madison
{agember,ashok,akella}@cs.wisc.edu
Abstract. Handheld devices such as smartphones have become a major platform
for accessing Internet services. The small, mobile nature of these devices results
in a unique mix of network usage. Other studies have used Wi-Fi and 3G wireless
traces to analyze session, mobility, and performance characteristics for handheld
devices. We complement these studies through our unique study of the differences
in the content and ﬂow characteristics of handheld versus non-handheld trafﬁc.
We analyze packet traces from two separate campus wireless networks, with 3
days of trafﬁc for 32,278 unique devices. Trends for handhelds include low UDP
usage, high volumes of HTTP trafﬁc, and a greater proportion of video trafﬁc.
Our observations can inform network management and mobile system design.
1 Introduction
Handheld devices—smartphones, portable music players, etc.—are quickly augment-
ing, and sometimes even replacing, laptops as the computing and Internet perusal plat-
form of choice for users on the go. A 2009 EDUCAUSE study of technology on college
campuses found 51% of undergraduates own an Internet-capable handheld and 12%
plan to purchase one within the next 12 months [15]. A PEW study comparing 2007 and
2009 wireless Internet usage found a 73% increase in the rate Americans went online
with their handhelds [10]. While the number of non-handheld portables, e.g. laptops, is
also growing, usage of handheld devices is growing at a much faster pace.
In this paper, we seek to understand how Wi-Fi trafﬁc from handheld devices differs
from non-handheld wireless clients, and what happens when handhelds override cam-
pus Wi-Fi networks. Although many handheld users have cellular data plans, 802.11 Wi-
Fi is still a preferred Internet access mechanism, when available, because of its higher
bandwidth, lower latency, and lower energy usage. For our study, we use network trafﬁc
traces gathered from two independently-managed multi-AP campus wireless networks
over a 3 day period. The traces have 32,278 unique clients, with 15% being handhelds.
We conduct an in-depth study of the content and ﬂow properties of Wi-Fi handheld
trafﬁc. We examine transport and application protocols used, ﬂow lengths and dura-
tions, and properties of content perused, e.g. prevalence of multimedia content and its
nature and similarity in the content accessed by different users. We ignore low-level
transmission, connectivity, and mobility issues as these have already been well studied
[3,8,12]. To the best of our knowledge, these aspects of the differences between hand-
helds and non-handhelds have not been considered by prior studies. We believe that our
N. Spring and G. Riley (Eds.): PAM 2011, LNCS 6579, pp. 173–183, 2011.
c(cid:2) Springer-Verlag Berlin Heidelberg 2011
174
A. Gember, A. Anand, and A. Akella
examination of these issues is useful in informing future research on optimizing the per-
formance of handheld devices operating in Wi-Fi networks. Speciﬁcally, our observa-
tions can help determine whether adopting prior approaches designed for non-handheld
devices, such as those for caching, content distribution and battery life savings, are ap-
plicable or not. Our study can also inform management practices for campus networks,
e.g., network-wide Class-of-Service deﬁnitions for Multimedia trafﬁc.
Compared to non-handheld wireless users, handheld users access a different mix of
Internet services and content. Applications like web browsers and email clients are used
on both types of devices, but content providers tailor content differently based on device
type. Furthermore, the interface on handhelds in itself places limitations on the range
of Internet-based and local network-based services users can access. Thus, the network
trafﬁc of handhelds is likely to differ in several crucial respects from non-handheld
devices. The goal of this paper is to quantify the extent of these differences and identify
the sources of the differences, where possible.
We present a broad collection of measurement insights. Our key ﬁndings are as fol-
lows. The majority of handheld trafﬁc (97%) is web, with small amounts of email trafﬁc.
In contrast, 82% of non-handheld trafﬁc is web, with miscellaneous UDP trafﬁc (14%)
accounting for most of the remaining share. Handhelds tend to have smaller TCP ﬂows
and a narrower range of ﬂow durations. However, both types of devices have similar
TCP ﬂow rates, with a median rate of 0.8 Mbps. Looking in-depth at HTTP trafﬁc, we
observe that handhelds access content from a narrower range of hosts. However, we see
equivalent amounts of similarity in content accessed by the same user for both device
types. The top content type for handhelds is video, accounting for 40% of handheld traf-
ﬁc verses 17% for non-handhelds. Streaming video ﬂows represent the largest, fastest,
and highest throughput ﬂows of all handheld ﬂows.
2 Methodology
We collect and analyze data from two independently-managed campus wireless net-
works (Net1 and Net2). Full packet traces were captured from about 1,920 APs in Net1
over a period of 3 days during April 2010, yielding 8 TB worth of data. From Net2, full
packet traces were captured from 23 APs for a period of 3 days in June 2010, yielding
50 GB worth of data. As an artifact of our collection method, we do not include trafﬁc
sent between wireless clients. However, we expect inter-client trafﬁc is rare.
The packet traces contain data from all wireless clients connected to the network—
laptops, smartphones, and other devices. Since we focus on the differences between
handheld and non-handheld devices, we need to differentiate trafﬁc based on device
type. We rely on user-agent strings in HTTP packets as the primary method for dif-
ferentiation. We identify handheld user-agents using a keyword list based on common
knowledge and published lists [18].1 Organizationally Unique Identiﬁers (OUIs) con-
tained within device MAC addresses are used to conﬁrm our device classiﬁcations. For
1 Handheld keywords: Android, ARCHOS, BlackBerry, CUPCAKE, FacebookTouch, iPad,
iPhone, iPod, Kindle, LG, Links, Linux armv6l, Linux armv7l, Maemo, Minimo, Mobile Sa-
fari, Nokia, Opera Mini, Opera Mobi, PalmSource, PlayStation, SAMSUNG, Symbian, Sym-
bOS, webOS, Windows CE, Windows Mobile, Zaurus. See [7] for non-handheld keywords.
A Comparative Study of Handheld and Non-handheld Trafﬁc
175
the devices that do not send any HTTP packets, we use the OUIs of already classiﬁed
devices to attempt classiﬁcation based on OUI. Some devices (14%) remain uncatego-
rized because their user-agent strings contain keywords associated with both types of
devices, or they send no HTTP trafﬁc and their OUI is registered to a manufacturer that
makes both types of devices; we exclude these devices from our analysis.
Over the 3 day capture periods, 32,166 unique clients connect to Net1 and 112 clients
connect to Net2. Table 1 lists the number of clients of each type present in the trace data.
Non-handheld devices account for the majority of clients in both networks. However,
network admins provided anecdotal evidence that handhelds are much more prevalent
than in the past, and industry and campus studies show the number of handhelds is
expected to continue increasing [15]. We see handhelds from 7 primary vendors, with
Apple iPods, iPhones, and iPads accounting for over two-thirds of all handhelds.
Table 1. Client counts by device type
Table 2. Protocol usage (% of packets)
Device Type
Handheld
Non-handheld
Unknown
Total
Net1
5060
22485
4621
32166
Net2
9
90
13
112
Protocol
UDP
TCP
IPsec
Other
3 Protocols and Services
Handheld Non-hand Handheld Non-hand
18.4%
81.4%
0.05%
0.15%
5.9%
92.0%
0.3%
1.8%
4.5%
93.0%
–
2.5%
Net1
Net2
25.7%
74.0%
0.05%
0.35%
The protocols and services used by devices impact the performance of both the device
and the enterprise wired and wireless networks. Different protocols and services re-
spond differently to bandwidth limitations and congestion and contribute ﬂows of vary-
ing sizes, durations, and frequencies to the overall trafﬁc mix. Protocol mix also tells
operators the mechanisms they must put in place to secure and monitor their networks.
3.1 Protocols
Network and Transport Protocols: At the highest level, we categorize trafﬁc based
on network and transport layer protocols (Table 2). As expected, the majority of trafﬁc
is TCP or UDP; the remaining trafﬁc is IPSec (encrypted IP trafﬁc) or network control
trafﬁc (ICMP, ARP, etc.). A major difference in protocol usage between the two types of
devices is the amount of UDP trafﬁc. Over 4x as many non-handheld packets are UDP
compared to handhelds. In the presence of congestion, handhelds will use a fairer-share
of bandwidth, versus non-handhelds which use more congestion-unaware UDP.
Application Protocols: We identify application protocols using Bro [13]. Table 3 shows
the percentage of trafﬁc in bytes for each category of application protocols. Web pro-
tocols account for the largest volume of trafﬁc for both handheld (97% on Net1) and
non-handheld (82% on Net1) devices. Almost one-third of Net2 handheld web trafﬁc is
HTTPS (versus 3% for Net1), but this is an artifact of a small sample size and a single
large connection from one handheld. Email protocols are the second most popular appli-
cation but account for less than 2% of trafﬁc for both device types. We believe clients ac-
tually generate more email trafﬁc than this, as shown by Falaki et. al for handhelds [6];
176
A. Gember, A. Anand, and A. Akella
Table 3. Application protocol usage by percent of bytes (≺ less than 0.01%, – none)
Category
Protocols
HTTP, HTTPS
IMAP4, POP3, SMTP
IRC
SSH, FTP
Web
Email
Chat
Remote
Enterprise Services IPP, LPD, NFS, SMB, LDAP, SQL
Management
Other TCP
Other UDP
DNS, NetBIOS, NTP, SNMP
Unknown
Unknown
Net1
Handheld Non-hand
82.5%
0.5%
≺
≺
0.05%
0.34%
2.9%
13.7%
97.0%
1.51%
≺
≺
≺
0.2%
0.2%
1.0%
Net2
Handheld Non-hand
72.2%
0.04%
–
0.05%
0.3%
0.12%
8.7%
18.1%
91.1%
–
–
–
–
1.52%
5.7%
1.7%
we attribute the low usage of email protocols to the common usage of web-based email
and the potential for handhelds to simultaneously use 3G and Wi-Fi. Overall, our pro-
tocol usage observations are consistent with other studies [8].
Bro’s dynamic protocol detection can not identify the majority of UDP trafﬁc for
non-handhelds. More than 90% of the unidentiﬁed UDP trafﬁc is large ﬂows, from
1 MB to 20 MB in size. While we don’t know the exact nature of this trafﬁc, we suspect
that a majority of this trafﬁc is likely from streaming media (e.g., Internet Radio).
As handheld usage in Wi-Fi networks continues to grow, HTTP trafﬁc will become
an increasingly dominant share of the trafﬁc mix. Admins should consider deploying
network middleboxes focused on HTTP trafﬁc, e.g. in-network security scanners or web
proxies, to better serve handheld security needs without impacting device efﬁciency.
3.2 TCP Flow Characteristics
We compare the TCP ﬂow characteristics of handheld and non-handheld trafﬁc to deter-
mine if and how ﬂows differ between the device types. We look at the ﬂow size, dura-
tion, and rate for the downlink half of TCP connections—data ﬂowing from remote host
to the wireless client—since the majority of data ﬂows in this direction. Flows which