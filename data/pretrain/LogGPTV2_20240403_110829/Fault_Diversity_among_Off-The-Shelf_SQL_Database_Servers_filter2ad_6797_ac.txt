0 
0 
0 
31 
2 
18 
12 
6
0 
0 
6
0 
0 
0 
4.2. Summary of observed fault diversity 
Table 2 contains a summary from the viewpoint of the 
probable effects on a fault-tolerant server. Of the 47 bugs 
that  could  be  run  on  all  four  servers,  12  did  not  cause 
failures in any of the servers: they are Heisenbugs for the 
server  for  which  they  were  reported,  and  non-existent  or 
Heisenbugs  for  the  other  three  servers.  31  of  these  only 
caused a failure in the server for which they were reported 
and  not  in  the  others;  and  4  bugs  caused  a  coincident 
failure in two servers.   
In addition to these 47, we have many bugs that could 
be run only on a subset of the four servers and thus on a 
fault-tolerant server built out of this subset. The following 
sections in the table show the number of bugs that could 
be  run  in  each  of  these  different  combinations  (4  three-
version  combinations  and  6  two-version  combinations), 
and how many caused failures or coincident failures.   
The  last  four  columns  show  the  76  dialect-specific 
bugs,  which  could  only  be  run  in  the  server  for  which 
they  were  reported  and  therefore  affect functionality that 
would  not be available on a fault-tolerant diverse server.
Proceedings of the 2004 International Conference on Dependable Systems and Networks (DSN’04) 
0-7695-2052-9/04 $ 20.00 © 2004 IEEE 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 22,2021 at 04:18:53 UTC from IEEE Xplore.  Restrictions apply. 
Table 2. The number of bug scripts run and the effects on different combinations of servers 
The server(s) in which the 
bug script was run 
Total number of bug scripts 
run 
Failure not observed in any 
server
Failure observed in one 
server only 
IB, 
PG, 
OR, 
MS 
47 
12 
31 
IB, 
PG, 
OR
only 
IB, 
PG, 
MS 
only 
IB, 
OR, 
MS 
only 
PG, 
OR, 
MS 
only
3 
0 
3 
7 
1 
6 
12 
10 
2 
9 
0 
9 
Failure observed in two 
servers
None of the bugs caused a failure in more than two servers
0 
0 
4
1
1
IB, 
PG 
Only
IB, 
MS 
Only
IB, 
OR
Only
PG, 
OR
Only
PG, 
MS 
Only
MS, 
OR
Only
5 
0 
5 
0 
3 
0 
3 
0 
0 
0 
0 
0 
4 
0 
3 
1
12 
0 
7 
5
IB 
Only
PG 
Only
MS 
Only
OR
Only
17 
18 
28 
13 
1 
2 
5 
3 
16 
16 
23 
10 
2 
1 
1 
0  N/A  N/A  N/A  N/A 
4.3. Two-version combinations
the 
We  now 
look  more  closely  at 
two-version 
combinations of the four different servers in our study, to 
see how many of the coincident failures are detectable in 
the 2-version systems. We define: 
Detectable  failures:  self-evident  failures  or  those  where 
servers  return  different  incorrect  results  (the  comparison 
algorithm  must  be  written 
for  possible 
differences  in  the  representation  of  correct  results,  e.g. 
different  numbers  of  digits  in  the  representation  of 
floating point numbers, padding of characters in character 
to  allow 
strings etc.). All failures affecting only one out of two (or 
at most n-1 out of n) versions are detectable.  
Non-Detectable  failures:  the  ones  for  which  two  (or 
more) servers return identical incorrect results.
Table  3  contains  a  summary  of  the  results  on each of 
the  six  possible  two-version  combinations. Here we only 
include  bugs  that  could  be  run  on  both  servers,  i.e.  we 
exclude  dialect-specific  bugs.  Only  four  of  the  12 
coincident  failures  we  observed  are  non-detectable.  We 
can  see  that  diversity  allows  detection  of  failures  for  at 
least 94% of these bugs. 
Table 3. Summary of results for the two-version combinations 
Pairs of 
servers  
IB + PG 
IB + OR 
IB + MS 
PG + OR 
PG + MS 
OR + MS 
Total number 
of bug scripts 
run 
Failure observed 
(in at least one 
server) 
62 
62 
69 
64 
76 
71 
43 
29 
35 
30 
46 
14 
Non -self-
evident 
One out of two servers failing 
Self-
evident 
17 
8 
11 
13 
18 
7 
25 
21 
21 
16 
21 
7 
Both servers failing 
Non – 
Detectable 
Detectable 
Self-evident 
Non-self-evident 
1
0 
2
0 
1
0 
0 
0 
1
0 
6
0 
0 
0 
0
1
0
0 
5. Common faults 
We  now  discuss  the  bugs  that  caused  coincident 
failures, listed in Table 4. We give some details about the 
functions  affected  and  conjectures  about  the  probable 
severity  and  frequency  of  failure  as  a  function  of  the 
environment of use of the server. 
There  were  13  bugs  in  total  that  were  originally 
reported  for  one  server  but  caused  failure  in  another.  12
caused  a  failure  in  both  the  server  for  which  they  were 
reported  and  another  server.  One  bug  (MSSQL  bug 
report  56775)  was  reported  for  MSSQL,  did  not  cause 
failure  in  MSSQL  (possible  Heisenbug)  but  did  cause 
failure in PostgreSQL. 
Proceedings of the 2004 International Conference on Dependable Systems and Networks (DSN’04) 
0-7695-2052-9/04 $ 20.00 © 2004 IEEE 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 22,2021 at 04:18:53 UTC from IEEE Xplore.  Restrictions apply. 
Table  4.  Bugs  that  cause  coincident 
failures.  The 
read 
horizontally to know for which server the 
bug was reported, and vertically to know 
in which other server it caused a failure. 
table  should  be 
IB 
PG 
OR
MS 
IB 
N/A 
1  - (Bug ID 223512) 
PG 
OR
MS 
0 
0
1-
(BugID 
58544)
N/A 
1 –
(Bug ID 1059835)
5 – (BugID’s 54428, 
56516, 58158, 58253, 
351180)
0 
0 
2– (BugID’s 
217042(3), 
222476)
2 – (BugID’s
43 and 77)
N/A 