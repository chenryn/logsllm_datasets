# 网络协议与移动设备的优化策略

## 节点通信与路由
- **节点间的通信机制**：每个节点会追踪消息从发送者到达它们所需的跳数。
- **BATMAN协议**: 一种简化路由的方法，仅计划路线的第一步，并沿着具有最低跳数的消息路径转发数据包。详情参见 [Open-Mesh Wiki](http://www.open-mesh.org/projects/open-mesh/wiki/The-olsr-story)。

### 当前状况
- OLSR仍然是最流行的协议之一。
- BATMAN正在逐渐受到更多关注。
- 我们认为还有改进空间，欢迎您加入我们。如果您在这个领域工作，请通过电子邮件联系我们。

## 智能手机传感器的应用
智能手机具备多种传感器，可用于优化网络性能：
- **电池状态**：避免向电量低的手机发送数据包；优先向充电中的手机发送更多的数据。
- **GPS定位**：根据位置信息形成更高效的路由，倾向于选择接近或静止不动的目标设备。
- **加速度计**：不向正在移动的手机发送数据包；预测手机移动方向并据此调整数据传输策略。

### 反应性协议
- 利用最新的路由表信息来动态调整网络结构。
- 结合运动和位置信息以提高效率。
- 注意到如果在报头中包含节点位置，则该信息可能会被第三方获取。
- 此方法可能带来吞吐量问题。

### 延迟容忍度
- 断开连接的节点充当独立的消息队列。
- 协议将这些节点视为信鸽（参考RFC 2549）。
- 在必要时切换至基于消息传递的方式进行通信。

## 扩展性、延迟及跳跃次数
尽管主动式路由带来了显著改善，但其消耗大量带宽以维持网络稳定。相比之下，反应式路由虽然响应较慢但在相同带宽下表现得更加平稳。结合两种方法可以获得最佳效果。

## 隧道技术和初步安全性探讨
- **跨过蜂窝网络或Wi-Fi**：模仿标准隧道技术实现虚拟专用网络(VPN)功能。
- **互联网上的网格隧道**：支持远程集群和隔离区域内的安全通信。
- **保护网格免受未授权访问**：允许通过未加密的移动节点进行安全穿越。

### IP地址分配
- 固定IP地址配置。
- 根据MAC地址、IMEI等生成唯一IP地址。
- DHCP需要服务器或者对已使用IP有全局了解。

### 安全范例
- 使用蓝牙或NFC进行密钥交换和配置信息传输。
- 对每条链路/节点采用单独的密钥进行加密。
- 确保中间节点无法解密网络数据。

#### 具体安全措施
- 分享通过NFC分发的对称密钥。
- P2P Diffie-Hellman密钥交换用于对称加密。
- 公钥/私钥对用于非对称加密。
- Serval项目利用Curve25519公钥作为网络地址，提供内置的身份验证加密服务。

## 相关项目与未来展望
- Freifunk: 德国的开放无线网络倡议。
- Serval Project: 开源Android自组织网络框架，支持VoIP通话等功能。
- 未来的开发方向包括VoIP、IP地址管理以及进一步的安全增强等。

## 结语
我们已经尝试进行了演示，并鼓励大家参与到这个开源社区中来。更多信息请访问我们的[GitHub仓库](https://github.com/monk-dot)及相关链接。