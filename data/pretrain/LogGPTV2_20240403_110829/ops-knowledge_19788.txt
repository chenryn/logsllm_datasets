User: In the Linux system, how to use a firewall to protect server security and configure to allow specific ports and IP addresses to access?
Assistant: Commonly used firewalls in Linux systems are iptables and firewalld. The following are the basic steps to use iptables and firewalld to protect server security and configure to allow access to specific ports and IP addresses: Using iptables: 1. View iptables status: `iptables -L` 2. Clear iptables rules: `iptables -F` 3. Set Default rules, deny all traffic: `iptables -P INPUT DROP`, `iptables -P FORWARD DROP`, `iptables -P OUTPUT DROP` 4. Allow access to specific ports, such as allowing SSH: `iptables -A INPUT -p tcp - -dport 22 -j ACCEPT` 5. Allow specific IP addresses to access, such as allowing clients with IP address 192.168.0.100: `iptables -A INPUT -s 192.168.0.100 -j ACCEPT` 6. Save iptables rules:`service iptables save`, `systemctl save iptables` or `/etc/init.d/iptables save`, the specific saving method varies according to different Linux distributions. Use firewalld: 1. View firewalld status: `firewall-cmd --state` 2. Clear all rules: `firewall-cmd --zone=public --remove-all-services`, `firewall-cmd --zone=public --remove-all-ports` 3. Set default rules to deny all traffic: `firewall-cmd --set-default-zone=drop` 4. Allow access to specific ports, such as allowing SSH: `firewall-cmd --zone =public --add-port=22/tcp --permanent` 5. Allow specific IP address access, such as allowing clients with IP address 192.168.0.100: `firewall-cmd --zone=public --add-source= 192.168.0.100/32 --permanent` 6. Reload the firewalld configuration: `firewall-cmd --reload` Note: When configuring the firewall, please make sure you know all the ports and IP addresses that are allowed to access, and check the rules carefully, In order to avoid configuration errors and cause the server to be attacked.