# OCR Output
## Page 1
计算机网络原理
第3章：数据链路层
阮晓龙
13938213680 / PI:EMAIL
https:/ /internet.hactcm.edu.cn
河南中医药大学信息技术学院互联网技术教学团队
河南中医药大学医疗健康信息工程技术研究所
2023.3
---
## Page 2
OSI的七层协议体系结构
TCP/IP的四层协议体系结构
五层协议的体系结构
7应用层
6表示层
4应用层
5应用层
5会话层
4运输层
3运输层
4运输层
3网络层
2 网际层 IP
3网络层
2数据链路层
2数据链路层
1网络接口层
（没有具体内容）
1物理层
1物理层
---
## Page 3
本章教学计划
数据链路层的基本原理
点对点协议（PPP）
数据链路层原理
使用广播信道的数据链路层（CSMA/CD）
扩展的以太网
局域网通信
高速以太网
河南中医药大学信息技术学
---
## Page 4
本章教学计划
0.1数据链路层的地位
主机H-1
主机H-2
网络中的主机、路由器等都必须实现数据链路层
Host-1
Host-2
应用层
应用层
运输层
运输层
R-1
R-2
R-3
网络层
网络层
网络层
网络层
网络层
链路层
链路层
链路层
链路层
链路层
物理层
物理层
物理层
物理层
物理层
河南中医药大学信息技术学院互联网技术教学团队／https://inte
---
## Page 5
5
本章教学计划
0.1数据链路层的地位
主机H-1
主机H-2
局域网
局域网中的主机、
交换机等都必须实现数据链路层
Host-1
Host-2
应用层
应用层
运输层
运输层
R-1
R-2
R-3
网络层
网络层
网络层
网络层
网络层
链路层
链路层
链路层
链路层
链路层
物理层
物理层
物理层
物理层
物理层
河南中医药大学信息技术学院互联网技术教学团队／https://internet.hactcm.edu.cn
---
## Page 6
6
本章教学计划
0.1数据链路层的地位
主机H-1
主机H-2
Host-1到Host-2所经过的网络可以是多种不同类型的
Host-1
Host-2
应用层
应用层
从层次上来看数据的流动
运输层
R-1
R-2
运输层
R-3
网络层
网络层
网络层
网络层
网络层
链路层
链路层
链路层
链路层
链路层
物理层
物理层
物理层
物理层
物理层
河南中医药大学信息技术学院互联网技术教学团队／https://internet.hactcm.edu.cn
---
## Page 7
本章教学计划
0.1数据链路层的地位
主机H-1
主机H-2
Host-1到Host-2所经过的网络可以是多种不同类型的
Host-1
Host-2
应用层
应用层
仅从数据链路层观察帧的流动
运输层
R-1
R-2
R-3
运输层
网络层
网络层
网络层
网络层
网络层
链路层
链路层
链路层
链路层
链路层
物理层
物理层
物理层
物理层
物理层
河南中医药大学信息技术学院互联网技术教学团队／https://internet.hactcm.edu.cn
---
## Page 8
8
本章教学计划
0.2数据链路层信道类型
数据链路层属于计算机网络的低层
数据链路层使用的信道主要有两种类型
■点对点信道：
口使用一对一的点对点通信方式。
点对点信道
■广播信道：
口使用一对多的广播通信方式。
口必须使用专用的共享信道协议来协调主机的数据发送
由于局域网内通常不包括路由选择和分组转发
因此局域网的内容也在本章进行讨论。
广播信道
tcm.edu.cn
---
## Page 9
1.数据链路层的基本原理
1.1数据链路和帧
口链路(link):
1一条无源的点到点的物理线路段，中间没有任何其他的交换结点。
■一条链路只是一条通路的一个组成部分。
■或物理链路。
口数据链路（datalink)：
■把实现控制数据传输的协议的硬件和软件加到链路上，就构成了数据链路。
■或逻辑链路。
■典型实现：适配器（即网卡）
口一般的适配器都包括了数据链路层和物理层这两层的功能。
河南中医药大学信息技术学院
n.edu.c
---
## Page 10
10
1.数据链路层的基本原理
1.1数据链路和帧
数据链路层把网络层交下来的数据构成帧发送到链路上，以及把接收到
的帧中的数据取出并上交给网络层。
■数据链路层协议数据单元是数据帧（帧）。
■网络层协议数据单元是IP数据报（数据报、分组、包）。
把重点放到数据链路层，只考虑数据链路层的通信，把网络体系简化为
三层。
---
## Page 11
11
1.数据链路层的基本原理
1.1数据链路和帧
（a)三层的简化模型
结点A
结点B
网络层
IP数据报
IP数据报
装入
数据
取出
帧
链路层
帧
物理层
1010...
..0110
1010...
..0110
链路
(b）只考虑数据链路层
结点A
结点B
数据
发送
接收
链路层
帧
企
帧
链路
河南中医药大学信息技术学院互联网技术教学团队／https://internet.hactcm.edu.cn
---
## Page 12
12
1.数据链路层的基本原理
1.1数据链路和帧
常常在两个对等的数据链路层之间画出一个数字管道，在这条数字管道
上传输的数据单位是帧。
早期的数据通信协议曾叫作通信规程(procedure)。
■在数据链路层，规程和协议是同义语。
结点
帧
结点
帧
河南中医药大学信息技术学院互联网技术教学团队／https://int
cm.edu.cn
---
## Page 13
13
1.数据链路层的基本原理
1.2数据链路层的基本功能
封装成帧
透明传输
差错检测
2
形成帧
透明传送数据
可靠传输
在一段数据的前后分别
在数据链路层上能够传送
解决比特差错。
添加首部和尾部。
任何数据，任意组合的比
不能够解决传输擦差错。
特流能够在数据链路层传
送。
数据链路层的基本功能
数据链路层的基本功能
数据链路层的基本功能
河南中医药大学信息技术学院互联网技术教学团队／https://internet.hactcm.edu.cn
---
## Page 14
14
1.数据链路层的基本原理
1.2数据链路层的基本功能
封装成帧（framing）：
■是在一段数据的前后分别添加首部和尾部，然后就构成了一个帧。
■数据帧的长度就是数据加上首部和尾部的总长度。
■首部和尾部的重要作用之一就是进行帧定界，确定数据帧的界限
河南中医药大学信息技术学
---
## Page 15
15
1.数据链路层的基本原理
1.2数据链路层的基本功能
帧开始
IP数据报
帧结束
+
开始
帧首部
帧的数据部分
帧尾部
发送
≤ MTU
数据链路层的帧长
最大传送单元MTU（MaximumTransferUnit）：规定了所能传送的帧的数据部分长度上限
河南中医药大学信息技术学院互联网技术教学团队／https://i
tcm.edu.cn
---
## Page 16
16
1.数据链路层的基本原理
1.2数据链路层的基本功能
√ 控制字符 SOH (Start Of Header)
放在一帧的最前面，表示帧的首部开始。
 控制字符 EOT（End OfTransmission）放在一帧的末尾，表示帧的结束。
帧开始符
帧结束符
SOH
装在帧中的数据部分
EOT
帧
发送在前
用控制字符进行帧定界的方法举例
河南中医药大学信息技术学院互联网技术教学团队／https://int
cm.edu.cn
---
## Page 17
17
1.数据链路层的基本原理
1.2数据链路层的基本功能
口透明传输：
由于帧的开始和结束的标记是专门指明的字符，因此所传输的数据中不能够
■也就是说传输的数据中，不能够有任何和SOH、EOT一致的8比特的字符。
■为了解决这个问题，就采用了转义字符"ESC"。
ESC值是确定的，十六进制1B，或二进制00011011。
---
## Page 18
18
1.数据链路层的基本原理
1.2数据链路层的基本功能
出现了“EOT"
完整的帧
发送
数据部分
在前
SOH
EOT
EOT
被接收端误认为是一个帧
被接收端当作无效帧而丢弃
如果数据中的某个字节的二进制代码恰好和SOH或EOT一样，数据
链路层就会错误地“找到帧的边界”，导致错误。
河南中医药大学信息技术学院互联网技术教学团队／https://internet.hactcm.edu.cn
---
## Page 19
19
1.数据链路层的基本原理
1.2数据链路层的基本功能
帧开始符
帧结束符
原始数据
SOH
EOT
SOH
ESC
HOS
EOT
字节填充
字节填充
字节填充
字节填充
SOH
ESC
EOT
ESC
HOS
ESCESC
ESC
SOH
EOT
经过字节填充后发送的数据
发送
在前
河南中医药大学信息技术学院互联网技术教学团队／https://internet.hactcm.edu.cn
---
## Page 20
20
透明
指某一个实际存在的事物看起来却好像不存在一样。
“在数据链路层透明传送数据”表示：
无论发送什么样的比特组合的数据
这些数据都能够按照原样没有差错地通过这个数据链路层
---
## Page 21
21
1.数据链路层的基本原理
1.2数据链路层的基本功能
差错检测：
7
■数据帧在传输中可能发生两种错误：
比特差错：1可能变成〇或者〇可能变成1。
口传输差错：收到的帧没有出现比特差错，但出现帧丢失、帧重复和帧失序。
发送方
ol (
0
o  (