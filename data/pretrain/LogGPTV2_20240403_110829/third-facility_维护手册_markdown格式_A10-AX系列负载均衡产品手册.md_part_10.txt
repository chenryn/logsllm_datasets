help View aFleX help.
rename Rename an aFleX script from src-name to dst-name.
Mode Global configuration mode
aflex-scripts start
Description Begin a transaction to edit an aFleX script within the CLI. See the aFleX Scripting Language
Reference Guide.
application-type
Description Define the type of application (ADC or CGN) that will be configured in this partition, includ-
ing the shared partition.
For more information, refer to the Configuration Application Delivery Partitions guide.
page 81 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
arp
Description Create a static ARP entry.
Syntax [no] arp ipaddr mac-address
[interface {ethernet port-num | trunk trunk-id} [vlan vlan-id]]
Parameter Description
ipaddr IP address of the static entry.
mac-address MAC address of the static entry.
port-num Ethernet port number.
trunk-id Trunk ID number.
vlan-id If the ACOS device is deployed in transparent mode, and the interface
is a tagged member of multiple VLANs, use this option to specify the
VLAN for which to add the ARP entry.
Default The default timeout for learned entries is 300 seconds. Static entries do not time out.
Mode Configuration mode
Usage If the ACOS device is a member of an aVCS virtual chassis, use the device-context com-
mand to specify the device in the chassis to which to apply this command.
arp-timeout
Description Change the aging timer for dynamic ARP entries.
Syntax [no] arp-timeout seconds
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 82
A10 Thunder Series and AX Series—Command Line Interface Reference
Replace seconds with the number of seconds a dynamic entry can remain unused before
being removed from the ARP table (60-86400).
Default 300 seconds (5 minutes)
Mode Configuration mode
Usage If the ACOS device is a member of an aVCS virtual chassis, use the device-context com-
mand to specify the device in the chassis to which to apply this command.
audit
Description Configure command auditing.
Syntax [no] audit {enable [privilege] | size num-entries}
Parameter Description
enable Enables command auditing.
Command auditing is disabled by default.
privilege Enables logging of Privileged EXEC commands. Without this option,
only configuration commands are logged.
num-entries Specifies the number of entries the audit log file can hold. You can
specify 1000-30000 entries. When the log is full, the oldest entries are
removed to make room for new entries.
When the feature is enabled, the audit log can hold 20,000 entries by
default.
Mode Configuration mode
Usage Command auditing logs the following types of system management events:
• Admin logins and logouts for CLI, GUI, and aXAPI sessions
• Unsuccessful admin login attempts
• Configuration changes. All attempts to change the configuration are logged, even if
they are unsuccessful.
• CLI commands at the Privileged EXEC level (if audit logging is enabled for this level)
The audit log is maintained in a separate file, apart from the system log. The audit log is ADP-
aware. The audit log messages that are displayed for an admin depend upon the admin’s role
(privilege level). Admins with Root, Read Write, or Read Only privileges who view the audit
log can view all the messages, for all system partitions.
Admins who have privileges only within a specific partition can view only the audit log
messages related to management of that partition. Partition Real Server Operator admins
can not view any audit log entries.
NOTE: Backups of the system log include the audit log.
page 83 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
authentication console type
Description Configure a console authentication type.
Syntax [no] authentication console type {ldap | local | radius | tacplus}
Parameter Description
ldap Use LDAP for console authentication
local Use the ACOS configuration for console authentication.
radius Use RADIUS for console authentication.
tacplus Use TACACS+ for console authentication.
Mode Configuration mode
Usage You can specify as many options as needed.
Example The following example grants LDAP and local console authentication:
ACOS(config)# authentication console type ldap local
authentication enable
Description Configuration authentication of admin enable (Privileged mode) access.
Syntax [no] authentication enable {local [tacplus] | tacplus [local]}
Parameter Description
local Uses the ACOS configuration for authentication of the enable password.
tacplus Uses TACACS+ for authentication of the enable password.
Default local
Mode Configuration mode
Usage The authentication enable command operates differently depending on the authen-
tication mode command setting:
• For authentication mode multiple, the ACOS device will attempt to authenti-
cate the admin with the first specified method. If the first method fails, the next speci-
fied method is used.
• For authentication mode single, the ACOS device will attempt to authenticate
the admin with the first specified method. If the method fails, the ACOS device will
return an error. By default, authentication mode single is selected.
See “authentication mode” on page85.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 84
A10 Thunder Series and AX Series—Command Line Interface Reference
authentication login privilege-mode
Description Places TACACS+-authenticated admins who log into the CLI at the Privileged EXEC level of
the CLI instead of at the User EXEC level.
Syntax [no] authentication login privilege-mode
Default Disabled
Mode Configuration mode
authentication mode
Description Enable tiered authentication.
Syntax [no] authentication mode {multiple | single}
Parameter Description
multiple Enable “tiered” authentication, where the ACOS device will check the next method even if the primary
method does respond but authentication fails using that method.
For example, if the primary method is RADIUS and the next method is TACACS+, and RADIUS rejects
the admin, tiered authentication attempts to authenticate the admin using TACACS+.
This authentication behavior is summarized below:
1. Try method1. If a method1 server replies, permit or deny access based on the server reply.
2. If no method1 servers reply or a method1 server denies access, try method2.
3. If no method2 servers reply or a method2 server denies access, try method3.
4. If no method3 servers reply or a method3 server denies access, try method4. If authentication suc-
ceeds, the admin is permitted. Otherwise, the admin is denied.
single Enable single authentication mode, where the backup authentication method will only be used if the
primary method does not respond. If the primary method does respond but denies access, then the
secondary method is simply not used. The admin is not granted access.
This authentication behavior is summarized below:
1. Try method1. If a method1 server replies, permit or deny access based on the server reply.
2. Only if no method1 servers reply, try method2. If a method2 server replies, permit or deny access
based on the server reply.
3. Only if no method2 servers reply, try method3. If a method3 server replies, permit or deny access
based on the server reply.
4. Only if no method3 servers reply, try method4. If authentication succeeds, the admin is permitted.
Otherwise, the admin is denied.
Default By default, single authentication mode is used.
Mode Configuration mode
page 85 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
authentication multiple-auth-reject
Description Configure support for multiple concurrent admin sessions using the same account.
Syntax [no] authentication multiple-auth-reject
Default Disabled. Multiple concurrent admin sessions using the same account are allowed.
Mode Global configuration
authentication type
Description Set the authentication method used to authenticate administrative access to the ACOS
device.
Syntax [no] authentication [console] type method1
[method2 [method3 [method4]]]
Parameter Description
console Applies the authentication settings only to access through the con-
sole (serial) port. Without this option, the settings apply to all types of
admin access.
type method1 Uses the ACOS configuration for authentication. If the administrative
[method2 username and password match an entry in the configuration, the
[method3 administrator is granted access.
[method4]]]
The following authentication types are supported:
• ldap—Uses an external LDAP server for authentication.
• local—Uses the ACOS configuration for authentication. If the
administrative username and password match an entry in the con-
figuration, the administrator is granted access.
• radius—Uses an external RADIUS server for authentication.
• tacplus—Uses an external TACACS+ server for authentication.
By default, only local authentication is used.
Default By default, only local authentication is used.
Mode Configuration mode
Usage The local database (local option) must be included as one of the authentication sources,
regardless of the order is which the sources are used. Authentication using only a remote
server is not supported.
To configure the external authentication server(s), see “radius-server” on page175 or “tacacs-
server host” on page205.
Example The following commands configure a pair of RADIUS servers and configure the ACOS device
to try them first, before using the local database. Since 10.10.10.12 is added first, this server
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 86
A10 Thunder Series and AX Series—Command Line Interface Reference
will be used as the primary server. Server 10.10.10.13 will be used only if the primary server is
unavailable. The local database will be used only if both RADIUS servers are unavailable.
ACOS(config)#radius-server host 10.10.10.12 secret radp1
ACOS(config)#radius-server host 10.10.10.13 secret radp2
ACOS(config)#authentication type radius local
authorization
Description Configure authorization for controlling access to functions in the CLI. The ACOS device can
use TACACS+ for authorizing commands executed under a specified privilege level. This
command also allows the user to specify the level for authorization debugging.
Syntax [no] authorization commands cmd-level method {tacplus [none] | none}
[no] authorization debug debug-level
Parameter Description
cmd-level Specifies the level of commands that will be authorized. The com-
mands are divided into the following levels:
• Privilege 0: Read-only
• Privilege 1: Read-write
• Privilege 2–4: Not-used
• Privilege 5–14: Reserved for ACOS-specific roles
• Privilege 15: Read-write
tacplus Specifies TACACS+ as the authorization method. (If you omit this
option, you must specify none as the method, in which case no
authorization will be performed.)
tacplus none If all the TACACS+ servers fail to respond, then no further authorization
will be performed and the command is allowed to execute.
none No authorization will be performed.
debug-level Specifies the debug level for authorization. The debug level is set as
flag bits for different types of debug messages. The ACOS device has
the following types of debug messages:
• 0x1 – Common system events such as “trying to connect with
TACACS+ servers” and “getting response from TACACS+ servers”.
These events are recorded in the syslog.
• 0x2 – Packet fields sent out and received by the ACOS device, not
including the length fields. These events are written to the terminal.
• 0x4 – Length fields of the TACACS+ packets will also be displayed
on the terminal.
• 0x8 – Information about TACACS+ MD5 encryption will be sent to
the syslog.
page 87 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Default Not set
Mode Configuration mode
Usage The authorization server also must be configured. See “radius-server” on page175 or “tacacs-
server host” on page205.
Example The following command specifies the authorization method for commands executed at
level 14: try TACACS+ first but if it fails to respond, then allow the command to execute with-
out authorization.
ACOS(config)# authorization commands 14 method tacplus none
The following command specifies debug level 15 for authorization:
ACOS(config)# authorization debug l5
backup-periodic
Description Schedule periodic backups.
CAUTION: After configuring this feature, make sure to save the configuration. If the device
resets before the configuration is saved, the backups will not occur.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 88
A10 Thunder Series and AX Series—Command Line Interface Reference
Syntax [no] backup-periodic {target [...]}
{hour num | day num | week num}
{[use-mgmt-port] url}
Parameter Description
target • Specify system to back up the following system files:
• Startup-config files
• Admin accounts and login and enable passwords
• aFleX scripts
• Class lists and black/white lists
• Scripts for external health monitors
• SSL certificates, keys, and certificate revocation lists
• If custom configuration profiles are mapped to the startup-config, they also are backed up.
• Specify log to back up the system log.
You can specify either option, or both options.
hour num | Specifies how often to perform the back ups. You can specify one of the following:
day num |
• hour num—Performs the backup each time the specified number of hours passes. For example,
week num
specifying hour 3 causes the backup to occur every 3 hours. You can specify 1-65534 hours.
There is no default.
• day num—Performs the backup each time the specified number of days passes. For example,
specifying day 5 causes the backup to occur every 5 days. You can specify 1-199 days. There is no
default.
• week num—Performs the backup each time the specified number of weeks passes. For example,
specifying week 4 causes the backup to occur every 4 weeks. You can specify 1-199 weeks. There
is no default.
use-mgmt-port Uses the management interface as the source interface for the connection to the remote device.
The management route table is used to reach the device. Without this option, the ACOS device
attempts to use the data route table to reach the remote device through a data interface.
url Specifies the file transfer protocol, username (if required), and directory path.
You can enter the entire URL on the command line or press Enter to display a prompt for each part
of the URL. If you enter the entire URL and a password is required, you will still be prompted for the
password. The password can be up to 255 characters long.
To enter the entire URL:
• tftp://host/file
• ftp://[user@]host[:port]/file
• scp://[user@]host/file
• sftp://[user@]host/file
Default Not set
Mode Configuration mode
Usage If the ACOS device is a member of an aVCS virtual chassis, use the device-context com-
mand to specify the device in the chassis to which to apply this command.
Example The following commands schedule weekly backups of the entire system, verify the configu-
ration, and save the backup schedule to the startup-config:
page 89 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
ACOS(config)#backup-periodic system week 1 ftp://admin2@10.10.10.4/weekly-sys-backup
Password []?
Do you want to save the remote host information to a profile for later use?[yes/no]yes
Please provide a profile name to store remote url:wksysbackup
ACOS(config)#show backup
backup periodically system week 1 ftp://admin2@10.10.10.4//weekly-sys-backup
Next backup will occur at 14:37:00 PDT Thu Aug 19 2014
ACOS(config)#write memory
Building configuration...
[OK]
backup store
Description Configure and save file access information for backup. When you back up system informa-
tion, you can save typing by specifying the name of the store instead of the options in the
store.
Syntax [no] backup store {create store-name url | delete store-name}
Parameter Description
store-name Name of the store.
url File transfer protocol, username (if required), and directory path.
You can enter the entire URL on the command line or press Enter to
display a prompt for each part of the URL. If you enter the entire URL
and a password is required, you will still be prompted for the pass-
word. The password can be up to 255 characters long.
To enter the entire URL:
• tftp://host/file
• ftp://[user@]host[port:]/file
• scp://[user@]host/file
• sftp://[user@]host/file
Default None
Mode Configuration mode
Usage If the ACOS device is a member of an aVCS virtual chassis, use the device-context com-
mand to specify the device in the chassis to which to apply this command.
For other backup options, see the following:
• “backup log” on page36
• “backup system” on page38
• “backup-periodic” on page88
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 90
A10 Thunder Series and AX Series—Command Line Interface Reference
Related Commands restore
banner
Description Set the banners to be displayed when an admin logs onto the CLI or accesses the Privileged
EXEC mode.
Syntax [no] banner {exec | login} [multi-line end-marker] line
Parameter Description
exec Configures the EXEC mode banner (1-128 characters).
login Configures the login banner (1-128 characters).
multi-line Hexadecimal number to indicate the end of a multi-line message. The
end-marker end marker is a simple string up to 2-characters long, each of the
which must be an ASCII character from the following range: 0x21-
0x7e.
The multi-line banner text starts from the first line and ends at the
marker. If the end marker is on a new line by itself, the last line of the
banner text will be empty. If you do not want the last line to be empty,
put the end marker at the end of the last non-empty line.
line Specifies the banner text.
Default The default login banner is “ACOS system is ready now.”
The default EXEC banner is “[type ? for help]”.
Mode Configuration mode
Example The following examples set the login banner to “welcome to login mode” and set the EXEC
banner to a multi-line greeting:
ACOS(config)#banner exec welcome to exec mode
ACOS(config)#banner login multi-line bb
Enter text message, end with string 'bb'.
Here is a multi-line
Greeting.
bb
ACOS(config)#
page 91 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
bfd echo
Description Enables echo support for Bidirectional Forwarding Detection (BFD).
Syntax [no] bfd echo
Default Disabled
Mode Configuration mode
Usage BFD echo enables a device to test data path to the neighbor and back. When a device gener-
ates a BFD echo packet, the packet uses the routing link to the neighbor device to reach the