# Productivity and Traffic Analysis in Smartphone Applications

## 1. Traffic Analysis

### 1.1 Traffic Distribution by Application Category
Table 2: Traffic generated by applications in Dataset2.

| Application Category | Bytes (%) |
|---------------------|-----------|
| Productivity         | 58.02     |
| Unknown/Other        | 10.82     |
| Browsing             | 10.33     |
| Messaging            | 8.51      |
| Media                | 5.83      |
| Maps                 | 4.18      |
| System               | 0.36      |
| Social               | 0.15      |
| Email                | 1.79      |

- **Figure 4**: Transfer sizes in Dataset2 (x-axis is log scale).
- **Frequencies**:
  - 100%
  - 80%
  - 60%
  - 40%
  - 20%
  - 0%

- **Transfer Size (KB)**:
  - 0
  - 10
  - 100
  - 1000
  - 10000

### 1.2 Port Usage and Traffic Generation
- The dominant ports correspond to HTTPS, HTTP, and IMAP4S.
- These results suggest that the main traffic generators on smartphones are browsing and email.
- **HTTPS** is used by secure web sites and email servers (including Exchange).
- **HTTP** is heavily used for browsing and downloading various types of data.
- **IMAP4S** is the secure version of the IMAP protocol for email. While it has the most packets, it ranks third in terms of byte volume, indicating a bias towards small packets, likely due to frequent polling for new email.
- Many users in Dataset1 had two configured email accounts: a push-based work account and a polling-based personal account.
- Increased adoption of push-based email, where clients are notified when new email arrives, will change the nature of email traffic.

### 1.3 Comparison with Other Studies
- The 37% share of HTTP traffic found in our study is roughly half of that observed for mobile handheld devices in homes [15] and 50% less than that in residential broadband traffic [14].
- The large volume of traffic using HTTP or HTTPS may indicate a trend among smartphone applications to tunnel their data through these protocols, even for non-HTTP payloads like music, video, and social apps.

## 2. Transfer Sizes and Their Implications

### 2.1 Transfer Size Analysis
- **Figure 3**: CDF of transfer sizes in bytes and packets across all users in Dataset1.
  - Mean transfer size: 273 KB sent, 57 KB received.
  - 30% of transfers have fewer than 1K bytes and 10 packets.
  - These results are consistent with those of Maier et al. for HTTP traffic from handheld devices [15].

- **Figure 4**: Transfer sizes in Dataset2, defined as bytes sent and received by individual applications in 2-minute intervals.
  - Despite aggregation, most transfers are small.

### 2.2 Energy and Overhead Implications
- Small transfer sizes have significant energy implications due to the high energy consumption of the 3G radio when transitioning between sleep and ready states.
- Schemes like Catnap [8], which put the radio to sleep during transfers, are effective only for long transfers.
- A simple method can reduce radio power consumption by 35% by appropriately setting radio sleep timers.
- Small transfers also amplify the overhead of lower-layer protocols, such as TCP and SSL.

### 2.3 Overhead Quantification
- **Figure 5**: Overhead of layers below TCP and SSL (inclusive) in Dataset1.
  - **TCP+**: Median overhead at byte-level is 12%.
  - **SSL+**: Median overhead is 40%, and 20% of transfers have an overhead twice that amount.
  - Time overhead: Median TCP overhead is 20%, and SSL does not add much beyond TCP, indicating the effectiveness of SSL session key caching.

## 3. Performance Analysis

### 3.1 Round Trip Time (RTT)
- **Figure 6(a)**: RTTs observed by transfers initiated when the radio is in full power mode.
  - Median RTT: 125 ms.
  - 10% of transfers observe an RTT of over 0.5 seconds.
  - High variance in RTT can stem from link layer retransmissions, network congestion, and overloaded equipment inside the carrier network.
  - The difference between "Trailing" and "All" curves quantifies the overhead of radio wake-ups, with a median difference of 400 ms and a 90th percentile difference of 1.7 seconds.

### 3.2 Retransmission Rate
- **Figure 6(b)**: Retransmission rates for individual transfers.
  - Uplink retransmission rate: 3.7%.
  - Downlink retransmission rate: 3.3%.
  - These loss rates are higher than those for wired paths but similar to those inferred using controlled experiments [12].
  - Packet loss is the main bottleneck for TCP throughput.

- **Graphs**:
  - **RTT (ms)**: 10, 100, 1000
  - **Retransmission rate (%)**: 0, 10, 20, 30

This analysis provides a comprehensive view of the traffic patterns, transfer sizes, and performance characteristics of smartphone applications, highlighting the importance of optimizing for small transfers and reducing energy consumption.