# 戴文的Linux内核专题：03 驱动程序

## 作者
无

## 类别
技术

## 发布日期
2013年10月31日 14:29:00

## 更新日期
2013年10月31日 14:29:00

## 标签
- Linux
- 内核
- 驱动

## 摘要
驱动程序是使内核能够与硬件或协议（规则和标准）进行通信和操作的小程序。没有驱动程序，内核将无法与硬件通信或处理协议（实际上，内核先发送指令给BIOS，然后BIOS再传给硬件）。Linux内核代码中包含了许多源代码形式的驱动程序，位于驱动程序文件夹中。本文将对这些驱动程序文件夹进行说明，以帮助用户在配置和编译内核时更好地理解。

## 正文

### 引言
驱动程序是操作系统内核与硬件设备之间的重要桥梁。它们允许内核识别并控制硬件设备，从而实现系统的正常运行。Linux内核中的驱动程序通常以源代码的形式存在，并且每个驱动程序文件夹都有详细的注释，以便用户了解其用途。

### 基本概念
在深入讨论驱动程序之前，我们先了解一下几个关键术语：
- **I/O设备**：输入/输出设备，如调制解调器、网卡等。
- **存储设备**：用于存储数据的设备，例如SD卡、硬盘、光盘等。
- **CPU**：计算机的“大脑”或“心脏”，负责执行计算任务。
- **主板**：连接计算机各个组件的印刷线路板，提供了各种端口和总线。
- **总线**：主板上的电路，用于连接外设。
- **网络设备**：用于连接两台或多台计算机的设备。
- **端口**：用户可以插入其他设备或电缆的地方。
- **光碟**：利用激光读取数据的介质，如DVD。
- **位数**：寄存器、地址总线或数据总线的位数，如32位或64位系统。

### 通用与专用驱动
许多驱动程序是通用驱动，这意味着一个通用键盘驱动可以使内核处理几乎所有类型的键盘。然而，某些设备需要专用驱动，例如苹果电脑和Amiga系统的硬件。Linux内核已经包含了大量针对不同设备的驱动程序，包括智能手机、平板电脑等。

### 驱动程序目录
以下是一些重要的驱动程序目录及其功能：

- **accessibility**：提供辅助设备的支持，例如盲文设备驱动。
- **acpi**：高级配置和电源接口（ACPI），用于管理电源使用。
- **amba**：高级微控制器总线架构（AMBA），用于片上系统（SoC）管理和互连。
- **ata**：包含PATA和SATA设备的驱动程序，用于硬盘等存储设备。
- **atm**：异步传输模式（ATM），一种通信标准，包含PCI桥和以太网控制器驱动。
- **auxdisplay**：管理液晶显示器（LCD）的驱动程序。
- **base**：包含固件、系统总线、虚拟化能力等基本驱动。
- **bcma**：基于AMBA协议的总线驱动。
- **block**：支持块设备，如软驱、SCSI磁带等。
- **bluetooth**：蓝牙驱动程序，支持无线个人区域网络（PANs）。
- **bus**：包含转换OCPI接口协议到SCP协议、设备间互联驱动和错误处理驱动。
- **cdrom**：包含CD-ROM和GD-ROM驱动。
- **char**：字符设备驱动，每次传输一个字符。
- **clk**：系统时钟驱动。
- **clocksource**：用作定时器的时钟驱动。
- **connector**：管理进程fork和UID/GID/SID变更的驱动。
- **cpufreq**：改变CPU电源能耗的驱动。
- **cpuidle**：管理空闲CPU的驱动。
- **crypto**：提供加密功能的驱动。
- **dca**：直接缓存访问（DCA）驱动，允许内核访问CPU缓存。
- **devfreq**：动态电压和频率调整（DVFS）框架，节约能源。
- **dio**：数字输入/输出（DIO）总线驱动。
- **dma**：直接内存访问（DMA）驱动，减少CPU负载。
- **edac**：错误检测和校正（EDAC）驱动。
- **eisa**：扩展工业标准结构（EISA）总线驱动。
- **extcon**：外部连接器驱动，检测设备插入变化。
- **firewire**：控制火线设备的驱动。
- **firmware**：与BIOS等固件通信的驱动。
- **gpio**：通用输入/输出（GPIO）驱动。
- **gpu**：控制VGA、GPU和直接渲染管理（DRM）的驱动。
- **hid**：USB人机界面设备驱动。
- **hsi**：蜂窝式调制解调器驱动。
- **hv**：提供键值对（KVP）功能的驱动。
- **hwmon**：硬件监控驱动，读取硬件传感器信息。
- **hwspinlock**：硬件转锁驱动，支持多处理器或多核心。
- **i2c**：I2C协议驱动，处理低速外设。
- **ide**：处理PATA/IDE设备的驱动。
- **idle**：管理Intel处理器空闲功能的驱动。
- **iio**：工业I/O核心驱动，处理数模/模数转换器。
- **infiniband**：高性能Infiniband端口驱动。
- **input**：输入处理驱动，包括鼠标、键盘等。
- **iommu**：输入/输出内存管理单元（IOMMU）驱动。
- **ipack**：IndustryPack驱动，虚拟总线。
- **irqchip**：中断请求（IRQ）驱动。
- **isdn**：综合业务数字网（ISDN）驱动。
- **leds**：LED驱动。
- **lguest**：管理客户机系统中断的驱动。

通过了解这些驱动程序的功能和作用，用户可以在配置和编译内核时做出更明智的选择，确保系统性能和稳定性。

![](/data/attachment/album/201310/31/1415051ljx2nuhpvnulnvm.png)