Figure 8: The number of sites that are seen for each pre(cid:27)x as announced in BGP. (Dataset: STV-3-23.)
7 FUTURE WORK
Although we have studied one operational service and a testbed,
we are very interested in studying additional and larger services.
We are also interested in looking at anycast catchments and load
prediction over time, and are currently collecting this data. One
could also consider approaches to improve response rate; and see
if better response changes coverage estimates. These additional
studies would help generalize our results, but are beyond the scope
of the current paper.
We are also interested in studying CDN-based anycast systems.
While the mechanics of anycast are identical regardless of the ser-
vice being provided, operators of di(cid:29)erent services may optimize
routing and peering di(cid:29)erently.
Finally, it is possible that RTTs of Verfploeter measurements can
be used to suggest where new anycast sites would be helpful [43]
(a suggestion from an anonymous reviewer).
8 CONCLUSIONS
The key result of this paper is to show that Verfploeter allows
measurements of anycast catchments across millions of networks
in the Internet. Verfploeter allows us to see 430× more network
blocks than RIPE Atlas, a widely used, large-scale platform for
active measurements.
Such measurements are important for operating anycast services
(§5.1), and more important as anycast services grow in number
of sites (§5.2). With large DNS and CDN anycast networks using
hundreds or thousands of sites, catchment mapping with broad
coverage (§5.3) is increasingly important, particularly since regular
catchment evaluation is necessary to avoid performance errors [9,
43].
Furthermore, the combination of historic tra(cid:28)c load and catch-
ment mapping (§5.4) can provide a predictive tool for anycast oper-
ation (§5.5). The broad coverage of Verfploeter allows us to identify
individual networks that are very likely to be the source of larger
amounts of tra(cid:28)c.
We have used Verfploeter to understand the new B-Root anycast
system (§6.1), evaluate split catchments in large ASes (§6.2), and
con(cid:27)rm prior results in anycast stability with a larger dataset (§6.3).
ACKNOWLEDGMENTS
We thank Moritz Müller (SIDN), Giovane Moura (SIDN) and Anna Sperotto
(U. Twente) for their valuable input and feedback.
Figure 9: Stability over 24 hours. One data point per 15 min-
utes. If a VP stopped responding then it counts as to_NR,
if it started responding it counts as from_NR. (Dataset:
STV-3-23.)
AS
4134 CHINANET
7922 COMCAST
6983
ITCDELTA
6739 ONO-AS
37963 ALIBABA
1
2
3
4
5
Other
Total
IPs (/24s)
47,963
3,933
1,372
849
2,493
43,388
108,493
Flips Frac.
0.51
0.04
0.03
0.03
0.02
0.37
1.00
257,915
19,133
15,403
13,347
10,988
188,630
505,416
Table 7: Top ASes involved in site (cid:30)ips. (Dataset: STV-3-23.)
Across the measurement period, we also see a median of 4.6k
(about 0.1%) VPs change catchment (the blue line in Figure 9). All
these VPs are located within 2809 ASes. Table 7 shows that 63%
of the (cid:30)ipping VPs are part of only 5 ASes; and 51% are within
AS 4134 (Chinanet). Catchment (cid:30)ips can be caused by changes in
routing policies or link state, and frequent (cid:30)ipping can be caused
by load balanced links. With (cid:30)ipping prominent in only a few ASes,
these observations con(cid:27)rm our prior observations taken with RIPE
Atlas [48], but from a larger set of vantage points: that anycast
instability is very rare, but as a property of certain ASes, it will
be persistent for users of those ASes. An additional application of
Verfploeter may be identi(cid:27)cation and resolution of such instability.
0.000.250.500.751.008 x /810 x /917 x /1061 x /11181 x /12362 x /13653 x /141.1k x /151234560.000.250.500.751.008.3k x /161234565.0k x /171234568.5k x /1812345618.5k x /1912345628.1k x /2012345630.3k x /2112345649.4k x /2212345640.3k x /23Fraction of prefixesNumber of sites seen by VPs within prefix3.4M3.5M3.6Mstable50k100k150k200kNumber of VPsto_NRfrom_NR04812162024Hours after 2017-03-23 10:57 UTC010k20kflippedIMC ’17, November 1–3, 2017, London, United Kingdom
de Vries, Schmidt, Hardaker, Heidemann, de Boer, and Pras
Work at U. Twente was supported by SURFnet Research on Networks,
SAND (http://www.sand-project.nl) and NWO DAS (http://www.das-
project.nl).
Wes Hardaker’s work in this paper is partially supported by USC as part
of B-Root research activity.
John Heidemann’s work in this paper is partially sponsored by the De-
partment of Homeland Security (DHS) Science and Technology Directorate,
HSARPA, Cyber Security Division, via BAA 11-01-RIKA and Air Force Re-
search Laboratory, Information Directorate (agreement FA8750-12-2-0344)
and via contract number HHSP233201600010C. The U.S. Government is
authorized to make reprints for governmental purposes notwithstanding
any copyright. The views contained herein are those of the authors and do
not necessarily represent those of NSF, DHS or the U.S. Government.
2006.
REFERENCES
[1] Aben, E. DNS Root Server Transparency: K-Root, Anycast and More. Web, Jan.
2017. RIPE NCC.
[2] Abley, J., and Lindqvist, K. Operation of Anycast Services. RFC 4786, December
[3] Anonymous. The collateral damage of Internet censorship by DNS injection.
ACM Computer Communication Review 42, 3 (July 2012), 21–27.
[4] Austein, R. DNS Name Server Identi(cid:27)er (NSID) Option. RFC 5001, August 2007.
[5] B-Root. B-Root Begins Anycast in May. http://root-servers.org/news/
b-root-begins-anycast-in-may.txt, Apr. 2017.
[6] B-Root. DITL 2017 for B-Root. dataset DITL_B_Root-20170407 at https:
//ant.isi.edu/traces/, 2017. also available through https://www.dns-
oarc.org/.
[7] B-Root. Load for 2017-05-15 for B-Root. dataset Load_B_Root-20170515 at
https://ant.isi.edu/traces/, 2017.
[8] Bajpai, V., Eravuchira, S. J., and Sch(cid:246)nw(cid:228)lder, J. Lessons Learned from using
the RIPE Atlas Platform for Measurement Research. ACM Computer Communica-
tion Review (CCR) 45, 3 (July 2015), 35–42.
[9] Bellis, R. Researching F-root anycast placement using RIPE Atlas. RIPE
Labs: https://labs.ripe.net/Members/raybellis/researching-
f-root-anycast-placement-using-ripe-atlas, Oct. 2015.
[10] Calder, M., Fan, X., Hu, Z., Katz-Bassett, E., Heidemann, J., and Govindan,
R. Mapping the expansion of Google’s serving infrastructure. In Proceedings of
the ACM Internet Measurement Conference (Barcelona, Spain, Oct. 2013), ACM,
pp. 313–326.
[11] Calder, M., Flavel, A., Katz-Bassett, E., Mahajan, R., and Padhye, J. Ana-
lyzing the Performance of an Anycast CDN. In Proceedings of the ACM Internet
Measurement Conference (Tokyo, Japan, Oct. 2015), ACM, pp. 531–537.
[12] Cicalese, D., AugØ, J., Joumblatt, D., Friedman, T., and Rossi, D. Charac-
terizing IPv4 Anycast Adoption and Deployment.
In Proceedings of the 11th
ACM Conference on Emerging Networking Experiments and Technologies (CoNEXT)
(2015), pp. 16:1–16:13.
[13] Cicalese, D., Joumblatt, D., Rossi, D., Buob, M.-O., Auge, J., and Friedman,
T. A Fistful of Pings: Accurate and Lightweight Anycast Enumeration and
Geolocation. In IEEE Conference on Computer Communications (INFOCOM) (April
2015), pp. 2776–2784.
[14] Colitti, L. K-root anycast deployment. Presentaiton at RIPE-52, April 2006.
[15] Danzig, P. B., Obraczka, K., and Kumar, A. An analysis of wide-area name
server tra(cid:28)c: A study of the Domain Name System. In Proceedings of the ACM
SIGCOMM Conference (Jan. 1992), pp. 281–292.
[16] DNS-OARC. Day In The Life of the internet (DITL) 2017. https://www.dns-
oarc.net/oarc/data/ditl/2017, Apr. 2017.
[17] Fan, X., and Heidemann, J. Selecting representative IP addresses for Internet
topology studies. In Proceedings of the ACM Internet Measurement Conference
(Melbourne, Australia, Nov. 2010), ACM, pp. 411–423.
[18] Fan, X., Heidemann, J., and Govindan, R. Evaluating anycast in the Domain
Name System. In Proceedings of the IEEE Infocom (Turin, Italy, Apr. 2013), IEEE,
pp. 1681–1689.
[19] Flavel, A., Mani, P., Maltz, D. A., Holt, N., Liu, J., Chen, Y., and Surmachev,
O. FastRoute: A Scalable Load-Aware Anycast Routing Architecture for Modern
CDNs. In 12th USENIX Symposium on Networked Systems Design and Implemen-
tation (NSDI) (2015), pp. 381–394.
[20] Fomenkov, M., k. c. claffy, Huffaker, B., and Moore, D. Macroscopic internet
topology and performance measurements from the DNS root name servers. In
Proceedings of the USENIX Large Installation Systems Administration Conference
(San Diego, CA, USA, Dec. 2001), USENIX, pp. 221–230.
[21] Gill, P., Crete-Nishihata, M., Dalek, J., Goldberg, S., Senft, A., and Wiseman,
G. Characterizing web censorship worldwide: Another look at the opennet
initiative data. ACM Transactions on the Web 9, 1 (Jan. 2015).
[22] Giordano, D., Cicalese, D., Finamore, A., Mellia, M., MunafÃ, M., Joumblatt,
D. Z., and Rossi, D. A (cid:27)rst characterization of anycast tra(cid:28)c from passive traces.
In IFIP workshop on Tra(cid:28)c Monitoring and Analysis (TMA) (April 2016), pp. 30–38.
[23] Grubb, B. 8.8.8.8: The four digits that could thwart Australia’s anti-piracy,
website-blocking regime. Sydney Morning Herald (June 24 2015).
[24] Hardaker, W. Verfploeter measurements of B-Root. USC-LANDER dataset
B-Root_Verfploeter-20170421 and B-Root_Verfploeter-20170515, https://
ant.isi.edu/datasets/, 2017.
[25] Heidemann, J., Pradkin, Y., Govindan, R., Papadopoulos, C., Bartlett, G.,
and Bannister, J. Census and survey of the visible Internet. In Proceedings
of the ACM Internet Measurement Conference (Vouliagmeni, Greece, Oct. 2008),
ACM, pp. 169–182.
[26] Hussain, A., Bartlett, G., Pryadkin, Y., Heidemann, J., Papadopoulos, C.,
and Bannister, J. Experiences with a continuous network tracing infrastructure.
Tech. Rep. ISI-TR-2005-601, USC/Information Sciences Institute, Apr. 2005.
[27] Labovitz, C., Iekel-Johnson, S., McPherson, D., Oberheide, J., and Jahanian,
F. Internet inter-domain tra(cid:28)c. In Proceedings of the ACM SIGCOMM Conference
(New Delhi, India, Aug. 2010), ACM, pp. 75–86.
[28] Liang, J., Li, J. J. H. D. K., and Wu, J. Measuring query latency of top level DNS
servers. In Proceedings of the Passive and Active Measurement Workshop (Hong
Kong, China, Mar. 2013), Springer, pp. 145–154.
[29] Madory, D. Iran Leaks Censorship via BGP Hijacks. Web, Jan. 2017. Dyn.
[30] Madory, D., Popescu, A., and Zmijewski, E. Accidentally Importing Censorship
- The I-root instance in China. Presentation, June 2010. Renesys Corporation.
[31] Mauch, J. Open resolver project. Talk at DNS-OARC, May 2013.
[32] MaxMind. MaxMind GeoLite2.
http://dev.maxmind.com/geoip/
geoip2/geolite2/.
[33] Moura, G. C. M., de O. Schmidt, R., Heidemann, J., de Vries, W. B., M(cid:252)ller, M.,
Wei, L., and Hesselman, C. Anycast vs. DDoS: Evaluating the November 2015
Root DNS Event. In Proceedings of the ACM Internet Measurement Conference
(Nov. 2016), pp. 255–270.
[34] PlanetLab. https://www.planet-lab.org/.
[35] Poese, I., Uhlig, S., Kaafar, M. A., Donnet, B., and Gueye, B. IP geolocation
databases: Unreliable? SIGCOMM Comput. Commun. Rev. 41, 2 (Apr. 2011), 53–56.
[36] (cid:28)an, L., Heidemann, J., and Pradkin, Y. Trinocular: Understanding Internet
reliability through adaptive probing.
In Proceedings of the ACM SIGCOMM
Conference (Hong Kong, China, Aug. 2013), ACM, pp. 255–266.
[37] (cid:28)oitin, B., Pelsser, C., Bonaventure, O., and Uhlig, S. A performance
evaluation of BGP-based tra(cid:28)c engineering. International Journal of Nework
Management 15, 3 (May 2005), 177–191.
[38] RIPE. RIPE Atlas measurements of B-Root. https://atlas.ripe.net/
measurements/, measurement IDs 10310, 8310594, 8312460, 8312974, 8313009,
8313262, 2017.
[39] RIPE NCC. DNSMON. https://atlas.ripe.net/dnsmon/.
[40] RIPE NCC Staff. RIPE Atlas: A Global Internet Measurement Network. The
[41] Root DNS. http://www.root-servers.org/.
[42] RSSAC. RSSAC advisory on measurements of the root server system. Tech. Rep.
Internet Protocol Journal 18, 3 (Sept. 2015), 2–26.
RSSAC002v3, ICANN, June 2016.
[43] Schmidt, R. d. O., Heidemann, J., and Kuipers, J. H. Anycast latency: How
many sites are enough? In Proceedings of the Passive and Active Measurement
Workshop (Sydney, Australia, Mar. 2017), Springer, pp. 188–200.
[44] Thousand Eyes. DNS monitoring service. Service description at https://
www.thousandeyes.com/solutions/dns, 2017.
[45] Vixie, P., and Kato, A. DNS referral response size issues. Work in progress
(Internet draft draft-ietf-dnsop-respsize-14, May 2012.
[46] de Vries, W.
[47] de Vries, W.
RIPE Atlas measurements of Tangled.
Verfploeter measurements of Tangled.
Tangled_Atlas-
20170201 https://traces.simpleweb.org/ and RIPE Atlas measurement
IDs 7794356-7794364, 2017.
dataset Tan-
gled_Verfploeter-20170201
https:
//traces.simpleweb.org/, 2017.
[48] Wei, L., and Heidemann, J. Does anycast hang up on you? In IEEE International
Workshop on Tra(cid:28)c Monitoring and Analysis (Dublin, Ireland, July 2017), IEEE,
p. to appear.
[49] Woolf, S., and Conrad, D. Requirements for a Mechanism Identifying a Name
Tangled_Verfploeter-20170323,
and
Server Instance. RFC 4892, June 2007.
[50] Yurdam, S. Using gra(cid:28)ti, Turks share tips for getting around Twitter ban. The
Observers (21 March 2014).