properties of orthonormality, invertibility (i.e. we can ex-
actly reconstruct the original function from its coeﬃcients)
and separability.
Figure 3 presents a simple illustrative example on a 10-
node graph. The 1D DW transform decomposes the graph
spectrum in 3 subbands with 2, 3 and 5 eigenvalues for the
W1, W2 and V2 subbands respectively, while the 2D DW
divides the graph spectrum into the approximation V V2 and
the details V W2, W V2, W W2, V W1, W V1 and W W1, each
one including a set of n × m eigenvalues/eigenvectors.
Figure 3: Example of a decomposition generated by
the 2D diﬀusion wavelet transform, for J=2.
5. MRA OF TRAFFIC MATRICES
In our ﬁrst experiments with the 2D DW tool we have
studied over 20000 traﬃc matrices belonging to two datasets
from the Abilene and GEANT networks, with 12 and 23
PoPs, respectively. The granularity of the TMs is 5 minutes
in Abilene and 15 minutes for GEANT. For more details
about the datasets refer to [18].
The TMs were analyzed with the 2D Diﬀusion Wavelet
transform, with two goals in mind. First, we wanted to vi-
sualize how the diﬀusion process aﬀected a traﬃc matrix,
in order to develop our intuition about the multi-resolution
decomposition and check the invertibility and perfect re-
construction properties. Secondly, we wanted to assess the
compressibility obtained with the 2D DW.
Figure 4 shows the results obtained with the DW trans-
form of a representative TM from Abilene (March 2nd 2004
from 12:00 to 12:05). The graphs show reconstructions of
the TMs from the approximation coeﬃcients (CV Vj ) and
detail coeﬃcients (CV Wj , CW Vj and CW Wj ) at each scale
j. The analysis has been performed with the unweighted
and normalized random walk as diﬀusion operator and a
precision  = 10−7. Since no eigenvalues are discarded in
the ﬁrst and second detail subspaces, the associated approx-
imation reconstructions are identical to the original traﬃc
matrix and are not shown in the ﬁgure. We can see clearly
the low-frequency eﬀect of the successive blurring applied by
the diﬀusion operator in the approximations, together with
the high-frequency components of the details.
Regarding the compressibility of TMs we have performed
several tests on fortnight-long and month-long series from
both datasets in order to assess the extent to which the
energy of the original matrices is compressed in a few co-
eﬃcients. Table 1 shows the results for two representative,
month-long traces. The results obtained with other traces
are consistent with those shown in the table, and conﬁrm the
sparseness of the DW representation: on average, 15% of the
coeﬃcients retain more than 90% of the original TM energy.
Figure 5 supports the results of this compressibility study by
Figure 5: Mean normalized MSE vs percentage of
coeﬃcients for two month-long TM traces.
Trace under study
Abilene June 04
GEANT March 05
Energy preserved
80%
90%
4 coeﬀs (2.8%)
24 coeﬀs (4.5%)
21 coeﬀs (14.6%)
75 coeﬀs (14.2%)
Table 1: Percentage of coeﬃcients needed to pre-
serve certain fractions of the original TM energy.
plotting the Mean Square Error (MSE) of the reconstructed
TMs versus the percentage of coeﬃcients used in the recon-
struction. Note that despite the major diﬀerences between
Abilene and GEANT the results are almost identical, illus-
trating how the DW is able to capture the structure of the
TM independently of the actual network topology.
Finally, we have found that there is a characteristic signa-
ture related to the rank of the coeﬃcients (ordered in terms
of their contribution to the TM’s total energy), which is also
consistent across time, except when there is some anomaly
in the TM series (such as a sudden traﬃc volume change).
Figure 6 shows an example of such a feature. The ﬁgure
shows the rank of the biggest 20 coeﬃcients of the 14-day
long March 2004 Abilene trace. A change can be clearly seen
around the 3500th TM (in the ﬁrst hours of March 14th),
which coincides in time with a notable structural change in
the original traﬃc matrices (a big increase in the traﬃc di-
rected to Houston from many sources). This suggests that
structural TM changes can be detected by monitoring just
a small number of coeﬃcients (instead of all 144 paths) as
long as they make up the bulk of the TM’s total energy.
This is still far from becoming a fully working MRA-based
anomaly detection algorithm, but the DW transform seems
potentially useful for such a task.
6. CONCLUSIONS
This paper presents a proof of concept, in the sense that
we have shown that diﬀusion wavelets provide a sparse ap-
proximation of traﬃc matrices, and hence are a promising
approach to modelling said TMs. However, more work has
to be carried on (i) transforming the compressibility of the
traﬃc matrix into a physical model; (ii) using this model to
solve the various tasks at hand: inference (exploiting the di-
mensionality reduction), synthesis, prediction and anomaly
detection; (iii) investigating how the sparse DW model is
Figure 4: Approximations and details of the decom-
position of the TM-2004-03-02-1200 Abilene TM.
02040608010000.20.40.60.81Mean normalized MSE vs coefficientsPercentage of coefficientsNormalized MSEGEANT March 05Abilene June 04[6] M. Crovella and E. Kolaczyk. Graph wavelets for
spatial traﬃc analysis. In Proceedings of IEEE
Infocom, pages 1848–1857, Apr. 2003.
[7] J. C. Doyle, D. Alderson, L. Li, S. H. Low,
M. Roughan, S. Shalunov, R. Tanaka, and
W. Willinger. The “robust yet fragile” nature of the
Internet. In Procs. of the Natl. Academy of Sciences,
volume 102(40), pages 14123–14475, Oct. 2005.
[8] A. Feldmann, A. Greenberg, C. Lund, N. Reingold,
J. Rexford, and F. True. Deriving traﬃc demands for
operational IP networks: Methodology and
experience. IEEE/ACM Transactions on Networking,
pages 265–279, June 2001.
[9] B. Fortz, J. Rexford, and M. Thorup. Traﬃc
engineering with traditional IP routing protocols.
IEEE Comm. Magazine, 40(10):118–124, Oct. 2002.
[10] A. Lakhina, M. Crovella, and C. Diot. Diagnosing
network-wide traﬃc anomalies. Computer
Communication Review, 34(4):219–230, October 2004.
[11] A. Lakhina, K. Papagiannaki, M. Crovella, C. Diot,
E. D. Kolaczyk, and N. Taft. Structural analysis of
network traﬃc ﬂows. SIGMETRICS Perf. Eval. Rev.,
32(1):61–72, 2004.
[12] S. Mahadevan and M. Maggioni. Proto-value
Functions: A Laplacian Framework for Learning
Representation and Control in Markov Decision
Processes. The Journal of Machine Learning Research,
8:2169–2231, 2007.
[13] S. Mallat. A Wavelet Tour of Signal Processing.
Academic Press, 1999.
[14] A. Medina, N. Taft, K. Salamatian, S. Bhattacharyya,
and C. Diot. Traﬃc matrix estimation: existing
techniques and new directions. SIGCOMM Comput.
Commun. Rev., 32(4):161–174, 2002.
[15] A. Nucci, A. Sridharan, and N. Taft. The problem of
synthetically generating IP traﬃc matrices: Initial
recommendations. SIGCOMM Comput. Commun.
Rev., 35(3), 2005.
[16] M. Roughan, A. Greenberg, C. Kalmanek,
M. Rumsewicz, J. Yates, and Y. Zhang. Experience in
measuring Internet backbone traﬃc variability:
Models, metrics, measurements and meaning. In Procs.
of ITC-18, pages 379–388, Berlin, Germany, 2003.
[17] M. Roughan, M. Thorup, and Y. Zhang. Traﬃc
engineering with estimated traﬃc matrices. In
Proceedings of ACM IMC 2003, pages 248–258, 2003.
[18] S. Uhlig, B. Quoitin, J. Lepropre, and S. Balon.
Providing public intradomain traﬃc matrices to the
research community. SIGCOMM Computer
Communication Review, 36(1):83–86, 2006.
[19] Y. Vardi. Network tomography: estimating
source-destination traﬃc intensities from link data. J.
of the Am. Statistical Association, 91:365–377, 1996.
[20] Y. Zhang, M. Roughan, N. Duﬃeld, and
A. Greenberg. Fast accurate computation of
large-scale IP traﬃc matrices from link loads. In ACM
SIGMETRICS, pages 206–217, San Diego, California,
June 2003.
[21] Y. Zhang, M. Roughan, C. Lund, and D. Donoho. An
information-theoretic approach to traﬃc matrix
estimation. In ACM SIGCOMM, pages 301–312,
August 2003.
Figure 6: Coeﬃcient signature of the month-long
Abilene March 2004 trace.
related to other modelling eﬀorts such as the gravity model
or the PCA-based models, to mention some of them; (iv)
exploring other diﬀusion operators (e.g. the weighted adja-
cency matrix case in the I −L operator); and (v) investigat-
ing how network topologies can be represented and studied
with the MRA approach.
7. ACKNOWLEDGMENTS
This work was done while D. Rinc´on was visiting the Uni-
versity of Adelaide. D. Rinc´on was supported partially by
UPC (Mobilitat 2007/08), the Spanish Government (TSI-
2005-06092), and by EuroNF (INFSO-ICT-216366). M. Rou-
ghan was supported in part by ARC grant DP0665427.
The authors are grateful to Yin Zhang of the University
of Texas for the Abilene data2, and to S. Uhlig and the
TOTEM project team [18] for the GEANT data3. The au-
thors also wish to thank the anonymous reviewers for their
insightful comments and suggestions.
8. REFERENCES
[1] D. L. Alderson, H. Chang, M. Roughan, S. Uhlig, and
W. Willinger. The many facets of Internet topology
and traﬃc. Networks and Heterogeneous Media,
1(4):569–600, December 2006.
[2] J. Cao, D. Davis, S. V. Wiel, and B. Yu. Time-varying
network tomography. Journal of the American
Statistical Association, 95(452):1063–1075, 2000.
[3] F. Chung. Spectral Graph Theory (CBMS Regional
Conference Series in Mathematics, No. 92). American
Mathematical Society, February 1997.
[4] M. Coates, Y. Pointurier, and M. Rabbat. Compressed
network monitoring for IP and all-optical networks. In
Proceedings of ACM IMC 2007, pages 241–252, 2007.
[5] R. R. Coifman and M. Maggioni. Diﬀusion Wavelets.
Applied and Computational Harmonic Analysis,
21(1):53–94, July 2006.
2http://www.cs.utexas.edu/ yzhang/research/AbileneTM/
3http://totem.run.montefiore.ulg.ac.be/datatools.html