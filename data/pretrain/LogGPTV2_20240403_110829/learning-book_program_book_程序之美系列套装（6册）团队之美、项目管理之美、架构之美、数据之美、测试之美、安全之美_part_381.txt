公布的漏洞包括AdobeAcrobat和AdobeReader的一个缓冲区溢出漏
洞（当前常称为漏洞攻击，英文为exploit），允许攻击者在用户打
开PDF之后在用户的系统中通过用户的权限执行任意代码。
新闻标题实际上并不能很好地提示趋势，因为在漫长的历史中，它
是由微妙的革命性变化所驱动的，而这种变化往往只有少数人注意
到，例如编写本书的前沿安全专家们。读者可以在本书中发现安全
威胁的发展方向以及针对它们的响应。
我在第一段中所提到的所有令人惊恐的新闻对于安全领域而言只是
普通的业务而已。是的，它们正是我们应该担忧的安全趋势的一部
分，但我们还需要注意更新的、更不易被觉察的漏洞。本书的作者
们数十年来一直奋斗在第一线，努力发现我们的工作习惯中的脆弱
环节，并提议用非常规的方式来处理它们。
为什么安全是美丽的
我要求安全专家JohnViega想方设法为本书寻找一些作者，以便向普
通计算机用户提供一些与安全有关的观点。除了在媒体上所看到的
2197
---
## Page 2199
骇人听闻的关于网络入侵和盗窃的新闻之外，普通人一般都觉得安
全是一件乏味的事情。
对许多人而言，安全就是系统管理员碟碟不休地提醒他们创建备份
文件夹，无穷无尽的在网页显示之前跳出来的要求输人密码的对话
框。办公室职员每次抄读办公桌边的笔记本上所记录的密码时都怒
上办公室管理人员要求应该将它锁在抽展里面）。如果这就是安
全，那还会有谁想从事这个职业呢？谁会从OReilly购买一本关于安
全的书呢？谁会一次花费半分钟以上的时间去思考安全呢？
对于那些肩负创建安全系统任务的人们，他们所付出的努力看上去
是毫无希望的。站在旁边的人不会对他们的工作提供任何协助，业
务经理也拒绝在安全上多花一分钱。程序员和系统管理员由于他们
也逐渐变得懒散起来。
这就是为什么关于安全的书卖得很差（尽管在过去的一两年里销量
有所上扬）。关于如何入侵系统的书要比关于如何保护系统的书好
卖得多，这个趋势着实令我震惊。
是的，本书应该改变这个现象。它应该向读者展示安全是一项最为
激动人心的职业。它并不枯燥，也没有太多的官僚主义，更没有太
多的约束。事实上，它和其他技术一样充满着想象力。
多年以来，我编辑过的大多数编程书籍都提供了关于安全的内容。
这样的内容当然是非常实用的，因为它们充许作者讲述一些基本原
则和一些良好习惯。但是，我已经对这种做法感到厌烦，因为它为
安全话题划了一条分界线。它所灌输的都是一些老生常谈的安全观
点，是一些锦上添花或者事后诸葛亮的东西。本书将颠覆这些观
念。
John为本书选择了一些作者，他们已经在安全领域证明了自己具有
独特的观点，并且有一些新的思路要和大家分享。有些作者设计了
数以千计的人所依赖的系统，有些作者在大型公司担任高管职位，
有些作者曾为法庭作证并为政府部门工作。所有的作者都在寻找普
通人所不知道的问题和解决方案，但是这可能需要几年的时间才会
收到成效。
2198
---
## Page 2200
本书的作者指出：有效的安全需要你始终保持警惕。它会打破技
术、认知和组织结构的边界。安全界的黑帽们千方百计通过创新来
取得成功。因此，负责防御他们的人们同样需要创新。
本书的作者肩负着世界范围内的信息安全使命，让他们抽出时间编
写本书是一件很困难的事。事实上，许多作者在平衡本职工作和本
书的写作任务时感受到了压力。但是，他们所花的时间是值得的，
因为本书将会促进他们实现更远大的目标。如果有更多的人对安全
领域产生兴趣，决定进一步对它进行探索，并向尝试通过组织上的
变化以实现更好保护的人们给予他们的关注和支持，这本书就值得
作者所付出的心血。
2009年3月19日，美国参议院商业、科学和交通委员会举行了一个听
证会，它的主题是信息技术专家的缺乏以及这种现象对美国的网络
安全的危害。让学生和专业人员对安全问题产生兴趣是一项极为道
切的需求，本书就代表了迈向这个目标的一小步。
本书的读者
本书适用于那些对计算机技术感兴趣并希望在最尖端领域体验生活
的人们。本书的读者包括可能追求职业生涯的学生、具有一定编程
背景的人们以及对计算机有着适度或深入了解的人们。
本书的作者在解释技术时尽量放低门槛，使相对新手级的读者也能
领略到攻击和防御活动方式的感觉。专家级的读者能够更多地享受
讨论的乐趣，因为本书能够加深他们对安全原则的理解，并提供了
未来研究的指导方针。
捐赠
本书的作者们向互联网工程任务组（TheInternetEngineeringTask
Force,IETF）捐赠本书的版税。这个组织对于Internet以及其具有远见
的自我管理式的迷人模型的发展极为关键。如果没有IETF具有奉献
精神的成员们的科学讨论、灵活的标准制定和明智的妥协，Intermet
的发展是无法想象的。IETF在自己的网页上把自己描述成“由网络设
计者、操作者、生产商和研究人员所组成的大型开放式国际社区”。
O'Reilly将把版税汇给互联网社会（TheInternetSociety,ISOC），该组
织长期向IETF提供资金和有组织的支持。
2199
---
## Page 2201
材料的组织
本书内容并没有按任何特定的方案进行排列，但还是经过了整理，
以便提供引人入胜的阅读体验，方使读者惊喜地发现新观点。不
过，还是将那些讲述相似主题的内容放在了一起。
第1章心理上的安全陷阱作者Peiter"Mudge"Zatko
第2章无线网络：社会工程的沃土作者JimStickley
第3章美丽的安全度量指标作者ElizabethA.Nichols
第4章安全漏洞的地下经济作者Chenxi Wang
第5章美丽的交易：重新思考电子商务的安全作者EdBellis
第6章捍卫在线广告：新狂野西部的盗匪和警察作者Benjamin
Edelman
第7章PGP信任网络的演变作者PhilZimmermann和JonCallas
第8章开源Honeyclient：先发制人的客户端漏洞检测作者Kathy
Wang
第9章未来的安全齿轮和杠杆作者MarkCurphey
第10章安全设计作者JohnMcManus
第11章促使公司思考：未来的软件安全吗作者JimRouth
第12章信息安全律师来了作者RandyV.Sabett
第13章美丽的日志处理作者AntonChuvakin
第14章事件检测：寻找剩余的68%作者GrantGeyer和BrianDunphy
第15章无需真实数据就能出色完成工作作者PeterWayner
第16章铸造新词：PC安全剧场作者MichaelWood和Fernando
Francisco
2200
---
## Page 2202
使用本书的代码示例
本书是为了帮助你完成工作。通常来说，你可以在你的程序和文档
中使用本书的代码。除非你使用了本书的大量代码，否则你无需获
取我们的许可。例如，写一个程序用到本书的几段代码不需要获得
许可；销售和分发OReilly丛书的代码需要获得许可；引用本书的样
例代码来解决一个问题不需要获得许可；使用本书的大量代码到你
的产品文档中需要获得许可。
我们不要求你（引用本书时）给出出处，但是如果你这么做，我们
对此表示感谢。出处通常包含标题、作者、出版社和ISBN。例
如："Beautiful Security,edited by Andy Oram and John Viega.Copyright
2009 O'Reilly Media,Inc., 978-0-596-52748-8"。
如果你觉得你对本书样例代码的使用超出了这里给出的许可范围，
请和我们联系：PI:EMAIL。
如何联系我们
请把对本书的评论和问题发给出版社：
美国：
O'ReillyMedia,Inc.
1005 Gravenstein Highway North
Sebastopol,CA 95472
中国：
北京市西城区西直门南大街2号成铭大厦C座807室（100035）
奥莱利技术咨询（北京）有限公司
O'Reilly的每一本书都有专属网页，你可以在那儿找到关于本书的相
关信息，包括勘误表、示例代码以及其他的信息。本书的网站地址
是：
http://www.oreilly.com/catalog/9780596527488/
2201
---
## Page 2203
对于本书的评论和技术性的问题，请发送电子邮件到：
PI:EMAIL
关于本书的更多信息、会议、资料中心和网站，请访问以下网站：
http://www.oreilly.com
第1章心理上的安全陷阱
在我对软件及其所驱动的工具的攻击生涯中，许多同事认为我采用
了一种不符合标准的方法。对于这种说法，我颇感异。对我而
信，我所采用的方法不仅符合逻辑，而且简单明了。反之，我觉得
那些学院派采用的方法对于现实世界的应用程序而言显得过于抽
象，滩以获得普遍的成功。这些看上去更常规的方法儿乎不成章
法，没有抓住问题的焦点，甚至完全背道而驰。这些方法往往需要
花费数百小时进行逆向工程和应用程序跟踪，才可能在精力耗尽之
前发现它们所存在的漏洞。
现在，请不要采用这种错误的方法。我并没有谊咒前面所提到的技
巧，事实上我同意它们是发现和利用漏洞的关键工具。但是，我相
信可以采用一些捷径，并从另一个视角封装、改进甚至绕过这些方
法。
在本章中，我将讨论这些另外的视角，看看它们是如何帮助我们深
入到那些被称为安全专家的开发人员的思维中。
为什么要深入到并发人员的思维之中呢？原因有很多，但是在本章
中，我们将把注意力集中在对代码的创建过程以及对编写代码的人
们所施加的各种约束上。从安全的角度出发，这种问题常常会产生
并不是最理想的系统。理解了代码完成时所处的环境、心理和哲学
框架之后，我们更容易发现系统中包含可能被攻击者所利用的漏洞
的区域。在适当的时候，我会和大家分享一些逸闻作为例子，对一
些理念问题进行探讨。
在过去几年里，我的精力集中在大规模的环境，例如大公司、政府
机构以及它们的各种附属机构，甚至是州政府。虽然有许多要素也
适用于更小的环境，甚至适用于个人，但我喜欢从更广的角度展示
这些问题，展现更广阔的社会画面。当然，用这种更为粗犷的画笔
2202
---
## Page 2204
作画需要进行一些归纳，读者可能会发现有些情况与这些例子存在
冲突。由于篇幅的限制，我并不会举出这方面的反例。
本章的目标并不是强调特定的技术，而是讨论一些导致安全脆弱性
的环境和心理情况。对技术实现者所受到的外部影响和限制进行考
虑是非常重要的，可以更好地理解这些脆弱性在逻辑上是如何产生
的。虽然这对于攻击方而言是一种好玩的智力游戏，但是如果防守
方也参与到这个游戏中，就需要考虑一些新的因素：1）防止可能会
导致攻击的错误，2）使用与攻击者相同的游戏技巧并采用相同的操
作方式。此时，这个安全游戏才是我心中最美丽的。
我所讨论的理念可以分为三类：习得性无助和无从选择、验证陷阱
和功能锁定。在安全的设计和实现中，这并不是影响因素的安全列
表，但它可以作为一个起点，鼓励我们进一步发现自已在系统中所