## IMPORTANT: DevOps Kit (AzSK) is being sunset by end of FY21. More details [here](../../../ReleaseNotes/AzSKSunsetNotice.md)
----------------------------------------------
NotificationHubDescription & RationaleControlSeverityAutomatedFix ScriptNotification Hub must be created through Azure Resource Manager modelThe new ARM/v2 model must be used to create Notification Hub as the ARM model provides stronger access control (RBAC) and auditing features.HighNoNoAll users/identities must be granted minimum required permissions using Role Based Access Control (RBAC)Granting minimum access by leveraging RBAC feature ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user/service account compromise.MediumYesNoApplications must not use 'namespace' level access policies for the Notification HubA 'namespace' level access policy provides access to all Notification Hubs in a namespace. However, using an access policy at Notification Hub level provides access only to the specific Notification Hub. Thus using the latter is inline with the principle of least privilege.HighNoNoAccess policies must be defined with minimum required permissions at Notification Hub levelGranting minimum access ensures that users are granted just enough permissions to perform their tasks. This minimizes the set of operations that can be preformed on the resource by an attacker in case of access policy key compromise.MediumNoNoAccess policies on Notification Hub must not have Manage access permissionsManage security claim has the highest level of access (Create/Update/Read/Delete/Read registrations by tag) on Notification Hub. Using this key for runtime scenarios violates the principle of least privileged access. It is akin to running as 'sa' or 'localsystem'.HighYesNoRegistration management must not be done from a native client or device appIt is not possible to adequately authenticate/authorize registration requests if done directly from the native device app.MediumNoNoMessage body of a push notification must not contain sensitive dataDue to risks of exposure along the path between the backend service and the client device, notifications should not include any sensitive data in the body of the push message.HighNoNoDevelopers of applications that use Notification Hubs must not be granted persistent access on the subscriptionTelemetry data can be accessed using Azure Service Management portal which will need subscription co-administrator permission. This can impose operational risk. Hence a user must not be granted persistent access on the subscription for such a scenario.MediumNoNoAudit logs for Notification Hub should be enabledAuditing enables log collection of important system events pertinent to security. Regular monitoring of audit logs can help to detect any suspicious and malicious activity early and respond in a timely manner.MediumNoNoBackup and Disaster Recovery must be planned for Notification HubNotification Hub does not offer features to cover backup/disaster recovery out-of-the-box. As a result, Notification Hub , a team must have adequate backups of the data.MediumNoNo