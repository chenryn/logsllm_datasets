  * I have verified that the issue exists against the `master` branch of Celery.
  * This has already been asked to the discussion group first.
  * I have read the relevant section in the  
contribution guide  
on reporting bugs.
  * I have checked the issues list  
for similar or identical bug reports.
  * I have checked the pull requests list  
for existing proposed fixes.
  * I have checked the commit log  
to find out if the bug was already fixed in the master branch.
  * I have included all related issues and possible duplicate issues  
in this issue (If there are none, check this box anyway).
## Mandatory Debugging Information
  * I have included the output of `celery -A proj report` in the issue.  
(if you are not able to do this, then at least specify the Celery  
version affected).
  * I have verified that the issue exists against the `master` branch of Celery.
  * I have included the contents of `pip freeze` in the issue.
  * I have included all the versions of all the external dependencies required  
to reproduce this bug.
## Optional Debugging Information
  * I have tried reproducing the issue on more than one Python version  
and/or implementation.
  * I have tried reproducing the issue on more than one message broker and/or  
result backend.
  * I have tried reproducing the issue on more than one version of the message  
broker and/or result backend.
  * I have tried reproducing the issue on more than one operating system.
  * I have tried reproducing the issue on more than one workers pool.
  * I have tried reproducing the issue with autoscaling, retries,  
ETA/Countdown & rate limits disabled.
  * I have tried reproducing the issue after downgrading  
and/or upgrading Celery and its dependencies.
#### Related Issues
  * None
#### Possible Duplicates
  * None
## Environment & Settings
**Celery version** :  
5.1.2
# Steps to Reproduce
With Celery`4.4.7`, I used to clean my dynamic tasks on startup this way:
    from celery.bin import amqp
    @app.on_after_finalize.connect
    def setup_periodic_tasks(sender, **kwargs):
      amqp_ = amqp.amqp(app=app)
      amqp_.run('queue.purge', 'my_task_queue_name')
      # .. follows my tasks definition here ..
After upgrading to `v5.1.2`, this line:
     amqp_ = amqp.amqp(app=app)
Raises this error:
    __init__() got an unexpected keyword argument 'app'
Removing the parameter gives me this:
    'NoneType' object has no attribute 'error'
Also tried:
    from celery.bin.purge import purge
    # ...
    purge( args ) # But couldn't match command's args
And also tried:
    app = Celery('my_project')
    # ...
    app.control.purge()
But I'm afraid this would purge all queues....
The docs pages for 4.4.7 exists, while the equivalent page for v5 doesn't.