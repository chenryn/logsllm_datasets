title:A variegated look at 5G in the wild: performance, power, and QoE implications
author:Arvind Narayanan and
Xumiao Zhang and
Ruiyang Zhu and
Ahmad Hassan and
Shuowei Jin and
Xiao Zhu and
Xiaoxuan Zhang and
Denis Rybkin and
Zhengxuan Yang and
Zhuoqing Morley Mao and
Feng Qian and
Zhi-Li Zhang
A Variegated Look at 5G in the Wild:
Performance, Power, and QoE Implications
Arvind Narayanan†∗, Xumiao Zhang‡∗, Ruiyang Zhu‡, Ahmad Hassan†, Shuowei Jin‡, Xiao Zhu‡,
Xiaoxuan Zhang†, Denis Rybkin†, Zhengxuan Yang†, Z. Morley Mao‡, Feng Qian†, Zhi-Li Zhang†
†University of Minnesota – Twin Cities
ABSTRACT
Motivated by the rapid deployment of 5G, we carry out an in-
depth measurement study of the performance, power consump-
tion, and application quality-of-experience (QoE) of commercial
5G networks in the wild. We examine different 5G carriers, deploy-
ment schemes (Non-Standalone, NSA vs. Standalone, SA), radio
bands (mmWave and sub 6-GHz), protocol configurations (e.g., Ra-
dio Resource Control state transitions), mobility patterns (station-
ary, walking, driving), client devices (i.e., User Equipment), and
upper-layer applications (file download, video streaming, and web
browsing). Our findings reveal key characteristics of commercial
5G in terms of throughput, latency, handover behaviors, radio state
transitions, and radio power consumption under the above diverse
scenarios, with detailed comparisons to 4G/LTE networks. Fur-
thermore, our study provides key insights into how upper-layer
applications should best utilize 5G by balancing the critical tradeoff
between performance and energy consumption, as well as by tak-
ing into account the availability of both network and computation
resources. We have released the datasets and tools of our study
at https://github.com/SIGCOMM21-5G/artifact.
CCS CONCEPTS
• Networks → Mobile networks; Network measurement; Net-
work performance analysis.
KEYWORDS
5G, mmWave, Network Measurement, Power Model, Power Char-
acteristics, Energy Efficiency, Latency, Video Streaming, Dataset
ACM Reference Format:
Arvind Narayanan†∗, Xumiao Zhang‡∗, Ruiyang Zhu‡, Ahmad Hassan†,
Shuowei Jin‡, Xiao Zhu‡, Xiaoxuan Zhang†, Denis Rybkin†, Zhengxuan
Yang†, Z. Morley Mao‡, Feng Qian†, Zhi-Li Zhang†. 2021. A Variegated
Look at 5G in the Wild: Performance, Power, and QoE Implications. In ACM
SIGCOMM 2021 Conference (SIGCOMM ’21), August 23–28, 2021, Virtual
Event, USA. ACM, New York, NY, USA, 16 pages. https://doi.org/10.1145/
3452296.3472923
* These authors contributed equally to this paper.
Corresponding authors: PI:EMAIL, xumiao@umich.edu.
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than ACM
must be honored. Abstracting with credit is permitted. To copy otherwise, or republish,
to post on servers or to redistribute to lists, requires prior specific permission and/or a
fee. Request permissions from permissions@acm.org.
SIGCOMM ’21, August 23–28, 2021, Virtual Event, USA
© 2021 Association for Computing Machinery.
ACM ISBN 978-1-4503-8383-7/21/08...$15.00
https://doi.org/10.1145/3452296.3472923
‡University of Michigan – Ann Arbor
1 INTRODUCTION
5G New Radio (NR) specifications [20] open a wide spectrum of
frequencies. High-band millimeter wave (mmWave) 5G, along with
its mid-/low-band sub-6 GHz counterpart, make up the current 5G
market. We pay close attention to mmWave 5G due to its ultra-high
bandwidth which attracts emerging bandwidth-hungry applica-
tions. On the other hand, mmWave is very sensitive to factors
such as mobility and blockage due to its much shorter wavelength,
making the upper-layer network management (e.g., bitrate adap-
tation of video streaming) more challenging. Despite numerous
studies on modeling and simulation of mmWave links [27, 29, 34,
35, 50, 67, 68, 70], the impact of mmWave on commercial 5G perfor-
mance, power consumption, as well as mobile application Quality-
of-Experience (QoE) is largely under-explored.
In addition to its high bandwidth and low latency enabled by
physical-layer innovations (e.g., massive MIMO, advanced chan-
nel coding, etc.), power saving is a top concern to mobile users
of 5G. In cellular networks, this is usually achieved by different
Radio Resource Control (RRC) states. 5G makes no exception. It is
thus important to understand the RRC state machine of commer-
cial 5G networks and its implications. To reduce time to market,
most carriers employ the Non-Standalone (NSA) mode for their
initial deployment. NSA leverages 5G for data plane operations
while reusing the existing 4G infrastructure for control plane op-
erations, making the RRC state machine 4G-like. Very recently,
Standalone (SA) 5G deployment has hit the commercial landspace.
SA is completely independent of the legacy 4G cellular infrastruc-
ture, fully unleashing the potential of 5G. The configurations of
key parameters in the state machine lead to important performance
and energy trade-offs. They are usually carrier-specific and can be
very different between NSA and SA deployment modes.
In order to understand commercial 5G networks’ end-to-end
performance and power characteristics, as well as their Quality of
Experience (QoE) implications on mobile applications, in this paper,
we conduct a comprehensive yet in-depth measurement study of
two commercial 5G networks in the US. As 5G technology evolves,
its performance is expected to improve over time. We therefore
compare our measurement results with earlier studies to get the
initial longitudinal insights on 5G’s evolution. We also compare
our findings on mmWave with its low-band counterpart. Our study
faced a number of challenges:
• 5G-NR supports a wide range of frequency spectrum: low-band,
mid-band, and mmWave. All these frequency bands have different
performance and signal propagation characteristics. Additionally,
5G can be deployed in either SA or NSA mode, which further has
implications on performance [30]. Conducting a measurement study
on such a heterogeneous ecosystem is challenging.
SIGCOMM ’21, August 23–28, 2021, Virtual Event, USA
Arvind Narayanan∗, Xumiao Zhang∗, Ruiyang Zhu, Ahmad Hassan, Shuowei Jin, et al.
• The coverage of different bands and deployment modes is often
sporadic. For instance, in the case of mmWave with poor signal
propagation characteristics, most of its deployment is outdoor. Sur-
veying the availability of band-specific 5G service requires extensive
field experiments.
• Evaluating mobile carriers’ end-to-end network performance in
the wild is known to be difficult. Many entities can become the
performance bottleneck including the Internet, mobile carrier’s
infrastructure, as well as end devices themselves. Identifying the
bottleneck in mmWave 5G is particularly challenging due to its
ultra-high bandwidth.
• 5G power measurement is not trivial. The state-of-the-art hard-
ware power monitors often require a stable external power supply,
making mobility experiments difficult to perform in the wild. In
addition, vendors have been making smartphones more “closed” by
integrating the battery and back cover with the main body. Skilled
engineering efforts are required to connect off-the-shelf 5G smart-
phones to a power monitor. It’s not easy to connect any commodity
off-the-shelf (COTS) 5G capable smartphones to a power monitor
and conduct outdoor experiments.
• To understand the benefits that 5G brings to mobile applications
and to identify the new challenges in 5G, we need fair comparisons
with the 4G baseline. However, 4G and 5G have very different
characteristics, making it difficult to experimentally compare them
in a fair, efficient, and representative way.
To address these challenges, we first build a holistic testbed con-
sisting of commercial 5G smartphones, external power monitors,
and cloud servers. We further develop a set of software and hard-
ware tools to control the workloads and physical environments,
as well as to log important information at different layers in a
fine-grained manner. Through carefully designed experiments, we
demystify the current 5G performance, power, and QoE implica-
tions with special emphasis on mmWave. Our experiments over a
4-month period consumed more than 15 TB of cellular data. The
key contributions of our study are summarized as follows.
• We perform a detailed performance examination of 5G over mul-
tiple frequency bands including sub-6 GHz and mmWave. We find
that both their throughput and latency have experienced noticeable
improvements compared to its initial deployment. The end-to-end
performance is highly correlated with geographical properties. We
quantify such properties and their vastly different impacts on NSA
and SA 5G. In particular, we perform experiments over T-Mobile’s
SA 5G deployed for their low-band network. This is to our knowl-
edge the first examination of commercial SA 5G performance.
• Through principled probing algorithms, we infer the RRC states
and configuration parameters for SA 5G (T-Mobile) and NSA 5G
(Verizon and T-Mobile). For NSA 5G that relies on 4G as an anchor,
we find that the NR_RRC_CONNECTED to LTE_RRC_IDLE state transi-
tion (due to data inactivity on UE) for the carriers considered in our
study is 2× more energy efficient than those studied in a previous
NSA 5G measurement study [59].
• We take a closer look at the power characteristics of 5G and
4G/LTE. Over downlink (uplink), 5G can be 79% (74%) less energy-
efficient than 4G at low throughput but up to 5× (2×) more energy-
efficient when the throughput is high. Using a data-driven approach,
we build a first throughput and signal strength-aware radio power
model for different frequency bands of 5G.
Table 1: Statistics of the data collected using two commercial
5G carriers: Verizon and T-Mobile.
Dataset Statistics
5G Network Performance Tests
Unique servers tested with
Cumulative time of measurement traces
Power Measurements @ 5000 Hz
Total kilometers walked
# of real Web Page Load Tests
# of 5G smartphones (and models)
12,500+
157+
2,666 minutes+
2,336 minutes+
148.5 km+
30,000+
7 (3)
• We conduct a first evaluation of state-of-the-art adaptive video
bitrate adaptation (ABR) algorithms over mmWave 5G, which is the
key radio technology for supporting ultra-high definition (UHD)
videos and beyond. We find that due to the poor signal propa-
gation characteristics of mmWave 5G, existing ABR mechanisms
over mmWave 5G can incur ∼3.7% to 259.5% higher stall time than
4G/LTE. We propose simple yet effective interface selection mech-
anisms for 5G video streaming. It can yield a 26.9% video stall
reduction and a 4.2% improvement in energy efficiency without
compromising user-perceived video quality, compared to unmodi-
fied streaming algorithms.
• We collect a large dataset consisting of more than 30,000 web
page loadings of diverse websites, and use it to compare mmWave
5G vs. 4G page load time and energy consumption. We find that
overall 5G improves the page load time at the cost of higher en-
ergy consumption compared to 4G. Moreover, this impact is highly
web-page-dependent. We build decision tree models that can intelli-
gently select the appropriate network (5G or 4G) for web browsing.
• We have released the functional artifacts (both datasets and tools)
of our study: https://github.com/SIGCOMM21-5G/artifact.
Ethical Considerations. This study was carried out by paid and
volunteer students. No personally identifiable information (PII)
was collected or used, nor were any human subjects involved. We
purchased multiple unlimited cellular data plans from Verizon and
T-Mobile. Our study complies with the wireless carriers’ customer
agreements. This work does not raise any ethical issues.
2 MEASUREMENT SETTINGS & TOOLS
5G Carriers, 5G Bands and Locations. Since its commercial
launch, the 5G ecosystem – which includes service deployments,
coverage, 5G-capable devices – is rapidly expanding and evolv-
ing. In our measurement study, we select two commercial carri-
ers in the US for our experiments – Verizon and T-Mobile. While
both these carriers have deployed 5G services on several bands,
in our dataset, we find that Verizon has deployed NSA-based 5G
service that provides both mmWave 5G over 28/39 GHz frequency
bands (n261/n260) and low-band 5G (n5) w/ 4G bands by lever-
aging dynamic spectrum sharing (DSS) technology. In contrast,
T-Mobile provides low-band (@ 600MHz or n71)1 5G service using
both NSA and SA modes. The measurement study is conducted in
two US cities where both carriers have deployed 5G services. Key
statistics of the datasets collected are summarized in Table 1.
5G UE and Android Measurement Tool. We use multiple smart-
phone models of user equipment (UE) with 5G support: Google
1T-Mobile also provides NSA-based mid-band (n41) and mmWave 5G (n261/n260) in
select areas, however these services were not considered in this study.
A Variegated Look at 5G in the Wild: Performance, Power, and QoE Implications
SIGCOMM ’21, August 23–28, 2021, Virtual Event, USA
Pixel 5 (PX5), Samsung Galaxy S20 Ultra 5G (S20U) and Samsung
Galaxy S10 5G (S10). These phones have diverse specifications. For
instance, compared to PX5, S20U has a superior chipset, 5G modem,
increased RAM and CPU frequencies. We make considerable ad-
ditions to 5G Tracker [41] and build a comprehensive monitoring
toolkit with various functions to monitor network traffic, battery
status (current and voltage), signal strength etc.. Some of these
functions require rooting the phones. We use both rooted and non-
rooted phones (based on needs) to measure various aspects of 5G
performance and power usage under different settings.
Power Monitoring Tool. We use Monsoon Power Monitor [17]
to power smartphones and measure the power consumption. For
outdoor walking experiments, we use a portable external power
source to supply power to the monitor.
3 IMPROVEMENTS AND NEW FINDINGS IN
5G NETWORK PERFORMANCE
In this section, we closely examine the end-to-end network perfor-
mance of commercial 5G networks by conducting several carefully
designed experiments in the wild.
3.1 Measurement Methodology
Challenges. There are several known challenges while evaluating
end-to-end network performance of mobile carriers in the wild.
[C1] First, Internet-side congestion can adversely affect network