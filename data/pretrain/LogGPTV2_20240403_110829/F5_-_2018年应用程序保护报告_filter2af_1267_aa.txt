# F5 - 2018年应用程序保护报告

##### 译文声明
本文为翻译文章，原文作者为F5，来源于f5.com。译文仅供参考，具体内容及含义以原文为准。

## 引言
确保应用程序的安全是安全专家的重要职责之一。然而，许多专家感到在这场战斗中处于不利地位。在F5实验室发布的首份年度综合《应用程序保护报告》中，我们提供了一个关于应用程序复杂性的实用模型，并探讨了应用程序遭受攻击的方式以及提出了一些实际措施来应对这些挑战。

## 执行摘要
如同充满生命力的珊瑚礁一样，Web应用程序也是一种“群落生物”。它们由多个独立组件组成，在具有不同要求的独立环境中运行，并支持跨网络的基础设施（无论是云还是传统基础设施）。本报告重点关注了不同的交互层——应用服务、应用访问、传输层服务（TLS）、域名服务（DNS）和网络——每一个都可能成为潜在的攻击目标。

为了全面了解应用程序如何受到攻击，F5实验室整合了来自多个来源的数据，包括F5内部数据集、WhiteHat Security的漏洞数据、Loryka的攻击数据，以及F5委托Ponemon进行的一项针对IT专家的安全调查。此外，我们还与沃特康姆社区大学网络安全中心的教员合作，对加利福尼亚州、华盛顿州、爱达荷州和俄勒冈州的数据泄露通知进行了广泛审查。这四个州的检察长办公室负责监督并执行各自州的数据泄露披露法律，并公开发布数据泄露通知函。

通过对2017年及2018年第一季度的301个数据泄露事件进行分析，我们发现针对Web应用程序的攻击是造成数据泄露的主要原因，占30%。在F5实验室之前对跨越12年和26个国家的433个主要数据泄露事件的分析中，我们发现应用程序是53%的数据泄露事件的初始攻击目标。因此，应用程序保护始终是一个关键任务，未来也将继续如此。

那么，CISO现在需要了解哪些关键信息呢？

## 应用程序各层分布图

### 第一个问题：我们使用了哪些应用程序？它们在哪里？
根据F5与Ponemon的调查《全球调研：不断变化的风险环境中的Web应用安全》，大多数企业对其跟踪所有应用程序的能力缺乏信心。38%的受访者表示他们对自己是否了解企业的全部应用程序位置“没有信心”。然而，与此同时，受访者还表示他们的34%的Web应用程序与关键任务相关。最常见的Web应用程序包括备份和存储应用（83%）、电子邮件等通信应用（71%）、文件管理和协调应用（66%）以及微软Office套件中的应用（65%）。

### 第二个问题：应用程序攻击将如何影响我的企业？
应用程序遭到攻击可能会带来多种不同的后果。最严重的一种是拒绝服务（DoS），81%的受访者将其造成的损失评为7到10分（10分为最高）。其次是敏感或机密信息的泄露（如知识产权和商业秘密），77%的受访者将其评为7到10分。同样，73%的受访者将应用程序篡改评为7到10分。最后，64%的受访者将个人身份信息（PII）泄露评为7到10分（可能是客户、消费者或员工的PII）。

### 第三个问题：存在哪些重大风险？
根据各州检察长办公室在2017年和2018年第一季度发布的数据泄露通知，我们对这些网络攻击进行了详细研究。与应用程序相关的泄露事件主要包括Web注入（70%）、Web入侵（26%）以及应用程序数据库入侵（4%），导致信用卡信息被盗。我们将这些数据与白帽安全的相关漏洞信息、Loryka的攻击监测信息以及Exploit-DB公布的已知exploit进行交叉对比，以了解当前最重大的风险：

#### 针对应用程序服务的注入攻击
在2018年第一季度的数据泄露报告中，占比最高的类别（70%）是试图窃取用户信用卡信息的Web注入攻击。注入攻击允许攻击者将命令或新代码直接插入正在运行的应用程序中，实施恶意行为（也称为应用程序篡改攻击）。过去十年中最臭名昭著的注入攻击是SQL注入，占所有数据泄露通知的23%。注入漏洞也很常见，白帽安全报告称2017年发现的所有漏洞中有17%是注入漏洞。这个问题非常严重，以至于2017 OWASP Top 10将注入漏洞评为应用程序风险的第一名。因此，企业应将寻找、修复和封禁注入漏洞作为高优先级事项处理。

#### 账户访问劫持
分析表明，2017年和2018年第一季度所有的Web应用程序数据泄露事件中有13%与访问劫持有关。具体细分如下：电子邮件导致的凭据窃取（34.29%）、配置错误的访问控制（22.86%）、暴力密码破解攻击（5.71%）、撞库攻击（8.57%）以及社交工程攻击（2.76%）。同样，Exploit-DB中近25%的Web应用程序脚本与访问劫持有关。F5与Ponemon的调查还表明，75%的受访者在关键Web应用程序中仅采用用户名+密码的身份验证方式。

对于重要的应用程序，强烈建议使用联合验证或多因素验证等强身份验证方案。对于不具有完整控制权限的外部应用程序，可以采用云安全访问代理（CASB）来整合和加固身份验证解决方案。

#### 针对应用程序服务的反序列化攻击
2017年，反序列化攻击的数量有所减少，但其影响范围扩大了。攻击者在入侵Equifax时利用了Apache Struts中的反序列化漏洞，窃取了1.48亿美国公民和1520万英国公民的数据。序列化是指应用程序将数据转换为传输格式；反序列化则是将数据再转换回来。这种攻击变得越来越普遍，因为现代应用程序通常是由联网的子系统集群组成，需要进行序列化的数据通信。攻击者通过在序列化的数据流中植入命令，可以直接将未过滤的恶意代码送入应用程序引擎的核心。Exploit-DB中30%的脚本与反序列化漏洞有关。

为了阻止此类攻击，应用程序应该对所有用户输入进行扫描和过滤，包括序列化的数据流。

#### 针对传输层的攻击
虽然63％的受访者表示他们总是将SSL / TLS用于他们的Web应用程序中，但只有46％的受访者表示他们在大多数（76-100％）应用程序中使用了SSL / TLS加密。尽管许多传输层加密标准已经“退役”，例如SSL和TLS 1.0，但它们仍被大量使用，这带来了许多信息窃取或中间人攻击的风险。此外，47%的企业表示他们使用自签名证书，这进一步降低了其应用程序的可信度。

DDoS攻击贯穿于应用程序的所有层，因此企业拥有DDoS响应策略至关重要。

#### 针对客户端的脚本攻击（访问劫持）
针对应用程序客户端的攻击报告较少，因为受到攻击的个人往往不喜欢被公开提及，而且在这方面并没有监管报告的要求。常见的客户端劫持攻击是XSS攻击，XSS是最流行的漏洞之一（根据白帽安全，XSS占2017年所有漏洞的30%；并且占Exploit-DB脚本的9.24%）。XSS攻击可能导致用户凭据窃取或访问劫持。另一种常见的客户端劫持攻击是跨站请求伪造（CSRF）。这两种攻击都涉及攻击者在网站上植入恶意脚本代码并在应用程序客户端上执行的场景。

希望这份报告能帮助CISO更好地理解和应对当前面临的应用程序安全挑战。