mit a synchronization header before each packet. This is not
possible in LTE since one cannot insert new headers between
LTE frames. To make MegaMIMO compatible with LTE, we
make the leader transmit its synchronization information in the
same resource elements used to transmit Chorus’s synchroniza-
tion signals. Since MegaMIMO has no layers, a MegaMIMO
leader transmits its synchronization signal in the channels of
all layers.
We consider a deployment across a single ﬂoor of our build-
ing. The ﬂoor consists of both ofﬁces and conference rooms,
and our deployment consists of 20 nodes, with 10 acting as
small cells, and 10 acting as clients. As explained earlier, we
reduce the transmission power to emulate a larger geographic
area. We measure the pairwise link quality between all the
small cells to identify nodes that can hear each other well.
471
472
Chorus: Truly Distributed Distributed-MIMO
SIGCOMM ’18, August 20–25, 2018, Budapest, Hungary
4000
2000
0
)
s
r
e
t
e
m
(
e
c
n
a
i
t
s
D
Y
−2000
−4000
−4000
−2000
0
2000
4000
X Distance (meters)
Figure 10—Visualization of Chorus’s layering scheme. The ﬁgure depicts
the different layers assigned by Chorus’s layering algorithm. It shows that
across the geographical range of this simulation, Chorus reuses synchronization
frequencies.
v 12.7.0 LTE standard [17]. We use the Non Line of Sight
Propagation Model for a Manhattan grid layout, as described
on Page 93 of 3GPP TR 36.814 V9.0.0 [14]. Receivers have a
noise ﬂoor of -100 dB, which corresponds to the standard noise
ﬁgure of 6 dB (deﬁned in the LTE TR 36 931 document [15])
at 27◦ C for a bandwidth of 5 MHz. With these parameters,
the SNR in our network attenuates to 0 dB at around 300 m.
In order to evaluate dense deployments, we consider a case
where small cells are separated by an average distance of 50 m,
in a 8 km × 8 km grid, which roughly corresponds to the
size of Manhattan. Thus, our simulation has 25600 small cell
nodes deployed uniformly at random in this grid. We have an
oscillator model for each node, with a carrier frequency offset
of ±100ppb, which corresponds to the LTE hardware tolerance
deﬁned in TR 36 104 [6, 18], and a phase noise of -88 dBc
at 100 KHz for a bandwidth of 5 MHz, which is typical for
the voltage, temperature and oven controlled oscillators used
in small cells [34]. Each small cell node in our system runs
the Chorus controller to ensure phase synchronization in the
presence of oscillator offsets. We run the layering algorithm on
our simulated deployment, and then simulate the operation of
the network for a duration of 5 seconds, which is signiﬁcantly
larger than the typical channel coherence time of 100-200 ms.
Fig. §10 visualizes the results of the layering algorithm,
showing that this network has 19 layers. Since Chorus has
8 distinct synchronization frequencies, the layers reuse these
frequencies as described in §5.
Since we have access to the absolute phases of our oscil-
lators in our simulation, we can compute the absolute phase
difference, and consequently the phase variance, between pairs
of nodes in our system. We plot the median of this phase vari-
ance as a function of the distance between node pairs. Since
the number of node pairs in our system is very large, the graph
is generated by subsampling the node pairs.
0.01
e
c
n
a
i
r
a
V
e
s
a
h
P
0.008
0.006
0.004
0.002
0
0
2000
4000
6000
8000
Distance (meters)
Figure 11—Phase variance as a function of distance. The ﬁgure shows that,
while phase variance increases as a function of distance between the nodes,
it stays within 0.004 for nodes within 5 km of each other. This implies that
Chorus provides tight phase synchronization for nodes signiﬁcantly longer
than the interference range of nodes, and hence enables joint transmission
from multiple transmitters.
Fig. 11 shows the median phase variance as a function of
distance. As one would expect, the phase variance increases as
the distance between node pairs increases. Further, the phase
variance stays less than 0.004 for all nodes within distance
5 km of each other. For nodes farther apart than this distance,
the higher phase variance is irrelevant because the nodes are
separated by many multiples of the interference range. Given
this large distance, no client will hear these far away nodes
and hence there is no danger from having these nodes syn-
chronized. In contrast, the phase difference between nearby
nodes is bounded. This shows that Chorus’s synchronization
fabric scales to large networks. Of course this does not mean
that thousands of nodes will transmit concurrently to the same
client set. Rather it shows that Chorus can create an abstraction
of distributed phase coherence across thousands of nodes. The
higher layers can then treat the network as they would treat a
very large massive MIMO system, and become free to combine
any subset of nearby base stations to create multiplexing or
diversity gains for the clients.
12 CONCLUSION
We have presented Chorus, a new design for distributed MIMO
that has a fully distributed phase synchronization protocol,
where all nodes contribute equally to propagating the synchro-
nization signal. Chorus allows dense deployments of 5G small
cell networks to coordinate their transmissions, eliminate in-
terference, and deliver large throughput gains. The resulting
distributed MIMO network is scalable, resilient to failures and
changes in connectivity. We have integrated Chorus with an
open source LTE stack library, and demonstrated that it can
deliver tight synchronization at scale, and distributed-MIMO
throughput gains with unmodiﬁed end-user devices. We be-
lieve that Chorus’s ﬂexible and self-healing design will enable
distributed-MIMO to truly move from small scale demonstra-
tions to practical, manageable use in large networks.
473
SIGCOMM ’18, August 20–25, 2018, Budapest, Hungary
E. Hamed et al.
REFERENCES
[1] O. Abari, H. Rahul, and D. Katabi. AirShare: Distributed Coherent
Transmission Made Seamless. In IEEE INFOCOM 2015, Hong Kong,
China, April 2015.
[2] S. Aeron and V. Saligrama. Wireless ad hoc networks: Strategies and
scaling laws for the ﬁxed SNR regime. IEEE Transactions on Inf. Theor.,
53(6), June 2007.
[3] N. Anand, J. Lee, S. J. Lee, and E. W. Knightly. Mode and user selection
for multi-user mimo wlans without csi. In 2015 IEEE Conference on
Computer Communications (INFOCOM), pages 451–459, April 2015.
[4] A. Antonioni and A. Cardillo. Coevolution of synchronization and coop-
eration in costly networked interactions. Phys. Rev. Lett., 118:238301,
Jun 2017.
[5] H. Balan, R. Rogalin, A. Michaloliakos, K. Psounis, and G. Caire.
Airsync: Enabling distributed multiuser mimo with full spatial multi-
plexing. Networking, IEEE/ACM Transactions on, 21(6):1681–1695,
Dec 2013.
[6] D. BladsjÃ˝u, M. Hogan, and S. Rufﬁni. Synchronization aspects in lte
small cells. IEEE Communications Magazine, 51(9):70–77, September
2013.
[7] A. Bommani. A survey on inter-cell interference reduction techniques
IJISET - International Journal of
in lte-a heterogeneous networks.
Innovative Science, Engineering & Technology, April 2015.
[8] J. Chen, Q. Yu, Y. Zhang, H. H. Chen, and Y. Sun. Feedback-based
clock synchronization in wireless sensor networks: A control theoretic
approach. IEEE Transactions on Vehicular Technology, 59(6):2963–2973,
July 2010.
[9] R. Chen, Z. Shen, J. G. Andrews, and R. W. Heath. Multimode trans-
mission for multiuser mimo systems with block diagonalization. IEEE
Transactions on Signal Processing, 56(7):3294–3302, July 2008.
[10] Ultra-dense heterogeneous small cell deployment
in 5g and be-
yond. http://www.comsoc.org/netmag/cfp/ultra-dense-heterogeneous-sm
all-cell-deployment-in-5g-beyond. IEEE Comsoc.
[11] G. DeCandia, D. Hastorun, M. Jampani, G. Kakulapati, A. Lakshman,
A. Pilchin, S. Sivasubramanian, P. Vosshall, and W. Vogels. Dynamo:
Amazon’s highly available key-value store. In Proceedings of Twenty-
ﬁrst ACM SIGOPS Symposium on Operating Systems Principles, SOSP
’07, pages 205–220, New York, NY, USA, 2007. ACM.
[12] F. DÃ ˇCÂ˝urﬂer and F. Bullo. Synchronization in complex networks of
phase oscillators: A survey. Automatica, 50(6):1539 – 1564, 2014.
[13] 5g live test: Multipoint connectivity with distributed mimo. https://www.
youtube.com/watch?v=jCO68dPoNwA. Ericsson Inc.
[14] ETSI. 3rd Generation Partnership Project; Technical Speciﬁcation Group
Radio Access Network; Evolved Universal Terrestrial Radio Access
(E-UTRA); Further advancements for E-UTRA physical layer aspects
(Release 9). ETSI, 2010.
[15] ETSI. LTE; Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Frequency (RF) requirements for LTE Pico Node B (3GPP TR
36.931 version 9.0.0 Release 9). ETSI, 2011.
[16] ETSI. LTE; Evolved Universal Terrestrial Radio Access (E-UTRA);
Physical channels and modulation (3GPP TS 36.211 version 10.4.0 Re-
lease 10). ETSI, 2012.
[17] ETSI. LTE; Evolved Universal Terrestrial Radio Access (E-UTRA); Base
Station (BS) radio transmission and reception (3GPP TS 136.104 version
12.7.0 Release 12). ETSI, 2015.
[18] ETSI. LTE; Evolved Universal Terrestrial Radio Access (E-UTRA); Base
Station (BS) radio transmission and reception (3GPP TS 36.104 version
12.6.0 Release 12) . ETSI, 2015.
[19] ETSI. LTE; Evolved Universal Terrestrial Radio Access (E-UTRA); Mul-
tiplexing and channel coding (3GPP TS 36.212 version 13.0.0 Release
13). ETSI, 2016.
[20] ETSI. LTE; Evolved Universal Terrestrial Radio Access (E-UTRA);
Physical layer procedures (3GPP TS 36.213 version 13.0.0 Release 13) .
ETSI, 2016.
[21] Verizon sees small cell, dark ﬁber strategies as differentiators in 5g
world. http://www.ﬁercewireless.com/tech/verizon-sees-small-cell-dar
k-ﬁber-strategies-as-differentiators-5g-world-report. Fierce Wireless
Verizon report.
[22] A. Forenza, R. W. H. Jr., and S. G. Perlman. System and Method For
Distributed Input-Distributed Output Wireless Communications. U.S.
Patent Application number 20090067402.
[23] E. Hamed, H. Rahul, M. A. Abdelghany, and D. Katabi. Real-time
distributed mimo systems. In Proceedings of the 2016 Conference on
ACM SIGCOMM 2016 Conference, SIGCOMM ’16, pages 412–425,
New York, NY, USA, 2016. ACM.
[24] J. Hoydis, S. ten Brink, and M. Debbah. Massive mimo in the ul/dl of
cellular networks: How many antennas do we need? IEEE Journal on
Selected Areas in Communications, 31(2):160–171, February 2013.
[25] L. Lamport. The part-time parliament. ACM Trans. Comput. Syst.,
16(2):133–169, May 1998.
[26] L. Lamport. Acm sigact news. SIGACT News, 32(4):18–25, Dec. 2001.
[27] C. H. Lin, Y. T. Chen, K. C. J. Lin, and W. T. Chen. Fdof: Enhancing
channel utilization for 802.11ac. IEEE/ACM Transactions on Networking,
PP(99):1–13, 2018.
[28] L. Lu, G. Y. Li, A. L. Swindlehurst, A. Ashikhmin, and R. Zhang. An
overview of massive mimo: Beneﬁts and challenges. IEEE Journal of
Selected Topics in Signal Processing, 8(5):742–758, Oct 2014.
[29] K. Ogata. Modern Control Engineering. Prentice Hall PTR, Upper
Saddle River, NJ, USA, 4th edition, 2001.
[30] D. Ongaro and J. Ousterhout. In search of an understandable consensus
algorithm. In Proceedings of the 2014 USENIX Conference on USENIX
Annual Technical Conference, USENIX ATC’14, pages 305–320, Berke-
ley, CA, USA, 2014. USENIX Association.
[31] A. Ozgur, O. Leveque, and D. Tse. Hierarchical cooperation achieves
optimal capacity scaling in ad hoc networks. IEEE Trans. on Info. Theor.,
2007.
[32] pCell. An Introduction to pCell. Artemis, February 2015.
[33] H. Rahul, S. Kumar, and D. Katabi. MegaMIMO: Scaling Wireless
In ACM SIGCOMM 2012, Helsinki,
Capacity with User Demands.
Finland, August 2012.
[34] OCXO Overview. http://hypertech.co.il/wp-content/uploads/2015/12/F
requency-Control-Solutions-OCXO.pdf. Rakon.
[35] R. Rogalin, O. Y. Bursalioglu, H. Papadopoulos, G. Caire, A. F. Molisch,
A. Michaloliakos, V. Balan, and K. Psounis. Scalable synchronization and
reciprocity calibration for distributed multiuser mimo. IEEE Transactions
on Wireless Communications, 13(4):1815–1831, April 2014.
[36] W. Shen, K. C. Lin, M. Chen, and K. Tan. Client as a ﬁrst-class citizen:
Practical user-centric network MIMO clustering. In 35th Annual IEEE
International Conference on Computer Communications, INFOCOM
2016, San Francisco, CA, USA, April 10-14, 2016, 2016.
[37] W. L. Shen, K. C. J. Lin, M. S. Chen, and K. Tan. Sieve: Scalable user
grouping for large mu-mimo systems. In 2015 IEEE Conference on
Computer Communications (INFOCOM), pages 1975–1983, April 2015.
[38] C. Shepard, N. Anand, and L. Zhong. Practical performance of mu-mimo
precoding in many-antenna base stations. In Proceeding of the 2013
Workshop on Cellular Networks: Operations, Challenges, and Future
Design, CellNet ’13, pages 13–18, New York, NY, USA, 2013. ACM.
[39] C. Shepard, H. Yu, N. Anand, E. Li, T. Marzetta, R. Yang, and L. Zhong.
Argos: Practical many-antenna base stations. In Proceedings of the 18th
Annual International Conference on Mobile Computing and Networking,
Mobicom ’12, pages 53–64, New York, NY, USA, 2012. ACM.
[40] O. Simeone, O. Somekh, H. Poor, and S. Shamai. Distributed MIMO in
multi-cell wireless systems via ﬁnite-capacity links. In ISCCSP, 2008.
[41] P. Sommer and R. Wattenhofer. Gradient clock synchronization in wire-
less sensor networks. In 2009 International Conference on Information
Processing in Sensor Networks, pages 37–48, April 2009.
474
Chorus: Truly Distributed Distributed-MIMO
SIGCOMM ’18, August 20–25, 2018, Budapest, Hungary
[42] srsLTE. Open source 3gpp lte library. https://github.com/srsLTE.
[43] An overview of algorithms for downlink transmit beamforming. https:
//ll.mit.edu/asap/asap_04/DAY1/16_PR_SWINDLEHURST.PDF. BYU.
[44] 10x, 100x, 1000x capacity growth will require small cells. https://www.
qualcomm.com/invention/technologies/1000x/small-cells. Small Cells
World Summit.
[45] S. Venkatesan et al. A WiMAX-based implementation of network MIMO
for indoor wireless. EURASIP, ’09.
[46] V. Yenamandra and K. Srinivasan. Vidyut: Exploiting power line infras-
tructure for enterprise wireless networks. In Proceedings of the 2014
ACM Conference on SIGCOMM, SIGCOMM ’14, pages 595–606, New
York, NY, USA, 2014. ACM.
[47] H. Yu, O. Bejarano, and L. Zhong. Combating inter-cell interference in
802.11ac-based multi-user mimo networks. In Proceedings of the 20th
Annual International Conference on Mobile Computing and Networking,
MobiCom ’14, pages 141–152, New York, NY, USA, 2014. ACM.
[48] H. Zhang and H. Dai. On the capacity of distributed mimo systems. In
Proc. Conf. Inform. Sciences and Systems (CISS), 2004.
[49] X. Zhang, K. Sundaresan, M. A. A. Khojastepour, S. Rangarajan, and
K. G. Shin. Nemox: Scalable network mimo for wireless networks. In
Proceedings of the 19th Annual International Conference on Mobile
Computing &#38; Networking, MobiCom ’13, 2013.
475