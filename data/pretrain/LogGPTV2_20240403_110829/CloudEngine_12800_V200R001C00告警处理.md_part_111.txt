CloudEngine 12800系列交换机
告警处理 59 TRILL
Trap 属性
Trap属性 描述
Alarm or Event Event
Trap Severity Error
Mnemonic Code TRILL_AUTHENTICATION_FAILURE
Trap OID 1.3.6.1.4.1.2011.5.25.331.1.3.3
Alarm ID 该Trap是事件Trap，不涉及告警ID。
Alarm Type 该Trap是事件Trap，不涉及告警类型。
Raise or Clear 该Trap是事件Trap，不涉及告警产生或恢复。
Match trap 该Trap是事件Trap，不涉及配对Trap。
Trap Buffer 信息参数
参数名称 参数含义
trillSysInstance TRILL进程号。
trillCircIndex TRILL接口的索引。
trillCircIfIndex TRILL模块定义的从接口管理模块获取的
接口索引。
trillPduFragment 64字节报文头缩略。
ifIndex 接口管理模块定义的接口索引。
IfName 接口名称。
VB 信息参数
VB OID VB Name VB Index
1.3.6.1.4.1.2011.5.25.331.1. hwTrillSysInstance ifIndex
1.3.1.1
1.3.6.1.4.1.2011.5.25.331.1. hwTrillCircIfIndex ifIndex
1.3.1.2
1.3.6.1.4.1.2011.5.25.331.1. hwTrillPduFragment ifIndex
1.3.1.3
1.3.6.1.2.1.31.1.1.1.1 ifName ifIndex
文档版本 06 (2017-09-12) 华为专有和保密信息 912
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 59 TRILL
对系统的影响
1．如果是Hello报文认证不通过，会导致TRILL邻居建立不正常。
2．如果是LSP或者SNP认证不通过，会导致LSDB不能同步，但TRILL邻居仍能正常建
立。
可能原因
本端在接口或进程下配置了认证，对端配置认证的类型与本端相同，但认证密码与本
端不同。
处理步骤
步骤1 通过告警输出信息中的参数查看收到此报文的TRILL进程号。对照TRILL报文格式，从
告警输出信息中找到if-index字段的值（十进制）并将其转换为16进制数。然后，从告
警输出信息中找到pdu-fragment字段的内容，在pdu-fragment字段的内容中找到发送此
报文的源交换机的System ID和报文的类型。
l 如果报文类型是Hello，请执行步骤2。
l 如果报文类型是LSP或者SNP，请执行步骤4。
表59-1 TRILL报文类型和System ID的查找方法
报文类型的查找方法 System ID的查找方法
Hello：[pdu-fragment]字段的第5个字节的 从[pdu-fragment]字段的第10个字节开
值为0f、10或者11。 始，连续的6个字节是System ID。
LSP：[pdu-fragment]字段的第5个字节的 从[pdu-fragment]字段的第13个字节开
值为12或者14。 始，连续的6个字节是System ID。
SNP：[pdu-fragment]字段的第5个字节的 从[pdu-fragment]字段的第11个字节开
值为18、19、1A或者1B。 始，连续的6个字节是System ID。
步骤2 在源交换机上使用display trill peer命令查看发送此报文的接口。在接口视图下使用
display this命令查看是否配置了和本地交换机相同的接口认证密码。
l 如果是，请执行步骤6。
l 如果不是，请执行步骤3。
步骤3 在源交换机的接口视图下，使用命令trill authentication-mode将认证密码配置为与本地
交换机一致。查看告警是否消除。
l 如果是，请执行步骤7。
l 如果不是，请执行步骤6。
步骤4 在源交换机上使用命令display current-configuration configuration trill查看TRILL进程
下是否配置了和本地交换机相同的认证类型。
l 如果是，请执行步骤6。
l 如果不是，请执行步骤5。
步骤5 在源交换机的TRILL视图下，使用命令area-authentication-mode将认证密码配置为与
本地交换机一致。查看告警是否消除。
文档版本 06 (2017-09-12) 华为专有和保密信息 913
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 59 TRILL
l 如果是，请执行步骤7。
l 如果不是，请执行步骤6。
步骤6 请收集告警信息和配置信息，并联系技术支持人员。
步骤7 结束。
----结束
59.4 TRILL_1.3.6.1.4.1.2011.5.25.331.1.3.4
trillAuthenticationTypeFailure
Trap Buffer 信息解释
The authentication type of received PDU is different from local configuration.
(trillSysInstance=[trillSysInstance], trillCircIndex=[trillCircIndex],
trillCircIfIndex=[trillCircIfIndex], trillPduFragment=[trillPduFragment], ifIndex=[ifIndex],
IfName=[IfName])
收到的PDU的认证类型与本地配置不匹配。
Trap 属性
Trap属性 描述
Alarm or Event Event
Trap Severity Error
Mnemonic Code TRILL_AUTHENTICATION_TYPE_FAILURE
Trap OID 1.3.6.1.4.1.2011.5.25.331.1.3.4
Alarm ID 该Trap是事件Trap，不涉及告警ID。
Alarm Type 该Trap是事件Trap，不涉及告警类型。
Raise or Clear 该Trap是事件Trap，不涉及告警产生或恢复。
Match trap 该Trap是事件Trap，不涉及配对Trap。
Trap Buffer 信息参数
参数名称 参数含义
trillSysInstance TRILL进程号。
trillCircIndex TRILL接口的索引。
trillCircIfIndex TRILL模块定义的从接口管理模块获取的
接口索引。
trillPduFragment 64字节报文头缩略。
文档版本 06 (2017-09-12) 华为专有和保密信息 914
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 59 TRILL
参数名称 参数含义
ifIndex 接口管理模块定义的接口索引。
IfName 接口名称。
VB 信息参数
VB OID VB Name VB Index
1.3.6.1.4.1.2011.5.25.331.1. hwTrillSysInstance ifIndex
1.3.1.1
1.3.6.1.4.1.2011.5.25.331.1. hwTrillCircIfIndex ifIndex
1.3.1.2
1.3.6.1.4.1.2011.5.25.331.1. hwTrillPduFragment ifIndex
1.3.1.3
1.3.6.1.2.1.31.1.1.1.1 ifName ifIndex
对系统的影响
1．如果是Hello报文认证不通过，会导致TRILL邻居建立不正常。
2．如果是LSP或者SNP认证不通过，会导致LSDB不能同步，但TRILL邻居仍能正常建
立。
可能原因
原因1：本端在接口或进程下配置了认证，对端配置认证的类型与本端不同。
原因2：本端在接口或进程下配置了认证，而对端没有配置认证。
处理步骤
步骤1 查看告警输出信息中的trillSysInstance字段确定收到此报文的TRILL进程号。
步骤2 查看trillPduFragment的第2个字节，判断此报文的类型。
l 14：Hello报文，请执行步骤3。
l 1B：LSP，请执行步骤5。
l 11：SNP，请执行步骤6。
步骤3 在源交换机上使用display trill peer命令查看发送此报文的接口。进入接口视图，使用
display this命令查看是否配置了接口认证类型并比较与本地交换机的接口认证模式是
否一致。
l 如果是，请执行步骤8。
l 如果不是，请执行步骤4。
步骤4 在源交换机的接口视图下，使用trill authentication-mode命令将认证模式配置为与本地
交换机一致，并确保两端认证密码相同。检查告警是否消除。
文档版本 06 (2017-09-12) 华为专有和保密信息 915
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 59 TRILL
l 如果是，请执行步骤8。
l 如果不是，请执行步骤7。
步骤5 在源交换机上使用display current-configuration configuration trill命令查看TRILL进程
下是否配置了区域认证模式并比较与本地交换机的认证模式是否一致，确保两端认证
密码相同。
l 如果是，请执行步骤8。
l 如果不是，请执行步骤7。
步骤6 在源交换机的TRILL视图下，使用命令area-authentication-mode将认证类型配置为与
本地交换机一致。查看告警是否消除。
l 如果是，请执行步骤8。
l 如果不是，请执行步骤7。
步骤7 请收集告警信息和配置信息，并联系技术支持人员。
步骤8 结束。
----结束
文档版本 06 (2017-09-12) 华为专有和保密信息 916
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 60 TRUNK
60
TRUNK
关于本章
60.1 TRUNK_1.3.6.1.4.1.2011.5.25.41.3.30 hwTrunkMemNumberChange
相关主题
HUAWEI-IF-EXT-MIB
文档版本 06 (2017-09-12) 华为专有和保密信息 917
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 60 TRUNK
60.1 TRUNK_1.3.6.1.4.1.2011.5.25.41.3.30
hwTrunkMemNumberChange
Trap Buffer 信息解释
The number of active trunk members changed. (TrunkName=[TrunkName],
PortName=[PortName], ActiveTrunkMemNum=[TrunkMemNumber], Reason=[Reason])
Trunk接口活动成员的数量发生变化。
Trap 属性
Trap属性 描述
Alarm or Event Event
Trap Severity Notice
Mnemonic Code hwTrunkMemNumberChange
Trap OID 1.3.6.1.4.1.2011.5.25.41.3.30
Alarm ID 该Trap是事件Trap，不涉及告警ID。
Alarm Type 该Trap是事件Trap，不涉及告警类型。
Raise or Clear 该Trap是事件Trap，不涉及告警产生或恢复。
Match trap 该Trap是事件Trap，不涉及配对Trap。
Trap Buffer 信息参数
参数名称 参数含义
TrunkName Trunk接口名称
PortName Trunk的端口接口名称
ActiveTrunkMemNum 活动成员接口的数目
Reason 原因
VB 信息参数
VB OID VB Name VB Index
1.3.6.1.4.1.2011.5.25.41.1.2 hwTrunkIfDescr None
0.5
文档版本 06 (2017-09-12) 华为专有和保密信息 918
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 60 TRUNK
VB OID VB Name VB Index
1.3.6.1.4.1.2011.5.25.41.1.2 hwTrunkMemIfDescr None
0.6
1.3.6.1.4.1.2011.5.25.41.1.2 hwTrunkActiveMember None
0.7
1.3.6.1.4.1.2011.5.25.41.1.2 hwIfExtTrapReason None
0.8
对系统的影响
无
可能原因
原因1：A trunk member interface went Up.（成员接口从Down状态变为Up状态。）
原因2：A trunk member interface went Down.（成员接口从Up状态变为Down状态。）
处理步骤
l 原因1：A trunk member interface went Up.
– 正常运行信息，无需处理。
l 原因2：A trunk member interface went Down.
– 如果成员口从Up状态变为Down状态，则检查成该成员接口是否有linkdown告
警，此告警的原因也是本事件的原因。
----结束
文档版本 06 (2017-09-12) 华为专有和保密信息 919
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 61 TTY
61
TTY
关于本章
61.1 TTY_1.3.6.1.4.1.2011.5.25.207.2.1 hwVtyNumExceed
61.2 TTY_1.3.6.1.4.1.2011.5.25.207.2.2 hwUserLogin
61.3 TTY_1.3.6.1.4.1.2011.5.25.207.2.3 hwUserLoginFail
61.4 TTY_1.3.6.1.4.1.2011.5.25.207.2.4 hwUserLogout
61.5 TTY_1.3.6.1.4.1.2011.5.25.207.2.5 hwUserSshLogin
61.6 TTY_1.3.6.1.4.1.2011.5.25.207.2.6 hwUserSshLogout
相关主题
HUAWEI-LINE-MIB
文档版本 06 (2017-09-12) 华为专有和保密信息 920
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 61 TTY
61.1 TTY_1.3.6.1.4.1.2011.5.25.207.2.1 hwVtyNumExceed
Trap Buffer 信息解释
The number of login users reaches the maximum VTY limit.
(MaxUserNum=[MaxUserNum])
登录的用户达到VTY用户界面最大值。
Trap 属性
Trap属性 描述
Alarm or Event Event
Trap Severity Notice
Mnemonic Code hwVtyNumExceed
Trap OID 1.3.6.1.4.1.2011.5.25.207.2.1
Alarm ID 该Trap是事件Trap，不涉及告警ID。
Alarm Type 该Trap是事件Trap，不涉及告警类型。
Raise or Clear 该Trap是事件Trap，不涉及告警产生或恢复。
Match trap 该Trap是事件Trap，不涉及配对Trap。
Trap Buffer 信息参数
参数名称 参数含义
MaxUserNum VTY用户界面最大值。
VB 信息参数
VB OID VB Name VB Index
1.3.6.1.4.1.2011.5.25.207.1. hwMaxVtyNumber N/A
1.1
对系统的影响
对业务没有影响。
文档版本 06 (2017-09-12) 华为专有和保密信息 921
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 61 TTY