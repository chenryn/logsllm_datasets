具有挑战性的。
在线发布数据
我们的目标是让所有的实验记录与处理后的数据可以在线得到。如
何在Web中以一种有用的格式发布数据产生了一系列的问题，其中
包括标准标识符、可视化工具和数据集成方式的选择。
化学实体的唯一标识符
要让我们的数据有用，使用公认的标准来描述化学实体就很重要。
如果不这么做，数据集的集成就会变得很困难或者不可能。在化学
中，有些人认为使用CAS注册号山]
(htp：//en.wikipedia.org/wiki/CAS_registry_number)标识化学实体很
理想。不过，CAS号本质上是私有的，而且不能转化为化学结构，
只能用作查询，而且依赖与一个外部的组织来进行编号。我们更倾
向于本质上开放的标识符，可以自由地进行交换，并可以同化学连
接表2双向转换。
IUPAC3I-国际化学标识符（IChI，发音为"INchee”）提供了一个非私
有的标准与算法以及相应开源支持软件
(htp：//en.wikipedia.org/wiki/Inchi)用于标识字符串的生成及标识符
到化学结构逆转换（参见http：//www.qsarworld.com/INCHl1.php的
1634
---
## Page 1636
最近讨论）。InChI作为一个标准正在获得软件厂商、出版商和开发
者的鼎力支持。InChI算法一—即对同一结构生成多个不同inChi的可
能性——已经通过标准InChI（StandardInChI的开发得到了解决。对
于某些用途，InChiKey(InChi的一种hash码）已经很实用，可是
InChiKey不能转换成结构，而且只能在搜索化学结构的查找表中使
用。
SMILES(http：//en.wikipedia.org/wiki/SMILES)是一种标识化合物的
常见结构，其字符事编码非常紧凑，并且可以和化学结构双向转
换。但是，SMILES算法有多种形式与实现，导致了同一化学实体
有不同的SMMLES。现在我们在此项工作中使用SMILES是由于其简
单且搜索容易。正如本章的"通过唯一标识符与自描述数据格式实
现数据集成"所述，将我们的SMILES转换为InChI是可行的，从而我
们可以自动将数据集成到由InCh标识的数据网络中。
开放数据与可访问服务提供了厂泛的可视化与分析选择
有了一个标准、自由、可访问的原始溶解度数据贮存构架，下一步
就是分析数据。分析可以是简单地生成所有已完成测量的汇总，也
可以是来自数据衍生模型的复杂统计描述。不论是哪种情况，都有
必要通过自动化的方式访问数据以进行处理。采用其他来源的信息
来丰富数据也是值得一做的。这反过来又要求主要数据需以通用的
标准发布。
电子表格包含了若十列，每一行是一条测量值。溶剂和溶质都采用
了两种格式表示：人类可读的通用名及机器可读的SMILES编码。
由于选择GDoc作为数据的主要发布形式，为了让数据集发挥最大优
势，采用机器和人类可读的两种表示是非常重要的。唯一不需要采
用两种表示方式的是采用数值表示的溶解度本身。
前面已经提到，我们决定不从主数据集中剔除有问题的数值。这产
生了一个机器可读性的问题，因为并没有通行的方式来表示“这个
数字有一点狡”。对于这项工作，我们决定在人工判读之后来标
记那些被认为是不准确的数据，并给出理由。这使得任何用户在做
任何分析时都可以选择采用那些记录，不管是采用人工还是自动的
方式。任何进一步的详细分析都需要访问电子表格中的数据。最简
单的方式就是把数据导出，比如导出为CSV文件，然后用其他软件
来分析。但这样会导致无法获取到最新的数据。G公司的DocAPI则
1635
---
## Page 1637
可以让创建Web应用变得简单，同时又维持着与“实况”数据的连
接。
作为这种应用的示例，我们创建了一个Web服务来让用户查询电子
表格中储存的数据并获取表格汇总（见图16-2）。这个基于表单的
查询界面为获取相关数据提供了一个快速直观的访问方式。整个页
面只由HTML与JavaScript构成，不需要任何的服务器端软件。数据
是通过G公司提供的API从GDoc中异步访问的。获取数据之后，就
可以进行一系列的计算。在这里，我们要计算溶解度的平均值和标
准差，可以用于动态高亮反常数据。不仅原始数据子集的表格输出
很有用，可视化技术也可有效地概括查询结果。这个查询应用采用
G公司VisualizationAPI生成电子表格中提取数据的柱状图。从电子
表格提取数据很容易，生成一系列可视化图表也是很容易的。在我
们的案例中，一个显示某化合物在不同溶剂中溶解度的简单柱状图
就可以提供结果的简要概括。
本应用的另外一个值得注意的地方是表格中包含化学结构的二维渲
染图，渲染图是通过美国IndianaUniversity基于REST的服务提供
的。通过在服务URL中传递SMILES代码，可以将化学结构的二维图
片插入到任何网页中。同样，这些特性也不需要服务器端软件的支
持。分发这种应用变得非常容易，仅仅只需要把HTML页面拷贝到
另一个Web服务器上即可。
1636
---
## Page 1638
A
B
shan
Selres
C
图16-2：用于检视溶解度数据的可视化工具。A）采用JavaScript
和G公司DocAPI生成的一个简单表单输入界面：B）溶解度数值的
图形化表示：C）带有二维化学结构渲染图的数据表格输出，可以
从http：//toposome.chemistry.drexel.edu/~rguha/jcsol/sol.html访问此
服务。请注意：本服务与这里提到的其他服务都是动态的，可能得
到与上图所示不同的查询结果（见彩图54）
虽然这只是一个相当简单的应用程序，但它突出了这种解决方案的
分布式本质，即把开放数据与具有多个来源的免费可视化方法结合
起来。更重要的是，这个系统的分布式本质和可自由获得的数据使
得来自不同领域的专家们一—测量数据的实验员、制作接口的软件
开发者以及制作创建统计模型的计算建模人员一一可以更好地将他
们的专业技术结合起来。开放数据、开放服务以及支持它们的生态
系统的真正前途在于：这种专业技术的结合不需要建立任何正式的
合作关系。研究人员可以用一种数据的测量者所想不到的方式来使
用数据。不管是进行补充实验，还是做新的分析，或者提供处理数
据的新服务，这样做都可以使原始的数据集更有价值，同时加强它
1637
---
## Page 1639
周围的生态系统。而且不管什么时候，都可以找到指向原始记录的
链接。
通过中心聚合服务集成数据
对于我们主张的方式存在一个合理反对意见，那就是：如果此方式
被广泛采用，那么将会导致很多分散、不相连的数据源出现。尽
管，从技术上可以利用搜索工具将这些资源汇总起来，但对于研究
人员来说，这仍然是一个问题。因为他们通常习惯于使用儿种他们
喜欢的服务。有人校对的化学信息数据集中，美国化学会的化学文
摘服务(CemicalAbstractService,CAS)是黄金标准。CAS注册集中覆
盖了超过四千万种物质
(htp://www.cas.org/newsevents/connections/derivative.html)，其中包
含的数据来自出版物、专利、化合物目录以及越来越多的在线数据
源，比如
ChemSpider(htp://www.chemspider.com/blog/caschemspider-
connectivies-and-unintended-collaboration.html)。
ChemSpider是以“构建以结构为中心的化学家社区"为目的为化学家
创建的Web资源。有来自超过150个数据源的两千余万不同的化学实
体，ChemSpider已经成为了化学家寻找化学实体信息的主要Internet
资源之一。每个化合物都有不同类型的信息相互关联起来，这些信
息包括不同的标识符（系统命名、商品名、注册号、各语种命
名），理化性质的预测值，实验获得的物理、化学与光谱数据来自
一系列数据源(htp：//www.chemspider.com/DataSources.aspx)的指向
链接。因此ChemSpider可以看做一个指向其他资源且基于结构的链
接农场[±l-。同时，ChemSpider还提供了一个操作环境，以便用户在
线简要或者扩展显示数据。用户可以批注、校对数据，从而删除化
学实体的错误关联，并且添加他们自己的信息，包括指向外部资源
的链接或者其他数据批注。用户也可以向数据库中储存新化学结
构，并为之关联光谱数据、图片，甚至是视频文件。ChemSpider中
有很多种搜索功能，包括搜索预测的数据、基于结构或子结构的搜
索]。
ChemSpider中数据主键通常是分子的通用标识符，如此就为连接其
他来源的化学信息提供了一个理想的环境。ChemSpider不仅提供了
化学数据搜索的中心资源，同时也是用户的数据银行，其他研究人
员就可以很容易地通过它找到我们的数据。尽管一些ChemSpider关
联的数据是由在线资源抓取的数据搜集的，但是对这种方式需要小
1638
---
## Page 1640
心处理(htp：//www.chemspider.com/blog/care-in-nomenclature-
handling-andwhy-visual-inspection-will-remain.html)，更多的数据是在
进行了某种形式的人工校对后添加的。
非水溶剂溶解度数据是作为ONS-SolubilityL项目的一部分添加到
ChemSpider中的。目前一些在线可得的数据是作为补充信息和化合
物数据中可能有的其他理化数据放在一起的。溶解度数据有一个链
接指向实验记录页面，这样既和ChemSpider作为指向原始数据源的
链接方式一致又和我们指向原始记录的方式一致。图16-3给出了一
个ChemSpider的示例。记录中有了越来越多的非水溶剂溶解度数
值，可能是人工测定或者机器测定的，这些数据都会发布出来，其
相应的原始来源信息也可以点击可得。
1639
---
## Page 1641
INHERENTPROPERTIES,IDENTIFIERSANDREFERENCES
3D
ChemSpiderID:
62434
Empirical Formula:
C3HzNO2
Molecular Weight:
89.0932
Nominal Mass:
89Da
NH
Average Mass:
89.0932 Da
Monoisotopic Mass:
89.047678 Da
load
save.
Systematic Name:
methyl 2-aminoacetate
SMILES:
O=C(OC)CN
InChI:
InChI=1/C3H7NO2/c1-6-3(5)2-4/h2,4H2,1H3
InChIKey:
KQSSATDQUYCRGS-UHFFFAOYAU
Std.InChI:
InChI=1S/C3H7NO2/c1-6-3(5)2-4/h2,4H2,1H3
Std.InChIKey:
KQSSATDQUYCRGS-UHFFFAOYSA-N