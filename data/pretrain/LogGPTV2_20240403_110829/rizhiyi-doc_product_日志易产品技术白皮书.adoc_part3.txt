==== 磁盘容量需求评估
磁盘容量需求主要集中在消息队列集群和索引集群。我们建议使用带副本的集群方案作为数据容灾的考虑。对于数据的保留方式，通过如下的计算公式便可以根据自身情况进行磁盘容量评估。
* 消息队列集群
+
磁盘容量 =（原始日志大小（GB）／24小时）* 峰值（3倍）消息队列存储放大系数（6）* 存储份数（2份）* 保留小时数 ／（机器数 * 磁盘使用率（80%））
+
示例：
+
[options="header",cols=".^,.^,.^,.^,3"]
|====
|机器数量|保留时间|存储份数|单台磁盘|计算方法
1.2+.^|3 |2 小时|2|1.25 TB .4+m|（原始日志大小（1000GB）／24小时）* 峰值（3倍）* 消息队列存储放大系数（6） * 存储份数（2份）* 保留小时数 ／（机器数 * 磁盘使用率（80%））
|8 小时|2|5 TB
|====
* 索引集群
+
磁盘容量 = 原始日志大小（GB）* 索引放大系数（2.5倍）*  索引份数 * 保留天数 ／ （ 机器数 * 磁盘使用率（80%））
+
索引放大系数与抽取的关键字段数相关，抽取的关键字段数越多，索引放大系数就越大，2.5倍是最大值。
+
示例：
+
[options="header",cols=".^,.^,.^,.^,3"]
|====
|机器数量|保留时间|索引份数|单台磁盘|计算方法
1.2+.^|36|3 天|2|520GB .4+<.|原始日志大小（1000GB）*  索引放大系数（2.5倍）* 索引份数（2） * 保留天数 ／ （ 机器数 * 磁盘使用率（80%））
|7 天|2|1.22 TB
|====
=== 浏览器要求
日志易支持采用当前主流浏览器访问，包括 Chrome，Firefox，Safari，Edge 等。
如果想获得比较好的体验，建议:
* Chrome75+
== 日志易应用场景
日志易作为通用的日志分析技术平台，可以在各种不同的 IT 场景上发挥重要作用。
image::images/plaform-installation.png[]
. 端到端的全链路性能监控
* 通过日志或客户端埋点数据对接方案，如开源的 count.ly 方案，进行最终用户监控(Real User Monitor)
* 通过日志或服务端埋点、JVM 探针数据对接方案，如开源的 zipkin、skywalking 方案，进行应用性能监控(Application Performance Monitor)
* 关联不同系统或模块的日志，进行端到端的服务监控和故障排查
. 安全信息与事件管理（Security Information and Event Management）
* 通过服务器日志发现端口扫描和非法入侵
* 防火墙、网络设备、服务器日志安全跟踪分析
* 用户及端点行为分析审计(User & Entity Behivour Analysis)
* 安全编排和自动响应(Security Orchestration, Automation & Response)
. 业务统计分析
* 网站用户及手机用户访问统计及留存分析
* 社交、视频、电商、游戏网站用户行为及交易路径分析
* 客户端设备、操作系统、浏览器统计
. 运维故障和程序Bug分析
* 通过日志对网络设备、服务器及应用程序状态实时监控，迅速定位问题根源
* 快速关联分析大规模分布式系统各个模块产生的大量Debug日志
== 日志易产品功能概览
=== 日志采集
* 日志易使用Linux系统自带的rsyslog或syslog-ng agent，或日志易agent，可采集服务器、网络设备、操作系统、应用系统的文本日志及二进制日志数据。我们支持标准的syslog协议（RFC5424）、HTTP和HTTPS。
* 向导式的数据采集流程
+
image::./images/agent-file-input.png[]
* 日志集中管理：无需登录单台服务器或授权开发人员访问生产环境，所有日志都可通过日志易Web界面授权访问。
* 支持各种类型的日志：任何基于文本类型的日志，无论来自服务器或是客户端，例如Apache、Java、PHP、Tomcat、MySQL、syslog-ng、rsyslog、nxlog、路由器等网络设备的日志，都可以上传到日志易。
=== 字段提取
* 自动解析日志：自动提取日志的关键字段，将非结构化日志转化为结构化数据，标准的日志格式支持有Apache、Nginx、Syslog、Java、JSON等。
* 日志格式自定义：为特殊日志格式量身定做，提供向导式解析规则配置，实现精准解析，提供正则匹配、KeyValue分解、url解码、时间戳识别、字典翻译、IP 地址库等多种提取方式，简单操作，轻松上手。
image::images/parserule-date.png[]
=== 权限管理
* 用户角色：建立完善的基于角色的用户权限体系。不同角色的用户使用日志易的功能及搜索、统计、告警等资源时，都可以限定到不同级别的权限；
image::images/rbac-authorize.png[]
=== 搜索
* 强大的搜索功能：支持全文检索，还可以使用字段、数值范围和布尔检索，查询指定时间范围内的日志。
image::images/search-main-page.png[]
=== 监控
* 监控告警：基于已存搜索配置灵活的监控告警，支持秒级告警，当触发配置的告警条件时通过邮件、短信等接口通知。
+
image::images/alert-edit.png[]
* 事件处理：对告警事件提供完善的归并、抑制、处理标记、事件操作功能，并提供处理状态统计报表。
+
image::images/incident-batch-operation.png[]
=== 可视化与统计
* 快捷统计：统计类型可支持计数统计、时间分段统计、数值分段统计、时间直方图、数值直方图、字段值分类、字段数值统计、累计百分比、多级统计、地图展示等多维度统计方式，数值型字段可从下拉菜单选择计数、求和、最大值、最小值、平均值、标准偏差等创建折线图、条形图、饼状图等不同形状的趋势分析图。
+
image::images/visualize-quick.png[]
* 高级可视化：在电子表格的基础上，用户可以选择指定字段设置，生成自己想要的复杂可视化效果。日志易提供折线图、区域图、堆叠区域图、散点图、柱状图、分组柱状图、堆叠柱状图、饼图、玫瑰图、条带图、和弦图、桑基图、力引导图、区间图、多Y轴、区划图、热力图、轨迹图、单值、水球图、词云图、循序图等可视化效果。
+
image::images/attackmap-world.png[]
* 仪表盘：通过趋势图组建仪表盘，拖放选择合适的大小来组织界面布局。仪表盘支持分享，支持自定义钻取和过滤功能，用户可以快速查看符合条件的数据。
+
image::images/dashboard.png[]
* 报表：支持多种文件类型的个性化日报、周报、月报，可设置报表布局和接收邮箱地址，方便查看图形化报表内容。并支持自定义布局的 PDF 类型报表和自定义富文本模板的 Word 类型报表。
+
image::images/report-word-tmpl.png[]
* 拓扑图：拖拽方式自定义业务拓扑和数据流转关系图，各拓扑节点支持按照业务关系分组，支持分区展示业务状态统计指标，支持点击钻取和定时刷新。
+
image::images/topology.png[]
=== 人工智能
* 机器学习平台：日志易提供 20 多种标准机器学习算法，并支持在界面化交互平台上探索机器学习算法的数据运用。日志易按照数值预测、分类预测、离群检测、聚类分析、时序预测五个场景分类，提供不同的模型测试效果评价和可视化。
* 日志模式：日志易针对非结构化日志分析场景，提供专属的模式学习智能算法。方便用户快速了解百万行日志内含的行为模式和趋势，快速定位和发现未知故障。
+
image::images/logreduce.png[]
* 指标异常检测：日志易针对 IT 监控指标的异常检测场景，提供多种专属的聚类和异常检测智能算法，并支持数据接入后自动选择和训练检测。用户也可以根据对比效果，手动进行参数调整并挑选最合适的模型来投入在线运用。
+
image::images/lynxee-kpi-testing.png[]