3 ln(4/δ)
mq(1 − q)
·
q(1 − q)
1 − q(1 − q)
(cid:115)
(cid:115)
(cid:114) 5
3 ln(4/δ)
mq(1 − q)
·
· 1
3
· eε − 1
11
eε + 1
 max(cid:0) 1024
ln 4
ε2
b. For any (cid:126)x ∈ X n
d , PFLIP((cid:126)x) reports a vector (cid:126)z such that the
maximum error (cid:107)(cid:126)z − hist((cid:126)x)(cid:107)∞ is less than
(cid:32)
(cid:18)
(cid:19)1/4√
max
√
24
n3/4
ε
ln
4
δ
ln 20d,
6
n
ln 20d
(cid:33)
with 90% probability.
We ﬁrst restate the ampliﬁcation lemma from [15] using our
notation.
Lemma C.2. Fix any δ ∈ (0, 1), n ∈ N, and εL ≤
ln(n/16 ln(2/δ)). If R : X → Y is εL-differentially private
then (S ◦ Rn) is (εS, δ)-differentially private, where
(cid:32)(cid:114)
εS = 8 · eεL − 1
eεL + 1
·
eεL ln(4/δ)
n
+
eεL
n
(cid:33)
.
(cid:33)
This lemma implies the following: when εS is sufﬁciently
small, there is always some choice of privacy parameter εL for
R and some threshold for n above which the shufﬂe protocol
is (εS, δ)-shufﬂe private. More precisely,
Corollary C.3. Fix any εS ≤ 4 and δ ∈ (0, 1). If n >
ln(4/δ) and R : X → Y is εL-differentially private
for εL ≤ ln(ε2
Sn/256 ln(4/δ)), then (S ◦ Rn) is (εS, δ)-
differentially private.
256
ε2
S
Proof. Because εS is sufﬁciently small, εL satisﬁes the con-
dition under which Lemma C.2 holds: (S ◦ Rn) is (ε, δ)-
differentially private, where
(cid:32)(cid:114)
·
eεL + 1
ε = 8 · eεL − 1
(cid:32)(cid:114)
(cid:18) εS
≤ 8 ·
eεL ln(4/δ)
n
ε2
S
eεL ln(4/δ)
+
eεL
n
(cid:33)
n
eεL
n
(cid:19)
+
≤ 8 ·
εS
=
2
≤ εS
+
·
16
εS
2
+
256 ln(4/δ)
εS
16 ln(4/δ)
(Bound on εL)
The ﬁnal inequality follows from our bound on εS.
Next, we choose q to ensure PFLIP satisﬁes εL-local privacy:
Claim C.4. For any εL > 0, if k ← 0 and q ← 1/(eεL/2 + 1)
then the randomizer RFLIP is εL-differentially private.
Theorem C.1 follows from Corollary C.3, Corollary III.5,
and Claim C.4.
Proof of Theorem C.1. We choose εL ← ln(ε2n/256 ln(4/δ))
and q ← max(1/(eεL/2 + 1), 1
n ln 20d). By substitution, we
Authorized licensed use limited to: Tsinghua University. Downloaded on August 07,2022 at 12:25:20 UTC from IEEE Xplore.  Restrictions apply. 
456
have that the following holds with probability 9/10:
n
1
n
(cid:19)
· q ln 20d ·
(cid:18) 1
1 − 2q
1
(cid:114) 1
(cid:107)PFLIP((cid:126)x) − hist((cid:126)x)(cid:107)∞
(cid:115)
(cid:118)(cid:117)(cid:117)(cid:116) 1
(cid:32)
16(cid:112)ln(4/δ)
(cid:19)1/4√
(cid:18)
(cid:18)
(cid:32)
eεL/2 + 1
· max
· max
√
1
n
ε
n
n
,
 0)
1 − 2q
(cid:18) 1
(cid:19)
(cid:18) 1
(cid:18) 1
(cid:33)
1 − 2q
·
(cid:19)
(cid:19)
ln 20d ·
(cid:33)
2
n
√
8
n3/4
4
δ
ε
ln
= max
1 − 2q
Given that n is sufﬁciently large, we conclude q < 1/3. The
Theorem follows by substitution.
ln 20d,
ln 20d
Authorized licensed use limited to: Tsinghua University. Downloaded on August 07,2022 at 12:25:20 UTC from IEEE Xplore.  Restrictions apply. 
457