tributed to the implementation of DNAv4 [4] in iOS and
Mac OS X [6, 13]. DNAv4 optimizes the re-attachment to
2We use the acknowledged requests so that we do not ac-
count for messages generated by DHCP relays.
)
x
(
F
)
x
(
F
)
x
(
F
)
x
(
F
1
0.8
0.6
0.4
0.2
0
100
1
0.8
0.6
0.4
0.2
0
100
1
0.8
0.6
0.4
0.2
0
100
1
0.8
0.6
0.4
0.2
0
100
All States (Corporate)
101
102
(a−1) # of DHCP Requests per Device
Select State (Corporate)
101
102
(b−1) # of DHCP Requests per Device
Init−Boot State (Corporate)
101
102
(c−1) # of DHCP Requests per Device
Renew or Rebinding State (Corporate)
101
102
(d−1) # of DHCP Requests per Device
103
103
103
103
iOS
Android
BlackBerry
Windows
Mac OS X
)
x
(
F
1
0.8
0.6
0.4
0.2
0
100
iOS
Android
BlackBerry
Windows
Mac OS X
)
x
(
F
1
0.8
0.6
0.4
0.2
0
100
iOS
Android
BlackBerry
Windows
Mac OS X
)
x
(
F
1
0.8
0.6
0.4
0.2
0
100
)
x
(
F
iOS
Android
BlackBerry
Windows
Mac OS X
1
0.8
0.6
0.4
0.2
0
100
All States (Educational)
101
102
(a−2) # of DHCP Requests per Device
Select State (Educational)
101
102
(b−2) # of DHCP Requests per Device
Init−Boot State (Educational)
101
102
(c−2) # of DHCP Requests per Device
Renew or Rebinding State (Educational)
101
102
(d−2) # of DHCP Requests per Device
103
103
103
103
Figure 1: CDF of the number DHCP Request messages
in the Corporate and Educational network
a previously connected network by attempting to reuse a
previous but still valid conﬁguration, by reducing the num-
ber of DHCP exchange messages and by using unicast ARP
requests3.
Finally, in Figure 2, we plot the interarrival time of the
DHCP request messages. The ﬁrst graph corresponds to the
educational network, and the second two to the corporate
network (with leases of one hour and twelve hours respec-
tively). We also indicate with a dotted vertical line the time
corresponding to half of the lease time. This is the time at
which a DHCP client requests a lease extension. In the edu-
cational network, we observe that the majority of the request
messages are generated at half of the lease time, indicating
that they are renewal requests. In the corporate network,
where the lease times are larger, the devices generate far
fewer requests for renewing an IP address.
3.3 Network Access Patterns
Proper setting of DHCP lease times depends on the amount
of time devices stay active in the network, i.e., the amount
of time they send or receive data4. For a particular host, as
identiﬁed by its MAC address, we deﬁne the following:
• Active Time: The time period, starting at the initial
DHCP lease oﬀer, up to the time a Release message
has been issued5 or the last time that any packet was
generated, before the next lease oﬀer.
3In our trace we observed unicast ARP requests associated
with DHCP init-reboot requests coming from Apple devices.
4Note that the active time does not depend on the conﬁgu-
ration of lease times.
5In both traces a release message is issued in < 0.1% of
the leases, with an exception in Windows laptops of the
corporate environment which is issued in 6.8% of the leases.
367)
x
(
F
)
x
(
F
1
0.8
0.6
0.4
0.2
0
100
1
0.8
0.6
0.4
0.2
0
100
1
0.8
0.6
0.4
0.2
)
x
(
F
0
100
CDF − Subnet #1 − Lease Time 3600
1800
101
102
103
(a) Interrival Time of Request  messages per Device
CDF − Subnet #2 − Lease Time 7200
104
105
3600
101
102
103
(b) Interrival Time of Request  messages per Device
CDF − Subnet #3 − Lease Time 43200
104
105
101
102
103
(c) Interrival Time of Request messages per Device
104
105
21600
iOS
Android
BlackBerry
Windows
MAC
106
iOS
Android
BlackBerry
Windows
MAC
106
iOS
Android
BlackBerry
Windows
MAC
106
Figure 2: CDF of the interrival time of Request messages
with diﬀerent Lease Time setting
Active  time
UDP
TCP
Inactive  time
TCP
TCP
t
DHCPREQUEST
(Init-Reboot/Select)
DHCPREQUEST
(Renew)
DHCPRELEASE
DHCPREQUEST
(Init-Reboot/Select)
Active  time
UDP
TCP
L
a
s
t
B
y
t
e
TCP
TCP
DHCPREQUEST
(Init-Reboot/Select)
DHCPREQUEST
(Renew)
Inactive  time
t
DHCPREQUEST
(Init-Reboot/Select)
Figure 3: Calculating Active and Inactive times.
• Inactive Time: The time period between the end of
an active period and the beginning of the next active
period.
Active time starts when a device receives a DHCP ac-
knowledgement message as a response to a DHCP request
message. From the request messages, we exclude those gen-
erated when the client is either in the renewing or the re-
binding state, as their purpose is to update the lease du-
ration. However, we include the ones from the init-reboot
state, where the objective is to reconﬁgure the leases. An
illustration of active and inactive times is depicted in Fig-
ure 3.
Figure 4 shows active and inactive times for the diﬀerent
types of devices. We observe that smartphone active times
are much smaller compared to laptop active times. We also
see that active times for iOS devices are smaller than the
active times of other smartphones. This happens due to a
combination of reasons related to: i) the way users use lap-
tops and smartphones, and ii) the diﬀerent policies related
to energy management between laptops and smartphones.
User behaviour is diﬃcult to analyze without having direct
access on the devices, but we can clearly understand the ef-
fects of diﬀerent energy management policies on the active
)
x
(
F
)
x
(
F
1
0.8
0.6
0.4
0.2
0
100
1
0.8
0.6
0.4
0.2
0
100
Active Time (Corporate)
iOS
Android
BlackBerry
Windows
Mac OS X
)
x
(
F
1
0.8
0.6
0.4
0.2
102
Time (sec)
104
Inactive Time (Corporate)
106
)
x
(
F
iOS
Android
BlackBerry
Windows
Mac OS X
102
Time (sec)
104
106
0
100
1
0.8
0.6
0.4
0.2
0
100
Active Time (Educational)
102
Time (sec)
104
Inactive Time (Educational)
iOS
Android
BlackBerry
Windows
Mac OS X
106
iOS
Android
BlackBerry
Windows
Mac OS X
102
Time (sec)
104
106
Figure 4: CDFs of Active and Inactive durations.
and inactive times. For laptops the policy has been to keep
the wireless interfaces always active, while for cellphones the
interface can switch oﬀ after some period of inactivity. In
iOS devices, if the device is not plugged in to power and
the device display is switched oﬀ, the Wi-Fi interface is also
switched oﬀ and the cellular network becomes the primary
interface. On the other hand, in Android devices the user is
allowed to conﬁgure the WiFi sleep policy6, although there
is not a unique default policy.
Finally, it is interesting to point out that in the educa-
tional network there are a large number of smartphone de-
vices, especially iOS devices, that have an active time of one
minute or less. We attribute this to the fact that when users
roam from one part of the campus to another, their devices
associate with some subnets for only a brief period of time7.
4. DHCP LEASE POLICIES
Ideally, a DHCP lease allocation policy should account
for the diﬀerences in behavior of the various mobile devices.
The goals of this policy should be to minimize the following,
in decreasing priority:
• Address space utilization: The policy should use as
little of the available address space as possible, in order
to support the most concurrent users.
• Broadcast traﬃc: The policy should cause as few broad-
casts as necessary, since broadcasts wake idle clients
and consume power.
• Server load : The policy should minimize the load on
the DHCP server, to reduce the related capex and opex