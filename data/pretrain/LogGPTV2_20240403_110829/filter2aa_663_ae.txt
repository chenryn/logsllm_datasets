### 网络共享资源和用户信息获取

#### 共享资源映射
- `//192.168.0.100/print$`：映射失败，无法列出。
- `//192.168.0.100/share$`：映射成功，可以列出内容。
- `//192.168.0.100/IPC$`：响应解析失败，提示“syslog”选项已弃用。

#### 密码策略信息
目标IP: 192.168.0.100
- **域**: 
  - LAZYSYSADMIN
  - Builtin
- **密码策略**:
  - 最小密码长度: 5
  - 密码历史长度: 无
  - 最大密码使用期限: 未设置
  - 密码复杂性要求: 禁用
  - 最小密码使用期限: 无
  - 账户锁定计数器重置时间: 30分钟
  - 锁定账户持续时间: 30分钟
  - 账户锁定阈值: 无
  - 强制注销时间: 未设置

#### 组和用户信息
- **组信息**:
  - 内置组: 获取成功
  - 本地组: 获取成功
  - 域组: 获取成功
- **用户信息** (通过RID循环, RIDS: 500-550, 1000-1050):
  - SID: S-1-22-1
  - SID: S-1-5-21-2952042175-1524911573-1237092750
  - SID: S-1-5-32
  - 用户枚举结果:
    - S-1-5-32-500 *未知* (8)
    - S-1-5-32-544 BUILTIN\Administrators (本地组)
    - S-1-5-32-545 BUILTIN\Users (本地组)
    - S-1-5-32-546 BUILTIN\Guests (本地组)
    - S-1-5-32-547 BUILTIN\Power Users (本地组)
    - S-1-5-32-548 BUILTIN\Account Operators (本地组)
    - S-1-5-32-549 BUILTIN\Server Operators (本地组)
    - S-1-5-32-550 BUILTIN\Print Operators (本地组)
    - S-1-5-32-1000 *未知* (8)
    - S-1-5-32-1001 *未知* (8)
    - S-1-22-1-1000 Unix User\togie (本地用户)
    - S-1-5-21-2952042175-1524911573-1237092750-500 *未知* (8)
    - S-1-5-21-2952042175-1524911573-1237092750-501 LAZYSYSADMIN\nobody (本地用户)
    - S-1-5-21-2952042175-1524911573-1237092750-512 *未知* (8)
    - S-1-5-21-2952042175-1524911573-1237092750-513 LAZYSYSADMIN\None (域组)
    - S-1-5-21-2952042175-1524911573-1237092750-514 *未知* (8)

#### 打印机信息
- 没有找到打印机。

#### 文件访问
- 发现两个关键文件: `deets.txt` 和 `wp-config.php`
- 使用MySQL账号密码登录phpMyAdmin，但无法查看任何表项。
- 发现密码为12345，并且在WordPress页面中看到用户名为togie。尝试使用togie/12345登录SSH成功。
- 切换到root权限后，读取了`/root/proof.txt`文件，完成了游戏。

#### 提权方法
- 如果togie没有root权限，可以通过其他方式提权。
- 使用CVE-2017-1000112提权，但由于目标机上没有gcc，可以在本地编译好提权exp后，在目标机器上运行。

### 渗透测试案例

#### 靶机信息
- **下载链接**:
  - [Freshly.ova](https://download.vulnhub.com/tophatsec/Freshly.ova)
- **运行环境**:
  - VirtualBox
- **系统信息**:
  - 内核版本: 4.4.0-31-generic
  - 发行版: Ubuntu 14.04.5 LTS

#### 渗透思路
1. **服务发现**:
   - 端口扫描: nmap -sS -Pn -T4 -p- 10.10.10.132
   - 发现开放端口: 80 (HTTP)
2. **详细扫描**:
   - nmap -A -O -p80 10.10.10.132
   - 发现 robots.txt 文件
3. **目录枚举**:
   - dirb http://10.10.10.132/
   - 发现图片目录并分析图片中的提示
4. **Web应用安全检测**:
   - 使用nikto对80端口进行目录扫描
   - 发现phpMyAdmin和login.php
   - 使用sqlmap进行SQL注入检测
   - 查看数据库并找到WordPress的用户名和密码
5. **获取Shell**:
   - 修改WordPress后台语言为中文
   - 通过编辑404页面插入shell代码
   - 本地监听并反弹shell
   - 查看passwd文件

#### FristiLeaks v1.3靶机
- **下载链接**:
  - [FristiLeaks_1.3.ova](https://download.vulnhub.com/fristileaks/FristiLeaks_1.3.ova)
- **运行环境**:
  - VirtualBox 或 VMware Workstation Player
- **设置**:
  - 设置VMware虚拟机的MAC地址为08:00:27:A5:A6:76
- **主机发现**:
  - netdiscover -r 10.10.10.0/24
  - 发现目标主机在10.10.10.132
- **服务发现**:
  - nmap -sS -Pn -T4 -p- 10.10.10.132
  - 发现开放端口: 80 (HTTP)
- **详细扫描**:
  - nmap -A -O -p80 10.10.10.132
  - 查看robots.txt文件
  - 枚举目录: dirb http://10.10.10.132/
  - 发现图片目录并分析图片中的提示
  - 查看源代码中的注释信息

通过这些步骤，可以逐步渗透进入目标主机并获取敏感信息。