---
author: ''
category: 技术
comments_data:
- date: '2020-08-03 10:23:04'
  message: top命令不是1分钟 、5分钟、15分钟吗？
  postip: 114.255.108.162
  username: 来自北京的 Chrome 84.0|Mac 10.15 用户
count:
  commentnum: 1
  favtimes: 12
  likes: 3
  sharetimes: 0
  viewnum: 48006
date: '2013-12-08 11:02:00'
editorchoice: false
excerpt: Linux中的top命令显示系统上正在运行的进程。它是系统管理员最重要的工具之一。被广泛用于监视服务器的负载。在本篇中，我们会探索top命令的细节。top命令是一个交互命令。在运行top的时候还可以运行很多命令。我们  ...
fromurl: ''
id: 2352
islctt: true
largepic: /data/attachment/album/201312/08/1059303wxpx1auj5xwww11.png
permalink: /article-2352-1.html
pic: /data/attachment/album/201312/08/1059303wxpx1auj5xwww11.png.thumb.jpg
related: []
reviewer: ''
selector: ''
summary: Linux中的top命令显示系统上正在运行的进程。它是系统管理员最重要的工具之一。被广泛用于监视服务器的负载。在本篇中，我们会探索top命令的细节。top命令是一个交互命令。在运行top的时候还可以运行很多命令。我们  ...
tags:
- Linux
- Top
- 命令
- 教程
- 技巧
- 实例
thumb: false
title: 30个实例详解TOP命令
titlepic: false
translator: geekpi
updated: '2013-12-08 11:02:00'
---
Linux中的top命令显示系统上正在运行的进程。它是系统管理员最重要的工具之一。被广泛用于监视服务器的负载。在本篇中，我们会探索top命令的细节。top命令是一个交互命令。在运行top的时候还可以运行很多命令。我们也会探索这些命令。
（译注：不同发行版的top命令在各种细节有不同，如果发现不同时，请读你的帮助手册和命令内的帮助。）
1. Top 命令输出:
------------
首先，让我们了解一下输出。top命令会显示系统的很多信息。我们需要理解不同部分输出的意义：默认运行时，top命令会显示如下输出：
![默认显示](/data/attachment/album/201312/08/1059303wxpx1auj5xwww11.png)
前几行水平显示了不同系统参数的概括，接下来是进程和它们在列中的属性。
### 1.1 系统运行时间和平均负载：
![显示运行时间](/data/attachment/album/201312/08/1059317q7vsg9cbyqqb7po.png)
top命令的顶部显示与uptime命令相似的输出。
这些字段显示：
* 当前时间
* 系统已运行的时间
* 当前登录用户的数量
* 相应最近5、10和15分钟内的平均负载。
可以使用'l'命令切换uptime的显示。
### 1.2 任务:
![任务概况](/data/attachment/album/201312/08/105931xoaldfxol7v1kpaf.png)
第二行显示的是任务或者进程的总结。进程可以处于不同的状态。这里显示了全部进程的数量。除此之外，还有正在运行、睡眠、停止、僵尸进程的数量（僵尸是一种进程的状态）。这些进程概括信息可以用't'切换显示。
### 1.3 CPU 状态:
![CPU状态显示](/data/attachment/album/201312/08/105932tdjqyrrwzlpyisni.png)
下一行显示的是CPU状态。 这里显示了不同模式下的所占CPU时间的百分比。这些不同的CPU时间表示:
* us, user： 运行(未调整优先级的) 用户进程的CPU时间
* sy，system: 运行内核进程的CPU时间
* ni，niced：运行已调整优先级的用户进程的CPU时间
* wa，IO wait: 用于等待IO完成的CPU时间
* hi：处理硬件中断的CPU时间
* si: 处理软件中断的CPU时间
* st：这个虚拟机被hypervisor偷去的CPU时间（译注：如果当前处于一个hypervisor下的vm，实际上hypervisor也是要消耗一部分CPU处理时间的）。
可以使用't'命令切换显示。
### 1.4 内存使用:
![内存使用情况](/data/attachment/album/201312/08/105933i53bi3a3ioocff3c.png)
接下来两行显示内存使用率，有点像'free'命令。第一行是物理内存使用，第二行是虚拟内存使用(交换空间)。
物理内存显示如下:全部可用内存、已使用内存、空闲内存、缓冲内存。相似地：交换部分显示的是：全部、已使用、空闲和缓冲交换空间。
内存显示可以用'm'命令切换。
### 1.5 字段/列:
![任务信息列](/data/attachment/album/201312/08/105935j73jls2nzljjz267.png)
在横向列出的系统属性和状态下面，是以列显示的进程。不同的列代表下面要解释的不同属性。
默认上，top显示这些关于进程的属性：
**PID**
进程ID，进程的唯一标识符
**USER**
进程所有者的实际用户名。
**PR**
进程的调度优先级。这个字段的一些值是'rt'。这意味这这些进程运行在实时态。
**NI**
进程的nice值（优先级）。越小的值意味着越高的优先级。
**VIRT**
进程使用的虚拟内存。
**RES**
驻留内存大小。驻留内存是任务使用的非交换物理内存大小。
**SHR**
SHR是进程使用的共享内存。
**S**
这个是进程的状态。它有以下不同的值:
* D - 不可中断的睡眠态。
* R – 运行态
* S – 睡眠态
* T – 被跟踪或已停止
* Z – 僵尸态
**%CPU**
自从上一次更新时到现在任务所使用的CPU时间百分比。
**%MEM**
进程使用的可用物理内存百分比。
**TIME+**
任务启动后到现在所使用的全部CPU时间，精确到百分之一秒。
**COMMAND**
运行进程所使用的命令。
还有许多在默认情况下不会显示的输出，它们可以显示进程的页错误、有效组和组ID和其他更多的信息。
2. 交互命令:
--------
我们之前说过top是一个交互命令。上一节我们已经遇到了一些命令。这里我们会探索更多的命令。
### 2.1 ‘h’: 帮助
首先，我们可以用'h'或者'?'显示交互命令的帮助菜单。
![帮助菜单](/data/attachment/album/201312/08/105936cj7jkz3ykf7zvmdk.png)
### 2.2 ‘’ 或者 ‘’: 刷新显示
top命令默认在一个特定间隔(3秒)后刷新显示。要手动刷新，用户可以输入回车或者空格。
### 2.3 ‘A’: 切换交替显示模式
这个命令在全屏和交替模式间切换。在交替模式下会显示4个窗口（译注：分别关注不同的字段）:
1. Def （默认字段组）
2. Job （任务字段组）
3. Mem （内存字段组）
4. Usr （用户字段组）
这四组字段共有一个独立的可配置的概括区域和它自己的可配置任务区域。4个窗口中只有一个窗口是当前窗口。当前窗口的名称显示在左上方。（译注：只有当前窗口才会接受你键盘交互命令）
![交替显示](/data/attachment/album/201312/08/105938dabl2ra2bl0arjiw.png)