 2.4
 2.2
 2
 1.8
 1.6
 1.4
 1.2
 1
 0
 5
 10
 15
 20
 25
 30
 35
 40
Threads
(c) ML-Large.
Fig. 8: Impact of dynamicity in X-REC.
(b) FilmTrust
l
)
e
a
c
S
c
m
h
i
t
i
r
a
g
o
L
(
s
m
n
i
e
m
T
i
108
107
106
105
104
103
102
101
100
108
107
106
105
104
103
102
101
100
Fig. 9: End-user latency comparison with non-private (NX-
REC) [27] as well as fully private (FHE) [5] systems.
X-REC
J-REC
(a) Bit Security
106
104
102
l
)
e
a
c
s
c
m
h
i
t
i
r
a
g
o
L
(
y
t
i
r
u
c
e
S
t
i
B
100
EX
MITM BKW
Schemes
l
)
e
a
c
s
c
m
h
i
t
i
r
a
g
o
L
(
e
m
i
t
n
u
R
r
e
k
c
a
t
t
A
102
101
100
(b) Attacker Runtime
BDD
Schemes
Fig. 10: Security comparison with J-REC.
VII. RELATED WORK
Server-based recommenders. Most server-based privacy-
aware recommenders allow third parties other than users
themselves to access rating proﬁles [16], [17], [35], [38]–
[40]. They use a strong assumption that these third parties are
not curious, which is a major system-level privacy concern.
These third parties provide middleware services either as an
intermediary agent between the recommender and users (in
Alambic [17]) or as a super-peer aggregating plaintext data
among users [35]. User preferences can be exposed in plaintext
to these parties (e.g. the broker in Privad [38], the ad-network
and advertisers in Adnostic [16], and a secure co-processor in
Obliviad [39]). In Ptwitterrec [40], a tweet recommender, the
server could learn a user’s proximity to the publisher of some
tweet.
Privacy-preserving server-based recommenders rely on cer-
tain computations performed by users to recommend items
[11], [13], [24]. These user-dependent computations impact
latency: a user needs to wait for other users to be logged-in
and the communication could be unreliable. In addition, quality
is impacted if the server does not wait for a sufﬁcient number
of similarity computations with other users. In the friend-
based recommender J-REC [24], the server requires at least
one friend to be online for the similarity computation between
two friends. Nikolaenko’s garbled-circuits-based solution [13]
requires circuits to be built collaboratively by all users. On the
contrary, X-REC allows users to be logged-in at any time and
eludes this possible delay.
Serverless recommenders. These approaches rely on other
users to recommend items. Canny suggested ratings encrypted
under an unknown secret-shared master key, which requires
joint decryption of the personalized recommendations [9].
Hoens et al.’s approach predicts ratings by combining friends’
encrypted ratings using joint multiplication and division [10].
Such joint operations require the participation of all users and
induce a latency overhead which does not occur in X-REC.
Encryption schemes. The closest encryption scheme to our
implementation of X-HE is Zhou et al.’s homomorphic en-
cryption scheme (denoted by Z) with key-switching tech-
niques [41]. However, Z does not support negation and com-
parison operations, and hence does not suit recommenders
as our X-HE. Additionally, Z is not semantically secure
[30] (while our X-HE is), and therefore does not provide
system-level privacy. The encryption schemes considered in
encrypted databases [42], [43] do not perform computation
over different users’ data. In addition, although CRYPTDB
[42] and SCONEDB [43] provide comparison schemes, neither
scheme ﬁts our privacy goal: while CRYPTDB reveals to users
the two numbers in comparison (violating user-level privacy),
SCONEDB reveals the two numbers to the servers (violating
system-level privacy).
Randomization and differential privacy. Polat et. al relies on
449
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 13:37:11 UTC from IEEE Xplore.  Restrictions apply. 
randomized perturbation techniques [44] to preserve user-level
privacy. However, such techniques do not preserve privacy as
expected [45]. To formally express privacy guarantees, (ap-
proximate) differential privacy [15] was proposed, originally
in the context of databases. X-REC guarantees approximate
differential privacy, applied to user proﬁles in a recommender
where users do not revisit their past ratings (and thus our notion
of user-level privacy does not consider updating/removing
ratings). McSherry et al.’s recommender adds noise to the
item covariance matrix [14] whereas D2P [46] leverages a
technique which probabilistically replaces items with similar
ones. However, both approaches are implemented based on the
knowledge of user proﬁles. The actual user preferences are thus
revealed to the service provider as well as the users colluding
with the service provider, violating system-level privacy. X-
REC guarantees approximate differential privacy by leveraging
the encrypted proﬁles of uniformly sampled users.
VIII. CONCLUDING REMARKS
We present X-REC, a novel recommender that enables the
protection of the proﬁle of a user against the service provider
(system-level privacy) as well as other users (user-level pri-
vacy). X-REC induces small latency while providing good
recommendation quality. X-REC does so without restricting
the ability of users to log-in/log-out at any time (dynamicity).
Moreover, X-REC also leverages the uniform sampling of users
to guard against curious users and ensure differential privacy.
REFERENCES
[1] X. Su and T. M. Khoshgoftaar, “A survey of collaborative ﬁltering
techniques,” in AAI’09, pp. 1–19.
[2] C. Sabottke, O. Suciu, and T. Dumitras, “Vulnerability disclosure in
the age of social media: exploiting twitter for predicting real-world
exploits,” in USENIX Security’15, pp. 1041–1056.
[3] N. Ramakrishnan, B. J. Keller, B. J. Mirza, A. Y. Grama, and
G. Karypis, “Privacy risks in recommender systems,” in IC’01, pp. 54–
62.
[4] C. Gentry, “A fully homomorphic encryption scheme,” Ph.D. disserta-
tion, Stanford University, 2009.
[5] K. Rohloff and D. B. Cousins, “A Scalable Implementation of Fully
Homomorphic Encryption Built on NTRU,” in FC’ 14, pp. 221–234.
[6] MovieLens dataset, 2003, http://grouplens.org/datasets/movielens/.
[7] G. Guo, J. Zhang, and N. Yorke-Smith, “A novel bayesian similarity
measure for recommender systems,” in IJCAI’13, pp. 2619–2625.
[8] M. Bellare, A. Desai, E. Jokipii, and P. Rogaway, “A concrete security
treatment of symmetric encryption,” in FOCS’97, pp. 394–403.
J. Canny, “Collaborative ﬁltering with privacy,” in SP’02, pp. 45–57.
[9]
[10] T. R. Hoens, M. Blanton, and N. V. Chawla, “A private and reliable
recommendation system for social networks,” in SOCIALCOM’10, pp.
816–825.
[11] Z. Erkin, M. Beye, T. Veugen, and R. L. Lagendijk, “Efﬁciently
computing private recommendations,” in ICASSP’11, pp. 5864–5867.
[12] A. Ben-David, N. Nisan, and B. Pinkas, “Fairplaymp: A system for
secure multi-party computation,” in CCS ’08, pp. 257–266.
[13] V. Nikolaenko, S. Ioannidis, U. Weinsberg, M. Joye, N. Taft, and
D. Boneh, “Privacy-preserving matrix factorization,” in CCS ’13, 2013,
pp. 801–812.
[14] F. McSherry and I. Mironov, “Differentially private recommender
systems: Building privacy into the net,” in SIGKDD’09, pp. 627–636.
[15] C. Dwork, “A ﬁrm foundation for private data analysis,” in CACM’11,
pp. 86–95.
[16] S. Guha, B. Cheng, and P. Francis, “Privad: Practical privacy in online
advertising,” in NSDI’11, pp. 169–182.
450
[17] E. Aimeur, G. Brassard, J. M. Fernandez, and F. S. M. Onana, “Alambic:
a privacy-preserving recommender system for electronic commerce,” in
IJISEC’08, pp. 307–334.
[18] M. Van Dijk and A. Juels, “On the impossibility of cryptography alone
for privacy-preserving cloud computing.” in HotSec’10, pp. 1–8.
“X-Rec Technical Report and Demo,” https://rpatra.github.io/x-rec/.
[19]
[20] G. Linden, B. Smith, and J. York, “Amazon. com recommendations:
Item-to-item collaborative ﬁltering,” in IC’03, pp. 76–80.
“FUNKSVD,” http://lenskit.org/documentation/algorithms/svd/.
[21]
[22] Y. Koren, “Factorization meets the neighborhood: a multifaceted col-
laborative ﬁltering model,” in SIGKDD’08, pp. 426–434.
[23] D. Lemire and A. Maclachlan, “Slope one predictors for online rating-
based collaborative ﬁltering,” in SDM’05, pp. 1–5.
[26]
[24] A. Jeckmans, A. Peter, and P. Hartel, “Efﬁcient privacy-enhanced
familiarity-based recommender system,” in ESORICS’13, pp. 400–417.
[25] B. Sarwar, G. Karypis, J. Konstan, and J. Riedl, “Item-based collabora-
tive ﬁltering recommendation algorithms,” in WWW’01, pp. 285–295.
J. A. Calandrino, A. Kilzer, A. Narayanan, E. W. Felten, and
V. Shmatikov, “You might also like: Privacy risks of collaborative
ﬁltering,” in SP’11, pp. 231–246.
J. Herlocker, J. A. Konstan, and J. Riedl, “An empirical analysis of de-
sign choices in neighborhood-based collaborative ﬁltering algorithms,”
Information retrieval, vol. 5, no. 4, pp. 287–310, 2002.
[27]
[28] X. Amatriain, “Big & personal: data and models behind netﬂix recom-
mendations,” in BigMine’13, pp. 1–6.
[29] R. Canetti, “Security and composition of multiparty cryptographic
protocols,” Journal of Cryptology, vol. 13, no. 1, pp. 143–202, 2000.
Cambridge university
[30] O. Goldreich, Foundations of Cryptography.
press, 2004.
[31] O. Regev, “On lattices, learning with errors, random linear codes, and
cryptography,” in JACM’09, p. 34.
[32] R. Lindner and C. Peikert, “Better key sizes (and attacks) for lwe-based
encryption,” in CT-RSA ’11, pp. 319–339.
[33] M. R. Albrecht, R. Player, and S. Scott, “On the concrete hardness of
learning with errors,” in Cryptology ePrint Archive’15, pp. 169–203.
[34] M. Albrecht, C. Cid, J.-C. Faugre, R. Fitzpatrick, and L. Perret, “On
the complexity of the bkw algorithm on lwe,” Designs, Codes and
Cryptography, vol. 74, no. 2, pp. 325–354, 2015.
[35] A. M. Elmisery and D. Botvich, “Enhanced middleware for collabora-
tive privacy in IPTV recommender services,” in JoC’11, pp. 33–42.
[36] S. K. L. Al Mamunur Rashid, G. Karypis, and J. Riedl, “Clustknn:
a highly scalable hybrid model-& memory-based cf algorithm,” in
WebKDD’06, pp. 147–166.
[37] A. K. Lenstra, “Key lengths,” in The Handbook of Information Security,
2004.
[38] V. Toubiana, A. Narayanan, D. Boneh, H. Nissenbaum, and S. Barocas,
“Adnostic: Privacy Preserving Targeted Advertising.” in NDSS’10.
[39] M. Backes, A. Kate, M. Maffei, and K. Pecina, “Obliviad: Provably
secure and practical online behavioral advertising,” in S&P ’12, pp.
257–271.
[40] B. Liu and U. Hengartner, “ptwitterrec: A privacy-preserving personal-
ized tweet recommendation framework,” in ASIA CCS ’14, pp. 365–376.
[41] H. Zhou and G. Wornell, “Efﬁcient homomorphic encryption on integer
vectors and its applications,” in ITA’14, pp. 1–9.
[42] R. A. Popa, C. Redﬁeld, N. Zeldovich, and H. Balakrishnan, “CryptDB:
Processing queries on an encrypted database,” in CACM’12, pp. 103–
111.
[43] W. K. Wong, D. W.-l. Cheung, B. Kao, and N. Mamoulis, “Secure knn
computation on encrypted databases,” in SIGMOD ’09, pp. 139–152.
[44] H. Polat and W. Du, “Privacy-preserving collaborative ﬁltering using
randomized perturbation techniques,” in ICDM ’03, pp. 625–628.
[45] S. Zhang, J. Ford, and F. Makedon, “Deriving private information from
randomly perturbed ratings.” in SIAM’06, pp. 59–69.
[46] R. Guerraoui, A.-M. Kermarrec, R. Patra, and M. Taziki, “D 2 p:
distance-based differential privacy in recommenders,” in VLDB ’15, pp.
862–873.
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 13:37:11 UTC from IEEE Xplore.  Restrictions apply.