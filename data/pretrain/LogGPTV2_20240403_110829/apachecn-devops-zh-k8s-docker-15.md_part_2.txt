# 第八章
1.  正确答案:(一)假。RBAC 是授权资源的首选方法。
2.  正确答案:(三)apiGroups，resources，动词。
3.  正确答案:(A) Kubernetes API 引用。这是一个非常有价值的工具，可以列出应用编程接口的每个网址。这可用于确定资源。
4.  正确答案:(B)定义一个集群角色，并在每个命名空间中将其引用为角色绑定。这样，每当引用集群角色时，对集群角色的更改都会得到反映。
5.  正确答案:(D)只要有可能，角色绑定和集群角色绑定应该引用组。直接引用用户是一种反模式，很难维护、审计和调试。
6.  正确答案:(二)假。RBAC 要求列举所有权利。
7.  正确答案:(二)假。还提供定制授权网络挂钩。
# 第九章
1.  正确答案:(一)假。仪表板和整个章节保持一致并不是天生不安全的；如何部署很重要。
2.  正确答案:(A)无认证，令牌，从反向代理注入。仪表板无法收集用户名、密码或第二因素。
3.  正确答案:(D)如果一个令牌被上传，它会被加密并作为 cookie 存储在浏览器中。仪表板不会在任何后端保存会话。
4.  正确答案:(D)以上都不是。仪表板不知道如何刷新令牌。
5.  正确答案:(四)反向代理背后。使用反向代理来管理登录过程、控制会话和添加多因素认证。
6.  正确答案:(二)假。仪表板的 2.0+版本支持模拟。
7.  正确答案:(二)假。如果配置正确，任何反向代理都可以。
# 第十章
1.  正确答案:(一)假。容器是一个进程，而不是虚拟机。
2.  正确答案:(B)如果标记为特权，则为是。特权容器可以像特权进程一样访问主机的资源。
3.  正确答案:(三)两者都有。攻击者会将多个漏洞串在一起，以获得对目标的访问权限。
4.  正确答案:(二)通过比较 Pod 的请求能力和通过 Pod 的创建者和它自己的`ServiceAccount`联盟授权的策略。无法显式设置策略。
5.  正确答案:(A)一个准入控制器，在创建时和更新时检查所有 Pods。策略执行不是由`PodSecurityPolicy` API 处理的，只是策略的定义。
6.  正确答案:(二)假。从确定替换、实现替换，到折旧过程，需要几年的时间。
7.  正确答案:(二)假。您不会在服务器上以 root 身份运行进程，所以不要在容器中运行。
# 第十一章
1.  正确答案:(二)假。gateway 是最初由微软在 OPA 之上构建的工具，但它们不是一回事。
2.  正确答案:(D)减压阀保存为`ConstraintTemplate`，是`GateKeeper`项目定义的`CustomResourceDefenition`。
3.  正确答案:(二)使用直接内置在 OPA 中的自动化框架。OPA 的自动化测试框架提供了一种在部署到 gateway 之前对减压阀进行预验证的强大方法。
4.  正确答案:(A)你不需要，因为减压阀会确定迭代步骤。在减压阀使用循环时，使用下划线来解析所有值，或者使用占位符(如 I 或 j)来解析数组索引。减压阀将通过迭代数组来填充计数器。
5.  正确答案:(C)在代码中添加跟踪函数，用`-v`运行`opa test`命令查看执行轨迹。`opa`会告诉你问题在哪里。使用其内置工具。
6.  正确答案:(二)假。约束模板可以包括使用与任何其他 CRD 相同的模式定义的参数。
7.  正确答案:(二)假。至少在写作的时候不是。网守还不能变异，所以需要建立额外的网络钩子来填补这个空白。
# 第十二章
1.  正确答案:(D) `falco_rules.local.yaml`。针对您的安装定制的任何规则更改都应保存在您的`falco_rules.changes.yaml`文件中。您不应该编辑包含规则集，它是`falco_rules.yaml`的一部分。`falco.yaml`文件是基本的 Falco 配置文件，不包含任何规则。
2.  正确答案:(二)答错了。有许多与 Kubernetes 兼容的转发器，但最常用的转发器之一是 FluentD。
3.  正确答案:(C)基巴纳。EFK 栈包括弹性搜索、FluentD 和 Kibana。Kibana 是为日志提供可视化和仪表板的组件。
4.  正确答案:(B) Falcosidekick。Falcosidekick 实用程序仅将 Falco 日志转发到中央日志服务器。
5.  正确答案:(一)列表。您可以使用列表对 Falco 中的项目集合进行分组。
# 第十三章
1.  正确答案:(一)正确。Velero 备份只能使用 S3 目标来存储备份。
2.  正确答案:(C)安装 MinIO，并在部署阶段将 NFS 卷用作永久磁盘。您可以安装 MinIO 并在部署中使用任何持久卷。MinIO 会将分配的存储呈现为 S3 存储桶，这与 MinIO 兼容。
3.  正确答案:(二)假。Velero 的功能之一是能够使用一个集群中的备份来恢复不同集群中的名称空间和对象。
4.  正确答案:(D) etcdctl。etcdctl 可以选择创建 ETCD 数据库的快照。
5.  正确答案:(D) `Velero create schedule daily-backup --schedule="0 3 * * *"`。此命令将创建每天凌晨 3 点运行的计划备份作业。schedule 命令接受一个名为`–schedule`的标签，它使用 cron 表达式。`0 3 * * *`是每天凌晨 3 点的 cron 表情。
# 第十四章
1.  正确答案:(一)假。这不是一个要求，但它肯定会让生活变得更容易！
2.  正确答案:(D)以上都不是。没有最小的步骤数。如何实现您的管道将取决于您自己的需求。
3.  正确答案:(C)使用 Git 作为操作配置的权威来源。您不是直接与 Kubernetes API 交互，而是将对象存储在 Git 存储库中，让控制器保持它们的同步。
4.  正确答案:(B)没有标准；每个项目和供应商都有自己的实现。在这一章中，我们使用了 Tekton，它是 YAML、容器和 shell 脚本的组合。Amazon、Azure 和 GitHub 都将其管道脚本存储在应用源中。对你写的东西没有要求。
5.  正确答案:(B)更新 Git 中的`Deployment`或`StatefulSet`清单，让 GitOps 控制器更新 Kubernetes 中的对象。目标是最大限度地减少 kubectl 的使用，并维护 Git 中的更改日志。
6.  正确答案:(二)假。这几乎是不可能的。操作员模型，其中自定义控制器基于自定义资源创建对象，几乎永远不会与这个假设一起工作。至少现在还没有。一旦您部署了示例，您将看到 Tekton 创建了 Git 中没有的对象。机密是其他可能也不应该存在于 Git 中的对象。
7.  正确答案:(一)正确。Kubernetes 是一个搭建平台的平台。虽然肯定有常见的模式和最佳实践，但说到做到，Kubernetes 的强大之处在于它为您提供了以最适合您的方式自动化系统的灵活性。