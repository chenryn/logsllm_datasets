A. In these two cases, an error in faulty node B affects the 
non-faulty  node  A  by  causing  the  termination  of  the 
operation of the node A. Therefore the fault hypothesis of 
the TTP/C is violated.  
This  development  of  the  protocol  acknowledgment 
algorithm  was  a  wrong  design  decision.  It  allows 
propagation  of  an  error  caused  by  a  single  bit  flip  (single 
bit  flip  belongs  to  the  class  of  faults  which  should  be 
tolerated by a TTP/C with either bus or star configuration). 
In  general,  there  should  be  no  design  decisions  in  the 
TTP/C  protocol,  where  the  operation  of  a  (correct)  node 
depends  on  information  received  from  only  one  node 
(which  may  be  faulty  or  not-faulty),  if  the  goal  is  to 
guarantee  that  the  operation  of  the  system  cannot  be 
affected by a faulty node. This design rule should be valid 
not  only  for  TTP/C  but  for  all  fault  tolerant  systems  that 
aim to tolerate single node (component) faults.
A detailed analysis of these experiments shows that the 
scenario described above occurred in the bus topology but 
the  monitoring  system  in  the  bus  system  was  unable  to 
detect  it  (these  two  particular  experiments  were  repeated 
with the bus topology). Monitoring tasks reside in the host 
controller  of  each  node,  and  they  rely  on  error  interrupts 
triggered by communication controller, in order to monitor 
state  changes.  In  this  error  propagation  scenario  the  node 
that  has  the  faulty  (node  under  test)  node  as  a  successor, 
terminates the operation, but it does not generate any error 
interrupt  (as  specified),  because  it  was  not  correctly 
implemented. To clarify, a wrong design was implemented 
incorrectly.  Therefore,  this  case  was  not  detected  during 
the  execution  of  SWIFI  experiments  in  the  bus  topology. 
This  case  of  error  propagation  was  detected  by  using  a 
special monitoring node connected to the central guardian. 
This node records all state transitions and the frame status 
of all nodes in each slot. 
Moreover,  the  SWIFI  experiments  presented  in  this 
paper  show  that  SWFI  is  an  effective  technique  not  only 
for  validation  but  can  be  successfully  applied  also  for 
verification purposes. 
6.3  TTA  Star  Validation  with  Heavy-Ion  Fault 
Injection 
The  same  TTA  cluster  configuration  using  star  topology 
that  was  used  in  SWIFI  experiments  was  irradiated  with 
heavy  ions.  Experiments  were  performed  in  one  regular 
node. The node subjected to heavy-ion radiation performs 
software reset upon self-detection of an error, reintegrates, 
and  continues  operation.  If  the  node  under  test  starts 
consuming more current from the power supply unit than 
specified  (because of  a  single  event  latch-up),  the  current 
guard in the power supply unit disconnects the node from 
the  power  supply.  We  should  mention 
these 
experiments  could  be  destructive  to  the  target  system. 
Statistically  we  have  observed  one  latch-up  in  6  to  10 
errors.  
that 
In  this  series  of  experiments  three  cases  of  error 
propagation  were  observed  (Table  4).  The  analysis  of  the 
log  files  obtained  from  the  monitoring  system  in  these 
three  error  propagation  cases  has  shown 
the 
experiments scenarios were similar to scenarios described 
in Section 6.2. Since it is impossible to know the location 
of the fault injection we were not able to precisely detect 
the cause of this error propagation. However, the number 
of  error  propagations  with  the  star  topology  compared  to 
bus topology has significantly decreased because no SOS, 
reintegration or babbling idiot failures were observed.  
that 
Proceedings of the 2003 International Conference on Dependable Systems and Networks (DSN’03) 
0-7695-1959-8/03 $17.00 (c) 2003 IEEE
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 06:59:21 UTC from IEEE Xplore.  Restrictions apply. 
Number of Exp. 
SOS
Reintegration
Asymmetric
Babbling Idiot
9800
0  0.00 %
0  0.00 %
3  0.03 %
0  0.00%
Table 4: Heavy-Ion Experiments in the Star 
Topology  
6.4  Experiments  with  modified  version  of  the 
TTP/C protocol 
The TTP/C-C1 protocol code was modified such that in 
the  scenario  when  a  node  is  acknowledged  in  only  one 
channel,  it  acts  as  if  the  transmission  was  acknowledged 
(self-confidence). This modification (in order to avoid the 
error propagation scenario described in Section 6.2) of the 
TTP/C protocol does not affect the properties of the TTP/C 
protocol. The exact set of SWIFI experiments conducted in 
the previous campaign (Section 6.1) was repeated. As can 
be seen from Table 5, no error propagation was observed 
during the execution of SWIFI experiments.  
Target unit 
Experiments 
Error propagations 
SOS 
TTP/C-C1 
HW Registers 
34.000 
Instruction 
Memory 
507.744
0 
0 
0 
0 
Table 5: SWIFI experiment results with star 
topology. 
Since  we  relate  the  error  propagations  observed  in  the 
the 
heavy-ion  experiments  with 
experiments  with  heavy-ions  have  been  repeated,  and  to 
reach  a  certain  level  of  confidence  the  number  of 
experiments has been increased. 
topology, 
the  star 
As can be seen from Table 6, no error propagation was 
observed  during  the  execution  of  heavy-ion  experiments. 
In the bus topology, an arbitrary node failure causes error 
propagation,  but  in  the  star  configuration,  arbitrary  node 
failures  are  isolated  (or  corrected  –  SOS  cases)  by  the 
central bus guardian. Therefore, the extension of the fault 
hypothesis of the TTA to tolerate arbitrary failures, when 
the  configuration  with  the  star  topology  is  used,  is 
justified.  
Number of Exp. 
SOS
Reintegration
Asymmetric
Babbling Idiot
26600
0
0
0
0
Table 6: Heavy-Ion Experiments in the Star 
Topology
The  fault  injection  experiments  have  shown  that  error 
propagations caused by message failures in time-triggered 
systems  can  be  avoided  by  implementing  error  detection 
mechanisms  in  a  separate  FCR  than  the  message  sender.  
The  design  error  in  the  TTP/C  microcode,  which  was 
detected by SWIFI experiments, has shown that the above 
mentioned  claim  is  valid  only  if  the principle of  the  self-
confidence is taken into consideration during the design of 
the system. 
Fault  injection  experiments  are  performed  in  a  regular 
node  of  the  TTA  system  with  the  star  topology.  The 
experiments are not performed in the star nodes. Since the 
star nodes are replicated, it is assumed that the fault in one 
star  node  does  not  affect  the  operation  of  the  second  star 
node. Therefore, faults in one of the star nodes would not 
affect  the  operation  of  the  system,  since  the  replica  star 
node  should  maintain  the  communication  among  the 
normal  nodes.  Of  course  this  assumption  should  be 
validated  by  means  of  faults  injection,  which  is  a  part  of 
future work. 
7 
Conclusion  
In  the  TTA  system  with  the  bus  topology  and  the 
TTP/C-C1  version  of  the  communication  controller  with 
local  bus  guardian,  the  sender  and  the  timing  failure 
detector subsystems are not clearly separated into two fault 
containment regions (FCR). The sender subsystem and the 
timing  failure  detection  subsystem  share  the  same  clock 
synchronization  algorithm,  same  power  supply  and  reside 
on the same silicon die. Therefore, a single fault can affect 
a  shared  resource  and  affect  the  operation  of  both 
subsystems  (message  sender  and  timing  error  detector). 
Because  of  this  implementation,  several  cases  of  error 
the  execution  of 
propagation  were  observed  during 
software 
injection 
experiments.  Even  though  error  propagation  in  the  TTA 
bus  system  has  occurred,  error  detection  mechanisms  of 
TTP/C  have  detected  the  error  and  the  system  takes 
recovery actions by means of restart. 
implemented  and  heavy-ion  fault 
In  the  configuration  with  the  central  guardian,  which 
performs  signal  reshaping  in  the  time  and  the  value 
domain,  the  sender  subsystem  and  the  timing  failure 
detector  are  in  separate  FCRs.  Thus,  the  central  guardian 
presents  a  general  solution,  which 
resolves  error 
propagation  cases  observed  in  the  bus  topology.  A 
prototype  FPGA  implementation  of  a  central  guardian  is 
being validated using heavy-ion and software implemented 
fault  injection  experiments.  Fault  injection  experiment 
results  show  that  the  assumptions  made  about  the  fault 
isolation  capabilities  of  the  central  guardian  are  justified. 
In a series of stressful fault injection experiments we have 
observed  no  error  propagation  in  a  TTA  system  with  the 
star  topology.  This  shows  that  a  star  topology  is  very 
feasible solution when a high dependability is required.  
In  addition,  a  design  error  is  detected  and  corrected  in 
the  TTP/C  protocol  microcode  for  the  TTP/C-C1  version 
of the communication controller. From this case, a design 
Proceedings of the 2003 International Conference on Dependable Systems and Networks (DSN’03) 
0-7695-1959-8/03 $17.00 (c) 2003 IEEE
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 06:59:21 UTC from IEEE Xplore.  Restrictions apply. 
[9]  H.  Kopetz, 
“The 
Time-Triggered  Architecture”, 
Proceedings  of  First  International  Symposium  on  Object-
Oriented  Real-Time  Distributed  Computing  (ISORC  98) 
pages 22-29, Kyoto, Japan , April 1998. 
[10]  H. Kopetz, et al. TTP/C Protocol. TTTech Computertechnik 
AG, 1999. http://www.Ttpforum .org. 
[11]   H.  Kopetz.  ”Fault  Containment  and  Error  Detection  in 
TTP/C  and  FlexRay”,  Technical  Report  39/2002  Vienna 
University  of  Technology,  Real-Time  System  Group. 
www.vmars.tuwien.ac.at. 
[12]  Lamport,  R.  Shostak,  M.  Pease,  “The  Byzantine  Generals 
Problem”,  ACM  Transactions  on  Programming  Languages 
and Systems, vol. 4 issue 3, pp. 382-401, 1982. 
[13]  T.  Ringler,  J.  Steiner,  “Increasing  System  Safety  for  by-
wire  Applications  in  Vehicles  by  using  a  Time  Triggered 
Architecture”,  SAFECOMP,  17th  Int.  Conf.  on  Computer 
Safety, Reliability and Security 1998. 
[14]  J.  Rushby,  “Systematic  Formal  Verification  for  Fault-
Tolerant  Time-Triggered  Algorithms”,  IEEE  Transactions 
on Software Engineering, 25(5) 651-660, September 1999. 
[15]   Austria Micro Systems (AMS), TTP/C-C1 Communication 
Controller Data Sheet, Available at http://www.tttech.com. 
[16]  H.  Sivencrona,  P.  Johannessen,  J.  Torin,  “Protocol 
Membership  Agreement  in  Distributed  Communication 
System-  A  Question  of  Brittleness”,  (2002-01-0108),  SAE 
World  Congress,  Cobo  Center,  Detroit,  Michigan  USA, 
March 2003. 
[17]  C. Temple, “Avoiding the Babbling-Idiot Failure in a Time-
Triggered  Communication  System”,  In  Proceedings  of  the 
28th  Annual  International  Symposium  on  Fault-Tolerant 
Computing (FTCS-28), June 1998. 
rule  is  defined  that  states  that  the  operation  of  a  correct 
computer node in a distributed fault-tolerant system should 
not depend on information received from only one node, if 
the  goal  is  to  guarantee  that  the  operation  of  the  system 
should  not  be  affected  by  an  arbitrarily  faulty  node.  In 
general,  to  avoid  error  propagation  in  distributed  fault-
tolerant  system,  the  message  sender  unit  and  the  error 
detection mechanism unit must be implemented in separate 
fault  containment  regions.  The  fault  injection  experiments 
have  shown  that  this  is  true  but  only  if  the  above 
mentioned  design  rule  is  taken  into  consideration  during 
the design of distributed fault-tolerant systems. 
8 
Acknowledgments 
This  paper  is  partly  supported  by  the  EU  IST  project 
FIT  and  partly  by  the  EU  IST  project  Next  TTA.  The 
authors  would 
for 
supervising  heavy-ion  fault  injection  experiments.  We 
furthermore  wish  to  thank  Prof.  Hermann  Kopetz  for  his 
valuable comments on earlier versions of this paper.  
thank  Mattias  Persson 
like 
to 
9 
References 
[1]  A.  Ademaj,  “Slightly-Off-Specification  Failures  in  the 
IEEE 
Time-Triggered  Architecture”,  Seventh  Annual 
International  Workshop  on  High  Level  Design  Validation 
and Test (HLDVT’02),  Cannes, France, October, 2002 
[2]  A. Ademaj, “Assessment of Error Detection Mechanisms of 
the  Time-Triggered  Architecture  Using 
Software 
Implemented 
Fourth 
European 
Dependable  Computing  Conference  (EDCC-4),  Toulouse, 
France, October, 2002. 
Injection”, 
Fault 
[3]  G.  Bauer,  H.  Kopetz  and  W.  Steiner,  “The  Central 
Guardian Approach to Enforce Fault Isolation in the Time-
Triggered  Architecture”,  In  Proceedings  of 
the  6th 
International  Symposium  on  Autonomous  Decentralized 
Systems, to appear. Pisa, Italy, April 2003. 
[4]  G.  Bauer,  H.  Kopetz  and  P.  Puschner,  “Assumption 
Coverage  under  Different  Failure  Modes  in  the  Time-
Triggered  Architecture”, 
IEEE 
International  Conference  on  Emerging  Technologies  and 
Factory  Automation,  pages  333-341.  Antibes  –  Juan  les 
Pins, France, October 2001. 
In  Proceedings  7th 
[5]   C. Constatinescu, “Impact of Deep Submicron Technology 
on  Dependability  of  VLSI  Circuits”,  In Proceedings of  the 
International  Conference  of  Dependable  Systems  and 
Networks (DSN02), June 2002, Washington D.C, USA. 
[6]  FIT official web page: http://www.cti.ac.at/fit , 2002 
[7]  L.M.  Kaufmann,  S.  Bhide,  B.W.  Johnson,  “Modeling  of 
Common-Mode  Failures  in  Digital  Embedded  Systems”,
Proc.  of  the  Reliability  and  Maintainability  Symposium 
2000, Los Angeles, USA. 
[8]  H. Kopetz, G. Bauer and S. Poledna, “Tolerating Arbitrary 
Node  Failures 
the  Time-Triggered  Architecture”, 
Document  number  2001-01-0677,  SAE  2001  World 
Congress, Detroit, MI, March 2001. 
in 
Proceedings of the 2003 International Conference on Dependable Systems and Networks (DSN’03) 
0-7695-1959-8/03 $17.00 (c) 2003 IEEE
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 06:59:21 UTC from IEEE Xplore.  Restrictions apply.