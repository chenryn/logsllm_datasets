• Job state
• Printing protocol
• Job priority
Holding a Job
You can use the serveradmin setJobState command to hold or release a job.
To hold a job:
$ sudo serveradmin command
print:command = setJobState
print:status = HOLD
print:namesArray:_array_index:0:printer = queue
print:namesArray:_array_index:0:idsArray:_array_index:0 = jobid
Control-D
Parameter
Description
jobs
The maximum number of jobs to list.
queue
The name of the queue. To find the name of the queue, use the 
getQueues command and look for the value of the print 
setting. See “Listing Queues” on page 93.
Parameter
Description
queue
The name of the queue. To find the name of the queue, use the 
getQueues command and look for the value of the print 
setting. See “Listing Queues” on page 93.
jobid
The ID of the job. To find the ID of the job, use the getJobs 
command and look for the value of the jobId setting. See “Listing 
Jobs and Job Information” on this page.
LL2354.book  Page 94  Monday, October 20, 2003  9:47 AM
Chapter 9    Working With Print Service
95
To release the job for printing, change its state to PENDING.
To release the job:
$ sudo serveradmin command
print:command = setJobState
print:status = PENDING
print:namesArray:_array_index:0:printer = queue
print:namesArray:_array_index:0:idsArray:_array_index:0 = jobid
Control-D
Viewing Print Service Log Files
You can use tail or any other file listing tool to view the contents of the Print service 
logs.
To view the latest entries in a log:
$ tail log-file
You can use the serveradmin getLogPaths command to see where the current logs 
are located.
To display the log paths:
$ sudo serveradmin command print:command = getLogPaths
Output
print:logPathsArray:_array_index:0:path = 
print:logPathsArray:_array_index:0:name = SYSTEMLOG
print:logPathsArray:_array_index:0:path = 
print:logPathsArray:_array_index:0:path = 
print:logPathsArray:_array_index:0:path = 
print:logPathsArray:_array_index:0:path = 
[...]
print:logPathsArray:_array_index:0:path = 
print:logPathsArray:_array_index:0:path = 
Value
Description
The location of the primary Print service log. Default = 
/Library/Logs/PrintService/
PrintService.server.log
The location of the job log for the corresponding queue. Default = 
/Library/Logs/PrintService/
PrintService..job.log
The name of the queue.
LL2354.book  Page 95  Monday, October 20, 2003  9:47 AM
LL2354.book  Page 96  Monday, October 20, 2003  9:47 AM
10
97
10 Working With NetBoot Service
Commands you can use to manage the NetBoot service 
in Mac OS X Server.
Starting and Stopping NetBoot Service
To start NetBoot service:
$ sudo serveradmin start netboot
If you get the following response:
$ netboot:state = "STOPPED"
$ netboot:status = 5000
you have not yet enabled NetBoot on any network port.
To stop NetBoot service:
$ sudo serveradmin stop netboot
Checking NetBoot Service Status
To see if NetBoot service is running:
$ sudo serveradmin status netboot
To see complete NetBoot status:
$ sudo serveradmin fullstatus netboot
Viewing NetBoot Settings
To list all NetBoot service settings:
$ sudo serveradmin settings netboot
LL2354.book  Page 97  Monday, October 20, 2003  9:47 AM
98
Chapter 10    Working With NetBoot Service
Changing NetBoot Settings
You can change NetBoot service settings using the serveradmin command.
To change a setting:
$ sudo serveradmin settings netboot:setting = value
To change several settings:
$ sudo serveradmin settings
netboot:setting = value
netboot:setting = value
netboot:setting = value
[...]
Control-D
NetBoot Service Settings
General Settings
Use the following parameters with the serveradmin command to change settings for 
the NetBoot service.
Parameter
Description
setting
A NetBoot service setting. To see a list of available settings, type
$ sudo serveradmin settings netboot
or see “NetBoot Service Settings” on this page.
value
An appropriate value for the setting.
Parameter (netboot:)
Description
filterEnabled
Specifies whether client filtering is enabled.
Default = "No"
netBootStorageRecordsArray...
An array of values for each server volume used to store 
boot or install images. For a description, see “Storage 
Record Array” on page 99.
netBootFiltersRecordsArray...
An array of values for each computer explicitly allowed 
or disallowed access to images. For a description, see 
“Filters Record Array” on page 99.
netBootImagesRecordsArray...
An array of values for each boot or install image stored 
on the server. For a description, see “Image Record 
Array” on page 100.
netBootPortsRecordsArray...
An array of values for each server network port used to 
deliver boot or install images. For a description, see 
“Port Record Array” on page 101.
LL2354.book  Page 98  Monday, October 20, 2003  9:47 AM
Chapter 10    Working With NetBoot Service
99
Storage Record Array
A volume parameter array:
Filters Record Array
An array of the following values appears in the NetBoot service settings for each 
computer explicitly allowed or denied access to images stored on the server:
Parameter (netboot:)
Description
netBootStorageRecordsArray:_array_index::
sharepoint
First parameter in an array 
describing a volume available to 
serve images.
Default = "No"
netBootStorageRecordsArray:_array_index::
clients
Default = "No"
netBootStorageRecordsArray:_array_index::
ignorePrivs
Default = "false"
netBootStorageRecordsArray:_array_index::
volType
Default = 
Example:  "hfs"
netBootStorageRecordsArray:_array_index::
path
Default = "/"
netBootStorageRecordsArray:_array_index::
volName
Default = 
netBootStorageRecordsArray:_array_index::
volIcon
Default = 
netBootStorageRecordsArray:_array_index::
okToDeleteClients
Default = "Yes"
netBootStorageRecordsArray:_array_index::
okToDeleteSharepoint
Default = "Yes"
Parameter (netboot:)
Description:
netBootFiltersRecordsArray:
_array_index::hostName
The host name of the filtered computer, if 
available.
netBootFiltersRecordsArray:
_array_index::filterType
Whether the specified computer is allowed or 
denied access. Options:
"allow"
"deny"
netBootFiltersRecordsArray:
_array_index::hardwareAddress
The Ethernet hardware (MAC) address of the 
filtered computer.
LL2354.book  Page 99  Monday, October 20, 2003  9:47 AM
100
Chapter 10    Working With NetBoot Service
Image Record Array
An array of the following values appears in the NetBoot service settings for each image 
stored on the server:
Parameter (netboot:)
Description:
netBootImagesRecordsArray:
_array_index::Name
Name of the image as it appears in the Startup 
Disk control panel (Mac OS 9) or Preferences 
pane (Mac OS X).
netBootImagesRecordsArray:
_array_index::IsDefault
Yes specifies this image file as the default boot 
image on the subnet. 
netBootImagesRecordsArray:
_array_index::RootPath
The path to the .dmg file.
netBootImagesRecordsArray:
_array_index::isEdited
netBootImagesRecordsArray:
_array_index::BootFile
Name of boot ROM file:  booter.
netBootImagesRecordsArray:
_array_index::Description
Arbitrary text describing the image.
netBootImagesRecordsArray:
_array_index::SupportsDiskless
Yes directs the NetBoot server to allocate space 
for the shadow files needed by diskless clients.
netBootImagesRecordsArray:
_array_index::Type
NFS or HTTP.
netBootImagesRecordsArray:
_array_index::pathToImage
The path to the parameter list file in the .nbi 
folder on the server describing the image.
netBootImagesRecordsArray:
_array_index::Index
1–4095 indicates a local image unique to the 
server.
4096–65535 is a duplicate, identical image 
stored on multiple servers for load balancing.
netBootImagesRecordsArray:
_array_index::IsEnabled
Sets whether the image is available to NetBoot 
(or Network Image) clients.
netBootImagesRecordsArray:
_array_index::IsInstall
Yes specifies a Network Install image; False 
specifies a NetBoot image.
LL2354.book  Page 100  Monday, October 20, 2003  9:47 AM
Chapter 10    Working With NetBoot Service
101
Port Record Array
An array of the following items is included in the NetBoot service settings for each 
network port on the server set to deliver images:
Parameter (netboot:)
Description
netBootPortsRecordsArray:_array_index::
isEnabledAtIndex
First parameter in an array 
describing a network interface 
available for responding to 
netboot requests.
Default = "No"
netBootPortsRecordsArray:_array_index::
nameAtIndex
Default = ""
Example:  "Built-in 
Ethernet"
netBootPortsRecordsArray:_array_index::
deviceAtIndex
Default = ""
Example:  "en0"
LL2354.book  Page 101  Monday, October 20, 2003  9:47 AM
LL2354.book  Page 102  Monday, October 20, 2003  9:47 AM
11
103
11 Working With Mail Service
Commands you can use to manage the Mail service in 
Mac OS X Server.
Starting and Stopping Mail Service
To start Mail service:
$ sudo serveradmin start mail
To stop Mail service:
$ sudo serveradmin stop mail
Checking the Status of Mail Service
To see summary status of Mail service:
$ sudo serveradmin status mail
To see detailed status of Mail service:
$ sudo serveradmin fullstatus mail
Viewing Mail Service Settings
To list Mail service configuration settings:
$ sudo serveradmin settings mail
To list a particular setting:
$ sudo serveradmin settings mail:setting
To list a group of settings:
You can list a group of settings that have part of their names in common by typing 
only as much of the name as you want, stopping at a colon (:), and typing an asterisk 
(*) as a wildcard for the remaining parts of the name. For example:
$ sudo serveradmin settings mail:imap:*
LL2354.book  Page 103  Monday, October 20, 2003  9:47 AM
104
Chapter 11    Working With Mail Service
Changing Mail Service Settings
You can use serveradmin to modify your server’s mail configuration. However, if you 
want to work with the Mail service from the command-line, you’ll probably find it more 
straightforward to work directly with the underlying Postfix and Cyrus mail services.
For information on Postfix, visit www.postfix.org.
For information on Cyrus IMAP/POP, visit asg.web.cmu.edu/cyrus.
You can also use Sherlock or Google to search the web for information on Postfix or 
Cyrus.
Mail Service Settings
Use the following parameters with the serveradmin command to change settings for 
the Mail service.
Parameter (mail:)
Description
postfix:message_size_limit
Default = 10240000
postfix:readme_directory
Default = no
postfix:double_bounce_sender
Default = "double-bounce"
postfix:default_recipient_limit
Default = 10000
postfix:local_destination_recipient_limit
Default = 1
postfix:queue_minfree
Default = 0
postfix:show_user_unknown_table_name
Default = yes
postfix:default_process_limit
Default = 100
postfix:export_environment
Default = "TZ MAIL_CONFIG"
postfix:smtp_line_length_limit
Default = 990
postfix:smtp_rcpt_timeout
Default = "300s"
postfix:masquerade_domains
Default = ""
postfix:soft_bounce
Default = no
postfix:pickup_service_name
Default = "pickup"
postfix:config_directory
Default = "/etc/postfix"
postfix:smtpd_soft_error_limit
Default = 10
postfix:undisclosed_recipients_header
Default = "To: undisclosed-
recipients:;"
postfix:lmtp_lhlo_timeout
Default = "300s"
postfix:smtpd_recipient_restrictions
Default = 
"permit_mynetworks,reject
_unauth_destination"
postfix:unknown_local_recipient_reject_code
Default = 450
LL2354.book  Page 104  Monday, October 20, 2003  9:47 AM
Chapter 11    Working With Mail Service
105
postfix:error_notice_recipient
Default = "postmaster"
postfix:smtpd_sasl_local_domain
Default = no
postfix:strict_mime_encoding_domain
Default = no
postfix:unknown_relay_recipient_reject_code
Default = 550
postfix:disable_vrfy_command
Default = no
postfix:unknown_virtual_mailbox_reject_code
Default = 550
postfix:fast_flush_refresh_time
Default = "12h"
postfix:prepend_delivered_header
Default = "command, file, 
forward"
postfix:defer_service_name
Default = "defer"
postfix:sendmail_path
Default = 
"/usr/sbin/sendmail"
postfix:lmtp_sasl_password_maps
Default = no
postfix:smtp_sasl_password_maps
Default = no
postfix:qmgr_clog_warn_time
Default = "300s"
postfix:smtp_sasl_auth_enable
Default = no
postfix:smtp_skip_4xx_greeting
Default = yes
postfix:smtp_skip_5xx_greeting
Default = yes
postfix:stale_lock_time
Default = "500s"
postfix:strict_8bitmime_body
Default = no
postfix:disable_mime_input_processing
Default = no
postfix:smtpd_hard_error_limit
Default = 20
postfix:empty_address_recipient
Default = "MAILER-DAEMON"
postfix:forward_expansion_filter
Default = "1234567890!@%-
_=+:,./abcdefghijklmnopqr
stuvwxyzABCDEFGHIJKLMNOPQ
RSTUVWXYZ"
postfix:smtpd_expansion_filter
Default = 
"\t\40!"#$%&'()*+,-
./0123456789:;?@ABCDEF
GHIJKLMNOPQRSTUVWXYZ[\\]^
_`abcdefghijklmnopqrstuvw
xyz{|}~"
postfix:relayhost
Default = ""
postfix:defer_code
Default = 450
postfix:lmtp_rset_timeout
Default = "300s"
postfix:always_bcc
Default = ""
postfix:proxy_interfaces
Default = ""
postfix:maps_rbl_reject_code
Default = 554
Parameter (mail:)
Description
LL2354.book  Page 105  Monday, October 20, 2003  9:47 AM
106
Chapter 11    Working With Mail Service
postfix:line_length_limit
Default = 2048
postfix:mailbox_transport
Default = 0
postfix:deliver_lock_delay
Default = "1s"
postfix:best_mx_transport
Default = 0
postfix:notify_classes
Default = 
"resource,software"
postfix:mailbox_command
Default = ""
postfix:mydomain
Default = 
postfix:mailbox_size_limit
Default = 51200000
postfix:default_verp_delimiters
Default = "+="
postfix:resolve_dequoted_address
Default = yes
postfix:cleanup_service_name
Default = "cleanup"
postfix:header_address_token_limit
Default = 10240
postfix:lmtp_connect_timeout
Default = "0s"
postfix:strict_7bit_headers
Default = no
postfix:unknown_hostname_reject_code
Default = 450
postfix:virtual_alias_domains
Default = 
"$virtual_alias_maps"
postfix:lmtp_sasl_auth_enable
Default = no
postfix:queue_directory
Default = "/private/var/
spool/postfix"
postfix:sample_directory
Default = "/usr/share/doc/
postfix/examples"
postfix:fallback_relay
Default = 0
postfix:smtpd_use_pw_server
Default = "yes"
postfix:smtpd_sasl_auth_enable
Default = no
postfix:mail_owner
Default = "postfix"
postfix:command_time_limit
Default = "1000s"
postfix:verp_delimiter_filter
Default = "-=+"