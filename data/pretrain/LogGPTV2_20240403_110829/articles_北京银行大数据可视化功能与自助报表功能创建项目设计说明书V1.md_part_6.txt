#### 关联模块
无
#### 设计说明
  --------------------- ---------------------------------------------------------------------
  **类名/功能点名称**   **描 述**
  前台页面名称          /portal/WebRoot/portal/notice/systemNotice.jsp
  后台类                /portal/src_portal/com/vanceinfo/bi/portal/action/NoticeAction.java
  主要用途              查询消息内容
  --------------------- ---------------------------------------------------------------------
#### 输入输出
【查询输入参数】
  --------------------- -------------- -------------- ----------- -------------
  **字段名称**          **输入类型**   **字段类型**   **约束**    **说明**
  发布时间从            日期类型                                  
  发布时间到            日期类型                                  
  生效时间从            日期类型                                  
  生效时间到            日期类型                                  
  创建人                字符型                                    
  通知内容              字符型                                    
  --------------------- -------------- -------------- ----------- -------------
【查询输出参数】
  --------------------- -------------- -------------- ----------- -------------
  **字段名称**          **输入类型**   **字段类型**   **约束**    **说明**
  创建时间              日期类型                                  
  创建人                日期类型                                  
  通知内容              字符型                                    
  开始时间              日期类型                                  
  结束时间              日期类型                                  
  附件名                字符型                                    
  发送方                字符型                                    
  部门                  字符型                                    
  --------------------- -------------- -------------- ----------- -------------
【发布通知输入参数】
  --------------------- -------------- -------------- ----------- -------------
  **字段名称**          **输入类型**   **字段类型**   **约束**    **说明**
  开始时间              日期类型                                  
  结束时间              日期类型                                  
  接收机构              字符型                                    
  发送方                字符型                                    
  通知内容              字符型                                    
  附件                                                            
  --------------------- -------------- -------------- ----------- -------------
#### 引用的数据库表
本功能模块使用到的数据库表。
### 系统日志管理 {#系统日志管理 .样式3}
#### 功能概述
该功能主要是对操作系统时产生的日志，经行数据库数据的查询。
#### 操作界面
如有操作界面的模块，勾绘出操作界面图，并进行界面单元功能描述。
![](media/image21.png){width="6.0in" height="4.65in"}
#### 模块流程
登录系统---\>系统管理-日志查询
#### 关联模块
无
#### 设计说明
+------------------+---------------------------------------------------+
| **类             | **描 述**                                         |
| 名/功能点名称**  |                                                   |
+------------------+---------------------------------------------------+
| /porta           | 日志页面，主要用于显示日志查询条件，与查询结果。  |
| l/WebRoot/portal |                                                   |
| /logList/log.jsp |                                                   |
+------------------+---------------------------------------------------+
| /por             | LogAction.java                                    |
| tal/src/com/pact | 参与service和jsp页面数据交换，控制jsp页面跳转     |
| era/bi/log/actio |                                                   |
| n/LogAction.java | LogService.jav                                    |
|                  | 主要功能是数据处理，方便页面部分存取数据          |
| /porta           |                                                   |
| l/src/com/pacter |                                                   |
| a/bi/log/service |                                                   |
| /LogService.java |                                                   |
+------------------+---------------------------------------------------+
| 主要用途         | 主要                                              |
|                  | 是对操作系统时产生的日志，经行数据库数据的查询。  |
+------------------+---------------------------------------------------+
#### 输入输出
【输入参数】
  --------------------- -------------- -------------- ----------- -------------
  **字段名称**          **输入类型**   **字段类型**   **约束**    **说明**
  员工号                输入框         字符串         无          无
  操作日期              日期选择框     字符串         无          无
  --------------------- -------------- -------------- ----------- -------------
【输出参数】
  --------------------- -------------- -------------- ----------- -------------
  **字段名称**          **输入类型**   **字段类型**   **约束**    **说明**
  员工号                无             字符串         无          
  用户名                无             字符串         无          无
  日志类型              无             字符串         无          无
  操作时间              无             字符串         无          无
  操作描述              无             字符串         无          无
  访问ip                无             字符串         无          无
  --------------------- -------------- -------------- ----------- -------------
#### 引用的数据库表
NP_LOG，NP_SYS_DICT，NP_USER
# 用户界面规范设计
{描述总体界面设计的设计思路，界面风格、界面规范、报表风格。如需求说明过程中的用户界面要进一步细化，按需求规格说明书的要求编写。}
## 登录页
![](media/image22.png){width="6.0in" height="4.65in"}
![](media/image23.png){width="6.0in" height="4.65in"}
## 门户主页
![](media/image24.png){width="6.0in" height="4.65in"}
# 安全性
## 概述
系统安全是整个系统可靠运行和进行安全防范的基石，在统一设计原则下，在不同的安全层次，在预防、检测和恢复等各个阶段，确保系统的持续稳定运行，防止信息的损坏、泄露或被非法修改，并保证系统平台的安全。一个完整的安全解决方案应涵盖系统中所有的用户、网络、主机、应用服务器以及应用程序，并建立高效、可靠的安全管理策略。
系统安全平台主要解决以下一些层次的安全问题：
0.  网络访问安全
> 网络安全关系到什么人和什么内容具有访问权，查明任何非法访问或偶然访问的入侵者，防止外来非法入侵和内部攻击，保证只有授权许可的通信才可以在客户机和服务器之间建立连接。
1.  数据安全
> 数据安全包括数据保密性、完整性、来源正确性和不可抵赖性。数据保密性是指保证不论是在储存状态还是在传输当中，信息都不可能会被非法访问；数据完整性是指保证防止非法或偶然的数据改动；数据来源正确性是指确保数据的发送端是来自系统所要求的发送端；数据的不可抵赖性是指数据发送者的身份能被能被系统唯一确认且保证其他方（包括接收端本身）无法伪造该信息。通过操作系统、数据库和应用软件的安全控制还可实现访问控制、身份认证和安全审计。
2.  运行安全
> 必须制定周密的防灾难方案，及时进行故障检测和恢复，并能防治各种病毒。
3.  实体安全
> 建立良好的工作环境和备份中心，保证系统的稳定运行。
根据大数据可视化智能门户的安全需求，建设其安全保护体系，应该从物理、网络、应用、运维管理多个方面进行全面的考虑，最终实现这些不同层次和不同方面的全面、完善的安全防护体系，其最终要实现的安全体系总体架构如下图所示：
![](media/image25.emf)
安全体系总体架构
在图中，纵向看分为物理环境和支撑系统、网络系统及业务应用系统三个大的层面。每个层面要逐步实施其所需的完善安全措施。
图中左侧部分给出了系统管理运维的安全要求，从管理运维方面提出系统要实现的安全措施。
总体架构中安全体系所要求完善的各层安全体系及不同方面的安全要求需要根据系统建设和运维中轻重缓急的需要，统筹规划，分步骤实施。
## 物理安全
物理安全是北京银行金融计算机安全体系中不可缺少的重要环节，它是以物理的方法和技术，保障主机设备、网络设备、通信线路和媒体的安全。
物理安全主要防范各种自然灾害（防火、防水、防雷击），防范各种人为入侵及盗窃，防止擅自操作和使用设备，防止信息的丢失、泄露和破坏等。因此需要从基础设施、网络设备、故障处理、电磁兼容及防电磁泄露发射等方面为大数据可视化智能门户提供安全可靠的运行环境和条件。
## 系统安全
1.  
### 数据库安全 {#数据库安全 .样式3}
大数据可视化智能门户采用高性能的主流数据库产品，同时要注意数据库版本的先进性和可靠性。所采用的数据库系统应符合NCSC认证的C2级安全标准，应提供严格的数据库恢复和事务完整性保障机制，提供完整的角色管理和自主控制安全机制，要支持软、硬件容错，逻辑备份与恢复，物理备份与恢复，在线联机备份和恢复等功能，保证在发生故障和灾难后能够很好地恢复数据库或重构数据库。
数据库的安全性措施主要有以下几方面：
用户标识和鉴定
通过数据库系统的用户账号与口令鉴定用户的身份，这是系统提供的最外层安全保护措施，也是最常用的措施。
存取控制
要合理设置数据库对象的授权粒度，认真研究并大力推行角色/权限管理机制，建议使用具有口令保护的角色，通过应用系统级的身份认证连接数据库，通过应用程序进行角色的口令输入、打开角色并激活角色开关，以避免用户绕过应用程序而直接调用SQL语句访问数据库资源。
视图机制
为不同用户定义不同的视图，通过视图机制把要保密的数据对无权存取这些数据的用户隐藏起来，从而自动地对数据进行保护。
审计
建议打开数据库系统的审计功能，以监视不合法行为。
#### 数据的完整性
要充分利用数据库管理系统所提供的数据完整性功能。在数据库的设计时要通过实体完整性、参照完整性的定义，使数据库系统拒绝接收不合语义的数据，从而保证数据的正确。
对一些特别重要的信息应加密存储。
#### 数据的备份与恢复
大数据可视化智能门户应提供完备的数据备份和恢复功能，既要考虑逻辑备份和恢复功能，又要考虑物理备份和恢复功能，既要考虑业务数据的备份和恢复，又要考虑数据库控制文件、归档日志文件及数据库配置信息的备份和恢复，以确保数据库遭遇介质故障时，能够重构数据库并尽快恢复数据。大数据可视化智能门户应具有联机备份能力。
## 应用安全
2.  
### 访问控制 {#访问控制 .样式3}
应遵循最小授权原则、全面确认原则和安全跟踪原则，采用严密的安全体系，保证数据的安全性。
# 系统性能
## 性能监控
运维人员可通过服务器命令或监控软件实时监控系统的性能，包括所有服务器的资源情况（CPU、内存、磁盘空间、磁盘读写等）、网络情况，了解系统运行状况，找到系统性能瓶颈。
## 性能管理
系统的性能管理主要依赖于F5提供的应用负载均衡，F5会根据预设的规则自行判断应用服务器负载情况。当用户登录系统时，F5会控制用户访问的实例。
## 性能分析
性能分析的关键在于运行信息的收集，只有及时收集足够多的分析数据，才能及时、准确地了解系统运行状况，发现性能瓶颈，及时做出调整。
大数据可视化智能门户后台每一个数据处理步骤都有详细的日志记录，同时，系统前台重要功能也会保存运行日志为后续系统性能提升打下基础。
# 备份设计
## 数据库备份
-   备份范围：整库备份。
-   备份方式：通过oracle自带的备份工具进行备份；备份输出文件采取压缩的方式；由系统管理员每月进行数据库整库备份.
-   备份周期：数据字典在每次系统变动前进行备份，由于备份内容占用空间少，可以保留一年内的备份文件，超过期限进行清理；关键数据表以调度作业的方式每日备份，当日数据原始文件保留，隔日数据打包压缩，数据永久保存。
-   备份介质：磁盘阵列/磁带。由于关键数据表备份文件需要永久保存，对磁盘阵列存储空间有一定要求。当磁盘阵列存储空间不足时，将早期的文件转移到磁带存储。
## 程序备份
-   备份范围：ETL程序与脚本、前台应用程序、后台应用程序等；
-   备份方式：系统上线时，将所有程序打包上传firefly并打标记
-   备份周期：永久保存；
备份介质：版本管理（firefly）服务器。
# 恢复设计
## 数据库恢复
> 使用imp命令进行数据库恢复
## 应用程序恢复
由于上线前需要在firefly上对上线的程序进行归档和打标记，所以一旦应用程序、脚本或者调度程序出现问题，可以从firefly服务器上找到最新的程序版本。根据上线部署文档，重新部署应用程序即可。
# 系统出错处理设计
## 出错信息
用一览表的方式说朗每种可能的出错或故障情况出现时，系统输出信息的形式、含意及处理方法。
## 补救措施
说明故障出现后可能采取的变通措施，包括：
1、后备技术说明准备采用的后备技术，当原始系统数据万一丢失时启用的副本的建立和启动的技术，例如周期性地把磁盘信息记录到磁带上去就是对于磁盘媒体的一种后备技术；
2、降效技术说明准备采用的后备技术，使用另一个效率稍低的系统或方法来求得所需结果的某些部分，例如一个自动系统的降效技术可以是手工操作和数据的人工记录；
3、恢复及再启动技术说明将使用的恢复再启动技术，使软件从故障点恢复执行或使软件从头开始重新运行的方法。