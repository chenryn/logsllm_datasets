于、小于等。
或者从Wireshark预定义的值中选择一个。
非常简单，但功能十分强大。
之后，会发现手动输入过滤器表达式更有效率。显示过滤器表达式的语法结构
表示。
1.单击一个协议旁的加号（十），
3.通过输入一个和你选中条件域相关的条件值。你可以自己定义这个值，
FilterExpression对话框对于初学者来说很好用，但当你熟悉了这一套规则
，找到你所要在你过滤器中使用的那一项，然后单击选中它。
，当你完成所有上述步骤时，单击OK就可以看到你过滤器表达式的文本
个简单的tcp过滤器就可以解决这个问题。
2.过滤器表达式语法结构（高级方法）
Fedname
IP-IntemeProtocsl
ipen-Totl Length
ptocrelabity-Reiabity
ptoipiet
Header Length
-Precedenc
ProfleDefaul
以展开所有与这个协议相关可做为条件
ispresent
Feiation
Predefinedvalues
Valut(Boclean)
Normal
Rangt (ifthetenth)
回
Carice
---
## Page 89
于或等于”操作符，来完成这个要求，其过滤器表达式如下。
符可以让你创建一个只显示192.168.0.1这个IP地址相关数据包的过滤器。
络中的问题时，你可能经常需要检查和某一个IP地址相关的数据包。等于操作
表达式，将你捕获文件中的ICMP流量屏蔽掉。
下所示。
们可以使用or操作符来创建一个表达式，只显示这两个IP地址的数据包，
高过滤器的效率。举例来说，如果我们只想显示两个IP地址上的数据包，我
ip.addr==192.168.0.1 or ip.addr==192.168.0.2
操作符
操作符
艾
V
and
表44Wireshark过滤器表达式的比较操作符
9
表4-5Wireshark过滤器表达式的逻辑操作符
现在假设你只需要查看那些长度小于128字节的数据包，你可以使用“小
逻辑运算符可以让你将多个过滤器表达式合并到一个语句中，从而极大提
表44给出了Wireshark过滤器表达式的比较操作符。
frame.lenConversations）
图5-3会话窗口可以让你与捕获文件中的每个会话进行交互
图5-2端点窗口可以让你查看一个捕获文件里的每个端点
Sopy
83247387292
中
43
web.pcan
三
2511
577
3956
Map
2:790
251133
29167
507866
P4Coveations
7275
9045
IPvd Endpoints
9
Limt to dayfitt
CLit to dplefi
司
55346579426
519254
7557
10670
72.072
1548
8577
3956
8
口
第5章
Wireshark高级特性
4153
4910
如图5-3所示，以
家
12422230
321150
17092310
A.7541010
0.2956330
1.242800
33430630
32094020
06015650
Cluse
---
## Page 95
3
使用端点和会话窗口进行问题定位
之间所有的通信流量。
立刻对你所查看的流量得出一些结论。
浏览互联网时产生的大量HTTP流量。如果你使用端点窗口进行查看，你可以
大规模流量的源头，或者找到哪台服务器最活跃。
址，也就意味着你可以假设你有一个客户端和这个地址进行了很多交互，或者
跃的信息源（进行了最多通信的主机）。第二个地址74.125.103.163不是本地地
址是本地的172.16.16.128地址，也就是说你网络中的这个设备是数据集中最活
多个客户端和它进行了一些交互。
的流量。
Endpe
举例来说，
端点和会话窗口在网络问题定位中十分重要，
查看IPv4选项卡（如图5-4所示），你可以看到以字节数排序后的第一个地
2155
043012512
1616157
4501
15
215710753
12
DOT
图54端点窗口显示了哪个主机最活跃
221885
213321
P4 Enogeints
m tdleyite
121
43.878
，特别是当你试图找到网络中
你可以看到多个客户端
CHOAA
---
## Page 96
5.2
注意
基于协议分层结构的统计数据
类似的地址注册中心有AfiNIC（非洲）、RIPE（欧洲）和APNIC（亚太地区）
并且在错误的注册中心网站上进行了查询，这个网站也会告诉你正确的查询位置
WHOIS查询，你在负责这个IP组织的网站上操作即可.如果你并不知道地理信息
RegistryforIntemet Numbers,ARIN）的数据。一般来说，如果你想对某一个IP进行
们使用了负责美国（及周边地区）IP地址分配的美国互联网号码注册中心（American
发出的要大得多（如图5-5所示）。
流量，因为从地址A（74.125.103.163）发出的数据包比从地址B（172.16.16.128）
序来验证这一点。在这个例子中，你可以看到这个流量应该是连续的视频下载
果你这时打开了会话窗口，并选中IPv4选项卡：你就可以使用字节数对列表排
72.32.924
23
41251629
66.35.45221
Help
知道了这些信息，你最活跃的通信端点一定包含了流量最大的会话么？如
IP地址的分配是根据其地址信息由多个实体进行管理的。在我们的例子中，我
当在与特别大的捕获文件打交道时，你有时会需要知道文件中协议的分布
在此书后面的实战场景中，你还会看到如何使用端点和会话窗口。
图5-5会话窗口中确定了最活跃的两个信息源是在相互通信
17216.16.136
172.15.16128
1721616120
1721616128
Sopy
149288
豆
IPua Convetons
314
第5章Wireshark商级特性79
104602
577 5043123280
73.058700
Chose
---
## Page 97
统计）窗口也是一个对网络进行基准分析的好方法。
十的ARP流量，那么你就知道一定有地方出了问题。
还是得到了捕获文件中协议分布的准确情况。
Larpag
图5-6协议分层统计窗口给出了各种协议的分布统计情况
Sm
185
1.175
051
9.5%
举例来说，如果你知道网
20932
---
## Page 98
5.3.1