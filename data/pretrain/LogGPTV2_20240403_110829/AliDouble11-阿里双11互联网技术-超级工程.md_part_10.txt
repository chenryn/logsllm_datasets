常态化智能压测：问题解决在平时，提高全链路压测效率
●
智能压测模型
全链路压测模型是全链路业务的抽象集合，直接模拟大促峰值模型，驱动整体
压测。
智能压测模型，通过智能模块管理整条压测模型产业链，实现模型采集、预测、
设计、构建整个过程的一键化智能操作，提升压测模型效率，同时在过程中将业务模
型智能划分和计算，转换成可执行的压测模型，保障压测模型准确率。整体流程如下
图2所示。
模型预测：采集往年大促业务数据，制定预测样本，通过预测算法，预测当前大
促峰值模型。
压测模型智能划分和计算：将模型按照不同业务划分为可执行压测模块，统筹计
算整体压测指标和各子模块压测业务指标（拆单比、主订单、子订单、购物车：立即
购买、商品类型占比等），确保子模块和整体模型的一致性、准确性和完备性。
80 > 9年双11：互联网技术超级工程
压测模型自动化调整：自动化调整压测模型，调整整体数据、业务指标等，达到
一次压测验证多套模型的效果。
模型构建：一体化模型构建，根据模型参数，自动构建压测模型，生成压测流
量，构建过程中可自动进行异常校验和模型数据校验，确保最终压测流量准确率。
压测方案：一键生成多单元多业务压测方案，压测方案可在多环境下执行，并且
可根据业务要求，多模型组合执行。
智能管理模块：控制整体模型生产过程，一键操作，校验和修复异常流，控制模
型构建对上下游系统影响，并使整体流程可视。
智能压测模型支撑大促效果：产出的全链路压测模型准确率达到90%以上，可
在一天内完成大促压测方案设计计算和亿级别模型数据输出。
智能管理
一键操作
异常校验
流程控制
可视
数据 模型 构建 方案
需求采集 模型划分 数据迁移
多模型组合
数据分析 模型计算 模型构建
需求 预测算法 模型调整 方案生成 多环境执行
模型预测 压测模型 模型构建 可执行方案
图2 智能模型图
自动化施压
压测执行过程自动化，提高压测执行过程的准确率和效率，减少人为操作导致的
异常和误差。
如下图3所示，今年在压测执行过程中，预热、预案、限流设置和动态调整、压
测资源自动分配、施压整个过程均一键化操作，由系统校验执行结果及其准确性。通
新智能  9年双11：互联网技术超级工程
数据分析采集
预热
缓存预热 应用预热 DB预热
图4 预热系统结构图
压测云化
压测云化，通过内部服务和上云实现外部服务，将集团内外的全链路应用全部纳
入到压测范围中，即保障平台内部应用系统稳定，也保障关联的外部卖家应用性能稳
定，在大促时达到整体稳定和双赢。
内部服务：产品化输出服务，为内部各业务提供可定制模型、容量弹性伸缩等个
性化服务。
外部服务：将压测系统产品化上云，为外部商家提供压测服务，可实现数据、场
景、模型、压测一键式操作，模型更接近大促峰值模型，压测环境和大促保持一致，
压测效果更真实，保障卖家自身系统容量准确可靠。
以往的卖家自身系统压测过程中，是mock集团内部业务，直接模拟最后一步达
到其自身系统的请求，同时使用的数据也比较单一，这中间会出现很多业务点覆盖不
到，模型不完善，出现很多意想不到的问题；通过压测上云服务，可以为卖家提供真
实的模型和丰富的数据，压测直接从最源头发起，把所有业务路径节点均覆盖其中，
验证真实业务路径能力，确保各节点性能稳定，为卖家在大促峰值期间提供更可靠的
业务能力输出，今年大促峰值期间各外部系统稳定，和集团内部应用交互顺畅，往年
出现的问题彻底消除。
新智能  9年双11：互联网技术超级工程
智能环境：常态化压测在压测环境（也在生产环境中，有独立的一套和线上系统
相同的配置）中进行，对线上流量无任何影响，操作时可一键将目标应用集群按比例
隔离到压测环境中。
智能模型：压测模型采用大促模型，按照大促要求设计和执行压测策略。
智能施压：按照压测模型和策略和图3中的施压流程自动施压。
弹性容量：压测过程中，可根据当前系统表现进行弹性伸缩，确保在达到目标量
级时，各系统按照预期性能指标调整到准确的容量。
性能基线&智能报告：在达到目标量级后，采集各系统性能指标和容量数据，沉
淀性能基线，和以往基线进行对比，快速发现问题，并通过业务埋点监控定位问题可
能出现原因，最终将压测数据、对比结果和问题原因自动录入报告并发送给业务方。
通过以上步骤，可实现无人值守的常态化压测，业务方在收到报告后，自行解决
报告中的问题，下次压测再做验证，将全链路系统中的问题消灭在平时。
结语
在今年智能压测实施下，模型准确率达到93%以上，整体效率较去年提升2倍
以上，为双11全链路压测节省1000人次工程师，同时保障了全链路系统稳定性，
使今年双11峰值（32.5万笔交易，25.6万笔支付）如丝般顺滑。
今年是智能压测实施第一年，后面智能压测还会继续创新和使用更多智能化方
法，让压测更高效更准确，让全链路压测“无人化”更近一步。
新智能  9年双11：互联网技术超级工程
核心的亮点，是商家、运营提升点击效果的一个抓手。传统生产利益点文案的方式，
有以下特点：
1. 受限于数量和人力成本，一个商品或者会场的利益点一般不会超过三个，大
多数情况只有一个利益点，这有时会导致利益点文案和商品不匹配的case发
生，影响用户体验。
2. 用户对一个商品不同的卖点或者说不同的文案表述的关注度是不同的，例如
有人关注性价比，有人关注品质等等，人工编辑的较少的利益点文案没办法
提供多样的信息，不利于引导效率的提升。
因此，这次双十一，智能写手和首页推荐算法团队、大促平台算法团队一起合作
了智能利益点项目，分别在手淘首页人群会场入口、猫客首页人群会场入口、猫客首
页标签会场入口、双十一主会场行业会场入口、双十一主会场标签会场入口等多个场
景上线了智能利益点。几个场景样式详见以下图片，其中用红色虚线框起来的使用了
智能利益点的会场入口的实际效果：