Dev
Ops
Microservice
Microservice 
API
Microservice
Microservice 
API
攻击者是如何识别企业的API?
Step 1
扫描典型主机名
Hostnames
auth.
api.
developer.
download.
IP Addresses
xxx.xxx.xxx.xxxx
xx.xxx.xxx.xxx
xxx.xxx.xxx.xxx
xxx.xxx.xxx.xxx
Step 2
反向解析 +/- 10 IP地址
This Photo by Unknown Author is licensed 
under CC BY-SA
List of 
Hostnames 
to attack
• Fierce是一个域名发现工具
Gitrob 工具: 
发现并移除GitHub上的敏感数据
• 按单位搜索
• 标记感兴趣的内容，如:
o 私钥
o ⽤户名
o 邮件地址
o 内部系统信息
全套服务工具，以识别企业网络内部信息从而用于API攻击，
网络钓鱼活动和社会工程攻击
Source: https://michenriksen.com/blog/gitrob-putting-the-open-source-in-osint/
例 #3: 对微服务架构的攻击
• 在Git上发布的共享的样本代码
• 敏感的API密钥包含在样本中
• 利⽤API秘钥来获得非认证的访问
Code Sharing
GitHub
IT
Dev
Ops
Microservice
Microservice 
API
Microservice
Microservice 
API
© 2021 Akamai | Confidential
22
ENCRYPTION
RATE 
THROTTLING
VISIBILITY
ACCESS 
CONTROL
API GOVERNANCE
SIGNATURE 
BASED
传统方法
现有API安全策略
API TESTING
APP SECURITY
现有差距
© 2021 Akamai | Confidential
23
调查问卷2：
您的单位现有的API的安全策略？
o
ACCESS CONTROL
o
SIGNATURE
o
RATE THROTTLING
o
VISIBILITY
o
API GOVERNANCE
关注二维码，了解更多信息
© 2021 Akamai | Confidential
24
In Security, Insights matter
360 view of threats targeting businesses is needed
“与传统的web应用程序相比，API往往会公开更多
的端点，因此制定适当的和更新的资源清单就非常
重要。”
- OWASP API Security Project
© 2021 Akamai | Confidential
25
API安全从可见性开始
防护基于API的DDoS和注入攻击，实施
API的认证和授权
保护和管理
自动检测流量，发现未被保护的API端
点，并提供可行性的工作流程来快速应
用防护措施
交付
提升API流量的规模和性能
发现
•
流量优化
•
API 优先从⽽解决超载问题
•
对峰值事件进⾏API性能负载测试
发现并对不知道的和变化的API进⾏画像 (包
括API端点, 定义, 资源, 和流量特征)
快速响应对于系统和应⽤的API攻击，从⽽
避免宕机时间和数据窃取。
© 2021 Akamai | Confidential
26
抵御API威胁，降低API风险
挑战和方案
最佳实践
●
使用高级bot检测（登录确认）
●
使用API网关进行认证、授权和API访问管理
●
WAF的主动和被动防御模型（API规则检测）
●
API流量行为发现，提供快速和WAF/DDoS
的集成
API泄露
凭证滥用
授权和认证
挑战
API 搜刮和数据窃取
© 2021 Akamai | Confidential
27
Overview
1
合法流量和恶意流量通过Akamai智能边缘平台访问API
服务
API安全是常常被忽略的问题!会使你遭受恶意攻击"数据
泄露和利润及品牌价值受损#Akamai解决方案保护您的
API免受DDoS"应用层以及撞库的攻击#API 防护加强边
缘安全能力!跨跃广大和纷杂的攻击界面!保障业务安全#
2
边缘服务器自动检测和防护应用层DDoS攻击!
3
利用Akamai平台的威胁情报对攻击行为打分并采取相
应的措施!
5
Bot Manager防护利用API产生的爬虫类的攻击。
6
SSL/TLS加密保证传输过程中敏感数据外泄!
7
API 网关验证API请求确保合法用户访问API资源!
DDoS
Protection
Authentication
& authorization
扩展及加速
发现及防护
管控和控制
Bot
Server
App
Attacker
Browser
Edge platform
1
Service
Service
Data center
Cloud data center
Service
JSON
/XML
GraphQL
/REST
数据整合及分析
8
边缘API的缓存可以提高性能并减少基础设施和带宽成
本
BOT Manager
Reputation
Control
WAF Rule 
Inspection/API Query 
Constraints
Edge 
caching
SIEM 
Integration
2
3
4
7
8
SSL/TLS 
encryption
6
合法流量
恶意流量
5
9
9
实时获取"保留并传递安全信息和事件到SIEM平台
4
自动检测API请求中的恶意内容并进行阻断!主动安全
模式#根据API的规范保护数据获取和插入!保护后端
微服务和应用免受DoS攻击!
抵御API威胁，降低API风险
参考架构 : API 发现和安全
© 2021 Akamai | Confidential
28
发现
保护
分析
API安全检查表
•
API 生态
•
聚焦测试
•
发布和回退设计和策略
•
用户身份
•
DoS/DDoS
•
主动和被动防御模式
•
通过API管理来优化API安全
•
风险评估
•
API测量
•
API审计
© 2021 Akamai | Confidential
29
资料下载
• How Akamai Helps to Mitigate the OWASP API Security Top 10 
Vulnerabilities
https://www.akamai.com/us/en/multimedia/documents/white-paper/how-akamai-helps-to-
mitigate-the-owasp-api-security.pdf
•
Web 应用程序和 API 保护功能检查清单
https://www.akamai.com/cn/zh/multimedia/documents/white-paper/web-application-and-
api-protection-capabilities-checklist.pdf
•
Strategies for API Security
https://www.akamai.com/us/en/multimedia/documents/white-paper/akamai-strategies-for-
api-security-white-paper.pdf
•
加速、保护以及管理 API
https://www.akamai.com/cn/zh/solutions/performance/apis.jsp
•
Akamai最新一期互联网现状报告
https://www.akamai.com/cn/zh/multimedia/documents/state-of-the-internet/soti-security-
phishing-for-finance-report-2021.pdf
© 2021 Akamai | Confidential
30
关注二维码，了解更多信息