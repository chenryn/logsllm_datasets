的参数来比对分析每次应答消息之间的差异，能更好的帮助我们分析系统可能存在的漏洞。
在我们使用Burp Repeater时，通常会结合Burp的其他工具一起使用，比如Proxy的历史记
录，Scanner的扫描记录、Target的站点地图等，通过其他工具上的右击菜单，执行【Send
to Repeater】，跳转到Repeater选项卡中，然后才是对请求消息的修改以及请求重放、数据
分析与漏洞验证。
可选项设置（Options）
与Burp其他工具的设置不同，Repeater的可选项设置菜单位于整个界面顶部的菜单栏中，如
图所示：
其设置主要包括以下内容：
更新Content-Length
这个选项是用于控制Burp是否自动更新请求消息头中的Content-Length
解压和压缩（Unpack gzip / deflate ） 这个选项主要用于控制Burp是否自动解压或压缩
服务器端响应的内容
112
第九章 如何使用Burp Repeater
跳转控制（Follow redirections） 这个选项主要用于控制Burp是否自动跟随服务器端作请
求跳转，比如服务端返回状态码为302，是否跟着应答跳转到302指向的url地址。 它有4
个选项，分别是永不跳转（Never），站内跳转（On-site only ）、目标域内跳转（In-
scope only）、始终跳转（Always），其中永不跳转、始终跳转比较好理解，站内跳转
是指当前的同一站点内跳转；目标域跳转是指target scope中配置的域可以跳转；
跳转中处理Cookie（Process cookies in redirections ） 这个选项如果选中，则在跳转过
程中设置的Cookie信息，将会被带到跳转指向的URL页面，可以进行提交。
视图控制（View） 这个选项是用来控制Repeater的视图布局
其他操作（Action） 通过子菜单方式，指向Burp的其他工具组件中。
113
第十章 如何使用Burp Sequencer
第十章 如何使用Burp Sequencer
Burp Sequencer作为Burp Suite中一款用于检测数据样本随机性质量的工具，通常用于检测访
问令牌是否可预测、密码重置令牌是否可预测等场景，通过Sequencer的数据样本分析，能很
好地降低这些关键数据被伪造的风险。本章我们主要学习的内容有：
Sequencer使用步骤
可选项设置（Options）
Sequencer使用步骤
114
第十章 如何使用Burp Sequencer
Burp Sequencer作为一款随机数分析的工具，在分析过程中，可能会对系统造成不可预测的
影响，在你不是非常熟悉系统的情况下，建议不要在生产环境进行数据分析。它的使用步骤
大体如下： 1.首先，确认Burp Suite安装正确，并配置好浏览器代理，正常运行。 2.从Burp
Proxy的历史日志记录中，寻找token或类似的参数，返回右击弹出上下文菜单，点击【Send
to Sequencer】。
115
第十章 如何使用Burp Sequencer
3.进入Burp Sequencer的Live Capture面板，选中刚才发送过来的记录，点击【Configure】
配置需要分析的token或者参数。
4.在弹出的参数配置对话框中，选中参数的值，点击【OK】按钮，完成参数设置。
116
第十章 如何使用Burp Sequencer
5.点击【Select Live Capture】，开始进行参数值的获取。
6.当抓取的参数值总数大于100时，点击【pause】或者【stop】，这时可以进行数据分析，
点击【Analyze now】即进行数据的随机性分析。
117
第十章 如何使用Burp Sequencer
7.等分析结束，则可以看到分析结果的各种图表。
118
第十章 如何使用Burp Sequencer
8.当然，我们也可以把获取的数据保存起来，下一次使用的时候，从文件加载参数，进行数据
分析。如下图保存数据。
9.当我再次使用时，直接加载数据进行分析即可。
119
第十章 如何使用Burp Sequencer
可选项设置（Analysis Options）
分析可选项设置的目的主要是为了控制token或者参数，在进行数据分析过程中，需要做什么
样的处理，以及做什么类型的随机性分析。它主要由令牌处理（Token Handling）和令牌分
析（Token Analysis）两部分构成。
120
第十章 如何使用Burp Sequencer
令牌处理Token Handling主要控制令牌在数据分析中如何被处理，它的设置界面如下图
所示： 其
中Pad short tokens at start / end 表示如果应用程序产生的令牌是具有可变长度的，那
么这些令牌在数据分析前都需要被填充，以便于进行的统计检验。你可以选择是否填充
在开始位置或每个令牌的结束位置。在大多数情况下，在开始位置填充是最合适。 Pad
with 表示你可以指定将用于填充的字符。在大多数情况下，数字或ASCII十六进制编码的
令牌，用“0”填充是最合适的。 Base64-decode before analyzing表示在数据分析是否
进行base64解码，如果令牌使用了base64编码的话，则需要勾选此项。
令牌分析Token Analysis主要用来控制对数据进行随机性分析的类型，我们可以选择多
个分析类型，也可以单独启用或禁用每个字符类型级和字节级测试。有时候，执行与启
用所有分析类型进行初步分析后，再禁用某些分析类型，以便更好地了解令牌的特点，
或隔离由样品表现任何不寻常的特性。其设置界面如下：
其中上面两个选项是控制数据分析的字符类型级，它包含Count和Transitions。 Count是指
分析在令牌内的每个位置使用的字符的分布，如果是随机生成的样本，所用字符的分布很可
能是大致均匀的。在每个位置上分析统计令牌是随机产生的分布的概率。其分析结果图表如
下所示：
121
第十章 如何使用Burp Sequencer
其中上面两个选项是控制数据分析的字符类型级，它包含Count和Transitions。 Count是指
分析在令牌内的每个位置使用的字符的分布，如果是随机生成的样本，所用字符的分布很可
能是大致均匀的。在每个位置上分析统计令牌是随机产生的分布的概率。其分析结果图表如
下所示：
Transitions是指分析样品数据中的连续符号之间的变化。如果是随机生成的样品，出现在一
个给定的位置上的字符是同样可能通过在该位置使用的字符中的任一项中的下一个标志的改
变。在每个位置上统计分析令牌随机产生到变化的概率。其分析结果图表如下所示：
122
第十章 如何使用Burp Sequencer
下面的几项设置是用于控制数据分析的字节级测试，它比字符级测试功能更强大。启用字节
级分析中，每个令牌被转换成一组字节，与设置在每个字符位置的字符的大小决定的比特的
总数。它包含的测试类型有以下七种。
FIPS monobit test——它测试分析0和1在每个比特位置的分配，如果是随机生成的样本，1
和0的数量很可能是大致相等。Burp Sequencer 记录每个位是通过还是没通过FIPS试验观
测。值得注意的是，FIPS测试正式规范假定样本总数为20000个时。如果你希望获得的结果
与该FIPS规范一样严格的标准，你应该确保达到20000个令牌的样本。 其分析结果图表如下
所示：
FIPS poker test—— 该测试将j比特序列划分为四个连续的、非重叠的分组，然后导出4个
数，计算每个数字出现16个可能数字的次数，并采用卡方校验来评估数字的分布。如果样品
是随机生成的，这个数字的分布可能是近似均匀的。在每个位置上，通过该测试方式，分析
令牌是随机产生的分布的概率。其分析结果图表如下所示：
123
第十章 如何使用Burp Sequencer
与该FIPS规范一样严格的标准，你应该确保达到20000个令牌的样本。 其分析结果图表如下
所示：
124
第十章 如何使用Burp Sequencer
FIPS runs tests —— 该测试将具有相同值的连续的比特序列在每一个位置进行划分成段，然
后计算每一个段的长度为1，2，3，4，5，和6以及6以上。如果样品是随机生成的，那么这些
段的长度很可能是由样本集的大小所确定的范围之内。在每个位置上，使用该分析方法，观
察令牌是随机生成的概率。其分析结果图表如下所示：
FIPS long runs test —— 这个测试将有相同值的连续的比特序列在每一个位置进行划分成
段，统计最长的段。如果样品是随机生成的，最长的段的数量很可能是由样本集的大小所确
定的范围之内。在每个位置上，使用此分析方法，观察令牌是随机产生的最长段的概率。其
分析结果图表如下所示：
125
第十章 如何使用Burp Sequencer
126
第十章 如何使用Burp Sequencer
可能是非随机的。在每个位置，使用此种分析方法，观察令牌是随机发生的概率。其分析结
果图表如下所示：
Correlation test ——比较每个位置具有相同值的令牌样本与每一个位置具有不同值的短令牌
样本之间的熵，以测试在令牌内部的不同的比特位置中的值之间的任何统计学显著关系。如
果样品是随机生成的，在给定的比特位置处的值是同样可能伴随着一个或一个零在任何其它
位的位置。在每个位置上，使用此种分析方法，观察令牌是随机生成的可能性。为了防止任
127
第十章 如何使用Burp Sequencer
可能是非随机的。在每个位置，使用此种分析方法，观察令牌是随机发生的概率。其分析结
果图表如下所示：
Correlation test ——比较每个位置具有相同值的令牌样本与每一个位置具有不同值的短令牌
样本之间的熵，以测试在令牌内部的不同的比特位置中的值之间的任何统计学显著关系。如
果样品是随机生成的，在给定的比特位置处的值是同样可能伴随着一个或一个零在任何其它
位的位置。在每个位置上，使用此种分析方法，观察令牌是随机生成的可能性。为了防止任
128
第十章 如何使用Burp Sequencer
本章涉及诸多数学统计分析的知识，在表述或理解过程中由于知识水平的限制可能会存在错
误，如果有问题的地方，欢迎发送邮件到 PI:EMAIL,先感谢您的批评指正。
129
第十一章 如何使用Burp Decoder
第十一章 如何使用Burp Decoder
Burp Decoder的功能比较简单，作为Burp Suite中一款编码解码工具，它能对原始数据进行各
种编码格式和散列的转换。其界面如下图，主要由输入域、输出域、编码解码选项三大部分
组成。
输入域即输入需要解码的原始数据，此处可以直接填写或粘贴，也可以通过其他Burp工具的
上下文菜单中【Send to Decoder】；输出域即对输入域进行解码的结果显示出来。无论是输
入域还是输出域都支持文本与Hex两种格式，其中编码解码选项中，由解码选项（Decode
as)、编码选项（Encode as)、散列（Hash）三个构成。实际使用中，可以根据场景的需要进
行设置。对于编码解码选项，目前支持URL、HTML、Base64、ASCII、16进制、8进制、2
进制、GZIP共八种形式的格式转换，Hash散列支持SHA、SHA-224、SHA-256、SHA-384、
SHA-512、MD2、MD5格式的转换，更重要的是，对于同一个数据，我们可以在Decoder的
界面，进行多次编码解码的转换。如下图所示：
130
第十一章 如何使用Burp Decoder
131
第十二章 如何使用Burp Comparer
第十二章 如何使用Burp Comparer
132
第十二章 如何使用Burp Comparer
Burp Comparer在Burp Suite中主要提供一个可视化的差异比对功能，来对比分析两次数据之
间的区别。使用中的场景可能是： 1.枚举用户名过程中，对比分析登陆成功和失败时，服务
器端反馈结果的区别。 2.使用 Intruder 进行攻击时，对于不同的服务器端响应，可以很快的
分析出两次响应的区别在哪里。 3.进行SQL注入的盲注测试时，比较两次响应消息的差异，
判断响应结果与注入条件的关联关系。 其界面如下图：