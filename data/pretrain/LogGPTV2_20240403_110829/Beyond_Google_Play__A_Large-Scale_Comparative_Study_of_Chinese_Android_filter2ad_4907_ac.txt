market resources (e.g., advertise them on the starting page) for
app promotion to attract high quality developers.
(6) Transparency: As opposed to Google Play, none of the Chinese
app markets require developers to publish their privacy policies
whenever they obtain and use sensitive user data. However,
nine markets (Google Play, Tencent Myapp, Baidu, 360, OPPO,
Huawei, 25PP, Sougou and AppChina) explicitly inform users
whether the apps contain advertisements. Only Google Play and
360 market report the presence of in-app purchases in the apps.
3 APK COLLECTION
We implemented a crawler to harvest APKs from Google Play and
the 16 alternative Chinese Android app stores listed in Table 1
in August 2017. For each app, we also collect publicly available
metadata as provided by the app stores, including, among others,
the app name, version name, app category, description, downloads,
ratings and release/update date.
We follow different strategies to crawl each market. In the case
of Google Play, we use a list of 1.5 million package names provided
by PrivacyGrade [78] as the searching seeds. We use a breadth-first-
search (BFS) approach to crawl (1) additional related apps recom-
mended for each one of our seeds by Google Play, and (2) other apps
released by the same developer. In order to avoid potential regional
bias, we instrumented our crawler to support both English and
Chinese languages. Chinese app markets index apps in different
IMC ’18, October 31-November 2, 2018, Boston, MA, USA
Haoyu Wang et al.
ways. Consequently, we adapt our crawler to the indexing behavior
of each Chinese app market. For instance, as of this writing, Baidu’s
app market indexes apps incrementally4.
We launched several crawlers in parallel via 50 Aliyun Cloud
Servers [37] between August 15 and August 30, 2017. However,
published Android apps can be updated by the developers at any
time, potentially affecting our analysis. To overcome this challenge,
we implement a “parallel search” strategy in our crawler. As long
as we identify a new app (based on its package name) in one of the
17 markets, we immediately search this app (using either the app
name or its package name, according to different markets) in all the
remaining markets to crawl it simultaneously if found. Note that
we will crawl all the listed searching results and add them to the
searching seeds. After roughly 8 months, we launched a second, one-
week crawling campaign in April 30, 2018 for analyzing whether
any of the studied malicious apps has been removed from each
individual stores (Section 7).
3.1 Dataset
Table 1 reports the number of harvested APKs per store. We crawled
metadata for 6,267,247 different apps across all app stores, and
4,522,411 APK files. To the best of our knowledge, our dataset is
the largest cross-store APK collection obtained by the research
community. The mismatch between app metadata and APKs is
due to Google Play’s rate limiting mechanism, which limited our
APK collection efforts to a random sample of 287,110 of them. We
resorted to AndroZoo [11, 67] to obtain offline the APK files for
1,553,382 of the missing Google Play apps, using the package name
and version name as primary key. Note that, although this dataset
does not cover all the available apps in these markets due to the
limitation of our BFS app crawling method5, we believe that our
dataset has covered the most popular apps in both Google Play and
the Chinese markets. Further, due to the parallel search strategy,
the apps studied across markets will not bias the results.
4 GENERAL OVERVIEW
We now study high-level characteristics of Google Play and the 16
Chinese app stores. Using Google Play as a reference, we briefly
discuss differences along various dimensions such as catalog di-
versity, user downloads, Android API support, third-party libraries
and user ratings.
4.1 App Categories
App stores give app developers the freedom to publish their apps in
specific app categories. However, each Android market implements
a different taxonomy of apps. While Google Play defines 33 app cat-
egories (excluding game app subcategories), Huawei Market only
has 18 categories. In order to perform a fair comparison across mar-
kets, we manually develop a consolidated taxonomy containing 22
app categories, as shown in Figure 1. Due to the lack of enforcement
and lax supervision over the metadata provided by app developers,
4 We use the following syntax: http://shouji.baidu.com/software/INTEGER.html.
5As of this writing, the number of apps in Google Play is 2,893,556 [39], while we only
crawled roughly 70% of them.
Figure 1: Distribution of app categories.
in Tencent, 360, OPPO, and 25PP markets, we classify 40% of the
apps from these stores as “Other” category6.
It is noticeable that Games account for roughly 50% of all apps
across markets, while other popular categories include Lifestyle
and Personalization. The least popular categories are Browsers,
InputMethods and Security tools. Note, also, how the distribution
of published apps across categories for the majority of Chinese app
stores follows closely Google Play’s distribution. A number of app
stores, especially vendor ones such as Meizu, Huawei and Lenovo’s,
present a different distribution of categories.
4.2 User Downloads
The majority of app stores report the actual number of user installs
per app while Google Play bins them into installation ranges (e.g.,
“50,000 - 100,000”). However, this metadata may not be consistent
across stores. Xiaomi and AppChina do not report this information
at all. Further, we suspect that some of the app stores might be
reporting the number of user downloads, likely higher than the
number of user installs, instead of user installs. For comparison
purposes and minimize bias, we normalize the number of user
installed apps for each app store (excluding Xiaomi and AppChina)
to Google Play’s ranges7.
As Table 1 reports, the apps in Google Play have 193 Billion ag-
gregated downloads8. No Chinese app store gets closer individually
to this volume despite the size of the Chinese market in terms of
user-base. However, the number of aggregated downloads across
all the 16 studied markets is three times higher than that of Google
6Apps published in these markets can report NULL or non-descriptive categories (e.g.,
“Unclassified”, “102229”).
7e.g., 75,123 after normalization becomes [50,000, 100,000].
8Estimated by considering the lower bound limit of Google Play’s install range.
0%20%40%60%GooglePlayTencentBaidu360OPPOXiaomiMeizuHuaweiLenovo MM25PPWandoujiaHiAPKAnzhiLIQUPC OnlineSogouApp ChinaBooksBrowsersBusinessCommunicationEducationEntertainmentFinanceHealthInputMethodsLifestyleLocationNewsMusicPersonalizationPhotographySecurityShoppingSocialToolsVideoGameNull/OtherWeb Co.VendorSpecializedCategoryApp MarketA Large-Scale Comparative Study of Chinese Android App Markets
IMC ’18, October 31-November 2, 2018, Boston, MA, USA
Figure 2: Distribution of downloads across markets.
Play. This figure shows the importance of Chinese Android markets
when aggregated.
The distribution of app downloads follows a power-law distribu-
tion, regardless of the app market, as shown in Figure 2. In general,
85% of the analyzed apps have less than 10K installs. However,
subtle differences arise when looking in detail on a per-store basis
after ranking the apps by their number of installs. On average, the
top 0.1% of the apps account for more than 50% of the total down-
loads, regardless of the app store. However, the top 0.1% of apps
published in Tencent MyApp account for more than 80% of the total
downloads while more than 55% of its published apps have almost
no downloads (1MGoogle Play       4.05%17.90%30.52%25.38%15.15%5.62%1.21%Tencent Myapp  55.87%12.37%15.50%10.38%4.21%1.21%0.35%Baidu Market0.00%34.98%25.91%23.21%7.65%5.40%2.26%360 Market16.54%16.08%19.25%25.79%12.78%7.24%1.97%Huawei Market0.10%0.00%38.05%27.33%17.64%11.73%4.16%Xiaomi Market0.00%0.00%0.00%0.00%0.00%0.00%0.00%Wandoujia1.96%4.74%43.66%35.24%12.17%1.77%0.38%HiApk0.00%0.00%78.24%13.15%5.93%2.05%0.53%Anzhi Market0.10%1.35%49.72%42.83%4.86%0.84%0.23%OPPO Market0.00%0.00%84.31%10.47%3.16%1.55%0.43%25PP0.27%4.63%68.02%20.34%4.82%1.49%0.37%Sougou0.77%17.83%55.13%22.27%2.51%1.15%0.31%MeiZu Market7.63%13.50%45.37%19.54%7.97%4.28%1.42%LIQU0.01%0.03%0.01%71.83%22.32%5.14%0.61%App China0.00%0.00%0.00%0.00%0.00%0.00%0.00%Lenovo MM0.04%14.70%0.00%53.54%16.78%11.02%3.19%PC Online13.07%74.19%8.62%2.98%0.91%0.21%0.02%Minimum API LevelPercentage of Apps   160.400.350.300.250.200.150.100.050.000.00%10.00%20.00%30.00%40.00%50.00%60.00%70.00%80.00%90.00%100.00%Chinese Alternative MarketsGoogle PlayIMC ’18, October 31-November 2, 2018, Boston, MA, USA
Haoyu Wang et al.
(a) Third-party Libraries
(b) Advertisement Libraries.
Figure 5: Presence of third-party libraries across app stores.
Table 2: Top 10 third-party libraries for Google Play and
Chinese markets apps. Chinese market specific libraries are
highlighted in the table.
Google Play
Type
Package Name
com.google.android.gms Development
Advertisement
com.google.ads
Social Networking
com.facebook
Development
org.apache
com.squareup
Payment
Development
com.google.gson
Payment
com.android.vending
Game Engine
com.unity3d
Game Engine
org.fmod
com.google.firebase
Development
Chinese Markets
Advertisement
com.google.ads
org.apache
Development
com.google.android.gms Development
com.tencent.mm
com.baidu
com.umeng
com.google.gson
com.alipay
com.facebook
com.nostra13
Social Networking
Development, Map
Analytics, Advertisement
Development
Payment
Social Networking
Development
Usage (%)
66.1
62.1
21.5
20.5
13.8
12.9
12.5
11.8
9.6
9.0
25.7
24.1
20.5
17.3
16.9
16.5
16.3
11.0
10.7
10.6
hence causing potential privacy risks [43, 61, 72, 79, 81, 82, 88]. This
is aggravated by the lack of transparency enforcement across alter-
native app stores (Section 2): no alternative Chinese store requires
developers to publish a privacy policy, and only a handful of them
actively report the presence of ad services or in-app purchases in
published apps.
Although existing studies have created several tools or datasets
for third-party library detection [43, 65, 74, 80], they are either too
old or incomplete to fulfill our research purpose in this paper. For
example, LibRadar [70, 74] is a widely used and obfuscation-resilient
tool to identify third-party libraries used in Android apps. However,
it was created in 2016, and it relies on a feature dataset of libraries
extracted from Google Play apps. Considering that our apps are
crawled in August 2017, and most of our apps are from Chinese
markets, it may fail to report new libraries (or new versions) as
well as libraries specific to the Chinese market.
To this end, we have applied the clustering-based approach in-
troduced in LibRadar [74] to the 6 million apps we collected in this
paper, and build a new and complete feature dataset of third-party
libraries covering apps in both Google Play and the Chinese mar-
kets. At a result, we have created a dataset containing 5,102 libraries
with 672,052 different versions. We then manually examined the top
2,000 libraries and labeled them into different categories9. In order
to identify the company behind each one of them as well as the
purpose of the library, we search the unobfuscated package name
in Google, and refer to several sources, including AppBrain library
classification [39], PrivacyGrade classification [78], and Common
Library classification [65]. We group them in 5 different categories
by their purpose or offered service: ad network, analytics, social
networking, development tools, and payment.
As shown in Figure 5(a), the presence of third-party services
varies from app store to app store, yet it remains high: Google
Play has the highest presence of embedded third-party libraries in
their published apps (roughly 94% of published apps have a third-
party library) whereas PC Online presents the lowest penetration
(85% of published apps). Differences also appear in terms of the
total number of libraries per app when inspecting specific stores,
specially in vendor-provided app stores. While the average app
embeds more than 10 third-party libraries, those published in 360
market have 20 third-party libraries embedded on average. This
number contrasts significantly with the 8 libraries found in average
for Google Play apps.
Most Popular Third-party Libraries. Table 2 lists the top 10
third-party libraries found for apps published in Google Play and
all Chinese markets, respectively. Google-related libraries used for
advertisement and analytics services dominate in Google Play: they
can be found in more than 60% of published apps. It is interest-
ing to see that, although Google services are blocked in China,
Google-related libraries can be also found in Chinese markets, with
more than a quarter of apps in Chinese markets embedding Google-
related advertising libraries [79, 86]. We further explored these
9Note that for libraries with multiple versions, we only need to label one of them.
App Market0.60.70.80.91.0Percentage of Apps% of Apps that Use TPLs0510152025Average Number of Third-party Libraries# of Average TPLsGoogle PlayTencent 360 Baidu Huawei Xiaomi Wandoujia HiAPK AnZhi OPPO 25PP Sogou Meizu LIQU App China PC OnlineLenovo MM0.000.250.500.751.001.251.501.752.00App MarketGoogle Play360 Baidu Huawei Xiaomi Wandoujia HiAPK AnZhi OPPO 25PP Sogou Meizu LIQU App China Lenovo MMPC Online% of Apps that Use Ad Libraries# of Average Ad LibrariesPercentage of AppsAverage Number of Ad LibrariesTencent 1.00.80.60.40.20A Large-Scale Comparative Study of Chinese Android App Markets
IMC ’18, October 31-November 2, 2018, Boston, MA, USA
Figure 6: Distribution of app ratings across markets.
apps and identified two leading reasons for this. The first reason
is that most of these apps do not release Chinese-specific versions.
This implies that the subset of applications relying on Google Ser-
vices found on alternative Chinese app stores are identical to those
present in Google Play. The second reason is that some markets
crawl apps in Google Play to enlarge their application catalog: more
than 30,000 apps published in Baidu market are explicitly labeled
as crawled from Google Play in the developer name field. Never-
theless, we found many instances of third-party libraries specific
to the Chinese market across app stores. For instance, instead of
Facebook’s GRAPH API [18], more than 17.3% of the apps published
in Chinese markets embed Tencent Wechat library [32], a popular
Chinese social networking SDK. Alipay (a payment SDK) and Baidu
(a library for development also offering map support) are also used
by more than 10% of the apps published in Chinese markets, hence
replacing Google vending and Google Maps, respectively.
Advertising libraries. Identifying advertising libraries is a non-
trivial task, as suggested by previous studies [53, 71, 75]. We lever-
age AppBrain and Common Library classification [65] to identify
and classify third-party ad libraries. We have manually labeled 282
advertisement-specific libraries (with 56,011 versions) in total. As
shown in Figure 5(b), around 70% of the apps published in Google
Play use any of the labeled ad libraries, while 53.2% of apps in Chi-
nese markets use at least one ad library. It is worth mentioning that
Google AdMob dominates Google Play with roughly 90% of the ad-
vertisement market share, while the Chinese mobile ad ecosystem
is more decentralized. Google AdMob and Umeng are the two most
popular ad libraries, accounting for 80% of the mobile ad market
share in China, while more than 200 ad libraries compete for the
remaining 20% of the market.
4.5 App Ratings
We conclude our app store comparison with a brief analysis of how
users rate published apps. The rating scores are crawled from app
markets. Note that if an app does not receive any rating score, we
set it as 0 by default. Figure 6 shows the CDF of app ratings for all
Figure 7: CDF of developer published markets.
the considered markets. The distribution shows that app ratings
vary greatly across Chinese markets but it is possible to identify
two clear patterns:
• Pattern #1: More than 80% of apps in Chinese third-party app
markets do not receive user ratings at all, around 90% of these
apps have less than 1,000 downloads. This pattern can be found
in 25PP, OPPO and Tencent Myapp markets. This trend indicates
that most of the apps published in these markets are low-quality
and unpopular Android apps – a trend in-line with the app down-
load distribution shown in Figure 2.
• Pattern #2: Finally, we notice that the distribution for several
markets (e.g., PC Online in the bottom) contains many apps with
ratings between 2.5 and 3 out of 5. We tried to upload some testing
apps to PC Online and found that they use a default rating of 3,
instead of a default rating 0, which could be the reason leading
to this distribution.
Google Play, instead, presents a pattern completely different to that
of any Chinese app market: only 9.3% of Google Play apps have not
been rated by users, while more than 50% of them have received
ratings higher than 4.