l
a
u
m
u
C
 4.5e+13
 4e+13
 3.5e+13
 3e+13
 2.5e+13
 2e+13
 1.5e+13
 1e+13
 5e+12
 0
Uploaded by SEEDS
Uploaded by LEECHERS
31/03 01/05 01/06 01/07 01/08 01/09
Time
e
g
a
t
n
e
c
r
e
P
 100
 80
 60
 40
 20
 0
LEECHERS
SEEDS
31/03
01/05
01/06
Time
01/07
01/08
01/09
Fig. 2. Volumes uploaded by seeds and
leechers
Fig. 3. Proportions of seeds and leechers
4.2
Individual Session Performance
A fundamental performance metric for BitTorrent is the average download rate
of leechers. Over the 5 months period covered by the tracker log, we observed an
average download rate consistently above 500kb/s. This impressive ﬁgure indica-
tes that most of the BitTorrent clients have good connectivity (at least ADSL),
which is not surprising given the total size of the ﬁle. Moreover, BitTorrent
exhibits good scalability: during the initial ﬂash-crowd, the average download
rate was close to 600kb/s and the aggregate download rate of all simultaneously
active clients was more than 800Mb/s.
BitTorrent is thus able to capitalize the bandwidth of end system hosts to
achieve a very high aggregate throughput. Still, the ﬁnal objective of BitTorrent
is to replicate a given content over all the peers in a torrent. We thus need to know
how many peers eventually completed the download and the fraction of bytes
that the peers that did no complete the transfer downloaded. Since BitTorrent
allows users to suspend and resume the download at any time, a peer might
complete the download after one or several sessions. In the tracker log, a session
id identiﬁes the session (hash of the IP address of the host and its current time),
along with the IP address of the host as seen by the tracker. Thus, identifying
single session downloads is easy based on the session id. To reconstruct multi-
sessions downloads, we assumed that the IP address of the host does not change
6
M. Izal et al.
from one session to another. NATs often used port numbers to disambiguate
connexions and not IP addresses, so our assumption can hold even in this case.
Of course, if two or more hosts behind a ﬁrewall simultaneously participate to
the same torrent, it might be diﬃcult to disambiguate them. In addition, since
a peer provides the amount of bytes it has downloaded in each of its reports
(sent every 30 minutes), we mated two sessions with the same IP if the amount
of bytes of the last report for the ﬁrst session is close to the amount of bytes
of the ﬁrst report of the second session. These two values are not necessarily
the same if for instance, the user disconnected the BitTorrent client improperly
which results in the latter not sending its disconnection report with its current
amount of bytes downloaded. A set of sessions form a multi-sessions download
if the download of the ﬁle is completed during the last session (on average, we
found that a multi-session download consists of 3.9 sessions). We also observed
some sessions that started with already 100% of the ﬁle downloaded. This is the
case if the user is kind enough to rejoin the torrent after the completion of the
download to act as a seed. We thus categorize the sessions into four categories :
single session download, multi-session download, seed sessions and session that
never complete (incomplete downloads). We provide statistics for these sessions
in Table 1.
Table 1. Sessions types and their characteristics
Type
Number Total Total Down.
of
down.
up. /session /session
rate
sessions (TB) (TB)
(MB)
Single session downloads
Multi-session downloads
Incomplete downloads
Seed sessions
Total
20584
14285
138423
8555
181847
(MB) (kb/s) (kb/s)
34.7 28.5 1765.7 1450.2 1331.1 325. 2
319.2 390.6 145.0
6.2
50.5
11.2
69.1 114.7
- 223.6
-
-
Up. Down. Up. Down.
rate Duration
(hours)
8.1
19.2
-
-
-
4.3
9.1
- 12.7
52.1 54.6
- 1556.6
-
-
455.2
84.5
Overall, Table 1 indicates that only 19% of the sessions are part of a transfer
that eventually completed. However, the 81% of sessions that did not complete
the transfer represent only 21.5% of the total amount of downloaded bytes.
Moreover, the incomplete sessions uploaded almost as much bytes as they do-
wnloaded. It is diﬃcult to assess the reason behind the abortion of a transfer. It
might be because the user eventually decides he is not interested in the ﬁle or
because of a poor download performance. To investigate this issue, we look at
the statistics (durations and volumes) for sessions that start with 0% of the ﬁle
during the ﬁrst ﬁve days. We classify these sessions into two categories denoted
as “completed” and “non-completed”. The completed category corresponds to
the single session downloads deﬁned previously while the non-completed cate-
gory corresponds to transfers that never complete or the ﬁrst session of transfers
that will eventually complete. We present on Figure 4 the complementary cu-
mulative distribution functions for the download volumes and session durations
Dissecting BitTorrent: Five Months in a Torrent’s Lifetime
7
for the completed and non-completed sessions. We can observe from this ﬁgure
that 90% of the non-completed sessions remain less than 10, 000 seconds in the
torrent (and 60% less than 1000 seconds) and retrieve less than 10% of the ﬁle.
Most of the non-completed sessions are thus short and little data is downloaded.
First 5 days sessions (51207)
First 5 days sessions (51207)
 1
 0.1
 0.01
 0.001
 1e-04
)
x
>
e
m
i
t
(
P
 1e-05
 100
completed
noncompleted
 1000
 10000  100000  1e+06  1e+07
Total time(s)
 1
 0.1
 0.01
 0.001
 1e-04
)
x
>
d
e
d
a
o
n
w
o
d
(
P
l
 1e-05
noncompleted
 100000  1e+06  1e+07  1e+08  1e+09  1e+10
Volume downloaded(bytes)
(a) Duration
(b) Download volume
Fig. 4. Single sessions statistics for sessions seen during the ﬁrst 5 days
Let us now further focus on the performance achieved by single session do-
wnloads. The average download rate of these 20, 584 sessions is close to 1.3Mb/s
over the whole trace, which is larger than the download rate averaged over all
sessions (500kb/s). The average download time for single session download is ab-
out 29, 000 seconds overall. Such values reveal a high variability in the download
rates achieved by these sessions since if they had all achieved a download rate of
∼ 10, 000 seconds. This is
1.3Mb/s, the average download time would be 1.77GB
1.3Mb/s
conﬁrmed by the distribution of these download throughputs (see Figure 5(a))
that clearly exhibits a peak around 400kb/s (a typical value for ADSL lines), a
value signiﬁcantly smaller than the mean.
4.3 Geographical Analysis
The tracker log provides the IP addresses of the clients. Based on these addres-
ses, we have used NetGeo (http://www.caida.org/tools/utilities/netgeo/) to
obtain an estimation of the origin country of the peers that participated to the
torrent. The estimation might be imprecise as NetGeo is not maintained any
more. Overall, we were not able to obtain information for around 10% of the
hosts. In Table 2 we indicate the top ﬁve countries for the ﬁrst 5 days, the ﬁrst
4 weeks and the complete trace. We can observe that this set of countries, as
well as the ranking is consistently the same for all three time scales. Most of the
clients are US clients while Europe is represented only through the Netherlands.
Still, for Netherlands, 50% of the hosts originate from ripe.net (an information
8
M. Izal et al.
Throughput(mean=1387 Kbps)
 0.04
 0.035
 0.03
 0.025
 0.02
 0.015
 0.01
 0.005
y
t
i
l
i
b
a
b
o
r
P
 0.035
 0.03
 0.025
 0.02
 0.015
 0.01
 0.005
)
r
h
T
(
P
US (µ=1451)
NL (µ=835)
 0
 100
 1000
 10000
Throughputs (Kbps)
 0
 100
 1000
 10000