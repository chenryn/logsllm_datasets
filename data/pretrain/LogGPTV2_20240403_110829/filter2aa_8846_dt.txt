### 传输层与主机到主机的逻辑连接

**包（Packet）和帧（Frame）**

- **网络层次结构**：在 Internet 和 IP 网络中，数据通过包的形式进行传输。帧是数据链路层中的基本单元。
- **数据链路层细分**：
  - 逻辑链路控制 (LLC) + 介质访问控制 (MAC)
  - 数据链路层
  - 网络接入层

**通信网络**

- **以太网**：以比特/位 (Bits) 为基础的物理承载网。

**TCP/IP 协议栈**

- TCP/IP 是一种分层协议（分为四层），同时也是一种聚合协议（集成了七层模型的部分功能，并融合了多种协议协同工作）。

### 各层协议详解

#### 第一层：物理层

- **定义**：负责定义网络的物理拓扑结构，处理物理信号。
- **硬件设备**：电缆、连接器、集线器、中继器等。
- **常用协议**：
  - EIA/TIA-232, EIA/TIA-449
  - X.21
  - 高速串行接口 (HSSI)
  - 同步光网络 (SONET)
  - V.24, V.35

#### 第二层：数据链路层

- **功能**：接收来自网络层的数据包 (Packet)，生成数据帧 (Frame)，确保无误或容错地交换信息。
- **技术**：以太网 (IEEE 802.3), 令牌环网 (IEEE 802.5), 异步传输模式 (ATM), 光纤分布式数据接口 (FDDI), 铜线分布式数据接口 (CDDI)。
- **子层**：
  - 逻辑链路控制 (LLC) 子层 (IEEE 802.2)
  - 介质访问控制 (MAC) 子层 (IEEE 802.3)

**MAC 地址**

- **格式**：6 字节 (48 比特) 的十六进制地址，例如 OO-13-02-1F-58-F5。
- **组成**：
  - 前三个字节 (24 比特)：组织唯一标识符 (OUI)，表示供应商或制造商。
  - 后三个字节 (24 比特)：设备的唯一代码。
- **扩展地址**：
  - MAC-48 和 EUI-48：6 字节地址。
  - EUI-64：为 IPv6 和更多设备设计的新标准，向下兼容。

**支持的协议**

- SLIP, PPP, ARP, RARP, L2F, L2TP, PPTP, ISDN

#### 第三层：网络层

- **功能**：使用逻辑地址 (IP 地址) 进行寻址和路由选择，添加路由信息，但不验证传输。
- **典型协议**：
  - ICMP, RIP, OSPF, BGP, IGMP, IP, IPSec, IPX, NAT, SKIP, DHCP

**重要协议：IP**

- **寻址**：使用 IP 地址转发数据包。
- **分段**：将大数据包拆分为适合本地网络大小的小数据包。

**路由协议**

- **距离矢量**：RIP, IGRP, EIGRP
- **链路状态**：OSPF, IS-IS
- **外部路由协议**：BGP (路径矢量)

**非 IP 协议**

- IPX, AppleTalk, NetBIOS

#### 第四层：传输层

- **功能**：管理连接的完整性并控制会话，将 PDU 转换为数据段。
- **主要协议**：
  - TCP, UDP, SPX, SSL, TLS

**TCP 和 UDP**

- **UDP**：无连接、不可靠，常用于音频和视频传输。
- **TCP**：面向连接、可靠，提供无差错传输保证。

#### 第五层：会话层

- **功能**：建立、维护和终止通信会话，管理对话模式和恢复检查点。
- **协议**：
  - NFS, SQL, RPC, NetBIOS, PAP, PPTP, DNA SCP

#### 第六层：表示层

- **功能**：转换数据格式，加密和压缩，确保不同系统间的数据可交互。
- **协议**：
  - ASCII, EBCDICM, TIFF, JPEG, MPEG, MIDI

#### 第七层：应用层

- **功能**：提供网络服务，连接应用程序和操作系统。
- **协议**：
  - HTTP, FTP, LPD, SMTP, Telnet, TFTP, EDI, POP3, IMAP, SNMP, NNTP, S-RPC, SET

### TCP/IP 模型

- **四层结构**：
  1. 应用层
  2. 传输层（主机到主机层）
  3. 网络层（互联网层）
  4. 网络接入层（网络接口层）

**重点协议**

- **TCP**：面向连接、可靠，提供无差错传输。
- **UDP**：无连接、不可靠，常用于音频和视频传输。