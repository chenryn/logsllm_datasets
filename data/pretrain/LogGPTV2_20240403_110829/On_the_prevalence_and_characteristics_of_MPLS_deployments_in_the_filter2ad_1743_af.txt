Dataset: January 2008–August 2011.
http://www.caida.org/data/active/ipv4_
routed_topology_aslinks_dataset.xml.
[23] H. Kim, K. Wong, W. Chen, and C. Lau. Mobility-aware
MPLS in IP-based Wireless Access Networks. In
Proceedings of IEEE Globecom ’01, November 2001.
[24] K. Kompella and G. Swallow. RFC 4379: Detecting
Multi-Protocol Label Switched (MPLS) Data Plane Failures.
http://www.ietf.org/rfc/rfc4379.txt, February
2006.
[25] S. Lee and M. Gerla. Fault Tolerance and Load Balancing in
QoS Provisioning with Multiple MPLS Paths. In
Proceedings of the 9th International Workshop on Quality of
Service, June 2001.
[26] M. Luckie. Scamper: a Scalable and Extensible Packet
Prober for Active Measurement of the Internet. In
Proceedings of ACM SIGCOMM Internet Measurement
Conference, November 2010.
[27] M. Luckie. Personal communication, May 2011.
[28] M. Luckie, Y. Hyun, and B. Huffaker. Traceroute probe
method and forward IP path inference. In Proceedings of
ACM SIGCOMM Internet Measurement Conference, pages
311–324, October 2008.
[29] P. Newman, W. Edwards, R. Hinden, E. Hoffman, C. Liaw,
T. Lyon, and G. Minshall. RFC 1953: Ipsilon Flow
Management Protocol Speciﬁcation for IP.
http://www.ietf.org/rfc/rfc1953.txt, May
1996.
[30] Y. Rekhter, B. Davie, D. Katz, E. Rosen, and G. Swallow.
RFC 2105: Cisco’s Tag Switching Architecture Overview.
http://www.ietf.org/rfc/rfc2105.txt, February
1997.
[31] E. Rosen, A. Viswanathan, and R. Callon. RFC 3031:
Multiprotocol Label Switching Architecture.
http://www.ietf.org/rfc/rfc3031.txt, January
2001.
[32] R. Sherwood, A. Bender, and N. Spring. Discarte: a
disjunctive internet cartographer. In Proceedings of ACM
SIGCOMM ’08, pages 303–314, August 2008.
[33] R. Sherwood and N. Spring. Touring the Internet in a TCP
Sidecar. In Proceedings of ACM SIGCOMM Internet
Measurement Conference, pages 339–344, October 2006.
[34] R. Steenbergen. Nanog Tutorial: MPLS for Dummies.
http://www.nanog.org/meetings/nanog49/
presentations/Sunday/mpls-nanog49.pdf, June
2010.
[35] B. Wang, S. Xu, and C. Chen. A New Bandwidth Guaranteed
Routing Algorithm for MPLS Trafﬁc Engineering. In
Proceedings of ICC ’02, April 2002.
[36] L. Wasserman. All of nonparametric statistics (springer texts
in statistics). Springer, May 2007.
[37] X. Xipeng, A. Hannan, B. Bailey, and L. Ni. Trafﬁc
Engineering with MPLS in the Internet. IEEE Network,
14(2), March/April 2000.
458Summary Review Documentation for 
“On the Prevalence and Characteristics of MPLS 
Deployments in the Open Internet” 
Authors: J. Sommers, B. Eriksson, P. Barford 
Reviewer #1 
Strengths: First large scale Internet wide study of the deployment 
of MPLS.  
Proposal  of  a  reasonable  approach  to  detect  some  of  the  hidden 
tunnels. 
Weaknesses: Some of the MPLS deployments can be completely 
transparent to traceroutes even with the proposed methodology to 
detect some cases of hidden deployments. Comparison of routing 
data with stock market data... 
Comments  to  Authors:    I  am  glad  to  see  that  finally  someone 
spends  time  on  this  topic;  it  is  an  important  topic  that  has  been 
neglected for a long time. 
Figure 2 and general comments about the deployment of MPLS: 
you  should  really  break  down  the  statistics  by  AS  type.  For 
instance, you could use the "Cyclops" classification and provide  
stats for Tier 1 ISPs, Large ISPs or stub ASs. I think this would 
provide  a  better  view  about  the  extent  of  the  deployment  of 
MPLS. My guess is that your 7% would significantly increase if 
you were to look at Tier 1 ISP or large ISPs. You might want to 
summarize  it  as  at  least  7%  of  all  ASs  and  X%  of  large  ISP  or 
Tier 1 ISPs. 
While  you  do  a  good  job  in  the  paper  of  explaining  the  caveats 
(there are cases where you can simply not detect MPLS), I think 
you  need  to  highlight  this  also  better  in  the  abstract,  intro  and 
conclusion.  This  is  all  the  more  important  as  you  propose  a 
heuristic  to  detect  MPLS  deployments,  so  some  readers  might 
think  that  your  heuristic  covers  all  the  cases  and  your  7%  is  a 
good approximation. 
In the intro, you should also mention that multi service networks 
go beyond MPLS VPNs, MPLS also enables IPv6 and VPLS. 
PLEASE remove Fig 3. Don't compare routing data to the stock 
market (or the weather!). Trying to correlate the two doesn't make 
any  sense  to  me.  Furthermore,  Fig  4  already  shows  that  AT&T 
experiences  a  significant  drop  in  early  2009  (how  significant?). 
How  would  Fig  3  look  like  without  AT&T?  It  seems  that  you 
simply detected a major architecture change within AT&T around 
that period.  
Did  you  contact  Deutsche  Telekom  to  explain  what  you  are 
observing on Fig 4? 
You mention the issue of PHP and how it impacts the length of 
the tunnel. That's a great observation. But it seems to me that you 
could  go  further  and  try  to  detect  the  use  of  PHP  by  looking  at 
traces  within  an  ISP  in  2  opposite  directions  (the  path  will  be 
asymmetrical  so  it  will  complicate  things  but  I'm  sure  you  can 
work something out). 
On  traffic  classes:  you  should  highlight  again  that  this  is  for 
public  Internet  traffic.  It  is  possible  that  ISPs  use  one  class  for 
their  Internet  traffic  but  use  another  3  other  classes  for  otehr 
services like MPLS VPN that you cannot detect. 
Regarding  AS6799  and  AS6834:  you  should  check  if  the  traffic 
class  for  these  ISPs  depend  on  the  the  previous  AS  hop:  maybe 
the  traffic  class  is  X  if  the  traffic  enters  from  AS  Y  and  traffic 
class Z if the traffic enters from AS A because one is a peer and 
one is a customer. Just an idea. 
You  claim  that  you  can  detect  80%  of  the  MPLS  paths  that  are 
longer than 4. Is Fig 4 not showing that most of the MPLS paths 
are shorter than 4 hops? Could you quantify it here?  
Reviewer #2 
Strengths:  Internet  topology  studies  have  ignored  MPLS  until 
now.  Only  anecdotal  evidence  about  MPLS  deployment  was 
discussed in the community. This study is among the first that try 
to measure how many ASes use MPLS and also how it is used. 
The paper give a detailed introduction into the methodology and 
the measurement pitfalls.   
This  paper  is  critical  to  every  researcher  working  on  any 
traceroute-based topology measurements. 
Weaknesses:  The  study  is  a  bit  premature.  While  it  nicely 
discusses  methodology  and  in  how  many  ASes  MPLS  has  been 
detected.  it  relies  on  CAIDA's  ARK  data,  which  collects 
traceroutes  from  a  set  of  specific  locations.  This  results  in 
measurements,  which  are  heavily  biased 
those 
observation points. The authors do not provide any insights into 
how  suitable  this  dataset  is  for  studying  MPLS  deployment  and 
what the limitations are. The paper does not make any effort into 
addressing  this  issue  at  all  (e.g.,  not  even  as  an  explanatory 
warning  to  the  reader).  Many  observations  in  this  paper  are 
described  in  relation  to  "number  of  observed  MPLS  tunnels". 
This,  of  course  heavily  relies  on  the  used  data  and  is  of  little 
insight to the reader in what it really means. 
Comments  to  Authors:    This  is  a  very  well  written  paper,  and 
relevant  for  everyone  who  is  trying  to  understand  the  Internet 
topology. While the paper could do a better job in explaining what 
the authors know about the limitations and the measurement bias, 
this  is  overall  a  well  done  study.  It  includes  an  excellent 
introduction  into  what  is  relevant  to  know  for  a  measurement 
towards 
459researcher  if  he/she  wants  to  include  MPLS  measurements  into 
their work.  
As  mentioned  above,  it  is  difficult  to  get  a  good  feeling  for  the 
data. Talking about 350K MPLS tunnels or hearing that 20% of 
all  ASes  have  fewer  than  10  tunnels,  is  relatively  meaningless 
overall.  For  a  different  set  of  observation  points  those  numbers 
could  look  different.  The  reader  lacks  a  bit  perspective  of  how 
relevant or irrelevant this is. The paper provides little topological 
information, and it remains unclear what the quality or suitability 
of using CAIDA's probing is for the purpose of this study.  
Admitted, the authors are not able to do things differently, as this 
would  easily  lead  into  areas  of  pure  speculations  and  could 
introduce a strong bias in the data.  However, the authors could 
have  added  a  section  that  gives  a  bit  more  intuition  about  the 
CAIDA ARK data. For example, AT&T relies heavily on MPLS 
(as the paper shows), but could there be a region in Asia which 
uses as much MPLS at AT&T, but due to the lack of measurement 
points this might not be detectable?  
It remained a mystery to me why the authors develop the MPLS 
detection method in "regular" traces, validate it, and then study 3 
additional  month  in  2008.  This  data  does  not  add  any  new 
insights!  What  would  have  been  nice  is  a  long-term  analysis  of, 
for  example  skitter  data;  and  trying  to  detect  properties  of  the 
early adaptors.   
Reviewer #3 
Strengths: Longitudinal, high-quality data of something the IMC 
community  should  know  more  about,  but  does  not.    The  high 
deployment rate of MPLS underscores the importance of this type 
of work. 
Weaknesses:  None?    The  text  failed  to  properly  emphasize  that 
all data here is inherently a lower bound on MPLS deployments 
due to the measurement technique. 
Comments to Authors: Great paper - MPLS is a big blind spot 
for  the  academic  community  and  this  paper  does  a  lot  to  try  to 
address it.  First and foremost, this paper quantifies how prevalent 
MPLS  deployments  are.    I  would  have  loved  to  have  seen  the 
deployment numbers broken down by tier-1 (perhaps defined by 
http://en.wikipedia.org/wiki/Tier_1_network#List_of_tier_1_netw
orks, for a common definition), tier-2, etc.   
I suspect that the numbers presented here (i.e, 25% of all hops go 
through an MPLS tunnel) is in fact a significant underestimate due 
to pipe-mode tunnels, so I suggest the authors next try to work on 
this  for  their  future  work.    As  a  basis,  one  could  consider 
extending the Bayesian classifier to look at more characteristics of 
MPLS vs. non-MPLS links, as suggested in the text.  Also, note 
that L1 often imposes physical limitations on real link lengths that 
would  appear  violated  by  an  MPLS-tunnel,  so  that  might  be 
another direction to look. 
Regarding  MPLS-usage  tracking  the  DOW,  my  guess  is  that  if 
you  were  to  do  the  homework,  you  would  find  that  your  data 
better  correlated  with  ISP  mergers  or  out-right  bankruptcies, 
which transitively tracks the DOW, rather than some more direct 
interaction.  You should be able to correlate this in your data by 
looking  at  unique  ASes  in  the  same  period.    Interesting  in  any 
case. 
The break down of tunnels by class is a very interesting addition, 
and  should  be  listed  as  a  first  class  contribution.  The  authors 
might consider correlating it with existing traffic studies or talking 
to  the  operators  directly  to  discover  what  the  traffic  classes  are 
used for, e.g., VoIP, IPTV, best-effort, etc.  I suspect that if you 
do so, you might be able to dig more information from the data, 
e.g., quantify the extent of IP-TV deployments or some such. 
From the text, it was not clear if the techniques in S4 were being 
applied  to  both  pipe-mode  and  uniform-mode  tunnels.  If  both, 
then  can  you  quantify  the  fraction  of  pipe  vs.  uniform  tunnels?  
That is, the fraction of paths that according to the classifier appear 
to  be  going  through  an  MPLS  tunnel,  but  don't  have  the  ICMP 
MPLS information? This might help shed some light on the pipe 
vs. uniform deployments.  
Reviewer #4 
Strengths:  Despite  its  importance  as  one  of  the  most  important 
new  lower  level  technologies  of  the  evolved  Internet,  I  am  not 
aware of another large scale measurement study of MPLS on the 
open Internet. 
Clear quantifications: 7% ASes employing MPLS, average length 
of  tunnels  3-4  hops,  25%  of  paths  crossing  at  least  one  tunnel, 
~30% of tunnels employing more than 1 traffic class. 
The tunnel inference method based on roundtrip times and TTLs 
is smart but it is not clear how many tunnels fall in this category 
(uniform mode but without MPLS extensions enabled.) 
Weaknesses:  Although  the  reports  are  clear  and  the  inference 
technique  interesting  the  paper  is  rather  flat  in  terms  of 
conclusions. The connection to net neutrality is rather superficial 
and overall the authors fails to connect the reported numbers with 
any bigger questions about the state of the current Internet and the 
dilemmas regarding its evolution.  
Comments  to  Authors:  Good  solid  paper  with  interesting 
numbers  and  a  bit  of  methodological  contribution  on  inference 
based on deep understanding of the workings of the protocol. Two 
issues  mainly  for  me:  I  wish  the  paper  connected  better  its 
findings  with  some  more  general  questions  about  the  Internet 
(e.g.,  to  what  extent  MPLS,  covers  design  goals  claimed  as 
motivation for clean slate re designs). Also, I find the paper a bit 
sparse  in  terms  of  results.  Maybe  it  would  have  been  more 
interesting as a short paper. Also I would like to have seen some 
more  discussion  regarding  the  limitations  of  the  measurement 
(e.g.,  an  estimation  of  the  MPLS  tunnels  in  pipe  mode  that  go 
unnoticed). 
Reviewer #5 
Strengths: - Well written and first of the kind study of MPLS.  
- The authors observe interesting technical challenges in detecting 
these MPLS tunnels and propose new solutions to overcome such 
problems. 
Weaknesses:  -  Some  of  the  problems  involving  visibility  are 
fundamental and the heuristics proposed work only for a limited 
set of scenarios.  
- Due to lack of ground truth, some of the reasons mentioned are 
largely speculative and there is no way to verify. 
Comments to Authors: There are a lot of reasons to accept this 
paper. (1) The paper focuses measurement-based characterization 
460of MPLS prevalence, which has not received too much attention 
in the past. (2) The paper does a good job exposing and outlining 
what  information  can  be  observed  about  MPLS  tunnels  using 
traceroute data already collected by the Ark project. (3) Some of 
the findings of this study are interesting, although the paper does 
not confidently specify the reasons, but that's okay.  
One  constructive  criticism:  This  study  would  tremendously 
benefit from engaging some large ISP into the mix. The authors 
have  lot  of  contacts  from  their  prior  research  with  research  labs 
that  may  provide  this  necessary  angle.  For  example,  the  authors 
look  at  the  MPLS  tunnels  in  the  AT&T  network;  it  might  be 
interesting 
the 
operational  reasons  for  the  increase/decrease/variation  of  the 
number of tunnels and other characteristics. 
to  get  some  operational 
insight 
into  what 
I like Section 2 that provides a good overview of the MPLS state-
of-the-art and stuff. The section however focused on measurement 
techniques  from  outside  the  AS.  I  believe  there  are  more  direct 
tools  at  the  MPLS  layer  for  measurement  within  the  AS  (for 
example, for ISPs to troubleshoot) such as the MPLS trace route. 
It would be good to mention some of those as well in this section, 
although I understand we, as researchers, cannot obtain that data 
unless we collaborate with the ISP.  
There was some mention of the ISP MPLS maps, but comparisons 
are largely missing. It would be helpful to see if the findings in 
this paper are consistent with those MPLS maps.  
In Sec. 3.2, the statement "While the rate of increase in ASes that 
use  MPLS  is  greater  than  the  rate  of  increase  of  all  ASes,  the 
fraction of ASes employing MPLS has remained roughly constant 
at 7%" is absurd. If the numerator changes at a faster rate than the 
denominator, how can the ratio remain fixed? The correlation with 
Dow  Jones  is  quite  interesting!  The  statement  "So,  while  it  is 
apparent  from  Figure  2...  roughly  correlate  with  economic 
conditions"  is  quite  confusing  and  appears  quite  absurd.  Please 
elaborate on this. 
Figure 8: It would be nice if you discussed with one of the ISPs to 
see what the operational reasons might be. 
I  found  the  description  of  the  nested  tunnels  devoid  of  any 
intuition. It would be good to give some reasons or intuition why 
somebody would opt for nested tunnels of depth 2-3 (or even 4). 
Also, are the outer labels reused across two LSPs? 
Response from the Authors 
We thank the reviewers for their comments and suggestions. 
In response to the reviews, we have (1) emphasized in additional 
places  in  the  paper  that  our  results  are  limited  to  uniform-mode 
tunnels  and  that  it  is  almost  certain  (though  impossible  to 
quantify)  that  we  underestimate  MPLS  deployments,  (2)  added 
analysis of MPLS deployments by AS type (i.e., tier 1, large ISP, 
small  ISP,  and  stub  networks),  (3)  expanded  our  inference 
analysis  to  include  more  unlabeled  Ark  data  and  (4)  fixed  a 
number  of  minor  textual  issues  raised.  Moreover,  we  have 
extended  the  time  period  over  which  we  analyzed  Ark  data  to 
August  2011  in  order  to  provide  the  most  up-to-date  view  of 
MPLS activity possible within the time constraints. 
We  stand  by  our  conjecture  that  the  number  of  MPLS  tunnels 
deployed over time is related to merger and acquisition activity, 
and indirectly tracks economic indicators.  We believe that Figure 
3 makes a compelling case and that this observation could lead to 
further  work  on  relationships  between  economics  and  network 
configurations.  We  are  in  discussions  with  ISPs  to  better 
understand and validate our observations.  We emphasize that we 
merely  hypothesize  a  relationship  between  MPLS  deployments 
and economic conditions; it is not our intent (as is implied by the 
word conjecture!) to make a solid claim at this time.  Indeed, there 
may  be  several  reasons  behind  the  observed  number  of  MPLS 
tunnels  over  time  and  it  is  our  hope  to  better  understand  these 
reasons in future work. 
461