In this section, we study various properties of dependent disruptions. For some
properties, we conduct additional analyses on speciﬁc ISPs in the Thunderping
dataset: Comcast (cable), Qwest (DSL) and Viasat (Satellite). These are three
ISPs whose addresses are pinged frequently by Thunderping and where we were
able to detect in excess of a thousand dependent disruption events (3109 events
for Comcast, 1855 for Viasat, 1734 for Qwest). The appendix contains additional
detail on per-ISP dependent disruption events.
218
R. Padmanabhan et al.
Mon
Tue
Hour of the week (CST, UTC - 6)
Sat
Wed
Thu
Fri
50
40
30
20
10
0
Mon
Sun
Mon
Tue
20
15
10
5
Hour of the week (CST, UTC - 6)
Sat
Wed
Thu
Fri
Hour of the week (CST, UTC - 6)
Sat
Wed
Thu
Fri
Sun
Sun
Mon
Tue
60
40
20
Tue
Wed
Thu
Fri
Sat
Sun
Hour of the week (UTC)
(a) Comcast
0
Mon
Tue
Wed
Thu
Fri
Sat
Sun
0
Mon
Tue
Wed
Thu
Fri
Sat
Sun
Hour of the week (UTC)
(b) Qwest
Hour of the week (UTC)
(c) Viasat
Fig. 3. The y-axis shows dependent disruption events that began in each hour of the
week. ‘Mon’ on the bottom x-axis refers to midnight on Monday in UTC time. On the
top x-axis, ’Mon’ refers to midnight at UTC-6 (CST).
4.1 Dependent Disruptions Are More Frequent at Night
for Some ISPs
Richter et al. have recently shown that disruptions tend to happen more fre-
quently during maintenance intervals close to midnight local time [19]. They did
so using proprietary data from a CDN, collected at the granularity of every hour.
Here, we investigate if our technique can identify similar patterns.
Figure 3 shows that individual ISPs can have diﬀerent behavior. Comcast
and Viasat have more dependent disruption events occurring close to midnight,
CST, on weekday nights. Qwest, on the other hand, does not appear to have
a clearly discernible pattern. Our results conﬁrm those from prior work [19],
lending credence to our technique.Moreover, we are able to do so using public
(Thunderping) data and a granularity of every 11 min.
4.2 Dependent Disruptions Can Recover Together
Here, we investigate whether dependent disruption events are accompanied by
dependent recovery. Since Thunderping continues to probe an IP address even
after it becomes unresponsive (until six hours after the end of the weather
alert [21]), it can observe when the address becomes responsive again. This
responsiveness may signal that the disruption for the address has ended. Multi-
ple addresses that are disrupted together and also recover together oﬀer evidence
that: (a) the event was indeed dependent and (b) the event has ended, allowing
estimation of the disruption’s duration.
Most dependent disruptions also have correlated recoveries. Of 20,831 depen-
dent disruption events, 6,869 (33%) had all disrupted addresses recover dur-
ing the same 11-min time-bin. Further, 14,789 (71%) disruption events had at
least half of the disrupted addresses recover together. Across all of the 20,831
dependent disruption events, there were 229,413 observed disrupted addresses
in total. Of these, 121,648 (53%) disrupted addresses—from 15,117 (73%) dis-
How to Find Correlated Internet Failures
219
ruption events—exhibited a dependent recovery with other addresses from that
same group. This indicates that dependent recovery is quite common.
F
D
C
1.0
0.8
0.6
0.4
0.2
0.0
10m
all (121648)
comcast (24025)
centurylink209 (8502)
viasat (12744)
30m 1h
2h 3h
2d
Duration of correlated disruption
6h
12h
1d
4d 1w
1
0
1w
4d
2d
1d
12h
6h
3h
2h
1h
30m
10m
y
r
e
v
o
c
e
r
f
o
n
o
i
t
a
r
u
D
2
5
10
20
50
100
200
500
0
1
Addresses with correlated recovery
(a)
(b)
Fig. 4. (a) The distribution of durations of dependent disruptions for all addresses
that recovered in a correlated manner. 60% of addresses recovered in less than an hour.
(b) For dependent disruption events where at least two addresses recovered, this shows
the number of addresses that recovered on the x-axis and the corresponding recovery
duration for the event on the y-axis. Dependent disruption events vary in their duration
irrespective of the number of aﬀected addresses.
Recovery Times are Often Shorter than an Hour
Next, we turn our attention to the time it takes dependent disruptions to recover.
Figure 4(a) shows that 60% of recovered addresses recovered in less than an hour.
Our technique is able to identify this, because we operate at the precision of the
11-min time-bins from standard outage detection datasets. Conversely, recent
work that ﬁnds disruptions spanning an entire calendar hour [19] would miss
these disruptions.
Next, we examine whether short recovery durations can be attributable to
small disruption events: that is, do the recoveries appear quick because only
a couple hosts were disrupted? Figure 4(b) shows that the answer is no: Even
dependent disruptions with hundreds of addresses that recovered together often
last less than an hour.
4.3 Dependent Disruptions Can Be Multi-ISP
Dependent disruption events can also span multiple ISPs within a single state:
these events indicate a fault of infrastructure shared by the ISP or their cus-
tomers. Here, we broaden our analysis to examine whether dependent disruption
events are correlated across multiple ISPs within the same state.
We observe 333 instances where multiple ISPs in the same state had simul-
taneous dependent disruption events, and we are able to conﬁrm that many
occurred on days when the media reported large power outages in those
220
R. Padmanabhan et al.
s
t
n
e
v
E
100
80
60
40
20
0
Jan
Feb Mar Apr May
Jun
Jul Aug Sep Oct Nov Dec
Days of the year
Fig. 5. Multi-ISP dependent disruption events over time: several ISPs in the same
state have simultaneous disruption events on 333 occasions. Here, we show how many
events occurred on each day of the year in 2017. Days with many multi-ISP events
often correlate with days with large known power outages.
t
n
e
v
e
P
S
I
-
i
t
l
u
m
n
i
s
P
S
I
3
2
FL
GA
SC
Sep 11 00:00
Sep 12 00:00
Time in UTC
Fig. 6. Multi-ISP dependent disruption events during Hurricane Irma in Florida (FL),
Georgia (GA), and South Carolina (SC). Of 111 events during this time, 15 aﬀected 3
ISPs simultaneously and 96 aﬀected 2.
areas. Figure 5 shows days in 2017 when multi-ISP dependent disruption events
occurred. Of the 333 instances, 88 (26%) occurred on a single day during Hur-
ricane Irma (Sep 11). Figure 6 shows multi-ISP events during Hurricane Irma
by state and by the number of individual ISPs aﬀected during each multi-ISP
event. We observed 20 multi-ISP events in Florida on Sep 10, when Irma made
landfall [8]. As Irma moved northwards, we saw multi-ISP events in Georgia
and South Carolina as well. Other days with many such events include Oct 30
with 19 events across six states in the Northeastern U.S. (Maine, New Hamp-
shire, Vermont, Connecticut, Massachusetts, Rhode Island); there were recorded
power outages during this time as a result of a severe storm [11–13]. On Oct
22, there were 4 multi-ISP events in Oklahoma and 2 in Arkansas; there are
corresponding reports of power outages during these times as well [10].
4.4 Dependent Disruptions May Not Disrupt Entire /24s
Here, we examine if dependent disruption events disrupt entire /24 address
blocks. If so, they would likely be detected by prior work that looks for out-
ages at these granularities [18,19]. If there continue to be responding addresses
How to Find Correlated Internet Failures
221
within a /24 with a disrupted address, however, prior work may miss the dis-
ruption.
To analyze how dependent disruptions aﬀect /24 address blocks, we ﬁnd all
addresses in the observed disrupted group for a dependent disruption event and
group them by /24s. As a running example in this section, consider a dependent
disruption event comprising 3 addresses in 1.2.3.0/24, 5 addresses in 2.3.4.0/24,
and 2 addresses in 4.5.6.0/24. We call these the observed disrupted /24s for this
event. For each of these /24s, we also ﬁnd how many addresses were pinged
by Thunderping that were responding to pings before the dependent disruption
and that continued to respond for at least 30 min after the time-bin where the
dependent disruption occurred. We term these addresses the responsive addresses
in a /24 since these addresses were not aﬀected by the disruption.
Our goal is to ﬁnd how many /24 address blocks exist where at least one
address within the /24 was an actual address in a dependent disruption but
there were other addresses within the same /24 that continued to be responsive.
Such /24s only experience a partial disruption (as deﬁned in [19]). First, we
checked how many of the 20,831 dependent disruption events had at least one
responsive address in all of the observed disrupted /24s; there were 12,825 (61%)
such events. For each of these events, even if some of the observed disrupted
/24s for the event have addresses that failed independently, since all disrupted
/24s continue to have at least one responsive address, all aﬀected /24s only
experienced partial disruptions (that could be missed by prior work).
Next, we investigate the subset of observed disrupted /24s where there were
at least Dmin failures within the /24 itself. Since the entire state-ASN aggregate
only required Dmin failures, when Dmin or more addresses are disrupted within
a single /24, the /24 has at least one actual disrupted address. We obtain the
minimum bound on the number of actual disrupted addresses in a /24 by sub-
tracting Dmin − 1 from the observed disrupted addresses in that /24. Suppose
the Dmin for the example dependent disruption event above was 3. We would
obtain a minimum bound of at least 1 actual disrupted address in 1.2.3.0/24.
In 2.3.4.0/24, the minimum bound is 3. In 4.5.6.0/24, the minimum bound is
0 and we are unable to determine if the addresses in this /24 had a dependent
disruption. Of 92,777 observed disrupted /24s (across all dependent disruption
events), we ﬁnd that 14,702 (16%) have at least Dmin disrupted addresses. Each
of these is a point in Fig. 7.
We ﬁnd that many disrupted /24s with actual disrupted addresses have other
addresses that continued to be responsive. 10,164 (69%) /24s had at least one
responsive address, 9327 (63%) had at least two responsive addresses, and 6,096
(41%) had at least 10 responsive addresses. 1,691 /24s had at least 10 actual
disrupted addresses; of those, 550 (33%) had at least 10 responsive addresses.
In the appendix, we show that such behavior occurs across ISPs and we also
discuss the implications of these results for prior work.
222
R. Padmanabhan et al.
1
0
256
100
50
20
10
5
2
1
0
4
2
/
n
i
s
e
s
s
e
r
d
d
a
e
v
i
s
n
o
p
s
e
R
1
2
5
10
20
50
100
256
0
1
Minimum actual disrupted addresses in /24
Fig. 7. Minimum actual disrupted addresses in a /24 vs. responsive addresses in a /24,
for all /24s with at least Dmin address that were disrupted during a detected dependent
disruption event.
5 Discussion and Conclusion
We developed a technique to detect dependent disruption events with high con-
ﬁdence using the binomial test. The technique is general enough to apply to
any dataset of disruptions; we applied it to the Thunderping dataset [21]. This
dataset has the beneﬁt of containing per-address disruption data from thousands
of addresses in relatively small geographic regions (like a U.S. state) that may
experience failures due to common underlying causes. We inherit the limita-
tions of the Thunderping probing scheme—the system only measures residential
addresses in one country (the U.S.), it probes mostly during times of predicted
severe weather, and the minimum duration of disruptions is 11 min—so our con-