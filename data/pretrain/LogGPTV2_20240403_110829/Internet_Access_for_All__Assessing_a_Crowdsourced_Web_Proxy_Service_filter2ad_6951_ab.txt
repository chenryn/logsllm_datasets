experience. Therefore the choice is inﬂuenced by social factors and the reputa-
tion of each proxy, but in most cases the ﬁrst choice is the nearest operational
proxy with acceptable availability or reputation. Typically several nearby Web
proxy services are conﬁgured in client Web browsers. As all federated proxies
use the same authentication service, users are free to choose whatever proxy
they prefer. The choice of proxy is rather ﬁxed and prioritized, only switching
to lower choice proxies when the ﬁrst fails to reply.
Users and proxies: Figure 3 presents the distribution of the average number
of users per hour. The diﬀerent proxies show similar distributions, though we
observe that proxy 10473 has a diﬀerentiated demand, with 40% of time without
any user and a maximum of 10 users per hour. The rest of proxies, the majority
of time (60%) have an almost linear distribution between 5 and 25 users, with
near equally distributed values, and an average of around 17 users per hour for
proxies 11252 and 18202, and an average of 12 users for proxy 3982. The diﬀerent
distributions among proxies is a result of preference for proximity and manual
selection. To complete the picture, we found an average of 10 users in periods
of 10 s, an average of 76 diﬀerent users per proxy and day, and a maximum
of 254 in a month. The user’s distribution among proxies has a clear impact
78
E. Dimogerontakis et al.
in the distribution of the number of requests in Fig. 4. The ordering of proxies
according to the number of users remains visible in the distribution of requests.
Also, there is near-linear behavior between 20% and 60% for all proxies except
10473. For proxies 11272 and 18202 the number of requests per hour is typically
between 1 K and 10 K requests, with a mean of 8187 and 6716 respectively. In
proxy 3982 typical values are between 500 and 1 K requests per hour.
Fig. 3. Hourly average users per proxy
Fig. 4. Hourly average requests per
proxy
Fig. 5. Network usage per proxy
6. Hourly
Fig.
processing throughput per proxy
average
request
Regarding the number of clients seen by a proxy every day, the values (min,
average, max) range from the lowest in proxy 10473 (14, 20, 27) to the high-
est in proxy 3982 (59, 82, 101). These numbers reﬂect the spirit of a highly
decentralized service with many small capacity local proxies.
Internet connection and processing performance: Figure 5 provides the
distribution of the Internet connection usage per proxy, calculated as the approx-
imate instant connection throughput of each proxy normalized by its maximum
Internet throughput as provided in Table 2. All proxies show low utilization of
their network resources, being approximately less than 0.3 (30%) for all the prox-
ies for 80% of the time. Nevertheless, proxies 11252 and 18202 have signiﬁcantly
Internet Access for All: Assessing a Crowdsourced Web Proxy Service
79
Fig. 7. Daily average request process-
ing throughput compared to traﬃc
Fig. 8. Daily median loadavg per
proxy normalized by #CPUs
higher traﬃc. Moreover, Fig. 6 shows the distributions of the request processing
throughput. We observe that all proxies have almost identical distribution but
around diﬀerent mean values, depending on the individual characteristics of the
proxy. Moreover, we can see that a signiﬁcant percentage (>60%) of the time
proxies serve at a very narrow range of processing throughput, meaning they
can oﬀer a stable service. Even in the worst cases, the service does not suﬀer
from extreme degradation, while remaining higher than 100 Kbps 80% of the
time. We also observe that for proxies 3982 and 11252, the processing through-
put distribution resembles the number of requests distribution in Fig. 4 possibly
indicating, as before, that the proxies are not saturated.
To gain a more complete perspective we also studied the daily aggregates of
the traﬃc, users and requests clearly observing not only the expected human
daily pattern but also a clear eﬀect of the diﬀerent way each proxy receives and
serves request as a result of the users’ manual proxy selection. Moreover, study-
ing the mean daily patterns, we noticed that, as seen in Fig. 7, the processing
throughput presents very small variations implying a stable service behavior.
Furthermore, the traﬃc volume varies more than 1.5 orders of magnitude. The
fact that the processing throughput is not aﬀected by the traﬃc size conﬁrms our
observation that the servers are not saturated. Additionally, in order to verify
that the processing capabilities of proxies are not a bottleneck for the service,
we monitored the proxies’ CPU using the loadvg Linux metric. The results, pre-
senting a strong daily cyclic pattern, are summarized in Fig. 8 that shows the
daily median of the per-minute loadavg for each proxy normalized by the num-
ber of CPUs. Except from 3982, aﬀected by other co-located network services,
the proxies are not overloaded. The brief daily peak in each proxy is due to the
daily restart of the proxy that includes a cache reindexing. Even at that small
scale, we observed the daily cycle of human activity with preference for evenings
and really reduced traﬃc during the ﬁrst hours of the day. The pattern is visible
in all the described metrics in diﬀerent degrees.
From all the above we can conclude that the proxies are able to oﬀer a stable
service, with respect to the traﬃc load, allowing them to be used as an alternative
domestic Internet connection. Moreover, in our concrete scenario, the network
80
E. Dimogerontakis et al.
Table 4. Summary of Llucanes network graph
Graph
Nodes Edges Degree max/mean/min Diameter
Base-graph
902
Proxy-clients-graph 463
Backbone-graph
47
914
472
56
98/2.04/1
60/2.04/1
10/2.38/1
11
10
9
capacity of the proxies is underutilized assuming that no other services co-located
in the host of the proxy are heavily using the Internet network capacity.
5 The Local Network Viewpoint
The local network infrastructure has also an inﬂuence in the ﬁnal user experience.
For the analysis we used information extracted from odd day logs that provide
these details while hiding URL destinations.
Network structure: We refer to the entire zone network as the base graph.
Moreover, we refer as proxy-clients graph to the part of the Llucanes network
including only the nodes (clients, routers, proxies) that participate in the proxy
service. Similarly to many rural community network deployments, the network
consists of a small set of interconnected routers, the backbone graph, where each
router is connected with a large number of end nodes, mostly 802.11b wireless
links [17]. Users access the entire guiﬁ.net network from the end nodes. Some of
the routers act also as hosts for various guiﬁ.net services, including the proxy
service. More information concerning the network structure, hardware charac-
teristics, and protocols used in guiﬁ.net is available in [17].
Table 4 describes the main characteristics of the aforementioned graphs. We
notice that the mean degree of the base graph and of the proxy-clients graph
is very low since the end-nodes dominate the distribution of degrees. The low
mean degree value in the backbone graph is more interesting though, since it
implies that the majority of the routers have only two neighbors. Figures 9 and
10 provide a view of the proxy-clients graph and the backbone graph. The colors
of the participating nodes and routers indicate that they are using the proxy
with the same color. Moreover, in Fig. 10 the darkness of the link color denotes
the cost in latency for a byte to cross this link, therefore the darker the color
the more expensive is the link to use.
Network usage: Due to the almost static (manual) proxy selection, the analy-
sis of local network usage can show the eﬀect of selection on local network usage
and the perceived user experience. Towards that end, we ﬁrst analyse metrics of
distance between the users and the proxies. Figure 11 shows the distribution of
the number of hops between users and their selected proxies. The distribution is
almost uniform for 95% of the users with values from 1 to 6 hops. The remain-
ing 5% is split between 7 and 8 hops. Nevertheless, we observe that manual
choices result to a slight increase in number of hops, possibly introducing small
Internet Access for All: Assessing a Crowdsourced Web Proxy Service
81
Fig. 9. Llucanes proxies and clients
(Color ﬁgure online)
Fig. 10. Llucanes backbone (Color
ﬁgure online)
unnecessary overheads. The latency involved, depicted in Fig. 12, shows a dif-
ferent behavior. Almost 80% of the users experience an average latency smaller
than 15 ms to reach their proxy. The remaining 20% lies between 20 ms to 35 ms.
Despite the almost uniform distribution of hops, latency values vary much less,
implying that during normal network conditions, the distance between the users
and proxies is not signiﬁcantly deteriorating the user experience for web services.
Fig. 11. Number of network hops
between users and their selected proxies
Fig. 12. Average latency between
users and their selected proxies
Download throughput: As described earlier, the request processing through-
put is calculated using the request elapsed time, which includes the time the
proxy requires until the last byte of the web object is sent to the client. There-
fore, any signiﬁcant local network deterioration aﬀects the throughput behavior.
Based on this observation we can utilize the request processing throughput met-
ric for objects larger than 1 MB, in order to estimate signiﬁcant degradation on
the user experience. Including smaller objects would give unreliable throughput
results due to the noticeable inﬂuence of network buﬀering in the proxy, DNS
82
E. Dimogerontakis et al.
Fig. 13. Estimation of user experience
throughput with objects >1 MB
Fig. 14. User cost as sum of download
times (1 month)
caching and network latency variations for short connections. Figure 13 illus-
trates the individual user experience in throughput estimated for objects larger
than 1 MB, under the simplifying assumption that users focus on few or a single
large object at a time. If so, our measures could be taken as a lower bound for
the experienced individual download throughput. Median values of download
throughput appear quite stable with median values ranging from 0.1 Mbps to
10 Mbps for diﬀerent users. A quite good result for the many users of a free
crowdsourced service.
Furthermore, in order to show the margin for improvement in the user expe-
rience using other proxy selection strategies, we simulated the traﬃc of the users
using a min hop and a random strategy considering local link latencies. As seen
in Fig. 14, the total download time of each user throughout the month in the man-
ual selection is asymptotically better than the random selection while asymptot-
ically worse than the min hop selection. Considering that the proxies are not the
bottleneck, this result shows that a proxy selection mechanism could improve
the user experience of the proxy service. Nevertheless, we plan to extend our
simulations taking into account the proxies processing and download speed.
6 Related Work
Most work on wireless networks focuses on usage traﬃc patterns, link level char-
acteristics and topologies, but not user experience, e.g. MadMesh [4], Google
WiFi [1] and Meraki [3] networks. In these studies, Internet access is direct
instead of using proxies, and these wireless networks are homogeneous. Thus,
measurement results cannot easily be compared with this. In the Google WiFi
and MadMesh transfer rates are limited to 1 Mbps, but 80% getting less than
80 Kbps in Google WiFi. In MadMesh 80% get less than 1 Mbps with 85% of the
clients connected within 3 hops to Internet, comparable with our results that
achieve higher speed but more hops to a web proxy.
Facebook’s Free Basics [16] shows comparable performance (80–600 Kbps for
FB vs. 0.1–10 Mbps median speeds) better in our case, despite signiﬁcant diﬀer-
ences: in clients (mobile devices vs. any device), access network (cellular mobile
Internet Access for All: Assessing a Crowdsourced Web Proxy Service
83
carrier vs. wireless ﬁxed community network), web proxies (centralized large
servers vs. distributed small servers with network locality), and web service and
content providers (redesigned and optimized vs. unmodiﬁed content).
The web proxy business has changed signiﬁcantly over the years. The percent-
age of cacheable content has been decreasing, coupled with a dramatic increase of
HTTPS traﬃc. The performance of web proxies is not only about high-level met-
rics such as hit rates. Low-level details such as HTTP cookies, aborted connec-
tions, and persistent connections between clients and proxies as well as between
proxies and servers have a visible impact on performance, particularly in hetero-
geneous bandwidth environments [8]. In [5], authors analyse a mobile network
topology with a two level cache hierarchy. Their claim that a caching system
can be eﬃcient when 5.1% of traﬃc is suitable for caching, shows that the lower
rates of caching in our case may not be that beneﬁcial.
Wireless network user experience has been characterized previously. The ﬁrst
[13] focuses on web traﬃc and the use of proxies to access Internet content
in rural areas. Five years ago, using a single high latency and slower VSAT
Internet connection (64–128 Kbps) obtained RTT values sometimes over 10 s,
closer to a DTN case, and cache hit rates of 43%. There are also complementary
lessons, about security or that content from CDN is usually not cacheable, but
the scenarios are too diﬀerent. The second study [10] looks at web traﬃc patterns
and content caching. They mention the decreasing cache hit rates over previous
studies, even lower in our study 5 years later with a dramatic increase of HTTPS
traﬃc.
7 Summary of Lessons Learned
The analysis of the guiﬁ.net proxy service describes a crowdsourced, social sol-
idarity driven, free basic Internet service built from many small proxy servers
spread across a regional community network, contributed by locals for locals.
These proxies act as gateways to Web content and DNS, that can be cached and
shared among clients or act as middleboxes for HTTPS transfers, the majority
of traﬃc. Being in the middle can also help protect the privacy of clients.
The analysis conﬁrms the trend to non-cacheable content, small cacheable
objects, and therefore small object caches that can even ﬁt in RAM. Each proxy
has a small number of clients, ranging from 14 to 101 per day. Moreover, there is a
good balance of traﬃc and number of clients per proxy despite the manual proxy
selection, driven by locality (same zone), end-user choice and advice from people
living nearby. The system is simple and resilient since each proxy is independent
and clients just switch to their next choice in case of failure of their proxy.
The service has satisfactory performance (0.1–10 Mbps, good client-proxy
latency), without perceived Internet, access network or service congestion,
despite the typical daily usage patterns. That can be attributed to the structure
of the service with many small servers across a regional access network, close to
end-users with locality preference. Nevertheless, scaling or coordination between
84
E. Dimogerontakis et al.
services between diﬀerent zones is not trivial. Future work lies in exploring opti-
mization by automating service selection with a global perspective, under diverse
cost and performance metrics.
In summary, a crowdsourced service that fulﬁlls the goal of an usable, satis-
factory and inexpensive free basic alternative Internet access service for many.
Acknowledgments. This work was partially supported by the EU funded Erasmus
Mundus Joint Doctorate in Distributed Computing (EMJD-DC) (FPA 2012-0030),
the EU Horizon 2020 project netCommons (H2020-688768), the Spanish government
(TIN2016-77836-C2-2-R), and the Generalitat de Catalunya (2014-SGR-881). Our
thanks to Davide Vega, Roger Baig and several guiﬁ.net members that have made
this work possible.
References
1. Afanasyev, M., Chen, T., Voelker, G., Snoeren, A.: Usage patterns in an urban
wiﬁ network. IEEE/ACM Trans. Netw. 18(5), 1359–1372 (2010)
2. Baig, R., Roca, R., Freitag, F., Navarro, L.: guiﬁ.net, a crowdsourced network
infrastructure held in common. Comput. Netw. 90, 150–165 (2015)
3. Biswas, S., et al.: Large-scale measurements of wireless network behavior. ACM
SIGCOMM Comput. Commun. Rev. 45(4), 153–165 (2015)
4. Brik, V., et al.: A measurement study of a commercial-grade urban wiﬁ mesh. In:
Internet Measurement Conference (IMC), pp. 111–124 (2008)
5. Catrein, D., et al.: An analysis of web caching in current mobile broadband sce-
narios. In: New Technologies, Mobility and Security (NTMS), pp. 1–5 (2011)
6. Cerd`a, L.: On the topology characterization of guiﬁ.net. In: Wireless and Mobile
Computing, Networking and Communications (WiMob), pp. 389–396 (2012)
7. European Parliament and Council: Directive 2014/61/EU on measures to reduce
the cost of deploying high-speed electronic communications networks, May 2014
8. Feldmann, A., et al.: Performance of web proxy caching in heterogeneous band-
width environments. In: INFOCOM, pp. 107–116 (1999)
9. Gaia, W.G.: Global access to the internet for all research group. https://irtf.org/
gaia (2016). Accessed 14 Sept 2016
10. Ihm, S., Pai, V.S.: Towards understanding modern web traﬃc. In: Internet Mea-
surement Conference (IMC), pp. 295–312 (2011)
11. International Telecommunication Union: Trends in telecommunication reform
2008: six degrees of sharing (d-pref-ttr.10), July 2009
12. Internet Society: Global internet report 2015, October 2015
13. Johnson, D.L., Pejovic, V., Belding, E.M., van Stam, G.: Traﬃc characterization
and internet usage in rural Africa. In: World Wide Web, pp. 493–502 (2011)
14. Maier, G., et al.: On dominant characteristics of residential broadband internet
traﬃc. In: Internet Measurement Conference (IMC), pp. 90–102 (2009)
15. Rey-Moreno, C., et al.: Experiences, challenges and lessons from rolling out a rural
wiﬁ mesh network. In: ACM Computing for Dev (ACM-DEV), p. 11 (2013)
16. Sen, R., et al.: on the free bridge across the digital divide: assessing the quality
of Facebook’s free basics service. In: Proceedings of the 2016 ACM on Internet
Measurement Conference (IMC), pp. 127–133 (2016)
17. Vega, D., et al.: A technological overview of the guiﬁ.net community network.
Comput. Netw. 93, 260–278 (2015)