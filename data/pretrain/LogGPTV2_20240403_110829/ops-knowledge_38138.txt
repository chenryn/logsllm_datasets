User: How to use iptables to configure network security, including port forwarding, port blocking, restricting outbound traffic, etc.?
Assistant: Iptables is a commonly used firewall configuration tool under Linux, which can control the ingress and egress of network traffic through configuration rules. The following are some common methods of using iptables to configure network security: 1. Port Forwarding Port forwarding refers to forwarding the request of a certain port to another computer or a different port. You can use the NAT table of iptables to set port forwarding rules, such as forwarding local port 23 to port 2323 of the target IP address: ```iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 23 -j DNAT - -to-destination [target IP address]: 2323``` 2. Port closure Port closure refers to preventing some ports in the network from being accessed by the outside. You can use the INPUT table of iptables to close the port, for example, close the local port 80: ```iptables -A INPUT -p tcp --dport 80 -j DROP``` 3. Limit outbound traffic You can use the OUTPUT table of iptables to limit outbound traffic, for example, limit the outbound traffic of machines with local IP address 192.168.1.1 The station accesses port 443 of the target IP address: ```iptables -A OUTPUT -s 192.168.1.1 -p tcp --dport 443 -j DROP``` It should be noted that the configuration of iptables is performed in the kernel. The impact on the system after configuration will take effect immediately. Therefore, special care should be taken when configuring iptables to avoid system crashes or security issues caused by incorrect configuration.