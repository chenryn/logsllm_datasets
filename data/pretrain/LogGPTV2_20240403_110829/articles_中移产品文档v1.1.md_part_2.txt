        -   根据选择方案做相应动作，如重启：每个步骤出现有相应卡片展示结果。完成后展示自愈结果：已自愈完成如人工处理：直接输出自愈结果，状态变更。
            ![](media/image12.png){width="5.761111111111111in"
            height="5.167361111111111in"}
-   **业务统计**
    -   默认展示 应用/进程/业务量/错误量/耗时/成功率/是否异常等信息。
    -   排序：异常进程按照告警时间倒序，默认展示10条记录。
    -   与左侧导航栏做联动，选择了对应的场景，展示对应场景下所有进程的情况。（排序方式同上）
    -   查看对应的指标图表，会浮窗展示对应指标值和时间节点。（展示图表与搜索时间关联）
        ![WX20210423-151802@2x](media/image13.png){width="5.763888888888889in"
        height="3.332638888888889in"}
-   **场景编辑**
    -   点击左侧导航栏中新增，跳转到场景编辑页面中
    -   编辑页面主要有4个模块，基本信息，监控设置，诊断设置，自愈设置。
        -   基本信息是名称，场景名称，分类（当前只有内存，进程，线程），
        -   监控设置（6月只提供检测，没有预测），实时检测的监控直接与日志易的监控做关联即可，后续有预测（再考虑放在日志易中配置还是放智能运维中）
        -   诊断设置：通过点击添加可以新增诊断步骤，包含3大内容：名称，搜索语句，语句输入框（需要限制timechart命令）。通过spl或者sql实现诊断步骤需要查询的信息的设置
自愈设置：通过点击添加可以新增自愈方案。包含名称，脚本，描述信息。只有名称是必填（因为中移数据中台需要）。同时也因为用户提供人工介入的方案。如果没有脚本，选择该方案，自需要直接变更告警状态，并输出"已通过xxx方案完成了自愈。
![WX20210423-161139@2x](media/image14.png){width="5.7652777777777775in"
height="2.798611111111111in"}
## 数据库资源分析
-   **告警（首页）**
    -   跟应用资源分析告警页面逻辑是一样的
    -   数据库需要增加hang分析工具，hang分析工具融晨已经有相应脚本并已测试通过
    -   数据需要讨论的一些地方有：数据库流程中提及的流程
-   **业务统计**
    -   跟应用资源分析是一样，列表字段变更为业务/表名/会话数/表空间使用率/是否异常
## 接口服务异常检测
-   **告警（首页）**
    -   左侧的导航栏层级划分是渠道-业务-接口服务（对应日志字段：cluster2-APP_NAME-DESCRIPTION）
    -   可以和左侧的导航栏做联动，选择了那个场景只展示该服务的告警信息
    -   默认按照日期展示告警，报警等级越高+最新告警时间排序。
    -   有相应的颜色提示用户关于告警卡片的等级，鼠标移到note上可以浮窗提示：红色为4级告警，橙色为3级告警，黄色为2级告警，绿色为1级告警。
    -   提供服务/报警级别/状态/时间四个维度搜索字段，做and联动搜索
        -   场景选择从场景信息库进行拉取，当左侧导航栏选择服务可以代填进来·
        -   报警级别从监控报警中拉取信息
        -   状态：全部/未诊断未自愈/已诊断未自愈/已诊断已自愈
        -   时间采用3.7版本的时间控件交互
            ![](media/image15.png){width="5.764583333333333in"
            height="5.0in"}
    -   点击告警，从页面下方抽出页面展示该服务调用链和应用拓扑图，
        -   告警进行压缩，不能覆盖（抽屉页面默认是3分2页面占幅），可以不关闭告警详情页面下再次选择告警
        -   调用链将有异常的节点展示出来
    -   Tab：服务调用链
        -   默认展示该服务的整体调用链
        -   提供这个服务关联的traceid和时间点作为过滤条件
        -   选择traceid，绘制出traceid的链路图
        -   展示根因分析结果
        -   鼠标放到调用链上，浮窗展示实时指标值情况（业务量，耗时，成功率，错误量，请求量）
            ![](media/image16.png){width="5.7625in"
            height="5.654861111111111in"}
            （默认展示效果）
            ![](media/image17.png){width="5.763194444444444in"
            height="3.5930555555555554in"}
            （填写上traceid效果）
    -   Tab：应用拓扑图
        -   默认展示服务会调用应用的整体拓扑图
        -   提供这个服务关联的traceid和时间点作为过滤条件
        -   选择traceid，绘制出traceid的应用链路图
        -   展示根因分析结果
        -   鼠标放到调用链上，浮窗展示实时指标值情况（业务量，耗时，成功率，错误量，请求量、连通性、丢包率、目的端口状态、目的端口等待数）
            ![](media/image18.png){width="5.761111111111111in"
            height="5.290277777777778in"}
-   **全链路**
    -   默认展示一个时间段（默认是12小时）的全链路
    -   与左侧的导航栏进行交互，选择了那个业务，链路只展示该业务的调用链（将业务名代填到对应业务过滤项中）
    -   提供时间/业务/traceid3个过滤项
        -   时间使用日志易3.7版本的组件
        -   点击输入业务，可以实现匹配到已有业务
        -   Traceid，点击可以下来选择traceid，也有输入去匹配
    -   点击调用链的节点，展示节点的耗时。错误量，业务量，成功率等指标
    -   统计过去某段时间内调用链的更新情况，新增路径（即新增节点），优化路径（非根节点的新增），失效路径，异常路径
    -   提供日志易全链路一样的编辑调用链的功能，包含编辑开关/新增过滤项/spl语句编辑/设置（这个需要协商）
        ![WX20210423-180246@2x](media/image19.png){width="5.757638888888889in"
        height="4.013194444444444in"}
-   **拓扑**
    -   默认展示一个时间段（默认是12小时）的全局应用拓扑图
    -   与左侧的导航栏进行交互，选择了那个业务，链路只展示该业务的应用拓扑图（将业务名代填到对应业务过滤项中）
    -   提供时间/业务/traceid3个过滤项
        -   时间使用日志易3.7版本的组件
        -   点击输入业务，可以实现匹配到已有业务
        -   Traceid，点击可以下来选择traceid，也有输入去匹配
    -   点击拓扑图的节点，展示节点的耗时。错误量，业务量，成功率，连通性，丢包率
        目的端口状态，目的端口等待数
    -   提供日志易拓扑图一样的编辑功能，包含编辑开关/新增过滤项/spl语句编辑/设置（这个需要协商）
        ![WX20210423-181702@2x](media/image20.png){width="5.7555555555555555in"
        height="3.782638888888889in"}
-   **业务统计**
    -   默认展示 业务/服务/业务量/错误量/耗时/成功率/是否异常等信息。
    -   排序：异常进程按照告警时间倒序，默认展示10条记录。
    -   与左侧导航栏做联动，选择了对应的业务，展示对应业务下所有进程的情况。（排序方式同上）
    -   查看对应的指标图表，会浮窗展示对应指标值和时间节点。（展示图表与搜索时间关联）
        ![WX20210423-182145@2x](media/image21.png){width="5.757638888888889in"
        height="3.498611111111111in"}