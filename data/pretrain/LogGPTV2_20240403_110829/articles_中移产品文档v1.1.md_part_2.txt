### 优化后的文本

#### 根据选择方案执行相应动作
- **重启**：每个步骤完成后，将通过相应的卡片展示结果。最终显示自愈结果：“已自愈完成”。
- **人工处理**：直接输出自愈结果，并更新状态。

![示意图](media/image12.png){width="5.761111111111111in" height="5.167361111111111in"}

#### 业务统计
- 默认展示信息包括应用、进程、业务量、错误数量、耗时、成功率以及是否异常等。
- 异常进程按告警时间降序排列，系统默认展示最近的10条记录。
- 左侧导航栏与内容区联动，选择特定场景后，会展示该场景下所有相关进程的信息（排序方式同上）。
- 用户可以查看选定指标的图表，这些图表将以浮窗形式展现具体的数值和对应的时间节点（图表展示与搜索时间相关联）。

![示意图](media/image13.png){width="5.763888888888889in" height="3.332638888888889in"}

#### 场景编辑
- 在左侧导航栏点击“新增”，进入场景编辑页面。
- 编辑界面主要分为四个部分：基本信息、监控设置、诊断设置及自愈设置。
  - **基本信息**：填写名称、场景名称以及分类（当前仅支持内存、进程和线程）。
  - **监控设置**：目前仅提供实时检测功能，直接关联日志易的监控。未来可能会加入预测功能（具体配置待定）。
  - **诊断设置**：允许添加新的诊断步骤，每一步骤需包含名称、查询语句及其输入框（使用`timechart`命令受限）。通过SPL或SQL实现对所需信息的设定。
  - **自愈设置**：用户可添加自愈方案，包括名称、脚本及描述（至少填写名称）。若无脚本，则选择该方案时只需更改告警状态并输出“已通过XXX方案完成自愈”。

![示意图](media/image14.png){width="5.7652777777777775in" height="2.798611111111111in"}

### 数据库资源分析
- **告警（首页）**
  - 页面逻辑与应用资源分析相同。
  - 增加了针对数据库的hang分析工具，该工具已有现成脚本并通过测试。
  - 关于数据流程的具体细节还需进一步讨论确定。

- **业务统计**
  - 功能类似于应用资源分析，但列表字段调整为业务名、表名、会话数、表空间使用率及是否异常。

### 接口服务异常检测
- **告警（首页）**
  - 导航栏结构为渠道-业务-接口服务（映射至日志字段：cluster2-APP_NAME-DESCRIPTION）。
  - 选中某一场景后，仅显示该服务相关的告警信息。
  - 默认按照日期展示告警记录，依据报警级别从高到低加上最新的告警时间进行排序。
  - 不同颜色代表不同级别的告警提示，鼠标悬停时会有详细说明（红色-严重/橙色-高/黄色-中/绿色-低）。
  - 提供基于服务、报警等级、状态及时间四维度的组合搜索功能。
    - 场景选项从场景库中获取，当选择某项服务时自动填充相关信息。
    - 报警级别信息来源于监控系统。
    - 状态选项包括全部、未诊断未自愈、已诊断未自愈、已诊断已自愈。
    - 时间选取器采用3.7版本组件。
  - 点击告警卡，底部会出现抽屉式详情页展示服务调用链和应用拓扑图。
    - 告警卡被压缩以避免遮挡重要信息（抽屉页默认占据屏幕三分之二宽度），支持同时查看多个告警。
    - 调用链突出显示存在异常的节点。
  - **Tab: 服务调用链**
    - 显示整个服务的调用链路。
    - 可以根据trace ID和时间点过滤特定调用链。
    - 选择特定trace ID后，绘制详细的链路图。
    - 展示根因分析结果。
    - 鼠标悬浮于调用链上时，弹出窗口显示实时性能指标（如业务量、响应时间、成功率等）。

![示意图](media/image16.png){width="5.7625in" height="5.654861111111111in"}
![示意图](media/image17.png){width="5.763194444444444in" height="3.5930555555555554in"}

  - **Tab: 应用拓扑图**
    - 显示服务所涉及的所有应用的整体拓扑结构。
    - 同样支持基于trace ID和时间点的筛选条件。
    - 选定trace ID后生成相应的应用链路图。
    - 包含根因分析报告。
    - 鼠标停留于任一节点时，出现浮动窗口列出多项关键指标（如连通性、丢包率等）。

![示意图](media/image18.png){width="5.761111111111111in" height="5.290277777777778in"}

- **全链路视图**
  - 默认呈现过去12小时内的完整调用路径。
  - 与导航栏交互，只显示选定业务下的调用关系。
  - 提供时间范围、业务名称及trace ID三项筛选条件。
  - 单击任意节点即可查看其性能参数。
  - 统计指定时间段内调用链的变化情况，包括新路径、优化路径、失效路径和异常路径。
  - 支持类似日志易平台的调用链编辑功能（具体实现需协商）。

![示意图](media/image19.png){width="5.757638888888889in" height="4.013194444444444in"}

- **应用拓扑图**
  - 默认展示过去12小时内全局的应用连接状况。
  - 与左侧菜单栏同步，仅列出所选业务的应用网络。
  - 同样具备时间、业务及trace ID三种筛选方式。
  - 单击任何节点均可获得其运行状态概览。
  - 提供类似日志易系统的拓扑编辑能力（具体内容待商议）。

![示意图](media/image20.png){width="5.7555555555555555in" height="3.782638888888889in"}

- **业务统计**
  - 列表中包含了业务、服务、业务量、错误次数、平均延迟、成功率以及是否存在异常等多项指标。
  - 按照告警发生的时间倒序排列，默认列出前10条记录。
  - 选择某个业务后，页面动态更新显示该业务下所有进程的状态（排序规则一致）。
  - 查看单个度量值的历史趋势图，会在浮层中显示出具体的数值变化曲线（图表与查询时间范围保持一致）。

![示意图](media/image21.png){width="5.757638888888889in" height="3.498611111111111in"}