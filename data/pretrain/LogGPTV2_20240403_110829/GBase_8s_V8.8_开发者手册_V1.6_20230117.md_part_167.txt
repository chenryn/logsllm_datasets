该参数属于INTERNAL类型参数，为固定参数，用户无法修改此参数，只能查看。
南大通用数据技术股份有限公司
1427
GBase 8s V8.8开发者手册
取值范围：整型
默认值：63
25.25.13 server_encoding
参数说明：报告当前数据库的服务端编码字符集。
默认情况下，gs_initdb会根据当前的系统环境初始化此参数，通过locale命令可以查看
当前的配置环境。
该参数属于INTERNAL类型参数，为固定参数，用户无法修改此参数，只能查看。
默认值：在创建数据库的时候由当前系统环境决定的。
25.25.14 enable_upgrade_merge_lock_mode
参数说明：当该参数设置为on时，通过提升 deltamerge 内部实现的锁级别，避免和
update/delete并发操作时的报错。
该参数属于USERSET类型参数，请参考表 GUC参数分类中对应设置方法进行设置。
取值范围： 布尔型
 on：表示提升deltamerge内部实现的锁级别，并发执行deltamerge和update/delete
操作时，一个操作先执行，另一个操作被阻塞，在前一个操作完成后，后一个操作
再执行。
 off：表示在对表的deltatable的同一行并发执行deltamerge和update/delete操作时，
后一个对同一行数据更新的操作会报错退出。
默认值：off
25.25.15 transparent_encrypted_string
参数说明：它存储的是透明加密的一个样本串，使用数据库加密密钥加密固定串
“TRANS_ENCRYPT_SAMPLE_STRING”后的密文，用来校验二次启动时获取的DEK是否
正确。如果校验失败，那么数据库节点将拒绝启动。
该参数属于POSTMASTER类型参数，请参考表 GUC参数分类中对应设置方法进行设
南大通用数据技术股份有限公司
1428
GBase 8s V8.8开发者手册
置。该参数当前版本只适用于DWS场景。
取值范围：字符串，设置为空表示GBase8s非加密。
默认值：空
说明： 请勿手动设置该参数，设置不当将导致GBase8s不可用。
25.25.16 transparent_encrypt_kms_url
参数说明：它存储的是透明加密的数据库密钥获取地址，内容要求不可出现RFC3986
标准外的字符，最大长度2047字节。格式为“kms://协议@KMS主机名1;KMS主机名2:KMS
端口号/kms”，例如kms://https@linux175:29800/。该参数当前版本只适用于DWS场景。
该参数属于POSTMASTER类型参数，请参考表 GUC参数分类中对应设置方法进行设
置。
取值范围：字符串
默认值：空
25.25.17 transparent_encrypt_kms_region
参数说明：它存储的是GBase8s的部署区域，内容要求不可出现RFC3986标准外的字
符，最大长度2047字节。该参数当前版本只适用于DWS场景。
该参数属于POSTMASTER类型参数，请参考表 GUC参数分类中对应设置方法进行设
置。
取值范围：字符串
默认值：空
25.25.18 basebackup_timeout
参数说明：备份传输完成后连接无读写的超时时间。
通过gs_basebackup工具作传输时，如果指定较高压缩率时，可能在传输表空间完成后
超时（客户端需要压缩传输数据）。
取值范围：整型，0~INT_MAX，单位为秒。其中0表示禁用该功能。
南大通用数据技术股份有限公司
1429
GBase 8s V8.8开发者手册
默认值：600s
25.25.19 datanode_heartbeat_interval
参数说明：设置心跳线程间心跳消息发送时间间隔，建议值不超过wal_receiver_timeout
/2。
该参数属于SIGHUP类型参数，请参考表 GUC参数分类中对应设置方法进行设置。
取值范围：整型，1000～60000，单位为毫秒。
默认值：1s
25.25.20 max_concurrent_autonomous_transactions
参数说明：自治事务最大链接数，同一时间自治事务执行的最大并发数。当设置为0
时，将无法执行自治事务。
该参数属于INTERNAL类型参数，请参考表 GUC参数分类中对应设置方法进行设置。
取值范围：0-1024
默认值：10
25.26 等待事件
25.26.1enable_instr_track_wait
参数说明：是否开启等待事件信息实时收集功能。
在x86平台集中式部署下，硬件配置规格为32核CPU/256GB内存，使用BenchmarkSQL
5.0工具测试性能，开关此参数性能影响约1.4%。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on：表示打开等待事件信息收集功能。
 off：表示关闭等待事件信息收集功能。
南大通用数据技术股份有限公司
1430
GBase 8s V8.8开发者手册
默认值：on
25.27 Query
25.27.1instr_unique_sql_count
参数说明：控制系统中uniquesql信息实时收集功能。配置为0表示不启用uniquesql
信息收集功能。
该值由大变小将会清空系统中原有的数据重新统计（备机不支持此能力）；从小变大不
受影响。
当系统中产生的uniquesql条目数量大于instr_unique_sql_count时，若开启了uniquesql
自动淘汰，则系统会按uniquesql的更新时间由远到近自动淘汰一定比例的条目，使得新产
生的uniquesql信息可以继续被统计。若没有开启自动淘汰，则系统产生的新的uniquesql
信息将不再被统计。
在x86平台集中式部署下，硬件配置规格为32核CPU/256GB内存，使用BenchmarkSQL
5.0工具测试性能，开关此参数性能影响约3%。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，0~2147483647
默认值：100
注意： - 在开启自动淘汰的情况下，如果该值设置的较小，可能会导致系统频
繁的进行自动淘汰，有可能会影响数据库系统性能，所以实际场景中建议不要将该值设置的
过小，建议值为200000。
在开启自动淘汰的情况下，如果该值设置的较大（例如38347922），清理过程中可能
会引发大内存问题而无法清理。
25.27.2instr_unique_sql_track_type
参数说明：uniquesql记录SQL方式。
该参数属于INTERNAL类型参数，请参考表15-1中对应设置方法进行设置。
南大通用数据技术股份有限公司
1431
GBase 8s V8.8开发者手册
取值范围：枚举类型
top：代表只记录顶层SQL。
默认值：top
25.27.3enable_instr_rt_percentile
参数说明：是否开启计算系统中80%和95%的SQL响应时间的功能。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on：表示打开SQL响应时间信息计算功能。
 off：表示关闭SQL响应时间信息计算功能。
默认值：on
25.27.4percentile
参数说明：SQL响应时间百分比信息，后台计算线程根据设置的值计算相应的百分比
信息。
该参数属于INTERNAL类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：字符串。
默认值：80,95
25.27.5instr_rt_percentile_interval
参数说明：SQL响应时间信息计算间隔，SQL响应时间信息计算功能打开后，后台计
算线程每隔设置的时间进行一次计算。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，0～3600，单位为秒。
默认值：10s
南大通用数据技术股份有限公司
1432
GBase 8s V8.8开发者手册
25.27.6enable_instr_cpu_timer
参数说明：是否捕获SQL执行的cpu时间消耗 。
在x86平台集中式部署下，硬件配置规格为32核CPU/256GB内存，使用BenchmarkSQL
5.0工具测试性能，开关此参数性能影响约3.5%。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on：表示捕获SQL执行的CPU时间消耗。
 off：表示不捕获SQL执行的CPU时间消耗。
默认值：on
25.27.7enable_stmt_track
参数说明：控制是否启用Full/SlowSQL特性。
在x86平台集中式部署下，硬件配置规格为32核CPU/256GB内存，使用BenchmarkSQL
5.0工具测试性能，开关此参数性能影响约1.2%。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on：表示开启Full/SlowSQL捕获。
 off：表示关闭Full/SlowSQL捕获。
默认值：on
25.27.8track_stmt_session_slot
参数说明：设置一个session缓存的最大的全量/慢SQL的数量，超过这个数量，新的语
句执行将不会被跟踪，直到落盘线程将缓存语句落盘，留出空闲的空间。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，0~2147483647
南大通用数据技术股份有限公司
1433
GBase 8s V8.8开发者手册
默认值：1000
25.27.9track_stmt_details_size
参数说明：设置单语句可以收集的最大的执行事件的大小（byte）。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，0~100000000
默认值：4096
25.27.10 track_stmt_retention_time
参数说明：组合参数，控制全量/慢SQL记录的保留时间。以60秒为周期读取该参数，
并执行清理超过保留时间的记录，仅sysadmin用户可以访问。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：字符型
该参数分为两部分，形式为'fullsqlretentiontime,slowsqlretentiontime'
fullsqlretentiontime为全量SQL的保留时间，取值范围为0~86400
slowsqlretentiontime为慢SQL的保留时间，取值范围为0~604800
默认值：3600,604800
25.27.11 track_stmt_stat_level
参数说明：控制语句执行跟踪的级别。
该参数属于USERSET类型参数，请参考表15-1中对应设置方法进行设置，不区分英
文字母大小写。
取值范围：字符型
该参数分为两部分，形式为'fullsqlstatlevel,slowsqlstatlevel'
fullsqlstatlevel为全量SQL跟踪级别，取值范围为OFF、L0、L1、L2
slowsqlstatlevel为慢SQL的跟踪级别，取值范围为OFF、L0、L1、L2
南大通用数据技术股份有限公司
1434
GBase 8s V8.8开发者手册
说明： 若全量SQL跟踪级别值为非OFF时，当前SQL跟踪级别值为全量SQL
和慢SQL的较高级别（L2>L1>L0），级别说明请参见表15-1。
默认值：OFF,L0
25.27.12 enable_auto_clean_unique_sql
参数说明：当系统中产生的uniquesql条目数量大于等于instr_unique_sql_count时，是
否启用uniquesql自动淘汰功能。
该参数属于POSTMASTER类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
默认值：off
注意： 由于快照有部分信息是来源于uniquesql，所以开启自动淘汰的情况下，
在生成wdr报告时，如果选择的起始快照和终止快照跨过了淘汰发生的时间，会导致无法生
成wdr报告。
25.28 系统性能快照
25.28.1enable_wdr_snapshot
参数说明：是否开启数据库监控快照功能。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：布尔型
 on：打开数据库监控快照功能。
 off：关闭数据库监控快照功能。
默认值：off
25.28.2wdr_snapshot_retention_days
参数说明：系统中数据库监控快照数据的保留天数。当数据库运行过程期间所生成的快
照量数超过保留天数内允许生成的快照数量的最大值时，系统将每隔wdr_snapshot_interval
南大通用数据技术股份有限公司
1435
GBase 8s V8.8开发者手册
时间间隔，清理snapshot_id最小的快照数据。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，1～8。
默认值：8
25.28.3wdr_snapshot_query_timeout
参数说明：系统执行数据库监控快照操作时，设置快照操作相关的sql语句的执行超时
时间。如果语句超过设置的时间没有执行完并返回结果，则本次快照操作失败。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，100～INT_MAX（秒）。
默认值：100s
25.28.4wdr_snapshot_interval
参数说明：后台线程Snapshot自动对数据库监控数据执行快照操作的时间间隔。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，10～60（分钟）。
默认值：1h
25.28.5asp_flush_mode
参数说明：ASP刷新到磁盘上的方式分为写文件和写系统表，当为‘file’时，默认写文
件，为‘table’时写系统表，为‘all’时，即写文件也写系统表，仅sysadmin用户可以访问。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：字符串，‘table’、‘file’、‘all’。
默认值：‘table’
25.28.6asp_flush_rate
参数说明：当内存中样本个数达到asp_sample_num时，会按一定比例把内存中样本刷
南大通用数据技术股份有限公司
1436
GBase 8s V8.8开发者手册
新到磁盘上，asp_flush_rate为刷新比例。该参数为10时表示按10：1进行刷新。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，1~10。
默认值：10
25.28.7asp_log_filename
参数说明：当ASP写文件时，该参数设置文件名的格式，仅sysadmin用户可以访问。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：字符串。
默认值：“asp-%Y-%m-%d_%H%M%S.log”
25.28.8asp_retention_days
参数说明：当ASP样本写到系统表时，该参数表示保留的最大天数。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，1~7。
默认值：2
25.28.9asp_sample_interval
参数说明：每次采样的间隔。
该参数属于SIGHUP类型参数，请参考表15-1中对应设置方法进行设置。
取值范围：整型，1~10，单位为秒。
默认值：1s
25.28.10 asp_sample_num
参数说明：LOCAL_ACTIVE_SESSION视图最大的样本个数，仅sysadmin用户可以访
问。
该参数属于POSTMASTER类型参数，请参考表15-1中对应设置方法进行设置。
南大通用数据技术股份有限公司
1437
GBase 8s V8.8开发者手册
取值范围：整型，10～100000。
默认值：100000
25.28.11 enable_asp