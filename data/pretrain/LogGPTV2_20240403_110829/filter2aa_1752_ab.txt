8.2.2 调内存小 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 262
8.2.3 内存的 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 264
8.2.4 对. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 266
8.3 段的理. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 270
8.4 存映射 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 271
8.4.1 存映射 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 272
8.4.2 映射 /dev/zero. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 274
8.5 存 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 275
8.5.1  malloc usable size()  malloc trim() 进调 . . . . . . . . . . . . . . . . . 277
8.6 调内存. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 278
8.6.1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 278
8.7 的. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 280
8.7.1 的. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 282
8.7.2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 283
8.8 的内存 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 284
8.9 存操作 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 286
8.9.1 设. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 286
8.9.2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 287
8.9.3 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 288
8.9.4 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 289
8.9.5 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 290
8.10内存. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 291
8.10.1 空间 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 291
8.10.2 空间 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 292
8.10.3 内存. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 293
8.10.4 的 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 294
8.10.5 页理内存 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 294
8.11性存 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 295
8.11.1 超内存 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 295
– XI –
第 9 章 信号 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 297
9.1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 297
9.1.1  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 298
9.1.2 Linux 的 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 298
9.2 理. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 304
9.2.1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 305
9.2.2 子. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 306
9.2.3  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 309
9.2.4 映射 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 310
9.3 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 311
9.3.1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 311
9.3.2 子. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 312
9.3.3 给自 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 312
9.3.4 给进程 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 313
9.4  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 313
9.4.1 的 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 314
9.5 集 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 316
9.5.1 更的集 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 316
9.6 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 317
9.6.1 处理 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 318
9.6.2 集 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 318
9.7 理. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 319
9.7.1 siginfo t  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 321
9.7.2 si code 的世. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 323
9.8 的. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 325
9.8.1 子. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 326
9.9  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 326
第 10 章 时间. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 328
10.1时间的 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 330
10.1.1 原示. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 330
10.1.2  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 331
10.1.3  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 331
10.1.4 时间 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 332
10.1.5 进程时间 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 333
10.2POSIX 时 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 333
10.3时间 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 334
10.4时间. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 335
10.4.1 更的 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 336
10.4.2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 337
10.4.3 进程时间. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 338
– XII –
10.5设时间. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 339
10.5.1 时 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 340
10.5.2 设时间的. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 340
10.6时间. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 341
10.7调校时. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 343
10.8 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 346
10.8.1  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 347
10.8.2 Linux 的实时 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 347
10.8.3  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 348
10.8.4 实的方 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 350
10.8.5 sleep 的实 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 353
10.8.6 超. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 353
10.8.7 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 354
10.9时 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 354
10.9.1 单的 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 354
10.9.2 间时 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 355
10.9.3 时 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 358
10.9.4 设时 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 360
附录 A GCC 对 C 语言的扩展 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 365
A.1 GNU C . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 365
A.2 内. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 365
A.3 内. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 366
A.4  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 367
A.5  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 368
A.6 的. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 368
A.7 内存的 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 368
A.8 调 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 369
A.9 将 deprecated . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 369
A.10将 used. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 370
A.11将或 unused. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 370
A.12将进（pack . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 370
A.13的内存对 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 371
A.14将存 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 372
A.15. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 372
A.16式的. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 373
A.17的内存对. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 374
A.18的. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 375
A.19. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 375
A.20 Case . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 376
A.21void 的操作 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 377
A.22更更的性 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 377
– XIII –
附录 B
参考书目 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 380
B.1 C 程设的相 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 380
B.2 Linux 程的相. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 381
B.3 Linux 内的相. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 381
B.4 操作设的相 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 382
– XIV –
 1 
第 1 章
简介和主要概念
的程的将写
件的相。件的内
进。的件 shell、文、、调、工
 (: 即 GNU Core Utilities,  GNU 的工集我
们的) 进程。程内 C 以
” ” 件。件（ (high-level)GUI 程
更的们。程
的时间写件。理程
程。作的更
的程我们写的件的。
的 Linux 上的程的。 Linux  Linus Torvalds
内散的写的 Unix 操作。 Linux  Unix 
同的理 Linux  Unix Linux 自的原方方
的实能的。的 Linux 程的内
何的 Unix 的。然内 Linux 相
的 Unix 自出的 Linux 的新的调
同的新性。
1.1 系统编程
的的 Unix 程程。
上 Unix 的 X Window 上进工作
时我们的 Unix  API。以上
Linux 程设的。然程的 – 何
 make 的 Linux 上的程的 API。
们程程相们同同。
程出的程对工作的的件操作
的然们调上的。写的
的上上相的内。的
– 1 –
 1 
程程程 (或相), 件的。
离的程的然的
的方式的程同。
我们 web 件（ Javascript
PHP（ C# 或 Java程离程
更的展。然展示程的。实
上写 Javascript  C# 
程。更进步 PHP  Java 程然以程同
理内的能何写出更的。
程的展的 Unix  Linux 的程然
程 C C 内提的。的
程 Apache、 bash、 cp、 Emacs、 init、 gcc、 gdb、 glibc、 ls、 mv、 vim
 X时的。
程的内或设备的内
。程的将内。将
内上的内（内对空间
程。同程以及相的内展
。设备程程的
。
我 Linux 上写程内
 C 提我何 Linux 设小相
 Unix  Linux 提的调们何工作的
将的。
程调 C  C 的
。
1.1.1 系统调用
程调。调（写 syscalls操作
或空间文内
（的的调。调我们的 read() 
write() 的 get thread area()  set tid address()。
Linux 实的调操作。 i386
– 2 –
 1 
的调 300 相的 Windows 上。
Linux 的内（ Alpha i386 PowerPC) 实自的
调。同间的调存的。然 90% 以
上调的上实。上的的
内。
1.1.2 调用系统调用
空间程能内。的
空间程内的或操作内。相内提
空间程能内调调
。程能内内
的。同的相同 i386 上空间程
 0x80 的 int将内
的内处理的 0x80 的处理
的调处理。
程存内调。
调 0 。 i386 上调 5（
open()空间程 int 将 5 写 eax 存。
的方式进处理。以 i386 存
能的存 ebx、 ecx、 edx、 esi  edi 存 5 。对
的超 5 的调的存空间存
的存即。然调的。
处理调的方式同的的。作
程内处理调的。内
的调的 C 自处理。
1.1.3 C 库
C （libc Unix 程的。的 C 
的的提或方的
调。的 Linux  C  GNU libc 提 glibc
[gee-lib-see] 或更 [glib-see].
GNU C 提超展示的内。的 C  glibc 提
– 3 –
 1 
调程工。
1.1.4 C 编译器
 Linux 的 C  GNU 工集（gcc。原 gcc 
GNU 的 cc C 。 GCC 示 GNU C Compiler。
的进。时 gcc  GNU 的。然
 gcc 调 C 我 gcc 的时
上文的 gcc 程。
实 C  (”C ”) 的 ABI(”APIs
 ABIs” ) Unix  ( Linux ) 的程的
。
1.2 API 和 ABI
将程们们写的程以提
的上。们们自的 Linux 上的程能
的 Linux 同时以 Linux 的更新的
Linux 上。
性的相的集
程（API程进（ABI
件同间的。
1.2.1 API
API 件间的。提
 (以的方式) 的方式进: 程段（的
以调程段（。
上示文的 API 能对示文提
的。 API 我们的API实对 API 的实。
们 API 理的
上 API 。 API 的 (件) 给 API 的
实提何实内能的子或
或。 API 的件同的 API
时。 API  API 的实上能。
– 4 –
 1 
实的子 API  C  C 实 API 
的处理。
我们及 API的 IO。 Linux
程的 API 将的。
1.2.2 ABI
API  ABI 的的上或
件间的进。何自何内
以及进。 ABI 进段能
何同 ABI 的上作新。
ABI 的调、、存、调、
、进式。以调何调
何存以及调何提的
。
同的操作（ i386 上的 Unix 操作
的 ABI然效。相 Linux 
内的操作自的 ABI ABI 相。
的 ABI 及的的存或。 Linux
自的 ABI 集实上我们以的
 ABI alpha x86-64 。
程 ABI 的。 ABI 
上的工（tooltrain、。
 ABI 的相内以写出更的写或
工时的绝（实程。
我们以上 Linux 上的工内实的 ABI 
。
1.3 标准
Unix 程的 Unix 程。
Unix 的。性。
的世将方。
– 5 –
 1 
的上 Linux 们。 Linux 
的 POSIX  Single Unix Specification(SUS)
内 POSIX  SUS  Unix 操作上的 C API
们效的的 Unix 程出
的 API 集。
1.3.1 POSIX 和 SUS 的历史
 1980 子工程（IEEE Unix 的
的相工作。自件（Free Software Movement的
 Richard Stallman  POSIX （ pahz-icks
Portable Operating System Interface（操作。
 1988           IEEE std 1003.1-1988（ 
POSIX1988 。 1990  IEEE   POSIX      IEEE std 1003.1-
1990（POSIX1990。性的实时程 IEEE Std 1003.1b-1993
(POSIX 1993 or POSIX.1b)  IEEE Std 1003.1c-1995(POSIX 1995 or POSIX.1c) 式
文。 2001 性 POSIX1990 的上单的
 IEEE Std 1003.1-2001 (POSIX 2001)。新的 IEEE Std 1003.1-2004 布
 2004  4 的 POSIX  POSIX.1以 2004 新
。
 1980  1990  Unix 的”Unix ”
处的将自的 Unix ”Unix”。的
Unix  Open Software Foundation（OSF X/Open 工业
-The Open Group。 The Open Group 提、。 1990 
 Unix 的时 The Open Group 布单 UNIX 
（Single UNIX Specification SUS。相的 POSIX  SUS 
的。 SUS 新的 POSIX 。
的 SUS 布 1994  SUSv1 的 Unix 95.
的 SUS 布 1997 相的 UNIX 98. 的
SUS新的 SUS,SUSv3 布 2002 的 Unix 03.SUSv3
 IEEE Std 1003.1-2001 。我将
POSIX 的调提及。我将提及 POSIX  SUS 
（ SUS  POSIX.1 的超集
– 6 –
 1 
的扩展的 POSIX.1 提的能 –APUE S2.2.3。
1.3.2 C 语言标准
Dennis Ritchie  Brian Kernighan 的作C 程设 (Prentice
Hall) 自 1978 出式的 C 的。
的 C  K&R C。 C 的 Basic 程的
。对时相的进
（ANSI 1983 方的 C 
进新的性同时 C++ 的。
程 ANSI C  1989 。 1990 
（ISO ANSI C 进 ISO C90。
 1995  ISO 布新（然 ISO
C95。 1999 的 ISO C99 更新的内进新的
inline 、新、、 C++ 新的。
1.3.3 Linux 和标准
 Linux  POSIX 以及 SUS 提 SUSv3  POSIX.1
的的实时（POSIX.1b) 程 (POSIX.1c) 。更的
 Linux 提 POSIX  SUS 的。满
的即 bug。 Linux  POSIX.1  SUSv3 实的
 POSIX 或 SUS 方（ Linux 的以我式
布 Linux  POSIX 或 SUS 的。
 Linux  gcc C  ISO C99 gcc 提
 C 的扩展扩展 GNU C。相。
Linux 的的子。 C 
的将的。进
以的 glibc 。 gcc 扩展对新的 gcc 
布 C  gcc 将的的 C
程。的 Linux 内调的调 Linux 内
的上实。
同的 Linux 布 Linux （LSB。
LSB  Linux （自 [Free Standard Group]) 
– 7 –
 1 
的。 LSB 扩展 POSIX  SUS自的。
提进即的上。
 Linux 程上 LSB 。
1.3.4 本书和标准
何的空。时 Unix 程
对同的的进给的调
上实进。及新的 2.6 内
、 gcc 4.2  C （2.5的 Linux 上的进程的相。
的 (Linux 内小处理以
调) 同时提程上进的性
方式我们 Linux 的时 Unix 的
性。将的 Linux 上以的
将的 Linux 。 Linux 的相
gcc内的实。我们以业的实能
。
1.4 Linux 编程概念
展 Linux 提的的。的 Unix
 Linux 提同的集。实上
同 Unix。对文件进程的、理的
 Unix 的内。
 Linux 以 shell
单的 C 程。 Linux 的 Linux 程的内
进 Linux 程的的。
1.4.1 文件和文件系统
文件 Linux 的。 Linux 文件的理（
然 Plan9。的工作
读写文件的的文件。
文件能。文件以以读方式或写方式或
。的文件的文件进
– 8 –
 1 
文件的的映射。 Linux 内文件
示（C 的 int写 fd。文件
空间程文件文件。的 Linux 
程对文件的操作。
1.4.2 普通文件
我们的文件 Linux 的文件。文件以
性方式的。 Linux 文件更进
步的或式。以何以以何方式
文件 Linux 文件的。
操作 VMS提的文件的。 Linux
的处理。
文件的何以读或写操作的
文件的的。文件或文件。
文件内的文件的的。文
件时 0。对文件的读写操作 (进)文件的
。文件的以工超
文件的。超文件写将间的 0。
以的方式文件的写文件的
写。上实上处。文件
0能。文件间写将上的。
间写内扩展文件的文件写操作文件的
文件的存的 C 的小新的
的 Linux 上 64 。
文件的小文件。文件文件的
性的。文件的以（truncation。
文件以文件小的文件。的
操作文件以原更的文件。文
件以0进（文件的。文件以空（ 0
何。文件同文件的 Linux 内理
文件的 C 的小。然的文件能自的
将更小的。
– 9 –
 1 
同文件能同或相同的进程文件的
实提的文件。进程能文件同
进程。内对文件何同的进程能
同时对同文件进读写。的操作的