models have been proposed [34], where privacy is achieved
with a peer-to-peer scheme where users avoid querying the
service provider whenever they can ﬁnd the requested infor-
mation among their peers.
Diﬀerential Privacy has also been used in the context of
location privacy; however, it is in general used to protect
aggregate location information. For instance, [35] presents
a way to statistically simulate the location data from a
database while providing privacy guarantees. In [36], a quad
tree spatial decomposition technique is used to achieve dif-
ferential privacy in a database with location patter min-
ing capabilities. On the other hand, Dewri [37] proposes a
combination of diﬀerential privacy and k-anonymity for the
purposes of hiding the location of a single individual. The
proposed deﬁnition requires that the distances between the
probability distributions corresponding to k ﬁxed locations
(deﬁned as the anonymity set) should not be greater than
the privacy parameter .
The work closest to ours is [38], which independently pro-
poses a linear programming technique to construct opti-
mal obfuscation mechanisms wrt either AdvError or geo-
indistinguishability. Although there is an overlap in the
main construction (the optimization problem of Section 3.1),
most of the results are substantially diﬀerent. The approx-
Figure 6: Boxplot of the location privacy for the
T-Drive dataset. The median value of the location
privacy for OptQL is always as good as the one of
the other mechanisms.
of 10357 taxis in Beijing, China, during the period of one
week. The total distance of the traces in this dataset is about
9 million kilometres, with more than 15 million reported
points. The average time between consecutive points in a
trace is 177 seconds, and the average distance is 623 meters.
Due to the huge amount of users in this dataset, we started
the evaluation process by blindly selecting (using a standard
random function) 5% of the total number users (about 532
users out of 10357). We then perform the same steps as de-
scribed in the previous sections, particularly those described
in Section 4.2. In Figure 6 we can see the comparison of the
location privacy for the diﬀerent mechanisms. We can see
that, also for this dataset, the privacy level of OptQL is,
in general, as good as the one of OptPriv, and always bet-
ter than the one of PL. In particular, the median value for
OptQL is always higher than the corresponding one for the
Figure 7: Quality loss of the OptQL and PL mecha-
nisms for diﬀerent values of , using the data in the
T-Drive dataset. The loss of quality of OptQL is
always smaller than the one of PL.
All dayMorningAfternoonNight0.20.30.40.50.60.70.80.91.01.11.21.31.4Location privacy (km)OptQLOptPrivPL0.00.51.01.52.02.53.03.54.04.55.05.56.00.20.40.60.81.01.21.41.61.82.0EpsilonQuality Loss (km)OptQLPL260imation technique of [38] consists of discarding some of the
geo-indistinguishability constraints when the distance in-
volved is larger than a certain lower bound. This aﬀects
the geo-indistinguishability guarantees of the mechanism,
although the eﬀect can be tuned by properly selecting the
bound for discarding constraints. On the other hand, our
approximation technique, based on spanning graphs, can
be used to reduce the number of constraints from cubic
to quadratic without jeopardizing the privacy guarantees,
by accepting a small decrease on the utility. Moreover, we
show that the mechanism obtained from this optimization
problem is also optimal wrt AdvError (Theorem 2), which
is an important property of the proposed method. Finally,
the evaluation methods are substantially diﬀerent:
in [38]
the employed set of prior distributions diﬀer in their level of
entropy (priors with low entropy are considered more infor-
mative). In our work, we obtain the diﬀerent priors by com-
bining the distribution of the user (assumed to be known by
the adversary) with some public available information (for
instance, the time of the day).
Finally, dX -privacy has been used in [39] to capture fair-
ness, instead of privacy. The goal is to construct a fair
mechanism that produces similar reported values for “simi-
lar” users, the similarity being captured by the metric. As in
our work, the construction involves solving an optimization
problem, however no technique is used to reduce the number
of constraints.
Conclusion
In this paper we have developed a method to generate a
mechanism for location privacy that combines the advan-
tages of the geo-indistinguishability privacy guarantee of [9]
and the optimal mechanism of [8]. Since linear optimization
is computationally demanding, we have provided a technique
to reduce the total number of constraints in the linear pro-
gram, based on the use of a spanning graph to approximate
distances between locations, which allows a huge reduction
on the number of constraints with only a small decrease
in the utility. Finally, we have evaluated the proposed ap-
proach using traces from real users, and we have compared
both the privacy and the running time of our mechanism
with that of [8].
It turns out that our mechanism oﬀers
better privacy guarantees when the side knowledge of the
attacker is diﬀerent from the distribution used to construct
the mechanisms. Besides, for a reasonably good approxi-
mation factor, we have showed that our approach performs
much better in terms of running time.
6. ACKNOWLEDGEMENTS
This work was partially supported by the MSR-INRIA
joint lab, by the European Union 7th FP project MEALS,
by the project ANR-12-IS02-001 PACE, and by the INRIA
Large Scale Initiative CAPPRIS. The work of Nicol´as E.
Bordenabe was partially funded by the DGA.
7. REFERENCES
[1] Freudiger, J., Shokri, R., Hubaux, J.P.: Evaluating
the privacy risk of location-based services. In: Proc. of
FC’11. Volume 7035 of LNCS., Springer (2011) 31–46
[2] Golle, P., Partridge, K.: On the anonymity of
home/work location pairs. In: Proc. of PerCom’09.
Volume 5538 of LNCS. Springer-Verlag (2009) 390–397
[3] Krumm, J.: Inference attacks on location tracks. In:
Proc. of PERVASIVE. Volume 4480 of LNCS.,
Springer (2007) 127–143
[4] Beresford, A.R., Stajano, F.: Location privacy in
pervasive computing. IEEE Pervasive Computing 2(1)
(2003) 46–55
[5] Chow, R., Golle, P.: Faking contextual data for fun,
proﬁt, and privacy. In: Proc. of WPES, ACM (2009)
105–108
[6] Freudiger, J., Shokri, R., Hubaux, J.P.: On the
optimal placement of mix zones. In: Proc. of PETS
2009. Volume 5672 of LNCS., Springer (2009) 216–234
[7] Hoh, B., Gruteser, M., Xiong, H., Alrabady, A.:
Preserving privacy in gps traces via uncertainty-aware
path cloaking. In: Proc. of CCS, ACM (2007) 161–171
[8] Shokri, R., Theodorakopoulos, G., Troncoso, C.,
Hubaux, J.P., Boudec, J.Y.L.: Protecting location
privacy: optimal strategy against localization attacks.
In: Proc. of CCS, ACM (2012) 617–627
[9] Andr´es, M.E., Bordenabe, N.E., Chatzikokolakis, K.,
Palamidessi, C.: Geo-indistinguishability: diﬀerential
privacy for location-based systems. In: Proc. of CCS,
ACM (2013) 901–914
[10] Shokri, R., Theodorakopoulos, G., Boudec, J.Y.L.,
Hubaux, J.P.: Quantifying location privacy. In: Proc.
of S&P, IEEE (2011) 247–262
[11] Dwork, C., Mcsherry, F., Nissim, K., Smith, A.:
Calibrating noise to sensitivity in private data
analysis. In: Proc. of TCC. Volume 3876 of LNCS.,
Springer (2006) 265–284
[12] Chatzikokolakis, K., Andr´es, M.E., Bordenabe, N.E.,
Palamidessi, C.: Broadening the scope of Diﬀerential
Privacy using metrics. In: Proc. of PETS. Volume
7981 of LNCS., Springer (2013) 82–102
[13] Chatzikokolakis, K., Palamidessi, C., Stronati, M.: A
predictive diﬀerentially-private mechanism for
mobility traces. In: Proc. of PETS. Volume 8555 of
LNCS., Springer (2014) 21–41
[14] Bordenabe, N.E., Chatzikokolakis, K., Palamidessi, C.:
Optimal geo-indistinguishable mechanisms for location
privacy. Tech. rep., INRIA (2013) arXiv:1402.5029.
[15] Reed, J., Pierce, B.C.: Distance makes the types grow
stronger: a calculus for diﬀerential privacy. In: Proc.
of ICFP, ACM (2010) 157–168
[16] Narasimhan, G., Smid, M.: Geometric spanner
networks. CUP (2007)
[17] Sack, J., Urrutia, J.: Handbook of Computational
Geometry. Elsevier Science (1999)
[18] Klein, R., Kutz, M.: Computing Geometric
Minimum-Dilation Graphs is NP-Hard. In: Proc. of
the GD. Volume 4372., Springer (2006) 196–207
[19] Location Guard.
https://github.com/chatziko/location-guard.
[20] Zheng, Y., Li, Q., Chen, Y., Xie, X., Ma, W.Y.:
Understanding Mobility Based on GPS Data. In:
Proc. of UbiComp 2008. (2008)
261[21] Zheng, Y., Zhang, L., Xie, X., Ma, W.Y.: Mining
[36] Ho, S.S., Ruan, S.: Diﬀerential privacy for location
interesting locations and travel sequences from GPS
trajectories. In: Proc. of WWW 2009. (2009)
pattern mining. In: Proc. of SPRINGL, ACM (2011)
17–24
[22] Zheng, Y., Xie, X., Ma, W.Y.: Geolife: A collaborative
[37] Dewri, R.: Local diﬀerential perturbations: Location
social networking service among user, location and
trajectory. IEEE Data Eng. Bull. 33(2) (2010) 32–39
privacy under approximate knowledge attackers. IEEE
Trans. on Mobile Computing 99(PrePrints) (2012) 1
[23] Yuan, J., Zheng, Y., Xie, X., Sun, G.: Driving with
[38] Shokri, R.: Optimal user-centric data obfuscation.
knowledge from the physical world. In: The 17th
ACM SIGKDD international conference on Knowledge
Discovery and Data mining, KDD ’11. (2011)
[24] Yuan, J., Zheng, Y., Zhang, C., Xie, W., Xie, X., Sun,
G., Huang, Y.: T-drive: driving directions based on
taxi trajectories. In: GIS. (2010) 99–108
[25] Gruteser, M., Grunwald, D.: Anonymous usage of
location-based services through spatial and temporal
cloaking. In: Proc. of MobiSys, USENIX (2003)
[26] Gedik, B., Liu, L.: Location privacy in mobile
systems: A personalized anonymization model. In:
Proc. of ICDCS, IEEE (2005) 620–629
[27] Mokbel, M.F., Chow, C.Y., Aref, W.G.: The new
casper: Query processing for location services without
compromising privacy. In: Proc. of VLDB, ACM
(2006) 763–774
[28] Bamba, B., Liu, L., Pesti, P., Wang, T.: Supporting
anonymous location queries in mobile environments
with privacygrid. In: Proc. of WWW, ACM (2008)
237–246
[29] Duckham, M., Kulik, L.: A formal model of
obfuscation and negotiation for location privacy. In:
Proc. of PERVASIVE. Volume 3468 of LNCS.,
Springer (2005) 152–170
[30] Xue, M., Kalnis, P., Pung, H.: Location diversity:
Enhanced privacy protection in location based
services. In: Proc. of LoCA. Volume 5561 of LNCS.,
Springer (2009) 70–87
[31] Kido, H., Yanagisawa, Y., Satoh, T.: Protection of
location privacy using dummies for location-based
services. In: Proc. of ICDE Workshops. (2005) 1248
[32] Shankar, P., Ganapathy, V., Iftode, L.: Privately
querying location-based services with SybilQuery. In:
Proc. of UbiComp, ACM (2009) 31–40
[33] Herrmann, M., Troncoso, C., Diaz, C., Preneel, B.:
Optimal sporadic location privacy preserving systems
in presence of bandwidth constraints. In: Proc. of
WPES. (2013)
Kazemi, E., Hubaux, J.P.: Hiding in the mobile
crowd: Location privacy through collaboration. In:
Proc. of the TDSC, IEEE (2014)
[35] Machanavajjhala, A., Kifer, D., Abowd, J.M., Gehrke,
J., Vilhuber, L.: Privacy: Theory meets practice on
the map. In: Proc. of ICDE, IEEE (2008) 277–286
[34] Shokri, R., Theodorakopoulos, G., Papadimitratos, P.,
Maximize:
bx
bx +
(x,x(cid:48))∈E
axx(cid:48)z ≥ 0,

δ dG(x,x(cid:48))ax(cid:48)xz − axx(cid:48)z) ≤ πxdQ(x, z),
(e
x, z ∈ X
z ∈ X , (x, x
(cid:48)
) ∈ E
Technical report, ETH Zurich (2014)
http://arxiv.org/abs/1402.3426.
[39] Dwork, C., Hardt, M., Pitassi, T., Reingold, O.,
Zemel, R.S.: Fairness through awareness. In: Proc. of
ITCS, ACM (2012) 214–226
APPENDIX
In this section we show the dual form of the optimization
problem presented in Section 3.2. We recall that the original
linear program is as follows:
Minimize:
πxkxzdQ(x, z)
(cid:88)
x,z∈X
kxz ≤ e

δ dG(x,x(cid:48))kx(cid:48)z
z ∈ X , (x, x
Subject to:
(cid:88)
kxz = 1
x∈X
kxz ≥ 0
) ∈ E
(cid:48)
x ∈ X
(1)
(2)
x, z ∈ X
To obtain the dual form, we apply the standard technique
of linear programming. First, for the dual program we need
to consider one variable for each of the constraints in the
original linear program that are not constraints on single
variables. Therefore we have two sets of variables:
• The variables of the form axx(cid:48)z, with z ∈ X , (x, x(cid:48)) ∈ E,
• The variables of the form bx, with x ∈ X , corresponding
corresponding to the constraints in (1).
to the constraints in (2).
Applying the standard technique, we obtain the following
system of constraints and objective function, that constitute
the dual linear program:
(cid:88)
x∈X
Subject to:
(cid:88)
262