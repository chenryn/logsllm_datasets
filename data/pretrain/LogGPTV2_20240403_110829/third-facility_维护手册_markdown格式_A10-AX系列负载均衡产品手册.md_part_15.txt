import
Description See “import” on page46.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 132
A10 Thunder Series and AX Series—Command Line Interface Reference
import-periodic
Description Get files from a remote site periodically.
Syntax import-periodic
{
{
aflex file |
auth-portal file |
bw-list file |
class-list file |
class-list-convert file class-list-type type |
dnssec-dnskey file |
dnssec-ds file |
geo-location file |
license file |
local-uri-file file |
policy file |
{
ssl-cert file
{[certificate-type {pem | der | pfx pfx-password pswd | p7b}]
[csr-generate]
} |
ssl-cert-key bulk |
ssl-crl file [csr-generate] |
ssl-key file [csr-generate] |
thales-kmdata file [overwrite] |
thales-secworld file [overwrite] |
wsdl file |
xml-schema file
}
{[use-mgmt-port] url}
period seconds
}
Parameter Description
aflex Import an aFleX file.
auth-portal Import an authentication portal file for Application Access Management (AAM).
bw-list Import a black/white list.
class-list Import an IP class list.
class-list-convert ACOS imports a newline delimited text file and converts it to a class-list file of the type spec-
file class-list- ified a filetype keyword:
type {ac | string
• ac - Aho-Corasick class list.
|ipv4 | ipv6 |
See the “How to Convert Your SNI List to an A10 Class List” section in the SSL Insight book
string-case-inten-
for an example of converting to an A10 Aho-Corasick class list.
sive}
• string
• ipv4
• ipv6
• string-case-insensitive
NOTE: Only the Aho-Corasick class list is compliant with the class list types created through
the class-list command.
dnssec-dnskey Import a DNSEC key-signing key (KSK) file.
page 133 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Parameter Description
dnssec-ds Import a DNSSEC DS file.
geo-location Imports a geo-location data file for Global Server Load Balancing (GSLB).
license Import a license file, if applicable to your model.
local-uri-file Import a local URI file.
policy Import a WAF policy file.
ssl-cert [bulk] Imports a certificate.
• Use the bulk option to import multiple files simultaneously as a .tgz archive.
• Use certificate-type to specify a certificate type.
• Use csr-generate to generate a CSR file.
ssl-cert-key [bulk] Imports a certificate and key together as a single file.
Specify bulk to import multiple files simultaneously as a .tgz archive
ssl-key [bulk] Import a certificate key.
Specify bulk to import multiple files simultaneously as a .tgz archive
ssl-crl Import a certificate revocation list (CRL).
wsdl Import a WSDL file.
xml-schema Import an XML schema file.
use-mgmt-port Uses the management interface as the source interface for the connection to the remote
device. The management route table is used to reach the device. Without this option, the
ACOS device attempts to use the data route table to reach the remote device through a data
interface.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 134
A10 Thunder Series and AX Series—Command Line Interface Reference
Parameter Description
url Protocol, user name (if required), and directory path you want to use to send the file.
You can enter the entire URL on the command line or press Enter to display a prompt for
each part of the URL. If you enter the entire URL and a password is required, you will still be
prompted for the password. The password can be up to 255 characters long.
To enter the entire URL:
• tftp://host/file
• ftp://[user@]host[port:]/file
• scp://[user@]host/file
• sftp://[user@]host/file
period seconds Enables automated updates of the file. You can specify 60 (one minute)-31536000 (one year)
seconds.
The period option simplifies update of imported files, especially files that are used by mul-
tiple ACOS devices. You can edit a single instance of the file, on the remote server, then con-
figure each of ACOS device to automatically update the file to import the latest changes.
When you use this option, the ACOS device periodically replaces the specified file with the
version that is currently on the remote server. If the file is in use in the running-config, the
updated version of the file is placed into memory.
The updated file affects only new sessions that begin after the update but does not affect
existing sessions. For example, when an aFleX script that is bound to a virtual port is
updated, the update affects new sessions that begin after the update, but does not affect
existing sessions that began before the update.
Mode Privileged EXEC mode or global configuration mode
Example The following command imports an aFleX policy onto the ACOS device from a TFTP server,
from its directory named “backups” every 30 days:
ACOS(config)# import-periodic aflex aflex-01 tftp://192.168.1.101/backups/aflex-01 period
2592000
interface
Description Access the CLI configuration level for an interface.
Syntax interface {
ethernet port-num |
lif logical-interface-id |
loopback num |
management |
trunk num |
tunnel num |
ve ve-num
}
Default N/A
Mode Configuration mode
page 135 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Usage If the ACOS device is a member of an aVCS virtual chassis, specify the interface number as
follows: DeviceID/Portnum
For information about the commands available at the interface configuration level, see
“Config Commands: Interface” in the Network Configuration Guide.
Example The following command changes the CLI to the configuration level for Ethernet interface 3:
ACOS(config)#interface ethernet 3
ACOS(config-if:ethernet:3)#
ip
Description Configure global IP settings. For information, see “Config Commands: IP” in the Network Con-
figuration Guide.
ip-list
Description Create a list of IP addresses with group IDs to be used by other GSLB commands.
For example, you can create an IP list and use it in a GSLB policy.
Refer to Global Server Load Balancing Guide for more information.
Syntax [no] ip-list list-name
After entering this command, you are placed in a sub-configuration mode where you can
enter the IP addresses as follows:
ipv4-addr [to end-ipv-addr]
ipv6-addr [to end-ipv6-addr]
ipv6-addr/range [count num] [to end-ipv6-addr/range]
Mode Configuration mode
Example The following example shows how to use the ip-list command to create a list of IPv4
addresses from 10.10.10.1 to 10.10.10.44:
ACOS(config)#ip-list ipv4-list
ACOS(config-ip-list)#10.10.10.1 to 10.10.10.44
ipv6
Description Configure global IPv6 settings. For information, see “Config Commands: IPv6” in the Network
Configuration Guide.
key
Description Configure a key chain for use by RIP or IS-IS MD5 authentication.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 136
A10 Thunder Series and AX Series—Command Line Interface Reference
Syntax [no] key chain name
Replace name with the name of the key chain (1-31 characters).
This command changes the CLI to the configuration level for the specified key chain, where
the following key-chain related command is available:
[no] key num
This command adds a key and enters configuration mode for the key. The key number can
be 1-255. This command changes the CLI to the configuration level for the specified key,
where the following key-related command is available:
[no] key-string string
This command configures the authentication string of the key, 1-16 characters.
Default By default, no key chains are configured.
Mode Global Config
Usage Although you can configure multiple key chains, it is recommends using one key chain per
interface, per routing protocol.
Example The following commands configure a key chain named “example_chain”.
ACOS(config)#key chain example_chain
ACOS(config-keychain)#key 1
ACOS(config-keychain-key)#key-string thisiskey1
ACOS(config-keychain-key)#exit
ACOS(config-keychain)#key 2
ACOS(config-keychain-key)#key-string thisiskey2
ACOS(config-keychain-key)#exit
ACOS(config-keychain)#key 3
ACOS(config-keychain-key)#key-string thisiskey3
l3-vlan-fwd-disable
Description Globally disable Layer 3 forwarding between VLANs.
Syntax [no] l3-vlan-fwd-disable
Default By default, the ACOS device can forward Layer 3 traffic between VLANs.
Mode Configuration mode
Usage This command is applicable only on ACOS devices deployed in gateway (route) mode. If the
option to disable Layer 3 forwarding between VLANs is configured at any level, the ACOS
device can not be changed from gateway mode to transparent mode, until the option is
removed.
page 137 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Depending on the granularity of control required for your deployment, you can disable Layer
3 forwarding between VLANs at any of the following configuration levels:
• Global – Layer 3 forwarding between VLANs is disabled globally, for all VLANs, on ACOS
devices deployed in gateway mode. (Use this command at the Configuration mode
level.)
• Individual interfaces – Layer 3 forwarding between VLANs is disabled for incoming traf-
fic on specific interfaces. (See the “l3-vlan-fwd-disable” command in the Network Con-
figuration Guide.)
• Access Control Lists (ACLs) – Layer 3 forwarding between VLANs is disabled for all traffic
that matches ACL rules that use the l3-vlan-fwd-disable action. (See “access-list
(standard)” on page68 or “access-list (extended)” on page70.)
To display statistics for this option, see “show slb switch” on page427.
lacp system-priority
Description Set the Link Aggregation Control Protocol (LACP) priority.
Syntax [no] lacp system-priority num
Replace num with the LACP system priority, 1-65535. A low priority number indicates a high
priority value. The highest priority is 1 and the lowest priority is 65535.
Default 32768
Mode Configuration mode
Usage In cases where LACP settings on the local device (the ACOS device) and the remote device at
the other end of the link differ, the settings on the device with the higher priority are used.
lacp-passthrough
Description Specify peer ports to which received LACP packets can be forwarded.
Syntax lacp-passthrough ethernet fwd-port ethernet rcv-port
Parameter Description
fwd-port Peer member that will forward LACP packets.
rcv-port Peer member that will receive the forwarded LACP packets.
Default Not set
Mode Configuration mode
ldap-server
Description Set Lightweight Directory Access Protocol (LDAP) parameters for authenticating administra-
tive access to the ACOS device.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 138
A10 Thunder Series and AX Series—Command Line Interface Reference
Syntax [no] ldap-server host
{hostname | ipaddr}
{cn cn-name dn dn-name |
domain domain-name [base base-domain] [group group-id]}
[port portnum]
[ssl]
[timeout seconds]
Parameter Description
hostname Host name of the LDAP server.
ipaddr IP address of the LDAP Server.
cn-name Value for the Common Name (CN) attribute.
dn-name Value for the Distinguished Name (DN) attribute.
The DN attribute does not support spaces or quotation marks. For
example, the following DN string syntax is valid:
cn=xxx3,dc=maxcrc,dc=com
The following string is not valid because of the quotation marks and
space character:
“cn=xxx3,dc=max crc,dc=com”
domain-name Active Directory domain name.
base-domain Base domain to which the user belongs.
group-id Group ID to which the user belongs.
portnum Protocol port on which the server listens for LDAP traffic.
The default is 389.
seconds Maximum number of seconds the ACOS device waits for a reply from
the LDAP server for a given request (1-60 seconds). If the LDAP server
does not reply before the timeout, authentication of the admin fails.
The default is 44 seconds.
ssl Authenticate using SSL.
Default No LDAP servers are configured by default. When you add an LDAP server, it has the default
settings described in the table above.
Mode Configuration mode
Usage LDAP is a AAA protocol that the ACOS device can use to authenticate admins and authorize
their management access based on admin account information on external LDAP servers.
This release supports the following types of LDAP servers:
• OpenLDAP
• Microsoft Active Directory (AD)
To enable LDAP authentication, use the following command at the global configuration level
of the CLI:
page 139 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
[no] authentication type ldap [method2 [method3 [method4]]]
To use backup methods, specify them in the order you want to use them.
Nested OUs
To use nested OUs, specify the nested OU first, then the root. For example, a user account
could be nested as follows:
Root OU= Service Accounts -> OU=StaffElevatedAccounts -> UserAccUser1
To configure the ACOS device to provide LDAP AAA for “UserAccUser1”, use a command such
as the following:
ldap-server host ldapserver.ad.example.edu cn cn dn ou=StaffElevatedAccounts,
ou=ServiceAccounts,dc=ad,dc=example,dc=edu
Example The following commands enable LDAP authentication and add LDAP server 192.168.101.24:
ACOS(config)#authentication type ldap
ACOS(config)#ldap-server host 192.168.101.24 cn cn dn ou=UserAccount,dc=example,dc=com
link
Description Link the “startup-config” token to the specified configuration profile. By default, “startup-con-
fig” is linked to “default”, which means the configuration profile stored in the image area from
which the ACOS device most recently rebooted.
Syntax link startup-config {default | profile-name} [primary | secondary]
Parameter Description
default Links “startup-config” to the configuration profile stored in the
image area from which the ACOS device was most recently
rebooted.
profile-name Links “startup-config” to the specified configuration profile.
primary | second- Specifies the image area. If you omit this option, the image
ary area last used to boot is selected.
Default The “startup-config” token is linked to the configuration profile stored in the image area from
which the ACOS device was most recently rebooted.
Mode Configuration mode
Usage This command enables you to easily test new configurations without replacing the configu-
ration stored in the image area.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 140
A10 Thunder Series and AX Series—Command Line Interface Reference
The profile you link to must be stored on the boot device you select. For example, if you use
the default boot device (hard disk) selection, the profile you link to must be stored on the
hard disk. If you specify cf, the profile must be stored on the compact flash. (To display the
profiles stored on the boot devices, use the show startup-config all command. See
“show startup-config” on page347.)
After you link “startup-config” to a different configuration profile, configuration management
commands that affect “startup-config” affect the linked profile instead of affecting the
configuration stored in the image area. For example, if you enter the write memory
command without specifying a profile name, the command saves the running-config to the
linked profile instead of saving it to the configuration stored in the image area.
Likewise, the next time the ACOS device is rebooted, the linked configuration profile is
loaded instead of the configuration that is in the image area.
To relink “startup-config” to the configuration profile stored in the image area, use the default
option (link startup-config default).
Example The following command links configuration profile “slbconfig3” with “startup-config”:
ACOS(config)# link startup-config slbconfig3
Example The following command relinks “startup-config” to the configuration profile stored in the
image area from which the ACOS device was most recently rebooted”:
ACOS(config)# link startup-config default
lldp enable
Description Use this command to enable or disable LLDP from the global level. You can enable LLDP to
either receive only, transmit only, or transmit and receive.
Syntax lldp enable [rx] [tx]
no lldp enable
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.
Example To enable LLDP transmission and receipt from the global level, issue the following com-
mand:
ACOS(config)# lldp enable rx tx
lldp management-address
Description Configures the management-address that can include the following information:
• DNS name
• IPv4 address
page 141 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
• IPv6 address
Optionally, you can specify the interface on which the management address is configured.
The management interface can be either a physical Ethernet interface or a virtual interface
(VE).
Syntax [no] lldp management-address
{dns dns-value | ipv4 ipv4-value ipv6 ipv6-value}
interface {ethernet eth-num | management | ve ve-num}
Default Not set
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.
lldp notification interval
Description This object controls the interval between transmission of LLDP notifications during normal
transmission periods.
Syntax [no] lldp notification interval notification-value
Default 30
Mode Configuration mode
Usage LLDP commands are only available in the shared partition.