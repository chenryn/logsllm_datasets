### 0x01 WiFi简介
智能手机的快速发展已将近十年左右，较之旧款的非智能手机，最大的区别应该是在于其强大的上网功能。在4G技术已经普及的今天，无奈国内的电信运营商们把移动联网流量的价格抬的让人无法深爱，加之家庭用户和企业用户对于物理网络线缆的愈发嫌弃，WiFi技术的飞速发展给大家带来了另一种畅游网络的便捷。人们已经习惯于保持手机的WiFi功能打开状态，习惯于走进一个理发店小饭馆先找找墙上哪里贴着WiFi账号密码的标签纸。但是便捷带来的不仅是使用的方便，还有常被人忽视的安全隐患。
​
我们先解释一下WiFi这个名词。WiFi普遍的定义是一种允许电子设备连接到一个无线局域网（WLAN）的技术，有些WiFi设置成加密状态，也有些WiFi是开放的、不需要密码即可接入的。最常见的WiFi信号来自于无线路由器，无线路由器如果本身连接到了互联网，那么它也可以被称为热点。WiFi其实就是一种把有线上网的方式转变为无线上网方式的技术，几乎现在所有的智能手机、平板电脑和笔记本电脑都具备WiFi接入功能。
WiFi技术是众多无线通信技术中的一个分支，常见的无线通信技术还包括3G/4G这类基于通信基站的移动通讯技术、蓝牙、红外线连接、NFC近场通讯、射频技术等，严格的讲“无线网”这个名词并不单指WiFi。在本系列文章中，我们主要介绍有关WiFi安全的知识，其他的无线通信技术暂不讨论。
在这里有必要特别说明，WiFi这个名词实际是代表了工业界成立于1999年的一个组织，称为Wi-Fi联盟，这个联盟致力于解决符合IEEE
802.11标准的网络通信产品生产以及设备兼容性的问题。久而久之人们习惯于用WiFi这个名词代表了无线局域网（WLAN）技术。随着科技的发展和人们对于网络的更高需求，IEEE
802.11标准衍生出来了很多的版本，为了便于大家的理解，我们列出了如下表所示的各版本基本信息：
标准说明802.11  
发表于1997年，速率2Mbit/s，2.4GHz频道802.11a  
发表于1999年，速率54Mbit/s，5GHz频道Q802.11b  
发表于1999年，速率11Mbit/s，2.4GHz频道802.11c  
符合802.11D的媒体接入控制层MAC桥接802.11d  
根据多国无线电管理规定作出的调整802.11e  
支持服务等级QoS802.11f  
基站互连802.11g  
速率54Mbit/s，2.4GHz频道802.11h  
调整无线覆盖半径802.11i  
补充安全与鉴权方面802.11n  
多重I/O和40Mbit/s通道宽度，是a/g版本的延伸  
除了表中列出的版本，IEEE
802.11还有一些改进型的技术，例如802.11g+或者802.11b+。不同的版本是针对不同的使用需求所做出的调整，对于我们目前常见使用的无线路由器或AP（无线接入点）等网络产品，IEEE
802.11b/g/n/ac版本的标准已经满足日常使用需求，并且主流无线网络设备均兼容这几个版本。为了让大家清楚直观的了解这些版本的主要区别，请看下图：  
[
​
熟悉物理学中电磁知识的读者可能比较容易理解覆盖范围的问题，无线电频率越高，信息传输率就越高，但由此带来的电波衍射能力也就越低，因为频率越高波长越小，物理障碍能够大大衰减信号强度。在目前家庭用户的实际使用中，802.11b/g/n/ac的使用率最高，已经成为速度和可用性平衡度最高的版本。WiFi信号的这种覆盖特性决定了其应用场景，主要有家庭网络、校园网络、企业内部网络、区域范围智能设备控制网络、各类公共场所等。
​
前面我们说到，WiFi的这种技术实际是无线替代有线的作用，所以WiFi的网络结构与传统有线局域网的区别并不大，下图展示了WiFi网络的常见结构：[  
​ 家庭网络的结构通常没有上图所示那么复杂，但基本架构不变。上图的AP（Access
Point）即相当于无线路由器的作用，有线网络通过无线路由器等设备，自行建立一个无线局域网环境，使得具备无线接入功能的设备以无线方式接入路由器内网，通过路由器实现上网功能。AP以每100ms一次的频率由Beacons（信号台）将无线网络的SSID（Service
Set
Identifier）发射出去，确保覆盖范围内所有的无线客户端能够收到这个SSID广播封包，并依据无线客户端的需求决定是否要和此AP进行网络连接。通俗来说，就是无线路由器不断发射自己的“网络名字”出去，无线客户端的无线网卡接受到这个含有名字信号的才具备接入网络的基本条件。
### 0x02 WiFi网络的硬件组成
无线网络主要由基本服务单元（BSS）、站点（station）、接入点（AP）、扩展服务单元（ESS）组成。这里特别说明，在破解WiFi密码的过程中，BSS可以简单理解为无线路由器的MAC地址，站点就是已经连接到无线路由器的手机、平板等无线终端设备，接入点AP指无线路由器本身，ESS常见的表现形式是SSID，也就是大家给无线路由器信号设置的网络名称。
组建一套基本的WiFi网络环境，最常见的就是无线路由器和具备无线网卡的上网终端。无线路由器和无线网卡将传统的有线局域网络转变为方便人们使用的WiFi网络。这里我们着重介绍这两种网络设备。下图就是典型的无线路由器的外观图片：  
[