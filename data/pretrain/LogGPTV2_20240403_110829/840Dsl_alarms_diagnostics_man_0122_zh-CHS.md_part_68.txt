本通道NC启动禁止。
通道没有准备就绪。
已设置接口信号。
报警时NC停止。
报警显示。
排除方法： 提高机床数据MD $MN_SAFE_SPL_START_TIMEOUT 的值。
程序继续： 用复位键清除所有通道中的报警。重新启动零件程序。
16966 [通道%1: ] 在执行JOG退刀时不允许执行 '%2'
参数： %1 = 通道号
%2 = 动作号/动作名称
说明： 在执行JOG退刀的过程中不允许激活该功能（第2个参数）。
反应： 报警显示。
排除方法： 按下RESET键撤销JOG退刀。
程序继续： 用清除键或NC-启动键清除报警
16967 [通道%1: ] 在处理保护区时不允许 '%2'操作
参数： %1 = 通道号
%2 = 动作号/动作名称
说明： 在通过PI _N_PROT_A激活了保护区处理时，不允许激活该功能（第2个参数）。
反应： 报警显示。
排除方法： 等待PI _N_PROT_A 结束或者通过复位操作结束该PI服务。
程序继续： 用清除键或NC-启动键清除报警
报警
326 诊断手册, 01/2022, 6FC5398-6BP40-6RA6
NC 报警
16968 [通道%1: ] 机床数据%2[%3] 包含无效句法，错误代码：%4
参数： %1 = 通道号
%2 = 搜索字符串：机床数据标识
%3 = 下标：机床数据数组下标
%4 = 出错代码
说明： 在辅助功能定义语句或子程序名称中，违反了某项句法规定。错误代码指出了问题原因：
1 - 辅助功能定义语句必须以M、D、H 或 T 开头。
2 - 辅助功能定义语句可以包含一个后缀或一个地址数值。
3 - 辅助功能后缀的句法为：用方括号“[]”括住一个自然数或一个通配符“*”。注意，只有当$MC_T_M_ADDRESS_EXT_IS_SPINO
= TRUE 或者激活了刀具管理（MD18080 $MN_MM_TOOL_MANAGEMENT_MASK,MD20310
$MC_TOOL_MANAGEMENT_MASK）时，T开头辅助功能的方括号中允许自然数。
4 - 辅助功能数值的句法为：等号“=”后跟一个自然数或一个通配符“*”。
5 - 刀具管理激活（MD18080 $MN_MM_TOOL_MANAGEMENT_MASK, MD20310 $MC_TOOL_MANAGEMENT_MASK）时，
“T”不能以一个数字给定，而是必须用一个通配符“*”。
6 - 其他辅助功能条目被视为“子程序名称”。一个子程序名不允许包含符。它必须是一个以前缀“_N_”开头的有效名称，不
允许包含：路径信息、斜杠“/”、特殊字符、检查字符、NC程序指令（比如：POSA）。
7 -“_N_ASUP1”和“_N_ASUP2”不允许用作子程序定义，因为它们是系统异步子程序的名称。
比如：一条正确的辅助功能定义语句为：H[3]=7、M22、D[*]=4、T[*]=*、T=*。
一个正确的子程序名称为：_N_TOOL_TWIST。
反应： 本通道NC启动禁止。
已设置接口信号。
报警显示。
排除方法： 请通知授权人员/服务部门。在界面显示的机床数据中按照正确句法输入辅助功能定义或子程序名称。
- CFG_STOP 位置： SD42220 $SC_CFG_STOP_ARRAY
程序继续： 用复位键清除报警，重新启动子程序。
17001 [通道 %1: ] 程序段 %2 刀具或刀库数据无可用存储空间。数据类型: %3 %4
参数： %1 = 通道号
%2 = 程序段号、 标记
%3 = 数据类型
%4 = 原因
报警
诊断手册, 01/2022, 6FC5398-6BP40-6RA6 327
NC 报警
说明： 数据类型：
1-刀具，2-刀沿，3-多刀，4-多刀刀位，5-总补偿或整定补偿
6-适配器，7-刀库，8-刀库刀位，9-磨损组，10-刀库间距
原因（仅当数据类型为刀具时）：
1-刀具数量达限，2-刀具表（handles），3-刀具（bodies），4-刀具组（handles），5-刀具组
NC中的下列刀具/刀库数据的数量由机床数据确定：
- 刀具数量 + 磨削数据组数量：MD18082 $MN_MM_NUM_TOOL
- 刀沿数量：MD18100 $MN_MM_NUM_CUTTING_EDGES_IN_TOA
可以独立于刀具管理功能来使用刀具、磨削数据组和刀沿。
只有在MD18080$MN_MM_TOOL_MANAGEMENT_MASK中设置了相应的位时，下列数据的存储空间才可以使用。
- 监控数据组数量：MD18100 $MN_MM_NUM_CUTTING_EDGES_IN_TOA
- 刀库数量：MD18084 $MN_MM_NUM_MAGAZINE
- 刀库刀位数量：MD18086 $MN_MM_NUM_MAGAZINE_LOCATION
- 适配器数量MD18104 $MN_MM_NUM_TOOL_ADAPTER和MD18103 $MN_MM_NUM_TOOL_ADAPTER_TYPE2
下列数量由软件配置确定：刀库间距数据组数量：P2允许32个这样的间距数据组。
定义：
- “磨削数据组”：对于类型为400到499的刀具可以定义磨削数据。
此外，该数据组还会占用存储空间，和刀沿占用存储空间的情况一致。
- “监控数据组”：刀具的每个刀沿可以通过监控数据来补充。
- 如果在写入$TC_MDP1/$TC_MDP2/$TC_MLSR中某个参数时出现报警，
则必须检查是否正确设置了机床数据MD18077$MN_MM_NUM_DIST_REL_PER_MAGLOC/
MD18076$MN_MM_NUM_LOCS_WITH_DISTANCE 。
MD18077$MN_MM_NUM_DIST_REL_PER_MAGLOC定义了可设定多少与Index2值不同的Index1值。
MD18076$MN_MM_NUM_LOCS_WITH_DISTANCE定义了在Index2中可命名的不同缓冲区刀位的数量。
如需创建多刀（Multitool）及其刀位，则报警显示不允许创建超出机床数据MD18083 $MN_MM_NUM_MULTITOOL中设定
的多刀数量，
或者在创建多刀刀位时的报警中显示不允许超出机床数据MD18085 $MN_MM_NUM_MULTITOOL_LOCATIONS中设定的多
刀刀位的数量。
反应： 重组补偿程序段。
已设置接口信号。
报警显示。
排除方法： 请通知授权的人员／服务部门。
- 修改机床数据。
- 修改NC程序，即减少与造成错误条件的变量相关的项数。
程序继续： 按下CYCLE START键或RESET键清除报警，继续运行程序。
17010 [通道 %1: ] 程序段 %2 没有空余存储空间
参数： %1 = 通道号
%2 = 程序段号、 标记
说明： 在执行或读取当前工作存储器中的文件时，存储空间不足，比如：读取LUD或GUD等大量多维数组时或在创建刀具补偿存
储器时。
反应： 解释器终止。
本通道NC启动禁止。
已设置接口信号。
报警显示。
排除方法： 请通知授权的人员／服务部门。减小数组或者安排更大的存储空间用于子程序调用、刀具补偿和用户变量（机床数据 MM_...）
的存储器管理。
参见／FB／，S7存储器配置
程序继续： 用复位键清除报警，重新启动子程序。
报警
328 诊断手册, 01/2022, 6FC5398-6BP40-6RA6
NC 报警
17018 [通道 %1: ] 程序段 %2 错误值用于参数 %3
参数： %1 = 通道号
%2 = 程序段号、 标记
%3 = 参数名称
说明： 为给定参数分配了一个错误值。
对于参数$P_WORKAREA_CS_COORD_SYSTEM 只有值
=1用于WKS
=3用于ENS
是允许的。
反应： 解释器终止。
已设置接口信号。
报警显示。
排除方法： 分配一个其它值。
程序继续： 用复位键清除报警，重新启动子程序。
17020 [通道 %1: ] 程序段%2 数组索引1错误
参数： %1 = 通道号
%2 = 程序段号、 标记
说明： 一般情况：
程序中写入了对某个数组变量的读/写指令， 但第1.个数组索引无效。有效的数组索引必须在指定的数组大小和绝对限值（0
―32 766）之内。
PROFIBUS/PROFINET I/O：
在读/写数据时使用了无效的槽区域索引、I/O区域索引。
原因：
1.：槽区域索引、I/O区域索引 >= 可用的槽区域、I/O区域的最大数量。
2.：槽区域索引、I/O区域索引引用了一个未配置的槽区域、I/O区域。
3.：槽区域索引、I/O区域索引引用了一个未释放用于系统变量的槽区域、I/O区域。
特殊情况：如果在写入$TC_MDP1/$TC_MDP2/$TC_MLSR中某个参数时出错，
必须检查是否正确设置了机床数据MD18077 $MN_MM_NUM_DIST_REL_PER_MAGLOC。
机床数据MD18077 $MN_MM_NUM_DIST_REL_PER_MAGLOC确定了不同于索引2值的索引1值的数量。
程序内写入了一个MT号时，该号可能和已定义的T号或刀库号冲突。
反应： 重组补偿程序段。
已设置接口信号。
报警显示。
排除方法： 更正读写指令中数组元素的索引，使之与定义的大小相匹配。
程序继续： 按下CYCLE START键或RESET键清除报警，继续运行程序。
17030 [通道 %1: ] 程序段%2 数组索引2错误
参数： %1 = 通道号
%2 = 程序段号、 标记
说明： 一般情况：
程序中写入了对某个数组变量的读/写指令， 但第2.个数组索引无效。有效的数组索引必须在指定的数组大小和绝对限值（0
―32 766）之内。
PROFIBUS/PROFINET I/O：
试图读/写某个位于指定槽区域、I/O区域之外的数据。
特殊情况：如果在写入$TC_MDP1/$TC_MDP2/$TC_MLSR中某个参数时出错，
必须检查是否正确设置了机床数据MD18076 $MN_MM_NUM_LOCS_WITH_DISTANCE。
$MN_MM_NUM_LOCS_WITH_DISTANCE确定了在索引2中不同缓冲器位置的数量。
反应： 重组补偿程序段。
已设置接口信号。
报警显示。
报警
诊断手册, 01/2022, 6FC5398-6BP40-6RA6 329
NC 报警
排除方法： 更正存取指令中数组元素的指标，使之与定义的大小相匹配。
程序继续： 按下CYCLE START键或RESET键清除报警，继续运行程序。
17035 [通道 %1: ] 程序段%2 不允许的数组索引3
参数： %1 = 通道号
%2 = 程序段号、 标记
说明： 一般情况：
用无效的3.数组索引编程了对数组变量的读写访问。有效的数组索引必须在定义的数组大小和绝对极限(0 - 32 766)内。
反应： 重组补偿程序段。
已设置接口信号。
报警显示。
排除方法： 更正存取指令中数组元素的指标，使之与定义的大小相匹配。
程序继续： 按下CYCLE START键或RESET键清除报警，继续运行程序。
17040 [通道 %1: ] 程序段 %2 非法轴分度
参数： %1 = 通道号
%2 = 程序段号、 标记
说明： 在程序中编制了对某个坐标轴变量的读或写访问指令，其中，坐标轴名称不能明确映射到一个机床坐标轴。
例如：
坐标轴索引数据的写入
$MA_... [X]= ...；但是，由于存在变换的原因，几何坐标轴X不能映射到机床坐标轴上！
反应： 重组补偿程序段。
已设置接口信号。
报警显示。
排除方法： 首先解除变换，然后再写入坐标轴数据（关键字：TRAFOOF），或者将机床坐标轴名称用作坐标轴。
程序继续： 按下CYCLE START键或RESET键清除报警，继续运行程序。
17050 [通道 %1: ] 程序段 %2 非法数额
参数： %1 = 通道号
%2 = 程序段号、 标记
说明： 程序中写入的数值超出了某个变量或机床数据的值域或限值。
例如：- 字符串变量（例如：GUD或LUD）中写入了一个大于变量定义中规定长度的字符串。
- 刀具管理变量或刀库管理变量中写入了一个无效值（例如：$TC_DPCE[x,y]中刀沿号错误或 $TC_MDP2[x,y])中的刀库位
置号错误）。
- MTL值错误。必须使用多刀的多到位置对MTL进行编程，即：指令T＝刀库位置号时在NC程序段内进行编程。
- $P_USEKT 或$A_DPB_OUT[x,y]中写入了一个错误值。
- 机床数据中写入了一个错误值（例如：MD10010 $MN_ASSIGN_CHAN_TO_MODE_GROUP[0] = 0）。
- 在访问某个FRAME单元时，写入的FRAME单元不是TRANS、ROT、SCALE或MIRROR；或者给CSCALE设置了一个负
比例系数。
程序中写入的多刀号（Multitool）使用了一个已经定义的T号或刀库号。
使用DELMLOWNER编程时：该指令不能和多刀中某把刀具的T号一起编程。
反应： 解释器终止。
本通道NC启动禁止。
已设置接口信号。
报警显示。
排除方法： 访问仅具提供关键字的框架组件；将程序中的比例系数限制在0.000 01―999.999 99之间。
程序继续： 用复位键清除报警，重新启动子程序。
报警
330 诊断手册, 01/2022, 6FC5398-6BP40-6RA6
NC 报警
17052 [通道%1: ] 程序段%2不允许的值/字符串型参数值
参数： %1 = 通道号
%2 = 程序段号、 标记
说明： 所编程的字符串型值已经使用。
例如 - 新建多刀刀具的名称已经分配给其他的多刀刀具、刀具或刀库。
- 新建刀具的名称已经分配给同一个双编号的另一个刀具或多刀刀具。
- 新建刀库的名称已经分配给另一个多刀刀具。
反应： 解释器终止。
本通道NC启动禁止。
已设置接口信号。
报警显示。
排除方法： 所编程的字符串型值不被允许。
程序继续： 用复位键清除报警，重新启动子程序。
17055 [通道 %1: ] 程序段 %2 没发现 GUD-变量
参数： %1 = 通道号
%2 = 程序段号、 标记