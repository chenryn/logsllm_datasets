User: Please describe how to use Ansible to manage multiple servers in a cluster and perform batch operations on them.
Assistant: To use Ansible to manage multiple servers in a cluster, you need to follow the steps below: 1. Install Ansible: Install the appropriate version of Ansible according to different operating systems. 2. Configure Ansible: Set the server list to be managed, login user, login key and other information in the Ansible configuration file. 3. Write Ansible playbook: Use YAML language to write Ansible playbook to define the tasks and operations that need to be performed. 4. Execute Ansible playbook: Use the ansible-playbook command to execute the written playbook and perform batch operations on multiple servers in the cluster. Here is a simple example: Suppose we have three servers, 192.168.1.100, 192.168.1.101, 192.168.1.102. First, add the following content to the Ansible configuration file /etc/ansible/hosts: ``` [web] 192.168.1.100 192.168.1.101 192.168.1.102 ``` This defines a server group named "web", including three servers. Then, write a playbook named "update.yml" with the following content: ``` - name: Update servers hosts: web tasks: - name: Update packages apt: upgrade: yes ``` This playbook defines a function called " Update servers" task, for all servers in the "web" group, use the apt command to update the package. Finally, use the ansible-playbook command to execute this playbook: ``` ansible-playbook update.yml ``` In this way, you can perform package upgrade operations on all servers in the cluster.