User: How to use the iptables command to protect the network security of Linux servers, such as configuring firewall rules and restricting access, etc.?
Assistant: Iptables is a very powerful firewall tool on the Linux operating system. You can configure firewall rules and restrict access through the iptables command to improve the security of Linux servers. The following are a few examples: 1. Configure firewall rules In order to configure firewall rules, you need to use the iptables command and its parameters. The iptables command has three main tables (table): filter, nat, and mangle. a) Use the iptables command to list the current firewall rules: iptables -L b) Allow machines on the internal network to access the external network through the firewall: iptables -t filter -A FORWARD -i eth0 -j ACCEPT c) Forbid machines on the external network to access the internal network Network: iptables -t filter -A FORWARD -i eth0 -j REJECT d) Allow SSH remote connections to the server, restrict access from certain IP addresses: iptables -A INPUT -p tcp --dport 22 -m state --state NEW -s 192.168.1.1 -j ACCEPT 2. Restricting access In order to restrict access, it can be realized by setting parameters such as IP address and port. a) Forbid access from a certain IP address: iptables -A INPUT -s 192.168.1.1 -j DROP b) Only allow access from a specific IP address: iptables -A INPUT -s 192.168.1.1 -j ACCEPT c) Forbid specific Port access: iptables -A INPUT -p tcp --dport 80 -j DROP d) Only allow access to specific ports: iptables -A INPUT -p tcp --dport 80 -j ACCEPT These are Linux servers using iptables commands It is a basic method for network security protection, but the specific settings in practical applications need to be adjusted accordingly according to the actual situation.