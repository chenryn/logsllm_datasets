devices more than 99.5% of the time. Hence, one-shot measurements are well-suited
for studies that measure always-on devices such as home gateways [6].
We do not observe many more devices by aggregating the results of two scans made
10 minutes apart (85% of pairs of scans would still observe at most half of the home
devices). Only periodic measurements of the home network can observe all the home
devices. We ﬁnd that it takes approximately eight days on average (and a median of
four days) to discover all home devices in the six homes we measured. To alleviate the
lack of periodic measurements, HomeNet Proﬁler’s survey explicitly asks users to list
the devices they typically connect to their home network.
182
L. DiCioccio, R. Teixeira, and C. Rosenberg
4.2 Set of Devices in Home Networks in France
We use the HomeNet Proﬁler data to study the devices that connect to home networks
in France. We infer the number of active devices in a home network by counting MAC
addresses present in the device scan. We remove devices with a MAC address belong-
ing to a virtual device.4 Given that we only have one-shot measurements, we take the
answers to the survey as ground truth for the total number of devices. Although users
may misreport the number of devices in their home, we expect most users to answer
this question correctly.
Fig. 2 shows the cumulative distribution of the number of active devices and the total
number of devices across measured homes as well as the difference for homes where
users selected both measurements (i.e., the number of total minus active devices for each
home). The total number of devices per home ranges between 2 to 29, presenting a much
wider spread than what we observe in our testbed. The range of the number of active
devices, however, is smaller than that of the total number of devices. Approximately
75% of homes have at most four active devices during our measurements. This result is
in agreement with our evaluation that shows that just a small fraction of home devices
are on at any given time. The ‘difference’ curve conﬁrms that many home devices are
not connected when HomeNet Proﬁler runs.
The size of each household (i.e., the number of members living in a household)
may explain the number of devices in a home network. However, some devices such as
printers serve all members of a household. For the 400 homes for which users reported
the size of their household, we ﬁnd that the number of active devices and the size of the
household have a Pearson correlation coefﬁcient of only 0.18. The coefﬁcient increases
to 0.33 when considering the total number of devices and to 0.37 when considering
only laptops and desktops. These results imply that the size of a household does have
a moderate positive correlation with the total number of devices and hence it should be
considered to model the total number of devices in the home.
5 WiFi Neighborhood
This section characterizes the WiFi neighborhood as seen by end-systems at home. We
ﬁrst study the dynamics of the results of WiFi scans in our testbed to evaluate the single
WiFi scan in HomeNet Proﬁler. We then study the WiFi neighborhood of French homes.
5.1 Accuracy of Neighborhood Characterization in One-Shot Measurements
The set of neighbor WiFis can vary considerably even in short time windows (of sec-
onds), because lost WiFi beacons prevent us from inferring the presence of an ESSID-
BSSID pair. We study the short-term dynamics of the WiFi neighborhood of each of
the six homes in two-minute intervals; during each two-minute interval we perform 12
consecutive WiFi scans. We assume that the aggregate set of measured ESSID-BSSID
pairs in the 12 scans represents the complete WiFi neighborhood during the two-minute
interval. 5 Then, we compute the fraction of the WiFi neighborhood observed, which is
4 In our dataset, the OUI for virtual machines are VMWare, Hyper-V, and Parallels.
5 It is practically impossible to get ground truth on the WiFi neighborhood.
Measuring Home Networks with HomeNet Proﬁler
183
i
d
e
v
r
e
s
b
o
d
o
o
h
r
o
b
h
g
e
n
i
F
W
e
h
t
f
o
n
o
i
t
c
a
r
F
i
0
.
1
8
.
0
6
.
0
4
.
0
2
.
0
0
.
0
RSSI bins
Fig. 3. Fraction of the WiFi neighborhood
observed with one scan for different RSSI
bins
s
e
m
o
h
f
o
n
o
i
t
c
a
r
F
0
.
1
8
.
0
6
.
0
4
.
0
2
.
0
0
.
0
Channels:
Any
Overlapping
Same
1
2
5
10
20
50
Number of neighbors ESSID−BSSID pairs (logscale)
Fig. 4. CDF of the number of neighbor
ESSID-BSSID pairs
the number of ESSID-BSSID pairs observed in the ﬁrst scan of a two-minute interval
divided by the number of ESSID-BSSID pairs of the WiFi neighborhood in this interval.
Intuitively, the probability of a WiFi scan to observe an ESSID-BSSID pair will be
lower if the pair has low RSSI. To better understand this effect, we group the ESSID-
BSSID pairs into ten RSSI bins based on the mean RSSI of each pair during a two-
minute interval. We pick bin boundaries at every 10th-percentile of the distribution of
mean RSSI per two-minute interval for all ESSID-BSSID pairs to ensure that every
RSSI bin has 10% of the points. Fig. 3 shows the boxplot of the fraction of the WiFi
neighborhood observed. The x-axis presents the RSSI bins (note that the x-axis is not
linear). Boxes represent the inter-quartile range of the distribution of the fraction of the
WiFi neighborhood observed for ESSID-BSSID pairs in a given RSSI bin; the solid
line inside the box is the median, the whiskers represent the minimum and maximum
values. The 802.11 standards do not specify units for RSSI and each vendor may use
a different scale. All machines in our testbed have the same hardware and software, so
we can aggregate RSSIs from the six machines in our testbed.
Fig. 3 conﬁrms the intuition that ESSID-BSSID pairs with stronger signals are easier
to observe. For example, the leftmost bin shows that half the time, a single WiFi scan
observes no more than 34% of the ESSID-BSSID pairs with RSSI lower than −87,
whereas a single scan is sufﬁcient to observe all ESSID-BSSID pairs with RSSI higher
than −76. One scan is enough to collect all the ESSID-BSSID pairs with strong RSSI
and to frequently get a large fraction of those with lower RSSI. This result implies that
performing a single WiFi scan is a good compromise to speed-up the data collection.
ESSID-BSSID pairs with strong RSSI are more likely to interfere with the home WiFi
and are also the ones that home users could use for backup connectivity, for instance.
5.2 WiFi Neighborhood in France
HomeNet Proﬁler successfully collects WiFi results in 1,131 homes in France. Some
end-systems do not have a WiFi interface or lack support from the OS to run the WiFi
scan. Some WiFi access points broadcast ESSID-BSSID pairs for more than one net-
184
L. DiCioccio, R. Teixeira, and C. Rosenberg
work (e.g., a guest network) and HomeNet Proﬁler anonymizes ESSID-BSSID pairs, so
we cannot tell if two ESSID-BSSID pairs originate from the same WiFi access point.
We consider that all ESSID-BSSID pairs other than the one the end-system is associ-
ated to are neighbor WiFis. In total, aggregating home and neighbor WiFis, we study
7,154 distinct ESSID-BSSIDs.
We focus on the 2.4 GHz band, which is the most used (96% of homes we measured).
When two neighbor WiFis operate on the same or close channels, they might interfere.
We say that two neighbor ESSID-BSSID pairs are overlapping if they are on channels
where numbers differ by 4 or less. Channels 1, 6, and 11 are the non-overlapping chan-
nels in the 2.4 GHz band and hence are recommended for use. In our measurements,
18% of the ESSID-BSSID pairs operate on non-recommended channels. We also no-
tice that 39% of ESSID-BSSID pairs operate on Channel 11. We believe that some ISPs
ship home gateways with hardcoded WiFi conﬁguration.
WiFi neighborhoods are generally crowded in France. Fig. 4 plots the cumulative
distribution of the number of neighbor ESSID-BSSID pairs across all measured homes.
We present three distributions: for all neighbor WiFis; for ESSID-BSSID pairs that
overlap with the home WiFi; and for ESSID-BSSID pairs on the same channel as the
home WiFi. Overall, the number of ESSID-BSSID pairs of the WiFi neighborhood
varies considerably across homes (from 1 to 52 neighbor WiFis) and more than 75%
of homes have an overlapping WiFi neighbor. The actual number of WiFi neighbors is
likely larger because HomeNet Proﬁler misses some WiFi neighbors with low RSSI.
The quality of the home WiFi also depends on the strength of the received sig-
nal. Since end-systems have different WiFi adapters, their RSSI measurements are not
directly comparable. Thus we only compare RSSIs of different ESSID-BSSID pairs
measured on the same end-system. Further, if the home access point broadcasts ESSID-
BSSID pairs for a guest network, then their RSSI will be similar to the RSSI of the
home WiFi. French ISPs offer country-wide community networks with well-known ES-
SIDs. After removing these ESSIDs, we ﬁnd that in 13% of homes, the end-system has
stronger RSSI to a neighbor WiFi that overlaps with the home WiFi. We have high
conﬁdence on this result because our testbed evaluation shows that we always observe
WiFis with strong RSSI and here we are only studying the two strongest WiFis.
6 Conclusion
This paper designs HomeNet Proﬁler, a tool that home users run on an end-system to
measure home networks. HomeNet Proﬁler scans the local network for active devices
and services, observes the WiFi neighborhood, and complements measurements with a
user survey. We design HomeNet Proﬁler as a one-shot measurement tool. Our testbed
results show that one-shot measurements capture practically all always-on devices, but
only a small fraction of on-off devices. As a result, HomeNet Proﬁler’s survey is an
important complement to understand the full set of home devices at a large number of
homes. In addition, the testbed results show that one-shot measurements are sufﬁcient
to capture all WiFi neighbors with strong signal and a signiﬁcant fraction of neighbors
with lower signal. WiFi neighbors with strong signal are more likely to interfere with
the home WiFi or to be useful as backup links. The biggest advantage of this one-shot
approach is that it requires little effort/commitment from users and hence allow us to
Measuring Home Networks with HomeNet Proﬁler
185
reach a large number of users. So far, users have run HomeNet Proﬁler from over 2,400
homes. Our analysis of 1,600 homes in France shows that the number of home devices
vary considerably across homes and that only a small fraction of home devices are
active at any given time. We also ﬁnd that WiFi neighborhoods are crowded in France.
We hope to attract more users in other countries in the near future to perform a larger
scale characterization. We also plan to develop a service to query HomeNet Proﬁler
data online and give an up-to-date view on home networks to the community.
Acknowledgment. We thank all HomeNet Proﬁler users. This work was supported
by the European Community’s Seventh Framework Programme (FP7/2007-2013) no.
258378 (FIGARO). Part of the work presented in this paper was carried out at LINCS
(www.lincs.fr).
References
1. Calvert, K.L., Edwards, W.K., Feamster, N., Grinter, R.E., Deng, Y., Zhou, X.: Instrumenting
Home Networks. In: ACM SIGCOMM HomeNets Workshop (2010)
2. Chetty, M., Banks, R., Harper, R., Regan, T., Sellen, A., Gkantsidis, C., Karagiannis, T., Key,
P.: Who’s Hogging The Bandwidth?: The Consequences Of Revealing The Invisible In The
Home. In: Proc. ACM CHI (2010)
3. Chetty, M., Halsem, D., Baird, A., Ofoha, U., Summer, B., Grinter, R.E.: Why Is My Internet
Slow?: Making Network Speeds Visible. In: Proc. ACM CHI (2011)
4. Choffnes, D.R., Bustamante, F.E., Ge, Z.: Crowdsourcing Service-Level Network Event
Monitoring. In: Proc. ACM SIGCOMM (2010)
5. Croce, D., En-Najjary, T., Urvoy-Keller, G., Biersack, E.: Capacity Estimation of ADSL
links. In: Proc. CoNEXT (2008)
6. DiCioccio, L., Teixeira, R., May, M., Kreibich, C.: Probe and Pray: Using UPnP for Home
Network Measurements. In: Proc. PAM (2012)
7. DiCioccio, L., Teixeira, R., Rosenberg, C.: Characterizing Home Networks With HomeNet
Proﬁler. Technical Report CP-PRL-2011-09-0001, Technicolor (2011)
8. DiCioccio, L., Teixeira, R., Rosenberg, C.: Measuring and Characterizing Home Networks
(Poster). In: Proc. ACM SIGMETRICS (2012)
9. Dischinger, M., Haeberlen, A., Gummadi, K.P., Saroiu, S.: Characterizing Residential Broad-
band Networks. In: Proc. IMC (2007)
10. Dixon, C., Mahajan, R., Agarwal, S., Brush, A., Lee, B., Saroiu, S., Bahl, V.: An Operating
System for the Home. In: Proc. NSDI (2012)
11. Han, D., Agarwala, A., Andersen, D.G., Kaminsky, M., Papagiannaki, K., Seshan, S.: Mark-
and-Sweep: Getting the Inside Scoop on Neighborhood Networks. In: Proc. IMC (2008)
12. Karagiannis, T., Athanasopoulos, E., Gkantsidis, C., Key, P.: HomeMaestro: Order from
Chaos in Home Networks. Technical Report MSR-TR-2008-84, MSR (2008)
13. Kreibich, C., Weaver, N., Nechaev, B., Paxson, V.: Netalyzr: Illuminating the Edge Network.
In: Proc. IMC (2010)
14. Maier, G., Feldmann, A., Paxson, V., Allman, M.: On Dominant Characteristics of Residen-
tial Broadband Internet Trafﬁc. In: Proc. IMC (2009)
15. Papagiannaki, K., Yarvis, M., Conner, W.S.: Experimental Characterization of Home Wire-
less Networks and Design Implications. In: Proc. IEEE INFOCOM (2006)
16. Ritacco, A., Wills, C., Claypool, M.: How’s my Network? A Java Approach to Home Net-
work Measurement. In: ICCCN (2009)
186
L. DiCioccio, R. Teixeira, and C. Rosenberg
17. Siekkinen, M., Collange, D., Urvoy-Keller, G., Biersack, E.W.: Performance Limitations of
ADSL Users: A Case Study. In: Uhlig, S., Papagiannaki, K., Bonaventure, O. (eds.) PAM
2007. LNCS, vol. 4427, pp. 145–154. Springer, Heidelberg (2007)
18. Sundaresan, S., de Donato, W., Feamster, N., Teixeira, R., Crawford, S., Pescap`e, A.: Broad-
band Internet Performance: A View From the Gateway. In: Proc. ACM SIGCOMM (2011)
19. Yang, J., Edwards, W.K.: A Study on Network Management Tools of Householders. In: ACM
SIGCOMM HomeNets Workshop (2010)