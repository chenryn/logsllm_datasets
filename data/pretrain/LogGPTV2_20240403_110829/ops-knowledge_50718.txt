User: How to view all open files in the system through Linux commands? and master how to close unnecessary file descriptors
Assistant: 1. View all open files in the system: Use the command `lsof` to view all open files in the system. `lsof` is an abbreviation for list open files, which lists open files, file descriptors, and process information in the current system. ``` lsof ``` This command will list all open files and related information, including file name, file type, file size, open mode, file path, file descriptor, process ID, process name, etc. 2. Close unnecessary file descriptors: In Linux, each process has some file descriptors (file descriptors), which represent open files, pipes and other resources, and use the descriptors in the process to access these resources. A process can open multiple file descriptors, but the opened file descriptors also need to be released in time to avoid wasting system resources. To close a file descriptor, you can use the `close()` system call, or you can use the `dup2()` system call to copy the file descriptor to another file descriptor and close the original file descriptor. For example, if you want to close the file with file descriptor 3, you can use the following command: ``` close 3 ``` or: ``` dup2(1,3); close(1); ``` Among them, the first The first command closes the file descriptor directly, and the second command copies file descriptor 1 (standard output) to descriptor 3 and then closes descriptor 1. This redirects standard output to a file with file descriptor 3, closing standard output.