∃I
(cid:2)
((cid:10)I1, P1, μ1, Γ1(cid:11),(cid:10)I2, P2, μ2, Γ2(cid:11))
and
Proof. Let
(cid:2) (cid:10)P
(cid:2)(cid:11). Then by Lemma HIGH ¬visiblel(a)
(cid:10)P, μ(cid:11) a
(cid:2) is typable by high. For the same reasons, this can be
and P
simulated by (cid:10)P2, μ2(cid:11) (case (3)) of Bl. Then Hl is a Bl.
B. Main results
Lemma XI.5. If Γ (cid:27) P then (cid:10)I1, P, μ1, Γ(cid:11) ∼ (cid:10)I2, P, μ2, Γ(cid:11)
for Γ (cid:27) μ1 =l μ2 and I1|l = I2|l.
relation Tl
fol-
Proof. We deﬁne
inductively the
lows: A relation Tl
is a symmetric relation on pro-
(cid:10)I1, P1, μ1, Γ1(cid:11)Tl(cid:10)I2, P2, μ2, Γ2(cid:11)
implies
such that
cess
2 st Γ1 (cid:27) μ1 =l μ2 ∧ Γ2 (cid:27) μ1 =l
∃τ
2, Γ(cid:2)
(cid:2)(cid:2)
(cid:2)
1, Γ(cid:2)
(cid:2)
(cid:2)(cid:2)
2, O1, O2.Pi, μi(Ii)(cid:2) (cid:10)I
2, τ
1, τ
1 , τ
μ2 ∧ l|I1
i, Oi(cid:11) and one
= l|I2
∧∃I
(cid:2)
(cid:2)
1, I
of the following holds:
(1)P1 = P2 ∧ Γ1 (cid:27) P1 : L ∧ Γ2 (cid:27) P2 : L
(2)(cid:10)I1, P1, μ1, Γ1(cid:11)Hl(cid:10)I2, P2, μ2, Γ2(cid:11)
(3)P1 = P
(cid:2)∧
(cid:2) ∧ P2 = P
(cid:2)
(cid:2)
1; P
2; P
1, μ1, Γ1(cid:11)Hl(cid:10)I2, P
2, μ2, Γ2(cid:11) ∧ P
(cid:10)I1, P
(cid:2)
(cid:2)
(cid:2) typable by low
We show that Tl is a Bl bisimulation. We prove this by
Let (cid:10)I1, P1, μ1, Γ1(cid:11)Tl(cid:10)I2, P2, μ2, Γ2(cid:11) such that
∧
= l|I2
Γ1 (cid:27) μ1 =l μ2 ∧ Γ2 (cid:27) μ1 =l μ2 ∧ l|I1
induction on Tl.
as
(cid:2)
2, O1, O2.Pi, μi(Ii)(cid:2) (cid:10)I
(cid:2)
i, Oi(cid:11)
(cid:2)
and Γi, τi (cid:27) Pi
: τ
∃I
i , (Γ(cid:2)
(cid:2)
i, τ
(cid:2)
1, I
(cid:2)(cid:2)
i ).
Case (1) We apply Lemma LOW to simulate the step and
are left with
(cid:2)
(cid:2)
1 = P
2 typable
1) P
(cid:2) ∧ P
(cid:2)(cid:2)
(cid:2)(cid:2)
(cid:2)
(cid:2)
1 = P
2 ; P
1 ; P
2 = P
2) P
(cid:2)
such that Γ(cid:2)
(cid:2)
(cid:2)(cid:2)(cid:2)
(cid:2)(cid:2)(cid:2)
2, τ
1, τ
1 , τ
i, τ
τ
(cid:6)(cid:15) l
2
(cid:2)(cid:2)
and τ
i
(cid:2) ∧ P
1 (cid:6)= P
(cid:2)
(cid:2)
2 and exists
i (cid:27) P
(cid:2)(cid:2)
(cid:2)(cid:2)
(cid:2)(cid:2)
(cid:2)(cid:2)(cid:2)
i , (Γ(cid:2)(cid:2)
: τ
i )
i
We then conclude by inductive hypothesis on Tl.
i , τ
Case (2) We conclude by Proposition Hl.
Case (3) We will analyze 4 cases.
, μ1(cid:11) ∗
1(cid:11)
(cid:2)
Subcase
(cid:2)
2; P
, μ2(cid:11) ∗
(cid:2) (cid:10)P
(cid:2) (cid:10)P
(cid:10)P
2(cid:11).
(cid:2)
(cid:2)
1; P
, μ
, μ
(cid:2)
(cid:2)
(cid:2)
(cid:2)
(cid:10)P
and
513
(cid:2)
(cid:2)
(cid:2)
(cid:2)(cid:2)
st
and
∀P
(cid:2)(cid:2) (cid:6)= P
Hl.
∀P
We conclude by induction on Tl using the hypotheses of
, μ1(cid:11) ∗
(cid:2)(cid:2) st (cid:10)P
1(cid:11) then P
(cid:2) (cid:10)P
Subcase ∀P
(cid:2)
(cid:2) and
(cid:2)
(cid:2)(cid:2)
(cid:2)
1; P
, μ
, μ2(cid:11) ∗
2(cid:11) then P
(cid:2)(cid:2) st (cid:10)P
(cid:2) (cid:10)P
(cid:2)(cid:2) (cid:6)= P
(cid:2)
(cid:2)
(cid:2)(cid:2)
(cid:2)
(cid:2).
2; P
, μ
We conclude by Hl.
, μ1(cid:11) ∗
(cid:10)P
1(cid:11)
(cid:2) (cid:10)P
(cid:2)
(cid:2)
(cid:2)
(cid:2)
1; P
Subcase
, μ
, μ2(cid:11) ∗
2(cid:11) then P
(cid:2) (cid:10)P
(cid:2)(cid:2) (cid:6)= P
(cid:10)P
(cid:2)
(cid:2).
(cid:2)
(cid:2)(cid:2)
2; P
, μ
We will show that this case is not possible. By hypothesis
, μ2(cid:11) ∗
(cid:10)P
(cid:2) (cid:10)P
2(cid:11), we know that P
(cid:2)(cid:2)
(cid:2)
(cid:2)
(cid:2)
2; P
2 must contain a
, μ
while. Moreover, this while branches on a high variable since
, μ1(cid:11) ∗
we have (cid:10)P
1(cid:11). Since P
(cid:2) (cid:10)P
(cid:2)
(cid:2)
(cid:2)
(cid:2)
1; P
2 is typed as high
by hypothesis of Hlthen by rule of while, its effect is also
(cid:2) should be typable
high. Then by Lemma HIGH EFFECT P
as high, but this contradicts the hypothesis of case 3 of Tl.
1(cid:11) then P
(cid:2) and
(cid:2)
(cid:10)P
Lemma XI.6. Let I1|l = I2|l and Γ (cid:27) μ1 =l μ2. If
(cid:10)I1, P, μ1, Γ(cid:11) ∼ (cid:10)I2, P, μ2, Γ(cid:11) then P is ITSNI.
Proof. We will prove that: If (cid:10)I1, P1, μ1, Γ(cid:11) ∼ (cid:10)I2, P2, μ2, Γ(cid:11)
1, O1(cid:11)
(cid:2)
and P2, μ2(I2)(cid:2) (cid:10)I
then I
2|l ∧ O1|l = O2|l where P1, μ1(I1)(cid:2) (cid:10)I
(cid:2)
1; P
2(cid:11). Symmetric to previous case.
(cid:2)
Subcase ∀P
, μ2(cid:11) ∗
(cid:2)
2; P
(cid:2)(cid:2) st (cid:10)P
(cid:2) (cid:10)P
(cid:2)
, μ
, μ1(cid:11) ∗
1|l = I
(cid:2)
2, O2(cid:11).
(cid:2)
(cid:2)(cid:2) (cid:6)= P
(cid:2) (cid:10)P
, μ
, μ
(cid:2)(cid:2)
programs P1, P2.
We will prove this by coinduction on the behaviour of two
1, O1(cid:11)
(cid:2)
2|l ∧ O1|l = O2|l where P1, μ1(I1)(cid:2) (cid:10)I
1|l = I
(cid:2)
(cid:2)
(cid:2)
(cid:2)
(cid:2)
If I
and P2, μ2(I2)(cid:2) (cid:10)I
2, O2(cid:11)
(cid:2)
Case P 1 and P2 are in the ﬁrst case of the bisimulation
and:
(cid:2)
i(ch) = ai : I
Subcase a1 is an input event. Then by deﬁnition of be-
2 |l.
(cid:2)(cid:2)
haviour I
This follows by deﬁnition of equality of streams and we
conclude.
(cid:2)(cid:2)
i (ch). We have to show I
1 |l = I
(cid:2)(cid:2)
(cid:2)
i(ch) = ai : O
Subcase a1 is an output event. Then by deﬁnition of be-
2|l.
(cid:2)(cid:2)
haviour O
This follows by deﬁnition of equality of streams and we
conclude.
(cid:2)(cid:2)
i (ch). We have to show O
1|l = O
(cid:2)(cid:2)
Case P1 and P2 are in the second case of the bisimulation:
Subcase P1 is terminated and P2 is not terminated. By
second case of the bisimulation we have that P2 makes step
with an event not visible. If it is an input event, then by
(cid:2)(cid:2)
2 (ch) and we have
deﬁnition of behaviour I
1|l = [] . We have to prove that I
2 |l. This
(cid:2)
(cid:2)(cid:2)
that I
2 |l by coinductive hypothesis
(cid:2)(cid:2)
follows because I
and (cid:6)= visiblel(a2) and we conclude.
(cid:2)
2(ch) = a2 : I
1|l = a2 : I
(cid:2)
1|l = I
(cid:2)
Subcase P2 is terminated and P1 is not terminated. Sym-
metrical to the previous case.
Subcase P2 and P1 are not terminated. We apply a similar
reasoning than the previous subcase to both P1 and P2.
Subcase P2 and P1 are both terminated. We conclude by
hypothesis.
Theorem VII.1 (Soundness). If Γ (cid:27) P then P is ITSNI.
Proof. Direct by Lemma XI.5 and Lemma XI.6.
Authorized licensed use limited to: IEEE Xplore. Downloaded on March 18,2021 at 12:28:58 UTC from IEEE Xplore.  Restrictions apply.