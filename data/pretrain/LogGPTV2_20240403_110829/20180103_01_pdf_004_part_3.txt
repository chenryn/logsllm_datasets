Analyzing data with Saiku Server 32
4.1.1 Data visualization
Saiku will open in the web browser you have selected (Chrome or Firefox) in your Collect Earth properties.
To begin querying and visualizing Collect Data, click the dropdown arrow under Cubes in the left-hand panel
and select Plot.
The full set of Collect Earth data fields will appear in the left panel and the Saiku toolbar will be colored in
and ready to use. Collect Earth data cubes are contained within folders. The folders listed under Dimensions
contain data that the Collect Earth user has manually entered. Click a folder once to open or close it. To
begin using data for a query, you can either click on the cube with the title that matches the folder name, or
click on the cube and drag it to the Columns, Rows or Filter field.
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 33
The folders listed under Measures contain Collect Earth metadata, which the user has not entered (with the
exception of Year of change data).
The average, minimum and maximum elevation data are assigned to each plot after the grid is established,
and before the user enters land use data in Collect Earth. The elevation data is derived from the United
States Geological Survey Shuttle Radar Topography Mission dataset, which is freely available at a 90 meter
spatial resolution.
Plot count is calculated in the database. The plot total includes plots with data that have been (actively)
submitted and saved in Collect Earth, as well as plots with data that have been entered but not successfully
submitted. For example, an incomplete form where the user has not entered all of the required data will be
passively saved by Collect Earth. Data from the form will be available to use within Saiku if no other data for
the plot has already been actively submitted.
In the example below, there is a column for each land use category, and the number of plots assigned to
each category in Collect Earth are listed in the first row of the table.
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 34
The side tool bar contains functions for quickly visualizing data in different formats. The default options
when visualizing data in table mode allows you to…
add a spark bar at the end of each row,
add a spark line,
or calculate basic statistics.
Calculating basic statistics is useful when working with two or more data series. Add Region to the Rows
field, beside Plot count. Notice that a row has been added for each region and the number of plots for each
land use category is listed by region.
Plot count is always the default
measurement. If any other cubes
are placed in the Rows field, Plot
count can be removed and the
values will remain the same.
In the example on the left, each
land use category has a data series
representing the distribution of
plots throughout the various
regions.
Basic statistics are provided for
each data series (column).
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 35
Bar chart
Stacked bar chart
100% Bar chart
There are numerous options for viewing Saiku data in chart mode. Multiple bar chart
Line
Area
Heat grid
Dot chart
Waterfall chart
Pie chart
Bar chart
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 36
Stacked bar chart
100% Bar chart
Saiku charts are interactive. Scroll over a chart to closely inspect any element.
Bar chart Stacked bar chart 100% Bar chart
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 37
Other chart options include…
Multiple bar chart
Line graph
Area graph
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 38
Heat grid
Tree map
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 39
Dot chart
Waterfall chart
Pie chart
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 40
4.1.2 Filtering data
There are numerous ways to filter data in Saiku. Data can be filtered before and during a query. Data can
also be filtered after running a query, while viewing results in Saiku’s interactive tables and charts.
Filtering data in a query
Example: Number of deforested plots per land use category
Deforested plots are those that were initially forest, but now belong to a different land use category. Start
by selecting the non-forest land use categories. Move the land use category cube to the columns field and
click on the filter icon (the magnifying class).
Select the members, the land use categories in this case, that you wish to use. Move them to the column on
the right. To select multiple members, hold the Control key.
Moves one item or all selected items right. Moves all members to the column on the right.
Click OK to save the filter settings.
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 41
Drag the Initial land use cube to the filter field. The filter window will immediately pop up.
Move Initially Forest to the column on the right
Click OK and view the results.
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 42
You can obtain the same results by filtering after running the query.
Remove all of the data cubes. Add Category in the columns field and Initial Land Use in the Rows field. Click
on Initially Forest and select Keep Only.
Click on Initially Forest again, and select Remove Filter to return to the original table.
Use the filter tool within the cube to remove the forest land use category. (With forest that has remained
forest removed from the query, we can focus on deforestation.)
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 43
View the query results as a bar chart. Every item in the table can be selected, including the colored boxed
and the data series names in the legend.
Click on the blue box for forest
in the legend to display only
forest data.
Re-render
the chart.
Click on the Forest data series
title to only remove forest data
from the chart.
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 44
4.1.3 Saving and opening queries
V
CS
o
Nn xt mode
que Sry quer Ry que Er dy query query Automatic ie dx ee c pu at ri eo n t os n-empt Sy axis MX ZD into Qt ua eb rl ye sce Dn ra ilr li to hrou Dg rih o tn rc oel ul Eg xh oo rn c Xe Lll S CS EV PD SF to MXD
Open ave eset it Run wap Show oom l l h p t port xport witch
H E
The main Saiku tool bar includes common function such as saving and opening queries.
To save, type the new
file name and click save.
When using Saiku Server
in the default mode, the
saved queries will only
be viewable by you. If
you are connected to a
common Saiku Server,
saved queries will be
viewable by everyone.
The window for opening
queries is almost
identical to the window
for saving queries. Type
keywords in the search
field to filter the list of
your queries. Then
double-click on a query
title to open it.
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 45
4.1.4 Export options
V
CS
o
Nn xt mode
D Oa pet na q ut ea Sry ab vl e e qs u ec r Rya esn et b que e Er dye it x qp ueo ryr Rt ue n d qu ei rn y uM toi mc atr ico ie ds x eo e c pf u att ri eoE n t ox s nc -ee ml p, t SC y waS p V a xia s Sn hd ow P MD X ZDF ofo m ir ntm o Qt ua a ebt rl ys e s. c e Dn ra ilr li to hrou Dg rih l l o tn h rc oel ul Eg xh p oo rn t c Xe Lll S port CS EV xport PD SF witch to MXD
A H o E
Charts can be exported in SVG, PNG, PDF and JPEG formats (listed in order of file size, from small to large).
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 46
4.1.5 Sample queries for land use, land use change and forest (LULUCF) monitoring
Plot counts by land use sub-category
Land use category plot counts by province (table mode)
Land use category plot counts by province (charts mode)
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 47
Forest composition (pie chart)
Filter land use categroy to only display forest.
Forest composition (bar chart)
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 48
Fire occurrence over time
Composition of deforested land by region (table mode)
Composition of deforested land by region (pie chart)
Volume II: Collect Earth User Manual for Windows OS
Analyzing data with Saiku Server 49
Land use change classification uncertainty levels (table mode)
Land use change uncertainty levels (pie chart)
Volume II: Collect Earth User Manual for Windows OS
Processing geospatial data with QGIS 50
5 Processing geospatial data with QGIS
5.1 Installation and setup of QGIS
Visit the Open Source Geospatial Foundation website to download QGIS along with many supplementary
packages that can be utilized through the software. Download the OSGeo4W installed for 32bit of 64bit.
While running the installed, select the Express Install option and choose the packages to install. Once the
installation is complete, you can launch the program from the Start Menu.
Volume II: Collect Earth User Manual for Windows OS
Processing geospatial data with QGIS 51
5.2 Exporting vector files to Google Earth and Google Earth Engine
It may be useful to refer to existing data while assessing current and
historic land use. Vector files (points, lines and polygons) can be
converted from ESRI compatible shapefiles and other format to
KMLs, which can be viewed in Google Earth or imported into Earth
Engine via Google Fusion Tables.
Click on the vector icon in the left-hand panel to add a vector layer
to your data frame in QGIS.
Right-click on the layer and select Save as.
Select the KML
format, which
can be viewed in
Google Earth
while assessing
land use with
Collect Earth.
See sections
6.1.1 and 6.1.2
for guidance on
viewing KML files
in Google Earth
Engine.
Volume II: Collect Earth User Manual for Windows OS
Processing geospatial data with QGIS 52
5.3 Exporting raster files to Google Earth
Raster data (with pixels) and can also be imported into Google Earth to support land use assessment. See
section 3.2.7 for guidance on importing maps and images without a spatial reference system directly into
Google Earth as image overlays. For other types of raster data, QGIS and a plugin called GarthEViewer can
convert rasters into Google Earth overlays through a simple process that retains their geographic
positioning.
Click on the raster icon in the left-hand panel to
add a raster layer to your data frame in QGIS.
Under the Plugins menu, click on Manage and
Install Plugins.
Search for and
install a plugin
called GEarthView.
Click on the GEarthView icon in the toolbar and select GEarthView from the options below to export a
snapshot of your QGIS data frame to Google Earth.
Volume II: Collect Earth User Manual for Windows OS
Processing geospatial data with QGIS 53
Everything that
this visible in
QGIS as one
overlay.
Although
vector files can
also be
exported with
this tool,
importing
vectors as
KMLs enables
more flexibility
in visualization.
The resolution
of rasters will
vary based on
the scale of the
QGIS data
frame. This
30m resolution
raster is blurry
when exported
from at a
1:25,000,000
scale.
1:2,000,000
Scale in QGIS
when exported
with
GEarthView
Volume II: Collect Earth User Manual for Windows OS
Processing geospatial data with QGIS 54
1:200,000
Scale in QGIS
when exported
with
GEarthView
Volume II: Collect Earth User Manual for Windows OS
Processing geospatial data with QGIS 55
5.4 Creating a sampling grid for Collect Earth
The following section reviews the process for creating a grid in decimal degrees using South Africa as an
example. Many countries use a coarse or medium scale 1° x 1° or 0.05° x 0.05° grids. Where specific
geographic areas (e.g. small administrative areas or land use strata) with relatively small spatial extents exist,
a country may choose to stratify their sampling apply a smaller grid in certain areas.
According to South Africa’s 2006 vegetation survey, natural forest areas occupy less than 2% of total land
area. In the section below, a fine scale 0.01° x 0.01° grid is created for forest areas, which are under-
represented in South Africa’s coarser, wall-to-wall grid.
There are eight steps to creating a grid compatible with Collect Earth. For most versions of Collect Earth,
administration boundary and elevation data are required inputs. Boundaries for a specific area of interest or
land use strata can also be used.
The objective is to create a csv file with six basic attributes that are required to use the file in Collect Earth:
plot ID number, latitude, longitude, elevation, slope and aspect. In Collect Earth South Africa, province
name, biome code, biome type, forest type, forest group and bioregion are also required columns.
However, if these extra attributes are not available, the columns may be left blank.
Volume II: Collect Earth User Manual for Windows OS
Processing geospatial data with QGIS 56
5.4.1 Identify the spatial extent for the grid
Country boundaries and spatial data for lower administrative levels can be used to define the spatial extent
for the grid. A global dataset of administrative boundaries is available on the GADM website
(http://www.gadm.org/). Spatial data can be downloaded in shapefile, KMZ and other formats.
More accurate spatial data may be available from official government agencies. Spatial data of South Africa
is provided by the Municipal Demarcation Board.
Open the administrative boundary layer in QGIS. Right click on the layer and select properties.
Volume II: Collect Earth User Manual for Windows OS
Processing geospatial data with QGIS 57
In the left sidebar, click on
Metadata, the last option.
Check the spatial reference
system of the layer. This will
determine the units of
measurement used for the
grid.
This layer for South Africa is in
WGS 84 datum with no
projection specified. The grid
created in WGS 84 will use
decimal degrees as its unit of
measurement.
Copy the spatial extent of the layer and paste it in
Notepad.
Click cancel to escape the metadata window. Explore the spatial extent in the map frame by moving the
mouse over the layer and observing the changes in the coordinates at the bottom of the QGIS window.
x x
m m
y max ni xa
y min