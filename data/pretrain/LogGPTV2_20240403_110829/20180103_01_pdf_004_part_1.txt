Collect Earth 1.1.1 User Manual
A guide to monitoring land use change and
deforestation with free and open-source software
Copies of FAO-Open Foris Initiative publications Open Foris Initiative
can be requested from Food and Agriculture Organization of the United Nations
Viale delle Terme di Caracalla - 00153 Rome, Italy
E-mail: PI:EMAIL
Web site: www.openforis.org
Collect Earth User Manual
A guide to monitoring land use change and deforestation
with free and open-source software
Autors: Adia Bey, Alfonso Sanchez-Paus Diaz, Anssi Pekkarinen, Chiara Patriarca, Danae Maniatis, Daniel
Weil, Danilo Mollicone, Giulio Marchi, Juho Niskala, Marcelo Rezende, Stefano Ricci.
Forestry Department, Open Foris Initiative
Food and Agriculture Organization of the United Nations
June 2015
Acknowledgements iv
Acknowledgements
Collect Earth was developed under the auspices of the National Forest Monitoring and Information Systems
(NFMIS) project to promote transparent and truthful REDD+ processes. The authors wish to thank the Food
and Agriculture Organization of the United Nations, the German Federal Ministry for the Environment,
Nature Conservation and Nuclear Safety and the International Climate Initiative for their generous support
for this project. Through the NFMIS project, the authors partnered with eighteen countries to deploy Collect
Earth to address their land use monitoring needs. The United Nations Programme on Reducing Emissions
from Deforestation and forest Degradation (UN REDD) has enabled an additional three countries to
participate in the project. The early feedback received from Papua New Guinea Forest Authority, country x
and country y i was particularly useful for improving Collect Earth. The authors would also like to thank
Algeria, Argentina, Bhutan, Brazil, Chile, Colombia, Fiji, Ghana, Kyrgyzstan, Lao People's Democratic Republic,
Mongolia, Morocco, Mozambique, Peru, Philippines, South Africa, Tajikistan, Thailand, Tunisia, Uruguay,
Zambia for a fruitful collaboration.
Collect Earth is a product within the Open Foris software suite. The authors are honored to be a part of the
Open Foris Initiative, which was launched by the FAO-Finland Technical Cooperation program to develop
free and open source tools for forest monitoring. The Open Foris and UN REDD teams constitute a
formidable selection of software developers, geospatial analysts and foresters with decades of land use
monitoring experience worldwide. Their insightful suggestions have been invaluable. The Collect Earth team
would like to thank the following individuals, in particular, for their contributions: … ii
Acronyms v
Acronyms
API Application Programming Interface
AVHRR Advanced Very High Resolution Radiometer
CGIAR-CSI Consultative Group on International Agricultural Research, Consortium for Spatial
Information
EC European Commission
EVI Enhanced Vegetation Index
FAO Food and Agriculture Organization of the United Nations
GEE Google Earth Engine
GPS Global Positioning System
IDE Integrated Development Environment
IPCC Intergovernmental Panel on Climate Change
IPCC Intergovernmental Panel on Climate Change
LAI Leaf Area Index
LUCAS European Commission’s Land Use/Cover Area frame Survey
LULUCF Land use, land use change and forestry
MODIS Moderate-resolution Imaging Spectroradiometer
NASA National Aeronautics and Space Administration
NDVI Normalized Difference Vegetation Index
NDWI Normalized Difference Water Index
NOAA National Oceanic and Atmospheric Administration
PNG? Papua New Guinea
REDD Reducing Emissions from Deforestation and forest Degradation
RS Remote Sensing
SRTM Shuttle Radar Topography Mission
TOA Top of Atmosphere
UNEP United Nations Environmental Program
UNFCCC United Nations Framework Convention on Climate Change
USGS United States Geological Survey
vi
Contents
Acknowledgements ............................................................................................................................................. iv
Acronyms .............................................................................................................................................................. v
1 Introduction to Collect Earth and its supporting software ......................................................................... 1
1.1 Collect Earth system architecture ....................................................................................................... 1
1.2 Collect Earth system maintenance ...................................................................................................... 3
2 Getting started ............................................................................................................................................ 4
2.1 Installation and setup of Collect Earth ................................................................................................ 4
2.2 Setting up Google Earth ....................................................................................................................... 8
3 Assessing land use and land use change ................................................................................................... 10
3.1 Land use sampling with Collect Earth ................................................................................................ 11
3.1.1 Adding Collect Earth data files .................................................................................................. 12
3.1.2 Entering land use data ............................................................................................................... 15
3.1.3 Modifying the plot layout .......................................................................................................... 17
3.1.4 Exporting Collect Earth data ...................................................................................................... 18
3.1.5 Backing up Collect Earth data .................................................................................................... 18
3.2 Navigating and organizing with Google Earth ................................................................................... 19
3.2.1 Optimizing the data view ........................................................................................................... 19
3.2.2 Finding plots .............................................................................................................................. 19
3.2.3 Improving navigation ................................................................................................................. 20
3.2.4 Measuring distance ................................................................................................................... 21
3.2.5 Viewing historical imagery ........................................................................................................ 22
3.2.6 Exporting images ....................................................................................................................... 23
3.2.7 Adding overlays ......................................................................................................................... 24
3.2.8 Saving KMZ files ......................................................................................................................... 26
3.3 Exploring new perspectives with Bing Maps ..................................................................................... 27
3.4 Visualizing imagery with Google Earth Engine .................................................................................. 27
4 Analyzing data with Saiku Server............................................................................................................... 31
4.1.1 Data visualization....................................................................................................................... 32
4.1.2 Filtering data .............................................................................................................................. 40
4.1.3 Saving and opening queries ....................................................................................................... 44
4.1.4 Export options ........................................................................................................................... 45
4.1.5 Sample queries for land use, land use change and forest (LULUCF) monitoring ...................... 46
vii
5 Processing geospatial data with QGIS ....................................................................................................... 50
5.1 Installation and setup of QGIS ........................................................................................................... 50
5.2 Exporting vector files to Google Earth and Google Earth Engine ...................................................... 51
5.3 Exporting raster files to Google Earth ............................................................................................... 52
5.4 Creating a sampling grid for Collect Earth ......................................................................................... 55
5.4.1 Identify the spatial extent for the grid ...................................................................................... 56
5.4.2 Create a basic grid with round numbers ................................................................................... 58
5.4.3 Reduce the grid layer to only the areas of interest ................................................................... 61
5.4.4 Add coordinates to the grid’s attributes table .......................................................................... 63
5.4.5 Acquire SRTM digital elevation data ......................................................................................... 65
5.4.6 Derive slope and aspect data from digital elevation data ......................................................... 68
5.4.7 Add elevation, slope and aspect data to the grid ...................................................................... 70
5.4.8 Format the grid as a CSV compatible with Collect Earth ........................................................... 74
6 Synergies between the Collect Earth sampling and Wall-to-Wall mapping .............................................. 78
6.1 Preparing vector data in Google Fusion Tables ................................................................................. 78
6.1.1 Importing Collect Earth data into Google Fusion Tables ........................................................... 78
6.1.2 Importing KMLs into Google Fusion Tables ............................................................................... 84
6.2 Getting started with Google Earth Engine ......................................................................................... 85
6.3 Google Earth Engine (GEE) API playground ....................................................................................... 86
6.3.1 Vegetation Indices ..................................................................................................................... 86
6.3.2 Creating a sampling grid for Collect Earth using GEE API code editor ...................................... 89
6.4 Collect Earth data as training sites for a supervised classification .................................................... 94
6.4.1 Add Collect Earth vector data .................................................................................................... 94
6.4.2 Add raster data (Landsat and MODIS) ....................................................................................... 97
6.4.3 Extract and apply the water mask ............................................................................................. 98
6.4.4 Extract the area of interest ...................................................................................................... 100
6.4.5 Train a classifier ....................................................................................................................... 102
6.4.6 Train a classifier and display results ........................................................................................ 103
6.4.7 Review classification results .................................................................................................... 104
6.4.8 Exporting results ...................................................................................................................... 106
6.4.9 Saving and sharing results ....................................................................................................... 107
7 Advanced Collect Earth functionalities.................................................................................................... 107
7.1 Application and data folder ............................................................................................................. 107
7.2 Importing a KML with placemarks ................................................................................................... 108
viii
7.2.1 Creating a .kml file in Google Earth ......................................................................................... 108
7.2.2 Importing a .kml file to Collect Earth ....................................................................................... 111
7.3 Find plots not yet assessed .............................................................................................................. 112
7.3.1 Preparations ............................................................................................................................ 112
7.3.2 Importing the missing plots into Collect Earth ........................................................................ 113
7.4 Printing out the application log ....................................................................................................... 114
7.5 Updating Collect Earth ..................................................................................................................... 114
7.5.1 Updating automatically ........................................................................................................... 114
7.5.2 Updating manually .................................................................................................................. 115
7.6 Updating data on plots already collected ....................................................................................... 116
7.7 Setting up a PostgreSQL database ................................................................................................... 117
7.7.1 Install PostgreSQL .................................................................................................................... 117
7.7.2 Configure the Database ........................................................................................................... 118
7.7.3 Set up Collect Earth ................................................................................................................. 119
Introduction to Collect Earth and its supporting software 1
1 Introduction to Collect Earth and its supporting software
Collect Earth is a user-friendly, Java-based tool that draws upon a selection of other software to facilitate
data collection. The following training materials include guidance on the use of Collect Earth and most of its
supporting software. This information is also available online and in video format at www.openforis.org.
Documentation on the more technical components of the Collect Earth system (including SQLite and
PostgreSQL) is available on the Collect Earth Github page.1 Collect Earth runs on Windows, Mac and Linux
operating systems.
1.1 Collect Earth system architecture
Collect Earth
Collect Earth uses a Google Earth interface in conjunction with an HTML-based data entry form. Forms can
be customized to suite country-specific classification schemes in a manner consistent with guidelines of the
Intergovernmental Panel on Climate Change (IPCC), the European Commission (EC), the Food and Agriculture
Organization of the UN and other international entities. The default Collect Earth form contains IPCC-
consistent land use categories and sub-categories with land use sub-divisions from the European
Commission’s Land Use/Cover Area frame Survey (LUCAS).2 For guidance on creating new customizations of
the Collect Earth data entry form, visit the Collect Earth GitHub page. Chapter 3 explains the process of
reviewing satellite imagery, assessing land use and land use change, and assigning attributes to sampling
points through the Collect Earth data form.
1 Open Foris - Collect Earth: https://github.com/openforis/collect-earth.
2 LUCAS - Land use and land cover survey: http://epp.eurostat.ec.europa.eu/portal/page/portal/lucas/introduction.
Volume II: Collect Earth User Manual for Windows OS
Introduction to Collect Earth and its supporting software 2
Google Earth, Bing Maps and Google Earth Engine (visualization of satellite imagery)
Collect Earth facilitates the interpretation of high and medium spatial resolution imagery in Google Earth,
Bing Maps and Google Earth Engine. Google Earth’s virtual globe is largely comprised of 15 meter resolution
Landsat imagery, 2.5m SPOT imagery and high resolution imagery from several other providers (CNES, Digital
Global, EarthSat, First Base Solutions, GeoEye-1, GlobeXplorer, IKONOS, Pictometry International, Spot
Image, Aerometrex and Sinclair Knight Merz). Microsoft’s Bing Maps presents imagery provided by Digital
Globe ranging from 3m to 30cm resolution. Google Earth Engine’s web-based platform facilitates access to
United States Geological Survey 30m resolution Landsat imagery. Collect Earth synchronizes the view of
each sampling point across all three platforms.
The imagery used within Google Earth, Bing Maps and Google Earth Engine differ not only in their spatial
resolution, but also in their temporal resolution. Collect Earth enables users to enter data regarding current
land use and historical land use changes. Users can determine the reference period most appropriate for
their land use monitoring objectives. The IPCC recommends a reference period of at least 20 years based on
the amount of time needed for dead organic matter and soil carbon stocks to reach equilibrium following
land-use conversion.3 Most of the imagery available in Bing Maps and Google Earth have been acquired at
very irregular intervals over the past 10 years. In contrast, Earth Engine contains over 40 years of imagery
that has been acquired every 16 days. The description of how to use Collect Earth in Chapter 3 includes
guidance on navigating the strengths and weakness of these three imagery repositories to develop a more
complete understanding of land use, land use change and forestry in a given site.
SQLite and PostgreSQL
The data entered in Collect Earth is automatically saved to a database. Collect Earth can be configured for a
single-user environment with a SQLite database. This arrangement is best for either individual users or for
geographically disperse team. A PostgreSQL database is recommended for multi-user environments,
particularly where users will work from a shared network. The PostgreSQL configuration of Collect Earth
facilitates collaborate work by allowing users to see in real time when new data has been entered. It also
makes it easier for an administrator to review the work of others for quality control purposes.
Saiku Server
Both types of databases automatically populate Saiku Server, an open-source web-based software produced
by Meteorite consulting. A version of this open-source software has been customized for visualizing and
analyzing Collect Earth data. Countries using Collect Earth for a national land use assessment may generate
data in Collect Earth for tens of thousands of points. Saiku organizes this wealth of information and enables
users to run queries on the data and immediately view the results in tabular format or as graphs. Chapter 4
explains how Saiku users to can quickly identify trends and prepare inputs for LULUCF reporting to the
UNFCCC and other entities involved in the sector.
Google Earth Engine (image processing and analysis)
Collect Earth facilitates land use assessment through a sampling approach rather than wall-to-wall mapping.
However, land use data (point vector files) generated with Collect Earth can be used as training sites for wall-
3 IPCC (2006) Guidelines for National Greenhouse Gas Inventories. Volume 4: Agriculture, Forestry and Other Land Use,
Chapter 3: Consistent Representation of Lands.
Volume II: Collect Earth User Manual for Windows OS
Introduction to Collect Earth and its supporting software 3
to-wall image classifications. Chapter 6 reviews the procedure for using Collect Earth data to conduct a
supervised (wall-to-wall) classification in Google Earth Engine.
QGIS
QGIS is a free and open-source geographic information system that can be used to process data that can
support the land use classification process. Where existing land use or land cover data is available in a
spatial format, users can convert vector (points, line, polygons) and raster (images) data into KML files that
can be viewed in Google Earth during a land use classification with Collect Earth. KML files are also
compatible with Google Fusion Tables and can be imported into Google Earth Engine.
Chapter 5 provides instructions on converting spatial data and also creating a sampling grid. A default,
coarse (5km x 5km) grid of sampling points is available for download on the Collect Earth website. However,
a medium or a fine scale grid comprised of more points is recommended for a full and robust LULUCF
assessment for a country or sub-national project site. Chapter 5 explains the process of generating a
sampling grid and populating its attributes table to ensure compatibility with Collect Earth.
1.2 Collect Earth system maintenance
Collect Earth is continuously being improved. The software and its various components (Java, Google Earth,
etc) will need to be updated as new releases become available. The Collect Earth development team will
notify users of future releases and recommended upgrades through the Collect Earth website, its GitHub
page and through the Collect Earth users’ network. Visit the Collect Earth website to subscribe to the
network’s listserv.4
4 Collect Earth user network registration page: ADD LINK
Volume II: Collect Earth User Manual for Windows OS
Getting started 4
2 Getting started
2.1 Installation and setup of Collect Earth
Collect Earth and most of its supporting software (Java Runtime Environment, Java Development Kit and
Saiku Server) have been bundled together in a single installer. A basic version of the software can be
downloaded from the Collect Earth webpage.
Double-click on the installer and follow to following the instructions to complete the installation process.
English is the default language. Collect Earth
Spanish and French versions are also available.
Accept the license
agreement and click
Next.
Volume II: Collect Earth User Manual for Windows OS
Getting started 5
Click next to install Collect Earth on your
C drive, or click on the folder icon to
browse to and select an alternate
location.
Click next here and on the subsequent
window to begin the installation.
This window will appear when the
installation is complete. Click finish.
Depending upon your computer’s firewall settings, a security warning may pop up. If so, Click Allow access.
Volume II: Collect Earth User Manual for Windows OS
Getting started 6
Once installed, click on the Collect Earth Launcher in the Windows Start Menu to launch the application.
Click on the main Collect Earth control window to begin adjusting the settings. Begin with the Operator. An
operator is a person who will enter or edit data in the Collect Earth system. Data can by filtered by operator
name. Type an operator name that is between 6 and 50 characters long. Then click Update.
Click on the Tools tab up top and select Properties.
Volume II: Collect Earth User Manual for Windows OS
Getting started 7
Several important settings can be adjusted under the advanced tab.
Make sure that the boxes are checked to
 automatically back-up the database,
 open Earth Engine zoomed into the
plot area, and
 open Bing maps.
Optional settings
 Select your preferred web
browser
 Navigate to the browser’s
executable file.
The language settings can also be
adjusted under the Tools tab.
Volume II: Collect Earth User Manual for Windows OS
Getting started 8
2.2 Setting up Google Earth
Visit the Google Earth website to download the latest version of Google Earth. Accept Google Earth’s privacy
agreement and download the installer. Double-click on the file to install Google Earth.
Click on the Google Earth window to begin adjusting the settings. Click on the Tools tab and select Options.
Volume II: Collect Earth User Manual for Windows OS
Getting started 9
The language settings can be adjusted under the General tab. Google Earth is available in English, French,
Spanish and other languages.
You may also want to adjust the Fly-to-Speed and Navigation settings.
Speeding up the Fly-to-Speed will
slightly reduce the time it takes to
zoom to a plot.
It is easier to view land use if Google
Earth does not tilt when zooming to
a plot.
Click OK to save the settings.
Volume II: Collect Earth User Manual for Windows OS
Assessing land use and land use change 10
3 Assessing land use and land use change
3.1 3.2 3.3 3.4
Collect Earth Google Earth Bing Maps Google Earth Engine
The following chapter reviews the steps for assessing land use with Collect Earth and its supporting software:
Google Earth, Bing Maps and Google Earth Engine. The diagram below provides an overview of the key
steps that enable users to benefit from the strengths of each software.
Volume II: Collect Earth User Manual for Windows OS
Assessing land use and land use change 11
3.1 Land use sampling with Collect Earth
3.1 3.2 3.3 3.4
Collect Earth Google Earth Bing Maps Google Earth Engine
Land use classification schemes can vary greatly by country or program. Several country-specific versions of
Collect Earth software have been configured, as well as versions consistent with leading international
guidelines (e.g. IPCC, Food and Agriculture Organization Forest Resources Assessment, etc.). The following
manual uses the Papua New Guinea Collect Earth version as an example for exploring the basic functionality
of the software and its supporting tools. To browse other available versions of Collect Earth and to view the
underlying land use classification scheme of each, please visit the Collect Earth website.
Launch Collect Earth by navigating to the Collect
Earth folder and double-clicking on the batch file
entitled Click_to_run_Collect_Earth.
In the main Collect Earth window, type in your
operator name. Then click Update.
Remember to use a consistent operator name that
is between 6 and 50 characters long.
Volume II: Collect Earth User Manual for Windows OS