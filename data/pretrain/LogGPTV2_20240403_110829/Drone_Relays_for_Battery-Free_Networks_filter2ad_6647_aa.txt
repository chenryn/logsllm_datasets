title:Drone Relays for Battery-Free Networks
author:Yunfei Ma and
Nicholas Selby and
Fadel Adib
Drone Relays for Battery-Free Networks
Yunfei Ma, Nicholas Selby, Fadel Adib
Massachusetts Institute of Technology
{yunfeima,nselby,fadel}@mit.edu
ABSTRACT
Battery-free sensors, such as RFIDs, are annually attached to billions
of items including pharmaceutical drugs, clothes, and manufacturing
parts. The fundamental challenge with battery-free sensors is that
they are only reliable at short distances of tens of centimeters to few
meters. As a result, today’s systems for communicating with and
localizing battery-free sensors are crippled by the limited range.
To overcome this challenge, this paper presents RFly, a system
that leverages drones as relays for battery-free networks. RFly de-
livers two key innovations. It introduces the first full-duplex relay
for battery-free networks. The relay can seamlessly integrate with
a deployed RFID infrastructure, and it preserves phase and timing
characteristics of the forwarded packets. RFly also develops the first
RF-localization algorithm that can operate through a mobile relay.
We built a hardware prototype of RFly’s relay into a custom PCB
circuit and mounted it on a Parrot Bebop drone. Our experimental
evaluation demonstrates that RFly enables communication with com-
mercial RFIDs at over 50 m. Moreover, its through-relay localization
algorithm has a median accuracy of 19 centimeters. These results
demonstrate that RFly provides powerful primitives for communica-
tion and localization in battery-free networks.
CCS CONCEPTS
• Networks → Cyber-physical networks; Mobile networks; Sensor
networks;
KEYWORDS
Drones, RFID, Relay, Full-Duplex, Localization, Battery-free, SAR
ACM Reference format:
Yunfei Ma, Nicholas Selby, Fadel Adib. 2017. Drone Relays for Battery-Free
Networks. In Proceedings of SIGCOMM ’17, Los Angeles, CA, USA, August
21-25, 2017, 13 pages.
https://doi.org/10.1145/3098822.3098847
1 INTRODUCTION
The largest and fastest growing market of networked devices by
unit sale consists of passive RFIDs (Radio Frequency Identifiers).
In 2016 alone, over 5 billion RFIDs were sold and the market size
exceeded 16 billion dollars [33]. The primary use of RFIDs is to
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than the
author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior specific permission
and/or a fee. Request permissions from permissions@acm.org.
SIGCOMM ’17, August 21-25, 2017, Los Angeles, CA, USA
© 2017 Copyright held by the owner/author(s). Publication rights licensed to Association
for Computing Machinery.
ACM ISBN 978-1-4503-4653-5/17/08. . . $15.00
https://doi.org/10.1145/3098822.3098847
identify and track objects in factories, warehouses, or supply chains.
Passive RFIDs are battery-free stickers which are attached to objects
similar to barcodes. When queried by a wireless device called a
reader, RFIDs respond with their unique IDs, enabling the reader to
read and identify them from a distance.
The fundamental difficulty with passive RFID technology, how-
ever, is that it is only reliable at distances of few meters [42, 47, 50].
This is because one cannot reliably power RFIDs at longer distances.
The distance becomes much lower if the RFID is buried under other
objects, for example, under a stack of clothes in a retail store. In
fact, even if an entire store or warehouse were outfitted with a dense
infrastructure of RFID readers, 20-80% of RFIDs may remain in
blind spots due to destructive interference or orientation misalign-
ment [31]. As a result, to perform inventory control in warehouses,
employees today need to walk around the warehouse carrying a
reader in their hand or maneuvering forklifts to scan the entire ware-
house, a process that can take up to a month [34].1
Due to this problem, recent efforts have considered moving away
from RFIDs, and replacing them with vision-based systems. For
example, in 2016, Walmart started testing imaging drones in its
warehouses, predicting that they could slash its cycle counting op-
erations from a month to less than a day [34]. Similarly, Amazon
started testing Amazon Go [43], a grocery store that can eliminate
checkout lines by leveraging cameras and machine learning tech-
niques. However, cameras and vision based techniques are limited
in that they can only operate in line-of-sight. Such a limitation is
particularly problematic and cannot realize the vision of localizing
every item in a store, hospital, or warehouse.
In this paper, we present RFly, a system that combines the agility
of drones with the sensing capabilities of RF signals, enabling drones
to detect and localize objects in non-line-of-settings and over a wide
area. To realize this vision, RFly introduces a new relay technology,
designed particularly for battery-free networks. The relay can seam-
lessly integrate with an already deployed RFID infrastructure, as
shown in Fig. 1. When a reader transmits a query, the relay picks
it up, forwards it to an RFID then forwards the RFID’s reply back
to the reader. As the drone flies, it can scan an entire warehouse,
seamlessly extending the range of an already deployed infrastructure
and eliminating its blind spots.
RFly’s relay needs to satisfy three key properties:
• First, it must be bidirectionally full-duplex. In particular,
backscatter communication is full-duplex in nature (RFIDs
communicate by reflecting a reader’s signal). Hence, to en-
able backscatter communication, RFly’s relay must support
four concurrent wireless transmissions as shown in Fig. 1.
• Second, the relay needs to preserve the phase and timing char-
acteristics of the forwarded packets. This is necessary because
1Similarly, RFID localization proposals in the academic community run their experi-
ments by having their reader within few meters from the RFID tags [32, 45, 46, 49].
SIGCOMM ’17, August 21-25, 2017, Los Angeles, CA, USA
Yunfei Ma, Nicholas Selby, Fadel Adib
Figure 1: RFly overview and the self-interference
challenge. The packets forwarded by the relay on
the uplink and downlink feed back into its antenna,
causing self-interference.
(a) Classical Antenna Arrays
(b) Relay-based Antenna Array
Figure 2: Challenge of phase entanglement. (a) In traditional antenna arrays,
the phase measurements correspond to a direct link between the RF source and
the antenna. (b) When the reader obtains the phase through the relay, the phase
is an entanglement of two half-links: one between the relay and the drone and
another between the relay and the RFID.
accurate localization hinges on phase measurements [24, 45,
46, 48].
• Finally, it must be compact to be mounted on a drone.
To realize these properties, RFly’s relay adopts a mirrored archi-
tecture that has two main components. The first component performs
self-interference cancellation to enable bidirectionally full-duplex
communication. In contrast to past full-duplex relay proposals [15],
the cancellation is done entirely in the analog domain in order to
preserve the timing characteristics of the forwarded packets. Un-
fortunately, the cancellation inadvertently introduces random phase
and frequency offsets that can preclude localization. The second
component compensates for these offsets by exploiting the fact that
it can control both the uplink and downlink forwarding hardware
(since they are co-located on the drone). Hence, it subtracts on the
uplink the exact (phase and frequency) offsets that it inadvertently
adds on the downlink. This mirrored architecture enables the reader
to capture the phase of the RFID’s response through the relay and is
described in detail in §4.
Now that we can capture the phase of the RFID’s response, we
may proceed to localization. In particular, as the drone flies, the relay
captures RFID responses at different points along its trajectory, emu-
lating an antenna array as shown in Fig. 2(a). However, relay-based
localization exhibits a fundamental difference from all past work
on antenna arrays. Since the reader obtains phase measurements
through the relay, the measured phase does not consist of a single
link (direction) as in typical antenna array scenarios. Rather, the
phase is an entanglement of two half-links: one between the reader
and the relay and another between the relay and the RFID tag, as
shown in Fig. 2(b).
RFly’s solution to this challenge consists of embedding an RFID
into the relay itself. This enables it to isolate each of the two half-
links and process each of them independently. At a high level, RFly’s
disentanglement protocol queries both the on-board RFID and other
RFIDs in the environment to capture their phases. This effectively
provides it with two equations and two unknowns. It can then solve
these equations to recover the two half-links. Having isolated the
phases for each of the half-links, RFly may proceed to applying
standard antenna array equations on each of the half-links for local-
ization. In §5, we elaborate on this idea and describe how RFly’s
algorithm can deal with additional challenges due to multi-path
reflections in the environment.
We built a prototype of RFly. To implement the relay, we built
RFly’s hardware design into a custom PCB circuit and mounted it
on a Parrot Bebop2 drone [23]. We implemented an RFID reader
on USRP N210 software radios [6] and used the Alien Squiggle
passive RFID tags [12] for evaluation. Our experimental evaluation
demonstrates the following results:
• Read Range: RFly’s relay significantly extends the range over
which a reader can communicate with off-the-shelf passive
RFIDs. Our stress-test experiments demonstrate that a reader
can achieve 100% read rate when an RFID is over 50 m away
even in non-line-of-sight environments and through walls;
this represents over 10× range improvement over scenarios
where the relay is absent.2
• Localization Accuracy: RFly’s median localization error is
19 cm and 90th percentile error is 53 cm. The localization
accuracy decreases with distance due to SNR reduction but
remains sub-meter even when the localized RFID is over 50 m
from the reader.
RFly’s relay has few additional desirable features that make the
system amenable to immediate deployment. First, it is transparent to
the RFID protocol. This enables it to naturally scale already deployed
infrastructures of RFID readers in warehouses, stores, or factories
without requiring any modification. Second, it is lightweight and
can be miniatured further into a single integrated circuit. This allows
us to mount the entire relay on a small drone, which is safe to fly
indoors in warehouses and factories. In contrast, none of today’s
commercially available readers can be mounted on small drones
and would instead require larger drones that are only safe to fly in
outdoor environments or away from humans [19, 41]. Finally, RFly’s
design incorporates a mechanism that enables it to automatically
manage interference from multiple readers within its radio range.
Contributions: We make the following contributions:
• We present the first system that leverages drones as relays for
battery-free networks. The system enables drones to detect
and localize objects in non-line-of-sight settings and over a
wide area.
2The distance gain comes from the reader-relay half-link (which is similar to a standard
WiFi link) because the relay is powered-up by the drone’s battery. In contrast, the
distance between the RFID and the relay remains limited to few meters since the relay
must power up the tag and deliver sufficient modulation depth for communication.
ReaderDrone with RelayRFIDSelf-InterferenceDrone Relays for Battery-Free Networks
SIGCOMM ’17, August 21-25, 2017, Los Angeles, CA, USA
tionally full-duplex relay.
• We design and build the first phase-preserving and bidirec-
• We introduce a new localization algorithm that operates on
• We present a prototype implementation of our system demon-
RF signals obtained through a mobile relay.
strating its accuracy and range of operation.
RFly has a few limitations that are worth noting. First, the drone
still relies on vision-based systems for navigation, obstacle avoid-
ance, and stability. While this does not prevent RFly from localizing
RFIDs in non-line-of-sight, it requires optical markers that can guide
the drone’s navigation. Second, the localization range is still lim-
ited to few tens of meters. We believe that these limitation can
be addressed as the research evolves and hope that RFly’s design
motivates new systems that synergize drone technologies with RF
capabilities and battery-free networks.
2 PRIMER
Passive RFIDs are battery-free tags which communicate with a de-
vice called a reader. A reader bootstraps communication by sending
a query on the downlink channel. The query serves both as a mecha-
nism to power up the tag and a means to communicate messages to
it. A powered up tag responds with its unique identifier through ON-
OFF keying modulation. To do so, it switches its internal impedance
between two states: reflective and non-reflective.
State-of-the-art localization techniques [32, 45, 46] operate on
the phase of the received tag response, which encodes distance
information. Specifically:
• On the downlink, after transmitting a query, the reader trans-
mits a continuous wave at some frequency f , which can be
expressed as:
x (t ) = e j2π f t
(1)
• On the uplink, the RFID modulates the wave with some sig-
nal s (t ), and the signal received at the reader can be expressed
as:
(2)
where 2d corresponds to the round-trip distance from the
reader to the tag and c is the speed of light.
y(t ) = s (t )e j2π f (t−2d /c )
Upon demodulation, a reader can recover the phase of the received
signal as ϕ = 4πd/c and use it for localization.
Finally, we note that the communication range between the reader
and the tag is limited on the downlink channel. This is because the
reader must deliver sufficient power to the RFID (around -15 dBm
for off-the-shelf tags [12]) and modulation depth so that it may
power up and decode. This limits the reliable range of passive RFID
communication to 3-6 m [12, 42].
3 RFLY OVERVIEW
RFly is a system that leverages drones as relays for UHF RFID
networks. The system can detect and localize RFIDs that are sep-
arated by tens of meters from an RFID reader, i.e., much larger
than the read range of a typical reader. RFly works in both line-of-
sight and non-line-of-sight environments, enabling us to localize
occluded RFID-tagged objects in highly cluttered environments such
as warehouses, stores, and factories.
In order to localize objects in the environment, RFly dispatches
a drone that navigates throughout the area of interest following a
predetermined flight plan. The drone has an on-board RFID relay,
which acts as a transparent intermediary between RFID readers and
RFID tags in the environment, as shown in Fig. 1. As the drone flies,
the relay continuously forwards uplink and downlink traffic between
the readers and the RFIDs. In §4, we describe how RFly’s relay
forwards the packets in the analog domain to preserve localization-
sensitive characteristics of the signal.
The RFID reader collects the responses obtained through the relay,
and decodes the responses to identify the RFIDs’ unique IDs. In §5,
we describe how a reader can localize RFIDs in the environment by
synthesizing the measurements collected along the drone’s trajectory.
Finally, to identify the localized objects, the system leverages a local
database that maps each RFID’s unique ID to the object it is attached
to. Such databases are typically provided by a manufacturer and map
each object to its RFID’s unique identifier [1].