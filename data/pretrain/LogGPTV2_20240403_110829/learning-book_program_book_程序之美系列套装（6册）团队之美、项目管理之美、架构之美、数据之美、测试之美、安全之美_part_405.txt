任网络并没有处理这个问题。一般而言，信任网络的实现方案采取
了懒情的方法，它只是简单地保留所有的过期签名。
不想要的签名
假设Bob不希望Alice对他的密钥进行签名。这可能事出有因，也许
是因为Bob对Alice丝毫不了解山，也许是因为Bob看不起Alice，不
想与她有任何瓜葛。不管怎么说，这是Bob的密钥，他有权持有这样
的想法。
另外还存在两个相关的问题。在Dudley/Snidely案子中，Dudley出于
公共利益的原因想在Snidely的密钥上签名。很容易理解，Snidely不
喜欢这样。因此，在Snidely对他自己的意愿的控制和公众利益之间
就存在冲突。如果没有办法通过某种基于价值的策略进行密钥的签
名，就很难调解这种冲突。这种策略正是我们想方设法实现的。
第二个问题是基本的信任网络并没有提供对签名人的认证。例如，
假设Dudley对Snidely的密钥进行了签名，而这个密钥并不是来自
2344
---
## Page 2346
Dudley，而是来自BorisBadenov（另一部卡通片中的一个坏人），
我们把最后这种情况称为签名骚扰。当我们开发OpenPGP的时候，
在内部讨论了签名骚扰，但是没有把任何讨论内容公之于众，因为
骚扰很容易进行，但是极滩防备。那一代的密钥服务器所采用的密
钥组合策略很容易产生这种形式的签名滥用。
随着时间的推移，我们建立了一些新特性，用于处理这些问题。
可导出的签名
Phil的密钥并认为它是合法的，她很可能需要亲自对它进行签名。如
面就会有她的签名。
防止这个问题的一个好办法是区分哪些签名出于公共目的，哪些签
名出于私人目的（例如信任计算）。前者是可导出的，后者是不可
导出的[2]。
当一个软件实现导出一个密钥或把它发送到自己的控制范围之外
时，它会排除所有不可导出的签名。另外，当一个软件实现导入一
个密钥时，它也会排除不可导出的签名。
这就允许信任网络区分哪些认证是用于大众的，哪些认证只是为了
让个人创建密码安全的合法密钥集。
可导出的签名最初是在PGP3中出现的，它也是OpenPGP的组成部
分。
密钥编辑策略
为了防止签名膨胀，OpenPGP引入了两种密钥编辑策略，密钥的主
人可以向密钥服务器声明自己的策略。
指示服务器只允许那些由密钥主人所授权的编辑
指示服务器用一份新拷贝替换密钥的旧拷贝，而不是简单地组合所
有的密钥签名这两个策略使密钥的主人能够控制他的每个密钥上的
2345
---
## Page 2347
签名。另外，第一个策略允许组合签名，但只有在主人的控制下才
会发生。这两个策略一起为密钥的主人提供了对密钥的完全控制。
除了这些策略之外，还可以在密钥中嵌入一个URI，声明密钥的确定
性拷贝位于什么地方。这个位置可以是一台密钥服务器，也可以是
一个通过HTTP或FTP所访问的文件。这个URI充许密钥的主人把用
户定向到这个密钥的定义性拷贝。这个确定性拷贝还可以帮助密钥
的主人发布撤销信息。如果这个URI指向一台密钥服务器，那么它还
可以帮助进行签名撤销。
所有这些策略最初是作为OpenPGP的组成部分而出现的，它们被实
现为一个自签名的属性。因此，对于密钥上的每个用户ID，可以使
用不同的策略。
[1]如果我们发现自己有密钥上有自己一无所知的人的签名，无疑会
感到愤怒。
[2]“公共"和“私有"可能是更好的术语。“不可导出"有点口，不过
它们都是正确的术语。
7.4.4证书内偏好
尽管从严格意义上说OpenPGP并不是信任模型的组成部分，但它所
引入的一个重要特性允许它在一个密钥的自签名中存储一些用户偏
好。例如，存储一些与对称密码、压缩函数和散列函数有关的选
项。
OpenPGP允许用户在一个包含每个选项的有序值列表中声明他们的
偏好，这个列表被放在用户的自签名中。
它提供了一些人们所需要的特性，其中有些与信任网络相关。这种
选项列表是用户选项经过认证的存储，允许OpenPGP的两种实现对
不同用户的不同思路进行解析。
例如，我们假设Alice喜欢红色、蓝色和紫色，而Bob喜欢紫色、绿
色、白色和蓝色。他们都喜欢蓝色和紫色，但喜欢的程度却几乎恰
好相反。OpenPGP机制允许他们使用自己喜欢的方式。Alice可以使
用紫色，因为它也是Bob的偏好。她也可以使用蓝色，因为它是自己
的偏好。反正只要保证两者之间存在交集就可以了。OpenPGP有一
组基本的强制算法，保证这种互操作性。
2346
---
## Page 2348
这些证书内偏好非常实用，因此X.509标准正着手添加自已的证书内
偏好。
7.4.5PGP全球目录
PGP全球目录是经过修订的基于LDAP的密钥服务器，通过更好的认
证和密钥编辑对以前版本密钥服务器进行了完善。它的工作原理如
下：
全球目录要求通过电子邮件回路，对向它提交的密钥进行认证。全
球目录向所有提供给它的电子邮件地址发送一封包含认证URL的电
子邮件。只有当全球目录被一个认证URL重新访问时，它才会把密
钥放在这个目录中。这个过程类似于网络博客、邮件列表和社交网
络服务器所发出的确认邮件，以防正在没有得到当事人同意的情况
下与其签约。
全球目录允许一个电子邮件地址的主人通过电子邮件回路认证删除
该电子邮件的一个密钥，这个过程与添加一个密钥相似。
全球目录只允许每个电子邮件地址有一个密钥。这并不是密钥膨胀
的完美解决方案，因为在许多情况下密钥持有人在一个特定的电子
邮件上可以拥有多个合法的密钥。但是，在这种情况下，又会产生
另一个问题，就是第三方如何决定哪个密钥应该被使用。最旧的？
问题，尽管这个解决方案并不能让所有人都满意。
全球目录要求每半年对密钥进行重新验证。它向每个密钥发送一封
更新电子邮件，如果邮件没有得到响应，对应的密钥就从全球目录
中删除。
全球目录实现了前面所描述的OpenPGP密钥编辑策略。
全球目录用它自己的验证密钥对它所包含的每个密钥进行签名。这
些签名使用两周间隔的新鲜期策略。因此，如果一个用户删除或撤
销了他的密钥，它在全球目录中最多保持2个星期的有效。这就允许
全球目录放弃自己的撤销机制。
这些操作策略完善了全局目录的准确性。用户知道全球目录中的每
个密钥都通过全球目录与密钥的主人在此前六个月的某个时候的电
子邮件交换进行了认证。
2347
---
## Page 2349
注意，有些策略仍然存在滥用的风险。例如，BorisBadenov仍然可
以定期更新SnidelyWhiplash的密钥。这类问题可以由抑制这类请求
的适当软件解决，也可以通过类似反垃圾邮件软件通常采用的反骚
扰机制来解决。
全局目录是对OpenPGP社区所存在的一些思路进行强化，包括：
·Robot CA，由PhilZimmermann首先提出，由SethSchoen撰文描述，
并由KyleHasselbacher细化和实现（参见7.6节）。
前面所描述的自组装PKI，由JonCallas和Wil1Price所设计。
现有的OpenPGP密钥服务器。
由诸如Mailman（http://www.list.org）和GNU邮件列表管理器所使用
的电子邮件回路认证。
7.4.6可变信任评分
密码专家UeliMaurer（参见7.6节）开发了PGP信任网络的一个扩
展，允许信任分配的连续伸缩性。在他的模型中，通常的PGP伸缩
性可以是0、1/2、1。如果累积了足够的信任，总量达到1的时候，
就授权为合法。但是，他允许把介绍人的值设置为任何分数。例
如，我们可以让一个介绍人的值为0.9，另一个介绍人的值是0.15。
7.5未来研究的有趣领域
信任网络允许数以千计的人们在不必实际会面的情况下通过Intermet
建立联系，从而增强了人际关系和国际关系。它还提供了迷人的研
究环境，可以致力于研究人际关系的创建以及声誉的存在。这些研
究成果可以作为下一代的研究和编码的起点。
7.5.1超级合法
在本章前面的图7-1中，Fran是个特殊的密钥，因为她的得分达到了
4，其中2分来自You的签名，另外2分来自Eli的签名。信任网络不支
持超级合法密钥，但在直觉上Fran应该享有一些特殊待遇。对于Fran
和Jon都进行了签名的密钥，也应该有些特别之处。我们还没有把这
种直觉转变为一种实用的机制。
2348
---
## Page 2350
7.5.2社交网络和流量分析
许多人已经注意到信任网络形成了一个社交网络，这是一种泛化的
定向图，显示了人与人之间可以通过他们的密钥和签名的连接。我
们可以分析这种图的社交连接信息。
如果某个人同意一种理论，认为签名应该是中性的，甚至同意对一
个"敌意"的密钥进行签名（例如Dudley对Snidely的密钥进行了签
名），人们就无法根据一个密钥签名的存在而推断两个人之间存在
个人关系。而且，PGP存在“密钥签名方”，就是一些人聚集在一起，
集中批准彼此的密钥，从而淡化了社交网络的语义。
NealMcBurnett（见7.6节）分析了信任网络图的网络结构。他在图中
对路径长度、连接性、规模级别和其他特性进行了研究。
MarkReiter和StuartStubblebine创建了PATHSERVER（见7.6节），这
是一种评估密钥之间的多签名路径的方法。
这些分析确实受到了信任网络的启发，并且是从信任网络引审而来
的，但我们必须注意到它们与信任网络是正交的。信任网络的一个
不可分割的特性是它由观点所组成的。它可以被认为是相对的，因
为信任网络中不存在天生就特别有价值或者比其他更为重要的参考
系。信任网络的信任部分完全依赖于用户特定的信任标记以及密钥
持有人在密钥上所设的权重。密钥网络是个有趣的对象，我们相信
它必然有自已的用途，并且能够对信任网络的使用提供帮助，但它
是信任网络的一个正交结构。
信任网络的定向图提供了与网络中的人们有关的信息，虽然这些信
息仍然有待于进一步的研究和辩论。
7.6参考资料
E.Allman、J.Callas、M.Libbey、J.Fenton和iM.Thomas。《DomainKeys
Identified Mail(DKIM) Signatures,RFC 4871》，
http://www.ietf.org/rfc/rfc4871.txt。
D.Atkins、W.Stallings和P.R.Zimmermann。《PGP Message Exchange
Formats,RFC 1991》， http://www.ietf.org/rfc/rfc1991.txt。
2349
---
## Page 2351
J.Callas。《Improving Message Security With a Self-AssemblingPKI》
在第2届AnnualPKIResearchWorkshop,Gaithersburg,MD上提出，2003
年4月。
J.Callas、L.Donnerhacke、H.Finney、D.Shaw和IR.Thayer。《OpenPGP
Message Format,RFC 4880》，http://www.ietf.org/rfc/rfc4880.txt。
J.Callas、L.Donnerhacke、H.Finney和R.Thayer。《OpenPGP Message
Format,RFC 2440》，http://www.ietf.org/rfc/rfc2440.txt。
H.Dobbertin。《Cryptanalysis of MD5 Compress》，在Internet上的声
明，1996年。
M.Elkins、D.Del Torto、R.Levien和T.Roessler。《MIME Security with