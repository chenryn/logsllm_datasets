##### 漏洞利用程序（Exploits）
漏洞利用往往通过错误或漏洞来导致计算机硬件或软件上发生异常行为。攻击者可能会寻找并开发自己的漏洞，而不是从网上查找/修改已有漏洞或从漏洞供应商处购买漏洞。攻击者可能会使用通过漏洞获取的信息来专注于漏洞利用开发工作。作为漏洞利用开发过程的一部分，攻击者可能会通过模糊测试和补丁分析等方法发现可利用的漏洞。可以对某cms前后两个版本进行对比，发现修复的地方然后反推漏洞所在。
攻击者可能会在攻击周期的各个阶段使用漏洞利用（即利用面向公众的应用程序、利用客户端执行、利用特权升级、利用防御规避、利用凭据访问、利用远程服务以及利用应用程序或系统利用）。
#### 五 建立账户（Establish Accounts）
攻击者在攻击过程中可以创建和培养一批账号来进行更深层次的攻击。攻击者会在社交媒体，网站或其他公开信息中伪装这批账号的简介，仪表，过往历史和工作单位，从而在之后用这批虚假账号进入目标企业/单位。
对于需要社会工程的攻击来说，在线角色的利用非常重要。这些角色可能是虚构或者冒充真实的人。该角色可能存在于单个或多个网站，比如脸书，推特，github，dorkerhub等。
建立账号还可以包括创建电子邮件提供商的账户，从而直接用于钓鱼攻击。
**使用方式**
这里只说一些常见的匿名邮箱和在线验证码接收平台，不涉及黑灰产会用到的工具
[短信验证码在线接收码平台](https://www.yinsiduanxin.com/)
##### 社交媒体账户（Social Media Accounts）
与上文中`盗取社交媒体账户`之后的操作相似，故略过。
##### Email账户（Email Accounts）
与上文中`盗取Email账户`之后的操作相似，故略过。
#### 六 获取组件 （Obtain Capabilities）
攻击者会购买/窃取/下载渗透过程中会使用到的组件，而不是自己内部开发。这些组件包含恶意软件，工具及其许可证，漏洞，证书以及与漏洞相关的信息。这些组件可以在攻击周期的多个阶段提供帮助。
除了从网上下载免费恶意软件，工具和漏洞外，攻击者还可能从第三方购买这些组件。第三方包含专门开发恶意软件，漏洞或个人。
除了购买，攻击者还可能从第三方窃取这些组件，包含软件许可证，恶意软件，SSL/TLS和代码签名证书，或者查看或入侵公开/非公开的漏洞数据库。
##### 恶意软件（Malware）
恶意软件可以包括payload，后渗透工具，后门，装载器，C2协议。攻击者可以通过这些软件获取维持权限，绕过防护和执行后渗透攻击。
这部分由于涉及的东西太多，我们会专门开一篇（挖个坑）文章介绍的。
##### 工具（Tool）
工具可以是开源或闭源，免费或商业。一个工具只要能在攻击中起到作用，即使它的本意不是恶意的也算作恶意工具，比如PsExec。设计商业许可证的红队团队工具，比如CobaltStrike。商业软件通过购买，窃取许可证或破解许可证获得，比如Jetbrains全家桶，Visual
Studio，burpsuite专业版等。
##### 代码签名证书（Code Signing Certificates）
代码签名是数字签名可执行文件和脚本的过程，以确认软件作者并保证代码未被更改或损坏，可用于绕过需要签名代码在系统上执行的安全策略。攻击者会购买/窃取可以在攻击中使用的代码签名，从而绕过安全控制。因为用户信任被签名后的代码，而不是未签名的代码，即便这个签名是攻击者冒充/伪造的。
购买代码签名证书可以使用前组织或使用从以前受损的实体窃取的信息，使攻击者能够验证证书提供商为该实体。攻击者也可能直接从受损害的第三方窃取代码签名材料。
**使用方式**
windows购买合法代码证书的方式如下：
##### 数字证书（Digital Certificates）
攻击者可能会购买/窃取可用于渗透时的 SSL/TLS 证书。SSL/TLS
证书旨在确保信任关系。它们包括有关密钥的信息、有关其所有者身份的信息以及已验证证书内容的实体的数字签名是正确的。如果签名有效，并且检查证书的人信任签名者，那么他们知道他们可以使用该密钥与其所有者进行沟通。
攻击者可以购买或窃取 SSL/TLS 证书以推进其操作，例如加密 C2 流量（例如：与Web
协议的非对称加密），如果证书可信或以其他方式添加到信任根源（即安装根证书），则甚至启用中间人。购买数字证书可以使用前组织或使用从以前受损的实体窃取的信息，使攻击者能够验证证书提供商为该实体。攻击者也可能直接从受损害的第三方（包括证书当局）窃取证书材料。攻击者可能会注册或劫持域名，然后购买
SSL/TLS 证书。
##### 漏洞利用（Exploits）
Exploits
也就是我们常说的EXP/POC。攻击者可能会购买、窃取或下载在渗透过程中可以使用的漏洞。漏洞利用错误，在计算机硬件或软件上造成意外行为。攻击者可能会从网上找到/修改漏洞，或者从漏洞利用供应商处购买，而不是开发自己的漏洞。
攻击者可以监控漏洞披露网站来了解现有漏洞以及新发现的漏洞的状态。在发现漏洞和公开漏洞之间通常存在延迟。攻击者可以渗透已知进行开发研究和开发的系统，以便获得这些知识，供后续操作使用。
**使用方式**
这里只推荐一些会直接给exp的漏洞网站/工具
[seebug](http://seebug.org/)收录的漏洞一般都会给漏洞的poc链接，再结合zoomeye/fofa就能愉悦喜加一（吐槽一下fofa，zoomeye每月10000免费接口查询额度，fofa你好好学学，也吐槽一下zoomeye能不能开个夜间模式，界面太白看着难受）
[Hacking8安全信息流](https://i.hacking8.com/vuls/)
[github-cve-monitor](https://github.com/yhy0/github-cve-monitor)
##### 漏洞信息（Vulnerabilities）
攻击者会监控漏洞披露/数据库，以了解现有漏洞以及新发现的漏洞的状态。通常在发现漏洞和公开漏洞之间会有延迟，也就是我们常说的1day。攻击者可能针对已知进行漏洞研究（包括商业供应商）的系统。对漏洞的了解可能导致攻击者搜索现有漏洞或尝试自行开发漏洞（即挖0day）。
#### 七 筹划能力（Stage Capabilities）
攻击者在确定攻击目标时会通过上传，安装或其他方式建立自己的能力。
筹划能力可以帮助攻击者进行一些初始化访问和妥协后的行为，包括但不限于：
  * 借由不当操作的攻击（Drive-by Compromise）
  * 通过xss注入合法网站窃取cookie/OAuth/身份令牌等
  * 通过广告提供商的合法广告插入恶意脚本
  * 在内置web应用程序界面的客户端插入恶意脚本
  * 建立钓鱼网站
  * 上传软件或者工具到撕开口子的服务器，从而继续攻击内网和部署C2工具。
  * 安装之前获得的SSL/TLS证书用于加密C2流量
##### 上传恶意软件（Upload Malware）
攻击者会将恶意软件上传到目标可以访问的第三方软件托管（如github、Pastebin、CNET、AWS 社区 AMIS、Docker
Hub）或者攻击者自己的基础设施（服务器，网站等）。恶意软件包含payload，dropper，后渗透工具，后门以及其他恶意内容。比如攻击者会通过payload撕开外网的一个口子后，开始投放C2工具。
在运气爆表的时候，受害者可能自己直接下载/安装这些后门软件。将后门软件伪装成合法的软件能大大增加受害者无意间触发这种漏洞的可能。比如之前的pip库通过抢占和故意写差字母误使程序员安装恶意pip包和[phpstudy](\[phpStudy官方：关于phpstudy被植入后门事件的澄清说明-phpstudy-PHP中文网\]\(https://www.php.cn/phpstudy-430651.html\))从非官网下载的版本被植入后门等事件。
##### 上传工具（Upload Tool）
这部分上传的位置与`上传恶意软件部分相同`，因此不详细展开。
##### 安装数字证书（Install Digital Certificate）
攻击者可以安装 SSL/TLS 证书，这些证书可用于优化攻击，例如加密 C2 流量，或窃听受害者的通信。数字证书的安装可以针对许多服务器类型进行，包括
Web 服务器和电子邮件服务器。
##### Drive-by target
攻击者可能会上传或注入恶意内容，如javaScript，这可以通过多种方式实现，包括将恶意脚本直接插入网页或其他用户可控的 Web
内容（如论坛帖子）。攻击者也可能制作恶意网络广告，并通过合法广告提供商在网站上购买广告空间。除此之外，攻击者还可以编写xss脚本来收集用户的浏览器信息（如通过蓝莲花战队的xss平台编写利用脚本用来收集受害者主机信息），从而寻找受害者主机的其他供给面。
被攻击者入侵并用于进行Drive-by的网站可能是特定社区（如政府、特定行业或地区）访问过的网站，其目标是根据共同利益损害特定用户或一组用户。这种有针对性的攻击是指战略性迂回网络攻击（strategic
web compromise，通过攻击目标经常访问的网站来达到入侵目的）或水坑攻击（watering hole attack）。
攻击者在获取基础架构（域）时可能会购买类似于合法域名（例如：同字形、错别字、不同顶级域名等）的域名，以帮助Drive-by target。
##### 链接攻击（Link Target）
攻击者可以通过用户点击恶意链接从而泄露信息或者RCE。链接攻击可以用于钓鱼攻击，例如发送一封带有社会工程文字的电子邮件，诱骗用户主动点击或复制URL粘贴到浏览器中。
通常链接的目标站点是一个HTML界面，其中包含一些客户端脚本如JavaScript等。攻击者会克隆合法网站的登录界面伪装自己的钓鱼站点，从而诱导用户泄露自己的登录凭证。
攻击者也可能会上传恶意软件，并利用链接诱使用户去下载/运行。
攻击者可以在获取基础架构（域）时购买类似于合法域的域（例如：同字形、错别字、不同顶层域名等），从而更好的伪装站点，也可以使用短链接服务。
**使用方式**
下面两个工具都可用于网站克隆
[httrack](http://www.httrack.com/)
[setoolkit](https://github.com/trustedsec/social-engineer-toolkit)
## Refer
* * *