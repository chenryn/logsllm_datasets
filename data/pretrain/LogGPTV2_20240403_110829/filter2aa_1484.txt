How to Build Your Very Own Sleep Lab: 
The Execution
Presented by:
Keith Biddulph & Ne0nRa1n
Overview
What does it do? 
We're collecting data for later interpretation:
Electroencephalogram (EEG)
Heart rate monitor (HRM)
Electronic Ocular Monitor (EOM)
Infrared pictures
Overview
What does it not do?
Breathing measurements
Skin response on face
Why not?
Restless leg and apnea are obvious to an outside 
observer
Overview
A series of devices connected to an ordinary 
desktop PC:
ModularEEG implementation of the 
OpenEEG project
Interfaces with a desktop PC via RS 232 serial port
Homebrew microcontroller (Atmel Atmega128) 
device to collect other signals
Also Interfaces with a desktop PC via serial port
USB Webcam modded to see only IR
Hardware overview
OpenEEG overview
Microcontroller data collection device
Sensor choice
ModularEEG from OpenEEG project
Cheap ($<200 to build)
Well tested (Initial release in 2003)
Prebuilt PCBs available
Open Source
Needed to detect stage of sleep
Sensor choice
Wireless heartrate monitor by Oregon Scientific
Super cheap off of eBay ($<20)
Signal to find was relatively simple
Needed to verify that monitored user is calm
Sensor choice
EOM – Fairchild QRB1134
Very cheap
Well documented
Simple
Used to verify REM
Construction pitfalls
ModularEEG – Buy it preassembled!
Took hours of cramped soldering
Easy to make solder bridges or short to ground plane
Easy to put ICs in backwards
Does not include a power supply
Construction highlights
On the fly construction:
Op-amp for HRM to boost signal from 1Vpp to 
5vpp
Adding first-order filters to remove noise from 
incoming circuits
Finding new and interesting uses for soldering 
irons
Initial Data
We plugged theEEG in and nothing caught on 
fire!
EEG capture when subject
was asked about their
favourite topic
Initial Data
HRM and EOM verified to be working:
Initial Data
Disclaimer:
We are not doctors, nor do we pretend to be
It is rare, but possible to give yourself an electric 
shock with this equipment
There is no warranty – explicit or implied
We are not responsible for the consequences of 
anyone attempting to duplicate our efforts
Initial Data
FIXME: show picture clips of various sleep 
stages collected here
Analysis
What does this data tell me?
EEG and EOM can verify that user is entering all 
stages of sleep.
Analysis
What does this data tell me? (cont.)
Camera stills will show fitful sleep, sleepwalking, 
and restless leg. 
Elevated heart rate can indicate stress
Additional info
Flowchart of capture software:
Additional info
Future expansion:
More sensors:
Muscle sensors on face
Volume and temperature of airflow to/from lungs
Automagic identification and categorization of 
data
Closing
Shoutouts to:
ab3nd, dead addict, lockedindream, lyn, mb, 
nobodyhere, old grover, psychedelicbike, 
tottenkoph, 
Detailed schematics and source code are 
available at:
http://defcon17sleeplab.googlepages.com/