4和图12-5）。我们的这种选择是受到Martin的婴儿名向导图（Bby
NameVoyager)可视化的影响，婴儿名向导图是关于婴儿名字受欢迎
程度的堆栈图，在网上变得超乎寻常地受欢迎（Wttenberg和Kriss
2006）。堆栈图可以清晰地显示聚集模式，并且可以很优雅地支持
交互过滤，但是其代价模糊了个人倾向一—对于某个倾向的理解是
由栈序列的曲线带来的偏见生成的。相反地，我们确定点击一条序
列可以过滤出对它的显示，因此，通过这种方式，其趋势可以很容
易被隔离出来进行显示。
进一步地，我们遵循了构建的文化约定，通过很多观察者所熟悉的
方式对数据进行视觉编码（比如，用蓝色表示男孩，粉红色表示女
孩）。当考虑如何在很多人口统计学变量间对交互进行可视化，而
不是试图发明一些完全新颖的东西，我们采取的是对人口统计学家
已经普遍使用的图形类型一一人口金字塔进行扩展。
使每种展示方式都与众不同
在某些情况下，我们使用了相同的可视化类型来显示不同的数据类
型。例如，对于职业和出生地数据，我们都使用了堆栈图。然而，
1538
---
## Page 1540
我们希望每一种展示方式在视觉上都与众不同，这样用户就可以一
眼识别出它们。结果是，我们为每一种可视化都构建了唯一的彩
板。
支持直觉探索
为了培养交互探索，我们希望使得接口操作尽可能地简单。对于堆
栈图，我们让用户输入搜索关键字对感兴趣的项进行查询。在其他
情况下，我们提供了一组下拉菜单对维度进行选择或者过滤。我们
还包含了控件来选择绝对人数计数和范化的比例。更高级的控制可
能实现，而且我们发现提供该级别的控制能够促使通过整洁易用的
接口所做的一系列探索。
积极参与玩要
除了培养个人相关性，我们希望和该系统的交互有趣好玩。因此，
我们致力于采用优雅高效的数据表示方式。我们设计了交互技术和
动画转换技术来提高响应和动态性效果，但是我们不想过度滥用这
种文体特征。
我们希望增强而不是骚扰数据探索。我们不断改变动画形式和计时
方式，直到设计上“感觉良好”。持续1秒钟的动画提供了不需要放
慢分析的过程，观看者就可以跟上的视觉转换过程。
可视化设计
首先通过参与自己的数据探索，我们可以确定自己最感兴趣的数据
维度。为了设计一组人口统计数据的可视化解决方案，我们把这些
观察应用到设计考虑中。
工作向导
“工作向导"(JbVoyager)是一个堆栈图，显示了美国在过去150年间
（见图12-4）的劳动力的组成部分。每条序列曲线表示一种职业，
通过性别进一步细分：蓝色代表男性，粉色代表女性。用户可以通
过点击一条序列曲线，只显示其相应的职位，或者通过输入关键字
查询来过滤掉与查询不匹配的职位。我们还包含了下拉菜单，通过
性别进行过滤；在绝对人数计数和劳动力比例之间进行视图转换。
这些操作支持对聚集趋势（如第二次世界大战后涌入劳动力市场的
女性）和个人模式（如机动车工程师的盛衰）的探索。
1539
---
## Page 1541
图12-4：工作向导可视化：左图显示在过去150年间劳动力组成概
要视图，右图显示过滤后农民工的比例的视图（见彩图37）
们过滤了视图，仅仅显示男性或者女性，要区分不同的序列曲线变
得很困难。一个解决方案是通过任意方式改变色彩饱和度，使得感
官上能够区分不同的序列曲线。Martin提出了一种很有技巧的变换
方式：不是随意改变颜色，而是通过有意义的、数据驱动的方式来
实现。因此，我们根据每个职业的社会经济指数分值来改变其对应
的颜色饱和度。因此，平均收入越高的序列曲线，其颜色越深。在
实践中，这种编码方式工作良好，不需要为显示增加误导或者无意
义的视觉特征，而提高了不同职业的识别度。
出生地向导
“出生地向导"(BrthplaceVoyager)和工作向导的设计相似，但是它显
示的是每个人口统计年份的美国居民的出生地（见图12-5）。其记
录的出生地或者是美国某个州和地区或者是其他国家。交互式控件
可以通过查询关键字或不同大陆位置进行过滤，只显示绝对计数和
比率。
数据可视化支持对全世界（如过去来自欧洲的移民浪潮以及当前来
自拉丁美洲的移民浪潮）和美国国内（如每个州的居民的变化比
率）的移民趋势的探索。
1540
---
## Page 1542
图12-5：出生地向导可视化：左图显示在过去150年间出生地的分
布概要，右图显示过滤后欧洲移民的总数的视图（见彩图38）
在出生地向导中，我们遇到了和之前相似的着色问题。在这种情况
下，我们根据大陆位置来分配色彩，为美国的各个州增添一些额外
的色彩。然后，我们实验了改变色彩饱和度的不同方法，直到我们
可以使用在该州出生的人口总数或者所有时间片断的国家作为后备
数据。
美国人口统计的国家地图和散点图
虽然工作向导和出生地向导的时间线在设计上都是使观察者以历史
叙述的方式进行参与，但是我们希望能够包含更加传统的视图。我
们提供了一个着色的美国国家地图，显示每个州的人口统计变量的
分布。在2000～2005年（如图12-6的左图所示），在国家人口变化
的标注地图中，人们可以看到西南部地区人口得到显著增长，而
NorthDakota的人口却在不断下降。我们还提供了散点图的表示方式
来检测不同变量之间的潜在关联。用户可以把人口统计变量映射到
坐标轴的x坐标和y坐标，圆圈的面积表示整个美国。例如，人们可
能会注意到全国家庭收入和零售额之间的关联（如图12-6的右图所
示）。这些视图的备份数据包括我们从美国人口统计局网站上下载
的额外的统计数据。
人口金字塔
最复杂的可视化是交互式的人口金字塔，它是为了同时帮助探索多
个人口统计学变量而设计的（见图12-7）。人口金字塔（有时称之
为“年龄-性别"金字塔），是由同事介绍的关于人口统计学的一种图
形。金字塔被一条垂直曲线划分为两半：一条曲线表示男性，另一
条表示女性。y轴表示年龄，通常以5年或10年作为一组进行分组；
1541
---
## Page 1543
x轴表示某个年龄段的总人数，男性的人数值朝一个方向增长，而
女性的人数值朝相反方向增长（如图12-7的左图所示）。该金字塔
形状传递了人口动态信息：险峻的金字塔暗示了其死亡率比圆柱形
的更高。
O
图12-6：（左图）交互式国家地图显示每个州从2000～2005年的
人口变化，（右图）美国散点图显示了平均家庭收入（x轴）和零
售额（y轴），新罕布什尔州和特拉华州有最高的零售额（见彩图
39)
我们创建了一个交互式金字塔，除了年龄和性别，它还结合以下人
口统计变量：地理区域、种族、婚姻状态、学校出席率和收入水
平。该金字塔的两边默认通过性别来划分数据。我们放宽了这种限
制，增加了下拉菜单，通过该菜单，用户可以选择一个人口统计学
变量，把该变量对应的（xy）两个值映射到金字塔的两条边上。比
如，用户通过把美国西部海岸放到金字塔一边，而把新英格兰放在
另一边的方式来观察地理区域。
我们还引入了彩图编码菜单：选择一个人口统计变量把金字塔的两
条边转换为描述变量值的流行率(pevalence)的堆栈图。例如，用户
可以以学校出勤率进行统计，用于查看学校人口出勤率分段情况
（如图12-7的右图所示）。我们为每个变量选择一个与众不同的彩
板，只要可能就依赖于已有的文化约定（如蓝色=男性，粉色=女
性），使用在线工具ColorBrewer(http：//colorbrewer.org)来确定其
他情况的颜色选择。我们使用灰色带表示数据丢失或者未知值。
1542
---
## Page 1544
图12-7：人口金字塔可视化：（左图）2000年的每个年龄组的男
性和女性的总人口数量的比较，（右图）2000年学校出席人数的分
布（标注重点突出了成人教育的流行率）（见彩图40）金字塔下方
的时间线使得可以在整个人口统计期间进行时间探索，而回放特征
使金字塔可以随时间动态变化。举个例子，随着时间对人口变化的
动画显示显著突出了战后期间
社会出现的婴儿高潮。由于多层次色彩和泡沫式动画的结合，用户
亲切地把我们的人口金字塔重命名为"GeorgiaOKeefe的熔岩灯"(lva
lamp)。
最后，我们支持四种尺度来衡量数据：人口总数、10年内人口比
率、（金字塔）图面内(pnel)比率（当金字塔两边不协调时有用）
和年龄组比率（为了探索不同年龄间的比率区别）。我们发现每
种衡量尺度都有助于揭示某些特定的故事。例如，年龄组比率显示
说明了年纪大的男人比年纪大的女人更容易结婚，推测原因是女人
平均活得更长，因而成为了寡妇。
实现细节
我们把每一种可视化作为JavaApplet(Java应用小程序）实现，这样
我们可以把它嵌入到Web页面。选择Java而不是Flash，一部分是由
于性能原因，但更重要的是当时有现成的Java可视化框架。堆栈图
和人口金字塔是通过开源工具包Prefuse(http：//prefuse.org)构建的。
每一种可视化是通过从人口统计数据库中抽取出来的纯文本文件来
支持的。对于人口金字塔，我们为每种可能的人口统计变量组合生
成了一个文件，预计算数据的所有相关投影。这种方式避免了在服
务器端处理数据的需求，生成方便管理的存储历史：虽然刚开始数
据库包含3GB多的数据，在最后部署时数据减少到仅仅稍多于
3MB！当然，这种方法确实存在其局限性：它阻碍了用户探索新的
1543
---
## Page 1545
人口统计变量组合，并且使得要求服务器端处理数据的可视化变得
复杂。
协作
因而，我们创建了sense.us网站，它通过协作分析机制对可视化进行
耦合（见图12-8）。左图是可视化Applet（见图12-8中的a）和标注
工具（见图12-8中的b）。右图提供了图形化的书签线索（见图12-8
中的c），提供了用户保存的访问路径以及显示和当前视图相关评
论的讨论区域（见图12-8中的d和e）。我们通过一组协作特征来增
强可视化，这一点在后面会详细描述：视图分享、双向链接讨论、
图形化标注、书签线索和以评论列表和用户行为个人档案生成的社
会导航。
视图分享
当围绕可视化协作时，我们认为参与者看到的必须是相同的视觉环
境，才能够为其他人的行为和评论打下基础。为此，sense.us提供了
对视图添加书签的机制。我们试着通过把应用绑定到传统的Web书
签上，使它透明化。浏览器地址栏总是显示链接到可视化的当前状
态的一条URL，该URL由一组过滤、导航和视觉编码等参数进行定
义。随着可视化视图的变化，URL也随之更新来显示当前状态（见
图12-8中的f）；用户可以在任意时刻剪切、粘贴一条链接到当前视
图，因而简化了通过Email、博客或者即时通信来共享视图的过程。
为了遵循用户期望，把浏览器的前进和后退按钮绑定到可视化状
态，这种方式可以很方便地导航到过去浏览的视图。
1544
---
## Page 1546