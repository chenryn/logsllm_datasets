---
author: Daniel J Walsh
category: 系统运维
comments_data:
- date: '2017-01-22 09:41:12'
  message: 不要上黄网
  postip: 117.82.229.227
  username: hrj294055233 [Firefox 50.0|Ubuntu]
- date: '2017-01-22 10:55:41'
  message: '1024'
  postip: 111.203.45.2
  username: 噪音未来 [Chrome 55.0|Windows 7]
- date: '2017-01-22 19:53:46'
  message: "我们说1024时，它是一个进率\r\n而你却把它说成是 黄网……"
  postip: 39.168.194.140
  username: kashu [Chromium 66.0|Xubuntu 14.04]
count:
  commentnum: 3
  favtimes: 3
  likes: 0
  sharetimes: 0
  viewnum: 11481
date: '2017-01-21 20:33:00'
editorchoice: true
excerpt: 当我还是小孩子，耳畔萦绕着 Paul Simon 的流行歌“与爱人分手的 50 法”。当我渐渐地长大，突然受歌的启发，收集了 50 种方法，免得你——门内汉和门外汉——遭受黑客侵袭啊
fromurl: https://opensource.com/article/17/1/yearbook-50-ways-avoid-getting-hacked
id: 8135
islctt: true
largepic: /data/attachment/album/201701/21/203331iwcp27dtbb7wdhn7.jpg
permalink: /article-8135-1.html
pic: /data/attachment/album/201701/21/203331iwcp27dtbb7wdhn7.jpg.thumb.jpg
related:
- displayorder: 0
  raid: 8338
reviewer: ''
selector: ''
summary: 当我还是小孩子，耳畔萦绕着 Paul Simon 的流行歌“与爱人分手的 50 法”。当我渐渐地长大，突然受歌的启发，收集了 50 种方法，免得你——门内汉和门外汉——遭受黑客侵袭啊
tags:
- 安全
thumb: false
title: 50 种系统免遭黑客侵袭的方法 [2017 年版]
titlepic: true
translator: GOLinux
updated: '2017-01-21 20:33:00'
---
> 
> Paul Simon 概括了“与爱人分手的 50 法”，而这里，我们提供了提高系统安全性的 50 种方法。
> 
> 
> 
![](/data/attachment/album/201701/21/203331iwcp27dtbb7wdhn7.jpg)
当我还是小孩子，耳畔萦绕着 Paul Simon 的流行歌“[与爱人分手的 50 法](https://www.youtube.com/watch?v=0H5chfbcWtY)”。当我渐渐地长大，突然受歌的启发，收集了 50 种方法，免得你——门内汉和门外汉——遭受黑客侵袭啊：
### “你刚刚从后头溜出去了，杰克”
1、 备份你的数据。如果你不幸被勒索软件光顾，那么你就不用支付赎金，因为你做了备份。
2、 当你需要在公共场所为你的手机充电，那就使用 [sysncstop](http://syncstop.com/)吧，或者你也可以用你的备份电池。（LCTT 译注：sysncstop 是一种可以在公共场所安全充电的 USB 设备。在公共场所充电的风险，你知道的。）
3、 利用好你的审计系统，里头有好多很酷的工具可以帮助你监控系统。如果你确实遭到了入侵，那么审计系统也许就可以告诉你发生了什么，以及攻击者做了些什么。
4、 说到日志，把日志定向到集中式服务器上总是一个不错的想法，因为如果某个黑客侵入你的系统里，他首先要攻击的就是日志系统以便隐藏他的踪迹。构建一个好的入侵检测系统来监控日志，这对于防范黑客也很有帮助。
### “做份新的计划吧，斯坦”
5、 以强制模式运行 SELinux（见 [StopDisablingSelinux.com](http://stopdisablingselinux.com/)）。不要觉得我现在还在喋喋不休地说这个可笑。SELinux 可以防止 0day 漏洞的影响。当[破壳](http://danwalsh.livejournal.com/71122.html)漏洞出现的时候，SELinux 曾是唯一的防护手段。
6、 如果可能，在 [SELinux 沙盒](http://danwalsh.livejournal.com/31146.html)中运行应用程序吧——在容器火遍全球前，它就已经是容器了。同时，请关注 [Flatpack](http://flatpak.org/) 开发，这个工具很快会开发沙盒功能。
7、 不要安装或者使用 Flash。Firefox 不再支持它了，同时也希望大多数 web 服务器正在远离它。
8、 使用[受约束的 SELinux 用户](http://danwalsh.livejournal.com/37404.html)来控制用户在你的系统中所能做的事。如果你正运行着一台共享登录的系统，设置用户为 `guest_t`。
### “你不必害羞，罗伊”
9、 利用 [systemd 工具的能力](http://0pointer.de/blog/projects/security.html)来帮助你提升系统安全。大多数系统攻击是通过那些监听着网络的服务来实现的，而 Systemd 提供了一些很棒的方法来锁定服务。例如，使用 [PrivateTmp=yes](http://danwalsh.livejournal.com/51459.html) 。Privatemp 利用挂载命名空间来为服务器的 `/tmp` 设置一个私有的 **tmpfs** 挂载，这可以阻止被入侵的服务访问到主机 `/tmp` 中的内容，以及针对系统中基于监听 `/tmp` 的服务的潜在攻击。
10、 `InaccessibleDirectories=/home` 是一个 systemd 单元的选项，它使用挂载命名空间的方式使从服务的角度看不到 `/home` 目录（或者其它任何目录），这会使得被入侵的服务攻击到数据更为困难。
11、 `ReadOnlyDirectories=/var` 是另外一个 systemd 单元的选项，它使用挂载命名空间的方式来将目录内容变成只读模式。基本上你总是可以让 `/usr` 运行在**只读模式**。这可以阻止一个被入侵的应用程序重写二进制文件，因为那可以在下次服务重启时，该服务依旧是被入侵的。
12、 降低服务权限（`CapabilityBoundingSet=CAP_CHOWN CAP_KILL`）。在内核中，特权服务被分解成一些列不同的权限。大多数服务不需要很多权限（如果需要一些的话），而 systemd 提供了一个简单的开关来从服务中剥离这些权限。
13、 如果服务不使用网络，那么你可以使用 `PrivateNetwork=yes` 来为该服务关闭网络功能。只需在服务的单元文件中开启该选项，就可以享受它带来的好处，关闭服务所有可用的网络。黑客常常并不是真的想破坏你的机器——他只是想用它作为攻击服务器来攻击其它机器。如果服务连不上网络，那么就不会受到攻击。
14、 控制服务可用的设备。 Systemd 提供了 `DeviceAllow` 配置，它控制了该服务可用的设备。`DeviceAllow=/dev/null rw` 将访问限制为 `/dev/null`，且仅可访问该设备节点，不允许对其它任何设备节点的访问。该功能实现于设备的 cgroup 控制器顶端。
15、 Systemd 系统即将迎来的一个新功能是 [`ProtectSystem Strict`](https://www.phoronix.com/scan.php?page=news_item&px=systemd-New-Protect-Tunables)，该功能可以开启所有这些命名空间以完全锁定服务运行的环境。
### “刚刚重获自由”
16、 不要使用没有运行着 SELinux（[SEAndroid](https://source.android.com/security/selinux/)）强制模式的手机。幸运的是，我听说目前超过 90% 的安卓手机都运行着 SEAndroid 的强制模式，这真让我高兴。现在要是我们能让那些果粉们使用 SELinux 就好了。
17、 只从受信源安装软件。不要安装你从因特网找来的危险东西，对于你的手机、计算机系统、虚拟机以及容器等等也一样。
18、 我不会在我的手机上进行网上银行操作——我只在我的 Linux 计算机上做这事儿。如果黑客偷了我的信用卡，也许我就丢了那么 50 美元；而如果他黑进我的银行账户，那我丢的钱就会更多。我想我是个老古板。（“滚出我的地盘。”——那些老古板都会这样说。）
19、 我用我手机做的一件很酷的事情，就是设置让我的信用卡公司每次在我的信用卡消费时给我发送短信。那样的话，如果账号被盗，我会更快地知道。
20、 当你需要安全地通讯，请使用 [Signal 安全信息应用](https://whispersystems.org/)。
### “搭个便车，格斯”