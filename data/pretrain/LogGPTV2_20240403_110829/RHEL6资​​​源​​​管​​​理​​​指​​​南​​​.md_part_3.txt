cgroup 的​​​成​​​员​​​关​​​系​​​，但​​​之​​​后​​​可​​​更​​​改​​​或​​​者​​​删​​​除​​​那​​​些​​​成​​​员​​​关​​​系​​​。​​​*]{.emphasis}
:::
:::
::: section
::: titlepage
# [⁠]{#ch01.html#sec-Implications_for_Resource_Management}1.3. 资​​​源​​​管​​​理​​​实​​​施​​​ {.title}
:::
::: para
:::
::: {.itemizedlist xmlns:d="http://docbook.org/ns/docbook"}
-   ::: para
    因​​​为​​​某​​​个​​​任​​​务​​​可​​​属​​​于​​​任​​​一​​​层​​​级​​​中​​​的​​​单​​​一​​​
    cgroup，所​​​以​​​只​​​有​​​一​​​个​​​方​​​法​​​可​​​让​​​单​​​一​​​子​​​系​​​统​​​限​​​制​​​或​​​者​​​影​​​响​​​任​​​务​​​。​​​这​​​是​​​合​​​理​​​的​​​：是​​​一​​​个​​​功​​​能​​​，而​​​不​​​是​​​限​​​制​​​。​​​
    :::
-   ::: para
    您​​​可​​​以​​​将​​​几​​​个​​​子​​​系​​​统​​​分​​​组​​​在​​​一​​​起​​​以​​​便​​​它​​​们​​​可​​​影​​​响​​​单​​​一​​​层​​​级​​​中​​​的​​​所​​​有​​​任​​​务​​​。​​​因​​​为​​​该​​​层​​​级​​​中​​​的​​​
    cgroup 有​​​不​​​同​​​的​​​参​​​数​​​设​​​定​​​，因​​​此​​​会​​​对​​​那​​​些​​​任​​​务​​​产​​​生​​​不​​​同​​​的​​​影​​​响​​​。​​​
    :::
-   ::: para
    有​​​时​​​可​​​能​​​需​​​要​​​*重​​​构​​​*层​​​级​​​。​​​例​​​如​​​：从​​​附​​​加​​​了​​​几​​​个​​​子​​​系​​​统​​​的​​​层​​​级​​​中​​​删​​​除​​​一​​​个​​​子​​​系​​​统​​​，并​​​将​​​其​​​附​​​加​​​到​​​不​​​同​​​的​​​层​​​级​​​中​​​。​​​
    :::
-   ::: para
    反​​​正​​​，如​​​果​​​从​​​不​​​同​​​层​​​级​​​中​​​分​​​离​​​子​​​系​​​统​​​的​​​需​​​求​​​降​​​低​​​，则​​​您​​​可​​​以​​​删​​​除​​​层​​​级​​​并​​​将​​​其​​​子​​​系​​​统​​​附​​​加​​​到​​​现​​​有​​​层​​​级​​​中​​​。​​​
    :::
-   ::: para
    这​​​个​​​设​​​计​​​允​​​许​​​简​​​单​​​的​​​ cgroup
    使​​​用​​​，比​​​如​​​为​​​单​​​一​​​层​​​级​​​中​​​的​​​具​​​体​​​任​​​务​​​设​​​定​​​几​​​个​​​参​​​数​​​，单​​​一​​​层​​​级​​​可​​​以​​​是​​​只​​​附​​​加​​​了​​​
    cpu 和​​​ memeory 子​​​系​​​统​​​的​​​层​​​级​​​。​​​
    :::
-   ::: para
    这​​​个​​​设​​​计​​​还​​​允​​​许​​​高​​​精​​​度​​​配​​​置​​​：系​​​统​​​中​​​的​​​每​​​个​​​任​​​务​​​（进​​​程​​​）都​​​可​​​以​​​是​​​每​​​个​​​层​​​级​​​的​​​成​​​员​​​，每​​​个​​​层​​​级​​​都​​​有​​​单​​​一​​​附​​​加​​​的​​​子​​​系​​​统​​​。​​​这​​​样​​​的​​​配​​​置​​​可​​​让​​​系​​​统​​​管​​​理​​​员​​​绝​​​对​​​控​​​制​​​每​​​个​​​单​​​一​​​任​​​务​​​的​​​所​​​有​​​参​​​数​​​。​​​
    :::
:::
:::
::: footnotes
\
------------------------------------------------------------------------
::: {#ch01.html#ftn.idm140538568534608 .footnote}
::: para
[^\[1\]^](#ch01.html#idm140538568534608){.para}
父​​​进​​​程​​​可​​​在​​​将​​​环​​​境​​​传​​​递​​​给​​​子​​​进​​​程​​​前​​​更​​​改​​​它​​​。​​​
:::
:::
::: {#ch01.html#ftn.footnote-subsystems_are_also_known_as_controllers .footnote}
::: para
[^\[2\]^](#ch01.html#footnote-subsystems_are_also_known_as_controllers){.para}
您​​​应​​​该​​​了​​​解​​​在​​​ [libcgroup]{.package} man page
和​​​其​​​它​​​文​​​档​​​中​​​，子​​​系​​​统​​​也​​​称​​​*资​​​源​​​控​​​制​​​器​​​*，或​​​者​​​*控​​​制​​​器​​​*。​​​
:::
:::
:::
:::
[]{#ch-Using_Control_Groups.html}
::: chapter
::: titlepage
# [⁠]{#ch-Using_Control_Groups.html#ch-Using_Control_Groups}第 2 章 使​​​用​​​控​​​制​​​组​​​群​​​ {.title}
:::
::: para
使​​​用​​​ cgroup 的​​​最​​​简​​​单​​​的​​​方​​​法​​​是​​​安​​​装​​​ [libcgroup]{.package}
软​​​件​​​包​​​，该​​​软​​​件​​​包​​​包​​​含​​​大​​​量​​​与​​​ cgroup 有​​​关​​​的​​​命​​​令​​​行​​​工​​​具​​​及​​​其​​​相​​​关​​​ man
page。​​​您​​​可​​​以​​​使​​​用​​​ shell 命​​​令​​​和​​​可​​​在​​​任​​​意​​​系​​​统​​​中​​​使​​​用​​​的​​​工​​​具​​​挂​​​载​​​*层​​​级​​​*并​​​设​​​定​​​
cgroup 参​​​数​​​（不​​​保​​​留​​​）。​​​但​​​是​​​，使​​​用​​​ [libcgroup]{.package}
提​​​供​​​的​​​工​​​具​​​可​​​简​​​化​​​过​​​程​​​并​​​扩​​​展​​​功​​​能​​​。​​​因​​​此​​​，本​​​指​​​南​​​着​​​重​​​全​​​面​​​介​​​绍​​​
[libcgroup]{.package} 命​​​令​​​。​​​在​​​大​​​多​​​数​​​情​​​况​​​下​​​，我​​​们​​​会​​​将​​​对​​​等​​​的​​​ shell
命​​​令​​​包​​​括​​​在​​​内​​​以​​​便​​​清​​​楚​​​阐​​​述​​​基​​​础​​​机​​​理​​​。​​​我​​​们​​​建​​​议​​​您​​​在​​​可​​​行​​​的​​​情​​​况​​​下​​​尽​​​量​​​使​​​用​​​
[libcgroup]{.package} 命​​​令​​​。​​​
:::
::: {.note xmlns:d="http://docbook.org/ns/docbook"}
::: admonition_header
**备​​​注​​​：安​​​装​​​ libcgroup 软​​​件​​​包​​​**
:::
::: admonition
::: para
要​​​使​​​用​​​ cgroup，首​​​先​​​请​​​确​​​定​​​在​​​您​​​的​​​系​​​统​​​中​​​安​​​装​​​ libcgroup 软​​​件​​​包​​​，方​​​法​​​为​​​作​​​为​​​
root 运​​​行​​​：
:::
``` screen
~]# yum install libcgroup
```
:::
:::
::: section
::: titlepage
# [⁠]{#ch-Using_Control_Groups.html#The_cgconfig_Service}2.1. cgconfig 服​​​务​​​ {.title}
:::
::: para
由​​​ [libcgroup]{.package} 软​​​件​​​包​​​安​​​装​​​的​​​ `cgconfig`{.systemitem}
服​​​务​​​可​​​提​​​供​​​创​​​建​​​层​​​级​​​的​​​方​​​便​​​方​​​法​​​，并​​​在​​​层​​​级​​​中​​​附​​​加​​​子​​​系​​​统​​​，且​​​在​​​那​​​些​​​层​​​级​​​中​​​管​​​理​​​
cgroup。​​​我​​​们​​​建​​​议​​​您​​​使​​​用​​​ [**cgconfig**]{.application}
在​​​您​​​的​​​系​​​统​​​中​​​管​​​理​​​层​​​级​​​和​​​ cgroup。​​​
:::
::: para
红​​​帽​​​企​​​业​​​版​​​ Linux  6 不​​​默​​​认​​​启​​​动​​​ `cgconfig`{.systemitem} 服​​​务​​​。​​​当​​​使​​​用​​​
`chkconfig`{.command} 启​​​动​​​该​​​服​​​务​​​时​​​，它​​​读​​​取​​​ cgroup 配​​​置​​​文​​​件​​​ \--
`/etc/cgconfig.conf`{.filename}。​​​Cgroup
因​​​此​​​会​​​在​​​不​​​同​​​会​​​话​​​间​​​重​​​新​​​创​​​建​​​并​​​保​​​留​​​。​​​根​​​据​​​配​​​置​​​文​​​件​​​的​​​内​​​容​​​，[**cgconfig**]{.application}
可​​​创​​​建​​​层​​​级​​​、​​​挂​​​载​​​所​​​需​​​文​​​件​​​系​​​统​​​、​​​创​​​建​​​ cgroup 以​​​及​​​为​​​每​​​个​​​组​​​群​​​设​​​定​​​子​​​系​​​统​​​参​​​数​​​。​​​
:::
::: para
[libcgroup]{.package} 软​​​件​​​包​​​默​​​认​​​安​​​装​​​的​​​ `/etc/cgconfig.conf`{.filename}
文​​​件​​​为​​​每​​​个​​​子​​​系​​​统​​​创​​​建​​​并​​​挂​​​载​​​独​​​立​​​层​​​级​​​，并​​​在​​​这​​​些​​​层​​​级​​​中​​​附​​​加​​​子​​​系​​​统​​​。​​​
:::
::: para
如​​​果​​​您​​​停​​​止​​​ `cgconfig`{.systemitem} 服​​​务​​​（使​​​用​​​
`service cgconfig stop`{.command} 命​​​令​​​），则​​​会​​​卸​​​载​​​它​​​挂​​​载​​​的​​​所​​​有​​​层​​​级​​​。​​​
:::
::: section
::: titlepage
## [⁠]{#ch-Using_Control_Groups.html#The_cgconfig.conf_File}2.1.1. cgconfig.conf 文​​​件​​​ {.title}
:::
::: para
`cgconfig.conf`{.filename} 文​​​件​​​包​​​含​​​两​​​个​​​主​​​要​​​类​​​型​​​的​​​条​​​目​​​ \-- *mount* 和​​​
*group*。​​​挂​​​载​​​条​​​目​​​生​​​成​​​并​​​挂​​​载​​​层​​​级​​​并​​​将​​​其​​​作​​​为​​​虚​​​拟​​​文​​​件​​​系​​​统​​​，同​​​时​​​将​​​子​​​系​​​统​​​附​​​加​​​到​​​那​​​些​​​层​​​级​​​中​​​。​​​挂​​​载​​​条​​​目​​​使​​​用​​​以​​​下​​​语​​​法​​​定​​​义​​​：
:::
``` programlisting
mount {
     = ;
    …
}
```
::: para
示​​​例​​​用​​​法​​​请​​​参​​​考​​​ [例 2.1
"创​​​建​​​挂​​​载​​​条​​​目​​​"](#ch-Using_Control_Groups.html#example-mount-entry){.xref}。​​​
:::
::: example
[⁠]{#ch-Using_Control_Groups.html#example-mount-entry}
**例 2.1. 创​​​建​​​挂​​​载​​​条​​​目​​​**
::: example-contents
::: para
以​​​下​​​示​​​例​​​为​​​ `cpuset`{.systemitem} 子​​​系​​​统​​​创​​​建​​​层​​​级​​​：
:::
``` programlisting
mount {
    cpuset = /cgroup/cpu;
}
```
::: para
对​​​等​​​的​​​ shell 命​​​令​​​：
:::
``` screen
~]# mkdir /cgroup/cpu
~]# mount -t cgroup -o cpu cpu /cgroup/cpu
```
:::
:::
::: para
组​​​群​​​条​​​目​​​创​​​建​​​ cgroup 并​​​设​​​定​​​子​​​系​​​统​​​参​​​数​​​。​​​组​​​群​​​条​​​目​​​使​​​用​​​以​​​下​​​语​​​法​​​定​​​义​​​：
:::
``` programlisting
group  {
    []
     {
         = ;
        …