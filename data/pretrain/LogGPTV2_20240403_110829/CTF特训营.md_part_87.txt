CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1082/1144
SPTool:startup.spt
口
File
Edit
Window
Help
Signals
Filters
Spectra
mtlb[vector]
LSIp[design]
mtibse[auto]
chirp[vector]
PZip[imported]
chirpse[auto]
train[vector]
FIRbp[design]
trainse[auto]
View
View
View
New
Create
Edit
Update
Apply
图29-5sptool界面
由图29-5可以看出，工具箱的主要功能分为三栏，左边为我们待
处理的时域信号，中间是滤波器，最右边是各种频谱工具。在大多数
情况下，我们只会用到左边和中间两栏的功能。在使用前，我们首先
需要将待处理的信号导入工具箱中。这里以ASK信号为例，依次选择
---
## Page 1083
CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1083/1144
File→lmport导入我们希望处理的信号波形，如图29-6所示。
Import to SPTool
Source
Workspace Contents
Import As:
Signal
OFromWorkspace
OFromDisk
fs
MAT-file Name
Data
Browse.
SampingFrequency
Name
OK
Cancel
Help
sig1
图29-6导入信号界面
在导入信号之前，需要先将原始信号加入Workspace，加入方法
这里不再赘述，可以直接使用uIOpen功能导入。选中信号x，单击右
侧的箭头，表示将x信号导入sptool，Name可随意，默认为sig1，完
成后点击OK按钮即可。接下来，信号sig1就出现在sptool的信号窗口
中了，如图29-7所示。
---
## Page 1084
CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1084/1144
SPTool:startup.spt
口
File
Edit
Window
Help
Signals
Filters
Spectra
mtlb[vector]
LSIp[design]
mtlbse[auto]
chirp[vector]
PZip[imported]
chirpse[auto]
train[vector]
FIRbp[design]
trainse[auto]
sig1[vector]
View
View
View
New
Create
Edit
Update
Apply
图29-7导入信号后的界面
单击Signals区域底部的View按钮，可以画出信号的原始波形
如图29-8所示。
接下来，我们进行最关键的步骤一滤波器的设计。单击Filters
区域底部的New按钮，打开滤波器设计窗口，如图29-9所示。
---
## Page 1085
CTF特训营：技术详解、解题方法与
29.3Matlab在数字倍号处理中的应用
1085/1144
以设计低通滤波器为例，在左下方的ResponseType中选择
Lowpass，其他选项保持默认设置即可，关键在于Frequency
Specifications这个区域。Fs意为采样频率，这里可以随意给出一个值
比如10oo，那么下方的Fpass和Fstop就需要我们通过Fs来计算了。
我们看一下时域的波形，可以发现，波形的基本宽度为64个点的整
数倍，如果采样率为1000的话，那么我们需要解调出方波波形的原
始频率应该为64个点对应一个波形，那么1000个点对应的就是
15.625个周期，而1000个点是每秒采样的点数，所以在假设采样率为
1000时，可以推测出此时原信号频率为15.625Hz（注意，这个频率
并非真实频率，而是我们通过Fs的假设后，用于计算参数的频率）。
比如，我们的目标是保留原信号，滤掉原信号每个周期中的高频抖动
那么这里就设Fpass=16，Fstop=48（一般取Fstop=3Fpass，这是一
个经验做法，如果效果不佳，则可以继续调整）。填完后单击Design
Filter，滤波器就设计完毕了，如图29-10所示。
---
## Page 1086
CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1086/1144
八
Signal Bro
口
File
Markers
Window Help
二
sig1（1735680x1real,Fs=1)
12
0.5
-0.5
8.67
8.672
8.674
9/98
8.678
8.68
8.682
8.684
9898
Time
10
Marker1x578560
Marker 2x1157119
dx: 578559
y:0.012542725
y:Q.018188477
dy:0.005645752
图29-8预览时序波形界面
---
## Page 1087
CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1087/1144
Fiter Design &t Analysis Tool - (fit1)
口
FileEdit Analysis Targets
Current Fiterint
Mag.(dB)
Drder
Structure:
Drect-FormFR
Yes
50
Stable
Designed
pass
Fs/2
(Hz)
Filer Order
Lowps
lagniude Specific
Specifyorder:10
Units:
Hz
Jnits:
dB
Highpass
Bandpass
Fs:
48000
pass
1
Bandstop
Fpass:
9600
O
Differentiator
Density Factor
20
80
Design Method
Fstop:
12000
事
OIR
Buterworh
FR
Equirippie
Design Fiter
Ready
图29-9
滤波器设计界面
---
## Page 1088
CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1088/1144
Fiter Design & Analysis Tool - (5ilt1)
FleEdit AnalysisTargets
View Window Help
Direct-Form FR
Designed
150
Frequency (Hz)
250
se Type
Fiter Order
cySpecificat
lagnitude Spec
Lowpass
Specity order:10
Units:
Hz
nts:
dB
Highpass
arder
Fs:
1000
O Bandpass
Ban
Fpass:
31.25
O
Dirferentiato
DensityFactor.
20
Fstop:
312.5
Design Method
OIR
Butterworth
V
gFilter...Done
图29-10滤波器设计完毕后的效果
完成后关闭窗口，此时，sptool的Filters区域就出现了我们刚才
设计的filt1滤波器，如图29-11所示。
最后一步，应用滤波器，在Signals区域选中sig1，在Filters区域
选中filt1，然后点击Apply按钮，会弹出ApplyFilter窗口，如图29-12所
---
## Page 1089
CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1089/1144
示。
SPTool:startup.spt
口
×
File
Edit
Window
Help
Signals
Filters
Spectra
mtlb [vector]
LSIp[design]
mtibse[auto]
chirp[vector]
PZip[imported]
chirpse[auto]
train[vector]
FIRbp[design]
trainse[auto]
sig1[vector]
fit1[design]
√
View
View
View
New
Create
Edit
Update
Apply
图29-11
滤波器保存后的效果
---
## Page 1090
CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1090/1144
ApplyFilter
口
X
Input Signal
sig1
Filter
fit1
AlgorithmDirect-FormFIR
OutputSigna
sig2
OK
Cancel
图29-12
滤波器使用界面
其他参数不变，OutputSignal的名称可以自己选择，这里使用默
认设置，单击Ok按钮，此时在Signals区域就会出现一个新的sig2信
号，效果如图29-13所示。
---
## Page 1091
CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1091/1144
Signal Browse
File
Markers WindowHelp
口?
sig2(1735680x1real,Fs=1)
0.08
12
900
0.04
0.02
-0.02
-0.04
-0.06
8.675
8.676
8.677
8.678
8.679
8.68
8.681
8.682
Time
x10
Marker1x578560
Marker 2 x:1157119
dx: 578559
y:0.0071916331
y:0.0055658175
dy:-0.0016258156
图29-13滤波器应用之后的信号时序图
可以看到，时序图中现在就只剩下低频信号了。最后一步，如果
需要在后面的计算中使用该信号，则可以使用File一Export功能，如
图29-14所示。
---
## Page 1092
CTF特训营：技术详解、解题方法与
29.3Matlab在数字信号处理中的应用
1092/1144