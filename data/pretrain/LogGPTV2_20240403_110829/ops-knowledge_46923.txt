User: 请解答这个和日志有关的问题Security impact of using a public password for free WiFi We have a WiFi network that we want to be public and free.

Does having a password that is known to everyone provide any additional security advantage to the people using this network as opposed to just leaving it without a password? i.e. Can a hacker do more damage on a WiFi network that has no password than he can on a network that does have a password that the hacker knows?

Assistant: After some discussion with @epeleg in chat, I think I may have a more thorough and (hopefully) clear answer.



TL;DR: The protection afforded to a Wi-Fi network by encryption with a PSK is directly proportional to the complexity of the PSK, and the effort taken to safeguard that PSK.  For any environment, this requires striking a careful balance between security and usability.


Lowest Security/Easiest Usability: No encryption.
Highest Security/Hardest Usability: WPA2-AES, high-complexity PSK, MAC address filtering, Wireless Intrusion Detection/Prevention System.  Require user &amp; device registration for access to PSK and addition to the MAC filter.


If you intend to provide free WiFi as a service to the community, the balance is probably somewhere in between these - and likely leans toward the former solution.  However, even the latter of the above options is very doable if you are willing to put in the effort.

Still, protecting a "free WiFi" network by any means doesn't so much prevent attacks outright as it does make them more difficult.



Encrypting network traffic on the WiFi connection is always more secure than sending the traffic in the clear.  While not impossible, it is very difficult and time-consuming for an outsider to translate WPA2-encrypted traffic into cleartext.  However, most encrypted SOHO and "Free WiFi" networks must rely on a passcode, or Pre-Shared Key (PSK) to protect the encryption mechanism.

The amount of protection offered by implementing a password in any system will always vary in direct proportion to the password complexity, and the effort taken to protect that password.  Wireless networks are no exception.

To try to simply express how this relates to your "Free WiFi" situation, I'll give a few possible configuration scenarios and the benefits/drawbacks of each:


Scenario:  Your network is left fully unsecured.  Anyone within range of the AP can just hop on and enjoy the free WiFi.


Benefit:  This is the easiest for anyone to use and requires practically no administrative overhead.
Drawbacks:  This is the most vulnerable network of all.  All traffic that does not otherwise use an encryption protocol (such as HTTPS) will be sent in the clear.  This network is easy to sniff, spoof, and otherwise manipulate to the benefit of even very inexperienced attackers.

Scenario:  Your network is protected with a strong PSK, using WPA2 for authentication and encryption.  You have posted the SSID and PSK in a publicly viewable location.


Benefits:  The data on your wireless network is encrypted, and nobody can read the data or connect to your wireless network without the PSK.  This network is also fairly easy for the end-user to join, and requires little to no administrative overhead.
Drawbacks:  Having the PSK publicly accessible in this manner makes it trivial for anyone within range of the network to just grab it and hop on.  Attackers will not likely be much deterred by this method.

Scenario:  Your network is protected with a strong PSK, using WPA2 for authentication and encryption.  You have posted advertisement of the Free WiFi service in a publicly viewable location, which includes contact information for potential users to obtain the password.


Benefits:  The data on your wireless network is encrypted, and nobody can read the data or connect to your wireless network without the PSK.  With this method, you have personal contact to one degree or another with every user - this helps to somewhat disenchant them of their sense of anonymity on your network.  This may help deter some would-be attackers who would rather move on to a less secure network, than go to the trouble of contacting someone for your PSK.
Drawbacks:  This requires that someone is available within a reasonable amount of time (include the timeframe in your advertisement) either via phone or e-mail to give users login credentials.  Users may also circumvent this measure by simply passing the PSK peer-to-peer.

Scenario:  Your network is protected with a strong PSK, using WPA2 for authentication and encryption.  You have posted advertisement of the Free WiFi service in a publicly viewable location, which includes contact information for potential users to request access.  You have also implemented a user and device registration process which includes an Acceptable Use Policy, contact information for registered users, and MAC addresses for all devices.  You have also implemented MAC address filtering on the AP, and monitoring/logging services on the network.


Benefits:  The data on your wireless network is encrypted, and nobody can read the data on your wireless network without the PSK.  Nobody can connect to the wireless network without both the PSK and a registered MAC address.  With this method, you have the ability to see if/when your network is being inappropriately used and by whom.  You also now have an agreement in place which informs your users that inappropriate use will not be tolerated, and which may absolve you of some legal responsibility if such use occurs.*  Potential attackers would much rather find an easier victim than go through such a thorough process, especially when they read the clause of the AUP that mentions monitoring is in use.  Users will not easily be able to circumvent the device registration by simply passing along the PSK.  You can also revoke a user's access if necessary, by de-registering their MAC address(es) and/or changing to (and distributing via registered user contact info) a new PSK.
Drawbacks:  Of all these scenarios, this requires the most administrative work.  This will require that someone is available within a reasonable timeframe to perform the complete user registration process - gathering personal information, gathering device information (helping users who don't know how - and most probably won't), archiving the paperwork, and registering new devices with the network.  To be fully effective, it will also require that the logs be checked on a regular basis for suspicious activity and/or having some form of IDS/IPS in place.  Attackers who obtain the PSK will easily be able to spoof the MAC addresses of other registered devices to either bypass the device filter, or pose as that device's user on the network.



In all scenarios, there are a few things that should be kept in mind:


By providing unconditional Free WiFi, there is always the possibility that you may be allowing a malicious user onto your network regardless of what registration or PSK distribution process you put in place.
For all PSK-secured WiFi systems currently existing (WEP, WPA, WPA2) there are known attack vectors that allow an authenticated user to sniff the traffic of other users on the network as if it were in the clear.  (Provided, of course, that the traffic is not encrypted by other means such as HTTPS.)
Make sure the administration interfaces of all your network equipment are protected by strong, non-default passwords which are not similar to any PSKs you distribute.
Depending on your local jurisdiction, you may be held liable for the actions of those who use your WiFi network.*
Your contract with your ISP may not allow promiscuous sharing of your Internet connection.


Lastly, to address your final query:


  Can a hacker do more damage on a wifi network that has no password then he can on a network that does have a password that the hacker knows ?


When it comes to unconditionally Free WiFi networks, it's not so much a matter of how much damage the attacker can do as it is how easily he can do it.  I hope I've clearly addressed the latter, above.

*I am not a lawyer, and this is not legal advice.