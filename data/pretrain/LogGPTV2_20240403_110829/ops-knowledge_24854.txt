User: You need to configure a group of highly available Nginx load balancing servers to ensure that load distribution and request forwarding between servers work properly. Please provide an example Nginx configuration file.
Assistant: The following is a simple configuration example of a highly available Nginx load balancing server. # Set global configuration worker_processes 2; worker_rlimit_nofile 40000; pid /var/run/nginx.pid; # Set event model events { worker_connections 8000; multi_accept on; use epoll; } # Define http service http { # Set log access_log /var/log /nginx/access.log; error_log /var/log/nginx/error.log; # Define upstream server list upstream backend_servers { # Set load balancing algorithm and assign weight ip_hash; server backend1.example.com:8080 weight=5; server backend2.example.com:8080 weight=10; } # Configure specific http service server { # Listen port listen 80; # Define domain name or IP address server_name example.com; # Set reverse proxy backend server location / { proxy_pass http: //backend_servers; proxy_redirect off; # Set proxy cache proxy_cache cache_zone; proxy_cache_valid 200 1h; proxy_cache_valid 404 1m; proxy_cache_bypass $http_pragma; proxy_cache_revalidate on; add_header X-Cache-Status $upstream_cache_status; } }