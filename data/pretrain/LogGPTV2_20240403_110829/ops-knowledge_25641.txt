User: How to monitor CPU and memory usage with a Python script and trigger an alert when a certain threshold is reached?
Assistant: You can use Python's psutil library to monitor CPU and memory usage, and use the email or SMS API to trigger alerts. Here is a sample Python code that monitors CPU and memory usage and triggers an alert: ``` import psutil import smtplib from email.mime.text import MIMEText def check_usage(threshold): cpu_usage = psutil.cpu_percent(interval=1) mem_usage = psutil.virtual_memory().percent if cpu_usage > threshold or mem_usage > threshold: send_alert_email(cpu_usage, mem_usage) def send_alert_email(cpu_usage, mem_usage): from_email = 'your_email_address' to_email = 'alert_email_add ress' subject = 'High CPU or Memory Usage Alert' body = f'CPU usage: {cpu_usage}\nMemory usage: {mem_usage}' msg = MIMEText(body) msg['Subject'] = subject msg['From'] = from_email msg['To'] = to_email server = smtplib.SMTP('smtp.gmail.com', 587) server.starttls() server.login(from_email, 'your_email_password') server.sendmail(from_email, to_email, msg.as_string()) server.quit() while True : check_usage(80) # set threshold to 80% ``` This script will run in an endless loop, checking whether the CPU and memory usage exceeds the threshold each time, and if it exceeds, an alarm will be sent by email. Note that in order to use the email API, you need to provide your email address, password and recipient address in the code. You can also use the SMS API to send SMS alerts.