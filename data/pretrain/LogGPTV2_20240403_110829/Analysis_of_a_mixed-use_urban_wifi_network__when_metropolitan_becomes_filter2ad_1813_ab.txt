iPhones in particular, how-
ever, poll iphone-wu.apple.com, which is a CNAME for
wu.apple.com. Hence, if one considers the DNS responses des-
tined to an iPhone device polling for software updates, it will re-
ceive responses corresponding to both iphone-wu.apple.com
and wu.apple.com (either because the DNS server proactively
sent the A record of wu.apple.com, or the client subsequently
requested it). Other Apple devices, on the other hand, will only
receive an A record for wu.apple.com. We compare the total
number of DNS responses destined to clients with Apple OUIs for
iphone-wu.apple.com to those for wu.apple.com present
in our packet header traces, and determine that the Gateway sees
1.13 times as many responses for wu.apple.com. We therefore
conclude that 88% of the wu.apple.com responses actually re-
sulted from queries for iphone-wu.apple.com.
iPhones constitute the vast majority of all devices we have classi-
ﬁed into the smartphone group, although we see several other man-
ufacturers, including Research in Motion—makers of the Black-
berry family of devices—and Nokia in the trace. As discussed pre-
viously, Ruckus and PePLink are two brands of WiFi modems that
Google recommends for use in their network. Moreover, neither
company appears to manufacture other classes of WiFi devices in
any large number. Hence, for the remainder of the paper we have
combined Ruckus and PePLink OUIs into a larger class that we
term modem. (We also include Ambit, whose only WiFi-capable
devices appear to be cable modems.) Finally, for lack of a better
term, we classify the remaining devices as hotspot users. While
it is extremely likely that some portion of these devices are mis-
classiﬁed (i.e., some modem and smartphone devices are likely
lumped in with hotspot devices) the general trends displayed by
the hotspot users are dominated by Intel, Hon Hai, and Gemtek,
manufactures well known to produce a signiﬁcant fraction of the
integrated laptop WiFi chip-sets. (Notably, Hon Hai manufactures
WiFi chip-sets used in the Thinkpad line of laptops.)
3Apple released the 3G version of the iPhone after the comple-
tion of this study. A comparison of the number of iPhone devices
present on the network in late July 2008 shows that while a sig-
niﬁcant fraction of the iPhone user population upgraded to a new
device (or at least the new software release), the total number of
iPhone devices did not increase signiﬁcantly. The trafﬁc patterns,
however, have changed (see Section 4.2).
s
t
n
e
i
l
c
e
v
i
t
c
A
 2500
 2000
 1500
 1000
 500
 0
 80
 70
 60
 50
 40
 30
 20
 10
 0
)
c
e
s
(
r
u
o
h
r
e
p
e
m
i
t
e
v
i
t
c
a
e
g
a
r
e
v
A
7
14
Day
Clients
Active time
21
Figure 3: Usage of the Google WiFi network for the duration of the trace, measured in 15-minute intervals.
 2500
 2000
 1500
 1000
 500
s
t
n
e
i
l
c
e
v
i
t
c
A
 0
 0
 80
 70
 60
 50
 40
 30
 20
 10
 0
)
c
e
s
(
r
u
o
h
r
e
p
e
m
i
t
e
v
i
t
c
a
e
g
a
r
e
v
A
Clients (weekday)
Active time (weekday)
Clients (weekend)
Active time (weekend)
 4
 8
 12
 16
 20
Hour of day
Figure 4: Average daily use of the Google WiFi network.
4. USAGE
In this section we analyze when various classes of clients are
active in the Google WiFi network, and then characterize the appli-
cation workload these clients place on the network.
4.1 Activity
We begin by looking at overall aggregate network activity. Fig-
ure 3 shows the number of active clients using the network (left
y-axis) and their average activity time (right y-axis) per 15-minute
interval for the entire trace. In our analyses, we consider a client to
be active for a 15-minute reporting interval if it sends at least one
packet per second during the interval. If a client sends fewer pack-
ets, we deem it to be active for a prorated portion of the interval—
i.e., a client that sends at least 54,000 packets is deemed active for
the entire interval, while a client that sends 18,000 packets is said
to be active for 5 of the 15 minutes. We choose this metric in an
attempt to reduce the contribution of devices that are simply on but
likely not being used, as such devices still tend to engage in a mod-
erate rate of chatter [2]. We calculate activity time as the average
number of seconds each client was active during the hour.
The results show that the Google WiFi network has a substantial
daily user population, peaking around 2,500 simultaneous users in
any 15-minute interval. The curves also show the typical daily vari-
ation seen in network client traces, with peaks in both users and
activity during the day roughly twice the troughs early in the morn-
ing. Weekend use is lower than on weekdays, with roughly 15%
fewer users during peak times on the weekends. When users are
connected, they are active for only a small fraction of time. On an
hourly basis, users are active only between 40–80 seconds (1–2%)
on average.
Figure 4 shows the daily variation of aggregate network behavior
in more detail. The ﬁgure has four curves, two showing the number
of clients (left y-axis) and two showing average hourly client activ-
ity (right y-axis) on a typical weekday and weekend day. At the
scale of a single day, variations over time in the number of clients
and their activity become much more apparent. For example, there
are multiple distinct peaks in clients on the weekday during morn-
ing rush hour (9 am), lunch time (12:30 pm), and the end of evening
rush hour (6 pm); weekends, however, are much smoother. Further,
the largest peaks for the number of clients and activity are offset by
four hours. The number of clients peaks at 6 pm at the end of rush
hour, but activity peaks at 10 pm late in the evening. We note that
the diurnal characteristics in the number of clients of the Google
network match those of the MadMesh network [7], suggesting at
least one high-level similarity in user populations in two widely
separated locales.
This behavior reﬂects the kinds of clients who are using the net-
work and how they use it. Figure 5(a) similarly shows the daily
variation of client usage on weekdays as in Figure 4, but separates
clients by the type of device they use to access the network. The
graph shows three curves corresponding to the number of active
modem, smartphone, and hotspot clients each hour. Separated by
device type, we see that the different types of clients have dra-
matically different usage proﬁles. The number of modem clients
is constant throughout the day. This usage suggests homes and
businesses with potentially several computers powered on all day,
with “chatty” operating systems and applications providing sufﬁ-
cient network trafﬁc to keep the wireless access devices constantly
active (analyses of network trafﬁc in Section 4.2 shows that these
users do have substantial variation in trafﬁc over time). Hotspot
users show more typical diurnal activity, with peak usage in late
afternoon twice the trough early in the morning. Hotspot user ac-
tivity is also high for more than half the day, from 9 am until 11 pm
at night.
Smartphone users show the most interesting variation over time.
The curve shows three distinct peaks during the day (9 am, 1 pm,
and 6 pm), suggesting that smartphone usage is highly correlated
with commute and travel times and that the devices are active while
 1000
 800
 600
 400
 200
s
t
n
e
i
l
c
e
v
i
t
c
a
f
o
r
e
b
m
u
N
 0
 0
Modem
Smartphone
Hotspot
 4
 8
 12
 16
 20
Hour of day
(a) Weekdays
 1000
 800
 600
 400
 200
s
t
n
e
i
l
c
e
v
i
t
c
a
f
o
r
e
b
m
u
N
 0
 0
Modem
Smartphone
Hotspot
 4
 8
 12
 16
 20
Hour of day
(b) Weekend
Figure 5: Hourly usage of the Google WiFi network divided between weekdays and the weekend.
users are mobile (Section 5 explores mobility behavior further).
Further, smartphone usage is much more heavily concentrated dur-
ing the day. Peak client usage at 6 pm is four times the trough at
5 am in the morning. There are a number of possible explanations
for this behavior. One is that the majority of smartphone users are
commuters, and therefore are only within range of the network dur-
ing the day. Another is that, although they may make voice calls,
users do not access WiFi during the evening, perhaps preferring to
access the Internet with laptops or desktops when at home.
Figure 5(b) similarly shows the number of active clients by de-
vice type as Figure 4, but for a typical day on the weekend. Com-
paring weekdays with the weekend, we see little difference for mo-
dem and hotspot users. Modem users remain constant, and, al-
though there are approximately 10% fewer hotspot users during
the highly active period than on the weekday, the period of high
activity remains similar. Smartphone users again exhibit the most
notable differences. Smartphone peak usage no longer correlates
with commute times, peaking at midday (1 pm) and diminishing
steadily both before and after.
4.2 Trafﬁc
The results above show how many and when clients are active.
Next we characterize the amount of trafﬁc active clients generate.
Figure 6 plots a CDF of the total amount of data transferred by
clients of each class per day. Only active clients are included; if a
client did not connect at all during a day, that data point was not
included in the graph. For ease of presentation, we combine upload
and download trafﬁc as opposed to reporting each individually. The
daily ratio of download to upload trafﬁc remains relatively constant
across our trace at approximately 3.15:1, although there are inter-
esting distinctions between device classes. Hotspot and modem
users are roughly equivalent, at 2.9 and 3.2 to one, respectively,
while smartphone usage was noticeably more skewed at 5.9:1.
Figure 7 shows the distribution of transfer rates for 15-minute
intervals when the clients were active for the entire trace period. In
other words, if a client sends less than one packet per second during
an interval, that interval is not included. The graph shows curves
for each of the three user populations. Recall that Google limits
transfer rates to 1 Mb/sec per client, or approximately 128 KB/sec.
Very few active periods approach this limit, though, so it has little
impact on sustained trafﬁc demands by users.
The transfer rates vary substantially among the different popula-
tions. The median rates in active periods are 3 KB/sec for modem
 100
 80
 60
 40
 20
 0
Modem
Smartphone
Hotspot
1k
10k
100k
1M 10M 100M 1G 10G 100G
Total bytes transferred
Figure 6: Total bytes transferred (in and out) by each type of
client per day (log-scale x axis).
users, 512 bytes/sec for hotspot users, and 128 bytes/sec for smart-
phone users. Note that the very low transfer rates in bytes/sec are an
artifact of the measurement infrastructure. The trace records have a
granularity of 15 minutes, so low transfer rates reﬂect short activity
averaged over a relatively long time interval. Modem activity has
the overall highest transmission rates: the bulk of of active periods
(80%) transmit at 256 bytes/sec or higher, and 20% at 8 KB/sec.
Hotspot activity is roughly uniformly distributed across the range:
over 80% of hotspot transfer rates fall between 64 bytes/sec and
8 KB/sec, with tails at either extreme. Smartphone activity falls
into three regions. Much of smartphone activity exhibit very low
rates (40% less than 96 bytes/sec), the next 40% of activity is linear
between 96 bytes/sec and 768 bytes/sec, while the remaining 20%
have higher rates.4
4.2.1 Sessions
Next we characterize how long clients are active when associ-
ated with the network. We observed up to 379 distinct sessions
4A short follow-up study after the release of the 3G iPhone (July
2008) indicates a noticeable uptick in the amount of data trans-
ferred by the smartphone class, perhaps due to the enhanced func-
tionality of the new software version.
 100
 80
 60
 40
 20
 0
16 
64 
 100
 80
 60
 40
 20
66k
262k
 0
 0
Modem
Smartphone
Hotspot
 20
 80
Percent of session time when active
 40
 60
 100
Modem
Smartphone
Hotspot
256 
4k
1k
16k
Transfer rate (bytes/sec)
Figure 7: Instantaneous transmission rates during activity pe-
riods for each type of client.
Figure 9: Percentage of the session during which the client was
active.
 100
 80
 60
 40
 20
 0
 1
Modem
Smartphone
Hotspot
 10
 100
 1000
 10000
Session duration (minutes)
Figure 8: CDF of session lengths, in minutes (x axis in log
scale). The entire trace is only 40,320 minutes long.
per client, with the median client connecting only twice and a full
35% appearing only once. At the high end, almost 7% of clients
connected at least once per day, on average, and more than 10%
connected at least once per weekday (20 times).
Figure 8 shows the distribution of session lengths during our
trace for the different client populations. We deﬁne a client session
as the period of time between 802.11 association and disassocia-
tion with an access point. Clients in the different user populations
exhibit different session length distributions. A signiﬁcant fraction
of modem clients have sessions that span the entire trace; although
65% of modem sessions are shorter than a day, these shorter ses-
sions are due to oscillations between access points (see Section 5).