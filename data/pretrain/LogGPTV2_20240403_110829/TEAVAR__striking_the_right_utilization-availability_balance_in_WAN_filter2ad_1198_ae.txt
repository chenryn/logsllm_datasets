### Historical Time-Series Data and Estimation Errors

Historical time-series data of up/down status are inherently prone to estimation errors. More sophisticated techniques, such as those based on machine learning, can be applied to improve accuracy.

### Methodology for Examining Estimation Inaccuracies

To examine the effects of these inaccuracies, we employ the following methodology:

1. **Ground-Truth Probabilities**: We assume a set of probabilities that represent the ground truth. The actual performance of any Traffic Engineering (TE) solution should be evaluated against these probabilities.
2. **Evaluation of TeaVaR Versions**:
   - **TeaVaR with Ground-Truth Probabilities**: This version uses the exact ground-truth probabilities.
   - **TeaVaR with Perturbed Probabilities**: This version uses a perturbed version of the ground-truth probabilities, reflecting estimation errors. The perturbed probabilities are generated by adding random noise to the ground-truth probabilities: \( \tilde{p}_z = p_z + p_z \cdot n \cdot r \), where \( r \) is uniformly distributed in the interval \([-1, 1]\) and \( n \) is the magnitude of the noise.

### Comparison of Throughput Performance

For each noise level in Table 3, we compare the percent error in average throughput across all scenarios to that achieved using the ground-truth probabilities. Our observations indicate that the noise has a relatively small effect on the solution quality. For example, when the perturbed probabilities are within 10% of the ground truth, TeaVaRâ€™s throughput is within 3% of the solution obtained with the actual probabilities.

| Noise in Probability Estimations | % Error in Throughput |
|----------------------------------|-----------------------|
| 1%                               | 1.43%                 |
| 5%                               | 2.95%                 |
| 10%                              | 3.07%                 |
| 15%                              | 3.95%                 |
| 20%                              | 6.73%                 |

### Sensitivity to Scenario Pruning

In Section 4.2, we described an efficient algorithm for pruning scenarios. Here, we elaborate on this algorithm and evaluate its impact on performance and accuracy.

#### Scenario Space Coverage

- **Cutoff Thresholds**: We define cutoff thresholds in Section 4. Figure 12(a) shows the probability mass of all scenarios remaining after applying a given cutoff. With modest cutoffs, we retain over 95% of the total scenario space.
- **Accuracy Impact**: Figure 12(b) illustrates the effect of pruning on accuracy. We compare the resulting Conditional Value at Risk (CVaR) value with pruning to the case where we consider 100% of the scenario space ("optimal") using the standard error formula: 
  \[
  \left| \frac{\text{CVaR}_{\beta, \text{cutoff}} - \text{CVaR}_{\beta, \text{optimal}}}{\text{CVaR}_{\beta, \text{optimal}}} \right|
  \]
  Using cutoff values similar to those in our experiments (e.g., \(10^{-4}\) for ATT and \(10^{-5}\) for other topologies), we achieve high scenario coverage with less than 5% error.

#### Computation Time Reduction

- **Speed Benefits**: Figure 12(c) highlights the substantial speed benefits of using cutoff values. Computation time is reduced from minutes to a few tens of seconds, making it a feasible overhead for typical TE periods of 5-15 minutes. All time complexity benchmarks were performed on a standard processor (4-core, 2.60 GHz with 32 GB RAM).

### Discussion

We now discuss natural extensions of our framework, practical use-cases, and limitations.

#### Contending with Demand Uncertainty

- **Fixed Demands**: We have considered TE in the presence of failure events for a fixed set of empirically-derived demands.
- **Predictive Models**: State-of-the-art TE solvers use sophisticated techniques to predict traffic demands, such as moving averages, decision forests, and random walks.
- **Future Work**: An alternative approach would be to formulate the loss function in the joint probability space of both demands and link failures. This is left for future work.

#### Estimating Failure Probabilities

- **Input Probabilities**: TeaVaR takes as input the probabilities of failure events.
- **Basic Estimation**: We use basic machinery for estimating failure probabilities from availability time series data.
- **Refined Techniques**: Refined estimation techniques may include learning failure patterns (e.g., diurnal) and additional information from the IP or physical layers.

#### Control Plane Failures

- **Focus on Data Plane**: Our focus is on data plane failures, including link failures caused by fiber cuts or hardware failures.
- **Risk-Aware Approach**: Our risk-aware approach can be extended to control plane failures, which reflect similar worst-case provisioning approaches.

#### Scalability

- **Current Solution**: Our current solution uses a simple and practical technique for coping with an exponential number of network states.
- **Future Research**: As networks become larger, future research will need to supplement our techniques with state space reduction methods, such as incremental solving, sampling, and clustering.

#### Multiple Service Priorities

- **Background Traffic**: A possible approach for increasing network utilization is sending background (scavenger) traffic over links/routes with available bandwidth.
- **High-Priority Traffic**: Even if the provider utilizes extra capacity with lower priority traffic, they must still provide availability guarantees for high-priority traffic.
- **Future Research**: Incorporating multiple priority classes with different availability guarantees into our framework is an interesting future direction.

### Related Work

#### WAN Traffic Management

- **Prior Work**: Optimizing WAN backbone traffic includes optimizing OSPF or IS-IS weights, MPLS tunnels, bulk data transfers, and leveraging re-configurable optical devices.
- **Centralized TE**: Recent interest in centralized TE for WANs is driven by software-defined approaches, such as SWAN, B4, FFC, and BwE. These schemes exploit a global view of the network and perform global updates to configure flow allocations.

#### Risk Management in TE vs. Capacity Planning

- **Capacity Planning**: Leveraging empirical data on failure probabilities for higher availability has been proposed in the context of capacity planning, which occurs on a much longer timescale than TE.
- **Timely Information**: TeaVaR can harness empirical data on the current traffic pattern and failure probabilities to optimize utilization and availability.

#### TE Optimization vs. TE Validation

- **Validation Framework**: [13] presents a framework for validating specific TE configurations under variable demands and failure scenarios.
- **Optimization Goal**: Our aim is to optimize the choice of TE configuration.

#### More Risk-Aware Networking

- **Demand Uncertainty**: [47] proposes a TE framework that considers demand uncertainty and expresses risk in terms of standard deviation.
- **Failure Considerations**: [25] studies the impact of failures on availability but does not formalize this relationship. [56] presents analytical models for dynamic failure risk estimation and proposes accounting for risk in OSPF networks.

#### Operations Research Perspective

- **Stochastic Networks**: The optimization of networks with stochastic behavior has been studied in operations research literature.
- **Tools and Techniques**: Tools include stochastic and robust optimization, and there is a rich body of literature on CVaR following seminal work in [50].

### Concluding Remarks

Inspired by financial risk theory, we introduce a novel TE paradigm that explicitly accounts for the likelihood of different failure events to minimize a formal notion of risk. We design and evaluate TeaVaR, a TE optimization framework that allows operators to optimize bandwidth assignment while meeting a desired availability bar. Our results show that TeaVaR can support up to twice as much traffic as current state-of-the-art TE schemes at the same level of availability.

### Acknowledgements

We thank Hari Balakrishnan, Jeff Cox, Kimia Ghobadi, Arpit Gupta, Srikanth Kandula, Praveen Kumar, Hongqiang Liu, the anonymous SIGCOMM reviewers, and our shepherd Michael Mitzenmacher. This work was partially supported by NSF grant CNS-1563826 and the Israel Science Foundation.

### References

[References are listed here as per the original text.]

---

This revised version aims to enhance clarity, coherence, and professionalism, ensuring that the content is well-structured and easy to follow.