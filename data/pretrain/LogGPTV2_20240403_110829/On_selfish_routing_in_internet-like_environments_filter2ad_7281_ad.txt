C
t
p
o
h
:
y
a
l
r
e
v
o
t
W
d
n
a
r
:
y
a
l
r
e
v
o
e
c
r
u
o
s
t
W
t
p
o
:
y
a
l
r
e
v
o
t
n
C
t
p
o
h
:
y
a
l
r
e
v
o
t
W
d
n
a
r
:
y
a
l
r
e
v
o
e
c
r
u
o
s
t
W
t
p
o
:
y
a
l
r
e
v
o
t
n
C
t
p
o
h
:
y
a
l
r
e
v
o
t
W
d
n
a
r
:
y
a
l
r
e
v
o
Abovenet
ATT
Level3
Sprint
PowerD10
source
optimal
(a) Latency
compliant
load scale factor = 1
e
c
r
u
o
s
e
c
r
u
o
s
t
t
W
p
o
:
y
a
l
r
e
v
o
t
t
n
C
p
o
h
:
y
a
l
r
e
v
o
t
W
d
n
a
r
:
y
a
l
r
e
v
o
e
c
r
u
o
s
t
t
W
p
o
:
y
a
l
r
e
v
o
t
t
n
C
p
o
h
:
y
a
l
r
e
v
o
t
W
d
n
a
r
:
y
a
l
r
e
v
o
t
t
W
p
o
:
y
a
l
r
e
v
o
t
t
n
C
p
o
h
:
y
a
l
r
e
v
o
t
W
d
n
a
r
:
y
a
l
r
e
v
o
e
c
r
u
o
s
e
c
r
u
o
s
t
t
W
p
o
:
y
a
l
r
e
v
o
t
t
n
C
p
o
h
:
y
a
l
r
e
v
o
t
W
d
n
a
r
:
y
a
l
r
e
v
o
t
t
W
p
o
:
y
a
l
r
e
v
o
t
t
n
C
p
o
h
:
y
a
l
r
e
v
o
t
W
d
n
a
r
:
y
a
l
r
e
v
o
Abovenet
ATT
Level3
Sprint PowerD10
source
optimal
compliant
(b) Maximum link utilization
1000
100
10
1
)
%
(
n
o
i
t
a
z
i
l
i
t
u
k
n
i
l
m
u
m
x
a
M
i
Figure 9: Selﬁsh overlay routing: comparison of user latency
and maximum link utilization for different network topologies.
7.2 Does selﬁsh overlay routing perform well
when only some nodes are in the overlay?
The previous evaluation includes all of the network nodes in an
overlay. In practice, an overlay may only have partial coverage, i.e.,
only a fraction of the nodes are in the overlay. In such a case, the
routing choice is further constrained, which may have an impact on
the performance. Below we investigate this issue in detail.
Effects of only covering edge nodes: In our ﬁrst experiment,
we form an overlay from all of the edge nodes in ISP T opo and
route all demands among these edge nodes through the overlay. We
then compare the performance with what we achieve when the same
set of demands is routed through an overlay that includes all of the
network nodes. As shown in Figure 10, the curves of full overlay
coverage almost completely overlap with those of partial coverage,
in terms of both latency and maximum link utilization. These results
are likely due to the fact that the Internet backbone is fairly well-
connected and well-provisioned; therefore, even though end users
can only forward trafﬁc through edge nodes, they do not lose much
ﬂexibility in controlling their routes.
Effects of random partial coverage: In our second experiment,
we uniformly choose a fraction of network nodes to form an overlay
and vary the fraction from 20% to 100%. As before, partial overlay
coverage yields similar latency compared to full overlay coverage.
On the other hand, as shown in Figure 11, full overlay coverage
incurs a slightly higher maximum link utilization than partial cover-
age, because as more nodes and links are included, it becomes more
likely that the overlay has popular shortcuts, which get overloaded.
7.3 Summary
To summarize, in this section we investigate the effects of overlay
routing constraints. We show that if the physical network uses a
routing scheme that satisﬁes direct link shortest (DLS), the overlay
)
s
u
(
y
c
n
e
t
a
l
e
g
a
r
e
v
A
10000
9000
8000
7000
6000
5000
4000
3000
2000
1000
0
0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 1.8 2
all
partial
)
%
(
n
o
i
t
a
z
i
l
i
t
u
k
n
i
l
m
u
m
i
x
a
M
160
140
120
100
80
60
40
20
0
0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 1.8 2
all
partial
Load scale factor
(a) Latency
(b) Maximum link utilization
Load scale factor
Figure 10: Effects of partial coverage ion the performance of
selﬁsh overlay routing. Here edge nodes in ISP T opo belong to
an overlay, and OSPF weights are set according to hop count.
)
%
(
n
o
i
t
a
z
i
l
i
t
u
k
n
i
l
m
u
m
i
x
a
M
250
200
150
100
50
0
1
=
F
S
L
3
=
F
S
L
5
.
0
=
F
S
L
5
.
0
=
F
S
L
1
=
F
S
L
3
=
F
S
L
1
=
F
S
L
3
=
F
S
L
5