title:Bridging the data charging gap in the cellular edge
author:Yuanjie Li and
Kyu-Han Kim and
Christina Vlachou and
Junqing Xie
Bridging the Data Charging Gap in the Cellular Edge 
Yuanjie Li, Kyu-Han Kim, Christina Vlachou, Junqing Xie
Hewlett Packard Labs
Intelligent cellular edge
Ø Low-latency service anywhere, anytime
Ø Powered by 4G/5G cellular networks
Ø Active standardization and early adoption
Edge
devices
Base
stations
Core
network
Edge
servers
4G gateways
Charging data records
Charging function
Charging data records
5G gateways
Cellular edge infrastructure
Charging gap: what & why
The cellular traffic is not free!
Ø Edge app pays 4G/5G operator by data usage
Data charging gap (thus over-/under-billing):
The operator and edge app vendor may not 
agree on how much data should be paid
Causes of the gap
Ø Data loss by intermittent wireless, mobility, 
congestions, SLA violation, and many more.
)
s
p
b
M
(
e
t
a
R
)
B
M
(
p
a
G
)
m
B
d
(
S
S
R
 5
 2.5
 0
 10
 5
 0
-95
-110
-125
Our solution: TLC
Trusted, Loss-tolerant Charging
Let the edge app vendor and 4G/5G operator 
negotiate the charging data volume
Ø Rather than today’s operator-centric charging
Ø Loss-selfishness cancellation: Game-
theoretical approach to let selfishness and 
loss-induced gaps cancel out each other
Ø Proof-of-Charging (PoC) is constructed and 
digitally signed for mutual trust
Three provable properties
ü Correctness: Always-bounded charging gap, 
and no gap if edge and operator are rational 
ü Latency friendliness: No blocking of delay-
sensitive edge traffic
ü Public verifiability: Any independent 3rd party 
Bridging the Data Charging Gap in the Cellular Edge
(e.g., FCC or court) can verify the charging
Public Veriﬁers
(5) Veriﬁcation
(5) Veriﬁcation
Edge app
vendor
Cellular
operator 
 (1) Data transfer
Edge Vendor
(Report sent data)
ˆxeAAAB8HicbVDLSgNBEOyNrxhfUY9eBoPgKeyKoMeAF48RzEOSJcxOJsmQmdllplcMS77CiwdFvPo53vwbJ8keNLGgoajqprsrSqSw6PvfXmFtfWNzq7hd2tnd2z8oHx41bZwaxhsslrFpR9RyKTRvoEDJ24nhVEWSt6LxzcxvPXJjRazvcZLwUNGhFgPBKDrpoTuimD1Ne7xXrvhVfw6ySoKcVCBHvVf+6vZjliqukUlqbSfwEwwzalAwyaelbmp5QtmYDnnHUU0Vt2E2P3hKzpzSJ4PYuNJI5urviYwqaycqcp2K4sguezPxP6+T4uA6zIROUuSaLRYNUkkwJrPvSV8YzlBOHKHMCHcrYSNqKEOXUcmFECy/vEqaF9XArwZ3l5VaLY+jCCdwCucQwBXU4Bbq0AAGCp7hFd484714797HorXg5TPH8Afe5w8pI5Cf
AAAB8HicbVDLSgNBEOyNrxhfUY9eBoPgKeyKoMeAF48RzEOSJcxOJsmQmdllplcMS77CiwdFvPo53vwbJ8keNLGgoajqprsrSqSw6PvfXmFtfWNzq7hd2tnd2z8oHx41bZwaxhsslrFpR9RyKTRvoEDJ24nhVEWSt6LxzcxvPXJjRazvcZLwUNGhFgPBKDrpoTuimD1Ne7xXrvhVfw6ySoKcVCBHvVf+6vZjliqukUlqbSfwEwwzalAwyaelbmp5QtmYDnnHUU0Vt2E2P3hKzpzSJ4PYuNJI5urviYwqaycqcp2K4sguezPxP6+T4uA6zIROUuSaLRYNUkkwJrPvSV8YzlBOHKHMCHcrYSNqKEOXUcmFECy/vEqaF9XArwZ3l5VaLY+jCCdwCucQwBXU4Bbq0AAGCp7hFd484714797HorXg5TPH8Afe5w8pI5Cf
AAAB8HicbVDLSgNBEOyNrxhfUY9eBoPgKeyKoMeAF48RzEOSJcxOJsmQmdllplcMS77CiwdFvPo53vwbJ8keNLGgoajqprsrSqSw6PvfXmFtfWNzq7hd2tnd2z8oHx41bZwaxhsslrFpR9RyKTRvoEDJ24nhVEWSt6LxzcxvPXJjRazvcZLwUNGhFgPBKDrpoTuimD1Ne7xXrvhVfw6ySoKcVCBHvVf+6vZjliqukUlqbSfwEwwzalAwyaelbmp5QtmYDnnHUU0Vt2E2P3hKzpzSJ4PYuNJI5urviYwqaycqcp2K4sguezPxP6+T4uA6zIROUuSaLRYNUkkwJrPvSV8YzlBOHKHMCHcrYSNqKEOXUcmFECy/vEqaF9XArwZ3l5VaLY+jCCdwCucQwBXU4Bbq0AAGCp7hFd484714797HorXg5TPH8Afe5w8pI5Cf
AAAB8HicbVDLSgNBEOyNrxhfUY9eBoPgKeyKoMeAF48RzEOSJcxOJsmQmdllplcMS77CiwdFvPo53vwbJ8keNLGgoajqprsrSqSw6PvfXmFtfWNzq7hd2tnd2z8oHx41bZwaxhsslrFpR9RyKTRvoEDJ24nhVEWSt6LxzcxvPXJjRazvcZLwUNGhFgPBKDrpoTuimD1Ne7xXrvhVfw6ySoKcVCBHvVf+6vZjliqukUlqbSfwEwwzalAwyaelbmp5QtmYDnnHUU0Vt2E2P3hKzpzSJ4PYuNJI5urviYwqaycqcp2K4sguezPxP6+T4uA6zIROUuSaLRYNUkkwJrPvSV8YzlBOHKHMCHcrYSNqKEOXUcmFECy/vEqaF9XArwZ3l5VaLY+jCCdwCucQwBXU4Bbq0AAGCp7hFd484714797HorXg5TPH8Afe5w8pI5Cf
Selﬁsh
under-charging
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
Data 
loss
xeAAAB6nicbVBNS8NAEJ3Ur1q/qh69LBbBU0lE0GPBi8eK9gPaUDbbSbt0swm7G7GE/gQvHhTx6i/y5r9xm+agrQ8GHu/NMDMvSATXxnW/ndLa+sbmVnm7srO7t39QPTxq6zhVDFssFrHqBlSj4BJbhhuB3UQhjQKBnWByM/c7j6g0j+WDmSboR3QkecgZNVa6fxrgoFpz624Oskq8gtSgQHNQ/eoPY5ZGKA0TVOue5ybGz6gynAmcVfqpxoSyCR1hz1JJI9R+lp86I2dWGZIwVrakIbn6eyKjkdbTKLCdETVjvezNxf+8XmrCaz/jMkkNSrZYFKaCmJjM/yZDrpAZMbWEMsXtrYSNqaLM2HQqNgRv+eVV0r6oe27du7usNRpFHGU4gVM4Bw+uoAG30IQWMBjBM7zCmyOcF+fd+Vi0lpxi5hj+wPn8AVnmjdI=
ˆxAAAB7nicbVA9SwNBEJ2LXzF+RS1tFoNgFe5E0DJgYxnBJEJyhL3NXrJkd+/YnRPDkR9hY6GIrb/Hzn/jJrlCEx8MPN6bYWZelEph0fe/vdLa+sbmVnm7srO7t39QPTxq2yQzjLdYIhPzEFHLpdC8hQIlf0gNpyqSvBONb2Z+55EbKxJ9j5OUh4oOtYgFo+ikTm9EMX+a9qs1v+7PQVZJUJAaFGj2q1+9QcIyxTUySa3tBn6KYU4NCib5tNLLLE8pG9Mh7zqqqeI2zOfnTsmZUwYkTowrjWSu/p7IqbJ2oiLXqSiO7LI3E//zuhnG12EudJoh12yxKM4kwYTMficDYThDOXGEMiPcrYSNqKEMXUIVF0Kw/PIqaV/UA78e3F3WGo0ijjKcwCmcQwBX0IBbaEILGIzhGV7hzUu9F+/d+1i0lrxi5hj+wPv8Aa+ij8c=
AAAB7nicbVA9SwNBEJ2LXzF+RS1tFoNgFe5E0DJgYxnBJEJyhL3NXrJkd+/YnRPDkR9hY6GIrb/Hzn/jJrlCEx8MPN6bYWZelEph0fe/vdLa+sbmVnm7srO7t39QPTxq2yQzjLdYIhPzEFHLpdC8hQIlf0gNpyqSvBONb2Z+55EbKxJ9j5OUh4oOtYgFo+ikTm9EMX+a9qs1v+7PQVZJUJAaFGj2q1+9QcIyxTUySa3tBn6KYU4NCib5tNLLLE8pG9Mh7zqqqeI2zOfnTsmZUwYkTowrjWSu/p7IqbJ2oiLXqSiO7LI3E//zuhnG12EudJoh12yxKM4kwYTMficDYThDOXGEMiPcrYSNqKEMXUIVF0Kw/PIqaV/UA78e3F3WGo0ijjKcwCmcQwBX0IBbaEILGIzhGV7hzUu9F+/d+1i0lrxi5hj+wPv8Aa+ij8c=xoAAAB6nicbVDLSgNBEOyNrxhfUY9eBoPgKeyKoMeAF48RzQOSJcxOepMhszPLzKwYQj7BiwdFvPpF3vwbJ8keNLGgoajqprsrSgU31ve/vcLa+sbmVnG7tLO7t39QPjxqGpVphg2mhNLtiBoUXGLDciuwnWqkSSSwFY1uZn7rEbXhSj7YcYphQgeSx5xR66T7p57qlSt+1Z+DrJIgJxXIUe+Vv7p9xbIEpWWCGtMJ/NSGE6otZwKnpW5mMKVsRAfYcVTSBE04mZ86JWdO6ZNYaVfSkrn6e2JCE2PGSeQ6E2qHZtmbif95nczG1+GEyzSzKNliUZwJYhWZ/U36XCOzYuwIZZq7WwkbUk2ZdemUXAjB8surpHlRDfxqcHdZqdXyOIpwAqdwDgFcQQ1uoQ4NYDCAZ3iFN094L96797FoLXj5zDH8gff5A2kOjdw=
over-charging
ˆxoAAAB8HicbVDLSgNBEOyNrxhfUY9eBoPgKeyKoMeAF48RzEOSJcxOJsmQmZ1lplcMS77CiwdFvPo53vwbJ8keNLGgoajqprsrSqSw6PvfXmFtfWNzq7hd2tnd2z8oHx41rU4N4w2mpTbtiFouRcwbKFDydmI4VZHkrWh8M/Nbj9xYoeN7nCQ8VHQYi4FgFJ300B1RzJ6mPd0rV/yqPwdZJUFOKpCj3it/dfuapYrHyCS1thP4CYYZNSiY5NNSN7U8oWxMh7zjaEwVt2E2P3hKzpzSJwNtXMVI5urviYwqaycqcp2K4sguezPxP6+T4uA6zEScpMhjtlg0SCVBTWbfk74wnKGcOEKZEe5WwkbUUIYuo5ILIVh+eZU0L6qBXw3uLiu1Wh5HEU7gFM4hgCuowS3UoQEMFDzDK7x5xnvx3r2PRWvBy2eO4Q+8zx84S5Cp
Cellular operator 
Selﬁsh
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
(Report received data)
Figure 6: TLC intuition.
Figure 5: TLC overview.
How well TLC performs
Table 1: Notations in TLC
T
c 2 [0, 1]
Pre-dened charging weight for the lost data (in the data plan)
Charging cycle in data plan: T = (Tst ar t , Tend)
Compared with the legacy 4G/5G
Ground truth of edge-sent/network-received usage: ˆxe   ˆxo
ˆxe, ˆxo
ü Gap reduction: 80.2% in WebCam, 87.5% in 
The data usage claimed by the edge and operator
xe, xo
edge-based VR, and 47.06% in online gaming
ˆx
Ground truth of the usage to be charged: ˆx = ˆxo + c · ( ˆxe   ˆxo)
The negotiated usage in TLC
x
ü Marginal overhead: Negligible extra data 
Edge application vendor’s public/private key pair
e , K e
K +
latency and signaling message overhead
Cellular operator’s public/private key pair
o , K o
K +
ü Scalability: A single HP Z840 workstation 
Nonces from the edge and operator
ne, no
The edge and operator’s message sequence number
se, so
(public verifier) can verify 230K PoCs/hour. 
Edge device
Cellular network
(2) Charging
data record
(4) Proof of
charging
(3) Loss-selﬁshness
(4) Proof of
charging
cancellation
(2) Charging
data record
0
60
120
180
Time (second)
240
300
WebCam (RTSP, UL)
WebCam (UDP, UL)
VRidge (GVSP, DL)
)
B
M
(
r
h
/
p
a
G
 1500
 1000
 500
 0
0
100
120
Background traffic (Mbps)
140
160
)
%
LTE
LTE
HSS
MME
HSS
OFCS
MME
)
%
(
F
D