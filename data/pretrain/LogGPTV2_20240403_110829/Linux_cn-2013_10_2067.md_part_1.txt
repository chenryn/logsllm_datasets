---
author: ''
category: 技术
comments_data: []
count:
  commentnum: 0
  favtimes: 2
  likes: 0
  sharetimes: 0
  viewnum: 11084
date: '2013-10-08 12:55:00'
editorchoice: false
excerpt: 通俗的说，计算机的文件系统就是一个像磁盘这样的存储设备如何存储、检索以及管理文件的方式。文件系统需要记录的不仅是文件本身每一个字节，及其在存储设备上的位置，还要存储文件相关的信息。比如，也要存储每个文
  ...
fromurl: http://www.linuxlinks.com/article/20130927180305497/JournalingFileSystems.html
id: 2067
islctt: true
largepic: /data/attachment/album/201507/30/161454dl1ulplbt7g1lcot.jpg
permalink: /article-2067-1.html
pic: /data/attachment/album/201507/30/161454dl1ulplbt7g1lcot.jpg.thumb.jpg
related:
- displayorder: 0
  raid: 8685
reviewer: ''
selector: ''
summary: 通俗的说，计算机的文件系统就是一个像磁盘这样的存储设备如何存储、检索以及管理文件的方式。文件系统需要记录的不仅是文件本身每一个字节，及其在存储设备上的位置，还要存储文件相关的信息。比如，也要存储每个文
  ...
tags:
- 日志文件系统
thumb: false
title: 选择一个日志文件系统
titlepic: false
translator: flsf
updated: '2013-10-08 12:55:00'
---
通俗的说，计算机的文件系统就是一个像磁盘这样的存储设备如何存储、检索以及管理文件的方式。文件系统需要记录的不仅是文件本身每一个字节，及其在存储设备上的位置，还要存储文件相关的信息。比如，也要存储每个文件的名字、文件存放的层次结构（目录），还有文件的元数据，像文件的修改时间等。
虽然在linux上可以使用许多不同的文件系统，但是绝大多数用户很少去关注使用哪一个，它们通常都被忽视了。选择使用什么样的文件系统视情况而定，要考虑的相关因素包括兼容性、性能、还原能力、使用的介质、存储介质的大小和数量、特性，还有安全考虑等。
![](/data/attachment/album/201507/30/161454dl1ulplbt7g1lcot.jpg)
日志文件系统是一种特殊类型的文件系统，它记录一个被称为日志的追踪文件。日志可以让系统能够修复在异常终止时出现的不一致情况。它通过追踪之前提交到主文件系统的更改。在计算机非正常关机的情况下，任何数据丢失都可被重建。因此,这种文件系统不太可能遭受破坏，并且可以使文件系统快速恢复工作。
为了深入了解日志文件系统的使用，我们整理出一个首选列表。
现在，让我们讨论一下手边的日志文件系统。
* [ext3](ftp://ftp.kernel.org/pub/linux/kernel/people/sct/ext3/) 许多流行的Linux发行版默认的文件系统
* [XFS](http://oss.sgi.com/projects/xfs/) 为高性能和大文件设计的文件系统
* [Btrfs](http://btrfs.wiki.kernel.org/) 校检copy-on-write(写入时复制)文件系统
* [ext4](https://ext4.wiki.kernel.org/index.php/Main_Page) 由ext3增加许多显著特性和扩展进化而来的文件系统
### **ext3**
ext3，或者叫第三扩展文件系统，它是一个通常被用于Linux内核的日志文件系统。日志功能意味着不用对fsck等待过久和担心损坏元数据。
它是包括Debian在内的许多流行的Linux发行版的默认文件系统。ext3 最初发布时间是1999年9月。
Ext3 默认保留了%5的可用空间，主要的原因是保证超级用户(root)甚至在文件系统已满的情况下能够登录。
> 
> **ext3**
> 
> 
> 0.9.18
> 
> 
> 价格 : 免费下载
> 
> 
> 大小 : 13.8KB
> 
> 
> 协议 : GNU GPL
> 
> 
> 开发者 : Stephen Tweedie
> 
> 
> 网站 : 
> 
> 
> 支持 : [FAQ](http://batleth.sapienti-sat.org/projects/FAQs/ext3-faq.html), [邮件列表](https://listman.redhat.com/archives/ext3-users/)
> 
> 
> 
特性包括:
* 简单，健壮，可扩展
* 内核和用户空间的代码已广泛测试
* 在ext2上增加的特性
+ 日志 ：提高可靠性，并且异常关机后不需要检查文件系统
+ 各种日志模式：日志，有序，写回
+ 文件系统被重新挂载时自动恢复
+ 所有的VFS操作（包括配额）都会记录到日志
+ 添加数据的更新也被记录日志
+ 在线文件系统的扩容
+ 在大目录上使用Htree索引
* 扩展属性块和大量的inode
* 支持在线文件系统的大小调整
* 哈希索引的目录
* 文件/设备都支持日志
* 目录项中记录文件类型
* 日志恢复依赖
* 减少块组的备份
* 减少超级块的备份
* 文件可大于2GiB
* 易于自ext2迁移文件系统，而不需要备份，恢复和格式化分区
* UNIX权限， ACL和其它的安全属性
### **XFS**
XFS 是一个64位的、高性能的支持文件系统一致性的日志文件系统，由Silicon Graphics公司所开发。是IRIX5.3和以后版本的默认文件系统，后来又移植到Linux内核。
XFS结合先进的日志技术和完整的64位寻址还有可扩展的数据结构和算法。
XFS从Linux 2.4开始一直留在官方Linux内核内核树。所有现代的Linux发行版都支持XFS。
> 
> **XFS**
> 
> 
> 价格 : 免费下载
> 
> 
> 协议 : GNU GPL v2
> 
> 
> 开发者 : Silicon Graphics Inc.
> 
> 
> 网站 : 
> 
> 
> 支持 : [http://XFS.org](http://xfs.org/), [FAQ](http://xfs.org/index.php/XFS_FAQ), [邮件列表](http://xfs.org/index.php/XFS_email_list_and_archives)
> 
> 
> 
特性包括:
* 快速恢复 - 意外中断后，重新启动非常快，不受管理文件的数量影响
* 快速事务 - 提供优越的日志同时尽量减少日志在读取和写入数据事务时对性能的影响
* 大规模的可扩展性 - 支持最大文件系统为8 EiB - 1（1024PiB - 1）
* 有效分配 - 实现极其复杂的空间管理技术
* 出色的带宽占用 - 能够提供非常接近底层的硬件本身I/O性能
* 提供日志文件系统元数据，在实际磁盘块更新前首先写入一个连续的日志来更新文件系统
* 支持文件系统的挂载卷增长，使文件系统的“冻结”和“解冻”操作支持卷级快照，并提供了一个在线的文件碎片整理工具