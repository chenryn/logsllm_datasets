        :::
    -   您的 IdM 部署是否包含 [一个集成的
        CA](#planning-your-ca-services-planning-identity-management.html "第 5 章 规划您的 CA 服务"){.link}？
        ::: itemizedlist
        -   如果是，则集成的 CA 是自签名还是外部签名？
        -   如果是，则在哪些服务器上 [CA
            角色](#planning-your-ca-services-planning-identity-management.html#guidelines-for-the-distribution-of-ca-services_planning-ca "CA 服务分布指南"){.link}可用？KRA
            角色在哪些服务器上可用？
        :::
    -   您的 IdM 部署是否包含 [一个集成的
        DNS](#planning-your-dns-services-and-host-names-planning-identity-management.html "第 4 章 规划您的 DNS 服务和主机名"){.link}？
        ::: itemizedlist
        -   如果是，则在哪些服务器上提供 DNS 角色？
        :::
    -   您的 IdM 是否在与 [AD
        林](https://docs.microsoft.com/en-us/windows/win32/ad/forests){.link}的信任协议中部署？
        ::: itemizedlist
        -   如果是，则在哪些服务器中 [AD 信任控制器或 AD
            信任代理角色](#planning-a-cross-forest-trust-between-idm-and-ad_planning-identity-management.html#trust-controllers-and-trust-agents_planning-a-cross-forest-trust-between-idm-and-ad "信任控制器和信任代理"){.link}可用？
        :::
    :::
[IdM 服务器和副本]{.term}
:   要在 IdM 部署中安装第一个服务器，您必须使用
    `ipa-server-install`{.literal} 命令。
    然后，管理员可以使用 `ipa-replica-install`{.literal}
    命令在安装的第一个服务器之外安装[**副本**]{.strong}。默认情况下，安装副本会创建与创建副本的
    IdM
    [服务器的复制协议](#planning-the-replica-topology_planning-identity-management.html#introduction-to-replication-agreements_planning-the-replica-topology "复制协议"){.link}，从而启用接收并向其它
    IdM 发送更新。
    所安装的第一个服务器与副本之间没有功能差异。两者都是全功能可读/写
    [IdM
    服务器](#overview-of-planning-for-identity-management-and-access-control-planning-identity-management.html#introduction-to-ipa-servers-and-clients_overview-of-planning-idm-and-access-control "IdM 服务器和客户端简介"){.link}。
    已弃用的名称： [**master 服务器**]{.strong}
[IdM CA 续订服务器]{.term}
:   如果您的 IdM 拓扑包含集成的证书颁发机构(CA)，则一台服务器拥有 [CA
    续订服务器](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_identity_management/index#ipa-ca-renewal_configuring-and-managing-idm){.link}
    的唯一角色。这个服务器维护并更新 IdM 系统证书。
    默认情况下，您安装的第一个 CA 服务器将履行此角色，但您可以将任何 CA
    服务器配置为 CA 续订服务器。在没有集成 CA 的部署中，没有 CA
    续订服务器。
    已弃用的名称： [**master CA**]{.strong}
[IdM CRL publisher 服务器]{.term}
:   如果您的 IdM 拓扑包含集成的证书颁发机构(CA)，一个服务器具有
    [证书撤销列表(CRL)发布程序服务器](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_identity_management/index#generating-crl-on-the-idm-ca-server_configuring-and-managing-idm){.link}
    的唯一角色。此服务器负责维护 CRL。
    默认情况下，履行 [**CA
    续订服务器**]{.strong}角色的服务器也承担此角色，但您可以将任何 CA
    服务器配置为 CRL 发布程序服务器。在没有集成 CA 的部署中，没有 CRL
    发布程序服务器。
[IdM 拓扑]{.term}
:   涉及 [IdM
    解决方案结构的术语](#planning-the-replica-topology_planning-identity-management.html#planning-the-replica-topology-replica-topology-example-1-fin "图 3.2. 副本拓扑示例 1"){.link}，特别是各个数据中心和集群之间的复制协议。
[Kerberos 认证指示符]{.term}
:   身份验证指示符附加到 Kerberos
    票据中，并代表用于获取票据的初始验证方法：
    ::: itemizedlist
    -   `otp`{.literal} 双因素身份验证（密码 + 一次性密码）
    -   `radius`{.literal} 用于 Remote Authentication Dial-In User
        Service (RADIUS) 验证（通常用于 802.1x 验证）
    -   `pkinit`{.literal} 用于 Public Key Cryptography for Initial
        Authentication in Kerberos (PKINIT)，智能卡或证书验证。
    -   `hardened`{.literal} 用于强化密码以阻止暴力尝试
    :::
    如需更多信息，请参阅 [Kerberos
    身份验证指标](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_identity_management/managing-kerberos-ticket-policies_configuring-and-managing-idm#kerberos-authentication-indicators_managing-kerberos-ticket-policies){.link}。
[Kerberos keytab]{.term}
:   密码是用户的默认验证方法，但 keytabs
    是主机和服务的默认验证方法。Kerberos keytab 是包含 Kerberos
    主体及其关联的加密密钥列表的文件，因此服务可以检索其自己的 Kerberos
    密钥并验证用户身份。
    例如，每个 IdM 客户端都有一个 `/etc/krb5.keytab`{.literal}
    文件，该文件存储了 `host`{.literal} 主体的信息，代表 Kerberos
    域中的客户端计算机。
[Kerberos 主体]{.term}
:   唯一的 Kerberos 主体可识别 Kerberos 网域中的每个用户、服务和主机：
    ::: informaltable
      实体   命名规则                                             示例
      ------ ---------------------------------------------------- -------------------------------------------------
      用户   `identifier@REALM`{.literal}                         `PI:EMAIL`{.literal}
      服务   `service/fully-qualified-hostname@REALM`{.literal}   `http/PI:EMAIL`{.literal}
      主机   `host/fully-qualified-hostname@REALM`{.literal}      `host/PI:EMAIL`{.literal}
    :::
[Kerberos 协议]{.term}
:   Kerberos
    是一种网络身份验证协议，通过使用密钥加密为客户端和服务器应用提供强大的身份验证。IdM
    和 Active Directory 使用 Kerberos 来验证用户、主机和服务。
[Kerberos realm]{.term}
:   Kerberos 域（realm）包括由 Kerberos 密钥分发中心 (KDC)
    管理的所有主体。在 IdM 部署中，Kerberos 域包括所有 IdM
    用户、主机和服务。
[Kerberos ticket 策略]{.term}
:   Kerberos 密钥分发中心 (KDC)
    通过连接策略强制实施票据访问控制，并通过票据生命周期策略管理
    Kerberos
    票据的持续时间。例如，默认的全局票据生命周期为一天，默认的全局最大续订期限为一周。如需更多信息，请参阅
    [IdM Kerberos ticket
    策略类型](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_identity_management/managing-kerberos-ticket-policies_configuring-and-managing-idm#idm-kerberos-ticket-policy-types_managing-kerberos-ticket-policies){.link}。
[密钥分发中心 (KDC)]{.term}
:   Kerberos 密钥分发中心 (KDC) 是充当管理 Kerberos
    凭据信息的中央可信权威的服务。KDC 发出 Kerberos 票据并确保来自 IdM
    网络内实体的数据的真实性。
    如需更多信息，请参阅 [IdM KDC
    的角色](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_identity_management/managing-kerberos-ticket-policies_configuring-and-managing-idm#role-of-idm-kdc_managing-kerberos-ticket-policies){.link}。
[LDAP]{.term}
:   轻量级目录访问协议(LDAP)是一个开放的、厂商中立的应用程序协议，用于通过网络访问和维护分布式目录信息服务。此规范的一部分是目录信息树(DIT)，它以由目录服务条目的可辨识名称(DN)组成的分层树状结构来表示数据。LDAP
    是 ISO X.500
    标准描述的用于网络中目录服务的目录访问协议(DAP)的一种\"轻量级\"版本。
[轻量级子 CA]{.term}
:   在 IdM 中，轻量级子 CA 是证书颁发机构 (CA)，其证书由 IdM root CA
    签名，或属于它的一个 CA。轻量级子 CA
    只为特定目的发布证书，例如用来保护 VPN 或 HTTP 连接。
    如需更多信息，请参阅
    [限制应用程序只信任某个证书子集](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_identity_management/index#restricting-an-application-to-trust-only-a-subset-of-certificates_configuring-and-managing-idm){.link}。
[密码策略]{.term}
:   密码策略是特定 IdM
    用户组的密码必须满足的一组条件。这些条件可以包括以下参数：
    ::: itemizedlist
    -   密码的长度
    -   使用的字符类的数目
    -   密码的最长生命周期。
    :::
    如需更多信息
    [，请参阅什么是密码策略](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_identity_management/index#what-is-a-password-policy_defining-idm-password-policies){.link}。
[POSIX 属性]{.term}
:   POSIX 属性是用于维护操作系统间兼容性的用户属性。
    在 Red Hat Identity Management 环境中，用户的 POSIX 属性包括：
    ::: itemizedlist
    -   `cn`{.literal}，用户名
    -   `uid`{.literal}，帐户名称（登录）
    -   `uidNumber`{.literal}，用户编号 (UID)
    -   `gidNumber`{.literal}，主组号 (GID)
    -   `homeDirectory`{.literal} （用户的主目录）
    :::
    在 Red Hat Identity Management 环境中，组的 POSIX 属性包括：
    ::: itemizedlist
    -   `cn`{.literal}，组的名称
    -   `gidNumber`{.literal}，组号 (GID)
    :::
    这些属性将用户和组标识为单独的实体。
[复制协议]{.term}
:   复制协议是同一 IdM 部署的两个 IdM
    服务器之间的协议。复制协议确保两个服务器之间不断复制数据和配置。
    IdM 使用两种复制协议：
    [*域复制*]{.emphasis}协议，用于复制身份信息，[*证书复制*]{.emphasis}协议，用于复制证书信息。
    如需更多信息，请参阅：
    ::: itemizedlist
    -   [复制协议](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/planning_identity_management/index?lb_target=production#introduction-to-replication-agreements_planning-the-replica-topology){.link}
    -   [确定正确的副本数](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/planning_identity_management/index?lb_target=production#determining-the-appropriate-number-of-replicas_planning-the-replica-topology){.link}
    -   [在拓扑中连接副本](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/planning_identity_management/index?lb_target=production#connecting-the-replicas-in-a-topology_planning-the-replica-topology){.link}
    -   [副本拓扑示例](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/planning_identity_management/index?lb_target=production#replica-topology-examples_planning-the-replica-topology){.link}
    :::
[智能卡]{.term}
:   智能卡是用来控制对资源访问的可移动设备或者卡。它们可以是具有嵌入式集成电路
    (IC) 芯片、小型 USB 设备（如
    Yubikey）或其他类似设备的固定信用卡卡。智能卡允许用户将智能卡连接到主机计算机来提供验证，而该主机上的软件与智能卡中存储的密钥材料交互以验证用户。
[SSSD]{.term}
:   系统安全服务守护进程 (SSSD) 是在 RHEL
    主机上管理用户身份验证和用户授权的系统服务。SSSD
    可选择性地保留一个从远程供应商获取的用户身份和凭证缓存，以便进行离线身份验证。如需更多信息，请参阅[了解
    SSSD
    及其优势](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_authentication_and_authorization_in_rhel/understanding-sssd-and-its-benefits_configuring-authentication-and-authorization-in-rhel){.link}。
[SSSD 后端]{.term}
:   SSSD 后端（通常称为数据提供程序）是一个 SSSD 子进程，它管理和创建
    SSSD 缓存。这个过程与 LDAP
    服务器通讯，执行不同的查询并在缓存中保存结果。它还针对 LDAP 或
    Kerberos 进行在线身份验证，并将访问和密码策略应用到登录的用户。
[票据 (TGT)]{.term}
:   向 Kerberos 密钥分发中心 (KDC)
    进行身份验证后，用户会收到一组票据授予票据
    (TGT)，这是一组临时凭证，可用于向其他服务（如网站和电子邮件）请求访问票据。
    使用 TGT
    进一步请求访问可为用户提供单点登录体验，因为用户只需要验证一次就可以访问多个服务。TGT
    是可续订的，Kerberos ticket 策略则决定了票据续订限制以及访问控制。
    如需更多信息，[请参阅管理 Kerberos ticket
    策略](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_identity_management/managing-kerberos-ticket-policies_configuring-and-managing-idm){.link}。
:::
[]{#overview-of-planning-for-identity-management-and-access-control-planning-identity-management.html#Web-server_overview-of-planning-idm-and-access-control}
Web 服务器:: Web 服务器是计算机软件和接受 Web
内容请求（如页面、镜像或应用程序）的底层硬件。用户代理（如 Web
浏览器）使用 HTTP 网络协议来请求特定的资源、用来分发 Web
内容或其安全变体 HTTPS。Web 服务器以资源的内容或错误消息来进行响应。Web
服务器也可以接受和存储用户代理发送的资源。红帽身份管理(IdM)使用 Apache
Web 服务器来显示 IdM Web
UI，并协调组件之间的通信，如目录服务器和证书颁发机构(CA)。请参阅 [Apache
Web
服务器](#overview-of-planning-for-identity-management-and-access-control-planning-identity-management.html#Apache-web-server_overview-of-planning-idm-and-access-control){.link}。
::: title
**附加术语表**
:::
如果您在这个术语表中找不到身份管理术语，请查看目录服务器和证书系统术语：
::: itemizedlist
-   [目录服务器 11
    术语表](https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/configuration_command_and_file_reference/glossary){.link}
-   [证书系统 9
    术语表](https://access.redhat.com/documentation/en-us/red_hat_certificate_system/9/html/planning_installation_and_deployment_guide/glossary){.link}
:::
:::
::: section
::: titlepage
# []{#overview-of-planning-for-identity-management-and-access-control-planning-identity-management.html#_additional_resources}其它资源 {.title}
:::
::: itemizedlist
-   有关 Red Hat IdM 的常规信息，请查看红帽客户门户网站中的 [Red Hat
    Identity Management
    产品页](https://access.redhat.com/products/identity-management){.link}。
:::
:::
:::
[]{#failover-load-balancing-high-availability_planning-identity-management.html}
::: chapter
::: titlepage
# []{#failover-load-balancing-high-availability_planning-identity-management.html#failover-load-balancing-high-availability_planning-identity-management}第 2 章 IdM 中的故障转移、负载平衡和高可用性 {.title}
:::
身份管理（IdM）为 IdM 客户端提供了内置的故障转移机制，为 IdM
服务器提供了负载平衡和高可用性功能。
::: section
::: titlepage
# []{#failover-load-balancing-high-availability_planning-identity-management.html#_client_side_failover_capability}客户端故障转移功能 {.title}
:::
::: itemizedlist
-   默认情况下，IdM 客户端中的 `SSSD`{.literal} 服务被配置为使用 DNS
    中的服务(SRV)资源记录来自动决定要连接到的最佳 IdM 服务器。这个行为由
    `/etc/sssd/sssd.conf`{.literal} 文件的 `ipa_server`{.literal}
    参数中的 `_srv_`{.literal} 选项控制：
    ``` literallayout
    [root@client ~]# cat /etc/sssd/sssd.conf
    [domain/example.com]
    id_provider = ipa
    ipa_server = _srv_, server.example.com
    ...
    ```
    如果 IdM 服务器离线，IdM 客户端中的 SSSD 服务会自动连接到另一个 IdM
    服务器。
-   如果您希望因为性能原因绕过 DNS 查找，请从 `ipa_server`{.literal}