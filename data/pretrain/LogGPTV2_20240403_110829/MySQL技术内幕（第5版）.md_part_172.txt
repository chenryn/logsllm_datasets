在
--comments或-c（布尔值）
disable-local-infile.
后进行重试。此选项还可以用于禁用LOCAL功能（如果它启用了的话），如使用选项
出错信息里显示行号。
此选项默认是打开的。如果想禁止行号，可以使用
。使用--skip-column-names 可以禁止显示列名。通过
如果使用--skip-
F.4mysql
737
---
## Page 758
738
--sigint-ignore（布尔值）
--show-warnings（布尔值）
这些限制可以通过设置变量select_limit 和max_join_size来进行修改。
--safe-updates或-U（布尔值）
在输出列值时不对任何特殊字符做转义处理。此选项通常与--batch 选项一起使用。
--raw或-r（布尔值）
--quick或-q
--pager[=program]
--one-database或-o
--no-beep 或-b（布尔值）
--no-auto-rehash或-A
自动显示所有警告（就好像是在每条语句之后执行 SHOWWARNINGS一样）。
口
口
当发生错误时不发出蜂鸣报警声。
此选项等同于--skip-auto-rehash。请参考--auto-rehash 的描述。
止当前语句。如果该语句无法被终止,或者在该语句被终止之前又输入了一个Ctl+C,则mysql
此选项用于忽略 SIGINT 信号，信号通常是通过键入Ctrl+C发送的。Ctrl+C会告知mysql终
开始默认是启用的，而在之前的版本里默认是禁用的。
禁止连接到服务器，除非它支持在MySQL4.1里引入的密码散列算法。此选项自MySQL5.6.7
--secure-auth（布尔值）
此选项会对某些操作施加一些限制，并且能为MySQL新手带来好处：
且会话变量的值都会丢失，而且没有任何提示。
如果连接中断，则自动重新连接服务器。此选项默认是启用的。如果要禁用它，可以使用
--reconnect（布尔值）
者将mysql程序挂起，那么服务器会继续等待，这会影响到与其他客户端的交互。
不这样做则可能会失败）。不过，不应该在交互模式下使用此选项，因为如果用户暂停输出或
行便立即显示的效果，这样可以减少内存占用，同时也可能使某些大型的语句成功执行（如果
通常情况下，mysql会先从服务器检索出整个结果集，然后再显示它。此选项会实现每检索
殊序列。
将主提示符从 mysql>更改成 str 所定义的字符串。此字符串可以包含 F.4.5节列出的各种特
可以使用--skip-pager 选项。
页程序。输出分页功能在批处理模式下不可用，并且在Windows里也不可用。如果要禁用分页，
询结果
它指定的是分页程序的名字（如/bin/more或/bin/less），该程序用于分页显示很长的查
会更新任何内容。
命令行指定的数据库)，并且忽略对其他数据库的更新。如果在命令行没有指定数据库，则不
当通过二进制日志文件更新数据库时可以使用此选项。它会告诉 mysq1只更新默认数据库(即
--skip-reconnect.
目动重新连接在有些情况下会造成麻烦。例如，当前所有处于激活状态的事务都会回滚，并
附录FMySQL程序参考
会拒绝该操作。这样有助于防止意外生成过大的查询结果。
内。对于涉及连接的检索，如果优化程序判断到它检查的行可能会超过100万个，那么它
除非使用了LIMIT子句，否则通过非连接检索方式产生的结果集会被限制在1000行以
分）的表内容。
更新操作（那些修改数据的语句）。这样有助于防止语句意外地更改或删除全部（或大部
只有通过键值识别出被修改的各个行之后，或者只有使用了LIMIT子句之后，才允许进行
果。如果没有指定 program，则mysql 将根据环境变量PAGER的值来决定使用哪一个分
---
## Page 759
F.4.4mysql命令
F.4.3mysql 的变量
除了允许向 MySQL服务器发送 SQL语句之外，mysql 还实现了多个供自己使用的命令。其中，
net_buffer_length
max_join_size
connect_timeout
下面这些mysql变量都可以根据F.2.1.2节的说明进行设置。
--xml或-X（布尔值）
--vertical或-E
--unbuffered或-n（布尔值）
--tee=file_name
--table或-t（布尔值）
它指的是服务器与客户端之间通信时使用的缓冲区的最大大小。默认值为16MB，最大值为
它指的是，当尝试与服务器建立连接时，在超时之前需要等待的秒数。默认值为0。
--skip-line-numbers或-L
_请参考--column-names的描述。
--skip-column-names或-N
如果指定了--safe-updates 选项，则它指的是 SELECT 语句返回的最大行数。默认值为
它指的是服务器与客户端之间通信时使用的缓冲区的初始大小。此缓冲区可以扩张到
那些服务器认为会需要检查超过max_join_size个行的连接操作，它会拒绝执行。默认
它指的是，当指定--safe-updates 选项时，执行连接操作所能产生的最大行数。对于
1GB。
生成XML输出。
如果无法与服务器建立连接，
D
在每一条语句执行完成之后，便刷新用于与服务器进行通信的缓冲区。
以表格形式生成输出，每一个行里的各个值都以表格线进行分隔，且垂直对齐。当mysql不
请参考--line-numbers的描述。
1000。
max_allowed_packet个字节大小。默认大小为16KB。
值为1000000。
--wait或-w
或“\g"）作为查询语句的结束符。
如果不指定此选项，也可以针对各个查询启用垂直显示格式，方法是使用\G（而不是使用“;”
用以指明结果集里的行号。当某个查询产生的输出行很长时，垂直显示格式可能会很有用。
其中每输出行对应一列。（每一输出行由列名和值组成）。显示的每个行的前面都带有一输出行，
按垂直方式显示查询结果，即将查询结果中的每一行（row）都格式化为一组输出行（line)，
此选项在批处理模式下不起作用。
将全部输出信息的副本追加到指定文件中。如果要禁止输出复本，可以使用--skiptee 选项。
以批处理模式运行时，
会退出。使用--sigint-ignore 可以防止 mysql像刚才描述的那样解释Ctul+C。
这是其默认输出格式。
则等待并重试。
F.4 mysql
739
---
## Page 760
--binary-mode 选项，则除了 charset 和 delimiter 以外的所有命令都会被禁用。
mysql>里的长格式命令才能被识别出来。如果以非交互式方式使用mysql，并且在调用它时带有
格式命令，则应该将其忽略掉。
示的大小写形式进行指定。对于长格式命令，行末尾的分号不是必须的，但允许加上；但是对于短
线加单个字母构成的短格式形式。长格式的命令不区分大小写。短格式的命令则必须以下面列表所
每一个命令都必须在独立行里给出。大部分的命令都有由一个单词构成的长格式形式和一个由反斜
740
如果禁用命名命令（例如，使用--disable-named-commands 选项），则只有出现在主提示符
print或\p
pager[program]或\P[program]
口
notee或\t
I口
口go、\g或；
exit
edit或\e
delimiter str或\d str
charset[charset]或\C[charset]
口clear或\c
program）指定的分页显示程序。此命令在Windows里不可用。
把当前语句发送到服务器，并按垂直格式显示查询结果。
口
显示当前语句(即语句自身的文本内容，而非执行它后得到的结果)。
把输出内容发送给通过program或通过环境变量PAGER（如果设置了此变量，并且没有给定
停止自动显示每条语句所生成的任何警告信息。
nowarning或\w
停止将输出内容写到外部文件。
禁止分页显示，并把输出内容发送到标准输出设备。此命令在Windows 里不可用。
nopager或\n
助表加载有关的说明请参考A.3.6节。
contents 可以获得帮助类别列表；使用help category可以获得特定类别的帮助内容；使
如果mysql数据库里的帮助表已被加载，你就可以用help来获得服务器端帮助：使用help
显示帮助信息，其中描述的是可用的mysql命令。
把当前语句发送到服务器，并显示结果。
等同于quit 命令。
这两个变量都没有设置，mysql会使用vi 编辑器。此选项在Windows 里不可用。
编辑当前语句。mySq1会检查环境变量EDITOR 和VISUAL 来确定使用哪一个编辑器。如果
在分隔符里最好避免使用反斜线，因为MySQL会把反斜线当作转义字符。
因此在定义存储程序时此命令可用于为mysql重新定义分隔符。相关示例请参考4.2.1节。
设置语句分隔符。默认分隔符为分号（“；”）。存储程序分析器只能把分号识别为分隔符，
当前mysql会话中最近一次用过的那个值。
连接（或者再次连接）指定主机上的指定数据库。如果省略了数据库名或主机名，则会使用
connect[db_name[host_name]]或\r[db_name[host_name]]
更改默认字符集，并向服务器发送一条SETNAMES语句，以便服务器也使用该字符集。
mysql正在显示其输出的语句。
清除（取消）当前语句（即你正在键入的那条语句)。此命令无法取消已发送给服务器以及
附录FMySQL程序参考
---
## Page 761
种可用的选项。
或--prompt 选项来设置提示符，则需要在指定提示符字符串时双写反斜线字符。）下表列出的是各
列表示的是特殊的提示符选项。序列\d和_分别代表的是默认数据库名和空格。（如果使用环境变量
择不同的数据库，看看提示符是如何随当前选择一起变化的：
mysql>。例如，想要在提示符里包含默认数据库的名字，可以使用下面的 prompt 命令，然后，选
F.4.5
紧跟在prompt关键字后面的是提示符定义字符串。在提示符定义里，以反斜线开头的转义序
mysql
环境变量 MYSQL_PS1、--prompt 选项或 prompt 命令都可用于重定义 mysql 输出的主提示符
warnings 或\W
Database changed
sampdb>UsE test
Database changed
use db_name或\u db_name
把输出内容复制到指定文件的末尾。如果省略了 file_name，则使用上一个文件。
tee [file_name]或\T [file_name]
test>
(none)> USE sampdb;
status 或\s
 source file_name或\.file_name
rehash或\#
prompt [arguments]或\R [arguments]
自动显示每条语句所生成的任何警告信息。
选择指定数据库作为默认数据库。
用默认命令解释器执行command命令。此命令在Windows里不可用。
检索并显示服务器的状态信息。此命令可用于检查服务器版本、默认数据库、SSL密码等。
名，必须双写反斜线或者使用斜线字符（“/”）来代替。
读取并执行包含在指定文件里的语句。对于包含反斜线（“\”）路径名分隔符的Windows文件
描述。
重新计算自动完成数据库名、表名和列名所需要的信息。请参考--auto-rehash 选项有关的
退出mysql 程序。
把提示符恢复为默认值，可以运行不带任何参数的prompt 或\R命令。
示符字符串的一部分，包括其他空格。此字符串可以包含特殊序列（参考F4.5节)。如果想
重新定义主提示符 mysql>。从 prompt 关键字后面第一个空格开始，所有的内容都将成为提
mysq1 提示符定义序列
序列
分钟
当前分隔符
当前主机
完整的日期和时间
默认数据库名；如果未选择数据库，则为“(none)”
当前输入行号
含义
F.4 mysql
741
---
## Page 762
来获得各种正确的标志，这些标志是编译C语言源文件或链接MySQL开发库所需要的：
F.6
位为秒）。默认值为900。当值为0时，表示的是“不等待”；为负值时，表示的是“永远等待”。
service-startup-timeout，其值为一个数值，表示的是该脚本等待服务器启动的时间（单
datadir 和pid_file 选项，并把它们传递给mysql_safe。
mysql.server支持的选项
此脚本也可以通过手动方式带上相应的参数来启动或关闭服务器。
数调用该脚本便可以启动服务器。系统在关机时，带上stop 参数来调用该脚本便可以关闭服务器。
是一个 shell脚本，并且只有在Unix系统里才可用。
F.5
742
mysql_config工具能为开发使用C语言编写的 MySQL应用程序带来好处。可以通过调用它
mysql.server 脚本对标准 MySQL 选项的支持非常有限。它不能从命令行读取任何标准
mysql.server 可以通过调用mysql_safe脚本来启动和关闭mysqla服务器。mysql.server
mysql.server支持的命令行参数包括start和 stop:
mysql.server
mysql.server start
 mysql_config
mysql.server
附录FMySQL程序参考
序列
stop
字符x（x代表的是任何未在上面列出的字符）
换行
反斜线
双引号
单引号
年（4位数字）
年 (2位数字)
星期名字，3个字母
服务器版本
当前用户名，带主机名
当前用户名，
制表符
秒
小时（24小时制）
小时（12小时制）
时间值的am或pm标志
当前端口号、套接字、命名管道名或共享内存名