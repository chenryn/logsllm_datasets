它跟前面的微分方程看起来略有差别，因为这是所谓的二阶微分方程。我们讨论的是变化率的变化率，也许你还记得微积分课讲过，这需要用到二阶导数。这是方程左边部分看上去像被平方了的原因。但是该方程也仅仅表示了球向下以恒定的加速度 g 加速运动这一事实。
到这里，我可以选择使用微积分来求解微分方程。解微分方程并不是要找满足指定关系的值，而是要找满足关系的函数。对上面的微分方程的另一种理解是存在这样的函数，它的二阶导数为 -g 。我们想要找到这个函数，因为它能告诉我们球在任意时刻的高度。好在这个微分方程恰巧是容易求解的。通过这样，我们可以重新推导出那些被我遗忘了的运动方程，从而轻松地计算出球落回来所花的时间。
但是大部分情况下微分方程是很难求解的。有时甚至是无法求解的。假设我在大学时把更多的精力花在了计算机科学上，那么我的另一种选择就是用微分方程来做模拟。如果已知球的初速度和加速度，我可以轻易用 Python 写一个 `for` 循环来逐秒迭代计算球在离手后 t 时刻的速度。在此基础上对循环程序稍加修改，就可以用算出的速度迭代计算出球的高度。运行这个 Python 模拟程序，它就可以计算出球什么时候落回来了。这个模拟并不是完全精确的，但是我可以通过减小计算用的时间步长来提升精度。总之我要做的只是搞清楚当球落回来时我是否还活着。
这就是微分方程的数值解法。这也是大多数领域中求解微分方程时实际采用的方法。对于用数值方法求解微分方程，计算机是必不可少的，因为模拟的精度取决于在微小步长上进行的大量计算。手工计算容易出错并且太耗时。
那如果将这个问题的背景时间设定在 1936 年呢？我仍然希望实现计算过程的自动化。但是此时离  克劳德·香农   Claude Shannon  完成他的硕士论文还有一年时间。在这篇论文中香农用数字电路实现了  布尔代数   boolean algebra 。没有数字计算机可用，恐怕就只能寄希望于于模拟计算机了。
### 微分分析仪
首台微分分析仪是由  范内瓦·布什   Vannevar Bush  和  哈罗德·哈森   Harold Hazen  于 1928 年到 1931 年在 MIT 建造的。他们两人都是工程师。制造它是为了解决应用数学和物理领域中的实际问题。正如布什在 [1931 年的一篇论文](http://worrydream.com/refs/Bush%20-%20The%20Differential%20Analyzer.pdf) 中所说，微分分析仪是为了解决那些“不断为他们所用方程的复杂性而不是深刻性所困扰的”的数学家的所面临的当代问题。
微分分析仪是一台由传动轴、齿轮和转盘组成的复杂仪器，它能够求解高达六阶的微分方程。它是一台由简单部件通过复杂组合而成的神奇机器。在这一点上它和数字计算机很像。不同点是，数字计算机通过在电路中实现布尔代数来模拟代数问题，而微分分析仪通过传动轴、齿轮和转盘直接模拟微分方程问题。微分分析仪的本质就是对实际问题的直接机械类比。
那到底怎么用齿轮和转盘来计算微积分呢？其实这是最容易解释的部分。微分分析仪最重要的构件是六个积分器，每一个对应一阶的微分方程。机械积分器的历史可以追溯到 19 世纪，它是一个相对简单的装置，能够对单个简单函数进行积分运算的。下面我们将了解积分器的工作原理，但顺便说一句，布什的巨大成就不是发明了机械积分器，而是发现了一种将积分器串联起来解决高阶微分方程的方法。
机械积分器由一个大转盘和一个小得多的转轮组成。转盘像唱片机的转台一样平行于地面平放。它由电机驱动匀速转动。转轮竖直的轻放于转盘表面上，其压力既要足够让转盘驱动转轮，又不能太大以致于阻碍转轮相对于转盘自由侧向滑动。总之当转盘转动时，转轮也跟着转动。
转轮的转速由它距离转盘中心的距离决定。转盘的中心部分自然转动得比边缘部分慢。转轮的位置是固定不动的，而转盘被安装在一个可以来回滑动的底座上。这样就可以调节转轮相对转盘中心的位置。下面就是积分器工作的关键原理：转盘底座的位置由积分器的输入函数控制。积分器输出取决于转轮的转动量。所以输入函数驱动了输出函数的变化率，这就是将某个函数的导数转换成了这个函数本身。这不就是积分运算吗？
如果刚才的解释还没有让你理解积分器的原理，那么直接看到机械积分器实际工作的样子应该对你有所帮助。其实它的原理出乎意料的简单，看一遍它的运行过程你肯定就能窥见其运作机制。因此我制作了一个 [运行中的机械积分器动态原理图](https://sinclairtarget.com/differential-analyzer/)，强烈建议你看一看。它展示了通过各个部件的旋转和移动求函数 f(x) 的  不定积分   antiderivative  F(x) 的过程。这可太有趣了。
![我的可视化的一个漂亮的截图，但你应该看看原图！](/data/attachment/album/202302/22/112047sttd3guuki5t33cs.png)
现在我们有了可以做积分运算的组件，但是只靠它还不足以解决微分方程。为了解释求解微分方程的全过程，我将使用布什在他 1931 年的论文中所举的例子。这个例子恰巧跟前面考虑的微分方程是在本质上是一样的。（真是奇妙的巧合！）布什使用下面的微分方程来表示下落物体的运动：
![](/data/attachment/album/202302/22/111237is50zhwsd8vbyhza.png)
这跟前面的网球运动的方程基本上是一样的，只不过布什使用 x 代替了 h ，并且增加了一项来表示空气阻力的减速作用。这个新增项采用了最简单的形式来描述空气阻力的作用：空气减慢球速的比率正比于球的速度（这里 k 是一个常比例系数，我并不关心它的具体取值）。也就说是球运动得越快，空气阻力就越大，对球的减速作用越显著。
为了配置微分分析仪来解决这个微分方程，我们需要从布什称之为“输入面板”的东西开始。输入面板其实就是一张安装在支架上的坐标纸。如果想要解更复杂的方程，首先需要操作员在坐标纸上绘制好输入函数图像，然后在机器启动时用一个与机器主体相连的指针来跟踪函数图像的轨迹。在我们举的例子中，输入是常数 g ，所以我们只需将指针移动到正确的位置并让它保持不动即可。
剩下的变量 x 和 t 又是什么呢？变量 x 表示球的高度，是微分分析仪的输出。它会被绘制在输出面板上的坐标纸上。输出面板与输入面板类似，只是它没有指针，取而代之的是由微分分析仪驱动的绘图笔。变量 t 仅仅是按固定速率步进。（在前面模拟网球运动 Python 程序中，我们通过循环来增加 t 。）变量 t 来源于微分分析仪的电机，它通过匀速转动传动轴来驱动整个计算过程。
布什的原理图对于理解我下面要介绍的内容很有帮助。不过为了便于理解，需要先对微分方程再做一次变换。对方程两边同时进行一次积分，得到下式：
![](/data/attachment/album/202302/22/111356z9mqclq85m5cdt54.png)
现在方程中的各项与微分分析仪运行中各部件转动量所表示的值之间有了更明确的对应关系。布什的原理图如下：
![配置的微分分析器用于解决一个维度上的落体问题。](/data/attachment/album/202302/22/112048uqwq80r00z7abjra.png) 
在原理图的顶部是输入面板，右下角是输出面板。