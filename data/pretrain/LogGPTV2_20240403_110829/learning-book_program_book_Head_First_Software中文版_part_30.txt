可能需要知道修改前的代
到本，但只有绝对必要时才
码，就为你的代码版本上
做分支。
开发原则
打上标记。
经常要将修改提交到存储
总是知道哪些地方要做修改。
目录，但有时要小心，别
破坏了别人的代码。两次
知道什公代码应该放到要发
提交之间的时间越长，合
布的版本—
一并且能够再次
并代码就越困难。
取得它。
针对版本控制系统、有很
控制代码的修改和分发。
多GUI工具。他们极有助
于你合并和处理冲突。
216
第6章
---
## Page 253
版本控制
准备练习
答案
上述方法是对1.0版本（或者是1.1版本？）处理以后的修改问
题，写下3个存在的问题。
1.你说质限照全所服类根配照全款件版基。
2.根难防止2.0服本的代码件收务V1x的补7满通在一起
3.呼位2.0服本可表示你必须某个交件或交逆某个类，以政手样难保证
PDG
目前位置
217
---
## Page 255
6%2构建代码
自动化构建…
我试》在不看说明的情况下，把这
玩意儿装起来，但是一国糖淮
如莲想航的水板也能掌泉绝房子？
遵循说明是值得的.
特别是在你自己撰写它们时。
使用版本控制工具不足以保证代码的安全，你还得去关心编译代码和打包成可配置
PDG
的单元（Deployable Unit）的问题。最重要的是，哪一类是你应用系统的主类？这
些类如何运行？在本章，你将学会如何构建工具（BuildTool）以允许你编写自己的说
明来处理你的源代码。
进入新的篇章
219
---
## Page 256
构建软件
开发人员不是心理学家
假设你的团队来了一个新的开发人员，他可以从版本控制服
务器上调出代码，并且你也已经保护了你的代码，它们不会被
改写。但是，团队的新成员如何知道他要关心的是哪个关联件
（Dependencies）？或者他应该去运行哪个类来做测试？
出代码时没有付么网题，保
是4个类都有期an方法，我不物运如何端
净或地行它们。
第6童中的版本
svn checkout
控制服务器
用源代码可以做很多事情：立即编译它，运行某个特殊
你怎么售定你的新丹
厦人员扣速做什会：
的类（或一组类），把类打包到一个JAR或DLL文件。
或多个库文件：包括一堆关联件面且这些细节因你
的项目不同而不同。
好的代码易
于使用，
也
软件必须可用
易于理解
一旦代码调出，如果你不能确定你的代码能正常工作，这
时将代码放到版本控制服务器上就没有什么用处。并且，
那里是编辑脚本的地方。
220
第6%章
---
## Page 257
构建代码
一步构建你的项目
当某个人想去执行你的项目，他们需要做的事情不只是编译源代码，他们需要构
建项目。把源代码编译成为二进制文件是非常重要的，但构建一个项目通常包括：
找出关联件、把项目打包成可用的形式
并且，由于像这样的任务每次在运行它们时都是相同的，因此，构建项目是自动
化的完美候选：使用一个工具为你处理重复性的工作。如果你正在使用IDE编写你
的代码，当你单击“Build”时，很多事情都为你处理了。但当你按下“Build”按
钮时，还有很多工作需要在进行：
项目的片段
构建过程
工作系统
你巴得到了源代码
和单元测试文件类
退利定件，像图像
或图标
系统准务统储
构建魔法厦生了
部著基送子HTML文件
App.configr等
这是到现在购止我
这是我们现在票
们所美注的。
做的I。
目前位置
221
---
## Page 258
ant简介
Ant:
：一个Java项目的构建工具
Ant是Java的一个构建工具，该工具能编译代码，创建和删除目录，甚至
保可域从网战，ktp./ /ext
能为你打包文件。所有的都是围绕着构建脚本（BuildScript）。以下是你
apache ns/ F 奶Axt,
用XML为Ant写的文件，当你需要构建程序时，告诉工具去做什么。
构建项0的乡源以XML的
文伴形式保存，遥常被命
名为，baild.xml
每个称建文伴代表一个项
C.
R
整个文件波称乏为构建
脚本
instramented°/>
构建项目常要做的工作波
arget names*dlean">
="reportdir*/>
标、每个目标可以布二个
分解成步骤，被称为之日
以企的任务。
target>
用单一会分就开你了构建
Ant在bait.rml中运行缺老的
0标，并显通得你的拖分，
你处理路经时，你可以用存健单元替
3
回标。
代属性值。
你可以把不同的行动组合成一个目标，目标实际上是一组工作。例如，
你可能有为编译的编译目标（compile target），并且有为建立项目的
恭之下色括目录结构的初始目标（init target）。
0标具有名称，并且可以也含一系
一维任务。
别在合之前着进行的目标，
R
任费。
任务是构建脚本中的费力而又枯燥的工作。在Ant中的任务通常对应一
个指定的命令，像javac，mkdir，或甚至javadoc
用rc的属性
.创建了一
>
在两个0标元
景之阅去完成
feild, xom文件。
被，虽小心哦！
destfile="dist/BeatBox.jar
Ca
the
deb
mpiles the binary
files
to
the
srC
directory
/>
mpile
clea
clean
init
ompile
/>
dist
target>
rgets
目前位置
225
---
## Page 262
一个完整的构建脚本
你的任务是为构建BeatBox应用，重新组合一个可工作的
构建文件。
project name=*BeatBox* default=~dist">
你格定了缺省的日标喜调
温有据定的信。一段情况
diet）假如运行Ant的人
“dit"
Mkdinv的任务是的建中
下.送置应信究成证项目
属性操定的目录，
从季到运行的著件事情。