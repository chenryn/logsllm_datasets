### 目录

#### 第20章 IP和MAC地址转发及相关协议
- **20.4.4 IP MAC转发** ................................................... 481
- **20.4.5 IP地址转发** ..................................................... 482
- **20.4.6 网元控制协议** ................................................. 484
- **20.5 代理的重定向方法**
  - **20.5.1 显式浏览器配置** ........................................... 485
  - **20.5.2 代理自动配置** ............................................... 485
  - **20.5.3 Web代理自动发现协议** ............................... 487
- **20.6 缓存重定向方法** ................................................... 492
- **20.7 因特网缓存协议** ................................................... 496
- **20.8 缓存阵列路由协议** ............................................... 497
- **20.9 超文本缓存协议**
  - **20.9.1 HTCP认证** .................................................... 502
  - **20.9.2 设置缓存策略** ............................................... 503
- **20.10 更多信息** ........................................................... 504

#### 第21章 日志记录与使用情况跟踪
- **21.1 记录内容** ........................................................... 506
- **21.2 日志格式**
  - **21.2.1 常见日志格式** ............................................... 507
  - **21.2.2 组合日志格式** ............................................... 508
  - **21.2.3 网景扩展日志格式** ....................................... 509
  - **21.2.4 网景扩展2日志格式** ................................. 510
  - **21.2.5 Squid代理日志格式** ................................. 512
- **21.3 命中率测量**
  - **21.3.1 概述** ........................................................... 515
  - **21.3.2 Meter首部** .................................................. 516
- **21.4 关于隐私的考虑** ................................................... 517
- **21.5 更多信息** ........................................................... 518

### 第六部分 附 录
- **附录A URI方案** ............................................................ 521
- **附录B HTTP状态码** .................................................... 529
- **附录C HTTP首部参考** ............................................... 533
- **附录D MIME类型** ........................................................ 557
- **附录E Base-64编码** .................................................... 603
- **附录F 摘要认证** ............................................................. 607
- **附录G 语言标记** ............................................................ 615
- **附录H MIME字符集注册表** ....................................... 641
- **索引** ...................................................................................... 661

### 第一部分：HTTP和Web的基础
本部分主要概述HTTP协议。接下来的四章将介绍Web的基础构件以及HTTP的核心技术。
- **第1章 HTTP概述**
  - 本章简要概述HTTP，介绍Web客户端与服务器如何通信、资源来源、Web事务的工作原理、HTTP报文格式、底层TCP网络传输、不同的HTTP协议变体以及因特网上安装的大量HTTP架构组件。

#### 1.1 HTTP——因特网的多媒体信使
每天，数以亿计的JPEG图片、HTML页面、文本文件、MPEG电影、WAV音频文件、Java小程序和其他资源在因特网上游弋。HTTP可以从遍布全球的Web服务器上迅速、便捷、可靠地将这些信息块搬移到用户桌面上的Web浏览器上。HTTP使用可靠的数据传输协议，确保数据在传输过程中不会被损坏或产生混乱，从而保证了信息的完整性。开发人员可以专注于应用程序特有细节的编写，而无需担心因特网中的缺陷和问题。

#### 1.2 Web客户端和服务器
Web内容存储在Web服务器上，这些服务器使用HTTP协议，因此也被称为HTTP服务器。HTTP客户端向服务器发送请求，服务器在响应中回送所请求的数据（如图1-1所示）。最常见的HTTP客户端是Web浏览器，例如微软的Internet Explorer或网景的Navigator。浏览一个页面时（例如 http://www.oreilly.com/index.html），浏览器会向服务器发送HTTP请求，服务器找到所期望的对象后，将其及其相关信息通过HTTP响应发送给客户端。

#### 1.3 资源
Web服务器是Web资源的宿主，Web资源是Web内容的源头。最简单的Web资源是Web服务器文件系统中的静态文件，但资源也可以是根据需要生成内容的软件程序。所有类型的内容来源都是资源，包括文件、Web网关和搜索引擎等。

##### 1.3.1 媒体类型
因特网上有数千种不同的数据类型，HTTP使用MIME类型来标记每种对象的数据格式。MIME类型是一种文本标记，表示一种主要的对象类型和一个特定的子类型，中间由一条斜杠分隔。常见的MIME类型包括：
- HTML文档：`text/html`
- ASCII文本文档：`text/plain`
- JPEG图片：`image/jpeg`
- GIF图片：`image/gif`
- QuickTime电影：`video/quicktime`
- PowerPoint演示文件：`application/vnd.ms-powerpoint`

##### 1.3.2 URI
每个Web服务器资源都有一个名字，称为统一资源标识符（URI）。URI像因特网上的邮政地址一样，在世界范围内唯一标识并定位信息资源。URI有两种形式：URL和URN。

##### 1.3.3 URL
统一资源定位符（URL）是最常见的资源标识符形式，描述了一台特定服务器上某资源的特定位置。URL的标准格式包含三个部分：
- 方案（scheme）：说明访问资源所使用的协议类型，通常是HTTP。
- 服务器的因特网地址。
- Web服务器上的某个资源。

##### 1.3.4 URN
统一资源名（URN）是作为特定内容的唯一名称使用的，与资源所在地无关。URN仍处于试验阶段，还未大范围使用。为了更有效地工作，URN需要一个支撑架构来解析资源的位置。