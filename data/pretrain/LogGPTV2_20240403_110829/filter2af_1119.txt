# 【安全科普】基于网络的入侵检测和入侵防御系统

##### 译文声明
本文为翻译文章，原文来源：securitydocs.com
原文地址：[请在此处插入链接]
译文仅供参考，具体内容及含义以原文为准。
译者：shan66
预估稿费：200 RMB
投稿方式：发送邮件至linwei#360.cn 或登录网页版在线投稿

**概要**
在本文中，我们将详细探讨入侵检测系统（IDS）和入侵防御系统（IPS），它们是网络安全的重要机制之一。近年来，网络攻击威胁呈指数级增长，几乎每个月都有数据泄露事件发生。虽然基于网络的IDS/IPS并非新技术，但仍是实现网络安全不可或缺的一部分。本文将全面介绍IDS/IPS，并提供高水平的设计思路及其在不同IT环境中的应用。涵盖的主题包括：
- 基于网络的IDS和IPS概述
- 基于主机的IPS/IDS及其优缺点
- 企业级IDS/IPS设计
- 基于设备的设计
- 基于路由器的设计
- 基于防火墙的设计
- 针对云环境的IDS/IPS设计
- 针对智能IOT设备的IDS/IPS设计
- 使用机器学习进行入侵检测

**什么是IDS和IPS？**
入侵检测系统（IDS）是一种通过实时监控网络流量来识别恶意活动的软件工具。选择合适的工具对于满足不同的工作需求至关重要。IDS通常部署在防火墙之后，但在决定部署前，深入了解流量特性和整体网络架构非常关键。建议使用多个IDS系统来覆盖整个网络。常见的入侵检测方法包括：

- **签名匹配**：供应商可以在IDS系统中配置超过2000个签名，以匹配已知攻击模式。每当新数据包到达时，系统会检查其与数据库中现有签名的相似性。若发现匹配，则触发警报。
- **行为异常检测**：建立某些基准，例如，如果单位内同时有30人发起连接请求，设定阈值为5倍，即当同时出现超过150个连接请求时视为异常并生成警报。
- **协议异常检测**：如合法协议限定为HTTP，而检测到其他协议或未知命令违反常规协议时，亦会发出警报。

**入侵防御系统（IPS）**
与仅能发出警告的IDS不同，IPS位于网络路径中，所有流量必须先经过IPS才能到达服务器，从而有效阻止潜在攻击。

**设计注意事项**
1. IDS通常放置在防火墙之后。
2. 在特定设计方案中，位置1处的IDS用于保护Web服务器。
3. 位置2处的IDS则负责防范针对网络其余部分的恶意软件攻击。
4. 这种IDS属于网络型而非基于主机，意味着它可能无法检测两台对等主机之间产生的恶意软件，比如DNS与Exchange服务器间的通信。

**基于主机的IDS/IPS**
此类系统监控单一计算机，运行在其上并分析日志文件以发现异常。尽管能够检测出问题，但往往是在攻击已经发生后。相比之下，设计良好的基于网络的IPS可以完全取代前者。此外，大规模部署成本较高，因为需要为每台主机购买许可证。

**基于设备的IDS/IPS**
您可以在物理或虚拟服务器上安装IDS，这要求有两个接口分别处理入站和出站流量。例如，在Ubuntu虚拟机中部署Snort IDS软件。

**基于路由器的IDS/IPS**
作为多数流量的必经之路，特别是连接互联网的边界路由器成为重要的防线。许多第三方解决方案允许将IDS/IPS功能集成进路由器，形成抵御外部威胁的第一道屏障。

**防火墙上的IDS/IPS**
传统防火墙侧重于防止外部入侵进入内部网络，而不关注内部活动。然而，一些供应商如Palo Alto Networks已在产品中整合了IPS/IDS功能，增强了对内部威胁的防护能力。

**针对云环境的IDS/IPS设计**
对于完全托管在公有云上的应用程序，用户倾向于自行实施IDS而非依赖云服务商提供的服务。利用开源工具如Snort社区镜像或商业解决方案如Sourcefire支持的亚马逊平台上的Snort IDS，可以实现有效的云端安全监测。

**针对智能IOT设备的IDS/IPS设计**
随着物联网技术的发展，专用的保护措施变得愈发重要。由于设备类型多样且资源有限，定制化的IDS方案必不可少。CUJO是一款专为智能家居设计的安全设备，结合了防火墙和IDS功能，并通过云端数据库共享威胁情报，提升了整体安全性。

**基于机器学习的入侵检测**
现代机器学习算法可用于异常检测，如分析电子邮件发送时间规律、URL请求特征等。这些技术有助于及时发现并响应新型威胁。

**结论**
合理规划IDS/IPS的位置是确保网络安全的关键步骤之一。根据实际需求灵活运用各种设计方案，特别是在面对日益复杂的IoT生态系统时更需谨慎考虑。当前大多数成功的网络攻击都归因于缺乏足够的入侵检测机制。