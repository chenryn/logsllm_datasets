# 2017年度安卓系统安全性生态环境研究
##### 译文声明
本文是翻译文章
译文仅供参考，具体内容表达以及含义原文为准。
##
## 摘 要
此报告数据来源为“360透视镜”（360发布的一款专业检测手机安全漏洞的APP,
http://shouji.360.cn/vulscanner.htm）用户主动上传的80万份漏洞检测报告，检测内容包括最近两年的Android和Chrome安全公告中检出率最高的64个漏洞，涵盖了Android系统的各个层面。
检测结果显示，截止至2017年12月，所测设备中93.94%的Android手机存在安全漏洞，有6.06%的设备完全没有检测出漏洞，安全程度同比上升1.64%，这一数据刷新了国内安卓系统安全生态情况的最高纪录，同比2016年，手机安全程度呈上升趋势。
Android版本占比最高的3个版本分别为Android 6.0、Android 5.1和 Android
4.4，比例分别为38%、28%和22%，Android 7.0和7.1版本所占比例分别为3%和4%，而最新版的Android
8.0和8.1版本占比几乎为0%。从结果上看，Android版本高低和漏洞数量多少并没有严格的线性关系，在高版本系统上（7.0及以上），漏洞数量明显减少，平均漏洞数有所降低。与上季度相比，用户整体的版本更新和推进变化不大，Android
6.0依旧是用户量最多的系统，高版本系统7.0和7.1继续保持缓慢上升趋势；在平均漏洞数方面，以6.0版本为分界线，6.0及以下平均漏洞数量整体保持上升，而7.0及以上的平均漏洞数相比上个季度则有所降低。虽然检测的漏洞总案例在继续增加，但高版本系统平均漏洞降低的这种情况与新版本系统中安卓系统安全补丁的普及有很大的关系。
用户手机的平均漏洞数量存在比较明显的地域特征，上海、广东、天津等地区的用户手机平均漏洞数量最少，青海、宁夏、甘肃等地区的用户手机漏洞数量相对较多。这一数据的顺序较上一季度略有变化，整体平均漏洞数基本持平。
不同性别的用户平均系统版本较上一季度均有所提升，男性用户的手机版本平均比女性用户的手机版本低，女性用户的手机平均漏洞数量比男性用户低。
在安全更新推送时效性方面，本季度的检测结果显示推送安全更新最及时的TOP 5品牌分别为VIVO、三星、华为、小米和OPPO。
其中87.4%的设备存在浏览器内核相关漏洞，浏览器内核漏洞最多的设备同时存在4个漏洞，占比18.2%，仅有12.6%的设备不受浏览器内核漏洞影响。与上一季度相比，浏览器安全情况有较大缓解，通过我们的观测，这与浏览器内核的升级有直接关联，新版本浏览器内核所占比例明显有所增长。
安卓手机用户中，约有46.0%的用户会保持手机系统（特指安全补丁等级）版本与厂商所提供的最新版本保持一致，约有14.6%的用户的手机系统版本会保持滞后厂商最新版本1到3个月，接近9%的用户会滞后4到6个月，其余用户会滞后半年以上。其中保持手机系统更新的用户相较上个季度无明显差异，同比2016年，也无明显差异。
与安卓官方最新更新情况相比，用户手机系统平均滞后了约11.1个月；但与手机厂商已经提供该机型的最新版本相比，则平均只滞后了4.1个月。这两项数据上看，安全补丁的更新环比均有所滞后，但整体差距不大。由此可见，用户手机因未能及时更新而存在安全漏洞的重要原因之一，就是手机厂商普遍未能实现其定制开发的安卓系统与Google官方同步更新，而且滞后性比较明显。  
 **关键词：安卓安全、安卓漏洞、漏洞检测。**
## 研究背景
在中国，Android系统作为智能手机中市场占有率最高的移动操作系统，承载着亿万手机用户的生产生活，大量的Android开发人员为其添砖加瓦。但树大招风，Android智能手机也暴露在各种恶意软件、系统漏洞的威胁之中，无数恶意软件、电信诈骗不断挑战用户的安全意识，但各种隐藏在系统之中的系统漏洞对用户的手机安全影响更为可怕。  
由于Android操作系统目前仍未有非常完善的补丁机制为其修补系统漏洞，再加上Android系统碎片化严重，各手机厂商若要为采用Android系统的各种设备修复安全问题则需投入大量人力物力。  
随着各种系统漏洞的不断披露，现存的Android智能手机就像一艘漏水的船，纵然手机安全软件能够缓解一些安全隐患，但系统中的漏洞仍未能有效修补，攻击大门依旧打开。而Android平台之上的安全软件又无法被授予系统的最高权限，因而Android系统安全问题一直非常棘手。  
为了让消费者了解到自己手机的安全性，360历时一年打造了中国第一个Android平台的手机漏洞检测工具“360透视镜”（https://shouji.360.cn/vulscanner.htm），并向社会公开，任何用户和个人都可下载安装。“360透视镜”应用依据Android官方提供的安全补丁更新通知作为漏洞信息来源，在Android系统上实现了无需申请敏感权限即可检测Android系统中存在的漏洞这一核心功能，降低了用户了解自己手机安全状况的限制门槛。  
此报告基于“360透视镜”应用用户主动上传的80万份漏洞检测报告，检测内容包括近两年（最新漏洞检测更新至2017年12月）Android与Chrome安全公告中检出率最高的64个漏洞，涵盖了Android系统的各个层面，且都与具体设备的硬件无关。我们统计并研究了样本中的漏洞测试结果数据，并对安全状况予以客观具体的量化，希望引起用户和厂商对于手机系统漏洞的关注与重视，为Android智能手机用户的安全保驾护航，并希望以此来推进国内Android智能手机生态环境的安全、健康发展。
## 第一章 手机系统安全性综述
### 一、 系统漏洞的危险等级
此次报告评测的64个系统漏洞，按照Google官方对系统漏洞的危险评级标准，按照危险等级递减的排序规则，共分为严重、高危、中危三个级别。即“严重”级别的漏洞对系统的安全性影响最大，其次为“高危”级别漏洞，然后为“中危”级别漏洞，低危漏洞未入选。  
在这64个漏洞中，按照其危险等级分类，有严重级别漏洞11个，高危级别漏洞36个，中危级别漏洞17个。其中高危以上漏洞对用户影响较大，在此次安全评测中对此类漏洞的选取比例达73.4%。  
此次系统安全分析结果显示：
87.5%的Android设备受到中危级别漏洞的危害，93.9%的Android设备存在高危漏洞，88.1%的Android设备受到严重级别的漏洞影响。
### 二、 系统漏洞的危害方式
此次报告评测的64个系统漏洞，参照Google官方对系统漏洞的技术类型分类标准并加以适当合并，按照各漏洞的明显特征分类，共分为远程攻击、权限提升、信息泄漏三个类别。远程攻击漏洞是指攻击者可以通过网络连接远程对用户的系统进行攻击的漏洞，权限提升是指攻击者可以将自身所拥有的权限得以提升的漏洞，信息泄漏则为可以获得系统或用户敏感信息的漏洞。  
在这64个漏洞中，按照其危害方式分类，有远程攻击漏洞30个，权限提升漏洞24个，信息泄漏漏洞10个。  
此次系统安全分析结果显示：92.3%的设备存在远程攻击漏洞，91.5%的设备存在权限提升漏洞，85.6%的设备存在信息泄露漏洞。与往期相比，虽然检测漏洞数又有所增加，但影响设备比例有所降低，主要原因为部分设备的厂商大幅度更新手机的安全性，将设备的补丁等级保持与谷歌同步，修复了所有漏洞。
为了观察不同类别的漏洞中哪些影响的设备比例最多，我们分别对三种类别的漏洞进行统计排序，挑选出了各类别中影响设备比例占比前三名的漏洞，其中影响最广泛信息泄露漏洞仍然为CVE-2016-1677，72.5%的设备都存在这个漏洞，环比上升1.8%；权限提升漏洞中，CVE-2017-0666依然影响最广，77.7%的设备均受影响，影响比例下降5.2%；远程攻击漏洞中，CVE-2015-7555影响设备依然最多，影响77.7%的设备，下降10.5%。而第三季度中我们关注的CVE-2016-3861在本季度中影响设备比例已经退出Top3，取代它的位置是漏洞CVE-2015-6764，影响63.0%的设备。
第二季度中Android
新修复并公开的CVE-2015-7555漏洞在本季度中影响设备数量依然十分庞大，同比仅降低了10.5%，并且预计在未来一段时间仍会如此。CVE-2017-13156即是12月披露的“Janus”漏洞，影响59.7%的设备。  
远程攻击漏洞，是危险等级高、被利用风险最大的漏洞，也是我们最关注的漏洞，为此我们统计了每期报告中远程攻击漏洞排名Top3的趋势变化，结果如下图所示。
远程攻击漏洞整体呈下降趋势，但是受漏洞影响的设备依旧保持在较高比例，4成以上的用户手机仍然处于被远程攻击的风险之中，安全形势并不乐观。
### 三、 系统浏览器内核的安全性
系统浏览器内核是用户每日使用手机时接触最多的系统组件，不仅仅是指用户浏览网页的独立浏览器，实际上，许多安卓应用开发者考虑到开发速度、保障不同设备之间的统一性等因素，会使用系统提供的浏览器内核组件。因而用户在每日的手机使用中，大多会直接或间接地调用了系统浏览器内核。  
在此次评测中，系统浏览器内核是指Android系统的Webview组件的核心，在Android
4.4之前，Android系统的Webview是基于Webkit的，在Android
4.4及以后的系统中，Webview的核心被换成了Chromium(Chrome的开源版本，可近似理解为Chrome)。  
在统计的样本中，其中Webkit内核版本由于其版本较为一致，故在示意图中仅占一块，其余为Chrome内核的不同版本。本季度Webkit所占比重几乎为0%，较上季度降低9%。截止至本季度，当前Google发布的Android平台Chrome稳定版的内核的最新版本为Chrome
60，而在此次检测中有1%的用户将自己手机中的浏览器内核升级至最新。而从图中可以看出，Chrome内核版本大于等于55的设备占24%。对比上一季度的数据，版本大于50的设备比例有所增长，从18%增至27%。在此次检测中，并且最新版本60在国内用户之中占比1%，同比上季度增长0.91%，说明国内厂商有更新浏览器内核的举措。总的来说，浏览器内核整体版本有所跟新推进，国内安卓生态圈中对浏览器内核的更新进度相对有所增强，但仍存在严重的更新滞后问题，第二节远程攻击漏洞中跻身Top3的CVE-2015-6764，即是浏览器内核漏洞，足以说明这一点。
为了研究不同浏览器内核版本的安全性，我们统计了不同版本的浏览器内核的平均漏洞个数。下图显示了不同Webview版本平均漏洞数量，其中内核版本在Chrome
46以下的版本中漏洞数量明显高于Chrome 47以上版本，Chrome
55以上版本漏洞数量相对最少。从图中可以看出较新版本浏览器内核漏洞数量相对较少，其中Chrome
57版本及以上的设备平均漏洞检出情况则为0。以上数据充分说明保持最新版本的浏览器内核可以十分有效增强手机浏览器内核的安全性。
浏览器内核漏洞多数可通过远程方式利用，因而对于用户的手机安全危害较大。安卓系统浏览器内核漏洞的分布情况如下图所示。其中87.4%的设备存在至少一个浏览器内核漏洞，18.2%的设备同时存在4个浏览器内核漏洞，为漏洞数量最多的设备。有12.6%的设备不受这些漏洞影响。较上一季度，浏览器安全情况有所上升，但上升比例不大。整体来看浏览器安全状态有所缓解，浏览器内核版本的更新所带来的效果十分显著，但老旧设备的升级情况无明显好转，用户依然暴露在浏览器漏洞的威胁之中。