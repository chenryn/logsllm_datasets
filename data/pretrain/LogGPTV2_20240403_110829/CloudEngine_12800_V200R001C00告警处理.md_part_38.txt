CloudEngine 12800系列交换机
告警处理 22 IFNET
22
IFNET
关于本章
22.1 IFNET_1.3.6.1.6.3.1.1.5.3 linkdown
22.2 IFNET_1.3.6.1.6.3.1.1.5.4 linkup
相关主题
IF-MIB
文档版本 06 (2017-09-12) 华为专有和保密信息 294
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 22 IFNET
22.1 IFNET_1.3.6.1.6.3.1.1.5.3 linkdown
Trap Buffer 信息解释
The interface status changes. (ifName=[ifName], AdminStatus=[ifAdminStatus],
OperStatus=[ifOperStatus], Reason=[Reason], mainIfname=[mainIf])
接口状态改变。
Trap 属性
Trap属性 描述
Alarm or Event Alarm
Trap Severity Critical
Mnemonic Code linkdown
Trap OID 1.3.6.1.6.3.1.1.5.3
Alarm ID 0x08520003
Alarm Type equipmentAlarm
Raise or Clear Raise
Match trap IFMCOMM_1.3.6.1.6.3.1.1.5.4 linkup
Trap Buffer 信息参数
参数名称 参数含义
ifName 接口名称
AdminStatus 接口管理状态
OperStatus 接口当前的状态
Reason 告警产生原因
mainIfname 主接口名称
VB 信息参数
VB OID VB Name VB Index
1.3.6.1.2.1.2.2.1.1 ifIndex ifIndex
1.3.6.1.2.1.2.2.1.2 ifDescr ifIndex
文档版本 06 (2017-09-12) 华为专有和保密信息 295
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 22 IFNET
VB OID VB Name VB Index
1.3.6.1.2.1.2.2.1.7 ifAdminStatus ifIndex
1.3.6.1.2.1.2.2.1.8 ifOperStatus ifIndex
对系统的影响
接口不能正常转发报文。
可能原因
原因1：The physical link status of an interface became Down.（接口物理链路变为Down状
态。）
原因2：LACP negotiation failed.（LACP协商失败。）
原因3：The CHAP authentication failed.（CHAP认证失败。）
原因4：The PAP authentication failed.（PAP认证失败。）
原因5：The interface was shut down.（接口被shutdown。）
原因6：The link protocol is Down.（链路层协议变为Down状态。）
原因7：The main interface is Down.（主接口变为Down状态。）
原因8：The conditions for the activation of the interface are not met.（无法达到接口Up的
条件。）
原因9：The interface is deleted.（接口被删除。）
原因10：BFD session is down.（BFD会话变为Down状态。）
原因11：VRRP FLOW DOWN.（VRRP状态变为Backup或Initialize状态。）
原因12：The interface is error down.（接口的链路协议状态为error-down。）
原因13：The interface is error down.（接口的链路协议状态为error-down。）
原因14：CRC ERR DOWN.（接口误码率超过误码告警阈值。）
原因15：CRC ERR UP.（接口误码率降低到误码告警阈值以下。）
原因16：Transceiver speed does not match the speed configured on the port.（当前接口上
传输速率和配置的速率不匹配。）
原因17：The port does not support current tranceiver.（当前接口插入了不支持的介
质。）
原因18：Transceiver does not support the negotiation configuration on the port.（当前接口
上的介质不支持negotiation配置。）
原因19：The interface is trigger down （接口报Trigger-Down。）
文档版本 06 (2017-09-12) 华为专有和保密信息 296
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 22 IFNET
处理步骤
l 原因1：The physical link status of an interface became Down.
a. 请在接口视图下执行命令display this，查看两端接口是否被shutdown。
n 如果接口被shutdown，可执行命令undo shutdown打开接口。
n 如果接口未被shutdown，则请执行步骤2。
b. 请查看物理链接是否正常（包括网线、光模块等硬件是否松动或脱落）。
n 如果物理链路工作不正常，可以重新正确连接物理线路，然后检查告警
是否被清除。如果未被清除，则请执行步骤3。
n 如果物理链路工作正常，则请执行步骤3。
c. 请收集日志文件联系技术支持人员。
l 原因2：LACP negotiation failed.（LACP协商失败。）
a. 请在系统视图下执行命令display interface，检查本端和对端接口是否Down。
n 如果接口Down，则请在接口视图下执行命令undo shutdown，查看告警
是否被清除。如果未被清除，则请执行步骤2。
n 如果接口Up，则请执行步骤2。
b. 请在系统视图下执行命令display interface eth-trunk，查看本端和对端加入
Eth-Trunk的成员口数目是否大于成员链路数的上限阈值。
n 如果本端和对端加入Eth-Trunk的成员口数目大于成员链路数的上限阈
值，则请在Eth-Trunk接口视图下执行命令max active-linknumber，配置
合适的Eth-Trunk接口成员链路数的上限阈值，查看告警是否被清除。如
果未被清除，则请执行步骤4。
n 如果本端和对端加入Eth-Trunk的成员口数目小于成员链路数的上限阈
值，则请执行步骤3。
c. 请在系统视图下执行命令display interface eth-trunk查看本端和对端加入Eth-
Trunk的成员口数目是否小于成员链路数的下限阈值。
n 如果本端和对端加入Eth-Trunk的成员口数目小于成员链路数的下限阈
值，则请在Eth-Trunk接口视图下执行命令least active-linknumber，配置
合适的th-Trunk接口成员链路数的下限阈值，查看告警是否被清除。如果
未被清除，则请执行步骤4。
n 如果本端和对端加入Eth-Trunk的成员口数目大于成员链路数的下限阈
值，则请执行步骤4。
d. 请收集日志文件联系技术支持人员。
l 原因3：The CHAP authentication failed.
a. 请在接口视图下执行命令display this查看本端是服务器端（验证对端）还是
客户端（被对端验证）。
n 如果本机作为服务器端，则检查对端的用户和密码配置是否正确。如果
用户和密码不正确，请在AAA视图下使用命令local-user password重新配
置。然后检查告警是否被清除。如果未被清除，则请执行步骤2。
n 如果本机作为客户端，则在接口视图下执行命令display this查看本端的
用户和密码配置是否正确。如果用户和密码不正确，请在AAA视图下使
用命令local-user password重新配置。然后检查告警是否被清除。如果未
被清除，则请执行步骤2。
b. 请收集日志文件联系技术支持人员。
l 原因4：The PAP authentication failed.
文档版本 06 (2017-09-12) 华为专有和保密信息 297
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 22 IFNET
a. 请在接口视图下执行命令display this查看本端是服务器端（验证对端）还是
客户端（被对端验证）。
n 如果本机作为服务器端，则检查对端的用户和密码配置是否正确。如果
用户和密码不正确，请在AAA视图下使用命令local-user password重新配
置。然后检查告警是否被清除。如果未被清除，则请执行步骤2。
n 如果本机作为客户端，则在接口视图下执行命令display this查看本端的
用户和密码配置是否正确。如果用户和密码不正确，请在AAA视图下使
用命令local-user password重新配置。然后检查告警是否被清除。如果未
被清除，则请执行步骤2。
b. 请收集日志文件联系技术支持人员。
l 原因5：The interface was shut down.
a. 请在接口视图下执行命令display this，查看两端接口是否被shutdown。
n 如果接口被shutdown，可执行命令undo shutdown打开接口。
n 如果接口未被shutdown，则请执行步骤2。
b. 请收集日志文件联系技术支持人员。
l 原因6：The link protocol is Down.
a. 请在接口视图下执行命令display this，查看两端接口是否被shutdown。
n 如果接口被shutdown，可执行命令undo shutdown打开接口。
n 如果接口未被shutdown，则请执行步骤2。
b. 根据对应的链路层协议，检查协议Down的原因。
n 如果链路层协议可以Up，则故障清除。
n 如果链路层协议仍无法Up，则请执行步骤3。
c. 请收集日志文件联系技术支持人员。
l 原因7：The main interface is Down.
a. 请在接口视图下执行命令display this，查看两端接口是否被shutdown。
n 如果接口被shutdown，可执行命令undo shutdown打开接口。然后检查告
警是否被清除。如果未被清除，则请执行步骤2。
n 如果接口未被shutdown，则请执行步骤2。
b. 请查看物理链接是否正常（包括网线、光模块等硬件是否松动或脱落）。
n 如果物理链路工作不正常，可以重新正确连接物理线路，然后检查告警
是否被清除。如果未被清除，则请执行步骤3。
n 如果物理链路工作正常，则请执行步骤3。
c. 请收集日志文件联系技术支持人员。
l 原因8：The conditions for the activation of the interface are not met.
a. 请在系统视图下执行命令display interface检查本端和对端接口物理状态是否
为Up。
n 如果接口的物理状态为Down，则在接口视图下执行命令undo shutdown
打开接口，然后检查告警是否被清除。如果未被清除，则请执行步骤2。
n 如果接口的物理状态为Up，则请执行步骤2。
b. 请在系统视图下执行命令display eth-trunk检查本端和对端加入Trunk的成员
口数目是否大于max active-linkup number的值。
n 如果本端和对端加入Trunk的成员口数目大于max active-linkup number的
值，则无需处理，属于LACP协议正常协商现象。
文档版本 06 (2017-09-12) 华为专有和保密信息 298
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 22 IFNET
n 如果本端和对端加入Trunk的成员口数目小于max active-linkup number的
值，则请执行步骤3。
c. 请在系统视图下执行命令display eth-trunk检查本端和对端加入Trunk的成员
口数目是否小于least active-linkup number的值。
n 如果本端和对端加入trunk的成员口数目小于least active-linkup number的
值，则执行命令least active-linknumber配置Trunk的least active-linup
number的值，使得加入Trunk的成员口数目大于或者等于least active-
linkup number。
n 如果本端和对端加入Trunk的成员口数目大于least active-linkup number的
值，则请执行步骤4。
d. 请收集日志文件联系技术支持人员。
l 原因9：The interface is deleted.
通常是用户删除某逻辑接口，正常运行信息，无需处理。
l 原因10：BFD session is down.
a. 请在系统视图下执行命令display bfd session查看BFD会话信息。
n 如果BFD会话绑定当前接口，并且BFD会话为Down状态，请参考BFD会
话的相关故障处理内容。
n 如果BFD会话绑定当前接口，并且BFD会话为Up状态，则请执行步骤2。
b. 请收集日志文件联系技术支持人员。
l 原因11：VRRP FLOW DOWN.
a. 请在系统视图下执行命令display vrrp查看VRRP的状态信息。
n 如果管理VRRP为Down状态，请参考VRRP的相关故障处理内容。
n 如果管理VRRP为Up状态，则请执行步骤2。
b. 请收集日志文件联系技术支持人员。
l 原因12：The interface is error down.
处理建议的详细信息请参考处理步骤。
l 原因13：The interface is error down.
处理建议的详细信息请参考处理步骤。
l 原因14：CRC ERR DOWN.
a. 执行命令display interface [ interface-type [ interface-number ] | slot slot-
number ]，查看接口的链路协议状态。
n 如果接口的链路协议状态为UP(Bit-error-detection down)，表明接口误码
率超过的误码告警阈值，则请执行步骤2。
n 如果接口的链路协议状态不是UP(Bit-error-detection down)，则请执行步
骤3。
b. 请查看物理链接是否正常（包括网线、光模块等硬件是否松动或脱落）。
n 如果物理链路工作不正常，可以重新正确连接物理线路，然后检查告警
是否被清除。如果未被清除，则请执行步骤3。
n 如果物理链路工作正常，则请执行步骤3。
c. 请收集日志文件联系技术支持人员。
l 原因15：CRC ERR UP.
正常运行信息，无需处理。
文档版本 06 (2017-09-12) 华为专有和保密信息 299
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 22 IFNET
l 原因16：Transceiver speed does not match the speed configured on the port.
a. 删除端口上已配置的速率信息，然后检查告警是否被清除。如果未被清除，
则请执行步骤2。
b. 请查看物理链接是否正常（包括网线、光模块等硬件是否松动或脱落）。
n 如果物理链路工作不正常，可以重新正确连接物理线路，然后检查告警
是否被清除。如果未被清除，则请执行步骤3。
n 如果物理链路工作正常，则请执行步骤3。
c. 请收集日志文件联系技术支持人员。
l 原因17：The port does not support current tranceiver.
a. 请更换匹配的光电模块，然后检查告警是否被清除。如果未被清除，则请执
行步骤2。
b. 请查看物理链接是否正常（包括网线、光模块等硬件是否松动或脱落）。
n 如果物理链路工作不正常，可以重新正确连接物理线路，然后检查告警
是否被清除。如果未被清除，则请执行步骤3。
n 如果物理链路工作正常，则请执行步骤3。
c. 请收集日志文件联系技术支持人员。
l 原因18：Transceiver does not support the negotiation configuration on the port.
a. 删除端口上已配置的negotiation配置，然后检查告警是否被清除。如果未被清
除，则请执行步骤2。
b. 请查看物理链接是否正常（包括网线、光模块等硬件是否松动或脱落）。
n 如果物理链路工作不正常，可以重新正确连接物理线路，然后检查告警
是否被清除。如果未被清除，则请执行步骤3。
n 如果物理链路工作正常，则请执行步骤3。
c. 请收集日志文件联系技术支持人员。
l 原因19：The interface is trigger down
a. 执行命令display interface [ interface-type [ interface-number ] | slot slot-
number ]，检查对应接口是否(TRIGGER DOWN)。
n 如果接口状态是TRIGGER DOWN，则请执行步骤2。
n 如果接口状态不是TRIGGER DOWN，则请执行步骤4。
b. 根据TRIGGER DOWN后面的原因描述，例如TRIGGER DOWN (MONITOR
GROUP)，查看相应的联动业务。
n 如果能查看到TRIGGER DOWN的原因描述，则请执行步骤3。
n 如果不能查看到TRIGGER DOWN的原因描述，则请执行步骤4。
c. 检查联动业务，使业务恢复正常，检查告警是否被清除。如果未被清除，则
请执行步骤4。
d. 请收集日志文件联系技术支持人员。
----结束
22.2 IFNET_1.3.6.1.6.3.1.1.5.4 linkup
文档版本 06 (2017-09-12) 华为专有和保密信息 300
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
告警处理 22 IFNET
Trap Buffer 信息解释
The interface status changes. (ifName=[ifName], AdminStatus=[ifAdminStatus],
OperStatus=[ifOperStatus], Reason=[Reason], mainIfname=[mainIfname])
接口状态改变。
Trap 属性
Trap属性 描述
Alarm or Event Alarm
Trap Severity Critical
Mnemonic Code linkup
Trap OID 1.3.6.1.6.3.1.1.5.4
Alarm ID 0x08520003
Alarm Type equipmentAlarm