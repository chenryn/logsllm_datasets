# CloudEngine 12800系列交换机告警处理指南

## 22 IFNET 告警处理

### 22.1 IFNET_1.3.6.1.6.3.1.1.5.3 linkdown

#### Trap Buffer 信息解释
- **接口状态改变**：(ifName=[ifName], AdminStatus=[ifAdminStatus], OperStatus=[ifOperStatus], Reason=[Reason], mainIfname=[mainIf])

#### Trap 属性
- **告警或事件类型**：告警
- **Trap 严重性**：关键
- **助记符代码**：linkdown
- **Trap OID**：1.3.6.1.6.3.1.1.5.3
- **告警ID**：0x08520003
- **告警类型**：设备告警
- **触发或清除**：触发
- **匹配的trap**：IFMCOMM_1.3.6.1.6.3.1.1.5.4 linkup

#### Trap Buffer 信息参数
- **ifName**：接口名称
- **AdminStatus**：接口管理状态
- **OperStatus**：接口当前状态
- **Reason**：告警产生原因
- **mainIfname**：主接口名称

#### VB 信息参数
- **VB OID**：1.3.6.1.2.1.2.2.1.1
  - **VB Name**：ifIndex
  - **VB Index**：ifIndex
- **VB OID**：1.3.6.1.2.1.2.2.1.2
  - **VB Name**：ifDescr
  - **VB Index**：ifIndex
- **VB OID**：1.3.6.1.2.1.2.2.1.7
  - **VB Name**：ifAdminStatus
  - **VB Index**：ifIndex
- **VB OID**：1.3.6.1.2.1.2.2.1.8
  - **VB Name**：ifOperStatus
  - **VB Index**：ifIndex

#### 对系统的影响
- 接口无法正常转发报文。

#### 可能的原因及处理步骤
1. **物理链路状态变为Down**
   - 检查接口是否被shutdown。
   - 检查物理链接（包括网线、光模块等）是否松动或脱落。
   - 收集日志文件并联系技术支持人员。

2. **LACP协商失败**
   - 检查本端和对端接口是否Down，如是则打开接口。
   - 检查Eth-Trunk成员口数目是否超出上限阈值，调整配置。
   - 检查Eth-Trunk成员口数目是否低于下限阈值，调整配置。
   - 收集日志文件并联系技术支持人员。

3. **CHAP认证失败**
   - 检查本端和对端用户及密码配置是否正确。
   - 重新配置用户和密码。
   - 收集日志文件并联系技术支持人员。

4. **PAP认证失败**
   - 检查本端和对端用户及密码配置是否正确。
   - 重新配置用户和密码。
   - 收集日志文件并联系技术支持人员。

5. **接口被shutdown**
   - 打开被shutdown的接口。
   - 收集日志文件并联系技术支持人员。

6. **链路层协议状态为Down**
   - 检查接口是否被shutdown，如是则打开接口。
   - 检查链路层协议Down的具体原因。
   - 收集日志文件并联系技术支持人员。

7. **主接口状态为Down**
   - 检查主接口是否被shutdown，如是则打开接口。
   - 检查物理链接是否正常。
   - 收集日志文件并联系技术支持人员。

8. **接口激活条件未满足**
   - 检查接口物理状态是否为Up。
   - 检查Trunk成员口数目是否超出最大活动链路数。
   - 调整Trunk的最小活动链路数。
   - 收集日志文件并联系技术支持人员。

9. **接口被删除**
   - 正常运行信息，无需处理。

10. **BFD会话状态为Down**
    - 检查BFD会话信息。
    - 参考BFD会话故障处理内容。
    - 收集日志文件并联系技术支持人员。

11. **VRRP状态为Backup或Initialize**
    - 检查VRRP的状态信息。
    - 参考VRRP故障处理内容。
    - 收集日志文件并联系技术支持人员。

12. **接口误码率超过误码告警阈值**
    - 查看接口链路协议状态。
    - 检查物理链接是否正常。
    - 收集日志文件并联系技术支持人员。

13. **接口误码率降低到误码告警阈值以下**
    - 正常运行信息，无需处理。

14. **传输速率与配置不匹配**
    - 删除端口上已配置的速率信息。
    - 检查物理链接是否正常。
    - 收集日志文件并联系技术支持人员。

15. **端口不支持当前介质**
    - 更换匹配的光电模块。
    - 检查物理链接是否正常。
    - 收集日志文件并联系技术支持人员。

16. **介质不支持negotiation配置**
    - 删除端口上已配置的negotiation配置。
    - 检查物理链接是否正常。
    - 收集日志文件并联系技术支持人员。

17. **接口报Trigger-Down**
    - 检查对应接口状态是否为TRIGGER DOWN。
    - 根据TRIGGER DOWN的原因描述查看相应的联动业务。
    - 恢复联动业务。
    - 收集日志文件并联系技术支持人员。

### 22.2 IFNET_1.3.6.1.6.3.1.1.5.4 linkup

#### Trap Buffer 信息解释
- **接口状态改变**：(ifName=[ifName], AdminStatus=[ifAdminStatus], OperStatus=[ifOperStatus], Reason=[Reason], mainIfname=[mainIfname])

#### Trap 属性
- **告警或事件类型**：告警
- **Trap 严重性**：关键
- **助记符代码**：linkup
- **Trap OID**：1.3.6.1.6.3.1.1.5.4
- **告警ID**：0x08520003
- **告警类型**：设备告警

---

文档版本 06 (2017-09-12) 华为专有和保密信息  
版权所有 © 华为技术有限公司