User: How to do batch operations with Ansible? Please write an Ansible Playbook to modify configuration files on multiple servers at the same time.
Assistant: The following is a simple Ansible Playbook for batch modification of configuration files on multiple servers: ```yaml --- - hosts: my_servers become: true tasks: - name: Copy configuration file copy: src: /path/to /local/config/file dest: /path/to/remote/config/file notify: restart_service handlers: - name: restart service service: name: my_service state: restarted ``` Explanation: - `hosts`: Specifies the operation to be performed server, here is `my_servers`, which can be a specific IP address or a host group. - `become`: Specify that you need to use superuser privileges to operate, here is `true`, or a specific administrator user name. - `tasks`: Define the task process that needs to be executed. There is only one `copy` operation here, which is used to copy the local configuration file to the remote server. - `notify`: When the `copy` operation is executed successfully, trigger the operation named `restart_service`. - `handlers`: Define the operations that need to be performed. There is only one `service` operation here, which is used to restart the modified service. Through this Playbook, configuration files on multiple servers can be modified at the same time, and corresponding services can be restarted. Before executing, please confirm that the server SSH password-free login and sudo permission settings have been configured.