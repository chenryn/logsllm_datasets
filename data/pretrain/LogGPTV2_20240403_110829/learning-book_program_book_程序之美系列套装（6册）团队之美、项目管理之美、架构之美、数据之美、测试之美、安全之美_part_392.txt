及在他们的IT基础设施中存储和传输的高达万亿字节（很可能达
到）的数据，情况又会怎么样呢？如果他们能够定期对遥测数据
（没人可以直接理解）进行汇总，并把它包含在一些度量指标集之
中，覆盖聚合标准的某个区域，以便进行定期的审查，情况又会怎
么样呢？医学研究已经产生了许多有效的传感系统，并产生大量的
数据，同时可供研究人员和医生所使用。这当然是可能的。
在医学领域，成功创建“优质传感系统（包括数据共享）"的关键是
直接与病人打交道的医生需要密切与研究人员进行协作，而后者文
需要与生产这些传感系统的厂商进行协作。这样，当一个医学诊断
工具投入使用后，它不仅可以感应数据，而且可以对它进行汇总，
提供有关如何使用这些结果的特定指导方针。
2261
---
## Page 2263
例如，我们可以考虑执行骨密度或DEXA扫描用于诊断骨质疏松症的
设备。首先，生产商提供相关的信息，说明这个设备用来做什么？
怎么操作？应该在什么时候使用以及如何对结果进行分析。另外，
医学研究人员也提供各种信息，例如骨质蔬松症的风险因素、各种
治疗方法（例如节食、敷药等）、当前的研究（包括医学试验）、
支持组织、参考资料以及其他产品。DEXA扫描结果常常用显示病人
骨骼的颜色图片表示，上面的颜色表示骨密度。这些构成了一个完
整的数据包。
根据安全产品的当前状态，人们可以获取软件以及描述其相关技术
和如何操作的手册。包含了推荐用法和事件重要性的论文可以作为
承载诊断和解释的主要载体。对于许多安全厂商（以及它们的投资
人）而言，这却是他们对产品最不关心的部分。事实上，这个领域
的系统管理员也很少阅读和理解这些文档。位于传感系统或软件平
台内部的专利技术往往是终端用户完全无法理解的，这些技术使自
己蒙上一层神秘的面纱，无形之中抬高了自己的身价。特别是当新
产品刚出来的时候，里面常常包含了大量革新的技术。一般而言，
安全厂商缺乏发布完整解决方案的专业知识，因此在他们的产品发
布和用户能够有效地使用产品之间留下了一个落差。
安全度量指标具有消除其中一些落差的潜力。度量指标通过提供定
义，指定原始（传感系统）数据的来源以及如何解释结果，显著地
增加现有安全管理产品的价值。SecurityMetrics.org和
MetricsCenter.org联合倡议的SecurityMetricsCatalog项目的目标就是
提供一个中央化的、可搜索的度量指标定义的仓库[2]。
下面让我们讨论一些可能对TJX有用的安全度量指标。
TJX：一些安全度量指标
和其他计算机问题不同，数据受侵害的问题向我们提供了独特的机
会观察一些公共的度量指标，包括全球级别和本地级别。全球级别
的度量指标蕴含了整个行业的经验，而本地级别的度量指标体现了
单独企业的经验。
全球级度量指标。全球级度量指标需要全球的数据。加利福尼亚的
SB1386强制法案以及类似的法律要求从2003年7月起报告影响个人
私密信息的公共侵害。由一组志愿者所组成的开放软件基金会使用
媒体报道作为他们的主要信息来源，追踪公开报道的安全事件。他
们的结果以数据丢失数据库（DataLossDB）仓库的形式出现在ttrition
2262
---
## Page 2264
网站上3。这个数据库实际上只是一个逗号分隔的文件，很容易用
大多数统计软件进行分析。2008年7月15日，开放安全基金会从
Attrition.org那里接手了为DataLossDB提供主机服务的责任。
DataLossDB将成为一个由社区驱动的项目，它的新地址是
http://datalossdb.org
我们可以使用DataLossDB作为来源，得到一个简单的度量指标“每季
度事件数量”，并生成如图3-3所示的时间序列图。
图3-3强制报告第一年内的数据泄露事情发生率
在过去的几年中，强制报告数据泄露的范围和规模在2003年中期仅
包括加利福尼亚。在过去的五年中，实行这个法规的州数量不断增
加中。显然，被报告的数据泄露数量的趋势是在不断增加中，但并
没有迅速膨胀。毫无疑问，2005年间有一些早期增长归因于一些新
的强制法规。以前不想泄露这类事件的人们现在因为法律的规定而
2263
---
## Page 2265
不得不这样做。在图3-4中，我们将“放大”原图，以观察每月的数
据，从2005年开始。
图3-4最近几年的数据泄露发生率
每月数据显示了相当程度的波动性。如果我们画一条直线（使用最
小正方形模型）进行观察，可以看到趋势是略微增长。我们可以使
用这样的直线对将来进行投影，当然不能追求很精确。图中的度量
指标（虚线的斜率和截距）清晰地显示了事件的频率是在不断地增
加，因此很容易得出结论，就是情况变得越来越糟糕，而不是越来
越好。
TJX的侵害是由外贼所发起的。之前人们广泛相信内部侵害的增长速
度要远远高于外部侵害。DataLossDB数据允许我们用真实的事实和
数据调查这个问题。由于DataLossDB在每个侵害事件上都加上了“内
部”或“外部"的标签，因此我们可以进行新的测量，它与上一个图相
2264
---
## Page 2266
似，但是把已发生的事件分解为两个子集。这个计算产生了图3-5的
图，也是从2005年开始。
图3-5数据泄露事件的分解
实心的深灰色圆圈表示内部侵害的数量，实心的淡灰色圆圈表示外
部侵害的数量。黑色的圆环只是复制了两者的总和，它和前一张趋
势图一样。深灰、淡灰和黑色虚线分别符合外部、内部和总侵害频
率。很容易看出，外部侵害的数量不断增加中，而内部侵害的数量
基本是一条水平的直线。因此，总侵害次数的增加实际上完全是由
于外部侵害的增加所致，至少根据DataLossDB的数据所得出的结论
是这样的。
侵害的另一个因素是它所造成的后果。每次事件被盗用的数据量可
以深入到什么程度呢？Atrition志愿者对每次侵害的记录很好地提供
了侵害后果的测量，即受侵害影响的总数。这个值的名称是
TotalAffected。当然，对于大多数事件而言，这只是遭到侵害的公司
2265
---
## Page 2267
能够提供的最接近估计，但总比没有要好得多。另外，我们也不需
要追求特别的精确。因此，图3-6用箱线图反映了一些“分布"度量指
标，TotalAffected由log10y-axis来表示，它对从2005开始直到2008年
8月11日为止每一年的侵害总数进行了缩放。事实上，由于本书写作
时2008年还没有结束，因此有人觉得不该把2008年放在这张图中。
我们的理由是最近的年份总是最有价值的。但是需要注意，这一年
的数据实际上只反映了七个半月。
图3-6数据侵害的严重性比较
中位数是logio（TotalAffected）经过半年的观察后的值，它可能偏
高或偏低。上四分位数和下四分位数分别近似Q1和Q3的观察。上边
缘和下边缘涵盖了围绕两个分布的中位数的95%的置信区间的值，
在这个例子中，一个分布覆盖了一年的报告侵害数，因此图3-6显示
了4个分布，分别表示2005年、2006年、2007年和2008年（只有7.5
个月）。在所有的分布中，高度的重叠表示每次侵害受影响的个体
2266
---
## Page 2268
数量根据两个数量级而变化（1og1o垂直轴上的上边缘和下边缘），
从低端的5000到高端的100000。
确定TotalAfected值与发现一个侵害行为所需时间的灵敏度是非常有
趣的。在TJX的案子中，这个时间的长度大约是18个月。根据
DataLossDB的数据，TJX侵害的TotalAffected值是9400万。注意图中
标记为"异常值"的点就表示这个TJX侵害④。遗憾的是，
DataLossDB并没有追踪表示发现侵害所需时间的值。
本地级度量指标。在离开TIX的话题之前，我们非常简单地讨论一下
值得进行跟踪的本地度量指标，重点是在内部操作上。也许对这些
度量指标的定期审查可以激励TJX的IT安全操作检测并修复一些导致
我们所说的受到侵害的漏洞。
在TJX的IT基础设施内部，漏洞、补丁管理和配置管理系统都是积极
的安全系统的例子，它们的目标是发现并修补弱点，不给黑客利用
它们的机会。这些系统在执行任务时会创建大量的数据，可以用来
得出一些度量指标，能够体现出它们实现目标的程度。下面是两种
类型的度量指标例子：
扫描覆盖率
公司网络实际上被审核了多少？一般情况下，这个度量指标用一个
百分比表示，并且常常被分解为地点、所属业务单位、设备类型、
漏洞类型或严重性。显然，它的目标是尽可能地实现100%，即完全
覆盖。
看上去，TJX的WAP覆盖率度量指标是完全缺乏的。TJX忽略了对它
们的所有无线接入点的配置审核。
公司可以使用的各种工具也会使监视复杂化。由于专业化的缘故
安全管理产品常常只覆盖了一个类型的目标，例如路由器、WAP、
服务器甚至是运行某个特定操作系统的服务器。2002年，无线接入
点常常在企业扫描人员在它们的配置中发现漏洞之前就推向了市
场。TJX很可能就是这种落差的受害者。当然，这并不是说它们不该
知道得更多。
修补平均时间（MTTR）
2267
---
## Page 2269
在IT基础设施中，消除一个已经被发现（按照厂泛的定义）的缺陷
需要花费多长时间（按平均算）呢？这个度量指标用某些时间单位
表示：小时、天、周等。一般而言，这个度量指标的值越低，黑客
能够利用这个漏洞的时间就越短。
尽管这个度量指针显然很有价值，可以作为风险的主要指示标志，
但它需要几个前提条件。首先，需要安装传感系统，检测像漏洞、
不良的配置、未修补的软件这样的缺陷。其次，当一个漏洞被发现
时，必须保存记录，跟踪它被发现的时间以及它被有效修补的时
间。我们不清楚TIX是否存在任何检测已部署的无线接入点的机制。
就算有，它们的配置也肯定大有问题。因此，它们从来不曾被修
补，所以MTTR相当于无限长。
如果无法防正一个侵害行为，接着能够采用的最好策略就尽快检测
到它。TJX花了18个月，直到数十万张信用卡号码出现疑问时才发现
问题。有什么样的度量指标可以帮助它们呢？
盗窃信用卡号码的窃贼留下了大量的作案痕迹：
在对外的网络流量中的敏感数据（例如信用卡号码或SSN）
这是很容易检测到的，通过现在可用的称为数据使用监视器的商业
工具司以在儿分钟之内就阻断它们。
无法解释的账户活动
黑客从授权用户那边截获账户资格证书之后，就会登录到账户、搜
索数据库、提取数据、创建文件并执行文件传输，把他们所窃取的
果实转移到他们所控制的服务器。所有这些活动都可以被数据库管
理土其所检测，应用程序日志常常也可以记录这些活动。
对数据使用监视器、数据库管理系统和应用程序日志所收集的数据
进行聚合量化的度量指标将会反映黑客为了列集和导出他们所盗窃
的材料所需要的活动量级。这些数量在任何时间序列中都会显得特
别突出。
[1]详见
http://www.boston.com/business/globe/articles/2007/10/25/tjx_timeline。
[2]详见http://www.securitymetrics.org和http://www.metricscenter.org。
[3]详见http://datalossdb.com以及DataLossDB数据库。
2268