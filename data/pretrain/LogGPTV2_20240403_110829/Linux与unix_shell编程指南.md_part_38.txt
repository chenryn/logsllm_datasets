### Web页面元素与分类

Web页面可以包含多种元素，如指向其他页面的链接、丰富多彩的颜色、高亮标题、各种字体样式、直线、表格、图像以及声音。根据功能的不同，Web页面主要分为两类：静态页面和动态页面。

- **静态页面**主要用于展示信息或提供文件下载服务。
- **动态页面**则具有交互性，能够根据用户输入的信息生成相应结果。此外，它们还能显示实时更新的信息（例如股票价格）或执行某些监控任务。实现这些功能通常需要编写脚本。

### 动态页面与CGI

要使Web服务器支持脚本处理，它必须遵循一种名为公共网关接口（Common Gateway Interface, CGI）的标准协议。CGI定义了如何让脚本从服务器获取数据或将数据写入服务器的方法。这种脚本可以用多种编程语言编写，包括Perl、Java等，甚至简单的Shell脚本也能胜任。

#### 29.2 CGI概述
CGI是一种规范，用于指导脚本如何与Web服务器进行信息交换。虽然Perl是实现CGI脚本最常用的语言之一，但使用普通Shell脚本同样可行。

#### 29.3 连接到Web服务器
通过统一资源定位符(URL)可连接到Web服务器。URL由两部分组成：
- 协议（如HTTP、FTP等）
- 地址及附加数据（通常是DNS域名或IP地址加上具体路径）

对于本地主机上的Web服务器，默认主页为`index.html`时，其URL可能形如`http://localhost/index.html`。若该文件为默认文档，则直接访问`http://localhost/`即可。

#### 29.4 CGI与HTML脚本
当浏览器请求下载某个页面时，Web服务器会解析收到的URL。如果URL中包含`cgi-bin`目录，则服务器将启动相关CGI脚本，并通过管道传递所有输入输出。为了正确显示，CGI脚本输出需包含适当的HTML标记。

##### 基本CGI脚本配置
- 所有CGI脚本应位于服务器指定的`cgi-bin`目录下。
- 脚本文档名以`.cgi`结尾。
- 需要赋予脚本足够的权限（例如`chmod 755 script.cgi`）。
- 默认情况下，Web页面链接使用的用户身份为`nobody`，可通过修改配置文件调整此设置。

##### 使用SSI嵌入CGI
通过启用服务器端包含(Server Side Includes, SSI)，可以在HTML文档内部直接调用CGI脚本或其他命令。这使得在常规网页中插入动态内容变得简单。含有SSI指令的页面通常带有`.shtml`扩展名而非`.html`。

#### 访问计数器示例
创建一个简单的访问计数器涉及到编写一个CGI脚本来读取并更新计数器值，同时还需要相应地配置Web服务器以识别`.shtml`文件中的SSI指令。此外，还可以利用环境变量来显示更多关于当前Web请求的信息。

总之，理解如何有效地利用CGI技术可以帮助开发者构建更加丰富互动的Web应用。