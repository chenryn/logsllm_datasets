松松就能学好的。
18
---
## Page 20
另一方面，学习Linux命令行会让你受益匪浅，给你极大的回报。如果你认为，现在你已
经是高手了。别急，其实你还不知道什么才是真正的高手。不像其他一些计算机技能，一段时
间之后可能就被淘汰了，命令行知识却不会落伍，你今天所学到的，在十年以后，都会有用处。
命令行通过了时间的考验。
如果你没有编程经验，也不要担心，我会带你入门。
1.4这本书的内容
这些材料是经过精心安排的，很像一位老师坐在你身旁，耐心地指导你。许多作者用系统化的
方式讲解这些材料，虽然从一个作者的角度考虑很有道理，但对于Linux新手来说，他们可能
会感到非常困惑。
另一个目的，是想让读者熟悉Unix的思维方式，这种思维方式与Windows不同。在学习
过程中，我们会帮助你理解为什么某些命令那样工作，以及它们是如何工作的。Linux不仅是
一款软件，也是Unix文化的一小部分，它有自己的语言和历史渊源。同时，我也许会说些过
激的话。
这本书共分为五部分，每一部分讲述了不同方面的命令行知识。除了第一部分，也就是你正
在阅读的这一部分，这本书还包括：
·第二部分一学习shell开始探究命令行基本语言，包括命令组成结构，文件系统浏览，编
写命令行，查找命令帮助文档。
·第三部分一配置文件及环境讲述了如何编写配置文件，通过配置文件，用命令行来操控计
算机。
·第四部分一常见任务及主要工具探究了许多命令行经常执行的普通任务。类似于Unix的
操作系统，例如Linux，包括许多经典的命令行程序，这些程序可以用来对数据进行强大
的操作。
多常见的计算任务，很容易学。通过学习shell编程，你会逐渐熟悉一些关于编程语言方
面的概念，这些概念也适用于其他的编程语言。
1.5怎样阅读这本书
从头到尾的阅读。它并不是一本技术参考手册，实际上它更像一本故事书，有开头，过程，结
尾。
6T
---
## Page 21
1.5.1前提条件
为了使用这本书，你需要安装Linux操作系统。你可以通过两种方式，来完成安装。
1.在一台（不用很新）的电脑上安装Linux。你选择哪个Linux发行版安装，是无关紧要的
事。虽然大多数人一开始选择安装Ubuntu,Fedora，或者OpenSUSE。如果你拿不定主
意，那就先试试Ubuntu。由于主机硬件配置不同，安装Linux时，你可能不费吹灰之力
就装上了，也可能费了九牛二虎之力还装不上。所以我建议，一台使用了几年的台式机
至少要有256M的内存，6G的硬盘可用空间。尽可能避免使用笔记本电脑和无线网络，
在Linux环境下，它们经常不能工作。
2.使用“LiveCD.”许多Linux发行版都自带一个比较醋的功能，你可以直接从系统安装盘
CDROM中运行Linux，而不必安装Linux。开机进入BIOS设置界面，更改引导项，设
置为“从CDROM启动”。
不管你怎样安装Linux，为了练习书中介绍的知识，你需要有超级用户（管理员）权限。
当你在自己的电脑上安装了Linux系统之后，就开始一边阅读本书，一边练习吧。本书大
部分内容都可以自已动手练习，坐下来，敲入命令，体验一下吧。
为什么我不叫它“GNU/Linux”
在某些领域，把Linux操作系统称为“GNU/Linux操作系统”，则政治立场正
确。但“Linux”的问题是，没有一个完全正确的方式能命名它，因为它是由许许多
多，分布在世界各地的贡献者们，合作开发而成的。从技术层面讲，Linmux只是操
作系统的内核名字，没别的含义。当然内核非常重要，因为有它，操作系统才能运
行起来，但它并不能构成一个完备的操作系统。
RichardStallman是一个天才的哲学家，自由软件运动创始人，自由软件基金会
创办者，他创建了GNU工程，编写了第一版GNUC编译器（gcc），创立了GNU
通用公共协议（theGPL）等等。他坚持把Linux称为“GNU/Linux”，为的是准确
地反映GNU工程对Linux操作系统的贡献。然而，尽管GNU项目早于Linux内
核，项目的贡献应该得到极高的赞誉，但是把GNU用在Linux名字里，这对其他
为Linux的发展做出重大贡献的程序员来说，就不公平了。而且，我觉得要是叫也
要叫“Linux/GNU"比较准确一些，因为内核会先启动，其他一切都运行在内核之
上。
在目前流行的用法中，“Linux”指的是内核以及在一个典型的Linux发行版中
所包含的所有免费及开源软件：也就是说，整个Linux生态系统，不只有GNU项
20
---
## Page 22
目软件。在操作系统商界，好像喜欢使用单个词的名字，比如说DOS，Windows，
MacOS，Solaris，Irix，AIX.所以我选择用流行的命名规则。然而，如果你喜欢用
1.6拓展阅读
Wikipedia网站上有些介绍本章提到的名人的文章，以下是链接地址：
·http://en.wikipedia.org/wiki/Linux_ Torvalds
•http://en.wikipedia.org/wiki/Richard_Stallman
介绍自由软件基金会及GNU项目的网站和文章：
•http://en.wikipedia.org/wiki/Free_Software_Foundation
· http://www.fsf.org
·http://www.gnu.org
RichardStallman用了大量的文字来叙远“GNU/Linux”的命名问题，可以浏览以下网页
- http://www.gnu.org/gnu/why-gnu-linux.html
·http://www.gnu.org/gnu/gnu-linux-faq.html#tools
21
---
## Page 23
2|
什么是shell
一说到命令行，我们真正指的是shell。shell就是一个程序，它接受从键盘输入的命令，然后
把命令传递给操作系统去执行。几乎所有的Linux发行版都提供一个名为bash的来自GNU
bash 是最初 Unix上由 Steve Bourne 写成shell程序sh 的增强版。
2.1终端仿真器
当使用图形用户界面时，我们需要另一个和shell交互的叫做终端仿真器的程序。如果我们浏览
一下桌面菜单，可能会找到一个。虽然在菜单里它可能都被简单地称为“terminal”，但是KDE
用的是konsole，而GNOME 则使用gnome-terminal。还有其他一些终端仿真器可供Linux使
用，但基本上，它们都完成同样的事情，让我们能访问shell。也许，你可能会因为附加的一系
列花俏功能而喜欢上某个终端。
2.2第一次按键
好，开始吧。启动终端仿真器！一旦它运行起来，我们应该看到一行像这样的文字：
[ne@linuxbox -]$
这叫做shell提示符，无论何时当shell准备好了去接受输入时，它就会出现。然而，它可
能会以各种各样的面孔显示，这则取决于不同的Linux发行版，它通常包括你的用户名@主机
名，紧接着当前工作目录（稍后会有更多介绍）和一个美元符号。
如果提示符的最后一个字符是“#”，而不是“s”，那么这个终端会话就有超级用户权限。
这意味着，我们或者是以root用户的身份登录，或者是我们选择的终端仿真器提供超级用户
（管理员）权限。
22
---
## Page 24
假定到目前为止，所有事情都进行顺利，那我们试着键入字符吧。在提示符下入一些像下
面一样的乱七八糟的字符：
[ne@linuxbox -]$ kaekf jaeif]
因为这个命令没有任何意义，所以shell会提示错误信息，并让我们再试一下：
bash: kaekf jaeifj: connand not found
[ne@linuxbox -]$
2.3命令历史
如果按下上箭头按键，我们会看到刚才输入的命令“kaekfjaeifj”重新出现在提示符之后。这就
叫做命令历史。许多Linux发行版默认保存最后输入的500个命令。按下下箭头按键，先前输
入的命令就消失了。
2.4移动光标
可借助上箭头按键，来获得上次输入的命令。现在试着使用左右箭头按键。看一下怎样把光标
定位到命令行的任意位置？通过使用箭头按键，使编辑命令变得轻松些。
2.5关于鼠标和光标
虽然，shell是和键盘打交道的，但你也可以在终端仿真器里使用鼠标。X窗口系统（使GUI
工作的底层引擎）内建了一种机制，支持快速拷贝和粘贴技巧。如果你按下鼠标左键，沿着文
本拖动鼠标（或者双击一个单词）高亮了一些文本，那么这些高亮的文本就被拷贝到了一个由
X管理的缓冲区里面。然后按下鼠标中键，这些文本就被粘贴到光标所在的位置。试试看。
注意：不要在一个终端窗口里使用Ctrl-c和Ctrl-v快捷键来执行拷贝和粘贴操作。它们不
（定义复制粘贴的含义）许多年之前就赋予了不同的意义。
你的图形桌面环境（像KDE或GNOME），努力想和Windows一样，可能会把它的聚焦策
---
## Page 25
焦跟随着鼠标”的传统X行为不同，传统X行为是指只要把鼠标移动到一个窗口的上方。它
能接受输入，但是直到你单击窗口之前它都不会成为前端窗口。设置聚焦策略为“聚焦跟随着
鼠标”，可以使拷贝和粘贴更方便易用。尝试一下。我想如果你试了一下你会喜欢上它的。你
能在窗口管理器的配置程序中找到这个设置。
2.6
试试运行一些简单命令
现在，我们学习了怎样输入命令，那我们执行一些简单的命令吧。第一个命令是date。这个命
令显示系统当前时间和日期。
[nedlinuzbox -]$ date
Thu 0ct 25 13:51:54 EDT 2007
一个相关联的命令，cal，它默认显示当前月份的日历。
[ne@linuxbox -]$ cal
October 2007
Su Mo Tu We Th Fr Sa
1 2 3 4 5 6
7 8 9 10 11 12 13
14 15 16 17 18 19 20
21 22 23 24 25 26 27
28 29 30 31
查看磁盘剩余空间的数量，输入df：
[neglinuxbox -]s df
Filesystes
1K-blockts
Used Available Use% Mounted on
/dev/sda2
15115452
5012392
9949716 34% /
/dev/sda5
59631908 26545424 30008432 47% /hone
/dev/sda1
147764
17370
122765
13%/boot
tnpfs
256856
0
256856
0%/dev/shn
同样地，显示空闲内存的数量，输入命令free。
24
---
## Page 26
[ne@linuxbox -]$ free
total
used
free
shared
buffers
cached
Men:
2059676
846456
1213220
44028
360568
:qres/sxomq +/-
441860
1617816
Suap:
1042428
0
1042428
2.7
结束终端会话
我们可以通过关闭终端仿真器窗口，或者是在shell提示符下输入exit命令来终止一个终端会
话：
[ne@linuxbox -]$exit
2.8
幕后控制台
即使终端仿真器没有运行，在后台仍然有几个终端会话运行着。它们叫做虚拟终端或者是虚拟
控制台。在大多数Linux发行版中，这些终端会话都可以通过按下Ctrl-Alt-F1到Ctrl-Alt-F6
访问。当一个会话被访问的时候，它会显示登录提示框，我们需要输入用户名和密码。要从一
个虚拟控制台转换到另一个，按下Alt和F1-F6（中的一个）·返回图形桌面，按下Alt-F7。
2.9拓展阅读
·想了解更多关于SteveBourne的故事，Bourne Shell之父.读一下这篇文章：
http://en.wikipedia.org/wiki/Steve_Bourne
·这是一篇关于在计算机领域里，shells概念的文章：
http://en.wikipedia.org/wiki/Shell_(computing)
25
---
## Page 27
3”文件系统中跳转
我们需要学习的第一件事（除了打字之外）是如何在Linux文件系统中跳转。在这一章节中
我们将介绍以下命令：
·pwd一打印出当前工作目录名
·αd一更改目录
·ls一列出目录内容
3.1理解文件系统树
类似于Windows，一个“类Unix”的操作系统，比如说Linux，以分层目录结构来组织所有文
件。这就意味着所有文件组成了一棵树型目录（有时候在其它系统中叫做文件夹），这个目录树
可能包含文件和其它的目录。文件系统中的第一级目录称为根目录。根目录包含文件和子目录，
子目录包含更多的文件和子目录，依此类推。
注意（类Unix系统）不像Windows，每个存储设备都有一个独自的文件系统。类Unix操
作系统，比如Linux，总是只有一个单一的文件系统树，不管有多少个磁盘或者存储设备连接
到计算机上。根据负责维护系统安全的系统管理员的兴致，存储设备连接到（或着更精确些，
是挂载到）目录树的各个节点上。
26
---
## Page 28
3.2
当前工作目录
白/
 bin
boot
dev
由etc
home
 bshotts
t
karen
lost+found
Bme
.enlightenment
申.gnome
.gnome-desktop
图1：由图形化文件管理器显示的文件系统树
大多数人都可能熟悉如图1所示描远文件系统树的图形文件管理器。注意，通常这是一棵
倒置的树，也就是说，树根在最上面。而各个枝干在下面展开。
然而，命令行没有这样的图片，所以我们需要把文件系统树想象成别的样子（而不是这张图
片）。
把文件系统想象成一个迷宫形状，就像一棵倒立的大树，我们站在迷宫的中间位置。在任意
时刻，我们处于一个目录里面，我们能看到这个目录包含的所有文件，以及通往上面目录（父
目录）的路径，和下面的各个子目录。我们所在的目录则称为当前工作目录。我们使用pwd
（print working directory（的缩写））命令，来显示当前工作目录。
[ne@linuzbox -]s pud
/hcne/ze
当我们首次登录系统（或者启动终端仿真器会话）后，当前工作目录是我们的家目录。每个
用户都有他自己的家目录，当用户以普通用户的身份操控系统时，家目录是唯一允许用户写入
文件的地方。
27
---