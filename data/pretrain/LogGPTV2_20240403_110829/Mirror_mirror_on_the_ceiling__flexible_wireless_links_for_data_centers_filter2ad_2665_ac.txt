-80
)
)
m
m
B
B
d
d
(
(
Figure 5: Measured propagation characteristics of 3D beamforming, transmit power at 0dBm. (a) Ceiling
reﬂection introduces no energy loss; (b) Despite having a longer propagation path, 3D beamforming can still
maintain similar data rate as 2D beamforming without blockage; (c) 3D beamforming can signiﬁcantly reduce
the interference footprint. The sender and receiver are at (0, 0), (2.4, 0) respectively.
We also examine the link throughput of the two beam-
forming methods. Because the HXI radios transmit at a
single data rate (1Gbps), we examine a wider range of data
rates using the measured RSS and the 802.11ad’s receiver
sensitivity table. Figure 5(b) shows the resulting link through-
put as a function of the link distance L. Because the room
where we performed experiments was only 30m long, we de-
rived the data rates for longer links using the RSS values
generated by the propagation model. We see that even at
a very low transmit power (0dBm), 3D beamforming can
reach 6+Gbps when two endpoints are separated by 10m or
less. At a link distance of 50m, it still oﬀers nearly 2Gbps
of throughput. If we set the transmit power to the standard
level of 10dBm, link throughput, shown as the dotted line in
the same ﬁgure, increases to 6.76Gbps at 30m and 4.5Gbps
at 50m. Furthermore, compared to 2D beamforming, 3D
achieves nearly the same data rate despite having a longer
propagation path (see Eq. (1)).
Property 2: Reduced Radio Interference. Our sec-
ond experiment examines the interference footprint of both
2D and 3D beamforming. For both methods, we ﬁrst set
up a target transmission link X, then keep the transmit-
ter intact and move the receiver around to measure link
X’s power emission map. We divide the measurement space
into 0.3m×0.15m grids. In each grid, we rotate the receiver
antenna to locate the direction with the maximum signal
strength, subtract this strength by the receiver antenna gain,
and use the result as the maximum interference that link X
produces to this location.
Figure 5(c) shows the measured interference footprint for
both 2D (w/o blockage) and 3D beamforming, when the
ceiling height h=2m. The sender and the receiver of the
target link X are placed at position (0m, 0m) and (2.4m,
0m) on the map, respectively. For 2D beamforming, the
directional wave still propagates freely in its beam direction,
aﬀecting other receivers along the path. The signal leakage
also contributes to the level of interference.
In contrast,
3D beamforming bounds the interference region to a much
smaller area, and limits the impact of signal leakage. We
also veriﬁed that the measured interference footprint aligns
with the propagation model and the antenna pattern of the
10o horn antenna [28, 29]. We omit those results due to
space limitations.
3.2 Multiple Radios per Rack
In practice, a single rack can host many servers (e.g., 20-
80), and is likely to request multiple simultaneous data con-
nections with other racks. With a single 60 GHz radio, these
transmissions will be performed in order, with the antenna
re-orienting between transmissions. A much more desirable
scenario is to put multiple radios on each rack to support
parallel transmissions and reduce head-of-line blocking. For
today’s standard racks with size (4ft×2ft) and 60GHz radio
size (1ft×1ft), we can place up to 8 radios per rack.
We quantify these beneﬁts by using simulations to com-
pute the number of concurrent wireless links supported for
two data center conﬁgurations. The ﬁrst conﬁguration has
size 15m×42m and contains 250 racks, similar to the layout
used in [23]. Racks are grouped into 5×5 clusters, and each
cluster is a row of 10 racks with no inter-spacing. Aisles
separating the clusters are 3m (between columns) and 2.4m
(between rows). The second deployment uses shipping con-
tainers [10]. It consists of 2×2 container clusters. Each clus-
ter has 8 containers in a row with inter-spacing of 0.61m.
Overall, the data center has size 15m×50m, and contains
256 racks.
We conﬁgure wireless links as follows. We assign m radio
transceivers per rack and allow each transceiver to associate
with one link. Given the size of our deployments, we use
60GHz radios with 10dBm transmit power and standard
10◦ horn antenna, so that every rack pair connects in 1-
hop at 5+Gbps in both directions. We build bi-directional
links by randomly selecting rack pairs, forming arbitrary
rack to rack communication. We determine the number of
concurrent links as follows. We admit links one by one in
a random order, compute their cumulative interference to
each other, and only admit a link if all links after admis-
sion achieve their stand-alone data rates as if there were no
interference. In other words, these concurrent links do not
interfere with each other. We consider two cases: when all
the links operate on a single 2.16GHz channel, and when
three 2.16GHz channels (for the US 60GHz band) are avail-
able. Our simulator uses the free-space propagation model
(deﬁned by Eq.(1)), which we veriﬁed via experiments in
Section 3.1. We compute interference as the total energy
accumulated from all concurrent transmissions, accounting
for the impact of both antenna orientation and radiation
pattern [28, 29].
4483CH,h=3m
3CH,h=2m
1CH,h=3m
1CH,h=2m
s
k
n
i
l
t
n
e
r
r
u
c
n
o
c
f
o
#
 500
 400
 300
 200
 100
 0
8 radios/rack,3CH
8 radios/rack,1CH
s
k
n
i
l
t
n
e
r
r
u
c
n
o
c
f
o
#
 500
 400
 300
 200
 100
 0
Link distance = 3m
Link distance = 10m
)
B
d
(
n
o
i
t
a
d
a
r
g
e
d
S
S
R
 15
 12
 9
 6
 3
 0
 1
 2
 3
 4
 5
 6
 7
 8
1 2
4
6
8
10
12
 0
 2
 4
 6
 8
 10
# of radios per rack
Distance from antenna to ceiling h (m)
Rotator error (degree)
(a) Impact of # of Radios per Rack
(b) Impact of Ceiling Height h
Figure 6: The number of concurrent links using 3D beamforming, vary-
ing the number of radios per rack and ceiling height h, using one (1CH)
or three channels (3CH).
Figure 7: RSS degradation caused
by antenna rotator error (mea-
sured by antenna mis-alignment
angle), using 3D beamforming.
Figure 6(a) plots the number of concurrent links sup-
ported as a function of the number of radios per rack. The
two topologies lead to similar results and thus we only show
the result for the ﬁrst. We make two key observations. First,
with a single radio, an average of 55 randomly formed links
can operate simultaneously on a single channel. When us-
ing three channels, about 88 links (70% of the total links)
can operate simultaneously3. This result shows that we can
simultaneously connect the majority of rack pairs wirelessly
using a wire-like connection with 5+Gbps of bandwidth.
Second, the number of concurrent links grows linearly with
the number of radios per rack. With eight radios and three
channels, an average of 390 randomly formed bi-directional
links can operate simultaneously, a 440% improvement over
the single radio scenario. This also means that on average,
each rack can communicate with four other racks simultane-
ously, while each bi-directional link achieves at least 5Gbps.
This type of ﬂexible and extended connectivity is particu-
larly useful for popular data center jobs such as the “shuﬄe
phase” of MapReduce and local multicast.
From Figure 6(a), we
Impact of Ceiling Height h.
also observe that increasing the ceiling height h from 2m
to 3m leads to more concurrent links. This is because a
larger h makes each beam arrive at its receiver at a larger
elevation angle, eﬀectively reducing the interference region.
Increasing h beyond 4m, however, leads to performance loss
(Figure 6(b)). This is because increasing h also lengthens
the signal propagation path and hence degrades the received
signal strength. This loss starts to dominate when h exceeds
4m, creating a sweet spot of h between 3-4m.
3.3 Sensitivity to Hardware
Finally, we examine the sensitivity of performance to dif-
ferent types of hardware and materials.
Sensitivity to Rotator Accuracy.
The ﬁrst question
is whether the performance of 3D beamforming will degrade
signiﬁcantly if antenna directions are not calibrated accu-
rately, e.g. due to rotator error. We verify this sensitiv-
ity using testbed experiments. To produce rotation errors,
we ﬁrst set up a link with accurately calibrated antennas
and measure its received signal strength. We then rotate
the receive antenna at 1◦ intervals while recording signal
strengths. We repeat this experiment at various link dis-
tances and for the case of rotating the transmit antenna.
Results in Figure 7 show that a misalignment within 1◦ leads
to negligible impact on the signal strength, and an error of
5◦ only leads to a RSS degradation of 3.6dB. These results
also closely match prior work on Kelleher’s universal horn
pattern [28]. Thus many existing rotators [7, 4] are suﬃ-
ciently precise for our needs. Finally, we also veriﬁed that
2D and 3D beamforming have the same sensitivity to rota-
tor errors, i.e. they receive the same level of performance
degradation from rotator misalignments.
Impact of Reﬂector Materials.
Throughout our ex-
periments, our results show that both the cheap, lightweight
steel plate and the mirror-quality stainless steel plate oﬀer
perfect reﬂection. This means that 3D beamforming does
not require specialized polished metal surfaces, and can be
deployed using low-cost metal sheets. Finally, we also tested
the suitability of other building materials as reﬂectors, in-
cluding standard smooth concrete and plaster walls. The
results conﬁrm results from prior studies [30]. For con-
crete walls, we observe a small signal strength degradation
compared to the metal reﬂectors (roughly 3dB). For plaster
walls, the degradation increases to 5dB. While more detailed
study is necessary, these initial ﬁndings raise the possibility
that we may be able to deploy 3D beamforming links with-
out modifying data center ceiling materials.
4. SCHEDULING 60 GHZ LINKS
By forming high-throughput wireless interconnects on-demand,
3D beamforming can deliver additional burst bandwidth to
data center applications without pre-provisioning wired ca-
pacity among all rack pairs. Prior 60 GHz data center pro-
posals constrained links to neighboring racks, greatly limit-
ing the distance and number of wireless links [23]. In con-
trast, 3D beamforming connects pairs of racks in large data
centers in a single hop using indirect line-of-sight paths.
But to fully utilize the beneﬁts of 3D beamforming, we
must carefully schedule transmission links to maximize ef-
ﬁciency and minimize wireless interference. In this section,
we identify the key challenges of scheduling 3D beamforming
links in data centers, and present a centralized link scheduler
to support ﬂexible bandwidth allocation.
4.1 Challenges
3The number of concurrent links does not grow proportionally
with the number of channels because interference patterns are
not uniform across links. Such negative eﬀects should gradually
diminish in larger data center topologies.
Our link scheduler must address three key challenges:
First, designing our scheduler requires an accurate inter-
ference model for 3D beamforming links. Given the reﬂective
nature of our beamforming links, the interference a receiver
449experiences is no longer dominated by energy leakage from
the nearest transmitter. Instead, because of the dense de-
ployment of these links in data centers, the main source of
interference is the accumulation of signals from the many
transmitting neighbors. This accumulative interference ef-
fect is signiﬁcant and must be accounted for. Our initial
simulations show that if we use conventional pairwise inter-
ference models that ignore accumulative interference [34],
up to 30% of our scheduled links will fail.
Second, our scheduler needs to handle short-lived traﬃc
bursts [15, 25], and thus must be online. To maximize the
number of concurrent transmissions and minimize job exe-
cution time, our scheduler must be eﬃcient and lightweight,
i.e. introduce minimal overhead in control traﬃc and schedul-
ing delay.
Third, scheduling account for antenna rotation delay. This
is particularly important when using horn antennas. Using
today’s rotators [4, 7], rotation delay ranges between 0.01
and 1 second, which is likely in the range of (and longer
than) the full transmission times of some links. Further-
more, since the amount of rotation carried by a mechanical
rotator directly aﬀects its lifetime and reliability, we need to
minimize such overhead.
Assumptions. We further assume that the centralized
scheduler has full knowledge of the rack traﬃc demands to be
carried by the 60GHz network. It receives link requests, gen-
erates link schedules periodically, and notiﬁes the scheduled
racks with the channel, the radio, and the beam direction
they should use. We assume that control messages are sent
via a separate control channel independent of the 60GHz
wireless network. In practice, the scheduler can either use
a provisioned wired network, or use a dedicated local WiFi
network for control signaling. We leave the detailed design
of control channels as future work.
4.2 Scheduler Design
We propose a greedy scheduling algorithm that addresses
these challenges. Our scheduler’s primary goal is to schedule
as many concurrent links as possible, thus maximizing chan-
nel usage and minimizing transmission time. To do so, it de-
rives a “conﬂict degree” for each link from its accumulative
interference, described below. Finally, within the framework
of this scheduler, we seek to reduce rotational delay by con-
sidering radio orientation in assigning links to radios. We
will now describe the components of the scheduler in detail,
starting with the estimation of link conﬂicts.
Conﬂict Estimation.
At the core of the algorithm,
we must estimate conﬂicts to not only calculate the conﬂict
degrees of each link, but also to determine whether a speciﬁc
radio link can be added to the existing active links without
aﬀecting their current link rates. In a nutshell, conﬂict esti-
mation is based on the calculation of Signal-to-Interference-
Noise-Ratio (SINR) for each link.
The scheduler derives the signal and interference using
model prediction since the 3D beamforming’s propagation
environment in data center is very predictable. This avoids
additional measurement overhead. The calculation is based
on the free-space propagation model (Eq. (1)) veriﬁed by
our experiments, and also the antenna orientations. We ap-
ply Kelleher’s universal horn pattern [28, 29] to model the
radiation pattern of the horn antenna.
To compute conﬂict degrees, the scheduler considers each
possible pair of link requests assuming they operate on the
same channel. Let Di, Dj denote two link requests, we then
calculate Di’s SINR value SINRij in the presence of Dj as:
SIN Rij =
Si
N + Iji
,
(2)
where Si is the signal strength received at Di’s receiver, N
is the noise level, and Iji is the interference Dj ’s transmitter