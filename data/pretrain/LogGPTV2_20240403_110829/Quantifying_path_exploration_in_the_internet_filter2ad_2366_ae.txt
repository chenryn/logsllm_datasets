nodes without going through the core.
We know that about 80% of the autonomous systems in
the Internet are located at the edge. Furthermore, in the
next subsection we will show that about 68% of the Tdown
events are originated at the edge. Therefore, we expect that
the edge → edge case reﬂects most of the slow routing con-
vergence observed in the Internet.
4.3 Origin of Fail-down Events
We will now examine where the Tdown events are orig-
inated in the Internet hierarchy. Since we expect the set
of Tdown events be common to all the 32 monitors of our
data set (section 3), we will use in this subsection a single
)
F
D
C
(
y
c
n
e
u
q
e
r
F
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
 120000
 100000
 80000
 60000
 40000
 20000
s
t
n
e
v
e
n
w
o
d
T
f
o
r
e
b
m
u
n
e
v
i
t
l
a
u
m
u
C
core → core
edge → core
edge → middle
edge → edge
 0
 1
 2
 3
Number of paths explored during Tdown
 0
 0
 5
Empirical
Linear Fit
 15
 10
Days of January 2006
 20
 25
 30
Figure 18: Number of paths explored during Tdown
events observed and originated in diﬀerent tiers.
Figure 19: Number of Tdown events over time.
Tdown duration (s)
core→core
middle→core
edge→core
middle→middle
edge→edge
edge→middle
54
60
61
83
85
87
Table 2: Median of duration of Tdown events observed
and originated in diﬀerent tiers.
monitor, the router 144.228.241.81 from Sprint. Note that
similar results are obtained from other monitors.
Because our data set spans over 1 month period, we do
not know if during this time there was any high-impact event
that triggered an abnormal number of Tdown failures, which
could bias our results. Figure 19 plots the cumulative num-
ber of Tdown events as observed by the monitor during Jan-
uary 2006. The cumulative number of events grows linearly,
with an approximate constant number of 3,600 Tdown events
per day. This uniform distribution along the time dimension
seems also to suggest that most fail-down events have a ran-
dom nature.
Table 3 shows the break down of Tdown events by the tier
that they are originated from. We observe that about 68%
of the events are originated at the edge. However, the edge
also announces a chunk of 56% of the preﬁxes. Therefore, in
order to assess the stability of each tier, and since our iden-
tiﬁcation of events is based on preﬁx, a simple event count
is not enough. A better measure is to divide the number of
events originated at each tier by the total number of preﬁxes
originated from that tier. Looking at the line “No. events
per preﬁx” in Table 3, we observe that if the core originates
n events per preﬁx, the middle originates 2× n and the edge
originates 3× n such events, yielding the interesting propor-
tion 1:2:3. This seems to indicate that generally, preﬁxes in
the middle are twice as unstable as preﬁxes in the core, and
preﬁxes at the edge are three times as unstable as preﬁxes
in the core.
No. of events
No. of preﬁxes
originated
No. of events
per preﬁx
Core Middle
34,514
3,011
14,367
81,988
Edge
78,149
122,877
0.21
0.42
0.63
Table 3: Tdown Events by Origin AS
5. RELATED WORK
There are two types of BGP update characterization work
in the literature: passive measurements [13, 14, 11, 26, 3,
16, 23, 27, 7], and active measurements [10, 12, 17]. The
work presented in this paper belongs to the ﬁrst category.
We conducted a systematic measurement to classify routing
instability events and quantify path exploration for all the
preﬁxes in the Internet. Our measurement also showed the
impact of AS’s tier level on the extent of path explorations.
Existing measurements of path exploration and slow con-
vergence have all been based on active measurements [10,
12, 17], where controlled events were injected into the In-
ternet from a small number of beacon sites. These mea-
surement results demonstrated the existence of BGP path
exploration and slow convergence, but did not show to what
extent they exist on the Internet under real operational con-
ditions. In contrast, in this paper we classify routing events
of all preﬁxes, as opposed to a small number of beacon sites,
into diﬀerent categories, and for each category we provide
measurement results on the updates per event and event
durations. Given we examine the updates from multiple
peers for all the preﬁxes in the global routing table, we are
able to identify the impact of AS tier levels on path ex-
ploration. Regarding the relation between the tier levels of
origin ASes, our results agree with previous active measure-
ment work [12] (using a small number of beacon sites) that
preﬁxes originated from tier-1 ASes tend to experience less
slow convergence compared to preﬁxes originated from lower
tier ASes. Moreover, our results also showed that, for the
same preﬁx, routers of diﬀerent AS tiers observe diﬀerent
degree of slow convergence, with tier-1 ASes seeing much
less than lower tier ASes.
Existing passive measurements have studied the instabil-
ity of all the preﬁxes. The focuses have been on update
inter-arrival time, event duration, and location of instabil-
ity, and characterization of individual updates [13, 14, 11,
26, 3, 16, 23, 27, 7]. There is no previous work on classifying
routing events according to their eﬀects (e.g. whether path
becomes better or worse after the event). Our paper de-
scribe a novel path preference heuristic based on path usage
time, and studied in detail the characteristics of diﬀerent
classes of instability events in the Internet.
Our approach shares certain similarity with [23, 27, 7] in
that we all use a timeout-based approach to group updates
into events. Such an approach can mistakingly group up-
dates of multiple root causes that happened close to each
other or overlapped in time into a single event. As we dis-
cussed earlier, the events in our Path-Disturbance category
can be examples of grouping updates of overlap root causes,
because the path to a preﬁx changed at least twice, and
often more times, during one event. We moved a step for-
ward by detecting and separating these overlapping events
into a diﬀerent category. It is most likely that those Path-
Change events with very long durations are also overlapping
events, and one possible way to identify them is to set a time
threshold on the event duration, which we plan to do in the
future.
6. CONCLUSIONS
We conducted the ﬁrst systematic measurement study to
quantify the existence of path exploration and slow conver-
gence in the global Internet routing system. We ﬁrst devel-
oped a new path ranking method based on the usage time
of each path and validated its eﬀectiveness using data from
controlled experiments with beacon preﬁxes. we then ap-
plied our path ranking method to BGP updates of all the
preﬁxes in the global routing table and classiﬁed each ob-
served routing event into three classes: Path Change, Path
Disturbance, and Same Path. For Path Change events, we
further classiﬁed them into 4 sub-categories: Tdown, Tup,
Tlong, and Tshort. We measured the path exploration, con-
vergence duration, and update count for each type of events.
Our work shows several signiﬁcant results. First, although
there is a wide existence of path exploration and slow con-
vergence in the global routing system, the signiﬁcance of the
problem can vary considerably depending on the locations
of both the origin ASes and the observation routers in the
routing system hierarchy. In general, routers in tier-1 ISPs
observe less path exploration and shorter convergence de-
lays than routers in edge ASes, and preﬁxes originated from
tier-1 ISPs also experience much less slow convergence than
those originated from edge ASes.
Second, Tlong events have short duration in general that
are comparable to that of Tup and Tshort events. This is
in accordance to our previous theoretical analysis results
presented in [19], and is a noticeable departure from widely
accepted views based on the previous experiments [10].
Furthermore, our data shows that the Same Path events
account for about 34% of the total routing events, which
seems an alarmingly high value. Since this class of events is
most likely caused by internal routing changes within indi-
vidual ASes, most of them probably should not have existed
in the ﬁrst place. Further investigations are needed to bet-
ter understand the causes of the Same Path events. We also
observed that about 30% of the routing events are due to
transient route changes (which are captured as path distur-
bance events in our measurement), and are responsible for
close to half of all the routing updates (47%). It would be
interesting to identify the causes of these transient routing
changes in order to further stabilize the global routing sys-
tem.
7. REFERENCES
[1] PSG Beacon List. Available from:
zmao/BGPBeacon.html [cited
http://www.psg.com/
05/11/2006].
∼
[2] RIPE Beacon List. Available from:
http://www.ripe.net/ris/docs/beaconlist.html
[cited 05/11/2006].
[3] D. Andersen, N. Feamster, S. Bauer, and
H. Balakrishnan. Topology inference from bgp routing
dynamics. In ACM SIGCOMM Internet Measurement
Workshop (IMW), 2002.
[4] A. Bremler-Barr, Y. Afek, and S. Schwarz. Improved
bgp convergence via ghost ﬂushing. In Proc. of IEEE
INFOCOM, 2003.
[5] J. Chandrashekar, Z. Duan, Z.-L. Zhang, and
J. Krasky. Limiting path exploration in path vector
protocols. In Proc. of IEEE INFOCOM, March 2005.
[6] D. Chang, R. Govindan, and J. Heidemann. The
temporal and topological characteristics of BGP path
changes. In Proc. of the Int’l Conf. on Network
Protocols (ICNP), November 2003.
[7] A. Feldmann, O. Maennel, Z. M. Mao, A. Berger, and
B. Maggs. Locating internet routing instabilities. In
Proc. of ACM SIGCOMM, 2004.
[8] L. Gao. On inferring autonomous system relationships
in the Internet. ACM/IEEE Transactions on
Networking, 9(6):733–745, 2001.
[9] T. G. Griﬃn and B. J. Premore. An experimental
analysis of bgp convergence time. In Proc. of the Int’l
Conf. on Network Protocols (ICNP), 2001.
[10] C. Labovitz, A. Ahuja, A. Abose, and F. Jahanian.
Delayed Internet routing convergence. IEEE/ACM
Transactions on Networking, 9(3):293 – 306, June
2001.
[11] C. Labovitz, A. Ahuja, and F. Jahanian. Experimental
study of Internet stability and wide-area network
failures. In Proceedings of FTCS99, June 1999.
[12] C. Labovitz, A. Ahuja, R. Wattenhofer, and
S. Venkatachary. The impact of Internet policy and
topology on delayed routing convergence. In Proc. of
IEEE INFOCOM, April 2001.
[13] C. Labovitz, G. Malan, and F. Jahanian. Internet
Routing Instability. In Proc. of ACM SIGCOMM,
September 1997.
[14] C. Labovitz, R. Malan, and F. Jahanian. Origins of
Internet routing instability. In Proc. of IEEE
INFOCOM, 1999.
[15] J. Luo, J. Xie, R. Hao, and X. Li. An approach to
accelerate convergence for path vector protocol. In
Proc. of IEEE Globecom, November 2002.
[16] O. Maennel and A. Feldmann. Realistic BGP traﬃc
for test labs. In Proc. of ACM SIGCOMM, 2002.
[17] Z. M. Mao, R. Bush, T. Griﬃn, and M. Roughan.
BGP beacons. In ACM SIGCOMM Internet
Measurement Conference (IMC), 2003.
[18] A. Markopoulou, G. Iannaccone, S. Bhattacharyya,
C.-N. Chuah, and C. Diot. Characterization of failures
in an IP backbone. In IEEE Infocom, Hong Kong,
2004.
[19] D. Pei, , B. Zhang, D. Massey, and L. Zhang. An
analysis of path-vector routing protocol convergence
algorithms. Computer Networks, 50(3):398 – 421, 2006.
[25] The RouteViews project. http://www.routeviews.org/.
[26] L. Wang, X. Zhao, D. Pei, R. Bush, D. Massey,
A. Mankin, S. F. Wu, and L. Zhang. Observation and
analysis of BGP behavior under stress. In ACM
SIGCOMM Internet Measurement Workshop (IMW),
2002.
[20] D. Pei, M. Azuma, D. Massey, and L. Zhang.
[27] J. Wu, Z. M. Mao, J. Rexford, and J. Wang. Finding a
BGP-RCN: Improving BGP convergence through root
cause notiﬁcation. Computer Networks, 48(2):175–194,
June 2005.
[21] D. Pei, X. Zhao, L. Wang, D. Massey, A. Mankin,
needle in a haystack: Pinpointing signiﬁcant BGP
routing changes in an IP network. In Symposium on
Networked System Design and Implementation
(NSDI), May 2005.
S. F. Wu, and L. Zhang. Improving bgp convergence
through consistency assertions. In Proc. of IEEE
INFOCOM, 2002.
[28] J. Xia and L. Gao. On the evaluation of AS
relationship inferences. In Proc. of IEEE
GLOBECOM, December 2004.
[22] Y. Rekhter, T. Li, and S. Hares. Border Gateway
Protocol 4. RFC 4271, Internet Engineering Task
Force, January 2006.
[23] J. Rexford, J. Wang, Z. Xiao, and Y. Zhang. BGP
routing stability of popular destinations. In ACM
SIGCOMM Internet Measurement Workshop (IMW),
2002.
[24] The RIPE Routing Information Services.
http://www.ris.ripe.net.
[29] B. Zhang, V. Kambhampati, M. Lad, D. Massey, and
L. Zhang. Identifying BGP Routing Table Transfers.
In ACM SIGCOMM Mining the Network Data
(MineNet) Workshop, August 2005.
[30] B. Zhang, R. Liu, D. Massey, and L. Zhang. Collecting
the internet as-level topology. ACM SIGCOMM
Computer Communications Review (CCR),
35(1):53–62, January 2005.