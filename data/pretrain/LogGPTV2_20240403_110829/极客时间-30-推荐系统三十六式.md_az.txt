### 1 基础的 SVD 算法值得一说的是，SVD 全称奇异值分解，属于线性代数的知识 ;然而在推荐算法中实际上使用的并不是正统的奇异值分解，而是一个伪奇异值分解（具体伪在哪不是本文的重点）。今天我介绍的 SVD 是由 Netflix Prize 中取得骄人成绩的 Yehuda Koren提出的矩阵分解推荐算法。按照顺序，首先介绍基础的 SVD算法，然后是考虑偏置信息，接着是超越评分矩阵增加多种输入，最后是增加时间因素。好，一个一个来。前面已经从直观上大致说了矩阵分解是怎么回事，这里再从物理意义上解释一遍。矩阵分解，就是把用户和物品都映射到一个k 维空间中，这个 k维空间不是我们直接看得到的，也不一定具有非常好的可解释性，每一个维度也没有名字，所以常常叫做隐因子，代表藏在直观的矩阵数据下面的。每一个物品都得到一个向量 q，每一个用户也得到一个向量p。对于物品，与它对应的向量 q中的元素，有正有负，代表着这个物品背后暗藏的一些用户关注的因素。对于用户，与它对应的向量 p中的元素，也有正有负，代表这个用户在若干因素上的偏好。物品被关注的因素，和用户偏好的因素，它们的数量和意义是一致的，就是我们在矩阵分解之处人为指定的k。举个例子，用户 u 的向量是 pu，物品 i 的向量是 qi，那么，要计算物品 i推荐给用户 u 的推荐分数，直接计算点积即可：]{.MathJax_Preview style="color: inherit; display: none;"} {.MathJax_Display style="text-align: center;"}``{=html}[[[[[[[[[[r]{#21.html#MathJax-Span-40.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.43em, 4.144em, -999.998em); top: -3.998em; left: 0.049em;"}[[\^]{#21.html#MathJax-Span-41.mostyle="font-family: MathJax_Main;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.38em, 3.626em, -999.998em); top: -4.045em; left: 0.049em;"}]{style="display: inline-block; position: relative; width: 0.567em; height: 0px;"}]{#21.html#MathJax-Span-39.munderover}]{#21.html#MathJax-Span-38 .mrow}]{#21.html#MathJax-Span-37.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.47em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-44.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[i]{#21.html#MathJax-Span-45.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-43.mrow}]{#21.html#MathJax-Span-42.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.567em;"}]{style="display: inline-block; position: relative; width: 1.273em; height: 0px;"}]{#21.html#MathJax-Span-36.msubsup}[=]{#21.html#MathJax-Span-46 .mostyle="font-family: MathJax_Main; padding-left: 0.285em;"}[p]{#21.html#MathJax-Span-48.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.52em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-51.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-50.mrow}]{#21.html#MathJax-Span-49.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.52em;"}]{style="display: inline-block; position: relative; width: 0.991em; height: 0px;"}]{#21.html#MathJax-Span-47.msubsupstyle="padding-left: 0.285em;"}[q[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"}]{#21.html#MathJax-Span-53.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.47em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[T[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.096em;"}]{#21.html#MathJax-Span-56.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-55.mrow}]{#21.html#MathJax-Span-54.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.391em, 1000.57em, 4.144em, -999.998em); top: -4.327em; left: 0.52em;"}[i]{#21.html#MathJax-Span-59.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-58.mrow}]{#21.html#MathJax-Span-57.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.391em, 1000.33em, 4.144em, -999.998em); top: -3.715em; left: 0.426em;"}]{style="display: inline-block; position: relative; width: 1.085em; height: 0px;"}]{#21.html#MathJax-Span-52.msubsup}]{#21.html#MathJax-Span-35.mrow}[]{style="display: inline-block; width: 0px; height: 2.355em;"}]{style="position: absolute; clip: rect(1.414em, 1004.71em, 2.826em, -999.998em); top: -2.351em; left: 0em;"}]{style="display: inline-block; position: relative; width: 4.708em; height: 0px; font-size: 125%;"}[]{style="display: inline-block; overflow: hidden; vertical-align: -0.468em; border-left: 0px solid; width: 0px; height: 1.532em;"}]{#21.html#MathJax-Span-34.mathstyle="width: 5.885em; display: inline-block;"}``{=html}[$${\hat{r}}_{ui} = p_{u}q_{i}^{T}$$]{.MJX_Assistive_MathML.MJX_Assistive_MathML_Blockrole="presentation"}]{#21.html#MathJax-Element-2-Frame .MathJaxtabindex="0" style="text-align: center; position: relative;"mathml="r^ui=puqiT"role="presentation"}$$$$看上去很简单，难在哪呢？难在如何得到每一个用户，每一个物品的 k维向量。这是一个机器学习问题。按照机器学习框架，一般就是考虑两个核心要素：1.  损失函数；2.  优化算法。SVD 的损失函数是这样定义的：]{.MathJax_Preview style="color: inherit; display: none;"} {.MathJax_Display style="text-align: center;"}``{=html}[[[[[min]{#21.html#MathJax-Span-63.mostyle="font-family: MathJax_Main;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.202em, 1001.65em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[[[[q[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"}]{#21.html#MathJax-Span-67.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.532em, 1000.33em, 4.285em, -999.998em); top: -3.998em; left: 0em;"}[∗]{#21.html#MathJax-Span-70.mostyle="font-size: 50%; font-family: MathJax_Main;"}]{#21.html#MathJax-Span-69.mrow}]{#21.html#MathJax-Span-68.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -4.233em; left: 0.379em;"}]{style="display: inline-block; position: relative; width: 0.661em; height: 0px;"}]{#21.html#MathJax-Span-66.msubsup}[,]{#21.html#MathJax-Span-71 .mostyle="font-size: 70.7%; font-family: MathJax_Main;"}[p]{#21.html#MathJax-Span-73.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.532em, 1000.33em, 4.285em, -999.998em); top: -3.998em; left: 0em;"}[∗]{#21.html#MathJax-Span-76.mostyle="font-size: 50%; font-family: MathJax_Main;"}]{#21.html#MathJax-Span-75.mrow}]{#21.html#MathJax-Span-74.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -4.233em; left: 0.379em;"}]{style="display: inline-block; position: relative; width: 0.661em; height: 0px;"}]{#21.html#MathJax-Span-72.msubsup}]{#21.html#MathJax-Span-65 .mrow}]{#21.html#MathJax-Span-64.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.391em, 1001.55em, 4.379em, -999.998em); top: -3.339em; left: 0.049em;"}]{style="display: inline-block; position: relative; width: 1.649em; height: 0px;"}]{#21.html#MathJax-Span-62.munderover}[∑]{#21.html#MathJax-Span-78 .mostyle="font-family: MathJax_Size2; vertical-align: 0em;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(2.92em, 1001.37em, 4.614em, -999.998em); top: -3.998em; left: 0.426em;"}[(]{#21.html#MathJax-Span-81.mostyle="font-size: 70.7%; font-family: MathJax_Main;"}[u]{#21.html#MathJax-Span-82.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[,]{#21.html#MathJax-Span-83.mostyle="font-size: 70.7%; font-family: MathJax_Main;"}[i]{#21.html#MathJax-Span-84.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[)]{#21.html#MathJax-Span-85.mostyle="font-size: 70.7%; font-family: MathJax_Main;"}[∈]{#21.html#MathJax-Span-86.mostyle="font-size: 70.7%; font-family: MathJax_Main;"}[κ]{#21.html#MathJax-Span-87.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-80.mrow}]{#21.html#MathJax-Span-79.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.344em, 1002.26em, 4.426em, -999.998em); top: -2.868em; left: 0em;"}]{style="display: inline-block; position: relative; width: 2.261em; height: 0px;"}]{#21.html#MathJax-Span-77.munderoverstyle="padding-left: 0.191em;"}(]{#21.html#MathJax-Span-90 .mostyle="font-family: MathJax_Main;"}[r]{#21.html#MathJax-Span-92 .mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.43em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-95.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[i]{#21.html#MathJax-Span-96.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-94.mrow}]{#21.html#MathJax-Span-93.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.473em;"}]{style="display: inline-block; position: relative; width: 1.179em; height: 0px;"}]{#21.html#MathJax-Span-91.msubsup}[−]{#21.html#MathJax-Span-97 .mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[p]{#21.html#MathJax-Span-99.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.52em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-102.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-101.mrow}]{#21.html#MathJax-Span-100.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.52em;"}]{style="display: inline-block; position: relative; width: 0.991em; height: 0px;"}]{#21.html#MathJax-Span-98.msubsupstyle="padding-left: 0.238em;"}[q[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"}]{#21.html#MathJax-Span-104.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.47em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[T[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.096em;"}]{#21.html#MathJax-Span-107.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-106.mrow}]{#21.html#MathJax-Span-105.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.391em, 1000.57em, 4.144em, -999.998em); top: -4.327em; left: 0.52em;"}[i]{#21.html#MathJax-Span-110.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-109.mrow}]{#21.html#MathJax-Span-108.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.391em, 1000.33em, 4.144em, -999.998em); top: -3.715em; left: 0.426em;"}]{style="display: inline-block; position: relative; width: 1.085em; height: 0px;"}]{#21.html#MathJax-Span-103.msubsup}[)]{#21.html#MathJax-Span-112 .mostyle="font-family: MathJax_Main;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.108em, 1000.28em, 4.379em, -999.998em); top: -3.998em; left: 0em;"}[2]{#21.html#MathJax-Span-115.mnstyle="font-size: 70.7%; font-family: MathJax_Main;"}]{#21.html#MathJax-Span-114.mrow}]{#21.html#MathJax-Span-113.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -4.421em; left: 0.379em;"}]{style="display: inline-block; position: relative; width: 0.802em; height: 0px;"}]{#21.html#MathJax-Span-111.msubsup}[+]{#21.html#MathJax-Span-116 .mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[λ]{#21.html#MathJax-Span-117.mistyle="font-family: MathJax_Math-italic; padding-left: 0.238em;"}[(]{#21.html#MathJax-Span-118.mo style="font-family: MathJax_Main;"}\|]{#21.html#MathJax-Span-121.mo style="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-120.mrow}]{#21.html#MathJax-Span-119.texatom}\|]{#21.html#MathJax-Span-124 .mostyle="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-123.mrow}]{#21.html#MathJax-Span-122.texatom}[q[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"}]{#21.html#MathJax-Span-126.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.47em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[i]{#21.html#MathJax-Span-129.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-128.mrow}]{#21.html#MathJax-Span-127.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.426em;"}]{style="display: inline-block; position: relative; width: 0.755em; height: 0px;"}]{#21.html#MathJax-Span-125.msubsup}\|]{#21.html#MathJax-Span-132 .mostyle="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-131.mrow}]{#21.html#MathJax-Span-130.texatom}[[[\|]{#21.html#MathJax-Span-136 .mostyle="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-135.mrow}]{#21.html#MathJax-Span-134.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.108em, 1000.14em, 4.379em, -999.998em); top: -3.998em; left: 0em;"}[2]{#21.html#MathJax-Span-139.mnstyle="font-size: 70.7%; font-family: MathJax_Main;"}]{#21.html#MathJax-Span-138.mrow}]{#21.html#MathJax-Span-137.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -4.468em; left: 0.285em;"}]{style="display: inline-block; position: relative; width: 0.708em; height: 0px;"}]{#21.html#MathJax-Span-133.msubsup}[+]{#21.html#MathJax-Span-140 .mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}\|]{#21.html#MathJax-Span-143.mo style="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-142.mrow}]{#21.html#MathJax-Span-141 .texatomstyle="padding-left: 0.238em;"}\|]{#21.html#MathJax-Span-146 .mostyle="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-145.mrow}]{#21.html#MathJax-Span-144.texatom}[p]{#21.html#MathJax-Span-148 .mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.52em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-151.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-150.mrow}]{#21.html#MathJax-Span-149.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.52em;"}]{style="display: inline-block; position: relative; width: 0.991em; height: 0px;"}]{#21.html#MathJax-Span-147.msubsup}\|]{#21.html#MathJax-Span-154 .mostyle="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-153.mrow}]{#21.html#MathJax-Span-152.texatom}[[[\|]{#21.html#MathJax-Span-158 .mostyle="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-157.mrow}]{#21.html#MathJax-Span-156.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.108em, 1000.14em, 4.379em, -999.998em); top: -3.998em; left: 0em;"}[2]{#21.html#MathJax-Span-161.mnstyle="font-size: 70.7%; font-family: MathJax_Main;"}]{#21.html#MathJax-Span-160.mrow}]{#21.html#MathJax-Span-159.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -4.468em; left: 0.285em;"}]{style="display: inline-block; position: relative; width: 0.708em; height: 0px;"}]{#21.html#MathJax-Span-155.msubsup}[)]{#21.html#MathJax-Span-162 .mostyle="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-89.mrow}]{#21.html#MathJax-Span-88 .texatomstyle="padding-left: 0.191em;"}]{#21.html#MathJax-Span-61.mrow}[]{style="display: inline-block; width: 0px; height: 2.355em;"}]{style="position: absolute; clip: rect(1.273em, 1018.59em, 3.908em, -999.998em); top: -2.351em; left: 0em;"}]{style="display: inline-block; position: relative; width: 18.685em; height: 0px; font-size: 125%;"}[]{style="display: inline-block; overflow: hidden; vertical-align: -1.821em; border-left: 0px solid; width: 0px; height: 3.062em;"}]{#21.html#MathJax-Span-60.mathstyle="width: 23.391em; display: inline-block;"}``{=html}[$$\min\limits_{q^{\ast},p^{\ast}}\sum\limits_{(u,i) \in \kappa}{(r_{ui} - p_{u}q_{i}^{T})^{2} + \lambda(||q_{i}||^{2} + ||p_{u}||^{2})}$$]{.MJX_Assistive_MathML.MJX_Assistive_MathML_Blockrole="presentation"}]{#21.html#MathJax-Element-3-Frame .MathJaxtabindex="0" style="text-align: center; position: relative;"mathml="minq∗,p∗∑(u,i)∈κ(rui−puqiT)2+λ(||qi||2+||pu||2)"role="presentation"}$$$$理解 SVD的参数学习过程并不是必须的，如果你不是算法工程师的话不必深究这个过程。由于这个公式略复杂，如果你正在听音频，就需要自己看一下图片。这个损失函数由两部分构成，加号前一部分控制着模型的偏差，加号后一部分控制着模型的方差。前一部分就是：用分解后的矩阵预测分数，要和实际的用户评分之间误差越小越好。后一部分就是：得到的隐因子向量要越简单越好，以控制这个模型的方差，换句话说，让它在真正执行推荐任务时发挥要稳定。这部分的概念对应机器学习中的过拟合，有兴趣可以深入了解。整个 SVD 的学习过程就是：1.  准备好用户物品的评分矩阵，每一条评分数据看做一条训练样本；2.  给分解后的 U 矩阵和 V 矩阵随机初始化元素值；3.  用 U 和 V 计算预测后的分数；4.  计算预测的分数和实际的分数误差；5.  按照梯度下降的方向更新 U 和 V 中的元素值；6.  重复步骤 3 到 5，直到达到停止条件。过程中提到的梯度下降是优化算法的一种，想深入了解可以参见任何一本机器学习的专著。得到分解后的矩阵之后，实质上就是得到了每个用户和每个物品的隐因子向量，拿着这个向量再做推荐计算就简单了，哪里不会点哪里，意思就是拿着物品和用户两个向量，计算点积就是推荐分数了。``{=html}
### 2 增加偏置信息到现在，你已经知道基础的 SVD是怎么回事了。现在来多考虑一下实际情况，试想一下：有一些用户会给出偏高的评分，比如标准宽松的用户；有一些物品也会收到偏高的评分，比如一些目标观众为铁粉的电影，甚至有可能整个平台的全局评分就偏高。所以，原装的 SVD 就有了第一个变种：把偏置信息抽出来的 SVD。一个用户给一个物品的评分会由四部分相加：]{.MathJax_Preview style="color: inherit; display: none;"} {.MathJax_Display style="text-align: center;"}``{=html}[[[[[[[[[[r]{#21.html#MathJax-Span-169.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.43em, 4.144em, -999.998em); top: -3.998em; left: 0.049em;"}[[\^]{#21.html#MathJax-Span-170.mostyle="font-family: MathJax_Main;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.38em, 3.626em, -999.998em); top: -4.045em; left: 0.049em;"}]{style="display: inline-block; position: relative; width: 0.567em; height: 0px;"}]{#21.html#MathJax-Span-168.munderover}]{#21.html#MathJax-Span-167.mrow}]{#21.html#MathJax-Span-166.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.47em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-173.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[i]{#21.html#MathJax-Span-174.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-172.mrow}]{#21.html#MathJax-Span-171.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.567em;"}]{style="display: inline-block; position: relative; width: 1.273em; height: 0px;"}]{#21.html#MathJax-Span-165.msubsup}[=]{#21.html#MathJax-Span-175 .mostyle="font-family: MathJax_Main; padding-left: 0.285em;"}[μ]{#21.html#MathJax-Span-176.mistyle="font-family: MathJax_Math-italic; padding-left: 0.285em;"}[+]{#21.html#MathJax-Span-177.mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[b]{#21.html#MathJax-Span-179.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.43em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[i]{#21.html#MathJax-Span-182.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-181.mrow}]{#21.html#MathJax-Span-180.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.426em;"}]{style="display: inline-block; position: relative; width: 0.755em; height: 0px;"}]{#21.html#MathJax-Span-178.msubsup style="padding-left: 0.238em;"}[+]{#21.html#MathJax-Span-183.mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[b]{#21.html#MathJax-Span-185.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.43em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-188.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-187.mrow}]{#21.html#MathJax-Span-186.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.426em;"}]{style="display: inline-block; position: relative; width: 0.896em; height: 0px;"}]{#21.html#MathJax-Span-184.msubsup style="padding-left: 0.238em;"}[+]{#21.html#MathJax-Span-189.mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[p]{#21.html#MathJax-Span-191.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.52em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-194.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-193.mrow}]{#21.html#MathJax-Span-192.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.52em;"}]{style="display: inline-block; position: relative; width: 0.991em; height: 0px;"}]{#21.html#MathJax-Span-190.msubsupstyle="padding-left: 0.238em;"}[q[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"}]{#21.html#MathJax-Span-196.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.47em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[T[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.096em;"}]{#21.html#MathJax-Span-199.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-198.mrow}]{#21.html#MathJax-Span-197.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.391em, 1000.57em, 4.144em, -999.998em); top: -4.327em; left: 0.52em;"}[i]{#21.html#MathJax-Span-202.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-201.mrow}]{#21.html#MathJax-Span-200.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.391em, 1000.33em, 4.144em, -999.998em); top: -3.715em; left: 0.426em;"}]{style="display: inline-block; position: relative; width: 1.085em; height: 0px;"}]{#21.html#MathJax-Span-195.msubsup}]{#21.html#MathJax-Span-164.mrow}[]{style="display: inline-block; width: 0px; height: 2.355em;"}]{style="position: absolute; clip: rect(1.414em, 1010.68em, 2.826em, -999.998em); top: -2.351em; left: 0em;"}]{style="display: inline-block; position: relative; width: 10.685em; height: 0px; font-size: 125%;"}[]{style="display: inline-block; overflow: hidden; vertical-align: -0.468em; border-left: 0px solid; width: 0px; height: 1.532em;"}]{#21.html#MathJax-Span-163.mathstyle="width: 13.367em; display: inline-block;"}``{=html}[$${\hat{r}}_{ui} = \mu + b_{i} + b_{u} + p_{u}q_{i}^{T}$$]{.MJX_Assistive_MathML.MJX_Assistive_MathML_Blockrole="presentation"}]{#21.html#MathJax-Element-4-Frame .MathJaxtabindex="0" style="text-align: center; position: relative;"mathml="r^ui=μ+bi+bu+puqiT"role="presentation"}$$$$从左至右分别代表：全局平均分、物品的评分偏置、用户评分的偏置、用户和物品之间的兴趣偏好。针对前面三项偏置分数，我在这里举个例子，假如一个电影评分网站全局平均分是3 分，《肖申克的救赎》的平均分比全局平均分要高 1 分。你是一个对电影非常严格的人，你一般打分比平均分都要低0.5，所以前三项从左到右分别就是3，1，-0.5。如果简单的就靠这三项，也可以给计算出一个你会给《肖申克的救赎》打的分数，就是3.5。增加了偏置信息的 SVD 模型目标函数稍有改变：![](Images/79ba4e1041f8f9f3d42d664334698dfe.png){savepage-src="https://static001.geekbang.org/resource/image/2c/85/2c6abb8736688e2ca315ef6fc7b03985.png"}和基本的 SVD相比，要想学习两个参数：用户偏置和物品偏置。学习的算法还是一样的。
### 3 增加历史行为探讨完增加偏执信息的 SVD后，接着你再思考一个问题：有的用户评分比较少。事实上这很常见，相比沉默的大多数，主动点评电影或者美食的用户是少数。换句话说，显式反馈比隐式反馈少，那么能不能利用隐式反馈来弥补这一点呢？另外，再考虑多一点，对于用户的个人属性，比如性别等，是不是也可以加入到模型中来弥补冷启动的不足呢？是的，都是可以的，在 SVD 中结合用户的隐式反馈行为和属性，这套模型叫做SVD++。先说隐式反馈怎么加入，方法是：除了假设评分矩阵中的物品有一个隐因子向量外，用户有过行为的物品集合也都有一个隐因子向量，维度是一样的。把用户操作过的物品隐因子向量加起来，用来表达用户的兴趣偏好。类似的，用户属性，全都转换成 0-1型的特征后，对每一个特征也假设都存在一个同样维度的隐因子向量，一个用户的所有属性对应的隐因子向量相加，也代表了他的一些偏好。综合两者，SVD++的目标函数中，只需要把推荐分数预测部分稍作修改，原来的用户向量那部分增加了隐式反馈向量和用户属性向量：]{.MathJax_Preview style="color: inherit; display: none;"} {.MathJax_Display style="text-align: center;"}``{=html}[[[[[[[[[[r]{#21.html#MathJax-Span-209.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.43em, 4.144em, -999.998em); top: -3.998em; left: 0.049em;"}[[\^]{#21.html#MathJax-Span-210.mostyle="font-family: MathJax_Main;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.38em, 3.626em, -999.998em); top: -4.045em; left: 0.049em;"}]{style="display: inline-block; position: relative; width: 0.567em; height: 0px;"}]{#21.html#MathJax-Span-208.munderover}]{#21.html#MathJax-Span-207.mrow}]{#21.html#MathJax-Span-206.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.47em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-213.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[i]{#21.html#MathJax-Span-214.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-212.mrow}]{#21.html#MathJax-Span-211.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.567em;"}]{style="display: inline-block; position: relative; width: 1.273em; height: 0px;"}]{#21.html#MathJax-Span-205.msubsup}[=]{#21.html#MathJax-Span-215 .mostyle="font-family: MathJax_Main; padding-left: 0.285em;"}[μ]{#21.html#MathJax-Span-216.mistyle="font-family: MathJax_Math-italic; padding-left: 0.285em;"}[+]{#21.html#MathJax-Span-217.mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[b]{#21.html#MathJax-Span-219.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.43em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[i]{#21.html#MathJax-Span-222.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-221.mrow}]{#21.html#MathJax-Span-220.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.426em;"}]{style="display: inline-block; position: relative; width: 0.755em; height: 0px;"}]{#21.html#MathJax-Span-218.msubsup style="padding-left: 0.238em;"}[+]{#21.html#MathJax-Span-223.mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[b]{#21.html#MathJax-Span-225.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.155em, 1000.43em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-228.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-227.mrow}]{#21.html#MathJax-Span-226.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.426em;"}]{style="display: inline-block; position: relative; width: 0.896em; height: 0px;"}]{#21.html#MathJax-Span-224.msubsup style="padding-left: 0.238em;"}[+]{#21.html#MathJax-Span-229.mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[ ]{#21.html#MathJax-Span-230.mtextstyle="font-family: MathJax_Main; padding-left: 0.238em;"}[(]{#21.html#MathJax-Span-231.mo style="font-family: MathJax_Main;"}[p]{#21.html#MathJax-Span-233.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.52em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[u]{#21.html#MathJax-Span-236.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-235.mrow}]{#21.html#MathJax-Span-234.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.52em;"}]{style="display: inline-block; position: relative; width: 0.991em; height: 0px;"}]{#21.html#MathJax-Span-232.msubsup}[+]{#21.html#MathJax-Span-237 .mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}\|]{#21.html#MathJax-Span-240.mo style="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-239.mrow}]{#21.html#MathJax-Span-238 .texatomstyle="padding-left: 0.238em;"}[N[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.096em;"}]{#21.html#MathJax-Span-241.mistyle="font-family: MathJax_Math-italic;"}[(]{#21.html#MathJax-Span-242.mo style="font-family: MathJax_Main;"}[u]{#21.html#MathJax-Span-243 .mistyle="font-family: MathJax_Math-italic;"}[)]{#21.html#MathJax-Span-244.mostyle="font-family: MathJax_Main;"}[[[\|]{#21.html#MathJax-Span-248.mo style="font-family: MathJax_Main;"}]{#21.html#MathJax-Span-247.mrow}]{#21.html#MathJax-Span-246.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.108em, 1000.14em, 4.379em, -999.998em); top: -3.998em; left: 0em;"}[−]{#21.html#MathJax-Span-251.mostyle="font-size: 70.7%; font-family: MathJax_Main;"}[0.5]{#21.html#MathJax-Span-252.mnstyle="font-size: 70.7%; font-family: MathJax_Main;"}]{#21.html#MathJax-Span-250.mrow}]{#21.html#MathJax-Span-249.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -4.468em; left: 0.285em;"}]{style="display: inline-block; position: relative; width: 1.791em; height: 0px;"}]{#21.html#MathJax-Span-245.msubsup}[∑]{#21.html#MathJax-Span-254 .mostyle="font-family: MathJax_Size2; vertical-align: 0em;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(2.92em, 1001.37em, 4.614em, -999.998em); top: -3.998em; left: 0.426em;"}[i]{#21.html#MathJax-Span-257.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[∈]{#21.html#MathJax-Span-258.mostyle="font-size: 70.7%; font-family: MathJax_Main;"}N[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.049em;"}]{#21.html#MathJax-Span-261.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[(]{#21.html#MathJax-Span-262.mostyle="font-size: 70.7%; font-family: MathJax_Main;"}[u]{#21.html#MathJax-Span-263.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[)]{#21.html#MathJax-Span-264.mostyle="font-size: 70.7%; font-family: MathJax_Main;"}]{#21.html#MathJax-Span-260.mrow}]{#21.html#MathJax-Span-259 .texatom}]{#21.html#MathJax-Span-256.mrow}]{#21.html#MathJax-Span-255.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.344em, 1002.21em, 4.426em, -999.998em); top: -2.868em; left: 0em;"}]{style="display: inline-block; position: relative; width: 2.308em; height: 0px;"}]{#21.html#MathJax-Span-253.munderoverstyle="padding-left: 0.191em;"}[[[x]{#21.html#MathJax-Span-268 .mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.52em, 4.144em, -999.998em); top: -3.998em; left: 0em;"}[i]{#21.html#MathJax-Span-271.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-270.mrow}]{#21.html#MathJax-Span-269.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.567em;"}]{style="display: inline-block; position: relative; width: 0.896em; height: 0px;"}]{#21.html#MathJax-Span-267.msubsup}]{#21.html#MathJax-Span-266 .mrow}]{#21.html#MathJax-Span-265.texatom style="padding-left: 0.191em;"}[+]{#21.html#MathJax-Span-272.mostyle="font-family: MathJax_Main; padding-left: 0.238em;"}[∑]{#21.html#MathJax-Span-274.mostyle="font-family: MathJax_Size2; vertical-align: 0em;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(2.92em, 1001.37em, 4.614em, -999.998em); top: -3.998em; left: 0.191em;"}[a]{#21.html#MathJax-Span-277.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}[∈]{#21.html#MathJax-Span-278.mostyle="font-size: 70.7%; font-family: MathJax_Main;"}A]{#21.html#MathJax-Span-281.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}u]{#21.html#MathJax-Span-284.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-283.mrow}]{#21.html#MathJax-Span-282 .texatom}]{#21.html#MathJax-Span-280.mrow}]{#21.html#MathJax-Span-279 .texatom}]{#21.html#MathJax-Span-276.mrow}]{#21.html#MathJax-Span-275.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.344em, 1001.79em, 4.285em, -999.998em); top: -2.868em; left: 0em;"}]{style="display: inline-block; position: relative; width: 1.791em; height: 0px;"}]{#21.html#MathJax-Span-273.munderoverstyle="padding-left: 0.238em;"}[[[y[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"}]{#21.html#MathJax-Span-288.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.52em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[a]{#21.html#MathJax-Span-291.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-290.mrow}]{#21.html#MathJax-Span-289.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; top: -3.856em; left: 0.473em;"}]{style="display: inline-block; position: relative; width: 0.944em; height: 0px;"}]{#21.html#MathJax-Span-287.msubsup}]{#21.html#MathJax-Span-286 .mrow}]{#21.html#MathJax-Span-285.texatom style="padding-left: 0.191em;"}[)]{#21.html#MathJax-Span-292.mostyle="font-family: MathJax_Main;"}[q[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"}]{#21.html#MathJax-Span-294.mistyle="font-family: MathJax_Math-italic;"}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.438em, 1000.47em, 4.332em, -999.998em); top: -3.998em; left: 0em;"}[T[]{style="display: inline-block; overflow: hidden; height: 1px; width: 0.096em;"}]{#21.html#MathJax-Span-297.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-296.mrow}]{#21.html#MathJax-Span-295.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.391em, 1000.57em, 4.144em, -999.998em); top: -4.327em; left: 0.52em;"}[i]{#21.html#MathJax-Span-300.mistyle="font-size: 70.7%; font-family: MathJax_Math-italic;"}]{#21.html#MathJax-Span-299.mrow}]{#21.html#MathJax-Span-298.texatom}[]{style="display: inline-block; width: 0px; height: 4.002em;"}]{style="position: absolute; clip: rect(3.391em, 1000.33em, 4.144em, -999.998em); top: -3.715em; left: 0.426em;"}]{style="display: inline-block; position: relative; width: 1.085em; height: 0px;"}]{#21.html#MathJax-Span-293.msubsup}]{#21.html#MathJax-Span-204.mrow}[]{style="display: inline-block; width: 0px; height: 2.355em;"}]{style="position: absolute; clip: rect(1.273em, 1025.04em, 3.908em, -999.998em); top: -2.351em; left: 0em;"}]{style="display: inline-block; position: relative; width: 25.038em; height: 0px; font-size: 125%;"}[]{style="display: inline-block; overflow: hidden; vertical-align: -1.821em; border-left: 0px solid; width: 0px; height: 3.062em;"}]{#21.html#MathJax-Span-203.mathstyle="width: 31.296em; display: inline-block;"}``{=html}[$${\hat{r}}_{ui} = \mu + b_{i} + b_{u} + \ (p_{u} + |N(u)|^{- 0.5}\sum\limits_{i \in {N(u)}}x_{i} + \sum\limits_{a \in {Au}}y_{a})q_{i}^{T}$$]{.MJX_Assistive_MathML.MJX_Assistive_MathML_Blockrole="presentation"}]{#21.html#MathJax-Element-5-Frame .MathJaxtabindex="0" style="text-align: center; position: relative;"mathml="r^ui=μ+bi+bu+ (pu+|N(u)|−0.5∑i∈N(u)xi+∑a∈Auya)qiT"role="presentation"}$$$$\（滑动查看完整公式）学习算法依然不变，只是要学习的参数多了两个向量：x 和y。一个是隐式反馈的物品向量，另一个用户属性的向量。这样一来，在用户没有评分时，也可以用他的隐式反馈和属性做出一定的预测。
## 4 考虑时间因素截止到目前，我们还没有正视过一个人性：人是善变的。这个是一个广义的评价，我们在进步也是在变化，今天的我们和十年前的我们很可能不一样了。这是常态，因此，在SVD 中考虑时间因素也变得顺理成章。在 SVD 中考虑时间因素，有几种做法：1.  对评分按照时间加权，让久远的评分更趋近平均值；2.  对评分时间划分区间，不同的时间区间内分别学习出隐因子向量，使用时按照区间使用对应的隐因子向量来计算；3.  对特殊的期间，如节日、周末等训练对应的隐因子向量。
## 总结至此，我们介绍了在 Netflix Prize 比赛中最为出众的模型：SVD及其一些典型的改进。改进方案分别是：1.  考虑偏置信息；2.  考虑隐式反馈和用户属性；3.  考虑时间因素。\    其实 Netflix Prize    比赛上诞生了很多其他优秀的算法，或者把一些已有的算法应用得到很好的效果，比如受限玻尔兹曼机用来融合多个模型，这个我会在后面的专栏文章中专门再讲。好了，最后我要给你留一个思考题，假如矩阵分解面对的数据不是评分数据，而是行为数据，那么今天讲到的损失函数是否依然有效呢？欢迎留言一起讨论。感谢你的收听，我们下次再见。![](Images/d3b48a2755db0a3707ef37007c2179c8.png){savepage-src="https://static001.geekbang.org/resource/image/87/b0/873b086966136189db14874181823fb0.jpg"}