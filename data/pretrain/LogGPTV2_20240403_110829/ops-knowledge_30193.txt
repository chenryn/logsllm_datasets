User: How to backup and restore MongoDB database? Please introduce the common backup methods and recovery methods of MongoDB.
Assistant: There are two commonly used backup methods for MongoDB: 1. mongodump/mongorestore command backup and restore data The mongodump command can back up the data of the specified database, and the following command can be used: ``` mongodump --host <host> --port <port> - -username <username> --password <password> --db <database> --out <backup directory> ``` Among them, host, port, username, password, and database are MongoDB connection parameters, and backup directory is for backup output directory. You can use the mongorestore command to restore data. You can use the following command: ``` mongorestore --host <host> --port <port> --username <username> --password <password> --db <database> <backup directory> /<backup name> ``` Among them, <backup name> is the file name of the backup file, and <backup directory> is the directory where the backup file is located. 2. MongoDB's file system snapshot backup and restore data Using file system snapshots to back up MongoDB data is a fast and effective backup method. It is suitable for saving MongoDB data on a file system. Snapshots can be created using some software utilities such as LVM, ZFS, etc. Restoring a snapshot is a very fast and straightforward way, as it restores data entirely by copying files. Just stop the MongoDB process before creating the snapshot, copy the snapshot to the MongoDB data directory, and restart the MongoDB process. There are two common recovery methods for MongoDB: 1. The mongorestore command restores data The mongorestore command can restore MongoDB data from the backup directory. The command is as follows: ``` mongorestore --host <host> --port <port> --username <username> --password <password> --db <database> <backup directory> ``` Among them, <backup directory> is the backup directory. 2. Copy data files to restore MongoDB data Another way to restore MongoDB data is to copy the data files to the MongoDB data directory, and then restart the MongoDB process. Note that this method works well if the data files are not corrupted. If the data file has been corrupted or lost, it cannot be recovered using this method. For this, backup and restore should be performed using mongodump/mongorestore commands.