I believe that such a function is often needed and it would be beneficial to have a utility for this purpose.