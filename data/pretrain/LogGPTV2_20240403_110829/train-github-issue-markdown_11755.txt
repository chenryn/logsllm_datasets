> For translation and summarization training, decoder_input_ids should be
> provided. If no decoder_input_ids is provided, the model will create this
> tensor by shifting the input_ids to the right for denoising pre-training
> following the paper.  
>
> https://huggingface.co/docs/transformers/v4.16.2/en/model_doc/bart#transformers.BartForConditionalGeneration.forward.decoder_input_ids
This is inappropriate. If `labels` is provided, the model will create this
tensor by shifting the `labels`:  
transformers/src/transformers/models/bart/modeling_bart.py
Lines 1320 to 1324 in db7d6a8
|  if labels is not None:  
---|---  
|  if decoder_input_ids is None and decoder_inputs_embeds is None:  
|  decoder_input_ids = shift_tokens_right(  
|  labels, self.config.pad_token_id, self.config.decoder_start_token_id  
|  )