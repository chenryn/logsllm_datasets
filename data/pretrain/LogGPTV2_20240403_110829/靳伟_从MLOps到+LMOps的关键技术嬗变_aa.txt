从MLOps到LMOps的 关键技术嬗变
百度AI中台产品架构师靳伟
从MLOps到LMOps
• 人工智能的发展路径 人工智能发展路径
深度学习模型
预训练模型
生成式大模型
生成式大语言模型
ChatGPT、文心一言、Claude、
Vicuna、Alpaca、ChatGLM，等
机器学习属于人工智能（Artificial Intelligence）的一个方法子领域
计算机通过算法，利用经验（数据）来改善系统自身的性能
深度学习（Deep Learning）是一种实现机器学习的技术
利用深层神经网络，实现层级特征抽象和表示学习
大模型（Foundation Model）参数规模在十亿以上的神经网络模型
通常以Transformer作为基础结构，在海量无标注数据上进行自监督学习
大语言模型（Large Language Model）是一种具备对语言的理
解和生成能力的大模型解和生成能力的大模型
基于Transformer的注意力机制，通过SFT激发后出现能力涌现
什么是MLOps
MLOps（Machine Learning Operations）是机器学习时代的DevOps，其主要作用就是连接模型构 建团队和业务，建立起标准化的模型开发、训练、部署、上线、监控的最佳实践，从而提高质量，简 化管理流程，在大规模生产环境中自动部署机器学习和深度学习模型，使模型与业务需求以及规则要 求保持一致变得更加容易。
和DevOps的相似处
和DevOps的不同点
简化步骤流程 	更复杂的版本控制
降低沟通成本 	持续监控和持续训练
硬件要求、持续部署、持续集成...
大模型带来的变化
|  |  |  | 千卡至万卡的分布式训练 |
|---|---|---|---|
|  |TB~PB级别 | |训练稳定性 |
|  |未标注多模态数据 | |训练稳定性 ||  |未标注多模态数据 | |训练稳定性 |
|  |未标注多模态数据 | | |
| 数据 |海量数据加工 |训练 |PEFT调优技术 |
| 数据 |海量数据加工 |训练 |长上下文增强 |
| 数据 |指令、图文、多轮对话数据 |训练 |长上下文增强 |
| 数据 |指令、图文、多轮对话数据 |训练 |中文/场景增强 |
模型小型化
| 评估 | 流式性能指标 | 推理 | 分布式推理 |
|---|---|---|---|
| 评估 |客观+主观效果指标 |推理 |Prompt工程 |
| 评估 |价值观评估指标 |推理 |流式API |
安全模块
什么是LMOps
定义 目标 区别
| 针对大模型的一整套开发运营一体 | 让大模型可以可靠且高效地部署于 | 大模型因为自身用法和性质不同,  |
|---|---|---||---|---|---|
| 化方案 |生产环境中, 并能高效迭代 |相较MLOps时代, 对Prompt工程,  |
模型训练等提出了新挑战
LMOps是大模型工业化应用的关键,使得大
模型能真正惠及各行各业
MLOps概述, 挑战与解决方案
机器学习模型研发面临的普遍问题
数据及模型缺乏统一管理 模型开发部署迭代周期长 AI工程化发展
| ML面向的对象是数据、算法和 | Algorithmia 2020：很大一部分公 | 工具 |
|---|---|---|
| 模型的有机整体 |司需要31-90天上线一个模型，其 |工具 |
| 模型的有机整体 |中18%的公司需要90天以上上线 |工具 |
产品
| 模型监控体系不够完善 | 人员孤立隔离 | 流程与协同 |
|---|---|---|
| 在部署的那一刻开始模型存在降 |业务团队、运维团队和AI团队间 |流程与协同 || 级退化的风险：内容漂移和数据 |的沟通鸿沟较难逾越 |流程与协同 |
漂移
引用自：中国信通院《人工智能研发运营一体化(Model/MLOps)能力成熟度模型》标准解读
	MLOps贯穿全生命周期并有效建立协同 
实施MLOps意味着在机器学习系统构建流程的所有步骤中实现自动化和监控（包括集成、测试、发布、部署和基础架构管理）
如何建立基于流水线的协同
| 数据管控 | 配置复杂 | 流程复用 | 如何设计通用的测 | 如何找到合适的场景 | 在实际场景中应用模型 |
|---|---|---|---|---|---|
| 数据管控 |配置复杂 |流程复用 |试标准适配服务于 |如何找到合适的场景 |时，如何建立应对样本 |
| 数据管控 |配置复杂 |流程复用 |试标准适配服务于 |应用模型实现场景快 |时，如何建立应对样本 || 数据管控 |配置复杂 |流程复用 |不同场景的模型？ |应用模型实现场景快 |变化的标准监控机制？ |
| 数据管控 |配置复杂 |流程复用 |不同场景的模型？ |速落地？ |变化的标准监控机制？ |
| 数据处理 | | | | | |
数据质量参差不齐，数 如何处理特征？ 训练过程时间、资源
| 据标注耗费时间和人力 | 如何选择算法？ | 等成本高昂，如何构 | 测试标准 | 快速落地 | 治理体系 |
|---|---|---|---|---|---|
| ，数据复用性差。 |如何配置特定算法？ |造可复用的模型？ |测试标准 |快速落地 |治理体系 |
如何治理模型
引用自：中国信通院《人工智能工程化关键技术问题和发展趋势》研究课题
百度AI中台MLOp最佳实践 
	百度AI中台解决方案百度AI中台MLOp最佳实践 
	百度AI中台解决方案
| 基础管控 | AI服务运行 | 通用AI能力 | 通用AI能力 | 设备缺陷识别 | 行业专用AI能力 | 反欺诈 | 服务管理 | 服务管理 | 模型风险 |
|---|---|---|---|---|---|---|---|---|---|
| 基础管控 |AI服务运行 |自然语言处理 |人脸识别 |设备缺陷识别 |生产安全检测 |反欺诈 |离在线预测 |边端预测 |管理 |
| 基础管控 |平台 |自然语言处理 |人脸识别 |设备缺陷识别 |生产安全检测 |反欺诈 |离在线预测 |边端预测 |管理 |
| 基础管控 |平台 |自然语言处理 |人脸识别 |设备缺陷识别 |生产安全检测 |特征识别 |离在线预测 |边端预测 |(MRM) |
| (AI Base) |平台 |自然语言处理 |人脸识别 |设备缺陷识别 |生产安全检测 |特征识别 |离在线预测 |边端预测 |(MRM) || (AI Base) |(AIS) |文字识别 |图像识别 |电弧、绝缘子 |表计识别 |信贷审批 |服务编排 |漂移监控 |(MRM) |
| (AI Base) |(AIS) |文字识别 |图像识别 |脱落检测 |表计识别 |意见抽取 |服务编排 |漂移监控 |模型审批 |
资产管理
| 账号&权限 | 样本中心 | 数据集成 | 联邦查询 | 样本管理 | 数据增强 | 模型中心 | 模型管理 | 部署包管理 | 模型评估 | 模型加速 | 风险监控 |
|---|---|---|---|---|---|---|---|---|---|---|---|
| 账号&权限 |样本中心 |数据集成 |联邦查询 |数据清洗 |样本审核 |模型中心 |模型管理 |部署包管理 |模型评估 |模型加速 |风险监控 || 资源调度 |（EasyData） |SQL工作台 |库表管理 |数据清洗 |样本审核 |（MC） |边缘适配 |模型加密 |模型体验 |模型共享 |AI资产 |
| 资源调度 |（EasyData） |SQL工作台 |库表管理 |样本标注 |特征工程 |（MC） |边缘适配 |模型加密 |模型体验 |模型共享 |AI资产 |
| 存储管理 |AI开发 |全功能AI开发平台(BML) |全功能AI开发平台(BML) |全功能AI开发平台(BML) |全功能AI开发平台(BML) |全功能AI开发平台(BML) |零门槛AI开发平台(EasyDL) |零门槛AI开发平台(EasyDL) |零门槛AI开发平台(EasyDL) |OCR |共享平台 || 存储管理 |AI开发 |全功能AI开发平台(BML) |全功能AI开发平台(BML) |全功能AI开发平台(BML) |全功能AI开发平台(BML) |全功能AI开发平台(BML) |零门槛AI开发平台(EasyDL) |零门槛AI开发平台(EasyDL) |零门槛AI开发平台(EasyDL) |OCR |(AI Hub) |
| 存储管理 |AI开发 |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |零门槛AI开发平台(EasyDL) |零门槛AI开发平台(EasyDL) |零门槛AI开发平台(EasyDL) |OCR |(AI Hub) || 存储管理 |AI开发 |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |图像 |视频 |视频 |OCR |(AI Hub) || 存储管理 |平台 |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |Notebook        可视化拖拽预置模型开发          Pipeline |图像 |视频 |视频 |OCR |(AI Hub) |
| 监控报警 |平台 |实验管理 |实验管理 |特征库 |特征库 |特征库 |文本 |语音 |语音 |表数据 |资产共享 |
| 监控报警 |平台 |机器学习/深度学习框架 |机器学习/深度学习框架 |机器学习/深度学习框架 |机器学习/深度学习框架 |机器学习/深度学习框架 |文本 |语音 |语音 |表数据 |资产共享 || 监控报警 |平台 |机器学习/深度学习框架 |机器学习/深度学习框架 |机器学习/深度学习框架 |机器学习/深度学习框架 |机器学习/深度学习框架 |文本 |语音 |语音 |表数据 |资产托管 |
百度智能云千帆大模型平台
大模型数据管理及标注 SFT/RLHF训练机制 大模型评估 大模型推理 资产交易
审计
Prompt管理及优化 插件市场 安全干预 资产门户
MLOps 核心技术
自动化数据标注 实验管理+版本控制 AutoML+AutoDL 可解释性
| 自动化方式进行数据标 | 自动收集实验参数, 配合 | 使用AutoML等技术来自 | 通过可解释性技术来分析 |
|---|---|---|---|
| 自动化方式进行数据标 |Git等版本控制系统来管 |动搜索算法和调参,找到 |通过可解释性技术来分析 |
| 注,去除噪声数据,保证模 |Git等版本控制系统来管 |动搜索算法和调参,找到 |模型行为,提高模型透明 || 注,去除噪声数据,保证模 |理代码、数据、模型文 |最佳模型并加速实验周 |模型行为,提高模型透明 |
| 注,去除噪声数据,保证模 |理代码、数据、模型文 |最佳模型并加速实验周 |度 |
| 型训练数据的质量 |理代码、数据、模型文 |最佳模型并加速实验周 |度 |
| 漂移监控 |件等 |期 |API-Centric |
| 漂移监控 |模型适配 |模型压缩 |API-Centric |
收集模型训练和推理的 持续扩展模型适配硬件范 使用剪枝、量化等技术来 平台主要操作行为可代
| 日志,设置关键指标,监 | 围, 促成广泛环境下的自 | 压缩模型大小,降低部署 | 码化, 连同实验版本信 |
|---|---|---|---|
| 控模型性能; 并可实现 |围, 促成广泛环境下的自 |压缩模型大小,降低部署 |息, 可自动执行 |
| 控模型性能; 并可实现 |动部署 |成本 |息, 可自动执行 || 控模型性能; 并可实现 |动部署 |成本 |息, 可自动执行 |
自动重训
LMOps实施挑战与对应关键技术
LMOps Landscape
数据存储 数据准备 模型训练 模型评估 模型部署 模型管理及监控