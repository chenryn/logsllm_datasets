trafﬁc loads for the APs and the clients in a way that can stress test
particular dimensions in the problem of AP selection. We then in-
troduce a new client in the environment and collect measurements
for all three metrics listed above with respect to two candidate APs
(the two choices at the disposal of the client). The client is then in-
structed to afﬁliate with each one of the two candidate APs. Upon
each association a 4 MBps CBR trafﬁc stream is sent from the cho-
sen AP to the client lasting for 60 seconds and with a packet size
equal to 1500 Bytes. We record the resulting throughput, identify-
ing the AP that offered the best throughput performance. We then
compare with the AP selections that would have been made using
each individual metric, if the client selected (i) the AP with the
highest RSSI, (ii) the lowest ATD, or (iii) the highest capacity.
Most of the experiments involve downlink trafﬁc since it appears
to be the dominant mode of wireless usage (most servers still reside
in the wired infrastructure). We have, however, performed uplink
experiments and the trends and observations are no different from
the downlink ones. All experiments are performed in the evening
when no other wireless activity takes place in the building.
One limitation in our testbed stems from the use of prototype
APs that host the modiﬁable wireless cards. In particular, our wire-
less adaptors do not implement per-client rate adaptation, a function
supported by all commercial APs. Throughout the experiments we
use a ﬁxed rate of 11 Mbps, which results in an effective maximum
throughput of 5 Mbps. Due to our inability to use rate adaptation on
our AP the effective rate supported by a link can no longer adapt to
the quality of the wireless channel. The absence of rate adaptation
in the downlink experiments does not impact the AP capacity met-
ric but will inﬂuence to some extent the representativeness of RSSI
and ATD metrics to reﬂect user throughput, as will be extensively
discussed in Section 5. For this reason, our ﬁrst three experimen-
tal topologies attempt to restrict the quality of the communication
channel to regions where rate adaptation is not required. We fur-
ther saturate the channel such that good quality links can be used
up to their maximum rate. The effect of rate adaptation is tested on
a separate experiment which focuses on uplink trafﬁc, capitalizing
on the ability of the clients to perform such a function.
4.1 Experiment 1 - RSSI
Summary of setup: One AP is closer to the new client but has an
associated client along with co-channel interference. The other AP
has no associated clients nor interference but is farther.
Our ﬁrst experiment is designed to test the RSSI metric. We de-
ploy 3 APs in the ofﬁce environment. Two of the APs (AP1, and
AP2 in Figure 1(a)) operate on the same frequency and have one
client each to which they send trafﬁc at a constant rate equal to 4
Mbps. The third AP, AP3, is operating on an orthogonal frequency
and has no associated client. The path loss from the new client (C2)
to AP1 is smaller than the path loss to AP3. If the afﬁliation al-
gorithm operated on signal strength alone, the client would select
AP1 that features both a client, as well as a busy co-channel AP. We
instruct client C2 to afﬁliate with AP1 and AP3 in turn and measure
the throughput achieved by a 4 Mbps CBR stream sent from the AP
to the client. Table 1 lists the value for the different candidate met-
rics observed by the client with respect to the two candidate APs, as
well as the resulting throughput. The throughput obtained from the
afﬁliation with AP3 is 25% higher than the one achieved through
AP1, even though the signal strength received from AP1 is higher
than the one from AP3. Table 2 lists the decision that the other 2
metrics would have led to if used in the afﬁliation decision. It can
be seen that the impact of the co-channel AP along with the exist-
ing trafﬁc on the co-channel APs is much greater than the impact of
lower RSSI with respect to AP3.
4.2 Experiment 2 - Aggregated Transmission Delay
Summary of setup: One AP has no clients but faces co-channel in-
terference and is farther away from the new client. The other AP is
closer but has an associated client receiving moderate trafﬁc.
The second topology is presented in Figure 1(b). The focus of
this topology is to stress the performance of the aggregated trans-
mission delay metric. ATD is affected by the number of clients,
as well as their transmission delays. As before, the client has two
afﬁliation choices, AP1 or AP3. AP1 operates on channel 10, fea-
turing co-channel AP2 with client C2 constantly receiving trafﬁc at
4 Mbps rate. On the other hand, AP3 operates on an orthogonal
frequency and sends trafﬁc to its associated client at 1 Mbps rate.
The quality of the link from C3 to AP1 is worse than towards AP3.
The afﬁliation of client C3 to each AP in turn leads to the results
reported in Table 1. The throughput achieved by afﬁliation with
AP3 is six times higher than with AP1. The aggregation transmis-
sion delay for AP1 is zero, since AP1 has no clients. However, the
co-channel AP with the high workload, along with the worse link
quality leads to very poor throughput.
4.3 Experiment 3 - AP Capacity
Summary of setup: One AP is closer to the new client and has no
associated clients but faces co-channel interference from a busy AP.
The other AP faces no interference but is farther away and has an
associated client.
The third topology tests the performance of the APC metric and
is shown in Figure 1(c). AP1 and AP2 are operating on the same
channel, with AP2 sending trafﬁc to C3 at a rate of 2 Mbps. AP3
operates on an orthogonal channel and constantly sends trafﬁc to
C4 at a 4 Mbps rate. The signal quality to AP1 is better than to
AP4. The AP capacity reported by AP1 is smaller than the one
of AP3 due to the co-channel AP. If the client decides to afﬁliate
with the AP that occupies the medium for the greatest amount of
time it obtains half the throughput than if it were to afﬁliate with
AP1 (Table 1). It can be seen that the impact of lower RSSI and
contending clients (associated with the same AP) is greater than the
impact of lesser capacity by AP1. Note, that the capacity is not
signiﬁcantly low since AP2 sends a light trafﬁc stream to C3 and is
also far from AP1.
4.4 Experiment 4 - RSSI (Uplink)
Summary of setup: One AP is closer to the new client but has an
associated client sending trafﬁc in the uplink direction. The other
AP has no associated clients but is farther away.
    CH 10
AP1
CH 10
AP2
CH 3
AP3
    CH 10
AP1
CH 10
AP2
4 Mbps
4 Mbps
4 Mbps
4 Mbps
C1
C2
C3
    CH 10
AP1
(a)
CH 10
AP2
C4
C1
SNIFFER
SNIFFER
CH 3
AP3
    CH 10
AP1
4 Mbps
4 Mbps
4 Mbps
C2
C3
(b)
CH 10
AP2
1 Mbps
C4
CH 3
AP3
CH 3
AP3
4 Mbps
4 Mbps
2 Mbps
4 Mbps
18 Mbps
18 Mbps
18 Mbps
C1
SNIFFER
C2
C3
C4
C1
C2
(c)
C3
SNIFFER
C4
(d)
    CH 10
AP1
CH 10
AP2
CH 3
AP3
4 Mbps
4 Mbps
4 Mbps
C1
C2
C3
SNIFFER
C4
(e)
Figure 1: Experimental topologies: (a) RSSI (802.11b), (b) Aggregated Transmission Delay (802.11b), (c) AP Capacity (802.11b), (d)
RSSI - Uplink (802.11g), and (e) Impact of Absence of Rate Adaptation on Downlink (802.11b).
All experiments so far have focused on the downlink trafﬁc sce-
nario. The topology in Figure 1(d) focuses on the performance of
the RSSI metric on the uplink direction in the presence of rate adap-
tation, since the clients have such a capability. For a crisper exposi-
tion of the impact of rate scaling, this is the only experiment where
we use 802.11g due to the greater range of available transmission
rates. Client C2 has two afﬁliation options: (i) AP1 that receives
trafﬁc from client C1 at 18 Mbps rate, and (ii) AP3 that is farther
away but has no clients. Afﬁliation of C2 with the closest AP1 re-
sults in 33% loss in throughput due to the fact that AP1 already
supports one client (Table 1). Afﬁliating with the slightly worse
quality AP3 can actually lead to better performance in the presence
of rate adaptation. While we had observed this on the downlink, we
see that the impact of the wrong decision is greater on the uplink
since the clients are capable of rate adaptation which reduces the
impact of poor channel quality to a great extent.
5 Toward a more inclusive metric: Expected
Throughput
It can be clearly seen from the above experiments, that none of
the metrics considered so far is able to help make the right asso-
ciation decision under all circumstances. This is inherently due to
the fact that a single metric cannot capture all factors that inﬂuence
throughput performance. According to Section 2 we can estimate
the long-term throughput of a client based on all three metrics. We
call the new metric “expected throughput” (ET). The ET metric for
a client u with respect to an access point a according to Equation 1
is given by:
ET (a, u) =
AP C(a)
AT D(a) + d(u)
(2)
where AP C(a) is the capacity of a, ATD is the aggregated trans-
mission delay as reported by the AP, and d(u) is the estimated
transmission delay for a data unit by client u as estimated using
his/her RSSI. Notice that Equation 2 does not include T due to
the dependence of our measurement reference period on the trans-
mission/reception events for each AP (Section 3). However, the
weighted moving average nature of APC and ATD should still offer
a common basis for comparison across APs. Notice that this lim-
itation stems from the sensitivity of the ﬁrmware code to sustain a
continuous stream of measurements. Upon the calculation of the
ET metric for different APs, the client will decide to afﬁliate with
the AP that features the highest ET value.
The corresponding results for the ET metric are shown in Tables
1 and 2. It can be clearly seen that the ET metric is able to make the
right decision in all 4 experiments, thereby conﬁrming its effective-
ness. However, it must be noted that the ET metric presented above
relies on two key assumptions, the use of rate adaptation and sat-
urated downlink trafﬁc, in the absence of which modiﬁcations will
be required.
5.1 The impact of rate adaptation
The ET metric assumes that the transmission rate and hence the ag-
gregated transmission delay is a function of the RSSI, which in turn
assumes the use of some form of rate adaptation. While the ET
metric will certainly be a good throughput indicator in uplink ex-
periments where rate scaling is implemented, we found that the ET
metric was also a good indicator in all the downlink experiments