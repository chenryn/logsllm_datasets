ing a dual-radio mesh, we observed that the majority of routes in the MeshNet consisted
of 802.11a links. This majority occurs because 802.11a offers signiﬁcantly higher data
rates as compared to 802.11b. Now, 802.11b has a greater range than 802.11a. 802.11a
range is further limited in a non-line-of-sight indoor environment as is the case in the
MeshNet. Consequently, the Roofnet nodes are better connected with one another than
nodes in the Meshnet. This reason could explain why the number of routes available in
the Roofnet is much higher than in the MeshNet.
A worthwhile consideration following from the above reasoning is the impact net-
work planning has on routing stability. In the speciﬁc case of the MeshNet, network
connectivity likely contributed to higher persistence and prevalence values compared to
the Roofnet. As another case in point, Camp et al. found that node placement in their
Houston urban mesh deployment inﬂuenced routing performance [4].
Our analysis of persistence and prevalence indicates that routes in wireless mesh
networks are inherently unstable. As a result, one would expect route ﬂaps to occur
frequently in a mesh network. The next section investigates the utility of the route ﬂaps
by investigating the throughput improvement they offer, and their lifetimes.
4.2 Route Flapping
The methodology to analyze the impact of route ﬂaps is as follows. Every route change
between a source-destination pair from one instance of time to the next is recorded as a
route ﬂap. For each route ﬂap, we noted the length of time, in minutes, the ﬂap persists
before the next ﬂap is observed. Also, for each route ﬂap, we computed the percentage
throughput improvement offered by the new route over the old route. Assuming a 1500
byte packet, the throughput of a route can be computed by taking the ratio of packet
size to the route’s WCETT value.
Figures 4 and 5 plots the percentage throughput improvement offered by a route ﬂap
on the y-axis against the lifetime of the ﬂap on the x-axis. Each point corresponds to a
route ﬂap. For better clarity, only ﬂap lifetimes in the range 1 through 50 are depicted
on the x-axis. Several observations can be made from this ﬁgure.
First, the ﬁgure shows a high concentration of short-lived route ﬂaps. The long-lived
ﬂaps are smaller in number and likely correspond to the dominant routes. Figure 6
plots all the route ﬂaps shown in Figures 4 and 5 as a cumulative distribution of their
ﬂap lifetimes. For both networks, over 60% of the route ﬂaps last only a minute; 90%
of the route ﬂaps last less than ﬁve minutes. The high number of short-lived route ﬂaps
contribute to the instability of routing in the two networks, as is observed in our analysis
in Section 4.1.
Second, even though a high concentration of short-lived route ﬂaps exists, the
throughput improvement offered by these ﬂaps varies widely. For example, in both net-
works, the one minute route ﬂaps offer throughput improvements as little as 0.001% and
as high as 100,000%. The implication of our ﬁndings is that opportunistic
80
K. Ramachandran et al.
t
n
e
m
e
v
o
r
p
m
i
t
n
e
c
r
e
P
 100000
 10000
 1000
 100
 10
 1
 0.1
 0.01
 0.001
 0
 10
 20
 30
 40
 50
Flap lifetime (minutes)
t
n
e
m
e
v
o
r
p
m
i
t
n
e
c
r
e
P
 100000
 10000
 1000
 100
 10
 1
 0.1
 0.01
 0.001
 0
 10
 20
 30
 40
 50
Flap lifetime (minutes)
Fig. 4. Throughput beneﬁt of route ﬂaps in
MeshNet
Fig. 5. Throughput beneﬁt of route ﬂaps in
Roofnet
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
l
a
u
m
u
C
 1
 0.9
 0.8
 0.7
 0.6
 0.5
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
l
a
u
m
u
C
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
 0.01
MeshNet
Roofnet
 5
 10  15  20  25  30  35  40  45  50
Flap lifetime (minutes)
MeshNet
Roofnet
 0.1
 1
 10
 100  1000  10000 100000
Percent improvement
Fig. 6. Flap lifetimes as a fraction of total
routes
Fig. 7. Percentage throughput improvement as a
fraction of total routes
throughput maximization through route ﬂaps can lead to signiﬁcant instability in a mesh
network. However, many short-lived routes do provide signiﬁcant gains in throughput.
This suggests a routing protocol that provides good stability may have to compromise
on throughput gains.
A third observation is that a large number of route ﬂaps provide only a marginal im-
provement in throughput. Figure 7 plots all the route ﬂaps shown in Figures 4 and 5 as
a cumulative distribution of the percentage throughput improvement they provide. 50%
of the route ﬂaps in the MeshNet and 27% of the route ﬂaps in the Roofnet provide less
than 10% throughput improvement. These route ﬂaps vary in duration from 1 minute
to 50 minutes. The implication of this result is that a routing protocol that always ﬂaps
routes will likely achieve only minimal gains in a large number of instances.
4.3 Can Routing Stability be Improved?
The previous observations suggest that route ﬂapping can be dampened by selectively
choosing an alternate route between a source-destination pair. For example, a routing
protocol may choose to switch to an alternate route only when the route offers more
than 10% throughput improvement over what is currently used. In the speciﬁc case of
the UCSB MeshNet, such a dampening threshold has the potential to eliminate more
than 50% of all route ﬂaps. Another likely dampening metric could be to switch to an
Routing Stability in Static Wireless Mesh Networks
81
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
a
u
m
u
C
l
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
Original
1 min threshold
10% threshold
 1
 10
 100
 1000
Persistence of dominant route (minutes)
y
t
i
l
i
b
a
b
o
r
p
e
v
i
t
a
u
m
u
C
l
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
Original
1 min threshold
10% threshold
 1
 10
 100
 1000
Persistence of dominant route (minutes)
Fig. 8. Route stability with dampening in Mesh-
Net
Fig. 9. Route stability with dampening in
Roofnet
alternate route only when the alternative is consistently better than the current route
for a speciﬁed amount of time. For example, this period could be two minutes. In the
speciﬁc case of the UCSB MeshNet, such a dampening strategy has the potential to
eliminate more than 60% of all route ﬂapping.
To investigate the routing stability improvements that can result by applying such
dampening techniques, we use two dampening metrics. The ﬁrst metric is a 10% through-
put improvement threshold, i.e., an alternate route is chosen only if it provides better than
10% throughput improvement. The second dampening metric is an alternate route per-
sistence value of two minutes, i.e., the alternate route is available for at least 2 minutes.
Figures 8 and 9 plots the results from our application of the dampening techniques.
The graphs depict the persistence values of the dominant routes against the fraction of
all dominant routes. In the case of the MeshNet, if we consider the median dominant
route, the one minute dampening metric yields a 5-fold increase in persistence. The
10% threshold yields a 4.5-fold increase in persistence. In the case of the Roofnet, the
10% threshold yields a 4-fold increase in persistence whereas the one minute threshold
yields a 3-fold increase.
The above results indicate that by using low thresholds during route selection in a
mesh network, the persistence of the dominant routes can be signiﬁcantly increased,
therefore leading to increased stability. An increase in the persistence will reduce rout-
ing pathologies, such as packet reordering [3], but may lower end-to-end throughput.
As future work, we plan to investigate the trade-offs between stability and throughput
in more detail.
5 Conclusion
We present a measurement-based characterization of routing stability in two static wire-
less mesh networks. This is a ﬁrst step towards understanding long term behavior of
routes in mesh networks. Some next steps for our continued analysis include: the im-
pact of trafﬁc load and external interference, the correlation between daily and weekly
patterns, and the impact of physical layer properties such as transmission power and
receiver sensitivity. We believe that the insights gained from this paper can stimulate
82
K. Ramachandran et al.
more research in understanding mesh routing behavior, which in turn can help us de-
sign better routing protocols and network management tools.
References
1. S. Agarwal, A. Ahuja, J. Singh, and R. Shorey. Route-lifetime Assessment Based Routing
Protocol for Mobile Ad-hoc Networks. In IEEE ICC, New Orleans, LA, June 2000.
2. J. Bicket, D. Aguayo, S. Biswas, and R. Morris. Architecture and Evaluation of an Unplanned
802.11b Mesh Network. In ACM MobiCom, Cologne, Germany, August 2005.
3. E. Blanton and M. Allman. On Making TCP More Robust to Packet Reordering. ACM
Computer Communication Review, 32(1):20–30, 2002.
4. J. Camp, J. Robinson, C. Steger, and E. Knightly. Measurement Driven Deployment of a
Two-Tier Urban Mesh Access Network. In ACM/USENIX Mobisys, Uppsala, Sweden, June
2006.
5. A. Khanna, J. Zinky. The Revised ARPANET Routing Metric. In ACM SIGCOMM, Austin,
TX, September 1989.
6. T. Clausen and P. Jacquet. Optimized Link State Routing Protocol.
Internet Engineering
Task Force, RFC 3626, October 2003.
7. R. Draves, J. Padhye, and B. Zill. Routing in Multi-radio, Multi-hop Wireless Mesh Net-
works. In ACM MobiCom, Philadelphia, PA, September 2004.
8. N. Feamster and H. Balakrishnan. Detecting BGP Conﬁguration Faults with Static Analysis.
In USENIX Networked Systems Design and Implementation, Boston, MA, May 2005.
9. R. Govindan and A. Reddy. An Analysis of Internet Inter-Domain Topology and Route
Stability. In IEEE Infocom, Washington, DC, 1997.
10. A. Kamerman and L. Monteban. WaveLAN 2: A High-performance Wireless LAN for the
Unlicensed Band. In Bell Labs Technical Journal, Summer 1997.
11. S. Keshav. A Control-Theoretic Approach to Flow Control.
In ACM Sigcomm, Zurich,
Switzerland, September 1991.
12. C. Labovitz, A. Ahuja, A. Bose, and F. Jahanian. Delayed Internet Routing Convergence. In
ACM Sigcomm, Stockholm, Sweden, August 2000.
13. C. Labovitz, G. Malan, and F. Jahanian. Internet Routing Instability. IEEE Transactions on
Networking, 6(5):515–528, 1998.
14. C. Perkins, E. Belding-Royer, and S. Das. Ad Hoc On-Demand Distance Vector Routing.
Internet Engineering Task Force (IETF), RFC 3561, July 2003.
15. K. Ramachandran, E. Belding-Royer, K. Almeroth, and M. Buddhikot. Interference-Aware
Channel Assignment in Multi-Radio Wireless Mesh Networks. In IEEE Infocom, Barcelona,
Spain, April 2006.
16. A. Raniwala and T. Chiueh. Architecture and Algorithms for an IEEE 802.11-based Multi-
Channel Wireless Mesh Network. In IEEE Infocom, Miami, FL, March 2005.
17. V. Paxson. End-to-end Routing Behavior in the Internet. In ACM Sigcomm, Palo Alto, CA,
August 1996.
18. K. Varadhan, R. Govindan, and D. Estrin. Persistent Route Oscillations in Inter-domain
Routing. Computer Networks, 32(1):1–16, January 2000.