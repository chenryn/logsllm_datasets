title:Broadband internet performance: a view from the gateway
author:Srikanth Sundaresan and
Walter de Donato and
Nick Feamster and
Renata Teixeira and
Sam Crawford and
Antonio Pescapè
Broadband Internet Performance: A View From the Gateway
Srikanth Sundaresan
Georgia Tech
Atlanta, USA
PI:EMAIL
Walter de Donato
University of Napoli Federico II
Napoli, Italy
PI:EMAIL
Renata Teixeira
CNRS/UPMC Sorbonne Univ.
PI:EMAIL
Paris, France
Sam Crawford
SamKnows
London, UK
PI:EMAIL
Nick Feamster
Georgia Tech
Atlanta, USA
PI:EMAIL
Antonio Pescapè
University of Napoli Federico II
Napoli, Italy
PI:EMAIL
ABSTRACT
We present the ﬁrst study of network access link performance mea-
sured directly from home gateway devices. Policymakers, ISPs,
and users are increasingly interested in studying the performance
of Internet access links. Because of many confounding factors in a
home network or on end hosts, however, thoroughly understanding
access network performance requires deploying measurement in-
frastructure in users’ homes as gateway devices.
In conjunction
with the Federal Communication Commission’s study of broad-
band Internet access in the United States, we study the throughput
and latency of network access links using longitudinal measure-
ments from nearly 4,000 gateway devices across 8 ISPs from a de-
ployment of over 4,200 devices. We study the performance users
achieve and how various factors ranging from the user’s choice of
modem to the ISP’s trafﬁc shaping policies can affect performance.
Our study yields many important ﬁndings about the characteristics
of existing access networks. Our ﬁndings also provide insights into
the ways that access network performance should be measured and
presented to users, which can help inform ongoing broader efforts
to benchmark the performance of access networks.
Categories and Subject Descriptors
C.2.3 [Computer-Communication Networks]: Network Opera-
tions—Network Management; C.2.3 [Computer-Communication
Networks]: Network Operations—Network Operations
General Terms
Management, Measurement, Performance
Keywords
Access Networks, Broadband Networks, BISMark, Benchmarking
1.
INTRODUCTION
Of nearly two billion Internet users worldwide, about 500 mil-
lion are residential broadband subscribers [19]. Broadband pene-
tration is likely to increase further, with people relying on home
connectivity for day-to-day and even critical activities. Accord-
ingly, the Federal Communication Commission (FCC) is actively
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
SIGCOMM’11, August 15–19, 2011, Toronto, Ontario, Canada.
Copyright 2011 ACM 978-1-4503-0797-0/11/08 ...$10.00.
developing performance-testing metrics for access providers [5,15,
35]. Policymakers, home users, and Internet Service Providers
(ISPs) are in search for better ways to benchmark home broadband
Internet performance.
Benchmarking home Internet performance, however, is not as
simple as running one-time “speed tests”. There exist countless
tools to measure Internet performance [7,14,29,32]. Previous work
has studied the typical download and upload rates of home access
networks [12, 24]; others have found that modems often have large
buffers [24], and that DSL links often have high latency [26]. These
studies have shed some light on access-link performance, but they
have typically run one-time measurements either from an end-host
inside the home (from the “inside out”) or from a server on the
wide-area Internet (from the “outside in”). Because these tools run
from end-hosts, they cannot analyze the effects of confounding fac-
tors such as home network cross-trafﬁc, the wireless network, or
end-host conﬁguration. Also, many of these tools run as one-time
measurements. Without continual measurements of the same ac-
cess link, these tools cannot establish a baseline performance level
or observe how performance varies over time.
This paper measures and characterizes broadband Internet per-
formance from home gateways. The home gateway connects the
home network to the user’s modem; taking measurements from this
vantage point allows us to control the effects of many confounding
factors, such as the home wireless network and load on the mea-
surement host (Section 4). The home gateway is always on; it can
conduct unobstructed measurements of the ISP’s network and ac-
count for confounding factors in the home network. The drawback
to measuring access performance from the gateway, of course, is
that deploying gateways in many homes is incredibly difﬁcult and
expensive. Fortunately, we were able to take advantage of the on-
going FCC broadband study to have such a unique deployment.
We perform our measurements using two complementary de-
ployments; the ﬁrst is a large FCC-sponsored study, operated by
SamKnows, that has installed gateways in over 4,200 homes across
the United States, across many different ISPs. The second, BIS-
Mark, is deployed in 16 homes across three ISPs in Atlanta. The
SamKnows deployment provides a large user base, as well as di-
versity in ISPs, service plans, and geographical locations. We de-
signed BISMark to allow us to access the gateway remotely and
run repeated experiments to investigate the effect of factors that
we could not study in a larger “production” deployment. For ex-
ample, to study the effect of modem choice on performance, we
were able to install different modems in the same home and con-
duct experiments in a controlled setting. Both deployments run a
comprehensive suite of measurement tools that periodically mea-
sure throughput, latency, packet loss, and jitter.
We characterize access network throughput (Section 5) and la-
134tency (Section 6) from the SamKnows and BISMark deployments.
We explain how our throughput measurements differ from com-
mon “speed tests” and also propose several different latency met-
rics. When our measurements cannot fully explain the observed
behavior, we model the access link and verify our hypotheses using
controlled experiments. We ﬁnd that the most signiﬁcant sources of
throughput variability are the access technology, ISPs’ trafﬁc shap-
ing policies, and congestion during peak hours. On the other hand,
latency is mostly affected by the quality of the access link, modem
buffering, and cross-trafﬁc within the home.
This study offers many insights into both access network perfor-
mance and the appropriate measurement methods for benchmark-
ing home broadband performance. Our study has three high-level
lessons, which we expand on in Section 7:
• ISPs use different policies and trafﬁc shaping behavior that can
make it difﬁcult to compare measurements across ISPs.
• There is no “best” ISP for all users. Different users may prefer
different ISPs depending on their usage proﬁles and how those
ISPs perform along performance dimensions that matter to them.
• A user’s home network equipment and infrastructure can signif-
icantly affect performance.
As the ﬁrst in-depth analysis of home access network perfor-
mance, our study offers insights for users, ISPs, and policymakers.
Users and ISPs can better understand the performance of the ac-
cess link, as measured directly from the gateway; ultimately, such
a deployment could help an ISP differentiate performance prob-
lems within the home from those on the access link. Our study also
informs policy by illustrating that a diverse set of network metrics
ultimately affect the performance that a user experiences. The need
for a benchmark is clear, and the results from this study can serve
as a principled foundation for such an effort.
2. RELATED WORK
This section presents related work; where appropriate, we com-
pare our results to these previous studies in Sections 5 and 6.
From access ISPs. Previous work characterizes access networks
using passive trafﬁc measurements from DSL provider networks in
Japan [8], France [33], and Europe [26]. These studies mostly fo-
cus on trafﬁc patterns and application usage, but they also infer the
round-trip time and throughput of residential users. Without active
measurements or a vantage point within the home network, how-
ever, it is not possible to measure the actual performance that users
receive from their ISPs, because user trafﬁc does not always satu-
rate the user’s access network connection. For example, Siekkinen
et al. [33] show that applications (e.g., peer-to-peer ﬁle sharing ap-
plications) often rate limit themselves, so performance observed
through passive trafﬁc analysis may reﬂect application rate limit-
ing, as opposed to the performance of the access link.
From servers in the wide area. Other studies have characterized
access network performance by probing access links from servers
in the wide area [11,12]. Active probing from a ﬁxed set of servers
can characterize many access links because each link can be mea-
sured from the same server. Unfortunately, because the server is
often located far from the access network, the measurements may
be inaccurate or inconsistent. Isolating the performance of the ac-
cess network from the performance of the end-to-end path can be
challenging, and dynamic IP addressing can make it difﬁcult to de-
termine whether repeated measurements of the same IP address are
in fact measuring the same access link over time. A remote server
(a) DSL.
(b) Cable.
Figure 1: Access network architectures.
also cannot isolate confounding factors, such as whether the user’s
own trafﬁc is affecting the access-link performance.
From inside home networks. The Grenouille project in France [1]
measures the performance of access links using a monitoring
agent that runs from a user’s machine inside the home network.
Neti@Home [23] and BSense [4] also use this approach, although
these projects have fewer users than Grenouille. PeerMetric [25]
measured P2P performance from about 25 end hosts.
Installing
software at the end-host measures the access network from the
user’s perspective and can also gather continuous measurements of
the same access link. Han et al. [18] measured access network per-
formance from a laptop that searched for open wireless networks.
This approach is convenient because it does not require user inter-
vention, but it does not scale to a large number of access networks,
cannot collect continuous measurements, and offers no insights into
the speciﬁcs of the home network conﬁguration.
Other studies have performed “one-time” measurements of
access-link performance. These studies typically help users trou-
bleshoot performance problems by asking the users to run tests
from a Web site and running analysis based on these tests. Net-
alyzr [29] measures the performance of commonly used protocols
using a Java applet that is launched from the client’s browser. Net-
work Diagnostic Tool (NDT) [7] and Network Path and Applica-
tion Diagnostics (NPAD) [14] send active probes to detect issues
with client performance. Glasnost performs active measurements
to determine whether the user’s ISP is actively blocking BitTorrent
trafﬁc [17]. Users typically run these tools only once (or, at most,
a few times), so the resulting datasets cannot capture a longitudi-
nal view of the performance of any single access link. In addition,
any technique that measures performance from a device inside the
home can be affected by factors such as load on the host or features
of the home network (e.g., cross-trafﬁc, wireless signal strength).
Finally, none of these studies measure the access link directly from
the home network gateway.
3. ACCESS NETWORKS: BACKGROUND
We describe the two most common access technologies from our
deployments: Digital Subscriber Line (DSL) and cable. Then, we
explain how a user’s choice of service plan and local conﬁguration
can affect performance. Although a few users in our deployments
have ﬁber-to-the-node (FTTN), ﬁber-to-the-premises (FTTP), and
WiMax, we do not have enough users to analyze these technologies.
135DSL networks use telephone lines; subscribers have dedicated
lines between their own DSL modems and the closest DSL Access
Multiplexer (DSLAM). The DSLAM multiplexes data between the
access modems and upstream networks, as shown in Figure 1a. The
most common type of DSL access is asymmetric (ADSL), which
provides different upload and download rates. In cable access net-
works, groups of users send data over a shared medium (typically
coaxial cable); at a regional headend, a Cable Modem Termination
System (CMTS) receives these signals and converts them to Eth-
ernet, as shown in Figure 1b. The physical connection between a
customer’s home and the DSLAM or the CMTS is often referred
to as the local loop or last mile. Users buy a service plan from a
provider that typically offers some maximum capacity in both the
upload and download directions.
ADSL capacity. The ITU-T standardization body establishes that
the achievable rate for ADSL 1 [20] is 12 Mbps downstream and
1.8 Mbps upstream. The ADSL2+ speciﬁcation [21] extends the
capacity of ADSL links to at most 24 Mbps download and 3.5
Mbps upload. Although the ADSL technology is theoretically able
to reach these speeds, there are many factors that limit the capacity
in practice. An ADSL modem negotiates the operational rate with
the DSLAM (often called the sync rate); this rate depends on the
quality of the local loop, which is mainly determined by the dis-
tance to the DSLAM from the user’s home and noise on the line.
The maximum IP link capacity is lower than the sync rate because
of the overhead of underlying protocols. The best service plan that
an ADSL provider advertises usually represents the rate that cus-
tomers can achieve if they have a good connection to the DSLAM.
Providers also offer service plans with lower rates and can rate-limit
a customer’s trafﬁc at the DSLAM.
Modem conﬁguration can also affect performance. ADSL users
or providers conﬁgure their modems to operate in either fastpath
or interleaved mode. In fastpath mode, data is exchanged between
the DSL modem and the DSLAM in the same order that they are re-
ceived, which minimizes latency but prevents error correction from
being applied across frames. Thus, ISPs typically conﬁgure fast-
path only if the line has a low bit error rate. Interleaving increases
robustness to line noise at the cost of increased latency by splitting
data from each frame into multiple segments and interleaving those
segments with one another before transmitting them.
Cable capacity. In cable networks, the most widely deployed ver-
sion of the standard is Data Over Cable Service Interface Speci-
ﬁcation version 2 (DOCSIS 2.0) [22], which speciﬁes download
rates up to 42.88 Mbps and upload rates up to 30.72 Mbps in the
United States. The latest standard, DOCSIS 3.0, allows for hun-
dreds of megabits per second by bundling multiple channels. Cable
providers often offer service plans with lower rates. The service
plan rate limit is conﬁgured at the cable modem and is typically im-
plemented using a token bucket rate shaper. Many cable providers
offer PowerBoost, which allows users to download (and, in some