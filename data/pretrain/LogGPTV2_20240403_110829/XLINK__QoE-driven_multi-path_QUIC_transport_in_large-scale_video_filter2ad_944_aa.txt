title:XLINK: QoE-driven multi-path QUIC transport in large-scale video
services
author:Zhilong Zheng and
Yunfei Ma and
Yanmei Liu and
Furong Yang and
Zhenyu Li and
Yuanbo Zhang and
Jiuhai Zhang and
Wei Shi and
Wentao Chen and
Ding Li and
Qing An and
Hai Hong and
Hongqiang Harry Liu and
Ming Zhang
XLINK: QoE-Driven Multi-Path QUIC Transport in Large-scale
Video Services
Zhilong Zheng*†, Yunfei Ma*†, Yanmei Liu*†, Furong Yang†§, Zhenyu Li§, Yuanbo Zhang†, Jiuhai Zhang†,
Wei Shi†, Wentao Chen†, Ding Li†, Qing An†, Hai Hong†, Hongqiang Harry Liu†, Ming Zhang†
†Alibaba Group §ICT-CAS
*Co-first authors
ABSTRACT
We report XLINK, a multi-path QUIC video transport solution
with experiments in Taobao short videos. XLINK is designed to
meet two operational challenges at the same time: (1) Optimized
user-perceived quality of experience (QoE) in terms of robustness,
smoothness, responsiveness, and mobility and (2) Minimized cost
overhead for service providers (typically CDNs). The core of XLINK
is to take the opportunity of QUIC as a user-space protocol and
directly capture user-perceived video QoE intent to control multi-
path scheduling and management. We overcome major hurdles
such as multi-path head-of-line blocking, network heterogeneity,
and rapid link variations and balance cost and performance.
To the best of our knowledge, XLINK is the first large-scale ex-
perimental study of multi-path QUIC video services in production
environments. We present the results of over 3 million e-commerce
product short-video plays from consumers who upgraded to Taobao
android apps with XLINK. Our study shows that compared to single-
path QUIC, XLINK achieved 19 to 50% improvement in the 99-th
percentile video-chunk request completion time, 32% improvement
in the 99-th percentile first-video-frame latency, 23 to 67% improve-
ment in the re-buffering rate at the expense of 2.1% redundant
traffic.
CCS CONCEPTS
• Networks → Network protocol design; Cross-layer proto-
cols.
KEYWORDS
QUIC, Multi-path, Wireless Transport, QoE, Scheduling, Video
ACM Reference Format:
Zhilong Zheng*†, Yunfei Ma*†, Yanmei Liu*†, Furong Yang†§, Zhenyu Li§,
Yuanbo Zhang†, Jiuhai Zhang†, Wei Shi†, Wentao Chen†, Ding Li†, Qing
An†, Hai Hong†, Hongqiang Harry Liu†, Ming Zhang†. 2021. XLINK: QoE-
Driven Multi-Path QUIC Transport in Large-scale Video Services. In ACM
SIGCOMM 2021 Conference (SIGCOMM ’21), August 23–28, 2021, Virtual
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than the
author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior specific permission
and/or a fee. Request permissions from permissions@acm.org.
SIGCOMM ’21, August 23–28, 2021, Virtual Event, USA
© 2021 Copyright held by the owner/author(s). Publication rights licensed to ACM.
ACM ISBN 978-1-4503-8383-7/21/08...$15.00
https://doi.org/10.1145/3452296.3472893
Event, USA. ACM, New York, NY, USA, 15 pages. https://doi.org/10.1145/34
52296.3472893
1 INTRODUCTION
Video streaming (either live or video-on-demand) has now become
the central component in today’s e-commerce. Ninety-six percent
of the consumers report that product videos are incredibly helpful
in their purchasing decisions [1]. The current COVID-19 pandemic
is further accelerating such transitions of consumers’ habits in
viewing and buying, pushing the need for more sellers to create
video content on platforms such as Alibaba, Amazon, YouTube, and
TikTok and spawning a wave of Internet celebrity economy [2] 1.
As one of the world’s primary e-commerce services, we make two
key observations: first, short-form product video stalls and start-
up delays significantly impact user satisfaction. Second, the need
driven by consumers who want to see greater detail and feel more
engaged keeps pushing videos towards higher data rates. These
observations urge the demand for more wireless bandwidth and
more robust data delivery to mobile devices that may experience
frequent hand-offs. Multi-path transport that enables multi-homed
devices, like smartphones, to aggregate wireless links is a promising
solution to meet the above need.
Indeed, the topic of multi-path transport has gained much at-
tention over the past few decades [4–8]. Today, the most widely
known multi-path protocol is MPTCP in RFC 6824 [4]. Unfortu-
nately, MPTCP requires OS-level support in smartphones. The de-
ployment cost is exceptionally high for mobile app providers who
are not phone manufacturers 2. Recently, as the industry moves
toward QUIC [10], multi-path extensions over QUIC [7, 11, 12]
have been introduced. In contrast to TCP, QUIC as a user-space
protocol, can be installed and upgraded as part of the application, so
multi-path QUIC as an end-to-end solution can be deployed rapidly
and evolved continuously [10]. However, recent proposals [7, 13]
were designed to support generic traffic such as web and bulk data
transfer and were not optimized for videos. The effectiveness of
these proposals in practice also remains unclear [14, 15].
In this paper, we ask the following question: is it practical and
worthwhile to bring multi-path QUIC to large-scale video services?
We found it was far from straightforward to apply past multi-path
solutions into our large-scale product video services directly. First
1For example, Ryan Kaji, who was nine years old as of 2020, had influenced the toy
industry with his YouTube channel, Ryan’s World. Ryan was also listed as the highest
paid YouTuber, earning $22 million and $26 million respectively from his videos and
product line [3]
2There are over 1000 smartphone models that need to be covered [9].
418
SIGCOMM ’21, August 23–28, 2021, Virtual Event, USA
Z. Zheng et al.
of all, to justify the incentives, multi-path should achieve no worse
performance than a single path [6, 16]. However, our deployment
showed that the default multi-path solutions could be 16% slower
on the median and 28% slower at 99-percentile than the single-path
delivery over the better path. The efficient usage of the aggregated
wireless resources turns out to be much harder than expected. One
of the major hurdles is the multi-path head-of-line (MP-HoL) block-
ing issue caused by fast varying and heterogeneous paths [6]. The
blocking happens when the packets sent earlier at the slow path
arrive later than the packets at the fast path, causing out-of-order
arrival; the out-of-order packets are not eligible to be submitted to
applications, so the fast paths have to wait. Significant heterogene-
ity over Wi-Fi, LTE, and 5G, as well as frequent handoffs of mobile
terminals in our context, will further aggravate this issue [17].
One solution to the multi-path HoL blocking is to use more so-
phisticated packet scheduling algorithms [18–20]. These solutions,
however, rely on predictions of network characteristics, which tend
to be inaccurate, especially for wireless links that experience rapid
varying link rates and occasional multi-second outages [21]. Other
proposals attempt to transmit duplicate packets to decouple multi-
paths to alleviate the problem [6, 8]. Unfortunately, they cause
significant traffic redundancy. For instance, we found that the tradi-
tional re-injection strategies [6] lead to a more than 15% increase of
the total outbound traffic from video servers in practice. The cost
overhead is particularly important when it comes to large-scale
video services. Past multi-path solutions that send duplicate copies
of data may work for audio services [22], but they do not work for
videos as the amount of traffic is much larger.
It is surprising that, to date, the feasibility and benefits of using
multi-path in large-scale video services remain unclear. Therefore,
in this paper, we present our large-scale experimental study of
XLINK. The key idea behind XLINK is to take the opportunity of
QUIC as a user-space protocol and directly capture video QoE intent
to control multi-path scheduling and management. Specifically:
• Knowing the unpredictable nature of wireless links, we do not
pursue accurate predictions of network characteristics. Instead,
we rely on the client’s QoE feedback to dynamically control
packet re-injection’s aggressiveness in the server’s scheduler.
XLINK’s scheduler re-injects unacknowledged packets only when
otherwise multi-path HoL blocking would impair the user per-
ceived QoE, achieving performance and cost-efficiency at the
same time.
• XLINK is designed to work with multiple concurrent QUIC streams.
As a video may be downloaded through concurrent streams with
each requesting a portion of it, stream blocking can happen when
late-stream packets are queued before the re-injected copies of
early-stream packets. With stream priority-based re-injections,
XLINK carefully determines the sending order based on the ur-
gency of the streams, enabling smoother streaming experience.
• XLINK is optimized for short videos. It introduces first-video-
frame acceleration with video-frame priority-based re-injection,
which allows video applications to further differentiate video
frame importance beyond a stream granularity to avoid the exces-
sive delay of in-flight packets on the slow path at video start-up.
• XLINK handles large path delay differences in heterogeneous
networks with QoE-aware path management. First, it introduces
419
wireless-aware primary path 3 selection, which takes care of
different wireless technologies’ path delays in the multi-path ini-
tialization process, providing quicker connection setup. Second,
unlike MPTCP, multi-path ACKs (ACK_MPs) in XLINK are not
restricted to the same subflow and XLINK is flexible in choos-
ing the return path of ACK_MPs, which boosts the performance
further.
In doing so, XLINK achieves superior performance compared to past
approaches in terms of video start-up delays, video re-buffering
rate, mobility support and, CDN traffic overhead. Moreover, as
security and privacy are at the core of QUIC’s design philosophy,
there should be a basic premise that the multi-path QUIC keeps at
least the same security level as QUIC and introduces no additional
concerns. We design XLINK as a lightweight extension of QUIC
while achieving the desired functionality and flexibility.
Contributions: We make the following contributions:
• We present the first large-scale experimental study of multi-path
QUIC video transport in production environments to demon-
strate the feasibility and deployability.
• We point out that the key to fundamentally addressing the above
challenges is to leverage QUIC as a user-space protocol, allowing
it to closely interact with an application and use video QoE for
scheduling and path management.
• We reveal practical challenges that were less discussed in pre-
vious literature regarding performance, cost, mobility, compat-
ibility, and network heterogeneity and share our experience in
dealing with those challenges.
Main results: We conducted large-scale A/B tests of XLINK ver-
sus single-path QUIC with over 100K participants who voluntarily
upgraded to a test-version of Taobao Android app that ran with
XLINK’s client, and we deployed XLINK’s server with Taobao short-
video service. Our data set consisted of over 3-million video plays.
We observed that XLINK achieved 19 to 50% improvement in the
99-th percentile video-chunk request completion time, 32% improve-
ment in the 99-th percentile first-video-frame latency, 23 to 67%
improvement in the re-buffering rate at the expense of 2.1% redun-
dant traffic. Therefore, we believe XLINK is a key step towards the
widespread adoption of multi-path QUIC on the public Internet.
We would like to note that the innovation behind XLINK’s utiliza-
tion of remote feedback to control multi-path packet re-injection
extends beyond the scope of end-to-end video delivery and can
serve as a general high-performance multi-path transport mech-
anism. The stream and frame priority-based scheduling, on the
other hand, leverage QUIC’s ability to express video awareness,
and hence are more QUIC-specific.
With the proliferation of video applications and wireless tech-
nologies, the traditional one-size-fits-all approach that optimizes
video and transport at independent layers will no longer satisfy the
ever-growing diversity of the user-perceived QoE. XLINK, which
leverages the user-space nature of QUIC, pioneers innovations
on a closer collaboration between video and wireless. The impli-
cations of XLINK’s synergy of multi-path and the application’s
QoE-awareness extend beyond short videos and pave the new way
for other exciting research areas such as live streaming, 360-degree
videos, augmented reality (AR), and virtual reality (VR).
3Primary path is the path used to start a connection.
XLINK: QoE-Driven Multi-Path QUIC Transport in Large-scale Video Services
SIGCOMM ’21, August 23–28, 2021, Virtual Event, USA
Claim: This work does not raise any ethical issues. The research was
conducted according to the ethical guidelines of ACM [23] and all
reported data were desensitized and approved by our institution’s
review board.
2 MOTIVATION
The development of XLINK is motivated by the following trends:
Short-form video explosion: Recent years have witnessed the
explosion of short-form videos driven by apps such as TikTok,
Reels, and Twitter [24]. E-commerce companies like Alibaba, Ama-
zon, Ebay, and Redfin [1, 25, 26] are also shifting to short videos
to showcase online products in mobile apps. Short videos impose
more stringent QoE requirements because viewers are less tolerant
of QoE impairments for short videos than long videos [27]. Mean-
while, consumers’ appetites for video contents are moving towards
4K and beyond (e.g., AR and VR), which can request a bit-rate more
than 85Mbps [28]. These changes urge mobile devices to overcome
the spectrum shortage and link instability in wireless connectiv-
ity. XLINK offers an easy-to-deploy solution that enables billions