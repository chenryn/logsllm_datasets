title:A Low Latency and Consistent Cellular Control Plane
author:Mukhtiar Ahmad and
Syed Usman Jafri and
Muhammed Azam Ikram and
Wasiq Noor Ahmad Qasmi and
Muhammad Ali Nawazish and
Zartash Afzal Uzmi and
Zafar Ayyub Qazi
A Low Latency and Consistent Cellular Control Plane
Mukhtiar Ahmad, Syed Usman Jafri, Azam Ikram, Wasiq Noor Ahmad Qasmi,
Muhammad Ali Nawazish, Zartash Afzal Uzmi, Zafar Ayyub Qazi
Department of Computer Science, SBASSE, LUMS, Pakistan
ABSTRACT
5G networks aim to provide ultra-low latency and higher reliability
to support emerging and near real-time applications such as aug-
mented and virtual reality, remote surgery, self-driving cars, and
multi-player online gaming. This imposes new requirements on the
design of cellular core networks. A key component of the cellular
core is the control plane. Time to complete control plane operations
(e.g. mobility handoff, service establishment) directly impacts the
delay experienced by end-user applications. In this paper, we design
Neutrino, a cellular control plane that provides users an abstraction
of reliable access to cellular services while ensuring lower latency.
Our testbed evaluations based on real cellular control traffic traces
show that Neutrino provides an improvement in control procedure
completion times by up to 3.1× without failures, and up to 5.6×
under control plane failures, over existing cellular core proposals.
We also show how these improvements translate into improving
end-user application performance: for AR/VR applications and self-
driving cars, Neutrino performs up to 2.5× and up to 2.8× better,
respectively, as compared to existing EPC.
CCS CONCEPTS
• Networks → Control path algorithms; Network protocol de-
sign; Middle boxes / network appliances; Wireless access points, base
stations and infrastructure; Network reliability;
KEYWORDS
Cellular Core, Control Plane, Consistency
ACM Reference Format:
Mukhtiar Ahmad, Syed Usman Jafri, Azam Ikram, Wasiq Noor Ahmad
Qasmi, Muhammad Ali Nawazish, Zartash Afzal Uzmi, Zafar Ayyub Qazi.
2020. A Low Latency and Consistent Cellular Control Plane. In Annual
conference of the ACM Special Interest Group on Data Communication on the
applications, technologies, architectures, and protocols for computer communi-
cation (SIGCOMM ’20), August 10–14, 2020, Virtual Event, NY, USA. ACM,
New York, NY, USA, 14 pages. https://doi.org/10.1145/3387514.3406218
1 INTRODUCTION
The next-generation cellular networks are envisioned to support
emerging and near real-time applications such as augmented and
virtual reality, remote surgery, self-driving cars, cognitive assistance
apps, and multi-player online gaming. Such applications require
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than ACM
must be honored. Abstracting with credit is permitted. To copy otherwise, or republish,
to post on servers or to redistribute to lists, requires prior specific permission and/or a
fee. Request permissions from permissions@acm.org.
SIGCOMM ’20, August 10–14, 2020, Virtual Event, NY, USA
© 2020 Association for Computing Machinery.
ACM ISBN 978-1-4503-7955-7/20/08...$15.00
https://doi.org/10.1145/3387514.3406218
higher reliability and ultra-low latency, in the order of 10ms [53].
Consequently, 5G networks are aiming to support Edge Comput-
ing [53], with edge applications hosted closer to the users [21–23].
This, in turn, requires cellular providers to evolve their cellular
core;1 a key part of the cellular network which connects the IP
backbone with the base stations and implements cellular-specific
processing on user’s control and data traffic. In existing cellular
deployments, the cellular core functions are typically deployed in
remote data centers which can cause path inflation [60, 62]. In 5G
and beyond, cellular providers are expected to move these core
functions to the edge (e.g., cell towers and central offices), resulting
in a highly distributed core network architecture [24, 38, 48].
We postulate that the main challenge in providing low latency
and reliable access with an edge-based core stems from the com-
plexity of the control plane in the cellular core; unlike the internet
control plane, the cellular control plane needs to keep dynamic state
for each user device to support mobility. The cellular control plane
regularly updates this user state to both establish and retain user’s
data access. The control plane establishes the user’s data access to
the internet or to other operator services by setting up the connec-
tivity session for each device. This process requires installing states
at the user device, base station, and core network elements. When
moving to another base station, the control plane is responsible for
retaining the data access by migrating the ongoing session states
to the user’s new location. Upon failures, the control plane needs
to recover or recreate the session state.
Prior work [37] has shown that the time taken by the cellular
control plane to process control traffic can have a direct impact on
the delay experienced by user applications, e.g., control functions
can contribute up to 1 s delay in session establishment. Moreover,
mobile devices frequently generate control traffic; on average a mo-
bile device generates a session establishment request every 106.9 s.
In addition, failures of control plane functions can exacerbate these
delays [14, 37], causing disruptions in data access [46].
To make matters worse, with 5G, the control traffic is expected
to increase rapidly [44, 47] because of (i) a shift to smaller cell sizes,
which will likely cause more mobility handoffs [13] and (ii) the
proliferation of IoT devices with high control to data traffic ratio
[35]. In addition, failures are expected to be commonplace in 5G
core networks; similar to large service provider networks [25], core
network deployments will be large and are increasingly based on
software-based network functions (NFs) running on commodity
hardware [24]. As a result, timely completion of control plane pro-
cedures in the presence of failures is going to be vital to provide
reliable and low latency data access to user applications.
We identify the following key challenges in an edge-based cellu-
lar core for providing reliable and low latency data access.
1Cellular packet core for 4G/LTE is called Evolved Packet Core (EPC) and for 5G
networks is referred to as 5G Core.
648
SIGCOMM ’20, August 10–14, 2020, Virtual Event, NY, USA
Mukhtiar et al.
• UE-Core State inconsistency: Prior work [37, 46, 56] has shown
that inconsistent user state, between the user equipment (UE)
and the core network, can cause significant disruptions in data
access for the users in 4G/LTE networks. We find that UE-Core in-
consistencies, and thus prolonged disruptions in data access, can
also occur in current 5G standardization proposals (§3). We also
find recent proposals for cellular control plane do not provide
consistency guarantees [14, 43] and, thus, offer no protection
against such disruptions in data access. We argue cellular control
plane needs to provide state consistency guarantees to provide
reliable data access. A key challenge in this regard is to design a
consistency protocol which provides fast failure recovery with
minimal failure-free overhead.
• Slow state updates: We show that one key reason for delays in
control traffic is slow processing of state updates between a user
device, base station, and cellular control plane. Existing 4G/LTE
networks and 5G proposals use ASN.1 [11, 20] for serializing
control updates. Our experiments on real control traffic traces
show that ASN.1 serialization can become a potential bottleneck
for latency-sensitive applications like real-time augmented and
virtual reality (§3).
• Frequent control handovers: Control handovers happen when
a user moves from one location domain to another, requiring
migration to a different control plane function (§3). A control han-
dover can cause significant delays in data access, up to 1.9 s [37].
In an edge-based cellular core, control handovers will happen
more frequently, making it important that these handovers be
completed quickly. A key challenge is to migrate user state
quickly to the appropriate control plane function.
To address the above challenges, we design, Neutrino, a cellular
control plane that provides users an abstraction of reliable access to
cellular services while ensuring lower latency. In designing Neutrino,
we synthesize several existing techniques in distributed systems.
Below, we describe the keys ideas in Neutrino:
• Consistent UE processing: We design a consistency protocol
that minimizes service disruption under failures by ensuring
that user devices are always able to receive Read your Writes
consistency[58]. The consistency protocol provides fast failure re-
covery and small failure-free overhead. It uses a primary-backup
state replication scheme, and consists of (i) per-procedure check-
pointing and non-blocking synchronization of state, (ii) fast in-
memory message logging, and (iii) a two-level failure recovery
protocol (§4.2).
• Fast serialization engine: We design a serialization scheme for
cellular state updates by optimizing FlatBuffers [28](§4.4). Our
scheme significantly speeds up the processing of state updates, by
up to 19.1× in comparison to ASN.1, while providing a relatively
smaller increase in bandwidth usage.
• Proactive geo-replication: We reduce the delay incurred in
control plane handovers by performing proactive geo-replication
of user state (§4.3). Our results show this can lead to 7× improve-
ment in completing control plane handovers.
We implement Neutrino, the redesigned cellular control func-
tions and control traffic aggregator nodes.2 It requires minimal
changes to base stations which, instead of ASN.1, use Neutrino’s
2These nodes act as front-end load balancers from base stations to cellular core [14].
Figure 1: 5G network architecture.
FlatBuffers-based serialization engine. In rolling out 5G deploy-
ments, carriers are expected to make major upgrades on base sta-
tions [13], hence, we expect upgrading the serialization engine
would not be a hindrance in adopting Neutrino.
We evaluate Neutrino’s performance by replaying real control
traffic traces through a DPDK-based traffic generator in our testbed.
Our results show an improvement in control procedure completion
times by up to 3.1× without failures, and up to 5.6× under control
plane failures, over existing EPC. Neutrino handles bursty IoT con-
trol traffic better than existing EPC, showing up to 2× improvement
in median control procedure times (§6.3 and §6.4). We also quantify
the impact of Neutrino on application performance: for AR/VR
applications and self-driving cars, Neutrino performs 2.5× and 2.8×
better, respectively, as compared to existing EPC. Neutrino also
improves video startup latency by up to 37× and reduces page load
times by 3.2× (§6.6). In comparison to recent proposals, Neutrino
performs 3.4× and 1.3× better than SkyCore [40] and DPCM [37],
respectively (§6.3). To motivate Neutrino’s design choices, we also
perform a factor analysis (§6.7).
2 BACKGROUND AND MOTIVATION
2.1 Cellular Network Architecture
Figure 1 shows a simplified 5G network architecture, consisting of
three main types of components: Base Stations (BS), Control Plane
Functions (CPF), and User Plane Functions (UPFs).3 This high-level
5G network architecture is similar to that in 4G/LTE wherein each
User Equipment (UE) is provided radio access via a nearby base
station. The user plane functions are responsible for delivering
data and voice traffic, over the core network infrastructure, to/from
the internet and operator’s multimedia services, respectively. The
control plane functions facilitate data delivery by providing support
for user mobility, session management, radio resource allocation,
and authentication.
The control plane establishes the user’s data access to the internet
or to other operator services by setting up the connectivity session
for each device. This process requires installing states at the user
device, the base station, and core network elements. When a user
moves closer to a new base station, a handover takes place during
which the control plane is responsible for retaining the data access
by migrating the ongoing session states to the user’s new location.
3In 5G nomenclature, the base station is referred to as the gNodeB or simply the gNB,
and the key control plane function which interfaces with the base stations, is called
Access and Mobility Management Function (AMF).
649
A Low Latency and Consistent Cellular Control Plane
SIGCOMM ’20, August 10–14, 2020, Virtual Event, NY, USA
In the event of a failure, the control plane needs to recover or
recreate the session state.
To support user mobility over a wider area, the cellular deploy-
ments are divided into location domains.4 Each domain has multiple
BSs and UPFs, and is managed by a set of CPFs. When a user device
moves from one location domain to another, it triggers a control
handover to a different set of CPFs and UPFs.
2.2 Impact of Cellular Control Processing
The cellular control plane is critical in providing low latency data
access to mobile users. Prior studies have shown:
• Control plane latency directly impacts data latency: A 19-
month study [37] conducted across four major US carriers, showed
that control functions contribute 72.5–999.6 ms latency in session
establishment. The control handover can cause up to 1.9 s for the
delay in data access.
• Mobile devices frequently generate control traffic: The same
study showed that on-average a mobile device generates session
establishment request every 106.9 s. With high-mobility applica-
tions (like autonomous vehicles) and smaller cell sizes in 5G,5 we
would expect a rapid increase in the frequency of control traffic.
• Failures exacerbate control plane delays: Failures in the con-
trol plane can exacerbate these control plane delays [14, 37, 46],
causing up to 11 s delay in data access. These failures happen
rather frequently; 4-5% of the control connection requests expe-
rience some sort of failure [37].
2.3 Cellular Edge Applications
One of the key goals in 5G is to build support for Edge Computing
to enable latency-sensitive applications [23].6 Cellular providers
have already started testing/deploying edge applications:
• Edge-based video analytics: Verizon, has recently conducted
edge computing tests over its 5G network. It hosted an AI-powered
face recognition application inside its edge network. The test
consisted of transmitting video of a crowd over Verizon’s 5G net-
work to an edge application, which would scan the faces in that
crowd for potential matches against a database. The goal was to
show police could use edge computing functions to quickly find
someone in a crowd, rather than having to wait for that video to
be sent to a distant data center to be analyzed [38].
• Accelerating online mobile gaming: China mobile in partner-
ship with Tencent Cloud is providing accelerated online mobile
gaming experience through its 5G-based edge deployment [57].
Many multi-player online games (e.g., Fortnite) need sub-100 ms
latency for smooth player control which can be hard to provide