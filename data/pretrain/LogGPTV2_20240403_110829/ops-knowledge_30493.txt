User: 请解答这个和日志有关的问题How exactly does Google Account decide my device or location is "familiar"? In Chrome, I delete all cookies and site data. I close the browser and re-open it. I double check that All Cookies and Site Data is a blank list. 

I type https://mail.google.com/ into the address bar. I'm redirected to a long URL starting with accounts.google.com, and I can see that 3 cookies are set - one from google.com, two from accounts.google.com. 

I enter my gmail address and click Next.

The page refreshes, showing a non-generic profile picture, with a balloon saying "We'll only personalize this page when you're signing in from a familiar device or location."

How exactly do they decide that my device or location is "familiar"?

Is it based on IP? On IP geographic location? Are they browser-fingerprinting all my computers?


I'm using Chrome
I am not signed in to Chrome
My home page is chrome://newtab/

Assistant: It appears to be based on your IP address and browser cookies.

According to a Google FAQ page:


  To help make sign-in easier and more personal, you may see a screen with your profile picture and full name when signing in to Google. We’ll only show this information if you are signing in from a location or device you’ve signed in from before, like your home computer.


I tried entering my email into a VM that I've never used to log into my Google account (but has the same external IP address) and the Google account page still showed my profile picture.

I don't think it is by an IP's geographical location because multiple IP addresses may point to the same location. I've also used other networks (with different IPs) in close proximity to mine and had my device not be flagged as familiar.

I believe cookies are also used - I used to clear all cookies on browser close, resulting in my device not being marked as familiar in new locations (allowing me to make the observations above). Since I allowed cookies to persist, I noticed that my device was marked as familiar even though I logged in from a different location that I've never used before.

Summary of my observations:

Familiar devices are determined based on:


IP address (but not geographic location).
Browser cookies.