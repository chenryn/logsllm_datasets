还要感谢：令人尊敬的合作作者们对本书的贡献和坦率的交流；拥有宽松氛围的Accuvant公司
支持我撰写本书并从事其他研究工作；Wiey出版社在整个过程中对作者撰写工作的激励和引导。
最后要感谢的是#droidsec、Android安全团队和高通安全团队的成员们，你们推动了Android安
全的发展。
-Joshua J. Drake
我要感谢lolandaVilar鼓励我参与本书的撰写，并在我远离她守在电脑前的所有时刻里，
一如既往地支持我。感谢Ricard和Elena在我的孩提时代允许我追逐自己的梦想。感谢Wiley出
版社和本书的所有合作作者，我们在这本书上共同工作了无数个日日夜夜，特别要感谢Joshua
Drake给我烂到家的英语提供的所有帮助。还要感谢viaForensics公司的同事们，我们在一起作出
了许多非常棒的技术研究。最后感谢=droidsecIRC额道的所有伙伴们，以及G+上的Android安
全社区、Nopcode、48bits以及我在Twitter上关注的所有人，如果没有你们，我不可能跟得上移
动安全领域所有的最新技术发展。
Pau Oliva
“我要感谢Sally，我生命中的挚爱，感谢她能够包容我。感谢我的家庭一直以来给我的鼓励。
感谢Wiley出版社的编辑Carol和Ed提供了这个机会，感谢我的合作作者们与我分享了这段虽然
艰难但令人难忘的旅程。感谢 Ben Nell、Craig Ingram、Kelly Lum、Chris Valasek、Jon Oberheide
LoukasK、JohnCran和 Patrick Schulz的支持和反馈，以及一路支持和帮助过我的其他朋友。
—Zach Lanier
“我要感谢我的女朋友Amity，我的家人、朋友和同事们的鼎力支持。此外，我要感谢我的
顾问为这本书的写作付出了大量时间。特别要感谢Joshua让这本书成功面世。”
Collin Mulliner
---
## Page 9
vi致谢
“没有人比我的父亲HiramO.Russell，母亲Imani Russell，还有两个弟弟妹妹GabrielRussell
和MeccaRussell更值得我感谢。我之所以能成为现在的我，离不开家人的支持和厚爱。我父母
都给予了我无限的鼓励，而我的弟弟和妹妹也不断地以他们的智慧、成就与品质打动我。你们是
我生命中最最重要的。我还要感谢我美丽的妻子KimberlyAnnHartson，能够一直包容我并在我
的生命中充当这样一个充满爱心和平静的力量。最后，我想感谢信息安全社区。信息安全社区是
非常奇怪的圈子，但它是我的‘成长’家园。同事和研究人员（包括我的合著者）是我永恒的
灵感之源，为我提供了获取新闻、八卦与理想目标的常规渠道，并让我对这方面的工作更感兴趣。
我很荣幸有机会能够合作编撰本书。
Stephen A. Ridley
“我衷心感谢我的妻子Eva和儿子Jonathan，能够容忍我花时间写书，而不是去照顾他们。
我爱你们。感谢Joshua能够将我们聚在一起让本书面世。
GeorgWicherski
---
## Page 10
关于作者
Joshua J.Drake是Accuvant LABS公司研究部门总监，集中精力于逆向工程以及安全漏洞
分析、挖掘与利用等领域的原创性研究。他在信息安全领域拥有十多年的研究经验：1994年开
始研究Linux安全，2009年开始研究Android安全，并于2012年开始为Android主流OEM提供
咨询服务。之前，他曾供职于Metasploit团队和 VeriSign公司的iDefense实验室。在 BlackHatUSA
2012大会上，Georg和Joshua成功演示了通过NFC（NearFieldCommunication，近场通信）攻
破 Android 4.0.1 浏览器。Joshua 曾在 REcon、CanSecWest、RSA、Ruxcon/Breakpoint、Toorcon
和DerbyCon等黑客会议上发表演讲。他在2013年赢得了Pwn2Own黑客大赛，并于2010年随
ACMEPharm团队获得Defcon18 CTF决赛冠军。
PauOlivaFora是viaForensics公司的移动安全工程师，此前在一家无线设备厂商中担任研
发工程师。自从2008年10月Android操作系统随T-MobileG1登台之后，他使开始活跃于研究
Android安全问题。他对智能手机安全的研究热情不仅仅表现在开发了大量漏洞利用代码和工具
上，同时还表现在其他许多方面，例如他甚至在Android出现之前就担任了人气XDA开发者论
坛的版主。他的工作是为一些主流的AndroidOEM提供咨询服务。对移动安全社区的亲身参与
和近距离观察，让他特别兴奋地参与到撰写这本描述移动安全本质的著作当中。
ZachLanier是Duo Security公司的资深安全研究员，在信息安全的不同领域中有十多年的
工作经验。他从2009年开始进行移动与嵌入式安全研究，范围覆盖应用安全，平台安全（特别
是Android）以及设备、网络与运营商安全。他的研究兴趣还包括攻击、防御和隐私增强技术。
他曾在多个公开和内部的业界会议上发表过演讲，包括BlackHat、DEFCON、ShmooCon、RSA、
Intel安全会议、Amazon ZonCon等。
CollinMulliner是美国东北大学的博土后研究员，主要研究兴趣是移动和嵌人式系统的安全
和隐私，重点关注移动智能手机。他在该领域中的早期工作可追溯至1997年，当时他在为Palm
OS开发应用。Collin以在彩信（MMS）和短信（SMS）安全方面的工作面闻名。之前，他对漏
洞分析和攻击技术更感兴趣，但是最近他将关注点转移到了防御方向上，研究开发攻击缓解与应
对措施。Collin在德国柏林科技大学获得计算机博士学位，之前分别在加州大学圣巴巴拉分校和
达姆施塔特应用科技大学获得顿士和学士字位。
---
## Page 11
X关于作者
Ridley（他的伙伴们是这么称呼他的）是一位安全研究员与技术作者，在软件开发、软件安
全和逆向工程领域有十几年的经验。在最近几年中，Stephen 在除了南极洲的每个大陆上都演讲
并展示过他在逆向工程和软件安全方面的研究工作。之前，Stephen曾经是新型在线银行
Simple.com的首席信息安全官，Matasano Security公司的资深研究员，一家美国国防部承办商的
安全任务保障组创始成员，他精于安全漏洞研究、逆向工程和“攻击软件”，对美国国防部和情
报部门提供技术支撑。现在，Stephen是Xipiter（一家开发新型低能耗智能传感器设备的信息安
全研发公司）的首席科学家。Stephen最近的工作获得了NPR、NBC等电视台以及《连线》（华
盛顿邮报》《快公司）、VentureBeat、Slashdot、TheRegister等媒体的专题报道。
GeorgWicherski是CrowdStrike公司的资深安全研究员，特殊瓣好是对计算机安全底层进行
探索和修补，手工调试私人定制的Shellcode，以及修改漏洞利用代码使其变得足够稳定与可靠。
在加入CrowdStrike公司之前，Georg曾在卡巴斯基和迈克菲公司工作。在BlackHatUSA2012大
会上，Georg和Joshua成功演示了通过NFC攻破Android4.0.1浏览器。他曾在REcon、SyScan
BlackHat USA、BlackHat Japan、26C3、ph-Neutral、INBOT 等会议上发表演讲。0ldEur0pe是他
的本地CTF战队，他们参加过无数黑客竞赛，并多次赢得冠军。
---
## Page 12
版权声明
All Rights Reserved. This translation published under license. Authorized translation from the
English language cdition, cntitled Android Hacker's Handbook, ISBN 9781118608647, by Joshua J.
Drake, Pau Oliva Fora, Zach Lanier, Collin Mulliner, Stephen A. Ridley, Georg Wicherski, Published by
John Wiley & Sons. No part of this book may be reproduced in any form without the written permission
of the original copyrights holder.
Simplified Chinese translation edition published by POSTS & TELECOM PRESS Copyright  2015.
本书简体中文版由John Wiley&Sons,Inc.授权人民邮电出版社独家出版。
本书封底贴有JohnWiley&Sons,Inc.激光防伪标签，无标签者不得销售。
版权所有，侵权必究。
---
## Page 13
目
录
第1章纵观Android生态圈
2.4复杂的安全性，复杂的漏洞利用
1.1了解Android的根源
2.5小结
1.1.1公司历史
42
1.1.2版本历史
第3章rootAndroid设备
43
1.1.3审视Android设备家族
3.1理解分区布局
1.1.4主体开源
-43
5
45
1.2了解Android的利益相关者
6
3.3引导加载程序的锁定与解镇
3.4对未加镇引导加载程序的设备进
47
1.2.1谷歌
1.2.2硬件厂商
-7
-7
行root
1.2.3移动通信运营
3.5对锁定引导加载程序的设备进行
50
1.2.4开发者
·9
-9
root-
1.2.5用户
10
3.5.1
1在已启动系统中获取r00t
1.3理解生态圈的复杂性
-11
权限
-52
1.3.1碑片化问题
-12
3.5.2
NAND锁、监时性root与
1.3.2兼容性.
3.5.3对款root进行持久化
水久性root
1.3.3史新问题·
53
1.3.4安全性与开救性.
-13
3.6历史上的一些已知攻击
1.3.5公开披露
-16
3.6.1内核：Wunderbar/asroot
3.6.2恢复：Volez
-56
1.4小结
-17
.57
第2章Android的安全设计与架构
3.6.3
udev: Exploid
-18
3.6.4 adbd: RageAgainstTheCage
2.1理解Android系统架构
3.6.5 Zygote: Zimperlich 
2.2理解安全边界和安全策略执行
-19
Zysploit
2.2.1Android 沙稿
3.6.6
ashmem: KillinglnTheName-
58
-19
2.2.2Android权限
22
Of f psneuter
-.58
深入理解各个层次
-25
3.6.7
vold: GingerBreak -
2.3.1Android应用基 .
25
3.6.8 PowerVR: levitator-
2.3.2Android 枢条基
-28
3.6.9 libsysutils: zergRush-
60
2.3.3  DalvikVM.
-29
3.6.10
内核：mempodroid