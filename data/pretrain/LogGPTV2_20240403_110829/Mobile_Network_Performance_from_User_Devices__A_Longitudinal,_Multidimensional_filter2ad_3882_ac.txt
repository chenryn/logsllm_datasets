 17
 16
 15
 14
 13
 12
 11
05
Nov
 80
 70
 60
 50
 40
 30
07
Jan
Ping RTT
Hops
12
Nov
19
Nov
26
Nov
03
Dec
10
Dec
17
Dec
24
Dec
31
Dec
Time (day) - 2011
(c)
)
s
m
i
(
T
T
R
g
n
P
n
a
d
e
M
i
Fig. 5. Performance Degradation in: (a)T-Mobile HSDPA network in Bay Area due to server
selection ﬂapping from Bay Area to Seattle (b)T-Mobile HSDPA network in Seattle due to change
in ingress point of transit AS between T-Mobile and Google (c) Verizon LTE network in Bay Area
These predictability results indicate that despite the large overall variance in cellular
network performance, there are regions and time scales over which performance is rela-
tively predictable, depending on the carrier. Importantly, we can use this information to
inform the design of measurement system that uses prediction to minimize probes that
would provide redundant results. For instance, if we subsample every other value (i.e.,
50% sampling rate) in the Verizon LTE ping data in the Bay Area (which has the lowest
error in the full sample), the distribution of latencies is nearly identical.
3.4 Performance Degradation: Root Causes
We now use our measurements to identify the reasons for persistent performance degra-
dation observed in consecutive days. We focus on cases where the issue affects both
ping RTT and HTTP throughput.
Inefﬁcient Paths. A reason for performance degradation is inefﬁcient paths. Zariﬁs et
al [14] provide a detailed taxonomy and analysis of path inﬂation in mobile networks;
here we focus on their time evolution and constrain our analysis to only those cases
where both latency and throughput were impacted.
For example, we observe an increase in ping RTT in T-Mobile’s Bay Area HSDPA
network from Nov 12, 2011 to Dec 10, 2011. Using DNS lookups, we ﬁnd that clients
previously sent to Mountain View were being sent to Seattle, with the additional delay
explained by path inﬂation (Fig. 5a). After Dec 10, clients are again directed toward
Mountain View.
We also observed a high-latency event for T-Mobile’s Seattle HSDPA network in
Seattle (Fig. 5b). Prior to the event, traceroutes indicate that trafﬁc from T-Mobile in-
gresses into Level 3 in Seattle, then enters Google’s network. After Feb 15, trafﬁc from
these subscribers ingressed into Level 3 at a peering point in Los Angeles before enter-
ing Google’s network. After Feb 20, routing returns back to its previous state (ingress
and egress point in Seattle area) and the median RTT decreases to its previous value,
strongly implying that the change in performance was due to the topology change.
In Fig. 5c, we observe that ping RTT and the number of traceroute hops increases for
Verizon LTE users in the Bay Area. Previously, clients were sent to a Google frontend
in the Bay Area; after the change clients are sent to the same Google ingress point, but
then trafﬁc is sent to a frontend in Seattle (leading to ≈ 30% higher latency).
Mobile Network Performance from User Devices
19
Ping RTT
Packet Loss
)
%
(
s
s
o
L
t
e
k
c
a
P
n
a
e
M
 0.26
 0.24
 0.22
 0.2
 0.18
 0.16
 0.14
 0.12
 0.1
 0.08
 0.06
 0.04
 0
 5
 10
 20
 25
 30
 15
ASU
 1800
 1600
 1400
 1200
 1000
 800
 600
 400
)
s
m
(
T
T
R
g
n
P
n
a
e
M
i
)
s
p
b
K
(
t
u
p
h
g
u
o
r
h
T
P
T
T
H
n
a
e
M
HTTP Throughput
 550
 500
 450
 400
 350
 300
 250
 200
 150
 0
 5
 10
 20
 25
 30
 15
ASU
(a) Ping RTT and packet loss
(b) HTTP throughput (ﬁle size is 100KB)
Fig. 6. Impact of signal strength on latency, packet loss, and throughput
In this section we show that ﬁxed-line inefﬁciencies can signiﬁcantly impact the
performance of LTE and HSDPA networks. For these newer technologies, since the
RTT is lower, the impact of inefﬁcient routes is even relatively higher (around 80%
increase in the RTT of T-Mobile HSDPA in Seattle).
Signal Strength. It is well known that weak signal strength reduces channel efﬁciency
for wireless communication; therefore, it is important to account for this when inter-
preting measurements. Using Mobiperf clients, we gather network measurements an-
notated with the signal strength, in Arbitrary Strength Units (ASUs),4 reported during
the probes and determine the impact of signal strength on performance.
Fig. 6 shows how three performance metrics vary with ASU values for AT&T HS-
DPA users in Seattle. The ﬁgures indicate high packet loss, latency and low throughput
for ASU values between 0 and 8 (conﬁrming the results in [15]); at larger ASU values
that increase in signal strength has less impact on performance. These results indicate
that accounting for signal strength is critically important for properly interpreting mea-
surement results. For example, when measuring a carrier’s capacity, it is important to
do such tests in regions with high signal strength.
4 Related Work
Many previous studies attempt to improve our visibility into and understanding of mo-
bile network performance. We can broadly characterize them according to what type
of network performance they measured, where they conducted measurements and how
they performed measurements. In this work, we are the ﬁrst to use controlled, active
measurement experiments to continuously monitor end-to-end network performance
seen from mobile devices, across more than 100 carriers during a period of 17 months.
Previous work differs as follows.
4 Android shows zero signal bar for the ASU values between 0 and 2 and full signal bars when
ASU value is more than 12.
20
A. Nikravesh et al.
Passive measurements, infrastructure, single carrier. Several studies focus on pas-
sive measurements from inside mobile carriers [7–9]. While important for debugging
the infrastructure components of latency, the view from such locations does not neces-
sarily indicate the performance on mobile devices.
Active measurements, end devices, single carrier. Several projects use active mea-
surements from end devices, but focus on a single carrier for a limited duration of time,
often doing a ﬁne-grained and low-level analysis of performance. In [5], authors mea-
sured goodput, delay, and jitter of HSDPA and WCDMA networks from an operator in
Finland using active measurements from a laptop. In [6], the authors compare LTE and
HSPA networks by conducting high precision latency measurements for an operator
in Austria. In [16, 4, 17, 18], authors studied the TCP performance in CDMA2000 net-
works. In[16], the authors investigate the steady-state TCP performance over CDMA 1x
EV-DO downlink/uplink with the active measurement of long-lived TCP connections
at the end-points for a Korean operator. [18, 4] conducted a cross-layer measurement of
transport, physical and MAC layer parameters. [18] characterizes the wireless scheduler
in a commercial CDMA2000 network and its impact on TCP performance by perform-
ing end-to-end experiments and sending UDP and TCP packets.
Active measurements, end devices, several carriers.: Similar to the previous
examples, several studies also include comparisons across multiple carriers. In [19],
by investigating the performance of three Norwegian operator and conducting active
measurements from end-to-end devices, they studied the impact of the packet size on
the minimal one-way delay for the uplink in 3G mobile networks. In [11], by per-
forming active measurements for more than 6 months from 90 voting locations and by
measuring the round trip delay of three network operator in Norway, they found the
operator-speciﬁc network design and conﬁgurations as the most important factor for
delays. In [2], by measuring data throughput, latency, and video and voice calls han-
dling capacities, they compared the 3G performance of three carriers in Hong Kong
under saturated conditions by conducting measurements at 170 sites in four months.
Active measurements, end devices, pervasive. Most closely related to our work is
[1] and [3]. Both projects gather active measurements from apps running on mobile
devices; however, they all rely on user-generated tests. In contrast our work uses con-
trolled experiments to schedule measurements independent of user activity. This enables
a more continuous view of performance in mobile networks.
5 Conclusion
This paper took a ﬁrst look at end-to-end performance as seen from mobile devices,
using a dataset of scheduled network measurements spanning more than 100 carriers
over 17 months. We ﬁnd that there are signiﬁcant performance differences across car-
riers, access technologies, geographic regions and over time; however, we emphasize
that these variations themselves are not uniform, making network performance difﬁcult
to diagnose. Using supplemental measurements such as DNS lookups and traceroutes,
we identiﬁed the reasons behind persistent performance problems. Further, we exam-
ined the stability of network performance, which can help inform efﬁcient scheduling
Mobile Network Performance from User Devices
21
of future network measurements. Overall, we ﬁnd that performance in cell networks
is not improving on average, suggesting the need for more monitoring and diagnosis.
As part of our future work, we are investigating how to automatically detect persistent
performance problems in real time, gather additional network measurements to explain
them and provide this information to carriers and end users automatically.
Acknowledgements. We thank our shepherd Han Song and anonymous reviewers for
their valuable comments. This research was supported in part by the National Science
Foundation under grants CNS-1039657, CNS-1059372 and CNS-0964545, as well as
by the NSF/CRA CI Fellowship and a Google Research Award.
References
1. Sommers, J., Barford, P.: Cell vs. WiFi: on the performance of metro area mobile connec-
tions. In: Proc. ACM SIGCOMM IMC (2012)
2. Tan, W.L., Lam, F., Lau, W.C.: An Empirical Study on 3G Network Capacity and Perfor-
mance. In: Proc. IEEE INFOCOM (2007)
3. Huang, J., Xu, Q., Tiwana, B., Mao, Z.M., Zhang, M., Bahl, P.: Anatomizing application
performance differences on smartphones. In: Proc. ACM MOBISYS (2010)
4. Liu, X., Sridharan, A., Machiraju, S., Seshadri, M., Zang, H.: Experiences in a 3G network:
interplay between the wireless channel and applications. In: Proc. ACM MOBICOM (2008)
5. Jurvansuu, M., Prokkola, J., Hanski, M., Perala, P.: HSDPA Performance in Live Networks.
In: IEEE ICC (2007)
6. Laner, M., Svoboda, P., Romirer-Maierhofer, P., Nikaein, N., Ricciato, F., Rupp, M.: A com-
parison between one-way delays in operating HSPA and LTE networks. In: Proc. WINMEE
(2012)
7. Vacirca, F., Ricciato, F., Pilz, R.: Large-Scale RTT Measurements from an Operational
UMTS/GPRS Network. In: WICON (2005)
8. Laner, M., Svoboda, P., Hasenleithner, E., Rupp, M.: Dissecting 3G Uplink Delay by Mea-
suring in an Operational HSPA Network. In: Spring, N., Riley, G.F. (eds.) PAM 2011. LNCS,
vol. 6579, pp. 52–61. Springer, Heidelberg (2011)
9. Romirer-Maierhofer, P., Ricciato, F., D’Alconzo, A., Franzan, R., Karner, W.: Network-Wide
Measurements of TCP RTT in 3G. In: Papadopouli, M., Owezarski, P., Pras, A. (eds.) TMA
2009. LNCS, vol. 5537, pp. 17–25. Springer, Heidelberg (2009)
10. Deshpande, P., Hou, X., Das, S.R.: Performance Comparison of 3G and Metro-Scale WiFi
for Vehicular Network Access. In: Proc. ACM SIGCOMM IMC (2010)
11. Elmokashﬁ, A., Kvalbein, A., Xiang, J., Evensen, K.R.: Characterizing delays in norwegian
3G networks. In: Taft, N., Ricciato, F. (eds.) PAM 2012. LNCS, vol. 7192, pp. 136–146.
Springer, Heidelberg (2012)
12. Zheng, H., Lua, E.K., Pias, M., Grifﬁn, T.G.: Internet routing policies and round-trip-times.
In: Dovrolis, C. (ed.) PAM 2005. LNCS, vol. 3431, pp. 236–250. Springer, Heidelberg (2005)
13. Huang, J., Qian, F., Guo, Y., Zhou, Y., Xu, Q., Mao, Z.M., Sen, S., Spatscheck, O.: An in-
depth study of lte: Effect of network protocol and application behavior on performance. In:
Proc. ACM SIGCOMM (2013)
14. Zariﬁs, K., Flach, T., Nori, S., Choffnes, D., Govindan, R., Katz-Bassett, E., Mao, Z.M.,
Welsh, M.: Diagnosing path inﬂation of mobile client trafﬁc. In: Faloutsos, M., Kuzmanovic,
A. (eds.) PAM 2014. LNCS, vol. 8362, pp. 21–30. Springer, Heidelberg (2014)
22
A. Nikravesh et al.
15. Schulman, A., Navday, V., Ramjeey, R., Spring, N., Deshpandez, P., Grunewald, C., Padman-
abhany, K.J.V.N.: Bartendr: A practical approach to energy-aware cellular data scheduling.
In: Proc. ACM MOBICOM (2010)
16. Lee, Y.: Measured TCP Performance in CDMA 1x EV-DO Network. In: Proc. PAM (2006)
17. Claypool, M., Kinicki, R., Lee, W., Li, M., Ratner, G.: Characterization by Measurement of
a CDMA 1x EVDO Network. In: Proc. WICON (2006)
18. Mattar, K., Sridharan, A., Zang, H., Matta, I., Bestavros, A.: TCP over CDMA2000 net-
works: A cross-layer measurement study. In: Uhlig, S., Papagiannaki, K., Bonaventure, O.
(eds.) PAM 2007. LNCS, vol. 4427, pp. 94–104. Springer, Heidelberg (2007)
19. Arlos, P., Fiedler, M.: Inﬂuence of the Packet Size on the One-Way Delay in 3G Networks.
In: Krishnamurthy, A., Plattner, B. (eds.) PAM 2010. LNCS, vol. 6032, pp. 61–70. Springer,
Heidelberg (2010)