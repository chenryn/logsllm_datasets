User: How to set up a common network file system (NFS) in Linux system? Please explain the relevant steps in detail.
Assistant: Setting up a public network file system (NFS) in a Linux system requires the following steps: 1. Install the nfs-utils package. This package provides NFS server and client support. Use the following command to install (CentOS is used as an example): ``` sudo yum install nfs-utils ``` 2. Create a shared directory. You can create a directory dedicated to sharing in the system, which can be an empty directory or an existing directory. 3. Configure the /etc/exports file. In this file, we can specify the directory that needs to be shared and the permissions that the client can access. For example, if we want to allow 192.168.1.100 to access the /shared directory with read-only permissions, then we can add the following content to the /etc/exports file: ``` /shared 192.168.1.100(ro) ``` If you want multiple For client access, multiple lines can be added to this file. 4. Start the NFS service. Use the following commands to start the NFS service and set it to start automatically: ``` sudo systemctl start nfs-server sudo systemctl enable nfs-server ``` 5. Configure firewall rules. If the firewall service is installed in the system, the port of the NFS service needs to be opened in the firewall. Firewall rules can be added using the following commands: ``` sudo firewall-cmd --add-service=nfs sudo firewall-cmd --add-service=nfs --permanent ``` 6. Mount the shared directory on the client. The client can use the following command to mount the NFS shared directory: ``` sudo mount -t nfs 192.168.1.200:/shared /mnt/nfs ``` This command will mount the /shared directory on the NFS server to the client /mnt/nfs directory. Notes: - NFS shares will fail if the /etc/exports file is not properly configured. - NFS sharing requires security considerations, and it is necessary to ensure the security of the network environment and the setting of access rights to shared files. - If there are multiple NFS instances running on the same server, you need to pay attention to whether the number of ports will be duplicated. You can modify the /etc/nfs.conf file to specify the listening port number.