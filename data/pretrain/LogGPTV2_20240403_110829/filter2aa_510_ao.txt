You can use the slapconfig utility to configure the slapd and slurpd LDAP daemons 
and related search policies. For more information, type man slapconfig to see the 
man page.
Standard Distribution Tools
These tools are included in the standard LDAP distribution.
A Note on Using ldapsearch
The ldapsearch tool connects to an LDAP server, binds to it, finds entries, and returns 
attributes of the entries found.
By default, ldapsearch tries to connect to the LDAP server using the Simple 
Authentication and Security Layer (SASL) method. If the server doesn’t support this 
method, you see this error message:
ldap_sasl_interactive_bind_s: No such attribute (16)
To avoid this, include the -x option when you type the command. For example:
ldapsearch -h 192.168.100.1 -b "dc=ecxample,dc=com" -x
Program
Used to
/usr/bin/ldapadd
Add entries to the LDAP directory.
/usr/bin/ldapcompare
Compare a directory entry’s actual attributes with known 
attributes.
/usr/bin/ldapdelete
Delete entries from the LDAP directory.
/usr/bin/ldapmodify
Change an entry’s attributes.
/usr/bin/ldapmodrdn
Change an entry’s relative distinguished name (RDN).
/usr/bin/ldappasswd
Set the password for an LDAP user. 
Apple recommends using passwd instead of ldappasswd. For 
more information, type man passwd.
/usr/bin/ldapsearch
Search the LDAP directory. See the usage note under “A Note on 
Using ldapsearch” on this page.
/usr/bin/ldapwhoami
Obtain the primary authorization identity associated with a user.
/usr/sbin/slapadd
Add entries to the LDAP directory.
/usr/sbin/slapcat
Export LDAP Directory Interchange Format files.
/usr/sbin/slapindex
Regenerate directory indexes.
/usr/sbin/slappasswd
Generate user password. hashes.
LL2354.book  Page 157  Monday, October 20, 2003  9:47 AM
158
Chapter 14    Working With Open Directory
The -x option forces ldapsearch to use simple authentication instead of SASL.
Idle Rebinding Options
The following two LDAPv3 plugin parameters aren’t documented in the open directory 
administration guide. The parameters are in, or can be added to, the file 
/library/preferences/directoryservice/DSLDAPv3PlugInConfig.plist.
Delay Rebind
This parameter specifies how long the LDAP plugin waits before attempting to 
reconnect to a server that fails to respond. You can increase this value to prevent 
continuous reconnect attempts.
Delay Rebind Try in seconds
n
You should find this parameter in the plist file near OpenClose Timeout in 
seconds. If not, you can add it there.
Idle Timeout
This parameter specifies how long the LDAP plugin will sit idle before disconnecting 
from the server. You can adjust this value to reduce overloading of the server's 
connections from remote clients.
Idle Timeout in minutes
n
If it doesn’t already exist in the plist file, you can add it near OpenClose Timeout 
in seconds.
Additional Information About LDAP
The LDAP server in Mac OS X Server is based on OpenLDAP. Additional information 
about OpenLDAP, including an administrator’s guide, is available at www.openldap.org.
LL2354.book  Page 158  Monday, October 20, 2003  9:47 AM
Chapter 14    Working With Open Directory
159
NetInfo
Configuring NetInfo
You can use the following command-line utilities to manage the NetInfo directory. For 
more information about a utility, see the related man page.
For example, you can use the NeST -setprotocols command to specify which 
authentication methods the server’s Open Directory Password Server uses.
Password Server
Working With the Password Server
You can use the mkpassdb utility to create, modify, or back up the password database 
used by the Mac OS X Server Password Server. For more information, type man 
mkpassdb to read the man page.
Viewing or Changing Password Policies
You can use the pwpolicy command to view or change the authentication policies 
used by the Mac OS X Server Password Server. For more information, type man 
pwpolicy to see the man page.
Enabling or Disabling Authentication Methods
All password authentication methods supported by Open Directory Password Server 
are initially enabled. You can disable and enable Open Directory Password Server 
authentication methods by using the NeST tool. 
To see a list of available methods:
$ NeST -getprotocols
To disable or enable a method:
$ NeST -setprotocols protocol (on|off)
Utility
Used to
NeST
Configure the directory system of a server.
nicl
Create, view, and modify entries in the NetInfo directory.
nifind
Search the NetInfo directory for a particular entry.
nigrep
Search the NetInfo directory for an expression.
nidump
Export NetInfo data to text or flat files.
niload
Import flat files into the NetInfo directory.
nireport
Print tables of NetInfo directory entries.
Parameter
Description
protocol
Any of the protocol names listed by NeST -getprotocols (for 
example, SMB-LAN-MANAGER).
LL2354.book  Page 159  Monday, October 20, 2003  9:47 AM
160
Chapter 14    Working With Open Directory
For information on the available methods, see the Open Directory administration 
guide.
Kerberos and Single Sign On
The following tools are available for setting up your Kerberos and Single Sign-On 
environment. For more information on a tool, see the related man page.
Tool (in usr/sbin/)
Description
kdcsetup
Creates necessary setup files and adds krb5kdc and kadmind 
servers for the Apple Open Directory KDC.
sso_util
Sets up, interrogates, and tears down the Kerberos configuration 
within the Apple Single Sign On environment.
kerberosautoconfig
Creates the edu.mit.Kerberos file based on the Open Directory 
KerberosClient record.
LL2354.book  Page 160  Monday, October 20, 2003  9:47 AM
15
161
15 Working With QuickTime 
Streaming Server
Commands you can use to manage QTSS service in 
Mac OS X Server.
Starting QTSS Service
You can use the serveradmin command to start QTSS service, or you can use the 
quicktimestreamingserver command to specify additional service parameters when 
you start the service.
To start QTSS service:
$ sudo serveradmin start qtss
or
$ sudo quicktimestreamingserver
To see a list of quicktimestreamingserver command options, type
$ sudo quicktimestreamingserver -h
Stopping QTSS Service
To stop QTSS service:
$ sudo serveradmin stop qtss
Checking QTSS Service Status
To see if QTSS service is running:
$ sudo serveradmin status qtss
To see complete QTSS status:
$ sudo serveradmin fullstatus qtss
LL2354.book  Page 161  Monday, October 20, 2003  9:47 AM
162
Chapter 15    Working With QuickTime Streaming Server
Viewing QTSS Settings
To list all QTSS service settings:
$ sudo serveradmin settings qtss
To list a particular setting:
$ sudo serveradmin settings qtss:setting
To list a group of settings:
You can list a group of settings that have part of their names in common by typing 
only as much of the name as you want, stopping at a colon (:), and typing an asterisk 
(*) as a wildcard for the remaining parts of the name. For example,
$ sudo serveradmin settings qtss:modules:_array_id:QTSSAdminModule:*
Changing QTSS Settings
You can change QTSS service settings using the serveradmin command or by editing 
the QTSS parameter list file directly.
To change a setting:
$ sudo serveradmin settings qtss:setting = value
To change several settings:
$ sudo serveradmin settings
qtss:setting = value
qtss:setting = value
qtss:setting = value
[...]
Control-D
Parameter
Description
setting
A QTSS service setting. To see a list of available settings, type
$ sudo serveradmin settings qtss
or see “QTSS Settings” on page 163.
value
An appropriate value for the setting.
LL2354.book  Page 162  Monday, October 20, 2003  9:47 AM
Chapter 15    Working With QuickTime Streaming Server
163
QTSS Settings
Use the following parameters with the serveradmin command to change settings for 
the QTSS service.
Descriptions of Settings
To see descriptions of most QTSS settings, you can look in the sample settings file 
/Library/QuickTimeStreaming/Config/streamingserver.xml-sample.
Look for XML module and pref names that match the last two segments of the 
parameter name.
For example, to see a description of 
modules:_array_id:QTSSFileModule:record_movie_file_sdp
Look in the sample file for
...
qtss:samplesArray:_array_index:0:vn = 
qtss:samplesArray:_array_index:0:t = 
qtss:samplesArray:_array_index:1:vn = 
qtss:samplesArray:_array_index:1:t = 
[...]
qtss:samplesArray:_array_index:i:vn = 
qtss:samplesArray:_array_index:i:t = 
qtss:vnLegend = ""
qtss:currentServerTime = 
Parameter
Description
statistic
The value you want to display.
Valid values:
v1 - number of connected users (average during sampling period)
v2 - throughput (bytes/sec)
scale
The length of time in seconds, ending with the current time, for 
which you want to see samples. For example, to see 30 minutes of 
data, you would specify qtss:timeScale = 1800.
Value displayed by getHistory
Description
The total number of samples listed.
A textual description of the selected statistic. 
"CONNECTIONS" for v1
"THROUGHPUT" for v2
The numerical value of the sample.
For connections (v1), this is integer average number of 
connections.
For throughput, (v2), this is integer bytes per second.
The time at which the sample was measured. A standard UNIX time 
(number of seconds since Sep 1, 1970). Samples are taken every 60 
seconds.
LL2354.book  Page 167  Monday, October 20, 2003  9:47 AM
168
Chapter 15    Working With QuickTime Streaming Server