60
70
700
600
500
400
e
z
S
i
t
e
S
300
200
100
0
1
Union Size(Bin=60H)
Union Size(Bin=24H)
Union Size(Bin=12H)
Intersection Size(Bin=60H)
Intersection Size(Bin=24H)
Intersection Size(Bin=12H)
2
3
4
7
5
Time Period (weeks)
6
8
9
10
11
(a)
(b)
Fig. 5. Overall Frequency COI: Union and intersection set size (a) As a function of bin size
As a function of length of time window
weeks (
)
%&'
(b)
entire time window of interest. The observed intersection behavior implies that servers
present in the Popularity COI in the (cid:2)rst week, have a high probability of remaining in
the COI for the entire period. This holds true independent of the threshold. For exam-
ple for the 5% threshold, after the 11 weeks 66 of the initial 94 servers are still in the
intersection set. The relatively small growth of the union set implies that even though
servers are constantly added to the set, the number of additional servers added in a week
is low. Even for the 5% threshold, the number is low enough that applications requir-
ing (cid:147)manual(cid:148) veri(cid:2)cation of the status of new servers, i.e., whether they are legitimate
servers, would be feasible.
The above results indicate that rapid changes in the Popularity COI membership
would be an additional indication of anomalous network behavior. Note that this holds
true if a large number of popular servers are either rapidly added to or removed from
the COI set.
Frequency COI: We have also de(cid:2)ned a core COI that captures the frequency of
interaction. Recall that our Frequency Core COI considers a host to be part of the COI
if a target-host interacts with it at least once in every time bin
over some larger time
. To evaluate this core COI de(cid:2)nition we calculated the Frequency
period of interest
is one week)
COI (client perspective) for each host for each week of our data (i.e.,
) values 12, 24, 60 and 120 hours. For each week, we de(cid:2)ne the Overall
for bin-size (
Frequency COI to be the union of all per-host Frequency COIs for a given bin-size. We
explore how the membership of this set changes over time.
. Figure 5(a) shows the size of the union and intersection sets for
Similar to the approach above for Popularity COI, we determined the union and
intersection of all the Overall Frequency COI sets for a speci(cid:2)c time window of interest
equal to 3 weeks,
6 weeks and 11 weeks, for different bin sizes. (Note that we did not include a bin size
of 120 hours for this plot as that would include all hosts that communicated in a week
as part of the core COI for the week, which would be too inclusive for a core COI.)
As a reference point, Figure 5(a) also shows the size of the Overall Frequency COI for
the (cid:2)rst week. As the bin size increases, the COI set becomes more inclusive and as
$

"
"
94
W. Aiello et al.
expected the set size (shown for week 1) increases as the bin size increase to 60 hours.
The same holds true for the union and intersection set sizes, i.e., for a particular size of
(e.g., 3 weeks), the size of both the union and intersection sets increase as the bin
size increases. Next consider how the union and intersection set sizes for a particular
bin size change for different values of
. For example, for a bin size of 24 hours, we
see that the union set size increases as
increases from 3 to 6 to 11 weeks, while the
. Again this behavior is expected,
intersection set size decreases for the same values of
but it is interesting to note that this increase and decrease is not linear with respect to
the increase in
from 3 weeks to 6 weeks does not result
in doubling the union set size or halving the intersection set size. This is best shown
in Figure 5(b), which depicts the union and intersection set sizes for each value of
(1 week, 3 weeks, 6 weeks and 11 weeks).
. For example, doubling
The above behavior of the Overall Frequency COI as a function of increasing
is
as shown
similar to the behavior of the Popularity COI as a function of increasing
in Figure 4(b). As for the Popularity COI, the results for the Overall Frequency COI
indicate that rapid changes in the COI membership would be an indication of anomalous
network behavior.
Overall COI: Recall that the Popularity and Frequency COI de(cid:2)nitions attempt to
capture different types of interactions that should be considered part of a core COI.
Above we explored the churn in the Popularity and Frequency COIs separately, and
focused on the churn in the membership of these sets. In contrast to this aggregate
view, another way to explore variability is to inspect how the ability to capture the
communication behavior for individual hosts is impacted by the churn in these COI
sets. This is the goal of the study described next.
The Popularity COI is a function of the threshold parameter (
), while the Fre-
) as de(cid:2)ned earlier. For this part of the study,
quency COI is a function of the bin-size (
pairs, the Overall COI set for the (cid:2)rst
we computed, for a range of
week of our data by combining (using set union) the Overall Frequency COI with the
Popularity COI of the total local host set. Should this Overall COI accurately capture
the core interactions of the target hosts in subsequent weeks, then one would expect
that few of the target-hostsâ€™ interactions would be with hosts not in this set. We de(cid:2)ne
interactions with hosts outside of the Overall COI to be out-of-pro(cid:2)le.
threshold,bin-size
and
.+-,
threshold,bin-size
For each local host we determined the number of out-of-pro(cid:2)le interactions for sub-
sequent weeks of our data. We calculate a distribution of the out-of-pro(cid:2)le interactions
across all hosts for each of the
pairs. The results for this analysis
are shown in Figures 6(a) and (b) for 6 and 11 weeks respectively. The (cid:2)gures depict
the
percentiles for these distributions for a number of threshold values
and as a function of bin-size.
*+-,
We had discussed in Section 2.1 the situations under which the Popularity and Fre-
quency COIs are identical. This explains why each set of curves (
percentiles)
converge in the 120 hour bin-size value in Figures 6(a) and (b). It also explains the hor-
izontal lines (i.e., the cases where threshold is zero): in these latter cases the Popularity
COI already includes all servers, so the union with the Frequency COI does not add any
members to the Overall COI, and the number of out-of-pro(cid:2)le interactions is therefore
independent of the bin-size.
,
./+-,
*+-,
"
"
"
"
"
"
"
"
"
(
)
(
)
Analysis of Communities of Interest in Data Networks
95
s
r
e
v
r
e
S
e
l
i
f
f
o
r
p
âˆ’
o
âˆ’
u
O
#
t
100
90
80
70
60
50
40
30
20
10
0
0
90(T=100)
90(T=20)
90(T=10)
90(T=0)
50(T=100)
50(T=20)
50(T=10)
50(T=0)
s
r
e
v
r
e
S
e
l
i
f
f
o
r
p
âˆ’
o
âˆ’
u
O
#
t
20
40
60
80
100
120
Bin Size (Hours)
(a) 6 weeks
100
90
80
70
60
50
40
30
20
10
0
0
90(T=100)
90(T=20)
90(T=10)
90(T=0)
50(T=100)
50(T=20)
50(T=10)
50(T=0)
20
40
60
80
100
120
Bin Size (Hours)
(b) 11 weeks
Fig. 6. Out-of-pro(cid:2)le interactions for Overall COI for different threshold values and as a function
of bin-size
The two horizontal lines in each (cid:2)gure correspond to the case where the threshold
is zero, i.e., where the Popularity COI includes all hosts that acted as servers in week 1.
From Figure 6(a), (the six week period), 50% of the local hosts (
percentile line),
percentile
had less than 6 out-of-pro(cid:2)le interactions, while 90% of the local hosts (
*#0+-,
line) did not exhibit more than 20 out-of-pro(cid:2)le interactions over the entire period. The
corresponding numbers for the full 11 week period shown in Figure 6(b) are 10 and
31 out-of-pro(cid:2)le interactions for 50% and 90% of the local hosts respectively.
0+-,
Now we consider the impact of the Popularity COI set by looking at the graphs in
both (cid:2)gures for a (cid:2)xed bin-size, (e.g., 60 hours). For this bin size, consider the 4 values
of the six week distributions (Figure 6(a)). Notice that there is a signi(cid:2)cant difference
between the case where the threshold is zero and the case where the threshold is 10%,
when compared to the difference between the 10% and 20% (or even 100%) points.
This also holds true for the 11 week distributions. This suggests that as the Popularity
set becomes more inclusive (i.e., as the threshold gets closer to zero), it contributes
more signi(cid:2)cantly to the Overall COI set. This seems to suggest that in this region the
Popularity set indeed captures the important infrequent interactions that should be part
of a hostâ€™s COI. The relatively small difference between the values of the out-of-pro(cid:2)le
interactions for each set for thresholds between 10% and 100% seem to suggest that
the Overall Frequency COI already captures most of the servers that the Popularity set
would capture at such thresholds. This in turn suggests there may be signi(cid:2)cant overlap
between the servers that communicate with a larger fraction of clients and those that
interact frequently with clients, in our data set. Note that the increase in violations
going from 6 to 11 weeks, does not increase proportionally with the increase in time.
In summary the graphs show that an Overall COI derived from one weekâ€™s worth of
data is not suf(cid:2)cient to fully capture host interactions for subsequent weeks. However,
using the most inclusive variant of this COI de(cid:2)nition (i.e., where threshold
is zero
is 120), 90% of the hosts experienced on the average less than
or where the bin size
3 violations per week (for the 11 week graph). Similarly, for the most restrictive COI
we considered (i.e.,
equal to 12), 90% of the hosts experienced
equal to 100 and
96
W. Aiello et al.
less than 9 violations per week over the 11 week period. Both rates are low enough that
they would not preclude COI derived application that require human involvement. In
fact, 50% of the hosts would only experience one third of these violations.
4 Conclusions
In this paper we presented our methodology and initial results for characterizing com-
munities of interest (COIs) for hosts communication in data networks. We presented
example de(cid:2)nitions for COI that attempt to capture different characteristics of the un-
derlying communities. We explained how we collected our measurement data and the
pre-processing steps that were required before analysis. While this work is still matur-
ing our initial results indicate that:
(cid:150) Hosts typically act as both clients and servers which implies that any management
applications or policies will have to explicitly deal with this.
(cid:150) Using a very broad COI de(cid:2)nition we saw similar distributions for the COI size
over daily and monthly timescales, suggesting some stability in the COI for the
community as a whole.
(cid:150) COI de(cid:2)nitions that represent core host interactions, showed signi(cid:2)cant stability of
the COI over timescales of several weeks.
(cid:150) Core COIs calculated over a part of our measurement period were also able to
capture the actual host interaction in the remainder of the data fairly well.
We are continuing the presented work by moving from the presented aggregate COI
characterization to (cid:2)ner grained per-host characterization. Our ongoing work aims to
provide models that accurately capture host behavior. And our ultimate goal is to be able
to apply such models to the many challenging network management tasks presented in
the introduction.
References
1. Emily M. Jin et. al., (cid:147)The structure of growing social networks,(cid:148) Physics Review E, vol. 64,
pp. 845, 2001.
2. Ravi Kumar et.al., (cid:147)The web and social networks,(cid:148) IEEE Computer, vol. 25, no. 11, pp.
32(cid:150)36, 2002.
3. J. Kleinberg, (cid:147)The Small-World Phenomenon: An Algorithmic Perspective,(cid:148) in Proceedings
32nd ACM Symposium on Theory of Computing, 2000, pp. 163(cid:150)170.
4. J. Kleinberg, (cid:147)Navigation in a small world,(cid:148) Nature, vol. 405, pp. 845, 2000.
5. Godfrey Tan et. al., (cid:147)Role Classi(cid:2)cation of Hosts within Enterprise Networks Based on Con-
nection Patterns,(cid:148) in Proceedings of 2003 USENIX Annual Technical Conference, June 2003,
pp. 15(cid:150)28, San Antonio, TX.
6. Corinna Cortes, Daryl Pregibon, and Chris T. Volinsky, (cid:147)Communities of interest,(cid:148) Intelligent
Data Analysis, vol. 6, no. 3, pp. 211(cid:150)219, 2002.
7. Chuck Cranor et. al., (cid:147)Gigascope: a stream database for network applications,(cid:148) in Proceedings
of ACM SIGMOD, June 2003.