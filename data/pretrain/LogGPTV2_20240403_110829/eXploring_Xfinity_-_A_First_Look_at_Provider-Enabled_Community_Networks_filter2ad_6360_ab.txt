interference on Xﬁnity WiFi radio channel was contributing to the lack of con-
nectivity. During our September 2015 measurements, we employed an instru-
mented Linux laptop equipped with an Atheros AR9820 802.11a/b/g/n chipset
to measure interference on diﬀerent WiFi channels by capturing channel busy
time (CBT). CBT represents a more accurate picture of the radio channel than
medium utilization as it also accounts for channel noise and packet collisions [2].
We continuously recorded the CBT from NIC registers exposed in Atheros radio.
To normalize each CBT, we further calculated the Interference Factor (IF) for
each channel, deﬁned as the ratio of the observed busy time over the time spent
on the channel [1].
A large source of interference for wireless 802.11 hotspots comes from other
nearby access points. We found that the density of wireless access points in urban
Chicago is signiﬁcantly higher compared to our suburban setting. At median,
we observed around 70 of 2.4 GHz and 90 of 5 GHz wireless APs per cell in
Chicago compared to around 50 of 2.4 GHz and 5 of 5 GHz wireless APs per
cell in Evanston as shown in Fig. 3a. The density of 2.4 GHz network is similar
in both areas we measured, as well as, similar radio interference for 2.4 GHz.
142
D.K. Jha et al.
Fig. 3. Interference and Density of APs in two areas: Urban Chicago has slightly higher
radio interference due to high density of wireless APs in both radio bands. 5 GHz
networks have signiﬁcantly less interference compared to 2.4 GHz band. However, we
ﬁnd small impact of interference on connectivity.
However, with an order of magnitude more 5 GHz radio networks in urban
Chicago, we observed a very small but a clear separation in the interference
graph of 5 GHz for the two areas (Fig. 3b). We found that interference in the
5 GHz radio band is much lower in both areas than the 2.4 GHz band with a
median interference of 0.05 (compared to 0.4 for 2.4 GHz), for instance, in our
urban environment.
Figure 3c illustrates the comparison of minimum channel
interference
observed for connected and attempted only access points, in the 2.4 GHz band
in Evanston. In the median case, we see a diﬀerence of around 0.1 between the
interference value for the access points we were able to connect and those we
were not. For 5 GHz networks, which showed very low interference values, we did
not noticed a signiﬁcant impact of interference on connectivity.
3.4 Network Performance
We present the performance of Xﬁnity WiFi hotspots in both areas across down-
load speed, upload speed and RTT, collected using NDT. We observed signiﬁcant
diﬀerence in network performance in between areas and radio bands, as well as
Fig. 4. Network performance measured at Xﬁnity WiFi hotspots by radio band and
environment. Xﬁnity WiFi hotspots show lower performance in downtown Chicago
across all metrics. 5 GHz band radios also performed better in both locations.
eXploring Xﬁnity
143
a large variation in performance of such networks within each area. The results
are shown in Fig. 4.
We ﬁnd a large performance diﬀerential between the two radio bands, with
5 GHz bands exhibiting higher throughput in both areas. Surprisingly though,
these 5 GHz bands showed higher latencies in Chicago than 2.4 GHz bands. We
believe this is likely due to the poor signal strength properties observed in
Chicago rather than indicative of general performance. Sundaresan et al. [23]
found similar performance results for home networks.
4 Cross Traﬃc Interference
Comcast is leveraging its customer’s gateway routers as public hotspots for their
neighborhood xﬁnitywiﬁ service. To understand the impact of such sharing on
customers’ performance, we conducted controlled experiments for the case when
both networks use same router with single radio band (and hence, share same
radio channel). We generated cross traﬃc on a node connected to Xﬁnity WiFi
network and measured the network performance on another node connected to
home network. Since we started our study, Comcast has been moving toward
double band routers now oﬀering three new devices, two of them supporting
dual band radio. However, one of these routers is currently only available in
selected markets while the other one is provided only to customers with high-
end Internet plans [12].
4.1 Methodology
We conducted our experiments over a continuous 24 h period to account for
time-of-day patterns. Each set of tests consisted of injecting diﬀerent amounts
of downstream or upstream cross traﬃc (one direction at time) at diﬀerent
rates. We run experiments with downstream cross traﬃc at 0, 1, 2, 4, 8 and
16 Mbps and upstream cross traﬃc at 0, 1, 2 and 4 Mbps. Both upper bound
limits were set based on our initial experiments. All experiments were run under
controlled settings, with only one home device connecting to these gateways.
We collected our measurements using a single Xﬁnity customer’s ARRIS TG862
Gateway [5] which was actively broadcasting xﬁnitywiﬁ SSID, in a home with a
25 Mbps subscription. Based on preliminary measurements, we believe that our
key observations would apply to other single-radio-band devices and broadband
subscriptions.
Cross traﬃc was generated on a separate node connected to the xﬁnity-
network broadcasted from the same router. Upstream cross traﬃc was gen-
erated by running iPerf
[16] utility to send upstream UDP packets at
speciﬁc rates. Downstream traﬃc generation was generated using a python server
hosted in university network that sent UDP packets at the requested rate to
the xﬁnity-network node. These two processes of performance measurement on
home-network and traﬃc generation on xﬁnity-network were coordinated and
automated using a conﬁguration/coordination server in our lab. We took all
144
D.K. Jha et al.
performance measurements using NDT [18] on a node connected to the home-
network.4 We took three measurements of download/upload rate and selected
the maximum to handle small temporal variations.
4.2 Experimental Results
Figures 5a and c show the mean of the observed bandwidths along with the stan-
dard deviation for cross traﬃc. We observed signiﬁcant performance degradation
of the home-network WiFi due to cross traﬃc from xﬁnity-network. The impact
of downstream cross traﬃc is signiﬁcant starting at low values; for 2 Mbps cross
traﬃc on xﬁnity-network, we observe the download speed of home-network drop
from 15 Mbps to 10 Mbps, and drop by half (7.5 Mbps) for a cross traﬃc of
4 Mbps. Figure 5a illustrates this trend in decreasing performance as cross traﬃc
is increased, with reduction in throughput as high as 67 % for 16 Mbps traﬃc on
public WiFi.
Fig. 5. Cross Traﬃc Impact of Public Hotspot on Hosting router’s Personal Network.
As the public and hosting WiFi share same radio spectrum, we observe signiﬁcant
performance degradation of hosting network.
4 We refer to the public hotspot WiFi network as the xﬁnity-network and customer’s
personal network as the home-network.
eXploring Xﬁnity
145
As the upstream cross traﬃc is limited at 4 Mbps, it caused less wireless
interference and has lower impact on download speed. The maximum upload
speed we observed on the public hotspot was around 2 Mbps, and the impact
on download speed and upload speed is not noticeable before 4 Mbps upstream
cross traﬃc as seen in Fig. 5c. Hence, we don’t observe any signiﬁcant impact of
upstream traﬃc from public hotspot network on the hosting network.
To isolate the cause of cross traﬃc interference, we performed the same
series of experiments with the measurement node in home-network connected
via Ethernet to the router in place of the wireless interface. Figures 5b and d
show the home network performance for downstream and upstream cross traﬃc,
respectively, for a client connected over the wired interface. The ﬁgures show
that download and upload measured bandwidths of home-network remain con-
stant for all values of cross traﬃc on xﬁnity-network, for both downstream and
upstream cross traﬃc. With no cross traﬃc interference over the wired interface,
we conclude that interference due to xﬁnity-network cross traﬃc originates solely
from the two WiFi competing for same radio (device and spectrum) resulting in
signiﬁcant radio interferences with increase in network traﬃc.
Fig. 6. Performance impact due to WiFi incompatibility of connected public hotspot
user device. A public user with WiFi 802.11g device brings down the performance of
802.11n device in home network.
4.3 WiFi Compatibility Issues
The performance of the home-router owner could be impacted by a public
hotspot user connecting with an old WiFi standard device. To evaluate the
potential impact of this issue, we run experiments connecting a 802.11n device
and a 802.11g device, one at a time, to xﬁnity-network and measuring the
performance of a home user using a 802.11n device. We run our experiments
using NDT, and during oﬀ-peak hours (2am–6am). Figures 6a and b present our
results. We observed many NDT timeouts while measuring the impact of down-
stream cross traﬃc with the 802.11g device that lead to fewer data points. The
802.11g device has, as we expected, a signiﬁcant impact on the home network
and brings down the overall WiFi performance by a signiﬁcance margin.
146
D.K. Jha et al.
5 Related Work
Several projects have measured the performance characteristics of wireless net-
works, including Kotz et al. [17] study of campus-wide network and Aguayo
et al. [4] report on link level characteristics of a rooftop based mesh network.
Farshad et al. [14] used mobile crowdsourcing to characterize the Edinburgh
WiFi. More closely to our work, Sathiaseelan et al. [21] focused on the technical
and social context of providing Internet access by sharing existing broadband
subscribers’ connections deploying Public Access WiFi Systems in medium-sized
British city. Mota et al. [19] recently evaluated the feasibility of oﬄoading cellular
data traﬃc through WiFi hotspots provided by the government and private WiFi
access points in Paris. Robinson et al. [20] and Afanasyev et al. [3] studied the
coverage properties of the Google WiFi mesh network around Mountain View,
CA. Brik et al. [9] focused on a Mad Mesh network with 250 Mesh Access Points.
Braem et al. [6] analyzed the end-to-end quality of Internet access in community
networks. By contrast, our work focuses on characterizing a provider-enabled
WiFi network in urban and suburban settings and from the perspectives of both
the public user and the host network owner.
6 Conclusion
We presented the ﬁrst characterization of the coverage, availability and per-
formance of provider-enabled community networks. We focused our study on
Comcast’ Xﬁnity WiFi network - the largest community WiFi network in US,
with more than ten million devices in July 2015. We analyzed the performance of
this service under various geographic and temporal contexts, and from the per-
spectives of both the home router owner and the public hotspot user. We found
that the connectivity and performance of these services in urban environment
can be impacted by high signal attenuation from densely populated physical
objects and radio interference from crowded wireless APs. Our results show a
signiﬁcant degradation on the performance of the hosting customer’s home net-
work with reductions in throughput as high as 67 % due to wireless interference.
This preliminary study was focused on a single service in two limited geographic
areas - downtown Chicago and Evanston, IL and we would like to expand this
as part of our future work. We believe, however, that our ﬁndings and analysis
should be applicable to other community WiFi networks and comparable urban
and suburban environments.
Acknowledgments. We thank our shepherd Matthew Luckie and the anonymous
reviewers for their invaluable feedback. Also, we thank Rishabh Gemawat and
Sabita Acharya for helping with data collection. This work was supported in part
by the National Science Foundation through Award CNS 1218287.
eXploring Xﬁnity
147
References
1. ACS (Automatic Channel Selection), May 2015. https://wireless.wiki.kernel.org/
en/users/documentation/acs
2. Acharya, P.A.K., Sharma, A., Belding, E.M., Almeroth, K.C., Papagiannaki, K.:
Congestion-aware rate adaptation in wireless networks: a measurement-driven app-
roach. In: Proceedings of the IEEE SECON (2008)
3. Afanasyev, M., Chen, T., Voelker, G.M., Snoeren, A.C.: Analysis of a mixed-use
urban wiﬁ network: when metropolitan becomes neapolitan. In: Proceedings of the
IMC (2008)
4. Aguayo, D., Bicket, J., Biswas, S., Judd, G., Morris, R.: Link-level measurements
from an 802.11 b mesh network. In: Proceedings of the ACM SIGCOMM (2004)
5. ARRIS. ARRIS Touchstone R(cid:2) TG682 Telephony Gateway User’s Guide. http://
tinyurl.com/mw6gcgs
6. Bart Braem, C., Bergs, J.: Analysis of end-user qoe in community networks. In:
Proceedings of the ACM DEV (2015)
7. Bauer, S., Clark, D.D., Lehr, W.: Understanding broadband speed measurements.
TPRC (2010)
8. Braem, B., Blondia, C., Barz, C., Rogge, H., Freitag, F., Navarro, L., Bonicioli,
J., Papathanasiou, S., Escrich, P., Vi˜nas, R.B., Kaplan, A.L., i Balaguer, I.V.,
Tatum, B., Matson, M.: A case for research with and on community networks. In:
SIGCOMM Computing Communication Reviews, July 2013
9. Brik, V., Rayanchu, S., Saha, S., Sen, S., Shivastava, V., Banerjee, S.: A measure-
ment study of a commercial-grade urban wiﬁ mesh. In: Proceedings of the IMC
(2008)
10. Comcast. Comcast Unveils Plans for Millions of Xﬁnity WiFi Hotspots Through
its Home-Based Neighborhood Hotspot Initiative. http://tinyurl.com/o23vvps
11. Comcast. Wireless Internet on the Go - XFINITY WiFi by Comcast. http://wiﬁ.
comcast.com
12. Comcast. The diﬀerent wireless gateways for your home network (2016). http://
customer.xﬁnity.com/help-and-support/internet/wireless-gateway-compare/
13. Electronic Frontier Foundation. Open Wireless Movement. https://openwireless.
org/
14. Farshad, A., Marina, M., Garcia, F.: Urban WiFi characterization via mobile
crowdsensing. In: Proceedings of the IEEE NOMS (2014)
15. Fon. How it Works — Fon. https://corp.fon.com/en/how-it-works
16. French forum for Iperf. Iperf - The TCP/UDP Bandwidth Measurement Tool.
https://iperf.fr
17. Kotz, D., Essien, K.: Analysis of a campus-wide wireless network. In: Proceedings
of MobiCom (2002)
18. M-Lab. NDT (Network Diagnostic Test). http://www.measurementlab.net/tools/
ndt
19. Mota, V.F., Macedo, D.F., Ghamri-Doudane, Y., Nogueira, J.M.S.: On the feasi-
bility of WiFi oﬄoading in urban areas: the Paris case study. In: Proceedings of
the IFIP (WD) (2013)
20. Robinson, J., Swaminathan, R., Knightly, E.: Assessment of urban-scale wireless
networks with a small number of measurements. In: Proceedings of the MobiCom
(2008)
21. Sathiaseelan, A., Mortier, R., Goulden, M., Greiﬀenhagen, C., Radenkovic, M.,
Crowcroft, J., McAuley, D.: A feasibility study of an in-the-wild experimental pub-
lic access wiﬁ network. In: Proceedings of the ACM DEV (2014)
148
D.K. Jha et al.
22. Solutions, S.D.C.: The Chicago tech plan: building a model for cities and technol-
ogy. http://tinyurl.com/p3zvanw
23. Sundaresan, S., Feamster, N., Teixeira, R.: Measuring the performance of user
traﬃc in home wireless networks. In: Mirkovic, J., Liu, Y. (eds.) PAM 2015. LNCS,
vol. 8995, pp. 305–317. Springer, Heidelberg (2015)
24. Voices, C.: 10 hidden wi-ﬁ hotspots you never knew were there, July 2015. http://
corporate.comcast.com/comcast-voices/free-wiﬁ-hotspots-top-locations