User: 请回答以下安全问题哪些安全措施对静态网站有意义？我有一个静态网站。用户无法登录或执行任何其他操作。哪些常见的HTTP安全措施对我的网站有意义？
我需要这些吗？
HTTPS协议
严格的运输安全
内容安全策略
证书固定
点击劫持保护
内容嗅探保护

Assistant: 常见的web应用攻击向量不适用于严格静态的网站。没有交互元素，就没有可劫持的帐户或可窃取的cookie。尽管如此，你应该为你的访问者提供加密访问——即使你没有托管精致的内容。
TL；博士
将HTTPS与HSTS结合使用，以确保您的内容对访问者具有一定程度的隐私和完整性。将HPKP添加到静态站点可能是不必要的偏执，在部署它时必须小心。其他讨论的安全措施大多与静态站点无关，但它们实施起来非常简单，您可能仍然决定使用它们。
HTTPS协议
是的，这样做吧。有了像Let's Encrypt这样的免费SSL证书提供商，你需要一个很好的理由不切换。HTTPS保护传输数据的隐私和完整性，即使使用静态内容也是可取的。
破坏完整性的场景：如果你提供下载，中间人攻击者可能会篡改文件以传递恶意软件。侵犯隐私的例子：我的雇主、我连接的WiFi热点的所有者或我的ISP都可以看到我从你的网站上阅读的确切文章和下载的内容。然而，使用HTTPS时，我主要会公开元数据（我连接的IP地址、SNI导致的主机名等）。
HTTP严格传输安全
是的，这样做吧。HSTS有助于强制用户仅使用HTTPS连接到您的网站，从而防止SSL剥离攻击。如果您推出HTTPS，那么使用HSTS是非常有意义的。它可以通过添加一个额外的响应头来轻松实现，如下所示：
严格的运输安全：最大年龄=31536000
由于HSTS仅在用户第一次遇到标头（TOFU模型）时生效，直到达到最大使用期限超时，因此您甚至可能希望将您的站点提交到HSTS预加载列表。这意味着用户将从第一次访问开始通过HTTPS进行连接。
请注意，在启用HSTS后切换回纯HTTP会很麻烦。
HTTP公钥固定（“证书固定”）
这取决于情况。虽然HSTS告诉浏览器在给定时间内严格使用HTTPS，但HPKP头指定了浏览器将来应该信任的证书。从证书链中锁定公钥可以保护用户免受攻击者用流氓证书替换您的证书的攻击。这种攻击不太可能发生，因为对手需要破坏CA才能颁发流氓证书（尽管以前也发生过这种情况）。此外，在设置HPKP时必须小心，因为有缺陷的部署可能会使您的网站对以前的用户不可用。
Detectify实验室有一篇关于HPKP的优秀文章，结论更乐观：
那么你应该使用HPKP吗？是的，你应该。如果固定正确
一切南下的可能性很小。
内容安全策略
是的，但您可能并不真正需要它。创建CSP是为了通过限制您的网站允许从哪个来源加载资源类型来减轻XSS和相关攻击。因为你有一个纯静态的网站，可能根本没有嵌入外部资源，所以它可能不是真正的攻击向量。明智的策略将取决于您正在加载的资源类型。例如，此限制性策略标头仅允许来自同一来源的内容：
内容安全策略：默认src“self”
点击劫持保护
是的，为什么不呢。点击劫持攻击诱使用户通过伪装的框架无意中与您的网站进行交互。然而，如果你没有互动元素，就不会造成实际的损害。（不过，在一个更好的世界里，跨原点框架将是一种选择加入功能。）实现很简单。此示例根本不允许任何帧嵌入：
X框架选项：拒绝
请注意，XFO标头已被声明为过时，以支持帧祖先CSP指令：
内容安全策略：框架祖先“none”
内容嗅探保护
是的，为什么不呢。如果您没有正确地声明内容类型，浏览器可能会猜测（嗅探）该类型（尽管这种行为已经不那么常见了）。对于本应是不可执行的但由于缺少内容类型而在嗅探后确定为可执行格式的用户内容，这尤其危险。对于你的静态网站，这几乎不会成为一个问题。为了安全起见，您可以添加以下标头以防止嗅探（但它不能替代正确声明的MIME类型）：
X内容类型选项：nosniff
另请参阅：X-Content-Type-Options真的可以防止内容嗅探攻击吗？
此外，还可以查看OWASP安全标头项目，了解有关安全相关标头的更多详细信息以及一些真实的示例。