### 问题描述

我们目前在所有域控制器（DC）上使用 Nxlog，并将数据发送到一个集中的 syslog-ng 服务器。由于需要在每台计算机上安装代理，并且还需要额外的只支持读取事件查看器的代理，我们正在考虑使用 Windows Event Forwarding (WEF) 将所有 DC 日志转发到几台服务器上，以减少代理的数量。理论上这听起来不错，但在我深入研究后，我没有发现 WEF 支持高可用性（HA）或集群的功能。我考虑在前端使用负载均衡器，并通过轮询方式将事件分发到后端的 5 台服务器上，但不确定这种方式是否能满足我们的需求。

### 问题

1. 有人在大规模环境中使用过 WEF 吗？我们每天接收约 200 百万条 Windows 事件日志，并需要增加日志级别。
2. 在这种规模下，有人遇到过域控制器转发日志或收集器接收日志时的性能问题吗？
3. 我们需要日志尽可能接近实时处理。在这种情况下，是否有更好的解决方案？

### 建议

我强烈建议您将所有代理切换为 Elastic Beats。我过去曾使用过 Nxlog，但它在功能和易用性方面不如 Elastic Beats。

- **Elastic Beats**：这些工具是用 Go 语言编写的，因此无需依赖其他库。
- **Logstash**：它支持集群、故障转移、队列以及多种导出选项（例如 Graylog 或 日志易）。
- **部署**：我们使用 Ansible 在 Windows 和 Linux 上部署 Beats。

通过这种方式，您可以更好地管理和扩展您的日志基础设施，同时确保高可用性和低延迟。

感谢您的帮助和意见。