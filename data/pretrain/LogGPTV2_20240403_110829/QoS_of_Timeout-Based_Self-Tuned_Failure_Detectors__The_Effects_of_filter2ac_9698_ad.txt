DT , we observe that the failure detector 
detect a failure 
spends more time to detect a failure if a margin peb is 
used (around 4 seconds). This feature comes from the 
great variation of this safety margin, because when the 
prediction  error  is  large,  in  next  time,  the  computed 
margin peb will also be large, increasing the TD and its 
upper  bound.  Conversely,  average  based  predictors 
DT  because  they  do  not  generate  large 
obtain  small 
DT  when 
values on their predictions, resulting in good 
combined with the small conservative cib margin.  
u
u
In  summary,  to  achieve  a  good  performance,  a 
margin  based  on  the  prediction  error  should  be 
combined  with  an  accurate  predictor,  while  a 
conservative  margin,  or  even  constant,  is  better  joint 
with the average based predictors. 
About accuracy issues 
Now, we focus on the accuracy of failure detectors 
(Table 5). From the results, we observe that none of the 
combinations  turns  the  corresponding  failure  detector 
to the most accurate point because no failure detector 
attains  simultaneously  the  smallest  TM  and  the  largest 
TMR. On the contrary, when TM is small, TMR is small, 
too.  Observe  that,  when  using  the  margin  peb,  the 
failure  detector  ARIMA_FD  gets  the  lowest  TM
whereas the MEAN_FD gets the highest TMR; however, 
the  opposing  case  happens  if  the  cib  margin  is  used. 
This result shows that the margin affects the accuracy 
of a failure detector and the effect depends on the used 
communication delay predictor. 
Looking at derived metrics λ and PA in Table 5, we 
may  observe  that  an  accurate  predictor  obtains  better 
results with the cib margin. This behavior is similar to 
that  observed  with  a  constant  margin  (Table  3). 
However, if a margin based on the prediction error is 
chosen,  the  best  accuracy  is  achieved  by  using  the 
conservative  predictor  MEAN.  Once  more, 
the 
combination prediction-margin is important to obtain a 
good accuracy. 
Summarizing,  no  combination  prediction/margin 
could ensure the best results on the accuracy evaluation 
because none of them ensures simultaneously the best 
values for TM and TMR. However, in general, the use of 
an  inaccurate  predictor,  like  MEAN,  claims  for  a 
prediction  error-based  margin,  whereas  the  use  of  an 
accurate one claims for a small conservative or constant 
margin. 
Proceedings of the 2004 International Conference on Dependable Systems and Networks (DSN’04) 
0-7695-2052-9/04 $ 20.00 © 2004 IEEE 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 12:29:59 UTC from IEEE Xplore.  Restrictions apply. 
Table 4: Speed metrics for three predictors with two variable safety margins 
peb margin 
cib margin 
Failure Detector 
MEAN_FD 
WINMEAN_FD 
ARIMA_FD 
DT
1.821 (A) 
1.530 (B) 
1.462 (C) 
u
DT
4.323 (A) 
4.121 (A) 
3.481 (B) 
DT
1.481 (A) 
1.492 (A) 
1.492 (A) 
u
DT
2.284 (C) 
2.451 (B) 
2.675 (A) 
Table 5: Accuracy metrics for three predictors with two variable safety margins 
Failure Detector 
peb margin 
MRT
368.543 (A) 
139.798 (B) 
120.312 (B) 
MRT
36.718 (C) 
81.730 (B) 
169.314 (A) 
Cib margin 
λ
λ
0.002713 
0.007153 
0.008312 
0.027235 
0.012235 
0.005906 
AP
0.998993 
0.998011 
0.997648 
AP
0.995152 
0.998011 
0.997962 
MEAN_FD 
WINMEAN_FD 
ARIMA_FD 
MEAN_FD 
WINMEAN_FD 
ARIMA_FD 
MT
0.371 (A) 
0.278 (B) 
0.283 (B) 
MT
0.178 (C) 
0.208 (B) 
0.345 (A) 
About speed and accuracy issues 
u
compared 
Looking  at  the  speed  and  accuracy  (QoS)  of  the 
failure detectors simultaneously (Tables 4 and 5), we can 
observe  that  the  combination  MEAN-peb  results  in  a 
more accurate failure detector. Its average mistake rate is 
306%  greater  than  the  number  obtained  with  by  the 
combination  ARIMA-peb;  and  263%  higher  than  the 
value achieved by the combination WINMEAN-peb, but 
it delays in 24% of the detection time ( DT  and 
DT ) of 
the  detector  when 
to  ARIMA-peb
combination. On the other hand, we can also observe that 
in  a  better 
the  combination  ARIMA-cib  results 
accuracy/performance 
for 
the 
failure 
detector. Its average mistake rate is 461% higher when 
the  combination  MEAN-cib  is  used,  and  207%  higher 
for the grouping WINMEAN-cib, while it delays in less 
than 1% the time to detect a failure and in approximately 
17% its upper bound (with respect to MEAN_FD). Thus, 
in  short, 
the  combination 
predictor-margin is important to obtain a good QoS for a 
failure detector, but its choice depends on the application 
requirements. 
the  results  show 
relationship 
that 
6. Conclusions 
In  this  paper,  we  evaluated  the  QoS  of  three 
implementations  (MEAN_FD,  WINMEAN_FD  and 
ARIMA_FD)  of  a  pull-style 
to 
investigate what are the effects of communication delay 
predictors  and  safety  margins  on 
timeout  based 
self-tuned failure detectors.  
failure  detector 
For each implementation of the failure detector, we 
explored different predictors: MEAN, WINMEAN and 
ARIMA.  Statistically,  in  the  considered  evaluation 
environment (set of real traces and Duncan’s grouping 
of  the  mean  square  error  measures),  the  predictor 
MEAN is less accurate than the predictor WINMEAN; 
the  latter  is  less  accurate  than  the  predictor  ARIMA. 
Furthermore,  we  have  also  explored  three  distinct 
safety  margins: 
the  constant  case,  a  prediction 
error-based one (peb) and a confidence interval-based 
margin (cib). 
In order to make a proper comparison of the failure 
detector  implementations,  in  our  evaluation,  we  used 
the  QoS  metrics  proposed  by  Chen  and  Toueg  [5], 
which are timeout independent, and used one database 
(a set of real traces) for all cases. 
By evaluating the predictor effect combined with a 
constant safety margin, we concluded that the QoS of a 
pull-style  failure  detector  does  not  increase  when  the 
accuracy  of 
the  round-trip  communication  delay 
predictor is  enhanced.  Even  when  using the  predictor 
ARIMA, significantly more accurate (at 5% or so) than 
the  other two  predictors,  the  speed  to  detect  a  failure 
does  not increase.  Furthermore, an  accurate  predictor 
helps  the  failure  detector  to  increase  the  mistake 
recurrence time, but increases the mistake duration.
We  also  concluded that,  for a  failure  detector,  the 
combination predictor-margin is important to achieve a 
good QoS and depends on application requirements. By 
exploring  two  variable  safety  margin  strategies  (peb
and cib), with the same set of predictors, we observed 
the following aspects: first, to get a good performance, 
a  margin  based  on  the  prediction  error  should  be 
Proceedings of the 2004 International Conference on Dependable Systems and Networks (DSN’04) 
0-7695-2052-9/04 $ 20.00 © 2004 IEEE 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 12:29:59 UTC from IEEE Xplore.  Restrictions apply. 
[10]  C. Fetzer, M. Raynal, and F. Tronel. An Adaptive Fault 
Detection  Protocol.  In  Proc.  of  the  IEEE  Pacific  Rim 
Symposium  on  Dependable  Computing  (PRDC-8),  pages 
146-153, December 2001. 
[11]  I. Gupta, T. D. Chandra and G. Goldszmidt. On Scalable 
and  Efficient  Distributed Failure  Detectors.  In:  Proceedings 
of the 20th Symposium on Principles of Distributed Computing 
(PODC), pages 170-179, Aug. 2001. 
[12]  M.  G.  Hayden.  The  Ensemble  System. 
Ithaca: 
Department  of  Computer  Science,  Cornell  University,  Jan. 
1998. (PhD Thesis) 
[13]  V.  Jacobson.  Congestion  Avoidance  and  Control.  In: 
Proceedings  of  the  ACM  Symposium  on  Communications, 
Architectures  and  Protocols  (ACM  SIGCOMM),  pages 
314-329, Aug. 1988. 
[14]  R.  Macêdo.  Failure  Detection 
in  Asynchronous 
Distributed  Systems.  In:  Proceedings  of  the  Test  and  Fault 
Tolerance Workshop (WTF), pages 76-81, May 2000. 
[15]  A.  Montresor.  System  Support 
for  Programming 
Object-Oriented  Dependable  Applications  in  Partitionable 
Systems.  Bologna:  Department  of  Computer  Science, 
University of Bologna, 2000. (PhD Thesis) 
I. 
[16]  R.  C.  Nunes  and 
Jansch-Pôrto.  Modelling 
Communication  Delays  in  Distributed  Systems  using  Time 
Series. In:  Proceedings of the IEEE Symposium on Reliable 
Distributed  Systems  (SRDS’2002),  pages  268-273,  October 
2002. 
[17]  R.  C.  Nunes  and  I.  Jansch-Pôrto.  A  Lightweight 
Interface to Predict Communication Delays using Time Series. 
In:  Proceedings  of 
the  Latin-American  Dependable 
Computing Symposium (LADC’2003), (LNCS 2847, Springer 
Verlag), pages 254-263, October, 2003. 
[18]  M.  Raynal  and  F.  Tronel.  Group  Membership  Failure 
Detection:  a  Simple  Protocol  and  its Probabilistic  Analysis. 
Distributed  Systems  Engineering  Journal,  6(3):  95-102, 
September 1999. 
to  Adaptive  Fault  Monitoring  and 
[19]  I.  Sotoma  and  E.  R.  M.  Madeira.  Adaptation  – 
Algorithms 
their 
Implementation  on  Corba.  In  Proc.  of  the  Symposium  on 
Distributed  Objects  and  Application  (DOA’2001),  pages 
219-228, September 2001. 
[20]  W. Vogels. World Wide Failures. In: Proceedings of the
7th ACM SIGOPS European Workshop, Sep. 1996. 
combined  with  an  accurate  predictor,  whereas  a 
conservative margin (cib) or a constant margin are better 
combined  with  the  average  based  predictors  (less 
accurate predictors). Second, to achieve good accuracy, 
the use of an inaccurate predictor, like MEAN, indicates 
the use of a prediction error-based margin, whereas the 
use  of  an  accurate  predictor 
indicates  a  small 
conservative  or  constant  margin.  And  lastly,  the  user 
needs  to  take  into  account  the  system  requirements  to 
chose  adequate  predictor-margin  pairs,  because  the 
combination  MEAN-peb  results  in  a  more  accurate 
failure  detector  whereas  the  combination  ARIMA-cib
results in a better accuracy/performance relationship for 
the failure detector. 
Acknowledgements 
We would like to thank the anonymous referees for their 
useful comments on the earlier version of this paper. We 
are grateful to CAPES/Brazil and HP Brazil that partially 
support this work. 
References 
[1]  K.  P.  Birman.  Building  Secure  and  Reliable  Network 
Applications. Greenwich: Manning Publications Co., 1996. 
[2]  M.  Bertier,  O.  Marin  and  P.  Sens.  Implementation  and 
Performance Evaluation of an Adaptable Failure Detector. In: 
Proceedings  of  the  International  Conference  on  Dependable 
Systems and Networks (DSN), pages 354-363, June 2002. 
[3]  B.  L.  Bowerman  and  R.  T.  O'Connel.  Forecasting  and 
Time Series: an Applied Approach. Belmont: Duxbury Press, 
1993. 
[4]  T. D. Chandra and S. Toueg. Unreliable Failure Detectors 
for Reliable Distributed Systems. Journal of the ACM, 43(2): 
225-267, Mar. 1996. 
[5]  W.  Chen,  S.  Toueg,  M.  K.  Aguilera,  On  the  Quality  of 
Service of Failure Detectors. IEEE Transactions on Computers,
51(5): 561-580, May 2002. 
[6]  C.  Delport-Gallet,  H.  Fauconnier  and  R.  Guerraoui.  "A 
Realistic  Look  At  Failure  Detectors",  In:  Proceedings  of  the 
International  Conference  on  Dependable  Systems  and 
Networks (DSN), pages 345-353, June 2002. 
[7]  P. A. Dinda and D. R. O'Hallaron. An Extensible Toolkit 
for  Resource  Prediction  in  Distributed  Systems.  Pittsburgh: 
Computer Science Department - Carnegie Mellon University, 
MU-CS-99-138, Jul. 1999. 
[8]  P. Felber. The CORBA Object Group Service - A Service 
Approach to Object Groups in CORBA. Lausanne: Départment 
d'Informatique, EPFL, 1998. (PhD Thesis) 
[9]  P. Felber, X. Défago, R. Guerraoui and P. Oser. Failure 
Detectors as First Class Objects. In: Proceedings of the IEEE 
Intl.  Symposium  on  Distributed  Objects  and  Applications  - 
DOA'99, pages 132-141, 1999. 
Proceedings of the 2004 International Conference on Dependable Systems and Networks (DSN’04) 
0-7695-2052-9/04 $ 20.00 © 2004 IEEE 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 12:29:59 UTC from IEEE Xplore.  Restrictions apply.