Para-
meters 
Processor  1 Peta-
FLOPS 
Memory  0.5 Peta-
System 
Inter-
connect 
Storage 
and I/O 
2 TB/sec 
I/O  
1 TB/sec 
Disk 
28% 
Bytes 
0.12 PB/sec  14% 
56% 
45% 
14% 
10% 
19% 
19% 
15% 
100%  128% 
*Total  memory  is  actually  0.78  PB,  but  0.39  PB  is  for 
storing a checkpoint rather than for application use 
100% 
y
t
i
l
i
b
a
l
i
a
v
A
94.00%
93.75%
93.50%
93.25%
93.00%
92.75%
92.50%
92.25%
92.00%
91.75%
91.50%
Rebalanced 
Flops
Availability
0.765
0.763
0.760
0.758
0.755
0.753
0.750
0.748
0.745
0.743
0.740
l
R
e
b
a
a
n
c
e
d
P
e
t
a
F
o
p
s
l
0.75 0.8 0.85 0.9 0.95 1
Disk Bandwidth (TB/sec)
1.05 1.1 1.15
Figure  4. 
  Application  Availability  and 
Rebalanced  PetaFLOPS  vs.  Disk  Bandwidth 
for a System with a RAM Checkpoint 
6. Maximizing System Performability 
In  the previous  sections,  we  have  shown how  to 
calculate the performance and availability for various 
system  configurations  given  a  fixed  budget.  This 
provides  customers  with  a  range  of  options,  e.g.,  an 
availability/performance  point  on  one  of  the  curves 
shown  in  Figures  2-4.  To  help  customers  decide 
among the many options, it is useful to define a single 
availability/performance  metric.  In  other  words,  we 
want  a  metric  for  performability  [7],  defined  as  a 
composite measure of a system's performance and its 
dependability.  For  the  purposes  of  this  paper,  we 
selected  a  simple  performability  metric  we  call 
available PetaFLOPS, defined as 
available PetaFLOPS =  
application availability  x  peak PetaFLOPS 
Available PetaFLOPS is a measure of  the amount of 
computing  a  system  could  actually  perform  after 
accounting  for  failure  recovery.    As  an  example,  the 
system  configuration  options  from  Table  3  have  a 
available PetaFLOPS value of  0.75 (75% application 
availability  x  1  peak    PetaFLOPS)  for  the  original 
system  and  0.8  (86%  application  availability  x  0.93 
peak  PetaFLOPS) with the fifth memory channel.  In 
this  case  the  fifth  memory  channel  option  would  be 
the  higher  available 
preferred  because 
PetaFLOPS  even 
lower  peak 
PetaFLOPS.  From Table  4  the   available  PetaFLOPS 
for  a  system  with  a  RAM  checkpoint  is  0.71  (92% 
application  availability  x  0.77  peak    PetaFLOPS). 
Using this performability metric, this option would not 
be preferred over either of the others. 
it  has 
though 
it  has  a 
is 
The  available  PetaFLOPS  metric  could  be 
improved    by  using  a  better  measure  of  performance 
e.g., performance on a benchmark suite or some kind 
of a utility function rather than just peak PetaFLOPS.  
Nevertheless, the simple metric is useful for illustrating 
cost/benefit 
trade-offs  between  performance  and 
availability. 
Figures 2, 3, and 4 showed the trade-off between 
performance  and  availability  as  a  function  of  disk 
bandwidth.  Figures  5,  6,    and  7  show  the  available 
PetaFLOPS metric using the values from Figures 2-4. 
In  Figure  5,  as  disk  bandwidth 
increased,  
application  availability  initially  increases  faster  than 
performance  decreases.  Eventually,  however, 
the 
performance  decrease  outweighs 
the  availability 
increase, yielding the optimal value of 0.767  available 
PetaFLOPS at 1.2 TB/sec disk bandwidth. Figure 6 is 
similar  to  Figure  5,  with  an  optimal  value  of  0.775  
available  PetaFLOPS  at  1.15  TB/sec  disk  bandwidth.  
Figure 7 is interesting because the optimal value occurs 
when disk bandwidth is reduced rather than increased 
from its initial value. With a RAM checkpoint and an 
initial  value  of  1  TB/sec  disk  bandwidth, 
the 
availability 
increased  disk 
bandwidth has less impact on performability than the 
performance 
improvement  achieved  with  more 
compute power and less disk bandwidth. The optimal 
value  of  0.7    available  PetaFLOPS  occurs  at  0.89 
TB/sec disk bandwidth.  
improvement  due 
to 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 05:37:45 UTC from IEEE Xplore.  Restrictions apply. 
37th Annual IEEE/IFIP International Conference on Dependable Systems and Networks (DSN'07)0-7695-2855-4/07 $20.00  © 2007S
P
O
L
F
a
e
P
e
b
a
t
l
l
i
a
v
A
0.767
0.766
0.765
0.764
0.763
0.762
0.761
1
1.2
1.1
Disk Bandwidth (TB/sec)
1.3
1.4
1.5
Figure 5. Available PetaFLOPS as Function of 
Disk Bandwidth  
s
P
O
L
F
a
e
P
e
b
a
t
l
l
i
a
v
A
0.7755
0.7750
0.7745
0.7740
0.7735
0.7730
0.7725
0.7720
0.7715
0.7710
1
1.2
1.1
1.4
Disk Bandwidth (TB/sec)
1.3
1.5
Figure 6. Available PetaFLOPS as Function of 
Disk  Bandwidth  for  a  System  with  a  Fifth 
Memory Channel 
s
P
O
L
F
a
e
P
e
b
a
t
l
l
i
a
v
A
0.7005
0.7000
0.6995
0.6990
0.6985
0.6980
0.6975
0.6970
0.6965
0.6960
0.5
1
1.5
Disk Bandwidth (TB/sec)
Figure 7. Available PetaFLOPS as Function of 
Disk  Bandwidth  for  a  System  with  a  RAM 
Checkpoint 
7. Summary 
This  paper  describes  RAS  “by  the  yard”  -  the 
to 
architectural  flexibility 
purchase a range of RAS for different prices. It shows 
how  to  analyze  the  cost  vs.  RAS  vs.  performance 
that  allows  customers 
is 
trade-offs  for  a  system  defined  by  a  set  of  system 
balance ratios. In particular, it shows how to rebalance 
the  system  to  accommodate  RAS  features  when  the 
system  procurement  budget 
fixed.  Using  a 
performability  metric,  available  PetaFLOPS,  system 
optimization  is  demonstrated.  The  system  resulting 
from the optimization provides the best combination of 
RAS and performance for a fixed cost. 
and  productivity.  At 
The  performability  metric,  available  PetaFLOPS, 
described in this paper does not suitably capture all the 
system  RAS.  Treating 
subtleties  of  computer 
performability  as 
linear 
in  performance  and 
availability  does  not  account  for  all  the  benefits  of 
improved  RAS.  Better  RAS  means  decreased 
administration  and  maintenance  cost  and  higher  user 
satisfaction 
some  point 
supercomputer  users  and  administrators  can  stop 
waiting anxiously after submitting a job to see if it will 
finish.  They  can  do  useful  work  while  trusting  the 
supercomputer  to  complete  the  job,  even  in  the 
presence  of 
failures.  The  determination  of  a  
performability  metric  that  appropriately  accounts  for 
productivity is the subject of future research. 
Acknowledgments 
This material  is  based  on  work  supported  by  the 
US Defense Advanced Research Project Agency under 
contract No. NBCH3039002. 
References 
[1] The NITRD Program: FY2004 Interagency Coordination 
Report,  Second  Printing  -  October  2004,  pp31-32, 
http://www.hpcc.gov/pubs/20041020_icr.pdf.  See  also 
http://www.highproductivity.org.  
[2] M. Mueller, L. Alves, W. Fischer, M. Fair, and I Modi, 
“RAS Strategy for IBM S/390 G5 and G6”, IBM Journal 
for  Research  and  Development,  Vol  43,  No  5/6, 
Sept/Nov 1999, pp 875-887. 
[3] J.  Daly,  “A  Model  for  Predicting 
the  Optimum 
Checkpoint  Interval  for  Restart  Dumps”,    ICCS  2003, 
LNCS 2660 Proceedings 4 (2003), pp 3-12. 
[4] D.A.  Patterson,  P.M.  Chen,  G.  Gibson  and  R.H.  Katz, 
"Introduction  to  redundant  arrays  of  inexpensive  disks 
(RAID)",  Proc.  IEEE  COMPCON,  pp112-117,  Spring 
1989.  
[5] Z.  Zhang,  “Recovery  of  Memory  and  Process  in  DSM 
Issue  #  1”,  Hewlett-Packard  Labs 
2001. 
Systems:  HA 
Technical  Report  HPL-2001-76,  March, 
http://www.hpl.hp.com/techreports/2001/HPL-2001-
76.pdf 
[6] A.  Wood,  S.  Nathan,  T.  Tsai,  C.  Vick,  L.  Votta,  A. 
Vetteth,  “Multi-Tier  Checkpointing 
for  Peta-Scale 
Systems”,    In  International  Conference  on  Dependable 
Systems and Networking  DSN2005, Tokyo, Japan, June 
28 – July 1, 2005. 
[7] http://www.doc.ic.ac.uk/~nd/surprise_95/journal/vol4/eaj
2/report.html  
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 05:37:45 UTC from IEEE Xplore.  Restrictions apply. 
37th Annual IEEE/IFIP International Conference on Dependable Systems and Networks (DSN'07)0-7695-2855-4/07 $20.00  © 2007