37s
e
x
i
f
e
r
p
f
o
#
100K
10K
1K
100
10
1
o
t
t
n
e
s
s
e
t
y
b
%
101
10−2
10−5
10−8
0
0
100
200
300
400
# of member ASes the prefix is exported to
(a) Number of preﬁxes.
100
200
300
400
# of member ASes the prefix is exported to
(b) Trafﬁc share.
Figure 6: Preﬁxes advertised via the RS in relation to the num-
ber of member ASes they are exported to (L-IXP).
Export to % of peers
Preﬁxes
/24 Equivalent
Origin ASes
L-IXP
 90%
112.5K
68.0K
819K
1.97M
13.06K
11.1K
M-IXP
 90%
12.6K
337K
3.0K
171
7.4K
44
Table 4: Breakdown of advertised IPv4 address space.
the sets of reachable origin ASes for the mode to the left and mode
to the right are largely disjoint. For M-IXP (not shown), we note
that while the number of advertised preﬁxes and the correspond-
ing reachable address space is much smaller, the vast majority of
preﬁxes are exported to almost all peers.
To illustrate, of the 408 member ASes that connect to the L-
IXP RS, we ﬁnd that only some 24 limit the export of some or all
of their preﬁxes. However, 371 members export their preﬁxes to
more than 90% of the members participating in the RS. At M-IXP,
we see an even more peering-friendly environment with only very
few members applying strict export ﬁltering for a small number of
preﬁxes.
6.2 A preﬁx view of trafﬁc
To complement the connectivity-centric preﬁx-level, we are now
interested in how this corresponds to actual trafﬁc exchanged. By
matching all destination IP addresses of trafﬁc exchanged (irrespec-
tive of the link type) on the aggregate of RS preﬁxes, we see that
more than 80% of the overall trafﬁc at L-IXP (95% at M-IXP) is
sent towards RS preﬁxes. Hence, the preﬁxes advertised at RSes
give signiﬁcant insight into spatial aspects of its actual trafﬁc com-
ponents.
In view of Figure 6(a), we are especially curious about how much
trafﬁc is related to those preﬁxes that are exported to almost every
peer of the RS and to those that are exported to only a few se-
lected peers of the RS. We compute the percentage of trafﬁc that
each preﬁx at the RS is responsible for and plot in Figure 6(b) their
sum as a function of the number of the RS’s peers to which the RS
exported the preﬁx. While we observe a similar bi-modality as in
Figure 6(a), the openly-advertised preﬁxes are responsible for the
d
e
r
e
v
o
c
(cid:1)
S
R
d
e
r
e
v
o
c
(cid:1)
S
R
n
o
n
%
0
0
1
%
0
5
%
0
5
%
0
0
1
d
e
r
e
v
o
c
(cid:1)
S
R
d
e
r
e
v
o
c
(cid:1)
S
R
n
o
n
%
0
0
1
%
0
5
%
0
5
%
0
0
1
T1-1
NSP
C1
C2
EYE1
overall traffic to member
traffic on bi(cid:1)lateral link
0
100
200
Member AS
300
(a) L-IXP.
400
NSP
C2C1
EYE1
overall traffic to member
traffic on bi(cid:1)lateral link
0
20
40
Member AS
60
(b) M-IXP.
80
Figure 7: Trafﬁc to member: to RS preﬁxes (upper half in each
plot) / non-RS preﬁxes (lower half in each plot) with ML/BL
trafﬁc grey/black.
largest trafﬁc share. While the percentage of trafﬁc covered by the
very selectively-advertised preﬁxes (exported to less than 10% of
the member ASes using the RS) is about 9% of all trafﬁc, the more
openly-advertised preﬁxes (exported to more than 90% of the mem-
ber ASes using the RS) cover the destination addresses of almost
70% of all exchanged trafﬁc in terms of bytes.
6.3 A closer look at RS usage
To this point, we have mainly focused on the overall trafﬁc at
the IXPs and how it relates to the preﬁxes that are advertised via
the IXP’s RS. In particular, we have paid little attention to the per-
member AS policies that determine which ASes advertise their pre-
ﬁxes to which other ASes and over what kind of IXP peering. On
the one hand, a majority of members openly advertise their preﬁxes
via the RS, and these preﬁxes cover a majority of the IXP trafﬁc. At
the same time, we see the bulk of trafﬁc traversing BL links. Thus,
we would like to know if members advertise different preﬁxes to
the IXP’s RS and over their BL peering session, i.e., what is the
overlap in terms of routes advertised via both sessions.
The problem we face is that while we know the route set adver-
tised over ML peerings, we only have binary information about the
existence of BL peerings (i.e., we sampled BGP packets indicating
an active BL session). To deal with this issue, we rely on properties
of the actual trafﬁc exchanged between members. In particular, we
check for each IXP member if the trafﬁc it receives is fully cov-
ered by the preﬁxes advertised via the RS or if there is trafﬁc to a
superset of RS preﬁxes. More precisely, to obtain Figure 7(a), we
compute for each member AS of the L-IXP (x-axis) which fraction
of the trafﬁc sent to this member is (i) covered by the preﬁxes that
38this speciﬁc member advertises via the IXP’s RS (shown in upper
half of the plot) and (ii) not covered by the preﬁxes this member
advertises to the RS (see lower part of the plot). Before plotting
these values, we sort them in increasing order, starting with those
members for which none of their trafﬁc is covered by the RS pre-
ﬁxes. To minimize the impact of churn (new route advertisements,
route withdrawals), we use one week of trafﬁc, starting on the same
day for which we have the corresponding RS dump.
Figure 7(a) shows that for the majority of members (to the right
of x ≈ 120), all trafﬁc they receive is covered by the preﬁxes they
advertise via the RS; that is, there is no trafﬁc at the IXP destined to
any addresses outside these preﬁxes – for these members, the RS is
all there is! For another set of members (to the left of x ≈ 85), we
see that none of the trafﬁc they receive is covered by the RS preﬁxes
advertised by them. These members either do not connect to the RS
at all or do not advertise any preﬁxes via the RS. Finally, there is a
small group of member ASes in the middle (around x = 100) that
use preﬁxes that they advertise via the RS as well as preﬁxes that
they do not advertise via the RS. We discuss these cases in more
detail in Section 8.2. In terms of numbers, about 67% of all trafﬁc
is sent to members on the right part of this ﬁgure and roughly 26%
of the trafﬁc is destined to the members in the cluster on the left.
The members in the middle-section receive about 7% of all trafﬁc
– a signiﬁcant share given the small number of members in the
middle-section. For M-IXP, the members in the right part account
for more than 95% of the trafﬁc.
Figure 7 uses grey-shading to indicate which portion of a mem-
ber’s trafﬁc is associated with BL or ML peerings. For example,
the members that only peer bi-laterally are all black (the few ex-
ceptions are due to churn in route advertisements). Member ASes
that only peer multi-laterally are all grey. In addition, some mem-
bers are highlighted in terms of their main business type, and we
will return to this cast of players in Section 8 below. Together, Fig-
ures 7(a) and 7(b) show that while most member ASes use BL and
ML peerings, the majority of members only receive trafﬁc for those
preﬁxes that they also advertise via the RS. Thus, the need to ad-
vertise a different route set bi-laterally and multi-laterally can — in
most cases — be ruled out as the reason for two member ASes to
peer both bi-laterally and multi-laterally with each other at an IXP
(following up on the discussion in Section 5.1). Instead, the rea-
sons are more likely a question of control and trust (see discussion
in Section 9.3), but more mundane reasons such as the ease with
which ML peerings can be established and the lack of incentives to
remove/block preﬁx advertisements via the RS once a BL peering
has been established might also play a role.
Summary
Our IXP RSes provide access to a signiﬁcant portion of the Inter-
net’s routes and networks and most member ASes provide open
access to their RS-preﬁxes to all IXP RS participants. The routes
advertised openly via the RS are indeed routes to popular destina-
tions and they receive a majority of the trafﬁc at both IXPs. In turn,
the route set of an IXP RS is a good approximation of the popular
destinations as seen from this IXP. Individual member ASes typi-
cally exhibit a binary behavior: either all routes for which trafﬁc
is received are advertised via the RS or none at all. Many member
ASes that openly advertise their preﬁxes via the RS also establish
BL sessions to selected other members ASes - without advertising a
superset of preﬁxes on these sessions. This observation agrees with
publicly-stated peering policies from large content providers (see,
e.g., Google [5]), which state that BL peerings can be established
once a signiﬁcant amount of trafﬁc is exchanged. We also see cases
in which member ASes advertise a different route set on BL peer-
From
To
# (ML ⇒ BL)
Δ Trafﬁc
# (BL ⇒ ML)
Δ Trafﬁc
04-2011
12-2011
577
+86%
172
+20%
12-2011
06-2012
440
+230%
175
-77%
06-2012
12-2012
546
+82%
189
-65%
12-2012
06-2013
435
+204%
242
-42%
Table 5: Number of peerings changed from BL type to ML type
and vice versa and corresponding changes in trafﬁc volumes
carried over these peerings (L-IXP).
s
k
n
i
l
f
o
r
e
b
m
u
n
60K
50K
40K
30K
20K
10K
0
04−2011
traffic−carrying links
members total
bi−lateral links
500
400
300
200
s
r
e
b