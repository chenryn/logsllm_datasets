title:The RIPE NCC Internet Measurement Data Repository
author:Tony McGregor and
Shane Alcock and
Daniel Karrenberg
The RIPE NCC Internet Measurement
Data Repository
Tony McGregor1,2, Shane Alcock1, and Daniel Karrenberg2
1 University of Waikato, Hamilton, New Zealand
2 RIPE NCC, Amsterdam, The Netherlands
(tonym,salcock)@cs.waikato.ac.nz,
PI:EMAIL
Abstract. This paper describes datasets that will shortly be made avail-
able to the research community through an Internet measurement data
repository operated by the RIPE NCC. The datasets include measure-
ments collected by RIPE NCC projects, packet trace sets recovered from
the defunct NLANR website and datasets collected and currently hosted
by other research institutions. This work aims to raise awareness of these
datasets amongst researchers and to promote discussion about possible
changes to the data collection processes to ensure that the measurements
are relevant and useful to the community.
1 Introduction
A core requirement of any Internet measurement project is to acquire appro-
priate measurement data. However, privacy and security concerns often prevent
researchers from being able to collect the data themselves. It is very important,
therefore, that organisations that collect useful measurement data are able to
share it with the research community. Time that would otherwise be spent con-
ducting measurements can instead be dedicated to the analysis of existing data.
Shared access to measurement resources also promotes collaboration between
researchers and allows validation studies to be performed.
One common problem when sharing Internet measurement data is cultivating
awareness of data sets amongst the research community. At present, publicly
available data is typically scattered amongst a large number of hosting locations,
meaning that it can be diﬃcult for researchers to locate suitable datasets and
keep informed of new datasets as they are released. DatCat [1] has helped in this
regard, but it is not yet a comprehensive resource.
Maintenance of repositories hosted by research groups that depend on com-
petitive grants for funding is also a signiﬁcant concern. This was evidenced by
the recent disappearance of the NLANR website which had hosted many passive
trace sets, including the popular Auckland and Abilene traces. In this instance,
it was fortunate that the contents of the site were salvaged by the University of
Waikato with the support of CAIDA before they became inaccessible. However,
the data could easily have been lost to the research community permanently if
that intervention had not taken place.
A. Krishnamurthy and B. Plattner (Eds.): PAM 2010, LNCS 6032, pp. 111–120, 2010.
c(cid:2) Springer-Verlag Berlin Heidelberg 2010
112
T. McGregor, S. Alcock, and D. Karrenberg
As a Regional Internet Registry (RIR), the RIPE Network Coordination Cen-
tre (RIPE NCC) has the ability to collect a large quantity of measurement data
that would be extremely diﬃcult for researchers based in academic institutions
to acquire themselves. Some of the RIPE NCC data is already publicly avail-
able, but each RIPE NCC project shares data independently in a variety of
ways. Therefore, the RIPE NCC is developing a common and consistent plat-
form for hosting and sharing Internet measurement data. While the primary
goal is to streamline the mechanisms by which the RIPE NCC datasets can be
accessed, the data repository will be open to other collectors who wish to share
their measurement data with the research community. By grouping the datasets
into a single repository, ﬁnding and accessing appropriate measurement data
will be easier and awareness of the datasets that are available to researchers
will be increased. One advantage of the RIPE NCC founding and operating a
measurement data repository is that the continued existence of the repository
does not depend solely on research grants and the likelihood of the repository
disappearing is much smaller.
One of the most signiﬁcant issues that arises when sharing Internet measure-
ment data is that of anonymisation. Datasets that are being published for the
ﬁrst time will need to be anonymised in some fashion and agreements with users
must be developed in order to prevent inappropriate disclosure of personal and
commercial information. Such decisions will need to be made on a case-by-case
basis, as each dataset can contain diﬀerent types of sensitive information, e.g.
policies for protecting IP addresses will not be applicable to personal information
such as names and contact details.
Similarly, the structure and scope of a system for providing useful metadata
and annotation of the shared datasets is yet to be completely determined. We
expect that entries for datasets shared through the RIPE repository will be
added to existing sites such as DatCat [1] and WITS [2], as well as a site that is
developed and hosted as part of the RIPE repository itself. We hope to elicit ideas
and thoughts from the wider research community with regard to the information
that should be provided through such a system and the best format in which to
present it. The RIPE NCC also plans to identify all users of the repository and
keep contact with them during their research. It is hoped that this will encourage
researchers to engage with the data collectors about how the measurements can
be improved to be more useful and relevant.
The remainder of this paper describes the datasets that are currently under
consideration for sharing through the RIPE repository. For each dataset, a brief
overview of the dataset, its associated research project and the measurement
techniques employed is presented.
2 RIPE Datasets
2.1 K-root
The K-root service is an Internet root name service operated by the RIPE NCC
[3]. The server consists of seventeen nodes located both inside and outside of
The RIPE NCC Internet Measurement Data Repository
113
Europe. Six of the nodes are global instances and are announced with an anycast
23-bit preﬁx. The remaining eleven nodes are local instances announced with a
24-bit preﬁx using the Border Gateway Protocol (BGP) no-export community
tag [4]. Each node operates three distinct data collection systems.
Firstly, tcpdump [5] is used to capture passive traces of incoming traﬃc on
port 53, i.e. Domain Name Server (DNS) queries. The trace ﬁles are rotated
hourly and retained on disk for ﬁve days. Each node generates between 300
and 500 megabytes of compressed traces per hour. The total amount of data
produced daily through this system is approximately 300 gigabytes.
As part of the “Day in the Life of the Internet” (DITL) project organised
by CAIDA [6], traces for a 50 hour period have been fetched and archived each
year. The 2008 DITL traces contain 1.46 billion packets and are 600 gigabytes
in size [7]. At present, this data is hosted by DNS-OARC [8] and is available
under their terms and conditions. Meta-data about the traces, including query
rates per node and known issues that may aﬀect analysis such as clock skew, has
been documented publicly on DatCat, a measurement data catalogue [1].
Secondly, each node operates a DNS Statistics Collector (DSC) [9] that cap-
tures DNS traﬃc and summarises it into one minute bins. This data is used to
generate graphs that are shown on the K-root website. In addition, the raw DSC
output is transferred to RIPE NCC and archived indeﬁnitely. The archive ex-
tends back to the beginning of 2008. The amount of data collected is estimated
to be approximately 1 megabyte per day, with the entire 2008 dataset being less
than 200 MB. The raw data has also been exported to DNS-OARC where it can
be accessed by members.
Finally, Simple Network Management Protocol (SNMP) statistics are col-
lected from the last-hop router serving each K-root node. The SNMP queries
originate from RIPE NCC in Amsterdam. If connectivity to a queried router is
lost, data will not be collected and the resulting dataset will not be contiguous.
The statistics are summarised and exported into a round-robin database (RRD)
where they can be queried and analysed using Cacti [10]. The RRD is conﬁgured
to retain the SNMP data for a year.
2.2 Reverse DNS
RIPE NCC also hosts reverse DNS (rDNS) services for its delegated address
space. There are four servers providing rDNS and other associated services.
These servers process approximately 50 thousand queries per second which is
more than triple the load of the K-root server. Because of the high query rate,
it is not feasible to regularly collect passive traces directly on these servers.
Occasional tcpdump traces have been collected when there was a speciﬁc need,
such as during an attack, but the traces are short and irregular. However, if
there was suﬃcient need, it may be possible to collect a sample or summary of
the traﬃc using a dedicated collector on a mirrored switch port.
DSC is used on each of the rDNS servers and the raw data is kept indeﬁnitely.
At present, this data and the DSC graphs are only available internally at RIPE
114
T. McGregor, S. Alcock, and D. Karrenberg
NCC but could be made available to researchers if there was a need amongst
the research community.
2.3 AS112
RIPE NCC hosts an Autonomous System (AS) number 112 [11] reverse DNS and
dynamic DNS update server for the RFC 1918 private address space [12]. The
server processes about 2000 transactions per second. As anyone can announce
the AS112 preﬁx, there is no deﬁnitive list of AS112 servers. There are more
than 50 servers listed at [11] but there are almost certainly others.
A passive tcpdump trace is collected from the RIPE NCC AS112 server an-
nually and contributed to the DITL project [6]. More frequent passive captures
could be scheduled from this server if required. In addition, DSC data is col-
lected and used to generate graphs that are publicly available from the RIPE
NCC AS112 website [13].
2.4 RIS
The Routing Information Service (RIS) is a set of 16 route collectors running
quagga [14] that peer with approximately 600 BGP routers. Most of the collectors
are located within the RIPE region, but there are a few elsewhere including the
United States and South America. The routes learned are not used for routing
traﬃc but are instead collected and published to provide a resource for under-
standing Internet routing and diagnosing routing problems. Around 100 of the
peers provide a complete routing table and the others provide partial tables. The
BGP sessions include both IPv4 and IPv6.
The collectors export route updates every ﬁve minutes and perform a full
table dump every eight hours. It is normal that, at any one time, not all of the
peers are actively peered with a collector. There are many causes explaining
these peering gaps including conﬁguration changes, equipment failure, network
failure and human error. There are also some gaps in the dataset due to system
failures. To reduce the impact of these errors, an automated system detects
results that are much smaller than expected and informs an administrator who
will investigate the fault. Also, it should be noted that some Interior Gateway
Protocol (IGP) routes are leaked to RIS, meaning that there will be some single-
bit preﬁxes advertised in the data.
The data collected from the RIS is stored in the Multi-threaded Routing
Toolkit (MRT) format [15]. All data collected since the system started in 2000 is
retained indeﬁnitely. A month of data is approximately 22 gigabytes compressed
and the entire dataset is close to one terabyte. The last three months of data
is exported to a MySQL database which is also one terabyte in size. Quagga
logs and a selection of meta-data is supplied with the RIS data. The logs show
when peers have started or ended a BGP session and when timers expired, for
example.
The raw data is currently publicly available through the RIS website. This
is accessed by around 1000 distinct hosts each month, including the BGPmon
The RIPE NCC Internet Measurement Data Repository
115
[16] and Cyclops [17] websites which use the data to oﬀer route announcement
and bogon notiﬁcation services. In addition, RIPE NCC also publish weekly
statistical reports, have released a variety of tools for querying and visualising
the RIS data and have enabled Looking Glass queries to be sent directly to the
collectors. Users can also subscribe to a notiﬁcation service that will inform them
of interesting events, such as a change in the advertisement for a particular AS.
2.5 Hostcount
The Hostcount project [18] generates statistics from a monthly DNS scan of
approximately 100 top level domains (TLDs) within the RIPE region. The scan
is performed by conducting a zone transfer on the DNS tree rooted at each TLD.
During the walk, counts of A and PTR records are maintained for both forward
and reverse IPv4 addresses as well as forward AAAA (but not reverse) IPv6
addresses.
As public zone transfers are disabled by most DNS administrators, the scan
is not exhaustive. Some administrators permit the RIPE scan, but this is often
under the condition that only statistics, rather than raw data, are published.
The blocking of zone transfers has increased over time so the data from earlier
years is a better reﬂection of the total number of hosts at that time.
Currently, the statistics are published via the Hostcount website [18]. These
include the number of distinct hosts found at diﬀerent levels of the DNS tree for
each TLD, the number of zones discovered and the number of zone transfers that
were permitted and successful. The raw data from between 1990 and 2007 has
been archived and is currently in oﬀ-line storage. However, the present policy
is to discard the raw data after statistics have been extracted. This could be
reversed if there was suﬃcient need amongst the research community.
2.6 TTM
Test Traﬃc Measurements (TTM) is an active measurement system consisting
of 105 operational probes [19] that has been operating since 1999. The majority
of probes are located at ISPs and academic institutions within the RIPE region.
Other probe locations include the United States, South America, Asia, the Mid-
dle East, Australia and New Zealand. The clocks on the probes are synchronised
using GPS to give a 10 microsecond accuracy to real-time. With the exception
of some probes that are in private meshes, the TTM project conducts full mesh
measurements.
The probes regularly perform a series of active tests including a UDP one-
way delay test, traceroute, a multicast performance test (limited to sites that
have enabled multicast measurements), DNSMON measurements (see Section
2.7 below) and IPv6 pMTU discovery. In addition, the TTM probes support
conducting ad hoc measurements that are initiated by authorised users. The
ad hoc tests include a ping test and an HTTP page fetch. It is also possible
to develop and run arbitrary ad hoc tests. There are limits on the range of
destinations and the probing rate for ad hoc tests and the results are not released
116
T. McGregor, S. Alcock, and D. Karrenberg
to other sites or to the public. To maintain the integrity of the system, the
probes are managed solely by the RIPE NCC. However, it may be possible to
request special tests be performed using the TTM framework, provided there is
no signiﬁcant impact on the existing measurements.
At present, performance graphs are available via the TTM website to users
who accept an electronic license agreement. Bulk data is also published using
the CERN ROOT format [20] to researchers who sign a paper license agreement.
The total dataset is approximately 0.7 terabytes in size, with the dataset from
2008 being 110 gigabytes.
2.7 DNSMON
The DNS Monitor project (DNSMON) collects data regarding the reachability
and latency for some of the top levels of the DNS system [21]. The data is
collected using 60 TTM probes that are not located in private meshes. The root
domain, .com, .net, .org, e164.arpa and 24 country code TLDs (mostly from
within the RIPE region) are measured. Performance over both IPv4 and IPv6
is measured for probes that have IPv6 connectivity. Name Server Identiﬁer [22]
information returned in the DNS response is retained and may be used in the
future to generate per anycast instance graphs.
Summary statistics are available dating back to the commencement of the