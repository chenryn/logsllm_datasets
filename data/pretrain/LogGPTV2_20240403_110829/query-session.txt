query session
Applies to: Windows Server 2022, Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012
Displays information about sessions on a Remote Desktop Session Host server. The list includes information not only about active sessions but also about other sessions that the server runs.
Note
To find out what's new in the latest version, see What's New in Remote Desktop Services in Windows Server.
Syntax
query session [ |  | ] [/server:] [/mode] [/flow] [/connect] [/counter]
Parameters
Parameter
Description
Specifies the name of the session that you want to query.
Specifies the name of the user whose sessions you want to query.
Specifies the ID of the session that you want to query.
/server:
Identifies the rd Session Host server to query. The default is the current server.
/mode
Displays current line settings.
/flow
Displays current flow-control settings.
/connect
Displays current connect settings.
/counter
Displays current counters information, including the total number of sessions created, disconnected, and reconnected.
/?
Displays help at the command prompt.
Remarks
A user can always query the session to which the user is currently logged on. To query other sessions, the user must have special access permission.
If you don't specify a session using the , , or sessionID parameters, this query will display information about all active sessions in the system.
When query session returns information, a greater than (>) symbol is displayed before the current session. For example:
(>)
C:\>query session
    SESSIONNAME     USERNAME        ID STATE    TYPE    DEVICE
    console         Administrator1  0 active    wdcon
    >rdp-tcp#1      User1           1 active    wdtshare
    rdp-tcp                         2 listen    wdtshare
                                    4 idle
                                    5 idle
Where:
Examples
To display information about all active sessions on server Server2, type:
query session /server:Server2
To display information about active session modeM02, type:
query session modeM02