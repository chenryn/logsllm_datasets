  3. 在确认知识库中对应的正确实体对象之后，将该实体指称项链接到知识库中对应实体。
> **实体消歧**
> 是专门用于解决同名实体产生歧义问题的技术，通过实体消歧，就可以根据当前的语境，准确建立实体链接，实体消歧主要采用聚类法。其实也可以看做基于上下文的分类问题，类似于词性消歧和词义消歧。
>
> **共指消解**
> 技术主要用于解决多个指称对应同一实体对象的问题。在一次会话中，多个指称可能指向的是同一实体对象。利用共指消解技术，可以将这些指称项关联（合并）到正确的实体对象，由于该问题在信息检索和自然语言处理等领域具有特殊的重要性，吸引了大量的研究努力。共指消解还有一些其他的名字，比如对象对齐、实体匹配和实体同义。
### 4-2-2 知识合并
在前面的实体链接中，我们已经将实体链接到知识库中对应的正确实体对象那里去了，但需要注意的是，实体链接链接的是我们从半结构化数据和非结构化数据那里通过信息抽取提取出来的数据。  
那么除了半结构化数据和非结构化数据以外，我们还有个更方便的数据来源—— **结构化数据** ，如外部知识库和关系数据库。
对于这部分结构化数据的处理，就是我们 **知识合并** 的内容啦。  
一般来说知识合并主要分为两种——
  * 合并外部知识库
  * 合并关系数据库
**合并外部知识库：**  
需要处理两个层面的问题：
  * **数据层的融合** ，包括实体的指称、属性、关系以及所属类别等，主要的问题是如何避免实例以及关系的冲突问题，造成不必要的冗余
  * **模式层的融合** ，将新得到的本体融入已有的本体库中
一般有以下四个步骤：
  1. 获取知识
  2. 概念匹配
  3. 实体匹配
  4. 知识评估
**合并关系数据库：**  
在知识图谱构建过程中，一个重要的高质量知识来源是企业或者机构自己的关系数据库。为了将这些结构化的历史数据融入到知识图谱中，可以采用资源描述框架（RDF）作为数据模型。业界和学术界将这一数据转换过程形象地称为`RDB2RDF`，其实质就是将关系数据库的数据换成RDF的三元组数据。
## 4-3 知识加工
经过刚才那一系列步骤，我们终于走到了知识加工这一步了！  
感觉大家可能已经有点晕眩，那么让我们再来看一下知识图谱的这张架构图。  
在前面，我们已经通过 **信息抽取** ，从原始语料中提取出了实体、关系与属性等知识要素，并且经过 **知识融合**
，消除实体指称项与实体对象之间的歧义，得到一系列基本的事实表达。  
**然而事实本身并不等于知识。**  
要想最终获得结构化，网络化的知识体系，还需要经历 **知识加工** 的过程。  
知识加工主要包括3方面内容： **本体构建、知识推理和质量评估。**
### 4-3-1 本体构建
**本体（ontology）**
是对概念进行建模的规范，是描述客观世界的抽象模型，以形式化的方式对概念及其之间的联系给出明确定义。其最大特点在于它是共享的，本体中反映的知识是一种明确定义的共识。在知识图谱中，本体位于模式层，用于描述概念层次体系，是知识库中知识的概念模板。
> 本体是同一领域内的不同主体之间进行交流的语义基础。
本体可以采用人工编辑的方式手动构建（借助本体编辑软件），也可以以数据驱动的自动化方式构建本体。因为人工方式工作量巨大，且很难找到符合要求的专家，因此当前主流的全局本体库产品，都是从一些面向特定领域的现有本体库出发，采用自动构建技术逐步扩展得到的。  
自动化本体构建过程包含三个阶段——
  1. **实体并列关系相似度计算**
    * 用于考察任意给定的2个实体在多大程度上属于同一概念分类的指标测度，相似度越高，表明这2个实体越有可能属于同一语义类别。
    * > 如“中国”和“美国”作为国家名称的实体，具有较高的并列关系相似度；而“美国”和“手机”这两个实体，属于同一语义类别的可能性较低，因此具有较低的并列关系相似度
    * 主流计算方法：模式匹配法和分布相似度。
  2. **实体上下位关系抽取**
    * 用于确定概念之间的隶属（IsA）关系，这种关系也称为上下位关系。
    * > 如词组（导弹，武器）构成上下位关系，其中的“导弹”为下位词，“武器”为上位词。
    * 主要研究方法：①基于语法模式（如Hearst模式）抽取IsA实体对；②利用概率模型判定IsA关系和区分上下位词，通常会借助百科类网站提供的概念分类知识来帮助训练模型，以提高算法精度；③用跨语言知识链接的方法来构建本体库；
  3. **本体的生成**
    * 本体生成主要是对各层次得到的概念进行聚类，并对其进行语义类的标定，即为该类中的实体指定1个或多个公共上位词。
    * 主要研究方法：实体聚类方法
### 4-3-2 知识推理
**知识推理**
是指从知识库中已有的实体关系数据出发，进行计算机推理，建立实体间的新关联，从而拓展和丰富知识网络。知识推理是知识图谱构建的重要手段和关键环节，通过知识推理，能够从现有知识中发现新的知识。  
比如——
> 如果我们知道这两个信息(A,father,B),(B,father,C)，那么知识推理就可以帮助我们得到(A,grandfather,C)的事实。
当然知识推理的对象也并不局限于实体间的关系，也可以是实体的属性值，本体的概念层次关系等。  
比如——
> 推理属性值：已知某实体的生日属性，可以通过推理得到该实体的年龄属性；  
>  推理概念：已知(老虎，科，猫科)和（猫科，目，食肉目）可以推出（老虎，目，食肉目）
知识推理方法目前可以分为3大类，基于逻辑的推理、基于图的推理和基于深度学习的推理
  * **基于逻辑的推理方法** 主要采用抽象或具象的Horn子句建模，然后基于一阶逻辑谓词、描述逻辑以及规则进行推理。
  * **基于图的推理方法** 主要思想是将实体和关系映射到一个低维的embedding空间中，基于知识的语义表达进行推理建模。
  * **基于深度学习的推理方法** 主要考虑使用神经网络进行建模，并且往往会和上面两种推理方法结合起来进行建模。
如果想要具体了解知识推理过程的算法综述的话，可以详见我的这篇博文：[知识图谱中的关系推理，究竟是个什么玩意儿？](http://www.zuozuovera.cn/archives/491/)
### 4-3-3 质量评估
质量评估也是知识库构建技术的重要组成部分，这一部分存在的意义在于：可以对知识的可信度进行量化，通过舍弃置信度较低的知识来 **保障知识库的质量。**
好啦，在质量评估之后，你是不是想说，妈耶知识图谱终于构建完毕了。终于可以松一口气了。
emmmm好吧，实不相瞒，知识图谱这个宝宝目前虽然我们构建成功了。  
但是！你家宝宝不吃饭的啊！你家宝宝不学习的啊！
所以，让我们冷静一下，乖乖进入知识更新这一步……
## 4-4 知识更新
从逻辑上看，知识库的更新包括 **概念层的更新和数据层的更新**
  * **概念层的更新** 是指新增数据后获得了新的概念，需要自动将新的概念添加到知识库的概念层中。
  * **数据层的更新** 主要是新增或更新实体、关系、属性值，对数据层进行更新需要考虑数据源的可靠性、数据的一致性（是否存在矛盾或冗杂等问题）等可靠数据源，并选择在各数据源中出现频率高的事实和属性加入知识库。
知识图谱的内容更新有两种方式：
  * **全面更新：** 指以更新后的全部数据为输入，从零开始构建知识图谱。这种方法比较简单，但资源消耗大，而且需要耗费大量人力资源进行系统维护；
  * **增量更新：** 以当前新增数据为输入，向现有知识图谱中添加新增知识。这种方式资源消耗小，但目前仍需要大量人工干预（定义规则等），因此实施起来十分困难。
# 0x05 知识图谱的应用
好了！终于终于！知识图谱的构建方式我们就此结束了！  
为了让大家不立刻弃疗，让我们来看看知识图谱能做到什么，以及目前已经做到了什么~
  * 智能搜索——也是知识图谱最成熟的一个场景，自动给出搜索结果和相关人物  
  * 构建人物关系图，查看更多维度的数据  
  * 反欺诈：这主要有两部分原因，一个是反欺诈的数据来源多样，结构化和非结构化，二是不少欺诈案件会涉及到复杂的关系网络
  * 不一致性验证（类似交叉验证）——关系推理
  * 异常分析（运算量大，一般离线）
    * 静态分析：给定一个图形结构和某个时间点，从中去发现一些异常点（比如有异常的子图）。
    * 动态分析：分析其结构随时间变化的趋势。（假设短时间内知识图谱结构的变化不会太大，如果它的变化很大，就说明可能存在异常，需要进一步的关注。会涉及到时序分析技术和图相似性计算技术。）
  * 失联客户管理  
挖掘出更多的新联系人，提高催收的成功率。
  * ……
事实上，知识图谱的应用远不止于此。在我看来，这个世界就是一张巨大的知识图谱，是无数个实体关系对，这两年工业界对图数据库、知识图谱的巨大需求也同样反映出了这一点。  
就像这篇文章开头说的那句一样——
> “The world is not made of strings , but is made of things.”  
>  ——辛格博士，from Google.
那么后面会涉及到的跨语言知识图谱的构建、知识图谱的构建算法细节、实战、更新和维护等等内容，就让我慢慢更新起来吧~  
再次欢迎对这个方向感兴趣的童鞋们来交流~也欢迎同行指出这系列文章的不足！再次鞠躬笔芯感谢！
> 我的博客地址：[薇拉航线](http://www.zuozuovera.com)
附赠一张知识图谱的mindmap~  
（因为以前老是遇见盗图不写来处的人……所以打了丑丑的水印……请右键→在新标签中打开图片，查看高清大图 _(:з”∠)_ ）  
# References
[1](./img/5768061321645908241.png)
刘峤, 李杨, 段宏,等. 知识图谱构建技术综述[J]. 计算机研究与发展, 2016, 53(3):582-600.  
[2](./img/548929097253310917.png)
薇拉航线. 知识图谱中的关系推理，究竟是个什么玩意儿. 2017,03.
[3](./img/304752546762791837.png)
打怪的蚂蚁. CSDN. 知识图谱技术技巧.