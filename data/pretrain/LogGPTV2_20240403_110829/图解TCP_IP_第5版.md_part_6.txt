考虑语言层和通信设备层这两个分层的情况。
首先，以电话聊天为例，图1.17上半部分中的A与C两个人正在通过电话
（通信设备）用汉语（语言协议）聊天。我们详细分析一下这张图。
---
## Page 34
第1章网络基码知识
表面上看A跟C是在用汉语直接对话，但实际上A与C都是在通过电话机的
听筒听取声音，都在对着麦克风说话。想象一下如果有一个素未见过电话机的人
见到这个场景会怎么想？恐怕他一定会以为A和C在跟电话机聊天吧。
其实在这个图中，他们所用的语言协议作为麦克风的音额输人，在通信设备
层被转换为电波信号传送出去了。传送到对方的电话机后，又被通信设备层转换
为音频输出，传递给了对方。因此，A与C其实是利用电话机之间通过音频转化
声音的接口实现了对话。
汉语协议
语宜展与设备层商层模型
语
用汉语沟通
绝口
通信设备
电话机协设
仅在语言是变更
权语协议
广
电话协设
通常人们会觉得拿起电话与人通话，其实就好像是直接在跟对方对话，然面如果
仔细分析，在整个过程中实际上是电话机在做中介，这是不可否认的。如果A的电话
机所传出的电子信号并未能转换成与C的电话机相同额率的声音，那会如何？这就如
同A的电话机与C的电话机的协议互不相同。C听到声音后可能会觉得自己不是在跟
A面是在跟其他人说话。疑率若是相去甚远，C更有可能会爱得自已听到的不是汉语。
那么如果我们假定语言层相同而改变了通信设备层，情况会如何？例如，将
电话机改为无线电。通信设备层如果改用无线电，那么就得学会使用无线电的方
法。由于语言层仍然在使用汉语协议，因此使用者可以完全和以往打电话时一样
正常通话（上图左下部分）。
那么，如果通信设备层使用电话机，而语言层改为英语的话情况又会如何？
很显然，电话机本身不会受限于使用者使用的语言。因此，这种情况与使用汉语
通话时完全一样，依然可以实现通话（上图右下部分）。
到此为止，读者可能会觉得这些都是再简单不过的、理所当然的事。在此仅举出
---
## Page 35
1.5协议分层与OS参考模型
简单的例子，权作对协议分层及其便利性的一个解释，以加深对分层协议的理解。
1.5.3OSI参考模型
前面只是将协议简单地分为了两层进行了举例说明。然而，实际的分组通信协议
会相当复杂。0SI参考模型将这样一个复杂的协议整理并分为了易于理解的7个分层。
图1
OSI参考模型
OSI参考模型中定文
OSI参考模型与协议的
了每一层的“作用”
含义
7
应用层
6
表示层
的是“垫这”
定文每一层“作用”
5
会话层
4
传输层
具体内容为“规范”
“价议“是约定，其
3
网络层
2
数据链路层
我们日常所使用的就是遵
物理层
错各个协议其体“规惠“的
产品和通信手毅
OSI参考模型对通信中必要的功能做了很好的归纳。网络工程师在讨论协议
相关问题时也经常以OSI参考模型的分层为原型。对于计算机网络的初学者，学
习OSI参考模型可以说是通往成功的第一步。
不过，0SI参考模型终究是一个“模型”，它也只是对各层的作用做了一系列
粗略的界定，并没有对协议和接口进行详细的定义。它对学习和设计协议只能起
到一个引导的作用。因此，若想要了解协议的更多细节，还是有必要参考每个协
议本身的具体规范。
许多通信协议，都对应了0SI参考模型7个分层中的某层。通过这一点，可
以大致了解该协议在整个通信功能中的位置和作用。
虽然要仔细阅读相应的规范说明书才能了解协议的具体内容，但是对于其大
致的作用可以通过其所对应的OSI模型层来找到方向。这也是为什么在学习每一
种协议之前，首先要学习OSI模型。
OSI协议与OSI参考模型
本章所介绍的是OSI参考模型。然而人们也时常会听到OSI协议这个
词。OSI协议是为了让异构的计算机之间能够相互通信的、由ISO和ITU
T推进其标准化的一种网络体系结构。
OSI（参考模型）将通信功能划分为7个分层，称作0SI参考模型。0SI
协议以OSI参考模型为基础界定了每个阶层的协议和每个阶层之间接口相关
的标准。遵提0SI协议的产品叫OSI产品，而它们所遵循的通信则被称为OSI
通信。由于“OSI参考模型”与“OSI协议”指代意义不同，请勿混淆。
本书，通过对照OSI参考模型中通信功能的分类和TCP/IP的功能，
逐层深入展开每一个话题。虽然实际的TCP/IP分层模型与OSI还有这若
干区别，借助OSI参考模型可以有助于加深对TCP/IP的理解。
---
## Page 36
20
第1章网络基暗知识
71.5.4OSI参考模型中各个分层的作用
在此，以图1.19为例简单说明0SI参考模型中各个分层的主要作用。
119
分层名称
功
每层功能概览
OSI考模型各展分工
针对每个应用的协议
电子件<
电子邮件协议
应用层
针对特定应用的协议。
运程暨录
运程登录协议
文件输
文件代输物议
表示展
设备固有数据格式和网
路标准数据格式的转换。
接收不同表现形式的信息，如文字
流、图像、产音等
通信管理。负贵建立和断
何时建立连接，何时断开连接以及
开通信注接（数据抗动的
保持多久的连接！
会话层
管理传输层以下的分层。
逐辑通路）
连的同场的病，如计算机
管理两个节点”之间的数
是否有数据丢失？
传输层
（确保数据被可靠地传送
恶传箱。负责可事传输
到目标地址）。
经过哪个路由传退到目标地址？
网络层
地址管理与路由选择。
←10←
数据顿与比特流之间的转换
数据链路品
识别数据锁。
互连设备之间传送和
分段转发
1
以“0”、"1代表电压
0101→→→0101
的高低、灯光的闪灭。
比特流与电子信号之间的切换
物理层
界定连接器和网线的规格。
连接器与网线的规格
图应用层
为应用程序提供服务并规定应用程序中通信相关的细节。包括文件传输、电
子邮件、远程登录（虚拟终端）等协议。
---
## Page 37
1.5协议分层年OSI参考模型
21
表示层
将应用处理的信息转换为适合网络传输的格式，或将来自下一层的数据转换
为上层能够处理的格式。因此它主要负资数据格式的转换。
具体来说，就是将设备固有的数据格式转换为网络标准传输格式。不同设备
对同一比特流解释的结果可能会不同。因此，使它们保持一致是这一层的主要
作用。
国会话层
负责建立和断开通信连接（数据流动的逻辑通路），以及数据的分制等数据
传输相关的管理。
传输层
起着可靠传输的作用。只在通信双方节点上进行处理，而无需在路由器上
处理。
网络层
将数据传输到目标地址。目标地址可以是多个网络通过路由器连接而成的某
一个地址。因此这一层主要负责寻址和路由选择。
图数据链略层
负资物理层面上互连的、节点之间的通信传输。例如与1个以太网相连的2
个节点之间的通信。
将0、1序列划分为具有意义的数据额传送给对端（数据额的生成与接收）。
图物理层
负费0、1比特流（0、1序列）与电压的高低、光的闪灭之间的互换。
---
## Page 38
22
第1章网络基唱知识
1.6
OSI参考模型通信处理举例
下面举例说明7层网络模型的功能。假设使用主机”A的用户A要给使用主
机B的用户B发送一封电子邮件。
不过，严格来讲OSI与互联网的电子邮件的实际运行机制并非图例所示那么
简单。此例只是为了便于读者理解OSI参考模型而设计的。
1.6.17层通信
在7层0SI模型中，如何模块化通信传输？
分析方法可以借鉴图1.17语言与电话机组成的2层模型。发送方从第7层、
第6层到第1层由上至下按照顺序传输数据，而接收则从第1层、第2层到第7
层由下至上向每个上一级分层传输数据。每个分层上，在处理由上一层传过来的
数据恢复为原状。
E120
发选响
接收
通信与7个分层
主机A
数
主机B
应用层
应用层
表示辰
我示层
会话层
路由器
会话层
传输层
传输层
网路层
网络层
网络层
数据路层
数据链路局
数据链路层
物球层
71.6.2
会话层以上的处理
假定用户A要给用户B发送一封内容为“早上好”邮件。网络究竞会进行哪
些处理呢？我们由上至下进行分析。
---
## Page 39
1.6CSI参考型通信处理拳
图1.2
早上好
以电子邮件为例
好
的作用
应用层
22
发送端
接收姆
应用展的工作
主机A
主机B
应用层
目标地址为B
发件人为用户A
表示层
电子部件内容为早上好
表示
会话层
会话院
传输层
传验
数据路层
数据链路层
动理品
用户A在主机A上新建一封电子邮件，指定收件人为B，并输人邮件内容为
“早上好”。
收发邮件的这款软件从功能上可以分为两大类：一部分是与通信相关的，另
一部分是与通信无关的。例如用户A从键盘输人“早上好”的这一部分就属于与
能。因此，此处的“输人电子邮件内容后发送给目标地址”也就相当于应用层。
从用户输人完所要发送的内容并点击“发送”按钮的那一刻开始，就进人了
应用层协议的处理。该协议会在所要传运数据的前端附加一个首部（标签）信
数据传送给主机B以后由该主机上的收发邮件较件通过“收信”功能获取内容。
主机B上的应用收到由主机A发送过来的数据后，分析其数据首部与数据正文，
图不会因为断电图失的
并将邮件保存到硬盘或是其他非易失性存储器以备进行相应的处理。如果主机B
上收件人的邮箱空间已满无法接收新的邮件，则会返回一个错误给发送方。对这
类异常的处理也正属于应用层需要解决的问题。
①闪存是目前使用最广泛的非易失性存储器。—译者注
---
## Page 40
24
第1章月络基硅知识
主机A与主机B通过它们各自应用层之间的通信，最终实现邮件的存储。
表示层
231
发达响
接收
表示最的工作
主机A
生机B
应用层
应用层
将数据从主机特有的格式
表示层
转换为网络标准传输格式
表示层
会话层
V
会话
传输层
传输基
网络层
数据链路层
数据链路层