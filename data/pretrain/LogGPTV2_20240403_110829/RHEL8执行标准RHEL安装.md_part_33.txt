    提供比标准分区优越的性能，并可用来将多个磁盘的存储池化到一个大的虚拟设备中。请注意，RAID
    0 不提供冗余,且阵列中的一个设备失败会破坏整个阵列中的数据。RAID 0
    要求至少有两个磁盘。
[RAID 1]{.term}
:   冗余：
    镜像将所有数据从一个分区复制到一个或多个其他磁盘。阵列中的附加设备提供增大的冗余级别。RAID
    1 要求至少有两个磁盘。
[RAID 4]{.term}
:   错误检查：
    在多个磁盘间分配数据,并使用阵列中的一个磁盘存储奇偶校验信息,这样可在阵列中的任意磁盘失败时保护阵列。因为所有奇偶校验信息都存储在一个磁盘上,访问这个磁盘会为阵列的性能创建一个\"bottleneck\"。RAID
    4 要求至少有三个磁盘。
[RAID 5]{.term}
:   分布式错误检查： 在多个磁盘间分配数据和奇偶校验信息。RAID 5
    提供在多个磁盘间分布数据的性能优势,但没有 RAID 4
    的性能瓶颈,因为也在阵列间发布奇偶校验信息。RAID 5
    要求至少有三个磁盘。
[RAID 6]{.term}
:   冗余错误检查： RAID 6 与 RAID 5
    类似。不同之处是会保存两组奇偶校验数据，而不是一组。RAID 6
    要求至少有四个磁盘。
[RAID 10]{.term}
:   性能和冗余： RAID 10 是嵌套的或混合的
    RAID。它由在磁盘镜像组件中分布的数据组成。例如：一个由四个 RAID
    分区组成的 RAID 10 阵列由两对条状分区组成。RAID 10 要求至少有 四
    个磁盘。
:::
:::
::: section
::: titlepage
# []{#partitioning-reference_installing-RHEL.html#recommended-partitioning-scheme_partitioning-reference}推荐的分区方案 {.title}
:::
红帽建议您在以下挂载点创建单独的文件系统。但是，如果需要，您还可以在
`/usr`{.literal}、/`var 和 /`{.literal} `tmp`{.literal}
挂载点创建文件系统。
::: itemizedlist
-   `/boot`{.literal}
-   `/`{.literal} (root)
-   `/home`{.literal}
-   `swap`{.literal}
-   `/boot/efi`{.literal}
-   `PReP`{.literal}
:::
建议在裸机部署中使用此分区方案，它不适用于虚拟和云部署。
::: variablelist
[`/boot`{.literal} 分区 - 建议大小至少为 1 GiB]{.term}
:   挂载在 `/boot`{.literal}
    中的分区包含操作系统内核，它允许您的系统引导 Red Hat Enterprise
    Linux 8，以及在 bootstrap
    过程中使用的文件。鉴于多数固件的限制，推荐创建一个较小的分区来容纳这些文件。在大多数情况下，1
    GiB 引导分区足够了。和其它挂载点不同，不能使用 LVM 用于
    `/boot`{.literal} - `/boot`{.literal} 必须位于独立磁盘分区中。
    ::: {.warning style="margin-left: 0.5in; margin-right: 0.5in;"}
    ### 警告 {.title}
    通常情况下，`/boot`{.literal} 分区由安装程序自动创建。但是，如果
    `/`{.literal} (root)分区大于 2 TiB，且(U)EFI
    用于引导，您需要创建一个小于 2 TiB 的独立 `/boot`{.literal}
    分区才能成功引导机器。
    :::
    ::: {.note style="margin-left: 0.5in; margin-right: 0.5in;"}
    ### 注意 {.title}
    如果有一张 RAID 卡，请注意某些 BIOS 类型不支持从 RAID
    卡中引导。在这种情况下，`/boot`{.literal} 分区必须在 RAID
    阵列之外被创建，比如在一个单独的硬盘驱动器上创建。
    :::
[`root`{.literal} - 推荐的大小为 10 GiB]{.term}
:   这是\"`/`{.literal}\"或根目录的位置。root
    目录是目录结构的最顶层。默认情况下，所有文件都会写入此文件系统，除非在要写入的路径中挂载了不同的文件系统，例如
    `/boot 或`{.literal} `/home`{.literal}。
    虽然 5 GiB 根文件系统允许您最小安装，但建议至少分配 10
    GiB，以便可以尽可能安装您想要的软件包组。
    ::: {.important style="margin-left: 0.5in; margin-right: 0.5in;"}
    ### 重要 {.title}
    不要将 `/root`{.literal} 目录与 `/`{.literal}
    目录混淆。`/root`{.literal} 目录是 root
    用户的主目录。`/root`{.literal} 目录有时被称为 [*斜杠
    root*]{.emphasis}，将其与根目录区分开。
    :::
[`/home`{.literal} - 建议大小至少为 1 GiB]{.term}
:   要独立于系统数据存储用户数据，请为 `/home`{.literal}
    目录创建一个专用的文件系统。文件系统大小基于本地存储的数据大小、用户数量等。您可以在不删除用户数据文件的情况下，升级或重新安装
    Red Hat Enterprise Linux 8。如果您选择自动分区，建议至少有 55 GiB
    磁盘空间可用于安装，以确保 `/home`{.literal} 文件系统已创建。
[`swap`{.literal} 分区 - 建议大小至少为 1 GB]{.term}
:   swap 文件系统支持虚拟内存 ;
    当内存不足以贮存系统正在处理的数据时，数据就会被写入 swap
    文件系统。swap
    大小是系统内存负载的一个功能，而不是系统内存总量，因此不等于系统内存总量。务必要分析系统将要运行的应用程序以及那些应用程序将服务的负载，以确定系统内存工作负载。应用程序供应商和开发人员可提供支持。
    当系统没有 swap 空间时，内核会终止进程，因为系统 RAM
    内存已耗尽。配置太多 swap
    空间会导致存储设备被分配但处于闲置状态，因此资源使用不足。太多 swap
    空间也会隐藏内存泄漏的问题。swap 分区的最大大小以及其它附加信息可在
    `mkswap(8)`{.literal} 手册页中找到。
    下表根据系统中的 RAM 量以及需要足够的内存以便系统休眠提供推荐的 swap
    分区大小。如果您让安装程序自动为系统分区，则使用这个指南建立 swap
    分区大小。自动分区设置假设不使用休眠功能。swap
    分区的最大大小限制为硬盘总大小的 10%，且安装程序无法创建超过 1TiB
    的交换分区。要设置足够的交换空间以允许休眠，或者您想要将 swap
    分区大小设置为超过系统存储空间的 10% 或超过
    1TiB，您必须手动编辑分区布局。
:::
::: table
[]{#partitioning-reference_installing-RHEL.html#idm139752085961216}
**表 B.1. 推荐的系统 swap 空间**
::: table-contents
  系统中的 RAM 量   推荐的 swap 空间          如果允许休眠则推荐使用 swap 空间
  ----------------- ------------------------- ----------------------------------
  低于 2 GB         RAM 量的 2 倍             RAM 量的 3 倍
  2 GB - 8 GB       与 RAM 量相等             RAM 量的 2 倍
  8 GB - 64 GB      4 GB 到 RAM 量的 0.5 倍   RAM 量的 1.5 倍
  64 GB 以上        独立负载（至少 4GB）      不推荐休眠
:::
:::
::: variablelist
[`/boot/efi`{.literal} 分区 - 建议大小为 200 MiB]{.term}
:   基于 UEFI 的 AMD64、Intel 64 和 64 位 ARM 需要 200 MiB EFI
    系统分区。推荐的最小值是 200 MiB，默认大小为 600 MiB，最大为 600
    MiB。BIOS 系统不需要 EFI 系统分区。
:::
例如，一个有 2GB、8 GB 或 64 GB 系统 RAM 的系统。可根据所选 swap
空间和休眠支持自由裁量。如果您的系统资源允许此操作，增加 swap
空间可提高性能。
将 swap 空间分布到多个存储设备中 -
特别是对于那些使用高速驱动器、控制程序和接口的系统，还可提高 swap
空间性能。
很多系统的分区和卷超过了最低要求。根据具体系统需要选择分区。
::: {.note style="margin-left: 0.5in; margin-right: 0.5in;"}
### 注意 {.title}
::: itemizedlist
-   只为那些您需要的分区立即分配存储容量。您可以在任何时间分配空闲空间来满足需要。
-   如果您不确定如何配置分区，使用安装程序提供的自动默认分区布局。
:::
:::
::: variablelist
[`PReP`{.literal} boot 分区 - 建议大小为 4 到 8 MiB]{.term}
:   在 IBM Power System 服务器上安装 Red Hat Enterprise Linux
    时，硬盘的第一个分区应包含 `PReP`{.literal} 引导分区。它包含 GRUB2
    引导装载程序，可允许 IBM Power Systems 服务器引导 Red Hat Enterprise
    Linux。
    ::: {.note style="margin-left: 0.5in; margin-right: 0.5in;"}
    ### 注意 {.title}
    ::: itemizedlist
    -   PowerNV 系统上不需要 `PReP`{.literal} 引导分区。
    :::
    :::
:::
:::
::: section
::: titlepage
# []{#partitioning-reference_installing-RHEL.html#advice-on-partitions_partitioning-reference}分区建议 {.title}
:::
无法为每个系统分区最佳方法;
最理想的设置取决于您计划如何使用要安装的系统。然而,下面的提示可能帮助您找到最合适的布局以满足您的需要：
::: itemizedlist
-   首先创建具有特定要求的分区，例如，某个分区必须位于特定磁盘中。
-   考虑加密任何可能包含敏感数据的分区和卷。加密可防止未授权的人访问分区中的数据，即使他们可以访问物理存储设备。在大多数情况下，应该至少为包含用户数据的
    `/home`{.literal} 分区加密。
-   在某些情况下，为 /、/ `boot`{.literal} 和 `/`{.literal}
    `home`{.literal} 以外的目录创建独立挂载点可能很有用；例如，在运行
    `MySQL 数据库`{.literal} 的服务器上，为 `/var/lib/mysql`{.literal}
    具有一个单独的挂载点，允许您在重新安装期间保留数据库，而无需之后将其从备份中恢复。但是，使用不必要的挂载点使存储管理更为困难。
-   一些特殊的限制适用于某些可以放置分区布局的目录。值得注意的是，`/boot`{.literal}
    目录必须总是位于物理分区（不能在 LVM 卷中）。
-   如果您不熟悉 Linux，请考虑查看 [Linux
    文件系统层次结构标准](http://refspecs.linuxfoundation.org/FHS_2.3/fhs-2.3.html){.link}，以了解有关各种系统目录及其内容的信息。
-   每个内核大约需要 60MB（initrd 34MB、11MB vmlinuz 和 5MB System.map）
-   对于救援模式：100MB（initrd 76MB、11MB vmlinuz 和 5MB 系统映射）
-   当 `在系统中启用 kdump`{.literal} 时，它将需要大约 40MB（另一个使用
    33MB 的 initrd）
    `/boot`{.literal} 默认的 1 GB
    分区大小应该足以满足大多数常用用例的需要。但如果您计划保留多个内核发行本或者勘误内核，则建议您增大这个分区的大小。
-   `/var`{.literal} 目录保存了大量应用程序的内容，包括 Apache Web
    服务器，并供 YUM
    软件包管理器用于临时存储下载的软件包更新。请确定分区或者包含
    `/var`{.literal} 的卷至少有 3 GB。
-   `/usr`{.literal} 目录在典型的 Red Hat Enterprise Linux
    安装中持有大部分软件。因此，包含这个目录的分区或卷应该至少 5 GB
    用于最小安装，使用图形环境的安装需要至少 10 GB。
-   如果 `/usr`{.literal} 或 `/var`{.literal} 是独立于剩余 root
    卷的分区，引导过程会变得非常复杂，因为这些目录包含了对引导极为重要的组件。在某些情况下，比如这些目录位于
    iSCSI 驱动器或 FCoE
    位置，系统可能无法引导，或者在关机或重启时挂起并出现
    `Device is busy`{.literal} 出错信息。
    这个限制只适用于 `/usr`{.literal} 或
    `/var`{.literal}，不适用于下面的目录。例如： `/var/www`{.literal}
    的单独分区可以正常工作。
    ::: {.important style="margin-left: 0.5in; margin-right: 0.5in;"}
    ### 重要 {.title}
    有些安全策略要求将 `/usr 和 /`{.literal} `var`{.literal}
    分离，即使它使管理更加复杂。
    :::
-   考虑在 LVM
    卷组中保留一部分空间不分配。如果您的空间要求改变，但您不希望从其他卷中删除数据，这个未分配空间为您提供了灵活性。您也可以为分区选择
    `LVM Thin Provisioning`{.literal}
    设备类型，使其让卷自动处理未使用的空间。
-   XFS 文件系统的大小不能缩小 -
    如果您需要使这个文件系统的分区或卷变小，您必须备份数据，销毁文件系统，然后创建一个新的、较小的文件系统。因此，如果您计划稍后更改分区布局，则应使用
    ext4 文件系统。
-   如果您希望在安装完成后通过添加更多硬盘或增加虚拟机硬盘来扩展存储，请使用逻辑卷管理（LVM）。通过
    LVM，您可以在新驱动器上创建物理卷，然后将其分配给任何认为适合的卷组和逻辑卷 -
    例如，您可以轻松地扩展系统的 `/home`{.literal}
    （或者位于逻辑卷中的任何其他目录）。
-   取决于系统的固件、引导驱动器大小以及引导驱动器磁盘标签，可能需要创建
    BIOS 引导分区或者 EFI
    系统分区。请注意，如果您的系统[**不需要**]{.strong}，则无法在图形安装中创建
    BIOS 引导或 EFI 系统分区 - 在这种情况下，会在菜单中隐藏它们。
-   如果您需要在安装后更改存储配置，Red Hat Enterprise Linux
    程序库会提供几个不同的工具来帮助您完成此操作。如果您希望使用命令行工具，请尝试
    `system-storage-manager`{.literal}。
:::
:::
::: section
::: titlepage
# []{#partitioning-reference_installing-RHEL.html#raid-and-other-disk-devices-x86_partitioning-reference}支持的硬件存储 {.title}
:::
非常重要的一点是，了解如何配置存储技术以及如何在 Red Hat Enterprise
Linux 主要版本间的更改对存储技术的支持。
::: title
**硬件 RAID**
:::
您的计算机主板或者附加控制器卡提供的所有 RAID
功能都需要在开始安装进程前进行配置。在 Red Hat Enterprise Linux
中，每个活跃的 RAID 阵列都以一个驱动器的形式出现。
::: title
**软件 RAID**
:::
在超过一个硬盘的系统中，您可以使用 Red Hat Enterprise Linux 安装程序作为
一 个 Linux 软件 RAID 阵列操作多个驱动器。使用软件 RAID 阵列时，RAID
功能由操作系统而非专用硬件控制。
::: {.note style="margin-left: 0.5in; margin-right: 0.5in;"}
### 注意 {.title}
当预先存在的 RAID
阵列成员设备都是未分区的磁盘/驱动器时，安装程序会将阵列视为磁盘，且没有删除阵列的方法。
:::
::: title
**USB 磁盘**
:::
您可在安装后连接和配置外部 USB
存储。大多数设备可被内核识别，但有些设备可能无法识别。如果在安装过程中不需要配置这些磁盘，请断开连接以避免潜在问题。
::: title
**NVDIMM 设备**
:::
要使用非线性内存模块(NVDIMM)设备作为存储，必须满足以下条件：
::: itemizedlist
-   Red Hat Enterprise Linux 的版本为 7.6 或更高版本。
-   系统的构架是 Intel 64 或者 AMD64。
-   该设备被配置为扇区模式。Anaconda 可将 NVDIMM 设备重新配置为此模式。
-   该设备必须被 nd_pmem 驱动程序支持。
:::
在以下附加条件下可使用 NVDIMM 设备引导：
::: itemizedlist
-   系统使用 UEFI。
-   该设备必须使用系统中可用的固件或者 UEFI 驱动程序支持。UEFI
    驱动程序可以从设备本身的 ROM 选项加载。
-   该设备必须在命名空间下提供。