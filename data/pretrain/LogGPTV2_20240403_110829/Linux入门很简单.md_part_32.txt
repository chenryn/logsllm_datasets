原来，前一阵子他写的简历还真起到了些作用，目前正在一家小公司工作。3个月的试用期刚刚过去1个月，懒蜗牛就惦记起自己的第一笔工资了。但是他的工资卡的发卡行------××银行的网点很少，最近的一个也要坐8站汽车走3里路才到，于是懒蜗牛决定让狐狸妹妹上网查查得了。
【遭遇ActiveX】
说时迟，那时快，转眼间狐狸已经跑到了网上银行。懒蜗牛向上望去，只见页面上赫然写着4个大字，分上下两行。上面一行写着：卡号，下面一行写着：密码。然而奇怪的是，账号和密码后面，都没有输入框，效果如图5.1所示。
![alt](images/00196.jpeg){.calibre3}
图5.1 需要ActiveX的登录界面
懒蜗牛看了一时摸不着头脑，仔细一看，底下还有小字："为了您的账户安全，请安装××网上银行提供的××安全插件。"懒蜗牛顿时醒悟：哦，这银行的网页自然安全系数不一般，要装安全插件才能访问。好，那就装吧。可是当他按照网页上提供的链接地址把这个插件下载下来后就傻眼了------怎么是个EXE文件呢。
这个EXE文件是Windows系统下的可执行文件，这种软件只能在Windows下运行，在我们Linux系统下面可是无法工作的。首先语言就不通，我们Linux软件说的话他们Windows软件完全听不懂，反过来也是一样；再有就是他们EXE软件运行时需要调用各种库文件，也就是那些DLL文件，像图5.2里那样的一大堆，我们这里也没有。我们这里的库文件都是.o或者.so格式的，如图5.3里所示。所以EXE在我们这里是没法直接运行的。懒蜗牛也很迷茫，不知道该怎么办。不过有句话说得好：内事不明问老婆，外事不明问Google。
![alt](images/00197.jpeg){.calibre3}
图5.2 Windows系统下的库文件
![alt](images/00198.jpeg){.calibre3}
图5.3 Linux系统下的库文件
懒蜗牛这一问才知道，原来，这些国内的银行大都使用了不大安全的ActiveX技术来写网银的安全控件。然而这ActiveX技术是微软公司发明的，人家是自产自销，只有自己家的IE浏览器能够支持这种技术，其他的浏览器想都不用想了。
![alt](images/00011.jpeg){.tpzz}**提示：**[由于ActiveX的安全性风险，IE8浏览器已经默认禁用一些ActiveX的特性。]{.kai1}
狐狸妹妹的扩展和插件虽然不少，可是没有一个可以支持ActiveX的。只见狐狸急得直跺脚，可着急也没用，她也只能灰溜溜地回来汇报------我实在搞不定这个网站，你就是掐死我，我也没辙。
![alt](images/00011.jpeg){.tpzz}**提示：**[Windows版本的Firefox可以通过安装IETab扩展来支持使用ActiveX的网页。该扩展的本质就是临时调用IE来显示网页。因此IETab仅限于在Windows系统中使用。]{.kai1}
懒蜗牛同学只好陷入了无奈之中，难道为了查看一下工资卡里的余额，竟然还要重启一下去一趟Windows么？不行，还得上网搜搜，不可能只有我一个人碰到这个问题吧。于是，他又牵过狐狸妹妹去网络上搜索了。他这边搜着，工作间里的软件们也没闲着，大家七嘴八舌地议论起来......
【狐狸的委屈】
"今儿个丢人丢大了！
"想我大名鼎鼎的火狐狸，什么样儿的网站没去过？什么样儿的网页没显示过？什么Konqueror、Epiphany、lynx，除了那个自以为是的挪威妞儿Opera以外，哪个浏览器见了我不得叫声大姐？你说是在线视频还是Flash游戏，是IPv6还是数字证书，咱哪点儿含糊过？再说有我一身的插件和扩展，兵来将挡水来土掩，就算有什么功能我本身不支持的，也可以靠装插件和扩展来应付。可是今天，就今天，竟然就有网站我拿它没辙！
![alt](images/00011.jpeg){.tpzz}**提示：**[Firefox默认开启对IPv6的支持，如果你的网络不支持IPv6，可以关闭它以提高响应速度。]{.kai1}
[在Firefox地址栏输入about:config并回车，在出现的页面中找到network.dns.disableIPv6键值，将其设为true即可，如图5.4所示。]{.kai1}
![alt](images/00199.jpeg){.calibre3}
图5.4 关闭Firefox的IPv6支持
"这破网站是一个银行网站，要说那好多国际知名的银行咱也见过，人家啥软键盘啊、证书啊、HTTPS加密也都用得挺好的，也没见用什么ActiveX，也挺安全的。怎么就这破网站非得用ActiveX呢？我其他的都会，就不会这ActiveX，您说这不是存心揭我短儿么。
![alt](images/00011.jpeg){.tpzz}**提示：**[软键盘，指输入机密信息时网页上提供的键位不规则的虚拟键盘，如图5.5所示。通过软键盘来输入，避免了本地恶意软件劫持按键记录。]{.kai1}
![alt](images/00200.jpeg){.calibre3}
图5.5 软键盘
"再说了，不会也不怪我啊，我倒是想会呢，谁教我啊。人家微软才不会把这个教给我呢，藏着掖着都来不及。结果可好，到了那网站，账号密码倒显示得挺大，可就是没有输入框儿，这不是白搭么！用户问我应该往哪输入，我哪儿知道啊！你说这不是让我在用户面前丢脸么。好在人家用户也理解这不是我的错，就算叫什么Chrome、Opera他们来也一样是白费，只有那倒霉的IE才行。可人家是微软的嫡系软件啊，怎么可能有我们Linux系统的版本。
![alt](images/00011.jpeg){.tpzz}**提法：**[HTTPS即Hypertext Transfer
Protocol over Secure Socket
Layer，是一种通过加密实现的安全的HTTP连接。]{.kai1}
"这不，用户没辙了，赶紧去上网查查到底有什么方法能够解决问题，我们这工作间里面也吵吵起来了。我们头儿让牛哥（也就是超级牛力啦）去查查，看有什么软件能够解决这个网络银行的问题。牛哥就掏出他的小本本一页一页地翻着。咱也别闲着啦，赶紧去网上看看有什么扩展能凑合解决问题吧。结果一查还真有，有个wmlbrowser扩展，就在我们官方网站下载，就是图5.6所示的这个。
![alt](images/00201.jpeg){.calibre3}
图5.6 wmlbrowser插件
"这个扩展本身跟银行没有什么关系，不过有了它我就可以支持WAP网页了，就是手机的那种网站。其实我本来也可以浏览一些WAP网页的，不过支持得不是很全面，有了这个扩展就好了。现在好多网络银行都可以用手机登录进行操作，手机上总没那个该死的ActiveX了吧。我就伪装成一部手机中的战斗机，去登录那个银行的WAP站点，这不就可以解决用户的问题了？我把这个发现赶紧告诉了我们头儿，他听了也挺美，可这时候窜过来一只Chrome说：'不行的，我刚刚查了，那个××银行根本没有开通WAP网页。'嘿，这小子倒是真快。这回可好，刚有的一点希望稀里哗啦地就被浇灭了。
![alt](images/00011.jpeg){.tpzz}**提示：**[WAP即Wireless Application
Protocol，是一种向移动终端提供互联网内容和先进增值服务的全球统一的开放式协议标准，是简化了的无线Internet协议。]{.kai1}
"这时候牛哥也没精打采地把他那小本本一合，无奈地说：'唉，本apt有超级牛力，可也没有网银软件啊。'心有灵犀说：'懒蜗牛应该去问问他的同事们，看他们都发了没发就知道了。'Chrome反驳道：'那也顶多是解一时之困，这网上银行的问题还是没有解决嘛。'这帮人也是瞎出主意，要登录银行网页就得通过我啊，我都没辙，你们能有什么辙？他们这一吵吵，结果给吵吵醒了一位，揉着眼睛问：'What
happened？'唉，毕大师这鸟语我们是听不懂啊，好在有毕翻译，赶紧问我们：'怎么了？出什么事了？'牛哥过来解释：'有个银行......'刚说到银行俩字，忽然牛哥眼里光芒四射，过去抱着毕翻译的肩膀不住地一边摇晃一边喊：'对呀，就是你了！就是你了！'"
5.1.2 安装Wine
【超级牛力的顿悟】
"本apt今天算是没超级牛力了，甭说牛力，羊力都没有了。工作间里上上下下里里外外，都让一个叫做××的银行网站给难住了。
"要说这个网页也好，ActiveX也好，这些是狐狸的专业，我是不懂啊。我就知道，这EXE在我们Linux这一亩三分地上是运行不了的。你一个银行既然不装插件登录不了，可又只提供了EXE格式的插件，那狐狸肯定没辙，除非那银行提供狐狸的插件。我也查遍了整个软件源，没找到跟银行，跟ActiveX有关的软件。
"正在一筹莫展呢，忽然看见毕大师和毕翻译出来，在这电光石火般的一瞬间，我的思维忽然像被苹果砸了的牛顿一样清醒透彻------毕大师，他不就是Windows的软件么，他不就正在我们Linux系统下干活么，他不就因为有个毕翻译么，这个IE也照样可以有！
"根据拥有超级牛力的本apt的资料来看，这个毕翻译，他出身好像是个卖酒的，可能主要是卖红酒吧，所以大家给他起名叫做Wine，图5.7所示是他的头像。关于Wine的故事，有很多的传说，我就说说其中的一个吧！
![alt](images/00202.jpeg){.calibre3}
图5.7 Wine的Logo
"相传，Windows世界和Linux世界向来泾渭分明，老死不相往来。两个世界的软件语言不同，理念也完全不一样，因此要想沟通极其困难。然而Linux世界的人们毕竟还是开放和包容一些，终于在Linux界出现了一位隐士，改变了这一切。
"他表面上是个卖酒的酒保，却不甘于终身伴杜康为伍，一世听觥筹交错。他用自己的精力去学习Windows世界的语言；了解Windows世界的文化；感受Windows世界的气息。最终学会了与Windows世界的软件交流的手段。于是，很多的Windows世界的软件被Wine带到了Linux这片天地，为Linux界带来了别样的色彩。不过，Wine并不能把Linux界的软件带去Windows界，即便是他自己也无法过去，不知道这是不是因为Windows界太过排外的缘故。总之，Wine最终成为Linux系统中，所有Windows软件可靠的翻译，通过Wine，Windows的软件才得以进入Linux的世界。
![alt](images/00011.jpeg){.tpzz}**提示：**[目前并没有在Windows环境中模拟运行Linux程序的软件。这是由于Linux系统中的软件多数为开源软件，因此可以很容易地移植到Windows平台。例如Firefox、OpenOffice、Pidgin等Linux下的常用软件都有Windows版本。]{.kai1}
"那么毕大师的翻译又是怎么回事呢？那是Google公司看中了Wine的这种特殊的能力。本来他们想创造出一个能够在Linux世界里崭露头角的Picasa，但看到了Wine之后就改变了原来的想法，直接把Windows的Picasa叫来，再找到Wine，让他们互相了解，磨合，取长补短，最终使Wine成为毕大师的专职翻译，也就是我们的毕翻译。
"当然，关于Wine的故事，都是听前辈们说的，我没有亲眼见过，也没有机会见。今天这一听说银行的事，我光顾着找跟银行有关的软件了，直到看见毕翻译才忽然想起来Wine这个传奇人物。既然有了Wine就能跟Windows的软件交流，那就能找来那个IE工作了吧？这不就把问题解决了么！我正要向我们头儿汇报，用户已经传来命令：sudo
apt-get install wine。哈哈，果然是英雄所见略同啊！"
内存里边，大家正一筹莫展呢，懒蜗牛同学忽然发出命令，要超级牛力装一个叫做Wine的软件。我问超级牛力这个Wine是干什么的，超级牛力说，Wine这个家伙正是可以让IE运行在我们的系统中的软件，还说他刚刚想到这一点还没来得及跟我说，用户就先知先觉地让他去装Wine了。估计这小子又是在吹牛，哪有那么巧的事情。不过既然Wine可以解决问题，一颗纠结的心总算是放下了不少。
![alt](images/00011.jpeg){.tpzz}**提示：**[软件源中的Wine可能不是最新版，如果想安装最新版，可以去这个地址下载deb包并安装：http://wine.budgetdedicated.com/archive/index.html。]{.kai1}
5.1.3 模拟运行的IE
转眼间Wine已经来到了我们的硬盘里，先是自我介绍了一下，说自己叫做红酒，承蒙朋友们抬举，都叫他红酒大师，不过自己也没什么太强的本事之类的客套话。之后问了问情况，我把目前的问题跟他说了，任务很简单，就是把IE叫醒去干活。红酒点点头，拎起自己的工具包就走进隔壁Windows
7的屋里去了。
【催眠大师】
只见红酒大师先掏出好几块屏风，在IE周围挡了个严实，他说要用高科技全息投影设备在屏风上投出IE平时工作的虚拟环境，让IE觉得自己还是在Windows
7的领导下干活。解释了半天，反正我们也不大懂。过了一会儿，听见他在屏风内，用低沉浑厚的声音向IE念着："现在，计算机正在启动，我是Windows，我是Windows，你要开始工作，你要慢慢醒来，你要慢慢醒来开始工作。醒来......醒来......"
随着他一步一步的引诱，屏风里渐渐有了动静，好像是IE迷迷糊糊地起床了。又过了一会儿，只见屏风打开一块，IE慢慢地向工作间走去。
他走路有点不稳，一边走，红酒还一边跟在他左右不停地引导："你像每天一样起床，正走向内存里，开始你的工作......"然后扭头问我："让他去哪里？"看得快入迷的我这才反应过来，还没交代清楚具体的任务呢，赶紧说："哦，让他去那个××网上银行。"红酒继续对IE说："现在......Windows让你去XX银行的网站......去吧......去吧......像每天一样......"这个时候，基本上所有人都看呆了，没想到这IE竟然就这么被红酒指使着干活去了，这哥们儿还真是个大师啊，至少也算是催眠大师。
![alt](images/00011.jpeg){.tpzz}**提示：**[由于Wine是模拟Windows的运行环境，因此Windows软件在运行时效率会有明显下降。]{.kai1}
看着IE干活的样子还真是很搞笑，估计是因为他不是在清醒状态，所以基本上跟梦游似的在那里干活。虽然没出什么错，可动作慢了不少，懒蜗牛也只能姑且忍受一下。我们还照了张IE在我们这里干活时的照片来留念，如图5.8所示。
![alt](images/00203.jpeg){.calibre3}
图5.8 用Wine运行的IE 6.0
狐狸妹妹在一边好像是想偷偷跟他学学ActiveX，可是他嘴里念叨着叽哩咕噜的东西我们都听不懂，只有红酒大师能懂他的话。我要发送命令，只能先告诉红酒，再由红酒翻译给IE。
IE要用什么东西，什么DLL文件啊，配置文件啊，红酒都赶快给他找来，原版的找不来就自己做一个差不多的，放的位置都跟IE在Windows
7那里干活时的位置差不多，让IE以为自己还是在Windows 7那里干活。
等了好半天，IE总算把事办完了，懒蜗牛赶紧把IE关了，还是叫过狐狸妹妹来去浏览其他的网页。也难怪，要是我，我也得关，看着IE晕晕乎乎干活我就难受，哪有狐狸看着顺眼。
![alt](images/00011.jpeg){.tpzz}**提示：**[配置Wine并安装IE的过程相对繁琐，可以使用IEs4Linux脚本进行自动安装。项目地址：http://www.tatanka.com.br/ies4linux/page/Main_Page。下载IEs4Linux脚本后在终端运行该脚本，即出现如图5.9所示的界面。]{.kai1}
![alt](images/00204.jpeg){.calibre3}