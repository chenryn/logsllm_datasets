4.1 ICMP ping ﬂoods and handoffs
In the ﬁrst set of experiments we used ICMP ping ﬂooding
(in which Echo Request packets are continuously sent on
the wireless link). The pings were sent from the wireless
client to the AP(s), i.e., just across the wireless link and
back. To stress-test MultiScan, we performed an experi-
ment in which 10 handoffs were performed by the Multi-
Scan module in a one-minute period. Figure 3 illustrates
the typical RTTs of a stream of ping packets. The vertical
lines in the ﬁgure indicate the times when the handoffs were
initiated. From the ﬁgure it is apparent that ping trafﬁc ex-
perienced no perceptible latency increase due to MultiScan
handoffs. A careful observer will notice that the degree of
density of data points in the ﬁgure varies, depending on
which card is used. This is not an artifact of MultiScan,
but rather, our hardware (one interface is actually slightly
slower than the other, either due to hardware or heat issues).
To illustrate that the ping trafﬁc experienced no percep-
tible handoff latency, we zoom in on one representative
handoff instant in Figure 4. We next compare performance
of MultiScan handoff to that of a typical vanilla single in-
terface handoff in Figure 5. The ﬁgure shows a 640 ms
outage period (x-axis range is same as in Figure 4). The
rate of trafﬁc in ping ﬂoods is fairly high, especially when
the it goes across the wireless link only. Given the imper-
ceptible change in performance for wireless handoffs when
using MultiScan we feel conﬁdent that MultiScan will efﬁ-
ciently handle any trafﬁc volume in the wireless link.
4.2 Skype and handoffs
The experiments in this section consisted of transmitting a
one-minute audio ﬁle of a person talking through Skype.
We ﬁrst established the baseline performance over a wire-
less link without handoffs, and then compared the results
with data obtained with MultiScan and vanilla handoffs.
We have considered two metrics: end-to-end latencies and
audio quality. However, the latency data was no different
than the data presented in the previous section. This is not
surprising since Skype’s natural inter-packet latency (15 to
30 ms) was higher than that of ping ﬂoods (about 10 ms).
Therefore, here we will focus only on audio quality.
Informal qualitative analysis revealed that MultiScan
handoffs had no perceivable impact on audio quality, while
single-card vanilla handoffs resulted in long periods (about
half a second) of dead air. To quantify the differences in the
audio we used cross-correlation of the captured samples.
Cross-correlation of two real functions f (t) and g(t) is
302
Internet Measurement Conference 2005
USENIX Association
l
e
p
m
a
s
l
i
a
n
g
i
r
o
e
h
t
h
t
i
w
s
e
u
a
v
l
n
o
i
t
l
a
e
r
r
o
c
-
s
s
o
r
C
 800
 600
 400
 200
 0
-200
-400
-600
-800
-1000
-1200
-2000
MultiScan
Best case
l
e
p
m
a
s
l
i
a
n
g
i
r
o
e
h
t
h
t
i
w
e
u
a
v
l
n
o
i
t
l
a
e
r
r
o
c
-
s
s
o
r
C
-1500
-1000
0
-500
500
Relative Signal Shift
1000
1500
2000
 100
 50
 0
-50
-100
-250
MultiScan
Best case
l
e
p
m
a
s
l
i
a
n
g
i
r
o
e
h
t
h
t
i
w
e
u
a
v
l
n
o
i
t
l
a
e
r
r
o
c
-
s
s
o
r
C
-125
0
125
250
Relative Signal Shift
 100
 50
 0
-50
-100
-250
Best case
Single interface
-125
0
125
250
Relative Signal Shift
Figure 6: Cross-correlations of Multi-
Scan and best case scenario.
Figure 7: MultiScan and best case (Fig-
ure 6 close-up).
Figure 8: Cross-correlations of single-
interface handoff and best case scenario.
deﬁned as: f ? g = R f (τ )g(t + τ )dτ . The cross cor-
relation function captures the similarity between the two
functions. In particular, two signals that are similar should
have a high cross-correlation near the origin and low cross-
correlation elsewhere.
In Figures 6 through 8, a line represents the cross-
correlation between the original audio signal (at the sender)
and the received audio signal across the wireless link.
The best case in all of the experiments reﬂects the situa-
tion where no handoffs are performed and the audio signal
is transmitted uninterrupted over the wireless link. Note
that even in the best case, Skype performance is not perfect,
just adequate for normal voice communication. In Figure 6
we show the cross-correlation function of two different sce-
narios — one in which there were 10 MultiScan handoffs
over a minute interval, and another is the best case just de-
scribed. The two plots are virtually indistinguishable from
each other. The maxima of the two cross-correlations are
788.3870 and 737.2810 for the best case and MultiScan, re-
spectively. These differences are very minor and are com-
parable to the differences between two independent best
case (no handoffs) transmissions. Figure 7 is a close-up
of Figure 6. The differences in cross-correlation values are
small and the two samples sounded identical.
In contrast to Figure 7, consider Figure 8, where we
show the performance difference between the best case
(single interface, no handoffs) and a case where the client
performed a single one-interface vanilla handoff. The two
plots are signiﬁcantly different and the loss in audio quality
was perceivable to the human ear.
5 Related Work
Researchers have used multiple radios to improve perfor-
mance in a number of different applications. Some ex-
amples include: reducing energy consumption of wireless
clients, e.g., Wake-on-Wireless [4], improving web perfor-
mance in wide-area (cellular) networks, e.g.,work by Ro-
driguez et al. [9], and in constructing wireless mesh net-
works, e.g., commercial ventures like MeshDynamics, and
research efforts in Microsoft Research, Seattle [5] and In-
tel Research, Cambridge [10]. In particular, Bahl et al. [6]
make an explicit case for multi-radio wireless systems for
improved performance.
In this paper we take another step in advocating multi-
radio wireless node design and demonstrate its applicabil-
ity in WLANs to improve VoIP application performance.
To the best of our knowledge, there has been no work in
eliminating handoff latency in WLANs using multiple ra-
dios and demonstrating advantages of such technique for
VoIP applications.
Prior research has focused on improving handoff per-
formance using a single radio interface. Shin et al. [3]
in the Neighbor Graphs work explore techniques to im-
prove handoffs by implementing a topology inferencing
technique in both clients and APs. Ramani et al. [2] de-
ﬁned a technique called SyncScan that requires appropriate
time synchronization between APs and clients. SyncScan
also requires synchronization of Beacon broadcast times
for different APs and periodic channel hopping of clients.
Both schemes seek to reduce the time spent in the chan-
nel scanning phase when a handoff occurs. By changing
the APs and the clients, and by increasing coordination be-
tween them, Neighbor Graphs achieves handoff latency of
about 40 ms, and SyncScan handoffs take 2-3 ms (but the
technique requires periodic suspension of communication
that could last more than 10 ms, depending on hardware).
Unlike the above schemes that attempt to optimize per-
formance with a single radio but require coordination and
cooperation between APs and clients, MultiScan relies only
on multiple radios in wireless clients to completely elimi-
nate handoff latencies. Our proposed scheme requires no
interaction or participation from APs, and hence can be de-
ployed in arbitrary wireless environments, including envi-
ronments where neighboring APs are not administered or
controlled by a single entity. Such scenarios are becoming
commonplace in many major cities around the world in the
form of community wireless networks [14]. Table 1 sum-
marizes the differences between the approaches discussed
above and MultiScan.
Two other works are related to our efforts insofar as they
apply to multi-interface nodes in general. Adya et al. [8]
deﬁned a protocol called MUP, which allows multi-radio
USENIX Association
Internet Measurement Conference 2005  
303
Wireless
interfaces
Neighbor Graphs
SyncScan
MultiScan
1
1
2
Handoff
latency
∼ 40 ms
2-3* ms
0 ms
Infrastructure
modiﬁcation
yes
yes
no
* SyncScan requires routine suspension of communication that could last
for more than 10 ms, depending on hardware.
Table 1: Comparison of different handoff mechanisms.
wireless nodes in a mesh network to potentially establish
two separate wireless links between a pair of nodes. How-
ever, the authors advocate the use of only one of these links
at a given time based on channel conditions. This work
was primarily focused on improving efﬁciency of wireless
mesh networks.
Finally, work by Chandra et al. [13] demonstrated how a
node could stay connected to multiple wireless networks si-
multaneously. Their approach is based on having the radio
interface change channels unbeknownst to the applications.
In the context of MultiScan, this work applies to the poten-
tial functionality of the secondary interface.
6 Conclusion
It is not surprising that network nodes with multiple net-
work interfaces can experience better performance than
nodes with a single network interface. Many hard-to-
overcome limitations of 802.11 wireless networking (such
as short communication range, vulnerability to environ-
mental noise, and relatively low throughput in many prac-
tical scenarios), coupled with the ever-increasing demand
from the application side for bandwidth and low latency
make it natural that multi-interface options be explored.
While adding a radio interface leads to a modest increase in
cost, this and other works demonstrate that signiﬁcant per-
formance improvements can be achieved. Therefore, we
would like to reinforce the need for increased availability
of multi-radio interfaces in wireless devices.
Overall, we make the following observations and contri-
butions in this work:
• We recommend the use of two radio interfaces in elim-
inating handoff latencies in WLANs. Using two ra-
dio interfaces in wireless devices is already feasible
and will be more so with the increased availability of
multi-interface and multi-band wireless cards.
• Our multi-radio approach does not use the radios in
tandem for data transfer, as ensuing interference be-
tween the interfaces themselves (even when they are
on independent wireless channels) can lead to de-
graded performance.
Instead, one of the interfaces
should be used as the primary data interface while
the other serves as a secondary interface (periodically)
monitoring the environment for handoff opportunities.
The functionality of the two interfaces are swapped
when necessary.
• Utilization of multiple radios does not create any ad-
ditional load on wireless spectrum resources. This is
because at any time one wireless interface acts as the
secondary and does not impose any data load on the
wireless medium. This also implies that the proposed
mechanism is not hindered as more clients start oper-
ating in the multi-radio mode.
• We have developed MultiScan as an open source
Linux module that will shortly be available for pub-
lic downloads from:
http://www.cs.wisc.edu/∼suman/projects/multiscan/.
As a followup to this work, we intend to explore how
MultiScan should be extended to handle the newly de-
ﬁned Inter Access Point Protocol (IAPP) [12]. IAPP is a
new mechanism proposed by the IEEE 802.11f working
group to better handle roaming clients (currently IAPP is
not widely implemented or available). IAPP, among other
requirements, enforces unique AP association and hence
timing of AP switch operation currently implemented in
MultiScan needs to be appropriately optimized.
References
[1]
IEEE, 802.11: Wireless LAN Medium Access Control (MAC) and Physical
Layer (PHY) Speciﬁcations 1999.
[2]
I. Ramani and S. Savage, ”SyncScan: Practical Fast Handoff for 802.11 In-
frastructure Networks” Proceedings of the IEEE Infocom, March 2005.
[3] M. Shin, A. Mishra and W.A. Arbaugh, ”Improving the Latency of 802.11
Hand-offs using Neighbor Graphs” Mobisys 2004 June, 2004, Boston, USA.
[4] E. Shih, P. Bahl, and M. Sinclair ”Wake on wireless: an event driven energy
saving strategy for battery operated devices” ACM Mobicom, Oct 2002.
[5] R. Draves, J. Padhye, and B. Zill ”Routing in multi-radio, multi-hop wireless
mesh networks” ACM Mobicom, Oct 2004.
[6] P. Bahl, A. Adya, J. Padhye, A. Walman ”Reconsidering wireless systems with
multiple radios” ACM Sigcomm Computer Communications Review, Vol. 34,
No. 5, Oct 2004.
[7] A. Mishra, M. Shin, and W. Arbaugh, ”An Empirical Analysis of the IEEE
802.11 MAC layer Handoff Process” ACM Computer Communications Re-
view, vol. 33, no. 2, Apr. 2003.
[8] A. Adya, P. Bahl, J. Padhye, A. Wolman, L. Zhou ”A Multi-Radio Uniﬁcation
Protocol for IEEE 802.11Wireless Networks” BROADNETS 2004, San Jose,
CA, October 2004
[9] P. Rodriguez, R. Chakravorty, J. Chesterﬁeld, I. Pratt, and S. Banerjee ”MAR:
A Commuter Router Infrastructure for the Mobile Internet” ACM Mobisys,
June 2004.
[10] J. Robinson, K. Papagiannaki, C. Diot, X. Guo, and L. Krishnamurthy ”Exper-
imenting with a Multi-Radio Mesh Networking Testbed” Workshop on Wire-
less Network Measurements (WiNMee), April, 2005.
[11] F. K. Al-Bin-Ali, P. Boddupalli, and N. Davies, ”An Inter-Access Point Hand-
off mechanism for Wireless Network Management: The Sabino System” in
Proceedings of the International Conference on Wireless Networks , Las Ve-
gas, NV, June 2003
[12]
IEEE, 802.11f: IEEE Recommended Practice for Multi-Vendor Access Point
Interoperability via an Inter-Access Point Protocol Across Distribution Sys-
tems Supporting IEEE 802.11 Operation IEEE Standard 802.11f, 2003.
[13] R. Chandra, P. Bahl, and P. Bahl. MultiNet: ”Connecting to Multiple IEEE
802.11 Networks Using a Single Wireless Card” IEEE Infocom 2004.
[14] Public Wireless Community Network List
http://www.toaster.net/wireless/community.html
[15] Skype Technologies, http://skype.com/
304
Internet Measurement Conference 2005
USENIX Association