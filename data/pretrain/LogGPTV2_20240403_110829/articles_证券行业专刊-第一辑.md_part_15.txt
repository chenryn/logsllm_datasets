缺少业务维度，难以根据实际情况承担管理功能； 通常处于企业网络的边界处，面临着最高的被攻击风险。梳理攻击
面资产是最基础的资产管理，能够帮助企业做好攻击面防御，避免
2)…资产数据依赖人工处理：多种维度之间缺乏有效互通，安全工 出现不设防点。
作将会过多依赖人力，同时效率和质量也存在不可考因素；
掌握攻击面资产的内部关系。现在应用系统结构复杂，系统结构中
3)…资产关联度不敏感：由于不同资产对接的不同的安全设备，而 还包含网络设备、安全设备、反向代理、地址转换等多种复杂的情
且安全设备的管理端各自独立，数据之间无法形成有效关联， 况。因此，为了更好的掌握可能的攻击数据流向，在完成攻击面资
对于外部威胁的感知能力被降低，最终导致安全纵深体系的反 产梳理后，应进一步梳理攻击面资产内部的访问关系，以及攻击面
应被钝化； 资产与内部系统的访问关系。
4)…安全设备种类多：安全设备布置在网络多处节点上，比如防火墙、 掌握资产的漏洞。攻击是利用系统漏洞的行为，因此掌握资产漏洞
WAF、堡垒机、流量探针、主机agent等，相互之间分属不同厂商， 及时进行修复和缓解，将会使企业网络安全保持在较好的水平。而
日志格式均不相同。导致设备日志种类丰富，存在多种格式和 且，如今的漏洞利用更倾向于利用中间件或开源组件的N-Day或
含义，不具备天然的可用性； 0-Day漏洞，外部的安全设备很难进行有效防御，还是需要中间
件或开源组件及时进行升级修复来阻止漏洞利用。
5)…资产频繁变更：敏捷，容器等快速部署能力的大规模应用使得
资产信息的变化速度大幅增加，相较之下传统的资产信息整理 掌握第三方IP信息。子公司、机构、银行间、证联网等。很多第
速度呈现加速落后的趋势。 三方IP都不是常规的保留IP，会被安全设备识别为互联网（比如
美国、非洲）IP，进而伴随一些不规范的应用访问产生误报。为避
2. 资产管理的目标 免误报干扰，日常应维护好第三方IP信息。
资产管理是常态化安全运营的基础，使企业和组织做到知己知彼中 实现常态化数据更新。根据证券行业运维管理的特点，针对资产信
的知己这个部分。对于安全运营来说，资产管理的最终目标是将资 息的变更发现时间应当尽量缩短。通过合理和人工更新和自动化更
产数据化并以有效安全数据的形式呈现给安全设备，进而构建全面 新，数据更新频率可以降低到周以下甚至天级别更新。
104 105
行
业 面向安全运营的证券公司信息资产管理实践
专
刊
3. 资产信息的种类
… … 系统… 应用系统… 子系统或模块… 应用负责人… 运维负责人
… IP… 互联网IP… 服务器IP… 虚拟IP… 服务器类型
… 服务端口… 互联网端口… 真实访问端口… …
… 域名… … … …
… 数据流关系
… … … …
4. 资产信息的获取途径
资产信息获取的途径主要分为外部获取和内部获取两部分。
4.1外部获取
外部获取主要通过外部服务方式，一般通过互联网资产测绘服务和
安全众测/攻防演练服务发现。
资产信息的种类很多，我们大致把资产信息分为基础数据和高阶数
据。 互联网资产测绘。互联网资产测绘服务是近年出现新型安全服务，
一般为SAAS服务或人工服务。从攻击者视角，帮助企业发现和
1、基础数据：指CMDB数据，包括IP、用途、位置、所属系 梳理互联网暴露的资产服务以及第三方泄露的敏感信息，全面展现
统、负责人。基础数据以设备为视角，是最基础的资产信息，按照 客户当前互联网资产暴露的风险点，为企业收敛风险提供专业解决
ITIL的规范进行管理。主要通过设备上线下线流程产生和变更数 建议。相对于传统的漏洞扫描等资产发现方式，互联网资产测绘通
据，并由运维人员定期检查维护。 过多维度信息进行资产发现，拓宽了资产发现的范围，能够最大程
度发现未知资产。除了应用系统资产，互联网资产测绘一般还会发
2、高阶数据：和基础数据关联的应用、中间件、数据库、网络策 现文档、源代码、公众号、小程序、API等软资产。而这些软资产
略及其他。高阶以应用系统为视角将资产串联起来，对于理解流向 无论对于大型攻防演练还是日常安全运营的风险管理，都是很有价
和行为的合理性更有帮助。应用层和中间件漏洞也可以更快的关联 值的。
到项目组，加速整改。
安全众测/攻防演练服务。安全众测和攻防演练是检验企业安全综
下表列出了整个资产管理中面向安全运营部分的资产信息和分类。 合能力的有效手段。能够检验企业的防御能力、威胁发现能力和响
106 107
行
业 面向安全运营的证券公司信息资产管理实践
专
刊
应处置能力。由于参与众测和演练的人员思路在以往的安全众测和 检查的方式提供服务器主机信息，包括各类中间件、开源组件的部
攻防演练中，白帽子和演练团队也经常能够发现我司的遗漏的资 署情况。由于是本地方式，能够更准确的提供中间件、开源组件的
产，包括一些子公司资产、测试资产和弱关联资产。所以这是的资 版本和安装路径。目前0-Day安全漏洞中，占据主要位置的均为
产发现的非常好的补充手段。 中间件、开源组件的漏洞，且版本相关度较高。外部扫描的方式判
断易出现偏差，采用主机监测方式能够有效掌握这些组件的信息，
4.2内部获取 是常态化管理的高效手段。一般可通过API获取。
资产信息的内部获取途径就更丰富了，对于日常安全运营，应尽可
能多的获取内部的资产信息。内部资产信息包括： 5. 资产信息的整合
CMDB：最基础的资产信息，一般包括IP、用途、位置、所属系统、
负责人。基础CMDB以设备为视角。一般可通过API获取。 5.1建立安全资产管理平台
为实现面向安全运营的常态化资产管理需求，在资产信息数据都基
配置文件：配置文件是准确获得资产攻击面和资产间关联关系的主 本完备的情况下，首选需要做的是建立面向安全运营的安全资产管
要信息来源。包括DNS、防火墙、负载均衡、WAF、Nginx等配 理平台。
置文件都是关键信息来源。对于这些配置文件，如果能够实现统一
或集中管理，将大大提升配置信息获取的效率。 不同于传统的实物资产台账、CMDB等资产管理系统，我们认为
安全资产管理平台侧重点主要集中在攻击面管理、攻击面之后的资
漏洞扫描：内部漏洞扫描的结果能够准确反映内部服务器及其服务 产关联关系的管理以及应用组件分布情况的管理。这是根据以往攻
端口真实的存活情况。能够及时发现新增和失效的资产，对于相对 防实战演练和各类安全事件应急处置中的心得体会得出的。
静态的CMDB数据，是非常好的补充。为了提高发现的及时性，
建议将扫描周期设置为按周进行。一般可通过API获取。 安全资产管理平台将原先局部化、碎片化的信息进行整合，实现全
局化的资产和关联化的资产视图。并通过系统化的方式摆脱电子表
流量分析：流量分析设备不但能够发现流量中的攻击和失陷行为， 格等陈旧的管理方式，实现一站式快速查找和信息钻取。在安全事
还能够发现和验证信息资产之间的访问关系。部分流量分析系统还 件应急处置中为安全团队和其他人员提供有力的信息支撑。
能够梳理出访问中的域名、服务类型、中间件类型、客户端类型等
有价值的信息。整合流量分析的数据将进一步完善资产信息。 5.2梳理资产信息之间的关系
前面已经提到，面向安全运营的资产管理与传统最大的不同是需要
主机监测：主机监测软件如HIDS、防病毒、zabbix等，通过本地 梳理资产之间的关联关系。资产之间不再是孤立的个体，而且是按
108 109
行
业 面向安全运营的证券公司信息资产管理实践
专
刊
照一定的访问关系和数据流连接在一起的整体。
梳理资产关系的意义是能够在安全事件发生的第一时间，快速的
定位事件关联的相关资产，如互联网域名、互联网IP、负载均衡
VIP、反向代理服务器、应用服务器、应用端口。定位资产信息可 简单，通过CMDB系统、各类网络安全系统、漏洞扫描系统等提
以明确调查范围，配合流量分析可制定行为基线和误报加白。 供的API或其他数据读取方式进行自动化获取。获取后完成进行
数据归一化处理后入库。
5.3数据录入和更新
资产管理平台的数据录入和更新方式，包括资产间关系的梳理，最 自动化关联则相对复杂，需要确定关联模型和关键数据，再通过自
常见的方式是人工梳理。通过上线流程提供的信息，整合第四节所 动化手段通过抓取关键数据进行关联和展示。但由于实际网络环境
描述的配置文件、流程分析、主机监测等信息，按系统梳理出资产 和系统环境比想象中的更为复杂，有时自动化关联的结果和实际会
之间的关系。 出现偏差，需要每个企业在实践中根据自身情况不断完善关联模
型，才能够获得较好的关联结果。
根据实际需求和平衡工作量，梳理出的资产关系可以是弱关系，如
把前述的一个应用系统内的域名、互联网IP、负载均衡VIP、服 6. 未来的展望
务器IP、应用端口等整合在一起，但不画出详细的数据流。如右图：
… 安全态势在不断变化，企业对于安全运营的理解也在不断变化，但
弱关系可以满足一般的安全运营需求，当具备一定的自动化信息处 是常态化运营是未来的趋势。未来，应用系统的建设、迭代、更新
理能力后，可以细化完善资产关联，通过迭代不断完善安全资产管 速度不断加快，安全漏洞的处置时间要求不断缩短，给安全资产管
理平台的能力。 理提出了更高的要求。
资产管理的自动化分为自动化获取和自动化关联。自动化获取相对 我们相信，今后自动化以及智能化手段在安全资产管理的领域将扮
110 111
行
业
专
刊
演重要的角色。自动发现、智能关联不但能够实现更快、更准确的
管理目标，还能够解放安全运维人员，使安全人员将精力投入到更
需要人工研判的工作中。当然，自动化及智能化也需要定制切实的
目标，每个企业根据自身情况量身定制，人依然是安全运营中的核 新安全形势下证券行业应用防护新思路