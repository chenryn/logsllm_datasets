### 1. 当前资产管理面临的问题

1. **缺乏业务维度**：当前的资产管理难以根据实际业务需求进行有效的管理。通常，这些资产位于企业网络的边界处，面临着最高的被攻击风险。因此，梳理攻击面资产是最基础的资产管理，有助于企业做好攻击面防御，避免出现不设防点。

2. **依赖人工处理**：多种维度之间缺乏有效互通，导致安全工作过度依赖人力。这不仅降低了效率，还影响了工作的质量和可靠性。

3. **资产关联度低**：不同资产对接不同的安全设备，而这些设备的管理端各自独立，数据之间无法形成有效关联。这种情况下，对外部威胁的感知能力降低，最终导致整个安全纵深体系的反应变得迟钝。

4. **安全设备种类繁多**：安全设备分布在多个网络节点上，例如防火墙、WAF（Web应用防火墙）、堡垒机、流量探针和主机代理等。这些设备分属不同厂商，日志格式各不相同，增加了管理和分析的复杂性。

5. **资产频繁变更**：敏捷开发和容器化技术的应用使得资产信息的变化速度大幅增加，传统的资产信息整理方法已无法跟上这种变化速度。

### 2. 资产管理的目标

资产管理是常态化安全运营的基础，使企业和组织能够更好地了解自身的资产状况。对于安全运营来说，资产管理的最终目标是将资产数据化，并以有效安全数据的形式呈现给安全设备，从而构建全面的安全防护体系。在证券行业，运维管理的特点要求对资产信息的变更发现时间应尽量缩短。通过合理的人工更新和自动化更新，可以将数据更新频率降低到周甚至天级别。

### 3. 资产信息的种类

- **系统**：包括应用系统、子系统或模块。
- **负责人**：应用负责人和运维负责人。
- **IP地址**：互联网IP、服务器IP、虚拟IP。
- **服务端口**：互联网端口、真实访问端口。
- **域名**：与系统相关的域名。
- **数据流关系**：描述资产之间的数据流向。

### 4. 资产信息的获取途径

#### 4.1 外部获取
- **互联网资产测绘**：通过SAAS服务或人工服务，从攻击者视角帮助企业发现和梳理互联网暴露的资产服务及第三方泄露的敏感信息。
- **安全众测/攻防演练**：通过白帽子和演练团队发现遗漏的资产，包括子公司资产、测试资产和弱关联资产。

#### 4.2 内部获取
- **CMDB**：最基础的资产信息，包括IP、用途、位置、所属系统和负责人。
- **配置文件**：包括DNS、防火墙、负载均衡、WAF、Nginx等配置文件，提供关键信息来源。
- **漏洞扫描**：内部漏洞扫描结果反映服务器及其服务端口的真实存活情况，及时发现新增和失效的资产。
- **流量分析**：流量分析设备不仅能够发现攻击和失陷行为，还能验证信息资产之间的访问关系。
- **主机监测**：通过HIDS、防病毒软件、zabbix等本地监测工具，获取中间件和开源组件的版本和安装路径。

### 5. 资产信息的整合

#### 5.1 建立安全资产管理平台
为了实现面向安全运营的常态化资产管理需求，需要建立一个面向安全运营的安全资产管理平台。该平台不同于传统的实物资产台账或CMDB，侧重点在于攻击面管理、资产关联关系管理以及应用组件分布情况管理。

#### 5.2 梳理资产信息之间的关系
面向安全运营的资产管理需要梳理资产之间的关联关系，使其不再是孤立的个体，而是按照一定的访问关系和数据流连接在一起的整体。这有助于在安全事件发生时快速定位相关资产，明确调查范围，并配合流量分析制定行为基线和误报加白。

#### 5.3 数据录入和更新
资产管理平台的数据录入和更新方式包括人工梳理和自动化手段。通过上线流程提供的信息，整合配置文件、流程分析、主机监测等信息，按系统梳理出资产之间的关系。自动化关联则相对复杂，需要确定关联模型和关键数据，通过抓取关键数据进行关联和展示。实际网络环境比想象中更复杂，需要企业在实践中不断完善关联模型。

### 6. 未来的展望

随着安全态势的不断变化，企业对安全运营的理解也在不断深化。未来，应用系统的建设、迭代和更新速度将不断加快，安全漏洞的处置时间要求也将不断缩短，这对安全资产管理提出了更高的要求。我们相信，自动化和智能化手段将在安全资产管理领域扮演重要角色，不仅能够实现更快、更准确的管理目标，还能解放安全运维人员，使其将精力投入到更需要人工研判的工作中。每个企业应根据自身情况量身定制自动化及智能化方案，人依然是安全运营中的核心。