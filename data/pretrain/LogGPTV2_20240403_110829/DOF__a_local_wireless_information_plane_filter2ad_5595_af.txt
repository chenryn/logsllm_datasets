WiFiZigBeeMicrowaveDOF-SR TxDOF-SR RxAoAFrequency2.4 GHz2.5 GHz0°180°FrequencyAoAFrequency2.4 GHz2.5 GHz0°180°PSD 239antenna weights are then applied to the streams on the corresponding
OFDM subcarriers.
For policy P3, the DOF-SR radio will time share the medium with
the co-existing WiFi radio, i.e. it will transmit on that spectrum half
the time. The key parameter here is the time period over which the
smart radio transmits and stays idle. If the time period is too short,
then the WiFi radio won’t have enough time to accurately estimate
the bitrate and correctly utilize its channel time. In our current imple-
mentation we use a conservative period of 200ms, since that gives an
802.11 WiFi radio enough time to estimate the channel and get nearly
80 packets through even at the lowest bitrate. Hence, DOF-SR uses
the WiFi spectrum for 200ms and then stays away for 200ms. During
the time it uses that spectrum, DOF-SR uses spatial multiplexing on
all 4 antennas.
Packet Transmission: Before transmitting the encoded packet, a
DOF-SR sender transmits a short control packet over a predeﬁned
narrowband control channel to the receiver to synchronize state. This
packet contains information on what subcarriers will be used, and the
antenna weights on the used subcarriers. Then the sender transmits
the packet and waits for an ACK, and repeats the above process.
Caveats: The goal of our current DOF-SR implementation is to show
the potential beneﬁts of a smart PHY that leverages the detection ca-
pabilities of DOF. Hence, it does not tackle MAC layer issues such
as ﬁnding a usable control channel, rate adaptation on the used spec-
trum and contention among multiple DOF-SR nodes. The full design
and implementation of a smart radio network stack based on DOF is
beyond the scope of this paper and is part of our future work. How-
ever, the current prototype sufﬁces to evaluate the relative beneﬁts of
DOF-SR over the compared state of the art approaches.
Compared Approach: We compare with Jello [28], which is a smart
radio design that estimates unused spectrum using edge detection and
allocates them among multiple radios for communication. We imple-
ment Jello also on our wideband radio. To make a fair comparison,
since DOF-SR weaves non-contiguous spectrum together, we modify
Jello to also weave non-contiguous spectrum using OFDM. Further,
since we are using spatial multiplexing with 4 antennas, we let Jello
also use the same spatial multiplexing capabilities with 4 MIMO an-
tennas. Thus the only differences between DOF-SR and Jello in our
current implementations are that DOF-SR uses DOF as its detector,
while Jello uses edge detection. Second, DOF-SR with policies P1
and P2 uses microwave oven and WiFi occupied spectrum appropri-
ately, while Jello does not since edge detection cannot detect that it is
a microwave oven or WiFi occupied spectrum. Clearly, both these ex-
tra capabilities for DOF-SR come because of the DOF detector, and
therefore help us quantify the beneﬁts of using DOF.
Metric: We cannot use throughput as the metric to compare the two
designs, since a naive scheme that uses no detection will always
achieve the maximum throughput, but harmfully interfere with all
co-existing radios. The right metric is therefore one that allows us to
visualize the tradeoff between throughput and the harmful interfer-
ence which the smart radio causes to co-existing radios. To evaluate
this tradeoff, we compute two quantities and plot them against each
other:(cid:15) Normalized Throughput: We compute the throughput achieved
by DOF-SR and Jello, and normalize them by the through-
put an optimal ofﬂine scheme implementing our policy would
achieve. To compute the throughput of the optimal scheme,
we take advantage of the fact that we know the ground truth
of what radios are operating and what spectrum they are oc-
cupying. We also feed it the AoA measurements from DOF,
since we cannot know the ground truth due to unknown mul-
tipath effects. We then use this information to compute the
throughput of the optimal scheme which would use exactly the
unoccupied spectrum, and optimally beamforms its signals in
the microwave occupied spectrum.
(cid:15) Normalized Harmful Interference: We measure the through-
put of the co-existing WiFi and Zigbee radios (which are sup-
posed to be protected according to our policy) when neither
DOF-SR or Jello are operating, and then when they are operat-
ing. We compute the difference in throughput, and normalize
it by the throughput they achieve when the smart radios are
not operating. This quantity represents the normalized perfor-
mance drop due to the operation of DOF-SR or Jello.
The ideal scheme would have a normalized throughput of 1 and a
normalized harmful interference of 0.
7.2 Evaluation
We evaluate DOF-SR and Jello on the same indoor testbed de-
scribed in Sec. 6.
Method: We randomly place a WiFi sender-receiver pair, a Zigbee
sender-receiver pair and a microwave oven in the testbed. The WiFi
and Zigbee radios are operating on randomly picked non-intersecting
channels, and the bitrate depends on their respective channel condi-
tions. The WiFi and Zigbee links are continuously transmitting pack-
ets. We take a raw 10 second dump using our wideband radios at
the sender and receiver, and provide the dumps to DOF and the edge
detection algorithm of Jello. After their respective computations, we
let the two smart radio systems compute what spectral resources they
are going to use and how. They are then allowed to transmit one after
the other for 50 seconds. For DOF-SR, we transmit three separate
times corresponding to the three policies. We then take the traces at
the receiver, decode the signals and compute the goodputs. Simul-
taneously, we measure the throughput of the WiFi and Zigbee links.
We compute the normalized throughput and the normalized harmful
interference as discussed before. We repeat this experiment for 50
such conﬁgurations and plot the points in Fig. 10.
Analysis: Fig. 10 plots normalized throughput on the y-axis and nor-
malized harmful interference to the co-existing WiFi and Zigbee links
on the x-axis for DOF-SR and Jello. We have three plots, correspond-
ing to the three policies that DOF-SR currently implements. The blue
circles are for DOF-SR, and the red crosses are for Jello. Note that
the optimal scheme will achieve a normalized throughput of 1 and
normalized harmful interference of 0.
We ﬁrst summarize the results:
(cid:15) With policy P0, DOF-SR achieves an average normalized through-
put of 0:93 and the average harmful interference it causes is
around 0:1, i.e.
the throughput of the WiFi and Zigbee links
drop only by around 10%. Jello on the other hand achieves a
normalized throughput of 0:82 and causes a harmful interfer-
ence of 0:44. Thus DOF-SR gets a gain of 15% over Jello
purely from more accurate unoccupied spectrum estimation,
and causes 35% less harm than Jello.
(cid:15) With policy P1, DOF-SR achieves an average normalized through-
put of 0:93 and causes an average harm of 0:1. Jello of course
cannot use this policy and consequently its average normalized
throughput drops to 0:61, while its average harm stays the same
at 0:44. Thus with the ability to use microwave oven occupied
spectrum, DOF-SR provides a 50% increase over Jello, while
still causing minimal harm to co-existing radios.
(cid:15) With policy P2, DOF-SR achieves an average normalized through-
put of 0:87 and causes an average harm of 0:32. The reason
for the higher harm is that DOF-SR is now competing with
the WiFi device for half the time on the WiFi occupied spec-
trum. Hence WiFi throughput naturally drops compared to P1,
and harm increases. However this is intended, policy P2 was
designed to be aggressive and steal throughput from the WiFi
240Figure 10: Throughputs and Harm with Smart Radios - More aggressive policies enable higher throughput but also cause greater harm to legacy
systems. WiSpy-SR enables users to decide how aggressive their policy should be.
node. The normalized Jello throughput is around 0:5 with the
harm the same at 0:44. Hence with policy P2, DOF-SR pro-
vides a performance gain of nearly 80% over Jello.
The relative gains over Jello help us understand the gains the in-
creasingly aggressive policies provide to DOF-SR. The gain of 15%
with policy P0 is purely from DOF’s more accurate spectrum detec-
tion. Further note that we achieve this gain while causing minimal
harm to the co-existing radios, their average throughput loss is less
than 10%. Next, with policy P1, DOF-SR’s gains increase by an-
other 35% to 50%. This gain comes from DOF-SR’s extra capability
of being able to detect microwave oven signals and their AoAs, and
leverage that information to beamform and null the interference to
increase throughput. Finally, with policy P2, DOF-SR gets a gain of
80% over Jello, i.e. an additional 30% over policy P1. However, the
gains come with the price of increased interference to the co-existing
WiFi radio since when competing DOF-SR is likely to cut the WiFi
throughput, and hence the harm increases to 32%.
8. CONCLUSION
Historically, unlicensed band co-existence has been managed “so-
cially". Different protocols would largely use non-overlapping bands,
and given the low density of radios in a neighborhood, the likeli-
hood of radios stepping on each other’s toes was low. However, with
the increasing number of protocols that operate in the ISM band and
the increasing density of radios around us, this assumption is more
and more on shaky ground. DOF provides the accurate substrate that
future ISM band radios would need to operate and co-exist in this
crowded space. DOF opens up a number of avenues of future work,
including designing a generalized policy-aware smart radio, whose
preliminary prototype design we brieﬂy described in this paper. We
also plan to apply DOF to other applications in network management,
performance diagnosis and indoor localization.
9. REFERENCES
[1] Fftw. http://www.fftw.org.
[2] Fftw benchmark. http://www.fftw.org/benchfft.
[3] Gnu radio. http://gnuradio.org.
[4] Practical signal detection and classiﬁcation in gnuradio. 2007.
[5] C. Bishop. Pattern recognition and machine learning, 2006.
[6] J. Capon. High-resolution frequency-wavenumber spectrum analysis. Proceedings
of the IEEE, 57(8):1408 – 1418, aug. 1969.
[7] M. Davy, A. Gretton, A. Doucet, and P. Rayner. Optimized support vector
machines for nonstationary signal classiﬁcation. Signal Processing Letters, IEEE,
9(12):442 – 445, dec. 2002.
[8] A. Fehske, J. Gaeddert, and J. Reed. A new approach to signal classiﬁcation using
spectral correlation and neural networks. pages 144 –150, nov. 2005.
[9] W. Gardner. Exploitation of spectral redundancy in cyclostationary signals. Signal
Processing Magazine, IEEE, 8(2):14 –36, apr. 1991.
[10] S. Gollakota and D. Katabi. ZigZag decoding: combating hidden terminals in
wireless networks. In SIGCOMM ’08: Proceedings of the ACM SIGCOMM 2008
conference on Data communication, pages 159–170, New York, NY, USA, 2008.
ACM.
[11] S. Haykin, D. Thomson, and J. Reed. Spectrum sensing for cognitive radio.
Proceedings of the IEEE, 97(5):849 –877, may. 2009.
[12] A. P. Iyer, K. Chintalapudi, V. Navda, R. Ramjee, V. N. Padmanabhan, and C. R.
Murthy. Specnet: spectrum sensing sans fronti&#232;res. In Proceedings of the
8th USENIX conference on Networked systems design and implementation,
NSDI’11, pages 26–26, Berkeley, CA, USA, 2011. USENIX Association.
[13] L. Jia, Y. Gao, J. Isoaho, and H. Tenhunen. A new vlsi-oriented fft algorithm and
implementation. In IEEE International ASIC Conference, 1998.
[14] D. H. Johnson and D. E. Dudgeon. Array Signal Processing: Concepts and
Techniques. Simon & Schuster, 1992.
[15] M. O. C. R. L. Bixio, G. Oliveri. Ofdm recognition based on cyclostationary
analysis in an open spectrum scenario. In Vehicular Technology Conference, 2009.
[16] K. Lakshminarayanan, S. Sapra, S. Seshan, and P. Steenkiste. Rfdump: an
architecture for monitoring the wireless ether. In Proceedings of the 5th
international conference on Emerging networking experiments and technologies,
CoNEXT ’09, 2009.
[17] E. Like, V. D. Chakravarthy, P. Ratazzi, and Z. Wu. Signal classiﬁcation in fading
channels using cyclic spectral analysis. EURASIP J. Wirel. Commun. Netw.,
2009:3–3, 2009.
[18] G. V. L. J. N. Czink, B. Bandemer and A. Paulraj. Stanford july 2008 radio
channel measurement campaign. In COST 2100, October 2008.
[19] K. E. N. P D Sutton and L. E. Doyle. Cyclostationary signatures for rendezvous in
ofdm-based dynamic spectrum access networks. In IEEE DySPAN, 2007.
[20] T. M. R. M. Paramvir Bahl, Ranveer Chandra and M. Welsh. White space
networking with wi-ﬁ like connectivity. In ACM SIGCOMM, 2009.
[21] K. N. Paul Sutton and L. Doyle. Cyclostationary signatures in practical cognitive
radio applications. IEEE Journal on Selected Areas of Communications, 26, Jan
2008.
[22] H. Rahul, N. Kushman, D. Katabi, F. Edalat, and C. Sodini. Narrowband friendly
wideband radios. In ACM SIGCOMM 2008.
[23] R. Schmidt. Multiple emitter location and signal parameter estimation. Antennas
and Propagation, IEEE Transactions on, 34(3):276 – 280, mar. 1986.
[24] A. Swami and B. Sadler. Hierarchical digital modulation classiﬁcation using
cumulants. Communications, IEEE Transactions on, 48(3):416 –429, mar. 2000.
[25] T. Taher, M. Misurac, J. LoCicero, and D. R. Ucci. Microwave oven signal
modeling. 2008.
[26] D. Tse and P. Vishwanath. Fundamentals of Wireless Communications. Cambridge
University Press, 2005.
[27] J. Xiong and K. Jamieson. Secureangle: Improving wireless security using
angle-of-arrival signatures. In ACM HotNets 2010.
[28] L. Yang, W. Hou, L. Cao, B. Y. Zhao, and H. Zheng. Supporting demanding
wireless applications with frequency-agile radios. In USENIX NSDI, April 2010.
[29] O. Zakaria. Blind signal detection and identiﬁcation over the 2.4ghz ism band for
cognitive radio. In Master’s thesis, University of South Florida, Tampa, Florida,
USA, 2009.
0.00.10.20.30.40.50.60.70.80.91.00.00.51.0Normalized Throughput Normalized HarmDOF-SR Policy 0 and JelloDOF-SRJello0.00.10.20.30.40.50.60.70.80.91.00.00.51.0Normalized Throughput Normalized HarmDOF-SR Policy 1 and JelloDOF-SRJello0.00.10.20.30.40.50.60.70.80.91.00.00.51.0Normalized Throughput Normalized HarmDOF-SR Policy 2 and JelloDOF -SRJello241