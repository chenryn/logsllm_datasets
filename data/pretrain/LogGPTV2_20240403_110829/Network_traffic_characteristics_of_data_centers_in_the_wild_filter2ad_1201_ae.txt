 0.982
EDU1
EDU3
PRV1
PRV2
CLD1
CLD2
CLD3
CLD4
CLD5
 0.1
 1
 10
 100
 0.001  0.01
 0.1
 1
 10
 100
 1000  10000 100000
(a)
F
D
C
(b)
F
D
C
Size of Edge Discards (in Bits)
PRV2
CLD1
CLD2
CLD3
CLD4
CLD5
 1
 0.99
 0.98
 0.97
 0.96
 0.95
 0.94
 0.93
 0.92
 0.91
 0.9
 0.001  0.01  0.1
 1
 10
 100  1000 10000 100000 1e+06 1e+07
Size of Agg Discards (in Bits)
 1
 0.99
 0.98
 0.97
 0.96
 0.95
 0.94
 0.93
EDU1
EDU2
EDU3
PRV1
PRV2
CLD1
CLD2
CLD3
CLD4
CLD5
 0.1
 1
 10
 100
 0.001
 0.01
 0.1
 1
 10
 100
 1000
 10000
% of Times a Core Link is a Hotspot
(c)
Size of Core Discards (in Bits)
Figure 10: A CDF of the fraction of times that links in the var-
ious layers are hot-spots.
Figure 11: A CDF of the number of bits lost across the various
layers.
appear persistently as hot-spots. Speciﬁcally, roughly 20% of the
core links are hot-spots at least 50% of the time each. Note that
both CLD4 and CLD5 run MapReduce applications.
Next, we examine the variation in the fraction of the core links
that are hot-spots versus time. In Figure 13, we show our observa-
tions for one data center in each of the 3 hot-spot classes just de-
scribed. From this ﬁgure, we observe that each class has a different
pattern. In the low persistence-low prevalence data center, CLD1,
we ﬁnd that very few hot-spots occur over the course of the day, and
when they do occur, only a small fraction of the core links emerge
as hot-spots (less than 0.002%). However, in the high persistence
classes, we observe that hot-spots occur throughout the day.
In-
terestingly, with the high persistence-high prevalence data center,
CLD5, we observe that the fraction of links that are hot-spots is
affected by the time of day. Equally important is that only 25% of
the core links in CLD5 are ever hot-spots. This suggests that, de-
pending on the trafﬁc matrix, the remaining 75% of the core links
can be utilized to ofﬂoad some trafﬁc from the hot-spot links.
6.3.2 Hot-spots and Discards
Finally, we study loss rates across links in the data centers. In
particular, we start by examining the discards for the set of hot-
spot links. Surprisingly, we ﬁnd that none of the hot-spot links
experience loss. This implies that in the data centers studied, loss
does not correlate with high utilization.
To understand where losses are prevalent, we examine Figures 11
and 12 that display the loss rates and link utilization for the links
with losses. In the core and aggregation, all the links with losses
have less than 30% average utilization, whereas at the edge, the
links with losses have nearly 60% utilization. The fact that links
with relatively low average utilization contain losses indicates that
these links experience momentary bursts that do not persist for a
long enough period to increase the average utilization. These mo-
mentary bursts can be explained by the bursty nature of the trafﬁc
(Section 5).
6.4 Variations in utilization
In this section, we examine if the utilizations vary over time and
whether or not link utilizations are stable and predictable.
We examined the link utilization over a one week period and
found that diurnal patterns exist in all data centers. As an example,
Figure 14 presents the utilization for input and output trafﬁc at a
276 1
 0.998
 0.996
 0.994
 0.992
 0.99
 0.988
 0.986
 0.984
EDU1
EDU3
PRV1
PRV2
CLD1
CLD2
CLD3
CLD4
CLD5
 0.001
 0.01
 0.1
 1
 10
 100
Utilization of Edge Links with Discards
 1
 0.99
 0.98
 0.97
 0.96
 0.95
 0.94
 0.93
 0.92
 0.91
PRV2
CLD1
CLD2
CLD3
CLD4
CLD5
 0.002
 0.001
 0
 0.06
 0.03
 0
 0.24
 0.12
 0
 0
CLD1
CLD2
CLD5
 50
 100
 150
 200
 250
 300
Time (in 5 minutes Intervals)
Figure 13: Time series of the fraction of links that are hot-spots
in the core layer for CLD1, CLD2, and CLD5.
 0.001
 0.01
 0.1
 1
 10
 100
Utilization of Agg Links with Discards
 1
 0.99
 0.98
 0.97
 0.96
 0.95
 0.94
 0.93
 0.001
 0.01
 0.1
 1
n
o
i
t
a
z
i
l
i
t
U
k
n
L
i
 0.14
 0.12
 0.1
 0.08
 0.06
 0.04
 0.02
 0
EDU1
EDU2
EDU3
PRV1
PRV2
CLD1
CLD2
CLD3
CLD4
CLD5
 10
 100
Firday
Saturday
Sunday
Monday
Tuesday
Days of the Week
In
Out
Utilization of Core Links with Discards
Figure 14: Time-of-Day/Day-of-Week trafﬁc patterns.
F
D
C
(a)
F
D
C
(b)
F
D
C
(c)
Figure 12: A CDF of the utilization of links with discards.
router port in one of the cloud data centers. The 5-day trace shows
diurnal and pronounced weekend/weekday variations.
To quantify this variation, we examine the difference between
peak and trough utilizations for each link across the studied data
centers. In Figure 15, we present the distribution of peak versus
trough link utilizations across the various data centers. The x-axis
is in percentage. We note that edge links in general show very
little variation (less than 10% for a least 80% of edge links). The
same is true for links in the aggregation layer (where available),
although we see slightly greater variability. In particular, links in
the aggregation layer of PRV2 show signiﬁcant variability, whereas
those in the other data centers do not (variation is less than 10% for
a least 80% of edge links). Note that links with a low degree of
variation can be run at a slower speed based on expected trafﬁc
volumes. This could result in savings in network energy costs [14].
The variation in link utilizations at the edge/aggregation are sim-
ilar across the studied data centers. At the core, however, we are
able to distinguish between several of the data centers. While most
have low variations (less than 1%), we ﬁnd that two cloud data
centers (CLD4 and CLD5) have signiﬁcant variations. Recall that
unlike the other cloud data centers, these two cloud data centers
run primarily MapReduce-style jobs. The large variations reﬂect
differences between the periods when data is being reduced from
the worker nodes to the master and other periods.
To summarize, the key take-aways from our analysis of network
trafﬁc patterns are as follows: (1) In cloud data centers, a signiﬁ-
cant fraction of trafﬁc stays inside the rack, while the opposite is
true for enterprise and campus data centers; (2) On average, the
core of the data center is the most utilized layer, while the data
center edge is lightly utilized; (3) The core layers in various data
centers do contain hot-spot links. In some of the data centers, the
hot-spots appear only occasionally. In some of the cloud data cen-
ters, a signiﬁcant fraction of core links appear as hot-spots a large
fraction of the time. At the same time, the number of core links
that are hot-spots at any given time is less than 25%; (4) Losses
are not correlated with links with persistently high utilizations. We
observed losses do occur on links with low average utilization indi-
cating that losses are due to momentary bursts; and (5) In general,
time-of-day and day-of-week variation exists in many of the data
centers. The variation in link utilization is most signiﬁcant in the
core of the data centers and quite moderate in other layers of the
data centers.
277 1
 0.8
 0.6
 0.4
 0.2
F
D
C
 0
 0.01
(a)
 1
 0.8
 0.6
 0.4
 0.2
F
D
C
 0
 0.01
(b)
 1
 0.8
 0.6
 0.4
 0.2
F
D
C
 0
 0.01
(c)
EDU1
EDU3
PRV1
PRV2
CLD1
CLD2
CLD3
CLD4
CLD5
 0.1
 1
 10
 100
Max-Trough for Edge Link
PRV2
CLD1
CLD2
CLD3
CLD4
CLD5
 0.1
 1
 10
 100
Max-Trough for Agg Link
EDU1
EDU3
PRV1
PRV2
CLD1
CLD2
CLD3
CLD4
CLD5
 0.1
 1