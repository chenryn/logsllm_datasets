self.make_response(self.handle_exception(e)) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/flask/app.py", line 1403, in handle_exception reraise(exc_type,
exc_value, tb) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/flask/app.py", line 1817, in wsgi_app response =
self.full_dispatch_request() File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/flask/app.py", line 1477, in full_dispatch_request rv =
self.handle_user_exception(e) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/flask/app.py", line 1381, in handle_user_exception reraise(exc_type,
exc_value, tb) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/flask/app.py", line 1475, in full_dispatch_request rv =
self.dispatch_request() File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/flask/app.py", line 1461, in dispatch_request return
self.view_functions[rule.endpoint](**req.view_args) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/flask_appbuilder/security/decorators.py", line 26, in wraps return
f(self, *args, **kwargs) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/flask_appbuilder/views.py", line 397, in add widget = self._add()
File "/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/flask_appbuilder/baseviews.py", line 910, in _add self.post_add(item)
File "/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/caravel/views.py", line 264, in post_add "couldn't fetch
metadata".format(table.table_name), File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/attributes.py", line 237, in __get__ return
self.impl.get(instance_state(instance), dict_) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/attributes.py", line 578, in get value =
state._load_expired(state, passive) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/state.py", line 474, in _load_expired
self.manager.deferred_scalar_loader(self, toload) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/loading.py", line 664, in load_scalar_attributes
only_load_props=attribute_names) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/loading.py", line 219, in load_on_ident return q.one()
File "/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/query.py", line 2693, in one ret = list(self) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/query.py", line 2736, in __iter__ return
self._execute_and_instances(context) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/query.py", line 2749, in _execute_and_instances
close_with_result=True) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/query.py", line 2740, in _connection_from_session
**kw) File "/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/session.py", line 893, in connection
execution_options=execution_options) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/session.py", line 898, in _connection_for_bind engine,
execution_options) File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/session.py", line 313, in _connection_for_bind
self._assert_active() File
"/Users/shashanksingh/code/faasos/analytics/lib/python2.7/site-
packages/sqlalchemy/orm/session.py", line 214, in _assert_active %
self._rollback_exception InvalidRequestError: This Session's transaction has
been rolled back due to a previous exception during flush. To begin a new
transaction with this Session, first issue Session.rollback(). Original
exception was: (raised as a result of Query-invoked autoflush; consider using
a session.no_autoflush block if this flush is occurring prematurely)
(_mysql_exceptions.DataError) (1406, "Data too long for column 'type' at row
1") [SQL: u'INSERT INTO table_columns (created_on, changed_on, table_id,
column_name, verbose_name, is_dttm, is_active, type, groupby, count_distinct,
sum, max, min, filterable, expression, description, changed_by_fk,
created_by_fk) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,
%s, %s, %s, %s)'] [parameters: (datetime.datetime(2016, 5, 14, 21, 6, 19,
727486), datetime.datetime(2016, 5, 14, 21, 6, 19, 727498), 12L, 'comments',
None, 0, 1, 'VARCHAR(255) COLLATE UTF8_UNICODE_CI', 1, 0, 0, 0, 0, 1, '', '',
1L, 1L)] 2016-05-14 21:06:19,869:INFO:werkzeug:127.0.0.1 - - [14/May/2016
21:06:19] "GET /tablemodelview/add?__debugger__=yes&cmd=resource&f=style.css
HTTP/1.1" 200 - 2016-05-14 21:06:19,871:INFO:werkzeug:127.0.0.1 - -
[14/May/2016 21:06:19] "GET
/tablemodelview/add?__debugger__=yes&cmd=resource&f=jquery.js HTTP/1.1" 200 -
2016-05-14 21:06:19,873:INFO:werkzeug:127.0.0.1 - - [14/May/2016 21:06:19]
"GET /tablemodelview/add?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1"
200 - 2016-05-14 21:06:19,978:INFO:werkzeug:127.0.0.1 - - [14/May/2016
21:06:19] "GET /tablemodelview/add?__debugger__=yes&cmd=resource&f=ubuntu.ttf
HTTP/1.1" 200 - 2016-05-14 21:06:20,009:INFO:werkzeug:127.0.0.1 - -
[14/May/2016 21:06:20] "GET
/tablemodelview/add?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1" 200
- 2016-05-14 21:06:20,186:INFO:werkzeug:127.0.0.1 - - [14/May/2016 21:06:20]
"GET /tablemodelview/add?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1"
200 - 2016-05-14 21:12:47,074:INFO:werkzeug:127.0.0.1 - - [14/May/2016
21:12:47] "GET /tablemodelview/list/ HTTP/1.1" 200 - 2016-05-14
21:12:49,661:INFO:werkzeug:127.0.0.1 - - [14/May/2016 21:12:49] "GET
/tablemodelview/add HTTP/1.1" 200 - 2016-05-14
21:13:12,449:WARNING:flask_appbuilder.models.sqla.interface:Add record
integrity error: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry
'daily_inventory_details' for key 'table_name'") [SQL: u'INSERT
INTO`tables`(created_on, changed_on, table_name, main_dttm_col, description,
default_endpoint, database_id, is_featured, user_id, offset,
cache_timeout,`schema`, changed_by_fk, created_by_fk) VALUES (%s, %s, %s, %s,
%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters:
(datetime.datetime(2016, 5, 14, 21, 13, 12, 445517), datetime.datetime(2016,
5, 14, 21, 13, 12, 445528), 'daily_inventory_details', None, None, '', 2L, 0,
None, 0, 10, '', 1L, 1L)]`