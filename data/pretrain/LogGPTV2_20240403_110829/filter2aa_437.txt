从S-SDLC视角看API安全
【API威胁检测防御】专题研讨会
Silver Zhang
为何将API安全拧出来说
为何将API安全拧出来说
感冒 VS. 禽流感
感冒 VS. 禽流感
应用安全 VS. 移动安全
应用安全 VS. 移动安全
新业态
新业态
API历史沿革及风险评估
API面临的安全挑战
传输
存储
认证
授权
输入
输出
➢
客
户
端
不
支
持
加
密
传
输
协
议
怎
么
办
➢
客
户
需
要
走
非
加
密
支
持
代
理
➢
客
户
端
未
做
服
务
端
证
书
合
法
有
效
性
校
验
怎
么
办
➢
服
务
端
加
密
数
据
如
何
让
客
户
端
解
密
➢
客
户
的
服
务
端
与
客
户
端
都
在
使
用
同
一
API
➢
密
钥
泄
露
了
怎
么
办
➢
客
户
的
客
户
端
与
服
务
端
都
支
持
登
录
过
程
处
理
➢
无
人
参
与
的
设
备
登
陆
认
证
问
题
➢
设
备
更
换
主
人
➢
预
设
权
限
与
客
户
业
务
映
射
➢
不
充
分
的
授
权
业
务
架
构
➢
不
正
确
的
授
权
ID
的
使
用
➢ API 
服
务
提
供
方
输
入
验
证
➢ API
提
供
方
输
入
验
证
➢
调
用
方
输
入
验
证
匹
配
性
➢
输
出
编
码
➢
不
同
的
输
出
编
码
-CSV/JASON
➢
仅
输
出
必
要
的
内
容
IoT攻击面分析
攻击面
是否涉及API
攻击面
是否涉及API
生态系统
√
第三方后端API
√
设备内存
x
更新机制
√
设备物理接口
乄
移动应用
√
设备Web界面
√
供应商后端API
√
设备固件
乄
生态系统交互
√
设备网络服务
乄
网络流量
乄
管理界面
√
认证/授权
√
本地数据存储
乄
隐私
√
云Web界面
乄
硬件（传感器）
乄
S-SDLC & API安全
需求
设计
实现
确认
DevOps
运维
场景
传输
乄
乄
乄
乄
乄
乄
√
存储
√
√
√
√
乄
√
√
认证
√
√
√
√
乄
√
√
授权
√
√
√
√
乄
√
√
输入
√
√
√
√
乄
√
√
输出
√
√
√
√
乄
√
√
API安全
API安全
API安全检测技术
人为构造所有可能的应用场景的Demo,通过正常应用安全测试完成…
与功能性自动化脚本融合，同步完成安全自动化测试…
借助现存的典型用户客户端完成全功能安全测试…
借助于Fuzz Test技术完成安全性测试…
借助于IAST技术完成安全性测试…
借助于RASP技术完成与业务强相关的恶意行为监测…
问题讨论-1
如
何
避
免
过
度
实
现
尚
未
开
放
的
功
能
？
1.
无人知道对外提供的API竟然可以以
服务提供方的超级管理员身份登录
进去
2.
现实是：开发为了方便放开了口子
3.
挑战：如何从根本上避免这样的问
题出现？
*API特殊性决定了它一定会被深度使用*
1.
无人知道对外提供的API竟然可以以
服务提供方的超级管理员身份登录
进去
2.
现实是：开发为了方便放开了口子
3.
挑战：如何从根本上避免这样的问
题出现？
*API特殊性决定了它一定会被深度使用*
问题讨论-2
如
何
确
保
API
只
输
出
当
前
功
能
所
必
需
要
的
信
息
？
1.
开发：我知道这些信息未来用得上，
所以干脆直接将更多的信息一并传
回客户端，反正前端也不会有人使
用它们
2.
现实：批量、敏感信息泄漏
3.
挑战：如何从根本上避免这样的问
题出现？
*API特殊性决定了它一定会被深度使用*
1.
开发：我知道这些信息未来用得上，
所以干脆直接将更多的信息一并传
回客户端，反正前端也不会有人使
用它们
2.
现实：批量、敏感信息泄漏
3.
挑战：如何从根本上避免这样的问
题出现？
*API特殊性决定了它一定会被深度使用*
问题讨论-3
最佳
实践
与现
实之
间的
矛盾
1.
Web端提供多因子认证
2.
手机端API则不提供
1）易用性考虑
2） 客户的客户端不支持
*API特殊性决定了它一定会被深度使用*
1.
Web端提供多因子认证
2.
手机端API则不提供
1）易用性考虑
2） 客户的客户端不支持
*API特殊性决定了它一定会被深度使用*