# 18｜http库：如何批量下载在线内容，解放鼠标（上）？你好，我是尹会生。我在前段时间遇到了下载大量图片的需求。具体来说，是在我训练 AI识别猫时，必须要在电脑中存储大量猫的图片。但搜索到的图片都在网页中，我就需要先把它们一个个手动下载下来，再保存，然后才能进行后续的工作。而且，随着我对 AI训练工作的日益增多，这类需求会越来越丰富，我不仅要下载猫的图片，还要下载大量其他各种动物的图片。相信类似这种批量下载网页中的图片的需求，你在工作中会经常遇到。而这类需求，刚好能够使用Python的"requests-html"库实现批量下载，提高我们的工作效率。因此呢，这节课我就以搜索到的猫的图片为例，给你讲解一下，我是怎么来批量下载图片的。批量下载图片的准备工作我把实现图片自动化批量下载的过程，拆分成四段难度逐渐递增的代码。这四段代码分别实现的是以下四个功能：1.       访问 HTTP    服务器，得到搜索结果的整个网页；        2.       在访问服务器之后下载一张图片；        3.       找到多张图片的相似地址；        4.       提取相似地址，下载多张图片。        前两个功能，是批量下载图片的准备工作和前提。掌握了这两个功能，那么批量下载图片实现起来就容易多了。所以接下来，我们先来学习这两项准备工作。访问 HTTP 服务端的资源我们从难度最低的一段代码开始，怎么通过访问 HTTP服务器，从而得到猫的搜索结果的整个网页。访问 HTTP 服务器，我需要使用 Python 的第三方库 **requests-html库** 来实现。虽然Python 在标准库中也自带了访问服务器 urllib库，但它的实现代码不够简洁，所以我一般数情况下会使用 requests-html库替代它，来进行 HTTP服务器的访问。使用 reqeusts-html库，你先需要通过**"pip"来安装**，再通过 **get() 方法访问 HTTP服务器**。安装 requests-html库的方法，和我们上一讲安装 flask库是一样的。这里我强调一下，在 Python中，绝大多数的第三方库，它们的名称和安装包的名称是相同的，所以除了特殊的安装方法外，像这种通用的安装方法，我就不会每次都重复贴出来了。reqeusts库的安装方法，代码如下：    pip3 install requests-html在命令行执行后，requests-html 库就安装成功了。接下来，我们就使用它的get() 方法去请求 HTTP服务器，而得到的返回数据，就是网页的代码。相信你还记得在上一讲中，我介绍了两种常见的 HTTP服务端请求的方式，分别是"GET"和"POST"。requests-html库就是使用了同名函数实现的"GET"方式访问。那么接下来，我将使用 reqeusts库来访问一个无版权的图片网站slate-object="inline"，并得到网页的源代码。我把代码写出来，供你参考。    from requests_html import HTMLSession    
# URL    name = "猫"    url = f"https://unsplash.com/s/photos/{name}"    
# 启动    session = HTMLSession()    
# GET请求    result = session.get(url)    