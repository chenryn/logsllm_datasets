## IMPORTANT: DevOps Kit (AzSK) is being sunset by end of FY21. More details [here](../../../ReleaseNotes/AzSKSunsetNotice.md)
----------------------------------------------
DataFactoryDescription & RationaleControlSeverityAutomatedFix ScriptLinked Service must use encryption in transitUse of HTTPS ensures server/service authentication and protects data in transit from network layer man-in-the-middle, eavesdropping, session-hijacking attacks.HighYesNoUser accounts/roles connecting to data source must have minimum required permissionsGranting minimum access ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user/service account compromise.MediumNoNoData Management Gateway (DMG), if used, must be installed on a locked down machineThe DMG machine is serving as a 'gateway' into the corporate environment allowing endpoint in the cloud access to enterprise data. Using a locked-down, secure baseline configuration ensures that this machine does not get leveraged as an entry point to the downstream data server/service.MediumNoNoData Management Gateway (DMG), if used, must be registered in secure wayData Management Gateway(DMG) tool is required to connect data sources which are hidden behind corpnet/firewall. DMG tool needs to be installed and registered on a machine which has access to data source.The gateway key needs to be exchanged between Azure Portal and DMG tool for registration. Manual handling of this key may impose an operational risk and thus registration of DMG tool must be done via PowerShell.MediumNoNoData Gateway key (on Azure Portal) must be rotated periodicallyPeriodic key/password rotation is a good security hygiene practice as, over time, it minimizes the likelihood of data loss/compromise which can arise from key theft/brute forcing/recovery attacks.MediumNoNoLinked Service must be setup using a service account when Data Management Gateway is used Using a service account with access to the data tier eliminates the need to manage a separate account/connection string that DMG would otherwise need to use to access the backend data.MediumNoNoMonitoring must be enabled for Azure Data FactoryAuditing enables log collection of important system events pertinent to security. Regular monitoring of audit logs can help to detect any suspicious and malicious activity early and respond in a timely manner.MediumNoNoData lake store linked service in Data Factory must be configured with service-to-service authenticationIf user credentials are employed, there may be downtime due to token expiration.HighNoNoTo ensure high availability multiple nodes should be configured on DMGDMG configured on multiple node ensures that another node is available for moving data even if one of the nodes goes down.HighNoNoFor multi-node gateway, node to node communication must be encrypted with valid TLS/SSL certificateUse of HTTPS ensures server/service authentication and protects data in transit from network layer man-in-the-middle, eavesdropping, session-hijacking attacks.HighNoNoUse backup feature to keep a snapshot of DMG configurationsKeeping backup of DMG config ensures that there is always a previous snapshot that can be leveraged to restore configurations quickly during a recovery scenario.MediumNoNoEncrypt credentials in Linked Service while configuring Data Factory (Applicable only for Linked Services which require Gateway)By using this configuration, credentials will be transmitted in encrypted format to the DMG which connects to the data source. This ensures that on-premise data source is accessible only through DMG as only DMG can decrypt the credential.HighNoNoConfigure fault tolerance in copy activity to handle incompatible dataIn case of incompatible data flowing through the ADF channel, the default behavior will abort the copy activity. A fault tolerant configuration is helpful to continue copy activity by skipping and logging incorrect data.MediumNoNo