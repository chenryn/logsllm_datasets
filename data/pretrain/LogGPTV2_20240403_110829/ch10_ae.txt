### 运维即服务（OaaS）：构建通用自助服务平台

在检查那些同时采用 SRE（站点可靠性工程）运维风格并被视为高绩效的公司时，你会发现它们通常会构建自定义工具以实现自助服务功能。例如，Netflix 开发了 Spinnaker 和 Winston 平台来支持其特定需求。然而，对于许多企业而言，由于多年的收购和积累导致的技术异质性，他们可能需要更通用的自助服务功能。

#### 作为服务的运维（OaaS）

OaaS 是一种通用且看似简单的设计模式，旨在创建通用的自助服务操作功能。其核心思想是将运维视为一个平台，用于安全地分配定义和执行自动化过程的能力。以下是 OaaS 设计模式的关键要素：

1. **轻量级与语言无关**：
   - OaaS 平台必须既轻便又适用于任何流行的脚本语言或工具。强迫团队对单一语言或自动化框架进行标准化是不现实的，而且会拖慢组织的速度。因此，团队应能够使用他们选择或继承的自动化语言和工具，同时允许其他工具跨这些基础框架和语言协调过程。

2. **访问控制和使用情况统计**：
   - 访问控制和使用情况统计对于设计模式的成功至关重要。最终控制权应与具有更高访问权限的用户和团队保持一致。结合监控和可观测性项目，OaaS 的努力最有可能超出预期。实施项目往往主要侧重于自动化，但缺乏对运维执行状况、状态和配置的可见性会导致问题。因此，从一开始就应该同样强调可视性和可用性。

3. **兼容多种运维模型**：
   - OaaS 设计模式应与任何运维操作模型兼容，无论是跨职能团队还是传统的开发和运维/SRE 分割。发展组织的自助服务功能总是有益的。

### OaaS 设计模式的具体应用

#### 具有跨职能团队组织模型的 OaaS 设计模式
- 在这种模型中，团队成员具备多种技能，可以处理从开发到运维的各个阶段。OaaS 平台可以帮助这些团队更高效地协作和自动化任务。

#### 采用传统开发和运维/SRE 分割组织模型的 OaaS 设计模式
- 即使在传统的分割模型中，OaaS 平台也能提供显著的好处，通过自助服务功能提高效率和响应速度。

### SRE 管理概念

SRE 运动中最强大的贡献之一是一系列管理概念的普及，这些概念将组织运维活动的期望形式化。以下是一些关键概念：

#### 错误预算
- **定义**：错误预算是衡量和利用适度风险的框架，具体来说，它是理论上完美的可靠性与业务和技术利益相关者商定的可接受 SLO（服务级别目标）之间的差距。
- **作用**：错误预算为开发人员和 SRE 提供了一个框架，用于与业务部门协商多少故障是可以接受的，并且仍然满足业务需求。如果错误预算较小，团队必须更加保守；如果较大，则可以更激进，青睐速度和生产实验。
- **超出预算的后果**：如果超出错误预算，所有与服务相关的角色都必须调整行为，确保在错误预算内运行。这与传统 IT 运维中的 SLA 方法不同，后者通常只惩罚运维方。

#### 琐事上限
- **定义**：琐事上限是挑战传统运维思维的概念，定义了单个 SRE 或团队将要承担的琐事上限，同时说明优先级，并保护个人或团队从事工程工作的能力。
- **作用**：琐事上限有助于 SRE 就预期行为达成一致，在需要帮助时提供明确信号，并避免因非增值重复性工作而透支。在引入琐事上限时，需要教育员工了解琐事的概念及其对个人和组织的破坏性。

### 利用 DevOps 的现有热情

尽管 DevOps 曾经是 Web 级初创公司的专属领域，但它已成为大多数企业公认的理念。DevOps 和 SRE 的目标之间存在很多重叠，两者都致力于提高质量和可靠性。SRE 可以视为具有一些特殊限定的 DevOps 实现。在企业中，DevOps 最常应用于从软件开发开始并通过服务交付管道的有限范围。SRE 提供了一个机会，可以在部署后生命周期的其余时间继续转换工作。建议寻找组织中的 DevOps 动力，并调整 SRE 转换工作。

### 统一任务列表并保护容量

从单一、管理良好的任务列表出发，以及保护团队能力的概念，这些都是改善工作流程的基本精益概念。SRE 工作是计划内工作与计划外工作的组合，这种工作类型的组合最难管理。统一的任务列表能明确指定任务优先次序和权衡机制，不会导致宝贵的计划工作和必要的计划外工作之间的资源竞争。看板是一种管理方法，具有统一任务列表和受保护容量等理念，已被证明可以显著改善工作流。

### 心理安全与人为因素

优化最重要的资产——你的人员的活力，对于任何技术业务的成功都至关重要。你需要一种文化，使员工能够从事合理的冒险活动，向上级提出坏消息，发挥创造力，并支持他们的同事。心理安全与人为因素是相关的研究领域，对我们的行业有很多帮助。加入 SRE 运动是一个独特的机会，可以改善全球运维专业人员的工作活力并提升其雇主成效。

### 编者介绍

Damon Edwards 是 Rundeck 公司的联合创始人，该公司持有 Rundeck 的商标，是广受欢迎的开源运维管理平台。Damon 以前是 DTO 解决方案的管理合作伙伴，专注于大型企业的 DevOps 和 IT 运维改进。Damon 是一个频繁的会议演讲者、作家和播客主持人。