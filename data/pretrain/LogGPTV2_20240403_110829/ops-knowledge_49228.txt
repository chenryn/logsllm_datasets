User: 请解答这个和日志有关的问题Can't connect to mysql server (13) using php function I opened every links google results had thrown to me in regards to this MySQL error. I have been spending hours to get  this to work..

I have a web server (apache in centos installed in host B, and want to connect to a MySQL server in host A) both hosts are in the same subnet.

I can access remote mysql using CLI
mysql -u root -h &lt;ip&gt; -p

but cannot connect to mysql using PHP function mysql_connect()

I have already disabled SELINUX and system-config-firewall-tui
and included below syntax in /etc/my.cnf

  [client]
  port =3306
  socket = /var/lib/mysql/mysql.sock


Some  solutions found in the web tells me to type in the setbool associated with selinux, but the thing is, SELINUX is already disabled.

the odd thing is, I can connect thru CLI, but not in php function

also, I have php-mysql in both hosts



Here is my main.php

&lt;?php
mysql_connect('192.168.8.136','root','admin') or die (mysql_error());
echo "Connected to MySQL server";

mysql_select_db("web") or die (mysql_error());
echo "Connected to Database";
?&gt;


here is my /etc/my.cnf

[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
user=mysql
symbolic-links=0

[mysqld_safe]
log-error=/var/log/mysqld/log
id-file=/var/run/mysqld/mysqld.pid


selinux status

SELinux status: disabled

netstat -atn 
tcp    0    0    0.0.0.0:3306    0.0.0.0:*     Listen

error received at client where apache is hosted:

[error] [client 127.0.0.1] PHP warning: mysql_connect(); cant connect to mysql server (13) in /var/www/html/main.php on line 2

Assistant: I could access from server B from command line mysql but I also could not connect my remote database via httpd - I know you say selinux was disabled on both sides, however in my situation, the httpd server side needed selinux 

setsebool httpd_can_network_connect_db=1 


to enable apache to connect to the remote database.