### 图10.1 攻击时间表
攻击时间表是红队行动中的关键组成部分，需要详细记录。该时间表应全面描述所有主要事件、触发警报的检测时间以及主要的行动步骤。这将使蓝队能够对照时间表和记录，找出其中的差距。在实际攻击中，你不可能询问攻击者所做的一切，因此详细的攻击时间表对防御方非常有帮助。一个典型的时间轴示例如图10.2所示。

### 图10.2 检测时间（TTD）/缓解时间（TTM）
通常，我们可以从蓝队报告中获取TTD/TTM统计数据。我们需要了解蓝队发现每次入侵所需的时间；扫描事件触发调查之前经过了多长时间（如果有的话）；以及蓝队识别网络钓鱼活动所需的时间。此外，还应讨论采取行动前的时间统计数据。例如，一旦识别出命令和控制通信或网络钓鱼攻击，防火墙或DNS服务器阻止该域需要多少时间？我们经常看到公司可能擅长阻止域名，但无法阻止使用IP地址进行通信的命令和控制服务器（反之亦然）。跟踪这些事件并为客户识别问题非常重要。另一个重要的TTM衡量标准是他们能否快速隔离已确定的突破系统。随着恶意软件变得越来越自动化，我们需要利用智能和自动化流程，迅速将受感染的系统或网络部分与组织的其他部分隔离开来。

### 来自应急响应/取证人员的反馈
我建议记录蓝队的反馈，即他们从防守角度如何看待整个行动。具体来说，我想了解以下几点：
- 如果蓝队按照安全防护规定启动调查，管理层如何介入。
- 安全部门与IT部门之间的互动，促使IT部门做出改变（如防火墙拦截、DNS修改等）。
- 人员在应对事件时的表现，是否保持冷静或出现恐慌。

### 红队的目的
红队的目标不是寻找漏洞或破坏环境（尽管这是有趣的部分），而是提升和改善组织的整体安全流程，并揭示安全环境中的潜在差距。许多公司对现有的安全流程过于自信，不会在被真正攻破之前做出改变。通过红队模拟攻击，可以鼓励企业改进其安全措施，从而避免真实攻击的发生。

## 第11章 继续教育
我经常被问到：“我现在该怎么办？我已经阅读了所有的‘黑客秘笈’系列图书，参加了各种培训课程，并参加了很多会议！”我的最佳建议是从小项目开始，并为安全社区做出贡献。以下是几个可能有用的想法：

1. **设置博客和GitHub账户**：记录您的学习经历并与他人分享。撰写博客有助于提高写作能力，并以更易理解的方式解释漏洞和利用方法。
2. **将GitHub账户作为简历的一部分**：无论是小型安全项目还是您自己的项目，确保在GitHub上展示您的工作。
3. **在当地会议上发言**：演讲虽然令人紧张，但在简历上有演讲经历会使您更容易进入安全领域。可以从本地聚会开始，找到参与机会。如果您在加利福尼亚州南部地区，可以加入LETHAL组织。
4. **Bug赏金计划**：参与HackerOne、BugCrowd和SynAck等Bug赏金计划，不仅可以赚取收入，还能合法地测试目标网站。
5. **夺旗竞赛**：访问CTFtime.org，选择一些CTF比赛，在周末参与。相信我，CTF周末的学习量比任何课程都多。
6. **建立实验室**：在测试环境中模拟公司环境，这对于理解和实践攻击性工具至关重要。构建包含虚拟局域网、活动目录、服务器、GPO、用户和计算机、Linux环境、Puppet、Jenkins等的全面实验室。
7. **向对手学习**：关注最新的APT报告，了解对手如何改变他们的攻击方式。
8. **订阅“黑客秘笈”系列**：要了解最新的黑客新闻，请在此订阅thehackerplaybook。
9. **培训**：如果您正在寻找培训资源，可以访问thehackerplaybook网站。

## 致谢
特别感谢以下人士对本书的贡献和支持：
- Walter Pearce
- Kristen Kim
- Bill Eyler
- Ann Le
- Michael Lim
- Kevin Bang
- Brett Buerhaus
- Tony Dow
- Tom Gadola

以及其他众多专家和团队，包括SpecterOps、FireEye、TrustedSec、SpiderLabs等。