③签发（安全发布）。ID 必须由权威机构签发和证明其真实有效。
2.有三个概念也要搞清楚：
这几个概念的考题很难。权限=操作__许可=(访问+权限)__特权=超级许可
*许可 Permissions。许可是指授予对一个对象的访问权并明确访问权的具体内容。有时
与权限的意思一样。（许可包括能否访问客体、对客体有什么权限 2 个要素）
*权限 Rights。权限是指对一个对象采取行动的能力。例如，一个用户有权修改数据。（权
限就是针对客体的，不包括“访问”）
*特权 Privileges。特权是权限和特权的综合。就是拥有一组多个最高权限的特别身份。
3.一个全面的身份管理解决方案包括以下技术：
*密码管理；*帐户管理；*配置文件管理；*目录管理；*单点登录。
4.访问控制的流程：
①Idenfication=>Authentication=>Authorization=>Access=>Accountability
即：身份标识/识别==>身份验证/鉴别==>授权==>访问==>可问责性。
AAA 服务（Authentication、Authorization、Accountability）就是为了管控 Access。
这些在第一域第一章就讲过了。
二、密码管理
现代的大多数系统要求用户定期更改密码；为了防止暴力破解和 DDOS，多系统集成了密
码多次无效尝试后被锁定的功能。密码管理系统是用来统一管理在整个企业中的密码。
三、帐户管理
账户管理系统试图简化管理跨多个系统的用户身份。后面有专门讲账户管理的生命周期。
身份管理(Identity Management,IdM)是一个广泛而又深入的术语，包括使用不同产品对
—147—
用户进行自动化的身份标识、身份验证和授权。考试中 IDM 系统一般会涉及到目录服务中的“元
目录”和“虚拟目录”的内容；还会涉及到为了管理网络活动而增加的网络访问控制组件 WAM
（Web access management component）；还会涉及到 3 种不同的密码更新方式：
①密码同步 Password synchronization，为了减少复杂性，自动同步不同系统的密码。
②自主修改 Self-service password reset，为了减少客服电话受理业务量，用户自己改。
③辅助修改 Assisted password reset，为了减少客服实施操作工作量，先客服验证，再
让用户自己改。（一般有使用生物识别、令牌什么的）
1.这里讲下 SID
每个 Windows 用户，计算机或服务帐户具有唯一的字母数字标识符称为 SID。Willdows 安
全相关的处理，例如身份验证、授权和审计，使用唯一的 SID 来标识安全主体。由于 SID 是使
用在系统进程中，所以 SID 的格式对普通用户或管理员都不是很友好。AD 域帐户的 SID 是由
每个 Windows 域控制器(DC)运行一个域的安全权限创建的；本地帐户的 SID 是由每个 Windows
中运行的本地安全机构(LSA)服务创建。
2.举个例子
在测试活动目录(AD)系统中可分析得到一个 SID：
S-I-5-21-4035617097-1094650281-2406268287-1981，其中：
*S：初始的 S 标识，即代表该值为 SID 字符串。
*I：SID 的版本规范。到目前为止，从未改变，一直是 l。
*5：标识符权限值。这是顶级权威发布的一个预定义 SID 标识符。这通常是 5,它表示
SECURITY_NT_AUTHORlTY。
*21-4035617097-1094650281-2406268287：这部分是域或本地计算机的标识符，在本例中
它是一个域标识符。这是一个 SID 标识符创建的计算机或域的 48 位字符串。
*1981：这关联 ID(RID)是该 SID 的最后一部分。这 RID 可以用来唯一标识一种安全结构，
这种结构与一定范围的安全授权有关，而这种安全授权产生了 SID。在 Windows 操作系统中，
任何组或用户不能创建 RID 为 1000 或者更高的级别。
3.SID 唯一性
SID 的一个重要性质是其在时间和地点的唯一性。域安全机构作为跟踪的所有 SID 的颁发
和吊销机构，不会允许 SID 被重用。
4.公共的 SID
公共的 SID 是一组通用用户或通用组的 SID 标识。它们的值在所有操作系统保持不变。以
下是著名的 SID：
①SID：S-1-5-21domain-500
名称：管理员
描述：系统管理员的用户帐户。默认情况下，它是给予完全控制系统权限的用户帐户。
②SID：S-1-5-21domain-501
名称：访客/来宾
描述：临时的、不需要密码的用户帐户。默认情况下，Guest 帐户被禁用。
—148—
③SID：S-1-5-21domain-512
名称：域管理员
描述：授权管理域中的所有成员。默认情况下，域管理员组是已经如入到域并包括域控制
器的所有计算机上 Adrninístrators 组的成员。域管理员组在默认情况下是可以创建的任何对
象和任何成员的组。
基于上面列出的公共的 SID/RID 组合，我们可以知道，RID 为 500 的是系统内置的管理员
帐户。这是有价值的信息，可以确定帐户是否被重命名混淆和确认其真实身份。同样，一个黑
客可能去尝试确定一个帐户的真实身份。
四、配置文件管理
配置文件是与特定身份或组相关联的信息集合。除了用户 ID 和密码，用户配置文件可能
包括个人信息，如姓名、电话号码、电子邮件地址、家庭地址，出生日期等。配置文件还可以
包含在特定系统上特权和权利有关的信息。然而，任何用户的特定信息会随着时间的变化而变
化，管理该变更过程是一个整体的身份管理中的一个重要组成部分。
当必须改变一个配置文件时，这个过程应易于管理并自动传播到关键的系统，如企业目录，
和个人系统。大多数客户关系管理(CRM)系统包括使用一些工具来管理用户配置文件，可以是
行政或通过自助服务方式。访问管理系统和密码管理系统中也可以实现这个功能。它有助于让
用户输入和管理个人不敏感的部分新数据而不需要验证。这有助于减少实施这些改变的成本和
时间，并提高准确性。
五、目录管理
集中式的访问控制系统，需要使用目录服务，它是一个集中的数据库，包含了主客体信息。
公司的目录是一个集中管理与公司有关实体的各种各样数据的综合数据库，如用户、组、系统、
服务器和打印机等对象的层次结构信息。目录服务的主要好处是，它是集中收集用户数据，可
以由许多应用程序使用，可以避免信息复制并简化用户数据。最常用的目录协议是轻量级目录
访问协议(LDAP)，其它的还有 Novell NetWare 目录服务 NDS(NetWare Directory Service)
和 Microsoft 活动目录域服务(ADDS)。
目录服务就是一个为了快速读取和搜索的数据库软件，目录服务与数据库的区别：
①目录一般只执行简单的更新操作，适合于进行大量数据的检索，不支持批量更新。
②目录具有广泛复制信息的能力，从而在缩短响应时间的同时，提高了可用性和可靠性。
要搞清楚什么是元目录，什么是虚拟目录：
①元目录(meta-directories)：在中央目录中存储的必要信息，有统一视图，并定期同步；
②虚拟目录(virtual directories)：与元目录类似，区别在于元目录的目录中含有真实
数据，而虚拟目录没有，虚拟目录只是指向实际的数据库。
1. X.500
X.500 系列通信协议是由国际电信联盟(ITU-T)在 90 年代初开发，最初被称为 ISO/IEC
9594-1：2008，现在是 ISO/IEC 9594-1：2014。它由四个不同的协议组成：
①目录访问协议(DAP)，主协议；
—149—
②目录系统协议(DSP)；
③目录信息屏蔽协议(DISP)；
④目录操作绑定管理协议(DOP)。
信息在 X.500 目录中被组织成一个层次数据库，所有资源的都有一个专有名称/可区分名
(DN)，它提供在 X.500 数据库中的完整路径，可以找到其中一个特定的条目。X.500 还支持
一个相对专有名称(RDN)，它提供了一个特定项目的名称，而不附加完整路径的组件。目录
内的客体由目录服务管理。目录服务允许管理员配置和管理如何在网络中进行身份标识、身
份验证、授权和访问控制。目录内的客体通过名称空间标记和标识。
举个例子：
在 Windows 环境中进行登录时，你会登入一个域控制器(Domain Controller,DC)，它的
数据库中具有一个层次化目录。这个数据库运行一个目录服务(Active Directory)，活动目
录)，该服务组织网络资源并执行用户访问控制功能。因此，一旦成功登入域控制器，根据活
动目录的配置，你就可以访问某些网络资源(如打印服务、文件服务棒、电子邮件服务器等)。
目录服务如何让这些实体保持有序运行呢?这就需要使用名称空间。每种目录服务都采用
某种方式标识和命名它们所管理的客体。在基于 X.500 标准的、由 LDAP 访问的数据库中，目
录服务为每个客体分配可区分名/专用名称(Distinguished Name, DN)。每个 DN 代表与某个客
体有关的一组属性，并且作为一个条目存入目录。
下面讲的术语是按 LDAP 的标准来的：
①DN 可区分名 Distinguished Name；是 LDAP 记录项的名字(唯一)，每一个 LDAP 记录项
的 DN 是由两个部分组成的：相对 DN（RDN）和记录在 LDAP 目录中的位置，反正好多属性值。
DN 的读法和 DNS 主机名类似。
②CN 通用名称 Common Name；
③DC 域组件 Domain Component；
④OU 组织单元 Organization Unit；用来表示公司内部的机构：销售部、财务部，等等。
⑤RDN 相对专有名称；RDN 是 DN 中与目录树的结构无关的部分（没有路径）。在 LDAP 目
录中存储的记录项都要有一个名字，这个名字通常存在 CN（Common Name）这个属性里，作为
RDN 的基础。如果我把最喜欢吃的燕麦粥食谱存为一个记录，我就会用 CN=Oatmeal Deluxe 作
为记录项的 RDN。
DN=DC+CN+OU，RDN=CN。
—150—
2.轻量级目录访问协议(LDAP) Lightweight Directory Access Protocol/最重要
与 X.500 不同，LDAP 支持 TCP/IP。许多目录服务建立在轻量级目录访问协议(LDAP)基础
上。例如，Microsoft 动态目录域服务就是以 LDAP 为基础的。公钥基础设施（PKI）用于管理
和传输数字证书，它就要使用 LDAP，LDAP 也用于实现单点登录功能。下面讲的密钥管理中心
（KDC）也要用到 LDAP。
LDAP 是各种网络服务、主体、客体和资产的名录清单。用户、客户和流程可以搜索目录
服务找到所需系统或资源存储的地方。访问控制系统经常会用到多个域和信任关系。安全域是
主客体的集合，共用一个安全策略，单个域可以独立于其他域单独操作。信任是域和域之间所
建立的安全桥梁，允许用户从一个域访问另一个域中的资源。
LDAP 使用分层树结构的目录条目。与 X.500 一样，LDAP 条目支持 DN 和 RDN 概念。DN 属
是一个实体的 DN 名称，RDN 只有名称不包含路径。数据库中的每个条目具有一系列名称/值对，
来表示与每个条目相关联的各种属性。LDAP 条目的常见属性包括（具体见上面的图和示例）：
①DN 可区分名；②CN 通用名称；③DC 域组件；④OU 组织单元；⑤RDN 相对专有名称
—151—
LDAP 使用 C/S（客户机/服务器）体系结构，客户端发出请求访问 LDAP 服务器，服务器将
响应请求的结果返回到客户机。LDAP 使用 TCP 端口 389 进行通信。如果需要高等级的安全，
第三版的 LDAP 协议支持使用 TLS 加密通信（636 端口）。全局编录服务器使用 TCP 3238 端口
（不加密）、3269 端口（加密）。
3.活动目录域服务(ADDS)
活动目录域服务，通常被称为 AD 域或 ADDS，是 LDAP 协议基于 Microsoft 环境的实现。
通过使用附加的插件服务，LDAP 目录可以通过许多其他系统，包括 UNIX,Linux 和甚至大型机
环境中使用。ADDS 提供了在一个企业范围的用户和系统服务中心的认证和授权功能。ADDS 有
能力实现强制执行组织的安全和跨企业配置策略。
ADDS 在命名结构上使用了 LDAP。与 LDAP 一样，ADDS 使用层次框架的一种体系来存储信
息。ADDS 目录被组织成树和森林。森林是所有的对象及其关联属性的集合，树是一个或多个
增加了一个森林内的安全域逻辑分组。域在 ADDS 是他们的 DNS 名称标识。在 ADDS 数据库的对
象由组织单位分组。
4. X.400
X.400 协议支持两个主要的功能：消息传输和消息存储。X.400 的地址包含一系列用分号
分隔的名称/值对。
一个典型的地址组件包含：
组织名称(O)；组织单元名称(OU)；指定名称(G)；缩写(I)；姓(S)；国家名(C)。
下面重点讲单点登陆
六、单点登录 Single Sign-On
单点登录(SSO)是一种集中式访问控制技术，允许一个主体只在系统上认证一次并且可以
不用认证身份而访问多个资源。但是，一旦账户被破解，那么恶意主体就会拥有不受限制的访
问权限。常用的单点技术有：
*基于脚本的单点登陆：代替用户与应用进行交互，去登陆其它系统。堡垒机就用的这个。
*Kerberos：由 KDC 来发“票”，对称加密。
*SESAME：要用到特权证书 Privileged Attribute Certificates (PACs)和鉴权服务
Privileged Attribute Server (PAS)。
*Security domains：主、客体都在同一密级的域时里，不存在越权了。
*Directory services：所有资源按标准进行命名。
*Thin clients：客户端搞定。
1. Kerberos（希腊神话里的 3 头看门狗）（必考）
这是麻省理工大学开发的身份验证技术，在 UNIX、WINDOWS、LINUX、MAC OS 等操作系统
都使用了，是开放的免费的协议，具有保护网络的三个要素：身份验证，授权和审计（AAA）。
它采用第三方实体来验证身份，是 C/S 架构（客户端/服务器），提供单点登录解决方案，可
以用在单机登录、本地 LAN、远程访问等。现在的 Kerboros 5 版本依赖的是对称密钥加密的