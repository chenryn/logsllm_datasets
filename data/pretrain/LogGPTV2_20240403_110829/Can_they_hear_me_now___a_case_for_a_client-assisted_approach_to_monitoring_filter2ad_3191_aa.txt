title:Can they hear me now?: a case for a client-assisted approach to monitoring
wide-area wireless networks
author:Sayandeep Sen and
Jongwon Yoon and
Joshua Hare and
Justin Ormont and
Suman Banerjee
Can They Hear Me Now?: A Case for a Client-assisted
Approach to Monitoring Wide-area Wireless Networks
Sayandeep Sen∗, Jongwon Yoon∗, Joshua Hare∗, Justin Ormont, Suman Banerjee
University of Wisconsin-Madison
{sdsen, yoonj, hare, ormont, suman}@cs.wisc.edu
ABSTRACT
We present WiScape, a framework for measuring and under-
standing the behavior of wide-area wireless networks, e.g.,
city-wide or nation-wide cellular data networks using active
participation from clients. The goal of WiScape is to provide
a coarse-grained view of a wide-area wireless landscape that
allows operators and users to understand broad performance
characteristics of the network. In this approach a central-
ized controller instructs clients to collect measurement sam-
ples over time and space in an opportunistic manner. To
limit the overheads of this measurement framework, WiS-
cape partitions the world into zones, contiguous areas with
relatively similar user experiences, and partitions time into
zone-speciﬁc epochs over which network statistics are rela-
tively stable. For each epoch in each zone, WiScape takes
a minimalistic view — it attempts to collect a small num-
ber of measurement samples to adequately characterize the
client experience in that zone and epoch, thereby limiting
the bandwidth and energy overheads at client devices. For
this eﬀort, we have collected ground truth measurements
for up to three diﬀerent commercial cellular wireless net-
works across (i) an area of more than 155 square kilometer
in and around Madison, WI, in the USA, (ii) a road stretch
of more than 240 kilometers between Madison and Chicago,
and (iii) locations in New Brunswick and Princeton, New
Jersey, USA, for a period of more than 1 year. We jus-
tify various design choices of WiScape through this data,
demonstrate that WiScape can provide an accurate perfor-
mance characterization of these networks over a wide area
(within 4% error for more than 70% of instances) with a
low overhead on the clients, and illustrate multiple appli-
cations of this framework through a sustained and ongoing
measurement study.
∗Primary authors.
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
IMC’11, November 2–4, 2011, Berlin, Germany.
Copyright 2011 ACM 978-1-4503-1013-0/11/11 ...$10.00.
Figure 1: A Snapshot of TCP throughput distri-
bution within our NetB network, covering a 155 sq.
kilometer city-wide area. Throughputs are collected
based on 1MB downloads, collected using WiScape.
Each dot corresponds to a circular area of radius 600
meters.
Categories and Subject Descriptors
C.2.3 [Network Operations]: Network Monitoring, Pub-
lic networks; C.2.1 [Computer Communication Net-
works]: Network Architecture and Design—Wireless Com-
munication
General Terms
Documentation, Experimentation, Measurement, Performance,
Reliability
Keywords
Cellular Networks, Measurement, Client Assisted
1.
INTRODUCTION
The ability to observe an entire network’s performance
is an important precursor to understanding and predicting
its behavior, and in debugging its performance problems.
Gathering such detailed observations at a network-scale is
challenging for any network, whether wired or wireless.
In wired networks, such as enterprises or ISPs, operators
typically deploy multiple monitoring nodes in carefully cho-
sen vantage points within the network to capture and aggre-
gate necessary information [1]. In the context of WLANs,
99multiple early eﬀorts emulated these wired approaches by
deploying similar monitoring nodes in the wired part of
the network [2]. However, wired-only observations fail to
capture the impact of location-speciﬁc RF characteristics.
Hence, more recent WLAN monitoring eﬀorts, e.g., Jig-
saw [3], chose to deploy numerous wireless sniﬀers across an
entire physical space, e.g., a campus building. While deploy-
ment of such a widespread wireless monitoring infrastruc-
ture is still feasible in building-wide settings, the logistics of
densely deploying and managing such infrastructure is im-
practical when the wireless networks are signiﬁcantly larger
in scale. In particular, it is virtually impossible to densely
deploy wireless sniﬀers to monitor the performance of a city-
scale or a nation-scale cellular data network. In this paper,
we examine a diﬀerent solution for monitoring and measur-
ing such large-scale wireless networks, one that leverages
the potential assistance of a large number of clients. More
speciﬁcally, we present WiScape, a framework to character-
ize the wireless landscape, using data collected from three
commercial cellular data networks over more than one year
across large regions: (i) more than 155 square kilometers in
and around Madison, WI, in the USA, (ii) a road stretch of
240 kilometers between Madison and Chicago, and (iii) tar-
geted regions in the cities of New Brunswick and Princeton
in New Jersey, USA. Figure 1 presents a snapshot of some of
our measurement data collected from one of the monitored
cellular networks across Madison, WI. The ﬁgure partitions
the entire area into coarse-grained zones (each zone is a 0.2
sq.km.), with only a sampled subset of zones shown, and the
size of the circles represent the average values of the TCP
download throughputs (the shade of the circle represent the
variance of throughput samples).
In this paper, we also demonstrate, via experimentation,
how network operators and users (applications) can beneﬁt
from data accumulated by the WiScape framework. For in-
stance, in our experiments we found that a network operator
can use WiScape to easily identify signiﬁcant changes in user
experiences within their own network, while an application
such as MAR [4] (which uses multiple cellular network inter-
faces to provide aggregated wireless bandwidth into vehicles)
can improve its own performance by up to 41% by leveraging
WiScape collected data. Finally, an approach such as WiS-
cape can potentially serve as a performance watchdog and
can provide a neutral view of diﬀerent commercial wireless
networks over time and space.
Client-assisted monitoring in WiScape
Cellular data networks nationwide are placing increasing em-
phasis on performance, mobility and wide-area coverage. As
these networks attempt to provide ubiquitous connectivity
to large geographic areas, operators continue to seek better
tools to observe network performance at all locations. Each
network operator sends out its RF monitoring trucks during
initial deployment of cellular towers and periodically after
that to various neighborhoods. Occasionally, if the operator
receives a large volume of consumer complaints of network
performance from a certain area, they would also conduct
additional RF surveys at those speciﬁc locations [5]. Each
such RF survey is quite labor-intensive.
Furthermore, user complaints are unlikely to capture a
vast majority of network performance issues that occur. Users
often only complain when a problem is particularly serious
and persistent, causing major disruptions to the user over a
long period of time.
In WiScape we propose to measure the network’s perfor-
mance, as perceived by the clients and through the help of
clients. More speciﬁcally, in this approach diverse mobile
clients measures network properties based on instructions
from a central controller to map out the performance across
the entire network. Since the clients are naturally mobile,
they are perfectly positioned to monitor the network per-
formance from various vantage points. If implemented suc-
cessfully, this approach can mitigate signiﬁcant costs that
operators might otherwise have to incur in order to collect
data of the same level of richness and detail. In addition,
such an approach provides us with unique data from the
client’s point of view, which is not available otherwise.
This high-level idea is actually a fairly common one and
diﬀerent variants of it have been referred to as crowd-sourcing,
war-driving, and participatory sensing. Such approaches
have been used to collect locations of WiFi APs worldwide,
and have been proposed in various types of health-related
applications (air pollution, audio noise level, and radiation
exposure monitoring across a city), as well as social inter-
actions (detecting presence of friends nearby) [6, 7]. In the
wireless setting, there are now ongoing eﬀorts that attempt
a similar approach to collect performance data of diﬀerent
cellular networks. Examples include RootWireless [8] a com-
pany that distributes mobile phone applications that collect
measurements from volunteers to generate coverage maps
of cellular operators, the 3gtest application from U Michi-
gan [9] and AT&T’s “Mark the Spot” iPhone application
that allows iPhone users to record the location of where a
phone call was dropped.
While the main idea is relatively simple, the core techni-
cal challenge in designing an eﬀective, scalable, and useful
system lies in its ability to manage the volume of measure-
ments required and the manner in which measurement tasks
can be coordinated across multiple clients. We comment on
this issue next.
WiScape approach and usage scenarios: In a client-
based monitoring system, if all clients are requested to col-
lect performance measurements all the time, the volume of
such measurement traﬃc could prohibit useful activity in
the network. Such an eﬀort could also place a signiﬁcant
burden on the client devices leading to quicker depletion of
the limited battery power of these devices. Therefore, the
key in designing a client-based monitoring infrastructure is
to ensure that the volume of data collected is low, yet is
adequate to present the operators and users with a broad
understanding of network performance. At the same time,
since this approach is able to collect measurements only from
speciﬁc locations clients are available at any given instant,
the number of measurement samples available from any ar-
bitrary location and at any desired time is likely to be quite
sparse, often zero, and hence not statistically signiﬁcant.
Therefore, in WiScape we need to aggregate collected mea-
surements from clients, both in time and space so that it is
statistically signiﬁcant for observations.
Burdened by above considerations, we partition the world
into zones (around 0.2 sq. kilometer each) and time in each
zone into epochs (a few tens of minutes). We deﬁne zones
such that measurements within each zone have relatively low
variance most of the time. We deﬁne epochs such that statis-
tics across multiple consecutive epochs of the same zone have
100low variance.
(Note that epochs may have smaller dura-
tions in zones with rapidly changing performance observed
by clients.) In other words, each epoch for each zone is the
smallest time-space granularity that WiScape attempts to
accurately estimate to provide a stable measure. Based on
our models, we require around 100 measurement samples to
estimate network layer performance of each epoch of a zone,
such as throughput, delay, loss, and jitter. We believe for
most zones this measurement volume is easy to obtain, espe-
cially for zones in dense urban areas with many users. which
often require greater attention from network operators.
The nature of data collection in WiScape also dictates
the type of its use. Given our intent of collecting a small
amount of data, WiScape will miss many of the short-term
and transient variations, e.g., as a result of sudden burst
of active users arriving in a given location and then dis-
appearing within a few minutes. However, any persistent
network behavior (persistent in the order of an epoch, typi-
cally tens of minutes) will be captured by our system quite
accurately. We show this through multiple examples in Sec-
tion 4. An interesting such example was WiScape’s detection
of 4× increase in latencies in a speciﬁc zone of two cellular
networks in Madison, encompassing the UW-Madison foot-
ball stadium, for nearly 3 hours on a football Saturday when
nearly 80,000 people packed into the stadium for the game.
In the rest of the paper, we explain how we designed
the WiScape framework through detailed measurements and
statistical analysis of the data and make the following key
contributions:
• We establish the feasibility of client-assisted monitor-
ing of wide area wireless networks by carrying out ex-
tensive measurements over a duration of more than
1 year, spanning a geographical area of more than
155 sq.km. across multiple cities, a long road stretch
of 240 k.m. and across three 3G cellular networks.
Traces used for the paper will be made publicly avail-
able through CRAWDAD [10].
• We design and implement WiScape — a monitoring
system that bins measurements into epochs and zones
and collects a relatively small number of measurements
per epoch per zone. We establish appropriate parame-
ters for epochs, zones, and the number of measurement
samples through detailed data collection, analysis, and
experimentation.
• We demonstrate the beneﬁts of WiScape through mul-
tiple simple use cases: (i) to quickly detect somewhat
persistent changes to network behavior and alert net-
work operators of need to perform detailed investiga-
tions of such changes, (ii) to apply WiScape collected
data to improve the performance of multi-network ap-
plications like MAR and “multi-sim.”
In the next section, we present some details on our mea-
surement and data collection eﬀorts used designing and eval-
uating diﬀerent aspects of WiScape. Subsequently, in Sec-
tion 3, we present the overall design of WiScape including
related validation. In Section 4 we demonstrate some uses of
data collected by WiScape, and ﬁnally discuss related work
and present our conclusions in Sections 5 and 6 respectively.
2. PRELIMINARIES
Our measurement setup consists of a measurement coor-
dinator running on a desktop in our university laboratory,
with well provisioned connectivity to the Internet, that pe-
riodically requests and collects measurements from diﬀerent
client devices (based on Windows and Linux platforms). In
our measurements, we have gathered data from three diﬀer-
ent cellular networks with nation-wide footprints, referred
to as NetA , NetB , and NetC 1. The data collection pro-
cess has been ongoing in multiple stages for more than one
year now (Table 1) and diﬀerent clients in our measurement
setup had diﬀerent capabilities and characteristics as dis-
cussed next.
Data collection process: While we have collected mea-
surement data for both uplink and downlink, in this paper,
we focus on the downlink direction. This is motivated by the
observation that most of data traﬃc is downlink. Our data
collection has been done using multiple platforms, some of
which are mounted on vehicles (public transit buses in Madi-
son, intercity buses, as well as nodes mounted on personal
vehicles), while others are static.
Wide-area: The spatially biggest datasets are labeled Stan-
dalone and WiRover . The Standalone dataset was collected
using up to ﬁve public transit buses in Madison, covering an
approximate area of 155 sq. kilometer in this city. These
public transit buses typically run from 6am to midnight
and each particular bus gets randomly assigned to diﬀer-
ent routes each day. Even in a single month, this set of
buses is able to cover a signiﬁcant fraction of Madison and
its neighboring cities. The WiRover data collection pro-
cess is the newer incarnation of the Standalone process, in
which all of these bus-mounted nodes now are equipped
with two network interfaces (NetB and NetC ), and provide
free WiFi service to bus passengers using the multi-network
setup [13]. In addition to the public transit buses of Madi-
son, we also placed additional nodes on two intercity buses
between Madison and Chicago, a distance of more than 240
kilometer. Over time, these buses generated multiple mea-
surement values for each location along this path stretch.
We did not evaluate if any bias was introduced by the peri-
odic nature of bus routes on the collected data.
Spot: The vehicular setup cannot provide us with long run-
ning contiguous measurements from a speciﬁc location. To
study cellular network performance over a longer timescale,
we selected some indoor locations to continuously collect
data for up to 5 months. These included multiple locations
in Madison, WI, and Princeton and New Brunswick, NJ.
We describe our criteria for selecting the speciﬁc locations
in Section 3.1. These datasets provide a more detailed and
ﬁne-grained view than is possible using with the vehicular
collection methods of our Wide-area data. We apply these
datasets to understand network performance over time for a
given static location as will be demonstrated in Section 3.2.1.
Region: This consists of multiple datasets: Proximate-
WI, Proximate-NJ, and Short segment. The two Proximate
datasets were collected in neighborhoods close to the previ-
ously selected Spot locations. All three datasets consist of
targeted measurement data to understand the feasibility of
1Since our goal for this paper currently is to explore a mea-
surement framework, and not to answer which of these net-
works perform best or worst in diﬀerent locations, we did
not ﬁnd it useful to reveal the identities of these nation-wide
cellular providers.
101Networks
Hardware
Measurement params
Params logged
GSM HSPA [11], Uplink (≤1.2Mbps), Downlink (≤ 7.2Mbps)
CDMA2000 1xEV-DO Rev.A [12], Uplink (≤ 1.8Mbps), Downlink (≤ 3.1Mbps)
CDMA2000 1xEV-DO Rev.A [12], Uplink (≤ 1.8Mbps), Downlink (≤ 3.1Mbps)
3 Desktops with well provisioned wired Internet connection
3 Laptops with 3 cellular data cards & GPS
NetA
NetB
NetC
Server
Client
Transport protocol (TCP/UDP), Transmission duration (10sec∼5min)
Inter packet delay (1msec∼100msec, adaptively varies base on available capacity)
Download size (200 and 1200Bytes for UDP, 100Bytes∼2048Bytes for TCP)