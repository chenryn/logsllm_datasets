Impact 
(User 
Constraints) 
0 s2 
0 s2 
Selected 
Recovery 
Action(User 
Constraints) 
AMI from the 
old database 
instance; 
(Reparation) 
Launch  a  new 
database 
instance  in  the 
new  availability 
zone; 
Reasign the IP 
to the new 
database 
instance; 
 (Direct Redo) 
Terninate the 
old database 
instance; 
(Direct Redo) 
3)  Satisfying Recovery Requirement R3 
The recovery impact of the selected recovery action is the optimal/acceptable one, which means 
that  its  recovery  impact  is  relatively  small  compared  to  all  other  recovery  actions.  Such 
selection  and  optimization  mechanism  guarantees  that  the  recovery  impact  can  meet  the 
recovery impact objective set by stakeholders. Hence, the requirement that the recovery should 
reduce negative impact is achieved. 
D.  Recovery Reducing Monetary Cost 
1)  Experimental Procedure 
This recovery requirement concerns the monetary cost the recovery incurs on the cloud system. 
We  therefore  measure  recovery  monetary  cost  by  performing  migration  operation  on  a  cloud 
application.  The  software  running  in  the  cloud  instances  is  turned  off  during  the  migration 
operation. We used our own proprietary fault injection tool to inject faults for each of the eight 
determined recovery points in the migration operation, automatically determined the applicable 
recovery patterns based on the applicable recovery patterns filtering method described in section 
7.3, and performed recovery using the selected acceptable recovery action based on each of the 
two  recovery  action  selection  methods.  The  faults  injected  are  described  in  Table  49.  The 
selection  of  injected  faults  is  based  on  our  interviews  with  industry  and  failure  reports,  and 
hence  representative.  The  recovery  monetary  cost  is  calculated  by  summing  up  the  monetary 
141 
cost incurred by each  step in the recovery action. We ran the experiment  30 times, measuring 
the average recovery monetary cost.  
Table 49.  Faults injected for Migration Operation 
Recovery Point 
Fault injected 
Recovery Point 1 (After Step 1) 
Old web instance not stopped  
Recovery Point 2 (After Step 2) 
AMI not created 
Recovery Point 3 (After Step 4) 
New web instance not launched 
Recovery Point 4 (After Step 5) 
Old web instance not terminated 
Recovery Point 5 (After Step 6) 
Old DB instance not stopped  
Recovery Point 6 (After Step 7) 
AMI not created 
Recovery Point 7 (After Step 9) 
New DB instance not launched 
Recovery Point 8 (After Step 10) 
Old DB instance not terminated 
2)  Experimental Results 
Table  50  shows  the  recovery  monetary  cost  of  the  recovery  for  the  migration  operation.  The 
recovery monetary cost in the table represents the average value of the recovery monetary cost 
for  30  runs.  The  highest  relative  standard  deviation  is  0%.  For  each  recovery  point,  the 
monetary  cost  of  the  recovery  action  selected  by  the  Pareto  set  search  based  optimization 
method  is  no  greater  than  the  other  applicable  recovery  actions;  the  monetary  cost  of  the 
selected  recovery  action  by  the  user  constraints  based  optimization  method  is  not  necessarily 
less  than  all  the  other  ones,  but  it  is  within  the  monetary  cost  constraint  set  by  business 
stakeholders. 
Legends 
Recovery Pattern ID 
RP1 
RP2 
RP3 
RP4 
Table 50.  Recovery Monetary Cost for Migration 
Recovery Pattern 
Compensated Undo & Redo 
Compensated Undo & Alternative 
Rewind & Replay 
Rewind & Alternative 
Recovery Pattern ID 
RP5 
RP6 
RP7 
RP8 
Recovery Pattern 
Reparation 
Direct Redo 
Direct Alternative 
Farther Undo & Redo 
Recovery 
Process 
Point 
Step 
Errors 
Applicab
le 
Recovery 
Patterns 
Selected 
Recovery 
Action(Pareto 
Set) 
Monetary 
Cost 
(Pareto Set) 
Selected 
Recovery 
Action(User 
Constraints) 
Monetary 
Cost (User 
Constraints) 
Recovery 
Point 1 
Step 1. 
Stop the 
old web 
instance in 
the old 
availability 
zone 
Old  web 
instance 
not stopped  
RP1, 
RP3, 
RP5, RP6 
Stop the old 
web instance 
again; 
(Direct Redo) 
$0 
Stop the old 
web instance; 
(Reparation) 
$0 
142 
Recovery 
Process 
Point 
Step 
Errors 
Applicab
le 
Recovery 
Patterns 
Selected 
Recovery 
Action(Pareto 
Set) 
Monetary 
Cost 
(Pareto Set) 
Step 2. 
Create an 
AMI from 
the old 
web 
instance 
Step 3. 
Launch a 
new web 
instance in 
the new 
availability 
zone, using 
the AMI;  
Step 4. 
Reassign 
the IP to 
the new 
web 
instance 
Step 5. 
Terminate 
the old 
web 
instance 
Step 6. 
Stop the 
old 
database 
instance in 
the old 
availability 
zone 
Step 7. 
Create an 
AMI from 
the old 
database 
instance 
Step 8. 
Launch a 
new 
database 
instance in 
the new 
availability 
zone, using 
the AMI;  
Step 9. 
Reassign 
the IP to 
the new 
database 
instance 
Step 10. 
Terminate 
the old 
database 
instance 
Recovery 
Point 2 
Recovery 
Point 3 
Recovery 
Point 4 
Recovery 
Point 5 
Recovery 
Point 6 
Recovery 
Point 7 
Recovery 
Point 8 
Selected 
Recovery 
Action(User 
Constraints) 
Delete 
the 
failed AMI; 
Create a new 
AMI from the 
old web 
instance; 
(Reparation) 
Launch  a  new 
instance 
web 
in 
the  new 
availability 
zone; 
Reasign the IP 
to the new web 
instance; 
 (Direct Redo) 
Terninate the 
old web 
instance; 
(Direct Redo) 
Stop the old 
database 
instance; 
Monetary 
Cost (User 
Constraints) 
$0 
$0.0031 
$0 
$0 
$0 
$0.0031 
not 
AMI 
created 
RP1, 
RP3, 