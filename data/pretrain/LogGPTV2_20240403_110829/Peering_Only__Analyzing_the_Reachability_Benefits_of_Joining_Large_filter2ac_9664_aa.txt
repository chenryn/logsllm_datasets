title:Peering Only? Analyzing the Reachability Benefits of Joining Large
IXPs Today
author:Lars Prehn and
Franziska Lichtblau and
Christoph Dietzel and
Anja Feldmann
Peering Only? Analyzing the Reachability
Beneﬁts of Joining Large IXPs Today
Lars Prehn1(B), Franziska Lichtblau1, Christoph Dietzel1,2,
and Anja Feldmann1
1 MPII, Saarbr¨ucken, Germany
{lprehn,franziska.lichtblau,anja}@mpi-inf.mpg.de
2 DE-CIX, Cologne, Germany
PI:EMAIL
Abstract. Internet Exchange Points (IXPs) became a fundamental
building block of
inter-domain routing throughout the last decade.
Today, they oﬀer their members access to hundreds—if not thousands—
of possible networks to peer.
In this paper, we pose the question: How far can peering at those large
IXPs get us in terms of reachable preﬁxes and services? To approach this
question, we ﬁrst analyze and compare Route Server snapshots obtained
from eight of the world’s largest IXPs. Afterwards, we perform an in-
depth analysis of bi-lateral and private peering at a single IXP based on
its peering LAN traﬃc and queries to carefully selected, nearby looking
glasses. To assess the relevance of the preﬁxes available via each peering
type, we utilize two orthogonal metrics: the number of domains served
from the preﬁx and the traﬃc volume that a large eyeball network egress
towards it.
Our results show that multi-lateral peering can cover ˜20% and ˜40%
of the routed IPv4 and IPv6 address space, respectively. We observe that
many of those routes lead to out-of-continent locations reachable only via
three or more AS hops. Yet, most IXP members only utilize “local” (i.e.,
single hop) routes. We further infer that IXP members can reach more
than half of all routed IPv4 and more than one-third of all routed
IPv6 address space via bi-lateral peering. These routes contain almost
all of the top 10K egress preﬁxes of our eyeball network, and hence they
would satisfy the reachability requirements of most end users. Still, they
miss up to 20% of the top 10K preﬁxes that serve the most domains.
We observe that these missing preﬁxes often belong to large transit and
Tier 1 providers.
1 Introduction
Traditionally, the Internet follows a hierarchical structure. At the top of this hier-
archy resides a set of large transit providers—also called Tier 1 networks—that
exchange traﬃc with each other at no monetary compensation. The literature
commonly refers to this type of interconnection (and business relation) between
two ASes as “peering”.
c(cid:2) The Author(s), under exclusive license to Springer Nature Switzerland AG 2022
O. Hohlfeld et al. (Eds.): PAM 2022, LNCS 13210, pp. 338–366, 2022.
https://doi.org/10.1007/978-3-030-98785-5_15
Peering Only?
339
to exchange
Traditionally, IXPs allow physically-
close networks
traﬃc
via a shared layer-2 switching fabric;
thus, they eliminate unnecessary rout-
ing detours, which reduces the over-
all
latency and helps to “keep local
traﬃc local”. Today, the largest IXPs
have grown to multiple hundreds—
sometimes even thousands—of mem-
bers (see Fig. 1) and handle peak traﬃc
volumes of more than 10 Tb/s [4,27,38].
As diﬀerent networks have diﬀer-
ent negotiation positions, various forms
of peering have emerged. The simplest
form, bi-lateral peering, refers to a
direct connection between two ASes via
the IXP’s switching fabric.
When logically descending from the top, higher-tier networks deliver traﬃc
for their lower-tier customers, i.e., they provide transit. Since the early 2000s,
the “topology ﬂattening” phenomenon gradually superseded this hierarchical
structure. Lower-tier networks started to shift more of their transit traﬃc to
newly established peering connections. The continuous acquisition of new peering
partners is often incentivised by cost reduction and potential latency improve-
ments [2].
The fast and widespread deployment of Internet eXchange Points (IXPs) has
further accelerated the establishment of new peering connections.
Fig. 1. Number of members over time
based on PeeringDB
To ease the life of their customers, most IXPs also oﬀer Route Servers that
redistribute all routes they received from one IXP member to all others via a
single BGP session per member. As this form of peering involves more than two
networks, the community refers to it as multi-lateral peering. As a third option,
networks can establish private peering sessions amongst each other. Instead of
using the IXP’s layer-2 fabric, ASes establish these peering sessions via a dedi-
cated cross-connect in the same colocation facility (or via layer-2 transport for
diﬀerent colocation facilities).
While peering itself is a well-established concept that has been broadly dis-
cussed in the research literature (e.g., [1,6,10,11,20,22,45,50]), we still lack fun-
damental insights into the actual extent and importance of the routes available
at large IXPs. In this paper, we take a closer look at how the diﬀerent forms of
peering translate into transit-free preﬁx reachability. We characterize and com-
pare the multi-lateral peering routes available at the Route Servers of the world’s
largest IXPs and further estimate the bi-lateral and private peering routes avail-
able at one large IXP in Europe that we refer to as L-IXP. We contrast our
reachability analysis using two dimensions of importance: the number of top
domains that a route serves and the traﬃc volume that one of the largest Euro-
pean eyeball networks egresses towards it.
340
L. Prehn et al.
In particular, our contributions can be summarized as follows:
– Characterization of Multilateral Peering: We analyze and compare
Route Server snapshots from eight of the ten largest IXP peering LANs world-
wide (see, Sect. 4). We ﬁnd that all Route Servers show consistent insights:
(1) only 10% of Route Server peers provide more than 100 routes while 30%
provide less than ten routes, (2) approximately half of the Route Server routes
have a minimum path length of three ASes (announced by close and distance
peers alike) and about two-thirds of all routes lead to out-of-continent desti-
nations, and (3) most large Route Servers have a preﬁx overlap of ˜50% while
the actually reachable IPs overlap by ˜60–70%.
– Characterization of Bi-lateral & Private Peering: For one of Europe’s
largest IXPs, we infer routes available via bi-lateral and private peering (see
Sect. 5.1). Similar to Ager et al. [1], we observe that most ASes use the
switching fabric to establish additional transit sessions. As such connections
can drastically inﬂuence our inferences of available routes, we developed a
methodology to increase the coverage of relationship inference algorithms at
IXPs, and we use the resulting relationships to isolate transit connections
during the inference process. Similarly, we introduce a methodology to infer
routes available via private peering based on the careful selection and querying
of looking glass utilities.
– Route Importance: We compare the IPv4 and IPv6 routes available via
multi-lateral, bi-lateral, and private peering against two top-10K preﬁx lists:
one based on the number of served domains and one based on the traﬃc
volume of a large European eyeball network (see Sect. 6). We ﬁnd that nearly
all top-10k IPv4 preﬁxes are available via bi-lateral peering. For IPv6, we
observe that preﬁxes serving many domains are often unavailable (up to 15%)
or can only be obtained via private peering.
2 Background
In this section, we provide an introduction to the diﬀerent interconnection models
and highlight important observations from related work. We refer to Fig. 2 as a
visualization of the individual components explained throughout this section.
While interconnection agreements
can be rather complex in practice,
the scientiﬁc literature abstracts mainly
into two categories: transit and peering.
In a transit agreement, a customer
pays a transit provider for delivering
its traﬃc from its egress router to
any IP. In a (settlement-free) peering
agreement, two ASes—usually of sim-
ilar size and with roughly equal traf-
ﬁc volume towards each other—forward
each other’s traﬃc without substantial
Fig. 2. Illustration of diﬀerent peering
types at an IXP. (Color ﬁgure online)
Peering Only?
341
amounts of money ﬂowing in either direction. As neither of the peering part-
ners is a provider for the other, both ASes have to negotiate where to physically
interconnect and who is bearing the infrastructure costs. Over time and with the
spread of Internet Exchange Points (IXPs) across the globe the peering ecosys-
tem itself became rather complex and diﬀerent peering practices emerged. In the
following, we give an overview of the fundamentals of current peering models.
Internet Exchange Points. As establishing a single BGP peering session for
every interconnection partner separately is rather wasteful, operators started
building common switching infrastructure that could be shared (w.r.t. usage
and cost) among ASes. These switching infrastructures—envisioned to keep local
traﬃc local— belong to so-called Internet eXchange Points (IXPs) located in
well-connected colocation facilities. Those colocation facilities provide dedicated
infrastructure (e.g., rack space, electricity, and cooling) for the housing of peer-
ing equipment. Figure 2 gives an abstract example for a layer-2 peering fabric.
While IXPs may attract very diverse sets of members, previous work reported
that they observe traﬃc for 40% or more of all theoretically possible peering
connections [13]. As some large IXPs observe traﬃc originated by or destinated
towards tens of thousands of ASes and millions of servers [22] and could the-
oretically reach 70% of all routed addresses [10], it nowadays is also common
that networks pay remote-peering providers to get access to remote IXPs [20]. A
recent study by Nomikos et al. [57] revealed that around 90% of 30 tested IXPs
had more than 10% of their members connecting via remote peering. They fur-
ther reported that for certain large IXPs up to 40% of members can be connected
via remote-peering.
Bi-lateral Peering. This practice describes a BGP peering session between
two member ASes at an IXP via the shared peering fabric as depicted in Fig. 2
(green arrows). While legal processes and concerns of peering policy leakage slow
down the acquisition of bi-lateral peering partners [49], Marcos et al. proposed a
framework that allows IXP members to quickly provision peering sessions based
on an intent abstraction and digitally handled legal contracts [50]. Interestingly,
Ager et al. showed in 2012 that also Tier1 providers peer at IXPs and that
they use their IXP peerings not only as backup routes. They further showed
that these Tier1 providers also abuse the peering LAN for transit connections
to their customers [1].
Multi-lateral Peering. As brieﬂy discussed in Sect. 1, IXPs provide a
Route Server for their members to establish multi-lateral peerings. In addition to
reducing the number of needed interconnections to reach most IXP members1,
Route Servers can also implement additional functionality (e.g., the frequently
used per-peer blackholing [28]) to make them more attractive to IXP members.
Those services are often realized by attaching a speciﬁcally formatted BGP Com-
munity onto Route Server announcements. As a route server has to store such
information to act properly based on it, some IXP members do not establish a
session with the route server as they expect that it might expose their peering
1 A Route Server reduces the number of totally needed BGP sessions for a fully-meshed
topology from n ∗ (n − 1)/2 to n, where n is the number of BGP speakers.
342
L. Prehn et al.
policies [23]. As a notable example of such exposition, Giotsas et al. showed that
it is possible to uncover 200k multi-lateral peering agreements by analyzing the
BGP community values visible at few Route Servers [34].
Private Peering. When present at the same colocation facility, e.g. because
they are members of the same IXP, two networks can establish a private peer-
ing session via direct cross-connect avoiding the IXP’s peering fabric. Especially
large ASes prefer this peering practice as it is provides a very ﬁne-grained con-
trol over their peering sessions. Hence, networks that, e.g., need to egress a high