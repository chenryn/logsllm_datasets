User: Configure a new DNS server to enable it to resolve the specified domain name, and provide a domain name resolution test method.
Assistant: The steps are as follows: 1. Select a server or virtual machine running the Linux operating system, for example, select the CentOS 7 operating system. 2. Install DNS server software, such as BIND (Berkeley Internet Name Domain). The method is as follows: a. Execute the following command to install BIND: ``` yum install bind bind-utils ``` b. Start the BIND service: ``` systemctl start named ``` c. Set the BIND service to start at startup: `` ` systemctl enable named ``` 3. Configure BIND service. a. Edit the named.conf file, which is located in the /etc/named.conf path in CentOS 7. b. Add the following content to the named.conf file, which means to resolve the specified domain name: ``` zone "example.com" IN { type master; file "example.com.zone"; }; ``` where , "example.com" is the domain name that needs to be resolved, which needs to be modified according to the actual situation; "example.com.zone" is the resolution file, which is the file that needs to be created in the following steps. c. Set DNS server forwarding in the named.conf file to facilitate the resolution of other domain names: ``` options { forwarders { 8.8.8.8; 8.8.4.4; }; }; ``` Among them, 8.8.8.8 and 8.8. 4.4 are DNS server addresses provided by Google, which can be modified as needed. d. Create a parsing file, such as example.com.zone file: ``` $TTL 1D @ IN SOA ns.example.com. root.example.com. ( 2016011201 ; serial 1H ; refresh (1 hour) 30M ; retry (30 minutes) 1W ; expire (1 week) 1D ; minimum (1 day) ) IN NS ns.example.com. ns IN A 192.168.1.10 www IN CNAME ns ``` Among them, $TTL indicates the DNS record cache time, @ indicates the domain name, SOA indicates the initial authorization of the domain name, NS indicates the DNS server, A indicates the IP address, and CNAME indicates the alias. e. Verify that the DNS server configuration is correct, you can test it with the dig command: ``` dig example.com ``` If the resolution is correct, it will return a result similar to the following: ``` ; <<>> DiG 9.9.4- RedHat-9.9.4-72.el7_6.5 <<>> example.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 50738 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 3 ;; QUESTION SECTION: ;example.com. IN A ;; ANSWER SECTION: example.com. 86400 IN A 192.168.1.10 ;; AUTHORITY SECTION: example.com. 86400 IN NS ns.example.com. example.com. 86400 IN NS ns1.example.com. ;; ADDITIONAL SECTION: ns.example.com. 86400 IN A 192.168.1.1 ns1. example.com.86400 IN A 192.168.1.2 ;; Query time: 2 msec ;; SERVER: 192.168.1.10#53(192.168.1.10) ;; WHEN: Tue Jan 15 17:03:44 CST 2019 ;; MSG SIZE rcvd : 123 ``` So far, the DNS server configuration is complete and the specified domain name can be resolved normally.