mentioned earlier, the more the user clicks on the same-ad
(going from 0% to 100% from the top whisker to bottom),
the more biased the simulation is towards fewer clicks and
674Rank increased
Rank decreased
Became visible
Became invisible
)
%
(
r
e
s
i
t
r
e
v
d
a
r
o
f
d
e
t
c
e
f
f
a
s
n
o
i
t
c
u
a
f
o
n
o
i
t
c
a
r
f
e
g
a
r
e
v
A
 20
 18
 16
 14
 12
 10
 8
 6
 4
 2
 0
1m 2m 5m 15m 30m 1h
2h
3h
6h
12h 1d
36h 2d
Staleness
Figure 4: Fraction of auctions with modiﬁed rank-
ings
therefore less revenue. Recall that only the top-whisker is
unaﬀected by this simulation bias.
The second observation we make from Figure 3 is the
slight upwards trend of the top-whisker signifying higher
revenues as more stale information is used. This suggests
a consistent trend of advertisers (as a whole) reducing their
bids over time. We don’t know the cause of this trend.
Next we turn to the advertiser perspective. We compute
for each ad the fraction of auctions where the user-visible
simulated ranking increased or decreased compared to the
trace, and whether the ad became visible or invisible due
to being ranked high-enough or too-low as compared to the
trace. Figure 4 plots the average of these numbers across
all ads as a function of the staleness of bid information
used.
We ﬁrst observe that both increased ranks and decreased
ranks are roughly equal, and so average to nearly zero. The
same is true for ads becoming visible or invisible. While this
is consistent with the revenue change in Figure 3 averaging
out to zero, we note that there are other ways the revenue
could average out to zero while being unfair to advertisers.
For instance, fewer increased ranks could have been com-
pensated by more cases where the ad became visible thus
still resulting in zero revenue change while being unfair to
the advertiser; luckily, this is not the case.
We observe next that there is a very small impact of stal-
eness on change in ranks;
it begins with around 12% of
auctions for 1 minute stale data, and quickly converges to
around 16%. The reason this number is high is because of
the cascade eﬀect — if a single ad jumps from a low rank
to a high rank, it causes all the ads in between to register a
“change” in rank; thus a single change in bid can aﬀect up
to ten ads. The impact, however, is very little; the ad jump-
ing from low to high might register a change of 10 ranks,
however, the other 10 ads would register a change of only 1
rank each (not captured in the graph). Overall we found a
median net change of 1 rank for every 820 auctions the ad
participates in.
To summarize, based on extensive simulations across vary-
ing degrees of staleness and diﬀerent user-models, there is
little impact on broker revenue as compared to today, and
little impact on advertiser fairness as compared to today.
7. COMPUTING USER SCORE
So far, we have assumed the existence of a user score U
that, when multiplied with the quality score G produces the
expected click probability at the client for a given ad. Be-
cause clicks are relatively rare, it may be diﬃcult to estimate
U at the client based purely on the click history of the client.
Therefore, we require that the broker anonymously and un-
linkably gathers detailed click statistics from clients in order
to improve click probability estimates at individual clients.
In what follows, we sketch out an approach.
There are a number of measurable attributes X =
{x1, x2, ...xL} at the client that may help in prediction of
click probability. For instance, the level of interest (high
or low) in the ad’s product or service, the quality of the
match between the targeting and the user, the context of
the webpage, as well as the user’s historic CTR. The idea
is that each client reports this information anonymously to
the broker for each ad that it views and clicks. These re-
ports contain: {Ad-ID, X, click}, where X is the values of
the attributes, and ‘click’ indicates whether or not the ad
was clicked. Given this information from many clients, the
broker can determine the eﬀect of the attributes on click
probability, and convey this information to the client as a
function f of the attributes such that U = f (X), along with
the ad. This allows the client to compute U by measuring
the attributes and plugging them into the provided function.
As mentioned, U in RaC can be computed at viewing time
with the latest set of attributes without churn issues since
that’s when the ranking takes place. The function f for a
new ad can be initially set to that of similar existing ads
until enough data for the new ad is gathered. The details of
this are left as future work.
One concern is that the set of attribute values X is unique
for a given user. Several factors can mitigate this con-
cern. First, the attributes may be fairly coarse-grained, thus
broadening the set of users to which they apply. Second,
some of the attributes may be hard to correlate using ex-
ternal knowledge, such as the user’s CTR. Third, attributes
like level of interest change from interest to interest, and
even within an interest over time, and therefore are hard to
link to the same user. Fourth, some attributes are not spe-
ciﬁc to the user, for instance webpage context. Finally, the
only information beyond the attribute values that is leaked
is the ad viewed. In particular, the user’s click-stream is not
exposed. We believe that it is reasonable to establish public
policies that determine the nature of the attributes in such
a way that meaningful privacy is preserved.
8. RELATED WORK
There is a substantial body of work on cryptographic pro-
tocols for privacy preserving auctions. Depending on the un-
derlying security model these proposals can be classiﬁed into
the following three categories. In the ﬁrst category, there are
protocols that rely on computation that is distributed among
auctioneers who jointly determine the outcome of an auction
using threshold multi-party computation (e.g., [14, 15, 22]).
The second category of protocols introduces a semi-trusted
third party, aka an “auction issuer” or “auction authority”,
in addition to the auctioneer, and uses asymmetric multi-
party computation technique, such as Yao’s garbled circuit
(e.g., [1, 2, 5, 19, 21]). Finally, protocols in the third category
allow bidders to cooperatively compute the auction outcome
675without relying on any trusted third party (e.g., [3, 4]). The
primary goal of all these proposals, and many others not
cited, is to keep bids and selling price secret from the auc-
tioneer and other auction participants. The problem that
we address in this paper is diﬀerent. This paper is primarily
concerned with protecting the user, not the bidder (i.e. ad-
vertiser). Indeed the user does not exist in the prior work.
In any event, the high computational and communication
complexity imposed by aforementioned secure auction pro-
tocols make them impractical for our problem.
9. SUMMARY AND FUTURE
DIRECTIONS
This paper addresses the challenge of designing an on-
line advertising auction for a non-tracking advertising sys-
tem that leverages the user proﬁle information while keep-
ing the user proﬁle private. We broadly explore the design
space, proposing three types of auctions, and analyzing their
properties with respect to privacy, auction quality and vul-
nerability to attack. Overall, we ﬁnd that two of the sys-
tems, Rank-at-Client (RaC) and Rank-at-3rd-Party (Ra3),
are very acceptable designs. RaC is simpler and more eﬃ-
cient, but has the drawback that information about ad qual-
ity and bid is leaked. On the other hand, this is information
that can today be determined by placing ads and monitoring
the resulting ranking. Finally, noting that our auction de-
signs suﬀer delays that cause out-of-date bid information to
be used in rankings, we use Bing advertising system auction
trace to determine the eﬀect of these delays. We ﬁnd the
eﬀect to be very minimal, and so conclude that our auction
designs are viable.
As future work, we plan to implement the auction sys-
tem to operate with a medium-scale deployment of Privad
planned for next year (several 10’s of thousands of users).
Along with this, we plan to design and deploy mechanisms to
compute U , and measure their eﬀectiveness. We also plan to
do a measurement study of ads served by Bing to determine
to what extent advertisers can reverse-engineer each other’s
bids in today’s systems. This will quantify how much adver-
tiser privacy loss is incurred by the Rank-at-Client scheme.
Each of the non-tracking advertising schemes so far proposed
makes the tacit assumption that there is only a single bro-
ker, and a single proﬁler operating at each client. We are
interested in exploring what happens if there are multiple
brokers with competing proﬁlers in each client. In particu-
lar, the proﬁlers should be able to dynamically compete for
ad boxes in real time, thus adding a new element to the auc-
tion that is not unlike the way ad exchanges operate today.
What’s more, these clients may also need to compete with
existing tracking advertising systems in real-time auctions
run by existing ad exchanges. We plan on designing and
testing mechanisms that allow this.
10. REFERENCES
[1] M. Abe and K. Suzuki. M+ 1-st Price Auction Using
Homomorphic Encryption. In Proceedings of the 5th
International Workshop on Practice and Theory in Public
Key Cryptosystems, pages 115–124. Springer-Verlag, 2002.
[2] O. Baudron and J. Stern. Non-interactive Private
Auctions. In Proceedings of the 5th International
Conference on Financial Cryptography, pages 364–378.
Springer-Verlag, 2002.
[3] F. Brandt. Fully private auctions in a constant number of
rounds. In Proceedings of the 7th international conference
on Financial cryptography, pages 223–238. Springer-Verlag,
2003.
[4] F. Brandt and T. Sandholm. Eﬃcient privacy-preserving
protocols for multi-unit auctions. In Proceedings of the 9th
international conference on Financial cryptography and
Data Security, pages 298–312. Springer-Verlag, 2005.
[5] C. Cachin. Eﬃcient private bidding and auctions with an
oblivious third party. In Proceedings of the 6th ACM
conference on Computer and communications security,
pages 120–127. ACM, 1999.
[6] S. Cliﬀord. Instant Ads Set the Pace on the Web. The New
York Times, 2010. http://tinyurl.com/yl8dt29.
[7] DoubleClick. DART for Advertisers. http:
//www.doubleclick.com/products/dfa/index.aspx,
2009.
[8] B. Edelman, M. Benjamin, and M. Schwarz. Internet
Advertising and the Generalized Second-Price Auction:
Selling Billions of Dollars Worth of Keywords. American
Economic Review, 97(1):242–259, Mar. 2007.
[9] T. ElGamal. A public key cryptosystem and a signature
scheme based on discrete logarithms. Information Theory,
IEEE Transactions on, 31(4):469–472, 2002.
[10] J. Feng, H. Bhargava, and D. Pennock. Implementing
sponsored search in web search engines: Computational
evaluation of alternative mechanisms. INFORMS Journal
on Computing, 19(1):137, 2007.
[11] Google, Inc. AdWords: Advertise Your Business on Google.
http://adwords.google.com/.
[12] S. Guha, B. Cheng, and P. Francis. Privad: Practical
Privacy in Online Advertising. In Proceedings of the 8th
Symposium on Networked Systems Design and
Implementation (NSDI), Boston, MA, Mar 2011.
[13] S. Guha, A. Reznichenko, K. Tang, H. Haddadi, and
P. Francis. Serving Ads from localhost for Performance,
Privacy, and Proﬁt. In Proceedings of HotNets ’09.
[14] H. Kikuchi. (M+ 1) st-Price Auction Protocol. In
Proceedings of the 5th International Conference on
Financial Cryptography, pages 351–363. Springer-Verlag,
2002.
[15] H. Kikuchi, S. Hotta, K. Abe, and S. Nakanishi.
Distributed auction servers resolving winner and winning
bid without revealing privacy of bids. In Parallel and
Distributed Systems: Workshops, Seventh International
Conference on, 2000, pages 307–312. IEEE, 2000.
[16] B. Krishnamurthy and C. Wills. On the Leakage of
Personally Identiﬁable Information Via Online Social
Networks. In Proceedings of WOSN ’09.
[17] B. Krishnamurthy and C. Wills. Privacy diﬀusion on the
web: A longitudinal perspective. In Proceedings of the 18th
International Conference on World Wide Web (WWW
’09), Madrid, Spain, 2009.
[18] D. Levin, B. Bhattacharjee, J. R. Douceur, J. R. Lorch,
J. Mickens, and T. Moscibroda. Nurikabe: Private yet
Accountable Targeted Advertising. Under submission.
Contact PI:EMAIL for copy, 2009.
[19] H. Lipmaa, N. Asokan, and V. Niemi. Secure Vickrey
auctions without threshold trust. In Proceedings of the 6th
international conference on Financial cryptography, pages
87–101. Springer-Verlag, 2002.
[20] Microsoft, Inc. Start advertising on Yahoo! Search and
Bing. https://adcenter.microsoft.com/.
[21] M. Naor, B. Pinkas, and R. Sumner. Privacy preserving
auctions and mechanism design. In Proceedings of the 1st
ACM conference on Electronic commerce, pages 129–139.
ACM, 1999.
[22] K. Sako. An Auction Protocol Which Hides Bids of Losers.
In Proceedings of the Third International Workshop on
Practice and Theory in Public Key Cryptography, pages
422–432. Springer-Verlag, 2000.
[23] Stanford. Do Not Track Universal Web Tracking Opt-Out.
donottrack.us.
[24] V. Toubiana, A. Narayanan, D. Boneh, H. Nissenbaum,
and S. Barocas. Adnostic: Privacy Preserving Targeted
Advertising. In Proceedings of NDSS ’10.
676