User: 请解答这个和日志有关的问题How to instal the PHP MCrypt + library (libmcrypt) on CentOS 5 server I'm trying to install mCrypt for PHP on my server, and before that I've found that I need to install libmcrypt as well...

I cannot find any instructions via google that actually work for this, unfortunately.

I originally just tried yum install php-mcrypt but I get No package php-mcrypt available. - so I assume it's because I didn't install libmcrypt yet?

Thanks!

Repo Lists:

$ yum repolist
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirror.cogentco.com
 * epel: mirror.cogentco.com
 * extras: centos.aol.com
 * rpmforge: fr2.rpmfind.net
 * updates: mirror.ash.fastserv.com
repo id      repo name                                           status
base         CentOS-5 - Base                                     enabled:  3,535
epel         Extra Packages for Enterprise Linux 5 - x86_64      enabled:  6,642
extras       CentOS-5 - Extras                                   enabled:    299
rpmforge     RHEL 5 - RPMforge.net - dag                         enabled: 10,695
updates      CentOS-5 - Updates                                  enabled:    765
repolist: 21,936


I've gotten somewhat far here.. library is installed successfully.  mcrypt has some errors though on dependencies:

Running Transaction
  Installing     : php-common                                               1/5 
warning: /etc/php.ini created as /etc/php.ini.rpmnew
  Installing     : php-cli                                                  2/5 
  Installing     : httpd                                                    3/5 
Error unpacking rpm package httpd-2.2.3-45.el5.centos.1.x86_64
warning: /etc/httpd/conf/httpd.conf created as /etc/httpd/conf/httpd.conf.rpmnew
warning: /etc/httpd/conf/magic created as /etc/httpd/conf/magic.rpmnew
error: unpacking of archive failed on file /etc/httpd/logs: cpio: rename
  Installing     : php                                                      4/5 
  Installing     : php-mcrypt                                               5/5 

Installed:
  php-mcrypt.x86_64 0:5.1.6-15.el5.centos.1                                     

Dependency Installed:
  php.x86_64 0:5.1.6-27.el5_5.3            php-cli.x86_64 0:5.1.6-27.el5_5.3    
  php-common.x86_64 0:5.1.6-27.el5_5.3    

Failed:
  httpd.x86_64 0:2.2.3-45.el5.centos.1                                          

Complete!


Update for MIKE

[root@server ~]# fuser -k 80/tcp
80/tcp:              17496 17502 17503 17504 17505 17590
[root@server ~]# service httpd restart
httpd not running, trying to start
[root@server ~]# service httpd status

Looking up localhost
Making HTTP connection to localhost
Sending HTTP request.
HTTP request sent; waiting for response.
Alert!: Unexpected network read error; connection aborted.
Can't Access `http://localhost/whm-server-status'
Alert!: Unable to access document.

lynx: Can't access startfile 


Also, this is in the apache error logs: 

[Sat Aug 20 16:59:33 2011] [error] (13)Permission denied: Cannot open SSLSessionCache DBM file `/usr/local/apache/logs/ssl_scache' for writing (store)

Assistant: seems to me your /etc/httpd/logs is no longer a symlink

ls -lsd /etc/httpd/logs


It should be pointed to

/var/log/httpd


EDIT

seems from your comment it isn't a symlink anymore

mv /etc/httpd/logs /etc/httpd/logs.bak
ln -s /var/log/httpd /etc/httpd/logs
service httpd restart


then try to yum update