安装成功之后，用户就可以通过浏览器来访问控制台，其地址为主机的IP 地址加上
由于CentOS7使用yum源的关系，安装某些组件时可能会失败，例如 mariaDB，此时只
控制台登录界面如图12.5所示。
OpenStack提供了许多命令行的工具来管理配置各项功能，但是这需要记忆大量的命令和
在上面的信息中，除了告诉用户已经安装部署完成之外，还有其他的一些附加信息，这些
The generated manifests are available at:
登录控制台
应答文件。
装过程中出现了问题，重新执行单节点安装时，应该使用--answer-fle指定自动创建的
每次使用-allinone选项来安装OpenStack都会自动创建一个应答文件。因此如果在安
管理OpenStack
---
## Page 351
台的登录密码，这个命名由Packstack自动生成，所以比较复杂。
的keystonerc_admin文件中，所以可以使用以下命令查看该文件的内容：
“管理员”两大菜单项。如果使用普通用户登录，则只出现“项目”菜单项。
登录成功之后，会出现控制台主界面，如图12.6所示。左侧为导航栏，分为“项目”和
export PS1=′(\u@\h \W(keystone admin)]\s
export 0S_AUTH_URL-http://58.64.138.219:5000/v2
export OS TENANT NAME=admin
export OS USERNAME=admin
[root@localhost~]# more keystonerc
在上面的代码中，OS_USERNAME 就是控制台的用户名，而OS_PASSWORD 则是控制
export 0S PASSWORD=191ae4ad12da48de
在上面的一节中，当OpenStack部署的最后，告诉用户控制台的登录信息位于用户主目录
目
系统商板
C58.64.
58.64.138.219/
用量
选择的一段时间来查询其用量：
使用情况摘要
概况
示0个条目
项目名称
201年001201452楼
图12.5控制台登录界面
图12.6控制台主界面
admin
日期采是YY
RA
第12章配置OpenStack私有
盘GB小时
下
公网三
339
Y
---
## Page 352
CentOS7系统管理与运维实战
340
如图12.8所示。
12.5.2
上指的就是租户，
中，用户可以通过“系统信息”菜单项来查看当前安装的服务及其主机，如图12.7所示。
拟网络以及路由等。“对象”主要包含容器的管理。
有关的功能，例如实例、云硬盘、镜像，以及访问和安全等。“网络”则包含了网络拓扑、
本例中，包含了计算、网络和对象存储3个菜单项。其中“计算”菜单项中包含了与计算节点
单击主界面右上角的用户名对应的下拉菜单，选择“设置”命令，打开“用户设置”窗口，
“项目”菜单项中包含了用户安装的各组件，二级菜单根据用户选择的组件有所变化。在
用户设置
openstack
，而用户指的是系统用户。
携户资置
58.64.138.219/da
面
58.64.138.219
图12.7所安装的OpenStack服务及其主机
用户设置
系统信息
用户设置
硬结中文（2h)
服务
图12.8用户设置
CGNN
主机
136219
38219
Q
三2
---
## Page 353
图12.10所示。
12.5.3
码功能。
因为目前Keystone无法存放这些数据，所以用户也无法修改邮箱，也就导致无法实现取回密
在数据库里。默认语言是根据浏览器的语言来决定的，用户的个性化的设置，都是无法保存。
密码”窗口，输入当前的密码，就可以修改用户密码，如图12.9所示。
在“管理员”菜单中，选择“用户”菜单项，窗口的右侧列出了当前系统的各个用户，如
不过目前来说，用户设置里的语言和时区的设置，
管理用户
管理员
openstack
套理员
目
openstack
认证面板
相
58.64.138.219/dast
重户设费
系统面板
adnin
修改密码
用户
ademo
cinde
demo
neutor
用户名
用户
确认新密码
当前密码
修改密码
新密码
图12.10系统用户
图12.9修改密码
cinderlocalhost
glance@locaihost
neutron@localhost
aconi
邮箱
3dce3796159435858964436605Tru
只是保存在Cookie里面，并没有存储
第创用户
第12章配置OpenStack私有云
#
编更多
amin
是出
---
## Page 354
CentOS7系统管理与运维实战
CentOS6.5镜像文件的地址为：
像，如图12.12所示。
载已经制作好的镜像文件。以下网址列出了常用的操作系统的镜像文件：
是对于企业来说，其实用不了那么多格式。用户可以自己制作镜像文件，也可以从网络上面下
12.5.4
相应的信息，选择“主项目”和“角色”之后，单击“创建用户”按钮即可完成用户的创建。
342
http://openstack.redhat.com/Image_resources
用户可以管理当前OpenStack中的镜像文件。前面已经介绍过，Glance支持很多格式，但
在“名称”文本框中输入镜像的名称，例如CentOS6.5，在“描述”文本框中输入相应的
单击右侧的“编辑”菜单，可以修改当前的用户。选择某个用户左侧的复选框，然后单击
（2）单击右上侧的“创建镜像”按钮，打开“创建一个镜像”窗口，如图12.13所示。
（1）进入“管理员”→“系统面板”，选择“镜像”菜单项，右侧列出了当前系统中的镜
下面以CentOS6.5为例，说明如何创建一个镜像。
管理镜像
主项目
确认密码
密码
用户名
创建用户
58.64.138.219/da
项目
图12.11创建用户
消创健用户
国
---
## Page 355
项。选中“公有”复选框，如果不是生产环境，其他的选项可以保留默认值。
117.0.x86_64.qcow2
http://repos.fedorapeople
“格式化”下拉菜单选择相应的文件格式，
7
管理员
目
openstack
→C58.64.138.219/dashboard/adm
系统面板
最小内存（MB)
最小磁盘（GB）
构果
像地址
模像地址
微像源
CentOS6.5
名称
创建一个镜像
QCOW2·QEMU模拟器
adnin
显示1个条目
镜像
镜
D
链像名称
图12.13创建镜像
图12.12镜像列表
Insage
类型
X
ges
在本例中选择“QCOW2-QEMU模拟器”选
en
受保护的
False
sta
HTTPUR
ck
第12章配置OpenStack私有云
QCOW2
格式化
动作
创建值像
三
centos-6.5-20140
港出
343
---
## Page 356
镜像”对话框，如图12.15所示。
时，表示镜像已经创建成功，处于可用状态，如图12.14所示。
为 Saving。
CentOS7系统管理与运维实战
344
如果用户想要修改某个镜像的信息，可以单击相应行的右侧的“编辑”按钮，打开“上传
对于其他的镜像文件，用户可以采用类似的步骤来完成创建操作。
（4）由于需要把整个镜像文件下载下来，所以需要较长的时间。到镜像的状态变成Active
（3）单击“创建镜像”按钮，
微理员
·Open
系统画板
像·OpenStack Dashix
云盘
注积集台
原机管理器
资廉他用情况
数况
58.64.138.219/dashboard/admin/
受保护的
格式化
构架
内存盘10
内核ID
猫述
上传镜像
显示2个条目
镜像
，关闭窗口。
图12.15修改镜像信息
图12.14镜像创建成功
OS65
hmag
inageAciveTrueFalse
ges
/images/
，在镜像列表中列出了刚才创建的镜像，其状态
QCOW2班多
QCOW2编更多
创定
0=
---
## Page 357
右侧的一按钮，将该租户添加到右侧，赋予该租户使用该类型的权限，如图12.18所示。
左侧列出了当前系统中所有的租户，右侧则列出了可以访问该主机类型的租户。单击某个租户
都为0，如图12.17所示。
在本例中输入1024，根磁盘的容量以GB为单位，在本例中输入10。临时磁盘和交换盘空间
生成ID。虚拟内核实际上指的是云主机CPU的个数，在本例中输入2。内存以MB为单位，
在“名称”文本框中输入主机类型的名称，如 ml.1g，ID文本框保留原来的 auto，表示自动
的主机类型。下面介绍创建新的主机类型的步骤。
配置是从低到高的，主要体现在CPU的个数、内存以及根磁盘这3个方面。
ml.small、ml.medium、ml.large和ml.xlarge。从表格中可以看出，这5个内置的类型的硬件
型，如图12.16所示，从图中可以得知，系统默认已经内置了5个云主机类型，分别是m1.tiny、
12.5.5
即可将该镜像文件删除。
（2）单击窗口上面的“云主机类型访问”，切换到“云主机类型访问”选项卡。在窗口的
云主机类型（Flavors）实际上对云主机的硬件配置进行了限定。进入“管理员”菜单里面
修改完成之后，单击右下角的“上传镜像文件”按钮关闭对话框。
管理员
项目
C58.64.138.219/dash
openstack
法主机类型
碳盘
实例
主机集含
虚拟机管理器
深源使用情况
系统面板
管理云主机类型
云主机类型
显示5个条目
m1.medum
m1.sml
miny
云主机类型名虚拟内核内存
云主机类型
m1xarge
图12.16云主机类型
8192ME
4096MB
2048MB
512.MB
选
20GB
根磁量临时磁交换盘空间ID公有动作
80GB
40GB
1GB
OGB
DGB
第12章配置OpenStack私有云
0MB
0MB
0MB
0MB
08
Q确选建主机类型
5True编编云主机典型更多
2Tnue编辑云主机类型更多
True
编辑云主机类型更多
编指云主机类型更多
345
---
## Page 358
这些操作都比较简单，不再详细说明。
Centos7系统管
346
除了添加主机类型之外，用户还可以修改主机类型的信息、修改使用权以及删除主机类型。
（3）设置完成之后，单击右下角的“创建云主机类型”按钮，完成主机类型的创建。
管理与
云主机类型
有运维实战
58.64.138.219/
创建云主机类型
交换盘空网MB
内存8
虚拟内校
创建云主机类型
Eerwcee
所有项目
选信云主机类型访间
去主机类型信息
磁盘
品
图12.18指定云主机类型的访问权限
F