After analyzing the results of the last section one question that
arises is: of the total set of next-hop changes that happen over the
time, what portion is related to sustained (changes that persist in
the system for some time) and which fraction is related to churn
(changes that change again in the near future)?
To answer this question we decompose the TRSD time series
(r(i, 1)) into two components: s(i, k) and c(i, k), standing for
sustained TRSD and churn TRSD respectively. Sustained TRSD
(s(i, k)) captures the portion of r(i, 1) that represents next-hop
decisions that changed from ti to ti+1 but did not subsequently
change from ti+1 to ti+k. In the same vein we deﬁne c(i, k) as the
portion of r(i, 1) that represents next-hop decisions that changed
from ti to ti+1 and then changed again from ti+1 to ti+k.
Formally, we deﬁne s(i, k) as the average over all sp(i, k),
where sp(i, k) is a measure for sustained changes for a speciﬁc
MonthAverage TRSD0.000.040.080.12JFMAMJJASOND12730MonthAverage TRSD0.000.040.080.12JFMAMJJASOND12730MonthAverage TRSD0.000.040.080.12JFMAMJJASOND12730YearAverage TRSD0.00.10.20.30.40.5200520062007200820092010201120121261224230(a) s(i, k), k = 7 days
(b) c(i, k), k = 7 days
(c) weekly average of s(i, 7) and c(i, 7). Er-
ror bars are 95% Conﬁdence Intervals
Figure 3: s(i, k) and c(i, k) for 2011, daily
preﬁx p given by:
sp(i, k) =
(cid:80)
s∈S δ(cid:48)
|D(cid:48)
s,p(i, k)
p(i, k)|
,
(3)
where D(cid:48)
p(i, k) is the set of all sources for which the sets Ns,p(ti),
Ns,p(ti+1) and Ns,p(ti+k) are not empty and δ(cid:48)
s,p(i, k) is the frac-
tion of elements, which belong to the set Ns,p(ti) ∪ Ns,p(ti+1),
that satisfy any of the two following conditions: i) the element is in
Ns,p(ti) but it is not in Ns,p(ti+1) nor in Ns,p(ti+k); or ii) it is in
Np,s(ti+1) and Ns,p(ti+k) but it is not in Ns,p(ti).
Then proceeding analogously to Equation (3) we can compute
c(i, k). One important observation is that sp(i, k) and cp(i, k), by
deﬁnition, form a partition of rp(i, 1), i.e., sp(i, k) + cp(i, k) =
rp(i, 1), for all p and k that have available routing information at
times ti, ti+1 and ti+k.
Figure 3 presents s(i, 7) and c(i, 7) for the daily dataset of 2011.
(Results for 2005 and 2008 are similar). The choice of k = 7
means that routing changes that persist for a week are considered to
be sustained. The ﬁrst observation, obtained by comparing Figures
3(a) and 3(b), is that sustained routing changes (s(i, 7)) have more
impact on TRSD than c(i, 7). The average value of s(i, 7) is around
0.007 (0.7%), while c(i, 7) has an average value of approximately
0.004 (0.4%).
The next observation is that s(i, k) inherits the weekly period-
icity of r(i, 1) while c(i, k) is more similar to noise. This weekly
periodicity suggests that there is some sort of human interaction
with the system. Our conjecture is that those changes are triggered
by BGP policy management and resulting changes to BGP conﬁg-
urations. In order to dig deeper we computed the average of c(i, k)
and s(i, k) over days of the week. Figure 3(c) presents the re-
sults, where we can see that both curves indicate more activity in
the workweek and less on the weekends. However, the difference
between week and weekend behavior is much more signiﬁcant in
the case of the sustained changes, i.e., s(i, k). These results cor-
roborate with the idea of human interaction with the system, since
we can understand them as the ASes avoiding intentional routing
changes on weekends (probably due to reduced number of network
operators working full time).
The decomposition into sustained TRSD and churn TRSD is also
informative on long timescales. Figure 4 presents s(i, 2) and c(i, 2)
for dataset 4 (2005 to 2012, monthly). Here we adopt the assump-
tion that routing changes that persist for one month are considered
to be sustained. This Figure shows that on average, about 3% of all
routing decisions churn on a monthly basis, while about 8% of all
routing decisions show a sustained change. Comparing Figures 4
and 3, one can see that the sustained and churn TRSD on a monthly
basis are greater than the corresponding values on a weekly basis,
which is to be expected. However, the difference between sustained
and churn TRSD is much greater on the monthly timescale, show-
ing that sustained TRSD captures the accumulation of intentional
changes to the routing system over time, while churn TRSD reﬂects
the continuous background noise in the system.
Figure 4: s(i, k) and c(i, k), monthly dataset with k = 2
The relative stability of s(i, 2) in Figure 4 shows that large-scale,
system-wide changes to Internet routing are rare. There are only a
couple of points in time where there are noticeable peaks in the
amount of sustained change in Internet routing – one peak in mid
2006 and one in late 2012.
Initial investigation of these events
shows evidence that system-wide routing changes took place: a
large fraction of all preﬁxes were affected by next-hop changes dur-
ing these events. A deeper investigation of these events is ongoing.
5.3 Contribution of Sources
Our ﬁnal set of results aims at answering the following ques-
tion: what is the contribution of each source AS to TRSD? in other
words, are the changes represented by TRSD uniformly spread over
all ASes or are they concentrated in a small set? To start this anal-
ysis we sampled randomly chosen days in 2011 and computed the
contribution of each AS over the total TRSD of that day. Figure
5(a) presents the Complementary Cumulative Distribution Func-
tion (CCDF) of this contribution for the ﬁrst day of 2011 (results
for other days are similar). The ﬁgure shows that the contribution
of ASes is long-tailed, and that most ASes, approximately 90%,
make little or no contribution to TRSD.
In order to inspect whether this is common behavior over time,
for the entire year of 2011 we compute the fraction of ASes that
MonthAverage s0.0000.0050.0100.0150.020JFMAMJJASONDMonthAverage c0.0000.0050.0100.0150.020JFMAMJJASONDDay of weekAverage s and c0.0000.0040.008MonTueWedThuFriSatSunAverage sAverage cMonthAverage s and c0.000.020.040.060.080.1020052006200720082009201020112012Average cAverage s231(a) 01/01/11, for n = 1, 2, 7, 30
(b) Fraction of top contributors for n = 1 (c) Number of days that each AS top contrib-
utor appears at Figure 5(b), for n = 1, 2, 7, 30
Figure 5: AS Contribution, 2011
are necessary to achieve 90% of TRSD. The result is presented in
Figure 5(b), where we can see that less than 2% of all ASes are in
fact necessary to capture 90% of TRSD. This result holds for the
other datasets with a threshold of 2.5%.
A question that may naturally arise then is: are these heavy-hitter
ASes the same over the time? In order to answer it we counted in
how many days each AS appears during the computation of Figure
5(b), in other words, in how many days each AS was among the
set of sources responsible for 90% of the daily TRSD over 2011.
The Cumulative Distribution Function (CDF) of this quantity is
presented in Figure 5(c). We can see that approximately 40% of
ASes that appear on at least one day, appear in at least 300 days.
Further, there is a group of approximately 20% of ASes that appear
in all days. An initial investigation shows that many of them are in
or are near to the network core.
6. CONCLUSIONS AND FUTURE WORK
In this work we proposed a new way to study the Internet at the
AS level. We introduced a new measure, TRSD, allowing us to
characterize rate of change in the interdomain routing system over
long periods of time.
Using this measure we are able to uncover several interesting as-
pects of the global Internet routing system. First, we showed that
the rate of change in routing decisions has been stable over time,
despite the growth in the network overall. Second, we showed how
to decompose TRSD into components that reﬂect sustained change
versus churn. We showed that the rate of sustained changes shows a
persistent weekly periodicity suggestive of a tendency of operators
to make sustained (intentional) routing changes in the workweek.
Finally, we showed that the locations of the routing changes in the
Internet are generally concentrated among a small set of ASes, of-
ten those that are near or in the core. Throughout the entire study
we consider various timescales and show how the magnitude of
routing change (both sustained and churn) varies with timescales
from days to months.
Although these are interesting results that characterize the In-
ternet in a new way, it is important to note that this is a work in
progress. In particular, there are several interesting observations
that need further study in order to understand their implications.
Moreover, the results presented here suggest several directions for
future research: i) it may be valuable to group preﬁxes according to
their TRSD similarity, as preﬁxes whose routing changes in similar
ways may form important clusters; ii) TRSD may be usefully ap-
plied to individual preﬁxes, i.e., in a microscopic analysis as com-
pared to the macroscopic view in this study; iii) it may be infor-
mative explore spatial and temporal dimensions at the same time;
iv) TRSD may help understanding types of routing changes and
how an AS’s routing changes affect its neighbors; v) TRSD may be
usufully applied in analyzing router-level topologies. Although a
router-level study is a challenge due to the lack of publicly avail-
able data, an analysis at this granularity would be interesting be-
cause the same AS path may have trafﬁc ﬂowing through different
physical paths. Finally, our long-term goal is to apply the methods
of this paper to identify and understand major structural changes or
reorganizations of the Internet. We hope to create a methodology
that identify “interesting” events in the TRSD time series and ﬁnd
the responsible sources and preﬁxes associated with those events.
7. ACKNOWLEDGEMENTS
This material is based upon work supported by the National
Science Foundation under Grant Numbers CNS-0905565, CNS-
1018266, CNS-1012910, and CNS-1117039, and supported by the
Army Research Ofﬁce under grant W911NF-11-1-0227. We are
also grateful to the anonymous reviewers and to our shepherd, John
Heidemann, for their valuable comments.
8. REFERENCES
[1] Ripe’s routing information service raw data project.
http://www.ripe.net/data-tools/stats/
ris/ris-raw-data.
[2] University of oregon route views project.
http://www.routeviews.org.
[3] Amogh Dhamdhere and Constantine Dovrolis. Ten years in
the evolution of the internet ecosystem. In Proceedings of the
8th ACM SIGCOMM conference on Internet measurement,
IMC ’08, pages 183–196, 2008.
[4] Ahmed Elmokashﬁ, Amund Kvalbein, and Constantine
Dovrolis. Bgp churn evolution: A perspective from the core.
IEEE/ACM Trans. Netw., 20(2):571–584, April 2012.
[5] Gonca Gürsun. Inferring Hidden Features in the Internet.
PhD thesis, Boston University, 2013.
[6] Gonca Gürsun, Natali Ruchansky, Evimaria Terzi, and Mark
Crovella. Inferring visibility: who’s (not) talking to whom?
In Proceedings of the ACM SIGCOMM 2012 conference on
Applications, technologies, architectures, and protocols for
computer communication, SIGCOMM ’12, pages 151–162,
2012.
[7] Gonca Gürsun, Natali Ruchansky, Evimaria Terzi, and Mark
Crovella. Routing state distance: a path-based metric for
AS TRSD ContributionCCDF0.010.020.050.101e−021e−011e+001e+011e+0212730MonthFraction of ASes to achieve 0.9 * TRSD0.0000.0050.0100.015JFMAMJJASONDNumber of daysCDF0.00.20.40.60.81.0010020030012730232network analysis. In Proceedings of the 2012 ACM
conference on Internet measurement conference, IMC ’12,
pages 239–252, 2012.
[8] Craig Labovitz, G. Robert Malan, and Farnam Jahanian.
Internet routing instability. IEEE/ACM Trans. Netw.,
6(5):515–528, October 1998.
[9] Jun Li, Michael Guidero, Zhen Wu, Eric Purpus, and Toby
Ehrenkranz. Bgp routing dynamics revisited. SIGCOMM
Comput. Commun. Rev., 37(2):5–16, March 2007.
[10] Wolfgang Mühlbauer, Steve Uhlig, Bingjie Fu, Mickael
Meulle, and Olaf Maennel. In search for an appropriate
granularity to model routing policies. In Proceedings of the
2007 conference on Applications, technologies,
architectures, and protocols for computer communications,
SIGCOMM ’07, pages 145–156, 2007.
[11] Dimitri Papadimitriou, Florin Coras, and Albert Cabellos.
Path-vector routing stability analysis. SIGMETRICS
Perform. Eval. Rev., 39(3):22–24, December 2011.
[12] Jennifer Rexford, Jia Wang, Zhen Xiao, and Yin Zhang. Bgp
routing stability of popular destinations. In Proceedings of
the 2nd ACM SIGCOMM Workshop on Internet measurment,
IMW ’02, pages 197–202, 2002.
[13] Yang Xiang, Xia Yin, Zhiliang Wang, and Jianping Wu.
Internet ﬂattening: Monitoring and analysis of inter-domain
routing. In ICC, pages 1–6, 2011.
233