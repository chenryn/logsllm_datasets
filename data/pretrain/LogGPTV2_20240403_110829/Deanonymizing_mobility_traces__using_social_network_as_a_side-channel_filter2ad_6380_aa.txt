title:Deanonymizing mobility traces: using social network as a side-channel
author:Mudhakar Srivatsa and
Michael Hicks
Deanonymizing Mobility Traces:
Using Social Networks as a Side-Channel
Mudhakar Srivatsa
IBM T.J. Watson Research Center
PI:EMAIL
Mike Hicks
University of Maryland
PI:EMAIL
Human mobility patterns have been used for urban planning and
trafﬁc forecasting [13]. While useful, these services pose a risk:
a user’s mobility trace, if revealed, can provide information about
habits, interests and activities—or anomalies to them—which in
turn may exploited for illicit gain via theft, blackmail, or even phys-
ical violence [2].
ABSTRACT
Location-based services, which employ data from smartphones, ve-
hicles, etc., are growing in popularity. To reduce the threat that
shared location data poses to a user’s privacy, some services ano-
nymize or obfuscate this data. In this paper, we show these meth-
ods can be effectively defeated: a set of location traces can be
deanonymized given an easily obtained social network graph. The
key idea of our approach is that a user may be identiﬁed by those
she meets: a contact graph identifying meetings between anony-
mized users in a set of traces can be structurally correlated with
a social network graph, thereby identifying anonymized users. We
demonstrate the effectiveness of our approach using three real world
datasets: University of St Andrews mobility trace and social net-
work (27 nodes each), SmallBlue contact trace and Facebook social
network (125 nodes), and Infocom 2006 bluetooth contact traces
and conference attendees’ DBLP social network (78 nodes). Our
experiments show that 80% of users are identiﬁed precisely, while
only 8% are identiﬁed incorrectly, with the remainder mapped to a
small set of users.
Categories and Subject Descriptors
C.2.0 [General]: Security and protection
General Terms
Security, Management
Keywords
Information Flow, Graph Deanonymization, Spatio-temporal Data
1.
INTRODUCTION
Applications that employ sensor data (e.g., location, accelera-
tion) generated by everyday mobile devices such as smartphones,
tablets, and cars have become quite popular [3, 11, 15, 21, 32].
As examples, CarTel [15] collects location information from GPS
sensors in cars to infer trafﬁc conditions, and GreenGPS [11] com-
putes fuel-optimal routes from OBD-II sensors installed in cars.
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
CCS’12, October 16–18, 2012, Raleigh, North Carolina, USA.
Copyright 2012 ACM 978-1-4503-1651-4/12/10 ...$15.00.
To reduce the risk of exposing too much information, it has been
suggested that those who collect mobility traces could anonymize
them by removing personally identifying information (PII), such as
name, address, or birthday. Unfortunately, prior work has shown
that PII removed from other kinds of datasets can be recovered
by employing auxiliary information [24]; this recovery process is
called deanonymization. The key question is: in the case of mo-
bility traces does there exist readily available auxiliary information
with which an adversary could effectively perform deanonymiza-
tion? In this paper, we show that the answer is ‘yes.’
Mobility traces can be deanonymized by exploiting the social
network of the participating users. Such social networks are read-
ily available: friend relationships can be found from public Face-
book data, co-authorship relationships from DBLP, and business
relationships from LinkedIn. The key insight is that a pattern of
meetings between users suggests they have relationship; this rela-
tionship may be mirrored in their social network and thus the social
network can be used to recover PII removed from a trace.
The key idea behind our approach is to identify discriminating
features in the social network graph when performing deanonymi-
zation. To illustrate what we mean, consider the simpliﬁed exam-
ple in Figure 1. Let us consider four users, b, c, d, and e, and
their respective anonymized user identities b(cid:48), c(cid:48), d(cid:48) and e(cid:48). Sup-
pose that we have deanonymized users b(cid:48) = b and c(cid:48) = c (e.g.,
they are the landmark nodes).
In this example, we observe that
the following feature can be used to discriminate d and e: d is a
friend of both b and c, whereas e is a friend of only b. Let f (b)
denote the set of b’s friends in the social network; then the follow-
ing constraints hold d ∈ f (b) ∩ f (c) and e ∈ f (b) \ f (c). One
can now transfer these constraints to the contact graph as equations
over variables vd and ve (the nodes in the contact graph that poten-
tially maps to node d and node e in the social network) and require
that vd ∈ f (b(cid:48)) ∩ f (c(cid:48)) and ve ∈ f (b(cid:48)) \ f (c(cid:48)) (for notational sim-
plicity, f is overloaded to operate on both the social network and
the contacts graph). In this example, solving for the variables vd
and ve results in an unique solution, namely, vd = d(cid:48) and ve = e(cid:48).
On the other hand if both d(cid:48) and e(cid:48) exhibited identical contact pat-
terns with b(cid:48) and c(cid:48), we will not be able to discriminate user d from
user e. Hence, both the mappings {d = d(cid:48) and e = e(cid:48)} and {d = e(cid:48)
and e = d(cid:48)} would seem equally likely from the point of view of the
deanonymization algorithm.
We validate our approach using three real world datasets: Uni-
6281 and l(cid:48)
VC denotes the set of anonymized user identiﬁers, i.e., the map-
ping between the set of users VS and VC is unknown. L(cid:48) denotes
the set of obfuscated location identiﬁers. We remark the location
identiﬁers may be obfuscated using several techniques including
the addition of random noise or generalization (i.e., reducing the
granularity of location information). For instance, a location l in L
may be perturbed to locations l(cid:48)
2 in L(cid:48) with probability p and
(1− p) respectively for some 0 ≤ p ≤ 1 (random noise); or two lo-
cations l1 and l2 in L may be mapped to the same location l(cid:48) in L(cid:48)
(generalization). We remark that the efﬁcacy of deanonymization
degrades with the extent of location obfuscation.
A(cid:48) denotes an anonymized location trace of the form (cid:104)u(cid:48), l(cid:48), t(cid:105)∗,
where u(cid:48) ∈ VC, l(cid:48) ∈ L(cid:48) and t is a time stamp. The goal of deanony-
mization is to infer the mapping between the set of users in VS and
VC. As discussed earlier, the technique used for deanonymization
depends on the nature of available auxiliary information. In this pa-
per we consider auxiliary information that is represented by a social
network S = (VS, ES), where an edge in set ES has the form (cid:104)u1,
u2, r12, w12(cid:105) such that u1, u2 ∈ VS (note that users in the social
network correspond to non-anonymous user identiﬁers), r12 ∈ R an
directed relationship between users u1 and u2 and R is a ﬁnite set
of relationship types (e.g., manager, friend, colleague, co-author,
etc.). In addition to relationship type we consider two types of an-
notations w12 to the social network links: one that corresponds to
the strength of a relationship denoted by a weight between [0, 1]
(e.g., normalized number of co-authored papers) and second that
corresponds to periodicity at which a relationship is active (e.g.,
colleague relationship is active every day from 9am-5pm).
1, l(cid:48)
1, l(cid:48)
2, l(cid:48)
1, t1(cid:105) and (cid:104)u(cid:48)
In order to structurally match (and de-anonymize) a mobility
trace against a social network we construct a contact graph C. In-
tuitively a contact graph captures pair-wise meetings between two
users. Given two events (cid:104)u(cid:48)
2, t2(cid:105) in an anony-
mized location trace, we say that there is a contact between users
2) ≤ τ1 and |t1 − t2| ≤ τ2, for some thresh-
u1 and u2 if d(l(cid:48)
olds τ1, τ2 ≥ 0. Given a sequence of contacts between two users
u(cid:48)
1 and u(cid:48)
2 we apply Fourier transform to detect periodicity in such
contacts. We construct contact graphs at different time granulari-
ties − based on the most dominant periodicity of contacts derived
by applying the Fourier transform. The contact graph C thus gen-
erated is of the form C = (VC , EC ), where the edges in EC are of
the form (cid:104)u(cid:48)
2, c12, w12(cid:105) and the class type c12 is obtained by
manual classifying contacts based on the time-of-the-day and w12
denotes the frequency of contacts within the period of interest.
1, u(cid:48)
2.2 Datasets
In this section we brieﬂy review the datasets that were used in our
study. A description of these datasets [4, 1, 28] is shown in Figure
2. The St Andrews university dataset captures the WiFi hotspot
(within the university) to which a user (a student volunteer) is con-
nected at intervals of 300 seconds. We assume that two users are in
contact if they are both connected to the same WiFi hotspot for an
interval of time that spans 600 seconds. The contact graph includes
a weight − the frequency of inter-user contacts over the duration
of the trace. The St Andrews dataset also includes a social network
(gathered from Facebook) on the same set of student volunteers.
The social network has 0/1 link weights based on two users being a
friend on the Facebook social network. We note that in our datasets
the ground truth, that is, the mapping between nodes in the social
network and the contact graph is given to us.
The Smallblue dataset captures contacts between users using an
instant messenger on an enterprise network. Two users are said to
be contact if they exchange chat messages back and forth with each
other. A session of such chat messages between a pair of users
Figure 1: Deanonymization requires Discriminative Features:
the Contact Graph is on the left, the Social Network on the right
Comm network type
No comm nodes
Duration (days)
Granularity (secs)
No contacts
Social network type
No social nodes
St Andrews
Smallblue
WiFi
27
30
300
18,241
Facebook
27
IM
125
30
300
240,665
Facebook
400
Infocom06
Bluetooth
78
4
120
182,951
DBLP
616
Figure 2: Datasets
versity of St Andrews mobility traces and social network (27 nodes
each), SmallBlue contact traces and Facebook social network (125
nodes), and Infocom 2006 bluetooth contact traces and conference
attendee’s DBLP social network (78 nodes). Our initial results
show that our approach deanonymizes 80% of the nodes in the
traces correctly, 8% incorrectly, and the remaining 8% it is able
to correctly map a node to a small set of users (no more than three),
one of which is the correct one.1 Our results also show that even
when about 25% of the social network and the contact graph is
intentionally modiﬁed (e.g., edges/nodes are added/removed) our
approach is effective; further, when a small fraction (5%) of select
node mappings (in particular, nodes with low centrality score) are
known a priori, then the effectiveness of our approach can exceed
95% (i.e., 95% of nodes are correctly mapped).
The next section sets up the problem more formally and de-
scribes our evaluation datasets. Section 3 presents our approach
in detail and evaluates it on these datasets. Section 4 evaluates
the impact on deanonymization of adding noise to the data and of
using inaccurate or incomplete social network graphs. Section 5
discusses related work, and Section 6 concludes.
2. PROBLEM SETUP
2.1 Notation and Terminology
VS denotes the set of users with each user having a unique iden-
tiﬁer. L denotes the set of location identiﬁers with each location
having a unique identiﬁer. d(l1, l2) denotes the distance between
two locations l1 and l2 in L. We write A to denote a location trace
of the form (cid:104)u, l, t(cid:105)∗, where u ∈ VS, l ∈ L and t is a timestamp.
1Nodes in the remaining 4% are correctly mapped to a set of four or more
users
Similarity Measure
Graph edit distance
/ Num edges
Common sub-graph
/ Num nodes
St Andrews
8 / 62
Smallblue
28 / 375
Infocom06
22 / 212
18 / 27
72 / 125
42 /78
Figure 3: Graph Similarity Measures
c'e'd'b'dcbe629Figure 4: Degree Distribution: St Andrews, Smallblue and Infocom06
constitutes one contact. The contact graph is constructed in a sim-
ilar manner with link weights that correspond to the frequency of
inter-user contacts over the duration of the trace. In addition to the
mobility trace the dataset also includes a social network (gathered
from Facebook) on a superset of users. The social network has 0/1
link weights based on two users being a friend on the Facebook
social network.
The Infocom06 dataset is a Bluetooth contact trace of Infocom
2006 conference attendees that volunteered to contribute their mo-
bility information. When two users are within Bluetooth connec-