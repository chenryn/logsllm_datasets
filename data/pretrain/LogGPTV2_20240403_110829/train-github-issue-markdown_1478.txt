According to the documentation, " plugins can be shipped in a subdirectory
relative to a top-level playbook", and this used to work in v1.
With v2 however, this does not work (at least for lookup_plugins) unless the
"lookup_plugins" subdirectory is explicitly mentioned in ansible.cfg.
    $ mkdir lookup_plugins
    $ cp $ANSIBLE_ROOT/lib/ansible/plugins/lookup/items.py lookup_plugins/myitems
    $ cat test_lookup_pl.yml 
    ---
    - hosts: localhost
      tasks:
        - name: Print items from custom lookup plugin
          debug: msg="Item= {{ item }} "
          with_myitems:
            - foo
            - bar
    $ ansible-playbook test_lookup_pl.yml
    PLAY ****************************************************************************
    TASK [setup] ********************************************************************
    ok: [localhost]
    TASK [Print items from custom lookup plugin] ************************************
    fatal: [localhost]: FAILED! => {"failed": true, "msg": "ERROR! the field 'args' has an invalid value, which appears to include a variable that is undefined. The error was: 'item' is undefined"}
    PLAY RECAP **********************************************************************
    localhost                  : ok=1    changed=0    unreachable=0    failed=1   
    Now if I create an ansible.cfg file:
    $ cat ansible.cfg
    [defaults]
    lookup_plugins=./lookup_plugins
    $ ansible-playbook test_lookup_pl.yml
    PLAY ****************************************************************************
    TASK [setup] ********************************************************************
    ok: [localhost]
    TASK [Print items from custom lookup plugin] ************************************
    ok: [localhost] => (item=foo) => {
        "item": "foo", 
        "msg": "Item= foo "
    }
    ok: [localhost] => (item=bar) => {
        "item": "bar", 
        "msg": "Item= bar "
    }
    ok: [localhost]
    PLAY RECAP **********************************************************************
    localhost                  : ok=2    changed=0    unreachable=0    failed=0   