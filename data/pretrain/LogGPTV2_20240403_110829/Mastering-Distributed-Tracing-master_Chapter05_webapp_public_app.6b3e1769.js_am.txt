},{"react":"HdMw","styled-components":"OuU+","./Styled":"R0fF"}],"77KO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMessages=exports.sendMessage=exports.postData=void 0;var e=require("dayjs"),t=r(e);function r(e){return e&&e.__esModule?e:{default:e}}var s="http://localhost:8080",o=exports.postData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then(function(e){if(e.status>400)throw new Error("Failed status code: "+e.status);return e}).then(function(e){return e.json()})},n=exports.sendMessage=function(e,t,r){return o(s+"/message",{author:e,room:t,message:r})},a=exports.getMessages=function(){return fetch(s+"/message").then(function(e){return e.json()})};
},{"dayjs":"M2pF"}],"Oy93":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("react"),r=n(t);function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(n){function a(e){o(this,a);var t=u(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={hasError:!1},t}return i(a,t.Component),e(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.default.createElement("h1",null,"Something went wrong. Make sure chat-api server is running."):this.props.children}}]),a}();exports.default=a;
},{"react":"HdMw"}],"A2T1":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("react"),n=m(t),r=require("react-dom"),a=m(r),o=require("./components/ChatRoom"),s=m(o),u=require("./components/UserInput"),i=m(u),l=require("./actions/Messages"),c=require("./components/Styled"),f=require("./components/ErrorBoundary"),h=m(f);function m(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(r){function a(){var e,t,n;p(this,a);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=n=d(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o))),n.state={title:"Tracing Talk",user:"guest-"+Math.floor(1e3*Math.random()),room:{name:"lobby",messages:[{id:"a",date:"2018-08-16T08:00:31-04:00",author:"Ralph",message:"ðŸ‘‹ Hey, there!"},{id:"b",date:"2018-08-16T08:02:31-04:00",author:"Johnny",message:"Hello!",image:"https://media.giphy.com/media/mIZ9rPeMKefm0/giphy.gif"}]}},d(n,t)}return y(a,t.Component),e(a,[{key:"componentDidMount",value:function(){var e=this;this.refreshMessages(),this.interval=setInterval(function(){e.refreshMessages()},3e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"refreshMessages",value:function(){var e=this;return(0,l.getMessages)().then(function(t){return e.setState(function(e){return e.room.messages=t,e})})}},{key:"userInputChange",value:function(e){this.setState({user:e.target.value})}},{key:"send",value:function(e){var t=this;e&&(0,l.sendMessage)(this.state.user,this.state.room.name,e).then(function(e){t.setState(function(t){return t.room.messages.push(e),t})})}},{key:"render",value:function(){var e=this;return n.default.createElement(c.HorizontalLayout,{justifyContent:"center"},n.default.createElement(c.Page,null,n.default.createElement("title",null,this.state.title),n.default.createElement(c.HorizontalLayout,null,n.default.createElement(c.Header,null,this.state.title),n.default.createElement(i.default,{user:this.state.user,onChange:function(t){return e.userInputChange(t)}})),n.default.createElement(h.default,null,n.default.createElement(s.default,{room:this.state.room,messages:this.state.messages,sendMessage:function(t){return e.send(t)}}))))}}]),a}();a.default.render(n.default.createElement(g,null),document.getElementById("app"));