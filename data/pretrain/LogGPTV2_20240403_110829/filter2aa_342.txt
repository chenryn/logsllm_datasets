### Tencent Blade Team
#### 公有云SDN的安全风险与加固
**演讲人：杨韬**
**2019**

---

### 关于我
- 安全平台部高级工程师
- Tencent Blade Team 成员
- 专注于安全预研，涵盖SDN、BIOS和TEE等领域

### 关于Tencent Blade Team
- 受邀参加多个海内外顶级安全会议，包括Blackhat USA、DEFCON、HITB、CanSecWest、CSS、KCon和XCon等。
- 获得Amazon、小米、华为等多个品牌的官方认可，并荣获小米安全年度最佳守护者及华为漏洞奖励计划的官方认证。
- 在腾讯Tday和技术文化周等活动上展示了广泛的行业安全影响力。
- 首次发现TensorFlow框架中的安全漏洞，并包揽了前七个已知漏洞。
- 发现SQLite存在的严重漏洞，影响了Chromium浏览器及大量Android和iOS应用。
- 深耕IoT领域，成功破解了Amazon Echo、Google Home和小米智能音箱等设备。

---

### 目录
1. SDN
2. Beyond VM
3. DevOps without Security
4. Naughty Docker
5. GreatWall
6. 结论

---

### 1. SDN
#### 技术背景
- **SDN的优势**:
  - 物理拓扑与逻辑拓扑分离
  - 按需实时变更逻辑拓扑
  - 按需实时生成网络功能

- **租户隔离**:
  - 云上几乎所有业务的共需特性
  - 多种实现方式
  - 守护云安全的重要屏障

---

### 2. Beyond VM
#### 从VM被入侵说起
- **问题**: 用户购买的VM被入侵，应如何处理？
- **回答**: 可以推荐一套安全产品和服务。
- **追问**: 如果用户购买的VPN被黑了怎么办？
- **分析**:
  - VPN也是一台VM
  - 与用户的其他VM在同一虚拟网络中
  - 但受SDN控制器管理配置
  - 可能逃离租户隔离限制

---

### 3. DevOps without Security
#### 经验教训
- **SDN安全配置**:
  - 在产品迭代中可能丢失
- **纵深防御**:
  - 结合加密通信和ACL控制
- **监控**:
  - 对跨越隔离边界的实体进行网络通信监控

---

### 4. Naughty Docker
#### 非典型容器逃逸
- **场景**:
  - 环境: Serverless
  - 主角: Docker
  - 时间: 300秒
  - 剧本: 任意
- **事件**:
  - 0秒: X母机Y1容器，反弹Shell
  - 306秒: X母机Y2容器，下载扫描工具
  - 630秒: X母机Y3容器，下载扫描工具
  - 800秒: X母机Y3容器，下载某POC工具α
  - 1000秒: X母机Y3容器，下载某POC工具β
  - 1080秒: X母机，执行ifconfig、whoami、id
  - **结论**: 母机API策略未隔离！

---

### 5. GreatWall
#### 万里长城永不倒，也别漏
- **经验教训**:
  - 逃逸不一定是漏洞，可能是SDN网络隔离失效
  - 强健的监控保障了SDN的持续进化
  - SDN网络隔离是云服务安全的基石

---

### 6. 结论
#### SDN安全，公有云的安全基石
- **攻击面**:
  - 配置不当
  - 可用性问题
  - 通信未加密
  - 密钥管理

- **多维提升**:
  - 网络安全
    - 宙斯盾
    - DNS劫持监控
  - 应用安全
    - 洞犀
    - 金刚
    - 门神
  - 主机安全
    - 安全架构
    - 洋葱
  - 数据安全
    - 安全合规
    - 安全质量
  - 前沿研究
    - 威胁情报
    - 蓝军演练

**谢谢观看！**

**演讲人：杨韬**