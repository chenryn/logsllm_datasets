Figure 13 shows the boxplots of different inference ap-
proaches. In level 1, the error rates are consistent with the
two-level tree settings in Experiment B.1 (with an average
of around 5%). In levels 2 and 3, we see fewer packet
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:45:26 UTC from IEEE Xplore.  Restrictions apply. 
559level 1
level 2
level 3
...
level 4
...
...
...
...
...
...
{
10 leaf nodes
Fig. 12. The four-level tree topology in network simulation (Section VII-B).
Our goal is to infer the loss rates of the bold links.
samples, so the error rates are higher than in level 1. In
general, both est.equal and est.self outperform est.perfect.
Such improvements are more obvious in level 2 and level 3. In
particular, we note that in level 3, the error of est.perfect almost
reaches 100%, and we ﬁnd that it reports 0% loss estimates
in most cases.
We note that est.equal has a slightly higher error rate than
est.self in levels 1 and 2. However, it is interesting to note
that est.self has a very high error rate in level 3. One reason
is that we here only generate packet losses at the links of
interest, so different root-to-leaf paths will have different end-
to-end loss rates. Thus, the TCP ﬂows along more lossy paths
will experience more timeouts in response to packet losses,
and different paths will have uneven trafﬁc loads. This makes
est.self less robust, as shown in the two-level tree settings. On
the other hand, the error rates of est.equal are the smallest
(within 20% in most cases) among all approaches in level 3.
Figure 14 shows the results of another scenario in which we
generate losses at all links in the topology at approximately
2%. We note that both est.equal and est.self have similar error
rates, given that every link has a similar loss rate and all paths
have fairly balanced trafﬁc loads. Both of them signiﬁcantly
outperform est.perfect in levels 2 and 3.
Summary. We compare different inference approaches using
network simulation. Similar to our model simulations (Sec-
tion VI), our PL-based inference outperforms the inference
that assumes perfect correlation. Also, by using the same end-
to-end loss rates, our PL-based inference can be robust to
uneven trafﬁc loads in different end-to-end paths. We also
show that our PL-based inference remains feasible in large-
scale topologies.
VIII. RELATED WORK
Loss rate inference is ﬁrst addressed under multicast settings
[4], [9], [23], in which a source dispatches multicast probes,
and then multiple receivers measure the end-to-end loss rates
of such probes. Statistical
techniques, such as maximum
likelihood estimation [9], [23] and temporal estimation [4],
are then applied to infer internal losses. The above methods
focus on a single tree, and [7] considers a multi-tree setting.
Given that IP multicast is not widely deployed, unicast-
based loss rate inference is proposed in [11], [12], [16], whose
idea is to send unicast probing packets to different receivers
to infer losses. The main assumption is that unicast probes
are loss correlated temporally on the common link that they
traverse. A more robust unicast-based inference approach is
later considered in [20], which exploits the variance of loss
rates of unicast probes.
The above methods are based on active probing, as they
generate dedicated probing packets purely for loss measure-
ments. However, active probing introduces additional trafﬁc
overhead. Passive measurement techniques are thus proposed
[6], [21], [22] to infer losses through existing network trafﬁc.
While [6], [21] focus on identifying lossy links, [22] is closely
related to us as they also use time correlation of existing TCP
trafﬁc for loss rate inference. However, a key distinction is that
our work explicitly models time correlation in loss estimates,
while this is not considered in [22].
There are recent directions of research on loss inference,
such as practical implementation of inference tools (e.g., [15]).
Various studies also consider delay and topology inferences,
and the survey of these studies are found in [10].
IX. CONCLUSIONS
In network tomography, passive measurements introduce
no probing overhead and hence are more attractive than
active measurements. This paper presents a new approach of
inferring link loss rates that is adaptive to different forms of
time correlation when passive measurements are assumed. We
develop a loss model as a function of time correlation and
address its identiﬁability. We then apply the concept of proﬁle
likelihood in a novel way for passive network tomography
to enable us to accurately infer link loss rates in complex
topologies. Using extensive model and network simulations,
we show that our approach provides high inference accuracy
under different network settings.
APPENDIX
A. Proof of Theorem 2
From (9), we have
ˆp − p =
(M10 + M11)(M01 + M11) − pM11N
M11N
,
where the numerator can be reduced to
M10M01 + (N − M00)M11 − pM11N.
(23)
Our proof is based on the law of large numbers. Recall that
the time difference between packet pairs here are assumed
constant. In the following, we use the same notation as in (4)
and (5), and ignore the time dependence since it is constant.
It is easy to show that
E(M10M01) = N (N − 1)r10r01,
(24)
since the same packet pair cannot have different success states
(i.e., the events (Yu = 1, Yv = 0) and (Yu = 0, Yv = 1)
are contradictory) and hence only different pairs have a
contribution to the above. Similarly we can show
E(M00M11) = N (N − 1)r00r11,
(25)
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:45:26 UTC from IEEE Xplore.  Restrictions apply. 
560)
%
(
r
o
r
r
l
E
e
v
i
t
a
e
R
e
t
u
o
s
b
A
l
0
2
5
1
0
1
5
0
)
%
(
r
o
r
r
l
E
e
v
i
t
a
e
R
e
t
u
o
s
b
A
l
0
6
0
5
0
4
0
3
0
2
0
1
0
0
0
1
0
8
0
6
0
4
0
2
0
)
%
(
r
o
r
r
l
E
e
v
i
t
a
e
R
e
t
u
o
s
b
A
l
est.equal
est.self
est.perfect
est.equal
est.self
est.perfect
est.equal
est.self
est.perfect
(a) Level 1
(b) Level 2
(c) Level 3
Fig. 13. Experiment B.4: Performance of different inference approaches in a large tree topology, where losses occur only in the links of interest.
)
%
(
r
o
r
r
l
E
e
v
i
t
a
e
R
e
t
u
o
s
b
A
l
0
2
5
1
0
1
5
0
)
%
(
r
o
r
r
l
E
e
v
i
t
a
e
R
e
t
u
o
s
b
A
l
0
6
0
5
0
4
0
3
0
2
0
1
0
0
0
1
0
8
0
6
0
4
0
2
0
)
%
(
r
o
r
r
l
E
e
v
i
t
a
e
R
e
t
u
o
s
b
A
l
est.equal
est.self
est.perfect
est.equal
est.self
est.perfect
est.equal
est.self
est.perfect
(a) Level 1
(b) Level 2
(c) Level 3
Fig. 14. Experiment B.4: Performance of different inference approaches in a large tree topology, where losses occur in all links.
and it is obvious that E(M11N ) = N 2r11. Substitute the
right side of the above three equations, and by ignoring the
difference between N 2 and N (N − 1) asymptotically, we can
express (23) (for large N ) as:
N 2(r10r01 − r00r11 + (1 − p)r11).
Therefore the asymptotic bias is
ˆp − p =
(r10r01 − r00r11 + (1 − p)r11)
r11
=
p2p1p2 − pr11
r11
,
where the second relation in the above can be easily derived
by (5). Hence the result of (10).
ACKNOWLEDGMENTS
The work of Patrick P. C. Lee was supported in part by the
CUHK CSE startup fund and the CUHK faculty direct grant
number 2050447.
REFERENCES
[1] The network simulator - ns-2. http://www.isi.edu/nsnam/ns/.
[2] The R Project for Statistical Computing. http://www.r-project.org/.
[3] M. Allman, W. M. Eddy, and S. Ostermann. Estimating loss rates with
tcp. ACM SIGMETRICS Performance Evaluation Review, 31(3):12–24,
Dec 2003.
[4] V. Arya, N. Dufﬁeld, and D. Veitch. Multicast inference of temporal
loss characteristics. Performance Evaluation, 64:1169–1180, 2007.
[5] J.-C. Bolot, S. Fosse-Parisis, and D. Towsley. Adaptive fec-based error
control for internet telephony. In Proc. of IEEE INFOCOM, 1999.
[6] E. Brosh, G. Lubetzky-Sharon, and Y. Shavitt. Spatial-temporal analysis
of passive tcp measurements. In Proc. of IEEE INFOCOM, 2005.
[7] T. Bu, N. Dufﬁeld, F. Lo Presti, and D. Towsley. Network tomography
on general topologies. In Proc. ACM SIGMETRICS, 2002.
[8] R. H. Byrd, P. Lu, J. Nocedal, and C. Zhu. A limited memory algorithm
SIAM J. Scientiﬁc Computing,
for bound constrained optimization.
16(16):1190–1208, 1995.
[9] R. C´aceres, N. Dufﬁeld, J. Horowitz, and D. Towsley. Multicast-
IEEE Trans.
based inference of network-internal loss characteristics.
on Information Theory, 45:2462–2480, 1999.
[10] R. Castro, M. Coates, G. Liang, R. Nowak, and B. Yu. Network
tomography: Recent developments. Statistical Science, 19(3):499–517,
2004.
[11] M. Coates and R. Nowak. Network loss inference using unicast end-to-
end measurements. In Proc. ITC Seminar on IP Trafﬁc, Measurement,
and Modelling, 2000.
[12] N. Dufﬁeld, F. Lo Presti, V. Paxson, and Tow. Network loss tomography
using striped unicast probes. IEEE/ACM Trans. on Networking, 14:697–
710, 2006.
[13] B. Efron and R. Tibshirani. An Introduction to the Bootstrap. Chapman
& Hall, 1994.
[14] L. Gang and B. Yu. Pseudo likelihood estimation in network tomogra-
phy. In Proc. IEEE INFOCOM, 2003.
[15] D. Ghita, H. Nguyen, M. Kurant, K. Argyraki, and P. Thiran. Netscope:
Practical network loss tomography. In Proc. IEEE INFOCOM, 2010.
[16] K. Harfoush, A. Bestavros, and J. Byers. Robust identiﬁcation of shared
losses using end-to-end unicast probes. In Proc. IEEE ICNP, 2000.
[17] M. Mellia, I. Stoica, and H. Zhang. Tcp model for short lived ﬂows.
IEEE Communication Letters, 6:85–87, 2002.
[18] S. A. Murphy and A. W. V. D. Vaart. On proﬁle likelihood. Journal of
the American Statistical Association, 95(450):449–465, 2000.
[19] H. X. Nguyen and M. Roughan. On the correlation of internet packet
losses. In ATNAC, 2008.
[20] H. X. Nguyen and P. Thiran. Network loss inference with second order
statistics of end-to-end ﬂows. In Proc. of IMC, 2007.
[21] V. N. Padmanabhan, L. Qiu, and H. J. Wang. Server-based inference of
internet link lossiness. In Proc. of IEEE INFOCOM, 2003.
[22] Y. Tsang, M. Coates, and R. Nowak. Passive network tomography using
EM algorithms. In Proc. IEEE ICASSP, 2001.
[23] A. Ziotopolous, A. Hero, and K. Wasserman. Estimation of network
link loss rates via chaining in multicast trees. In Proc. IEEE ICASSP,
2001.
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:45:26 UTC from IEEE Xplore.  Restrictions apply. 
561