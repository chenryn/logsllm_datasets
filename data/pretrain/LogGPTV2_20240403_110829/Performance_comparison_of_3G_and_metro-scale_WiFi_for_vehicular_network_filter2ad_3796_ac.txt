(1)
where p(x) is the probability mass function, 0 ≤ p(x) ≤ 1.
The lower the entropy, the lower the uncertainty associated
with the process. Hence, lower entropy indicates more pre-
dictability. Here, the random variable is the throughput.
To address the inﬂuence of location on throughput we use
the concept of location entropy as in [28]. Location entropy
H(X|li) is the entropy of throughput for a speciﬁc location
li. This is deﬁned as follows,
X
xX
(2)
where p(x|li) is the probability mass function of throughput
at location li. We use a similar technique as in [28] to calcu-
late the entropy of instantaneous throughput measurements
from the data corresponding to the short drives. Both to-
tal entropy (as in Equation 1) and location entropy (as in
Equation 2) are computed.
The entire geographic space containing the drives is check-
ered with grids of diﬀerent sizes: 10m×10m, 20m×20m and
30m×30m, with each grid square being indicative of a lo-
cation. The grids simply discretize the space. The three
diﬀerent sizes are chosen to estimate what level of discretiza-
tion is appropriate. The average instantaneous throughput
per drive per grid square is treated as the realization of sin-
gle independent random observation. Hence, each drive can
produce at the most one observation per grid square. The
total entropy is computed over all instantaneous throughput
measurements for 3G and WiFi separately. The location en-
tropy is computed similarly for each grid square and then
averaged over all squares. The results are presented in Ta-
ble 1. We can see that the total entropy of 3G is much lower
than the total entropy of WiFi showing better predictabil-
ity of 3G throughputs. Note that the size of grid squares
makes little diﬀerence. We also see that the location en-
tropy of both 3G and WiFi is lower than their respective
total entropies. This result suggests that when conditioned
on location, instantaneous throughput becomes more pre-
dictable in both networks. But the degree of improvement
is somewhat similar.
4.5 Temporal Correlation
We also evaluate the temporal correlation of instantaneous
throughput values. Figure 7 shows the autocorrelation for
the long drive. Note the excellent temporal stability of 3G
relative to WiFi. This is somewhat in contrast with mea-
surements in [28], where the authors have found that the au-
tocorrelation in HSDPA throughputs was quite small. Also,
305• Instantaneous thoughputs on WiFi can be zero occa-
sionally (very roughly one-third of the times). On the
other hand, very roughly one-third of the times it can
deliver signiﬁcantly high throughput (over 2.5 Mbps).
• When WiFi is available, it is very likely (roughly 90%)
that it outperforms 3G. Such outperformance is signif-
icant (a median diﬀerence of 1500 Kbps).
• There is more variability in WiFi throughputs relative
to 3G. But variability reduces when conditioned on
location. This is true for both networks.
• There is a good temporal correlation for the instanta-
neous throughputs on both networks, at least for short
lags (more for WiFi).
• Slow speed means higher throughput on WiFi. But
3G is much less sensitive to speed.
• Correlation between WiFi and 3G throughputs are
poor signifying that diversity techniques will be suc-
cessful.
In conclusion, we have shown by experimental measure-
ments that a metro-scale WiFi and 3G networks exhibit very
diﬀerent characteristics under vehicular mobility. WiFi has
frequent disconnections even in a commercially operated,
metro-scale deployment; but when connected indeed delivers
high throughout even in a mobile scenario. The 3G network
oﬀers much lower throughputs, but provides much better
coverage and less throughput variability. Our general expe-
rience indicates that a hybrid design that exploits the best
properties of the two networks opportunistically can be very
successful [4]. This can beneﬁt the consumer with better
throughput and as well as lower the cost for the provider by
moving expensive 3G bits onto WiFi networks.
We do note that while our experiences are indeed provider
speciﬁc, the general observations are not surprising and very
likely would be repeated in other deployments. We expect
that our work will encourage similar measurement studies.
We also note that lack of access to the provider network
lets us measure end-to-end throughput only, instead of the
throughput on the wireless hop alone. The latter would
certainly be more interesting to study. Our future work in-
cludes (i) understanding and improving handoﬀ character-
istics and TCP dynamics for vehicular WiFi access, specif-
ically for metro-scale WiFi deployments, and (ii) designing
hybrid access methods that exploit the best of 3G and WiFi,
particularly targeting interactive use.
)
k
(
R
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
WiFi
3G
 5
 10
 15
 20
k
 25
 30
 35
 40
Figure 7: Autocorrelation R(k) of the instantaneous
throughputs measured in 1 sec intervals, where k
denotes the time lag in seconds.
AR(k) Model MSE(Yest)/VAR(Y)
AR(1)
AR(2)
AR(4)
AR(16)
0.120
0.119
0.119
0.117
Table 2: Prediction accuracy using AR(k) model.
interestingly for lower values of lag (k), the autocorrelation
in WiFi throughputs is higher than that of 3G, though it
decays promptly.
The knowledge of autocorrelation is useful is estimate
how well the recent throughput experiences can predict the
throughputs to be seen in near future. This could be useful
in packet scheduling in a hybrid access scheme.
The prediction model can use one of several standard
techniques such as autoregressive (AR) model, moving av-
erage (MA) model, autoregressive moving average (ARMA)
model, etc. In [28] the authors have found that even the sim-
plest of the models (AR) produces a very good estimate of
the current throughput based on throughput measurements
in the recent past. Thus, we have kept our analysis limited
to AR models only. We have evaluated the performance of
the AR(k) model for several values of k to see the quality of
estimation. Table 2 shows the mean-squared estimation er-
ror divided by the sample variance (M SE/s2). This is based
on a standard AR(k) ﬁtting method used in the mathemat-
ical software Octave, when applied on the time series WiFi
throughput data.1
5. SUMMARY AND CONCLUSIONS
We now summarize the experiences we gathered from the
measurement study.
• There is upto a factor of 4 improvement of median
throughput on WiFi relative to 3G. This is somewhat
drive speciﬁc.
1If xt is the average throughput at the t-th sec, the AR(k)
i=1 φixt−i + t, where c is
model estimates xt as ˆxt = c +
a constant, φi’s are the parameters of the model, and t is
white noise.
Pk
3066. REFERENCES
[1] Coverage Locator – Verizon Wireless.
http://www.verizonwireless.com/b2c/
CoverageLocatorController?requesttype=
NEWREQUEST.
[2] Optimum WiFi.
http://www.optimum.net/MyServices/WiFi/.
[3] Ubiquity Networks, Inc. http://www.ubnt.com.
[4] A. Balasubramanian, R. Mahajan, and
A. Venkataramani. Augmenting Mobile 3G Using
WiFi. In Proc. ACM MobiSys Conference, 2010.
[5] Aruna Balasubramanian, Ratul Mahajan, Arun
Venkataramani, Brian Neil Levine, and John
Zahorjan. Interactive WiFi connectivity for moving
vehicles. ACM SIGCOMM Comput. Commun. Rev.,
38(4):427–438, 2008.
[6] Aruna Balasubramanian, Yun Zhou, W. Bruce Croft,
Brian Neil Levine, and Aruna Venkataramani. Web
search from a bus. In Proc. ACM CHANTS
Workshop, 2007.
[7] Vladimir Bychkovsky, Bret Hull, Allen Miu, Hari
Balakrishnan, and Samuel Madden. A measurement
study of vehicular Internet access using in situ Wi-Fi
networks. In Proc. ACM MobiCom Conference, 2006.
[8] R. Caceres and L. Iftode. Improving the performance
of reliable transport protocols in mobile computing
environments. IEEE Journal on Selected Areas in
Communications, 13(5):850–857, 1995.
[9] Pralhad Deshpande, Anand Kashyap, Chul Sung, and
Samir R. Das. Predictive methods for improved
vehicular WiFi access. In Proc. ACM Mobisys
Conference, pages 263–276, 2009.
[10] A. Doufexi, EK Tameh, AR Nix, and A. Molina.
Hotspot wireless LANs to enhance the performance of
3G and beyond cellular networks. IEEE
Communications Magazine, 41, 2003.
[11] Jakob Eriksson, Hari Balakrishnan, and Samuel
Madden. Cabernet: A WiFi-Based Vehicular Content
Delivery Network. In Proc. ACM MobiCom
Conference, 2008.
[12] Anastasios Giannoulis, Marco Fiore, and Edward W.
Knightly. Supporting vehicular mobility in urban
multi-hop wireless networks. In Proc. ACM MobiSys
Conference, 2008.
[13] V. Gunasekaran and F.C. Harmantzis. Towards a
Wi-Fi ecosystem: Technology integration and
emerging service models. Telecommunications Policy,
32(3-4):163–181, 2008.
[14] David Hadaller, Srinivasan Keshav, Tim Brecht, and
Shubham Agarwal. Vehicular opportunistic
communication under the microscope. In Proc. ACM
MobiSys, 2007.
[15] Y. Lee. Measured TCP performance in CDMA
1xEV-DO network. In Proc. PAM Conference,
Adelaide, Australia, Mar. 2006.
[16] W. Lehr and L.W. McKnight. Wireless Internet
access: 3G vs. WiFi? Telecommunications Policy,
27(5-6):351–370, 2003.
[17] X. Liu, A. Sridharan, S. Machiraju, M. Seshadri, and
H. Zang. Experiences in a 3G network: interplay
between the wireless channel and applications. In Proc.
ACM MobiCom Conference, pages 211–222, 2008.
[18] Ratul Mahajan, John Zahorjan, and Brian Zill.
Understanding WiFi-based connectivity from moving
vehicles. In Proc. Internet Measurement Conference
(IMC), pages 321–326, 2007.
[19] K. Mattar, A. Sridharan, H. Zang, I. Matta, and
A. Bestavros. TCP over CDMA2000 networks: A
cross-layer measurement study. In in Proc. Passive
and Active Measurements (PAM) Conference, 2007.
[20] Muniwireless.com. List of cities and counties with
large WiFi networks. http://www.muniwireless.com/
reports/Mar-28-2009-list-of-cities.pdf.
[21] Vishnu Navda, Anand Prabhu Subramanian, Kannan
Dhanasekaran, Andreas Timm-Giel, and Samir R.
Das. MobiSteer: using steerable beam directional
antenna for vehicular network access. In Proc. ACM
MobiSys Conference, 2007.
[22] J. Ormont, J. Walker, S. Banerjee, A. Sridharan,
M. Seshadri, and S. Machiraju. A city-wide vehicular
infrastructure for wide-area wireless experimentation.
In Proc. ACM WinTech Workshop, pages 3–10, 2008.
[23] J. Ott and D. Kutscher. Drive-thru internet: IEEE
802.11b for automobile users. In Proc. IEEE Infocom,
2004.
[24] J. Ott and D. Kutscher. A disconnection-tolerant
transport for drive-thru internet environments. In
Proc. IEEE Infocom Conference, 2005.
[25] Qualcomm. The economics of wireless mobile data.
http://www.wirelessdevnet.com/library/
WirelessMobileData.pdf.
[26] Wee Lum Tan, Fung Lam, and Wing Cheong Lau. An
empirical study on 3G network capacity and
performance. In Proc. IEEE INFOCOM, pages
1514–1522, 2007.
[27] Peng Yang, Hui Deng, and Yuanchen Ma. Seamless
integration of 3G and 802.11 wireless network. In
Proc. MobiWac, pages 60–65, 2007.
[28] Jun Yao, Salil S. Kanhere, and Mahbub Hassan. An
empirical study of bandwidth predictability in mobile
computing. In Proc. ACM WiNTECH, pages 11–18,
2008.
307