that is 
are of utmost importance 
clusters 
that polluted 
As 
of the system. 
this fault-containment 
feature 
makes unlikely 
VIII. MODELING THE ADVERSARIAL STRATEGY IN THE 
OVERLAY NETWORK 
(9) 
p(As) and 
gives the probabilities 
in states As and Ap. 
probabilities 
of absorption 
computation 
A similar 
p(Ap) to be respectively 
absorbed 
Figure 4 shows these different 
are equiprobable. 
behavior 
the initial 
the fact  that 
size So of the spare 
distribution 
Clearly 
we see that p(As) =  0.57 and p(A) =  0.43. 
0: =  8 (on the left 
in absence of 
(f-l =  0), the cluster  remains 
safe until it 
for protocoll with the initial 
graph) and 0: =  /3 (on the right graph). 
adversarial 
splits or merge, and both operations 
Actually, 
This  comes  from 
to l /2 J =  l7 12 J =  3 (cf. Section VII-A), 
set is  equal 
to reach a merge safe state equals 
and thus the probability 
1 -3/7   0.57, and thus a split safe state equals 0.43. 
Thus  after  some 
the overlay 
is stable. 
the adversary 
of absorption. 
f-l, the probability 
with larger values of d. This confirms the results 
increases 
above: the population 
than join operations. 
peers trigger 
However, 
in the cluster, 
merge in a polluted 
8%) even for very large values of both 
peers stay longer 
to 
for the cluster 
state is very small (strictly 
less than 
f-l =  30%) and 
period of growth, the topology 
Let us now observe the influence 
For a given 
to split increases 
described 
as malicious 
for 0: =  8, the probability 
less leave operations 
on the probabilities 
the fact that malicious 
for a safe cluster 
f-l (e.g., 
of the cluster 
despite 
initial 
of 
of 
an overlay 
We consider 
the same protocol 
and in particular 
Vi implements 
to join and leave events. 
the long run proportion 
Vi 
for n 2: 1, n 
clusters. 
VI"'" Vn, and subject 
We now analyze the impact of the adversary 
on the 
of 
with n 
populated 
Specifically, 
it affects 
Pi =  lin. Thus we consider, 
whole overlay, 
polluted 
clusters 
protocolk' 
Each cluster 
We assume that join and leave events are uniformly 
dis­
when a join 
tributed throughout 
the overlay. 
or leave event occurs in the overlay 
cluster 
with probability 
Markov chains X(1), ... , x(n) identical 
same state space n, the same transition 
M and the same initial 
these chains are not independent 
one Markov chain is allowed to make a transition, 
Markov chain being chosen with probability 
by Nn) (m) and Nn) (m
polluted 
clusters 
the respective 
in set P at instant m. More formally, 
are defined, for m 2: 0, by 
Nn)(m) =  :L l{xf:)ES} and Nn)(m) =  :L l{xf:)EP}, 
since, at each instant, 
only 
this 
lin. We denote 
just after the mth join or leave event, i.e. 
to X, i.e. with the 
probability 
matrix 
0:. However 
number of Markov chains that are in set S and 
) the respective 
distribution 
probability 
number of safe and 
n 
h=1 
n 
h=1 
these random variables 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:28:22 UTC from IEEE Xplore.  Restrictions apply. 
10 
356 
we have 
theorem. 
is given by the following 
It has been proved in [25] that the transient 
of each Markov chain X(h), h = 1 ,  ... , n 
state probabilities 
at instant m ;:::: 0 
Theorem 1: For every h = 1 ,  ... , n, m ;:::: 0 and j E n, 
P{X) =  j} =   (;) (r (1-) 
m-lp{Xl 
=  j} 
(1 0) 
of h since, even 
they behave iden­
values of nand d. The main observation 
for realistic 
is that 
the expected 
proportion 
is very low even for large values of d (less that 2.2%). 
Let us then observe that the expected 
of safe 
proportion 
of d value. The same remark 
clusters 
of polluted 
holds for the expected 
(even 
y-axis scale used for this 
though because of the different 
figure the phenomenon 
This 
by the fact that the real churn 
independence 
d). 
by parameter 
dominates 
Note that this probability 
though the Markov chains are dependent, 
tically 
and each of them is chosen with probability lin. 
the induced churn (represented 
is almost independent 
can be explained 
is independent 
is not visually 
proportion 
of polluted 
clusters 
IX. CONCLUSION 
(right figure) clusters 
straightforward). 
in the following  theorem. 
The main lessons 
learnt 
from this study is that (i) shuffling 
The expectations 
of random variables E(Nn)(m)) and 
E(Nn)(m)) are then obtained 
We denote by lis (resp. lip) the column vector of dimension 
18 u P I  which ith entry is equal to 1 (resp. 0) if i E 8 and 
o (resp. 1) if i E P. 
Theorem 2: For every n  ;::::  1 
and m ;:::: 0, we have 
m lis. 
E(N:)(m)) =a(T+(l_)I)
E(N:)(m)) =a(T+ (l_)I)m 
lip. 
Proof" From the definition 
of Nn) (m) and using 
Theorem 1, we have 
n 
h=l 
E(Nn)(m)) = LIP{X) E 8} = LLIP{X) =j} 
m ( ) (1) £ ( 1 ) m-£ 
= n t;; ;;;; 1 -;;;; IP{X£ E 8} 
n 
h=l jES 
It is  well-known 
generic  Markov  chain 
X are given by 
that the transient 
IP{X£ E 8} = aT£lis. 
We thus get 
agreement 
better than 
property 
tolerant 
peers (protocolk with k > 1). This is an 
because when k = 1, the implemen­
run amongst spare members, compared to two 
one is needed in the 
value of L, i.e., the 
to 
a single peer at a time (protocoll) performs 
shuffling several 
interesting 
tation is reduced to a single Byzantine 
algorithm 
such runs for k > 1 (an additional 
core set). (ii) By choosing 
an adequate 
length of the lifetime 
noticeably 
system, 
churn at cluster 
it demonstrates  that 
in an hyper-activity 
Pushing peers smoothly 
system is sufficient. 
of attacks 
and remarkably decrease 
the overhead 
there is no need to keep the system 
to be resilient 
targeted 
regions 
reduce the propagation 
of peers incarnation, 
but to unpredictable 
in the whole 
of the induced 
it is possible 
against 
of the 
attacks. 
REFERENCES 
level. This is another  interesting  result 
as 
state probabilities 
of 
[ 1 ]  N. Naoumov and K. W. Ross, "Exploiting 
p2p systems for 
ddos attacks," 
on Scalable 
in Proceedings 
of the International 
Conference 
Information 
Systems (Infoscale), 
2006. 
[2] A. Fiat, J. Saia, and M. Young, "Making chord  robust 
to 
attacks," 
in Proceedings 
of the Annual European 
byzantine 
Symposium 
on Algorithms 
(AESA), 2005. 
[3] I. Baumgart 
and S. Mies, "S/kademlia: A practicable 
in Proceedings 
of the 
and Distributed 
towards secure key-based routing," 
International 
(ICPADS), 
Conference 
on Parallel 
2007. 
Systems 
approach 
[4] E. Anceaume, 
F. Brasileiro, 
R. Ludinard, 
p2p overlay 
an hypercube-based 
and chum," in Proceedings 
and A. Ravoaja, 
robust against 
of the International 
on Self-Adaptive 
and Self-Organizing 
Systems 
"PeerCube: 
collusion 
Conference 
(SASO), 2008. 
[5] B. Awerbuch and C. Scheideler, 
"Towards 
scalable 
and ro­
bust overay networks," 
Workshop 
on Peer-to-Peer 
Systems (IPTPS), 
2007. 
in Proceedings 
of the International 
[6] P. B. Godfrey, S. Shenker, 
and I. Stoica, 
"Minimizing 
chum in 
systems," 
in Proceedings 
of the ACM SIGCOMM, 
distributed 
2006. 
• 
using the same lines. 
stochastic 
n  ;:::: 1. We then have, for every n  ;:::: 1, 
Expectation E(Nn)(m)) is obtained 
The states of 8 U P being transient, 
matrix T is sub­
and so is matrix Tin + (1  - 1 In) I, for every 
E(Nn)(m)) = lim 
E(Nn)(m)) = o. 
n  m--too 
m--too 
of safe (left 
after the mth 
the expected 
(right figure) clusters 
Figure 5 depicts 
proportion 
figure) and polluted 
transition, 
i.e., that is the mth join or leave operation, 
lim 
n 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:28:22 UTC from IEEE Xplore.  Restrictions apply. 
11 
357 
n-Number of Events 
n-Number 
of Events 
F·  5 E(Nn)(m)) and E(Nkn)(m)) 
19ure:  n 
n 
as a function 
of m  for different 
values of nand d. 
[7] E. Anceaume, 
F. Brasileiro, 
R. Ludinard, 
study of adversarial 
B. Sericola, 
and 
strategies 
in c1uster­
of the 2nd International 
"Analytical 
F. Tronel, 
based overlays," 
Workshop on Reliability, 
2009. 
in P roceedings 
Availability, 
and Security 
(WRAS), 
[ 1 6] C. G. Plaxton, R. Rajaraman, 
nearby copies of replicated 
ment," in P roceedings 
Parallel Algorithms 
and A. W. Richa, "Accessing 
environ­
objects in a distributed 
of the 9th Annual ACM Symposium 
and Architectures (SPAA), 
1 997. 
on 
[8] M. Castro, P. Druschel, A. Ganesh, A. Rowstron, 
and D. S. 
Wallach, "Secure 
networks," 
Systems Design and Implementation 
in P roceedings 
for structured 
routing 
of the Symposium 
peer-to-peer 
overlay 
on Operating 
(OSDl), 2002. 
and D. Mazieres, "Kademlia: A peer-to-peer 
[ 17] P. Maymounkov 
information 
ings for the international 
(iPTP S),2002. 
system based on the XOR metric," 
Workshop 
on Peer-to-Peer 
in Proceed­
Systems 
[9] S. Ratnasamy, 
S. Shenker,  "A 
P roceedings 
of the ACM SIGCOMM, 200 I .  
P. Francis, M. Handley, 
scalable content-addressable 
network," 
R. Karp, and 
in 
provably 
Proceedings 
Computing 
(P2P), 2006. 
[ 1 8] T. Locher, S. Schmid, and R. Wattenhofer, 
"eQuus: A 
ware peer-to-peer 
system," in 
robust and locality-a
of the International 
Conference 
on Peer-to-Peer 
[ 1 0] I. Stoica, 
D .  Liben-Nowe
ll, R .  Morris, D .  Karger, 
F. Dabek, 
and H. Balakrishnan, "Chord: A scalable 
[ 1 9] J. Douceur, 
"The sybil attack," 
in P roceedings 
national 
Workshop on Peer-to-Peer 
Systems (IPTPS), 
of the inter­
2002. 
M. F. Kaashoek, 
peer-to-peer 
ceedings 
of the ACM SIGCOMM, 200 1 .  
lookup service for internet 
applicati
ons," in P ro­
[20] R. Housley, W. Ford, W. Polk, and D. Solo, "Internet 
x.509 
public key infrastructure 
certificate 
and crl 
profile," 
1 999. 
[ I I ]  P. Druschel 
"Past: 
A large-scale, 
persistent 
and A .  Rowstron, 
storage 
utility," 
peer-to-peer 
on Hot Topics in Operating Systems (HatOS), 
in Proceedings 
2001 .  
of the Workshop 
[21 ]  L. Lamport, 
R. Shostak, 
and M. Pease, "The byzantine 
gener­
als  problem," 
and Systems, 
ACM Transactions 
vol. 4, 1 982. 
on Programming Languages 
[ 1 2] A .  Singh, T. Ngan, P. Drushel, and D .  Wallach, 
and defenses," in P ro­
networks: Threats 
on overlay 
"Eclipse 
of the Conference 
on Computer Communications 
attacks 
ceedings 
(INFO COM), 2006. 
[22] E. Anceaume, 
R. Ludinard, 
and F. Tronel, 
"Per­
using 
analysis of large scale  peer-to-peer 
overlays 
l.inria.fr/inria-0054603
9/en/, 
formance 
markov chains," IRISA, http://ha
Tech. Rep. 1 963, 201 0. 
B. Sericola, 
[ 1 3 ]  E. Sit and R. Morris, "Security 
considerations 
for peer-to-peer 
distributed 
Workshop 
hash tables," in P roceedings 
on Peer-to-Peer 
Systems (IPTPS), 
2002. 
of the International 
[ 1 4] K. Hildrum and J. Kubiatowicz, "Asymptotically 
efficient 
networks," 
in peer-to-peer 
in 
to fault-tolerance 
of theInternational 
Symposium 
on Distributed 
approaches 
P roceedings 
Computing 
(DISC), 
2003. 
[23] B. Sericola, "Closed form solution for the distribution 
of 
the total time spent in a subset of states of a Markov 
process during a finite observation 
vol.  27,  no.  3, 
P robability, 
period," 
pp. 7 1 3-71 9,1 990. 
Journal of Applied 
[24] B. Sericola 
and G. Rubino, "Sojourn 
" Journal of Applied Probability, 
times in Markov pro­
vol. 26, no. 4, pp. 
cesses,
744-756, 1 989. 
[ 1 5] T. Condie, 
V. Kacholia, S. Sankararaman, 
and P. Maniatis, "Induced 
poisoning,
on Network and Distributed 
2006. 
" in P rocs of the i3th thirteenth 
chum as shelter 
J. M. Hellerstei
from routing-table 
Annual Symposium 
n, 
System Security 
(NDSS'06), 
[25] E. Anceaume, 
F. Castella, R. Ludinard, 
and B. Seri­
cola, "Markov chains competing 
plication 
http://ha
r/inria-00485667/en/, 
l.inria.f
to large scale distributed systems," INRIA, 
for transitions
: Ap­
Tech. Rep., 2011 .  
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:28:22 UTC from IEEE Xplore.  Restrictions apply. 
12 
358