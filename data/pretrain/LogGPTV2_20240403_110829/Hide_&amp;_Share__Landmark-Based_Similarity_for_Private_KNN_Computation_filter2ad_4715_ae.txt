=
L ≤ n − 1
2n
(cid:3)
D(M )
p(D(M ))T (D(M ))
(cid:2)i m
(13)
two lines follow because
The last
d=i N (d, i)p(Md) =
p(D(M ) = i) is the probability of having a matrix with i
non-zero rows.
C. Upper Bound on Information Leakage
We conclude our analysis by computing the value of the
bound on information leakage in the test conﬁgurations of
Section IV. To this end, let η be the probability of an element
in the M matrix’s being 1, and let (cid:2)r be a row vector in matrix
M. We can compute the probability of having a non-zero row
vector in M as follows.
ρ1 = p((cid:2)r (cid:11)= (cid:2)0) = 1 − (1 − η)
m
(14)
TABLE II.
F1 SCORE AND UPPER BOUNDS ON LEAKED INFORMATION
IN THE CONFIGURATIONS OF SECTION IV.
ML-100k, m = 25
ML-100k, m = 10
ML-100k, m = 7
ML-100k, m = 5
ML-100k, m = 3
n
660
660
660
660
660
L
660
505
399
338
283
F1 score
0.6690
0.6602
0.6567
0.6480
0.6360
(cid:7)
(cid:8)
(cid:3)
This allows us to rewrite Equation (13) to obtain:
L ≤ n− 1
2n
(1−ρ1)
D(M )
(ρ1)
D(M )
n
n−D(M )
D(M )
T (D(M )).
(15)
For the conﬁguration of Section IV, we obtain η = 0.05.
Depending on the dataset and number of landmarks, this leads
us to the values of F1 score and leaked-information bound
shown in Table II. The results show that 5, and 3 landmarks
allow H&S to provide good similarity scores while leaking
respectively no more than 51% and 43% of the information in
the compact proﬁles. Also, while the value of L for m = 25
may seem bad, it does not mean that 25 landmarks leak all the
information in the compact proﬁles, but only that the bound is
not tight.
VI. RELATED WORK
Social networks in general, and collaborative ﬁltering (CF)
in particular, have attracted a number of efforts to propose
decentralized implementations [21], [4], [22], [5], [23]. These
approaches differ in (i) the mechanisms they use to connect
users, and (ii) the level of privacy they provide.
A. Decentralized implicit social networks
Users may be connected through some explicit connections
(as in [23]), which they declare and control (e.g. by “friending”
or following other users, as in traditional centralized social
networks), or through some implicit overlays. PeerSoN [23]
for instance provides an explicit social networks, and relies on
an external DHT infrastructure (e.g. OpenDHT [24]) to store
information and publications related to users, even when users
are disconnected, thus providing temporal uncoupling in users’
communication.
H&S is based on this second type of approaches, which
organize users in an implicit overlay based on their similarity.
This implicit overlay can then be used for item recommenda-
tions [5], query extension [8], search [22], and news propa-
gation [2], [3]. These works exploit the local neighborhoods
constructed around each users to construct recommendations,
or/and route queries and news to nodes and communities
most likely to contain information related to them or have
an interest in them. These approaches construct in practice
distributed KNN graphs [25], [5]. They are therefore closely
related to top-k processing algorithms [26], in particular when
these approaches only exploit local information, thus lending
themselves to decentralized implementations.
B. Privacy protection in peer-to-peer social networks
The means of privacy protection in decentralized social
networks depend on the nature of the connections created
272272
between users. In explicit P2P social networks, i.e. in networks
in which overlay links mirror social relationships, the main
focus lies in the integrity and conﬁdentiality of the peer-to-peer
links. PeerSoN [23] for instance relies on public/private key
pairs to allow each user to control access to her private data.
Safebook [27] extends this approach by relying on a trusted
identiﬁcation service (TIS), and routing mechanism combining
onion-routing and real-life trusted relationships (matryoshkas)
to hide a user’s node id.
This type of approaches cannot however be directly trans-
posed to implicit overlay networks, in which users (through
their associated node) might interact with many other users
they do not know or trust. One solution is to inject noise in
users’ proﬁles [28], [29] to distort and thus protect users’ pri-
vate information. Unfortunately, other works have shown that
these scheme are weak and still allow attackers to reconstruct
missing information [30], [31].
[32] provides two-party protocols to compute the cosine
similarity of a document private to one party, with a corpus
of documents private to the other party without revealing any
document to each other. The most efﬁcient of these protocols
uses Paillier’s partially homomorphic cryptosystem to compute
the cosine similarity in a privacy-preserving way. This provides
strong privacy guarantees in the considered security model
which is, unlike H&S, the semi-honest (aka honest but curious)
adversary.
In [33], authors describe a Private Neighbor Collaborative
Filtering (PNCF) algorithm which guarantees differential pri-
vacy of neighborhoods. They also adapt elements of differ-
ential privacy so that the speciﬁc requirements of CF are met,
thus retaining utility of recommendations. Although this PNCF
algorithm is designed for the centralized setting, it should be
possible to make a decentralized version.
Private Proﬁle Matching (PPM) [34], [35], [36] and private
set
intersection [37] are two related domains of research
which may serve as bricks for decentralized KNN computation.
However, to our knowledge, existing protocols in these do-
mains rely on techniques such as homomorphic encryption that
provide stronger privacy guarantees at the cost of much higher
computational complexity (e.g. [38] reports computation times
of several seconds for a similarity operation between a pair
of users). This makes these solutions impractical for rec-
ommendation systems because distributed KNN computation
requires users to frequently recompute their similarities with a
large number of other users. H&S strikes a different balance
than these approaches and provides an efﬁcient solution with
reasonable privacy.
VII. CONCLUSION
We have presented Hide & Share (H&S for short), a novel
peer-to-peer similarity computation protocol for decentralized
KNN computation. We have demonstrated both formally and
experimentally that H&S protects the privacy of users in the
context of a peer-to-peer recommender. This protection is
provided while preserving the system’s effectiveness. H&S
introduces landmarks, random data structures that are shared
between peers comparing their proﬁles. It leverages a com-
binations of cryptography and security mechanisms to ensure
that these landmarks cannot be diverted to attack the privacy
of users.
We have shown using three real-world datasets that H&S
maintains a strong level of privacy while providing recom-
mendations close to that of an open system with no particular
privacy protection mechanism. We have also shown using
preliminary attacks that the Hide & Share mechanism performs
better than a randomization scheme. Finally we have proposed
an upper bound on the amount of information leaked by our
scheme.
the applicability of H&S is not
Although recommendation has been our primary focus
in this paper,
limited to
recommendation services. In the near future, we would like
to investigate how our proposal might be applicable to other
services, such as search, news propagation, and decentralized
differential privacy. We also plan to improve our upper bound,
and further investigate the properties of H&S under stronger
attack models than those presented here, in particular if we
assume that attackers have some (limited) collusion ability, or
have some prior knowledge of items and users distribution in
the system.
ACKNOWLEDGMENTS
Antoine Boutet is an author of this paper. His name was
mistakenly forgotten at the time of registering the paper (the
submission was double blinded). At the time of publication,
we were prevented from correcting our mistake.
This work was partially funded by the Region of Brittany,
France, by the French ANR project SocioPlug (ANR-13-INFR-
0003), by the DeSceNt project granted by the Labex Comin-
Labs excellence laboratory (ANR-10-LABX-07-01), and by
the Google Focused Research Award Web Alter-Ego.
REFERENCES
[1] M. Ekstrand, J. Riedl, and J. Konstan, Collaborative Filtering Recom-
mender Systems. Now Publishers, 2011.
[2] A. Boutet, D. Frey, R. Guerraoui, A. J´egou, and A.-M. Kermarrec,
“WHATSUP: A decentralized instant news recommender,” in Parallel
and Distributed Processing Symposium, International.
IEEE Computer
Society, 2013, pp. 741–752.
[3] R. Baraglia, P. Dazzi, M. Mordacchini, and L. Ricci, “A peer-to-peer
recommender system for self-emerging user communities based on
gossip overlays,” Journal of Computer and System Sciences, vol. 79,
no. 2, pp. 291–308, 2013.
[4] M. Bertier, D. Frey, R. Guerraoui, A.-M. Kermarrec, and V. Leroy,
“The gossple anonymous social network,” in Proceedings of
the
ACM/IFIP/USENIX 11th International Conference on Middleware.
Springer-Verlag, 2010, pp. 191–211.
[5] S. Voulgaris and M. v. Steen, “Epidemic-style management of semantic
overlays for content-based searching,” in Euro-Par 2005 Parallel Pro-
cessing, no. 3648. Springer Berlin Heidelberg, 2005, pp. 1143–1152.
[6] A. Boutet, D. Frey, A. J´egou, A.-M. Kermarrec, and H. B. Ribeiro,
“Freerec: An anonymous and distributed personalization architecture,”
in The First International Conference on Networked Systems. Springer
Berlin Heidelberg, 2013, pp. 58–73.
[7] D. Frey, A. J´egou, and A.-M. Kermarrec, “Social market: Combining
explicit and implicit social networks,” in Stabilization, Safety, and
Security of Distributed Systems.
Springer Berlin Heidelberg, 2011,
no. 6976, pp. 193–207.
[8] M. Bertier, R. Guerraoui, V. Leroy, and A.-M. Kermarrec, “Toward
personalized query expansion,” in Proceedings of the Second ACM
EuroSys Workshop on Social Network Systems. ACM, 2009, pp. 7–12.
273273
[31] H. Kargupta, S. Datta, Q. Wang, and K. Sivakumar, “On the privacy
preserving properties of random data perturbation techniques,” in Third
IEEE International Conference on Data Mining.
IEEE Computer
Society, 2003, pp. 99–106.
[32] M. Murugesan, W. Jiang, C. Clifton, L. Si, and J. Vaidya, “Efﬁcient
privacy-preserving similar document detection,” The VLDB Journal,
vol. 19, no. 4, pp. 457–475, 2010.
[33] T. Zhu, G. Li, Y. Ren, W. Zhou, and P. Xiong, “Differential privacy for
neighborhood-based collaborative ﬁltering,” in Proceedings of the 2013
IEEE/ACM International Conference on Advances in Social Networks
Analysis and Mining. ACM, 2013, p. 752–759.
[34] B. Schoenmakers and P. Tuyls, “Private Proﬁle Matching,” in Intel-
Springer
ligent Algorithms in Ambient and Biomedical Computing.
Netherlands, 2006, no. 7, pp. 259–272.
[35] M. Li, N. Cao, S. Yu, and W. Lou, “FindU: Privacy-preserving personal
proﬁle matching in mobile social networks,” in 2011 Proceedings IEEE
INFOCOM, 2011, pp. 2435–2443.
[36] X. Liang, X. Li, K. Zhang, R. Lu, X. Lin, and X. Shen, “Fully Anony-
mous Proﬁle Matching in Mobile Social Networks,” IEEE Journal on
Selected Areas in Communications, vol. 31, no. 9, pp. 641–655, 2013.
[37] E. D. Cristofaro and G. Tsudik, “Practical Private Set Intersection
Protocols with Linear Complexity,” in Financial Cryptography and
Data Security. Springer Berlin Heidelberg, 2010, pp. 143–159.
[38] R. Zhang, Y. Zhang, J. Sun, and G. Yan, “Fine-grained private matching
for proximity-based mobile social networking,” in 2012 Proceedings
IEEE INFOCOM, 2012, pp. 1969–1977.
[9] C. J. v. Rijsbergen, Information Retrieval, 2nd ed. Butterworths, 1979.
[10] U. Kuter and J. Golbeck, “SUNNY: a new algorithm for trust inference
in social networks using probabilistic conﬁdence models,” in Proceed-
ings of the 22d National Conference on Artiﬁcial Intelligence, vol. 2.
AAAI Press, 2007, p. 1377–1382.
[11] S. Blake-Wilson and A. Menezes, “Authenticated diffe-hellman key
Springer
agreement protocols,” in Selected Areas in Cryptography.
Berlin Heidelberg, 1999, no. 1556, pp. 339–361.
[12] D.
J. Bernstein, “NaCl: Networking and cryptography library.”
[Online]. Available: http://nacl.cr.yp.to
[13] B. H. Bloom, “Space/time trade-offs in hash coding with allowable
errors,” Communications of the ACM, vol. 13, no. 7, p. 422–426, 1970.
[14] P. L’Ecuyer, “Good parameters and implementations for combined
multiple recursive random number generators,” 1998.
[15] M. Matsumoto and T. Nishimura, “Mersenne twister: A 623-
dimensionally equidistributed uniform pseudo-random number genera-
tor,” ACM Transactions on Modeling and Computer Simulation, vol. 8,
no. 1, pp. 3–30, 1998.
[16] M. Blum, “Coin ﬂipping by telephone a protocol for solving impossible
problems,” ACM Special Interest Group on Algorithms and Computation
Theory News, vol. 15, no. 1, pp. 23–27, 1983.
[18]
[17] R. Cleve, “Limits on the security of coin ﬂips when half the processors
are faulty,” in Proceedings of the Eighteenth Annual ACM Symposium
on Theory of Computing. ACM, 1986, pp. 364–369.
J. L. Herlocker, J. A. Konstan, A. Borchers, and J. Riedl, “An algorith-
mic framework for performing collaborative ﬁltering,” in Proceedings
of the 22nd Annual International ACM SIGIR Conference on Research
and Development in Information Retrieval. ACM, 1999, pp. 230–237.
[19] K. Goldberg, T. Roeder, and C. Perkins, “Eigentaste: A constant time
collaborative ﬁltering algorithm,” Information Retrieval, vol. 4, pp. 133–
151, 2001.
[20] M. Naor, “Bit commitment using pseudo-randomness,” Journal of
Cryptology, vol. 4, p. 151–158, 1991.
[21] V. Leroy, B. B. Cambazoglu, and F. Bonchi, “Cold start link prediction,”
in Proceedings of the 16th ACM SIGKDD International Conference on
Knowledge Discovery and Data Mining. ACM, 2010, pp. 393–402.
[22] X. Bai, M. Bertier, R. Guerraoui, A.-M. Kermarrec, and V. Leroy, “Gos-
siping personalized queries,” in Proceedings of the 13th International
Conference on Extending Database Technology. ACM, 2010, pp. 87–
98.
[23] S. Buchegger, D. Schi¨oberg, L.-H. Vu, and A. Datta, “Peerson: P2p
social networking: early experiences and insights,” in Proceedings of
the Second ACM EuroSys Workshop on Social Network Systems. ACM,
2009, pp. 46–52.
[24] S. Rhea, B. Godfrey, B. Karp, J. Kubiatowicz, S. Ratnasamy, S. Shenker,
I. Stoica, and H. Yu, “Opendht: A public dht service and its uses,”
in Proceedings of the 2005 Conference on Applications, Technologies,
Architectures, and Protocols for Computer Communications. ACM,
2005, pp. 73–84.
[25] M. Jelasity and O. Babaoglu, “T-man: Gossip-based overlay topology
management,” in Proceedings of the 3rd International Workshop on
Engineering Self-Organising Applications. Springer Berlin Heidelberg,
2005, pp. 1–15.
[26] W. Dong, C. Moses, and K. Li, “Efﬁcient k-nearest neighbor graph
construction for generic similarity measures,” in Proceedings of the
20th international conference on World wide web. ACM, 2011, pp.
577–586.
[27] L. A. Cutillo, R. Molva, and T. Strufe, “Safebook: A privacy-preserving
online social network leveraging on real-life trust,” IEEE Communica-
tions Magazine, vol. 47, no. 12, pp. 94–101, 2009.
[28] R. Agrawal and R. Srikant, “Privacy-preserving data mining,” in
Proceedings of the 2000 ACM SIGMOD International Conference on
Management of Data. ACM, 2000, pp. 439–450.
[29] H. Polat and W. Du, “Svd-based collaborative ﬁltering with privacy,”
in Proceedings of the 2005 ACM Symposium on Applied Computing.
ACM, 2005, p. 791–795.
[30] Z. Huang, W. Du, and B. Chen, “Deriving private information from ran-
domized data,” in Proceedings of the 2005 ACM SIGMOD International
Conference on Management of Data. ACM, 2005, p. 37–48.
274274