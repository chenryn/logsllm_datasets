Hand Video
Non-h Video
Hand All
Hand Video
Non-h Video
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
 1
 10
 0.1
(c) Flow rate (Kbps)
 100  1000  10000
 10
 100
 1
 1000
(a) Flow size (KB)
 10000
 0.1
 100  1000
(b) Flow duration (seconds)
 10
 1
Fig. 2. CDFs of video ﬂow properties
Interestingly, handheld video ﬂows appear to be of short duration. Figure 2b shows
80% of handheld video ﬂows are less than 1 second in duration, with a median of 0.5
seconds. The median durations for all handheld ﬂows and non-handheld video ﬂows are
signiﬁcantly higher, at 5 and 50 seconds, respectively. Based on the short duration of
handheld video ﬂows, we expect high throughput rates. Figure 2c shows 80% of video
ﬂows have a rate faster than 0.8 Mbps, with a median of 2 Mbps. In contrast, the median
ﬂow rate for all handheld ﬂows and non-handheld video ﬂows is roughly 0.6 Mbps.
Overall, handheld video ﬂows are long in size (although not as long as non-handheld
video ﬂows), signiﬁcantly short in duration, and achieve high end-to-end through-
puts which are comparable, if not slightly higher than non-handheld video ﬂows. As
handheld usage continues increasing, administrators should include Quality of Service
mechanisms in their networks to support the video throughputs handhelds expect.
Video streamed to handheld devices differs from video streamed to non-handheld
devices because of differences in decoding capabilities. Most streaming video services
use Flash, but a lack of Flash support on handhelds results in MPEG 4 encoded content
being served to them instead. In our traces, mp4 (MPEG 4) is the top video type for
180
A. Gember, A. Anand, and A. Akella
handhelds and ﬂv (Flash video) is the top type for non-handhelds. Video streaming sites
like YouTube serve two versions: one encoded as mp4 and the other encoded as ﬂv.
We watch the same 3 minute video [2] from YouTube on both an Android HTC
Dream smartphone and a laptop to measure the differences in video content served
to the two different devices. On the phone we use the standalone YouTube applica-
tion and on the laptop we use Mozilla Firefox. The handheld device receives 7362 KB
video/mp4; the non-handheld device receives 11792 KB video/flv. Both ver-
sions have the same resolution of 320 x 240, but different encoding rates of 200 kbps
and 231 kbps, for mp4 and ﬂv respectively. The audio is encoded at 128 Kbps for the
mp4 and 64 Kbps for the ﬂv. The higher quality video is the ﬂv and the higher quality
audio is the mp4, but both versions are closely comparable. The main difference in the
handheld content is a smaller size—about 62% of the size of the non-handheld version.
The median size of both handheld (316 KB) and non-handheld (1.7 MB) video ﬂows
are relatively small compared to the size of the sample video. In many cases, we ob-
serve videos being streamed over multiple sequential connections—due to connection
resets—resulting in a few small ﬂows for each video. However, by comparing the com-
bined size of these multiple ﬂows to the size of the actual video, we observe that the
size gap also results from handheld users watching only a fraction of most videos.
5 Content Similarity
In this section, we examine the similarity in the content perused by handhelds and com-
pare it against non-handhelds. §4 focused on the type of content present in trafﬁc; here
we focus on the bytes that makeup the conent. We evaluate the potential beneﬁts of
deploying a “chunk-based” content similarity supression system, e.g. SET [14] or En-
dRE [4]. Eliminating duplicate chunks from network tranfsers by serving them from a
local cache can improve the transfer throughput experienced by users and can help save
mobile battery life by reducing network transmissions. Chunk-based schemes are more
effective than object-based schemes, such as Web caches, as they are known to identify
more duplicates, e.g., sub-object duplicates, uncacheable content, etc. Thus, our analy-
sis places an upper bound on the beneﬁts of using caching and similarity suppression.
We identify two types of similarity: that found in content accessed by the same device
(“intra-user”), and that found in content accessed by a different devices (“inter-user”).
We divide packet payloads into chunks (32B to 64B in size) using value sampling [16];
then we determine if the chunks have appeared in an earlier access. Unless speciﬁed,
we assume 2GB of chunks are stored across all users, as done previously [4].
In Figure 3a, we show the extent of intra- and inter-user content similarity observed
over every 1 million packets (0.8-2GB) worth of handheld and non-handheld trafﬁc. We
measure average redundancy as the ratio of similar bytes to all bytes in 1 million-packet
trace subsets. First, we observe a greater amount of similarity in handhelds than in non-
handhelds. Second, similarity due to inter-user matches is quite small: less than 2%
for > 95% of both handheld and non-handheld trace subsets. Third, we observe that in
more than 40% of the non-handheld trace subsets, and more than 70% of the handheld
trace subsets, ≥ 8% of the similar bytes are due to intra-user matches. In some cases,
we observed up to 20-25% intra-user similarity for both device types. Finally, the extent
of intra-user similarity is greater for handhelds than non-handhelds.
A Comparative Study of Handheld and Non-handheld Trafﬁc
181
F
D
C
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
 0
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
Intra: hand
Inter: hand
Intra: non-hand
Inter: non-hand
 0.05
 0.1
 0.15
 0.2
RE savings
1 MB
20 MB
50 MB
200 MB
2 GB
 0
 0.05  0.1  0.15  0.2  0.25  0.3  0.35
RE savings
(a) Average intrauser and interuser redun-
dancy across multiple traces
(b) Intrauser redundancy across top 100 (by bytes)
handhelds for varying dictionary sizes
Fig. 3. CDFs of redundancy
Given that the dominant fraction of similar bytes belonged to intra-user trafﬁc, we
further delve intro intra-user similarity. We explore the efﬁcacy of deploying per device
caches and the cache size conﬁguration issues therein. We split the handheld trafﬁc
on a per device basis and study the effect of different dictionary sizes on amount of
similarity identiﬁed per device. Figure 3b shows the CDF of similarity across the top
100 devices by trafﬁc volume for different dictionary sizes. Almost 80% of users have
less than 20% similarity with their own trafﬁc. However, for certain users, the similar-
ity proportion was much higher (more than 50%). Second, we observe that most of the
similarities can be identiﬁed by using only 50 MB caches—larger caches exhibit dimin-
ishing returns. As handheld usage grows, admins should consider deploying per-device
caching mechanisms to improve throughput and handheld energy savings.
6 Related Work
Multiple measurement studies have analyzed trafﬁc patterns in campus wireless net-
work. Hederson et. al identify session and application trends at Dartmouth College
and observe how usage evolved four years later [8]. Wireless AP workloads at Darth-
mouth are compared to the University of North Carolina by Hernandez-Campos and
Papadopouli [9]. Lastly, McNett and Voelker study the wireless access and mobility
patterns of students using PDAs at UCSD [12]. While all of these studies focus on
campus wireless networks, none explore in detail the applications used by handheld
users and the trafﬁc characteristics thereof. In addition, mobile device usage is a rapidly
changing ﬁeld and trends observed ﬁve years ago are different than today’s usage.
182
A. Gember, A. Anand, and A. Akella
More recent studies have focused on mobile device usage in public Wi-Fi, home
Wi-Fi and 3G networks. Application, session, and mobility trends in the Google Wi-Fi
network in Mountain View, CA were studied in 2008 [3]. The connections between geo-
location and usage of speciﬁc types of web services was studied in an urban 3G network
in 2009 [17]. In 2010, logs from 43 smartphones were analyzed to ﬁnd commonly used
application ports and properties of TCP transfers over a combination of 3G and Wi-Fi
networks [6]. A second 2010 study analyzes the protocol usage and HTTP content size
and types of handheld trafﬁc extracted from DSL traces [11]. The 2010 studies are most
similar to our work, but one focuses primarily on 3G trafﬁc and neither looks in-depth
at the multimedia content served to handhelds nor the redundancy in handheld trafﬁc.
7 Conclusion
Handhelds have become a signiﬁcant fraction of the client base in campus wireless net-
works, and their usage is expected to continue growing. Using traces from two separate
multi-AP wireless networks, we identify key differences in the Wi-Fi content access
and ﬂow-level trafﬁc characteristics of handheld and non-handheld devices. Our ﬁnd-
ings have potential implications for network management and mobile system design:
– 97% of handheld trafﬁc is HTTP, allowing in-network security scanners to examine
a single application protocol and provide signiﬁcant security beneﬁts for handhelds.
– Over twice as much handheld trafﬁc is video, compared to non-handhelds, making
Quality of Service mechanisms an important inclusion in network design.
– Lower HTTP host diversity and signiﬁcant intra-user content similarity in handheld
trafﬁc, indicates per-device redundancy elimination systems can be beneﬁcial.
– The smaller range of TCP handheld ﬂow durations and the lower percentage of
handheld ﬂows with rates < 1 Kbps should be taken into account when designing
wireless power save mechanisms for handhelds.
Network admins and mobile designers should take these observations into account
when considering design and performance. The differences between handheld and non-
handheld trafﬁc will increasingly impact Wi-Fi networks as handheld usage grows.
References
1. Adobe announces availability of ﬂash player 10.1 for mobile,
http://www.adobe.com/aboutadobe/pressroom/pressreleases/
201006/06222010FlashPlayerAvailability.html
2. Christmas lights gone wild, http://www.youtube.com/watch?v=rmgf60CI_ks
3. Afanasyev, M., Chen, T., Voelker, G.M., Snoeren, A.C.: Analysis of a mixed-use urban wiﬁ
network: when metropolitan becomes neapolitan. In: IMC, pp. 85–98 (2008)
4. Aggarwal, B., Akella, A., Anand, A., Chitnis, P., Muthukrishnan, C., Nair, A., Ramjee, R.,
Varghese, G.: EndRE: An End-System Redundancy Elimination Service for Enterprises. In:
NSDI (2010)
5. Falaki, H., Mahajan, R., Kandula, S., Lymberopoulos, D., Govindan, R., Estrin, D.: Diversity
in Smartphone Usage. In: MobiSys (2010)
A Comparative Study of Handheld and Non-handheld Trafﬁc
183
6. Falaki, H., Lymberopoulous, D., Mahajan, R., Kandula, S., Estrin, D.: A ﬁrst look at trafﬁc
on smartphones. In: IMC (2010)
7. Gember, A., Anand, A., Akella, A.: Handheld vs. non-handheld trafﬁc: Implications for cam-
pus wiﬁ networks. Tech. rep., University of Wisconsin-Madison (2010)
8. Henderson, T., Kotz, D., Abyzov, I.: The changing usage of a mature campus-wide wireless
network. Comput. Netw. 52(14), 2690–2712 (2008)
9. Hernandez-Campos, F., Papadopouli, M.: A comparative measurement study the workload of
wireless access points in campus networks. In: IEEE International Symposium on Personal,
Indoor and Mobile Radio Communications, vol. 3, pp. 1776–1780 (September 2005)
10. Horrigan, J.: Wireless internet use. Pew Internet & American Life Project (July 2009)
11. Maier, G., Schneider, F., Feldmann, A.: A ﬁrst look at mobile hand-held device trafﬁc. In:
Krishnamurthy, A., Plattner, B. (eds.) PAM 2010. LNCS, vol. 6032, pp. 161–170. Springer,
Heidelberg (2010)
12. McNett, M., Voelker, G.M.: Access and mobility of wireless pda users. SIGMOBILE Mob.
Comput. Commun. Rev. 9(2), 40–55 (2005)
13. Paxson, V.: Bro: a system for detecting network intruders in real-time. In: USENIX Security
Symposium, pp. 3–3. USENIX Association, Berkeley (1998)
14. Pucha, H., Andersen, D.G., Kaminsky, M.: Exploiting similarity for multi-source downloads
using ﬁle handprints. In: NSDI (2007)
15. Smith, S., Salaway, G., Caruso, J.: The ECAR Study of Undergraduate Students and Infor-
mation Technology. EDUCAUSE Center for Applied Research (2009)
16. Tolia, N., Kaminsky, M., Andersen, D.G., Patil, S.: An architecture for Internet data transfer.
In: NSDI (2006)
17. Trestian, I., Ranjan, S., Kuzmanovic, A., Nucci, A.: Measuring serendipity: connecting peo-
ple, locations and interests in a mobile 3g network. In: IMC, pp. 267–279 (2009)
18. ZyTrax: Mobile browser id strings,
http://zytrax.com/tech/web/mobile_ids.html