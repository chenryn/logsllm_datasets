**微软加速器日志易校友企业投稿**
**大数据浪潮，金融行业该如何面对**
**梁玫娟**
## 前言
两年前《政府工作报告》中指出，要"制定'互联网+'行动计划"，"促进互联网金融健康发展"，标志着我国金融行业正面临着用互联网和新技术重构业务、管理与IT的重大变革窗口。
依托移动终端的普及和互联科技的飞速发展，金融行业也面临着与日俱增的海量日志，这既给传统金融行业带来了巨大的压力，又提供了广阔的发展空间，金融行业需要抓住机会技术升级、积极应变。在转型过程中如何利用大数据技术发掘数据真正的价值，是当前金融业打破传统局限、应对深刻变化的解决之道。
## 传统金融行业的困境
在互联网时代，各种各样的行为都会被以"日志"形态记录存储下来，这些日志数据包括了用户的基本信息、网络浏览行为、交易行为、社交行为等等。而在金融行业，面对每天交易所产生的海量数据，以及各种服务器、防火墙所产生的日志，如何在大体量数据中挖掘有效信息加以利用是一个重大难题。
-   **日志分散难以管理**
日志产生于不同的业务部门、分布在不同的服务器上，无人重视随时可能被覆盖和删除。只有将这些分散的日志数据统收集、才能相互对照，发现问题所在。以投资银行为例，传统模式下，交易部门和研究部门的数据是相互独立，甚至数据的储存格式都不同，由此形成一个个信息孤岛，造成不同系统间关联分析困难、事故原因分析困难。
-   **缺乏海量日志处理能力**
数据体量大所带来的问题不仅仅是存储，更多的是庞大的数据无法使用。作为成熟的金融行业，随着网上支付、手机银行、互联网金融等新一代业务的出现，每天产生的各种业务数据、网络设备数据及防火墙数据等将轻松突破TB级别，传统的数据库及系统架构已经无法支撑如此庞大的数据量，传统方法处理效率低、时延长，企业完全淹没在一片数据汪洋之中。
-   **日志格式复杂难以解读**
就日志数据来说，最容易处理的是企业内部的传统数据------结构化数据。然而随着信息技术的飞速发展，日志数据的范围已经扩大到企业的各个层面，服务器、各种网络设备及五花八门的应用软件产生了多种多样的数据格式。这些数据的可读性很差，对于普通人来说无异于乱码，即便是专业的技术人员，也很难一眼看懂一条数据。
-   **使用成本高昂**
作为电子货币与交易信息传输系统，一旦出现账户盗用、虚假信息等现象，将既影响到国家金融与个人经济利益，又涉及到交易隐私的安全性，同时还增加了金融风险的传导与扩散危险，面对海量日志带来的运维难题，无论是购买国外最先进的产品还是聘请专业的技术团队对企业来说都是一笔不小的开支，需要花费大量的人力物力。
## 应运而生的日志易
作为2014年3月成立的国内首家海量日志分析企业，优特捷信息技术有限公司一直致力于开发一款易用、灵活而强大的日志管理工具------日志易，以高品质的产品为金融行业用户信息化建设搭建高可靠动力平台，竭力探寻金融行业对数据更深层次的需求，帮助企业降低业务流程和应用系统的开发和运维成本，实现准实时处理海量日志，从而达到大数据时代的风险管控需求。目前日志易已成功为国内银行、基金、支付行业等诸多商业用户提供日志解决方案。
**统一的日志管理平台**
日志易作为国内首家海量日志分析企业，为企业用户提供既方便又实惠的日志管理解决方案，共同面临大数据浪潮中更多的未知与挑战。
一个统一的日志管理平台可以帮助企业解决问题，提高运维效率，并能帮助企业将运营数据分析成报表，转化为企业的竞争优势，帮助金融企业从IT
系统的行为、状态、配置、故障等事件中，自动产生趋势预判和商业洞察等，从而帮助企业赢得快速发展的机会。
-   **统一采集，集中管理**
日志易为企业建立统一日志管理平台，将分散的日志统一采集，整个系统由多个模块构成，用户可以根据自身服务器资源、数据量、系统稳定性等因素自定义各个模块的节点组成，同时支持物理机和虚拟机混合部署，保证数据安全性。
![](media/image1.png){width="5.645833333333333in"
height="2.0702602799650043in"}
-   **日志解析，让日志格式化**
日志易提供常见日志格式的自动解析，将非格式化日志转化为格式化日志。同时为用户提供交互友好的提取字段功能。用户可使用鼠标划选日志内容，系统将自动生成正则表达式。帮助用户将日志中的有效信息划分为一个个字段，方便查看和检索。
日志易同时支持在数据接入存储之后，根据搜索统计需求，提取临时字段。并以这些临时字段进行后续统计分析。解决了数据预先处理的性能损耗、冗余字段的磁盘占用、提取规则变动时的重建处理等诸多常见问题。
-   **日志准实时检索，快速定位目标日志**
日志易日志处理速度达到3000k条／秒，总字节可达到100TB。日志易支持全文索引，用户无需掌握复杂的查询语句，可以像使用搜索引擎一样查询日志，通过鼠标点击实现字段过滤、时间范围选择和简单查询。系统采用分布式数据处理技术，可达到秒级延时。
-   **关联分析，探寻日志真相**
模块化、服务化的业务系统，需要进行跨主机、跨网络的事务追踪和故障定位。日志易支持搜索处理语言（Search
Processing Language, SPL），提供 stats、eval、where、等20多项管道指令，
max、min、avg、sum、dc、es、hg、pct、pct_ranks
等20多项统计函数，if-else、case、+-\*%等逻辑计算。日志易提供 transaction
搜索和可自定义的关联事务查询界面。让用户快速直观的定位复杂网络和业务架构下的异常事务。
-   **丰富的可视化**
日志易对日志的分析统计结果提供了丰富多样的可视化效果，并支持用户将不同纬度的可视化效果汇聚成仪表盘，日志情况一目了然。
![](media/image2.png){width="5.875in" height="3.440489938757655in"}
## 基金行业实践案例
-   **多种日志格式统一处理**
日志易详细了解该基金公司需求，搭建日志管理平台，将各类日志统一收集：
（1）系统日志
linux 安全日志、系统日志
/var/log/messages
/var/log/secure
（2）中间件日志
TOMCAT access log
catalina log
（3）系统性能数据
cpu使用、内存占用、发送包大小
（4）bensApps日志
（5）金证系统业务日志
/var/log/jz
（6）oaapp访问日志
/var/log/oaapp
-   **日志采集源集中管理**
日志易提供直观的web界面对日志采集源进行管理，用户可以直接从页面添加需要采集的日志目录及文件：
![](media/image3.png){width="6.1272626859142605in"
height="2.3020833333333335in"}
点击具体IP地址，工程师可以看到日志采集agent对相应目录下日志文件的采集情况，方便管理，彻底解决了日志分散的问题：
![](media/image4.png){width="5.98161198600175in"
height="2.9583333333333335in"}
-   **日志灵活解析，复杂数据格式化**
日志易对Apache、Linux、JSON等常见格式日志自动解析，同时也提供自定义日志解析功能：对于一条超过1k的复杂的日志，日志易可对其进行多行合并处理并提供多种自定义解析方法，同时支持对日志进行中文转换等处理，使日志内容更易读。
例如该公司的原始金证系统日志，日志内容复杂，结构混乱，可读性极差，通过多行日志合并，正则匹配等方式完成重要字段抽取解析。
解析前：
![](media/image5.png){width="6.302081146106737in"
height="3.7604166666666665in"}
解析后：
![](media/image6.png){width="6.498372703412073in"
height="3.9791666666666665in"}
-   **敏感信息过滤**
针对基金行业涉及的敏感信息，日志易提供灵活的脱敏处理，用户可以将日志信息中的敏感信息在集中采集时进行替换：