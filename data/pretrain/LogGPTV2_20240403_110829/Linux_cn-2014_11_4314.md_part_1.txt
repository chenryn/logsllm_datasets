---
author: Dan Nanni
category: 系统运维
comments_data:
- date: '2014-11-27 10:33:01'
  message: 为什么不叫lnmp组合
  postip: 125.78.43.200
  username: 微博评论
- date: '2014-11-27 10:33:01'
  message: 学学先
  postip: 125.78.43.200
  username: 微博评论
- date: '2014-11-27 10:33:01'
  message: 不要瞎起名字啊
  postip: 125.78.43.200
  username: 微博评论
- date: '2014-11-27 10:33:01'
  message: '@Linux中国 人家是首字母组合，哪有把音标写上去的，不要杜撰好吗！你也不是权威'
  postip: 125.78.43.200
  username: 微博评论
- date: '2014-11-27 10:33:01'
  message: 是lnmp
  postip: 125.78.43.200
  username: 微博评论
- date: '2014-11-27 10:33:01'
  message: 很及时 很有用
  postip: 125.78.43.200
  username: 微博评论
- date: '2014-11-27 10:33:01'
  message: 不是LNMP吗
  postip: 125.78.43.200
  username: 微博评论
- date: '2014-11-27 10:33:01'
  message: 有空看！
  postip: 125.78.43.200
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: LEMP是LNMP的小号吗？
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: 回复@火云仙圣:又不是我杜撰的。
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: 微博不是人工发的吧
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: 回复@Linux中国:@Linux中国 即便不是你杜撰的，你也最好改正，错误的东西你也要传播吗？百度都没有，这不是理由！lemp  lnmp希望你百度下
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: '@有道云笔记收藏'
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: 不知道何时出现了一个LEMP的缩写法，究竟应该称之为LNMP还是LEMP？支持LNMP的点&quot;支持&quot;，支持LEMP的请&quot;评论&quot;。//@RSnoder:LEMP是LNMP的小号吗？
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: 每次在openSUSE上部署都会有问题。到底是英语不过关。
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: 是LNMP吧？
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: 回复@火云仙圣:国外原文如此，而且不是一个地方这样说，话说好像lnmp才是我们国内杜撰的。
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 11:33:00'
  message: 回复@Linux中国:好吧，尊重原文也对。
  postip: 106.120.110.69
  username: 微博评论
- date: '2014-11-27 12:03:02'
  message: '@我的印象笔记'
  postip: 74.207.246.233
  username: 微博评论
- date: '2014-11-27 13:02:23'
  message: Repost
  postip: 61.148.242.161
  username: 微博评论
- date: '2014-11-28 00:49:47'
  message: 哇，LEMP这个高端呀，有时间要测试研究一下！
  postip: 58.20.103.40
  username: GongBiao
- date: '2014-11-28 01:47:27'
  message: LEMP?LNMP?大家弄明白再评论吧，反正小编没乱搞
  postip: 219.130.238.39
  username: 来自 - 广东佛山 的 Firefox/Windows 用户
- date: '2014-11-28 08:11:23'
  message: 百度了,lemp也可以这么叫,Nginx 发音为 Engine X....
  postip: 171.34.7.102
  username: 来自 - 江西南昌 的 MSIE/Windows 用户
- date: '2014-11-28 09:12:39'
  message: 谢谢分享
  postip: 123.116.122.173
  username: 朝花夕拾..
- date: '2014-11-28 15:33:01'
  message: '@蓝蓝小脚丫 挺好的！'
  postip: 0.0.0.0
  username: 微博评论
- date: '2015-03-07 16:53:44'
  message: 最后放test.php的文件夹位置错了~~~nginx配置文件里面是/usr/share/nginx/html，小编你写放在 /var/www/html/
    目录~~~~
  postip: 111.78.105.245
  username: IAMblacker
- date: '2015-03-07 19:12:31'
  message: 谢谢指正！我修改啦~~
  postip: 123.120.83.12
  username: linux
- date: '2015-06-14 21:37:32'
  message: "配置nginx的default.conf文件完成后，重启出现如下错误：\r\nnginx.service - nginx - high
    performance web server\r\n&nbsp; &nbsp;Loaded: loaded (/usr/lib/systemd/system/nginx.service;
    enabled)\r\n&nbsp; &nbsp;Active: failed (Result: exit-code) since 日 2015-06-14
    21:30:10 CST; 45s ago\r\n&nbsp; &nbsp;&nbsp;&nbsp;Docs: http://nginx.org/en/docs/\r\n&nbsp;&nbsp;Process: 4954 ExecStop=/bin/kill -s QUIT $MAINPID (code=exited,
    status=0/SUCCESS)\r\n&nbsp;&nbsp;Process: 6469 ExecStartPre=/usr/sbin/nginx
    -t -c /etc/nginx/nginx.conf (code=exited, status=1/FAILURE)\r\n Main PID:
    1695 (code=exited, status=0/SUCCESS)\r\n\r\n6月 14 21:30:10 localhost.localdomain
    systemd[1]: Starting nginx - high performance web server...\r\n6月 14 21:30:10
    localhost.localdomain nginx[6469]: nginx: [emerg] invalid number of arguments
    in &quot;try_files&quot; directive in /e...onf:34\r\n6月 14 21:30:10 localhost.localdomain
    nginx[6469]: nginx: configuration file /etc/nginx/nginx.conf test failed\r\n6月
    14 21:30:10 localhost.localdomain systemd[1]: nginx.service: control process exited,
    code=exited status=1\r\n6月 14 21:30:10 localhost.localdomain systemd[1]:
    Failed to start nginx - high performance web server.\r\n6月 14 21:30:10 localhost.localdomain
    systemd[1]: Unit nginx.service entered failed state.\r\nHint: Some lines
    were ellipsized, use -l to show in full.\r\n当我去除不是很理解的：try_files $uri =404;这行后，重启正常。请问这行是怎么意思呢？"
  postip: 101.228.221.83
  username: 灰度龙
- date: '2015-06-14 23:19:04'
  message: "有关 try_files 的解释可参见： http://nginx.org/en/docs/http/ngx_http_core_module.html#try_files\r\n在 0.7.51 之后，才支持 =404 这样的数字参数，所以请确认你没写错，你的 nginx 版本足够新。"
  postip: 123.120.61.87
  username: linux
- date: '2017-01-06 22:47:58'
  message: $ sudo yum php php-fpm php-mysql&nbsp; &nbsp; 此处命令是不是少了个install？？
  postip: 121.13.128.185
  username: odo [Iron|Windows 7]
- date: '2017-01-08 00:29:56'
  message: 确实
  postip: 183.198.26.18
  username: linux [Chrome 55.0|Mac 10.11]
- date: '2017-01-08 19:42:39'
  message: 原文，作者也是少了，挺粗心的哈...新手安装，肯定会莫名其妙。^_^
  postip: 183.55.197.47
  username: odo [QQ Browser 9.5|Windows 7]
- date: '2017-08-01 10:05:24'
  message: 学习
  postip: 171.221.241.71
  username: w761556759 [Chrome 45.0|Windows 7]
count:
  commentnum: 33
  favtimes: 26
  likes: 0
  sharetimes: 13
  viewnum: 55542
date: '2014-11-27 09:22:00'
editorchoice: false
excerpt: LEMP 组合包是一款日益流行的网站服务组合软件包，在许多生产环境中的核心网站服务上起着强有力的作用。正如其名称所暗示的， LEMP 包是由 Linux、nginx、MariaDB/MySQL
  和 PHP 组成的。在传统的 LAMP 包中使用的 Apache HTTP 协议服务器性能低下而且难于大规模集群，相比来说 nginx 的高性能及轻量级等特性，正是其的替代方案。
  MariaDB 是一款社区支持驱动的 MySQL 数据库的分支，其功能更多性能更佳。PHP，服务端编程语言，具体是由 PHP FastCGI 的增强版 PHP-FPM
  组件来处理，生成网页动态内容。 这篇文章里，我们示范如何在 CentOS
fromurl: http://xmodulo.com/install-lemp-stack-centos.html
id: 4314
islctt: true
largepic: /data/attachment/album/201411/26/233324q0600r8wuu27sw6f.png
permalink: /article-4314-1.html
pic: /data/attachment/album/201411/26/233324q0600r8wuu27sw6f.png.thumb.jpg
related:
- displayorder: 0
  raid: 4228
reviewer: ''
selector: ''
summary: LEMP 组合包是一款日益流行的网站服务组合软件包，在许多生产环境中的核心网站服务上起着强有力的作用。正如其名称所暗示的， LEMP 包是由 Linux、nginx、MariaDB/MySQL
  和 PHP 组成的。在传统的 LAMP 包中使用的 Apache HTTP 协议服务器性能低下而且难于大规模集群，相比来说 nginx 的高性能及轻量级等特性，正是其的替代方案。
  MariaDB 是一款社区支持驱动的 MySQL 数据库的分支，其功能更多性能更佳。PHP，服务端编程语言，具体是由 PHP FastCGI 的增强版 PHP-FPM
  组件来处理，生成网页动态内容。 这篇文章里，我们示范如何在 CentOS
tags:
- LEMP
- CentOS
thumb: false
title: CentOS 下安装 LEMP 服务(nginx、MariaDB/MySQL 和 php)
titlepic: true
translator: runningwater
updated: '2014-11-27 09:22:00'
---
LEMP 组合包是一款日益流行的网站服务组合软件包，在许多生产环境中的核心网站服务上起着强有力的作用。正如其名称所暗示的， LEMP 包是由 Linux、nginx、MariaDB/MySQL 和 PHP 组成的。在传统的 LAMP 包中使用的 Apache HTTP 协议服务器性能低下而且难于大规模集群，相比来说 nginx 的高性能及轻量级等特性，正是其的替代方案。 MariaDB 是一款社区支持驱动的 MySQL 数据库的分支，其功能更多性能更佳。PHP，服务端编程语言，具体是由 PHP FastCGI 的增强版 PHP-FPM 组件来处理，生成网页动态内容。
（LCTT 译注：为何采用 LEMP 而不是 LNMP 的缩写？据  的解释：Nginx 的发音是 Engine-X，重要的发音而不是首字母，而且 LEMP 实际上是可读的，而 LNMP 看起来只是字母表。）
这篇文章里，我们示范**如何在 CentOS 操作平台上安装 LEMP 包**。我们安装的目标是 CentOS 6 和 CentOS 7 两个操作平台，如有必要会指出它们的不同。
![](/data/attachment/album/201411/26/233324q0600r8wuu27sw6f.png)
### 第一步: Nginx
让我们在 CentOS 上安装 nginx 作为第一步，然后对它作些基本的配置，比如使其能引导时启动和[对防火墙做个性化设置](http://linux.cn/article-4243-1.html)。
#### 安装 Nginx
让我们从它的官方的 RPM 源来安装一个预构建的稳定版本的 nginx 包。
在 CentOS 7 系统上:
```
$ sudo rpm --import http://nginx.org/keys/nginx_signing.key
$ sudo rpm -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm
$ sudo yum install nginx 
```
在 CentOS 6 系统上:
```
$ sudo rpm --import http://nginx.org/keys/nginx_signing.key
$ sudo rpm -ivh http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos-6-0.el6.ngx.noarch.rpm
$ sudo yum install nginx 
```
注意在安装 nginx RPM 包之前，如果您没有导入 nginx 的官方 GPG 密钥的话，会出一如下所示的警告:
```
warning: /var/tmp/rpm-tmp.KttVHD: Header V4 RSA/SHA1 Signature, key ID 7bd9bf62: NOKEY
```
#### 启动 Nginx
安装完成后，nginx 是不会自动启动的。现在让我们来启动它吧，还要做些配置让其可以随着操作系统启动而启动。我们也需要在防火墙里打开 TCP/80 端口，以使得可以远程访问 nginx 的 web 服务。所有这些操作、设置都只需要输入如下命令就可实现。
在 CentOS 7 系统上:
```
$ sudo systemctl start nginx
$ sudo systemctl enable nginx
$ sudo firewall-cmd --zone=public --add-port=80/tcp --permanent
$ sudo firewall-cmd --reload 
```
在 CentOS 6 系统上:
```
$ sudo service nginx start
$ sudo chkconfig nginx on
$ sudo iptables -I INPUT -p tcp -m tcp --dport 80 -j ACCEPT
$ sudo service iptables save 
```
#### 测试 Nginx
nginx 的默认文档要目录是 /usr/share/nginx/html。默认的 index.html 文件一定已经在这目录下了。让我们检测下是否可以访问到这个测试 web 页，输入 http://nginx的ip地址/ 访问。
![](/data/attachment/album/201411/26/233402ogs66v2e22ce63vo.jpg)
如果您看到的是如上所示的页面的话，说明 nginx 已经正常启动。继续往下。
### 第二步: MariaDB/MySQL
下一步就是安装 LEMP 包的数据库组件。CentOS/RHEL 6 或早期的版本中提供的是 MySQL 的服务器/客户端安装包，但 CentOS/RHEL 7 已使用了 MariaDB 替代了默认的 MySQL。作为 MySQL 的简单替代品，MariaDB 保证了与 MySQL 的 API 和命令行用法方面最大的兼容性。下面是关于怎么在 CentOS 上安装和配置 MaraDB/MySQL 的操作示例。
在 CentOS 7 系统上:
如下所示操作来安装 MariaDB 服务/客户端包以及启动 MariaDB 服务。
```
$ sudo yum install mariadb-server
$ sudo systemctl start mariadb