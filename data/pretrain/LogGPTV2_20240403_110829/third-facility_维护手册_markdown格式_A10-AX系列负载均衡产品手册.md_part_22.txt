Usage You can configure up to 2 TACACS+ servers. The servers are used in the order in which you
add them to the configuration. Thus, the first server you add is the primary server. The sec-
ond server you add is the secondary (backup) server. Enter a separate command for each of
the servers. The secondary server is used only if the primary server does not respond.
Example The following command adds a TACACS+ server "192.168.3.45" and sets its shared secret as
"SharedSecret":
ACOS(config)#tacacs-server host 192.168.3.45 secret SharedSecret
Example The following command adds a TACACS+ server "192.168.3.72", sets the shared secret as
"NewSecret", sets the port number as 1980, and sets the connection timeout value as 6 sec-
onds:
ACOS(config)#tacacs-server host 192.168.3.72 secret NewSecret port
1980 timeout 6
page 205 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Example The following command deletes TACACS+ server “192.168.3.45:
ACOS(config)#no tacacs-server host 192.168.3.45
Example The following command deletes all TACACS+ servers:
ACOS(config)#no tacacs-server
tacacs-server monitor
Description Check the status of TACACS+ servers.
Syntax [no] tacacs-server monitor [interval seconds]
Parameter Description
seconds Frequency (in seconds) that you want the ACOS device to check the
status of the TACACS+ server. You can specify 1 - 120 seconds.
Default Status checking of the TACACS+ server is not enabled. When enabled, the default interval is
60 seconds.
Mode Global configuration
Usage When TACACS+ server monitoring is configured, the ACOS device sends a TACACS+ monitor
request, which contains the user name and password to the server in order to log into the
device and check if the server is available. If it is, then the last_available_timestamp will be
updated with current time.
• If a user login authentication request arrives at the ACOS device, then ACOS will send
the request to the TACACS+ server that has the most recent last_available_timestamp
value.
• If the user’s login attempt is successful, then timestamp for that server will be
updated to the current time.
• However, if the user authentication request fails, then ACOS will send the request to
the secondary TACACS+ server.
• To enable this feature, you must configure the user name and password for the
TACACS+ server’s administrative account. While a simple server port “ping” could be
used to check the status, this is not recommended because it could cause the ACOS
device to be mistakenly seen as an attacker, thus causing it to be added to the ACL.
techreport
Description Configure automated collection of system information. If you need to contact Technical Sup-
port, they may ask you to for the techreports to help diagnose system issues.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 206
A10 Thunder Series and AX Series—Command Line Interface Reference
Syntax [no] techreport
{interval minutes | disable | priority-partition name}
Parameter Description
interval minutes Specifies how often to collect new information. You can specify 15-120 minutes.
The default interval is 15 minutes.
disable Disable automated collection of system information.
Automated collection of system information is enabled by default.
priority-partition name Configure the specified partition to automatically collect system information.
Default Automated collection of system information is enabled by default. The default interval is 15
minutes.
Mode Configuration mode
Usage The ACOS device saves all techreport information for a given day in a single file. Timestamps
identify when each set of information is gathered. The ACOS device saves techreport files for
the most recent 31 days. Each day’s reports are saved in a separate file.
The techreports are a light version of the output generated by the show techsupport
command. To export the information, use the show techsupport command. (See “show
techsupport” on page355.)
If the ACOS device is a member of an aVCS virtual chassis, use the device-context
command to specify the device in the chassis to which to apply this command.
terminal
Description Set the terminal configuration.
Syntax [no] terminal
{
auto-size |
editing |
gslb-prompt options |
history [size number] |
idle-timeout minutes |
length number |
prompt options |
page 207 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
width lines
}
Parameter Description
auto-size Automatically adjusts the length and width of the terminal display.
Auto-sizing is enabled by default.
gslb-prompt options Enables display of the ACOS device’s role within a GSLB group at the CLI prompt.
• disable - disables display of the GSLB group status.
• group-role symbol - Displays “Member” or “Master” in the CLI prompt; for example:
ACOS:Master(config)#
• symbol - Displays “gslb” in the CLI prompt after the name of the ACOS device; for
example:
ACOS-gslb:Master(config)#
editing Enables command editing.
This feature is enabled by default.
history [size number] Enables the command history and specifies the number of commands it can contain, 0-
1000.
By default, history is enabled for up to 256 commands.
idle-timeout minutes Specifies the number of minutes a CLI session can be idle before it times out and is termi-
nated, 0-60 minutes. To disable timeout, enter 0.
The default idle timeout is 15 minutes.
length number Specifies the number of lines to display per page, 0-512. To disable paging, enter 0.
The default length is 24 lines.
prompt options See “Using the CLI” on page1.
width lines Specifies the number of columns to display, 0-512. To use an unlimited number of col-
umns, enter 0.
The default width is 80 columns.
Default See descriptions.
Mode Configuration mode
Example The following example sets the idle-timeout to 30 minutes:
ACOS(config)#terminal idle-timeout 30
tftp blksize
Description Change the TFTP block size.
Syntax [no] tftp blksize bytes
Replace bytes with the Maximum packet length the ACOS TFTP client can use when sending
or receiving files to or from a TFTP server. You can specify from 512-32768 bytes.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 208
A10 Thunder Series and AX Series—Command Line Interface Reference
Default 512 bytes
Mode Configuration mode
Usage Increasing the TFTP block size can provide the following benefits:
• TFTP file transfers can occur more quickly, since fewer blocks are required to a send a
file.
• File transfer errors due to the server reaching its maximum block size before a file is
transferred can be eliminated.
To determine the maximum file size a block size will allow, use the following formula:
1K-blocksize = 64MB-filesize
Here are some examples.
Block Size Maximum File Size
1024 64 MB
8192 512 MB
32768 2048 MB
Increasing the TFTP block size of the ACOS device only increases the maximum block size
supported by the ACOS device. The TFTP server also must support larger block sizes. If the
block size is larger than the TFTP server supports, the file transfer will fail and a
communication error will be displayed on the CLI terminal.
If the TFTP block size is larger than the IP Maximum Transmission Unit (MTU) on any device
involved in the file transfer, the TFTP packets will be fragmented to fit within the MTU. The
fragmentation will not increase the number of blocks; however, it can re-add some overhead
to the overall file transmission speed.
If the ACOS device is a member of an aVCS virtual chassis, use the device-context
command to specify the device in the chassis to which to apply this command.
Example The following commands display the current TFTP block size, increase it, then verify the
change:
ACOS(config)#show tftp
TFTP client block size is set to 512
ACOS(config)#tftp blksize 4096
ACOS(config)#show tftp
TFTP client block size is set to 4096
page 209 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
timezone
Description Configure the time zone on your system.
Syntax [no] timezone zone [nodst]
Parameter Description
zone Specify the time zone.
Enter timezone ? at the CLI prompt to see a list of available time
zones.
nodst Disable daylight savings time adjustments for the time on your sys-
tem.
Default GMT
Mode Configuration mode
Usage If you use the GUI or CLI to change the ACOS timezone or system time, the statistical data-
base is cleared. This database contains general system statistics (performance, and CPU,
memory, and disk utilization) and SLB statistics.
Example The following example sets the time zone to America/Los_Angeles. Daylight savings time
adjustments will be made.
ACOS(config)#timezone America/Los_Angeles
tx-congestion-ctrl
Description Configure looping on the polling driver, on applicable models.
NOTE: This command can impact system performance. It is recommended not to use this
command unless advised by technical support.
Syntax tx-congestion-ctrl retries
You can specify 1-65535 retries.
Default 1
Mode Configuration mode
upgrade
Description Upgrade the system.
Syntax upgrade {cf pri | hd {pri | sec}}
{local image-name | [use-mgmt-port] url}
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 210
A10 Thunder Series and AX Series—Command Line Interface Reference
[staggered-upgrade-mode Device device-id]
[reboot-after-upgrade]
Parameter Description
cf Write the upgrade image to the compact flash, replacing the image currently at that
location.
hd Write the upgrade image to the hard disk, replacing the image currently at that loca-
tion.
pri Replace the primary image on the specified location (compact flash or hard disk).
sec Replace the secondary image on the hard disk.
local image-name Use the specified upgrade image from the local VCS image repository.
Use show vcs images to view a list of available local images.
use-mgmt-port Uses the management interface as the source interface for the connection to the
remote device. The management route table is used to reach the device. By default, the
ACOS device attempts to use the data route table to reach the remote device through
a data interface.
url File transfer protocol, username (if required), and directory path.
You can enter the entire URL on the command line or press Enter to display a prompt
for each part of the URL. If you enter the entire URL and a password is required, you will
still be prompted for the password. The password can be up to 255 characters long.
To enter the entire URL:
• tftp://host/file
• ftp://[user@]host[port:]/file
• scp://[user@]host/file
• http://[user@]host/file
• https://[user@]host/file
• sftp://[user@]host/file
staggered-upgrade-mode Use VCS staggered upgrade mode.
reboot-after-upgrade Reboot the system after the upgrade is complete.
Default N/A
Mode Configuration mode
Usage For complete upgrade instructions, see the release notes for the ACOS release to which you
plan to upgrade.
Example Below is example output from a successful upgrade.
ACOS(config)# upgrade hd sec scp://admin@192.168.1.1/packages/ACOS_FTA_4_0_2_100.64.upg
Password []?
System configuration has been modified. Save? [yes/no]:yes
Building configuration...
Write configuration to primary default startup-config
[OK]
page 211 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Running configuration is saved
Do you want to reboot the system after the upgrade?[yes/no]:yes
Getting upgrade package ...
.......................................................... Done (0 minutes 59 seconds)
Decrypt upgrade package ...
.................... Done (0 minutes 21 seconds)
Checking integrity of upgrade package ...
Upgrade file integrity checking passed (0 minutes 1 seconds)
Expand the upgrade package now ............ Done (0 minutes 10 seconds)
Upgrade ...................................................... Upgrade was successful (0
minutes 52 seconds)
Rebooting system ...
ACOS(config)#
vcs
Description Configure ACOS Virtual Chassis System (aVCS).
The vcs commands are available only when aVCS is enabled. To enable aVCS, use the vcs
enable command.
For more information, see “aVCS CLI Commands” in Configuring ACOS Virtual Chassis Systems.
ve-stats
Description Enable statistics collection for Virtual Ethernet (VE) interfaces.
NOTE: This command does not work in L3V partitions.
Syntax [no] ve-stats enable
Default Disabled
Mode Configuration mode
Usage If the ACOS device is a member of an aVCS virtual chassis, use the device-context com-
mand to specify the device in the chassis to which to apply this command.
vlan
Description Configure a virtual LAN (VLAN). This command changes the CLI to the configuration level for
the VLAN.
Syntax [no] vlan vlan-id
Replace vlan-id with the ID of the VLAN (2-4094).
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 212
A10 Thunder Series and AX Series—Command Line Interface Reference
If the ACOS device is a member of an aVCS virtual chassis, specify the vlan-id as follows:
DeviceID/vlan-id
Default VLAN 1 is configured by default. All Ethernet data ports are members of VLAN 1 by default.
Mode Configuration mode
Usage You can add or remove ports in VLAN 1 but you cannot delete VLAN 1 itself.
For information about the commands available at the VLAN configuration level, see the
“Config Commands: VLAN” chapter in the Network Configuration Guide.
Example The following command adds VLAN 69 and enters the configuration level for that VLAN:
ACOS(config)# vlan 69
ACOS(config-vlan:69)#
Example You cannot have duplicate VLANs configured across partitions. In this example, VLAN 10 is
configured in the shared partition:
ACOS(config)# vlan 10
ACOS(config-vlan:10)# exit
ACOS(config)#
If you attempt to configure VLAN 10 in an L3V partition, you will receive an error message:
ACOS(config)# active-partition p2
Current active partition: p2
ACOS[p2]# configure
ACOS[p2](config)# vlan 10
This VLAN or Port is owned by another partition.
vlan-global enable-def-vlan-l2-forwarding
Description Enable Layer 2 forwarding on the default VLAN (VLAN 1).
Syntax [no] vlan-global enable-def-vlan-l2-forwarding
Default Layer 2 forwarding is disabled on VLAN 1, on ACOS devices deployed in route mode.
Usage This command applies only to routed mode deployments.
On a new or unconfigured ACOS device, as soon as you configure an IP interface on any
individual Ethernet data port or trunk interface, Layer 2 forwarding on VLAN 1 is disabled.
page 213 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
When Layer 2 forwarding on VLAN 1 is disabled, broadcast, multicast, and unknown unicast
packets are dropped instead of being forwarded. Learning is also disabled on the VLAN.
However, packets for the ACOS device itself (ex: LACP) are not dropped.
NOTE: Configuring an IP interface on an individual Ethernet interface indicates you are
deploying in route mode (also called “gateway mode”). If you deploy in transparent
mode instead, in which the ACOS device has a single IP address for all data inter-
faces, Layer 2 forwarding is left enabled by default on VLAN 1.
vlan-global l3-vlan-fwd-disable
Description Globally disable Layer 3 forwarding between VLANs.
Syntax [no] vlan-global l3-vlan-fwd-disable
Default By default, the ACOS device can forward Layer 3 traffic between VLANs.
Usage This option is applicable only on ACOS devices deployed in gateway (route) mode. If the
option to disable Layer 3 forwarding between VLANs is configured at any level, the ACOS
device can not be changed from gateway mode to transparent mode, until the option is
removed.
• Depending on the granularity of control required for your deployment, you can disable
Layer 3 forwarding between VLANs at any of the following configuration levels:
• Global – Layer 3 forwarding between VLANs is disabled globally, for all VLANs. (Use this
command at the Configuration mode level.)
• Individual interfaces – Layer 3 forwarding between VLANs is disabled for incoming traf-
fic on specific interfaces.
• Access Control Lists (ACLs) – Layer 3 forwarding between VLANs is disabled for all traffic
that matches ACL rules that use the l3-vlan-fwd-disable action.
vrrp-a
Description Configure VRRP-A high availability for ACOS.
For more information, see “VRRP-A CLI Commands” in Configuring VRRP-A High Availability.
waf
Description Configure Web Application Firewall (WAF) parameters. See the Web Application Firewall
Guide.
web-category
Description Configure Web Category classification. See “Config Commands: Web Category” in the Com-
mand Line Interface Reference for ADC.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 214
A10 Thunder Series and AX Series—Command Line Interface Reference
web-service
Description Configure web services.
Syntax [no] web-service
{
auto-redir |
axapi-session-limit num |
axapi-timeout-policy idle minutes |
port protocol-port |
secure {
certificate load [use-mgmt-port] url |
private-key load [use-mgmt-port] url |
generate domain-name domain_name [country country_code]
[state state_name] |
regenerate domain-name domain_name [country country_code]
[state state_name] |
restart |
wipe} |
secure-port protocol-port |
server disable |
secure-server disable |
}
Parameter Description
auto-redir Enables requests for the unsecured port (HTTP) to be automatically redirected to the
secure port (HTTPS).
This feature is enabled by default.
axapi-session-limit Specifies the maximum number of aXAPI sessions that can be run simultaneously (1-
num 100).
The default is 30.
axapi-timeout-policy Specifies the number of minutes an aXAPI session or GUI session can remain idle before
idle minutes being terminated. Once the aXAPI session is terminated, the session ID generated by the
ACOS device for the session is no longer valid. You can specify 0-60 minutes. If you spec-