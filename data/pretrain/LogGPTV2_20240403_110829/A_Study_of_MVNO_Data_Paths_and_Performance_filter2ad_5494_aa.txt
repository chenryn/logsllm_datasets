title:A Study of MVNO Data Paths and Performance
author:Paul Schmitt and
Morgan Vigil and
Elizabeth M. Belding
A Study of MVNO Data Paths and Performance
Paul Schmitt(B), Morgan Vigil, and Elizabeth Belding
University of California, Santa Barbara, USA
{pschmitt,mvigil,ebelding}@cs.ucsb.edu
Abstract. Characterization of mobile data traﬃc performance is diﬃ-
cult given the inherent complexity and opacity of mobile networks, yet it is
increasingly important as emerging wireless standards approach wireline-
like latencies. Mobile virtual network operators (MVNOs) increase mobile
network topology complexity due to additional infrastructure and net-
work conﬁgurations. We collect and analyze traces on mobile carriers in
the United States along with MVNO networks on each of the base carri-
ers in order to discover diﬀerences in network performance and behavior.
Ultimately, we ﬁnd that traﬃc on MVNO networks takes more circuitous,
less eﬃcient paths to reach content servers compared to base operators.
Factors such as location of the destination server as well as the provider
network design are critical in better understanding behaviors and impli-
cations on performance for each of the mobile carriers.
1 Introduction
What factors cause one mobile Internet provider to be faster than another, even
if they share some common core infrastructure? Traditional metrics chosen to
represent speed may not perfectly correlate with end-user performance and are
heavily inﬂuenced by the design and behavior of the underlying mobile data
network. The challenge of mobile network characterization is further extended
with the rise in popularity of mobile network virtual operators (MVNOs). In this
paper, we shed light on observable traﬃc behaviors exhibited by mobile networks
that aﬀect performance metrics and user experience. We examine mobile data
network behavior when connecting to popular content delivery networks used to
serve media. We are particularly interested in performance comparisons between
the four major mobile carriers in the United States and MVNOs that license use
of the underlying base carrier infrastructure. Ultimately, we want to explore
network topology factors that aﬀect traﬃc in mobile data networks.
Increasingly popular due to relaxed contract terms, MVNOs have quickly
grown their market share in recent years [1–3]. They operate by leasing access
to base mobile network operator (MNO) infrastructure, thus avoiding the high
cost of building their own networks or licensing spectrum. Performance of MVNO
data networks is often assumed to be inferior, but ultimately at least somewhat
attributable to the underlying base carrier network. Previous work [4] has shown
that is indeed the case; application performance suﬀers when using MVNO net-
works compared to MNOs. We investigate MVNOs and MNOs, searching for
c(cid:2) Springer International Publishing Switzerland 2016
T. Karagiannis and X. Dimitropoulos (Eds.): PAM 2016, LNCS 9631, pp. 83–94, 2016.
DOI: 10.1007/978-3-319-30505-9 7
84
P. Schmitt et al.
potential causes of degraded performance such as server resolution location and
ineﬃcient (e.g. excess hop counts and geographically indirect) paths.
We focus on traﬃc to content delivery networks (CDNs), which improve
performance for end users by replicating identical content across geographically
diverse locations [5]. CDNs are important factors in the user experience as they
are typically responsible for delivering large web objects. The exact CDN server
chosen by the client when browsing is typically dependent on DNS resolution
with the expectation that the client is ‘near’ the DNS resolver. Unfortunately for
most users, mobile data networks are strongly hierarchical and it has been shown
that accurately localizing mobile users is a diﬃcult challenge [6]. The localization
problem illuminates a critical issue for mobile networks: the closest or best server
depends on the mobile network core topology as well as peering arrangements
between the content providers and mobile carriers. We study geographic paths
taken by traﬃc on all of the mobile networks in order to better understand the
obtained performance and routing behavior of the networks. Speciﬁcally, we are
interested in the following questions:
– Can we identify reasons behind MVNOs performing worse than MNOs? We
characterize network performance for all four major U.S. carriers as well as a
single MVNO for each, discovering that performance appears to be dramati-
cally aﬀected by destination server location.
– Can we ﬁnd potential areas for improvement in order to reduce performance
gaps between mobile carriers? We ﬁnd that MVNOs have more intermediate
hops, which are also geographically ineﬃcient in the case of full MVNOs we
study. From our study we believe there is room for improvement with regards
to mobile network topology.
– Do we observe marked diﬀerence between full and light MVNOs? We observe
that a light MVNO closely resembles the underlying MNO, while traﬃc on
full MVNOs diﬀers, often exceptionally, compared to respective MNOs.
2 Background
CDNs and DNS. The use of CDNs to deliver content from distributed replica
servers is commonplace in order to improve performance as Internet content has
become increasingly heavy and media-rich. Client DNS requests resolve to partic-
ular replica server IP addresses when the clients browse the Internet. Ideally, the
resolved servers are ‘near’ (e.g. lowest round trip time) the client relative to other
potential servers in order to maximize application performance [7,8]. A challenge
for mobile data networks is that the limited number of public-facing gateways
in the cellular core network, as well as the location of cellular network DNS
resolvers, make localizing clients from an outside perspective diﬃcult. Peering
arrangements, or lack thereof, between mobile providers and content providers
also leads to ineﬃcient traﬃc routes even with the presence of a nearby replica [9].
MVNOs. Recently, MVNOs have increased in popularity worldwide. MVNOs
are virtual in the sense that they oﬀer telecommunications services without own-
ing all of the mobile infrastructure used by clients. Instead, MVNOs pay MNOs
A Study of MVNO Data Paths and Performance
85
for the right to service user traﬃc using the underlying base carrier network.
The rise in popularity of MVNOs is often attributed to relaxed contract terms
such as pay-as-you-go and pre-paid plans compared to traditional base carriers
in the U.S. which have traditionally operated using post-paid plans. MVNOs
can be classiﬁed in one of two ways: full or light. Full MVNOs are carriers
that license only the radio network of the base carrier. They implement their
own core, including authentication and billing services (i.e. they distribute their
own SIM cards). Light MVNOs, also called resellers, are re-branded versions of
the base carrier, which means they can fully use the base carrier infrastructure.
Mobile operators often create light MVNOs to target speciﬁc demographics or
to lower consumer cost by cutting back on support services.
3 Data Collection
We collect data from eight mobile devices running on eight diﬀerent carriers
between March 6 and March 20, 2015. We conduct the experiment over two
weeks to account for performance diﬀerences attributable to time-of-day pat-
terns. All measurement phones are located in Santa Barbara, CA and left in
a static location. All phones report ‘good’ or ‘great’ signal strength via the
Android telephony API throughout the experiment. For simplicity, we focus on
routes and performance associated with the popular social media sites Face-
book and Instagram. These services are responsible for huge amounts of mobile
Internet traﬃc, 19.43 % and 4.27 % respectively in North America [10], and are
widely replicated across many well-known CDN data centers, which allows us to
explore geographic diﬀerences between carriers. Measurements gathered across
additional locations, carriers, and sites would be ideal; however, this study is an
initial look at potential factors impacting MVNO network performance and we
hope to motivate further, more in-depth research. The list of CDNs that we use as
measurement points can be accessed on our project repository at https://github.
com/schmittpaul/mobileCDNs. The list includes 108 servers: 72 associated with
Facebook and 36 associated with Instagram. Some servers are location-speciﬁc,
identiﬁed by location clues in the name. We include international servers in our
study as through initial work we ﬁnd that mobile traﬃc surprisingly resolves to
such servers a signiﬁcant portion of the time (>5 %) for multiple carriers.
3.1 Carriers and Phones
We collect data on all four of the major base carriers in the United States. We
identify base carriers as A, B, C, and D. Carriers A and C are GSM networks
while carriers B and D use CDMA technology. MVNO carriers are identiﬁed
as A-1, B-1, C-1, and D-1, with their letters indicating the underlying base
carrier. MVNO B-1 is a light MVNO, which means that it has full access to
the infrastructure of carrier B. Carriers A-1, C-1, and D-1 are all branded as
the same full MVNO with diﬀerent SIM cards and contracts specifying the base
carrier used. All phones run Android 4.4 and we leave them in a high-power
state to avoid latency due to radios entering low-power states. All phones are
86
P. Schmitt et al.
attached to their carrier (i.e. not roaming). We choose to run all experiments
while connected via 3G rather than 4G due to uneven 4G LTE coverage in
our area between carriers. Recent work [9] has found that 3G and 4G mobile
networks in the U.S. have few Internet ingress points, meaning 4G networks will
exhibit similar behavior in terms of routes and CDN resolution as 3G networks.
3.2 Traceroute and Location Data
Each hour of the testing period, each device records a traceroute to each of
the servers in the CDN server list, resulting in 14 × 24 × 8 × 108 = 290, 304
records. We then use multiple techniques to estimate the location of each IP
address in the traceroute records. We ﬁrst employ the IP2Location DB5 data-
base in order to map the traceroute IP addresses to latitude and longitude coor-
dinates. Unfortunately, prior work has established that IP geolocation databases
are often rather inaccurate [11]. We also verify through a manual sanity check
of the IP-location mapping, where we ﬁnd improbable location mappings. To ﬁx
inaccuracies we use two other sources to manually estimate location for 5,172
unique, routable IP addresses observed over the course of the experiment. We
use nslookup to resolve the human-readable name of the IP address if it exists.
We do this because routers and servers often include three or four character loca-
tion clues in their names. Next, we use Internet looking glass servers, available
through traceroute.org from multiple cities around the U.S., to traceroute to
each IP address. Observing the paths taken and RTT values from geographi-
cally diverse vantage points enables us to further estimate location (e.g. RTT of
a few milliseconds from a particular looking glass server and intermediate hops
containing location identifying names). Overall, we ﬁnd that out of the 5,172
unique IP addresses, we override 1,988 addresses (36.4 %) from the IP2Location
database with our manual location estimate.
We run whois on each observed IP address to determine the associated
Autonomous System (AS) number. With this information, we create a data set
corresponding to each attempted traceroute that includes: the number of hops,
the IP address associated with each hop, the geographic coordinates associated
with each hop, the autonomous system number for each hop, and the observed
RTTs associated with three traceroute probes.
4 Network Analysis
We measure traﬃc on the four major mobile network operator networks in the
United States as well as MVNO carriers operating on each of them. We ﬁrst look
at network performance using standard metrics such as round trip times, hop
counts, and autonomous system paths. We then combine geographic information
and traceroute records to explore traﬃc route path characteristics.
4.1 Round Trip Times (RTT)
We begin by investigating RTTs for packets traversing the mobile networks
to the 73 non-location speciﬁc servers speciﬁed in our CDN server list.
A Study of MVNO Data Paths and Performance
87
1
0.8
0.6
0.4
0.2
F
D
C
0
100
A
A−1
B
B−1
C
C−1
D
D−1
101
102
RTT (ms)
103
104
Fig. 1. RTT measurements for mobile carriers to non-location speciﬁc servers.
RTT is a critical metric in network performance as the majority of TCP vari-
ants rely on RTT to determine throughput [12]. Figure 1 shows a cumulative
distribution function (CDF) plot of measured RTT values for all carriers in our
study. We see considerable performance variance between the networks despite
all measurements originating from the same location.
We also observe signiﬁcant performance diﬀerences between base carriers and
MVNO carriers operating on the corresponding base carrier infrastructure. For
instance, in Fig. 1 we see a 772.03 ms diﬀerence between the median RTT values
for carrier A and the MVNO carrier A-1. However, the most surprising results
are that MVNO carriers A-1 and B-1 outperform their respective base carriers
in terms of achieved RTTs, with the aforementioned 772 ms lower median value
for A-1 and a 87.24 ms median diﬀerence between B and B-1. These results
contradict the expectation that MVNOs universally oﬀer inferior performance.
Previous work has established the widespread use of transparent middleboxes on
mobile networks [13], which could help explain why networks with better RTT
performance do not necessarily outperform others as such middleboxes likely
ignore our measurement traﬃc. In order to understand round trip performance
more fully we must also consider the locations of servers to which client traﬃc
is resolved, explored in the next section.
4.2 Location-Speciﬁc RTTs
We study performance by examining the data center locations to which carriers
are most likely to resolve. We record the geographic location for the destination
server in all of the traceroutes corresponding to non-location speciﬁc requests
in the previous experiment and ﬁnd that the vast majority of requests resolve
to data centers in nine US cities and most carriers heavily favor relatively few
server locations. We then measure RTT performance to all locations using our
list of location-speciﬁc servers, which are identiﬁed using 3-character airport
codes in server names (e.g. scontent-a-lax.cdninstagram.com corresponds to
an Instagram server in Los Angeles). Figure 2 shows RTT CDFs for each of the
data center locations and highlights each carrier’s top three ‘preferred’ locations.
We ﬁnd location preference by calculating the percent of ‘hits’ at each location
for all non-location speciﬁc requests.
88
P. Schmitt et al.