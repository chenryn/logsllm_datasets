题，我们采用知识图谱结合语义索引的方式，使得商品的识别变得非常高效。下面我
们分别介绍下品类管理和属性管理。
基于知识图谱和语义索引的品类管理
智能导购场景下的品类管理分为品类识别，以及品类的关系计算。下图是品类关
系的架构图：
品类识别：
采用了基于知识图谱的识别方案和基于语义索引及dssm的判别模型。
a)：基于商品知识图谱的识别方案：
基于知识图谱复杂的结构化能力，做商品的类目识别。是我们商品识别的基础。
b)：基于语义索引及dssm商品识别模型的方案：
知识图谱的识别方案的优势是在于准确率高，但是不能覆盖所有的case。因此，
我们提出了一种基于语义索引和dssm结合的商品识别方案兜底。
新智能  9年双11：互联网技术超级工程
样本的构造：训练的正样本是通过搜索日志中的搜索query和点击类目构造的。
负样本则是通过利用query和点击的类目作为种子，检索出来一些相
似的类目，将不在正样本中的类目作为负样本。正负样本的比例1∶1。
品类关系计算：
品类关系的计算主要用于智能导购的意图管理中，这里主要考虑的几种关系是：
上下位关系和相似关系。举个例子，用户的第一个意图是要买衣服，当后面的意图说
要买水杯的时候，之前衣服所带有的属性就不应该被继承给水杯。相反，如果这个时
候用户说的是要裤子，由于裤子是衣服的下位词，则之前在衣服上的属性就应该被继
承下来。
上下位关系的计算2种方案：
●
采用基于知识图谱的关系运算。
○
通过用户的搜索query的提取。
○
相似性计算的两种方案：
●
基于相同的上位词。比方说小米，华为的上位词都是手机，则他们相似。
○
基于fast-text的品类词的embedding的语义相似度。
○
基于知识图谱和相似度计算的属性管理
下图是属性管理的架构图：
新智能  9年双11：互联网技术超级工程
price1表示当前展现给用户的商品的均价，is_click表示本轮交互是否发生点击，
query_item_sim表示query和item的相似度。power表示是用户的购买力，
user_inter表示用户的兴趣, age表示用户的年龄。
reward的设计：
由于最终衡量的是用户的成交和点击率和对话的轮数。因此reward的设计主要
包括下面3个方面：
a)：用户的点击的reward设置成1
b)：成交设置成[ 1 + math.log(price + 1.0) ]
c)：其余的设置成0.1
DRL的方案的选型：这里具体的方案，主要采用了DQN， policy-gradient和
A3C的三种方案。
基于可配置Bot Framework体系构建
在阿里小蜜平台中还存在一种需要动态获取系统数据并且整个流程相对较为个性
化的场景，这种场景的体系数据偏少甚至没有并且需要跟对应的ERP等系统打通，
因此我们就构建以一套Bot Framework系统，来满足对应企业的运营或者开发同学
完成个性化任务体系的定制。
整个BFW1.0的体系支持：
新智能  9年双11：互联网技术超级工程
候选集数据，然后通过Seq2Seq Model对候选集进行Rerank，重排序后超过
制定的阈值就进行输出，不到阈值就通过Seq2Seq Model进行答案生成，整体流程
图如下：
机器阅读理解技术探索与实践
在阿里小蜜平台的业务体系中，存在大量知识数据是无法通过先验知识结构化
或者结构化效率极低的场景，例如淘宝双十一大促的活动、税务法律等等。因此我
们通过机器阅读理解的运用，可以减少人工知识点拆解工作，让机器直接对规则进
行阅读，为用户提供规则解读服务，是最自然的交互方式。因此在2017年阿里巴巴
iDST团队与我们阿里小蜜团队合作共同在机器阅读领域进行了深入的探索和应用。
例如，如下图是2017年淘宝双十一“群战队”一个活动的规则：
新智能  9年双11：互联网技术超级工程
里小蜜的活动规则解读是我们支持的第一个场景，目前我们已经拓展了税务法
规解读场景，未来还会在金融、电信等领域进行开拓，因此在新领域拓展时，
需要利用到过去学习过的知识。
基于机器阅读理解模型的在线问答流程如下图所示，在解析用户问题到输出答案
的过程中，共有4个模块参与处理：
1.文章片段定位模块
文章片段定位模块针对用户问题，召回候选的文档段落集合供机器阅读产生答
案。借助该模块，可帮助缩减机器阅读理解模型的计算量，同时在一定程度上提升准
确率。例如用户提问“天猫造物节的活动什么时候开始？”，该模块需要返回所有与
新智能 < 59
“天猫造物节”有关的文档段落。定位的方式可以通过文本分类、文本检索或者问题
模板拦截来完成，文本分类需要提前标注数据训练模型，目前我们的流程中主要以无
监督的文本检索或者人工维护的问题模板定位为主。
2.预处理模块
预处理模块包含4个步骤，首先需要对用户问题和待阅读文章做文本分词，由于
带阅读文章常常伴有多级段落、特殊标签等结构信息，需要做格式化处理。