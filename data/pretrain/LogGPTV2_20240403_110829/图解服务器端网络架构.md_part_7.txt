动设
---
## Page 38
221第1章物理设计
手动设置两端的端口时，速率如果设置得不一致，会连对接都无法完成：而双工如果不一
致，则对接虽然能完成但基本上无法进行通信。
图1.1.15手动设置时如果速率或双工设得不一致将无法进行通信
1000bs
全京工
车不
X
服务额
文换机
采用自动设置（自协商）时也要注意。自动设置是通过交换FLP（FastLinkPulse，快速连
接脉冲）信号来决定速率和双工的，通过FLP交换彼此支持的速率和双工，然后按照预先决定
好的优先顺序来决定速率和双工。
图1.1.16互相交换信号以决定速率和双工
文持的模式
1000BASE-T/全R工
PC交换
主持的模式
1008ASE-TX/全双工
10008ASE-T/*X工
000ASE-T/牛联
00BASE-T2/全夏
1008ASE-TX/双工
1008ASE-TX
OOBASE-TX+1
自动设
00BASE-T4/全
OBASE-TX/ +R3
网卡
物型
L→
←
MUL
FLP
FLP
全上
当两端都采用自动设置时，结果必然是选择全双工，这没有什么问题。但是，如果只有一
端采用了自动设置，那么系统将会选择默认的双工设置
半双工。这是因为当发送的是FLP
信号面返同的却是非FLP信号时，系统就会选择半双工模式。这时候吞吐率是提升无望的，所
以如果一端采用了自动设置，另一端就一定也要采用自动设置，这个原则我们绝对要遵守。
---
## Page 39
1.1物理层的技术23
图1.1.17采用自动设置时要注意！
自动联
理璃口
通话
服务器
←UL
"LF
空闲信号
2因为是不量况
Q双绞线电缆的最大传输距离为100米
双绞线电缆是目前最常用的布线材料，但它有一个致命的弱点，那就是传输距离非常有限。
从规格上来说，双绞线电缆最多只能延伸到100米处，如果延伸到100米之外，电信号会衰减，
数据会消失，所以超过100米时必须设置交换机等中转机器以延长传输距离。布线时考虑到这
个最大传输距离是极其重要的。有人也许会觉得有100米足够了，但是电缆需要装入导管，布
线时会遇到障碍物，由于建筑物的某些原因面不得不迁回布线的情况也很多，你会意外地发现
100米其实很短。所以我们应仔细确认布线线路，将总长度控制在100米之内。当然，你也可
以通过中转机器让它得以无限延伸。不过那样的话，今后需要进行运行管理的机器将会增加，
故障点也会增加，总体来说并不实用。遇到这种情况，我们应使用光纤光缆，至于光纤光缆，
将在下个小节为大家说明。
用中继集线器抓包
在物理层设备中，最具实用性的就是中继集线器了。中继集线器的功能非常简单，它将端
口接收到的信号复制并发送给所有端口。由于是将数据发送给所有端口，所以与该中继集线器
连接的所有端口都会接收到和自己并不相干的数据，从通信量的角度来说这样做的效率并不高。
最近，中继集线器大多已被交换集线器所替代，几乎很少能见到了，作为支持数据通信的集线
器这个角色，我们可以认为它已经走到了终点。
---
## Page 40
24|第1章物理设计
图1.1.18中继集线器将复制的信号发送给所有的端口
电信号
信号
发送信
中继集线器的真本领在于故障排除。我们在需要抓包的PC或服务器之间插人中继集线
器，然后在同列中配置好另一台PC，就能接收到机器之间交换的信号。接收到的数码信号可
用Wireshark、EtherPeek这样的专用软件进行截取和分析。使用中继集线器时能够顺利抓包
面不改变现有机器的设置。因此，在细化到比特流程度的故障排除中，它总是能够发挥自己
真正的本领。
图1.1.19通过中继集线器排除故障
文换集线器
交换集
JUL
需要获得比特流
电信号
要获得比特流
鉴有抓包软件的PC
的服务器
---
## Page 41
1.1物理层的技术25
1.1.1.3光纤光缆是用玻璃制成的
接下来，我们来看光纤光缆。光纤光缆的规格为OOBASE-SX/SR或OOBASE-LX/LR。
○○ BASE-SX/SR中的 S是 Short Wavelength（短波长）中的 S，OO BASE-LX/LR中的L是
LongWavelength（长波长）中的L，它们都代表了激光的种类。我们使用的激光种类将直接影响
传输距离和所用的线缆。
光纤光缆是用极细的玻璃管做成的，用于传输光信号。光纤光缆由折射率较高的纤芯和折
射率较低的包层构成，为同芯双层结构。通过将折射率不同的两种玻璃做成双层构造。，可以将
光封闭到纤芯内，进面形成低损耗的光通道，这个光通道就叫作模。
图1.1.20光纤光缆由纤芯和包层构成
纤芯
包层
实际传输数据的时候，一根芯用于发送信息，另一根芯则用于接收信息，两根芯组成一对，
形成全双工通信。。由于必须构成收和发的关系，如果一方发送了信息，另一方就必须接收信息。
如果双方都发送信息或都接收信息，就会连对接都无法完成。
图1.1.21收发信息分别使用不同的光纤光级
仅用干家送信
发送信息
报收信
一方发送信息
①最近也出现了塑料光纤、高分子光纤等用非玻瑞材质制成的光师，不过人们一般使用的光纤电现都是用高炖度的石
②如果算上被覆表层就是三层构造：
英玻瑞制成的。
③1000BASE-BX是在一根芯中将波长分为用子发信的波长和用于收信的波长两种，分别进行信息敬发的，
---
## Page 42
261第1章物理设计
使用光纤光缆时，即使传输距离很长信号也不会衰减，能够保持极宽的频带，和双绞线电缆
相比能延伸到更远的距离。但是光纤光缆也有缺点，那就是结构过于精密，使用起来不太方便。
根据不同需要区分使用多模光纤和单模光纤
光纤光缆有多模光纤（MMF）和单模光纤（SMF）两种类型，二者的差异在于纤芯直径（即
芯径，光信号从这里通过）不同。
多模光纤
多模光纤的芯径为50μm或62.5μm，用于1000BASE-SX和10GBASE-SR。由于芯径较
大，光的通道（模）分散成了好几个（多）。由于有多个通道，和单模光纤相比，它的传输损耗更
大，传输距离更短（最大550米）。然面它的价格比单模光纤便宜，也更好用，因此常常用于
LAN这种比较近距离的传输。多模光纤按纤芯折射率可分为SI型（阶跃）和GI型（渐变）两种，
目前人们使用的多模光纤一般为GI型，我们可以认为多模光纤指的就是GI型光纤。GI型光纤能
使纤芯的折射率逐渐发生变化，使所有光通道在同一时间到达目的地，这样就能减少传输损耗。
图1.1.22多模光纤中有多条光通道
有多个模通过好芯
和单模相比
编损耗级大
价格比较使宜
单模光纤
单模光纤的芯径为8~10μm，用于1000BASE-LX和10GBASE-LR。通过缩小芯径，以及
湿度控制纤芯和包层之间的折射率差，达到了只有一个（单）光通路（模）的效果。由于设计上
保证了只有一条光通路存在，所以单模光纤能够实现长距离和大容量数据的传输。单模光纤在
家庭或公司等场所不易见到，但如果你经常出入数据中心或ISP主干网设施就会经常看到了。
不知为何。笔者个人总觉得单模光纤以黄色的线缆居多。单模光纤在传输损耗小又能进行长距
离通信这两点上无可挑别，但缺点是价格偏高。
①电可用1000BASE-LX，此时其最大传输距离即为多模光纤的最大传验题高（550术）。
---
## Page 43
1.1物理层的技术27
图1.1.23单楼光纤中只有一条光通道
纤芯直锁
包系直径
只有一个模通过芯
和多模相比
传验较小
价格验费
下表是将两种光纤光缆进行比较的结果。
表1.1.4单模光纤和多模光纤的比较
比较事项
多模光纤
单模光纤
纤芯直径
50 μm
8- 10 μm
62.5 μm
包层直径
125 μm
125μm
光通道（模）
多个
一个
模分散
青
无
传输损耗
小
更小
传输距离
最大550m
最大70km
使用
不方便
更不方便
成本
高
更高
光纤光缆的规格
光纤光缆有多种规格，常听大家说对这个不太了解。光纤光缆的具体规格直接关系到我们
对它们的选择，所以在这里要好好整理一下。
我们在整理规格的时候，最容易理解的是OBASE-口△中口的部分。这部分的文字表示了
激光的种类，笔者就是利用这里的英文字母整理规格的。以1000BASE-SX为例，1000BASE-SX
中的S代表了Short Wavelength（短波长），有S的规格说明该光缆使用的是850nm波长的短波
长激光，仅能用于多模光纤。笔者是这样简单记忆的：S代表Short，指距离短的多模：面L代
表Long，指距离长的单模，不过大能兼小，所以它也能用于多模光纤。
①X则是1000BASE-X中的X。1000BASE-X是使用光纤的千是位以大网的总格。顺使提一句，10GBASE-SR中的R
指10GBASE-R中的R，为10GBASE-R是10千免位以大网的总称。
---
## Page 44
28|第1章物理设计
下面是笔者整理出来的光纤光缆规格一览表。
表1.1.5可用于1000BASE-X的光线
传验媒介
MMF （多模光纤）
SMF（单模光纤）
纤芯直径
62.5 μm
50 μm
8 ~ 10 μm
距离
275m
550m
( 200MHz • km B )
( 500MHz • km B )
10km
70km
长
850nm
1310nm
1550nm
1000BASE-SX
1Gbit/s 的规格
IEEE802.3z
1000BASE-ZX
(1000BASE-X)
1000BASE-LX
思科公司特有
IEEE802.3z
亚括号内的数字表示模的带宽，数半越大则传验很耗越小，进合长距真传输。
表1.1.6可用于10GBASE-R-X的光缆
传媒介
MMF（多模光纤）
SMF（单模光纤）
芯直径
62.5 μm
50 μm
8 ~ 10 μm
距离
33m
300m
(200MHz • km B )
10km
( 2000MHz • km B时 )
70km
波长
850nm
1310nm
1550nm
10Gbits的规格