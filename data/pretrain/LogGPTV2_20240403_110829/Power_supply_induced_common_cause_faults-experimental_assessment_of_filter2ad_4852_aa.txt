title:Power supply induced common cause faults-experimental assessment of
potential countermeasures
author:Peter Tummeltshammer and
Andreas Steininger
978-1-4244-4421-2/09/$25.00 c(cid:13)2009 IEEE
449
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 09:59:27 UTC from IEEE Xplore.  Restrictions apply. 
PowerSupplyInducedCommonCauseFaults—ExperimentalAssessmentofPotentialCountermeasuresPeterTummeltshammerAndreasSteiningerViennaUniversityofTechnology–EmbeddedComputingSystemsGroupTreitlstrasse3,A-1040Vienna,AustriaPhone:+4315880118261,Fax:+4315880118297{petertu,steininger}@ecs.tuwien.ac.atAbstractFault-tolerantarchitecturesbasedonphysicalreplica-tionofcomponentsarevulnerabletofaultsthatcausethesameeffectinallreplica.Shortoutagesinapowersup-plysharedbyallreplicaareaprominentexampleforsuchcommoncausefaults.Forsystemsinwhichtheprovisionofareplicatedpowersupplywouldcauseprohibitiveeffortstheidentiﬁcationofreliablecountermeasuresagainsttheseeffectsisvitaltomaintaintherequireddependabilitylevel.Inthispaperweproposeseveralofsuchcountermea-sures,namelyparityprotection,voltagemonitoringandtimediversityofthereplica.Weperformextensivefaultin-jectionexperimentsonthreefault-tolerantdualcoreproces-sordesigns,oneFPGAbasedandtwocommercialASICs.Theseexperimentsprovideevidenceforthevulnerabilityofacompletelyunprotecteddualcoresolution,whiletimediversityandvoltagemonitoringincombinationwithin-creasedtimingmarginsturnoutparticularlyeffectiveforeliminatingcommoncauseeffects.1IntroductionToday’sreal-timearchitecturesofferawidevarietyoflevelsforfaulttoleranceusingMoutofNsystemslikeTMRoratwocoremaster-checkerarchitecture[4,6].Whilethosearchitecturescanreacherrorratesoflessthan10−9faultsperhourinamulti-chipsolution[6],thefabricationofsuchsystemscanbeverycostintensive,whichmakesithardtousethemformassproductionlikee.g.intheauto-motivearea.Thisfacthasledtofault-tolerantsystems-on-chip,wherethewholefault-tolerantsystemismanufacturedonasingledie.Thispaperaddressesthequestionofhowpowersupplyinducedfaultsaffectasingle-chipdualcoreprocessorsys-temimplementingthemaster-checkerarchitecture.Inthiscontextweputastrongemphasisonﬁndingthesystem’ssusceptibilitytocommoncausefaults(CCFs),whichistheclassoffaultsthataffectsbothcoressimilarly,andthereforemayrendercomparison-basederrordetectionmechanismsuseless.Furthermorewepresentandevaluatetheeffective-nessofcountermeasuresagainsttheseCCFsusingthreedif-ferentarchitectures.Thispaperisorganizedasfollows.Section2showstherelatedwork,Section3givesanoverviewofthedualcorearchitectureandthefaultmodelweused.InSection4wepresenttheexperimentsetupandinSection5weshowtheresults.ThepaperconcludeswithSection6.2RelatedWorkTheoccurrenceofCCFsinredundantsystemshasbeenstudiedextensivelyinliterature[1,3,10]inthecontextofsystemmodels.CCFmodelsfacilitatethecalculationofthesystem’soverallfailurerateiftheprobabilityofacommoncausefaulttooccurisaprioriknown.TheprobabilityforaCCFtooccurcanbedeterminedthroughlong-termanalysisor,ifnotapplicable,throughworstcaseestimationsbasedondesignpropertiesasin[6].Theproblemis,thatfornewdesignslong-termanalysesarenotfeasiblewhiletheworstcaseestimationsmaynotconsidernovelcountermeasurescorrectly.ThisiswhywefocusthisworkonevaluatingtheeffectofseveralcountermeasuresastheevaluationoftheCCFrateitselfisveryarchitectureandtechnologydepen-dent.Powersupplydisturbance(PSD)faultinjectiononatwo-coremaster-checkerarchitecturewasalreadycarriedoutby[7,11,12].In[7],theauthorsgeneratenoiseonthepowersupplyandtesttheirrecoverymechanisms.Theyalsointroducetimediversitybetweenthecores,andcantherebyreducethenumberofnon-recoverablefaultsto0.However,theymainlyfocusontherecoverymechanismandonlyhaveaverylimitednumberofexperiments.978-1-4244-4421-2/09/$25.00 c(cid:13)2009 IEEE
450
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 09:59:27 UTC from IEEE Xplore.  Restrictions apply. 
In[12]theauthorsperformPSDfaultinjectiononthemastercoreinamaster-checkerarchitecturewithtwoPen-tiumprocessors.Thesystemcrashedin50%oftheinjec-tions,whilefortheother50%faultsweredetectedbytheirmechanisms.However,thecomputationswerecorrectin99.93%ofallfaultdetectioncases,whichleadstothecon-clusion,thatthecoresthemselveswerenotaffected,butrathertheerrordetectingperiphery.InordertoovercomethiseffectweconﬁnedourPSDfaultinjectiontothecorevoltageleavingtheI/Ovoltagefaultless.In[2]PSDexperimentswereconductedonanSRAMbasedFPGA.Theexperimentsshowed,thatinalmost60%ofallPSDinjectionstheFPGAconﬁgurationwaslost.Thisiswhywechoseaﬂash-basedFPGAforourPSDexperi-mentswhichdoesnotsufferconﬁgurationlossonavoltagedrop.Otherwisewewouldhavehadtoreconﬁgurethede-viceforeveryexperimentiteration,whichisverytimecon-suming.3TheDualCoreArchitecture3.1PrincipleThearchitectureweinvestigateinthispaperisadualcoreprocessorimplementingalockstepmastercheckerar-chitecture,asshowninFigure1.Itsdetailswereproposedin[8]andextendedin[9].Inalocksteparchitecture,themasterandthecheckerprocessorexecutethesameprogramcodehighlysynchro-nized.Themasterprocessordrivesalltheoutputsandthecheckerprocessorisusedtovalidatethoseoutputswhilebothcoresreceivethesameinputs.Acompareunitcheckstheoutputseveryclockcycle,andcanthereforedetectamismatchveryquickly.Allexternalcomponentsarein-stantiatedonlyonce,andhavetobeprotectedagainstfaults,e.g.bymeansofECCorparityfortheRAMandbuses.Incaseofamismatch,thecompareunitcantriggeranexter-nalmechanism,whichresetsthecoresorstartsarecoveryMasterCompareUnitCheckerRAMSingle coreFaulttolerantextensionFigure1.Lockstepdualcorearchitectureprocedurerespectively.Sucharecoverymechanismispre-sentedin[13].Onecanseethatsuchasystem,albeititsquickfaultde-tection,issusceptibletofaultswhichaffectbothcorescon-currently.ThisiswhywechosePSDfaultinjectionasitoffershighlyconcurrentfaultinjectionandisawellknownmethodfoundinliterature.Pleasenote,thatthereareotherpotentialCCForiginslikeelectrical(clocktree,substrate)environmental(temperature,pressure)ordesignandfabri-cationfaultswhicharenotcoveredinthispaper.3.2FaultModelThesimplestmathematicalmodeltodescribetheeffectofCCFindualchannelsystemsisthebetafactormodel[3].Thismodelusesonlyonefactor,namelythebetafactor,thatgivestheprobabilitythatafaultaffectsbothcores.Pleasenotethatforsimplicityweusetimefreefailureprobabilitiesinourmodel,fortimedfailureratesthefailureprobabilitiesP(X)havetobeexpandedasP(X)=1−e−λXt,withafailurerateofλXforcomponentX.Inatwocomponentsystemasthedualcorearchitectureweassumethattheprobabilityofasinglecomponentfail-ingindependentlyisPi(A)forcomponentAandPi(B)forcomponentB.FurthermorePd(AB)istheprobabilitythatbothcomponentsfaildependentlyi.e.afaultaffectsbothcomponents.ThentheprobabilityofasystemfaultisPs=Pi(A)·Pi(B)+Pd(AB).(1)Betaisthefractionofdependentfaultsoverallfaults:β=Pd(AB)Pi(A)+Pi(B)+Pd(AB).(2)Betacanbedeterminedexperimentallyusingﬁelddata,butitcanalsobeestimatedarchitecturallyusingworst-caseestimationsin[6].Betahighlyinﬂuencessystemreliabil-ityofmulticomponentsystems,astheirindependentcom-ponentfailureprobabilitiescannotsimplybemultipliedtodeterminetheoverallsystemfailureprobabilityasshownin(1).However,forafail-silentdualcoresystemthisapproachisverypessimistic,asafaultaffectingbothcoresdoesnotnecessarilyviolatethefailsilenceproperty,sincethefaultscanaffectthecoresdifferentlyandcanthereforebedetectedbyacompareunit.Thatiswhythemodelhastobeextendedbytheprobabilityc,thatafaultisdetectedalthoughitaf-fectedbothcores:βSYS=β·(1−c).(3)NowβSYSistheprobability,thatafaultaffectsbothcoresinaway,thatitcannotbedetectedbythecompareunitoranyothererrordetectionmechanism.Thisisquitesimilar978-1-4244-4421-2/09/$25.00 c(cid:13)2009 IEEE