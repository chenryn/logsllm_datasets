target_database=edb
target_user=enterprisedb
target_password=password
The following example compares all tables in the Oracle EDB schema against the
Advanced Server public schema.
The Data Validator log files are created in directory
/home/user/datavalidator_logs as specified with the -ld option. The operating
system account used to invoke the runValidation.sh script has write access to the
/home/user directory so the Data Validator can create the datavalidator_logs
subdirectory.
$ cd /opt/PostgreSQL/EnterpriseDB-xDBReplicationServer/bin
$ pwd
/opt/PostgreSQL/EnterpriseDB-xDBReplicationServer/bin
$ ./runValidation.sh -ss edb -ts public -ld /home/user/datavalidator_logs
EnterpriseDB DataValidator Build 3
----------------------------------------------------------------------------
Source and target databases connection information
----------------------------------------------------------------------------
Source database:
DBMS: ORACLE
Host: 192.168.2.23
Port: 1521
Database: xe
User: edb
Target database:
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 615
EDB Postgres Replication Server User’s Guide
DBMS: ENTERPRISEDB
Host: localhost
Port: 5444
Database: edb
User: enterprisedb
----------------------------------------------------------------------------
Databases data validation process started...
----------------------------------------------------------------------------
Validating Table DEPT
Rows validated: 5
Finished validating table DEPT with 1 errors.
Logging errors details in the diff file...
Validating Table EMP
Rows validated: 16
Finished validating table EMP with 2 errors.
Logging errors details in the diff file...
Validating Table JOBHIST
Rows validated: 17
Finished validating table JOBHIST with 0 errors.
Validating Table ORATAB
Table not validated as it does not exist on the target database.
DataValidator found 3 errors across source and target databases.
For detailed error report see datavalidator_20150713-144417.diff file.
----------------------------------------------------------------------------
Data validation process has completed.
----------------------------------------------------------------------------
****************************************************************************
DataValidator Summary
****************************************************************************
All tables count: 4
Validated tables count: 3
Rows count: 38
Errors count: 3
Missing tables on the target database count: 1
Tables list:
- EDB.ORATAB
Tables having only unsupported datatypes count: 0
Tables having primary key limitation count: 0
Total time(s): 0.678
Rows per second: 56
****************************************************************************
The Data Validator output indicates the following:
 There is one error in the DEPT table (the missing row).
 There are two errors in the EMP table (the two rows with mismatching column
values)
 The JOBHIST table contains no errors.
 The ORATAB table does not exist on the target database.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 616
EDB Postgres Replication Server User’s Guide
The following shows the files created in the Data Validator logs directory:
$ pwd
/home/user/datavalidator_logs
$ ls -l
total 24
-rw-rw-r-- 1 user user 18999 Aug 13 15:44 datavalidator_20150713-144417.diff
-rw-rw-r-- 1 user user 2133 Aug 13 15:44 datavalidator_20150713-144417.log
The log file contains the same content as displayed when the Data Validator is invoked.
The diff file compares the differences where errors were detected.
The following is the diff file as displayed in a text editor:
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 617
EDB Postgres Replication Server User’s Guide
Figure 9-1 - Data Validator diff file
The following example includes only tables dept and emp with the -it option when
comparing the Oracle EDB schema against the Advanced Server public schema.
$ cd /opt/PostgreSQL/EnterpriseDB-xDBReplicationServer/bin
$ pwd
/opt/PostgreSQL/EnterpriseDB-xDBReplicationServer/bin
$ ./runValidation.sh -ss edb -ts public -ld /home/user/datavalidator_logs -it
dept,emp
EnterpriseDB DataValidator Build 3
----------------------------------------------------------------------------
Source and target databases connection information
----------------------------------------------------------------------------
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 618
EDB Postgres Replication Server User’s Guide
Source database:
DBMS: ORACLE
Host: 192.168.2.23
Port: 1521
Database: xe
User: edb
Target database:
DBMS: ENTERPRISEDB
Host: localhost
Port: 5444
Database: edb
User: enterprisedb
----------------------------------------------------------------------------
Databases data validation process started...
----------------------------------------------------------------------------
Validating Table DEPT
Rows validated: 5
Finished validating table DEPT with 1 errors.
Logging errors details in the diff file...
Validating Table EMP
Rows validated: 16
Finished validating table EMP with 2 errors.
Logging errors details in the diff file...
DataValidator found 3 errors across source and target databases.
For detailed error report see datavalidator_20150714-123353.diff file.
----------------------------------------------------------------------------
Data validation process has completed.
----------------------------------------------------------------------------
****************************************************************************
DataValidator Summary
****************************************************************************
All tables count: 2
Validated tables count: 2
Rows count: 21
Errors count: 3
Missing tables on the target database count: 0
Tables having only unsupported datatypes count: 0
Tables having primary key limitation count: 0
Total time(s): 0.539
Rows per second: 39
****************************************************************************
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 619
EDB Postgres Replication Server User’s Guide
The following example excludes tables ORATAB and jobhist with the -et option when
comparing the Oracle EDB schema against the Advanced Server public schema. The -
ds true option results in the display of only the Data Validator summary.
$ ./runValidation.sh -ss edb -ts public -ld /home/user/datavalidator_logs -et
ORATAB,jobhist -ds true
Databases data validation process started...
****************************************************************************
DataValidator Summary
****************************************************************************
All tables count: 2
Validated tables count: 2
Rows count: 21
Errors count: 3
Missing tables on the target database count: 0
Tables having only unsupported datatypes count: 0
Tables having primary key limitation count: 0
Total time(s): 0.535
Rows per second: 39
****************************************************************************
For this run, the corresponding log file contains only the Data Validator summary,
omitting the source and target database connection information along with the error
breakdown by table.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 620
EDB Postgres Replication Server User’s Guide
10 Appendix
This chapter discusses various miscellaneous topics.
10.1 Certified and Supported Database Servers and
Configurations
This section lists the certified and supported versions of database server products that
may be used with xDB Replication Server along with the permitted combinations of such
products within an xDB replication system.
10.1.1 Certified and Supported Product Versions
The following are the database product versions that may be used with xDB Replication
Server.
 PostgreSQL versions 9.2, 9.3, 9.4, 9.5, 9.6, 10, and 11
 Advanced Server versions 9.2, 9.3, 9.4, 9.5, 9.6, 10, and 11
 Oracle 10g Release 2 version 10.2.0.1.0 has been explicitly certified. Newer
minor versions in the 10.2 line are supported as well.
 Oracle 11g Release 2 version 11.2.0.2.0 has been explicitly certified. Newer
minor versions in the 11.2 line are supported as well.
 Oracle 12c version 12.1.0.2.0 has been explicitly certified. Newer minor versions
in the 12.1 line are supported as well.
 SQL Server 2008 version 10.50.1617.0 has been explicitly certified. Newer
minor versions in the 10.50 line are supported as well.
 SQL Server 2012 version 11.0.6020.0 has been explicitly certified. Newer minor
versions in the 11.0 line are supported as well.
 SQL Server 2014 version 12.0.5000.0 has been explicitly certified. Newer minor
versions in the 12.0 line are supported as well.
Note: For Advanced Server version 11, certification has been initially performed against
version 11 beta, but no issue is expected with the version 11 GA release.
Please contact your EnterpriseDB Account Manager or PI:EMAIL if you
require support for other platforms.
10.1.2 A Note Regarding Oracle RAC and Oracle Exadata
Oracle Real Application Clusters (RAC) and Oracle Exadata are not supported by xDB
Replication Server. These Oracle products have not been evaluated nor certified with
xDB Replication Server.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 621
EDB Postgres Replication Server User’s Guide
10.1.3 Permitted Configurations and Combinations
Depending upon the database products you are using with xDB Replication Server
(Oracle, SQL Server, PostgreSQL, or Advanced Server) along with the compatibility
configuration mode if you are using Advanced Server, certain combinations of a source
database server and a target database server are not permitted for a publication and its
associated subscription in a single-master replication system.
Similarly, only certain combinations of database products and Advanced Server
compatibility configuration modes can be used together in a multi-master replication
system.
For a single-master replication system, the source refers to the database server of the
publication database. The target refers to the database server of the subscription database.
For a multi-master replication system, all of the participating database servers act as both
a source and a target for all other participating database servers, so the restrictions pertain
to the combinations of database servers and compatibility configuration modes that can
be used together in the same multi-master replication system.
This section presents the specific combinations of database server configurations that can
be used for a publication and its associated subscription in a single-master replication
system, and the combinations of database server configurations that can be used in a
multi-master replication system.
10.1.3.1 Advanced Server Compatibility Configuration Modes
Advanced Server supports two compatibility configuration modes of operation, which are
the following:
 Oracle compatible configuration mode. Operations are performed using Oracle
syntax and semantics for data types, functions, database object creation, and so
forth. This mode is useful when your applications are migrated from Oracle, or
you want your applications built in an Oracle compatible fashion.
 PostgreSQL compatible configuration mode. Operations are performed using
native PostgreSQL syntax and semantics. This mode is useful when your
applications are migrated from PostgreSQL, or you want your applications built in
a PostgreSQL compatible fashion.
For more information on features supported in Oracle compatible configuration mode,
see the Database Compatibility for Oracle Developer’s Guide located at:
https://www.enterprisedb.com/resources/product-documentation
The compatibility configuration mode is selected at the time you install Advanced Server.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 622
EDB Postgres Replication Server User’s Guide
10.1.3.2 Permitted SMR Source and Target Configurations
The following table shows the combinations of source and target database server products
and Advanced Server compatibility configuration modes permitted by xDB Replication
Server for single-master replication systems:
Table 10-1 – Permitted Source and Target Configurations
Advanced Advanced
Microsoft SQL Server Server
Source \ Target Oracle PostgreSQL
Server (Oracle (PostgreSQL
compatible) compatible)
Oracle No No Yes Yes Yes
Microsoft SQL Server No No Yes Yes Yes
PostgreSQL No Yes Yes Yes Yes
Advanced Server
Yes Yes No Yes No
(Oracle compatible)
Advanced Server
(PostgreSQL No Yes Yes Yes Yes
compatible)
In the preceding table, the left hand column lists the possible source database server
products including the possible Advanced Server compatibility configuration modes. The
top row lists the same set of possible target database server products and Advanced
Server compatibility configuration modes.
‘Yes’ at the intersection of a source and target indicates that xDB Replication Server
permits replication using that combination of database server configurations for a
publication and its associated subscription. ‘No’ indicates replication is not permitted for
that combination.
10.1.3.3 Permitted MMR Database Server Configurations
For multi-master replication systems, each master node acts as both a source for all
master nodes and a target for all master nodes. Thus, the permitted database servers
comprising a particular multi-master replication system or cluster is determined by the
overall composition of the cluster, which is initially established when selecting the
database type of the master definition node (see Step 3 in Section 6.2.2).
There are two basic cluster types that can be characterized as follows:
 PostgreSQL compatible cluster. All master nodes must consist of PostgreSQL
database servers or Advanced Servers installed in PostgreSQL compatible
configuration mode.
 Advanced Server Oracle compatible cluster. All master nodes must consist of
Advanced Servers installed in Oracle compatible configuration mode.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 623
EDB Postgres Replication Server User’s Guide
The following table summarizes the permitted database server configurations allowed in
the two cluster types.
Table 10-2 – Permitted Database Server Configurations by Cluster Type
Advanced Server
PostgreSQL Compatible
Database Server \ Cluster Type Oracle Compatible
Cluster
Cluster
PostgreSQL Yes No
Advanced Server (PostgreSQL
Yes No
compatible)
Advanced Server (Oracle
No Yes
compatible)
In the preceding table, the left hand column lists the possible database server products
including the possible Advanced Server compatibility configuration modes. The top row
lists the supported cluster types.
‘Yes’ at the intersection of a database server and cluster type indicates that xDB
Replication Server permits the database server and the specified configuration mode in
the cluster type. ‘No’ indicates the database server and the specified configuration mode
cannot be used in the cluster type.
10.2 Upgrading to xDB Replication Server 6.2
This section describes the process of installing xDB Replication Server 6.2 when you
have existing single-master or multi-master replication systems that are running under
xDB Replication Server version 6.1.x or 6.0.x.
It is assumed that you will be installing xDB Replication Server 6.2 on the same host
machine that is currently running xDB Replication Server 6.1.x or 6.0.x, and that you will
then manage the existing replication systems using xDB Replication Server 6.2.
A direct upgrade is supported only from xDB Replication Server versions 6.1.x or 6.0.x.
If you have xDB Replication Server 5.1.x, you must first upgrade this version to xDB
Replication Server 6.0. See Section 10.2 “Upgrading to xDB Replication Server 6.0” in
the EDB Replication Server 6.0 User’s Guide located at:
https://www.enterprisedb.com/resources/product-documentation
After upgrading to version 6.0, you can then upgrade to 6.2.
The following sections illustrate the upgrade process from xDB Replication Server 6.1.
The same steps apply for upgrading from xDB Replication Server 6.0, but with different
version numbers in the file and directory names of the older product.