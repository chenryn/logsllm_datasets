RTDOverThresholds=[RTDOverThresholds])
日志含义
测试例执行结果的RTD值大于设置的往返时延阈值。
说明
目前只有ICMP和Trace测试例支持此日志。
日志参数
参数名称 参数含义
OwnerIndex NQA测试例的管理者
文档版本 09 (2017-09-04) 华为专有和保密信息 332
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 38 NQABASE
参数名称 参数含义
TestName NQA测试例的测试例名
TargetAddressType 目的地址类型
TargetAddress 目的地址
Index 结果表索引
HopIndex HOP索引
AddressType 源地址类型
Address 源地址
Threshold1 RTD阈值
可能原因
原因1：
设置的阈值过小。
原因2：
网络繁忙。
处理步骤
步骤1 1.在系统视图下执行display cpu命令，看CPU是否负载过高。
l 如果是，则请执行步骤3。
l 如果不是，则请执行步骤2。
步骤2 在NQA测试例视图下执行display this得到当前阈值，再在NQA测试例视图下执行命令
threshold rtd将阈值根据实际情况修改，建议修改为20毫秒。重新启动测试例，测试是
否成功。
l 如果是，则请执行步骤4。
l 如果不是，则请执行步骤3。
步骤3 请联系华为技术支持工程师。
步骤4 结束。
----结束
文档版本 09 (2017-09-04) 华为专有和保密信息 333
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 39 OSPF
39
OSPF
关于本章
39.1 OSPF/4/AUTO_CHG_RTRID
39.2 OSPF/6/BAD_IP_PACKET
39.3 OSPF/6/BAD_LSA
39.4 OSPF/6/BAD_LSU_PKT
39.5 OSPF/6/CANNOT_ENTER_HELPER
39.6 OSPF/4/CONFLICT_IP_ADDRESS
39.7 OSPF/6/CONFLICT_ROUTERID_INTER
39.8 OSPF/4/CONFLICT_ROUTERID_INTF
39.9 OSPF/4/CONFLICT_ROUTERID_INTRA
39.10 OSPF/6/ENTER_HELPER
39.11 OSPF/6/EXIT_HELPER
39.12 OSPF/4/HELPER_EXIT_RECV_LSA
39.13 OSPF/6/HELPER_TIMER_FIRED
39.14 OSPF/6/IF_NO_RES_NBR_EXIT
39.15 OSPF/6/LDP_SYNC_CREA
39.16 OSPF/6/LDP_SYNC_EVENT
39.17 OSPF/6/LDP_SYNC_FIRE
39.18 OSPF/6/LSA_SEQ_WRAP
39.19 OSPF/6/NBR_CHANGE
39.20 OSPF/3/NBR_DOWN_REASON
文档版本 09 (2017-09-04) 华为专有和保密信息 334
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 39 OSPF
39.21 OSPF/3/OSPF_ABNORMAL_EXIT_GRHELPER
39.22 OSPF/5/OSPF_ABNORMAL_LSA_UPDATE
39.23 OSPF/0/OSPF_RCV_VERIFICATION
39.24 OSPF/3/OSPF_SEQ_MIS_RESMOOTH
39.25 OSPF/0/OSPF_SMOOTH
39.26 OSPF/0/RCV_ERR_MESSAGE
39.27 OSPF/3/RCV_ERR_PACKET
39.28 OSPF/6/RECV_DIFF_GRACE_LSA
39.29 OSPF/6/RECV_ROUT_LIMIT_MSG
39.30 OSPF/6/STUB_RT_ONBT_TM_CRT
39.31 OSPF/6/STUB_RT_TM_FIRE
文档版本 09 (2017-09-04) 华为专有和保密信息 335
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 39 OSPF
39.1 OSPF/4/AUTO_CHG_RTRID
日志信息
OSPF/4/AUTO_CHG_RTRID: OSPF automatically changes the router ID when detecting
router ID conflict in the area. (ProcessId=[ProcessId], NewRouterId=[ConflictRtId],
OldRouterId=[RouterId], ConflictRtrIdNum=[ConflictCount])
日志含义
OSPF在区域内检测到路由器标识冲突后，自动更改路由标识。
日志参数
参数名称 参数含义
ProcessId 进程号。
NewRouterId 新选择的路由器标识。
OldRouterId 原有的路由器标识。
ConflictRtrIdNum 路由器标识冲突的次数。
可能原因
在一个区域内有至少两台非直连设备的Router ID配置相同，导致Router LSA不断刷
新，路由振荡。
处理步骤
步骤1 如果缺省情况下使能了undo ospf router-id auto-recover disable的功能，则当区域内发
现Router ID冲突后，系统会自动恢复。
步骤2 如果系统无法自动恢复，则需要手动修改Router ID。
----结束
39.2 OSPF/6/BAD_IP_PACKET
日志信息
OSPF/6/BAD_IP_PACKET: OSPF Recv Bad packet (Process=[Process-Id], Type=[Type],
SourceAddr=[SorceAddr], DestAddr=[DestAddr], IP len=[IPLen], OSPF Header-
Len=[OspfLen])
日志含义
OSPF进程收到一个错误报文。
文档版本 09 (2017-09-04) 华为专有和保密信息 336
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 39 OSPF
日志参数
参数名称 参数含义
Process 进程号。
Type 报文类型。
SourceAddr 报文源IP地址。
DestAddr 报文目的IP地址。
IP len 报文长度。
OSPF Header-Len 报文头长度。
可能原因
OSPF进程收到一个错误报文。
处理步骤
l 请联系华为技术支持工程师。
----结束
39.3 OSPF/6/BAD_LSA
日志信息
OSPF/6/BAD_LSA: OSPF Received bad LSA. (ErrorType=[ErrType],
ErrorInformation=[ErrInfo], ProcessId=[ProcessId], InterfaceName=[IfName],
LsaType=[LsaType], AdvertisingRouter=[AdvRtr], LinkStateId=[LSID], Count=[Counter])
日志含义
15分钟内收到第一个错误的OSPF LSA，针对每种错误类型进行抑制，不同错误类型之
间不会互相影响。
日志参数
参数名称 参数含义
ErrorType 报文错误类型。
ErrorInformation 报文关键错误信息。
ProcessId 进程标识。
InterfaceName 接口名称。
LsaType LSA类型。
AdvertisingRouter LSA宣告路由器。
LinkStateId 链路状态标识。
文档版本 09 (2017-09-04) 华为专有和保密信息 337
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 39 OSPF
参数名称 参数含义
Count 该错误类型报文统计计数。每次打印日志时都清0，也就是说计数
的是上次打印日志和这次打印日志之间的该错误类型报文数。
可能原因
当收到错误的LSA，例如LSA的checksum发生错误等原因，会发送该条日志。对于相同
类型的错误LSA，则进行了15分钟抑制。
处理步骤
步骤1 请检查发送该错误LSA的设备。
步骤2 请联系华为技术支持工程师。
----结束
39.4 OSPF/6/BAD_LSU_PKT
日志信息
OSPF/6/BAD_LSU_PKT: OSPF Recv Bad packet (Process=[Process-Id], Type=[Type],
SourceAddr=[SorceAddr], DestAddr=[DestAddr], IP len=[IPLen], OSPF Header-
Len=[OspfLen], LSA count=[LsaCount])
日志含义
OSPF进程收到一个错误报文。
日志参数
参数名称 参数含义
Process 进程号。
Type 报文类型。
SourceAddr 报文源IP地址。
DestAddr 报文目的IP地址。
IP len 报文长度。
OSPF Header-Len 报文头长度。
LSA count LSA的数量。
可能原因
OSPF进程收到一个错误报文。
文档版本 09 (2017-09-04) 华为专有和保密信息 338
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 39 OSPF
处理步骤
l 请联系华为技术支持工程师。
----结束
39.5 OSPF/6/CANNOT_ENTER_HELPER
日志信息
OSPF/6/CANNOT_ENTER_HELPER: OSPF [ProcessId] cannot act as helper,
Reason=[Reason].
日志含义
不能进入到Helper模式。
日志参数
参数名称 参数含义
[ProcessId] 进程号。
[Reason] 不能进入到Helper模式的原因：
l 0：运行OSPF进程的接口没有使能Helper模式
l 1：Helper和Restarter的GR配置不匹配
l 2：Helper本从Restart收到的Grace-LSA中的邻居ID，与本设备维护的
邻居列表不匹配
l 3：本端无法进入Helper模式，因为邻居没有达到Full状态
l 4：正在重启的邻居的重传列表中含有变化的LSA
l 5：本接口已经成为某邻居的Helper
l 6：Helper不能通过策略
l 7：GR周期错误
l 8：GR原因错误
可能原因
进入Helper模式失败。
处理步骤
l 正常运行信息，无需处理。
----结束
文档版本 09 (2017-09-04) 华为专有和保密信息 339
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 39 OSPF
39.6 OSPF/4/CONFLICT_IP_ADDRESS
日志信息
OSPF/4/CONFLICT_IP_ADDRESS: IP addresses of DRs in an intra area conflict.
(ProcessId=[ProcessId], AreaId=[AreaId], SelfIfnetIndex=[SelfIfnetIndex],
NbrIpAddr=[NbrIpAddr], RouterId=[RouterId], InterfaceIpAddress=[InterfaceIpAddress],
InterfaceName=[InterfaceName])
日志含义
区域内DR的IP地址冲突。
日志参数
参数名称 参数含义
ProcessId 进程号。
AreaId 区域标识。
SelfIfnetIndex 接口索引。
NbrIpAddr 邻居IP地址。
RouterId 路由器标识。
InterfaceIpAddress 接口IP地址。
InterfaceName 接口名称。
可能原因
同一个区域内的非直连的两台配置了相同的IP地址，其中一台作为DR发布network
LSA，导致路由不断振荡。
处理步骤
步骤1 修改冲突的IP地址，保证在同一个区域内接口不使用相同的IP地址。
----结束
39.7 OSPF/6/CONFLICT_ROUTERID_INTER
日志信息
OSPF/6/CONFLICT_ROUTERID_INTER: OSPF router ID conflict may have occurred in
inter-area.(ProcessId=[ProcessId], RouterId=[RouterId])
日志含义
由于外部路由不断刷新，提示用户OSPF可能发生区域间标识冲突。
文档版本 09 (2017-09-04) 华为专有和保密信息 340
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 39 OSPF
日志参数
参数名称 参数含义
ProcessId 进程号。
RouterId 标识。
可能原因
在一个区域内有至少两台非直连设备的router id配置相同，导致router lsa不断刷新，路
由振荡。
处理步骤
步骤1 检查外部路由振荡原因，如果存在区域间router id冲突，请修改router id配置。
----结束
39.8 OSPF/4/CONFLICT_ROUTERID_INTF
日志信息
OSPF/4/CONFLICT_ROUTERID_INTF: OSPF router ID conflict is detected on the
interface.(ProcessId=[ProcessId], RouterId=[RouterId], AreaId=[AreaId],
InterfaceName=[InterfaceName], IpAddr=[IpAddr], PacketSrcIp=[PacketSrcIp])
日志含义
OSPF在接口上检测到标识冲突。
日志参数
参数名称 参数含义
ProcessId 进程号。
RouterId 标识。
AreaId 区域标识。
InterfaceName 接口名称
IpAddr IP地址。
PacketSrcIp 报文源地址。
可能原因
直连接口配置冲突的router id触发。
文档版本 09 (2017-09-04) 华为专有和保密信息 341
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 39 OSPF
处理步骤
步骤1 通过接口找到冲突的router id，修改router id配置。
----结束
39.9 OSPF/4/CONFLICT_ROUTERID_INTRA
日志信息
OSPF/4/CONFLICT_ROUTERID_INTRA: Router IDs conflict in an intra area.
(ProcessId=[ProcessId], AreaId=[AreaId], SelfIfnetIndex=[SelfIfnetIndex],
NbrIpAddr=[NbrIpAddr], RouterId=[RouterId], NbrRtrId=[NbrRtrId])
日志含义
OSPF在区域内检测到标识冲突。
日志参数
参数名称 参数含义
ProcessId 进程号。
AreaId 区域标识。
SelfIfnetIndex 接口索引。
NbrIpAddr 邻居IP地址。
RouterId 标识。
NbrRtrId 邻居路由器标识。
可能原因
在一个区域内有至少两台非直连设备的Router ID配置相同，导致router lsa不断刷新，路
由振荡。
处理步骤
步骤1 修改冲突的Router ID，保证网络上在同一个区域内没有设备的router id配置重复。
----结束
39.10 OSPF/6/ENTER_HELPER
日志信息
OSPF/6/ENTER_HELPER: OSPF [ProcessId] enter helper successfull.
文档版本 09 (2017-09-04) 华为专有和保密信息 342
版权所有 © 华为技术有限公司