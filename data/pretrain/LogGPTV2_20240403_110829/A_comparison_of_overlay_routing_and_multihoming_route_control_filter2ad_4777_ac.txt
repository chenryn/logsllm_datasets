m
o
h
i
t
l
u
m
-
1
2.2
2
1.8
1.6
1.4
1.2
1
Atlanta
Bay Area
Boston
Chicago
Dallas
Los Angeles
New York
Seattle
Washington D C
i
g
n
m
o
h
i
t
l
u
m
-
1
o
t
e
v
i
t
l
a
e
r
s
y
a
l
r
e
v
o
-
k
2.2
2
1.8
1.6
1.4
1.2
1
Atlanta
Bay Area
Boston
Chicago
Dallas
Los Angeles
New York
Seattle
Washington D C
1
2
3
4
5
6
7
8
1
2
3
4
5
6
7
8
Number of Providers (k)
(a) Relative RTTs
Number of Providers (k)
(b) Throughput (pessimistic)
Figure 5: Beneﬁts of k-overlays: The RTT of 1-multihoming
relative to k-overlays is shown in (a) and throughput (pes-
simistic estimate) of k-overlays relative to 1-multihoming is
shown in (b).
1-Multihoming versus k-overlays. In Figure 5(a), we show the
RTT performance of 1-multihoming relative to k-overlays as a func-
tion of k. Notice that k-overlay routing achieves 25–80% better
RTT performance than 1-multihoming, for k = 3. Notice also, that
the RTT performance from k-overlay routing, for k (cid:21) 3, is about
5–20% better than that from 1-overlay routing. Figure 5(b) simi-
larly compares the throughput performance of k-overlays relative
to 1-multihoming, for the pessimistic estimate. Again, 3-overlay
routing, for example, is 20–55% better than 1-multihoming and
about 10–25% better than 1-overlay routing. The beneﬁt beyond
k = 3 is marginal across most cities, for both RTT as well as
throughput.
Summary. Both k-multihoming and k-overlay routing offer sig-
niﬁcantly better performance than 1-multihoming, in terms of both
RTT and throughput.
In addition, k-overlay routing, for k (cid:21) 3
achieves signiﬁcantly better performance compared to 1-overlay
routing (5–20% better according to RTT and 10–25% better ac-
cording to throughput).
5.5 k-Multihoming versus 1-Overlays
So far, we have evaluated multihoming route control (i.e., k-
multihoming for k (cid:21) 2) and overlay routing in isolation of each
other. In what follows, we provide a head-to-head comparison of
the two systems. First, in this section, we allow end-points the
ﬂexibility of multihoming route control and compare the resulting
performance against 1-overlays.
In Figure 6, we plot the performance of k-multihoming relative
to 1-overlay routing. Here, we compute the average ratio of the
best RTT or throughput to a particular destination, as achieved by
either technique. The average is taken over paths from each city
to destinations in other cities, and over time instants for which we
have a valid measurement over all ISPs in the city.3 We also note
that in all but three cities, the best 3-multihoming providers accord-
ing to RTT were the same as the best 3 according to throughput; in
the three cities where this did not hold, the third and fourth best
providers were simply switched and the difference in throughput
performance between them was less than 3%.
3Across all cities, an average of 10% of the time instants did not
have a valid measurement across all providers; nearly all of these
cases were due to limitations in our data collection infrastructure,
and not failed download attempts.
y
a
l
r
e
v
o
-
1
o
t
e
v
i
t
l
a
e
r
i
g
n
m
o
h
i
t
l
u
m
-
k
1.7
1.6
1.5
1.4
1.3
1.2
1.1
1
0.9
0.8
Atlanta
Bay Area
Boston
Chicago
Dallas
Los Angeles
New York
Seattle
Washington D C
1
2
3
4
5
6
7
8
Number of providers (k)
(a) Relative RTTs
i
g
n
m
o
h
i
t
l
u
m
-
k
o
t
e
v
i
t
l
a
e
r
y
a
l
r
e
v
o
-
1
1.7
1.6
1.5
1.4
1.3
1.2
1.1
1
0.9
0.8
Atlanta
Bay Area
Boston
Chicago
Dallas
Los Angeles
New York
Seattle
Washington D C
1
2
3
4
5
6
7
8
Number of providers (k)
(b) Throughput (pessimistic)
Figure 6: Multihoming versus 1-overlays: The RTT of k-
multihoming relative to 1-overlays is shown in (a) and through-
put (pessimistic) of 1-overlays relative to k-multihoming in (b).
The comparison according to RTT is shown in Figure 6(a). The
relative performance advantage of 1-overlays is less than 5% for
k = 3 in nearly all cities. In fact, in some cities, e.g., Bay Area and
Chicago, 3-multihoming is marginally better than overlay routing.
As the number of ISPs is increased, multihoming is able to provide
shorter round-trip times than overlays in many cities (with the ex-
ception of Seattle). Figure 6(b) shows relative beneﬁts according to
the pessimistic throughput estimate. Here, multihoming for k (cid:21) 3
actually provides 2–12% better throughput than 1-overlays across
all cities. The results are similar for the optimistic computation and
are omitted for brevity.
Summary. The performance advantages of 1-overlays are vastly
reduced (or eliminated) when the end-point is allowed greater ﬂex-
ibility in the choice of BGP paths via multihoming route control.
5.6 k-Multihoming versus k-Overlays
In the previous section, we evaluated 1-overlay routing, where
In
all overlay paths start from a single ISP in the source city.
this section, we allow overlays additional ﬂexibility by permitting
them to initially route through more of the available ISPs in each
source city. Speciﬁcally, we compare the performance beneﬁts of
k-multihoming against k-overlay routing.
In the case of k-overlays, the overlay path originating from a
source node may traverse any intermediate nodes, including those
located in the same city as the source. Notice that the performance
from k-overlays is at least as good as that from k-multihoming
(since we allow overlays to take the direct path). The question,
then, is how much more advantage do overlays provide if multi-
homing is already employed by the source.
Round-trip time performance. Figure 7(a) shows the improve-
ment in RTT for k-multihoming relative to k-overlays, for various
values of k. We see that on average, for k = 3, overlays provide
5–15% better RTT performance than the best multihoming solu-
tion in most of the cities in our study. In a few cities the beneﬁt is
greater (e.g. Seattle and Bay Area). The performance gap between
multihoming and overlays is less signiﬁcant for k (cid:21) 4.
Figure 7(b) shows the distribution of the number of overlay hops
in the paths selected by 3-overlay routing optimized for RTT. The
best overlay path coincides with the best 3-multihoming BGP path
in 64% of the cases, on average across all cities (Seattle and the
Bay area are exceptions). Recall that the corresponding fraction
for 1-overlay routing in Figure 3(b) was 54%. With more ISPs to
links to choose from, overlay routing selects a higher fraction of
direct BGP paths, as opposed to choosing from the greater number
of indirect paths also afforded by multihoming.
y
a
l
r
e
v
o
-
k
o
t
e
v
i
t
l
a
e
r
i
g
n
m
o
h
i
t
l
u
m
-
k
1.7
1.6
1.5
1.4
1.3
1.2
1.1
1
1
Atlanta
Bay Area
Boston
Chicago
Dallas
Los Angeles
New York
Seattle
Washington D C
2
3
4
5
6
7
8
Number of Providers (k)
(a) Relative RTTs
s
p
o
h
x
<
h
t
i
w
s
h
t
a
p
y
a
l
r
e
v
o
f
o
n
o
i
t
c
a
r
F
1
0.8
0.6
0.4
0.2
0
1
2
3
4
5
6
7
Number of overlay hops
(b) 3-Overlay path length
Atlanta
Bay Area
Boston
Chicago
Dallas
Los Angeles
New York
Seattle
Washington D C
the underlying distributions in the performance differences along
the paths we measure. Our goal in this section is to understand if
the averages are particularly skewed by: (1) certain destinations,
for each source city or (2) a few measurement samples on which
overlays offer signiﬁcantly better performance than multihoming
or (3) by time-of-day or day-of-week effects.
Figure 7: Round-trip time improvement: Round-trip time
from k-multihoming relative to k-overlay routing, as a func-
tion of k, is shown in (a). In (b), we show the distribution of the
number of overlay hops in the best k-overlay paths, for k=3.
i
g
n
m
o
h
i
t
l
u
m
-
k
o
t
e
v
i
t
l
a
e
r
y
a
l
r
e
v
o
-
k
1.7
1.6
1.5
1.4
1.3