n 显示“Routing Problem:Bad EXPLICIT_ROUTE object.”或者“Routing
Problem:Bad initial subobject.”，表示入节点没有使能CSPF，但配置了错
误的显式路径，检查并配置正确的显式路径。
○ 问题解决，请执行步骤4。
○ 否则请执行步骤3。
n 显示“Routing Problem:No route available toward destination.”，表示隧道
入节点和中间节点都没有使能CSPF，配置了错误的显式路径或者没有到
达目的地址的路由，检查IGP及显式路径的配置。
○ 问题解决，请执行步骤4。
○ 否则请执行步骤3。
n 显示“Service preempted”，表示该隧道资源被抢占了，根据实际需要修
改Tunnel接口下配置的抢占优先级。
○ 问题解决，请执行步骤4。
○ 否则请执行步骤3。
n 显示“Admission Control failure”表示入节点使能了CSPF，下游节点未
使能CSPF，且CSPF在入节点上沿显式路径计算带宽足够，但下游节点的
链路带宽不足，检测显式路径及带宽配置。
○ 问题解决，请执行步骤4。
○ 否则请执行步骤3。
n 其它类型的错误请执行步骤4。
– 如没有提示错误提示，请执行步骤3。
3. 执行命令display mpls lsp statistics，检查当前LSP数量是否超出规格限制。
4. 请收集日志信息和配置信息，并联系技术支持人员。
步骤4 原因4：The out interface of the RSVP LSP ingress is down.
文档版本 06 (2017-09-12) 华为专有和保密信息 503
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
1. 检查当前Tunnel的出接口配置和状态，排除出接口问题。
2. 请收集日志信息和配置信息，并联系技术支持人员。
步骤5 原因5：The resource of RSVP LSP is preempted.
1. 根据实际需要修改Tunnel接口下配置的抢占优先级。
2. 请收集日志信息和配置信息，并联系技术支持人员。
步骤6 原因6：RSVP message timeout.
1. 请收集日志信息和配置信息，并联系技术支持人员。
步骤7 原因7：RSVP neighbor lost.
1. 检查当前Tunnel整条链路下游节点并排除故障。
2. 请收集日志信息和配置信息，并联系技术支持人员。
步骤8 原因8：The bypass-tunnel is down or is unbinded with main tunnel, as bypass-tunnel is in
used.
1. 执行命令display mpls te tunnel-interface，查看旁路隧道状态，则根据隧道状态排
除旁路隧道故障。
– 如果旁路隧道Up后问题已解决，请执行步骤3。
– 否则，请执行步骤2。
2. 执行命令display mpls te tunnel verbose，查看主隧道bypass的绑定关系，及排除绑
定关系故障后问题是否解决。
3. 请收集日志信息和配置信息，并联系技术支持人员。
步骤9 原因9：CSPF fails to compute.
1. 表示入节点使能了CSPF，但CSPF算路失败，检查显式路径是否配置正确，IGP协
议是否使能MPLS TE，路由配置是否正确。
2. 请收集日志信息和配置信息，并联系技术支持人员。
步骤10 原因10：User shutdown.
1. 在该隧道接口视图下执行undo shutdown命令。
2. 请收集日志信息和配置信息，并联系技术支持人员。
----结束
52.18 MPLS_LSPM/3/hwMplsTunnelOrdinaryDown_clear
日志信息
MPLS_LSPM/3/hwMplsTunnelOrdinaryDown_clear: The ordinary LSP of the tunnel
changes to Up. (SessionTunnelId=[INTEGER], TunnelInstIndex=[integer],
IngressLsrId=[integer], EgressLsrId=[integer], mplsTunnelIfName=[octet])
日志含义
隧道普通备份LSP建立成功。
文档版本 06 (2017-09-12) 华为专有和保密信息 504
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
日志参数
参数名称 参数含义
SessionTunnelId 隧道标识。
TunnelInstIndex Tunnel的InstIndex。
IngressLsrId 头节点地址。
EgressLsrId 目的地址。
mplsTunnelIfName Tunnel的接口名称
可能原因
隧道普通备份LSP建立成功。
处理步骤
l 正常运行信息，无需处理。
----结束
52.19 MPLS_LSPM/2/hwMplsTunnelPrimaryDown_active
日志信息
MPLS_LSPM/2/hwMplsTunnelPrimaryDown_active: The primary LSP of the tunnel changes
to Down. (SessionTunnelId=[SessionTunnelId], TunnelInstIndex=[TunnelInstIndex],
IngressLsrId=[IngressLsrId], EgressLsrId=[EgressLsrId],
mplsTunnelIfName=[mplsTunnelIfName],
hwMplsTunnelDownReason=[hwMplsTunnelDownReason],
hwMplsTunnelDownLSRId=[hwMplsTunnelDownLSRId],
hwMplsTunnelDownIfAddrType=[hwMplsTunnelDownIfAddrType],
hwMplsTunnelDownIfAddr=[hwMplsTunnelDownIfAddr])
日志含义
隧道主LSP进入Down状态。
日志参数
参数名称 参数含义
SessionTunnelId Tunnel ID。
TunnelInstIndex Tunnel的InstIndex。
IngressLsrId Tunnel的入节点LSR ID。
EgressLsrId Tunnel的出节点LSR ID。
文档版本 06 (2017-09-12) 华为专有和保密信息 505
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
参数名称 参数含义
mplsTunnelIfName Tunnel的接口名称。
可能原因
原因1：接口状态变为Down。
原因2：删除隧道相关配置。
原因3：链路发生故障。
处理步骤
步骤1 在入节点（即产生该条告警的节点）上执行命令display mpls te tunnel-interface tunnel-
name查看隧道的配置：通过查看Tunnel State Desc字段检查Tunnel是否处于Down状态。
执行命令display mpls te tunnel-interface last-error，查看出错提示。
l 如有以下错误提示：
– 显示“Cspf failed to calculate a path for Tunnel.”，表示入节点使能了CSPF，
但CSPF算路失败，请执行步骤2。
– 显示“Trigger Rsvp failed.”请执行步骤2。
– 显示“One LSP is deleted at smooth period.”请执行步骤6。
– 显示“One LSP is deleted at Tunnel aging period”请执行步骤6。
– 其它类型的错误，请执行步骤6。
l 如没有提示错误提示请执行步骤2。
步骤2 在入节点上执行ping命令检查能否Ping通Tunnel的目的地址。
l 如果不能ping通，请排除路由故障，使入节点能够Ping通Tunnel的目的地址，然后
查看是否出现MPLS_LSPM_1.3.6.1.2.1.10.166.3.0.1 mplsTunnelUp的告警。
– 是，请执行步骤7。
– 不是，请执行步骤3。
l 如果能够ping通，请执行步骤3。
步骤3 在入节点的MPLS视图下执行display this命令，检查是否配置了mpls te cspf命令，即检
查系统是否使能了CSPF。
l 是，请执行步骤4。
l 不是，请执行步骤5。
步骤4 在入节点上执行display mpls te cspf destination命令检查是否存在满足指定约束条件的
路径。如果有，则显示该TE隧道的路径，表示CSPF算路成功，否则显示结果为空，表
示算路失败。
步骤5 执行命令display explicit-path查看在Tunnel沿途经过的各接口并在各个接口的接口视图
下执行display this命令，检查通往目的地址的接口是否使能了MPLS、MPLS TE和
RSVP-TE。
l 如果未使能，在接口视图下执行mpls、mpls te和mpls rsvp-te命令。
l 如果发现接口状态处于非Up状态，请重启接口。即，在接口视图执行shutdown，
然后执行undo shutdown，或在接口视图下执行restart命令。
之后，查看是否出现MPLS_LSPM_1.3.6.1.2.1.10.166.3.0.1 mplsTunnelUp的告警。
文档版本 06 (2017-09-12) 华为专有和保密信息 506
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
l 是，请执行步骤7。
l 不是，请执行步骤6。
步骤6 请收集该设备的告警信息、日志信息和配置信息，并联系技术支持人员。
步骤7 结束。
----结束
52.20 MPLS_LSPM/2/hwMplsTunnelPrimaryDown_clear
日志信息
MPLS_LSPM/2/hwMplsTunnelPrimaryDown_clear: The down alarm about the primary LSP
in the tunnel was cleared.(SessionTunnelId=[SessionTunnelId],
TunnelInstIndex=[TunnelInstIndex], IngressLsrId=[IngressLsrId],
EgressLsrId=[EgressLsrId], mplsTunnelIfName=[mplsTunnelIfName])
日志含义
TE隧道主LSP状态变为Up。
日志参数
参数名称 参数含义
SessionTunnelId Tunnel ID。
TunnelInstIndex Tunnel的InstIndex。
IngressLsrId Tunnel的入节点LSR ID。
EgressLsrId Tunnel的出节点LSR ID。
mplsTunnelIfName Tunnel的接口名称。
可能原因
隧道主LSP建立成功。
处理步骤
l 正常运行信息，无需处理。
----结束
52.21 MPLS_LSPM/2/mplsTunnelDown_active
日志信息
MPLS_LSPM/2/mplsTunnelDown_active: Tunnel status changes to Down.
(TunnelId=[TunnelId], LocalLspId=[LocalLspId], IngressLsrId=[IngressLsrId],
EgressLsrId=[EgressLsrId], OutIfIndex=[OutIfIndex],
文档版本 06 (2017-09-12) 华为专有和保密信息 507
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
TunnelAdminStatus=[TunnelAdminStatus], TunnelOperStatus=[TunnelOperStatus],
TunnelName=[TunnelName], OutIfName=[OutIfName], SubReason=[SubReason],
Reason=[Reason])
日志含义
TE隧道不可用。
日志参数
参数名称 参数含义
TunnelId 隧道标识。
LocalLspId 隧道的LspId。
IngressLsrId 入节点LSR ID。
EgressLsrId 出节点LSR ID。
OutIfIndex 出接口索引。
TunnelAdminStatus 隧道的管理状态。
TunnelOperStatus 隧道的运行状态。
TunnelName 隧道名称。
OutIfName 出接口名称。
SubReason 告警子原因。
Reason 告警原因。
可能原因
原因1：Other.（其它。）
原因2：The out interface of the RSVP LSP ingress is down.（RSVP LSP的Ingress出接口状
态为Down。）
原因3：The resource of RSVP LSP is preempted.（RSVP LSP的资源被抢占。）
原因4：RSVP message timeout.（RSVP消息超时。）
原因5：RSVP neighbor lost.（RSVP Hello检测到下游节点故障。）
原因6：The bypass-tunnel is down or is unbinded with main tunnel, as bypass-tunnel is in
used.（旁路隧道处于“In Use”状态时，旁路隧道Down或与主隧道解绑定。）
原因7：CSPF fails to compute.（CSPF算路失败。）
文档版本 06 (2017-09-12) 华为专有和保密信息 508
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
原因8：User shutdown.（用户手动Shutdown隧道。）
处理步骤
l 原因1：Other.
a. 请收集该设备的告警信息、日志信息和配置信息，并联系技术支持人员。
l 原因2：The out interface of the RSVP LSP ingress is down.
a. 检查当前Tunnel的出接口配置和状态，排除出接口问题。
b. 请收集该设备的告警信息、日志信息和配置信息，并联系技术支持人员。
l 原因3：The resource of RSVP LSP is preempted.
a. 根据实际需要修改Tunnel接口下配置的抢占优先级。
b. 请收集该设备的告警信息、日志信息和配置信息，并联系技术支持人员。
l 原因4：RSVP message timeout.
a. 请收集该设备的告警信息、日志信息和配置信息，并联系技术支持人员。
l 原因5：RSVP neighbor lost.
a. 检查当前Tunnel整条链路下游节点并排除故障。
b. 请收集该设备的告警信息、日志信息和配置信息，并联系技术支持人员。
l 原因6：The bypass-tunnel is down or is unbinded with main tunnel, as bypass-tunnel is
in used.
a. 执行命令display mpls te tunnel-interface，查看旁路隧道状态，则根据隧道状
态排除旁路隧道故障。
n 如果旁路隧道Up后问题已解决，请执行步骤3。
n 否则，请执行步骤2。
b. 执行命令display mpls te tunnel verbose，查看主隧道bypass的绑定关系，及排
除绑定关系故障后问题是否解决。
c. 请收集该设备的告警信息、日志信息和配置信息，并联系技术支持人员。
l 原因7：CSPF fails to compute.
a. 表示入节点使能了CSPF，但CSPF算路失败，检查显式路径是否配置正确，
IGP协议是否使能MPLS TE，路由配置是否正确。
b. 请收集该设备的告警信息、日志信息和配置信息，并联系技术支持人员。
l 原因8：User shutdown.
a. 在该隧道接口视图下执行undo shutdown命令。
b. 请收集该设备的告警信息、日志信息和配置信息，并联系技术支持人员。
----结束
52.22 MPLS_LSPM/2/mplsTunnelDown_clear
日志信息
MPLS_LSPM/2/mplsTunnelDown_clear: Tunnel status changes to Up.
(TunnelId=[TunnelId], LocalLspId=[LocalLspId], IngressLsrId=[IngressLsrId],
EgressLsrId=[EgressLsrId], OutIfIndex=[OutIfIndex],
TunnelAdminStatus=[TunnelAdminStatus], TunnelOperStatus=[TunnelOperStatus],
TunnelName=[TunnelName], OutIfName=[OutIfName], SubReason=[SubReason])
文档版本 06 (2017-09-12) 华为专有和保密信息 509
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
日志含义
TE隧道建立成功，状态变为Up，将产生此告警。
日志参数
参数名称 参数含义
TunnelId 隧道标识。
LocalLspId 隧道的LspId。
IngressLsrId 入节点LSR ID。
EgressLsrId 出节点LSR ID。
OutIfIndex 出接口索引。
TunnelAdminStatus 隧道的管理状态。
TunnelOperStatus 隧道的运行状态。
TunnelName 隧道名称。
OutIfName 出接口名称。
SubReason 告警子原因。
可能原因
TE隧道建立成功。
处理步骤
l 正常运行信息，无需处理。
----结束
52.23 MPLS_LSPM/2/
hwMplsTunnelHotstandbyDown_active
日志信息
MPLS_LSPM/2/hwMplsTunnelHotstandbyDown_active: The hot-standby LSP of the tunnel
changes to Down. (SessionTunnelId=[SessionTunnelId], TunnelInstIndex=[TunnelInstIndex],
IngressLsrId=[IngressLsrId], EgressLsrId=[EgressLsrId],
mplsTunnelIfName=[mplsTunnelIfName],
hwMplsTunnelDownReason=[hwMplsTunnelDownReason],
文档版本 06 (2017-09-12) 华为专有和保密信息 510
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 52 MPLS_LSPM
hwMplsTunnelDownLSRId=[hwMplsTunnelDownLSRId],
hwMplsTunnelDownIfAddrType=[hwMplsTunnelDownIfAddrType],
hwMplsTunnelDownIfAddr=[hwMplsTunnelDownIfAddr])
日志含义
隧道热备份LSP进入Down状态。
日志参数
参数名称 参数含义
SessionTunnelId 隧道标识。
TunnelInstIndex Tunnel的InstIndex。
IngressLsrId Tunnel入节点的LSR ID。
EgressLsrId Tunnel出节点的LSR ID。
mplsTunnelIfName Tunnel接口的名称。
hwMplsTunnelDownReason Tunnel进入Down状态的原因。
hwMplsTunnelDownLSRId 出错节点的LSR ID。
hwMplsTunnelDownIfAddrType 出错接口的IP地址类型。
hwMplsTunnelDownIfAddr 出错接口的IP地址。
可能原因
原因1：接口状态变为Down。
原因2：删除隧道相关配置。
原因3：链路发生故障。