云数据库服务 ECS自建
优势 劣势 优势 劣势
• Ali内核，淘宝大促验证过的云数据库； • 贵，成本是ECS自建的1.4—2倍； • 成本低； • 开源内核，不稳定，依赖社区做bug修
• 高可用，99.99%可用性； • 灵活性差，不开放主机和数据库 • 自主运维，从OS到DB，掌控 复；
• 全托管，简单易用； 权限； 力强； • 自主搭建高可用，存在数据一致性漏洞；
• 完善的备份、恢复、回档； • 底层运维依赖于阿里支持体系， • 从头到尾体现DBA价值； • 生态支持工具不完整，需要自主搭建；
• DAS，DMS工具支持； 不能自主操作； • 运维管理投入成本高；
云数据库服务形态变化
客户 客户 客户 B
A 客户 B A
VPC1 VPC2
实例 实例 实例
实例1 实例2 实例3 实例4 实例5 实例6 实例7 实例8 实例9 实例1 实例2 实例3 实例4 实例5 实例6 实例7 实例8 实例9
10 11 12
物理机1 物理机2 物理机3 物理机1 物理机2 物理机3 物理机4
资源池 资源池
独占资源 相互隔离
共用资源池
、
MyBase
杜绝了客户之间的干扰
MyBase
云数据库专属集群使用简便
、创建集群
1
https://www.aliyun.com/product/apsaradb/cddc
、部署实例
3
、添加主机
2
1
数据库发展历程
目录
2
下一代云数据库MyBase
CONTENTS
3
MyBase关键能力：降本增效
4
MyBase云专属之: PG数据库引擎
资源超配能力
CPU 超卖比 200%
Redis 和 MySQL 混布
MySQL Redis
CPU 12 core CPU 4 core
Mem 12GB Mem 128 GB
8 core CPU ，设置 200% 超卖比，相当于可以开出 不同资源类型数据库混布，提高主机资源利用率
16 core CPU 的实例，客户单 core 成本降低一半
除了 CPU，我们还支持内存，磁盘超卖设置
合理利用超卖比，利用业务错峰实现更高资源利用率
A业务早高峰 资源利用率 60% 资源利用率 20% B业务早低峰
A业务晚低峰 资源利用率 20% 资源利用率 60% B业务晚高峰
以MySQL为例，降低TCO成本
HA实例（月） 专属集群 ECS自建
折算成实例价格 786 1480
专属集群相比 53%
逻辑：
1、专属集群：采购三台主机，月度费用28305元/月；按照4U8G500G实例来进行部署（36个HA实例），
每个HA的摊薄成本为786元/月。
2、ECS自建数据库： 两台ECS自建数据库HA，价格为1480元/月。专属集群的实例成本约为ECS自建数据库
的53%
主机A 主机B 主机C
ECS自建 ECS自建
32U256G7T 32U256G7T 32U256G7T
9435元/月 9435元/月 9435元/月
4U8G500G 4U8G500G
S
M 740元/月 740元/月
主 从
S
M
S
M
注：1、均为SSD磁盘。
S M 2、ECS为 共享型（ecs.s6-c1m2.xlarge，最便宜），SSD云盘
开放OS权限
主机 主机 用户空间 rwx
/tmp 空间 rwx
数数据据库库空空间间r-x
管理员
系统空间 r-x
主机 OS 主机 OS
安全网络
堡垒机
智能调度
紧凑分布 均衡分布 主机清空/替换 实例腾挪
主机 主机 主机 主机 主机 主机 主机 主机
优先填满一台主机 平均分布到主机 可以将主机上的实例 可以将主机上的实例
后使用其他主机 组下的所有主机 打散到其他主机 指定迁移到任意主机
1
数据库发展历程
目录
2
下一代云数据库MyBase
CONTENTS
3
MyBase关键能力：降本增效
4
MyBase云专属之: PG数据库引擎
用开源,为啥要:
“老司机、汽车修理工、汽车设计师”?
遇到架构、监控、优化等 无法满足业务需求怎么办?
遇到BUG怎么办?
问题怎么办?
社区BUG ~10Day+ (参考PG bug mail list):
1、DBA、SA有权查看、篡改、删除敏感数据.
1、报告社区 1Day
1、极端情况: 放弃治疗, 换数据库, 堆机器?...浪费时间、 2、等待社区修复, 理想情况 2~5Day 2、普通用户可以通过security invoker属性来设置陷
EOF的版本, 不提供patch. (每个大版本support 5~6年)
阱函数.
人力、资源. 还不一定能解决问题.
3、下载社区patch, 自行验证 5Day
2、自学, 学习、培养周期长. 人才成长流失问题. 4、制定升级计划, 升级 1Day 3、敏感信息(例如用户密码)可能明文出现在SQL审计
3、高端人才可遇不可求, 一对一 backup, 长期闲置. 成本 日志、历史SQL命令、共享内存(例如会话状态、
插件BUG ~xxDay+:
pg_stat_statements跟踪会话)、dblink视图、外部表
高 1、报告插件作者 1Day
2、等待作者修复. 5 ~ ? Day(漫长)
4、求助搜索引擎、社区咨询, 响应时间无法保障, 特别是 user mapping的定义中.
3、下载patch, 验证 5 Day
在深夜. 4、升级插件 1 Day
使用阿里云PG,还要什么“老司机”
遇到BUG怎么办?
遇到架构、监控、优化等 无法满足业务需求怎么办?
问题怎么办?
1、AliPG拥有大量商业用户, 覆盖众多行业, AliPG围
1、AliPG兼容开源PG, 阿里云专业内核团队为AliPG代码
1、资深PG专家资源池, 7*24 技术咨询. 兜底. 绕行业痛点, 不断扩展实用功能:
2、AliPG与公共云一套源码, 大量商业用户应用的选择,
2、DBA可以将更多时间投入到业务优化、架构设计等关 • 自研插件18款(详见产品手册),覆盖GIS,冷热分离,
有BUG已早修复.
键事务, 消除能效比较低的重复劳动. 3、云端, 用户点升级版本按钮, 或配置自动升级任务. 搜索,图像识别,安全加固等场景.
为什么企业纷纷选择阿里云PG
提前洞察行业需求, 用技术帮助客户突破商业边界.
提升业务体验价值
核心业务必要能力 成本、部署形态必要能力
更快
更稳、更安全 更灵活、更可控
PaaS多租户场景:
行业场景: 专属集群PG:
• 大并发大量元数据、大量连接优化.
• 图像识别、向量相似搜索.
• 开放OS权限,自主可控
• 资源隔离优化.
• 实时营销、用户画像.
• 自定义超卖, 降低成本.
• 短视频、实时推荐.
• 开放调度功能, 自定义调度策略.
安全加固场景:
• GIS MOD移动对象处理.
• 敏感信息加密, 函数调用陷阱规避,
• SGX全加密,
• 最大保护、最高可靠、最高可用模式,
• slot failover
小结
既要: 全自动(DB全生命周期管理, 自动化运维、诊断), 解放双手. -- 救DBA于水火
又要: 自主可控, 随心所欲. -- 开放OS权限开放数据库root用户
还要: 低成本、可定制、有内核兜(背)底(锅). -- 内核bug快速fix, 提新功能需求有研发支持
那么请使用: 阿里云数据库专属集群MyBase!
扫码获取
免费名额
大型集群
MyBase
谢 谢 观 看
T H A N K S F O R W AT C H I N G