User: 请回答以下安全问题在LocalStorage中首次登录时存储短期JWT是否安全？我正在阅读这个问题，但仍然对我的用例心存疑虑。
我知道由于XSS攻击，将JWT存储在本地/会话存储中是不安全的。但是，如果JWT在他们第一次登录时只持续1分钟，该怎么办？然后，客户端将使用它来获得更长、更安全的JWT，以便从那时起保持登录状态。
我正在使用第三方身份提供程序来处理初始登录。我必须这样做的原因是，他们返回JWT的API不支持httpOnly（无论出于何种原因）。在从服务器获得httpOnly cookie中的新JWT之前，我仍然需要将JWT临时存储在某个地方。或者我应该将其存储在状态中（我正在使用React）？
这种方法安全吗？我的理由是，即使他们真的得到了JWT，它也只会持续1分钟就到期了。
概述
用户在登录页面上输入凭据。身份提供者向客户端返回一个1分钟长的JWT。
客户端将JWT存储在本地存储中。
客户端在有效负载中使用步骤2中的JWT调用GET/getJWT。
服务器验证JWT。它发出一个持续15分钟的新JWT。服务器在httpOnly cookie中发送带有JWT的响应。

Assistant: 在这种情况下。我只会对通过后端生成的JWT令牌使用缓存机制。我不建议以任何方式使用会话存储或本地存储。您可能每两分钟左右触发一次JWT令牌轮换。但请注意，随着时间的推移，这可能会减慢应用的速度。
在最后一种情况下，没有什么可做的。我建议在服务器上使用服务器跨站点脚本头来防止XSS攻击，并使用隐藏的html标记来存储JWT令牌，如果您使用它，可能会通过AJAX调用发送每个请求。