## IMPORTANT: DevOps Kit (AzSK) Sunset Notice
Please be informed that the DevOps Kit (AzSK) will be sunset by the end of FY21. For more details, please refer to the [AzSK Sunset Notice](../ReleaseNotes/AzSKSunsetNotice.md).

----------------------------------------------
### List of 'ASC Default Initiative' Policies Enabled via AzSK

#### Mandatory ASC Policies
| Policy | Description |
| --- | --- |
| **Audit Remote Debugging State for an API App** | Remote debugging requires inbound ports to be opened on an API app. It is recommended to turn off remote debugging. |
| **Audit Remote Debugging State for a Function App** | Remote debugging requires inbound ports to be opened on a function app. It is recommended to turn off remote debugging. |
| **Audit Remote Debugging State for a Web Application** | Remote debugging requires inbound ports to be opened on a web application. It is recommended to turn off remote debugging. |
| **Audit HTTPS Only Access for an API App** | Use of HTTPS ensures server/service authentication and protects data in transit from network layer eavesdropping attacks. |
| **Audit HTTPS Only Access for a Function App** | Use of HTTPS ensures server/service authentication and protects data in transit from network layer eavesdropping attacks. |
| **Audit HTTPS Only Access for a Web Application** | Use of HTTPS ensures server/service authentication and protects data in transit from network layer eavesdropping attacks. |
| **Audit Enabling of Only Secure Connections to Your Redis Cache** | Ensure that only secure connections (via SSL) are enabled for your Redis Cache. This ensures server-to-service authentication and protects data in transit from network layer attacks such as man-in-the-middle, eavesdropping, and session-hijacking. |
| **Audit Usage of Azure Active Directory for Client Authentication in Service Fabric** | Ensure that client authentication in Service Fabric is performed only via Azure Active Directory. |
| **Audit the Setting of ClusterProtectionLevel Property to EncryptAndSign in Service Fabric** | Service Fabric provides three levels of protection (None, Sign, and EncryptAndSign) for node-to-node communication using a primary cluster certificate. Set the protection level to `EncryptAndSign` to ensure all node-to-node messages are encrypted and digitally signed. |
| **Audit SQL Servers Without Advanced Data Security** | Ensure that SQL servers have Advanced Data Security enabled. |
| **Audit Provisioning of an Azure Active Directory Administrator for SQL Server** | Ensure that an Azure Active Directory administrator is provisioned for your SQL server to enable Azure AD authentication. This simplifies permission management and centralizes identity management of database users and other Microsoft services. |
| **Monitor Unencrypted SQL Databases in Azure Security Center** | Unencrypted SQL databases will be monitored by Azure Security Center as recommendations. |
| **Audit Unrestricted Network Access to Storage Accounts** | Audit unrestricted network access in your storage account firewall settings. Configure network rules so that only applications from allowed networks can access the storage account. To allow connections from specific internet or on-premise clients, grant access to traffic from specific Azure virtual networks or public IP address ranges. |
| **Audit Secure Transfer to Storage Accounts** | Ensure that secure transfer is required in your storage account. This forces the storage account to accept requests only from secure connections (HTTPS). Use of HTTPS ensures authentication between the server and the service and protects data in transit from network layer attacks such as man-in-the-middle, eavesdropping, and session-hijacking. |
| **Audit External Accounts with Owner Permissions on a Subscription** | Remove external accounts with owner permissions from your subscription to prevent unmonitored access. |
| **Audit External Accounts with Write Permissions on a Subscription** | Remove external accounts with write permissions from your subscription to prevent unmonitored access. |
| **Audit External Accounts with Read Permissions on a Subscription** | Remove external accounts with read permissions from your subscription to prevent unmonitored access. |
| **Audit Deprecated Accounts on a Subscription** | Remove deprecated accounts from your subscriptions. Deprecated accounts are accounts that have been blocked from signing in. |
| **Audit Use of Classic Storage Accounts** | Use new Azure Resource Manager v2 for your storage accounts to provide security enhancements such as stronger access control (RBAC), better auditing, ARM-based deployment and governance, access to managed identities, key vault for secrets, Azure AD-based authentication, and support for tags and resource groups for easier security management. |
| **Audit Use of Classic Virtual Machines** | Use new Azure Resource Manager v2 for your virtual machines to provide security enhancements such as stronger access control (RBAC), better auditing, ARM-based deployment and governance, access to managed identities, key vault for secrets, Azure AD-based authentication, and support for tags and resource groups for easier security management. |
| **Monitor Unencrypted VM Disks in Azure Security Center** | VMs without disk encryption enabled will be monitored by Azure Security Center as recommendations. |
| **Monitor OS Vulnerabilities in Azure Security Center** | Servers that do not satisfy the configured baseline will be monitored by Azure Security Center as recommendations. |
| **Monitor VM Vulnerabilities in Azure Security Center** | Monitors vulnerabilities detected by the Vulnerability Assessment solution and VMs without a Vulnerability Assessment solution in Azure Security Center as recommendations. |
| **Monitor Missing Endpoint Protection in Azure Security Center** | Servers without an installed Endpoint Protection agent will be monitored by Azure Security Center as recommendations. |
| **Monitor Missing System Updates in Azure Security Center** | Missing security system updates on your servers will be monitored by Azure Security Center as recommendations. |
| **Audit OS Vulnerabilities on Your Virtual Machine Scale Sets in Azure Security Center** | Audit the OS vulnerabilities on your virtual machine scale sets to protect them from attacks. |
| **Audit the Endpoint Protection Solution on Virtual Machine Scale Sets in Azure Security Center** | Audit the existence and health of an endpoint protection solution on your virtual machine scale sets to protect them from threats and vulnerabilities. |
| **Audit Any Missing System Updates on Virtual Machine Scale Sets in Azure Security Center** | Audit whether there are any missing system security updates and critical updates that should be installed to ensure that your Windows and Linux virtual machine scale sets are secure. |
| **Monitor SQL Vulnerability Assessment Results in Azure Security Center** | Monitor Vulnerability Assessment scan results and recommendations for how to remediate database vulnerabilities. |
| **Audit Accounts with Owner Permissions Who Are Not MFA Enabled on a Subscription** | Multi-Factor Authentication (MFA) should be enabled for all subscription accounts with owner permissions to prevent a breach of accounts or resources. |
| **Audit Accounts with Write Permissions Who Are Not MFA Enabled on a Subscription** | Multi-Factor Authentication (MFA) should be enabled for all subscription accounts with write permissions to prevent a breach of accounts or resources. |
| **Audit Accounts with Read Permissions Who Are Not MFA Enabled on a Subscription** | Multi-Factor Authentication (MFA) should be enabled for all subscription accounts with read permissions to prevent a breach of accounts or resources. |
| **Audit Standard Tier of DDoS Protection Is Enabled for a Virtual Network** | Ensure that DDoS protection standard is enabled for all virtual networks with a subnet that is part of an application gateway with a public IP. |
| **Audit SQL Managed Instances Without Advanced Data Security** | Ensure that SQL managed instances have Advanced Data Security enabled. |

#### Optional ASC Policies
| Policy | Description |
| --- | --- |
| **Audit CORS Resource Access Restrictions for an API App** | Cross-Origin Resource Sharing (CORS) should not allow all domains to access your API app. Allow only required domains to interact with your API app. |
| **Audit CORS Resource Access Restrictions for a Function App** | Cross-Origin Resource Sharing (CORS) should not allow all domains to access your Function app. Allow only required domains to interact with your Function app. |
| **Audit CORS Resource Access Restrictions for a Web Application** | Cross-Origin Resource Sharing (CORS) should not allow all domains to access your web application. Allow only required domains to interact with your web app. |
| **Audit Enabling of Diagnostic Logs in App Services** | Ensure that diagnostic logs are enabled on the app. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Enablement of Encryption of Automation Account Variables** | Enable encryption of Automation account variable assets when storing sensitive data. |
| **Audit Enabling of Diagnostic Logs in Batch Accounts** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Configuration of Metric Alert Rules on Batch Accounts** | Ensure that metric alert rules are configured on Batch accounts to enable the required metrics. |
| **Audit Enabling of Diagnostic Logs in Data Lake Analytics** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Enabling of Diagnostic Logs in Azure Data Lake Store** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Enabling of Diagnostic Logs in Event Hub** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Authorization Rules on Event Hub Namespaces** | Event Hub clients should not use a namespace-level access policy that provides access to all queues and topics in a namespace. To align with the least privilege security model, create access policies at the entity level for queues and topics to provide access to only the specific entity. |
| **Audit Existence of Authorization Rules on Event Hub Entities** | Ensure that authorization rules exist on Event Hub entities to grant least-privileged access. |
| **Audit Enabling of Diagnostic Logs in Key Vault** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Enabling of Diagnostic Logs in Logic Apps** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Enabling of Diagnostic Logs for Search Service** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Enabling of Diagnostic Logs in Service Bus** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Authorization Rules on Service Bus Namespaces** | Service Bus clients should not use a namespace-level access policy that provides access to all queues and topics in a namespace. To align with the least privilege security model, create access policies at the entity level for queues and topics to provide access to only the specific entity. |
| **Audit Enabling of Diagnostics Logs in Service Fabric and Virtual Machine Scale Sets** | It is recommended to enable logs so that activity trails can be recreated when investigations are required in the event of an incident or a compromise. |
| **Audit SQL Server Level Auditing Settings** | Audits the existence of SQL Auditing at the server level. |
| **Monitor Unaudited SQL Servers in Azure Security Center** | SQL servers that do not have SQL auditing turned on will be monitored by Azure Security Center as recommendations. |
| **Audit Enabling of Diagnostic Logs in Azure Stream Analytics** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Audit Usage of Custom RBAC Rules** | Use built-in roles such as 'Owner', 'Contributor', and 'Reader' instead of custom RBAC roles, which are error-prone. Using custom roles is treated as an exception and requires a rigorous review and threat modeling. |
| **Audit Maximum Number of Owners for a Subscription** | It is recommended to designate up to 3 subscription owners to reduce the potential for a breach by a compromised owner. |
| **Audit Minimum Number of Owners for a Subscription** | It is recommended to designate more than one subscription owner to have administrator access redundancy. |
| **Audit Deprecated Accounts with Owner Permissions on a Subscription** | Deprecated accounts with owner permissions should be removed from your subscription. Deprecated accounts are accounts that have been blocked from signing in. |
| **[Preview]: Monitor Open Management Ports on Virtual Machines** | Open remote management ports expose your VM to a high level of risk from Internet-based attacks. These attacks attempt to brute force credentials to gain admin access to the machine. |
| **Monitor Internet-Facing Virtual Machines for Network Security Group Traffic Hardening Recommendations** | Azure Security Center analyzes the traffic patterns of Internet-facing virtual machines and provides Network Security Group rule recommendations to reduce the potential attack surface. |
| **Monitor Permissive Network Access in Azure Security Center** | Network Security Groups with overly permissive rules will be monitored by Azure Security Center as recommendations. |
| **[Preview]: Monitor IP Forwarding on Virtual Machines** | Enabling IP forwarding on a virtual machine's NIC allows the machine to receive traffic addressed to other destinations. IP forwarding is rarely required (e.g., when using the VM as a network virtual appliance), and therefore, this should be reviewed by the network security team. |
| **Audit Enabling of Diagnostic Logs in IoT Hubs** | Ensure that diagnostic logs are enabled. This enables you to recreate activity trails for investigation purposes if a security incident occurs or your network is compromised. |
| **Monitor Possible Network Just In Time (JIT) Access in Azure Security Center** | Possible network Just In Time (JIT) access will be monitored by Azure Security Center as recommendations. |
| **Monitor Possible App Whitelisting in Azure Security Center** | Possible Application Whitelist configuration will be monitored by Azure Security Center. |
| **Monitor Permissive Network Access of VMs Running Web-Apps in Azure Security Center** | Azure Security Center has discovered that some of your virtual machines are running web applications, and the NSGs associated with these virtual machines are overly permissive with regards to the web application ports. |
| **Monitor Unprotected Network Endpoints in Azure Security Center** | Network endpoints without Next Generation Firewall protection will be monitored by Azure Security Center as recommendations. |
| **[Preview]: Monitor SQL Data Discovery and Classification Recommendations in Azure Security Center** | Azure Security Center monitors the data discovery and classification scan results for your SQL databases and provides recommendations to classify sensitive data in your databases for better monitoring and security. |
| **Audit SQL Servers Without Vulnerability Assessment** | Ensure that Azure SQL servers have recurring vulnerability assessment scans enabled. Vulnerability assessment can discover, track, and help you remediate potential database vulnerabilities. |
| **Audit SQL Managed Instances Without Vulnerability Assessment** | Ensure that SQL managed instances have recurring vulnerability assessment scans enabled. Vulnerability assessment can discover, track, and help you remediate potential database vulnerabilities. |
| **[Preview]: Monitor Permissive Network Access to App-Services** | Azure Security Center has discovered that the networking configuration of some of your app services are overly permissive and allow inbound traffic from ranges that are too broad. |