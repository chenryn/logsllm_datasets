By construction, the expected values of each lottree must sum to
(cid:3)
S = lS = 0, so
(cid:3)
a = la. However, by WSI,
(cid:3)
S = la + lb + lS. By ZVR, l
one, i.e., l
(cid:3)
a + l
l
(cid:3)
a > la, which is a contradiction.
l
(cid:3)
b = la + lb. By USB, l
(cid:3)
b = lb, so l
(cid:3)
S, C, n).
(cid:3)
b + l
(cid:3)
a + l
The unavoidable absence of ZVR is not a major problem. As
described in Section 5.3, it is often possible to rescale the lottree
to ensure that a non-root node wins, without changing the expected
values to each node. In this case, the root has non-zero expected
value because it retains a fraction of the payout that is disbursed to
the winning node.
We can now state and easily prove our main theorem, which cap-
tures the optimality of the Pachira lottree scheme.
Algorithm 3 Simulation procedure
Input: Parameters STC, JTC, SAF, initSize, and ˆτ ,
Undirected social network graph G,
Lottree scheme L and payout amount AP ,
Valuation models for payout VP and time VT ,
Diffusion model D and contribution model C.
THEOREM 6.3. Pachira achieves a maximal satisﬁable subset
of desirable properties.
PROOF. By Lemmas 5.2–5.6, Pachira satisﬁes all desiderata ex-
cept SSI and ZVR. By Theorem 6.1, SSI is incompatible with VPC;
and by Theorem 6.2, ZVR is incompatible with WSI and USB.
7. EVALUATION
Output: Lottery tree TS.
1: Initialize TS to {Sys}
2: Select random node subset IS of size initSize from N (G)
3: for each n ∈ N (IS): add n to TS as child of Sys
4: for each simulation frame do
5:
6:
for each n ∈ N (TS) \ {Sys} do
Using L, AP , and VP , evaluate absolute and
relative perceived gains from successfully
soliciting new participants
In order to gain a better understanding of the solicitation and
participation generated by the Pachira lottree scheme, we conduct
extensive simulations. Our goals are:
• to derive good choices for the parameters β and δ
• to determine an appropriate payout amount based on target de-
• to determine the required count of initial participants to avoid
• to analyze the sensitivity of our evaluation to our modeling as-
ployment scale and expected participation effort
problems from the absence of SSI
sumptions and hidden parameters
7.1 Simulation framework
We use a frame-based simulator with a ﬁnite population of com-
puter users, each frame representing one day of simulated time.
The simulation procedure is presented in Algorithm 3. In outline,
the simulator ﬁrst establishes a small subset of the population as an
initial set (IS) of participants. Then, on each frame, each partic-
ipant decides whether to solicit other users: If the perceived gain
from soliciting outweighs the cost of sending a solicitation, the par-
ticipant solicits a subset of acquaintances. Each solicited person
ﬁrst decides whether to even consider joining; if he does consider
it, he evaluates the perceived gain from joining relative to the cost
of joining, and joins if the gain outweighs the cost.
7.1.1 Challenges
Because human behavior is notoriously difﬁcult to model, sim-
ulating a system involving humans is tremendously challenging.
The above simulation description implies the need for answers to
the following behavioral questions:
I) Which people are acquainted with which other people?
II) How do people perceive the beneﬁt from the lottery?
III) Does each solicitor consider other solicitors to be in competi-
tion for new participants?
IV) How do people perceive the cost of soliciting others and the
cost of joining the system?
V) How likely are people to even consider a solicitation?
VI) How much will each person contribute to the system?
7.1.2 Models
In our simulation, we deal with the above challenges by employ-
ing a set of theories and models that have been used and widely
accepted in literature on economics and cognitive psychology.
I) Social Network Model G: We model the acquaintanceship of
people using a social network model. Many such models have
been proposed [26], broadly classiﬁable as either random graphs or
Using SAF, compute overall perceived gain
Using VT , evaluate solicitation time cost STC
if perceived gain > solicitation cost then
Set θ = neighbors of n in G s.t. θ ∩ N (TS) = ∅
Set τ = min(|θ|, ˆτ )
Select random subset M of size τ from θ
for each m ∈ M do
Using D, decide whether m considers joining
if m considers joining then
Using L, AP , VP , and C, evaluate
perceived gain from joining system
Using VT , evaluate join time cost JTC
if perceived gain > join cost then
Add m to TS as child of n
end if
end if
end for
end if
end for
advance simulation time by one day
7:
8:
9:
10:
11:
12:
13:
14:
15:
16:
17:
18:
19:
20:
21:
22:
23:
24:
25:
26: end for
evolving networks. The general consensus is that a model for so-
cial networks should exhibit short average path length, high clus-
tering, broad degree distribution, and community structure. Our
default model, which satisﬁes these properties, is an evolving net-
work model proposed by Toivonen et al. [33]. In this model, net-
work growth is governed by two processes: (1) attachment to ran-
dom existing nodes and (2) attachment to the neighborhood of the
selected random node. The model is characterized by three para-
meters, pInit, Range, and Seed, for which our default values are
those speciﬁed by Toivonen et al. This yields an average degree of
roughly ﬁve.
II) Payout Valuation Model VP : To evaluate how people per-
ceive the lottree payout, we use a model based on the cognitive
psychology of lotteries and sweepstakes [29]. The generally ac-
cepted economic model that has replaced expected utility theory is
prospect theory, proposed by Tversky and Kahnemann [34]. Based
on empirical studies, it describes how individuals evaluate losses
and gains in lotteries. It applies a nonlinear transformation of the
probability scale, which over-weights small probabilities and under-
weights moderate and high probabilities. For the model’s two key
parameters, α (power) and γ (probability weighting), we use the
values derived by Tversky and Kahnemann in their reﬁnement of
prospect theory known as cumulative prospect theory [35].
III) Solicitation Assumption Factor SAF: When a person eval-
uates the gain from soliciting an acquaintance, there are two al-
ternatives the person might imagine would result from not making
the solicitation. First, the non-member might remain not part of
the system; second, the non-member might join the system as a
child of someone else. The distinction between these two is essen-
tially the distinction between the SSI and WSI properties, and the
person’s assumption about what would happen if he does not so-
licit has an effect on how he values the gain from the solicitation.
We model this assumption with a Solicitation Assumption Factor
(SAF), which expresses the believed likelihood that an acquain-
tance will join the tree even without a solicitation from the person
making the evaluation. Our default value for SAF is 0.5.
IV) Time Valuation Model VT : As a simple estimate for the costs
of soliciting others and of joining the system, we characterize the
efforts by the temporal cost of performing the task. The time re-
quired to send a solicitation is the Solicitation Time Cost (STC),
and the time required to join the system is the Join Time Cost (JTC).
For comparison against perceived values obtained through the pay-
out valuation model, we must convert these temporal values into
monetary values. For this, we employ a probability distribution of
income per minute for each person, using the US income distribu-
tion in 2005 [2].
V) Diffusion Model D: To determine whether a person considers
each solicitation, we employ a diffusion model, which characterizes
the ﬂow of inﬂuences through a social network. These models are
built on the premise that a person’s tendency to accept an idea (or,
in our case, to consider joining a lottree) increases monotonically
as it receives more recommendations (or solicitations). Our default
model is the independent cascade model [16], wherein each solici-
tation succeeds with a certain ﬁxed probability p. In our sensitivity
analysis, we also consider two other models: the diminishing cas-
cade model [6], wherein the success probability p decreases by a
factor of q < 1 with each repeated solicitation, and a model de-
rived from empirical data [6] of LiveJournal community joining.
For all our diffusion models, once a person decides to consider a
solicitation, she will never consider it again.
VI) Contribution Model C: To model how much each person con-
tributes to the system, our default model is based on the distribution
of computer availability [15], which would be appropriate for sys-
tems in which the contribution is related to machine time. In our
sensitivity analysis, we also consider a random uniform distribution
and a constant uniform distribution.
7.1.3 Parameters
Most of the above models come with a rich set of parameters
that can be set to tune the model behavior. Table 1 shows our de-
fault values for these parameters (wherever possible taken from the
corresponding literature). All our evaluations are performed us-
ing these values unless stated otherwise. Our values of β and δ in
Pachira are derived in Section 7.2.2, and sensitivity of these values
with regard to changes in the other parameters and environmental
factors is evaluated in Section 7.2.6.
7.2 Results
In order to reduce variance, all our simulation results were re-
peated 20 times and the respective average values are plotted. In
all cases, the experienced variance is small (within 10%) and error
bars are therefore omitted. We call the number of people that end
up joining the lottree, after simulating one year of deployment, the
penetration.
Solicitation Assumption Factor (SAF)
Payout
Solicitation Time Cost (STC)
Join Time Cost (JTC)
Population Size
Diffusion Probability p
Diminishing Cascade Factor q
Social Network Model:
pInit, Range, Seed
Prospect Theory: α, γ
Income Distribution Model
Contribution Model:
Availability parameters
Pachira Parameter Settings: β, δ
0.5
1000
30 seconds
30 minutes
107
0.1
0.9
Toivonen et al.
0.95, 3, 30 [33]
0.88, 0.61 [35]
USA 2005 [2]
b = 0.3; c = 2.7;
g = 9.2; r = 11 [15]
0.5, 0.08
Table 1: Baseline simulation conﬁguration
7.2.1 Population effects
Before reporting actual results, we ﬁrst show that the size limi-
tations of our simulation are not an issue. Our simulated popula-
tion is ten million people, which is signiﬁcantly smaller than the
population that could be reached in the real world. However, Fig-
ure 2 (left) shows that the penetration substantially levels out as the
population increases. By the time we reach a population of 106,
there is little additional penetration from increasing population.
7.2.2 Optimal β and δ
Our ﬁrst order of business is to determine optimal values for the
Pachira lottree parameters β and δ. Figure 2 (middle) shows the
penetration as a function of these parameters. Only a small range
of δ values is shown because higher and lower δ results in signiﬁ-
cantly reduced penetration. The plots show that, although the opti-
mal choice of β and δ depends upon speciﬁc environmental factors,
the curves exhibit a regular shape. Based on these and other results,
we select default values of β = 0.5 and δ = 0.08. Although not
optimal in every setting, our sensitivity analysis in Section 7.2.6
shows that these settings exhibit good behavior even as we vary the
different model parameters.
7.2.3 Deployment tuning
A key question for an executive who wishes to use a lottree
for system deployment is how much money to offer as a payout.
The answer is a function of the desired penetration and the ex-
pected effort of sending solicitations and of joining the system.
Figures 3 (left) and (middle) show how the penetration depends
on the selected payout, the JTC and STC. As an example, to obtain
100K participants in a system with a STC of 30 seconds and a JTC
of 30 minutes, Figure 3 (left) shows that we should offer a payout
of 5000 dollars.
Discussion: We can see that expected penetration increases with
increasing payout and decreasing JTC; and high values of STC
have a negative impact on penetration. However, it is interesting to
compare the impact of the STC for different values of JTC. If JTC
is 10 minutes, the achieved penetration nearly doubles when STC is
reduced from 1 minute to 30 seconds. Conversely, for JTC of 100
minutes, the penetration is virtually equal regardless of whether
STC is higher or lower. The reason for this behavior is that in
the former case, because JTC is so low, the bottleneck that limits
growth are solicitations. In contrast, if JTC is large, people stop
becoming new participants because their perceived value predicted
by Prospect theory becomes too small faster than solicitations be-
coming a bottleneck. The plot shows that the equilibrium point
in which joining and solicitations start become limiting factors at
roughly the same size is reached at about JTC of 30 minutes.
 100000
 10000
n
o
i
t
a
r
t
e
n
e