type 1 ﬂows. This formulation is more suitable if deadlines
represent the worst case requirements (e.g. Service Level
Agreement), not the expected performance as we have as-
sumed in the paper. For the current formulation, we plan to
improve the queue length estimation using models with less
assumptions (e.g. M/G/1). In addition, we intend to verify
the safety of the relaxations and approximations with pertur-
bation analysis.
Acknowledgments
This work is supported in part by the Hong Kong RGC ECS-
26200014, GRF-16203715, GRF-613113, CRF-C703615G,
and the China 973 Program No.2014CB340303. We thank
our shepherd, Nandita Dukkipati, and the anonymous SIG-
COMM reviewers for their valuable feedback. We also thank
Haitao Wu for insightful discussions on DCN transport.
11. REFERENCES
[1] http://www.pica8.com/documents/
pica8-datasheet-picos.pdf.
[2] DCTCP Patch.
http://simula.stanford.edu/~alizade/Site/DCTCP.html.
[3] ALIZADEH, M., GREENBERG, A., MALTZ, D. A.,
PADHYE, J., PATEL, P., PRABHAKAR, B.,
SENGUPTA, S., AND SRIDHARAN, M. Data center
tcp (dctcp). In ACM SIGCOMM ’10.
[4] ALIZADEH, M., YANG, S., KATTI, S., MCKEOWN,
N., PRABHAKAR, B., AND SHENKER, S. pfabric:
Minimal near-optimal datacenter transport. In ACM
SIGCOMM ’13.
[5] BAI, W., CHEN, L., CHEN, K., HAN, D., TIAN, C.,
AND SUN, W. Pias: Practical information-agnostic
ﬂow scheduling for datacenter networks. In HotNet
2014.
[6] BAI, W., CHEN, L., CHEN, K., HAN, D., TIAN, C.,
AND WANG, H. Information-agnostic ﬂow scheduling
for commodity data centers. In NSDI 2015.
[7] BAI, W., CHEN, L., CHEN, K., AND WU, H.
Enabling ecn in multi-service multi-queue data
centers. In NSDI 16.
[8] BOYD, S., AND VANDENBERGHE, L. Convex
Optimization. Cambridge University Press, New York,
NY, USA, 2004.
[9] CHEN, B. B., AND PRIMET, P. V.-B. Scheduling
deadline-constrained bulk data transfers to minimize
network congestion. In IEEE CCGRID 2007.
[10] CHEN, L., HU, S., CHEN, K., WU, H., AND
ALIZADEH, M. MCP: Towards minimal-delay
deadline-guaranteed transport protocol for data center
networks (technical report). "http://goo.gl/ncZKGT".
[11] CHEN, L., HU, S., CHEN, K., WU, H., AND TSANG,
D. H. K. Towards minimal-delay deadline-driven data
center tcp. In HotNets-XII (2013).
[12] CHEN, Y., GRIFFITH, R., LIU, J., KATZ, R. H., AND
JOSEPH, A. D. Understanding tcp incast throughput
collapse in datacenter networks. In Proceedings of the
1st ACM WREN.
[13] CHOWDHURY, M., AND STOICA, I. Efﬁcient coﬂow
scheduling without prior knowledge. In ACM
SIGCOMM ’15.
[14] CHOWDHURY, M., ZHONG, Y., AND STOICA, I.
Efﬁcient coﬂow scheduling with varys. In ACM
SIGCOMM ’14.
[15] COFFMAN, E. G., AND DENNING, P. J. Operating
systems theory, vol. 973. Prentice-Hall Englewood
Cliffs, NJ, 1973.
[16] CONWAY, R. W., MAXWELL, W. L., AND MILLER,
L. W. Theory of scheduling. Courier Corporation,
2012.
[17] DOGAR, F., KARAGIANNIS, T., BALLANI, H., AND
ROWSTRON, A. Decentralized task-aware scheduling
for data center networks. In ACM SIGCOMM ’14.
[18] FERGUSON, A. D., BODIK, P., KANDULA, S.,
BOUTIN, E., AND FONSECA, R. Jockey: Guaranteed
job latency in data parallel clusters. In EuroSys ’12.
[19] GRANT, M., BOYD, S., AND YE, Y. Cvx: Matlab
software for disciplined convex programming, 2008.
[20] GREENBERG, A., HAMILTON, J. R., JAIN, N.,
KANDULA, S., KIM, C., LAHIRI, P., MALTZ, D. A.,
PATEL, P., AND SENGUPTA, S. VL2: A scalable and
ﬂexible data center network. In ACM SIGCOMM ’09.
[21] HAN, D., GRANDL, R., AKELLA, A., AND SESHAN,
S. Fcp: a ﬂexible transport framework for
accommodating diversity. In ACM SIGCOMM CCR
(2013).
[22] HONG, C.-Y., CAESAR, M., AND GODFREY, P. B.
Finishing ﬂows quickly with preemptive scheduling.
In ACM SIGCOMM ’12.
[23] HOU, X.-P., SHEN, P.-P., AND WANG, C.-F. Global
minimization for generalized polynomial fractional
program. Mathematical Problems in Engineering
2014.
[24] JEYAKUMAR, V., ALIZADEH, M., MAZIERES, D.,
PRABHAKAR, B., KIM, C., AND GREENBERG, A.
Eyeq: Practical network performance isolation at the
edge. In NSDI ’13.
[25] JIAO, H., WANG, Z., AND CHEN, Y. Global
optimization algorithm for sum of generalized
polynomial ratios problem. Applied Mathematical
Modelling, 2013.
[26] KANDULA, S., MENACHE, I., SCHWARTZ, R., AND
BABBULA, S. R. Calendaring for wide area networks.
In ACM SIGCOMM ’14.
[27] KLEINROCK, L. Theory, volume 1, Queueing systems.
Wiley-interscience, 1975.
[28] KLEINROCK, L. Queueing systems: volume 2:
computer applications, vol. 82. John Wiley & Sons
New York, 1976.
[29] LIU, C. L., AND LAYLAND, J. W. Scheduling
algorithms for multiprogramming in a hard-real-time
environment. Journal of the ACM (JACM), 1973.
[30] MUNIR, A., BAIG, G., IRTEZA, S., QAZI, I., LIU,
I., AND DOGAR, F. Friends, not foes: synthesizing
existing transport strategies for data center networks.
In ACM SIGCOMM ’14.
[31] NEELY, M. J. Dynamic power allocation and routing
for satellite and wireless networks with time varying
channels. PhD thesis, Massachusetts Institute of
Technology, 2003.
[32] NEELY, M. J., MODIANO, E., AND ROHRS, C. E.
Dynamic power allocation and routing for
time-varying wireless networks. IEEE JSAC, (2005).
[33] RILEY, G. F., AND HENDERSON, T. R. The ns-3
network simulator modeling and tools for network
simulation. In Modeling and Tools for Network
Simulation, 2010.
[34] ROY, A., ZENG, H., BAGGA, J., PORTER, G., AND
SNOEREN, A. C. Inside the social network’s
(datacenter) network. In ACM SIGCOMM ’15.
[35] SAINO, L., COCORA, C., AND PAVLOU, G. A
toolchain for simplifying network simulation setup. In
SIMUTOOLS ’13.
[36] SHEN, P., CHEN, Y., AND MA, Y. Solving sum of
quadratic ratios fractional programs via monotonic
function. Applied Mathematics and Computation,
2009.
[37] SILBERSCHATZ, A., GALVIN, P. B., GAGNE, G.,
AND SILBERSCHATZ, A. Operating system concepts.
1998.
[38] VAMANAN, B., HASAN, J., AND VIJAYKUMAR, T.
Deadline-aware datacenter tcp (d2tcp). In ACM
SIGCOMM ’12.
[39] WILSON, C., BALLANI, H., KARAGIANNIS, T., AND
ROWTRON, A. Better never than late: meeting
deadlines in datacenter networks. In ACM SIGCOMM
’11.
[40] WU, H., FENG, Z., GUO, C., AND ZHANG, Y. Ictcp:
Incast congestion control for tcp in data center
networks. In Co-NEXT ’10.
Appendix
A. OPTIMAL THRESHOLDS
We describe our formulation to derive optimal thresholds
for splitter and sieve to minimize the average FCT for type
2&3 ﬂows.
Problem formulation: We take the ﬂow size cumulative
density functions of different types as given. Denote F1(·),
F2(·), and F1(·) as the respective trafﬁc distributions of the
three types, and F (·) as the overall distribution. Thus, F (·)=
(cid:80)3
i=1Fi(·).
As in §5, type 2 ﬂows are split into different priorities
based on their sizes with {β} as splitting thresholds, and
type 3 ﬂows are sieved in a multi-level feedback queue with
{α} as sieving thresholds. We assume ﬂows arrival follows
a Poisson process, and denote the load of network as ρ, 0≤
ρ≤1. For a type 2 ﬂow with priority j, the expected FCT is
upper-bounded by [28]:
T (2)
j =
ρ(F2(βj )−F2(βj−1))
1−ρ(F1(αK )+F2(βj−1)+F3(αj−1))
upper-bound is identiﬁed as [5]: (cid:80)j
For a type 3 ﬂow with size in [αj−1,αj), it experiences
the delays in different priorities upto the j-th priority. An
is
the average time of a type 3 ﬂow spent in the j-th queue.
Thus:
, where T (3)
l=1T (3)
l
l
T (3)
l =
ρ(F3(αl)−F3(αl−1))
1−ρ(F1(αK )+F2(βl−1)+F3(αl−1))
We identiﬁes the problem as choosing an optimal set of
thresholds {α,β} to minimize the objective: the average FCT
of type 2&3 ﬂows in the network:
min
{α},{β}
subject to
T (2)
l +
l=1
(F3(αl)−F3(αl−1))
T (3)
m )
α0=0,αK=∞,αj−1<αj,j=1,...,K
β0=0,βK=∞,βj−1<βj,j=1,...,K
m=1
K(cid:88)
K(cid:88)
l=1
l(cid:88)
i=1θi
i=1(θi+φi)
φl+θl
(cid:80)l−1
1−ρ ˆF1−ρ(cid:80)l−1
(cid:80)l−1
To simplify the notations, we deﬁne φj=F2(βj)−F2(βj−1)
and θj=F3(αj)−F3(αj−1). Thus, φj denotes the percent-
age of type 2 ﬂows with sizes in [βj−1,βj), and θj denotes
the percentage of type 3 ﬂows with sizes in [αj−1,αj). And
the objective can be transformed equivalently to:
{φ},{θ} ρ(cid:80)K
min
l=1
where ˆF1=F1(∞), the fraction of type 1 ﬂows.
Solution method: We identify this as a quadratic sum-of-
ratios problem (due to the term θl
i=1θi), which has been
thoroughly investigated by applied mathematical modeling
and optimizations communities [23, 25, 36]. We use relax-
ation technique, and solve for the lower-bound of the objec-
i=1(θi+φi) is strictly smaller
i=1θi must be the lower bound
of the objective for all possible choices of the thresholds.
Therefore, we look for a set of percentages {φ} and {θ} that
minimize the lower-bound. The problem then becomes:
tive. Notice that 1− ˆF1−ρ(cid:80)l−1
than 1, thus ρ(cid:80)K
(cid:80)l−1
l=1φl+θl
K(cid:88)
K(cid:88)
l=1
(φl+θl
l−1(cid:88)
i=1
θi)
K(cid:88)
φi=F2(∞),
θi=F3(∞)
min
{θ},{φ}
subject to
i=1
i=1
Now the problem is relaxed into a quadratic programming
problem with linear constraints, which can be solved us-
ing semideﬁnite programming packages available in many
solvers. We use the CVX toolbox [19] for MATLAB to solve
the above problem. Since the complexity of the problem is
related to the number of queues in the switches, the scale
of the network is irrelevant, and we can solve it in under 10
seconds on a testbed machine.