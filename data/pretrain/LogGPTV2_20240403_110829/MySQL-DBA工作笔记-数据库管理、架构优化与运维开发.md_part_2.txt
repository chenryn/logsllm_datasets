工作，在此一并感谢。
对于部分书稿的审阅，他们是奋斗在一线的DBA或者技术管理者，在工作中积累了大量
杨奇龙，贺春肠，杨尚刚，卢飞，赵飞祥，陈晨，
到一些启示和都，其罢是小件时肉鹏精本资料！
举例和比喻是平网络转播内容商开本粗策划编辑荆波老师也反复
一次的合作多了一些默契，能够写成本书，与他的帮助是分不开的。
感谢
基础，架构设计和规划，运维管理模块设计，自助服务设计等几个部分。
在这个基
维管理实践来还原DBA的日常管理工作。
的
本书内容预览
而在这个过程中你收获的不仅仅是知识，还可能是友情。
的
可
的
因
1交流，共同进步。
告白。
1写书的进度。还有我可爱的女儿珊珊，看着她活泼可爱的模样，我理解了陪伴是最深情
实践经验，对本书给出了很多宝贵的建议，感谢 dbaplus 社群和腾讯云对于图书的支持
和整合，然后成为识林系，
发展，技术选型和体系结构，以运维场景作为切入点，通过梳理SQL开发规范，总结运
工作内容，在这些知识点中也穿插了大量实例。第一篇（第1～5章）详细介绍了MySQL
由于本人知识水平有限，书中难免存在着一些错误和不妥之处，敬请批评指正，如果
感谢荆波老师对于本书的大力支持，在所有的环节都严格把关，
完成本书也离不开家庭的大力支持，感谢妻子雪丽给予支持和理解，为此她承担了
当然书的内容质量也离不开朋友们的支持，感谢周彦伟，周军为本书作序，同时感议
写书的过程还是比较漫长的，
第三篇
第二篇（第6～10章)包含SQL查询优化，并发控制内容和性能测试的一些相关内容，
全书共分为三篇，共15章，全面介绍数据库管理、架构和 SQL优化、运维开发相关
本书会以工作笔记的形式循序渐进地讲解DBA工作中的一些常见问题和处理方法。
篇（第11～15章）包含整个运维开发体系从0到1的建设思路，包含运维开发
础上补充了MySQL高可用架构和集群相关内容，提供基于业务的架构设计思路
从策划到出稿，整个过程涉及很多的环节和细节，而
王伟，房晓乐，贾艳燕，张海林，韩
想到读著能够我的世集中得
，有了之前的合作，这
2019年6月
杨建荣
更
锋
谢
复
梳
三
---
## Page 11
违反者所引起的搬权纠纷，造成的法律责任自负
第1章MySQL发展和技术选型
1.1如何看待MySQL.....
1.4
1.4.1运维管理类工具.
MySQL 常用工具选择和建议，
1.3.6初步结论..
1.3.5分支选择的参考和标准.
1.2.1InnoDB发展时间线....
1.4.3
1.1.5如何看待MySQL的技术发展.
1.1.4MySQL主要的一些分支...
1.1.3
1.1.2MySQL学习周期和难度...
1.1.1MySQL 始出.
1.4.4
1.4.2
1.诊断工具....
2.性能监控工具
1.操作系统监控
2．数据备份恢复工具..
2.数据库版本管理工具.
1.客户端工具..
1.主流运维管理工具..
研究或者欣赏用途
Contents
4
---
## Page 12
ii|MySQL DBA工作笔记：数据库管理、架构优化与运维开发
第3章MySQL基础运维面面观
第2章理解MySQL体系结构
3.1.3
3.1.1源码安装 MySQL...
案例2-2：关于MySQL中的一些极限值的初步验证纠错.
2.4.1MySQL 里的一些极限值..
2.3.8MySQL是如何保证数据完整性的....
2.3.7
2.2.1MySQL 巡检模块：Sys Schema 的设计.
案例2-1：MySQL日志故障的处理和分析..
2.1.2慢日志诊断....
2.1.1从例子来理解 MySQL 存储结构 ..….
案例1--1:MySQL频繁停库的问题分析...
1.5.4
1.5.2MySQL安装规范...
分分钟搭建MySQL一主多从环境..
InnoDB 中的检查机制...
搭建从库..
一群究或者欣赏用途
............................
.................
...................
.............
.................
..................
..50
8
3
乙
L
9
9
i5
9
3
3
23
6
8
---
## Page 13
第4章SQL开发规范和基础
4.1数据库开发规范.
3.2MySQL 服务管理，
4.1.2建表规范...
4.1.1配置规..
3.4.2
3.4.1常用方法...
3.3.2
案例3-1：通过 shell 脚本检测 MySQL 服务信息...
3.2.3
3.2.2
MySQL访问模式的演进...
备份工具1:mysqldump...
常规备份方案
方法1：重新导出导入整个数据库.
TCP/IP连接...
性能测试结果.
恢复方法8：
恢复方法7：
恢复方法6:
恢复方法5：
恢复方法4:
恢复方法3：住
恢复方法2：
方法2：
导出 mysql 的权限配置...
基于冷热数据分离的恢复思路..
基于逻辑的数据恢复..
使用开源工具恢复数据binlog2sql.....
使用 xtrabackup 进行数据增量恢复.
 mysqibackup...
.........
..............
...................
.. 106
目录ii
三
三
.10
12
12
1
115
99
9
68
6
5
6
6
6
3
8
8
---
## Page 14
iv丨MySQL DBA工作笔记：数据库管理、架构优化与运维开发
第5章MySQL运维管理实践
4.4MySQL常用函数...
案例5-1：实战对比四种脚本部署策略的优劣.
5.1.1MySQL 脚本部署的四种策略..
4.4.6其他常用的MySQL函数.
4.4.4日期和时间函数..
案例4-7：MySQL字符函数的压力测试.…
4.4.2字符串函数..
案例4-5：MySQL字符串中抽取数值的方法...
4.4.1数学函数.
专辉青于小时肉删除本资料！
4.4.5系统信息函数...
4.3.4
MySQL特有的SQL.
案例4-4:MySQL多版本的时间类型问题...
4.2.4MySQL日期类型..
4.2.2MySQL小数类型.
案例 4-2：数值类型在binlog中需要注意的细节.
4.2.1MySQL 整数类型....
案例4-1:MySQL无法创建表的问题分析…..
案
4.1.9数据安全规范.
4.1.8
4.1.7
4.1.6
4.1.5
4.1.4
4.1.3
例4-3：MySQL中需要注意的字段长度...
查询类.
命名规范.
................
................
...............
............
12
100
11
9
3
9
109
5
9
九
63
13
乙
2
---
## Page 15
违度皆所超倾椒纠纷，造成的法律责任自负
6.2SQL查询优化...
61Ms请牙4小时内删除本资料…
6.3
繁丽禁网络伸播程商用本资料
MySQL优化技巧..
案例 6-3：一条 update 语句引发的“血案”
6.3.2数据隐式转换.
案例6-：·合理评估新特性的使用..
6.1.4使用MySQL Profile 定位性能瓶颈....
6.1.3读懂执行计划..
案例 6-1: group by 问题浅析.
6.1.2推理SQL的解析过程.
6.1.1
案例5-9:MySQL5.6、5.7版本并行复制测试.
5.2.4如何看待主从延迟...
案
5.2.3GTID 的管理模式..
案例5--7简单测试半同步复制..
S
案例5-5：源码分析 pt-osc 的实现原理....
案
5.1.3Online DDL的两种算法....
5.1.2通过对比来了解online DDL..
例5-8：修复GTID复制失败的分析...
例5-4:对比测试 online DDL的两种算法（copy和 inplace）
MySQL索引解析
....20
目录|v
...215
10
---
## Page 16
vi丨MySQL DBA工作笔记：数据库管理、架构优化与运维开发
第8章MySQL集群和高可用设计
第7章MySQL事务和锁
8.2MySQL 高可用方案之 MHA...
8.1MySQL高可用方案...
7.5事务隋
7.4
7.3N
7.2
7.1MySQL 并发控制...
场景4
场景1:3条insert 语句导致的死锁问题.
8.2.1MHA原理和架构...
降维策略2：Drop 操作转换为可逆的 DL 操作...
降维策略1：存储过程调用转换为透明的 SQL调用..
经典的死锁案例集.
7.3.2
7.3.1MySQL 锁的类型...
7.2.3R 隔离级别下的更新冲突....
7.2.1MySQL中的隔离级别 RR 和 RC...
事务隔离级.
7.1.2
7.1.1为什么需要事务..
8.2.4
8.2.3
8.2.2
7.3.3
从代码关系图理清MHA的脉络…..
快速测试 MHA的步.
如何系统的测试MHA
索引加锁过程的差异.
MySQL并发控制技术方案...
...................
....
造成的法律责任自费
一
29
.288
.28
.28
---
## Page 17
第9章MySQL性能测试
9.2批量，始化数据性能测..
8.4
8.3
9.1.4
9.1.3.
9.1.2
9.1.1压测MySQL—
8.4.3