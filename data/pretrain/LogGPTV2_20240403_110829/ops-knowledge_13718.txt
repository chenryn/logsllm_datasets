User: How to use Docker to build a simple web application, including writing Dockerfile and building images?
Assistant: To build a simple web application using Docker, you need to create a base image and a Dockerfile, and then use the Docker Build command to build the image. 1. Create a basic image: You can obtain a basic image from the official Docker repository and build on it. For example: Obtain the Ubuntu image from the official repository, or use other base images. 2. Create a Dockerfile: Dockerfile is a text file that contains a series of instructions to tell Docker to build the image we need from the base image. The commonly used instructions are: FROM, RUN, COPY, EXPOSE, CMD, etc. The required dependencies and configuration need to be specified in the Dockerfile, and the application is copied into the image. Here is a basic Dockerfile example: ``` # Base image FROM ubuntu:latest # Application dependencies RUN apt-get update && apt-get install -y \ nginx \ python \ python-pip # Copy application to image COPY ./app /app # Configure the application WORKDIR /app RUN pip install -r requirements.txt EXPOSE 80 # Run the application CMD ["nginx", "-g", "daemon off;"] ``` 3. Build the image : Use the Docker Build command to build the image. In the command, you need to specify the location of the Dockerfile and the tag of the image. ``` docker build -t my-web-app . ``` Among them, the -t parameter is used to specify the image tag, and . indicates the Dockerfile in the current directory. 4. Run the container: Use the Docker Run command to run the container. When running a container, you need to map the port inside the container with the host. ``` docker run -p 80:80 my-web-app ``` Among them, the -p parameter is used to specify port mapping, and 80:80 means that port 80 inside the container is mapped to port 80 of the host. my-web-app is a previously built mirror tag.