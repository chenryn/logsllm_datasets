Worldwide distribution
Within network
Within network
Possible Protocols
Default
Miner only push block
Miner network
Bitcoin v0.12
Table 5: Parameters of the blockchain simulation.
21.co (cf. Figure 12a) and adopted this distribution to deﬁne the
location of our simulated nodes. We also adapted the bandwidth
and network latency (according to the geographical location) from
Verizon [2, 36] and testmy.net [34]. To model miners, we retrieved
the mining pool distribution from blockchain.info, and accordingly
distributed the mining pool’s public node to the respective region (cf.
Figure 12b). Mining pools typically maintain private peering con-
nections among themselves—which we capture in our simulations.
Besides direct peering, a number of mining pools nowadays partic-
ipate in Matt Corallo’s relay network [7] that is operated indepen-
dently of the default Bitcoin P2P overlay network (cf. Section 2.2).
We also capture the relay network and assume in our simulations
that all miners participate in the relay network whenever the relay
network option is enabled.
4.2 Evaluation Results
In what follows, we present the results from our evaluation.
Simulator Validation
4.2.1
With the objective to experimentally validate our simulation, we
compared Bitcoin, Litecoin, and Dogecoin with their respective
simulated counterpart. For each blockchain, we adjusted the pa-
rameters of Table 5 according to the current parameters featured
by existing deployments of the investigated blockchains. For in-
stance, we measured Bitcoin’s block size distribution, as well as the
12by unsolicited block push from the miners, (Case 3) both former
components plus the relay network, and (Case 4) the send headers
mechanism with unsolicited block push and the relay network.
We observe ﬁrst that for a block interval time of 10 minutes and a
standard request management system, our stale block rate is 1.85%,
which is comparable to 1.69% as reported by Wattenhofer et al. [10].
Recall that at the time of Wattenhofer’s study, the unsolicited block
push and relay network were not yet available.
Secondly, we observe that the introduction of the unsolicited
block push for miners signiﬁcantly reduces the stale block rate. This
is the case since (i) miners are interconnected and proﬁt most from
the unsolicited block push, and (ii) the propagation method of the
ﬁrst node is crucial to reach the majority of the network rapidly. The
addition of the relay network does not seem to affect the stale block
rate signiﬁcantly (given the Bitcoin’s transaction load) compared
to the unsolicited block push, and reduces the propagation time
only marginally. For bigger block sizes however (e.g. > 2MB) the
relay network indeed provides an advantage over the unsolicited
block push (cf. Table 8). Moreover, the relay network provides an
additional source of block information, in addition to the classical
P2P overlay network. Notice that although the impact of the send
header mechanisms compared to a fully deployed relay network and
unsolicited block push is limited, this mechanism mitigates partial
eclipse attacks [18].
To assess the impact of the block interval on the security of PoW
blockchains, we feed the resulting stale block rate into our MDP
models as shown in Table 7. Our results show that, for an adversary
equipped with 30% of the total mining power11, the lower is the con-
sensus time, the higher is the relative revenue from selﬁsh mining
and the lower is the double-spending value. We observe that the
block propagation mechanism signiﬁcantly impacts the security of
the blockchain, since it directly affects the stale block rate. The stan-
dard block propagation mechanism offers less resilience (in terms of
double-spending and selﬁsh mining) than the other evaluated block
propagation mechanisms. We also note that the double-spending
value halves in Table 7 for the block propagation mechanism of Case
4 (which results in the lowest stale block rate when compared to the
other investigated mechanisms) when reducing the block interval
from 25 minutes to 0.5 seconds. Similarly, the relative revenue from
selﬁsh mining increases from 0.33 to 0.42.
4.2.3
We now study the impact of the block size on the performance
and security of the blockchain (cf. Table 8. To this end, we simulate
block sizes ranging from 0.1 MB to up to 8 MB, given a block
interval of 10 minutes.
Impact of the Block size
Our results suggest that the block propagation time increases
linearly with the block size up to 4 MB; after 8 MB blocks, the
block propagation time and stale block rate increases exponentially.
Second, we clearly see that a better block propagation mechanism
signiﬁcantly reduces the propagation times and the stale block rate.
This also suggests, conforming with our MDP models, that the
bigger the block size, the higher the relative revenue from selﬁsh
mining and the lower the double-spending value (cf. Table 8). It
is however apparent that an efﬁcient block propagation mechanism
effectively allows the network to keep nearly the same security pro-
visions against selﬁsh mining and double-spending as we can see in
Case 3 (standard propagation mechanism, unsolicited block push,
relay network) and Case 4 (send headers propagation mechanism,
unsolicited block push, relay network). This conﬁrms that an efﬁ-
11Bitcoin’s resilience to malicious miners is based on the assumption
that the adversary cannot harvest more than 30% of the total mining
power [15, 18].
(a) Node distribution.
(b) Miner distribution.
Figure 12: Geographical distribution of Bitcoin nodes and miners
used in our simulator.
Block interval
Measured tM BP
Simulated tM BP
Measured rs
Simulated rs
Bitcoin
10 min
8.7 s [9]
9.42 s
0.41 %
(a)0.14%-(b)1.85% (b)0.24 % (b)0.79 %
Dogecoin
1 min
0.98 s
0.83 s
0.62 %
Litecoin
2.5 min
1.02 s
0.86 s
0.27 %
Table 6: Median block propagation time (tM BP , in seconds), and
rs in the real networks and the simulation (10000 blocks for each
blockchain).
(a) assumes that all miners use the relay network
and unsolicited block push, while (b) is only given the standard
propagation mechanism. We conclude that not all miners in Bitcoin
use the relay network and unsolicited block push.
block generation rate7 in the real Bitcoin network between May to
November 2015 [23].
In order to measure the stale block rate rs in the real blockchain
networks, we crawled at least 6 months of data, namely, 24,000
Bitcoin blocks8, 100,000 Litecoin and 240,000 Dogecoin blocks9.
We moreover adopt the miner mining power distribution for the
different blockchains from public block explorers10. The number of
connection per node in our simulations follows the distribution due
to Miller et al. [27].
Our ﬁndings (cf. Table 6) show that our simulator captures, to a
large extent, the performance of existing blockchain deployments.
For instance, our results show that the measured and simulated
median block propagation times are relatively close. The stale block
rates for Litecoin and Dogecoin are particularly close. In the case
of Bitcoin, the stale rate falls between the case when all miners use
the relay network and unsolicited block push, and the extreme case
where the relay network and unsolicited block push is not used by
any miner. Note that Litecoin and Dogecoin do not have any relay
network.
4.2.2 Impact of the Block Interval
In this section, we study the impact of the block interval on the
median block propagation time and the stale block rate in PoW-
based blockchains. To this end, we run our simulator for different
block interval times ranging from 25 minutes to 0.5 seconds (cf. Ta-
ble 7). Each simulation is run independently for 10000 consecutive
blocks, and for each of the four different block request management
system combinations: (Case 1) the standard block request manage-
ment, (Case 2) the standard block request management enhanced
7The block generation rate distribution follows the shifted geometric
distribution with p = 0.19 [23].
8from blockchain.info
9from blockchains.io
10blockchain.info and https://www.litecoinpool.org/pools
NorthAmerica,38.69%Europe,51.59%SouthAmerica,1.13%Japan,1.19%Australia, 1.66%Asia Pacic,5.74%Europe, 5.40%NorthAmerica,23.70%AsiaPacic,70.90%13Block interval
25 minutes
10 minutes
2.5 minutes
1 minute
30 seconds
20 seconds
10 seconds
5 seconds
2 seconds
1 seconds
0.5 seconds
tM BP
35.73
14.7
4.18
2.08
1.43
1.21
1.00
0.89
0.84
0.82
0.82
Case 1
rs
vd
1.72 % 12.47
1.51 % 12.52
1.82 % 12.45
2.15 % 12.35
2.54 % 12.06
3.20 % 11.73
4.77 % 10.73
8.64 % 10.08
16.65 % 7.35
26.74 % 4.37
38.15 % 2.78
rrel
0.34
0.34
0.34
0.34
0.34
0.34
0.35
0.37
0.41
0.53
0.60
tM BP
25.66
10.65
2.91
1.34
0.84
0.67
0.35
0.37
0.40
0.53
0.61
Case 2
rs
vd
0.16 % 12.86
0.13 % 12.88
0.16 % 12.86
0.35 % 12.81
0.45 % 12.78
0.86 % 12.68
1.73 % 12.46
2.94 % 11.85
6.98 % 10.47
12.44 % 8.34
20.62 % 6.22
rrel
0.33
0.33
0.33
0.33
0.33
0.33
0.34
0.34
0.36
0.39
0.42
tM BP
22.50
9.41
2.60
1.30
0.84
0.69
0.33
0.45
0.39
0.38
0.49
Case 3
rs
vd
0.03 % 12.89
0.14 % 12.86
0.16 % 12.86
0.25 % 12.83
0.51 % 12.77
0.85 % 12.68
1.41 % 12.54
2.99 % 11.80
7.28 % 10.37
12.59 % 8.24
20.87 % 6.16
rrel
0.33
0.33
0.33
0.33
0.33
0.33
0.34
0.34
0.36
0.39
0.42
tM BP
22.44
9.18
2.59
1.27
0.84
0.68
0.53
0.44
0.38
0.37
0.36
Case 4
rs
vd
0.02 % 12.89
0.13 % 12.87
0.15 % 12.86
0.29 % 12.77
0.52 % 12.69
0.82 % 12.68
1.59 % 12.50
3.05 % 11.78
7.10 % 10.42
12.52 % 8.30
21.10 % 6.02
rrel
0.33
0.33
0.33
0.33
0.33
0.33
0.34
0.34
0.36
0.39
0.42
Table 7: Impact of the block interval on the median block propagation time (tM BP ) in seconds, and the stale block rate rs, vd and rrel given
the current Bitcoin block size distribution, an adversary with α = 0.3 and k = 6. Case 1 refers to the standard block propagation mechanism,
Case 2 refers to standard mechanism plus unsolicited block push, Case 3 to the combination of Case 2 plus the relay network and Case 4 to the
send headers with unsolicited block push and relay network.
Block Size
0.1 MB
0.25 MB
0.5 MB
1 MB
2 MB
4 MB
8 MB
tM BP
3.18
7.03
13.62
27.67
57.79
133.30
571.50
Case 1
rs
vd
0.32 % 12.80
0.88 % 12.67
1.63 % 12.48
3.17 % 11.79
6.24 % 10.57
11.85 % 8.20