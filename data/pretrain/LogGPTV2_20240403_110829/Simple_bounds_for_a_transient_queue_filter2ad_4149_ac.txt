time is A(0.01), 
are the same as those of 8(1) (respectively, 
Moreover, wn is a poor approximation 
service 
even  though 
A(O.01» 
This is not surprising, 
can be arbitrarily 
8 and A are finite and p  wn for n > 560. 
values of E [WnJ for two 
The figure also shows the simulated 
of the pair of 8 and A, where p = ),. = 0.9 and 
settings 
C A = C S = 2 are fixed. Specifically, 
the solid circles 
show 
E [WnJ when 8 = 8(1) and A = A(1), using the definitions 
show E [WnJ with 8 = 
of A(c) and 8(c) in (2); the crosses 
compare the upper bounds and the diffusion 
evaluations. 
in more detail with numerical 
Figure 2 shows uew and urg in solid lines. 
Notice that the 
but urg ::::; uew holds 
out at n   170,000, 
switching 
overlap 
with each other, 
two solid-lines 
for all n. A detail 
is that uew drops at n  79,000, 
upper-bound. 
from (4) to Kingman's 
from (3) to (4). Also, uew flattens 
The dashed 
switching 
line shows Wn, and the dotted line shows w. We find that 
uew   2 wn. Because wn well approximates 
E [WnJ with 
8 = 8(1) and A = A(1) as we have seen in Section 
IV-A, 
the upper bounds in Theorem 1 (uew) could be improved 
at 
most by a factor of two. Here, we set C A = C S = 8 and 
p = 0.99. Such high variability 
and high load might be too 
approximations 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 07:14:57 UTC from IEEE Xplore.  Restrictions apply. 
566 
,----------------------------, 
104
101 
104
r------------------------- 
_  u:ew 
_  urg 
--wn -/ wn 
 --  =7 ==  
103  104  105 
100--------
100  101 
102 
n 
(a) CA = Cs = 4, p = 0.99 
104,---------------------------, 
u:ew 
urg 
ibn -/ Wn 
100 -- ----
100  101  102 103 104 105 106 
--  ==  
n 
Fig. 2. Upper bounds, uew and urg, and approximations, 
wn and w, of 
E [WnJ are shown when CA = Cs = 8 and p = 0.99. 
thus we next study how the 
extreme for some applications; 
results 
and lower load. 
change with lower variability 
to Figure 2. In the top two rows, p = 0.99 is fixed, and 
in the figure. In the bottom two 
Observe that the 
that are 
Figure 3 shows the upper bounds and the approximations 
similar 
C A = C s is varied as specified 
rows, C A = C S  = 8 is fixed, and p is varied. 
upper bounds 
and the approximations 
qualitatively 
similar 
to those in Figure 2. A major difference 
have relations 
smaller 
the maximum 
upper-bound. 
is in the range of n where uew and urg are non-trivial 
the sense that they are strictly 
upper­
bound. Note that n :::; 106 is shown in Figure 2, n :::; 105 in 
Figure 3 (a)-(c), 
in 
than Kingman's 
axis shows p. We vary p 
that bounds on E [WnJ are usually 
Figure 4 shows contour lines that illustrate 
we assume Cs = CA. The vertical 
and n :::; 104 in Figure 3 (d). 
n  such that uew is below Kingman's 
simplicity, 
C = C A = C s, and the horizontal 
between 0.8 and 1.0, because uew is rarely useful at p    OJ N 
N 0 + OJ L() 
c.  
100 
batch size 
10000 
only use the fields of arrival 
are recorded 
at its header3. 
time and size of IP packets 
which 
Fig. 5. The sample variance-parameter 
lines) and the service 
on November 30 (crosses) 
times (solid 
times (dashed lines) on November 29 (circles) 
of the inter-arrival 
and 
in 2010. 
Each of the dumpfile contains 
samples of IP traffic data for 
packets 
where more than 40 million 
15 minutes, 
We use the information 
packets, 
dividing  them 
contains 
10,000 contiguous 
compute the transient 
inter-arrival 
are recorded. 
from the first N = 19,000,000 
into 1,900 intervals 
packets4. 
time Ai,n and its service 
each of which 
For each interval 
delay of the n-th packet Wi,n from its 
time Si,n according 
Wi,n+l = max (0, Wi,n -Ai,n+l + Si,n),  (13) 
i, we 
to 
mean delay, E[Wnl, 
i. The service 
time 
by the 
of the link, which is set to 40 Mbps, so that the load 
where Wi,o = Si,O = O. The transient 
of Wi,n over all intervals 
is the average 
Si,n is obtained 
from the size of the packet i divided 
bandwidth 
p R:;  0.99 on November 30, instead 
150 Mbps to simulate 
In the real-world 
the short period of high load. 
there are dependencies 
of the over-provisioned 
times (respectively, 
the service 
times), 
traffic, 
Internet 
between the interarrival 
and the trace under considerations 
illustrates 
times. Specifically, 
variance 
follows5: 
the dependencies 
parameter 
is not 
in inter-arrival 
times and in service 
the solid line with circles 
of batch size k, which is defined as 
shows the sample 
an exception. 
Figure 5 
(15) 
parameter 
of batch size k: 
+ A2 + ... + 
k 
the variance 
Var[AI 
If AI, A2, . . .  were i.i.d., 
Akl 
parameter 
would equal 
be­
variance, Var [All. When the inter-arrival 
auto-correlations, 
increases 
than the corresponding 
variance 
parameter 
variance, Var [All. In 
with k and does 
times appear 
That is, the inter-arrival 
to the corresponding 
times have positive 
comes greater 
Figure 5, the solid line with circles 
not appear to converge. 
to have long-range 
shows the sample variance-parameter 
on November 30. The dashed line with circles 
parameter 
crosses) 
for the service 
November 30). Observe 
times on November 29 (respectively, 
with the batch size k. 
that all of these lines are increasing 
II are derived 
Recall that our upper bounds in Section 
shows the sample-variance 
The solid line with crosses 
dependence. 
under 
for the inter-arrival 
times 
(respectively, 
that the inter-arrival 
times and the service 
Because the strong de­
are independent. 
from Figure 5, our upper bounds are not 
to the delay that the packets experience 
is evident 
applicable 
the assumptions 
times, respectively, 
pendency 
directly 
in our settings. 
approximate 
effective 
in service 
approximation 
Therefore, 
in this section, 
bound, or a quasi-bound, 
we consider 
an 
that appears to be 
times and 
in inter-arrival 
when there are dependencies 
times. The quasi-bound 
is motivated 
by a diffusion 
I "LN/kJ ("ik  A kA)2 
LN/kJ-I L..i =l L..j=(i-l) k+l j-
(14) 
time for 1 :::; j :::; N, and 
here Ai is the j-th inter-arrival 
A = Li =l Ad N is the sample average of the inter-arrival 
times on November 29. The batch size k is varied along the 
horizontal 
axis. Notice that (14) is an estimate 
of the variance 
k 
stochastic 
for a diffusion 
for correlated 
approach 
stochastic 
of the correlated 
process 
A standard 
correlated 
parameter 
variance 
a corresponding 
uncorrelated 
process (see Section 
jp/mawilsamplepoint-F/20101201011291400.html 
4.4 from [21]). The asymptotic 
defined as (15) in the limit as k -+  00.  In our context, 
this corresponds 
a squared coefficient 
of a 
is to use the asymptotic 
stochastic 
of the diffusion 
stochastic 
variance 
approximation 
variance 
which appears as 
(i.e., C and C), in the 
in place of the 
for 
is not normalized 
for intervals. 
in the expression 
lines is solely due to the limitation 
approximation 
on November 29, 2010 are listed 
by the corresponding 
the variance, 
of variation 
to replacing 
the header information 
parameter 
can be 
of the  packets 
process 
processes. 
of the 
3The details 
at http://tracer.
of traffic trace information 
csl.sony.co.
4The choice of the first 19 million 
tcpdumplwireshark 
from the  dumpfiles. 
we use to retrieve 
5Notice that the variance 
parameter 
mean unlike the index of dispersion 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 19,2021 at 07:14:57 UTC from IEEE Xplore.  Restrictions apply. 
parameter 
is unbounded 
times and for the service 
However, Figure 5 suggests 
Also, the delay of the first k packets 
parameter. 
variance 
of the bounds in Theorem I with the corresponding 
expression 
L() N 
variance 
asymptotic 
that the asymptotic 
a N 
inter-arrival 
tions. 
the inter-arrival 
arrive after the k-th packet. 
sense to use the asymptotic 
the correlation 
a quasi-bound 
times of the packets that 
c 
Hence, it does not make intuitive 
o W 
variance 
between infinitely 
for E[WnJ of a finite n. 
L() 
times under considera­
is independent 
many inter-arrival 
times and the service 
which captures 
parameter, 
times, in 
for the 
of 
----approximate 
upper bound 
real data 
Equation 
(3) 
a 
, .. " .. ' 
o  2000 4000 6000 8000 10000 
n 
(a) Parameters 
are estimated 
from the data on November 30 
----approximate 
upper bound 
real data 
Equation 
(3) 
: ...... . 
... " 
o  2000 4000 6000 8000 10000 
n 
lead us to propose 
The above arguments 
the following 
upper 
in the 
on E[WnJ when there are dependencies 