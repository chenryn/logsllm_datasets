基于⽇志易数据⼯⼚实现数据治理融合
⽇志易
背景介绍
⼤数据分析、⼈⼯智能等新兴科技已经成为⾦融、能源、政府、交通、医疗等关键⾏业在数字化转
型过程中，不可或缺的战略实现⼯具，能否迅速地理解、适应、运⽤这些⼯具，在⼀定程度上决定
了企业是否拥有赢得未来市场的实⼒。
⾼度数字化的系统运营，催⽣了海量多维异构的数据，这些数据同时也是系统运营与安全防御能⼒
建设的基础。⼤部分企业在运维管理、客户营销、⻛险防控、安全防护、资源利⽤等领域都取得了
局部进展，但是在提升核⼼竞争⼒、有效整合线上线下资源构建⾼效运维平台、完善客户图谱、实
现精准营销、数据治理与融合利⽤等⽅⾯的问题逐渐凸显。
数据孤岛
企业机构繁多，数据散落在各个⻆落，例如边界安全的数据可能会存储于安全设备中，负载均衡、
中间件、操作系统等数据往往因为存储在运维相关平台上⽽被安全部⻔忽略，另外涉及到资产的
CMDB数据、系统架构等，普遍是包含在CMDB的登记数据中，实则与机构的安全态势感知息息相
关。这些类型的数据，相对于机构安全设备中的安全数据来说，既与安全相关，⼜相对孤⽴，治理
难度相对较⼤。
1
数据交互时效性⾼
在安全攻防过程中，对数据交互的实时性要求较⾼。例如，在出现安全攻击时，如果在发⽣攻击之
后，再进⾏查询被攻击IP是否跟威胁情报有关联、对应哪⼀项资产的话，整个安全防御系统的时效
性极差，⽆法及时为业务端提供所需数据，难以保障系统安全运营。关键⾏业对安全防御能⼒要求
极⾼，都希望在攻击发⽣时，能够实现⾃动的数据碰撞，也称数据补全。
数据交互复杂多变
各⾏业数字化转型加速，⼤数据技术应⽤场景越来越⼴泛，相关平台⼯具的增多，导致数据存储的
地址也在增多；安全以及运维设备增多，相关的数据逐渐散落存储在庞杂的系统各处。
数据种类繁多包括⽇志，资产信息，漏洞信息，情报信息，配置信息等，通常存储在不同的
存储介质中。
·不同的数据来源提供不同的读取⽅式，需要采⽤不同的客户端或编写特定的程序脚本；
·不同的数据⽬的提供不同的写⼊⽅式，也需要采⽤不同的客户端或编写特定的程序脚本；
·不同数据来源和⽬的仓库之间，数据结构设计不同，还需要采⽤不同的转换软件或程序。
由此，随着数据⽹络中数据源、数据使⽤⽬的等因素的不断复杂化，使得整个数据治理变得
更加错综复杂。
数据⼯⼚(DataFlow Manager)是⽇志易针对数据整合共享的核⼼需求，推出的新⼀代
数据治理融合平台，通过图形可视化操作，简单拖拽即可实现数据的采集、流转、清洗、
发布，⼤幅简化异构数据来源和⽬的的对接，同时提供了任务流调度、可视化监控、⾃
助数据清洗等丰富的平台管理功能，帮助企业⾼效地实现异构数据源和⽬的的连接共享
需求。
2
2.1.1 攻击利⽤
⽇志易数据⼯⼚——数据治理
源源数数据据对对接接
⽇⽇志志易易数数据据⼯⼯⼚⼚可可以以对对接接业业内内所所有有主主流流数数据据源源，，包包括括HHaaddoooopp、、KKaaffkkaa、、MMoonnggooDDBB、、⼈⼈⾏⾏上上报报相相关关
的的HHTTTTPPSS接接⼝⼝等等数数据据存存储储介介质质，，实实现现数数据据的的⽆⽆缝缝对对接接。。此此外外，，数数据据⼯⼯⼚⼚的的对对接接是是⽆⽆需需定定制制开开发发的的。。
建⽴指标标准化体系
帮助⽤户建⽴指标标准化体系，不同类型的数据对接到⽇志易数据⼯⼚之后，将被转换为标准化的
字段名称如SICIP，⽬的IP将会全部转换为标准化的描述，帮助⽤户实现异构数据指标的统⼀标准化
管理。
3
元数据管理
⽤户可以随时查阅虚拟资产，随时掌握已有的元数据。例如，⽤户能够查询到防⽕墙在整个数据治
理体系中的字段以及字段名。
可视化数据调度流程编辑
⽇志易数据⼯⼚为⽤户提供了智能可视化的⾃动编排引擎，实现各类异构数据的采集、处理以及调
度。数据⼯⼚配置了轻量级设计和执⾏引擎，能够通过最简单的拖拽完成数据的采集、流转、清
洗、发布；具有从⼀到多的数据分发任务能⼒，⽀持批流⼀体处理，能够⼤幅简化异构数据来源和
⽬的的对接过程。
如下图，数据⼯⼚可以从界⾯右侧的组件库中拖出⼀个组件，再通过⼀个数据处理的组件进⾏分
流，之后对需要满⾜条件的数据进⾏字符转化，并将其放进Hive组件中。通过数据⼯⼚这⼀简单的
流程化配置操作，⽤户可以轻松完成繁杂异构数据的⾃动转化，实现数据调度的⾃定义编辑。
4
在数据调度过程中，⽇志易数据⼯⼚还能够帮助⽤户跟踪元数据的质量体系态势。实时监测数据传
输过程中的元数据质量体系，分析是否有些数据源缺失字段，若有即产⽣告警。此外，数据⼯⼚还
能够对不同数据源之间指标转换过程中每⼀步输⼊、输出的结果进⾏⾎缘跟踪，深度实现数据治理
有迹可循。
⽇志易数据⼯⼚——数据融合
数据存储
在做数据融合之前，如果⽤户⾃身并没有合适的数据存储介质，⽇志易⾃研的国内⾸个⾼可⽤性分
布式数据搜索引擎Beaver，能够帮助⽤户存储海量繁杂的⾮结构化以及半结构化数据，每天可处理
数百TB⽇志数据，相⽐通⽤开源搜索引擎来说，Beaver性能提升了10倍且硬件成本降低了50%。
对于指标类的数据，例如防⽕墙的连接数、会话数等，将会保存在时序数据库中。同时，数据⼯⼚
能够从流量设备中提取出源IP跟⽬的IP之间的访问关系，也能够从扫描机器或防⽕墙会话⽇志中提
取出源IP跟⽬的IP之间的会话连接关系，会话连接关系数据⼀般保存在图数据库中。
通过数据采集、转换、调度、留存的准备，为接下来要做的数据治理与融合碰撞提供了基础。
5
机器学习——数据融合所需要的功能
⽇志易数据⼯⼚对接了业内主流的机器学习算法。时序预测算法更多地应⽤在指标类的数据，例如
上⽂提到的防⽕墙会话数与连接数、CPU使⽤率等。通过这些类型的机器学习，帮助⽤户实现⾃动
化地监测安全设备是否正常运⾏，例如发现会话数突然增加，或是CPU使⽤率突然增加等异常情
况。DBSCAN的算法普遍应⽤在⽤户⾏为分析的过程中，例如通过聚类去分析出个⼈⾏为是否跟相
应群组的⾏为基线存在明显偏差，进⽽发现员⼯可能存在的异常⾏为。
SPL（Search Processing Language）安全建模分析
那如何使⽤这些机器学习的功能呢？
⽇志易数据⼯⼚将相关函数全部封装成分析建模语⾔，即SPL（Search Processing Language），
它是⽇志易⾃主研发的低代码可建模搜索处理语⾔，通过界⾯化的脚本式建模编程，帮助⽤户将复
杂的数据搜索分析，直观地转变为便捷可视化的条件处理流程，具有更强的可⽤性、灵活性、功能
性，已达到国内顶尖技术⽔平。
6
⽬前，⽇志易SPL（Search Processing Language）已实现了200多函数及指令，全⾯覆盖⽇常运
维分析和安全分析⼯作需求，涵盖了⼏乎所有机器学习函数。
7
关于⽇志易
北京优特捷信息技术有限公司（简称：⽇志易）是国家级专精特新“⼩巨⼈”企业，专注于机器⼤数
据平台、服务和解决⽅案的开发，致⼒于帮助各⾏业⽤户挖掘和利⽤机器数据价值，提升数字化运
营能⼒，轻松应对IT及业务挑战。公司推出智能⽇志中⼼、SIEM安全⼤数据分析平台、观察易、智
能运维平台、数据⼯⼚、⽇志易⼤屏等系列产品，⼀站式解决机器数据采集、清洗、存储、搜索、
分析、可视化等需求，帮助企业轻松实现查询统计、业务关联分析、监控告警、安全信息与事件管
理SIEM、⽤户与实体⾏为分析UEBA、智能运维AIOps、IT可观察性等应⽤场景。
联系我们
咨询热线：400-085-0159
官⽹地址：www.rizhiyi.com
关注⽇志易微信公众号，接收更多⾏业资讯和⼲货内容
扫码添加⽇志易官⽅交流微信，进⼊⾏业交流群，还有随机福利发送~
8
|---|--|--|--|--|--|--|
| 0 |  |  |  |  |  |  |
| 1 |  |  |  |  |  |  |
| 2 |  |  |  |  |  |  |
| 3 |  |  |  |  |  |  |
| 4 |  |  |  |  |  |  |