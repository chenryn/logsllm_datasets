### 问题描述

我有一个只读域控制器（RODC），它与另一个站点中的可写域控制器（writable DC）进行复制。上周，由于该站点的维护，可写域控制器停机了大约两天。在这次停机之后，RODC无法再与可写域控制器进行复制。

### 错误信息

- **错误代码 1722**：RPC 服务器不可用。
- **确认**：已确认两个域控制器上的 RPC 服务都在运行。
- **DNS 事件日志**：
  - DNS 服务器从 Active Directory 遇到了一个严重错误。请检查 Active Directory 是否正常运行。扩展错误调试信息为 "000006BA: SvcErr: DSID-03210BEB, problem 5012 (DIR_ERROR), data 0"。
- **其他错误**：
  - 知识一致性检查器（KCC）无法形成完整的生成树网络拓扑。因此，以下站点无法从本地站点访问。
  - 所有能够通过此传输复制目录分区的目录服务器当前均不可用。
  - KCC 没有足够的站点连接信息来创建生成树复制拓扑，或者一个或多个具有此目录分区的目录服务器无法复制目录分区信息。这可能是由于目录服务器无法访问。
  - 知识一致性检查器找到了本地只读目录服务的复制连接，但源服务器没有响应或未进行复制。未能从当前复制伙伴中找到新的合适的源服务器。此操作将重试。

### 可能的原因

在可写域控制器重启后，某些设置或配置可能丢失，导致 RODC 无法与其进行复制。尽管两个域控制器之间可以互相 ping 通，但仍存在上述问题。

### 解决建议

1. **检查网络拓扑**：
   - 确保您的网络是完全网格化的，以便复制能够正常工作。您可以通过打开 Active Directory 站点和服务来查看域控制器是否正在尝试相互复制。如果它们只能看到一个主要的域控制器，那么需要确保它们能够看到并从彼此处复制数据。

2. **验证 DNS 设置**：
   - 确认 DNS 服务器和客户端配置正确，并且 DNS 服务器能够解析所有必要的记录。检查 DNS 事件日志中的错误信息，确保 Active Directory 正常运行。

3. **检查 KCC 设置**：
   - 确保知识一致性检查器（KCC）能够正确地创建生成树复制拓扑。检查是否有足够的站点连接信息，并确保所有相关的目录服务器都可访问。

4. **重新配置复制连接**：
   - 如果上述步骤都无法解决问题，可以尝试重新配置复制连接。删除现有的复制连接，然后重新创建它们，确保所有必要的参数都正确设置。

如果您还有其他疑问或需要进一步的帮助，请随时告知！感谢您的理解和支持！