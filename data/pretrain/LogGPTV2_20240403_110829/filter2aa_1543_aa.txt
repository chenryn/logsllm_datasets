Mastering AWS Security
Create and maintain a secure cloud ecosystem
Albert Anthony
BIRMINGHAM - MUMBAI
Mastering AWS Security
Copyright © 2017 Packt Publishing
All rights reserved. No part of this book may be reproduced, stored in a retrieval system, or
transmitted in any form or by any means, without the prior written permission of the
publisher, except in the case of brief quotations embedded in critical articles or reviews.
Every effort has been made in the preparation of this book to ensure the accuracy of the
information presented. However, the information contained in this book is sold without
warranty, either express or implied. Neither the author, nor Packt Publishing, and its
dealers and distributors will be held liable for any damages caused or alleged to be caused
directly or indirectly by this book.
Packt Publishing has endeavored to provide trademark information about all of the
companies and products mentioned in this book by the appropriate use of capitals.
However, Packt Publishing cannot guarantee the accuracy of this information.
First published: October 2017
Production reference: 1251017
Published by Packt Publishing Ltd.
Livery Place
35 Livery Street
Birmingham
B3 2PB, UK.
ISBN 978-1-78829-372-3
www.packtpub.com
Credits
Author
Albert Anthony
Copy Editors
Juliana Nair
Stuti Srivastava
Reviewers
Adrin Mukherjee
Satyajit Das
Project Coordinator
Judie Jose
Commissioning Editor
Vijin Boricha
Proofreader
Safis Editing
Acquisition Editor
Heramb Bhavsar
Indexer
Tejal Daruwale Soni
Content Development Editor
Devika Battike
Graphics
Kirk D'Penha
Technical Editor
Prachi Sawant
Production Coordinator
Melwyn Dsa
About the Author
Albert Anthony is a seasoned IT professional with 18 years of experience working with
various technologies and in multiple teams spread all across the globe. He believes that the
primary purpose of information technology is to solve problems faced by businesses and
organizations. He is an AWS certified solutions architect and a corporate trainer. He holds
all three AWS associate-level certifications along with PMI-PMP and Certified Scrum
Master certifications. He has been training since 2008 on project management, cost
management, and people management, and on AWS since 2016.
He has managed multiple projects on AWS that runs big data applications, hybrid mobile
application development, DevOps, and infrastructure monitoring on AWS. He has
successfully migrated multiple workloads to AWS from on-premise data centers and other
hosting providers. He is responsible for securing workloads for all his customers, with
hundreds of servers; processing TBs of data; and running multiple web, mobile, and batch
applications. As well as this, he and his team has saved their customers millions of dollars
by optimizing usage of their AWS resources and following AWS best practices.
Albert has worked with organizations of all shapes and sizes in India, the USA, and the
Middle East. He has worked with government organizations, non-profit organizations,
banks and financial institutions, and others to deliver transformational projects. He has
worked as a programmer, system analyst, project manager, and senior engineering manager
throughout his career. He is the founder of a cloud training and consulting startup,
LovesCloud, in New Delhi, India. 
I want to thank the staff at Packt Publishing, namely Heramb, Devika, and Prachi, for
giving me the opportunity to author this book and helping me over the past few months to
bring this book to life.
About the Reviewers
Adrin Mukherjee, solution architect for Wipro Limited, is a core member of the
engineering team that drives Wipro's Connected Cars Platform. He has thirteen years of IT
experience and has had several challenging roles as a technical architect, building
distributed applications, and high performance systems.
He loves to spend his personal time with his family and his best friend Choco, a Labrador
Retriever.
Satyajit Das has more than seventeen years of industry experience including around four
years of experience in AWS and Google cloud. He helped internal and external customers
for defining architecture of applications to be hosted in cloud. He has defined migration
factory and led teams for application migration. He has used Enterprise architecture
framework to define application, data and infrastructure architecture and migrate solutions
to AWS cloud. He architected, designed and implemented high available, scalable and fault
tolerant applications using Micro-Service architecture paradigm and used cloud native
architecture in AWS. He has also been involved with cloud CoE, governance setup, defining
best practices, policies and guidelines for service implementations. He has lead large teams
for solution delivery and execution. He has experience across industry domains like
manufacturing, finance, consulting, and government.
Satyajit has worked in leading organizations such as Wipro, Infosys, PwC and Accenture in
various challenging roles.
Satyajit has co-authored AWS Networking Cookbook
I’ll like to thank my entire family specially my wife Papiya for supporting me in all ups and
downs.
www.PacktPub.com
For support files and downloads related to your book, please visit www.PacktPub.com.
Did you know that Packt offers eBook versions of every book published, with PDF and
ePub files available? You can upgrade to the eBook version at www.PacktPub.com and as a
print book customer, you are entitled to a discount on the eBook copy. Get in touch with us
at PI:EMAIL for more details.
At www.PacktPub.com, you can also read a collection of free technical articles, sign up for a
range of free newsletters and receive exclusive discounts and offers on Packt books and
eBooks.
https:/​/​www.​packtpub.​com/​mapt
Get the most in-demand software skills with Mapt. Mapt gives you full access to all Packt
books and video courses, as well as industry-leading tools to help you plan your personal
development and advance your career.
why subscribe
Fully searchable across every book published by Packt
Copy and paste, print, and bookmark content
On demand and accessible via a web browser
Customer Feedback
Thanks for purchasing this Packt book. At Packt, quality is at the heart of our editorial
process. To help us improve, please leave us an honest review on this book's Amazon page
at https://www.amazon.com/dp/178829372X.
If you'd like to join our team of regular reviewers, you can e-mail us at
customerreviews@packtpub.com. We award our regular reviewers with free eBooks and
videos in exchange for their valuable feedback. Help us be relentless in improving our
products!
Table of Contents
Preface
1
Chapter 1: Overview of Security in AWS
6
Chapter overview
7
AWS shared security responsibility model
7
Shared responsibility model for infrastructure services
10
Shared responsibility model for container services
13
Shared responsibility model for abstracted services
14
AWS Security responsibilities
15
Physical and environmental security 
16
Storage device decommissioning
17
Business continuity management
17
Communication
18
Network security
20
Secure network architecture
20
Secure access points
20
Transmission protection
20
Network monitoring and protection
21
AWS access
21
Credentials policy 
21
Customer security responsibilities
22
AWS account security features 
25
AWS account 
25
AWS credentials 
26
Individual user accounts
27
Secure HTTPS access points
27
Security logs
27
AWS Trusted Advisor security checks 
28
AWS Config security checks
29
AWS Security services
30
AWS Identity and Access Management 
31
AWS Virtual Private Cloud
31
AWS Key Management System (KMS)
31
AWS Shield
32
AWS Web Application Firewall (WAF)
32
AWS CloudTrail
32
[ ii ]
AWS CloudWatch
32
AWS Config
33
AWS Artifact
33
Penetration testing
33
AWS Security resources
33
AWS documentation 
34
AWS whitepapers
34
AWS case studies
34
AWS YouTube channel
34
AWS blogs
35
AWS Partner Network
35
AWS Marketplace
35
Summary
35
Chapter 2: AWS Identity and Access Management
37
Chapter overview
38
IAM features and tools
39
Security
39
AWS account shared access
39
Granular permissions
40
Identity Federation
40
Temporary credentials
40
AWS Management Console
41
AWS command line tools
42
AWS SDKs
42
IAM HTTPS API
42
IAM Authentication
42
IAM user
43
IAM groups
46
IAM roles
48
AWS service role
49
AWS SAML role
50
Role for cross-account access
51
Role for Web Identity Provider
52
Identity Provider and Federation
53
Delegation
54
Temporary security credentials
54
AWS Security Token Service
55
The account root user
56
IAM Authorization
57
Permissions
57
[ iii ]
Policy
59
Statement
60
Effect
61
Principal
61
Action
61
Resource
62
Condition
62
Creating a new policy
63
IAM Policy Simulator
64
IAM Policy Validator
65
Access Advisor
66
Passwords Policy
66
AWS credentials
67
IAM limitations
69
IAM best practices
70
Summary
73
Chapter 3: AWS Virtual Private Cloud
74
Chapter overview
75
VPC components
76
Subnets
77
Elastic Network Interfaces (ENI)
77
Route tables
78
Internet Gateway
78
Elastic IP addresses
79
VPC endpoints
79
Network Address Translation (NAT)
80
VPC peering
81
VPC features and benefits
81
Multiple connectivity options
82