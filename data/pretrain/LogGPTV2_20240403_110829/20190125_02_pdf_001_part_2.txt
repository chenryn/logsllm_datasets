Active sessions
4
3
2
1
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Average active session
Time
1 2 3 4 5 6 7 8 9 10
User 10
User 9
User 8
User 7
User 6
User 5
User 4
Active sessions
User 3
4
3
User 2
2
1
User 1
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Active session state
Time
idle Query 1 idle Query 2 idle Query 3 idle
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Active session state
Time
idle Query 1 idle Query 2 idle Query 3 idle
CPU IO Wait
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
AAS by session state
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Showing per second samples
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
AAS over one minute averages
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
AAS compared to max CPU
Max vCPU
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
AAS rules: Using CPU count as yardstick
 AAS  # of CPUs
Could have performance problems
 AAS >> # of CPUS
There is a bottleneck
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
When users say the database is slow …
AAS = 0
You prove that it’s not the database
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Also useful for sizing
• If CPU load significantly less than #vCPU then oversized
• If CPU load Is > #vCPU undersized
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Accessing Performance Insights
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Access to Performance Insights
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Max vCPU
Max
vCPU
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
CPU bottleneck
Bottleneck
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Customer use case: CPU bottleneck
Wait
States
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
CPU bottleneck
CPU
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
CPU bottleneck
CPU
Load
SQL
with high CPU
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Click and drag
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Zoom in
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Wait bottleneck
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Wait bottleneck
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Other dimensions
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3
Top host by SQL statement
© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
E6636BC20180234D78A0072836F0BE9042B9B20C10C36BB0A3D98931B1362BBC8B48B63811510B0922992408384685EB1D19217AC1D04B911BBFC2547F2E1FD1241D09ADF12484E784902E776A274792263CE53673BDD3EE08D8319F30A6DC28DAE6249B0E3