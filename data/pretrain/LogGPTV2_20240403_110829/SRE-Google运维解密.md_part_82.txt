这个过程在执行的时候不应该归责于任何一个个人，更重要的是，作为一个组织我们要
当出现问题时（由于Google内部环境的海量规模、复杂程度，以及非常高的变化速度，
引起故障，或者带来风险的根源问题。这与SRE“对事不对人"的事后总结理念非常一致。
纠正性和预防性操作（CAPA）注4是提升可靠性的一个常见概念。这意味着系统化关注于
事后总结的文化
核能行业中非常重要，因为他们对事故和灾难几乎是零容忍的。
系统设计时加入了多层防护机制，包括最后的发电站核辐射物理屏障。纵深防御理念在
堆的所有系统都有余备份，同时在设计中，每个主要系统都强制备有后备系统。整个
在核能行业中，纵深防御是灾难预案中的一个关键元素（参见文献[IAEA12]）。核反应
纵深防御
对风险的承受能力与我们区别很大，这就导致了他们采用的方案与Google截然不同。
过的风险性前提下，最大化选代的速度。其他行业（如上文提到的医疗行业和军用行业）
程只需要三周。这两个例子与Google的发布迭代文化截然不同，我们更倾向于在计算
计高度重视的文化。构建新的国防设备甚至需要一整年的设计过程，最后的实际编码过
定会有东西出现问题），详细考虑下列问题是很重要的：
·究竞发生了什么
如何确保这次故障不会再次发生
下次是否可以采用其他方案解决问题
响应的有效程度
事后总结的文化
403
<466
<465
---
## Page 446
404
需要我们来重复执行呢？自动化可以降低运维负载，同时节省工程师的时间。他们可用
的文化中强调避免反复执行一项重复性的工作。如果一项工作可以自动进行，为什么还
Google SRE本质上还是软件工程师，他们对重复性的、被动性的工作十分反感。在我们
将重复性工作自动化，
这个领域中，指责某一个具体的人是没有意义的。
人的事后分析机制。事故发生时总是非常混乱的，许多因素都可能影响事故的发生。在
了，但是还是会感觉到他们做得不够。和Google类似，救生员行业也采用了对事不对
事故发生之后，甚至会有医疗顾问来帮助团队从精神创伤中恢复。救生员可能已经尽力
会组织培训帮助大家建立处理类似事故的信心和能力。在某次特别严重的或者创伤性的
论哪些行动是正确的哪些是错误的。接下来会根据这些讨论结果修改运营规则，同时还
故都需要一个详细的事后总结。对于严重的问题，团队还会集体从头到尾分析案例，讨
生员的脚踏入了水里，后续就要有很多报告要写。”在游泳池或者沙滩上出现的任何事
救生员行业也有一个根深蒂固的事后分析与计划文化。MikeDoherty讽刺道：“如果救
报告和分析会在周期性的杂志上刊登。
都意味着潜在事故的发生，以及学习和优化的机会。下一次，整个公司和员工可能就不
程，或者某个工人在出现泄漏的时候躲开了，或者是台阶上的液体没有及时清理。这些
这种没出事的事故事实上就是一种潜伏的事故。例如，某个工人没有遵守标准的运营流
略了。潜伏的错误，加上某个适合的时机，就会导致事故的发生。”（参见文献[Bra15]。）
类似事故都曾经发生过好几次，只是没有造成任何后果。这些事故在发生的时候都被忽
析。根据VMBrasseur在YAPCNA2015的一次演讲，“在任何事故和业务灾难发生之前，
伤亡，但是没有一—这样的事件也会被详细追究。这些场景成为了一种预防性的事后分
制造业与化工行业的危险性非常高，以至于“差点出事”。
安全问题时亲自联系他。注6
小时内通知他。他甚至将自己家的电话号码直接分发给员工，这样一线员工可以在发现
Aloca在安全问题上非常关注。前CEOPaulO'Neil要求员工在出现人员伤亡事故的24
的危险性，员工伤亡的风险是一直存在的（高温、高压、有毒气体、腐蚀性液体等）。例如，
人员匿名汇报这类事故的发生，以在整个行业内部敲响警钟。关于这类差点出事的事故
另外一个进行事后总结的动力是对安全的关注。在制造业与化工行业中，由于生产过程
（医疗器械），以及欧盟中的数个NCA。
参见htp://ehstoday.com/safety/nsc-2013-oneill-exemplifes-safety-leadership
参见https://en.wikipedia.org/wiki/Competentauthority
第33章其他行业的实践经验
消除运维负载
。注核工业与运输业也被严密监管。
—某个事件可能会造成严重
---
## Page 447
动输入数字，再按一个按钮，激光系统就会开始视力矫正过程。然而，数据输入错误的
的。在LASIK手术进行之前，医生需要进行屈光度测试。在最初的设计中，医生需要手
在ErikGross的故事中，自动化机制在降低激光视网膜手术过程中的用户错误是很有效
内部采用了很多自动监控系统，实际的空中交通管理系统最终的实现还是需要人来校验
在Matt Toia的经验中，航空行业有选择地采用自动化。例如后备系统的切换一般来说是
中的自动化机制。这里，采用的标准是如果整个发电站需要在少于30分钟的时间内响
这意味着自动化可以产出更多高标准的产品。DanSheridan讨论了部署于英国核能工业
更低的成本来完成这些工作。而且，自动化通常比人工完成工作的重复性更强、更可靠
Kenned的经验，效率与成本的节约在制造业中是非常关键的。自动化可以以更高的效率
相反，某些公司正是因为计算机比人要反应快得多而大量采用自动化。根据Eddie
的时候，速度反而是有害的。
分钟内造成了千亿美元的损失。注*计算机能够非常快地执行操作，在这些操作配置错误
易商试图利用自动化方式操纵股市。虽然股票市场很快恢复了，但是这次闪电崩溃在30
样的，美国股票交易所2010年经历了一次闪电崩溃（FlashCrash），最终归责于一个交
配置错误的自动化系统可能会在极短的时间内造成极大的财务损失。在2012年，Knight
根据JohnLi的经验，私有化交易行业在近年来对自动化的应用越来越小心。经验证明
务更重要。
造成非常严重且无法挽回的问题。当面对核反应堆时，缓慢而稳健的方法比快速完成任
而非单独一个人。核动力海军同时担心自动化和计算机运行速度太快，以至于它们可能
现人能注意到的问题。潜艇上的操作是由一条信任的人工决策链管理的一
工程负责人保持通话。这些操作过程是极为人工化的，因为担心自动化系统可能不会发
经历，操作某个阀门需要一个操作员、一个监督员，以及一个船员与负责监控该操作的
美国核动力海军通过一系列交叉管理流程来避免自动化。例如，根据Jeff Stevenson的
我们所调研的各个行业在对待自动化的问题上各有不同。某些行业信任人多过自动化。
运行。
自动进行的，但是在其他任务上，行业内部普遍要求人工进行二次校验。虽然整个行业
应某种情况，那么这种响应必须要自动化进行。
这些时间去主动改进服务的其他方面。
有关Knight和 PowerPeg Software 的讨论见“FACTS，Section B”（文献[Sec13]）。
flashcrash-htmla
将重复性工作自动化，消除运维负载
Computerworld,http://www.
一一系列人
405
<468
---
## Page 448
469
资深的成员。Eric Schmidt 和Jonathan Rosenberg将之称为“HiPPO”-
Google SRE同时用以下信息作为团队内部的基础要求：
式保障结构化和理性的决策过程：
在Google内部，
结构化和理性的决策
这一类的问题就全部消失了。
的虹膜图像进行对比，以防止数据混乱情况发生。当这种自动化解决方案最终实现时，
动提出警告。其他自动化的改进包括：操作环节中的虹膜照片会自动与屈光度测量环节
确性检查是第一个改进：如果操作者输入了超出预期范围的数字，自动化程序会立刻自
自动化在这个环节中减少了这种错误带来影响的可能性。一个自动化的对输入数据的正
睛的数据搞混了。
问题很严重。在这个流程中，可能会错误输入另外一个病人的数据，甚至是左右两只眼
406
因为系统升级而快速变化。这种方式同时适用于那些员工技能水平较低的行业，这样可
的权威指南。这种指令式的方式适用于那些发展和演进较慢的行业，因为故障场景不会
都在一个检查列表中或者“大本子”里面记载了。当故障发生时，这些资料是进行操作
很多行业都非常依赖手册与流程，而不是实时的故障排除。任何人类能想到的故障场景
业也类似。所有的决策都由一个想法驱动：“如果目前运行正常，那就不要修改它。”
本上不会出错，同时余度非常高”，GusHartmann解释道。Dan Sheridan提到，核能行
纪80年代部署的远程交换机。为什么他们要依赖几十年前的技术呢？因为这些交换机“基
行业有一个显著的特点—非常不愿意改变底层技术。例如，通信行业仍然在使用19世
永远不要试着修复它”这种理念来进行决策。这些在设计过程中投入很多思考与精力的
其他行业中进行决策的过程有很大不同。我们了解到，某些行业使用“如果没有坏，就
工的意见（参见文献[Schl4）］。
决策应该是通知式的，而不是指令式的，决策的过程不应该考虑个人意见一
●每个人都为服务的用户负责。
·数据驱动决策要优于情感驱动的决策、直觉驱动的决策，以及资深人士的意见。
●某项决策的基本方向是事先决定的，而不是事后得出的。
每个成员都能够根据可用的数据找出执行方案。
任何假设都应该明确说明。
决策时考虑的信息源是清楚的。
第33章
尤其是SRE部门内部，数据是极为重要的。整个团队通过以下几种方
其他行业的实践经验
一工资最高的员
一哪怕是最
---
## Page 449
经采用了行业内部普遍采用的可靠性原则，并且创建了自己独特的文化。Google的这种
Google的软件产品和服务如果出现问题，并不会直接造成人身伤亡，这是一个优势。因
Google SRE的很多核心思想在很多行业中都得到了验证。这些成功行业的很多经验教训
在交易发生意外的时候终止。如果某个系统发生异常情况，风险控制部门的第一反应是
最终，某些行业，例如交易行业，将决策划分成更小的块来更好地管理风险。根据John
种可控的测试，保证某种变更不会导致结果的大幅度改变，确保没有意外情况发生。变
业中的一大特点就是试验文化，对构建和测试猜想非常关注。这些行业经常性地进行某
其他行业也会采用很清晰的、数据驱动的决策方式。在EddieKennedy的经验中，制造
确保员工在紧急情况中正确响应的方法就是提供一套简单清晰的指令集。
文化可以满足内部对扩展性、复杂度、迭代速度以及高可靠性之间追求的平衡。
此我们可以利用例如错误预算这样的工具来支撑快速创新的文化。总的来说，Google已
到底多么可靠才是“足够可靠”。
正如前面几章提到的，我们的很多业务（例如搜索）都要在产品层面进行决策，来决定
间寻求平衡。虽然Google对可靠性非常看重，我们也必须要适应内部快速的变更频率。
在Google内部，我们经常在用户对高可靠性的预期与内部对快速变更和创新的追求之
采用更保守的方法是必要的。
力、民航，以及医疗行业中，如果造成事故可能会有人身伤亡。当故障的影响这么大时，
变更的速度。但是在追求变更速度的同时一定要考虑到故障发生时的影响。例如在核动
在本次跨行业调研中最主要的一点结论是，与很多软件行业相比，Google明显更倾向于
可能启发了一些Google今天内部所使用的流程与实践。
小结
员是否错失了某种可以赚钱的机会。
也没有赚钱，但是起码不会亏钱。”只有风险控制部门可以将系统重新启用，不论交易
关掉这个系统。JohnLi提到：“如果我们不进行交易，那么我们就不会亏钱。虽然我们
在追求利益的同时承受不必要的风险。这个风险控制部门负责监控交易场所内部，同时
Li的经验，交易行业有一个专门的风险控制部门，独立于交易部门之外，负责确保不会
更只有在经过实验证明后才会实施。
小结
407
470
471
---
## Page 450
474
473
408
注1GoogleVP，SRE团队负责人。
规则与公理应该是足够通用并立即可以采用的，也应该能够在未来保持一定的相关性。
当组建团队或者构建系统时，最理想的情况是制定一系列通用的基本规则和公理。这些
GoogleCloud等服务）。任何人都可以使用甚至优化这些年SRE积累的经验与构建的系统。
这些解决方案可以很容易地被其他SRE团队重用，甚至提供给Google之外的人（利用
我们运行海量系统的经验都固化成了实际的代码，同时也包装成了对外提供的产品。
统更容易管理。从某种程度上来说，我们既是飞机驾驶员，也是飞机的设计者和工程师。
如何能大规模扩展这些系统。但是我们同时也需要时间反思与决策如何才能够让这些系