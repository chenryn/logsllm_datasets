User:  How to run a Node.js application in a Docker container and allow it to access the MySQL database on the host?
Assistant: The Node.js application in the container can access the MySQL database on the host machine by mapping the MySQL service port on the host machine to the container. The specific steps are as follows: 1. Install MySQL on the host machine, and expose the port of the MySQL service, for example, the port number is 3306. 2. Create a Docker image, which contains the Node.js operating environment and the required dependent libraries, you can use the following command to create: ``` docker build -t node-app . ``` where "." indicates the current directory, "node-app" is the image name. 3. Run the container and map the MySQL service port on the host to the container, you can use the following command: ``` docker run -p 3000:3000 -p 3306:3306 -v /path/to/app:/app -e MYSQL_HOST=host.docker.internal -e MYSQL_USER=user -e MYSQL_PASSWORD=password -e MYSQL_DATABASE=dbname node-app ``` Among them, "-p 3000:3000" indicates that port 3000 of the container is mapped to the port of the host Port 3000; "-p 3306:3306" means to map the host's MySQL service port to port 3306 of the container; "-v /path/to/app:/app" means to mount the application directory on the host to the container in the /app directory; "-e MYSQL_HOST=host.docker.internal -e MYSQL_USER=user -e MYSQL_PASSWORD=password -e MYSQL_DATABASE=dbname" means setting the environment variables required to connect to the MySQL database in the container. 4. Use host.docker.internal as the host address of MySQL in the application to access the MySQL database on the host. For example: ``` const mysql = require('mysql'); const connection = mysql.createConnection({ host: 'host.docker.internal', user: process.env.MYSQL_USER, password: process.env.MYSQL_PASSWORD, database : process.env.MYSQL_DATABASE }); connection.connect(); ``` Among them, process.env.MYSQL_USER, process.env.MYSQL_PASSWORD, process.env.MYSQL_DATABASE are environment variables set in the container, which can be set through process.env to get.