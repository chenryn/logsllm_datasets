narios.
Table 3 shows the throughput of the ﬁxed width conﬁgurations
and of SampleWidth. We see that SampleWidth improves through-
put by roughly 65% compared to the best ﬁxed-width (20 MHz).
6.3 Reducing Power Consumption
We now evaluate the effectiveness of SampleWidth towards con-
serving power. In this experiment, each trial is one minute long and
(b) Cumulative Energy Usage
Figure 13: Instantaneous and cumulative energy usage for dif-
ferent conﬁgurations.
involves transferring a 20MB ﬁle 25 seconds into the experiment.
We try all ﬁxed widths and SampleWidth.
Figure 13(a) shows the power consumption behavior in detail for
all conﬁgurations at the sender. The ﬁxed width systems start out
at their idle mode power consumption, move to their send mode
consumption level, and then come back to their idle mode levels.
SampleWidth starts out at the idle mode level for 5 MHz, because
that is least costly. When the transfer starts, it moves to the power
consumption level of 40 MHz, because that yields the least power-
per-byte ratio. When the transfer ﬁnishes, it comes back to the
5 MHz level. Figure 13(b) shows that through this adaptation, Sam-
pleWidth is able to consume the least total amount of energy.
6.4 Efﬁciency of Autorate & Smoothness
SampleWidth uses autorate to probe channel widths and ﬁnd an
efﬁcient data rate. We justify this design choice by showing that
modern autorate algorithms are indeed capable of achieving close
to optimal throughput. Figure 14 shows the suboptimality in terms
of reduction in throughput of using Atheros’s proprietary autorate
implementation on Windows XP in comparison to using the best
possible modulation in a stationary indoor setting. The important
observation is that at all measurement points, autorate performs
within at most 16% of the optimal data rate.
1
S 1.50
2
3
4
5
1.50
1.51
1.53
1.43
6
1.6
7
1.47
8
1.6
9
1.63
In order to see whether autorate is sufﬁciently close to the opti-
mum in order for SampleWidth to converge, recall the deﬁnition of
smoothness S. Speciﬁcally, we have discussed in Section 5.4 that
if the average data rate obtained by autorate is by no more than a
factor of S worse than the optimum, SampleWidth is guaranteed to
converge. Table 6.4 contains the S values of our indoor measure-
ments. It shows that autorate is well within the required accuracy
bounds indicated by these smoothness numbers and hence, it con-
verges.
Figure 14: Suboptimality of autorate.
(a) Near setting
Figure 15: CDF of switching overheads when switching be-
tween a series of two random channel widths.
6.5 Switching Overhead
Finally, we quantify the overhead of switching widths in our cur-
rent implementation. The setup consists of two laptops. One laptop
broadcasts packets at a high rate, and also periodically coordinates
with the other laptop and switches channel width. We measured the
time elapsed at the receiver between when the ACK was sent and
the next broadcast packet was received. That is, this time includes
both the hardware switching time and the overhead of our coordi-
nation handshake, which is currently implemented in user space.
Figure 15 shows the CDF of switching overheads encountered
for a series of random channel width changes. The results show
that the median switching time is 17 ms and the maximum is 45 ms.
These are small enough for most applications to not notice the un-
derlying switch.
7. WIDTH INTEROPERABILITY
An important concern regarding what we propose in this paper
is cross-width interference, i.e., interference between transmissions
on different channel widths but the same center frequency. In to-
day’s Wi-Fi networks, nodes typically operate on orthogonal chan-
nels. The cross-channel interference is usually low, and nearby
nodes on the same channel reduce simultaneous transmissions us-
ing a combination of physical and virtual carrier sensing (using
network allocation vector, or NAV). In our proposed world, how-
ever, nodes will share overlapping frequency blocks, without being
able to virtually carrier sense each other because they cannot de-
code each other’s transmissions. If physical carrier sensing, which
would still continue to function, is not sufﬁcient to prevent nodes
from trampling each others transmissions, the radio environment
will become unusable.
While evaluating this aspect comprehensively is difﬁcult within
the scope of this paper, we present preliminary evidence that phys-
ical carrier sense may sufﬁce to limit most simultaneous transmis-
sions. We use two diverse settings, which we call “near” and “far”.
Both settings have two ﬂows. In the near setting, all four nodes are
(b) Far setting
Figure 16: Maximum throughput at different ofﬁce distances
for all channel widths.
in same ofﬁce. In the far setting, the corresponding sender-receiver
pair are in the same ofﬁce, but the two pairs are separated such
that they can only partially hear each other. The loss rate from the
sender of one ﬂow to the receiver of the second is around 50% at
20 MHz with Modulation 6. We measure the throughput of each
ﬂow when operating by itself and when operating with the second.
In this experiments, one ﬂow is always at 20 MHz. We vary the
channel width of the other ﬂow.
Figure 16 shows that ﬂows co-exist well in both settings. In the
near setting, when the other ﬂow is at 5 or 10 MHz, the sum of
the throughputs of the two ﬂows does not add to the throughput of
the 20 MHz ﬂow alone, because of a version of the rate anomaly
problem [11]. The rate anomaly problem refers to the case when
a low modulation transmitter reduces the total throughput of the
network. It occurs because the 802.11 MAC allows transmitters to
send the same number of packets. But since the low modulation
packets occupy the medium much longer, its presence reduces total
network throughput. The same effect happens with narrower chan-
nels because their transmissions occupy the medium longer. These
experiments suggest that different widths on overlapping spectrum
blocks can co-exist.
8. RELATED WORK
The width of a wireless communication channel is one of the
most important parameters in wireless communication. Surpris-
ingly, ﬁxed channel widths have been taken for granted in virtu-
ally all wireless networking research. In comparison, other knobs
for improving network characteristics, such as transmission power,
frequency assignment, or modulation have been investigated ex-
tensively. Our discussion in Section 4-B on load-balancing in in-
frastructure based WLAN networks exempliﬁes this point. While
numerous approaches to alleviate this problem have been proposed
based on power control, channel assignment, client-association, or
rate-adaptation, channel width is always assumed to be constant.
Most recently, the wireless industry has begun exploring the use
of different (albeit static) channel widths. For example, the 2007
version of the IEEE 802.11 standard [1] speciﬁes 5 and 10 MHz
wide channels for use in the 4.9 GHz public safety bands. The
WiMax [24] standard speciﬁes 8 different channel widths mainly
for compliance in international markets and to meet FCC regula-
tions. Atheros has a proprietary Turbo mode, in which an AP can
use 40 MHz wide channels if a client is turbo-mode capable. How-
ever, the allocation of channel width is static, i.e. either 20 or 40
MHz. Turbo mode does not operate in ad hoc mode.
It is also
known to be extremely unfair to legacy 20 MHz transmissions in
its vicinity [22]. In this paper, we go beyond these exciting devel-
opments in the industry. We show that it is possible and beneﬁcial
to adapt the channel width based on application and system re-
quirements. We also show how different bandwidths can co-exist
without causing the unfairness of Atheros Turbo mode. In the realm
of communication in cognitive radio networks over TV bands, our
previous work on KNOWS [26] implicitly uses a notion of adaptive
channelization. However, the work does not speciﬁcally explore
practical beneﬁts of adaptive channel width.
One technology to adapt spectrum utilization is Orthogonal Fre-
quency Division Multiple Access (OFDMA) [24]. It is an extension
of OFDM, in which different subcarriers within a ﬁxed width sym-
bol can be assigned to separate users. A user can be assigned non-
contiguous subcarriers to improve resilience to narrowband inter-
ference. We note that OFDMA is complementary to our approach
of changing channel widths. While we change the symbol duration
to explicitly inﬂuence spectrum utilization, OFDMA can pack mul-
tiple users in the same symbol. Adaptive channel widths can give
the beneﬁts of throughput, capacity, range and power, while these
beneﬁts can be further enhanced using OFDMA technology.
9. CONCLUSIONS AND FUTURE AGENDA
In this paper, we demonstrate for the ﬁrst time how—using stan-
dard, off-the-shelf hardware—the channel-width of IEEE 802.11-
based network communication channels can be changed adaptively
in software. Our measurements show that this can lead to signif-
icant improvements in many of the desirable metrics in wireless
networks: range and connectivity, battery power-consumption, and
capacity. This, in turn, indicates that using channel-width as a new,
powerful tunable knob could lead to faster, less power-consuming,
fairer, and ultimately better wireless networks.
Several hardware and software challenges must be met to fully
realize the beneﬁts of adapting channel width. On the hardware
side, the most useful capability would be for radios to be able to
decode packets at different widths (on the same center frequency).
This capability would eliminate the coordination cost from channel
width adaptation and allow nodes to unilaterally adjust width. The
implementation of this capability could be similar to how radios can
decode different modulations today: an initial header transmitted at
a lowest width reveals the width of the remaining packet. In our ex-
periments we observed leakage for narrower channels, perhaps be-
cause the hardware ﬁlter is designed for 20 MHz. A programmable
ﬁlter for variables widths can reduce leakage and improve perfor-
mance when adjacent narrow channels are used.
On the software side, the combination of variable channel widths
and multiple center frequencies offers rich possibilities for improv-
ing system performance. Harnessing them requires new algorithms
and models that are distinct from today’s graph-coloring based ﬁxed-
width channel assignment models. The possibility of variable chan-
nel widths signiﬁcantly changes the nature of the algorithmic prob-
lem that now must be cast as “interval-allocation.” In addition, the
varying capabilities of different channels, fragmentation concerns,
and coordination cost must also be considered.
10. REFERENCES
[1] IEEE Std 802.11-2007 IEEE Standard Part 11: Wireless
LAN Medium Access Control (MAC) and Physical Layer
(PHY) Speciﬁcations.
[2] D. Aguayo, J. Bicket, S. Biswas, G. Judd, and R. Morris.
Link-level Measurements from an 802.11b Mesh Network.
In Proc. of SIGCOMM, 2004.
[3] M. Balazinska and P. Castro. Characterizing Mobility and
Network Usage in a Corporate Wireless Local-Area
Network. In Proc. of MobiSys, 2003.
[4] Broadcom WLAN Chipset for 802.11a/b/g.
www.hotchips.org/archives/hc15/2_Mon/11.
broadcom.pdf.
[5] J. Camp, J. Robinson, C. Steger, and E. Knightly.
Measurement Driven Deployment of a Two-tier Urban Mesh
Access Network. In Proc. of Mobisys, 2006.
[6] J. Camp, J. Robinson, C. Steger, and E. Knightly.
Measurement Driven Deployment of a Two-tier Urban Mesh
Access Network. In Proc. of Mobisys, 2006.
[7] Enabling Fast Wireless Networks with OFDM.
http://www.commsdesign.com/story/
OEG20010122S0078.
[8] JPL’s Wireless Communication Reference Website.
http://wireless.per.nl/reference/
chaptr03/fading/delayspr.htm.
[9] G. Judd and P. Steenkiste. Using Emulation to Understand
and Improve Wireless Networks and Applications. In Proc.
of NSDI, 2005.
[10] K. Govil, E. Chan, and H. Wasserman. Comparing
Algorithms for Dynamic Speed-Setting of a Low-Power
CPU. In ACM MobiCom 1995, August 1995.
[11] M. Heusse, F. Rousseau, G. Berger-Sabbatel, and A. Duda.
Performance Anomaly of 802.11b. In Proc. of INFOCOM,
2003.
[12] G. Holland, N. Vaidya, and P. Bahl. A Rate-Adaptive MAC
Protocol for Multi-Hop Wireless Networks. In Proc. of
MOBICOM, 2001.
[13] P. Horowitz and W. Hill. The Art of Electronics. Cambridge
University Press, New York, NY, USA, 1989.
[14] J. Proakis, Digital Communications, McGraw Hill, 2001.
[15] A. Kamerman and L. Monteban. WaveLAN-II: a
high-performance wireless LAN for the unlicensed band.
Bell Labs Technical Journal, 2(3), 1997.
[16] D. Kotz and K. Essien. Analysis of a Campus-wide Wireless
Network. Wireless Networks, 2005.
[17] M. Lacage, M. H. Manshaei, and T. Turletti. IEEE 802.11
Rate Adaptation: A Practical Approach. In Proc. of MSWiM,
2004.
[18] M. Gast. 802.11 Wireless Networks: The Deﬁnitive Guide,
Second Edition. O’Reilly & Associates, Inc., California,
2002.
[19] Clock Solutions for WiFi (IEEE 802.11). http://www.
pericom.com/pdf/applications/AN070.pdf.
[20] E. Shih, P. Bahl, and M. Sinclair. Wake on Wireless: An
event driven power saving strategy for battery operated
devices. In Proc. of MOBICOM, 2002.
[21] D. Tang and M. Baker. Analyis of a Local-Area Wireless
Network. In Proc. of MOBICOM, 2000.
[22] The Tolly Group. High Speed Wireless LANs: The Impact of
Super G Proprietary Performance Mode on 802.11g Devices.
http://www.54g.org/.
[23] M. Weiser, B. Welch, A. Demers, and S. Shenker. Scheduling
for Reduced CPU Energy. In Proc. of OSDI, 1994.
[24] Wimax forum whitepapers: http://www.wimaxforum.org/.
[25] I. Wormsbecker and C. Williamson. On Channel Selection
Strategies for Multi-Channel MAC Protocols in Wireless Ad
Hoc Networks. Proc. of WiMob, 2006.
[26] Y. Yuan, P. Bahl, R. Chandra, T. Moscibroda, and Y. Wu.
Allocating Dynamic Time-Spectrum Blocks in Cognitive
Radio Networks. In Proc. of MOBIHOC, 2007.