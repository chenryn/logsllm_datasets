we chose 100 trajectories from 100 users, each of which has
500 timestamps, to evaluate the overall performance and
the impact of parameters. The default values are  = 1 and
δ = 0.01 if not mentioned. The average performances for
both datasets are reported in Figures 7 (on GeoLife data
with popular M), Figure 8 (on GeoLife data with personal
M) and Figure 9 (on Gowalla data with popular M).
Size of ∆X vs. . In Figures 7a and 8a (Geolife data),
size of ∆X shrinks with larger  because the inference result
is enhanced by big . On the other hand, impact of  would
be negligible in Gowalla data because one-step transition in
Markov model has limited predictability (check-ins are not
frequent), as in Figure 9a.
Size of ∆X vs. δ. Size of ∆X is mainly determined by
δ as shown in Figures 7b, 8b and 9b. Note that LM and
PIM have similar size of ∆X, meaning the true location is
hidden in the similar size of candidates. When δ grows,
size of ∆X reduces dramatically because more improbable
locations are truncated. However, δ cannot be too large
because it preserves nearly no privacy if size of ∆X is close
to 1. Thus we use δ = 0.01 by default, which guarantees the
sizes of ∆X are larger than 4 in the three settings.
Drift Ratio vs. . Figures 7c and 9c show that drift ratio
declines with larger , which is easy to understand because
larger  provides more accurate release. However, the impact
of  is not obvious in Figure 8c. The reason is that the size
of ∆X is already small as in Figure 8b, hence the increase
of  does not help much in improving the accuracy of the
inference.
Drift Ratio vs. δ. Figures 7d, 8d and 9d show that drift
ratio rises when δ increases due to reduced ∆X, and PIM is
slightly better than LM. However, due to the phenomenon
of “lagged catch-up”, we will see next that the accuracy of
the released locations was still improved with increasing δ.
Distance vs. . Figures 7e, 8e and 9e show the distance
with varying . We can see that PIM performed better than
LM. In Gowalla data, because check-in locations are far away
from each other, the distance is larger than Geolife.
Distance vs. δ. Because bigger δ will result in less can-
didates in δ-location set, the distance declines when δ in-
creases. Figures 7f, 8f and 7f show that PIM achieves better
accuracy than LM. However, from 10−1.5 to 10−1, the im-
provement on distance is very small while privacy guarantee
drops signiﬁcantly as in Figures 7b, 8b and 9b. Especially in
0.20.40.60.8145678εSize of ∆X  LMPIM−3−2.5−2−1.5−151015log10(δ)Size of ∆X  LMPIM0.20.40.60.810.220.240.260.280.30.32εDrift Ratio  LMPIM−3−2.5−2−1.5−10.10.20.30.40.50.6log10(δ)Drift Ratio  LMPIM0.20.40.60.8151015εDistance (km)  LMPIM−3−2.5−2−1.5−1123456log10(δ)Distance (km)  LMPIM0.20.40.60.817.888.28.48.68.8εSize of ∆X  LMPIM−3−2.5−2−1.5−1510152025log10(δ)Size of ∆X  LMPIM0.20.40.60.810.380.40.420.440.460.48εDrift Ratio  LMPIM−3−2.5−2−1.5−10.30.40.50.6log10(δ)Drift Ratio  LMPIM0.20.40.60.811020304050εDistance (km)  LMPIM−3−2.5−2−1.5−16810121416log10(δ)Distance (km)  LMPIMFigure 8b, size of ∆X is 1 when δ = 0.1. Therefore, choosing
a high value of δ (like δ > 0.03) does not provide the best
trade-oﬀ of privacy and utility.
Impact of Markov model. Comparing Figures 7 on pop-
ular M and Figure 8 on personal M, we can see the impact
of diﬀerent Markov model. With more accurate (personal)
model, better utility can be achieved, including smaller size
of ∆X, lower drift ratio and less distance. However, the
same privacy level (-diﬀerential privacy) is maintained (on
diﬀerent ∆X) regardless of M.
6.3 Utility for Location Based Queries
To demonstrate the utility of released locations, we also
measured the precision and recall of kNN queries at each
of the 500 timestamps in the 100 trajectories with popular
M. The average results of kNN from original locations and
k(cid:48)NN from released locations are reported in Figure 10 with
 = 1 and δ = 0.01.
In Figures 10a and 10b, we show the precision and recall
with k = k(cid:48). Note that in this case precision is equal to
recall. We can see that when k grows precision and recall
also increase because the nearest neighbors have to be found
in larger areas. PIM is consistently better than LM.
Next we ﬁxed k = 5 and varied k(cid:48). Figures 10c and 10d
show the precision drops when k(cid:48) rises because of a larger
returned set. On the other hand, Figures 10e and 10f indi-
cate recall increases with large k(cid:48). Overall, PIM has better
precision and recall than LM.
7. RELATED WORKS
7.1 Location Privacy
There is a rich set of literature related to location priva-
cy. A few recent books and surveys [23, 15] provide an up-
to-date review of Location Privacy Preserving Mechanisms
(LPPMs).
LPPMs generally use obfuscation methods, such as spatial
cloaking, cell merging, location precision reduction or dum-
my cells, to achieve anonymity based privacy or uncertainty
based privacy. However, anonymity or ad hoc uncertain-
ty based techniques do not always provide suﬃcient privacy
protection [22, 37]. Most of them do not consider the tempo-
ral correlations between locations and are subject to various
inference attacks. The recent work [1] proposed a notion
of geo-indistinguishability which extends diﬀerential priva-
cy. However, a fundamental diﬀerence is that neighboring
pairs or secrets are deﬁned based on a radius and it does not
consider the temporal correlations of multiple locations.
Several works use Markov models for modeling users’ mo-
bility and inferring user locations or trajectories [25, 34].
[17] proposed an insightful technique with a provable privacy
guarantee to ﬁlter a user context stream even if the adver-
saries are powerful and have knowledge about the temporal
correlations but it used suppression instead of perturbation.
[37] investigated the question of how to formally quantify
the privacy of existing LPPMs and assumed that an adver-
sary can model users’ mobility using a Markov chain learned
from a population.
7.2 Differential Privacy
Several variants or generalizations of diﬀerential privacy
have been studied, as discussed in Section 3.4. However,
(a) Precision/Recall (Geolife)
(b) Precision/Recall (Gowalla)
(c) Precision (Geolife)
(d) Precision (Gowalla)
(e) Recall (Geolife)
(f) Recall (Gowalla)
Figure 10: kNN results:
k(cid:48); (c)(d) precision vs. k(cid:48); (e)(f) recall vs. k(cid:48).
(a)(b) precision and recall under k =
applying diﬀerential privacy for location protection has not
been investigated in depth. Several recent works have ap-
plied diﬀerential privacy to publish aggregate information
from a large volume of location, trajectory or spatiotempo-
ral data (e.g. [6, 33, 12, 24]). Our contribution is to extend
diﬀerential privacy in a new setting of continual location
sharing of only one user whose locations are temporally cor-
related.
Optimal query answering under diﬀerential privacy has
been studied recently. Hardt and Talwar [18] studied the
theoretical lower bound for any diﬀerentially private mecha-
nisms and proposed K-norm mechanism. Bhaskara et al [4]
studied another K-norm based method to project the sen-
sitivity hull onto orthogonal subspaces. Nikolov et al [30]
also improved the eﬃciency of K-norm mechanism by ﬁnd-
ing the minimal enclosing ellipsoid to release multivariate
Gaussian noises. So far the best utility of existing mecha-
nisms can be log(d) approximately optimal. We extended
the K-norm mechanism to location data by examining the
two-dimensional sensitivity hull and designing its isotropic
transformation so that optimal utility can be achieved.
8. CONCLUSION AND FUTURE WORK
In this paper we proposed δ-location set based diﬀerential
privacy to protect a user’s true location at every timestamp
under temporal correlations. We generalized the notion of
“neighboring databases” to δ-location set for the new setting
5101520250.60.650.70.750.8kPrecision/Recall  LMPIM5101520250.30.350.40.450.50.55kPrecision/Recall  LMPIM5101520250.20.30.40.50.6k’Precision  LMPIM5101520250.150.20.250.3k’Precision  LMPIM5101520250.60.70.80.9k’Recall  LMPIM5101520250.30.40.50.6k’Recall  LMPIMand extended the well known (cid:96)1-norm sensitivity to sensitivi-
ty hull in order to capture the geometric meaning of sensitiv-
ity. Then with sensitivity hull we derived the lower bound of
δ-location set based diﬀerential privacy. To achieve the lower
bound, we designed the optimal planar isotropic mechanism
to release diﬀerentially private locations with signiﬁcantly
high eﬃciency and utility.
The framework of δ-location set based diﬀerential privacy
can work with any mobility models (besides Markov chain).
As a future work direction, we are interested in instantiating
it with diﬀerent and more advanced mobility models and
studying the impact.
9. ACKNOWLEDGEMENT
This research is supported by NSF under grant No. 1117763
and the AFOSR DDDAS program under grant FA9550-12-1-
0240. We thank the anonymous reviewers for their valuable
comments that helped improve the ﬁnal version of this pa-
per.
10. REFERENCES
[1] M. E. Andr´es, N. E. Bordenabe, K. Chatzikokolakis, and
C. Palamidessi. Geo-indistinguishability: Diﬀerential
privacy for location-based systems. CCS ’13, pages
901–914. ACM, 2013.
[2] G. Apostolos. Notes on isotropic convex bodies. 2003.
[3] A. R. Beresford and F. Stajano. Location privacy in
pervasive computing. Pervasive Computing, IEEE,
2(1):46–55, 2003.
[4] A. Bhaskara, D. Dadush, R. Krishnaswamy, and K. Talwar.
Unconditional diﬀerentially private mechanisms for linear
queries. STOC ’12, New York, NY, USA, 2012.
[5] K. Chatzikokolakis, M. Andr´es, N. Bordenabe, and
C. Palamidessi. Broadening the scope of diﬀerential privacy
using metrics. Lecture Notes in Computer Science, pages
82–102. Springer Berlin Heidelberg, 2013.
[6] R. Chen, B. C. Fung, B. C. Desai, and N. M. Sossou.
Diﬀerentially private transit data publication: a case study
on the montreal transportation system. KDD ’12, pages
213–221, New York, NY, USA, 2012. ACM.
[7] E. Cho, S. A. Myers, and J. Leskovec. Friendship and
mobility: User movement in location-based social networks.
KDD ’11, pages 1082–1090, New York, NY, USA, 2011.
[8] A. Dey, J. Hightower, E. de Lara, and N. Davies.
Location-based services. Pervasive Computing, IEEE,
9(1):11–12, 2010.
[9] C. Dwork. Diﬀerential privacy. In Automata, languages and
programming, pages 1–12. Springer, 2006.
[10] C. Dwork, F. McSherry, K. Nissim, and A. Smith.
Calibrating noise to sensitivity in private data analysis.
Proceedings of the 3rd Theory of Cryptography
Conference, 2006.
[11] C. Dwork, M. Naor, T. Pitassi, and G. N. Rothblum.
Diﬀerential privacy under continual observation. STOC ’10,
pages 715–724, New York, NY, USA, 2010. ACM.
[12] L. Fan, L. Xiong, and V. S. Sunderam. Diﬀerentially
private multi-dimensional time series release for traﬃc
monitoring. In DBSec, pages 33–48, 2013.
[13] C. Fang and E.-C. Chang. Diﬀerential privacy with
δ-neighbourhood for spatial and dynamic datasets. ASIA
CCS ’14, pages 159–170, New York, NY, USA, 2014. ACM.
[14] B. Gedik and L. Liu. Protecting location privacy with
personalized k-anonymity: Architecture and algorithms.
Mobile Computing, IEEE Transactions on, 7(1):1–18, 2008.
[15] G. Ghinita. Privacy for Location-Based Services. Synthesis
Lectures on Information Security, Privacy, and Tru.
Morgan & Claypool, 2013.
[16] M. C. Gonzalez, C. A. Hidalgo, and A.-L. Barab´asi.
Understanding individual human mobility patterns. Nature,
453(7196):779–782, June 2008.
[17] M. G¨otz, S. Nath, and J. Gehrke. Maskit: Privately
releasing user context streams for personalized mobile
applications. SIGMOD ’12, New York, NY, USA, 2012.
[18] M. Hardt and K. Talwar. On the geometry of diﬀerential
privacy. In STOC, pages 705–714. ACM, 2010.
[19] X. He, A. Machanavajjhala, and B. Ding. Blowﬁsh privacy:
Tuning privacy-utility trade-oﬀs using policies. SIGMOD
’14, pages 1447–1458, New York, NY, USA, 2014. ACM.
[20] I. A. Junglas and R. T. Watson. Location-based services.
Communications of the ACM, 51(3):65–69, 2008.
[21] D. Kifer and A. Machanavajjhala. No free lunch in data
privacy. In SIGMOD, pages 193–204. ACM, 2011.
[22] J. Krumm. Inference attacks on location tracks.
PERVASIVE’07, pages 127–143, Berlin, Heidelberg, 2007.
Springer-Verlag.
[23] J. Krumm. A survey of computational location privacy.
Personal and Ubiquitous Computing, 13(6):391–399, 2009.
[24] H. Li, L. Xiong, and X. Jiang. Diﬀerentially private
synthesization of multi-dimensional data using copula
functions. EDBT’14, pages 475–486, 2014.
[25] L. Liao, D. J. Patterson, D. Fox, and H. Kautz. Learning
and inferring transportation routines. Artif. Intell.,
171(5-6):311–331, Apr. 2007.
[26] L. Lov´asz and S. Vempala. Hit-and-run from a corner.
STOC ’04, pages 310–314, New York, NY, USA, 2004.
ACM.
[27] L. Lov´asz and S. Vempala. Simulated annealing in convex
bodies and an o*(n4) volume algorithm. J. Comput. Syst.
Sci., 72(2):392–417, Mar. 2006.
[28] F. McSherry and K. Talwar. Mechanism design via
diﬀerential privacy. FOCS ’07, pages 94–103, Washington,
DC, USA, 2007. IEEE Computer Society.
[29] V. Milman and A. Pajor. Isotropic position and inertia
ellipsoids and zonoids of the unit ball of a normed
n-dimensional space. Lecture Notes in Mathematics, pages
64–104. Springer Berlin Heidelberg, 1989.
[30] A. Nikolov, K. Talwar, and L. Zhang. The geometry of
diﬀerential privacy: The sparse and approximate cases.
ACM STOC ’13, pages 351–360, NY, USA, 2013.
[31] J. O’Rourke. Computational Geometry in C. Cambridge
University Press, New York, NY, USA, 2nd edition, 1998.
[32] S. Papadopoulos, S. Bakiras, and D. Papadias. Nearest
neighbor search with strong location privacy. Proceedings of
the VLDB Endowment, 3(1-2):619–629, 2010.
[33] W. H. Qardaji, W. Yang, and N. Li. Diﬀerentially private
grids for geospatial data. In ICDE, pages 757–768, 2013.
[34] S. Qiao, C. Tang, H. Jin, T. Long, S. Dai, Y. Ku, and
M. Chau. Putmode: prediction of uncertain trajectories in
moving objects databases. Applied Intelligence,
33(3):370–386, Dec. 2010.
[35] V. Rastogi, M. Hay, G. Miklau, and D. Suciu. Relationship
privacy: output perturbation for queries with joins. PODS
’09, pages 107–116, New York, NY, USA, 2009. ACM.
[36] M. Rudelson. Random vectors in the isotropic position. J.
Funct. Anal, pages 60–72, 1999.
[37] R. Shokri, G. Theodorakopoulos, J.-Y. Le Boudec, and
J.-P. Hubaux. Quantifying location privacy. IEEE SP ’11,
pages 247–262, Washington, DC, USA, 2011.
[38] C. Song, Z. Qu, N. Blumm, and A.-L. Barab´asi. Limits of
predictability in human mobility. Science,
327(5968):1018–1021, 2010.
[39] S. Vempala. Geometric random walks: a survey.
Combinatorial and Computational Geometry, pages
573–612, 2005.
[40] Y. Zheng, X. Xie, and W.-Y. Ma. Geolife: A collaborative
social networking service among user, location and
trajectory. IEEE Data Eng. Bull., 33(2):32–39, 2010.