#TAG on boot
sector
echo −n SCRIPT |
dd bs=1 count=6 seek=496 of=$1
#mount card
umount /mnt
mount $1 /mnt
#create
s c r i p t
request
f i l e
echo ” f o r
DC scriptdisk ” > /mnt/ s c r i p t . req
#Example
s c r i p t
echo
’ private
sub
sayHello ()
a=LCDMsg Create ()
LCDMsg SetStr (a , ” Hello World ! ” )
end sub
private
sub
I n i t i a l i z e ()
UI . CreatePublic ()
sayHello ()
end sub
’>/mnt/ extend .m
#Done !
echo ” Please
check /mnt f o r
f i l e s
extend .m and
s c r i p t . req ”
0.2
Language constructs
0.2.1
operators
Typical basic operators:
comparators , =, =, <>
arithmetics +, −, /, ∗
logical !
unknown ‘, >>, 0
print a
Loop
0.2.5
subroutines
[
Public
]
|
[
Private
]
Sub name (Arg1 , Arg2 )
[
statements
]
[
Exit Sub ]
[
statements
]
End Sub
name(Arg1 , Arg2 )
Example:
private sub t e s t ()
end sub
0.3
Common functions()
Example :
Common functions ()
Allows the use of the following function:
16
0.3.1
ExMem.View()
TODO: Undocumented.
Example :
ExMem. View ()
0.3.2
ExMem.AllocUncacheable()
TODO: Undocumented.
Example :
ExMem. AllocUncacheable ()
0.3.3
ExMem.FreeUncacheable()
TODO: Undocumented.
Example :
ExMem. FreeUncacheable ()
0.3.4
ExMem.AllocCacheable()
TODO: Undocumented.
Example :
ExMem. AllocCacheable ()
0.3.5
ExMem.FreeCacheable()
TODO: Undocumented.
Example :
ExMem. FreeCacheable ()
0.3.6
StartCameraLog()
TODO: Undocumented.
Example :
StartCameraLog ()
0.3.7
ShowCameraLog()
TODO: Undocumented.
Example :
ShowCameraLog ()
17
0.3.8
ShowCameraLogInfo()
TODO: Undocumented.
Example :
ShowCameraLogInfo ()
0.3.9
StopCameraLog()
TODO: Undocumented.
Example :
StopCameraLog ()
0.3.10
PutsCameraLogEvent()
TODO: Undocumented.
Example :
PutsCameraLogEvent ()
0.3.11
OpLog.Create()
TODO: Undocumented.
Example :
OpLog . Create ()
0.3.12
drysh()
TODO: Undocumented.
Example :
drysh ()
0.3.13
NewTaskShell()
TODO: Undocumented.
Example :
NewTaskShell ()
0.3.14
ExMem()
TODO: Undocumented.
Example :
ExMem()
18
0.3.15
StartRedirectUART()
Redirects stdout to a ﬁle in the SD card
StartRedirectUART ()
Example :
StartRedirectUART (1)
Printf ( ”AAAAAAAAAAAAAAAAAAAAAA\n” )
Note: For this function to work, an special ﬁle named “uartr.req” must reside
in the root directory, containing the bytes:
77 21 ce 82 20 20 20
0.3.16
SS.Create()
TODO: Undocumented.
Example :
SS . Create ()
0.3.17
SetUSBToDCPMode()
TODO: Undocumented.
Example :
SetUSBToDCPMode()
0.3.18
InitializeDCPClassFunctions()
TODO: Undocumented.
Example :
InitializeDCPClassFunctions ()
0.3.19
LoadScript()
TODO: Undocumented.
Example :
LoadScript ()
0.3.20
UnLoadScript()
TODO: Undocumented.
Example :
UnLoadScript ()
19
0.3.21
Printf()
TODO: Undocumented.
Example :
Printf ()
0.3.22
RomCheckSum()
TODO: Undocumented.
Example :
RomCheckSum()
0.3.23
PostLogicalEventToUI()
TODO: Undocumented.
Example :
PostLogicalEventToUI ()
0.3.24
PostLogicalEventForNotPowerType()
TODO: Undocumented.
Example :
PostLogicalEventForNotPowerType ()
0.3.25
PostEventShootSeqToUI()
TODO: Undocumented.
Example :
PostEventShootSeqToUI ()
0.3.26
ShowLogicalEventName()
TODO: Undocumented.
Example :
ShowLogicalEventName ()
0.3.27
SetAutoShutdownTime()
TODO: Undocumented.
Example :
SetAutoShutdownTime ()
20
0.3.28
LockMainPower()
TODO: Undocumented.
Example :
LockMainPower ()
0.3.29
UnlockMainPower()
TODO: Undocumented.
Example :
UnlockMainPower ()
0.3.30
HardwareDefect()
TODO: Undocumented.
Example :
HardwareDefect ()
0.3.31
HardwareDefectWithRestart()
TODO: Undocumented.
Example :
HardwareDefectWithRestart ()
0.3.32
MechaUnRegisterEventProcedure()
TODO: Undocumented.
Example :
MechaUnRegisterEventProcedure ()
0.3.33
Mecha.Create()
TODO: Undocumented.
Example :
Mecha . Create ()
0.3.34
DispDev EnableEventProc()
TODO: Undocumented.
Example :
DispDev EnableEventProc ()
21
0.3.35
SystemEventInit()
TODO: Undocumented.
Example :
SystemEventInit ()
0.3.36
System.Create()
TODO: Undocumented.
Example :
System . Create ()
0.3.37
UI RegistDebugEventProc()
TODO: Undocumented.
Example :
UI RegistDebugEventProc ()
0.3.38
UI.Create()
TODO: Undocumented.
Example :
UI . Create ()
0.3.39
FA.Delete()
TODO: Undocumented.
Example :
FA. Delete ()
0.3.40
Capture.Create()
TODO: Undocumented.
Example :
Capture . Create ()
0.3.41
EngineDriver.Create()
TODO: Undocumented.
Example :
EngineDriver . Create ()
22
0.3.42
StartTransferOrderMenu()
TODO: Undocumented.
Example :
StartTransferOrderMenu ()
0.3.43
StartDirectTransferManager()
TODO: Undocumented.
Example :
StartDirectTransferManager ()
0.3.44
StartDtConﬁrmMenu()
TODO: Undocumented.
Example :
StartDtConfirmMenu ()
0.3.45
StoptDtConﬁrmMenu()
TODO: Undocumented.
Example :
StoptDtConfirmMenu ()
0.3.46
StartDtExecuteMenu()
TODO: Undocumented.
Example :
StartDtExecuteMenu ()
0.3.47
StopRedirectUART()
TODO: Undocumented.
Example :
StopRedirectUART ()
0.3.48
RefreshUSBMode()
TODO: Undocumented.
Example :
RefreshUSBMode ()
23
0.3.49
UI.CreatePublic()
TODO: Undocumented.
Example :
UI . CreatePublic ()
0.3.50
StoptDtExecuteMenu()
TODO: Undocumented.
Example :
StoptDtExecuteMenu ()
0.3.51
TerminateDCPClassFunctions()
TODO: Undocumented.
Example :
TerminateDCPClassFunctions ()
0.3.52
UiEvnt StopDisguiseCradleStatus()
TODO: Undocumented.
Example :
UiEvnt StopDisguiseCradleStatus ()
0.4
OpLog.Create()
Example :
OpLog . Create ()
Allows the use of the following function:
0.4.1
OpLog.Show()
TODO: Undocumented.
Example :
OpLog .Show()
Note: needs prior call to the OpLog.Create() function to activate.
24
0.4.2
OpLog.Play()
TODO: Undocumented.
Example :
OpLog . Play ()
Note: needs prior call to the OpLog.Create() function to activate.
0.4.3
OpLog.ReadFromROM()
TODO: Undocumented.
Example :
OpLog .ReadFromROM()
Note: needs prior call to the OpLog.Create() function to activate.
0.4.4
OpLog.ReadFromSD()
TODO: Undocumented.
Example :
OpLog . ReadFromSD()
Note: needs prior call to the OpLog.Create() function to activate.
0.4.5
OpLog.WriteToSD()
TODO: Undocumented.
Example :
OpLog . WriteToSD ()
Note: needs prior call to the OpLog.Create() function to activate.
0.4.6
OpLog.WriteToROM()
TODO: Undocumented.
Example :
OpLog .WriteToROM()
Note: needs prior call to the OpLog.Create() function to activate.
0.4.7
OpLog.Get()
TODO: Undocumented.
Example :
OpLog .Get()
Note: needs prior call to the OpLog.Create() function to activate.
25
0.4.8
OpLog.Stop()
TODO: Undocumented.
Example :
OpLog . Stop ()
Note: needs prior call to the OpLog.Create() function to activate.
0.4.9
OpLog.Start()
TODO: Undocumented.
Example :
OpLog . Start ()
Note: needs prior call to the OpLog.Create() function to activate.
0.5
Driver.Create()
Example :
Driver . Create ()
Allows the use of the following function:
0.5.1
GetAdVBattBottom()
TODO: Undocumented.
Example :
GetAdVBattBottom ()
Note: needs prior call to the Driver.Create() function to activate.
0.5.2
GetAdChValue()
TODO: Undocumented.
Example :
GetAdChValue ()
Note: needs prior call to the Driver.Create() function to activate.
0.5.3
BeepDrive()
Does a beep on the camera speaker.
BeepDrive (type)
Type v a r i e s with camera .
On G10 :
26
type=3 i s
short
double beep .
type=2 i s