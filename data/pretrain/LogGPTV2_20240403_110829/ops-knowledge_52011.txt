User: How to setup Nginx reverse proxy and optimize its performance?
Assistant: 1. First install and start Nginx. 2. Configure Nginx reverse proxy, add the following configuration in the nginx.conf file: ``` server { listen 80; server_name your_server_domain_name; location / { proxy_pass http://your_upstream_server_ip:your_upstream_server_port; proxy_set_header Host $host; proxy_set_header X-Real -IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } } ``` Among them, your_server_domain_name is your URL, your_upstream_server_ip is the IP address of the server you want to proxy, your_upstream_server_port is the port number of the server you want to proxy. 3. For performance optimization, you can use the following methods: - Use cache: add proxy_cache_path in the configuration file to specify the cache path, and then add proxy_cache directive in the location directive to activate the cache. - Enable compression: enable gzip compression in nginx.conf to reduce transmission traffic. - Adjust the connection timeout: set the proxy_connect_timeout and proxy_read_timeout directives in nginx.conf to avoid waiting for a long time for the server to respond. - Join the health check: set the health check through the upstream module, check whether the connected server is running normally, and remove the failed server from the load balancing pool to ensure high availability. - Enable SSL: Use the HTTPS protocol to encrypt data to protect user privacy. Add the ssl command to nginx.conf, and set the certificate path and key path to enable SSL encryption.