tering coefﬁcient from §3.4 to deﬁne the attribute clustering coefﬁ-
cient c(u) for the attribute node u, and the average attribute cluster-
c(u). This attribute cluster-
ing coefﬁcient as Ca = 1|Va|
ing coefﬁcient c(u) characterizes the power of attribute u to form
communities among users who have the attribute u. Compared to
Figure 4d, we ﬁnd in Figure 8b that the average attribute clustering
coefﬁcient evolves in a different pattern since it’s relatively stable
in Phase II.
(cid:80)
u∈Va
We also show the distribution of average social and attribute clus-
tering coefﬁcients as a function of node degree in Figure 9a. We
observe that both social and attribute clustering coefﬁcients follow
a power-law distribution with respect to node degrees, but attribute
clustering coefﬁcient distribution has a larger exponent. Moreover,
we see that in general attribute clustering coefﬁcients are lower be-
cause many shared attributes (e.g., city or major) will not naturally
translate into a social relationship.
(a) Attribute degree of social nodes
(b) Social degree of attribute nodes
Figure 10: Distributions of attribute-induced degrees in the
Google+ SAN along with their best ﬁts. The attribute degree of
social nodes is best modeled by a lognormal whereas the social de-
gree of attribute nodes is best modeled by a power-law distribution.
Degree distributions: As discussed earlier, SANs introduce edges
between social and attribute nodes. Thus, we consider two new no-
tions of node degrees: (1) social degree of attribute nodes (i.e., the
number of users that have this attribute) and (2) attribute degree
of social nodes (i.e., the number of attributes each user has). We
ﬁnd that the attribute degree of social nodes is best modeled by a
lognormal distribution whereas the social degree of attribute nodes
2Other deﬁnitions are possible, e.g, using average instead of min.
We choose min because of its computational efﬁciency.
(a) Attribute degree of social nodes
(b) Social degree of attribute nodes
Figure 11: Evolution in lognormal and power-law parameters for
the attribute and social degree distributions
is best modeled by a power-law distribution. Figure 10 and Fig-
ure 11 show the degree distributions and evolution of their ﬁtted
parameters.
In terms of the evolution, we ﬁnd the attribute degree evolution
seen in Figure 11 is signiﬁcantly different from the previous obser-
vation in Figure 6: its mean decreases in Phase I, remains roughly
constant in Phase II, and decreases again in Phase III. However,
its standard deviation increases slightly in all phases. Finally, for
the social degree which follows a power-law distribution, the expo-
nent decreases fast in Phase I, and increases slightly in Phase II and
Phase III.
(a) Attribute knn
(b) Evolution of assortativity
Figure 12: (a) Joint degree of attribute nodes: Log-log plot of the
social degree versus the average attribute degree of social neigh-
bors of attribute nodes. (b) The evolution of the attribute assorta-
tivity coefﬁcient.
Joint degree distribution: Next, we extend the joint degree distri-
bution (JDD) analysis to attribute nodes. For each social degree k,
we compute knn as the average attribute degree of social neigh-
bors of attribute nodes that have social degree k.
Intuitively, it
captures the tendency of attribute nodes with high social degree
to connect to social nodes with high attribute degree; i.e., if many
nodes share a particular attribute, then are these nodes likely have
many attributes? Figure 12 shows the knn function for attribute
JDD and the evolution of the attribute assortativity.
Intuitively,
we expect this relationship to be neutral and the result conﬁrms
this intuition; e.g., there are many Google+ users in New York but
that does not imply the people in New York have many attributes.
One interesting observation is that attribute assortativity coefﬁcient
evolves slightly differently compared to social assortativity coefﬁ-
cient (Figure 7b); it is stable in Phase III whereas social assortativ-
ity decreases signiﬁcantly.
4.2 Inﬂuence on Social Network Structure
Next, we look at how attributes inﬂuence the social structure of
the Google+ SAN w.r.t the metrics discussed in §3.
100101102103Degree10−910−810−710−610−510−410−310−210−1100Probabilitylognormalﬁtempirical100101102103104Degree10−810−710−610−510−410−310−210−1100Probabilitypower-lawﬁtempirical01020304050607080Time(day)0.60.70.80.91.01.11.21.31.4parameterµandσevolutionofparameterµevolutionofparameterσ01020304050607080Time(day)1.982.002.022.042.062.082.10parameterαevolutionofparameterα100101102103104Degree100101knn020406080100Time(day)−0.055−0.050−0.045−0.040−0.035−0.030assortativity136Degree distribution: For brevity, we only focus on the Employer
and Major attributes and show the result for the top attribute values
observed within each category. We plot the median, 25th, and 75th
percentile of the social outdegree of nodes that have these attribute
values in Figure 14. We see that the users with Employer=Google
and Major=Computer Science are likely to have higher degrees.
We also computed the full degree distributions for these attribute
values and saw that they follow different lognormal distributions
(not shown). We speculate this could be a speciﬁc artifact of the
Google+ network as many of the early adopters likely consist of
Google employees and users in the IT/CS industry.
4.3 Validation via Subsampling
One natural question is whether the attributes of 22% of users we
collected is a good representative of the entire attributes. To this
end, we use subsampling method to validate our attribute-related
results. We use attribute clustering coefﬁcient distribution with re-
spect to node degrees as an example, and observe similar results
for other metrics. For each user with attributes, we remove her at-
tributes with probability 0.5, from which we obtain a subsampled
SAN. Then we calculate the attribute clustering coefﬁcient distribu-
tions for the original and this subsampled SANs. Figure 9b shows
that the results of the original and subsampled SANs are almost
identical. Given the assumption that whether a user ﬁlls in her at-
tributes is a random and independent event, our results demonstrate
that the attributes of 22% of users is a representative sample of the
attributes of all the users.
4.4 Summary of Key Observations and Impli-
cations
In this section, we studied the attribute structure of the Google+
SAN and how such attribute structure impacts the social structure.
Our key observations are:
• While some attribute metrics mirror their social counterparts
(e.g., diameter), several show distributions and trends that are
signiﬁcantly different (e.g., clustering coefﬁcient, attribute de-
gree). These observations will guide us to design models for
SAN.
• We conﬁrm that attributes have interesting impact on the so-
cial structure. e.g., nodes are likely to have higher reciprocity
if they share common attributes. These ﬁndings have various
implications. For instance, reciprocity predictor should incor-
porate node attributes.
• We also observe that some attribute types naturally have stronger
inﬂuence than others. For example, users sharing the same em-
ployer have higher probability to be linked compared to users
sharing the same city. Data mining tasks such as link prediction
and attribute inference should potentially beneﬁt from these
ﬁndings.
5. A GENERATIVE MODEL FOR SAN
From the previous sections, we have seen novel phenomena in
the social and attribute structure of the Google+ SAN and that the
attribute structure impacts the social structure signiﬁcantly. A nat-
ural question is whether we can create an accurate generative net-
work model that can reproduce both the social and attribute struc-
tures we observe. Such a generative model can help us understand
the growing mechanism of SAN, and allow other applications such
as network extrapolation and sampling, network visualization and
compression, and network anonymization [30].
Prior work on generative models focus primarily on the social
structure [5, 24, 2, 33, 29]. Consequently, these approaches can-
(a) Reciprocity
(b) Clustering coefﬁcients
Figure 13: Inﬂuence of attribute on reciprocity and clustering co-
efﬁcients.
Reciprocity: We study how the number of common attribute neigh-
bors inﬂuences reciprocity in conjunction with the number of com-
mon social neighbors. Let a and s denote the number of attribute
and social neighbors of a given node, respectively. For each pair
(s, a), we compute rs,a as the percentage of links that are recip-
rocal among all the links whose endpoints have s social neighbors
and a attribute neighbors.
To compute this, we look at all one directional links at the snap-
shot collected halfway and then compute the number of such links
that become bidirectional at the last snapshot. We split these by the
number of common social and attribute neighbors between these
nodes at the halfway stage and show the rs,a values in Figure 13.
We see that the reciprocity is almost twice as high for nodes that
share common attribute neighbors compared to nodes without com-
mon attributes, regardless of the number of common social neigh-
bors. While sharing common social neighbors improves link reci-
procity, there is a natural diminishing returns property beyond 10
common social neighbors, and even decreasing for much larger
values. We speculate that nodes sharing too many social neigh-
bors are likely users with many “weak” ties. For recent reciprocity
prediction problem [9, 21], our ﬁndings imply that any reciprocity
predictor should incorporate node attributes instead of pure social
structure metrics.
Clustering coefﬁcient: Next, we compute the average attribute
clustering coefﬁcient for the 4 attribute types: Employer, School,
Major and City. For example, we compute the attribute clustering
coefﬁcients for all attribute nodes belonging to the attribute type
Employer, and then average them to obtain the average attribute
clustering coefﬁcient for Employer. Figure 13b shows that attribute
types vary in their inﬂuence on forming communities and that users
with the same Employer attributes are much more likely to form
communities than users sharing other attribute types. This has in-
teresting implications for link prediction and attribute inference.
(a) Employer
(b) Major
Figure 14: Inﬂuence of attribute on social degree
1020304050commonsocialneighbors0.30.40.50.60.70.80.91.0Fine-grainedreciprocity≥2commonattribute1commonattribute0commonattributecityschoolmajoremplorer0.000.050.100.150.200.25AverageAttributeClusteringCoefﬁcientInfosysMicrosoftIBMGoogle020406080100DegreeFinanceComputerSciencePoliticalScienceEconomics020406080100Degree137Algorithm 1: Social-Attribute Network Model
1 T, simulated time steps
2 Initialization.
3 for 1 ≤ t ≤ T do
4
5
6
Social node arrival. Sample a set of new social nodes Vt,new.
for vnew ∈ Vt,new do
Attribute linking.
Attribute degree sampling. Sample the number of attributes
na(vnew) for vnew from a lognormal distribution.
for 1 ≤ i ≤ na(vnew) do
end
First outgoing linking.
lifetime sampling.
sleep time sampling.
end
Collect woken social nodes Vt,woken.
for vwoken ∈ Vt,woken do
Outgoing linking.
sleep time sampling.
7
8
9
10
11
12
13
14
15
16
17
18
19 end
end
summary, we conclude that there is a combined linear effect of both
social degree and attributes.
5.2 Building Block 2:
Attribute-Augmented Triangle-Closings
Triangle closing, where a node u selects a node v from its 2-hop
neighbors and adds an edge, is an essential part of many genera-
tive network models [29, 61, 33, 2, 43, 53]. We explore if node
attributes can improve triangle closing.
In the context of SAN, we can consider two types of triangle-
closing: one is closing a triangle with no attribute node involved
(e.g., u4 → u2 in Figure 1), and the other is closing a triangle
which includes an attribute node (e.g., u1 → u2 in Figure 1). Fol-
lowing prior work, we refer them as triadic and focal closure re-
spectively [25]. In the friend requests we observe in Google+, 84%
percent are triadic (common friend), 18% percent are focal (com-
mon attribute), and 15% percent are cases where the nodes share
both common friends and common attributes (e.g., u6 → u5 in
Figure 1).
This suggests the importance of incorporating attributes in the
triangle closure. To this end, we consider three models:
• Baseline: Select a social neighbor v within a 2-hop radius uni-
formly at random.
• Random-Random (RR): Select a social neighbor w ∈ Γs(u)
uniformly at random, and then select a social neighbor v ∈
Γs(w) uniformly at random which is shown to have very good
performance in previous work [29].
• Random-Random-SAN (RR-SAN): select a neighbor w ∈ Γs(u)∪
Γa(u) uniformly at random, and then select a social neighbor
v ∈ Γs(w) uniformly at random.4
We compare these models using friend requests that are triadic clo-
sures, focal closures, or both. Our experimental results conﬁrm
that RR model performs 14% better than the Baseline model [29],
and our RR-SAN model performs 36% better than RR model. This
conﬁrms that attributes play a signiﬁcant role in the triangle-closing
phenomenon as well and has natural implications for applications
such as link prediction and friend recommendation.
5.3 Our Generative Model for SAN
4We also tried a weighted model where we select neighbors pro-
portional to link weights. For brevity, we do not show this because
it performs similarly.
(a) PAPA model
(b) LAPA model
Figure 15: Comparison between Power Attribute Preferential At-
tachment (PAPA) and Linear Attribute Preferential Attachment
(LAPA) models. All result numbers are percentage of relative im-
provements over the loglikelihood of the PA model, i.e., with α =1
and β = 0.
not model the attribute structure or their impact on social structure.
To address this gap, we provide a new generative model taking into
account the attribute structure from ﬁrst principles rather than over-