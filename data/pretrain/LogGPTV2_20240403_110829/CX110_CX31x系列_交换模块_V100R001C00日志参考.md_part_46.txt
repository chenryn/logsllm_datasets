### 优化后的文本

#### 原因列表
1. **远端不可达**：所选的远端服务器无法访问。
2. **远端认证失败**：与所选远端服务器的认证过程失败。
3. **远端时钟未同步**：所选远端服务器的时间没有同步。
4. **最近更新时间超出允许范围**：距离上次同步的时间不在允许范围内。
5. **源时钟级别高于本地时钟级别**：源时钟的优先级高于本地时钟。
6. **系统同步源丢失**：系统失去了同步源。
7. **NTP模式错误**：所选远端服务器发生了NTP模式错误。

### 处理步骤
1. **原因**：重置系统时钟。
   - **解决方案**：避免手动重置NTP时钟。如果确实需要重置，确保在新时钟选定后，NTP时钟状态将变为同步状态。

2. **原因**：所选远端被删除。
   - **解决方案**：配置备用源时钟。

3. **原因**：远端不可达。
   - **解决方案**：
     1. 检查远端网络状态。
     2. 如果网络不可用，配置备用源时钟。

4. **原因**：远端认证失败。
   - **解决方案**：
     1. 检查密钥是否已配置。
     2. 如果未配置密钥，则进行配置。
     3. 如果密钥已配置，检查其正确性。

5. **原因**：远端时钟未同步。
   - **解决方案**：配置备用源时钟。

6. **原因**：最近更新时间超出允许范围。
   - **解决方案**：配置备用时钟源。

7. **原因**：源时钟级别高于本地时钟级别。
   - **解决方案**：配置备用源时钟的级别低于本地时钟级别。

8. **原因**：系统同步源丢失。
   - **解决方案**：配置备用源时钟。

9. **原因**：NTP模式错误。
   - **解决方案**：配置备用源时钟。

---

### 日志信息
- **日志ID**: TM/4/NTP_TIMER_INIT
- **日志内容**: Failed to initialize NTP one second timer while creating the timer.
- **日志含义**: 创建1秒定时器过程中，定时器初始化失败。
- **可能原因**:
  - 内存分配失败
  - 队列满
- **处理步骤**:
  - 正常运行信息，无需处理。

---

### TRILL日志参考
#### 57.1 TRILL/3/TRILL_ADD_NEIGHBOR_TLV_FAILURE
- **日志内容**: TRILL failed to add Level-[level] neighbor TLV. (NeighborID=[NeighborId], InterfaceName=[InterfaceName], MTID=[MTID])
- **日志含义**: TRILL添加邻居TLV失败。
- **可能原因**: 内部错误，如内存分配失败等。
- **处理步骤**:
  - 正常运行信息，无需处理。

#### 57.2 TRILL/5/TRILL_ADJ_CHANGE
- **日志内容**: TRILL adjacency state change. (IfName=[IfName], AdjLevel=[AdjLevel], NbrSysId=[NbrSysId], AdjState=[AdjState], AddressFamily=[AddressFamily], Reason=[Reason])
- **日志含义**: TRILL邻居状态发生改变。
- **可能原因**:
  - 邻居HoldTime超时
  - 接口Down
  - 协议原因
  - 配置变化
  - 对端交换机原因
- **处理步骤**:
  1. 查找NbrSysId字段值（十六进制），确认邻居状态是否一致。
     - 如果一致，继续执行步骤11。
     - 如果不一致，下载源交换机日志，查找邻居状态变化原因。
  2. 检查接口状态和MTU状态，确保两端接口状态为Up。
  3. 检查System ID和MAC地址是否正确。
  4. 检查Carrier VLAN配置是否正确。
  5. 确认TRILL接口类型是否合理。
  6. 检查认证方式是否匹配。
  7. 确保链路两端正常收发Hello报文。
  8. 检查CPU使用率是否过高。
  9. 调整Hello报文发送间隔。
  10. 收集告警、日志和配置信息，联系技术支持。

#### 其他TRILL日志
- **日志ID**: TRILL/3/TRILL_CFG_MID_RSP_RETRANS_OVERTIME
- **日志含义**: 组件执行配置命令超时。
- **处理步骤**:
  - 正常运行信息，无需处理。

- **日志ID**: TRILL/5/TRILL_CIRC_SUSPEND
- **日志含义**: 使能TRILL的接口被挂起。
- **处理步骤**:
  - 正常运行信息，无需处理。

- **日志ID**: TRILL/6/TRILL_DELAY_IIH
- **日志含义**: TRILL延时发送IIH。
- **处理步骤**:
  - 记录该日志，请联系华为技术支持工程师。

- **日志ID**: TRILL/6/TRILL_DISABLE_LINKSTATE_DATABASE
- **日志含义**: TRILL进程关闭数据库同步功能。
- **处理步骤**:
  - 正常运行信息，无需处理。

- **日志ID**: TRILL/6/TRILL_DISABLE_NBR_MANAGEMENT
- **日志含义**: TRILL进程关闭邻居管理功能。
- **处理步骤**:
  - 正常运行信息，无需处理。

- **日志ID**: TRILL/6/TRILL_ENABLE_LINKSTATE_DATABASE
- **日志含义**: TRILL开启数据库同步功能。
- **处理步骤**:
  - 正常运行信息，无需处理。

- **日志ID**: TRILL/6/TRILL_ENABLE_NBR_MANAGEMENT
- **日志含义**: TRILL进程开启邻居管理功能。
- **处理步骤**:
  - 正常运行信息，无需处理。

- **日志ID**: TRILL/3/TRILL_LSDB_OVERFLOW
- **日志含义**: TRILL LSP数据库分片满。
- **处理步骤**:
  - 正常运行信息，无需处理。

---

### 版权声明
文档版本 09 (2017-09-04)  
版权所有 © 华为技术有限公司  
CX110&CX31x系列 交换模块