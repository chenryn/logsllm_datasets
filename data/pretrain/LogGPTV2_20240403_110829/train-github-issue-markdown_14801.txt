# Checklist
  * I have checked the issues list  
for similar or identical bug reports.
  * I have checked the pull requests list  
for existing proposed fixes.
  * I have checked the commit log  
to find out if the bug was already fixed in the master branch.
  * I have included all related issues and possible duplicate issues in this issue  
(If there are none, check this box anyway).
## Related Issues and Possible Duplicates
# Description
https://docs.celeryproject.org/en/stable/userguide/extending.html#extending-
commandoptions
The described code no longer works in celery 5+
Looking at celery's source code, 'user_options' are now expected to be a
set(). In fact they are initialized to a defaultdict(set())
I believe that one should provide a click.option, but when i tried that things
still fell apart as click is later accessing whatever is provided.opts
# Suggestions
Upgrade the documentation to support click or modify the code to allow the
above example to work