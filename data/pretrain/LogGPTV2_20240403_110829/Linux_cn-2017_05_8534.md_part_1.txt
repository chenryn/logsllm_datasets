---
author: 东风快递
category: 观点
comments_data:
- date: '2017-05-23 17:06:17'
  message: SELinux 不是所有知名 Linux 发行版都安装的，比如 Ubuntu 就没有。SELinux 也出现过强制访问限制被绕过的漏洞。SELinux
    太复杂，一般来说用户敢改动的地方不多。
  postip: 118.122.120.11
  username: 来自四川成都的 Chrome 57.0|GNU/Linux 用户
- date: '2017-05-23 17:30:13'
  message: 但 ubuntu 有 AppArmor
  postip: 115.132.93.49
  username: yomun [Chrome 58.0|GNU/Linux]
- date: '2017-05-23 18:37:49'
  message: 看起来很牛
  postip: 58.213.224.242
  username: 二次元萌控森 [Sogou Explorer 2|Windows 7]
- date: '2017-05-23 19:09:48'
  message: 哎，看到ls -Z我就晕汤！
  postip: 112.97.48.77
  username: 泽楠弟弟 [Safari 10.1|Mac 10.12]
- date: '2017-05-24 09:06:27'
  message: 一切谈毒性不谈剂量的行为都是耍流氓。同样，任何谈操作系统安全不谈体系架构的行为也是耍流氓。
  postip: 119.6.105.160
  username: fanbt [Firefox 53.0|Fedora]
- date: '2017-05-24 09:07:52'
  message: 一切需要关闭SELinux才能使用的软件都是流氓软件！！！
  postip: 119.6.105.160
  username: fanbt [Firefox 53.0|Fedora]
- date: '2017-05-24 18:29:00'
  message: 审计和SELinux是独立的
  postip: 114.247.223.226
  username: 来自北京的 Firefox 38.0|GNU/Linux 用户
- date: '2017-05-24 23:16:40'
  message: 但审计日志也受SELinux策略保护
  postip: 223.72.72.203
  username: 来自北京的 Firefox 45.0|Windows 10 用户
- date: '2017-05-26 11:56:52'
  message: 大家都那么专业，我从人类使用角度来说点自己的看法：对于非专业型的小白用户，其实也应该知道点使用电脑方面的常识，而非是说真的像做一个傻瓜式使用者
    满足自己使用就可以了，电脑是自己的，让电脑更好的为自己服务，不仅仅是了解如何操作电脑 更要知道电脑内部的概要远离，很多生活中我遇到的都是把电脑当成智能一样存在了，让用户了解电脑，这点linux
    和unix 就比window做的好。防火墙 无论是图形还是命令 都能使用户更清楚自己的电脑都有那些东西存在 都在干些什么。
  postip: 180.168.102.86
  username: hyplove [Chrome 58.0|Mac 10.12]
- date: '2017-05-30 14:31:34'
  message: “想哭”这一程序首发有大陆，官方提供汉化。这么良心的产品你们竟然只想着破解？！
  postip: 111.43.240.12
  username: Ghjoker [Firefox 45.0|GNU/Linux]
count:
  commentnum: 10
  favtimes: 2
  likes: 0
  sharetimes: 0
  viewnum: 9322
date: '2017-05-23 15:53:55'
editorchoice: false
excerpt: 多年前，永恒之蓝的始作蛹者 NSA 为了防御自家系统，开发了一套安全框架，多年后这套框架被贡献给了 Linux 内核，这就是 SELinux。作为造成这次世界性灾难的幕后大
  boss，NSA 为自己定制的 SELinux 又是怎样的一套防具呢？
fromurl: ''
id: 8534
islctt: false
largepic: /data/attachment/album/201705/23/155344ez0pteesx20c02gb.jpg
permalink: /article-8534-1.html
pic: /data/attachment/album/201705/23/155344ez0pteesx20c02gb.jpg.thumb.jpg
related: []
reviewer: ''
selector: ''
summary: 多年前，永恒之蓝的始作蛹者 NSA 为了防御自家系统，开发了一套安全框架，多年后这套框架被贡献给了 Linux 内核，这就是 SELinux。作为造成这次世界性灾难的幕后大
  boss，NSA 为自己定制的 SELinux 又是怎样的一套防具呢？
tags:
- 勒索
- 病毒
- SELinux
thumb: false
title: 从蓝瘦“想哭”到 SELinux 看操作系统安全何在
titlepic: true
translator: ''
updated: '2017-05-23 15:53:55'
---
![](/data/attachment/album/201705/23/155344ez0pteesx20c02gb.jpg)
最近一周，来自网络的 “想哭”勒索病毒   （    Wannacry Ransomware    ） 在世界各地同时上演了一部绑匪大片，台词华丽，演技出色，当仁不让地新晋世界第一网红。全球各国除了默默忙于两弹一星足不出户的朝鲜外，无不为之动容。一时间，包括“想哭”病毒在内的各种病毒的各种传闻也火爆网络，我们并不准备跟风刷屏，只是打算本着实事求是的精神，科学的探讨一下如何与它们和睦相处、谈笑风生。
### “想哭”病毒的前世今生
首先，让我们先简要回顾一下主角“想哭”病毒的前世今生。
“想哭”病毒是基于网络攻击框架二次开发的结果，它利用了 NSA（美国国家安全局）的前辈们留下的非物质文化遗产： 永恒之蓝   （    ETERNAL BLUE    ）  模块，针对 Windows SMB 服务的实现漏洞植入恶意代码，再结合自己的创新：加密用户文件和显示勒索声明，一代网红勒索病毒由此诞生。从病毒本身的设计流程来看，似乎并不需要高深的编码技巧或深厚的理论根基，然而这也恰恰是这一事件中最值得我们警惕的地方：NSA 泄漏的攻击模块远不止永恒之蓝一种，借助已有攻击框架进行二次开发的难度又如此之低，所以，可以预期，一大波未知的病毒正在来袭的路上。
是不是细思极恐？所谓“知彼知己，百战不 殆   （    die    ） ”，要想不 die，先要充分了解对手，所以接下来我们进一步了解一下什么是病毒？病毒是如何以危险方式危害公共安全的？又是怎样进入我们的系统的？
病毒是什么，其实是老生常谈了，经常关注医疗卫生领域的朋友都知道：
> 
> 病毒由一段基因与蛋白质构成，自身不能实现新陈代谢，通过适当的途径侵入宿主体内，通过宿主细胞的代谢系统实现复制传播。
> 
> 
> 
跑题了？好吧，不要在意这些细节，我们改几个字就能用了：
> 
> 病毒由一段可执行代码与数据构成，自身不能在裸机上运行，通过适当的途径侵入宿主操作系统，通过宿主系统中的存储和网络实现复制传播。
> 
> 
> 
Wirth 教授教导我们：
> 
> 算法+数据结构=程序，
> 
> 
> 病毒=代码+数据=算法+数据结构=程序
> 
> 
> 