186
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 05:38:03 UTC from IEEE Xplore.  Restrictions apply. 
Overclocking,asameanstoimproveperformance,isapopulartechniqueamonghigh-performanceenthusiasts[6].Microprocessorvendorsareevenintroducingoverclockingcapabilitiesintheirchipsets;examplesbeingAMD’sOver-driveandAdvancedClockCalibrationtechniques.Circuitsexhibitworst-casedelayonlywhentheirlongestdelaypathsareexercisedbytheinputs.However,theseworst-casede-layinducinginputsandoperatingconditionsarerare,lead-ingtoroomforperformanceimprovementthatoverclock-ersexploit[3].Theproblemisthattimingerrorsoccuratoverclockedspeedsandmayleadtounpredictablesys-tembehaviorandlossofdata.Aggressive,butreliable,de-signmethodologiesemployrelevanttimingerrordetectionandrecoveryschemestopreventerroneousdatafrombe-ingused[7].In[16],ithasbeenshownthattheoperatingfrequencycanbeincreasedreliablybeyondtheworst-caselimit;allowingsystemstooperateatanoptimaloverclockedfrequency,byadaptingtothecurrentsetofinstructionsandenvironmentalconditions.Moreover,manysystemsoperateataoverclockedfrequency,whichis15-20%higherthanworst-casefrequency,withoutincreasingtheerrorratebe-yond1%[17].Safetycriticalsystemswithhardreal-timeconstraintsrequirewidefaultcoveragewithnocompromiseinper-formance.Aninterestingcapabilityinnanometerdesignspace,webelieve,istoprovidesofterrortolerantreliableexecutionforhighperformanceaggressivedesigns.Inthispaper,weproposenewwaysofdesigningfaulttolerantandreliablyoverclockedregistercellsthatenablesystemstoim-proveboththeirperformanceanddependability.1.1.OurContributionInthispaper,weaddresstheissueofsofterrorsinran-domlogicanddevelopsolutionsthatprovidefaulttolerancecapabilitieswithoutrequiringlogicduplication.Wepro-posetwotechniquesthathavelowareaandperformanceoverhead.Ourﬁrsttechnique,SEM,replacesregisterele-mentsinacircuitwithSoftErrorMitigation(SEM)regis-tercells.SEMallowssystemstooperatewithouttheover-headofsofterrordetectioncircuitry.Oursecondtechnique,STEM,concurrentlydetectsandcorrectssoftandtiminger-rorsusingSoftandTimingErrorMitigation(STEM)reg-istercells.STEMcellshavesofterrormitigationcapabil-itiescomparabletothoseofSEMcells,andtheyalsosup-portreliableoverclocking.Bothofourtechniquesemployadistributedandtemporalvotingschemethatenablesin-situerrordetectionandfastrecovery.Forerrordetectionandcorrection,ourtemporalsamplingmechanismssampledataatthreedifferenttimeintervals.InbothSEMandSTEMtechniques,wesupportcircuitlevelspeculation.Weallowdatatomoveforwardspeculatively,andwhenanerrorhap-penswevoidthecomputationandperformre-computation.BothSEMandSTEMcellsrequirethreeclocksforproperoperation.Clockdistributionandroutingaresig-niﬁcantchallengesinnanoscaletechnologies.Clockdis-tributionnetwork(CDN)consumesasigniﬁcantportionofthepower,areaandmetalresourcesinanintegratedcircuit.Asaconsequence,aspecializedclockgeneration,distribu-tionandroutingschemethatminimizestheclockdistribu-tionoverheadincurredbyourfaultmitigationtechniquesisimportant.Also,tosupportreliabledynamicoverclock-ing,asdiscussedin[16],itisimportanttopreciselycontroltherelativephaseshiftsofclocksignalsathighfrequen-cies.Therefore,wefocusondevelopinganefﬁcientlocalclockmanager(LCM),whichhelpsingeneratingthere-quiredclocksignals,withthedesiredphaseshifts,locally.Theclocks,sogeneratedanddistributed,satisfythetimingconstraintsrequiredforproperworkingofourtechniques.WealsoanalyzetheareaoverheadincurredfordevelopingsuchLCMs.Forourinitialexperimentalstudy,weintegratedourdatasamplingmechanismsintoatwostagepipelineconsistingofanadderandamultiplier.Ourresultsshowthat,withSTEMcells,performanceofthissystemcanbeincreasedby55.93%overconventionalTMRschemes,whileprovid-ingnear100%faultcoverage.Inordertofullyunderstandtheperformanceimprovementandfaultcoveragethatourschemescanprovidetoamicroprocessor,weexperimentedwiththreemicro-benchmarkapplicationsonaDLXproces-sor.Fortheprocessor,ourresultsshowthatSEMtechniqueachievesanaverageperformanceimprovementof26.58%overtheTMRschemeandSTEMoutperformsSEMby27.42%,whileprovidingnear100%faultcoverage.Theremainderofthispaperisorganizedasfollows.InSection2,wedescribeoursofterrormitigationtechniqueandrecoverymechanism.Section3describeshowbothtimingerrorandsofterrorareconcurrentlydetectedandcorrected.InSection4,wediscusstheissuesindesigningapipelinesystemwithourproposedsoft/timingerrormiti-gationtechniques.Section5discussestheimplementationandareaoverheadsofimplementingalocalclockmanager.WepresentourresultsinSection6.Section7presentstherelatedworkandSection8concludesthepaper.2.SoftErrorMitigationPriorsofterrormitigationtechniquesatthecircuitlevelareeitherbasedontemporalredundancy,spatialredun-dancyoracombinationofboth.Thesetechniquesachievehighdegreeoffaultcoverage,whilstdegradingortradingperformance,siliconareaandotherresources.Forexam-ple,in[10],aspeciﬁcdesignofavotingmechanismbasedontemporaltriplemodularredundancyisdiscussed,whichmitigatesallsingleeventupsets.However,theoverheadincurredisveryhigh,astheoperatingfrequencyofasys-tembuiltwithsuchfaultmitigationschememustincludethedelaysofcombinationallogicblocks,phaseshiftsoftheclocksandthedelayincurredbythevoter.Inthissection,wepresentavariantofthisscheme,andshowthatwithacombinationoflocalandglobalrecovery,wecanremovetheadditionaloverheadimposed,bythefaultmitigationscheme,onthesystemoperatingfrequency.Theintentofourschemeistomakesystemsoperateatfrequenciessameasthatofnonfaulttolerantdesigns,byun-loadingthefaultmitigationoverheadfromthecircuitworst-978-1-4244-4421-2/09/$25.00 c(cid:13)2009 IEEE
187
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 05:38:03 UTC from IEEE Xplore.  Restrictions apply. 
T1T2T3TCLK1Φ1Φ2CLK3CLK2(B)ERRORBENIGNDATAINDATAOUTCLK1LBKUPQ1Q3Q3Q2>R1CLK2CLK3>>R2R3(A)Figure1:SEMCellcasetimingdelayestimation.Tokeeptheoverheadofer-rordetectionandrecoveryoffthecriticalpath,wepresentthefollowingredundancyorganizationusingourSoftEr-rorMitigation(SEM)cells.Figure1(a)showsagate-levelembodimentofaSEMcell.ItconsistsofthreeregistersR1,R2andR3,clockedbyclocksignalsCLK1,CLK2andCLK3,respectively.DataissampledatthreedifferenttimeintervalsT1,T2andT3,andarestoredinregistersR1,R2andR3,respectively.TIMINGCONSTRAINTS:Figure1(b)showsthetimingrelationshipbetweentheclocksignalsandthedatasam-plingintervals.Clocksignals,CLK1,CLK2andCLK3,havethesamefrequency,buttheyareout-of-phasebyanamountgovernedbythetimingconstraints,explainedbelow.Dataisstoredinregistersattherisingedgeoftheclocksignals,andstricttimingconstraintsarerequiredforefﬁcientmit-igationofsofterrors.Contaminationdelay(TCD)istheminimumamountoftimebeginningfromwhentheinputtoalogicbecomesstableandvalidtothetimethattheout-putofthatlogicbeginstochange.Propagationdelay(TPD)referstothemaximumdelayofthecircuit,underworst-caseconditions.TPWisthesofterror/noisepulsewidth.Equations(1)and(2)ensurethatregistersR1,R2andR3arenotcorruptedbythesamesofterror.SincethesystemisrunningatCLK1frequency,dataisforwardedspecula-tivelytosubsequentstagesafterlatchinginregisterR1,andsubsequentstagesstarttheircomputationimmediately.Φ1=T2−T1≥TPW(1)Φ2=T3−T2≥TPW(2)Shortpathspresentinthecombinationalcircuitmaycor-ruptthedatabeforeitgetslatchedinregistersR2andR3.Consequently,itisrequiredtoconstrainshortpathssothatthesamedataregisteredinR1isalsolatchedinregistersR2andR3,duringerror-freeoperation.Equation(3)en-surethatthisconditionismet,byincreasingthecontami-nationdelayabovethedesiredcombinedphaseshiftvalues,givenbyΦ1andΦ2.Equation(4)makessurethattemporalsamplinghappensonlyafterthecomputationbythecombi-nationallogicisdone.OurtechniqueiscapableofdetectingallSEUshappeningonregisters,andallSETshavingpulsedurationlessthanTPW.TCD≥Φ1+Φ2(3)T≥TPD(4)Table1:PossibleSoftErrorScenariosCASER1R2R3ERRORBENIGNRECOVERYI√√√00NoRecoveryII×√√10LoadR2orR3intoR1III√×√11NoRecoveryIV√√×01NoRecoverySOFTERRORDETECTIONANDRECOVERY:Table1presentsthepossiblesofterrorscenariosthataSEMtech-niqueiscapableofdetectingandrecoveringfrom.Theta-blealsoliststhecorrespondingrecoverymechanismsused.OncethedataislatchedinregistersR1,R2andR3,theyarecomparedwitheachotherasshowninFigure1(a)toproduceERRORandBENIGNsignals.Thiscomparisonop-erationcompletesthevotingprocessrequiredtodetectsofterrors.Onerrordetection,asinglecyclesystemstallisallthatisrequiredforcompleterecovery.Below,weexplainthedifferentpossiblescenariosandtherecoverymechanismusedwhenanerrorhappens.•CASEI:Nosofterroroccurs.Datalatchedinallthreeregistersarecorrect.BothERRORandBENIGNsig-nalsstaylow,andnorecoverymechanismistriggered.Systemoperationcontinueswithoutanyinterruption.•CASEII:AsofterrorcorruptsthedatalatchedinregisterR1.ERRORsignalgoeshighafterthedataislatchedinR2.SincethenextstagespeculativelyusesthedataforwardedfromR1,re-computationisre-quirednextcycletoensurefunctionalcorrectness.ThedatastoredinregistersR2andR3areunaffectedbythesofterror.Duringthenextcycle,valuestoredinR2orR3isloadedbackintoregisterR1withthehelpofthecontrolsignalLBKUP,completingthelocalrecoveryprocess.Figure1(a)showsR3beingloadedintoR1.Globalrecovery,intheformofastallsignalsenttoallotherSEMcellsthatareunaffectedbythesofterror,isinitiatedandcompletedinonecycle.•CASEIII:AsofterrorcorruptsthedatalatchedinregisterR2.Boththesignals,ERRORandBENIGN,gohighoncetemporaldatasamplingiscompleted.Thisisafalsepositivescenario.Norecoveryisrequiredasdataforwardedtothenextstageiscorrect.Systemoperationisnotinterrupted.•CASEIV:ThisrepresentsacasewhereregisterR3iscorruptedwithasofterror.InthiscaseERRORsignalstayslow,whileBENIGNsignalisassertedhigh.Norecoveryandinterruptionisrequiredinthiscasetoo,asBENIGNsignalishigh.978-1-4244-4421-2/09/$25.00 c(cid:13)2009 IEEE
188
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 05:38:03 UTC from IEEE Xplore.  Restrictions apply. 
Ascanbeseen,ourschemedoesnottriggererrorrecov-eryforfalsepositivescenarios.Also,sincethedatalatchedinR1isspeculativelyusedbythesucceedingstages,assoonasitisavailable,theerrordetectionoverheadisnotincurredduringnormalsystemoperation.Thisisalsoalowoverheadsolution,asitshunstheneedforcheckpointingatregulartimeintervals.Thus,weenablesystemstomiti-gatesofterrors,usingSEMcells,withoutanylossofper-formance,comparedtoanonfaulttolerantdesign.FAULTTOLERANCEANALYSIS:TheSEMtechniquedetectsandrecoversfromallpossiblesofterrorscenar-iosinvolvingbothSEUsandSETs.Thisschemeiswellsuitedforfasttransientpulses.Sincefasttransientstypi-callycorrespondtosofterrorswithhighstrikerateproba-bilities,SEMcellshavenear100%transientfaultmitiga-tioncapability.Ourschemeoffersprotectionforpulsesofwidthslessthanthephaseshiftsprovidedbetweentheclocksignals.Anynoisesignal,whosepulsewidthexceedsthislimit,cannotbedetectedbyourscheme.3.SoftErrorMitigationinAggressiveDesignsAggressivedesignsarebasedonthephilosophythatitispossibletogobeyondworst-caselimitstoachievebestperformancebynotavoiding,butdetectingandcorrectingamodestnumberoftimingerrors.Inthissection,wefur-therinvestigatethesolutionpresentedinprevioussectionforsofterrormitigation,andexplainhowitcanbemodi-ﬁedforsofterrormitigationinaggressivedesigns,whichusesreliableoverclockingtechniqueforimprovingsystemperformance.Withaconventionalvoterdesign,todetectandcorrectnerrorssimultaneously,weneedtohaveupto2n+1datasamples.Inourcase,wehaven=2,sinceweneedtodetectandcorrectbothsoftandtimingerrors.Forthisanalysis,weconsidersofterrorstobeofonlytypeSET.Atraditionalfaulttolerancetechniquerequiresﬁvedifferentdatavaluesforguaranteeingbothsofterrorandtiminger-rordetectionandcorrection.Theoverheadincurredbythisapproachisveryhighasitincreasesthenumberofregis-tersbyfourtimes,andrequiresﬁvedifferentclockstosam-pledataatﬁvedifferenttimes.Ourgoalistodevelopasoftandtimingerrormitigationschemethatincursminimaloverhead.TheproposedSoftandTimingErrorMitigation(STEM)cellissimilartotheSEMcellinareacomplex-ity.However,theerrordetectionandrecoverymechanismissigniﬁcantlydifferenttoaddresstherequirementsofcon-currentsoftandtimingerrormitigation.ERRORDETECTION:Figure2showsagate-levelem-bodimentofaSTEMcell,whichactsasanon-line-faultmonitorforsoftandtimingerrormitigation.TheworkingofaSTEMcellisasfollows:OncethedataislatchedinregistersR1andR2,theyarecomparedwitheachother.Thiscomparisonoperationcom-pletesthetimingerrordetectionprocess,sinceR2istimingERRORPANICDATAINDATAOUTLPANICCLK1LBKUP>R1>R2Q1Q3Q2>R3CLK3CLK2Q3Q3Q2Figure2:STEMCellsafe[7,16].Butinthepresenceofsofterrors,thiscompar-isonoperationpresentsanambiguoussituation,asitisnotpossibletodistinguishwhichoneofthesetworegistersiscorruptedbyanerroneousvalue.Also,valueinR2isnottobetrustedduringtheerrorrecoveryprocess.IfthecomparisonbetweenR1andR2ﬂagsamismatch,registerR3isshieldedfromtheincomingdatavalue,anditscontentisusedtorecoverthesystemstate.Thisisdonebe-causeanysofterrorthathappensaftercomparingR1andR2hasthepotentialtocorruptR3andpushthesystemintoanunrecoverablestate.Onlywhenthereisnomis-matchbetweenregistersR1andR2,registerR3isallowedtolatchthedatasafely.However,wehavenotyetascer-tainedwhetherR3isfreefromsofterror.Therefore,weperformanothercomparisonoperationtocompletetheerrordetectionprocess.AfterregisterR3isupdated,wecompareitwithregisterR2,todetectanyerrorhappeninginregisterR3.Ifthereisnomismatch,registerR3istrustedforerrorrecoverypurposes.Iftheymismatch,thenthatrepresentsacasewhereregisterR3iscorruptedbyasofterror.Atthispoint,itispossibletosaythatdatalatchedinregistersR1andR2areuncorrupted.ThesystemisstalledforonecycleforﬂushingouttheerroneousvaluefromR3,andloadingeitherR1orR2valueintoR3.TIMINGCONSTRAINTS:AsisthecasewithSEMcells,STEMcellsalsorequirestricttimingconstraints,todetectandcorrectsoftandtimingerrors.STEMcellsmustsat-isfyEquations(1),(2)and(3).Equation(4)ismodiﬁedasshowninEquation(5)forSTEMcells.Equations(1)and(2)ensurethatregisterspresentinaSTEMcellarenotcor-ruptedbythesameSET.Equations(3)and(5)ensurethatdatalatchedinregistersR2andR3aretimingcorrect,i.e.freefromtimingerrors.ThetimingrelationshipsshowninFigure1(b)stillholds,withthecaveatthatΦ1alsoincludestheextentofoverclockingthatispossibleeverycycle.T+φ1≥TPD(5)ERRORRECOVERY:Table2listsallpossibleerrorsce-narioswithcorrespondingrecoverymechanisms.Intheta-ble,NErepresentsNoError;SErepresentsSoftErrorandTErepresentsTimingError.Inthefollowingdiscussion,978-1-4244-4421-2/09/$25.00 c(cid:13)2009 IEEE