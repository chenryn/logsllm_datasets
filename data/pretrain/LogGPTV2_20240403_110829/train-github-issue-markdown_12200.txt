Have this exception during indexation documents for suggest completion:
        suggest_top_products:
            client: default
            index_name: my_index_suggest_top_products
            use_alias: true
            settings:
                number_of_shards:   6
                number_of_replicas: 0
                index:
                    analysis:
                        analyzer:
                            completion:
                                type: custom
                                tokenizer: whitespace
                                filter: [short_word_delimiter, lowercase, asciifolding, apostrophe, op_synonyms, snow_english]
                                char_filter: html_strip
                        filter:
                            snow_english:
                                type: snowball
                                language: English
                            short_word_delimiter:
                                type: word_delimiter
                                generate_word_parts: true
                                generate_number_parts: true
                                catenate_words: true
                                catenate_numbers: true
                                catenate_all: true
                                split_on_case_change: true
                                preserve_original: true
                            op_synonyms:
                                type: synonym
                                ignore_case: true
                                expand: true
                                synonyms:
                                  - "riflescopes, rifle scopes"
                                  - "riflescope, rifle scope"
            types:
                auto_suggest:
                    mappings:
                        text: {type: string, index: not_analyzed}
                        top_products:
                            type: completion
                            index_analyzer: completion
                            search_analyzer: completion
                            payloads: true
                            preserve_position_increments: false
                            preserve_separators: false
Document is:  
{"text":"Sure-Fire Z59 Click-On Lock-Out Tailcap for C2 / C3 / D2 / D3 / G3 /
M2 / M3 / M3T / M4 Flashlights","top_products":{"input":["Sure-Fire Z59 Click-
On Lock-Out Tailcap for C2 C3 D2 D3 G3 M2 M3 M3T M4 Flashlights","C2 C3 D2 D3
G3 M2 M3 M3T M4 Flashlights"],"output":"Sure-Fire Z59 Click-On Lock-Out
Tailcap for C2 / C3 / D2 / D3 / G3 / M2 / M3 / M3T / M4
Flashlights","weight":"144","payload":{"type":"top_product","product_id":"32378","weight":"144","primary_image":"opplanet-
surefire-tailcaps-
switches-z59","rating":"0.00","review_count":"0","url":"surefire-tailcaps-
switches-z59"}}}