在开始参与漏洞赏金计划之前，我有两条重要的建议供初学者参考：

1. 请务必检查过往的报告。这不仅能帮助你了解可能有效的绕过方法，还能让你学到新的知识。
2. 如果您对漏洞赏金或黑客相关的内容感兴趣，请订阅我的频道并关注最新动态。

### Slack与SSRF（服务器端请求伪造）

[Slack](https://slack.com/about) 是一个协作平台，它将合适的人、信息和工具汇集在一起以提高工作效率。无论是财富500强企业还是小型本地公司，全球数百万用户都在使用Slack来加强团队沟通、整合系统资源并推动业务增长。

### 斜杠命令（Slash Commands）

关于“api.slack.com中的SSRF利用斜杠命令绕过防护”的问题，您可以在此处找到更多关于斜杠命令的信息：[链接](https://get.slack.help/hc/en-us/articles/201259356-Comandos-de-barra-integrados)。

某些Slack功能，如“集成/Phabricator”和“集成/斜杠命令”，允许用户提交由后端服务器访问的URL。为了防止访问内部资源（例如loopback地址、10.0.0.0/8网段等），系统设置了一个黑名单。然而，可以通过使用“[::]”作为主机名来规避这一限制。不过需要注意的是，这种方法仅适用于支持IPv6并且监听所有网络接口的服务。

Slack已经禁止了在斜杠命令中注册IPv6地址的做法。

**绕过新保护措施的方法**

针对上述新增加的安全措施，我发现了一种新的绕过方式：利用PHP脚本通过设置"Location"头部进行重定向。

- 在您的域名上创建一个名为`index.php`的文件，并添加如下代码：
  ```php
  <?php
  header('Location: http://hackerserver[.]com/');
  exit();
  ?>
  ```

- 接着，在Slack中输入相应的斜杠命令（例如`/youslash`），然后尝试访问你的测试服务器（比如`http://hackerserver[.]com/`）。

- 结果显示成功绕过了保护机制。

此外，在进一步探索过程中，我还发现了另一个存在于事件订阅参数中的SSRF漏洞。“事件订阅”功能允许应用程序订阅特定类型的Slack事件通知（如用户添加表情反应或上传文件）。当尝试向不遵循API规范的网站发送请求时，系统会返回错误信息提示更新URL。

同样地，此漏洞也可以通过使用IPv6向量`[::]`来进行绕过。在我的实验环境中，`x.php`文件内容如下所示：
```php
<?php
echo "SSH [::]:22\n";
echo "SMTP [::]:25\n";
?>
```
尽管Slack最初认为这份报告是重复提交，但我坚持认为自己独立发现了该问题。最终，经过讨论后他们承认了我的贡献，并为此支付了500美元的奖金。

参考资料：完整的技术细节将在HackerOne平台上于2月22日公开发布。