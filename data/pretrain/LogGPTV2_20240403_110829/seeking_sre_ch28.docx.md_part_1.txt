# SRE认知工作
约翰·All斯帕和理查德·库克，自适应产能实验室
> * \...具有讽刺意味的是，控制系统越先进，那么人类操作者的贡献就越关键。*
>
> 班布里奇，1983年。
# 简介
现代"系统"是嵌入在可变世界中的不断变化的硬件和软件混合体。总的来说，超分布，不稳定的组成，不断变化的负荷以及对现代技术组件的不断修改，对于那些设计，维护，诊断和修复它们的人来说是一个独特的挑战。我们参与探索这一挑战，并试图了解人们如何能够保持我们的系统正常运行，特别是他们如何理解周围发生的事情。我们发现既鼓舞又令人担忧。鼓舞人心，因为这些研究揭示了人员和群体中高度精细的专业知识以及带来专业知识的新机制。令人担忧的是，技术和组织经常配置不当，无法使这些专业知识有效。
我们与同事一起研究了从事SRE工作的人、探查他们面临的问题、他们采取的方法以及中间出现的问题。从远处看，这项工作常常被想象成简单的技术，甚至有点显得平凡。不过，检查已完成的工作，就会发现SRE的工作通常充满风险，有时甚至是危险的。
本章简要介绍了我们对现代技术的了解。以及设计、维护、诊断和修复现代技术的人员的工作。SRE工作组与其他高风险领域的工作组之间存在相似之处。最后，我们就如何更好地支持这项工作提出了一些一般性建议，并就如何更好的面对这种要求苛刻、冲突的环境提出了更具体的建议。
# SRE人员是*做什么*的？
  人们聚集在一起面对事件的物理和虚拟场所的名称*关于术语的说明*：使用诸如*异常*，*活动*，*事件*和*事故*之类的术语往往引起关于其确切含义的尖锐辩论。它们在技术和其他地方使用不一致。这几个词汇的随意往往使用令人沮丧，以至于有些人试图给出清晰的定义。尽管做出了这些努力，*这些术语仍没有固定含义*。当词语选择产生重大后果时，情况变得更加困难。例如，一些技术公司有*事件*或*异常*的不同处理流程。（我们在事件响应期间目睹了关于该事件是否符合组织的*事件*标准的广泛讨论！因为宣布*事件*将带来额外的资源，产生可审计的文件记录，并涉及大量的未来工作。）目前无法给出统一的用词标准。因此，我们需要注意这些术语在上下文中的使用方式，尤其是术语选择的后果。在本章中，我们使用术语"事件"作为指向一组与时间有关的活动的指针，这些活动与不良系统行为有关。（例如，"战争室"和"指挥中心"）表明事件有时具有存在性质，值得与飓风的中心相比较。然而，即使在飓风中，我们发现人们有意识地，谨慎地，（至少在外表上）冷静地应对正在发生的事情。这些人正在*做*有目的的事情，他们使用特定类型的专业知识，并且这样做是因为这是他们的工作。#some_activities_of_sres_during_incidents显示事件发生时SRE的一些职责。
SRE在事件期间的一些活动
  : SRE在事件期间的一些活动
与旋风一样，复杂系统中的事件也会产生反响，有时会长期发生。修复损坏、恢复容量以及进行更改以避免将来发生故障，这可能需要数周甚至数月才能完成。在旋风肆虐时，通常不可能了解事故的深层来源。许多组织都有正式和非正式的事件审查方法，旨在探查和识别这些深层来源。SRE在这方面也有责任，参与事后分析和行动项目分配就是例子。
#some_activities_of_sres_during_incidents中显示的活动是*认知*活动。这项工作是在SRE的脑袋内进行的，用他们的言行来表达。要理解他们所做的工作，需要了解SRE的*认知*。在复杂的工作领域理解人类认知是具有挑战性的，但是可能的。
在其他领域已经开发了有用的技术，例如航空，核电和其他本质危险领域。值得注意的是，尽管#some_activities_of_sres_during_incidents右侧的示例特定于网络相关的信息技术，但左侧活动更为通用。我们发现类似的活动正在许多其他高风险领域中进行，从空中交通管制到重症监护室（Nemeth等，2004）。有许多人在各种领域进行类似SRE的认知工作。
# 我们为什么要关心从业者认知？
 曾经有人认为系统可以设计和构建，以便它们的操作、维护和修复可以简化为明确定义的任务，能够在所有重要方面清晰界定。 FredrickWinslowTaylor（1856-1915）推广了将工作简化为狭义指定的最佳方式的观点。 亨利福特（1863-1947）的汽车装配线最能体现出结构合理，精心管理的工作场所的理念。
第二次世界大战期间的经验，特别是操纵飞机的经验，开始对人类表现的确定性观点得到质疑。尽管某些装配过程可能完全指定，但*操作*情况使人类接触到了各种情况和设置，其中很多情况和设置都超越了书面程序的专业知识。回顾过去，很明显，很少有情况可以简化为一套明确的规则。
使事情奏效的专业知识，也就是在破坏时修复并管理失败后果所需的专业知识往往是晦涩难懂的。了解这些专业知识的来源，如何部署以及如何在实践社区中维持（Lave和Wenger，1991）本质上是对野外认知的研究（Hutchins，1995）。正如 Bainbridge（1986）观察到的那样，自动化的一个讽刺是增加其复杂性和功能并不会减少对专业知识的需求，而是增加了知识的需要。对从业者认知如何运作建立全面，扎实的理解对于现代系统的运作至关重要，并且随着这些系统的复杂性和范围的扩大而变得更加重要。
## 在不确定性和时间压力下做出的关键决策无法重现
  人类与复杂系统接触的现代观点源于20世纪70年代的思想和研究线索的汇合，并于1979年3月28日在 三里岛（TMI）发生核事故后闯入公开场所。在TMI之前，大众广泛认为核电厂在安全方面的投入如此之大，以至于几乎不可能发生重大事故。安全性在设计，自动化系统和程序中进行了编码。工厂运作被视为仅仅是遵循这些程序的问题，这些程序被认为是客观和完全具体的。TMI表明这个想法存在根本缺陷。复杂性和环境可以并且将结合起来创造新的情况，其程序是不明确的和不充分的。这些具有挑战性的情况将要求运营商建立对具体情况的理解，权衡不同方法的风险，跟踪工厂的不断变化的状况并修改他们的理解，并重新引导注意力和努力。
TMI之后的15年时期是关于安全复杂性、自动化和人类性能的丰富而恶毒的争论之一。它产生了多个富有成效的研究线索，并且目前仍然继续硕果累累。而把"错误"当作一种偶尔的人类表现（可以计算、引导和训练）的想法完全崩溃了。我们用来研究工作中的SRE的方法在很大程度上是由于TMI而开发的。
TMI明确指出，工程师、操作员和不时参与复杂系统工作的工程师、操作员和其他人员需要拥有手段和机会，了解这些系统是如何工作的，并预测所采取的行动将如何发挥作用，尤其是当系统崩溃或损坏时。实现这一点取决于能否理解他们在现实世界中的认识。
## 现代复杂系统中的人类表现：主题
  关于复杂系统中的人类表现，这些系统的分析以及这些系统的成功和不成功操作的来源，有大量文献。这项工作有几个主要主题（参见#themes_in_human_performance_in_complex_sy）。其中一些在SRE工作中具有明显的应用，但若要使它们真正有用的话，即使是最相关的也需要仔细准备。
复杂系统中人类绩效的主题
+-----------------------------------+-----------------------------------+
| **主题**                          | **例子**                          |
+===================================+===================================+
| 关键决策                          | -   不确定性、高风                |
|                                   | 险和时间压力的组合如何影响决策？  |
|                                   |                                   |
|                                   | -   决策者如何评估备选方案？      |
|                                   |                                   |
|                                   | -   是什么让工作费力？            |
+-----------------------------------+-----------------------------------+
| 搞清状况                          | -   如何识别异常？                |
|                                   |                                   |
|                                   | -   故障排除如何工作？            |
|                                   |                                   |
|                                   | -   专家如何跟踪不断变化的情况？  |
+-----------------------------------+-----------------------------------+
| 跨多个渠道的协调                  | -   合作是如何发生的？            |
|                                   |                                   |
|                                   | -   人员与机器如何交互？          |
|                                   |                                   |
|                                   | -   如何管理协调成本？            |
+-----------------------------------+-----------------------------------+
| 弹性                              | -   适应新情况需要什么？          |
|                                   |                                   |
|                                   | -   有哪些权衡？                  |
|                                   |                                   |
|                                   | -   什么样的自由度值得维护？      |
+-----------------------------------+-----------------------------------+
: 复杂系统中人类绩效的主题
虽然每个主题都有一般结果，但这些结果主要是进一步审查具体工作领域的指南。每个工作场合在重要方面是不同的。在一个场合中有用的方法在另一个场合中可能也很有用，但如果要保证它始终都有用，则需要仔细调整在其他场合的具体应用细节。简单地照搬照抄很少能达到需要的结果。
相反，该研究有助于界定新领域的探索，并解释该领域的实证研究的结果。这种情况与"模式"在软件中有用的方式有些类似。模式不是解决方案，而是允许开发解决方案的框架。 
# 关于围绕事件的SRE认知工作的观察
  事故是复杂的系统故障（Cook，1998；Cook，2010）。它们是由多个单独无害的缺陷组合而成，每个缺陷都无法产生明显的故障，但是，这些缺陷相互作用时就会导致事故。但复杂系统失效的理论太狭隘，无法涵盖SRE工作，其中包括避免性能下降导致的失效，修复和重新组装（有时是部分）功能系统，及时触发响应机制以避免其他系统级联失效，并构建有意义的、对刚刚发生的问题的有用描述。
## 每一次事件都可能更糟
  即使事件似乎已经突然开始，对其演变的回顾也就肯定会显示有多种不同可能结果。即使结果很糟糕，粗略的审查也会表明情况可能更糟。即使它们不能阻止故障，从旋风中心的有利位置出发，SRE也可能有机会改变故障的轨迹，以便保留有用的元素或暂缓故障后果。
特别是对于级联故障（组件故障成倍增加以扩大损坏区域），有时可以断开分布式系统的某些部分以避免扩展故障。只需警告使用系统的人员和计算机出现故障，即可为这些人提供准备时间，以便在服务失效时实现安全关机。
把一个失败的系统导入不令人感到痛苦的结果，这取决于SRE的专业知识、系统设计和技术的实施。这些事件通常发生得很快，可能操作的时机可能很短暂，这给那些试图限制损害的人带来了额外的压力。
只有最公开、备受瞩目的事件才能得到足够深入的调查，以揭示事故发生时的选择是如何让事情变得更好或更糟。这里的两个例子都涉及核电工业的史实。
##### TMI
 在三哩岛发生事故期间，操作人员开始担心流入反应堆的额外冷却水会填满加压器，并导致反应堆"变硬"的灾难性后果，会导致失去控制。这导致他们减少水流，使反应堆核心暴露并停止冷却，导致核心熔毁。
##### 福岛