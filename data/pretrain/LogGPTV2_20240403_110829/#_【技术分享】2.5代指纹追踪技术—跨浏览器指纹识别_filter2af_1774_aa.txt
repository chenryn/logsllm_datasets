# 【技术分享】2.5代指纹追踪技术—跨浏览器指纹识别
|
##### 译文声明
本文是翻译文章，文章来源：默安科技
原文地址：
译文仅供参考，具体内容表达以及含义原文为准。
****
**前言**
**作者简介**
程进，默安科技影武者实验室安全工程师。主要参与一些安全产品的安全能力推进，包括幻盾的蜜网、黑客溯源技术，SDL雳鉴的漏洞扫描、代码审计等。
**01.研究背景**
在如今，做安全防御已经不仅仅是被动的等着攻击者攻击，作为防御方，有越来越多的方法去反击攻击者，甚至给攻击者一些威胁。
设备指纹技术是一种长久有效的追踪技术，即使攻击者挂再多vpn，也能够准确识别攻击者身份。
本文借助理海大学发布的(Cross-)Browser Fingerprinting via OS and Hardware Level
Features文章，写一些个人理解，与[
**paper原文**](http://yinzhicao.org/TrackingFree/crossbrowsertracking_NDSS17.pdf)，一并服用，效果更佳。
**02.设备指纹技术介绍**
**1．第一代**
第一代指纹追踪是cookie这类的服务端在客户端设置标志的追踪技术，evercookie是cookie的加强版。
**2 . 第二代**
第二代指纹追踪是设备指纹技术，发现IP背后的设备。通过js获取操作系统、分辨率、像素比等等一系列信息，传到后台计算，然后归并设备。
唯一性可以保证，但准确率很难完全保证。主要原因就是在跨浏览器指纹识别上面。跨浏览器之后，第二代技术中很重要的canvas指纹、浏览器插件指纹都变了，所以很难把跨浏览器指纹归并到同一设备上。
因为设备指纹相同，很大概率上是同一台设备；但是，设备指纹不同时，不一定不是同一台设备。
**3 . 第三代**
第三代指纹追踪技术，则是发现设备后面的人。通过人的习惯、人的行为等等来对人进行归并，此项技术比较复杂。
**总 结**
第一代、第二代的指纹追踪技术是可以直接通过js收集信息的，第三代指纹追踪技术目前可看到的案例是2017年RSA创新沙盒的冠军unifyid技术。但是在RSA的答辩现场我们可以看到，unifyid在移动端安装软件、收集信息，不仅仅是通过js。至于利用于web上，还任重而道远。
那么，2.5代指纹识别技术即跨浏览器指纹识别技术。
**03.跨浏览器指纹识别特征**
这篇paper中的创新点很多，最主要的是深入研究了显卡的渲染方法，图片的哪些部分用到硬件渲染，哪些部分只用到软件渲染，或者跟浏览器有关，paper中都有深入研究
着重讲一些比较有意思的特征，文章中用到的所有特征如下：
其中很多特征都是在其他设备指纹的paper中出现过的，并且目前被广泛用于设备指纹项目。比如canvas指纹在单浏览器识别中是比较有区分度的特征。
对比一下已经开源的fp2的指纹列表
fp2中的都是一些常规的追踪项目，并且如果用过就知道，其中很多项目是没有什么区分度的，比如
    Has session storage or not
    Has local storage or not
    Has indexed DB
    Has IE specific 'AddBehavior'
    Has open DB
    Is AdBlock installed or not
    Has the user tampered with its languages 1
    Has the user tampered with its screen resolution 1
    Has the user tampered with its OS 1
    Has the user tampered with its browser
这些项只能进行一些大致的区分，并没有什么实际的参考价值。
但是这篇paper中去掉了这些区分度低的特征，用到了另一类特征，显卡渲染图片，就是特征表中的task(a)-task(r)，可以看到这些task的跨浏览器稳定性都非常高，也就是说受浏览器的影响不是很大。这里，我们抽一些任务介绍一下。
**1.首先，paper中对图片渲染进行了简单的介绍：**
在此之前，首先介绍下面的基本画布设置。画布的大小为256×256。画布的轴定义如下：[0，0，0]是画布的中心，其中x轴是向右延伸的水平线，y轴是向下延伸的垂直线，z轴朝远离屏幕方向延伸。存在功率为[R：0.3，G：0.3，B：0.3]的环境光，相机位于[0，0，-7]的位置。这两个组件必需，否则模型完全是黑色的。在本文的其余部分，除非指定，例如具有2D特征的任务（d）和其他带有附加灯的任务，所有任务均使用相同的基本设置。
**2.这里列举几个典型的task**
**2.1 task（a）：纹理**