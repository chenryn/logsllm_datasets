以下是优化后的文本，使其更加清晰、连贯和专业：

---

### 目录

12.4 结论 ........................................................................................................ 342  
13. Jenkins 维护 ................................................................................................ 345  
13.1 引言 ................................................................................................. 345  
13.2 磁盘空间监控 ...................................................................................... 345  
13.2.1 使用磁盘使用插件 ....................................................................... 346  
13.2.2 磁盘使用与 Jenkins Maven 项目类型 ................................................... 348  
13.3 服务器负载监控 ................................................................................... 349  
13.4 配置备份 ......................................................................................... 351  
13.4.1 Jenkins 备份基础 ......................................................................... 351  
13.4.2 使用备份插件 ............................................................................. 353  
13.4.3 更轻量级的自动化备份 ................................................................. 354  
13.5 构建作业归档 ...................................................................................... 355  
13.6 构建作业迁移 ...................................................................................... 356  
13.7 结论 ................................................................................................. 359  
附录 A 自动化单元和集成测试 ................................................................................ 361  
A.1 使用 Maven 自动化测试 .......................................................................... 361  
A.2 使用 Ant 自动化测试 ............................................................................ 366  
索引 ............................................................................................................... 371  

### 图表列表

2.1 安装 Java ........................................................................................................ 10  
2.2 注册 GitHub 账号 .............................................................................................. 12  
2.3 分叉示例代码仓库 ........................................................................................ 13  
2.4 通过 Java Web Start 从本书网站运行 Jenkins ........................................................ 14  
2.5 Java Web Start 将下载并运行最新版本的 Jenkins .................................................... 15  
2.6 Java Web Start 运行 Jenkins .............................................................................. 15  
2.7 Jenkins 启动页面 ........................................................................................... 16  
2.8 管理 Jenkins 屏幕 .......................................................................................... 17  
2.9 配置 Jenkins 屏幕 ......................................................................................... 18  
2.10 配置 Maven 安装 ......................................................................................... 19  
2.11 配置 JDK 安装 ......................................................................................... 20  
2.12 在 Jenkins 中管理插件 .................................................................................. 21  
2.13 安装 Git 插件 ........................................................................................... 21  
2.14 在 Jenkins 中设置第一个构建作业 .................................................................. 23  
2.15 告诉 Jenkins 源代码的位置 ............................................................................ 24  
2.16 安排构建作业 ........................................................................................... 25  
2.17 添加构建步骤 ........................................................................................... 25  
2.18 配置 JUnit 测试报告和工件归档 ....................................................................... 26  
2.19 第一个构建作业正在运行 .............................................................................. 27  
2.20 Jenkins 仪表板 ........................................................................................... 27  
2.21 构建失败 ................................................................................................. 30  
2.22 所有失败的测试列表 .................................................................................... 31  
2.23 失败测试的详细信息 .................................................................................... 31  
2.24 构建恢复正常 ........................................................................................... 33  
2.25 添加新的构建步骤和报告以生成 Javadoc ............................................................ 34  
2.26 Jenkins 将在构建结果中添加 Javadoc 链接 .......................................................... 35  
2.27 Jenkins 提供大量可用插件 .............................................................................. 36  
2.28 添加另一个 Maven 目标以生成测试覆盖率指标 .................................................... 37  
2.29 在 Jenkins 中配置测试覆盖率指标 ................................................................... 38  
2.30 Jenkins 在构建首页上显示代码覆盖率指标 ........................................................ 39  
2.31 Jenkins 允许您按包和类显示代码覆盖率指标 ...................................................... 40  
2.32 Jenkins 还会显示随时间变化的代码覆盖率图表 .................................................. 41  
3.1 您可以从 Jenkins 网站下载 Jenkins 二进制文件 ..................................................... 44  
3.2 Windows 中的 Jenkins 设置向导 ........................................................................ 45  
3.3 Jenkins 启动页面 ......................................................................................... 46  
3.4 使用 Java Web Start 启动 Jenkins ..................................................................... 57  
3.5 将 Jenkins 安装为 Windows 服务 ..................................................................... 58  
3.6 配置 Jenkins Windows 服务 ............................................................................. 59  
3.7 Jenkins 主目录 ......................................................................................... 61  
3.8 Jenkins 作业目录 ......................................................................................... 62  
3.9 构建目录 ................................................................................................. 63  
3.10 从 Web 界面升级 Jenkins ............................................................................ 65  
4.1 在“管理 Jenkins”屏幕中配置您的 Jenkins 安装 ...................................................... 68  
4.2 Jenkins 系统配置 ......................................................................................... 70  
4.3 在 Jenkins 中配置环境变量 ............................................................................. 72  
4.4 使用已配置的环境变量 ................................................................................ 72  
4.5 Jenkins 中的 JDK 配置 ................................................................................... 73  
4.6 自动安装 JDK ........................................................................................... 74  
4.7 在 Jenkins 中配置 Maven ............................................................................... 75  
4.8 配置系统范围的 MVN_OPTS ........................................................................... 76  
4.9 在 Jenkins 中配置 Ant .................................................................................. 77  
4.10 在 Jenkins 中配置邮件服务器 ......................................................................... 78  
4.11 在 Jenkins 中配置使用 Google Apps 域的邮件服务器 ............................................ 79  
4.12 配置 Jenkins 使用代理 ................................................................................ 80  
5.1 Jenkins 支持四种主要类型的构建作业 ................................................................. 82  
5.2 创建新的构建作业 ....................................................................................... 83  
5.3 永久保留构建作业 ....................................................................................... 83  
5.4 单击高级按钮以显示高级选项 ......................................................................... 84  
5.5 “当上游项目正在构建时阻止构建”选项适用于单个提交可能影响多个相关项目的场景 .... 85  
5.6 Jenkins 内置支持 Subversion ........................................................................... 86  
5.7 显示导致构建的代码更改的源代码浏览器 ........................................................... 87  
5.8 Git 插件的系统范围配置 .............................................................................. 89  
5.9 输入 Git 仓库 URL ..................................................................................... 91  
5.10 高级配置 Git 仓库 URL ............................................................................. 91  
5.11 高级配置要构建的 Git 分支 ........................................................................ 92  
5.12 分支和地区 .............................................................................................. 93  
5.13 选择策略 ................................................................................................. 95  
5.14 Git 可执行文件全局设置 ............................................................................. 95  
5.15 仓库浏览器 .............................................................................................. 96  
5.16 轮询日志 ................................................................................................. 96  
5.17 Git 轮询的结果 ......................................................................................... 97  
5.18 Gerrit 触发器 ............................................................................................. 97  
5.19 Git 发布者 ............................................................................................... 98  
5.20 合并结果 ................................................................................................. 99  
5.21 GitHub 仓库浏览器 .................................................................................. 100  
5.22 GitHub 仓库浏览器 .................................................................................. 100  
5.23 您可以配置 Jenkins 以多种方式启动构建作业 .................................................... 100  
5.24 即使当前构建不稳定，也触发另一个构建作业 ................................................... 101  
5.25 通过 URL 和令牌触发构建 .......................................................................... 104  
5.26 向自由风格构建作业添加构建步骤 ................................................................. 106  
5.27 配置 Ant 构建步骤 ................................................................................... 107  
5.28 配置执行 Shell 步骤 ................................................................................. 108  
5.29 向 Jenkins 添加 Groovy 安装 ....................................................................... 111  
5.30 作为构建作业的一部分运行 Groovy 命令 ......................................................... 112  
5.31 作为构建作业的一部分运行 Groovy 脚本 ......................................................... 113  
5.32 报告测试结果 ......................................................................................... 114  
5.33 配置构建工件 ......................................................................................... 114  
5.34 构建工件在构建结果页和构建作业主页上显示 ................................................... 115  
5.35 归档源代码和二进制包 ............................................................................... 117  
5.36 电子邮件通知 ......................................................................................... 118  
5.37 创建新的 Maven 构建作业 ........................................................................... 119  
5.38 指定 Maven 目标 ..................................................................................... 120  
5.39 Maven 构建作业 - 高级选项 .......................................................................... 120  
5.40 将工件部署到 Maven 仓库 .......................................................................... 122  
5.41 部署后，工件应在企业仓库管理器上可用 ........................................................ 123  
5.42 重新部署工件 ......................................................................................... 124  
5.43 从 Jenkins 部署到 Artifactory ..................................................................... 124  
5.44 Jenkins 显示指向相应 Artifactory 仓库的链接 ................................................... 125  
5.45 在 Artifactory 中查看已部署的工件 ............................................................... 125  
5.46 在 Artifactory 中查看已部署的工件及其对应的 Jenkins 构建 ................................. 126  
5.47 在 Maven 构建作业中管理模块 ................................................................... 126  
5.48 配置额外的 Maven 构建步骤 ......................................................................... 127  
5.49 向 Jenkins 添加 Grails 安装 ......................................................................... 128  
5.50 配置 Grails 构建步骤 ................................................................................ 129  
5.51 配置 Gradle 插件 ..................................................................................... 130  
5.52 设置 Gradle 构建作业 ............................................................................... 132  
5.53 增量 Gradle 作业 ..................................................................................... 132  
5.54 在 Jenkins 中配置 .NET 构建工具 .................................................................. 133  
5.55 使用 MSBuild 的构建步骤 .......................................................................... 133  
5.56 使用 NAnt 的构建步骤 .............................................................................. 134  
5.57 使用 Rake 的构建步骤 .............................................................................. 135  
5.58 发布 Ruby 和 Rails 的代码质量指标 ............................................................. 136  
6.1 在“管理 Jenkins”屏幕中配置您的 Jenkins 安装 .................................................... 139  
6.2 在自由风格项目中配置 Maven 测试报告 ............................................................ 140  
6.3 安装 xUnit 插件 ....................................................................................... 140  
6.4 发布 xUnit 测试结果 .................................................................................. 141  
6.5 Jenkins 在项目首页上显示测试结果趋势 ........................................................... 142  
6.6 Jenkins 显示测试结果摘要 ............................................................................. 142  
6.7 测试失败的详细信息 ................................................................................... 143  
6.8 构建时间趋势可以很好地指示测试运行的速度 .................................................... 144  
6.9 Jenkins 还可以让您看到测试运行的时间 ......................................................... 145  
6.10 Jenkins 将跳过的测试显示为黄色 ................................................................ 146  
6.11 安装 Cobertura 插件 ................................................................................. 152  
6.12 您的代码覆盖率构建需要生成覆盖率数据 ....................................................... 152  
6.13 在 Jenkins 中配置测试覆盖率指标 ................................................................ 153  
6.14 测试覆盖率结果有助于确定项目状态在仪表板上的显示 ...................................... 154  
6.15 在 Jenkins 中配置测试覆盖率指标 ................................................................ 155  
6.16 显示代码覆盖率指标 ................................................................................ 155  
6.17 在 Jenkins 中配置 Clover 报告 ..................................................................... 157  
6.18 Clover 代码覆盖率趋势 ............................................................................. 157  
6.19 使用面向业务的行为驱动命名约定进行 JUnit 测试 ............................................ 158  
6.20 安装 HTML Publisher 插件 ........................................................................... 159  
6.21 发布 HTML 报告 .................................................................................... 159  
6.22 Jenkins 在构建作业主页上显示特殊链接以访问您的报告 .................................... 159  
6.23 DocLinks 插件允许您归档 HTML 和非 HTML 工件 ........................................ 160  
6.24 在 JMeter 中准备性能测试脚本 .................................................................... 162  
6.25 在 JMeter 中准备性能测试脚本 .................................................................... 164  
6.26 设置性能构建每晚午夜运行 ......................................................................... 165  
6.27 性能测试可能需要大量的内存 ...................................................................... 165  
6.28 在构建作业中配置 Performance 插件 ............................................................. 166  
6.29 Jenkins Performance 插件跟踪响应时间和错误 ................................................ 166  
6.30 您还可以按请求查看性能结果 ...................................................................... 168  
7.1 在 Jenkins 中启用安全性 ............................................................................. 172  
7.2 Jenkins 注册页面 ...................................................................................... 173  
7.3 Jenkins 已知用户列表 ................................................................................ 174  
7.4 显示用户参与的构建 .................................................................................. 174  
7.5 通过注册创建新用户账户 ............................................................................. 175  
7.6 同步电子邮件地址 ..................................................................................... 175  
7.7 您也可以从 Jenkins 配置页面管理 Jenkins 用户 ................................................ 176  
7.8 Jenkins 用户数据库 .................................................................................... 176  
7.9 在 Jenkins 中配置 LDAP ............................................................................. 177  
7.10 在 Jenkins 中使用 LDAP 组 ......................................................................... 178  
7.11 选择安全领域 ......................................................................................... 179  
7.12 使用 Atlassian Crowd 作为 Jenkins 安全领域 ................................................... 180  
7.13 使用 Atlassian Crowd 作为 Jenkins 安全领域 ................................................... 181  
7.14 在 Jenkins 中使用 Atlassian Crowd 组 ........................................................... 181  
7.15 使用自定义脚本处理身份验证 ....................................................................... 182  
7.16 基于矩阵的安全配置 ................................................................................ 184  
7.17 设置管理员 ............................................................................................. 184  
7.18 设置其他用户 ......................................................................................... 184  
7.19 基于项目的安全性 ..................................................................................... 187  
7.20 配置基于项目的安全性 ............................................................................... 188  
7.21 查看项目 ................................................................................................. 188  
7.22 设置扩展读取权限 ..................................................................................... 189  
7.23 设置基于角色的安全性 ............................................................................... 189  
7.24 管理角色配置菜单 ..................................................................................... 190  
7.25 管理全局角色 ......................................................................................... 190  
7.26 管理项目角色 ......................................................................................... 191  
7.27 为用户分配角色 ..................................................................................... 191  
7.28 配置 Audit Trail 插件 ................................................................................. 192  
7.29 设置作业配置历史记录 ................................................................................ 193  
7.30 查看作业配置历史记录 ............................................................................... 194  
7.31 查看作业配置历史记录中的差异 .................................................................. 194  
8.1 配置电子邮件通知 ..................................................................................... 197  
8.2 配置高级电子邮件通知 ................................................................................. 199  
8.3 配置电子邮件通知触发器 ............................................................................... 201  
8.4 自定义通知消息 ......................................................................................... 202  
8.5 认领失败的构建 ......................................................................................... 203  
8.6 Jenkins 中的 RSS 源 ................................................................................... 204  
8.7 创建构建雷达视图 ..................................................................................... 205  
8.8 显示构建雷达视图 ..................................................................................... 206  
8.9 安装 Jenkins IM 插件 ................................................................................. 207  
8.10 Jenkins 需要自己的专用 IM 用户账户 ........................................................... 207  
8.11 在 Jenkins 中设置基本 Jabber 通知 ............................................................... 208  
8.12 高级 Jabber 配置 ..................................................................................... 208  
8.13 Jenkins Jabber 消息的实际应用 ................................................................... 210  
8.14 安装 Jenkins IRC 插件 .............................................................................. 211  
8.15 高级 IRC 通知配置 .................................................................................. 212  
8.16 高级构建作业 IRC 通知配置 ...................................................................... 213  
8.17 IRC 通知消息的实际应用 .......................................................................... 214  
8.18 Eclipse 中的 Jenkins 通知 ........................................................................... 215  
8.19 启动 Jenkins 托盘应用程序 ......................................................................... 216  
8.20 运行 Jenkins 托盘应用程序 ......................................................................... 216  
8.21 为您的 Jenkins 实例创建 Notifo 服务 ............................................................. 218  
8.22 在 Jenkins 构建作业中配置 Notifo 通知 ......................................................... 218  
8.23 在 iPhone 上接收 Notifo 通知 .................................................................... 219  
8.24 使用 Hudson Helper iPhone 应用程序 ........................................................... 220  
8.25 通过 SMS 网关服务发送短信通知 ................................................................ 221  
8.26 通过短信接收通知 ..................................................................................... 222  
8.27 在构建作业中配置 Jenkins Sounds 规则 ......................................................... 223  
8.28 配置 Jenkins Sounds ................................................................................ 223  
8.29 配置 Jenkins Speaks ................................................................................. 224  
8.30 Nabaztag ................................................................................................. 225  
8.31 配置您的 Nabaztag ................................................................................... 226  
9.1 在 Eclipse 中配置 Checkstyle 规则很容易 ........................................................... 230  
9.2 在 Eclipse 中配置 PMD 规则 ......................................................................... 233  
9.3 在 Maven 构建中生成代码质量报告 ................................................................ 239  
9.4 为自由风格项目配置违规插件 ......................................................................... 240  
9.5 随时间变化的违规情况 ................................................................................ 241  
9.6 特定构建的违规情况 ................................................................................... 241  
9.7 为自由风格项目配置违规插件 ......................................................................... 243  
9.8 为 Maven 项目配置违规插件 ......................................................................... 243  
9.9 Jenkins Maven 构建作业理解 Maven 多模块结构 ............................................... 244  
9.10 为单个模块激活违规插件 ............................................................................ 245  
9.11 安装 Checkstyle 和静态分析实用工具插件 ....................................................... 246  
9.12 配置 Checkstyle 插件 ................................................................................ 247  
9.13 显示 Checkstyle 趋势 ................................................................................ 247  
9.14 覆盖率/复杂度散点图 ................................................................................ 248  
9.15 您可以单击图表中的任何点以进一步调查 ......................................................... 249  
9.16 配置任务扫描器插件很简单 .......................................................................... 250  
9.17 开放任务趋势图 ...................................................................................... 250  
9.18 Sonar 的代码质量报告 ............................................................................... 251  
9.19 Jenkins 和 Sonar ...................................................................................... 252  
9.20 在 Jenkins 中配置 Sonar ............................................................................. 253  
9.21 在构建作业中配置 Sonar ........................................................................... 254  
9.22 安排 Sonar 构建 ...................................................................................... 254  
10.1 创建参数化构建作业 ................................................................................... 258  
10.2 向构建作业添加参数 ................................................................................... 258  
10.3 向构建作业添加参数 ................................................................................... 259  
10.4 演示构建参数 ......................................................................................... 259  
10.5 向 Maven 构建作业添加参数 ......................................................................... 260  
10.6 可用的不同类型的参数 ............................................................................... 261  
10.7 配置选择参数 ......................................................................................... 261  
10.8 配置运行参数 ......................................................................................... 262  
10.9 配置文件参数 ......................................................................................... 262  
10.10 向 Subversion 标签添加参数 ...................................................................... 263  
10.11 从 Subversion 标签构建 ........................................................................... 263  
10.12 为 Git 标签配置参数 ................................................................................. 264  
10.13 从 Git 标签构建 ..................................................................................... 264

---

希望这些优化对您有所帮助！如果有更多具体需求或进一步的修改，请随时告知。