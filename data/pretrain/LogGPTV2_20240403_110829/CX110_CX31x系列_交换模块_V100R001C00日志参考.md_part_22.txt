日志含义
全量SPF计算已经完成。
日志参数
参数名称 参数含义
[ProcessId] ISIS进程号。
[Level] ISIS级别。
[MTID] 拓扑ID。
[NodeOnTree] 在SPT树上的节点总数。
[NodeNotOnTree] 不在SPT树上的节点总数。
可能原因
全量SPF计算。
处理步骤
l 正常运行信息，无需处理。
----结束
28.26 ISISCOMM/3/ISIS_AREA_MISMATCH
日志信息
ISISCOMM/3/ISIS_AREA_MISMATCH: ISIS received a level-1 Hello PDU whose area
address is different from the local area address. (isisSysInstance=[isisSysInstance],
isisSysLevelIndex=[isisSysLevelIndex], isisCircIndex=[isisCircIndex],
文档版本 09 (2017-09-04) 华为专有和保密信息 204
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 28 ISIS
isisCircIfIndex=[isisCircIfIndex], isisPduFragment=[isisPduFragment], ifIndex=[ifIndex],
IfName=[IfName])
日志含义
收到的Level-1的Hello报文的区域地址与本地任何一个Level-1区域地址都不相同。
日志参数
参数名称 参数含义
[isisSysInstance] ISIS进程号。
[isisSysLevelIndex] ISIS级别。
[isisCircIndex] 接口索引。
[isisCircIfIndex] 接口IF索引。
[isisPduFragment] 64字节报文头缩略。
[ifIndex] 接口IF索引。
[IfName] 接口名称。
可能原因
1：配置错误
2：区域地址字段被改写。
处理步骤
步骤1 对照ISO10589定义的IS-IS报文格式，从输出信息中找到[isisPduFragment]字段（十六进
制）的内容，查看源的System ID。在源的IS-IS视图下使用display this命令查看源是否
配置了与本地相同的区域地址。
l 如果是，请执行步骤3。
l 如果不是，请执行步骤2。
表28-1 IS-IS报文类型和System ID的查找方法
报文类型的查找方法 System ID的查找方法
Hello：[isisPduFragment]字段的第5个字 从[isisPduFragment]字段的第10个字节开
节的值为0f、10或者11。 始的连续6个字节是System ID。
LSP：[isisPduFragment]字段的第5个字节 从[isisPduFragment]字段的第13个字节开
的值为12或者14。 始的连续6个字节是System ID。
文档版本 09 (2017-09-04) 华为专有和保密信息 205
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 28 ISIS
报文类型的查找方法 System ID的查找方法
SNP：[isisPduFragment]字段的第5个字节 从[isisPduFragment]字段的第11个字节开
的值为18、19、20或者21。 始的连续6个字节是System ID。
步骤2 （请谨慎使用undo network-entity命令）在源的IS-IS视图下使用network-entity命令配
置新的IS-IS区域地址，使其与本地的区域地址相同。检查问题是否解决。
l 如果是，请执行步骤4。
l 如果不是，请执行步骤3。
步骤3 请联系华为技术支持工程师。
步骤4 结束。
----结束
28.27 ISISCOMM/3/
ISIS_ATTEMPT_TO_EXCEED_MAX_SEQ
日志信息
ISISCOMM/3/ISIS_ATTEMPT_TO_EXCEED_MAX_SEQ: The LSP sequence number
almost reaches the maximum value. (isisSysInstance=[isisSysInstance],
isisSysLevelIndex=[isisSysLevelIndex], isisPduLspId=[isisPduLspId])
日志含义
LSP序号将达到最大值。
日志参数
参数名称 参数含义
[isisSysInstance] ISIS进程号。
[isisSysLevelIndex] ISIS级别。
[isisPduLspId] LSP ID。
可能原因
本地产生的LSP的序列号已经达到最大值0xFFFFFFFF。
处理步骤
步骤1 执行命令timer lsp-refresh更改LSP刷新定时器的值，更改成功之后执行命令display isis
lsdb续查看本地设备产生的LSP序列号.
文档版本 09 (2017-09-04) 华为专有和保密信息 206
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 28 ISIS
l 序列号正常增加=>正常运行信息，无需处理。
l 序列号增加速度很快=>2。
步骤2 查看域内其它设备的System ID是否与本地设备重复。
l 如果是，请执行步骤3。
l 如果不是，请执行步骤4。
步骤3 进入本地或其他设备的IS-IS视图，使用network-entity命令更改System ID。
步骤4 请联系华为技术支持工程师。
步骤5 结束。
----结束
28.28 ISISCOMM/3/ISIS_AUTHENTICATION_FAILURE
日志信息
ISISCOMM/3/ISIS_AUTHENTICATION_FAILURE: The authentication password of
received PDU is different from local configuration. (isisSysInstance=[isisSysInstance],
isisSysLevelIndex=[isisSysLevelIndex], isisCircIndex=[isisCircIndex],
isisCircIfIndex=[isisCircIfIndex], isisPduFragment=[isisPduFragment], ifIndex=[ifIndex],
IfName=[IfName])
日志含义
收到的PDU的认证密码与本地配置不匹配。
日志参数
参数名称 参数含义
[isisSysInstance] ISIS进程号。
[isisSysLevelIndex] ISIS级别。
[isisCircIndex] 接口索引。
[isisCircIfIndex] 接口IF索引。
[isisPduFragment] 64字节报文头缩略。
[ifIndex] 接口IF索引。
[IfName] 接口名称。
文档版本 09 (2017-09-04) 华为专有和保密信息 207
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 28 ISIS
可能原因
本端在接口或进程下配置了认证。对端配置认证的类型与本端相同，但认证密码与本
端不同。
处理步骤
步骤1 通过输出信息中的参数查看收到此报文的IS-IS进程号和此报文所在的Level（1表示
Level-1报文，2表示Level-2报文，3表示P2P Hello报文）。从输出信息中找到
isisPduFragment字段的内容，在isisPduFragment字段的内容中找到发送此报文的源的
System ID和报文的类型。
l 如果报文类型是Hello=>2。
l 如果报文类型是LSP或者SNP=>4。
表28-2 IS-IS报文类型和System ID的查找方法
报文类型的查找方法 System ID的查找方法
Hello：[isisPduFragment]字段的第5个字 从[isisPduFragment]字段的第10个字节开
节的值为0f、10或者11。 始，连续的6个字节是System ID。
LSP：[isisPduFragment]字段的第5个字节 从[isisPduFragment]字段的第13个字节开
的值为12或者14。 始，连续的6个字节是System ID。
SNP：[isisPduFragment]字段的第5个字节 从[isisPduFragment]字段的第11个字节开
的值为18、19、20或者21。 始，连续的6个字节是System ID。
步骤2 根据System ID确定源的IS-IS接口，在源接口视图下使用display this命令查看是否配置
了和本地相同的接口认证密码。
l 如果是，请执行步骤6。
l 如果不是，请执行步骤3。
步骤3 在源的接口视图下，使用命令isis authentication-mode将认证密码配置为与本地一致。
检查问题是否解决。
l 如果是，请执行步骤7。
l 如果不是，请执行步骤6。
步骤4 在源上使用命令display current-configuration configuration isis查看IS-IS进程下是否配
置了和本地相同的area认证或domain认证密码。
l 如果是，请执行步骤6。
l 如果不是，请执行步骤5。
步骤5 在源的IS-IS视图下，使用命令area-authentication-mode（Level-1报文）或domain-
authentication-mode（Level-2报文）将认证密码配置为与本地一致。检查问题是否解
决。
l 如果是，请执行步骤7。
l 如果不是，请执行步骤6。
步骤6 请联系华为技术支持工程师。
文档版本 09 (2017-09-04) 华为专有和保密信息 208
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 28 ISIS
步骤7 结束。
----结束
28.29 ISISCOMM/3/
ISIS_AUTHENTICATION_TYPE_FAILURE
日志信息
ISISCOMM/3/ISIS_AUTHENTICATION_TYPE_FAILURE: The authentication type of
received PDU is different from local configuration. (isisSysInstance=[isisSysInstance],
isisSysLevelIndex=[isisSysLevelIndex], isisCircIndex=[isisCircIndex],
isisCircIfIndex=[isisCircIfIndex], isisPduFragment=[isisPduFragment], ifIndex=[ifIndex],
IfName=[IfName])
日志含义
收到的PDU的认证类型与本地配置不匹配。
日志参数
参数名称 参数含义
[isisSysInstance] ISIS进程号。
[isisSysLevelIndex] ISIS级别。
[isisCircIndex] 接口索引。
[isisCircIfIndex] 接口IF索引。
[isisPduFragment] 64字节报文头缩略。
[ifIndex] 接口IF索引。
[IfName] 接口名称。
可能原因
1：本端在接口或进程下配置了认证。对端配置认证的类型与本端不同。
2：本端在接口或进程下配置了认证，而对端没有配置认证。
处理步骤
步骤1 查看日志输出信息中的isisSysInstance字段确定收到此报文的IS-IS进程号，查看
isisSysLevelIndex字段确定此报文所在的Level（1表示Level-1报文，2表示Level-2报
文，3表示P2P Hello报文）。从输出信息中找到isisPduFragment字段的内容，在
isisPduFragment字段的内容中找到发送此报文的源的System ID和报文的类型。
文档版本 09 (2017-09-04) 华为专有和保密信息 209
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 28 ISIS
l 如果报文类型是Hello=>2。
l 如果报文类型是LSP或者SNP=>4。
表28-3 IS-IS报文类型和System ID的查找方法
报文类型的查找方法 System ID的查找方法
Hello：[isisPduFragment]字段的第5个字 从[isisPduFragment]字段的第10个字节开
节的值为0f、10或者11。 始，连续的6个字节是System ID。
LSP：[isisPduFragment]字段的第5个字节 从[isisPduFragment]字段的第13个字节开
的值为12或者14。 始，连续的6个字节是System ID。
SNP：[isisPduFragment]字段的第5个字节 从[isisPduFragment]字段的第11个字节开
的值为18、19、20或者21。 始，连续的6个字节是System ID。
步骤2 根据System ID确定源的IS-IS接口，在源接口视图下使用display this命令查看是否配置
了接口认证模式并比较与本地的接口认证模式是否一致。
l 如果是，请执行步骤6。
l 如果不是，请执行步骤3。
步骤3 在源的接口视图下，使用isis authentication-mode命令将认证模式配置为与本地一致，
都是simple、MD5模式，并确保两端认证密码相同。检查问题是否解决。
l 如果是，请执行步骤7。
l 如果不是，请执行步骤6。
步骤4 在源上使用display current-configuration configuration isis命令查看IS-IS进程下是否配
置了区域认证或域认证模式并比较与本地的认证模式是否一致，确保两端认证密码相
同。
l 如果是，请执行步骤6。
l 如果不是，请执行步骤5。
步骤5 在源的IS-IS视图下，使用命令area-authentication-mode（Level-1报文）或domain-
authentication-mode（Level-2报文）将认证类型配置为与本地一致，都是simple、MD5
模式。查看问题是否解决。
l 如果是，请执行步骤7。
l 如果不是，请执行步骤6。
步骤6 请联系华为技术支持工程师。
步骤7 结束。
----结束
28.30 ISISCOMM/3/ISIS_CORRUPTED_LSP_DETECTED
日志信息
ISISCOMM/3/ISIS_CORRUPTED_LSP_DETECTED: The checksum of LSP is wrong.
(isisSysInstance=[isisSysInstance], isisSysLevelIndex=[isisSysLevelIndex],
isisPduLspId=[isisPduLspId])
文档版本 09 (2017-09-04) 华为专有和保密信息 210
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 28 ISIS
日志含义
LSP的校验和错误。
日志参数
参数名称 参数含义
[isisSysInstance] ISIS进程号。
[isisSysLevelIndex] ISIS级别。
[isisPduLspId] LSP ID。
可能原因
在LSP刷新周期内，内存出现错误导致LSP报文被改写。
处理步骤
步骤1 使用命令display memory检查系统内存是否超过阈值（80％左右）。
l 如果是，请执行步骤3。
l 如果不是，请执行步骤2。
步骤2 使用命令reset isis all重启IS-IS进程，在IS-IS进程重启后，检查该问题是否解决。
l 如果是，请执行步骤4。
l 如果不是，请执行步骤3。
步骤3 请联系华为技术支持工程师。
步骤4 结束。
----结束
28.31 ISISCOMM/3/ISIS_DATABASE_OVERLOAD
日志信息
ISISCOMM/3/ISIS_DATABASE_OVERLOAD: The overload state of IS-IS LSDB changed.
(isisSysInstance=[isisSysInstance], isisSysLevelIndex=[isisSysLevelIndex],
isisSysLevelOverloadState=[isisSysLevelOverloadState])
日志含义
数据库进入或离开过载状态。
文档版本 09 (2017-09-04) 华为专有和保密信息 211
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 28 ISIS
日志参数
参数名称 参数含义
[isisSysInstance] ISIS进程号。
[isisSysLevelIndex] ISIS级别。
[isisSysLevelOverloadState] 系统过载状态。
可能原因
1：在IS-IS视图下配置了set-overload或者undo set-overload命令。
2：IS-IS进程进入overload状态后，从这个状态退出。
3：内存短缺时，申请内存失败，可能造成系统崩溃。
处理步骤
步骤1 在IS-IS视图中执行display this命令，查看该进程下是否配置了set-overload或者undo
set-overload命令。
l 如果是，请执行步骤正常运行信息，无需处理=>5。
l 如果不是，请执行步骤2。
步骤2 使用命令display memory查看整个的内存使用情况，检查系统内存占用率是否达到阈
值。
l 如果是，请执行步骤3。
l 如果不是，请执行步骤4。
步骤3 获取用户日志与诊断日志=>4。
步骤4 请华为技术支持工程师。
步骤5 结束。
----结束
28.32 ISISCOMM/6/IS_DISABLE_FAST_REROUTING
日志信息
ISISCOMM/6/IS_DISABLE_FAST_REROUTING: ISIS [ProcessId] disabled fast-rerouting.
日志含义
IS-IS进程关闭快速重路由功能。
文档版本 09 (2017-09-04) 华为专有和保密信息 212
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 28 ISIS
日志参数
参数名称 参数含义
[ProcessId] IS-IS进程号。
可能原因
去使能了ISIS功能或者去使能了FRR功能。
处理步骤
l 正常运行信息，无需处理。
----结束
28.33 ISISCOMM/6/
IS_DISABLE_LINK_STATE_DATABASE
日志信息
ISISCOMM/6/IS_DISABLE_LINK_STATE_DATABASE: ISIS [ProcessId] disabled link
state database.
日志含义
IS-IS进程关闭数据库同步功能。
日志参数