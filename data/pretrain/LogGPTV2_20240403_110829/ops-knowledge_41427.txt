问题： 如何防范 XSS 漏洞，在前端如何做，在后端如何做，哪里更好，为什么？
回答： XSS（跨站脚本攻击）是一种常见的安全漏洞类型，它利用了用户在浏览网页时输入的数据被恶意注入到网站中从而执行恶意代码的情况。
为了防止XSS漏洞的发生，可以采取以下措施：
1. 输入验证和过滤：对用户提交的所有数据进行严格的输入验证和过滤，确保只接受合法、预期的内容，并且不包含任何恶意代码或特殊字符。

2. 输出编码/转义：对于所有需要输出到页面上的内容，包括动态生成的HTML标签以及属性值等敏感信息，都要对其进行适当的编码或者转义处理，以避免恶意代码被执行。

3. 使用HTTP Only标记：为Cookie设置HttpOnly属性，禁止JavaScript访问该Cookie，这样即使存在XSS漏洞也无法通过修改Cookie来获取用户的敏感信息。

4. 验证来源：尽量限制外部资源引入，如图片、视频、脚本文件等，不要直接从不可信源加载这些资源，可以通过白名单机制来进行控制。

5. 安全开发框架：使用一些经过安全性设计的安全开发框架可以帮助减少XSS漏洞的风险，因为它们通常会提供内置的功能来帮助开发者检测和预防此类漏洞。

6. 更新和修复漏洞：及时关注并更新所使用的开源库和第三方组件版本，以便修复已知的XSS漏洞和其他潜在的安全风险。

综合来看，前后端都需要做好防御工作才能更好地保护系统免受XSS漏洞的影响。同时，结合多种防护手段和技术策略，可以在很大程度上降低XSS漏洞的危害性。