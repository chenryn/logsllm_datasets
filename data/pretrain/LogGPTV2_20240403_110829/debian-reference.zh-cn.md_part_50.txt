件系统设计规则并且使用FAT文件系统，参考第 10.1.7 节。
11.7 不同种类的数据转换工具
这里有许多其他用于数据转换的工具。在aptitude(8)（参考第 2.2.6 节）里用正则表达式”~Guse::converting””
来查找如下的软件包。
你能够通过如下的命令从RPM格式的包中提取数据。
$ rpm2cpio file.src.rpm | cpio --extract
Debian参考手册 210/233
软件包 流行度 大小 关键词 说明
gimp V:38,I:255 19303 图形(位图） GNU图形处理程序
imagemagick I:319 73 图形(位图） 图形处理程序
graphicsmagick V:1,I:12 5564 图形(位图） 图像处理程序（imagemagick派生出来的)
用于SANE的基于GTK的前端图形界面(现在访
xsane V:12,I:145 2339 图形(位图）
问扫描仪就很简单了)
netpbm V:29,I:328 8261 图形(位图） 图形界面的转换工具
convertHighEfficiencyImageFileFormat(HEIF)to
libheif-examples
V:0,I:2 191 heif→jpeg(bitmaJpP)EG,PNG,orY4Mformatswith
heif-convert(1)command
MSWindows符号和光标转化为PNG格式，或者
icoutils V:7,I:52 221 png↔ico(bitmap)
从PNG格式转化为位图格式(favicon.ico)
ps/pdf/SVG/
scribus V:1,I:17 30242 ScribusDTP编辑器
…
libreoffice-draw 图形（矢
V:71,I:427 10405 LibreOffice办公套件-绘画
量）
图形（矢
inkscape V:15,I:118 99852 SVG（可升级矢量图形)编辑器
量）
图形（矢
dia V:3,I:23 3908 图表编辑器（Gtk）
量）
图形（矢
xfig V:1,I:11 7825 在图形界面下，交互式的生成图像变得方便
量）
ps/pdf→image(矢PostScript和PDF文件到可编辑的矢量图形的转换
pstoedit V:2,I:54 1004
量) 器（SVG）
Windows/image(矢
libwmf-bin V:7,I:125 151 Windows元文件(矢量图形数据)转换工具
量)
fig→sxd(矢
fig2sxd V:0,I:0 151 转换XFig文件为OpenOffice.org绘画格式
量)
unpaper V:2,I:17 412 image→image 后处理OCR扫描页面的工具
tesseract-ocr V:7,I:34 2228 image→text 基于惠普的商业OCR引擎的免费OCR软件
tesseract-ocr-eng OCR引擎数据：用于英文文本的tesseract-ocr语言
V:7,I:34 4032 image→text
文件
gocr V:0,I:7 545 image→text 免费OCR软件
ocrad V:0,I:3 578 image→text 免费OCR软件
eog V:64,I:275 7773 图像(Exif) EyeofGNOME图像浏览程序
gthumb V:3,I:17 5036 图像(Exif) 图像浏览器（GNOME）
geeqie V:4,I:15 2256 图像(Exif) 基于GTK的图像浏览器
shotwell V:17,I:252 6237 图像(Exif) 数码相片管理器（GNOME）
gtkam V:0,I:4 1154 图像(Exif) 从数码照相机中检索多媒体数据的应用(GTK)
gphoto2 V:0,I:8 947 图像(Exif) gphoto2软件是命令行方式的管理数码相机的工具
gwenview V:33,I:104 11755 图像(Exif) 图片浏览器（KDE）
kamera I:102 998 图像(Exif) KDE上的支持数码相机的应用软件
digikam V:2,I:10 293 图像(Exif) 用于KDE桌面环境的数字照片管理应用
exiv2 V:2,I:28 278 图像(Exif) EXIF/IPTC元数据处理工具
exiftran V:1,I:15 69 图像(Exif) 改变数码照相机的jpeg图像格式
处理兼容JPEG文件(数码相机图片)的Exif中的
jhead V:0,I:8 132 图像(Exif)
非图形部分
exif V:2,I:39 339 图像(Exif) 显示JPEG文件中的EXIF信息的命令行工具
exiftags V:0,I:3 292 图像(Exif) 从数码相机的JPEG文件读取Exif标签的实用工具
exifprobe V:0,I:3 499 图像(Exif) 从数码图片中读取元数据
image(原始
dcraw V:1,I:12 583 解码原始的数码相机图片
的)→ppm
findimagedupes V:0,I:1 76 image→fingerpr找int到相似或重复的图像
ale V:0,I:0 839 image→image 合并图像来增加保真度或者用于创建马赛克
imageindex V:0,I:1 145 image(Exif)→ht从ml图形中创建静态HTML图库
outguess V:0,I:1 230 jpeg,png 通用的Steganographic工具
librecad V:1,I:15 8798 DXF CAD数据编辑器（KDE）
blend,TIFF,
blender V:3,I:29 82128 用于动画的3D编辑器
VRML,…
ms3d,obj,
mm3d V:0,I:0 3881 基于OpenGL的3D模型编辑器
dxf,…
open-font-design-toolkit
I:0 9 ttf,ps,… 用于开放字型设计的元包
fontforge V:0,I:6 3980 ttf,ps,… 用于PS，TrueType和OpenType的字体编辑器
用于TrueType字体的网格拟合和小字还原技术的
xgridfit V:0,I:0 806 ttf
程序
Table11.17: 图形数据工具列表
Debian参考手册 211/233
软件包 流行度 大小 关键词 说明
alien V:1,I:20 163 rpm/tgz→deb 把外来的软件包转换为Debian软件包
把”电子书”(在日本流行)变成单一的JISX4081
freepwing V:0,I:0 424 EB→EPWING
格式(EPWINGV1的子集）
calibre V:6,I:28 62167 any→EPUB 电子书转换器和库管理
Table11.18: 不同种类的数据转换工具列表
Debian参考手册 212/233
Chapter 12
编程
这里我给出一些Debian系统中的信息，帮助学习编程的人找出打包的源代码。下面是值得关注的软件包和与之对应的
文档。
安装manpages和manpages-dev包之后，可以通过运行“man 名称”查看手册页中的参考信息。安装了GNU工
具的相关文档包之后，可以通过运行“info 程序名称”查看参考文档。某些GFDL协议的文档与DFSG并不兼容，
所以你可能需要在main仓库中包含contrib和non-free才能下载并安装它们。
请考虑使用版本控制系统工具。参见第 10.5 节。
警告
不要用“test”作为可执行的测试文件的名字，因为shell中内建有“test”命令。
小心
你可以把从源代码编译得到的程序直接放到“/usr/local”或“/opt”目录，这样可以避免与系统程序
撞车。
提示
“歌曲：99瓶啤酒”的代码示例可以给你提供实践各种语言的好范本。
12.1 Shell 脚本
Shell脚本是指包含有下面格式的可执行的文本文件。
#!/bin/sh
... command lines
第一行指明了读取并执行这个文件的shell解释器。
读懂 shell 脚本的最好办法是先理解类 UNIX 系统是如何工作的。这里有一些 shell 编程的提示。看看“Shell 错
误”（https://www.greenend.org.uk/rjk/2001/04/shell.html），可以从错误中学习。
不像shell交互模式（参见第 1.5 节和第 1.6 节），shell脚本会频繁使用参数、条件和循环等。
Debian参考手册 213/233
12.1.1 POSIX shell 兼容性
系统中的许多脚本都可以通过任意POSIXshell（参见表 1.13）来执行。
• 默认的非交互POSIXshell”/usr/bin/sh”是一个指向到/usr/bin/dash的符号链接，并被许多系统程序使用。
• 默认的交互式POSIXshell是/usr/bin/bash。
避免编写具有bashisms（bash化）或者zshisms（zsh化）语法的shell脚本，确保脚本在所有POSIXshell之间具有可
移植性。你可以使用checkbashisms(1)对其进行检查。
好的：POSIX 应该避免的：bashism
if [ ”$foo” = ”$bar” ] ; then … if [ ”$foo” == ”$bar” ] ; then …
diff -u file.c.orig file.c diff -u file.c{.orig,}
mkdir /foobar /foobaz mkdir /foo{bar,baz}
funcname() { …} function funcname() { …}
八进制格式：”\377” 十六进制格式：”\xff”
Table12.1: 典型bashism语法列表
使用”echo”命令的时候需要注意以下几个方面，因为根据内置shell和外部命令的不同，它的实现也有差别。
• 避免使用除“-n”以外的任何命令行选项。
• 避免在字符串中使用转义序列，因为根据shell不同，计算后的结果也不一样。
注意
尽管“-n”选项并不是POSIX语法，但它已被广泛接受。
提示
如果你想要在输出字符串中嵌入转义序列，用”printf”命令替代”echo”命令。
12.1.2 Shell 参数
特殊的shell参数经常在shell脚本里面被用到。
shell参数 值
$0 shell或shell脚本的名称
$1 第一个shell参数
$9 第9个shell参数
$# 位置参数数量
”$*” ”$1 $2 $3 $4 …”
”$@” ”$1” ”$2” ”$3” ”$4” …
$? 最近一次命令的退出状态码
$$ 这个shell脚本的PID
$! 最近开始的后台任务PID
Table12.2: shell参数列表
如下所示是需要记忆的基本的参数展开。
以上这些操作中”:”实际上都是可选的。
• 有”:”等于测试的var值是存在且非空
• 没有”:”等于测试的var值只是存在的，可以为空
Debian参考手册 214/233
参数表达式形式 如果var变量已设置那么值为 如果var变量没有被设置那么值为
${var:-string} ”$var” ”string”
${var:+string} ”string” ”null”
${var:=string} ”$var” ”string”(并运行”var=string”)
${var:?string} ”$var” 在stderr中显示”string”(出错退出)
Table12.3: shell参数展开列表
参数替换形式 结果
${var%suffix} 删除位于var结尾的suffix最小匹配模式
${var%%suffix} 删除位于var结尾的suffix最大匹配模式
${var#prefix} 删除位于var开头的prefix最小匹配模式
${var##prefix} 删除位于var开头的prefix最大匹配模式