# 公有云容器市场发展及安全问题
##### 译文声明
本文是翻译文章
译文仅供参考，具体内容表达以及含义原文为准。
因为操作的简单性和可扩展性，云容器服务得到越来越多企业的重视。通过容器技术可显著提高开发人员和运营人员的效率。
虽然容器技术可加快应用程序的部署，但想要实现容器的底层技术对于许多企业来说仍然非常困难。为此，许多云服务提供商（CSP）提供容器即服务（CaaS）产品。这些产品可以减轻安全和运维团队构建容器基础设施的工作负担。因为CaaS产品具有IaaS的所有基本功能，包括自助服务、可扩展性、计算、存储和网络资源以及抽象层。容器运行的底层软件包括容器运行时、容器编排、作业调度、资源管理和其他容器管理功能。
公有云容器的服务架构
## 1.公有云容器市场发展
据权威机构分析，到 2022 年企业使用公有云容器服务比例将从 2018 年的 50％ 增长到 70％
以上。当下主流的公有云厂商都已经提供了容器服务（CaaS），许多规模较小的公有云和私有云IaaS提供商也瞄准了此类产品。当然，公有云CaaS市场的增长将受到IaaS市场整体增长以及容器技术采用率的影响。Gartner预测，在接下来的几年中，容器的使用将继续快速增长。
未来几年容器使用情况
当然，容器采纳大部分是由开发者所驱动的，他们将容器视为快速生成高质量代码的主要工具。不管是新应用程序的开发，还是老程序的封装部署，容器都可以发挥重要价值。例如，在开发期间使用容器可以确保跨开发、测试和生产环境的一致配置，大大简化了对接所需时间。此外，容器还是云原生应用、微服务应用程序最佳的运行平台。归根结底，容器已经成为现代应用程序平台基础设施的一个关键组成部分。
未来，随着越来越多企业将工作负载转移到公有云上，可以预见公有云容器服务市场会继续保持增长。随着很多企业逐步开始采用多云服务，为解决多个公有云容器服务兼容性问题，有的供应商已经开始提供跨不同云环境部署管理的能力，例如OpenShift，
Kubernetes引擎都可提供相对应服务。
虽然老旧应用程序不是容器使用的主要目标，但是在接下来的几年里，更多的企业将重新构建它们的历史应用程序，将从单一的应用程序转换为自治的、分解的服务或微服务，这些服务被打包部署在容器中。当然，企业在将应用程序迁移到云上时，有几种不同情况，如下图所示。
将应用程序移植上云的计划
从上图可知，“云迁移”可分为Rehost、Refactor、Rearchitect、Rebuilt和Replace5个层次。每个层次对于业务迁移和部署难度也完全不同。
（1）在Rehost阶段
虽然改变了业务承载形态，但未改变任何运维流程，仅仅只是实现在云上部署。
（2）在Refactor阶段
基于业务场景的视角，用流程再造的方式，来匹配公有云，最大的好处就是节约资源。
（3）在Rearchitect阶段
通过改造应用架构，在节约成本的同时，也无需自建数据库，授权的费用也大大降低。
（4）在Rebuilt阶段
全部应用都按照云原生的方式进行开发部署，获得最大程度的弹性扩展能力。
（5）在Replace阶段
已不属于传统IT范畴，以服务的方式进行SaaS购买。
以rehost为例，虽然直接迁移（lift-and-shift）是可行的，但也只是实现了更快的加载、缩短了重新加载时间和恢复时间。显然，直接迁移并不能显著提高可扩展性、性能和弹性。为了实现这些目标就需要重构应用程序以满足云原生设计的要求。这就是容器将产生显著效果的地方。
虽然，当下许多企业仅仅是在主机场景中使用容器处理无状态实例。但是，未来在公有云上的许多应用程序将更多地关注有状态应用程序。因此，需要为应用程序开发人员提供更多的底层抽象技术，并提供额外抽象的服务。尽量使开发人员能够专注于业务逻辑，而不是底层基础设施。
## 2.公有云容器服务选择
众所周知，应用程序开发人员是容器技术的主要关注对象。他们希望使用容器技术来支持更高效的应用程序交付过程。因此，容器采用包括CaaS采用，通常由应用程序开发负责人、企业架构师或技术创新负责人处理。大量的公有云IaaS和PaaS支出都是由业务线付费买单，而不是CIO所负责的集团IT预算。因此，基础设施运营（I&O）领导者必须与相关业务人员合作，才能更好为后期容器管理提供服务。
随着公有云容器服务的快速发展，越来越多的厂商开始提供对应不同功能的服务。这些产品既可以本地部署，也可以在公有云环境中部署。当前，有三类提供公有云相关容器服务的供应商，分别是云服务提供商（CSPs）、管理服务提供商（MSPs）、主机服务提供商。
公有云容器服务相关提供商
不同供应商可能会提供不同功能和服务，企业在选择时候可以通过检查以下属性来比较和对比供应商的产品：
（1）镜像注册表
注册表负责存储和检索容器镜像。虽然公有云提供商支持使用 Docker Hub
等公共注册表，但许多公司还提供安全且可扩展的私有镜像注册表。以下是需要重点考虑因素：
· 是否支持应用程序开发工具
· 是否可以加载或修改应用程序基础设施镜像的管理功能
· 能否支持与身份识别与访问管理（IAM）系统接口
（2）API、命令行界面（CLI）和图形用户界面（GUI）
这些都是公有云提供商提供的典型服务。此外，开发人员经常使用 CLI 并将其作为工具链的自动化内容。这部分需要重点考虑因素是相对于不同用户类型的易用性。
（3）调度、编排和集群管理
使用这些功能，可以在多台主机上扩展服务，如 Kubernetes 或 Docker
Swarm。这部分需要重点考虑因素包括工具的灵活性以及与云提供商提供服务的集成程度。
（4）主机管理
这部分主要考虑因素包括主机操作系统要求、所需的主机管理以及可用主机的配置灵活性及其对服务定价的影响。