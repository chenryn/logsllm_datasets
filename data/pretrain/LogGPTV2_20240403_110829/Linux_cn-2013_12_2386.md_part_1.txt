---
author: ''
category: 技术
comments_data: []
count:
  commentnum: 0
  favtimes: 4
  likes: 2
  sharetimes: 0
  viewnum: 7933
date: '2013-12-17 21:44:00'
editorchoice: false
excerpt: "在本篇中，我们将继续配置网络特性。记住，网络是计算机最重要的特性，这篇文章和这之后的网络相关文章都要重点了解。\r\n在我们开启这系列之前，我先要澄清一些事情。配置进程不会编辑你当前系统的内核。这个进程配置
  \ ..."
fromurl: ''
id: 2386
islctt: true
largepic: /data/attachment/album/201610/12/095124vr9cmdgilii8rrwr.png
permalink: /article-2386-1.html
pic: https://img.linux.net.cn/static/image/common/nophoto.png
related: []
reviewer: ''
selector: ''
summary: "在本篇中，我们将继续配置网络特性。记住，网络是计算机最重要的特性，这篇文章和这之后的网络相关文章都要重点了解。\r\n在我们开启这系列之前，我先要澄清一些事情。配置进程不会编辑你当前系统的内核。这个进程配置
  \ ..."
tags:
- Linux
- 内核
- 配置
- 进程
- 网络
- 技巧
- 教程
thumb: false
title: 戴文的Linux内核专题：12 配置内核(8)
titlepic: false
translator: geekpi
updated: '2013-12-17 21:44:00'
---
![](http://www.linux.org/attachments/slide-jpg.484/)
在本篇中，我们将继续配置网络特性。记住，网络是计算机最重要的特性，这篇文章和这之后的网络相关文章都要重点了解。
在我们开启这系列之前，我先要澄清一些事情。配置进程不会编辑你当前系统的内核。这个进程配置的是你编译(或者交叉编译)新内核前的源代码。一旦我完成了配置过程，那么我会讨论读者建议的话题。同样，作为提醒，每个段落中在引号或者括号中的第一句或者第二句(很少)的文本是配置工具中设置的名字。
首先，我们可以启用两个不同的稀疏型独立协议组播路由协议("IP: PIM-SM version 1 support" 和 "IP: PIM-SM version 2 support")，组播有点像广播，但是广播会给所有计算机发送信号而组播只会给选定的组或者计算机发送信号。所有PIM协议都是工作在IP的组播路由协议。
注意：当计算机与另外一台计算机或者服务器通信时，这叫做单播 - 只是以防你们想知道。
下一个要配置的网络特性是"ARP daemon support"。这让内核有一张IP地址表以及它们相应的在内部缓存中的硬件地址。ARP代表的是地址解析协议(Address-Resolution-Protocol)。
为了额外的安全，"TCP syncookie support"应该要启用。这保护计算机免于受到SYN洪水攻击。黑客或者恶意软件可能会发送SYN信息给一台服务器来消耗它的资源，以便让真实的访客无法使用服务器提供的服务。SYN消息会打开一个计算机和服务器之间的连接。Syncookie会阻断不正当的SYN消息。那么，真实的用户可以仍旧访问访问网站，而黑客则没办法浪费你的带宽。服务器应该启用这个特性。
下面的特性是用于 "Virtual (secure) IP: tunneling"。隧道是一个网络协议到另外一个网络协议的封装。当在使用虚拟私人网络(VPN)时需要使用安全隧道。
接下来，启用"AH transformation"增加对IPSec验证头的支持。这是一种管理数据验证的安全措施。
在这之后，启用"ESP transformation"增加对IPSec封装安全协议的支持。这是加密与可选择的数据验证的安全措施。
如果启用了这个特性(IP: IPComp transformation)，Linux内核会支持IP负载压缩协议。这是一种无损压缩系统。无损指的是数据仍会保持完整，在解压缩后，数据在压缩前后没有变化。压缩在加密前先执行。由于更少的数据传输，所以这个压缩协议可以加速网络。
下面三个设置用于处理不同的IPsec特性("IP: IPsec transport mode"、"IP: IPsec tunnel mode"和"IP: IPsec BEET mode")。IPSec代表的是因特网安全协议(Internet Protocol SECurity).两台计算机之间并且/或者服务器间的传输模式是默认的IPSec模式。传输模式使用AH或者ESP头并且只加密IP头。在隧道模式下，IP头和负载会被加密。隧道模式通常用于连接网关到服务器/服务器或者服务器到服务器。BEET模式(Bound End-to-End Tunnel)不会在IP地址改变时重连。BEET模式下的连接会仍然存在。BEET模式比其他几种模式使用更少的字节。
下面，内核可以支持收到大量IPv4/TCP包时减轻栈负担(Large Receive Offload (ipv4/tcp))。网卡(NIC)处理TCP/IP栈。这个特性在内核中增加了处理大型栈的代码。
INET套接字可以启用(INET: socket monitoring interface)。INET套接字用于因特网。这个特性(当启用时)会监视来自或者发往因特网的连接与流量。
这里有另外一个套接字监视接口(UDP: socket monitoring interface)。这个用于用户数据报协议(User Datagram Protocol (UDP))。再说一下，这个特性监视UDP的套接字。
以下的设定会启用不同的TCP拥塞控制(TCP: advanced congestion control)。如果网络变得太忙或者带宽已满，那么许多计算机必须等待一些带宽或者它们的数据流会变慢。如果流量被合理管理，这回有助于网络性能提升。
TCP连接可以被MD5保护(TCP: MD5 Signature Option support)。这用于保护核心路由器之间的边界网关协议(Border Gateway Protocol (BGP))连接。核心路由器是网络中主要的路由器；这些路由器有时指的是因特网/网络的骨干。BGP是一种路由决策协议。
下一个设定允许你启用/禁用"The IPv6 protocol"。当你启用它，IPv4仍旧可以很好地工作。
下面的特性是一个特殊的隐私特性(IPv6: Privacy Extensions (RFC 3041) support)。这使得系统在网络接口中生成并使用不同的随即地址。
注意：计算机中没有数据是真正随机的。计算机中随机数和随机字串通常称为伪随机。
在多路由的网络中，这个特性允许系统能够更有效地计算出该使用哪一个(IPv6: Router Preference (RFC 4191))。
在这之后，一个用于处理路由信息的实验性特性可以启用/禁用(IPv6: Route Information (RFC 4191))。记住，在编译一个稳定内核时，除非你确实需要这个问题中特性，才去安装实验性的功能。
有时，当系统自动配置它的IPv6地址时，它可能会得到一个网络中已被使用的IPv6地址。这是一个允许重复地址检测(Duplicate Address Detection (DAD)的实验性特性(IPv6: Enable RFC 4429 Optimistic DAD)。
IPv6可以有不同的IPsecc特性支持("IPv6: AH transformation" 和 "IPv6: ESP transformation")。
IPv6同样可以使用先前讨论过的IP负载压缩协议(IP Payload Compression Protocol)(IPv6: IPComp transformation)。
这里甚至有IPv6移动支持(IPv6: Mobility)。这允许使用IPv6的移动设备在保留同样地址的情况下使用其他的网络。
再说一次，这里同样有一些针对IPv6的IPsec特性("IPv6: IPsec transport mode"、"IPv6: IPsec tunnel mode"、"IPv6: IPsec BEET mode")。
当启用此项后，IPv6可以支持MIPv6路由优化(IPv6: MIPv6 route optimization mode)。这样就可以确保最短和最佳网络路径了。如果消息在更少的路由和网络设备间发送，那么下载和上传速度就可以更快。