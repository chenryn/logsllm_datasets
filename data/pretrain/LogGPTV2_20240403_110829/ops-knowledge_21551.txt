User: 请回答以下安全问题加盐MD5还是加盐SHA被认为是安全的？使用类似bcrypt或scrypt的东西是必要的吗？散列存储在数据库中的时间要长得多。一个人可以通过使用腌MD5或SHA逃脱惩罚，并且仍然安全吗？

Assistant: MD5和SHA-1显然是存储密码的糟糕选择。问题不在于它们的抗碰撞性；它们被设计得非常快。当通过哈希列表进行暴力强制时，现代GPU每秒可以尝试超过数十亿个密码。这最多可以在几天内破解每一个可能的八个字符的字母数字密码；这只需要一个GPU。
bcrypt和scrypt的优点是它们可以任意消耗许多资源；bcrypt具有可配置的CPU需求，scrypt具有可配置CPU和内存需求。通过增加这些工作因素，您可以显著增加攻击者尝试数据库中的单个密码所需的工作量。
至于长度：是2014年。存储基本上是无限便宜的。对于选择已知的糟糕的密码哈希算法来说，每个记录保存40个字节根本不是一个可以接受的借口。在你正在进行的任何项目中，肯定有比这更值得花费你有限的开发资源的任务。