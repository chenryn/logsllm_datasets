**趋势2：攻击者用勒索软件的codebase来最大化利益**  
使用开源的代码库，像Hidden Tear和EDA2来创建恶意软件是既快又容易，性价比也很高。Hidden
Tear这样的开源代码库会公开勒索软件代码供大家学习。攻击者会修改代码然后应用到新的恶意软件中。研究人员发现最近几个月的许多新的勒索软件家族都是基于开源代码库中的开源代码的。
**趋势3：Ransomware-as-a-service (RaaS) 平台发展迅速**  
像Satan这样的RaaS平台对于想进入勒索软件市场又不想写代码或设计新的勒索技巧的人来说是非常理想的。这类平台的运营者，增长非常快，并且截取了攻击者的一部分获利。一些平台甚至提供除勒索软件外的额外服务，比如追踪客户勒索的进度等。
**趋势4：内存中的恶意软件变得越来越流行**  
有这样一种流行的恶意软件，他们依赖powershell或WMI在内存中运行恶意软件，而不会有任何的文件系统和注册表的修改。这让检测恶意软件变得更难，调查取证和应急响应也会变难。
**趋势5：攻击者依赖匿名和分散的基础设施来混淆C2C**  
研究人员发现访问恶意软件和Tor网络中的C2C服务中使用桥接服务增多。例如Tor2web，是一个允许网络上的系统访问Tor网络中的所有事物的代理服务，在这个过程中，用户不需要在本地安装Tor客户端。攻击者使用Tor2web可以在不修改恶意软件代码的情况下使用Tor。
## 威胁情报：追踪攻击和漏洞
Cisco的安全团队Talos坚持进行漏洞研究和威胁趋势分析。漏洞研究尤其重要，因为他强调了攻击者和防守者之间的战斗。一般认为攻击者有优势，因为有更多的时间进行准备。漏洞研究让防守者能够在攻击者利用漏洞之前进行防护。通过找出0day漏洞以及与软件厂商协作，可以确保补丁开发和分发的时效性，减少0day的窗口期。
另一个趋势是攻击者从利用攻击发起攻击转变为利用垃圾邮件。在研究中，包含Flash和Java软件的威胁变少了，因为浏览器开发者拦截了相关的插件，因此，攻击者很难利用这些发起攻击。
Time to detection检测所需时间  
Cisco定义TTD为攻击产生到检测到的窗口时间。图中，TTD的中位数变大表明攻击者引入了新的微信；TTD变小，表明防守者很快找出了已知的威胁。
图20反映了2016年11月到2017年4月之间发效率最高的前20个恶意软件家族。平均TTD为3.5小时，比较老的和流行的威胁的TTD时间小于3.5小时。一些漏洞虽然是已知的，但是也很难找出来，因为攻击者使用了不同的混淆技术。  
## Time-to-evolve趋势：Nemucod, Ramnit, Kryptik, and Fareit
一些恶意软件家族产生大量的DGA（domain generation
algorithms），用来保持恶意软件的新鲜度和攻击用户系统的有效性。一些恶意软件家族产生大量的DGA域名，这些域名与给定的域名的不同的，是一种隐藏流量和避免被检测的有效方法。研究人员分析了web攻击的数据，包括web代理数据、云和终端高级恶意软件产品、和复杂的反恶意软件引擎。通过这些数据可以进行TTE的分析，TTE是攻击者改变恶意软件传输或者攻击策略所需要的时间。
从2016年11月到2017年5月，研究人员对4大著名的恶意软件家族进行了深入分析，分别是Nemucod, Ramnit,
Kryptik和Fareit。分析了传递这些恶意软件的文件类型和文件内容类型的变化，对每种恶意软件家族，检查了web和邮件传递的方法。  
图21是该时间段内四大恶意软件家族进行web攻击所使用的特别的攻击向量  
图22是该时间段内四大恶意软件家族进行email攻击所使用的特别的攻击向量
### TTE分析：Kryptik
Kryptik恶意软件是高级银行木马的合并，该木马的源码是开放的。TTE研究中，大约1/3的Kryptik恶意软件的web事件包括JavaScript，约25%的使用.php扩展。包含MIME类型的文件有word、octet流和HTML。大多数邮件事件使用的是.zip、.js和可执行文件。  
图23的数据表明，恶意软件很难被检测到。到2017年4月底，Kryptik RAT TTD的中位数大约是平均TTD的2倍。  
### TTE 分析：Nemucod
Nemucod仍是2017年最常见的恶意软件家族，下载器被用来分发恶意软件和其他威胁，比如后门木马等。Nemucod使用了超过15种文件扩展和文件内容类型的组合，见图24。从图中可以看出，Nemucod主要依赖hashes赶在防守者的前面，而hash的时间都小于24小时。最近几个月里，恶意软件使用older
hash比较多，这表明安全社区在成功检测到了Nemucod的新实例，所以恶意软件作者开始使用之前成功使用过的older hash。  
## DGA域名的活动期expanding 和overlap
The expanding life spans—and overlap—of DGA domains  
许多恶意软件家族依赖DGA来快速产生伪随机的域名来对抗检测。DGA域名活动期比较短，但有时候也可以持续几个月。Anomali公司记录了一些与恶意软件家族相关的DGA域名的活动期。研究结果显示，大多数5年前观察到的DGA域名的活动期为3天左右。然后，DGA域名的平均活动期明显增长到大约40天。  
出现这种情况的原因可能是攻击者为了尽快进化恶意软件来避免被拦截。恶意软件作者需要赶在进入拦截黑名单之前开发出新变种。恶意软件背后生存DGA域名的算法在创建域名时，有2个主要因素：域名的长度和可能使用的高等级域名。需要经常产生新的DGA域名和这些限制导致了恶意软件家族经常在生存和注册DGA域名时花费了太多的精力。最终可能导致与其他8-10个字母.com格式的域名产生碰撞。在这样饱和的空间里，DGA域名可能会以进入拦截黑名单而告终，因为竞争者可能之前已经使用了相似的DGA域名，而该域名已经被防守者发现并加入黑名单中了。
## 通过分析基础设施来了解统计工具
在分析的过程中，找出了潜在的恶意域名，IP地址，帮助防守方在攻击方侵入网络钱采取行动。域名和IP地址是与鱼叉式钓鱼攻击相关的。通过研究相关的域名，安全专家可以找出攻击者控制的其他的基础设施，比如域名和IP地址，然后把这样域名和IP地址加入到拦截黑名单中。
根据ThreatConnect的分析，该过程的步骤如下：  
Bellingcat提供了来自于俄罗斯政府资助的黑客的鱼叉攻击的邮件头消息，ThreatConnect使用之前的Fancy Bear行为来判断Fancy
Bear主导了对Bellingcat的攻击。  
ThreatConnect用WHOIS注册信息找出鱼叉攻击消息的域名的注册时间和注册域名的email地址。  
用被动DNS可以找出注册域名所用的IP地址。这就找出了与攻击者相关的IP地址。  
再次使用被动DNS，研究人员找出了哪些IP地址与域名之间的关系，来排除多域名的IP地址。  
用WHOIS和被动DNS，ThreatConnect找出了可能的攻击者的IP地址的子集，缩小了可能被用于APT攻击的IP地址的范围。  
从IP地址的子集中，ThreatConnect用被动DNS找出同一时间同一IP地址的不同域名。  
ThreatConnect还找出了注册原始域名的同一email地址注册的其他域名。当一个email地址注册了APT活动相关的域名时，其他用该email注册的域名也可能被用于APT攻击。  
ThreatConnect用新发现的域名来进行随后的迭代分析。  
ThreatConnect使用被动DNS来找出已知域名的子域名。这些信息可以帮助找出系统IP地址上的邮件服务器和其他子域名。
图28中使用的分析方法可以帮助找出与攻击活动和潜在的攻击活动相关的指数级的邮件地址，IP地址和域名。  
图29 ATP组织使用的基础设施之间的关联
## 供应链攻击：一个被攻击的单元会影响整个企业网络
攻击者也想让攻击的操作变得更高效。RSA发现，供应链攻击对网络犯罪的攻击者来说，可以付出较小的努力得到最大的攻击效果。RSA检测到有攻击者向企业系统管理员常用的合法软件中插入木马来帮助分析Windows系统日志。
被攻击的软件可以在厂商的网站上下载，导致的结果就是，利用一个被攻击的单元——厂商的网站，通过软件和自动更新，能够把威胁传播到更多的企业网络中。RSA通过观察未找出的指向某URL的信标来追踪了被黑的软件，而该URL指向的IP地址会被解析到已知的恶意域名。通过记录域名中发现的恶意软件的源头，RSA团队发现有企业已经感染了该恶意软件，而且来源是系统管理软件。
RSA发现软件的下载页和升级页都被黑了。这就意味着之前下载了被黑版本软件的公司如果选择了自动更新，那么仍然处于威胁中。虽然网站被黑的时间只持续了2周，但是厂商并没有通知使用被黑软件的厂商。除非企业检测到被黑软件或者厂商触发了修复机制，否则威胁会一直存在。
如果企业想要拦截供应链威胁，检测过程很难。终端安全可能是最好的防护，实时监控可以帮助检测可疑的活动。  
攻击者需要提供一个被黑的单元，然后就可以感染许多目标。这些攻击是静默的，给攻击者足够的时间来隐藏。
## 指向学术网络的基础设施Infrastructure harvesting targets academic networks
在Kingslayer的例子中，攻击者的方法包括隐藏在合法的硬件中，给软件使用者一种他们提供的产品很干净的印象。在Schoolbell僵尸网络的例子中，攻击者使用基础设施作为平台。终端安全和实时监控能够帮助组织避免供应链攻击的威胁，帮助检测RSA所谓的“infrastructure