说到信息收集，网上已经有许多文章进行描述了，那么从正常的子域名、端口、旁站、C段等进行信息收集的话，对于正常项目已经够用了，但是挖掘SRC的话，在诸多竞争对手的“帮助”下，大家收集到的信息都差不多，挖掘的漏洞也往往存在重复的情况。  
那么现在我就想分享一下平时自己进行SRC挖掘过程中，主要是如何进行入手的。以下均为小弟拙见，大佬勿喷。
## 0x01 确定目标
无目标随便打，有没有自己对应的SRC应急响应平台不说，还往往会因为一开始没有挖掘到漏洞而随意放弃，这样往往不能挖掘到深层次的漏洞。挖到的大多数是大家都可以简单挖到的漏洞，存在大概率重复可能。所以在真的想要花点时间在SRC漏洞挖掘上的话，建议先选好目标。  
那么目标怎么选呢，考虑到收益回报与付出的比例来看，建议是从专属SRC入手，特别在一些活动中，可以获取比平时更高的收益。  
微信搜一搜：  
百度搜一搜：  
现在有活动的src已经浮现水面了，那么我们就可以从中选择自己感兴趣的SRC。  
## 0x02 确认测试范围
前面说到确定测什么SRC，那么下面就要通过一些方法，获取这个SRC的测试范围，以免测偏。
### 1、公众号
从公众号推文入手，活动页面中可以发现测试范围  
### 2、应急响应官网
在应急响应官网，往往会有一些活动的公告，在里面可以获取到相应的测试范围。  
### 3、爱企查
从爱企查等商业查询平台获取公司所属域名  
搜索想要测试等SRC所属公司名称，在知识产权->网站备案中可以获取测试范围。  
## 0x03 子域名(oneforall)
拿到域名之后，下一步我考虑使用oneforall扫描获取子域名，就像网上信息收集的文章一样，主域名的站点不是静态界面就是安全防护等级极强，不是随便就能够发现漏洞的，我们挖掘SRC也是要从子域名开始，从边缘资产或一般资产中发现漏洞。  
工具下载：
    https://github.com/shmilylty/OneForAll
具体用法如下：  
常用的获取子域名有2种选择，一种使用--target指定单个域名，一种使用--targets指定域名文件。
    python3 oneforall.py --target example.com run
    python3 oneforall.py --targets ./domains.txt run
其他获取子域名的工具还有layer子域名挖掘机、Sublist3r、证书透明度、在线工具等，这里就不一一阐述了，大体思路是一样等，获取子域，然后从中筛选边缘资产，安全防护低资产。
## 0x04 系统指纹探测
通过上面的方法，我们可以在/OneForAll-0.4.3/results/路径下获取以域名为名字的csv文件。里面放入到便是扫描到到所有子域名以及相应信息了。  
下一步便是将收集到到域名全部进行一遍指纹探测，从中找出一些明显使用CMS、OA系统、shiro、Fastjson等的站点。下面介绍平时使用的2款工具：
### 1、Ehole
下载地址：
    https://github.com/EdgeSecurityTeam/EHole
使用方法：
    ./Ehole-darwin -l url.txt   //URL地址需带上协议,每行一个
    ./Ehole-darwin -f 192.168.1.1/24  //支持单IP或IP段,fofa识别需要配置fofa密钥和邮箱
    ./Ehole-darwin -l url.txt -json export.json  //结果输出至export.json文件
### 2、Glass
下载地址：
    https://github.com/s7ckTeam/Glass
使用方法：
    python3 Glass.py -u http://www.examples.com  // 单url测试
    python3 Glass.py -w domain.txt -o 1.txt  // url文件内
## 0x05 框架型站点漏洞测试
前面经过了子域名收集以及对收集到的子域名进行了指纹信息识别之后，那么对于框架型的站点，我们可以优先进行测试。  
类似用友NC、通达OA、蓝凌OA等，可以通过尝试现有的Nday漏洞进行攻击。  
## 0x06 非框架型站点漏洞测试
前面测试完框架型的站点了，之后就应该往正常网站，或者经过了二开未能直接检测出指纹的站点进行渗透了。那么对于这类站点，最经常遇到的便是登录框，在这里，我们便可以开始测试了。  
1、用户名枚举  
抓包尝试是否用户名存在与不存在的情况，返回结果不同。  
2、验证码  
是否存在验证码，验证码是否可以抓包截断绕过，验证码是否可以为空。  
3、暴力破解  
下面是我收集的集中常见的用户名
    1.弱口令用户名如admin,test,ceshi等
    2.员工姓名全拼，员工姓名简拼
    3.公司特征+员工工号/员工姓名
    4.员工工号+姓名简拼
    5.员工姓名全拼+员工工号
    6.员工姓名全拼+重复次数，如zhangsan和zhangsan01