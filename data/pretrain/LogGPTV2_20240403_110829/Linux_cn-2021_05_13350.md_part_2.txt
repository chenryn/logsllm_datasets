### UMN 事件总结及内核补丁审查

根据 UMN 团队发布的总结：

- 第一个补丁以“伪君子提交”的形式发出，但经过实际检查发现它确实解决了问题，因此UMN团队没有阻止该补丁被合并。
- 第二个补丁未被合并。内核维护者指出，之前有类似实现的补丁已被合并，但后来因存在问题而被撤销。
- 第三个补丁未被合并，内核维护者发现了其中一个问题并拒绝了该补丁，但实际上该补丁还存在另一个未被发现的问题。
- 第四个补丁也未被合并。尽管内核维护者未发现有意插入的缺陷，但他们发现了其他编码问题，从而拒绝了该补丁。
- 第五个补丁是有效的，但并非该项目的一部分，且使用了错误的邮箱地址。

论文已撤回，并不会按原计划在5月提交。希望UMN短期内不再进行类似研究。

原文下方的评论中，许多人认为这一研究方向应该继续，只是需要改进方法和手段。

### 补丁重新审查

UMN事件引起了对开发者的不信任，一些人呼吁采取惩罚性措施。Greg Kroah-Hartman（GKH）发布了由190个部分组成的补丁系列，旨在撤销尽可能多的UMN补丁。此外，还有68个补丁需人工审查，因为它们不容易撤销。

这些“容易撤销”的补丁也需要人工审查。过去一周，开发者们一直在进行审查。大多数可疑补丁被证明是可以接受的，已从撤销列表中删除；目前仍有42个补丁将被从内核中移除。

这42个补丁的撤销原因各不相同：
- 有些补丁适用于旧的、可能未使用的驱动程序，无人愿意对其进行适当审查。
- 有些变更实现得较差，将以更好的方式重新实现。
- 有些补丁包含严重错误，必须恢复（一开始就不应被接受）。

总体来看，几乎所有UMN补丁都解决了一些真实的问题，即使这些问题晦涩难懂且难以解决。虽然许多补丁显示出对代码理解不足，但似乎没有任何修复意图是恶意的。

然而，“恶意”有多种定义。发布未经验证的实验性静态分析工具补丁而不披露其性质，被视为一种恶意行为。这是对内核开发社区所需信任的一种侵犯。

### 吸取的教训

**关键教训之一：不要将自由软件开发社区作为实验性工具的免费验证服务。** 内核开发者乐于看到新工具的产生，并会在这些工具带来好结果时使用它们。他们也会帮助测试这些工具，但不愿成为缺乏适当审查和解释的工具产生的补丁的接受者。

**另一个教训：内核维护者工作压力过大，无法仔细审查每一个补丁。** 他们依赖提交补丁的开发者的可信度。当这种信任建立良好时，内核开发过程勉强可持续；如果通常无法信任进入的补丁，则无法维持。

**推论：进入内核的代码往往不如我们所想的那样得到充分审查。** 我们希望每一行被合并的代码都经过高质量内核开发人员的仔细审查，但实际上许多代码只得到了粗略的审查。

**最后一个教训：内核面临着被具有更多技能和资源的行为者插入恶意补丁的风险。** 但正规内核开发者本身也在不断插入错误，使得恶意行为者无需增加更多错误。例如，5.11内核到5.11.17为止，在稳定更新中已积累了2281个修复。假设每个修复对应一个原始补丁，那么5.11中的补丁中有16%被证明是有错误的，与UMN补丁的比率相差无几。

**真正的教训：内核处理流程的速度是其最佳属性之一，但我们依赖它的速度来尽快获得功能。** 然而，这种速度可能与严肃的补丁审查和低错误率不兼容。未来一段时间，处理可能会变慢，因为维护者需要更仔细地审查变化，特别是来自新开发人员的变化。如果我们不能制度化更谨慎的处理流程，将继续看到大量bug，无论这些bug是否是故意插入的。

---
via:  
作者：Jonathan Corbet 译者：[wxy](https://github.com/wxy) 校对：[wxy](https://github.com/wxy)  
本文由 [LCTT](https://github.com/LCTT/TranslateProject) 原创编译，[Linux中国](/article-13349-1.html) 荣誉推出