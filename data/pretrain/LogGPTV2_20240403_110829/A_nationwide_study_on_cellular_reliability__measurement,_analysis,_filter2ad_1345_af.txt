and device-to-device communications [33, 44]. Researchers have
also developed measurement tools and platforms for conducting
cellular network measurements [23, 30, 41].
Most of the above studies investigate the common aspects (per-
formance and availability) of cellular networks, such as bandwidth,
delay, BS density, and signal coverage. Till now, only a few studies
focus on cellular reliability, which is not only relatively unfamiliar
to the community but also more complicated and difﬁcult to mea-
sure and analyze. Hui et al. [20] at T-Mobile leverage a cross-layer
measurement strategy to understand the Data_Stall failures and their
impact on mobile QoE, by analyzing the data collected at both sides
of BSes and user devices. They uncover speciﬁc root causes for the
problem, including link corruptions and packet drops during radio
state transitions, as well as incorrect implementation of the radio
network controller’s scheduling algorithm.
Vanilla AndroidStability-CompatibleRAT Transition Policy00.050.10.150.20.25PrevalenceData_Setup_Error Out_of_Service Data_StallAll FailuresVanilla AndroidStability-CompatibleRAT Transition Policy0102030405060FrequencyData_Setup_Error Out_of_Service Data_StallAll Failures04080120160200Failure Duration (s)00.20.40.60.81CDFMin=0 Median=6 Mean=186 Max=76,101Min=0 Median=2 Mean=119 Max=55,060TIMP-based Recovery Vanilla AndroidPrior work also suggests that BS and RAT handoffs can be rather
difﬁcult to handle under complex environments, leading to cellular
service unreliability [28, 31] and unavailability [12, 43] issues. Our
study distinguishes itself from the above in its extremely large user
scale and ISP/BS coverage, and particularly the comprehensive con-
siderations of various cellular failures in the wild. Moreover, when
seeking the reasons of cellular failures, our work is featured by the
joint analysis of phone hardware conﬁgurations, OS internals, BS
characteristics, and BS-to-phone interactions.
Measurement studies shed light on possible design and imple-
mentation optimizations. Cellular network optimizations have been
extensively discussed from multiple aspects like congestion con-
trol [50, 55, 58], energy efﬁciency [9, 10, 18], and security en-
hancements [13, 25], as well as under various scenarios like video
streaming [52, 53], web browsing [54], and cellular-WiFi inter-
action [35, 40]. In particular, researchers have proposed to lever-
age lower-layer cellular information to boost the upper-layer user-
perceived performance [52–55]. Contrasting the above efforts, we
identify and explore the unique optimization opportunities (in coordi-
nation with a major Android phone vendor) to enable more reliable
and faster recovery from several types of severe cellular failures.
We have also performed large-scale deployment of our proposed
solutions which yielded real-world impact.
6 DISCUSSION ON LIMITATIONS
In §2 we present Android-MOD, which incorporates dedicated low-
level system tracing and active network probing mechanisms, as well
as our domain knowledge to continuously and accurately capture
cellular failures at scale. With this monitoring infrastructure and its
deployment in the wild, we were able to obtain a large dataset that
offers us the unique opportunity of revealing multifold problems
with regard to both the cellular infrastructure and mobile operating
systems. Nevertheless, we have to note that our dataset and analyses
still bear several limitations, owing to realistic constraints stemming
from end-user devices’ limited cellular context information.
In Android-MOD, upon Data_Stall occurrences, we adopt an
active probing-based mechanism to accurately measure their dura-
tions and rule out possible false positives. This, however, inevitably
interferes with the cellular and network environments, and thus
could lead to potential errors in the measurement results. Although
our evaluation (at the end of §2.2) has shown that this mechanism
is unlikely to incur measurement errors given that its process is
well time-bounded and lightweight, alternative passive monitoring
mechanisms are still worth exploring. For example, Hui et al. [20]
propose cross-device/network measurement that monitors network
packets for uncovering the root causes of cellular problems. Simi-
larly, Wang et al. [48] employ passive packet capturing in high-speed
railways’ on-board LTE gateways to analyze the ﬂow characteristics
of LTE networks. In this work, we do not adopt similar method-
ologies because capturing network ﬂows is rather intrusive for user
devices, but would like to leave other possible passive methodologies
that are non-intrusive as important future work.
Limited by the cellular context information Android-MOD can
collect from user devices, some of our analyses in §3 may lack direct
evidence and thus may deviate from the actual cause(s) which relate
to other impact factors beyond our current reach. For such cases, we
have provided best-effort validations by carefully considering differ-
ent aspects of the dataset. To further demystify the relevant problems
and complement this work, in the future we wish to collaborate with
mobile ISPs to carry out more comprehensive researches.
In addition, our study currently does not involve Android 11 as it
was released after our measurement period. Nevertheless, by closely
examining the concerned source code in Android 11, we ﬁnd that
the majority of cellular reliability problems we have revealed in this
work remain in Android 11, especially the aggressive RAT transition
policy and the lagging Data_Stall recovery mechanism. Therefore,
our ﬁndings and proposed enhancements should also be beneﬁcial
to even the latest devices running Android 11.
7 CONCLUSION
This paper presents our efforts towards understanding and combat-
ing the reliability issues in cellular networks. Despite prior focuses
on cellular performance and availability, the fundamental reliability
situations are still not clearly understood at scale. We close this
critical knowledge gap by conducting a large-scale, crowdsourcing-
based measurement study with the help from 70 million opt-in users.
Collaborating with a major Android phone vendor, we develop and
deploy a continuous monitoring platform to collect ﬁne-grained,
in-situ system traces, leveraging which we reveal the nationwide
prevalence and frequency of cellular failures for the ﬁrst time. More
in depth, we uncover severe reliability problems in the cellular con-
nection management of Android, as well as the BS utilization and
deployment strategies of mobile ISPs. Driven by the study insights,
we provide useful guidelines to help tackle a variety of cellular fail-
ures. Most importantly, some of our solutions have been adopted by
28 million users, generating prominent realistic impacts.
ACKNOWLEDGMENTS
We appreciate Wenli Shi, Junjie Hou, Rongyan Sun and Daliang
Sun for their help in data collection and analysis. We sincerely thank
the anonymous reviewers for their insightful comments, and our
shepherd Lili Qiu for guiding us through the revision process. This
work is supported in part by the National Key R&D Program of
China under grant 2018YFB1004700, as well as the National Nat-
ural Science Foundation of China (NSFC) under grants 61822205,
61632020, 61632013 and 61902211.
REFERENCES
[1] Android.org. 2021. Android 10 Highlights. https://developer.android.com/about/
versions/10/highlights.
[2] Android.org. 2021.
Data Connection Management
in Android.
https://android.googlesource.com/platform/frameworks/opt/telephony/+/master/
src/java/com/android/internal/telephony/dataconnection/DataConnection.java.
[3] Android.org. 2021. Data Fail Cause in Android. https://android.googlesource.c
om/platform/frameworks/base/+/master/telephony/java/android/telephony/Data
FailCause.java.
[4] Android.org. 2021. Data Setup Error in Android. https://android.googlesource.c
om/platform/frameworks/opt/telephony/+/refs/heads/master/src/java/com/androi
d/internal/telephony/dataconnection/DcTracker.java.
[5] Android.org. 2021. Data Stall Report in Android. https://developer.android.com/
reference/android/net/ConnectivityDiagnosticsManager.DataStallReport.
[6] Android.org. 2021. Enhance Your Apps with 5G. https://developer.android.com/
training/connectivity/5g/enhance-with-5g.
[7] Android.org. 2021. SMS Manager in Android. https://developer.android.com/re
ference/android/telephony/SmsManager.
[8] Android.org. 2021. State Out of Service in Android. https://developer.android.co
m/reference/android/telephony/ServiceState.
[9] Pavan K Athivarapu, Ranjita Bhagwan, Saikat Guha, Vishnu Navda, Ramachan-
dran Ramjee, Dushyant Arora, Venkat N Padmanabhan, and George Varghese.
2012. Radiojockey: Mining Program Execution to Optimize Cellular Radio Usage.
In Proc. of ACM MobiCom. 101–112.
[10] Niranjan Balasubramanian, Aruna Balasubramanian, and Arun Venkataramani.
2009. Energy Consumption in Mobile Phones: A Measurement Study and Impli-
cations for Network Applications. In Proc. of ACM SIGCOMM. 280–293.
[11] Lorela Cano, Antonio Capone, Giuliana Carello, Matteo Cesana, and Mauro
Passacantando. 2017. On Optimal Infrastructure Sharing Strategies in Mobile
Radio Networks. IEEE Transactions on Wireless Communications 16, 5 (2017),
3003–3016.
[12] Haotian Deng, Chunyi Peng, Ans Fida, Jiayi Meng, and Y Charlie Hu. 2018. Mo-
bility Support in Cellular Networks: A Measurement Study on Its Conﬁgurations
and Implications. In Proc. of ACM IMC. 147–160.
[13] Haotian Deng, Weicheng Wang, and Chunyi Peng. 2018. Ceive: Combating Caller
ID Spooﬁng on 4G Mobile Phones via Callee-only Inference and Veriﬁcation. In
Proc. of ACM MobiCom. 369–384.
[14] Clare Duffy. 2020. The big differences between 4G and 5G. https://www.cnn.co
m/2020/01/17/tech/5g-technical-explainer/index.html.
[15] Aaron Gember, Aditya Akella, Jeffrey Pang, Alexander Varshavsky, and Ramon
Caceres. 2012. Obtaining In-context Measurements of Cellular Network Perfor-
mance. In Proc. of ACM IMC. 287–300.
[16] Jann Horn. 2021. Mitigations Are Attack Surface, Too. https://googleprojectzer
o.blogspot.com/2020/02/mitigations-are-attack-surface-too.html.
[17] Zhenxian Hu, Yi-Chao Chen, Lili Qiu, Guangtao Xue, Hongzi Zhu, Nicholas
Zhang, Cheng He, Lujia Pan, and Caifeng He. 2015. An In-depth Analysis of 3G
Trafﬁc and Performance. In Proc. of ACM SIGCOMM Workshop (AllThingsCellu-
lar). 1–6.
[18] Junxian Huang, Feng Qian, Alexandre Gerber, Z Morley Mao, Subhabrata Sen,
and Oliver Spatscheck. 2012. A Close Examination of Performance and Power
Characteristics of 4G LTE Networks. In Proc. of ACM MobiSys. 225–238.
[19] Junxian Huang, Feng Qian, Yihua Guo, Yuanyuan Zhou, Qiang Xu, Z Morley
Mao, Subhabrata Sen, and Oliver Spatscheck. 2013. An In-depth Study of LTE:
Effect of Network Protocol and Application Behavior on Performance. ACM
SIGCOMM Computer Communication Review 43, 4 (2013), 363–374.
[20] Jie Hui and Kevin Lau. 2013. T-Mobile QoE Lab: Making Mobile Browsing
Faster and Open Research Problems. In Proc. of ACM MobiCom. 239–242.
[21] Keon Jang, Mongnam Han, Soohyun Cho, Hyung-Keun Ryu, Jaehwa Lee,
Yeongseok Lee, and Sue B Moon. 2009. 3G and 3.5 G Wireless Network Per-
formance Measured from Moving Cars and High-Speed Trains. In Proc. of ACM
MICNET. 19–24.
[22] Anant Kumar, Jon Postel, Cliff Neuman, Peter Danzig, and Steve Miller. 1993.
Common DNS Implementation Errors and Suggested Fixes. Technical Report.
Oct. 1993, RFC 1536.
[23] Swarun Kumar, Ezzeldin Hamed, Dina Katabi, and Li Erran Li. 2014. LTE Radio
Analytics Made Easy and Accessible. ACM SIGCOMM Computer Communication
Review 44, 4 (2014), 211–222.
[24] Zeqi Lai, Y Charlie Hu, Yong Cui, Linhui Sun, Ningwei Dai, and Hung-Sheng Lee.
2019. Furion: Engineering High-quality Immersive Virtual Reality on Today’s
Mobile Devices. IEEE Transactions on Mobile Computing (2019).
[25] Chi-Yu Li, Guan-Hua Tu, Chunyi Peng, Zengwen Yuan, Yuanjie Li, Songwu Lu,
and Xinbing Wang. 2015. Insecurity of Voice Solution VoLTE in LTE Mobile
Networks. In Proc. of ACM SIGSAC. 316–327.
[26] Li Li, Ke Xu, Tong Li, Kai Zheng, Chunyi Peng, Dan Wang, Xiangxiang Wang,
Meng Shen, and Rashid Mijumbi. 2018. A Measurement Study on Multi-Path TCP
with Multiple Cellular Carriers on High Speed Rails. In Proc. of ACM SIGCOMM.
161–175.
[27] Li Li, Ke Xu, Dan Wang, Chunyi Peng, Qingyang Xiao, and Rashid Mijumbi. 2015.
A Measurement Study on TCP Behaviors in HSPA+ Networks on High-Speed
Rails. In Proc. of IEEE INFOCOM. 2731–2739.
[28] Yuanjie Li, Haotian Deng, Jiayao Li, Chunyi Peng, and Songwu Lu. 2016. Insta-
bility in Distributed Mobility Management: Revisiting Conﬁguration Management
in 3G/4G Mobile Networks. In Proc. of ACM SIGMETRICS. 261–272.
[29] Yuanjie Li, Qianru Li, Zhehui Zhang, Ghufran Baig, Lili Qiu, and Songwu Lu.
2020. Beyond 5G: Reliable Extreme Mobility Management. In Proc. of ACM
SIGCOMM. 344–358.
[30] Yuanjie Li, Chunyi Peng, Zengwen Yuan, Jiayao Li, Haotian Deng, and Tao Wang.
2016. Mobileinsight: Extracting and Analyzing Cellular Network Information on
Smartphones. In Proc. of ACM MobiCom. 202–215.
[31] Yuanjie Li, Jiaqi Xu, Chunyi Peng, and Songwu Lu. 2016. A First Look at Unstable
Mobility Management in Cellular Networks. In Proc. of ACM HotMobile. 15–20.
[32] Yang Li, Jianwei Zheng, Zhenhua Li, Yunhao Liu, Feng Qian, Sen Bai, Yao
Liu, and Xianlong Xin. 2020. Understanding the Ecosystem and Addressing
the Fundamental Concerns of Commercial MVNO. IEEE/ACM Transactions on
Networking 28, 3 (2020), 1364–1377.
[33] Zhenhua Li, Weiwei Wang, Christo Wilson, Jian Chen, Chen Qian, Taeho Jung,
Lan Zhang, Kebin Liu, Xiangyang Li, and Yunhao Liu. 2017. FBS-Radar: Uncov-
ering Fake Base Stations at Scale in the Wild. In Proc. of ISOC NDSS. 1–15.
[34] Zhenhua Li, Weiwei Wang, Tianyin Xu, Xin Zhong, Xiang-Yang Li, Yunhao Liu,
Christo Wilson, and Ben Y Zhao. 2016. Exploring Cross-Application Cellular
Trafﬁc Optimization with Baidu TrafﬁcGuard. In Proc. of USENIX NSDI. 61–76.
[35] Yeon-sup Lim, Erich M Nahum, Don Towsley, and Richard J Gibbens. 2017. ECF:
An MPTCP Path Scheduler to Manage Heterogeneous Paths. In Proc. of ACM
CoNEXT. 147–159.
[36] Craig J. Mathias. 2008. Opinion: How not to Build more Reliable Cellular
Networks. https://www.computerworld.com/article/2537774/opinion--how-not
-to-build-more-reliable-cellular-networks.html.
[37] Ruben Merz, Daniel Wenger, Damiano Scanferla, and Stefan Mauron. 2014.
Performance of LTE in A High-Velocity Environment: A Measurement Study. In
Proc. of ACM SIGCOMM Workshop (AllThingsCellular). 47–52.
[38] Martin Klaus Müller, Martin Taranetz, and Markus Rupp. 2015. Providing Cur-
rent and Future Cellular Services to High Speed Trains. IEEE Communications
Magazine 53, 10 (2015), 96–101.
[39] Arvind Narayanan, Eman Ramadan, Jason Carpenter, Qingxu Liu, Yu Liu, Feng
Qian, and Zhi-Li Zhang. 2020. A First Look at Commercial 5G Performance on
Smartphones. In Proc. of WWW. 894–905.
[40] Ashkan Nikravesh, Yihua Guo, Feng Qian, Z Morley Mao, and Subhabrata Sen.
2016. An In-depth Understanding of Multipath TCP on Mobile Devices: Measure-
ment and System Design. In Proc. of ACM MobiCom. 189–201.
[41] Ashkan Nikravesh, Hongyi Yao, Shichang Xu, David Choffnes, and Z Morley
Mao. 2015. Mobilyzer: An Open Platform for Controllable Mobile Network
Measurements. In Proc. of ACM MobiSys. 389–404.
[42] Ralph HJM Otten and Lukas PPP van Ginneken. 2012. The Annealing Algorithm.
Vol. 72. Springer Science & Business Media.
[43] Chunyi Peng and Yuanjie Li. 2016. Demystify Undesired Handoff in Cellular
Networks. In Proc. of IEEE ICCCN. 1–9.
[44] M Zubair Shaﬁq, Lusheng Ji, Alex X Liu, Jeffrey Pang, and Jia Wang. 2013.
Large-scale Measurement and Characterization of Cellular Machine-to-Machine
Trafﬁc. IEEE/ACM Transactions on Networking 21, 6 (2013), 1960–1973.
[45] Jie Sheng, Ziwen Tang, Cheng Wu, Bo Ai, and Yiming Wang. 2020. Game
Theory-Based Multi-Objective Optimization Interference Alignment Algorithm
for HSR 5G Heterogeneous Ultra-Dense Network. IEEE Transactions on Vehicu-
lar Technology 69, 11 (2020), 13371–13382.
[46] Pyda Srisuresh, Bryan Ford, Senthil Sivakumar, Saikat Guha, et al. 2009. NAT
Behavioral Requirements for ICMP. Technical Report. Apr. 2009, RFC 5508.
[47] 3GPP TS 37.340 v15.0.0. 2018. 3rd Generation Partnership Project; NR; Tech-
nical Speciﬁcation Group Radio Access Network; Multi-connectivity; Overall
description; Stage-2 (Release 15). Vol. 15. 3GPP.
[48] Jing Wang, Yufan Zheng, Yunzhe Ni, Chenren Xu, Feng Qian, Wangyang Li,
Wantong Jiang, Yihua Cheng, Zhuo Cheng, Yuanjie Li, et al. 2019. An Active-
Passive Measurement Study of TCP Performance over LTE on High-Speed Rails.
In Proc. of ACM MobiCom. 1–16.
[49] Gerhard Winkler. 2012.
Image Analysis, Random Fields and Markov Chain
Monte Carlo Methods: A Mathematical Introduction. Vol. 27. Springer Science &
Business Media.
[50] Keith Winstein, Anirudh Sivaraman, and Hari Balakrishnan. 2013. Stochastic
Forecasts Achieve High Throughput and Low Delay over Cellular Networks. In
Proc. of USENIX NSDI. 459–471.
[51] Ao Xiao, Yunhao Liu, Yang Li, Feng Qian, Zhenhua Li, Sen Bai, Yao Liu, Tianyin
Xu, and Xianlong Xin. 2019. An In-depth Study of Commercial MVNO: Mea-
surement and Optimization. In Proc. of ACM MobiSys. 457–468.
[52] Xiufeng Xie and Xinyu Zhang. 2017. Poi360: Panoramic Mobile Video Telephony
over LTE Cellular Networks. In Proc. of ACM CoNEXT. 336–349.
[53] Xiufeng Xie, Xinyu Zhang, Swarun Kumar, and Li Erran Li. 2015. piStream:
Physical Layer Informed Adaptive Video Streaming over LTE. In Proc. of ACM
MobiCom. 413–425.
[54] Xiufeng Xie, Xinyu Zhang, and Shilin Zhu. 2017. Accelerating Mobile Web
Loading Using Cellular Link Information. In Proc. of ACM MobiSys. 427–439.
[55] Yaxiong Xie, Fan Yi, and Kyle Jamieson. 2020. PBE-CC: Congestion Control
via Endpoint-Centric, Physical-Layer Bandwidth Measurements. In Proc. of ACM
SIGCOMM. 451–464.
[56] Dongzhu Xu, Anfu Zhou, Xinyu Zhang, Guixian Wang, Xi Liu, Congkai An,
Yiming Shi, Liang Liu, and Huadong Ma. 2020. Understanding Operational 5G: A
First Measurement Study on Its Coverage, Performance and Energy Consumption.
In Proc. of ACM SIGCOMM. 479–494.
[57] Yin Xu, Zixiao Wang, Wai Kay Leong, and Ben Leong. 2014. An End-to-End
Measurement Study of Modern Cellular Data Networks. In Proc. of PAM. 34–45.
[58] Yasir Zaki, Thomas Pötsch, Jay Chen, Lakshminarayanan Subramanian, and
Carmelita Görg. 2015. Adaptive Congestion Control for Unpredictable Cellular
Networks. In Proc. of ACM SIGCOMM. 509–522.
[59] Gongzheng Zhang, Tony QS Quek, Aiping Huang, and Hangguan Shan. 2015.
IEEE
Delay and Reliability Tradeoffs in Heterogeneous Cellular Networks.
Transactions on Wireless Communications 15, 2 (2015), 1101–1113.
[60] George Kingsley Zipf. 1949. Human Behavior and the Principle of Least Effort:
An Introd. to Human Ecology. Addison-Wesley Press.