title:Towards a meaningful MRA of traffic matrices
author:David Rinc&apos;on and
Matthew Roughan and
Walter Willinger
Towards a Meaningful MRA of Trafﬁc Matrices
David Rincón
Univ. Politècnica de Catalunya
Av. Canal Olímpic,15
Castelldefels 08860
Barcelona, Spain
PI:EMAIL
Matthew Roughan
School of Mathematical
Sciences
University of Adelaide
SA 5005 Australia
Walter Willinger
AT&T Labs - Research
180 Park Avenue
Florham Park, NJ 07932, USA
PI:EMAIL
PI:EMAIL
ABSTRACT
Most research on traﬃc matrices (TM) has focused on ﬁnd-
ing models that help with inference, but not with other im-
portant tasks such as synthesis of TMs, traﬃc prediction, or
anomaly detection. In this paper we approach the problem
of a general model for traﬃc matrices, and argue that such a
model must be sparse, i.e., have a small number of parame-
ters in comparison to the size of the TM. A Multi-Resolution
Analysis (MRA) of TMs can provide such a sparse repre-
sentation. The Diﬀusion Wavelet (DW) transform is a good
choice as a MRA tool here, because it inherently adapts
to the structure of the underlying network. The paper de-
scribes our construction of the two-dimensional version of
the DW transform and shows how to use it for our proposed
MRA of TMs. The results obtained with operational net-
works conﬁrm the sparseness of the DW-based TM analysis
approach and its applicability to other TM-related tasks.
Categories and Subject Descriptors
C.2.5 [Computer Communications]: Local and Wide
Area Networks—Internet; C.4 [Performance of Systems]:
Modeling Techniques.
General Terms
Algorithms, Measurement.
Keywords
Traﬃc Characterization, Traﬃc Matrices, Diﬀusion Wavelets,
Multi-Resolution Analysis.
1.
INTRODUCTION
Internet Traﬃc Matrices (TMs), giving traﬃc volumes
from ingress to egress nodes in a network, have drawn con-
siderable interest (see [1] and the references therein). TMs
are a basic input to many network engineering tasks, but
they are non-trivial to measure, and so much work has gone
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
IMC’08, October 20–22, 2008, Vouliagmeni, Greece.
Copyright 2008 ACM 978-1-60558-334-1/08/10 ...$5.00.
into measurement [8] or their indirect inference [2, 14, 19,
20, 21] from readily available link load measurements. There
have been a number of practical outcomes as a result [17].
The papers about inference of traﬃc matrices have found
utility because they use easily obtained measurements. How-
ever, the link load measurements commonly collected from
operational networks do not provide enough information to
form a well-posed inference problem, with the consequence
that some type of side information (usually in the form of a
traﬃc matrix model) is needed to perform the inference.
But modeling TMs is not just about inference. There
are other tasks such as TM synthesis [9, 15], giving one
the control needed to generate many samples with precisely
controlled parameters, in order to undertake performance
analysis of, for instance, new traﬃc engineering algorithms.
It is critical in such synthesis that the important properties
of real TMs are accurately represented in the synthetic TMs,
otherwise incorrect results may arise. However, the proper-
ties of real-world TMs have not been exhaustively studied
as yet, and it is not currently known which are most im-
portant. This problem is magniﬁed by a lack of publicly
available traﬃc data from commercial ISPs.
Network engineering with TMs also needs models. For
instance, it is common to use TMs as part of the design of
the layout of a new or re-designed network [7]. As such, we
need to predict a traﬃc matrix at some time in the future. In
addition, we may wish to detect anomalous traﬃc behaviour,
and a simple approach to such anomaly detection is to look
for large deviations from predicted behaviour.
Most research on traﬃc matrices has focused almost ex-
clusively on inference, but not the other tasks. The problem
of ﬁnding a “good” model for TMs is problem dependent,
and so quite open. In this paper we suggest one key crite-
rion for a TM model and point out a tool for constructing
and estimating such a model.
The criterion we focus on here is that the traﬃc matrix
model should be sparse. A traﬃc matrix for a network with
N nodes has N 2 terms, and since N can be in the thousands,
the number of terms in the traﬃc matrix can become very
large. A sparse model has a number of parameters M (cid:191) N 2.
There are good reasons to search for a sparse model:
• In general, there is a tradeoﬀ between model ﬁdelity
and the model’s predictive power. For instance, by
having a large number of parameters we may have a
model that works well for one set of data, but does not
provide good predictions because it is too speciﬁc.
• If the model has few parameters then we have more
hope of attaching physical meaning to these parame-
ters, with the result that the ”magic” of tuning them
appropriately for new network settings can be replaced
by engineering insight.
• The inference problem is ill-posed when we have K =
O(N ) link-load measurements, but N 2 parameters that
we need to estimate. If the TM model had M ≤ K pa-
rameters, then the problem might become well posed.
Often, approaches to TM inference have sought some kind
of sparse model for the matrices, with a view that this will
bring the problem back towards being well-posed. The grav-
ity model [20] is a good example, with only 2N parameters.
However, in this case the model itself is not a particularly ac-
curate representation of a TM, it simply forms a prior used
in a regularization approach for inference. We will not dis-
cuss all of the possible models, but note that the search for
sparsity was not the explicit criterion for previous models.
The majority of existing models have generally been argued
from background engineering knowledge of the Internet.
Our approach for ﬁnding such a sparse model is to use
Multi-Resolution Analysis (MRA). Wavelet-based MRA tech-
niques for “denoising” seek a sparse model for a signal by
soft-thresholding the transformed signal. Such approaches
have a number of advantages:
long-range correlations are
approximately decorrelated in the wavelet domain, reducing
dependencies between potential model parameters; fast al-
gorithms exist for wavelet transforms; and standard wavelet
transforms are linear, leading to a number of desirable prop-
erties. Most importantly, many of the “perceptible” features
of signals are preserved in relatively few wavelet coeﬃcients.
The sparseness of the coeﬃcients is the leading reason why
modern compression techniques often use wavelets.
Standard wavelet-based MRA analysis is not appropri-
ate for traﬃc matrices. In a TM the spatial relationships
between elements are more complicated than in an image,
which is after all a simple rectangular grid sampling of a two-
dimensional ﬁeld. We exploit the new Diﬀusion Wavelets
(DW) approach [5] and perform multi-resolution analysis of
functions deﬁned on graphs. The graph represents the un-
derlying network (over which our traﬃc matrix is routed),
and reﬂects the natural spatial relationships in the TM. For
instance, two traﬃc matrix elements originating from loca-
tions close together in the network may share characteristics
such as their diurnal traﬃc pattern.
Our main contribution is to generalize Diffusion Wavelets
to 2D and apply them to modelling traﬃc matrices, which we
see as two-dimensional functions of the nodes. We ﬁnd that
in the Diﬀusion Wavelets domain traﬃc matrices are sparse
and (surprisingly) stable across time. Indeed, when this sta-
bility is broken, it is a hint of the presence of anomalies in
the traﬃc matrix. The results described in this paper were
obtained from real data from operational networks and can
be considered a ”proof of concept”, i.e. a ﬁrst step towards
creating viable sparse models of TMs for use in the various
tasks mentioned above: inference, synthesis, and prediction.
Further studies in each of these areas are needed to demon-
strate the full potential of the proposed approach.
2. BACKGROUND AND RELATED WORK
An IP network can be abstractly thought of as a graph,
whose nodes are routers or Points-of-Presence (PoPs), and
whose edges are links between these. A traﬃc matrix de-
scribes the volumes of traﬃc traversing a network from the
point at which it enters the network to the exit point, mea-
sured over some time period. Such a matrix is useful in ca-
pacity planning, traﬃc engineering, network reliability anal-
ysis, and many other network engineering tasks. It is possi-
ble to measure such a matrix using measurement technolo-
gies such as ﬂow level traﬃc collection, but typically these
are hard to implement across a large network [20]. On the
other hand SNMP data is easy to collect, and almost ubiq-
uitous. However, SNMP data only provides link load mea-
surements, not TM measurements. The link measurements
y are related to the TM, which is written as a column vector
x, by the relationship y = Ax where A is called the rout-
ing matrix [19]. The resulting problem of inferring the TM
from link measurements is a classic underconstrained, linear-
inverse problem which needs some sort of side information.
Examples of such additional information used in the con-
text of Internet TMs are a Poisson model [19], a Gaussian
model [2], a logit-choice model [14], or a gravity model [20].
Further eﬀorts on modeling the relationships between TM
elements have been described in [11] and successfully ex-
ploited for anomaly detection in [10]. These papers focused
on Principal Components Analysis (PCA) of the traﬃc ma-
trices as times series. PCA exploits the correlations between
TM elements to separate the periodic components of the
traﬃc (see [16]) from random ﬂuctuations and anomalous
events. However, it is unclear how the structures described
within [11] would lead to a simple model for use in synthesis.