title:A Measurement of Mobile Traffic Offloading
author:Kensuke Fukuda and
Kenichi Nagami
A Measurement of Mobile Traﬃc Oﬄoading
Kensuke Fukuda1 and Kenichi Nagami2
1 National Institute of Informatics, Japan
2 INTEC, Inc, Japan
Abstract. A promising way to use limited 3G mobile resources eﬃ-
ciently is 3G mobile traﬃc oﬄoading through WiFi by the user side.
However, we currently do not know enough about how eﬀective the mo-
bile traﬃc oﬄoading is in the wild. In this paper, we report the results
of a two-day-long user-based measurement of mobile traﬃc oﬄoading by
over 400 android smartphone users in Japan. We ﬁrst explain that the
variation of aggregated traﬃc volume via WiFi is much greater than that
via 3G in our dataset. Next, we show that the traﬃc volume oﬄoading
through WiFi is common over whole weekend and weekday night, though
weekday rush hours have less chance of traﬃc oﬄoading. Our results
emphasize that a small fraction of users contribute to a large fraction of
oﬄoad traﬃc volume. In fact, our per-user level analysis reveals that the
top 30% of users downloaded over 90% of their total traﬃc volume via
WiFi. However, bottom 20% of users stuck to 3G only and over 50% of
users turned oﬀ the WiFi interface in business hours. Also, 17.4% of the
total traﬃc volume was generated by users whose WiFi traﬃc volume was
less than 1MB. We observed that some hybrid users downloaded most of
their traﬃc volume via WiFi in shorter durations. In this sense, there is
more room to improve the current traﬃc oﬄoading by promoting users
to use WiFi more eﬀectively. Furthermore, we demonstrate that WiFi
oﬄoading is mainly performed by access points (APs) in homes while
the use of public WiFi APs is still uncommon in our dataset.
1
Introduction
Smartphones, intelligent mobile phones, are becoming ever more popular around
the world. The Ministry of Internal Aﬀairs and Communications of Japan re-
ports that 3G mobile network traﬃc is now doubling every six months in Japan
[13]. This rapid increase in the mobile 3G traﬃc is a big problem for 3G carriers,
because the frequency and bandwidth of the 3G network are limited resources
that largely diﬀer from residential FTTH access lines. In addition to the increas-
ing number of users, another reason for this growth is that the monthly fee for
a mobile phone is basically a ﬂat-rate. Some 3G carriers have started to force
bandwidth capping to heavy-hitters on the basis of their traﬃc. Furthermore,
the 3G carriers promote migration of 3G mobile traﬃc to high-capacity and less
congested ﬁxed networks. For this reason, the oﬄoading of 3G traﬃc through
WiFi (IEEE 802.11{a,b,g,n}) has been attracting more attentions. There are
two main usage scenarios of traﬃc oﬄoading by WiFi. One is to use public
WiFi access points (APs) provided by 3G carriers or other WiFi providers in
M. Roughan and R. Chang (Eds.) PAM 2013, LNCS 7799, pp. 73–82, 2013.
c(cid:2) Springer-Verlag Berlin Heidelberg 2013
74
K. Fukuda and K. Nagami
downtown areas (e.g, cafes, stations, airports) to avoid congestion at 3G base
stations. The total number of such public APs provided by 3G carriers is esti-
mated to be over 300, 000 APs in Japan according to their web pages. The other
is APs in homes where the high-speed network has been rapidly deployed. In
particular, increasing penetration of the ﬁber access in residential users (over
40%) is reported in Japan [3]. Some 3G carriers started to provide customized
WiFi APs to non-professional users so they can easily use WiFi at home. The
deployment of WiFi APs in homes accounts for roughly 65% of the total number
of residential broadband users.
However, it becomes more and more diﬃcult to understand the behavior of
such mobile traﬃc by traﬃc oﬄoading, because 3G carriers cannot track such
oﬄoaded traﬃc at their backbone network. Even ISPs providing FTTH services
cannot distinguish traﬃc volume generated by smartphones and others in homes.
Thus, in this paper, we intend to characterize the usage of the 3G and WiFi of
smartphones in terms of the traﬃc oﬄoading. We developed special software for
android smartphones to measure its usage and collected two day’s worth of traﬃc
data from over 400 smartphone monitor users using the measurement software
in Japan. The main ﬁndings of our measurements are as follows: (1) The traﬃc
oﬄoading in homes is common in our dataset. The total amount of traﬃc volume
via WiFi is much larger than that via 3G. The average traﬃc oﬄoad ratio (i.e.,
ratio of penetration to WiFi) is 0.64 and the peak traﬃc oﬄoad ratio could reach
0.95, indicating that oﬄoading is eﬀective in terms of traﬃc volume. (2) However,
a small fraction of users contributed a large fraction of traﬃc oﬄoading. The
top 30% of users downloaded over 90% of their traﬃc volume via WiFi, though
20% of users only used 3G networks. Also, 17.4% of the total traﬃc volume was
generated by users whose WiFi traﬃc was less than 1MB. In particular, over 50%
of users turned oﬀ their WiFi interface in business hours, and some hybrid users
downloaded most of their traﬃc volume via WiFi in shorter durations. These
results indicate that there is more room for improving the oﬄoad by promoting
the use of WiFi. (3) WiFi oﬄoading was mainly done by APs at home while
public WiFi APs are still not commonly used in our dataset.
2 Dataset and Preprocessing
We developed special software to measure the traﬃc volume via the 3G network
and WiFi for android smartphone. It reports the values of the byte and packet
of network interfaces of a smartphone to an external server every 10 minutes,
as well as the WiFi information (e.g., ESSID, BSSID), 3G network information
(e.g., base station information), and device information (e.g., hardware and OS
types). For privacy reasons, it does not collect user IDs, GPS information, or
application usage. We recruited 435 monitor users who own android smartphones
in Japan that were sampled from a thousand potential candidates, considering
demography and the market share of the 3G carriers in Japan. Moreover, over
90% of monitor users reported that they have WiFi APs at home. In this sense,
the results we will present are likely biased to the behavior of advanced users who
A Measurement of Mobile Traﬃc Oﬄoading
75
have less diﬃculty using WiFi. The measurement experiment was performed on
May 13th (Sun) and 14th (Mon), 2012 (48 hours long).
For preprocessing, we removed the traﬃc volume by tethering, which means
a smartphone simply relays traﬃc from other devices (i.e., laptop PC) to the In-
ternet, from the dataset. This is because we intended to focus on traﬃc patterns
generated by the smartphone itself, though tethering is a promising applica-
tion of smartphones. Also, some smartphones have a mobile WiMAX interface
(IEEE802.16e) more than 3G and WiFi interfaces, but we removed their traﬃc.
3 Results
3.1 Global View
Figure 1 displays the variation of aggregated traﬃc volumes and that of the
aggregated number of packets in 30-minute bins. Each plot indicates a diﬀerent
type of media: mRx (3G received), mTx (3G sent), wRx (WiFi received), and
wTx (WiFi sent). The direction of the traﬃc is from the view of users (i.e., “re-
ceived” corresponds to user’s download). First, we observed higher WiFi traﬃc
volumes than 3G ones, and the peak of the traﬃc volume is 1.5 times larger
than that of mRx. In particular, the volumes on Sunday are higher than those
on Monday, though Monday night is also characterized by high WiFi traﬃc vol-
ume. Thus, the availability of the WiFi network is lower on the weekday in our
dataset. Second, we emphasize that peaks in both traﬃc volumes are not always
synchronized, meaning that some users switch the media appropriately depend-
ing on the availability. In particular, we conﬁrmed a sharp peak of mRx traﬃc
volume at 6pm on Monday, corresponding to the rush hour in Japan. This peak
does not appear in wRx, suggesting that WiFi was hard to use during the rush
hours. The same type of non-synchronized peak appears at 9pm on Sunday. The
correlation coeﬃcient of time series of mRx bytes and wRx bytes is 0.03, and
that of packet based time series is 0.11. Although each user switches between
two interfaces exclusively, the variations of aggregated traﬃc volumes neither
positively nor negatively correlate.
 1000
(a)
)
M
(
s
e
t
y
B
#
 800
 600
 400
 200
mRx
mTx
wRx
wTx
 800
(b)
)
K
(
s
t
e
k
c
a
P
#
 700
 600
 500
 400
 300
 200
 100
mRx
mTx
wRx
wTx
 0
00:00 06:00 12:00 18:00 00:00 06:00 12:00 18:00 00:00
 0
00:00 06:00 12:00 18:00 00:00 06:00 12:00 18:00 00:00
(sun)           Time (JST)            (mon)
(sun)           Time (JST)            (mon)
Fig. 1. Traﬃc variation (bin size = 30 min): (a) bytes and (b) packets
76
K. Fukuda and K. Nagami
The Tx volumes are lower than Rx volumes, likely due to the typical applica-
tion type of smartphone (i.e., server-client type). In addition, the traﬃc pattern
of Tx resembles that of Rx in 3G packets, while that in WiFi is synchronized
but with some gaps. This suggests that typical usage and application of 3G and
WiFi are likely diﬀerent. These results are consistent with the observation that
most application traﬃc is server-client in 3G smartphone traﬃc [14,15].
(b)
3G (wifi on)
3G (wifi off)
WiFi (wifi on)
 1
(a)
Rx byte
Tx byte
 0.8
 0.6
 0.4
 0.2
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
o
i
t
a
r
d
a
o
l
f
f
o
r
e
s
U
)
e
t
y
b
(
o
i
t
a
r
d
a
o
l
f
f
o
c
i
f
f
a
r
T
 0