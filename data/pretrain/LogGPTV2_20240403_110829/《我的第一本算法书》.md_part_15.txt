，需要判断的数确实为素数的可能性就越大。但是
为素数吧。
那么，我们就用费马测试来判断一下113是否
60
?
113
---
## Page 194
小知识
图按从小到大的顺序列举了一些卡迈克尔数，可以看出这种数字非常少。
的所有数字都满足上述条件。
条件的合数（非素数的自然数）。
即使所有 n 都满足条件，p 也有可能不是素数。因为在极低概率下会出现所有 n 都满足
比如数字 561可以表示为3×11×17，所以 561是合数，不是素数。然而比 561小
补充说明
这样的合数就叫作“卡迈克尔数”（Carmichael numbers），也叫“绝对伪素数”。下
如果p 是素数，那么所有比 p 小的数 n都满足 n mod p = n 这个条件。但反过来,
这样的高速算法更为实用，应用范围也更加广泛。
名的。不过，虽说是“在多项式时间内”，但该算法的计算次数仍然较多，所以费马测试
证明了它的可行性。他们提出的就是“AKS算法”，该名称也是以他们名字的首字母来命
间内进行（非概率意义，而是决定性的）素性测试。然而在2002年，印度的三位数学家
在过去很长一段时间内，人们都无法确定是否可以应用一个算法在输入规模的多项式时
52633
29341
8911
2465
561
62745
41041
10585
2821
1105
63973
46657
15841
6601
1729
8
素性测试
2
---
## Page 195
182
其他算法
第7章
No.
Google 因在搜索引擎中使用了这个算法而成为了世界知名的大企业是众所周知的事情。
7-3
网页排名就是利用网页之间的链接结构计算出网页价值的算法。我们来看看具体的计算流程吧。
网页排名（PageRank，也叫作佩奇排名）是一种在搜索网页时对搜索结果进行排序的算法 
7
1.HistoryofAlgorithms
algorithm
 Algorithm Library.
....·.......·.......
 Sorting algorithm
:...................
+++
网页排名
...··.......·.
了上面的网页。
在这张图中，下面的3个网页都链向
的网页，其价值也就越高。
在搜索结果中越是排在前面
的重要性也就越高。
入页面越多的网页，
关系。在网页排名中，链
箭头表示网页间的链接
这里假设方块表示网页，
山
---
## Page 196
之和。
有链入页面的网页权重是其链入页面的权重
值化。下面我们就来了解计算方法的基本思路。
高。实际上，各个网页的重要性会通过计算来数
从这张图中我们可以看出，上面网页的重要性最
5
3
一
3
一
入，所以权重为3。
页被3个独立的页面链
在这张图中，中间的网
有页面将平分它的权重。
如果一个网页链向多个页面，那么其链向的所
假设没有链入页面的网页权重为1。
9
000
[0.5][0.5]
出的链接的价值就越高。
页面越多，该网页所发
在网页排名中，链入的
83
网页排名
13
---
## Page 197
184
其他算法
第7章
先得思考一下人们是怎样浏览网页的。
model）来解决这个问题。要想了解这个模型
此时可以使用“随机游走模型”（random walk
种方法，就会出现问题。
但是，如果在链接结构为环状的情况下使用这
最顶端的网页被权重为3的页面链接，所以权重较高。以
09
8
图灵社区会员夏科（PI:EMAIL）专享尊重版权
3
以上就是网页排名的基本思路。
性最高。
中，最顶端的网页重要
这张图中的6个网页
始浏览，然后通过链接到达其他网页。
看到的一个有趣的网页。他从左下角的网页开
假设有一天，某位互联网用户想浏览从杂志上
而导致环内网页的权重不断增长。
计算各个网页权重的操作会无限循环下去，从
2
---
## Page 198
流程。
网页开始，通过链接浏览了几个网页后结束的
间后结束了浏览。就像这样，他重复着从某个
这次也通过链接浏览了别的网页，并在一段时
浏览。
浏览了一些网页后他不想再看了，于是结束
5
13
程跳转到了完全不相关的网页”这一过程。
“在有链接指向的页面之间移动几次之后，
程，就会觉得浏览网页的人只是在不断重复着
如果我们站在互联网空间的视角来观察上述流
前完全不同的网页。
过了几天，他又开始浏览朋友推荐的一个与之
远
185
网页排名
---
## Page 199
186
其他算法
第7章
①出自《必然》（凯文·凯利著，周峰、董理、金阳译，电子工业出版社，2016年)。
在模拟还未开始，所有的数字都是0。
网页上的数字代表用户访问该网页的次数。现
6
页中的一个网页的概率为α。
网页的概率为1-α；等概率远程跳转到其他网
义：用户等概率跳转到当前网页所链向的一个
那么，用户浏览网页的操作就可以这样来定
小知识
在Google创业初期还没有广告收入的时候，作家兼编辑凯文·凯利向Google创始人之一
我们实际上是在做AI（人工智能)”。①
状的情况。
考链接结构是环
和前面一样，要思
网页的访问次数也开始出现差距。
开始根据定义模拟用户浏览网页的过程，各个
前面的定义来模拟一下网页间的跳转过程。
此处我们将远程跳转概率α设为15%，并根据
18
1 -α=85%
= 15%
---
## Page 200
①实际上一般不会用模拟，而是用更高效的方法来计算。但无论用哪种方法，计算结果几乎都是相同的。
最后，我们来确认网页排名的值和最初介绍的用链接加权计算的结果是否一致。
忆
型会直接将其作为网页的权重来使用。①
换算成百分比后，结果如上图所示。这些值代表的是“某一刻正在浏览这个网页的概率”，随机游走模
23
模拟中..….
2
图灵社区会员夏科（PI:EMAIL）专享尊重版权
3
造中的网页权重。
使用上述方法计算该链接构
每个网页的权重。
状，我们也可以得出
网页链接结构为环
使用这个方法，就算
止，最终结果如上图所示。
模拟该过程直到访问的总次数达到1000次为
187
网页排名
13
7
---
## Page 201
188
其他算法
第7章
可以看出，此处的分值比例也和之前的很相近。
果是非常接近的。
值加起来并不等于1，但分值比例与之前的结
由于各个值都是四舍五入后的结果，所以所有
2
25
面的概率来进行计算。
把之前的权重替换为访问页
网页排名的机制就是像这样，
这是前面讲到的链接结构，试着计算它的权重。
---
## Page 202
时也能进行计算这点来看，网页排名都是一个划时代的算法。
知名企业。当然，如今决定 Google 搜索结果排序的已不仅仅是网页排名这一个算法了。
这种方法没有考虑网页内是否含有有效内容，因此搜索精度较低。
但不管是从利用网页链接结构计算出网页价值这种思路来看，还是从链接形成环状
Google 公司提供了使用网页排名算法的搜索引擎，然后凭借其强大的性能成为了世界
以前的搜索引擎都是以关键词和网页内容的关联性来决定搜索结果的排列顺序，但
解说
8の
网页排名
W
---
## Page 203
190
其他算法
第7章
No.
■移动条件
原本的顺序移动到柱子C上之后游戏就会结束。
■游戏规则
7-4
我们的目标就是在这两个条件下，通过把圆盘往B或C移动来完成游戏。
②不能把大的圆盘放在小的圆盘上。
①1次只能移动1个圆盘。
移动圆盘时需要遵守以下两个条件。
游戏开始时如左图所示，有3 根柱子 A、B、C，柱子 A上有5 个圆盘。把这5 个圆盘按照
汉诺塔是一种移动圆盘的游戏，同时也是一个简单易懂的递归算法应用示例。
汉诺塔
B
GOAL
S
---
## Page 204
圆盘，先将其他的圆盘往B移动。
3个圆盘时又会怎样呢？我们可以忽略最大的
把大的圆盘移动到C上。
先来看看只有2个圆盘的情况吧。
S
B
?
时的操作移动到B。
将其他的2个圆盘按照之前移动只有2个圆盘
个圆盘，此时便可以确认游戏结束。
再把小圆盘往C移动，操作完毕。由于只有2
小的圆盘在最顶端，所以可以把它移动到B上。
9
B
B
GOAL
汉诺塔
---
## Page 205
192
其他算法
第7章
思考一下圆盘数为n+1的情况。
只有1个圆盘时，可以轻松达成目标。
然后把最大的圆盘移动到C。
A
n+
B
图灵社区会员夏科（PI:EMAIL）专享尊重版权
GOAL
C
忽略最大的一个圆盘。
假设圆盘数量为n时同样可以达成目标。
标。我们试着用数学归纳法来证明这个结论吧。
管需要移动多少圆盘，这个游戏最终都能达成目
C。于是，3个圆盘的移动也完成了。实际上，不
再次按照之前的操作，把B上的2个圆盘移动到
A
?
B
8
GOAL
GOAL
C
---
## Page 206
最后再把B上的n个圆盘移动到C，游戏结束。
标，所以先把n个圆盘移动到B。
根据之前的假设，圆盘数量为n时可以达成目 
5
3
参考：2-7快速排序
参考：2-6 归并排序
快速排序便是递归算法的示例。
样的算法中，这些算法统称为“递归算法”。2-6节中讲到的归并排序和2-7节中讲到的
这样追溯下去，最终就会回到移动1个圆盘时的操作方法上。
时的方法移动即可。而要移动 n-1个圆盘，就需要按照移动 n-2 个圆盘时的方法移动。
像这样，在算法描述中调用算法自身的方法就叫作“递归”。递归被运用到各种各
解说
大家可能会觉得这太简单了，但是要想移动n个圆盘，只需要按照移动n-1个圆盘
h+1
=    
GOAL
n+1
C
再把最大的圆盘移动到C。
14
达成目标。
圆盘数量为多少,最终都可以
使用数学归纳法，证明了不管
B
n+1 
C
193
汉诺塔
---
## Page 207
其他算法
第7章
因此 T(n)=2T(n-1)+1。
再把最大的圆盘移到 C 上需要1 步，最后把 B 上的 n-1 个圆盘移到 C 上需要 T(n-1),
就能完成，所以 T(1)=1。圆盘数为 n 时，把上面的 n-1 个圆盘从 A 移到 B 上需要 T(n-1),
上面的公式即为 T(n)=2"-1，
假设解决有 n 个圆盘的汉诺塔问题时需要的时间为 T(n)。只有1 个圆盘时只需1 步
我们再来看一看递归算法需要的运行时间。
补充说明
，这便是解决这个问题所需要的最短时间。
---
## Page 208
K
灵社区会员
在线出版，电子书，《码农》杂志，图灵访谈
关注@图灵教育每日分享IT好书
夏
图灵读者官方群II：164939616
图灵读者官方群I：218139230
科
iTuring.cn
图灵社区
QQ连接
微博连接
算法”查看相关书单
微信连接
TURING
口
专享
尊重版
---
## Page 209
人民邮电出版社网址：www.ptpress.com.cn
热线：(010)51095186转600
图灵社区：iTuring.cn
分类建议计算机科学/算法
α零基础也能轻松掌握，自学算法的好搭档
采用大量彩色图片，清晰直观，便于记忆
没有枯燥的理论和复杂的代码，
人人都能看懂的
算法入门书
【本书特点]
，易于理解
ISBN 978-7-115-49524-2
定价：69.00元
---
## Page 210
微信图灵教育：turingbooks
微博@图灵新知：图灵教育的科普小组
微博@图灵教育：好书、活动每日播报
在这可以找到我们：
如果是有关电子书的建议或问题，请联系专用客服邮箱：PI:EMAIL。
本书讨论。
如果您对本书内容有疑问，
看完了
图灵社区会员夏科(PI:EMAIL）专享尊重版权
可访问图灵社区www.ituring.com.cn，
 联系负责编辑或作译者，参与
---