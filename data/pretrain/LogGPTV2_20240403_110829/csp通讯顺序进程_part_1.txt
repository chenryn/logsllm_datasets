# OCR Output
## Page 1
通信顺序进程
北京大学出版社
C.A,R,Hoare
周巢尘译
c010113
C: G661
著
()
---
## Page 2
新华书店北京发行所发行各地新华书店经售
850×1168毫米
1990年1月第一版
ISBN 7-301-00813-9/TP:010
印数-0001—3,000册
北京大学印刷厂印刷
北京大学出版社出版
C.A.R.Hoare 著
《北京大学校内）
责任编辑：李采华
通信顺序进程
定价：3.95元
32开本9.875印张250千字
周巢尘译
1990年1月第一次印刷
---
## Page 3
者，伦敦皇家学会会员，不列计算机学会杰出会员。
也解了有关的数学知识。
的例子—从自动售货机到游戏博契，通信协议及操作系统。Hoare教授于一种统
基最适用于描述、设计和实施肆些连续操作并不断和其环境交互作用的计算机系统。
系统设计人员，经理人员，介绍了用于并发性和通信研究的新的数学途径。这一新领
在闸明这一理论的基础概念时，作者使用了大量有实际应用背景的，但被简化了
本书作者，C.A.R.Hoare，是英国牛津大学计算科学救授，著名图林奖的获得
本书内容已由非正式的讨论斑和正式的课程成功地试用过。
通信顺序进程一书，为计算抗科学和数学的高年级大学生，研究生，亦为职业的
容
湘
---
## Page 4
多韵中国朋友和同事。
地讲解了本书的初精，
院研究生院举办了一次系列讲座；在那里，我非常高兴
也威谢他曾邀请我于一九八三年四月，在北京中国科学
我希望你们会喜爱这一中文译本，从而我能赢得更
非常感谢我的朋友和同事周巢尘翻译了我的书；我
向中国读者致意
牛津，1988年6月
TonyHoare
---
## Page 5
--挑战是一回事；而发现和说明如何依赖数学法则的准确无误和
弄糊涂了，这是计算科学家面临的主要挑战。戚觉到或者声明这
说，应该一—成为怎样的一门科学。不要被自己造成的复杂情况
的手稿以合人惊奇的透彻，表明了计算科学可以——或者甚至
他科学生涯中的主要精力对付这一挑战，我们应为此而威谢他。
科学家的艰苦劳动：愿他幸运，能澄清这一局面。TonyHoare已用
历史性事件。为消除这一困惑，需要一个成熟的、具有献身精神的
由于并发现象导人了非确定性，非确定性的导人是计算界的一个
这是由于抖发现象可以出现在技术上是很不同的各类环境中，也
到并发现象，从此它就成为计算界的无穷无尽的困惑的发源地；
充分地利用了书的这些优点。
的看法，并可谈及--些涉及面更广的论题。Tony Hoare 已经最
格的时空限制：书还给与作者一种机会，可以更深刻地说明自己
而且儿乎在墨迹未干时，就成了经典著作。但是，书毕竟是一种
一位行文清晰、细赋的论文作者。他的论文数量多、涉及面广，
世界各地不知疲倦地作学术讲演时认识他的：更多的人知道他是
现在完全可以说，他们的耐心等待已经得到了酬谢。
不同的媒介：作者在书中表逃自己的观点时，可不受通常十分严
更为实质的原因是来自本书的内容。25年前，计算界开始遇
原因之一，这是 Tony Hoare 的第一本书。很多人是在他在
最根本的原因是由读过本书早期初稿的人强烈意识到的。
出自各种原因，知道本书正在著写的人都急切地等待着它；
6010113
伽
他
---
## Page 6
慧，写法上的创新，以及处理上的巧妙。
了。
可巨大得签于 Charles Antony Richard Hoare 的科学上的智
，具有和我同样鉴赏力的、充满威激之情的读者们，阅读本书
Edsger W. Dijkstra
---
## Page 7
性严格可证的可靠的数学基础。
发散、死锁和非终止等，也是使计算机系统的设计和实施的正确
念。最后，这种新观念还提供避免错误的可靠的数学基础，诸如
程、类程、模块、包、临界区、闭体、形、以及低级的子程序概
中提出的很多高级结构化观念，也都是上述观念的特例，如管
号量等等。共次，近年来在程序设计语言和程序设计方法学研究
计中并行性的很多传统问题，如于扰、互厅、中断、多流化、信
是同样简单的。
的并行组合和传统程序设计语言中程序行或程序语句的顺序组合
行，它们之间以及它们与它们的共同环境之间交互作用。子系统
这类系统可以容易地分解成多个子系统，这些子系统并行地运
断动作，而且和环境不断交互作用的计算机系统。基本想法是，
问题。
能更有效、更切实地得到解决，甚至在某些情况下，可避开这些
种洞察力，能用新的眼光去考察当前和未来的问题，使这些问题
统化的数学法则所刻画的。本书的最根本的目的是让读者具有一
统。这些例子的处理是基于一种数学理论，这种理论是由一组系
各种应用领域，从自动售货机、童话、游戏，直至计算机操作系
物的自然本质。这种途径是川一-组例子来阐明的，这组例子选自
知的论题采用新的探索途径，从而揭示了一些原来很难理解的事
的高智能职业有更深入的了解并掌握更高的技能。本书对·-个熟
对系统的这种洞察可带米实际的好处。首先，可避免程序设
很显然，本书中的新观念可应用于描述、设计和实施那些不
我已力求按逻辑的和心理的顺序逐步介绍这些观念，以简单.
本书是献给有抱负的程序人员的，他们有志“对他们所从事
加
---
## Page 8
建议，
立的，读者可按兴趣和嗜好，以任意次序或组合进行阅读。我们
可一掠而过，或者留待第二逼时再读。第三、四、五章是彼此独
第一章和第二章的前儿节是导引，所有读者必读，但后面的各节
时略去或者暂缓阅读。
读者对上述任－·论题缺乏兴趣，或者威到一时很难理解，可以随
始，为此本书的每一章都刻意组织，以允许适宜的选读。
许会逐页地阅读本书。但很多读者会从他们更有兴趣的题月开
和基本的算子开始，逐渐展向它们的精巧的应用。好学的读者或
章间的承接也有便于读者粗读、选读或者重新安排的要求。
1
N
1，
，读者在遇到难懂的内容时，不必中断，可继续阅读下一
每个新观念冠以非形式的说明，并用一些小例子解释，
这些定义构成了代数法则、实施和证明规则的基础。
，
由算予所构造出的进程，严格给出了算子本身的定义。
最后，书中的数学理论给出了进程概念的严格定义；并
行的描述、规定的口程、规定的价格，生产出可靠的程序。
证明规则会对实施人员有签，因为他们负有责任，根据已
分为若于个予系统，并且清楚地描逃它们间的接口。
承诺实施前，需要描述顾客的需求。高级程序员对此也
系统分析员对迹的定义和描述应该戚兴趣，两为他们在
的读者，对本书的这一建议也会很感兴趣的。
不寻常的。对于会用LISP实施来检验和论证系统设计
单的纯函数式的子集来实施各个算子，这种实施建议是
书中建议使用著名的程序设计语言LISP的一个非常简
应该有兴趣，因
盆于他们的。
变形方法来优化他们的系统设计，那末这些法则也是有
数学的优美的读者的兴趣。如有读者愿用保持正确性的
用来刻画各种运算的重要特世的代数法则，会引起喜爱
这样可能有助于所有读者。
因为在设计一个系统时，他们需要将其划
---
## Page 9
行操作，并且学会熟练地使用它们来表示新的问题、寻求新的解
但是实质性的问题是理解符号的含义和特性，了解如何对它们进
临成。学习数学也是这样。开始时，符号也是一道难逾的路障；
的熟练程度。为掌握这一切，必须花时间去学，去练，不会一
文法和词汇，然后掌握成语和文体，再改进用俄语表达自已思想
如此，这还是俄语学习中最容易的阶段。学会书写后，必须学习
斯拉夫字母造成的障碍，特别是其中不少字母的发晋奇特。尽管
掌握一种新方法所作的努力是完全值得的。
能惊奇地发现，某些添加的复杂细节根本是多余的。如能这样，
深刻了解，有助于你对整个问题的解决。另外，模型或许还可作
为一种结构，然后，准确无误地往上添加复杂细节。最后，还可
化。合人惊奇的是，最初的、简化的模型往往会增加你对问题的
大大简化了的模型，以此为出发点；在必要的时刻，再逐步复杂
去解决这些现实的问题。选择问题的某些局部，形成问题的一个
因此而泄气或者焦躁，不妨接受挑战，试着应川本书中的新方法
价。这类问题看上去是用任何数学理论都很难处理的。但切不可
模更大，远为复杂，远为重要，读者或许为它们付出过痛苦的代
弄复杂；只是由于所用的概念有力，记号精巧，才得以简单地解答，
后面的几个例子比较难解，所涉及的问题本身很易误解而且很易
会由于例了的复杂或者不熟悉而影响对观念的理解。阐明观念的
排的。解释一个观念的最初的几个例子本应十分简单；这样，才不
期望每个读者都愿意按本书书写的次序阅读和掌握它。
终能发现书中的每项内容都是有趣的，是值得一读的：但我并不
读懂了，因为读者已充分了解了提出它们的背景。我希望读者最
到前面的内容时，书中常标有参照节码；这时，这些内容就可以
节，甚至下一章，因为略过的材料很可能不会立即叉提到。在用
每个读者遇到过*些问题，这些问题比之教科书中的例子规
选用来闻明本书中各观念的都是些小例子。这是有意这样安
人们常常抱怨所用的记号。初学俄语的学生经常抱怨陌生的
11i
---
## Page 10
作的逃亡曲般的惊人的优美。
学抽象的优美。比如，某些递归定义的算法就具有J.S.Bach所创
于理解数学公式的无人情味的、于巴巴的含义，并且学会欣赏数
真”，而数学公式有意摆脱了这些人为因素。大家应该专心致志
助表演动机、爱憎、感情波动，“使枯燥、荒诞的故事听起来逼
别滑稽的。但是听众要始终警惕这种人格化的危险性。讲演者藉
般着重表演有关人物的感情。听众通常会从演出中威到死锁是特
讲演者发挥演剧才能的机会。一个例子相当一个剧本，演出时一
小时的讨论班，一直讲到有教育意义的五个哲学家就餐的故事。
即使只能讲完第二章也是值得举办的；仔细选材的话，还可举办-
和定义，而将数学味更重的材料留作课后自学。课时少于一周时，
员举办为时一周的集中讲授课程。在讲授时，教师应重点讲解例子
列于序言后的符号汇编中。基于本书的内容，可为有经验的程序人
的预备知识主要是高中代数、集合论概念、谓词演算符号。这些都
可作计算科学的学士课程，在最后一年或甚至第二年时讲授。要求
本书会用于软件工程专业的硕士课程，讲授－学期，但大部分材料
的优势，因为他们可实际应用他们的知识。
家，着手进行时并不处于更不利的地位：而在完成时却获得明显
程的理论是数学的新分支；研究这·分支时，程序人员比之数学
容易的。数学家们在研究学科新分支时，也会遇到困难。通信进
来解决这些问题，而不必请数书籍或专家。
你遇到一些陌生的数学问题时，你仍有可能使用逻辑演绎和推测
则简单得多，它的词汇比之白然语言的词汇也少得多。因此，当
值接看到其含义。数学的优点在于，它的规则比之自然语言的规
文体的鉴赏力。达到这一境界时，符号也随之消失；由符号你可
答，给出新的证明。最终，你能培养自已具有对数学优美风格和
讲授通信顺序进程是十分有趣的工作，因为书中的例子提供
本书的内容已试川于非正式的工作会议和正式的课程教学。
这就是为什么数学会象程序设计那样有趣。可惜并不总是很
---
## Page 11
其它进程特性的有效性。而应用数学家（包括程序设计人员）可
探究这门学科的基础，或者喜欢用证明的办法，检验代数法则和
整的数学定义。纯粹数学家对这个定义是会有兴趣的，他们喜欢
六章前，第六章中就不能再避免引入非确定性了。
用于第四和第五章。从而，第三章的学习或精通可推迟到学习第
幸运的是，我们可以找到翘避非确定性的技术，这些技术广泛地
证明每一种可能的非确定选择产生的行为，都符合进程的描述。
中。非确定进程的证明方法比之确定进程稍微赢烦些，因为必须
性保持某种对称性，这种对称性见于数学理论部分的算子的定义
我们所不再威兴趣的方面时，就自然地会出现非确定性。非确定
解。非确定性是实现抽象的重要技术，因为决定抹除系统行为中
论为结束，其中包括递归式的论域理论的··个简单介绍。
方法，使进程很方便地具有新用途。这章以确定性进程的数学理
传统故事。第二章后半章中说明，如何用改变进程事件的名字的
产生任何非确定性。该章中的主要例子是处理五个就餐哲学家的
互作用，也和它们的外部环境彼此打交道。引入并发性本身拜不
的，该章中给出了一-些规则。
述它的行为。为实施进程，使其和描逃的一致性是可以严格证明
为。定义了许多迹的运算。在实施·“个进程前，可用迹的特性描
明，为什么可由进程所从事的一系列动作的迹来记载进程的行
则和用两数式程序设计语言的实施给出的。该竞后牛部分中说
程。该章中的概念先释以例子和图彤；更完整的解释是山代数法
种数学抽象。习用的递归技术可用来刻画经久不袁，或者永存的进
第三章的后面一些章书中，给出了非确定进程概念的·个完
第三章对莫衷-是的非确定性问题给出一个最简单的现成的
第二章说明如何将多个进程组装成系统，在系统中各部件交
第一章介绍进程概念，进程是系统及其环境间交互作用的一
湘
---
## Page 12
系列完整但是非常简单的操作系统来解释各个概念，堪称本书中
PLUS 中的管程和闭体扮演一样的角色。这章用模块式开发一
着的虚拟进程的通信穿插进行的。故实际和虚拟进程和PASCAL
附庸进程；但也可和实际资源通信。这些通信是和其它同时活动
的虚拟资源。··个虚拟资源也是一个进程，它有点象用户进程的
一个进程来表示。每当用户进程需要一种资源时，就建立一个新
等，而且进程对资源的需求是随着时间而变化的。每种资源也由
很多的进程，它们共享有限的物理资源，诸如磁盘、行式打印机