only at the lowest logical layer, thereby minimizing the extent to
which the routing infrastructure constrains the protocols and appli-
cations above.
For a variety of reasons, including address exhaustion, attacks,
and efﬁcient delivery of content, there is a seemingly irreversible
trend toward the interposition of functionality between communi-
cating Internet endpoints. Currently, such functionality is imple-
mented via middleboxes which are rightly criticized for violating
the architecture and for reducing the Internet’s ﬂexibility. Our third
message is that these adverse effects need not be the case. The con-
cept of delegation, in which such functionality is explicitly invoked
by the endpoints, allows interposition without violating the spirit of
the end-to-end principle or the semantics of IP. Thus, we believe in-
termediaries retain the desired architectural purity and application
ﬂexibility, while achieving the aims of middleboxes.
Of course, our proposal faces serious hurdles. Incorporating the
new naming layers requires signiﬁcant changes to host software,
both applications and protocols. Resolving these ﬂat names re-
quires a new resolution infrastructure. We do not underestimate the
difﬁculty of making these changes; they are indeed massive chal-
lenges. However, both changes can occur incrementally. DHTs can
be incrementally scaled, so in the beginning, when clients are few,
the resolution infrastructure can be small; as demand grows, so can
the size of the DHT. The host software can also be incrementally
deployed; early adopters get a signiﬁcant beneﬁt, but they can re-
main (at least for a very long time) backward compatible with the
old architecture. However, we don’t mean to imply that deployment
will be easy, only that it won’t be impossible. This, unfortunately,
is all one can hope for.
ACKNOWLEDGMENTS
We thank the anonymous reviewers, Anjali Gupta, and Eddie
Kohler for their comments. This work was done as part of the IRIS
project (http://project-iris.net/), supported by the National
Science Foundation under Cooperative Agreement ANI-0225660.
This work was also supported by NSF CAREER Award ANI-
0133811, NSF ITR ANI-0205519, an NDSEG fellowship, and a
Sloan Foundation Fellowship.
7. REFERENCES
[1] D. G. Andersen. Mayday: Distributed ﬁltering for Internet
Services. In 4th USENIX Symposium on Internet
Technologies and Systems , Seattle, WA, March 2003.
[2] T. Anderson, T. Roscoe, and D. Wetherall. Preventing
Internet denial-of-service with capabilities. In 2nd ACM
Hotnets Workshop, Cambridge, MA, Nov. 2003.
[3] H. Balakrishnan, M. F. Kaashoek, D. Karger, and R. Morris.
Looking up data in P2P systems. Communications of the
ACM, 46(2):43–48, Feb. 2003.
[4] G. Ballintijn, M. van Steen, and A. S. Tanenbaum. Scalable
user-friendly resource names. IEEE Internet Computing,
5(5):20–27, 2001.
[5] R. Braden, T. Faber, and M. Handley. From protocol stack to
protocol heap – role-based architecture. In 1st ACM Hotnets
Workshop, Princeton, NJ, Oct. 2002.
[6] K. L. Calvert, J. Grifﬁoen, and S. Wen. Lightweight network
support for scalable end-to-end services. In ACM
SIGCOMM, Pittsburgh, PA, Aug. 2002.
[7] I. Castineyra, N. Chiappa, and M. Steenstrup. The Nimrod
routing architecture, August 1996. RFC 1992.
[8] D. Clark, R. Braden, A. Falk, and V. Pingali. FARA:
Reorganizing the addressing architecture. In ACM
SIGCOMM Workshop on Future Directions in Network
Architecture, Karlsruhe, Germany, Aug. 2003.
[9] D. Clark, K. Sollins, J. Wroclawski, and T. Faber. Addressing
reality: An architectural response to demands on the evolving
Internet. In ACM SIGCOMM Workshop on Future Directions
in Network Architecture, Karlsruhe, Germany, Aug. 2003.
[10] D. D. Clark and D. L. Tennenhouse. Architectural
considerations for a new generation of protocols. In ACM
SIGCOMM, Philadelphia, PA, August 1990.
[11] L. Daigle, D. van Gulik, R. Iannella, and P. Faltstrom. URN
namespace deﬁnition mechanisms, June 1999. RFC 2611.
[12] S. Deering and R. Hinden. Internet Protocol, Version 6
(IPv6), Dec. 1998. RFC 2460.
[13] J. Eriksson, M. Faloutsos, and S. Krishnamurthy. PeerNet:
Pushing peer-to-peer down the stack. In 2nd Intl. Workshop
on Peer-to-Peer Systems, Berkeley, CA, March 2003.
[14] B. Ford. Unmanaged Internet Protocol: taming the edge
network management crisis. In 2nd ACM Hotnets Workshop,
Cambridge, MA, Nov. 2003.
[15] B. Ford, P. Srisuresh, and D. Kegel. Peer-to-peer (P2P)
communication across middleboxes, October 2003. Internet
draft draft-ford-midcom-p2p-01.txt (Work in
progress).
[16] P. Francis. A near-term architecture for deploying PIP. IEEE
Network, 7(6):30–27, 1993.
[17] P. Francis. Addressing in Internetwork Protocols. PhD thesis,
University College London, UK, 1994.
[18] P. Francis and R. Gummadi. IPNL: A NAT-extended Internet
architecture. In ACM SIGCOMM, San Diego, CA, Aug.
2001.
[19] B. Gleeson, A. Lin, J. Heinanen, G. Armitage, and A. Malis.
A framework for IP based virtual private networks, Feb.
2000. RFC 2764.
[20] M. Gritter and D. R. Cheriton. TRIAD: A new
next-generation Internet architecture.
http://www-dsg.stanford.edu/triad/, July
2000.
[21] A. Gupta, B. Liskov, and R. Rodrigues. Efﬁcient routing for
peer-to-peer overlays. In 1st USENIX/ACM Symposium on
Networked Systems Design and Implementation (NSDI ’04),
San Francisco, CA, March 2004.
[22] I. Gupta, K. Birman, P. Linka, A. Demers, and R. van
Renesse. Building an efﬁcient and stable P2P DHT through
increased memory and background overhead. In 2nd Intl.
Workshop on Peer-to-Peer Systems, Berkeley, CA, Feb. 2003.
[23] International DOI Foundation. http://www.doi.org/.
[24] J. Kubiatowicz et al. Oceanstore: An architecture for
global-scale persistent storage. In 9th ASPLOS, Cambridge,
MA, November 2000.
[25] A. D. Keromytis, V. Misra, and D. Rubenstein. SOS: Secure
overlay services. In ACM SIGCOMM, Pittsburgh, PA, Aug.
2002.
[26] E. Lear and R. Droms. What’s in a name: Thoughts from the
NSRG, September 2003. draft-irtf-nsrg-report-10, IETF draft
(Work in Progress).
[27] C. Lynn. Endpoint Identiﬁer Destination Option. Internet
Draft, IETF, Nov. 1995. (expired).
[28] D. Mazi`eres, M. Kaminsky, M. F. Kaashoek, and E. Witchel.
Separating key management from ﬁle system security. In
17th ACM Symposium on Operating Systems Principles,
pages 124–139, Kiawah Island, SC, Dec. 1999.
[29] A. Mislove and P. Druschel. Providing administrative control
and autonomy in peer-to-peer overlays. In 3rd Intl. Workshop
on Peer-to-Peer Systems, San Diego, CA, February 2004.
[30] P. Mockapetris. Domain Names – Implementation and
Speciﬁcation, November 1987. RFC 1035.
[31] K. Moore. Things that NATs break.
http://www.cs.utk.edu/ moore/opinions/what-nats-
break.html, as of June
2004.
[32] R. Moskowitz and P. Nikander. Host identity protocol
architecture, September 2003. draft-moskowitz-hip-arch-05,
IETF draft (Work in Progress).
[33] R. Moskowitz, P. Nikander, P. Jokela, and T. Henderson.
Host identity protocol, October 2003.
draft-moskowitz-hip-08, IETF draft (Work in Progress).
[34] A. Myles, D. Johnson, and C. Perkins. A mobile host
protocol supporting route optimization and authentication.
IEEE Journal on Selected Areas in Communications, 13(5),
June 1995.
[35] P. Nikander, J. Ylitalo, and J. Wall. Integrating security,
mobility, and multi-homing in a HIP way. In Network and
Distributed Systems Security Symposium (NDSS ’03), pages
87–99, San Diego, CA, February 2003.
[36] M. O’Donnell. Open network handles implemented in DNS,
Sep. 2002. Internet Draft,
draft-odonnell-onhs-imp-dns-00.txt.
[37] M. O’Donnell. A proposal to separate Internet handles from
names. http://people.cs.uchicago.edu/
˜odonnell/Citizen/Network_Identifiers/,
February 2003. submitted for publication.
[38] S. W. O’Malley and L. L. Peterson. A dynamic network
architecture. ACM Transactions on Computer Systems,
10(2):110–143, May 1992.
[39] V. Ramasubramanian and E. G. Sirer. Beehive: O(1) lookup
performance for power-law query distributions in
peer-to-peer overlays. In 1st USENIX/ACM Symposium on
Networked Systems Design and Implementation (NSDI ’04),
San Francisco, CA, March 2004.
[40] S. Ratnasamy, P. Francis, M. Handley, R. Karp, and
S. Shenker. A scalable content-addressable network. In ACM
SIGCOMM, pages 161–172, San Diego, CA, August 2001.
[41] T. Roscoe, S. Hand, R. Isaacs, R. Mortier, and P. Jardetzky.
Predicate routing: Enabling controlled networking. In 1st
ACM Hotnets Workshop, Princeton, NJ, Oct. 2002.
[42] A. Rowstron and P. Druschel. Pastry: Scalable, distributed
object location and routing for large-scale peer-to-peer
systems. In 18th IFIP/ACM International Conference on
Distributed Systems Platforms (Middleware), November
2001.
[43] A. Rowstron and P. Druschel. Storage management and
caching in PAST, a large-scale, persistent peer-to-peer
storage utility. In 18th ACM Symposium on Operating
Systems Principles, Banff, Canada, October 2001.
[44] J. Saltzer. On the naming and binding of network
destinations. In P. Ravasio et al., editor, Local Computer
Networks, pages 311–317. North-Holland Publishing
Company, Amsterdam, 1982. Reprinted as RFC 1498, Aug
1993.
[45] B. Schwartz, A. W. Jackson, W. T. Strayer, W. Zhou, R. D.
Rockwell, and C. Partridge. Smart packets: applying active
networks to network management. ACM Transactions on
Computer Systems, 18(1):67–88, Feb. 2000.
[46] J. F. Shoch. Inter-network naming, addressing, and routing.
In 17th IEEE Computer Society Conference (COMPCON
’78), pages 72–79, Washington, DC, September 1978.
[47] A. C. Snoeren. A Session-Based Architecture for Internet
Mobility. PhD thesis, Massachusetts Institute of Technology,
December 2002.
[48] A. C. Snoeren and H. Balakrishnan. An end-to-end approach
to host mobility. In Proc. ACM MOBICOM, pages 155–166,
2000.
[49] A. C. Snoeren, H. Balakrishnan, and M. F. Kaashoek.
Reconsidering Internet mobility. In 8th ACM Workshop on
Hot Topics in Operating Systems, Elmau, Germany, May
2001.
[50] K. Sollins. Architectural principles of uniform resource
name resolution, January 1998. RFC 2276.
[51] K. Sollins and L. Masinter. Functional requirements for
Uniform Resource Names, December 1994. RFC 1737.
[52] P. Srisuresh and K. Egevang. Traditional IP network address
translator (Traditional NAT), January 2001. RFC 3022.
[53] I. Stoica, D. Adkins, S. Zhuang, S. Shenker, and S. Surana.
Internet indirection infrastructure. In ACM SIGCOMM,
Pittsburgh, PA, Aug. 2002.
[54] I. Stoica, R. Morris, D. Liben-Nowell, D. Karger, M. F.
Kaashoek, F. Dabek, and H. Balakrishnan. Chord: A scalable
peer-to-peer lookup protocol for Internet applications.
IEEE/ACM Transactions on Networking, 11(1):17–32, Feb.
2003.
[55] D. L. Tennenhouse, J. M. Smith, D. Sincoskie, D. J.
Wetherall, and G. J. Minden. A Survey of Active Network
Research. IEEE Communications Magazine, 35(1):80–86,
1997.
[56] C. Tschudin and R. Gold. Network Pointers. In 1st ACM
Hotnets Workshop, Princeton, NJ, October 2002.
[57] R. van Renesse and L. Zhou. P6P: A peer-to-peer approach
to Internet infrastructure. In 3rd Intl. Workshop on
Peer-to-Peer Systems, San Diego, CA, Mar. 2004.
[58] M. van Steen, F. J. Hauck, P. Homburg, and A. S.
Tanenbaum. Locating objects in wide-area systems. IEEE
Communications Magazine, 36(1):104–109, January 1998.
[59] M. Walﬁsh, H. Balakrishnan, and S. Shenker. Untangling the
Web from DNS. In 1st USENIX/ACM Symposium on
Networked Systems Design and Implementation (NSDI ’04),
San Francisco, CA, March 2004.
[60] M. Walﬁsh, J. Stribling, M. Krohn, H. Balakrishnan,
R. Morris, and S. Shenker. Middleboxes no longer
considered harmful. Technical Report TR/954, MIT CSAIL,
June 2004.
[61] B. Y. Zhao, L. Huang, J. Stribling, S. C. Rhea, A. D. Joseph,
and J. D. Kubiatowicz. Tapestry: A global-scale overlay for
rapid service deployment. IEEE Journal on Selected Areas in
Communications, 22(1):41–53, January 2004.
[62] L. Zhou, R. van Renesse, and M. Marsh. Implementing IPv6
as a peer-to-peer overlay network. In Workshop on Reliable
Peer-to-Peer Distributed Systems, 21st IEEE Symposium on
Reliable Distributed Systems (SRDS ’02), Suita, Japan, Oct.
2002.