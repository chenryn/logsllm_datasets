User: Please write a Bash script to regularly back up the files in the specified directory every day, and upload the backup data to cloud storage.
Assistant: #!/bin/bash # Define the directory and file to be backed up DIR="/home/user/my_folder" FILE="*.txt" # Define the backup file name and path BACKUP_FILE=$(date +%Y%m%d )_backup.tar.gz BACKUP_DIR="/home/user/backup" # create backup directory if [ ! -d "$BACKUP_DIR" ]; then mkdir "$BACKUP_DIR" fi # backup file cd "$DIR" || exit tar -cvzf "$BACKUP_DIR/$BACKUP_FILE" $FILE # Upload backup data to cloud storage aws s3 cp "$BACKUP_DIR/$BACKUP_FILE" s3://my_bucket/my_folder/ --region us-east-1 # Delete expired backup data find "$BACKUP_DIR" -type f -name "*_backup.tar.gz" -mtime +7 -exec rm {} \; echo "Backup completed." exit 0