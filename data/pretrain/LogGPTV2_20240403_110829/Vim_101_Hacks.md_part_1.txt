Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Table of Contents
Introduction ............................................................. 8
About the Author ....................................................... 9
Copyright & Disclaimer ............................................... 10
Foreword ............................................................... 11
Version .................................................................. 12
Chapter 1: Vim Basics ................................................ 13
Opening a File ..................................................................... 13
Saving a File ....................................................................... 13
Closing a File ...................................................................... 14
Types of Vim Modes .............................................................. 14
Moving around a File ............................................................. 16
Vim Configuration File (~/.vimrc)............................................. 17
Vim Version ........................................................................ 19
Vim Installation ................................................................... 20
All About Vim Help ............................................................... 21
Use Vimtutor for Practice ...................................................... 22
Chapter 2: Basic Navigation ......................................... 23
Hack 1. Scroll Full Page or Half Page ........................................ 23
Hack 2. Word Navigation ........................................................ 24
Hack 3. Position cursor at specific location within a line ............... 25
Hack 4. Paragraph, Section, Sentence Navigations ....................... 26
Chapter 3: Advanced Navigation ................................... 27
Hack 5. Screen Navigation...................................................... 27
Hack 6. Redraw Screen with Current Line on Top, Bottom or Middle 27
2
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Hack 7. Navigate to Top and Bottom of the File .......................... 28
Hack 8. Navigate to Nth Character, Nth Percentage of a File ............ 28
Hack 9. Line Number Navigation .............................................. 29
Hack 10. Source Code Navigation ............................................. 30
Hack 11. Navigate From Insert Mode ........................................ 31
Chapter 4: Expert Navigation ....................................... 32
Hack 12. Jump Using CTRL-O and CTRL-I ................................... 32
Hack 13. Navigate Within a Very Long Line ................................ 33
Hack 14. Vim Command Line Navigation .................................... 34
Hack 15. Create Local Bookmarks inside file using Marks .............. 35
Hack 16. Create Global Bookmarks inside Vim File ....................... 37
Hack 17. How to Display all Bookmarks ..................................... 38
Hack 18. Navigate any Source Code effectively using Ctags ............ 41
Hack 19. Convert Vim Editor to Beautiful Source Code Browser for Any
Programming Language ......................................................... 44
Chapter 5: Basic Text Manipulation ............................... 49
Hack 20. Insert or Append Text ............................................... 49
Hack 21. Replace Text .......................................................... 50
Hack 22. Substitute Text ....................................................... 51
Hack 23. Change Text ........................................................... 52
Hack 24. Join Lines Using nojoinspaces Option ........................... 52
Chapter 6: Advanced Text Manipulation ......................... 54
Hack 25. Copy One Character, or Word, or Line, or up to a Position 54
Hack 26. Paste before or after the copied Line / Word / Others ...... 55
Hack 27. Delete Single Char, or Word, or Line ............................ 56
Hack 28. Inserting Content from Clipboard Buffer ....................... 57
Hack 29. Insert Content to Clipboard from File ........................... 57
Hack 30. Write Part of File to another File ................................ 58
Hack 31. Swap Adjacent Characters ......................................... 58
Hack 32. The power of the . (dot) Command .............................. 59
Hack 33. Visual Mode Commands ............................................. 60
3
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Hack 34. Editing with :g ........................................................ 62
Chapter 7: Expert Text Manipulation ............................. 65
Hack 35. Copy Lines to Named Buffer for Later Use ..................... 65
Hack 36. Convert Inserted Text to Normal Mode Commands ........... 65
Hack 37. Abbreviation and Unabbreviation ................................ 66
Hack 38. Automatic Spelling Correction .................................... 67
Hack 39. Record and Play Using Macros ..................................... 69
Hack 40. Sort File Content ..................................................... 74
Hack 41. Recover Deleted Text ............................................... 75
Hack 42. Add Automatic Headers to Files Using........................... 76
Chapter 8: Vim as a Programmers Editor ......................... 81
Hack 43. Make Vim Highlight Your Code Smartly ......................... 81
Hack 44. Smart Indentation .................................................... 82
Hack 45. Access Unix Man page for Functions from Vim ................ 83
Hack 46. Jump to Variable Declaration ..................................... 84
Hack 47. Align the Variable Assignment .................................... 84
Hack 48. Increment and Decrement Number Using CTRL Keys ........ 85
Hack 49. Execute One Vim Command in Insert Mode .................... 86
Hack 50. View Current File Details ........................................... 86
Hack 51. Take Control of the Vim Status Bar .............................. 87
Hack 52. Change Case ........................................................... 88
Hack 53. Spell Check ............................................................ 90
Hack 54. Setup Quit Confirmation ............................................ 91
Hack 55. Use :up and Avoid :w ................................................ 91
Hack 56. Edit Current Buffer Content ....................................... 92
Hack 57. Tabs and Spaces ...................................................... 92
Chapter 9: Vim Command Line Hacks ............................. 94
Hack 58. Open File in Read Only Mode ...................................... 94
Hack 59. Recover Swap File Explicitly ....................................... 94
Hack 60. Execute any Vim Command when opening a file ............. 97
Hack 61. Execute Commands Stored in a File ............................. 97
4
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Hack 62. Skip Loading Plugins Temporarily ................................ 98
Hack 63. Enter Restricted Mode in Vim ..................................... 98
Chapter 10: gVim Hacks ............................................. 99
Hack 64. Display and Hide gVim Menu and Toolbar ...................... 99
Hack 65. Adding a Custom Menu or Menu Items to gVim ...............100
Hack 66. Change Font in gVim ................................................102
Chapter 11: Vim Look and Feel, Tabs, and Windows ........ 103
Hack 67. Split Windows Horizontally and Vertically .....................103
Hack 68. Change Window Title ...............................................105
Hack 69. Change Vim Colors ..................................................106
Hack 70. Edit Multiple Files in Tabs .........................................107
Chapter 12: Additional Features in Vim Editor ................ 109
Hack 71. Repeat an Operation N number of times ......................109
Hack 72. Undo and Redo Action .............................................109
Hack 73. Open the File whose Name is under the Cursor .............110
Hack 74. Edit Multiple Files Using the Traditional Method ............112
Hack 75. Saving Files Automatically ........................................113
Hack 76. Encrypt File in Vim .................................................114
Hack 77. Save and Resume Vim Sessions ..................................114
Hack 78. Execute Unix Shell Command Inside Vim ......................116
Hack 79. Review the Differences between Files using Vimdiff .......117
Hack 80. Vim Map Command ..................................................118
Hack 81. Make Bash Shell work like Vim Editor ..........................121
Hack 82. Set Vim Options ......................................................122
Hack 83. Unset Vim Options ..................................................122
Hack 84. Default registers and their uses .................................123
Hack 85. Numeric Registers and Recovering Deletes ...................124
Hack 86. Vim Directory Operation ..........................................124
Chapter 13: Power of Search ..................................... 127
Hack 87. Navigation by Search ...............................................127
5
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Hack 88. Go to Next / Previous Occurrence of the Current Word ...128
Hack 89. Search for a Character within a Line ...........................129
Hack 90. 12 Powerful Find and Replace Examples ......................129
Hack 91. Search across Multiple Files using vimgrep ...................137
Hack 92. Highlight Search Results with Color .............................138
Hack 93. Vim Incremental Search ...........................................139
Hack 94. The Power of :match ...............................................140
Chapter 14: Automatic Completion .............................. 142
Hack 95. Automatic Word Completion ......................................142
Hack 96. Automatic Line Completion .......................................143
Hack 97. Automatic Filename Completion ................................144
Hack 98. Dictionary Completion .............................................145
Hack 99. Thesaurus Word Completion ......................................146
Hack 100. Automatically open a Pop-up menu for Completion .......149
Hack 101. Automatically offers Word Completion as you type .......152
Chapter 15: Bonus Hacks .......................................... 155
Bonus Hack 1. Add Bullet Point Style to List of Items ...................155
Bonus Hack 2. Set Vim as Universal Default Editor using update-
alternatives .......................................................................157
Bonus Hack 3. Make Vim as Default Editor ................................157
Bonus Hack 4. Format a Paragraph ..........................................158
Bonus Hack 5. Edit Macros for Reuse .......................................158
Bonus Hack 6. Indent Code Block ............................................159
Bonus Hack 7. Power of Combination.......................................160
Bonus Hack 8. Identify the changes done to a file .......................161
Bonus Hack 9. Refresh the Screen...........................................161
Bonus Hack 10. Insert Non Keyboard Characters ........................161
Bonus Hack 11. Vim ex Mode .................................................162
Bonus Hack 12. Place the cursor at the end of the match .............163
Bonus Hack 13. View ASCII value of a character .........................163
Bonus Hack 14. Edit Binary files in Vim Editor ...........................164
Bonus Hack 15. Folding - View Only Required Part of Code ...........164
6
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Your Feedback and Support ....................................... 167
7
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Introduction
“Productivity is being able to do things that you were never able to
do before.”
--Franz Kafka--
If you are spending significant amount of your time on Unix or Linux
environment, you may have to use Vi / Vim editor frequently. Mastering the
Vim editor fundamentals and knowing how to use it effectively will instantly
boost your productivity.
This book contains 101 Vim hacks (examples) that will help you to become
fast and productive on the Vim editor.
All the hacks in this book are explained with appropriate Vim editor command
examples that are crisp and easy to follow.
This book contains 15 chapters.
• Chapter 1 explains basics of Vim editors for newbie.
• Chapters 2 - 14 contain all the 101 hacks.
• Chapter 15 contains additional bonus hacks. We’ll be adding more
hacks to this section in upcoming editions of this book.
Conventions used in this book:
• CTRL-A - Press the CTRL key and the A key at the same time.
• 10j – Enter these characters in the sequence in the normal mode
• :set nu - Enter this command in the command line mode.
8
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
About the Author
I’m Ramesh Natarajan, author of The Geek Stuff blog
thegeekstuff.com and this eBook.
I have done extensive programming in several
languages and C is my favorite. I have done a lot of
work on the infrastructure side including Linux system
administration, DBA, Networking, Hardware and
Storage (EMC).
I have also developed passworddragon.com — a free, easy and secure
password manager that runs on Windows, Linux and Mac.
I’m also the author of free Linux 101 Hacks eBook -
http://www.thegeekstuff.com/linux-101-hacks-free-ebook/
If you have any feedback about this eBook, please use this contact form -
http://www.thegeekstuff.com/contact to get in touch with me.
9
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Copyright & Disclaimer
Copyright © 2009 – Ramesh Natarajan. All rights reserved.
No part of this book may be reproduced, translated, posted or shared in any
form, by any means.
The information provided in this book is provided "as is" with no implied
warranties or guarantees.
10
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Foreword
There are a lot of editors, most of which offer only modest functionality and
little comfort. Well, all of these tools have their place, but a professional
user needs professional tools. You have opted for Vim - a very good choice.
Vim was created when system resources were limited. These times have
passed, but the result is a highly stable editor that runs on virtually any
platform and has an exceptional command concept. It is certainly one of the
best editors available for programmers. If you are adept with it, you can
reach an incredible level of productivity. Vim offers just about everything you
could ever want from an editor. What remains can be handled with macros,
plug-ins and command line utilities.
Mastering an advanced editor is no small investment. However, after many
years of experience, I can assure you that the effort bears interest richly.
And do not forget, learning how to wield its power well can be a lot of fun,
along the way!
The best that can happen is when an experienced user shows you the way and
accompanies you as you learn. This book does exactly this. The learning
curve is quite steep. After you have mastered the basics, you will learn step
by step more advanced techniques. In order to become a master yourself,
you only need three things: practice, practice, practice. This book will guide
you for weeks or months there.
Now there is much to do, but you will have a very interesting time and gain
much by it. Enjoy using Vim effectively. It's best to start immediately.
--Prof. Dr. Fritz Mehner, FH Südwestfalen, Germany
(Author of several Vim plugins, including bash-support vim plugin)
11
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Version
Version Date Revisions
1.0 21-Oct-2009 First Edition
12
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Chapter 1: Vim Basics
Before we begin to review the 101 hacks, let us understand a few basics of
the Vim editor.
Opening a File
There are two methods to open a file. The following examples will open the
/etc/passwd file.
Method 1: Open from command line as explained above.
$ vim /etc/passwd
Method 2: Open from the Vim editor after launching it.
$ vim
:e /etc/passwd
Saving a File
The following are methods to save a file.
Save Methods Description
:w (or) :write Save working file
:up (or) :update Save working file
13
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
:w newfile.txt Save as newfile.txt
:up newfile.txt Save as newfile.txt
:w! newfile.txt Save as newfile.txt (with overwrite option)
:up! newfile.txt Save as newfile.txt (with overwrite option)
Closing a File
The following are methods to close a file and exit out of the Vim editor.
Quit Methods Description
:x Save working file and exit
:wq Save working file and exit
ZZ Save working file and exit
:q! Exit without saving working file
:qa Exit all open files in the current Vim
session
Types of Vim Modes
There are several modes in Vim. For easy understanding let us separate these
into two categories – basic modes and advanced modes.
Basic Vim Modes
It is absolutely essential to understand these three basic modes to use the
Vim editor effectively.
14
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Mode Description
Normal The Vim editor starts in this mode,
where you can execute all editor
commands.
Insert This mode is for inserting text.
Command Line This mode is for executing ex
commands at the bottom of the editor.
For example, :wq
Let’s assume you want to create a helloworld.txt with the text “Hello
World!”. The following steps explain how you do this with the help of these
three modes.
Step 1: Normal mode. Open the new file in Normal mode.
$ vim helloworld.txt
Step 2: Insert Mode. Go to Insert mode, and type Hello World!
i
Step 3: Command Line mode. Go to command line mode and type :wq to
save the file and exit the editor.
 :wq
15
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Advanced Modes
While these are not essential for a typical usage, it is good to understand all
available Vim modes.
Mode Description
Visual You can select text (Using v, V or CTRL-V) in
visual mode and execute Vim commands.
For example, you can select a column of text
and delete in visual mode.
Select From :help vim-modes-intro
“Typing a printable character deletes the
selection and starts Insert mode. In this
mode, "-- SELECT --" is shown at the bottom of
the window.”
Ex From :help vim-modes-intro
“Like Command-line mode, but after entering
a command you remain in Ex mode”
Moving around a File
In most applications you may be using the up, down, left and right arrow keys
to do basic navigation. In the Vim editor, following are the basic navigation
keys: