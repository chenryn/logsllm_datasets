现代软件都是组装的而非纯自研。随着开源组件在数字化应用中的使用比例越来越高，混源开发已成为当前业内主流开发方式。开源组件的引入虽然加快了软件开发效率，但同时将开源安全问题引入了整个软件供应链。软件组成成分的透明性成为软件供应链安全保障的基础，SBOM（Software
Bill of Materials，软件物料清单）作为软件供应链安全治理的重要抓手，其在行业的应用实践速度明显加快。
### 软件供应链安全治理
#### 供应链安全概述
供应链（Supply
Chain）指生产及流通过程中，涉及将产品或服务提供给最终用户活动的上游与下游企业所形成的网链结构，即将产品从商家送到消费者手中整个链条。供应链的活动是指将自然原材料不断组装成消费者需要的成品的过程，描绘了产品供给关系。整个供应链系统涉及到人员、组织、材料、数据等。
软件供应链的定义由传统供应链概念扩展而来，指软件生命周期中从需求、设计、开发、构建、打包、发布、采购、部署、运维、下线到销毁整个链路，通常涉及软件生产者（供应商/上游）、软件使用者（消费者/下游）以及软件运营者（公司或者企业）三个方面。
软件供应链安全则是和针对软件供应链的攻击有关。攻击者通过网络工具、下载投毒、代码污染、漏洞利用、授权流氓等手段在软件供应链各个活动环节中，对企业业务系统进行破坏性操作。近几年比较严重的软件供应链安全事件有SolarWinds（太阳风暴）攻击、Realtek
WiFi SDK漏洞、Apache Log4j2漏洞等。
#### 风险治理重点
软件供应链过程风险治理，主要包括软件来源管理、软件安全合规性管理、软件资产管理、服务支持及安全应急响应，目的是提升软件供应链可追溯性和透视性。其中重点的治理内容，包括软件资产的第三方组件威胁审查、软件安全合规性管理。
图1 软件供应链治理重点区域
为了帮助企业有效解决软件供应链安全问题，SBOM作为软件供应链安全关键的技术工具之一，能够达到统一描绘软件资产信息格式、协助对采购软件和自研软件风险评估、形成软件供应链活动中传递的软件信息接口标准。
### 何为SBOM
早期SBOM的概念源自制造业，其中物料清单BOM是用来详细说明产品中包含的所有项目的清单。例如在汽车行业，制造商为每辆车提供一份详细的物料清单，列出原始设备制造商制造的部件以及来自第三方供应商的部件。当发现有缺陷的部件时，汽车制造商可以准确地知道哪些车辆受到影响，进而通知车主维修或更换。软件物料清单SBOM则是用来描述软件产品中包含的组件物料信息，示例如下：
图2 SBOM示例
但随着供应链安全事件的升级，2021年7月12日美国在关于改善国家网络安全的行政命令（EO
14028第10节）中将SBOM定义为“包含构建软件中使用的各种组件的详细信息和供应链关系的正式记录”。软件开发商和供应商通常通过组装现有的开源和商业软件组件来创建产品，新的定义将软件供应链关系纳入记录范围。
图3 组件关系图示
#### SBOM的元素
图4 NTIA《The Minimum Elements For a Software Bill of Materials （SBOM）》
美国NTIA（National Telecommunications and Information
Administration，国家电信和信息管理局）2021年7月发布了SBOM所包含的最小必需元素。这些元素包含以下三类：
SBOM最小必需元素描述了实践过程中需要的元素最小集，相关组织和机构可通过参考以上三类元素，并扩展企业自身需要管理的额外信息，构成适合自身的标准SBOM清单。从国内开源组件管理要求和软件全生命周期风险角度分析，推荐适合扩展数据字段如下：
#### SBOM的格式
目前SBOM主要通过三种格式来进行实施：
**1.SPDX**
SPDX是一种国际开放标准（ISO/IEC
5962:2021）格式，包含与软件包相关的组件、许可证、版权和安全参考信息。SPDX标准由Linux基金会主办的草根开源项目开发，目前维护到最新2.3版本，特点是对许可证的详细信息支持较好，主要输出文件格式包括RDF、XLS、SPDX、YAML、JSON。
SPDX
Lite是SPDX的轻量级子集，适用于不需要完整SPDX的场景，旨在让没有开源许可知识或经验的人易于使用，用于平衡SPDX标准与某些行业工作流程实际需求。
**2.CycloneDX**
CycloneDX专为安全环境和供应链组件分析而构建，是一种轻量级SBOM标准，可用于应用程序安全上下文和供应链组件分析。CycloneDX源于OWASP社区的开源项目，由提供战略方向和标准维护的核心团队指导。目前最新维护到1.4版本，可扩展格式并集成SPDX许可证ID、pURL和其他外部标识符，主要输出格式包括XML、JSON。
**3.SWID**
SWID是一个标准化的XML格式，可以识别软件产品的组成部分并将其与上下文结合，记录有关软件组件的唯一信息，如产品名称、版本详细信息等。SWID标签在SDLC发布后添加作为软件产品的一部分，在软件安装时将标签信息添加到系统终端，并在产品卸载后自动删除。
#### SBOM使用场景
1）从广义的分类上看，SBOM有三种不同的使用场景：
〇 软件生产商使用SBOM来协助构建和维护他们提供的软件；
〇 软件采购商使用SBOM来进行采购前参考、协商折扣和制定采购策略；
〇 软件运营商使用SBOM为漏洞管理和资产管理提供信息，管理许可和合规性，并快速识别软件和组件依赖关系以及供应链风险。
2）从企业角色类型来看，对SBOM有不同的使用需求：
〇 项目团队：用于管理软件资产，在开发早期即可评估安全风险，筛选适合的组件/软件，并持续更新SBOM；
〇 安全团队：通过提交的SBOM分析软件风险，并通过统一管理进行持续监控，及时响应安全事件；
〇 法务团队：核查软件授权问题，避免后续公司业务自身权益受到损害。
图5 企业管理角色SBOM使用需求
### 如何使用SBOM
#### 选择SBOM工具
企业级SBOM为便于统一管理，应该使用一致的格式，如前文所述的SPDX、SWID和OWASP