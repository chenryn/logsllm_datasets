Another distinctive feature of BAAT is that it is capable of 
planning  the  battery  aging  rate  for  better  utilizing  the  energy 
storage  resources.  Typically,  the  lifetime  range  of  a  lead-acid 
battery and a datacenter is 3~10 years [43] and 10~15 years [44], 
respectively.  Without  aging  planning,  it  is  highly  likely  that 
datacenter operators have to discard the latest replaced batteries 
before they wear out.  
BAAT  can  adjust  battery  DoD  to  modulate  battery  service 
life  and  synchronize  it  with  the  end-of-life  of  datacenter 
infrastructures to gain more performance benefits. As shown in 
Figure 21, the performance improvement is not linear with DoD 
variation.  When  the  DoD  increases  from  40%  to  60%,  the 
performance improvement is  more visible than when the DoD 
increases from 70% to 90%. This is because compared with an 
normal  DoD  range  of  20%~40%,  the  latter  will  yield  too  low 
battery SoC, which leads to reduced battery lifetime. 
  We  consider  different  durations  of  the  expected  battery 
service life (i.e., from the installation time of battery to the end-
of-life  of  the  data  center).  By  aggressively  utilize  the  battery, 
one can improve datacenter productivity by up to 33% (Figure 
22), compared to e-Buff. Our results show that the performance 
benefits decrease when the newly replaced battery is too close to 
the  datacenter/server  end-of-life.  This  is  because  there  is  an 
upper bound of battery discharge (i.e., over 90% DoD) and the 
performance improvement is heavily restricted by the available 
operating  duration.  On  the  other  hand,  the  benefits  of  aging 
planning also decrease when the battery installation time is far 
from the expected datacenter end-of-life. This is mainly because 
1.4
1.3
1.2
1.1
1
0.9
0.8
e
c
n
a
m
r
o
f
r
e
P
d
e
z
i
l
a
m
r
o
N
40% 50% 60% 70% 80% 90%
Planned DoD
Fig. 21. Performance impact of planned DoD 
e
c
n
a
m
r
o
f
r
e
P
d
e
z
i
l
a
m
r
o
N
1.6
1.4
1.2
1
0.8
0.6
Fig. 22. Performance benefits of planning aging 
Time to End-of-Life
Fig. 20. Performance improvement  
the unused portion of the battery’s lifetime that can be shifted is 
too small.  
VII.  RELATED WORK 
To  the  best  of  our  knowledge,  this  is  the  first  extensive 
analysis  of  battery  aging  and  failure  in  green  datacenters.  The 
relevant prior work are summarized as bellow. 
Studies  of  battery  aging  and  battery  lifetime:  There  have 
been many studies on battery aging and lifetime, which can be 
categorized into: (1) Battery system model and evaluation [14, 
15].  The  main  focus  is  to  leverage  mathematical  formula  to 
model  battery  behavior.  (2)  Battery  aging  mechanism  studies 
[16, 17]. Among those, [16] presents an overview of lead-acid 
battery aging mechanisms. [17] focuses on the sulfation aging in 
battery.  (3)  Battery  lifetime  prediction  model  [18,  19].  To  our 
knowledge,  none  of  prior  work  addresses  the  battery  aging 
issues at datacenter level. 
Battery  management  in  micro-systems:  As  the  primary 
power  source  in  micro-systems,  battery  usage  and  lifetime 
management  have  been  studied  in  light  of  mobile/embedded 
environment [45-48] and hybrid electric vehicles (HEV) system 
[49].  Prior  work  mainly  focuses  on  battery-aware  energy 
management and task scheduling. For example, [48] presents a 
stochastic model of battery and a framework for estimating the 
battery lifetime in mobile embedded systems. [49] formulates an 
optimal  control  problem  to  minimize  the  fuel  consumption  as 
well as battery aging in HEV system. Most of their works focus 
on  single  and  micro  system  control.  In  contract,  our  work 
explores the aging issues of battery systems in green datacenters.  
Battery provisioning in datacenters: Deploying batteries as 
energy buffers in datacenters to reduce power cost and improve 
power  quality  have  received  increasing  attention.  Recently, 
considerable  proposals  investigate  battery  provisioning  and 
management  in  both  conventional  [6,  7,  10,  11,  50]  and 
emerging renewable energy powered datacenters [4, 5, 12, 13, 
51, 52]. Among those, [6, 7, 10, 11] primarily emphasize battery 
(e.g.,  centralized,  distributed  or 
provisioning 
hierarchical 
usage  manner 
(aggressively  leverage  battery  to  shave  peak  power  demands 
and  stores  energy  during  low  load  actively  periods).  These 
studies  rarely  manage  battery  aging  dynamically.  Similarly, 
while  many  recent  studies  [4]  also  employ  battery  to  buffer 
renewable  power  in  datacenters,  there  has  been  no  work  that 
explores battery aging-aware power management in the context 
of green datacenters.   
topologies 
deployment), 
battery 
Our  work  distinguishes  itself  from  other  studies  in  four 
aspects: (1) It investigates emerging battery aging issues at the 
datacenter level. (2) It comprehensively analyzes battery aging 
mechanisms  from  the  perspective  of  architecture  and  system 
designers  (rather  than  a  electrochemical  point  of  view).  (3)  It 
proposes a novel battery aging management framework that can 
and 
317317
jointly  balance,  slow  down  and  plan  the  aging  process.  (4)  It 
builds a real prototype to evaluate the benefit and efficiency of 
battery aging-aware power management schemes. 
VIII.  CONCLUSIONS 
In this study we explores battery aging issues on a scaled-
down  prototype  over  six  months  and  proposes  a  novel  power 
management framework to dynamically manage battery aging in 
emerging  green  datacenters,  in  which  massive  distributed 
battery systems are increasingly being deployed for the purpose 
of power and energy management.  
We  propose  BAAT,  a  novel  battery  aging  management 
framework which can jointly hide, slow down and plan battery 
aging.  It  leverages  quantified  battery  aging  metrics  abstracted 
from runtime performance statistics to efficiently handle battery 
aging  at  the  computer  architecture  and  system  levels.  We 
conduct  detailed experiments  on a real  system  prototype build 
from  scratch.  Our  results  show  that  BAAT  can  leads  to  38% 
battery  aging  rate  reduction  even  in  the  worst  case  and  can 
improve battery lifetime by 69% on average. Meanwhile, BAAT 
could  reduce  the  performance  overhead  caused  by  inefficient 
battery  management,  thereby  improving  workload  throughput 
by  28%.  Our  design  allows  datacenter  to  reduce  26%  battery 
annual depreciation cost. 
ACKNOWLEDGEMENT 
This  work  is  supported  in  part  by  NSF  grants  1423090, 
1320100,1117261,  0937869,  0916384,  0845721(CAREER), 
0834288,  0811611,  0720476,  by  SRC  grants  2008-HJ-1798, 
2007-RJ-1651G, 
by  Microsoft  Research  Trustworthy 
Computing,  Safe  and  Scalable  Multi-core  Computing  Awards, 
by  three  IBM  Faculty  Awards  and  by  the  Program  of 
Introducing  Talents  of  Discipline  to  University  grant  B13043. 
Chao Li is also supported in part by a Facebook Fellowship and 
a SJTU-MSRA Faculty Award. 
REFERENCES 
[1]  http://www.cnet.com/news/google-uncloaks-once-secret-server-
10209580/ 
[2]  http://www.datacenterknowledge.com/archives/2011/04/25/microsoft
-reveals-its-specialty-servers-racks/ 
[3]  Facebook.  Hacking  Conventional  Computing 
Infrastructure. 
http://opencompute.org/, 2011. 
[5] 
[4]  C.  Li,  Y.  Hu,  R.  Zhou,  M.  Liu,  L.  Liu,  J.  Yuan  and  T.  Li,  “Oasis: 
Enabling Datacenter to Scale Out Economically and Sustainably,” in 
International Symposium on Microarchitecture (MICRO), 2013. 
I. Goiri, W. Katsak, K. Le, T. Nguyen and R. Bianchini, “Parasol and 
GreenSwitch:  Managing  Datacenters  Powered  by  Renewable 
Energy,”  in  International  Conference  on  Architectural  Support  for 
Programming Languages and Operating Systems (ASPLOS), 2013. 
[6]  V. Kontorinis, L. Zhang, B. Aksanli, J. Sampson, H. Homayoun, E. 
Pettis, T. Rosing and D. Tullsen, “Managing Distributed UPS Energy 
for  Effective  Power  Capping  in  Data  Centers,”  in  International 
Symposium on Computer Architecture (ISCA), 2012. 
[7]  S. Govindan, A. Sivasubramaniam and B. Urgaonkar, “Benefits and 
Limitations  of  Tapping  into  Stored  Energy  for  Datacenters,”  in 
International Symposium on Computer Architecture (ISCA), 2011. 
[8]  Energy  Storage for Wind and Solar Integration, Navigant Research, 
Technical Report, 2013. 
[9]  Forecasting  Energy  Demand:  Global  Market  Profile  Report, 
DatacenterDynamics Industry Census, 2011. 
[10]  S.  Govindan,  D.  Wang,  A.  Sivasubramaniam  and  B.  Urgaonkar, 
“Leveraging  Stored  Energy  for  Handling  Power  Emergencies  in 
Aggressively  Provisioned  Datacenters,”  in  International  Conference 
on Architectural Support for Programming Languages and Operating 
Systems (ASPLOS), 2012. 
[11]  D. Wang, C. Ren, A. Sivasubramaniam, B. Urgaonkar, and H. Fathy, 
“Energy  Storage  in  Datacenters:  What,  Where,  and  How  Much,”  in 
SIGMETRICS Performance Evaluation Review, 2012. 
[12]  N.  Sharma,  S.  Barker,  D.  Irwin  and  P.  Shenoy,  “Blink:  Managing 
Server Clusters on Intermittent Power,” in  International Conference 
on Architectural Support for Programming Languages and Operating 
Systems (ASPLOS), 2011. 
[13]  C. Li, W. Zhang, C. Cho and T. Li, “SolarCore: Solar Energy Driven 
in  International 
Multi-core  Architecture  Power  Management,” 
Symposium  on  High-Performance  Computer  Architecture  (HPCA), 
2011. 
[14]  S. Buller, M. Thele, E.Karden and R.W. Doncker, “Impedance-based 
non-linear dynamic battery modeling for automotive applications,” in  
Journal. of Power Sources, 2003, 113(2), pp. 422-430. 
[15]  Y. Sun, H. Jou and J. Wu “Aging Estimation Method for Lead-Acid 
Battery,” in IEEE Transaction on Energy Conversion, 2011, 26(1), pp. 
264-271. 
[16]  P.  Ruetschi,  “Aging  Mechanisms  and  Service  Life  of  Lead–Acid 
Batteries,” in Journal of Power Sources, 2004,  127(1), pp. 33-44. 
[17]  H.  Catherino,  F.  Feres  and  F.  Trinidad,  “Sulfation  in  Lead–Acid 
Batteries,” in Journal of Power Sources, 2004, 129(1), pp. 113-120. 
[18]  D.  Sauer,  and  H.  Wenzl,  “Comparison  of  Different  Approaches  for 
Lifetime  Prediction  of  Electrochemical  Systems  Using  Lead-Acid 
Batteries as Example, ” in Journal of Power Sources, 2008,176(2), pp. 
534-546. 
[19]  D.  Pavlov,G.  Petkova,  M.  Dimitrov,  M.  Shiomi,  and  M.  Tsubota, 
“Influence of  Fast Charge on the Life Cycle of Positive Lead–Acid 
Battery Plates,” in Journal of power sources, 2000, 87(1), pp. 39-56. 
[20]  Y. Kuroda, A. Akai, T. Kato, and Y. Kudo, “High-Efficiency Power 
Supply System for Server Machines in Data Center,” in International 
Conference on High Performance Computing and Simulation (HPCS), 
2013. 
[21]  L.  Narayanan,  D.  Wang,  A.  Mamun,  A.  Sivasubramaniam,  and  H. 
Fathy. “Should We Dual-Purpose Energy Storage in Datacenters for 
Power  Backup  and  Demand  Response?”  in  Workshop  on  Power-
Aware Computing and Systems (HOTPOWER), 2014. 
[22]  APC  White  Paper:  Comparing  UPS  System  Design  Configurations, 
2008. 
[23]  R.  Lizotte,  Data  Center  VRLA  Battery  End-of-Life  Recycling 
Procedures, APC White Paper #36. 
[24]  J.  Garche,  “Corrosion  of  Lead  and  Lead  Alloys:  Influence  of  the 
Active Mass and of the Polarization Conditions,” in Journal of Power 
Sources, 1995,  53(1), pp. 85-92. 
[25]  K.Constanti, A. Hollenkamp, M. Koop and K. McGregor, “Physical 
Change  in  Positive-Plate  Material  -  an  Underrated  Contributor  to 
Premature Capacity Loss,” in Journal of power sources, 1995, 55(2), 
pp. 269-275. 
[26]  A. Jossen, J. Garche and U. Sauer, “Operation Conditions of Batteries 
in PV Applications,” in Solar Energy, 2004, 76(6),  pp.759-769. 
[27]  V.  Svoboda  et.al.,  “Operating  Conditions  of  Batteries  in  Off-Grid 
Renewable  Energy  Systems,”  in    Solar  Energy,  2007,    81(11),  pp. 
1409-1425. 
[28]  U.  Sauer  et.al.,  “Analysis  of  the  Performance  Parameters  of 
Lead/Acid Batteries in Photovoltaic Systems,” in  Journal of Power 
Sources, 1997, 64(1), pp. 197-201. 
[29]  H. Kim, and K. Shin, “Scheduling of Battery Charge, Discharge, and 
Rest,” in Real-Time Systems Symposium (RTSS), 2009. 
[30]  M.  Nispel,  “Important  Considerations  When  Reducing  The  Run-
Times of VRLA UPS Batteries,” 2011, http://www.battcon.com/. 
[31]  K.  Yabuta,  T.  Matsushita,  and  T.  Tsujikawa,  “Examination  of  the 
Cycle Life of Valve Regulated Lead Acid Batteries,” in International 
Telecommunications Energy Conference (INTELEC), 2007. 
[32]  H.  Bindner,  T.  Cronin,  P.  Lundsager,  J.  Manwell,  U.  Abdulwahid, 
and I. Gould, “Lifetime Modelling of Lead Acid Batteries,” Technical 
Report, Risø National Laboratory, 2005. 
[33]  D.  Wang,  C.  Ren,  and  A.  Sivasubramaniam,  “Virtualizing  Power 
International  Symposium  on 
in  Datacenters,” 
Distribution 
in 
Computer Architecture (ISCA), 2013. 
[34]  http://sine.ni.com/nips/cds/view/p/lang/en/nid/1865 
[35]  http://sine.ni.com/nips/cds/view/p/lang/en/nid/14132 
[36]  http://www.u-rd.com/technical/tech2.html 
[37]  http://www.wti.com/c-34-high-amp-c19-switched-pdu.aspx 
[38]  http://www.ni.com/labview/ 
[39]  S.  Huang,  J.  Huang,  J.  Dai,  T.  Xie,  and  B.  Huang,  “The  HiBench 
Benchmark  Suite:  Characterization  of  the  MapReduce-Based  Data 
Analysis,” in Data Engineering Workshops, International Conference 
on Data Engineering (ICDE), 2010. 
[40]  The CloudSuite 2.0, http://parsa.epfl.ch/cloudsuite. 
[41]  L. Wang and W. Chow, “Solar Radiation Model,” in Applied Energy, 
Vol 69, 2011, pp. 191-224.  
[42]  S.  Govindan,  D.Wang,  L.  Chen,  A.  Sivasubramaniam  and  B. 
Urgaonkar,  “Towards  Realizing  a  Low  Cost  and  Highly  Available 
Datacenter  Power  Infrastructure,”  in  Workshop  on  Power-Aware 
Computing and Systems (HOTPOWER), 2011. 
[43]  S.  McCluer,  “Battery  Technology  for  Data  Centers  and  Network 
Rooms: Lead-Acid Battery Options,” APC White Paper #30. 
[44]  “Lifecycle Costing for Data Centers: Determining the True Costs of 
Data Center Cooling,” White Paper, Emerson Network Power, 2003. 
[45]  A. Acquaviva, A. Aldini, M. Bernardo, A. Bogliolo, E. Bonta and E. 
Lattanzi, “Assessing the Impact of Dynamic Power Management on 
the Funtionality and the Performance of Battery-Powered Appliance,” 
in  International  Conference  on  Dependable  Systems  and  Networks 
(DSN), 2004. 
[46]  L.  Cloth,  M.  Jongerden  and  B.  Haverkort,  “Computing  Battery 
Lifetime  Distributions,” in International Conference on Dependable 
Systems and Networks (DSN), 2007. 
[47]  C.  Ma  and  Y.  Yang,  “A  Battery-Aware  Scheme  for  Routing  in 
Wireless  Ad  Hoc  Networks,”  in  IEEE  Transaction  on  Vehicular 
Technology, 2011, 60(8), pp.3919-3932. 
[48]  T.  Panigrahi,  D.  Panigrahi,  C.  Chiasserini,  S.  Dey,  R.  Rao,  A. 
Raghunathan  and  K.  Lahiri,  “Battery  Life  Estimation  of  Mobile 
Embedded  Systems,”    in  International  Conference  of  VLSI  Design, 
2001. 
[49]  L.  Serrao,  S.Onori,  A.  Sciarretta,  Y.Guezennec,  and  G.  Rizzoni, 
“Optimal Energy Management of Hybrid Electric Vehicles including 
Battery Aging,” in American Control Conference (ACC), 2011. 
[50]  L. Liu, C. Li, H. Sun, Y. Hu, J. Xin, N. Zheng and T. Li, “Leveraging 
Heterogeneous  Power  for  Improving  Datacenter  Efficiency  and 
Resiliency,” in IEEE Computer Architecture Letters (CAL), 2014. 
[51]  L.  Liu,  H.  Sun,  Y.  Hu,  J.  Xin,  N.  Zheng  and  T.  Li,  “Leveraging 
Distributed  UPS  Energy  for  Managing  Solar  Energy  Powered  Data 
centers,”  in  International  Green  Computing  Conference  (IGCC), 
2014. 
[52]  L. Liu, C. Li, H. Sun, Y. Hu, J. Gu, T. Li, J. Xin and N. Zheng, “HEB: 
Deploying  and  Managing  Hybrid  Energy  Buffers  for  Improving 
Datacenter Efficiency and Economy,” in International Symposium on 
Computer Architecture (ISCA), 2015. 
318318