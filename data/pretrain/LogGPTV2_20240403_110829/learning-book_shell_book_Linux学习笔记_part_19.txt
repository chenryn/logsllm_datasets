### CPU 使用情况采样与分析

#### 采样数据
以下是每60秒采样一次，连续采样5次的CPU使用情况数据：

| 时间       | %user | %nice | %system | %iowait | %idle |
|------------|-------|-------|---------|---------|-------|
| 13:45:25   | 0.00  | 98.12 | 0.26    | 0.00    | 0.19  | 0.99  | 0.00  |
| 13:46:25   | 0.00  | 98.56 | 0.32    | 0.00    | 0.23  | 1.39  | 0.00  |
| 平均值     | 0.27  | 0.00  | 0.20    | 1.22    | 0.00  | 98.31 |

这些数据以二进制形式存储在当前目录下的文件 `aixi` 中。

#### 关键指标解释
- **%wio (I/O等待)**: 如果 `%wio` 值过高，表示硬盘存在 I/O 瓶颈。
- **%idle (空闲时间)**: 如果 `%idle` 值高，表示 CPU 较为空闲。如果 `%idle` 值高但系统响应慢，可能是由于 CPU 在等待分配内存，此时应考虑增加内存容量。如果 `%idle` 持续低于 10%，则系统的 CPU 处理能力相对较低，表明系统中最需要解决的资源是 CPU。

#### 查看二进制文件内容
要查看二进制文件 `aixi` 中的内容，可以使用以下 `sar` 命令：
```bash
# sar -f aixi
```
`sar` 命令不仅可以实时采样，还可以查询以往的采样结果。

#### 示例输出
以下是通过 `sadc` 创建的文件并通过 `sar` 命令显示的示例输出：

```bash
[daveefisher dave] sar -f /var/log/sa/sa21 | head -n 20
Linux 2.4.21-20.EL (fisher)
04/21/2005

时间          CPU %user %nice %system %iowait %idle
12:00:00 AM   all  0.23  0.00  0.23    0.02   99.52
12:20:00 AM   all  0.22  0.00  0.20    0.01   99.57
12:30:01 AM   all  0.21  0.00  0.19    0.01   99.66
12:40:00 AM   all  0.23  0.00  0.22    0.02   99.54
12:50:01 AM   all  0.19  0.00  0.28    0.01   99.52
01:00:00 AM   all  0.22  0.00  0.18    0.01   99.59
01:10:00 AM   all  0.40  0.00  0.25    0.02   99.34
01:20:00 AM   all  0.20  0.00  0.25    0.01   99.53
01:30:00 AM   all  0.20  0.00  0.23    0.01   99.56
01:40:00 AM   all  0.22  0.00  0.21    0.02   99.56
01:50:00 AM   all  0.22  0.00  0.20    0.02   99.56
02:00:00 AM   all  0.22  0.00  0.19    0.01   99.58
02:10:00 AM   all  0.23  0.00  0.24    0.02   99.52
02:20:01 AM   all  0.22  0.00  0.25    0.01   99.52
02:30:00 AM   all  0.19  0.00  0.22    0.01   99.56
02:40:00 AM   all  0.22  0.00  0.22    0.01   99.55
02:50:00 AM   all  0.21  0.00  0.21    0.01   99.56
```

#### 多 CPU 系统中的 `sar` 输出
在多 CPU Linux 系统中，`sar` 命令也可以为每个 CPU 分解信息，如以下 `sar -u -P ALL 5 5` 输出所示：

```bash
Linux 2.4.21-20.ELsmp (doughboy)
04/13/2005

时间          CPU %user %nice %system %iowait %idle
10:18:01 AM   all  26.41  0.00  23.46   0.00   50.13
10:18:01 AM   0    23.20  0.00  32.80   0.00   44.00
10:18:01 AM   1    26.60  0.00  20.80   0.00   52.60
10:18:01 AM   2    25.80  0.00  21.00   0.00   53.20
10:18:01 AM   3    30.06  0.00  19.24   0.00   50.70

时间          CPU %user %nice %system %iowait %idle
10:18:06 AM   all  17.70  0.00  24.15   0.00   58.15
10:18:06 AM   0    22.40  0.00  26.40   0.00   51.20
10:18:06 AM   1    15.20  0.00  24.60   0.00   60.20
10:18:06 AM   2    19.00  0.00  20.00   0.00   61.00
10:18:06 AM   3    14.20  0.00  25.60   0.00   60.20

时间          CPU %user %nice %system %iowait %idle
10:18:11 AM   all  13.69  0.00  23.74   0.00   62.52
10:18:11 AM   0    9.00   0.00  27.40   0.00   63.60
10:18:11 AM   1    19.40  0.00  20.40   0.20   60.00
10:18:11 AM   2    13.20  0.00  21.00   0.00   65.80
10:18:11 AM   3    13.17  0.00  26.15   0.00   60.68
```

通过这些数据和分析，可以更好地理解系统的 CPU 使用情况，并采取相应的优化措施。