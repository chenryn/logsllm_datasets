User:  How to use the command line tool to collect statistics on the CPU and memory usage of the server over a period of time?
Assistant: You can use the following command line tools to count the CPU and memory usage of the server over a period of time: 1. top command: You can use the top command to monitor the CPU and memory usage of the system in real time, or you can use the -b option of the top command to output the results to the file, and then use the awk or sed command to extract the required information, and finally make statistics. For example: ``` top -b -d 10 -n 3 > top.txt # Output three times, each interval is 10 seconds, save the result to a file cat top.txt | awk '{if($1 ~ /%Cpu/ ){cpu=$2}else if($1 ~ /MiB/){mem=$8}}END{print "CPU usage: "cpu"%";print "Memory usage: "mem"MB"}' # extract CPU and 2. sar command: the sar command can monitor the system for a long time, you can also use the -W option of the sar command to monitor the memory usage, and use the -P ALL option of the sar command to monitor the CPU Usage. For example: ``` sar -u 10 3 > sar.txt # Record CPU usage every 10 seconds, record three times in total, and save the result to a file sar -r 10 3 >> sar.txt # Record every 10 seconds Memory usage, append the result to the end of the file cat sar.txt | awk '{if(NR == 3){print "CPU usage: "$3"%"}else if(NR == 8){print "Memory usage : "$4"MB"}}' # Extract CPU and memory usage and make statistics``` Among them, the above commands are just examples, and need to be modified and adjusted according to the specific conditions of the server in actual use.