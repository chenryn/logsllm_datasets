数字版权声明
图灵社区的电子书没有采用专有客
户端，您可以在任意设备上，用自
己喜欢的浏览器和PDF阅读器进行
阅读。
但您购买的电子书仅供您个人使
用，未经授权，不得进行传播。
我们愿意相信读者具有这样的良知
和觉悟，与我们共同保护知识产
权。
如果购买者有侵权行为，我们可能
对该用户实施包括但不限于关闭该
帐号等维权措施，并可能追究法律
责任。
图 灵 程 序 设 计 丛 书
权威指南
HTTP
HTTP: The Definitive Guide
[美] David Gourley Brian Totty Marjorie Sayer
Sailu Reddy Anshu Aggarwal 著
陈涓 赵振平 译
Beijing • Cambridge • Farnham • Köln • Sebastopol • Tokyo
O’Reilly Media, Inc.授权人民邮电出版社出版
人 民 邮 电 出 版 社
北 京
（2012.10重印）
内 容 提 要
本书是HTTP及其相关核心Web技术方面的权威著作，主要介绍了Web应用程序是如何
工作的，核心的因特网协议如何与架构构建块交互，如何正确实现因特网客户端和服务器等。
本书适合所有想了解HTTP和Web底层结构的人阅读。
图灵程序设计丛书
HTTP权威指南
◆ 著 [美] David Gourley Brian Totty Marjorie Sayer
Sailu Reddy Anshu Aggarwal
译 陈 涓 赵振平
责任编辑 李 盼
执行编辑 丁晓昀
◆ 人民邮电出版社出版发行 北京市崇文区夕照寺街14号
邮编 100061 电子邮件 PI:EMAIL
网址 http://www.ptpress.com.cn
北京 印刷
◆ 开本：800×1000 1/16
印张：45
字数：1067千字 2012年 10 月第 1 版
印数：5 — 8 000册 2012年 10 月北京第 2 次印刷
著作权合同登记号 图字：01-2011-1852号
ISBN 978-7-115-28148-7
定价：109.00元
读者服务热线：(010)51095186转604 印装质量热线：(010)67129223
反盗版热线：(010)67171154
版权声明
©2002 by O’Reilly Media, Inc.
Simplified Chinese Edition, jointly published by O’Reilly Media, Inc. and Posts &
Telecom Press, 2012. Authorized translation of the English edition, 2012 O’Reilly
Media, Inc., the owner of all rights to publish and sell the same.
All rights reserved including the rights of reproduction in whole or in part in any form.
英文原版由O’Reilly Media, Inc. 出版2002。
简体中文版由人民邮电出版社出版，2012。英文原版的翻译得到 O’Reilly Media,
Inc.的授权。此简体中文版的出版和销售得到出版权和销售权的所有者 —— O’Reilly
Media, Inc.的许可。
版权所有，未得书面许可，本书的任何部分和全部不得以任何形式重制。
III
’ 介绍
O Reilly Media, Inc.
O’Reilly Media通过图书、杂志、在线服务、调查研究和会议等方式传播创新知识。
自1978年开始，O’Reilly一直都是前沿发展的见证者和推动者。超级极客们正在开创
着未来，而我们关注真正重要的技术趋势——通过放大那些“细微的信号”来刺激社
会对新科技的应用。作为技术社区中活跃的参与者，O’Reilly的发展充满了对创新的
倡导、创造和发扬光大。
O’Reilly为软件开发人员带来革命性的“动物书”；创建第一个商业网站（GNN）；组
织了影响深远的开放源代码峰会，以至于开源软件运动以此命名；创立了Make杂志，
从而成为DIY革命的主要先锋；公司一如既往地通过多种形式缔结信息与人的纽带。
O’Reilly的会议和峰会聚集了众多超级极客和高瞻远瞩的商业领袖，共同描绘出开创
新产业的革命性思想。作为技术人士获取信息的选择，O’Reilly现在还将先锋专家的
知识传递给普通的计算机用户。无论是通过书籍出版、在线服务或者面授课程，每一
项O’Reilly的产品都反映了公司不可动摇的理念——信息是激发创新的力量。
业界评论
“O’Reilly Radar博客有口皆碑。”
——Wired
“O’Reilly凭借一系列（真希望当初我也想到了）非凡想法建立了数百万美元的业务。”
——Business 2.0
“O’Reilly Conference是聚集关键思想领袖的绝对典范。”
——CRN
“一本O’Reilly的书就代表一个有用、有前途、需要学习的主题。”
——Irish Times
“Tim是位特立独行的商人，他不光放眼于最长远、最广阔的视野并且切实地按照
Yogi Berra的建议去做了：‘如果你在路上遇到岔路口，走小路（岔路）。’回顾过
去，Tim似乎每一次都选择了小路，而且有几次都是一闪即逝的机会，尽管大路
也不错。”
——Linux Journal
前言
HTTP（Hypertext Transfer Protocol，超文本传输协议①）是在万维网上进行通信时
所使用的协议方案。HTTP有很多应用，但最著名的是用于Web浏览器和Web服
务器之间的双工通信。
HTTP起初是一个简单的协议，因此你可能会认为关于这个协议没有太多好说的。
但现在，你手上拿着的却是一本将近两斤重的书。如果你想知道我们怎么会写出一
本700多页的关于HTTP的书，就去看看目录吧。本书不仅仅是一本HTTP首部参
考手册，它还是一本名副其实的Web架构“圣经”。
本书中，我们会将HTTP中一些互相关联且常被误解的规则梳理清楚，并编写了一系列
基于各种主题的章节介绍HTTP各方面的特性。纵观全书，我们对HTTP“为什么”这
样做进行了详细的解释，而不仅仅停留在它是“怎么做”的。而且，为了节省大家寻找
参考文献的时间，我们还介绍了很多HTTP应用程序正常工作所必需且重要的非HTTP
技术。在条理清晰的附录中，可以找到按照字母排序的首部参考（这些首部构成了最常
见的HTTP文本的基础）。我们希望这种概念性的设计有助于读者更好地使用HTTP。
本书是为所有希望理解HTTP和Web底层结构的人编写的。软硬件工程师也可以将
本书作为HTTP及相关Web技术参考书使用。系统架构师和网络管理员可以通过本
书更好地了解如何设计、实现并管理复杂的网络架构。性能工程师和分析人员可以
从缓存和性能优化的相关章节中获益。市场营销和咨询专家还可以通过概念介绍更
好地理解Web技术的前景。
① HTTP译为“超文本传输协议”，其中“transfer”使用了“传输”的含义，但依据HTTP制定者之一Roy
Fielding博士的论文，“transfer”表示的是“（状态的）转移”，而不是“传输”。怎样翻译才更符合HTTP
的原意，其讨论可参见图灵社区的文章，地址是ituring.com.cn/article/details/1817。
1
本书澄清了一些常见的误解，推荐了“各种业内诀窍”，提供了便捷的参考资料，并
且用通俗易懂的语言阐述了枯燥且令人费解的标准规范，还详细探讨了Web正常工
作所必需且互相关联的技术。
本书创作历时良久，是由很多热衷于因特网技术的人共同完成的，希望它能对你有
所帮助。
运行实例： 的五金商店
Joe
本书的很多章节都涉及了一个假想的在线五金与家装商店示例，通过这个“Joe的
五金商店”来说明一些技术概念。我们为这个商店构建了一个真实的Web站点
（http://www.joes-hardware.com），以便大家能够测试书中的部分实例。只要本书仍
在销售，我们就会一直维护好这个Web站点。
本书内容
本书包含21章，分为5个逻辑部分（每部分都是一个技术专题），以及8个很有用
的附录，这些附录包含了参考资料，以及对相关技术的介绍。
第一部分 HTTP：Web的基础
第二部分 HTTP结构
第三部分 识别、认证与安全
第四部分 实体、编码和国际化
第五部分 内容发布与分发
第六部分 附录
第一部分用4章的篇幅描述了Web的基础构件与HTTP的核心技术。
• 第1章简要介绍了HTTP。
• 第2章详细阐述了统一资源定位符（Uniform Resource Locator，URL）的格式，
以及URL在因特网上命名的各种类型的资源，还介绍了统一资源名（Uniform
Resource Name，URN）的演变过程。
• 第3章详细介绍了HTTP报文是如何传送Web内容的。
• 第4章解释了HTTP连接管理过程中一些经常会引起误解且少有文档说明的规则和
行为。
第二部分重点介绍了Web系统的结构构造块：HTTP服务器、代理、缓存、网关以
及机器人应用程序。（当然，Web浏览器也是一种构造块，但在本书的第一部分已
经对其进行过很详细的介绍了。）第二部分包含以下6章。
2 ｜ 前言
• 第5章简要介绍了Web服务器结构。
• 第6章深入研究了HTTP代理服务器，HTTP代理服务器是作为HTTP服务与控制
平台使用的中间服务器。
• 第7章深入研究了Web缓存的问题。缓存是通过保存常用文档的本地副本来提高
性能、减少流量的设备。
• 第8章探讨了网关和应用服务器的概念，通过它们，HTTP就可以与使用不同协议
（包括SSL加密协议）的软件进行通信了。
• 第9章介绍了Web上的各种客户端类型，包括无处不在的浏览器、机器人和网络
蜘蛛以及搜索引擎。
• 第10章讲述了仍在研究之中的HTTP协议：HTTP-NG协议。
第三部分提供了一套用于追踪身份、增强安全性以及控制内容访问的技术和技巧。
包含下列4章。
• 第11章讨论了一些识别用户的技术，以便向用户提供私人化的内容服务。
• 第12章重点介绍了一些验证用户身份的基本方式。这一章还对HTTP认证机制与
数据库的接口问题进行了研究。
• 第13章详述了摘要认证，它是对HTTP的建议性综合增强措施，可以大幅度提高
其安全性。
• 第14章说明了因特网的密码体系、数字证书以及SSL。
第四部分涵盖HTTP报文主体和Web标准，前者包含实际内容，后者描述并处理主
体内容。第四部分包含以下3章。
• 第15章介绍了HTTP内容的结构。
• 第16章探讨了一些Web标准，通过这些标准，全球范围内的用户都可以交换以不
同语言和字符集表示的内容。
• 第17章解释了一些用于协商可接受内容的机制。
第五部分介绍了发布和传播Web内容的技巧。包括以下4章。
• 第18章讨论了在现代的网站托管环境中布署服务器的方式以及HTTP对虚拟网站
托管的支持。
• 第19章探讨了一些创建Web内容，并将其装载到Web服务器中去的技术。
• 第20章介绍了能够将输入Web流量分散到一组服务器上去的一些工具和技术。
• 第21章介绍了一些日志格式和常见问题。
第六部分是一些很有用的参考附录，以及相关技术的教程。
• 附录A详述了统一资源描述符（Uniform Resource Identifier，URI）方案所支持的协议。
前言 ｜ 3
• 附录B列出了HTTP的响应代码，方便使用。
• 附录C提供了HTTP首部字段的参考列表。
• 附录D列出了大量的MIME类型，解释了MIME类型的注册方式。
• 附录E介绍了HTTP认证中使用的Base-64编码。
• 附录F详述了如何实现HTTP中的各种认证方案。
• 附录G定义了HTTP首部的语言标签值。
• 附录H列出了用以支持国际化HTTP的字符编码。
每章都包含很多实例，以及到其他相关的参考资料的链接。
排版约定
本书使用了下列排版约定。
• 楷体
用于URL、C函数、命令名、MIME类型、新术语的定义以及重点内容。
• 等宽字体
用于计算机的输出、代码以及所有文字文本。
• 加粗等宽字体
用于用户的输入。
意见及问题
请将有关此书的意见及问题发给出版商：
美国：
O’Reilly Media, Inc.
1005 Gravenstein Highway North
Sebastopol, CA 95472
中国：