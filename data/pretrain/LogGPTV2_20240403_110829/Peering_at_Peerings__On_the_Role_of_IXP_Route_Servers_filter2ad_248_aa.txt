title:Peering at Peerings: On the Role of IXP Route Servers
author:Philipp Richter and
Georgios Smaragdakis and
Anja Feldmann and
Nikolaos Chatzis and
Jan B&quot;ottger and
Walter Willinger
Peering at Peerings: On the Role of IXP Route Servers
Philipp Richter
TU Berlin
PI:EMAIL
Georgios Smaragdakis
MIT / TU Berlin
PI:EMAIL
Nikolaos Chatzis
TU Berlin
PI:EMAIL
Jan Boettger
TU Berlin
PI:EMAIL
Anja Feldmann
TU Berlin
PI:EMAIL
Walter Willinger
Niksun
PI:EMAIL
ABSTRACT
During the last few years, more and more of the medium-to-large
Internet eXchange Points (IXP) around the world have started to
operate a route server and offer its use as a free value-added service
to their members. This service has greatly simpliﬁed inter-domain
routing for those members and has made it easy for them to peer
with possibly hundreds of networks at those IXPs from the get-go.
In this paper, we report on an empirical analysis that is based
on a unique collection of IXP-provided datasets from two different
European IXPs that operate a route server and gave us access to a
wealth of route server-speciﬁc BGP data. Both IXPs also made the
trafﬁc datasets that they routinely collect from their public switch-
ing infrastructures available to us. Using this information, we per-
form a ﬁrst-of-its-kind study that correlates a detailed control plane
view with a rich data plane view to reason about the different peer-
ing options available at these IXPs and how some of the major In-
ternet players make use of them. In the process, we highlight the
important role that the IXPs’ route servers play for inter-domain
routing in today’s Internet and demonstrate the beneﬁts of studying
IXP peerings in a manner that is not agnostic but fully aware of
trafﬁc. We conclude with a discussion of some of the ramiﬁcations
of our ﬁndings for both network researchers and operators.
Categories and Subject Descriptors
C.2.3 [Computer-Communication Networks]: Network Opera-
tions—Network Management
Keywords
Internet Exchange Point (IXP); Peering; Routing; BGP.
1.
INTRODUCTION
There are currently some 350+ Internet eXchange Points (IXP)
worldwide, and some of the largest and most successful IXPs have
more than 500-600 members and carry as much trafﬁc as some of
the global Tier-1 ISPs. With membership growth rates of 10-20%
per year and annual trafﬁc growth rates of 50-100%, these IXPs
have emerged as key entities in the Internet infrastructure where a
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for proﬁt or commercial advantage and that copies bear this notice and the full cita-
tion on the ﬁrst page. Copyrights for components of this work owned by others than
ACM must be honored. Abstracting with credit is permitted. To copy otherwise, or re-
publish, to post on servers or to redistribute to lists, requires prior speciﬁc permission
and/or a fee. Request permissions from permissions@acm.org.
IMC ’14, November 05–07 2014, Vancouver, BC, Canada.
Copyright 2014 ACM 978-1-4503-3213-2/14/11 ...$15.00.
http://dx.doi.org/10.1145/2663716.2663757.
vast majority of today’s peering connections are established. This
growing importance of IXPs for the Internet peering ecosystem and
the IXPs’ increasing popularity with the full spectrum of Internet
players have come in full view with recent studies such as [17, 21,
25, 36].
One of the main reasons for this emergence of IXPs as some of
the most densely connected physical components in today’s Inter-
net has been the fact that many of them have started to offer the use
of route servers (RSes)1 as a free value-added service to their mem-
bers. In essence, using an IXP’s RS greatly simpliﬁes routing for
its members – a member AS has to set up just a single BGP session
to connect to possibly hundreds of other member ASes. That is,
most members use an IXP’s RS to establish multi-lateral peerings
(i.e., one-to-many) as compared to bi-lateral peerings (i.e., one-
to-one). However, except for the fact that the peering fabrics of
IXPs with RSes are signiﬁcantly richer than of those that don’t of-
fer a RS, little is known in general about how IXPs operate RSes
or how the members of such IXPs incorporate the use of RSes in
their decision-making process that ultimately determines what sort
of trafﬁc is sent to/received from which of the other IXP members
over what type of peering links.
The main contribution of this paper is an original and in-depth
study of IXP RSes, from their architecture and deployment “in the
wild” to their use by today’s wide spectrum of Internet players.
Our study combines a detailed control plane view of IXP-related
peerings with a corresponding rich data plane view to examine how
IXPs operate their RSes and, at the same time, reason about the
different peering decisions that networks make when they connect
with other networks at today’s IXPs. To perform this analysis, we
rely on our ongoing collaboration with an increasing number of
European IXPs, which provided us access to a unique collection
of datasets. Two of the IXPs operate a RS and gave us access to
RS-speciﬁc BGP data and also made the trafﬁc datasets that they
routinely collect available to us.2
By correlating connectivity-related with trafﬁc-speciﬁc aspects
of peering at the level of individual links as well as routed preﬁxes,
our analysis highlights the important role that the IXPs’ RSes have
started to play with respect to inter-domain routing in today’s Inter-
net. Among the key observations of our study are:
• RSes are key enablers for offering new and complex peer-
ing options to IXP members and also providing open access
to a signiﬁcant portion of Internet routes. At our IXPs, the
1Note, while the term “route server” often refers to a “route collec-
tor/monitor” or “Routeviews server”, we use it exclusively to refer
to an IXP route server [29, 31] as deﬁned in Section 2.2.
2We also have data from a third, small European IXP; however,
since this small IXP does not operate a route server, its data is not
a focus of this paper.
31preﬁxes advertised via the RSes cover some 80-95% of the
trafﬁc and include many popular destinations.
• Due to the popularity of RSes, multi-lateral peering increas-
ingly dominates classical bi-lateral peering in terms of num-
ber of peerings but not in terms of trafﬁc; in fact, the majority
of the trafﬁc at our IXPs traverses bi-lateral peerings. Never-
theless, some of the top trafﬁc contributors at each IXP use
mainly multi-lateral peering.
• RS usage varies across IXPs and IXP members; while we
observe certain patterns of RS usage among IXP members
with similar business types, we illustrate the wide range of
existing peering strategies with a number of case studies in-
volving key Internet players as well as networks with inter-
estingly complex peering setups.
These ﬁndings have ramiﬁcations for a number of recent devel-
opments that involve network operators and researchers alike. In
particular, as many network operators are eagerly experimenting
with and scrutinizing the wealth of peering alternatives that IXPs
provide (e.g., to reduce transit costs, increase performance and ro-
bustness), a number of researchers are either exploring the evo-
lution of the peering ecosystem as a whole or examine ways to
innovate inter-domain routing. We contribute to each of these de-
velopments by providing an in-depth assessment of peering at IXPs
with an emphasis on understanding and highlighting the role of IXP
RSes in these different efforts.
For example, the recently launched Open-IX initiative [11] aims
at establishing European-style IXPs in the USA. Its main objective
is to increase the diversity in available peering options for networks
in the US where the cost associated with the dominant form of in-
terconnection (i.e., private peering or cross connects) is almost six
times as much as in Europe [15], mainly because of limited com-
petitive interconnection options. To understand the current Internet
peering ecosystem and inform studies concerned with its evolution
over time, our work provides a ﬁrst in-depth look into a market-
place (i.e., Europe) where, thanks to the popularity of IXP RSes,
networks have in general an abundance of interconnection options
and have already acquired certain skills in using the available op-
tions strategically in support of their particular business.
At the same time, researchers have recently recognized the im-
portance of the growing popularity of IXPs for trying to fundamen-
tally improving inter-domain routing. In fact, the main premise of
the work on Software Deﬁned eXchanges (SDX) [27] is that IXPs
are ideal venues for deploying new technologies such as Software
Deﬁned Networking (SDN) – only the mechanisms used at the IXP
itself (e.g., RS operation) need to be changed while the rest of the
Internet can remain unchanged. As a ﬁrst account of practical RS
usage “in the wild” that illustrates the innovative use of today’s
RSes for inter-domain routing, our work complements and informs
these recent efforts. In particular, it contributes to the identiﬁca-
tion of new IXP service offerings that are beyond the capabilities
of today’s RSes but can be fully supported when relying on new
technologies such as SDN.
Moreover, for the Internet measurement community, we demon-
strate how our proprietary datasets can be used “for the good of
science”; that is, calibrating the quality of the latest BGP measure-
ments that are becoming publicly obtainable via Looking Glasses
on some IXP RSes. By showing what parts of the ground truth of
the peering fabrics of those IXPs are visible in these publicly avail-
able datasets and observing that the vast majority of the observed
IXP trafﬁc is destined to the RS preﬁxes, we signiﬁcantly increase
the value that these publicly available datasets will have for future
studies by third parties.
The rest of the paper is structured as follows. Section 2 is an
introduction to RS design and operation. In Section 3, we describe
the different sets of control and data plane measurements that are
available to us. We use this data in Section 4 to revisit connectivity-
related issues and rely on it in Section 5 to study usage-related as-
pects of peerings. Moving beyond the traditional link perspective of
peerings, we examine in Section 6 peering opportunities and trafﬁc
at the level of routed preﬁxes. We provide a longitudinal study of
peering at IXPs in Section 7. We then study how different players
implement peering in Section 8. We conclude in Section 9 and 10
with a discussion of trends in Internet peering and related open re-
search problems.
2. TRENDS IN IXP OPERATIONS
IXPs offer a shared switching fabric where the members can ex-
change trafﬁc with one another once they have established peering
connections (public peering) between them. This generic service
provided by IXPs is an example of a (positive) network effect (also
known as network externality [34]) because the more members an
IXP has, the more valuable that IXP is to each member. Especially
in Europe where many IXPs operate on a not-for-proﬁt basis [21],
this observation has led to signiﬁcant innovations at IXPs in the
form of constantly expanding service offerings.
2.1 Background and motivation
An important example of a new IXP service offering has been the
free use of IXP-operated RSes. With more IXPs operating RSes,
the membership base of those IXPs keeps growing and more of
their member ASes start using the RS service. The resulting prolif-
eration of multi-lateral peerings creates new options for the mem-
ber ASes to peer with one another which, in turn, causes them to
reconsider their existing peering arrangements. At the same time,
the ease with which networks can join IXPs and start using them
has led to a trend whereby one and the same AS can be a member
at multiple IXPs, often within the same city or geographic region.
In effect, offering the free use of their RSes has created a posi-
tive feedback loop for those IXPs. With more networks connecting
to such an IXP, more member ASes use its RS and connect with
most or all other members at the RS. This increases connectivity
and typically also trafﬁc, which in turn attracts yet more networks
to join the IXP. Thus, while we are observing an Internet peering
ecosystem in ﬂux, a pre-requisite for studying the current system
to ultimately reason about its evolutionary path is to have a basic
understanding of “all things concerning RSes.” Given the central
role that IXP RSes play in this paper, we describe in this section
the basic operations of an IXP RS and discuss the main reason for
the observed bandwagon effect.
2.2 The IXP RS as enabler
The typical way to establish connectivity between two ASes is
to establish a direct BGP session between two of their respective
border routers. Initially, if two IXP member ASes wanted to ex-
change trafﬁc via the IXP’s switching fabric, they had to establish
a bi-lateral (BL) BGP peering session at the IXP. However, as IXPs
grew in size, to be able to exchange trafﬁc with most or all of the
other member ASes at an IXP and hence reap the beneﬁts of its
own membership, a member’s border router had to maintain more
and more individual BGP sessions. This started to create adminis-
trative overhead, operational burden, and the potential of pushing
some router hardware to its limit.
To simplify routing for its members, IXPs introduced RSes and
offered them as a free value-added service to their members. In
short, an IXP RS is a process that collects routing information from
32RS
(a) Bi-lateral
(b) Multi-lateral using RS
BGP session
trafﬁc
Figure 1: IXP peering options.
the RS’s peers or participants (i.e., IXP members that connect to the
RS), executes its own BGP decision process, and re-advertises the
resulting information (i.e., best route selection) to all of the RS’s
peer routers. Figure 1 shows the ﬂow of control plane information
(BGP sessions) and data packets (data plane) for both traditional
bi-lateral peering as well as peering via the RS at an IXP. The lat-
ter is referred to as multi-lateral (ML) peering because it typically
involves more than two BGP partners.
A member AS just connects to the RS via a single BGP session to
set up BGP peering with all other IXP members that peer with the
RS.3 Clearly, this lowers the maintenance overhead, in particular
for small ASes. Note, however, that using the RS (i.e., ML peer-
ing) does not preclude BL peering by one and the same member
AS. In particular, larger ASes can take advantage of the RS while
still having the option to establish BL peerings with selectively-
chosen IXP members. For example, if a large member AS ﬁnds
the capabilities of the RS to be insufﬁcient for its needs (e.g., with
respect to trafﬁc engineering or ﬁltering) or prefers to have more
control over the peerings with its most important peers, it can use
BL peerings with the latter and ML peerings with those members
that peer with the IXP’s RS.
Note that the IXP RS is not involved in the data path. Moreover,
it executes the BGP decision process based on the information it
learns from its peers. Thus, there is no guarantee that the best route
selected by the RS is the same as the one that the peer would have
selected given a full set of BL peering sessions. In this sense, while
using a RS solves a scalability problem, it has the potential of cre-
ating a new problem known as the hidden path problem [31]. For
example, if different peers of the IXP’s RS advertise routes for the
same preﬁx, only one route will be selected and re-advertised to
all other peers. If this route cannot be propagated to a certain peer
(e.g., because of export ﬁltering restrictions), that peer will not be
able to receive any route for this preﬁx, even though an alterna-
tive path was advertised to the RS by a different peer. While this
hidden path problem was an issue with earlier versions of RS soft-
ware, recent advances have largely overcome the problem, and in
Section 2.4, we describe a popular Internet routing daemon that
addresses this problem by providing support for maintaining peer-
speciﬁc routing tables. We recall that a similar problem also occurs
in the context of large ISPs where route reﬂectors are used to redis-
tribute routes to iBGP peers [20].
2.3 On the deployment history of RSes
The ﬁrst RSes were designed and deployed in the US as part of
the decommissioning of the NSFNET around 1995 [26]. However,
3For redundancy purposes, IXPs typically operate two RSes and
encourage their members to connect to both RSes.
Routing
Arbiter
LINX, AMS−IX, 
DE−CIX and other IXPs
install Quagga RSes
1995
1998
First Installations 
of RSes at IXPs
2005
2008
BIRD project
relaunched supported
by CZ.NIC Labs
LINX,
DE−CIX,
MSK−IX,
ECIX
install
BIRD
2010
LonAP
installs
BIRD
2009
AMS−IX,
CIXP install
BIRD
2012
BIRD is the
most popular
RS daemon
Netflix
is using
BIRD
Figure 2: Route server deployment time line.
the service never took off due to the small size of the largest US
IXPs at that time (i.e., MAE-East’s membership approached some
20 ASes in mid-1990).4
Although some IXPs (e.g., DE-CIX in Frankfurt) offered the use
of a route server as early as mid-1990, it took another 10 years and
the increasing popularity of some European IXPs for the RS con-
cept to re-emerge and gain momentum. In fact, around 2005 an in-
creasing number of European IXPs already offered RS capabilities
to their members. The de-facto RS at that time was Quagga [14].
However, early versions of Quagga suffered from the hidden path
problem and had numerous operational problems (e.g., preﬁx ﬁl-
tering, resource consumption, performance limitations) [30, 32].
Later versions of Quagga and OpenBGPD [12] addressed most of
these problems and started to be deployed around 2008. Difﬁcul-
ties with its maintenance prevented OpenBGPD from being widely
adopted and deployed [38].
In 2008, the BIRD [16] project was relaunched (the initial project
dates back to 1999), and it took just three years for BIRD to become
the most popular IXP route server [4]. Figure 2 shows a time line
when some of the larger IXPs migrated to BIRD. In fact, the suc-
cess of BIRD goes beyond RSes. Since 2013, it is the core routing
component of the Netﬂix Open Connect Appliance [10].
2.4 BIRD: A popular router daemon for RSes
BIRD is an open-source software routing daemon. The project
was launched in 2008. The software was developed by CZ.NIC
Labs and has been actively supported by the IXP community. In
the following, we describe a BIRD conﬁguration that has been ab-
stracted from the Euro-IX RS example [4] and is the basis of the