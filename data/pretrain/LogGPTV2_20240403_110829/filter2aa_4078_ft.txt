一些服务， PCI DSS 要求组织保证服务方也 能遵守 PCI DSS。 换言之 ， 组织不能外包责任。
一些 SaaS 提供商通过云提供安全服务。 例如， BaITacuda Networks 提供基于云的解决方案， 类
似于下一代防火墙和 盯M 设备。 例如， 它们的网络安全服务为 Web 浏览器充当代理。 管理员配置
代理设置以访问基于云的系统， 基于组织的需要进行网页过滤。 类似的 ， 还有基于云的 email 安全
服务， 能够执行入站垃圾邮件和恶意软件过滤。
1 0. 渗透测试
渗透测试是另一种预防性措施， 组织可以用来应对攻击。 渗透测试(通常简称为 pentest)模仿实
际攻击， 尝试确定攻击者会使用|哪些技术绕过应用程序、 系统、 网络或组织的安全性， 可能包括漏
洞扫描、 端 口 扫描、 数据包嗅探、 DoS 攻击和社会工程学技术。
当进行渗透测试时， 安全专家会设法避免中断。 但渗透测试有入侵性， 可能会影响系统的可用
性 。 因此， 安全专家在执行任何测试之前 ， 得到高级管理层批准是非常重要的 。
第 才 7 章 事件预防和响应
注意 :
NIST SP 800-115 "信息安全测试和坪估技术指帘' 中 包括大量的关于测试的信息， 也 包括渗透
测试。 可以从 NIST 专门的 下载网 页 http://csrc.nist.gov/publications/PubsSPs.html 下载。
定期实施渗透测试是评价组织内 部使用的安全控制是否有效的一个好方法。 渗透测试可以揭示
什么区域的补丁或安全设置不够， 哪里的新漏洞被开发出来或己暴露， 以及哪些安全策略是无效的
或无法跟踪。 攻击者可 以利用这些漏洞 。
渗透测试通常包括漏洞扫描或漏洞评估以发现漏洞。 但是， 渗透测试会更进一步， 试 图利用这
些弱点。 例如， 漏洞扫描器会发现有后端数据库的网站没有使用输入验证技术， 容易受到 SQL 注入
攻击。 然后， 渗透测试会使用 SQL 注入攻击访问 整个数据库。 类似地， 漏洞评估可以发现员工没有
接受关于社会工程学攻击的教育， 渗透测试可以使用社会工程学方法访问 安全区域或从员工那里获
取敏感信息。
这里列 出 了 一些关于渗透测试 的 目 标:
• 确定系统对于攻击有多 高的容忍度
• 确定员 工检测和实时响应攻击的能力
• 识别可实施 以降低风险的额外控制
注意 :
渗透测试通常包括社会工程学攻击 、 网络和系统配直检查以及环境漏洞许估。 渗透测试采取漏
洞评估和漏洞扫描 ， 并进一步验证漏洞是否可以利用 。
渗透测试的风险
对于渗透测试， 一个值得注意的危害是有些操作可能会导致中断。 例如， 如果漏洞扫描发现基
于网络的服务器易受缓冲区溢出攻击 ， 渗透测试可以利用该漏洞， 这可能导致服务器关闭或重启 。
理想J情况下， 渗透测试应在造成实际损失之前停止。 遗憾的是， 测试人员往往直到进行某一步
骤时才知道会导致损坏。 例如， 不认真的测试人员会给应用程序或系统发送无效或随机数据来检查
响应， 但直到运行这些数据时 测试者才发现错误。 经验丰富的渗透测试人员能够最大限度地减少测
试造成损害的风险， 但他们不能消除风险。
如果可能的话， 测试人员会在测试系统而不是实时的生产系统上进行渗透测试。 例如， 当测试
一个应用程序时， 测试人员可以在孤立的环境中运行应用程序， 然后在隔离的环境中测试应用程序。
如果测试导致损坏， 那么只会影响测试系统， 不影响实时网络 。 面临的挑战是， 测试系统往往不提
供生产环境的真实视图。 测试人员能够测试系统中不与其他应用程序交互的简单应用程序。 当使用
测试系统时， 渗透测试人员 通常发布一份测试资格声明 ， 该声明 中写明测试是在测试系统中进行的，
所以结果可能无法提供对生产环境的有效分析 。
获得渗透测试权限
经高级管理人员仔细审议和批准后才能进行渗透测试。 许多安全专业人员坚持书面批准， 并写
明风险。 执行未经批准的 安全测试可能导致生产效率损失和触发应急响应。
故意违反 IT 环境安全性的员工将依法受到处罚 。 同样 ， 如果内部员工在没有授权的情况下对系
统进行非正式的测试， 组织可能会将他们的行为视为非法攻击而不是渗透测试。 这些员工很可能会
失去工作 ， 甚至可能面临法律后果 。
51 1
512
CISSP 官方学 习指南(第 7 版)
渗透测试技术
组织聘请外部顾问进行渗透测试的情况很常见。 组织可以控制给这些测试人员提供的信息， 组
织给予的信息的水平决定 了其所要进行的测试类型。
注意 :
第 20 章 "软件开发安全" 叙述了 软件测试背景下的 白 盒测试、 黑盒测试和灰盒测试。 这些术语
往往与渗透测试相 关 并表达相同含义。
零知识团队黑盒测试 除了公开可用 的信息， 如域名和公司地址之外， 零知识团队不知道任何
有关 目标网站的信息。 似乎他们将 目 标看成一个黑色的盒子， 直到检测才知道盒子里是什么 。 零知
识团队的攻击与真正的外部攻击极其类似， 因 为所有有关环境的信息必须从零开始 。
全知识团队白盒测试 全知识团队可以访 问 目 标环境的所有方面。 他们了解所有安装的补丁和
升级类型， 以及所有相关设备的精确配置。 如果 目 标是一个应用程序， 他们将能访问源代码。 全知
识团队进行自盒测试(有时被称为水晶盒或透明盒测试)。 白盒测试通常被认为能够更经济、 有效地
定位漏洞 ， 因 此发现漏洞所需的时间更短。
部分知识团队灰盒测试 对 目标有部分但不全面了解的团队进行灰盒测试。 他们可能会有网络
设计及配置细节方面的相关信息， 以便专注于特定 目 标的攻击和漏洞 。
定期保护渗透测试目 标的安全管理人员可以被认为是全知识团队。 然而， 他们不是执行渗透测
试的最佳选择。 他们往往有盲点， 或在对特定安全问题的理解、 估计和能力上有差距。 如果他们知
道一个漏洞会被利用 ， 很可能就会提出一种控制方法以减少发生的可能性。 全知识团队知道什么是
安全的 ， 所以可能无法依靠虚假的假设去正确地测试每一种可能性。 零知识或部分知识团队不太可
能犯这些错误 。
渗透测试可以采用 自 动攻击工具和套件， 或者手动使用普通的网络工具。 自动攻击工具的范围
包括从专业的漏洞扫描工具和渗透测试工具 ， 到混乱的、 在互联网上发现的地下工具。 一些开源和
商业工具(如 Metasploit 和 Core Impact)是可用 的 ， 安全专业人员和攻击者都使用 这些工具。
渗透测试中经常使用社会工程学技术。 根据测试的 目 标， 测试人员可以使用技术来突破组织的
物理边界或让用户 泄露信息。 这些测试有助于确定有缺点的员工如何被经验丰富的社会工程学攻击
接近， 并且也有助于让他们熟悉怎么 阻止这些攻击类型的安全策略。
⑩ 真实场景
渗透测试中 的社会工程学
下面的例子是在一家银行进行的渗透测试， 但许多 不 同 的组织往往得 出 同 样的结果。 测试人员
被特别询问 了 能否访问 员 工 的 用 户 账户 或用 户 系 统的 问题。
渗透测试人员 设计 了 一封伪造的电子邮件， 使之看起来像是来 自 银行内部人员 。 它描述了一个
网络问题， 并要求所有员 工尽快回 复用 户 名和密码， 以确保他们没有失去访问权限。 超过 40%的 员
工做出 了 回应 。
此外， 测试人员 在几台 USB 设备中安装了 恶意软件并将它们 "丢" 在停车场和银行内部的不同
住直。 一名好心的 员 工看到 了 一个， 并把它捡起插入到一 台计算机上， 想、确 定其所有者。 然而， USB
驱动器却感染了用户的系 统 ， 为 测试者提供 了 远程访 问 权限。
第 1 7 章 事件预防和响应
测试人员 和攻击者经常成功地旬到类似的方法。教育往往是9刻丰这些类型的攻击的最有效方法，
并且渗透测试也常常强调相 关知识教育 的 必要性。
防护报告
渗透测试人员将提供一份记录测试结果的报告 ， 且该报告应被作为敏感信息而被保护 。 该报告
将概述具体的漏洞， 以及这些漏洞将如何被利用 。 它还经常包括对于如何缓解漏洞的建议。 如果测
试结果在组织采纳建议之前落入攻击者手 中 ， 攻击者将利用报告中 的漏洞细节发起攻击。
另外我们还要认识到， 渗透测试团队提出了一个建议， 但这并不代表组织会采纳该建议。 管理
层有选择权， 可 以选择实施建议以减少风险， 但如果他们认为成本太高不值得， 也可以选择接受风
险。 换言之， 去年的报告可能会列出一个没有被修补的漏洞。 这份报告可能就像是昨天刚做完一样，
问 题还没有得到解决 。
道德黑客行为
道德黑客经常被用作渗透测试的另一个名称。 道德黑客指的是了解网络安全并知道如何破解安
全性 ， 却不利用该知识为 自 己谋利的人。 相反， 道德黑客使用这方面的知识帮助组织了 解其漏洞并
采取行动 ， 从而防止恶意攻击。 道德黑客将永远停留在法律允许范围内。
第 14 章 " 控制和监控访问" 中提到了骇客、 黑客和攻击者之间的技术差异。 黑客的原始定义是
指无恶意的科技爱好者， 而骇客和攻击者却是有恶意的。 黑客一词的原意 己逐渐模糊 ， 因为它常常
作为攻击者的 同义词使用 。 换言之， 大多数人认为黑客就是攻击者， 人们觉得道德黑客这个词本身
就有矛盾。 然而 ， 道德黑客使用 黑客的原始含义。
道德黑客将了解并经常 同攻击者使用相同的工具 。 然而， 他们不使用这些工具攻击系统。 相反，
他们使用工具测试系 统漏洞 ， 且只有在组织授予他们 明 确许可时才做测试。
1 7.3 日志、 监控和审 计
日 志、 监控和审计程序有助于组织防止事件发生 ， 并能够在事件发生时做出有效响应。 下面的
章 节将叙述 日 志和监控等 内容， 以及用于评估访 问 控制 的有效性的各种审计方法。
1 7.3. 1 日 志和监控
日 志将事件记录到各种 日 志中 ， 并监控这些事件。 联合、 日 志和监控体系使得组织能够追踪、
记录和审 查活动 ， 提供完全 的可问责性 。
这有助于组织检测可能会对系统机密性、 完整性和可用性产生负面影响的不良事件， 也有助于
在事件发生后重建活动 ， 以确定发生了什么 ， 有时能够为起诉相关负责人员提供证据 。
1 . 日 志技术
日 志、记录是将事件的信息记录到 日 志文件或数据库的过程。 日 志记录捕获的事件、 变更、 信息
通知和其他数据能够描述系统上发生的活动。 日 志通常会记录细节， 如发生了什么事、 在什么时候、
在哪里、 谁做的 ， 有时还记录事件是如何发生的 。 当 需要寻找最近发生的事件时， 系统 日 志是个很
好的开始 。
513
CISSP 官方学习 指南(第 7 版)
例如， 图 1 7.5 显示了微软服务器上的事件查看程序， 一些日志条目 己被选择和扩展 。 此日志条
目 显示一位名为 DalTil 的用户在名为 SQLl 的服务器上删除了位于 C:\CISSP StudyNotes 目 录下的一
个名 为 CISSP Study Note 的文件夹。 它还显示 Darril 在 7 月 1 4 日 上午 1 0:30 删除了该文件。
514