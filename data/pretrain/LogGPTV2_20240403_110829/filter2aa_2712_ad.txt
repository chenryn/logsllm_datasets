2 Open the LDAP directory domain and authenticate as an administrator of the domain.
To open the LDAP directory domain, click the small globe icon above the list of users 
and choose from the pop-up menu.
To authenticate, click the lock icon and enter the name and password of an 
administrator whose password type is Open Directory.
3 Choose Server > New User or click New User in the toolbar.
4 Specify settings for the user in the tabs provided. 
See “Working With Basic Settings for Users” on page 33 through “Working With Print 
Settings for Users” on page 37 for details.
You can also use a preset or an import file to create a new user. For details, see the user 
management guide. 
LL2356.book  Page 31  Thursday, September 4, 2003  3:21 PM
32
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
Creating Windows User Accounts in a Read/Write Directory 
Domain
You can use Workgroup Manager to create Windows user accounts in directory 
domains other than the LDAP directory domain of a server that is a primary domain 
controller. If Mac OS X Server provides Windows services, you can create Windows user 
accounts in the server’s local directory domain. If this server is connected to an LDAP 
directory domain of another server, you can also create Windows user accounts in the 
other server’s LDAP directory domain. The other server’s LDAP directory domain must 
be configured for write access; it must not be read-only.
User accounts in the local directory domain or another server’s LDAP directory domain 
cannot be used for Windows domain login. These user accounts can access other 
services, such as Windows file service, if the server that hosts the service has an 
authentication search policy that includes the directory domain in which the user 
account resides. For example, a Windows user account in the local directory domain of 
a server can access the Windows file service of the same server. For information on 
search policies, see the Open Directory administration guide.
To create a user account in a read/write directory domain:
1 Ensure that the directory services of the Mac OS X Server you’re administering has been 
configured to access the domain of interest.
Mac OS X Server can always access its own local directory domain. Use Directory Access 
to configure access to another server’s LDAP directory domain. See the Open Directory 
administrator’s guide for instructions.
2 In Workgroup Manager, click Accounts, then click the User button.
3 Open the directory domain in which you want to create user accounts, and 
authenticate as an administrator of the domain.
To open a directory domain, click the small globe icon above the list of users and 
choose from the pop-up menu.
To authenticate, click the lock icon and enter the name and password of an 
administrator of the directory domain. Authenticate as an administrator whose 
password type is Open Directory so you can create user accounts whose password type 
is also Open Directory, which is recommended for Windows user accounts.
4 Choose Server > New User or click New User in the toolbar.
5 Specify settings for the user in the tabs provided. 
See “Working With Basic Settings for Users” on page 33 through “Working With Print 
Settings for Users” on page 37 for details.
You can also use a preset or an import file to create a new user. For details, see the user 
management guide. 
LL2356.book  Page 32  Thursday, September 4, 2003  3:21 PM
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
33
Editing Windows User Accounts
You can use Workgroup Manager to change a Windows user account. The account can 
reside on a Mac OS X Server that is the Windows primary domain controller (PDC) or in 
another directory domain.
To make changes to a user account:
1 Ensure that the directory services of the Mac OS X Server you’re using has been 
configured to access the directory domain of interest. 
Mac OS X Server can always access its own local directory domain. A server that is a 
primary domain controller can access its own LDAP directory domain. To configure 
access to another server’s LDAP directory domain, use Directory Access. See the Open 
Directory administrator’s guide for instructions.
2 In Workgroup Manager, click Accounts, then click the User button.
3 Open the directory domain in which you want to edit user accounts, and authenticate 
as an administrator of the domain.
To open a directory domain, click the small globe icon above the list of users and 
choose from the pop-up menu.
To authenticate, click the lock icon and enter the name and password of an 
administrator of the directory domain. Authenticate as an administrator whose 
password type is Open Directory so you can edit user accounts whose password type is 
also Open Directory, which is recommended for Windows user accounts.
4 Select the account you want to edit. 
5 Change settings for the user in the tabs provided. 
See “Working With Basic Settings for Users” (next) through “Working With Print Settings 
for Users” on page 37 for details.
Working With Basic Settings for Users
Basic settings are a collection of attributes that must be defined for all users. You work 
with basic settings in the Basic pane of a Workgroup Manager user account window. 
For detailed instructions on the following tasks, see the chapter on user accounts in the 
user management guide:
• Defining user names
• Defining short names
• Choosing stable short names
• Avoiding duplicate names
• Avoiding duplicate short names
• Defining user IDs
• Defining passwords
• Assigning administrator rights for a server
• Assigning administrator rights for a directory domain
LL2356.book  Page 33  Thursday, September 4, 2003  3:21 PM
34
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
Working With Windows Settings for Users
A user account that can be used to log in to a Windows domain has settings for a 
Windows home directory, a roaming user profile, and a Windows login script. You can 
work with these settings in the Windows pane of a Workgroup Manager user account 
window.
To configure Windows settings for a user account:
1 In Workgroup Manager, open the user account with which you want to work. 
To open an account, click the Accounts button, and then click the small globe icon 
below the toolbar and open the directory domain where the user’s account resides. To 
edit the WIndows settings, click the lock to be authenticated, and then select the user 
in the user list.
2 Click Windows and change the settings as needed.
User Profile Path:  specifies the path to the user’s profile. Leave this blank to use the 
default share point for user profiles, which is /Users/Profiles/ on the PDC server. (This 
SMB share point is not shown in Workgroup Manager.)
To use a different share point for the user profile, enter the path using the universal 
naming convention (UNC) format:
\\servername\sharename\usershortname
where servername is the NetBIOS name of the PDC server or a Windows domain 
member server where you want the user share point stored; sharename is the name of 
the share point on the server; and usershortname is the first short name of the user 
account you’re configuring. You can see the server’s NetBIOS name by opening Server 
Admin, clicking Windows in the Computers & Services list, clicking Settings, clicking 
General, and looking at the Computer Name field.
Login Script:  specifies the relative path to a login script located in /etc/logon on the 
PDC server. For example, if an administrator places a script named setup.bat in 
/etc/logon, the Login Script field should contain “setup.bat”.
Hard Drive:   specifies the drive letter that Windows maps to the user’s home directory. 
If you leave this blank, drive letter H is used.
Path:  specifies the path to the user’s home directory. Leave this blank to use the same 
home directory for Windows login and Mac OS X login, as specified on the Home pane 
of Workgroup Manager. You can also specify this home directory by entering a UNC 
path that doesn’t include a share point:  \\servername\usershortname.
To specify a Windows home directory that is separate from the Mac OS X home 
directory, enter a UNC path that includes an SMB share point:
\\servername\sharepoint\usershortname
LL2356.book  Page 34  Thursday, September 4, 2003  3:21 PM
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
35
You must make sure the specified share point is shared using SMB. Additionally, 
you must create the user’s home directory folder in the share point. The folder you 
create must have the same name as the user’s first short name. (Mac OS X Server 
automatically creates a home directory folder only in the share point specified on the 
Home pane.)
3 Click Save.
See “Setting Up a Home Directory for a Windows User” on page 36 and “Managing 
SMB Share Points” on page 41 for additional information.
Working With Advanced Settings for Users
Advanced settings include Mac OS X login settings, password validation policy, and a 
comment. You work with these settings in the Advanced pane of a Workgroup 
Manager user account window. 
• User Password Type must be Open Directory or Shadow Password for Windows users.
• Settings at the top and bottom of the Advanced pane apply only when the user logs 
in from a Mac OS X computer. The following settings are not used for Windows 
services:  “Allow simultaneous login,” Login Shell, and Keywords.
For detailed instructions on changing advanced settings, see the chapter on user 
accounts in the user management guide.
Providing Secure Authentication for Windows Users
Mac OS X Server offers three secure ways to validate the passwords of Windows users:
• Open Directory Password Server
• Shadow password
• Crypt password with Authentication Manager enabled (a legacy technology)
Open Directory Password Server is the recommended approach. It stores passwords in 
a secure fashion, and it supports many authentication methods. Open Directory 
Password Server lets you implement password policies, and it supports user accounts 
in LDAP directories and legacy NetInfo domains.
A shadow password provides NT and LAN Manager authentication for user accounts 
stored in the local NetInfo domain. A Shadow password can be used to authenticate 
Windows file service provided by Mac OS X Server.
A crypt password with Authentication Manager enabled provides compatibility for 
user accounts on a server that has been upgraded from Mac OS X Server version 10.1. 
After upgrading the server to Mac OS X Server version 10.3, these user accounts should 
be changed to use Open Directory authentication, which is more secure than the 
legacy Authentication Manager. See the Open Directory administration guide for more 
information.
LL2356.book  Page 35  Thursday, September 4, 2003  3:21 PM
36
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
Working With Group Settings for Users
Group settings identify the groups a user is a member of. You work with these settings 
in the Groups pane of a Workgroup Manager user account window. For detailed 
instructions on the following tasks, see the chapter on user accounts in the user 
management guide:
• Defining a user’s primary group
• Adding a user to groups
• Removing a user from a group
• Reviewing a user’s group memberships
Setting Up a Home Directory for a Windows User
A Windows user can have a home directory for use when logging in to a Windows 
domain. Normally, this user can log in to a Mac OS X computer and use the same home 
directory. 
You can create a home directory for a Windows user in any existing share point, or you 
can create the home directory in the /Users folder—a predefined share point. If you 
want to create a home directory in a new share point, create the share point first. See 
“Managing SMB Share Points” on page 41 for instructions.
For general information on home directories, see the chapter on home directories in 
the user management guide.
To create a home directory in an existing share point:
1 Make sure the share point has a mount record configured for home directories.
In Workgroup Manager, click Sharing, click Share Points (on the left), select the share 
point in the list, click Network Mount (on the right), and make sure “Create a mount 
record for this share point” is selected and “For User Home Directories” is also selected. 
To change these settings, you must use the Where pop-up menu to choose the 
directory domain in which the user account resides, click the lock icon, and 
authenticate as an administrator of the directory domain.
2 In Workgroup Manager, open the user account for which you want to create a home 
directory. 
To open an account, click the Accounts button, and then click the small globe icon 
below the toolbar and open the directory domain where the user’s account resides. To 
edit the home directory information, click the lock to be authenticated, and then select 
the user in the user list.
3 Click Home.
4 In the share points list, select /Users or the share point you want to use.
5 Click Create Home Now, and then click Save.
LL2356.book  Page 36  Thursday, September 4, 2003  3:21 PM
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
37
After creating a home directory for a Windows user, make sure the settings in the 
Windows pane are configured correctly. See “Working With Windows Settings for 
Users” on page 34 for instructions. 
Working With Mail Settings for Users
A Windows user can have a Mac OS X Server mail service account. You create a mail 
service account for a user by specifying mail settings for the user in the Mail pane of a 
Workgroup Manager user account window. For detailed instructions on the following 
tasks, see the chapter on user accounts in the user management guide:
• Disabling a user’s mail service
• Enabling mail service account options
• Forwarding a user’s mail
To use a mail service account, the user simply configures a mail client to identify the 
user name, password, mail service, and mail protocol you specify in the Mail pane.
See the mail service administration guide for information about how to set up and 
manage Mac OS X Server mail service.
Working With Print Settings for Users
Print settings associated with a user’s account define the ability of a user to print to 
accessible Mac OS X Server print queues for which print service enforces print quotas. 
The print service administration guide tells you how to set up quota-enforcing print 
queues.
You work with a user’s print quotas in the Print pane of a user account window in 
Workgroup Manager:
• By default, a user has access to none of the print queues that enforce print quotas.
• You can allow a user access to all print queues that enforce quotas. 
• You can let a user print to specific print queues that enforce quotas.
For detailed instructions on working with print settings for users, see the chapter on 
user accounts in the user management guide.
Defining a Guest User
You can set up Windows services and some other services to support anonymous 
users, who don’t have user accounts. These guest users can’t be authenticated because 
they don’t have user names and passwords. You do not have to create a user account 
of any kind to support guest users.
The following services can support guest access:
• Windows file, print, browsing, and name resolution services (for setup information, 
see “Allowing Guest Access for Windows Services” on page 55)
• Apple file service (for setup information, see the file services administration guide)
• FTP service (for setup information, see the file services administration guide)
LL2356.book  Page 37  Thursday, September 4, 2003  3:21 PM
38
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
• Web service (for setup information, see the web technologies administration guide)
Users who connect to a server anonymously are restricted to files, folders, and websites 
with privileges accorded to Everyone. 
Deleting a Windows User Account
You can use Workgroup Manager to delete a user account from a directory domain of 
Mac OS X Server. 
To delete a user account using Workgroup Manager:
1 In Workgroup Manager, click the Accounts button, then click the User button.
2 Open the directory domain that contains the user account you want to delete, and 
authenticate as an administrator of the domain.
To open a directory domain, click the small globe icon above the list of users and 
choose from the pop-up menu.
3 Select the account you want to delete, then choose Server > Delete Selected User. 
Disabling a Windows User Account
To disable a Windows user account, you can
• Deselect the “User can log in” option on the Basic pane in Workgroup Manager.
• For a user account whose password type is Open Directory, set a password policy 
that disables login. For instructions, see the user authentication chapter of the Open 
Directory administration guide.
• Delete the account. For instructions, see the previous task, “Deleting a Windows User 
Account.”
• Change the user’s password to an unknown value. For instructions, see “Working 
With Basic Settings for Users” on page 33.
Managing Groups for Windows Users
A group account offers a simple way to manage a collection of users with similar needs. 
A group account stores the identities of users who belong to the group and other 
information that applies only to Mac OS X users. Although some group information 
doesn’t apply to Windows users, you can add Windows users to groups that you create. 
A group can be assigned special access privileges to files and folders, as described in 
the file services administration guide.
The procedures for managing group accounts are the same for groups whose members 
include Windows users as for groups that contain only Mac OS X users. You use 
Workgroup Manager to administer group accounts. For detailed instructions on the 
following tasks, see the chapter on group accounts in the user management guide:
• Creating group accounts
• Editing group account information
• Adding users to a group
LL2356.book  Page 38  Thursday, September 4, 2003  3:21 PM
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
39
• Removing users from a group
• Naming a group
• Defining a group ID
• Deleting a group account
Working With Group Folder Settings for Windows Groups
If you use the Group Folder pane in Workgroup Manager to set up a folder for 
members of a particular group, the group folder isn’t mounted automatically on 
Windows workstations when group members log in to the Windows domain. If the 
group folder’s share point is shared using SMB, a Windows user can go to My Network 
Places (or Network Neighborhood) and access the contents of the group folder. For 
more information on group folders, see the chapter on group accounts in the user 
management guide.
Managing Windows Workstations in the Windows 
Computers Account
Every Windows computer supported by the Mac OS X Server primary domain controller 
must be part of the Windows Computers account. Adding a computer to a computer 
account creates a computer record for the computer. The computer record identifies 
the Windows computer by its NetBIOS name. The computer record for a Windows 
computer also contains information for authenticating the computer as a trusted 
workstation in the Windows domain. Mac OS X Server creates this information (a UID 
and a GID) for each computer you add to the Windows Computers account.
For general information on computer accounts and adding computers to them, see the 
chapter on computer accounts in the user management guide.
Adding Computers to the Windows Computers Account
A Mac OS X Server PDC automatically adds a Windows computer to the server’s 
Windows Computers account when the computer joins the PDC’s Windows domain, 
but you can also use Workgroup Manager to add computers to the Windows 
Computers account.
To add computers to the Windows Computer list:
1 In Workgroup Manager, click Accounts, then click the Computers button.
2 Open the LDAP directory domain and authenticate as an administrator of the domain.
To open the LDAP directory domain, click the small globe icon above the list of 
computers and choose from the pop-up menu.
To authenticate, click the lock icon and enter the name and password of a directory 
domain administrator.
3 Click List, then select Windows Computers in the list of computer accounts.
LL2356.book  Page 39  Thursday, September 4, 2003  3:21 PM
40
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
4 Click the Add button, enter the computer’s NetBIOS name and an optional description, 
and click Add.
5 Click Save.
6 Continue adding computers until your list is complete.
Removing Computers From the Windows Computers Account
Using Workgroup Manager, you can remove one or more computers from the Windows 
Computers account of a Mac OS X Server primary domain controller (PDC). When you 
delete a computer from the Windows Computers account, the computer can no longer 
be used for logging in to the PDC.
To remove computers from the Windows Computer list:
1 In Workgroup Manager, click Accounts, then click the Computers button.
2 Open the LDAP directory domain and authenticate as an administrator of the domain.
To open the LDAP directory domain, click the small globe icon above the list of 
computers and choose from the pop-up menu.
To authenticate, click the lock icon and enter the name and password of a directory 
domain administrator.
3 Click List, then select Windows Computers in the list of computer accounts.
4 In the List pane, select one or more computers in that account’s computer list.
To select multiple computers, Command-click or Shift-click in the list.
5 Click Remove, then click Save.
Editing Information About a Computer in the Windows 
Computers Account