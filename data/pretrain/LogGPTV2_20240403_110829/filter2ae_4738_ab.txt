重复传入Content-Type  
大小写变换  
设置charset  
Content-Type: multipart/form-data;charset=iso-8859-13  
列举几个  
ibm869  
ibm870  
ibm871  
ibm918  
iso-2022-cn  
iso-2022-jp  
iso-2022-jp-2  
iso-2022-kr  
iso-8859-1  
iso-8859-13  
iso-8859-15  
还有其他的方式，其实和上面的思路差不多
**http头部其他绕过**  
这一块就比较多了，编码，长度等等，都可以试一下，具体的方法和上面的差不多。这里就用参考链接pureqh老哥的几个东西了。  
1.Accept-Encoding 改变编码类型  
Accept-Encoding: gzip  
Accept-Encoding: compress  
Accept-Encoding: deflate  
Accept-Encoding: br  
Accept-Encoding: identity  
Accept-Encoding: *  
下面截取的图片是我本次的，就不弄其他的了，长度那一块，主要是说内容方面相关的。
2.修改请求方式绕过  
post改为get put等其他的请求方式（这一块主要是针对waf的拦截特性）
3.host头部绕过  
对host进行回车，换行  
修改host头部  
host跟链接  
host改为127.0.0.1  
删除host
到这里就差不多了，再来回头理一下我们的思路。借用露迅先生的一句话，你如果啥都不晓得就莽起整，一些都等求于零。所以我们总结一下我们的思路。  
waf的特性大多数是写了很多的规则，基于截取的内容做规则匹配，匹配到了就不放行，未匹配到就认为是安全的放行，所以我们需要做的就是绕过waf对于规则的匹配。大概是这几个方向  
（1）基于正则匹配的绕过（也就是参数污染，正则破坏等上面的方法，打乱waf的检测）  
（2）基于正则匹配的缺失（类似于修改请求等，让waf根本不去检测这部分的内容）  
（3）基于操作系统的特性（类似于后缀名加特殊符号让操作系统进行识别）  
我们做一切的前提都是既绕过了waf，也能让后端识别，所以可以乱来，不要太乱。基本也就是污染，多写，绕过，添加删除几个方向。
**二 迂回打击**
说是迂回打击，但是其实就是利用一些通用的手段，或者中间件的特性去绕过waf，甚至说寻找到了真实ip去直接绕过云waf等方法。这里我就简单总结一些，不全面的话忘体谅。这一块主要是内容相关的了。
**基于http的绕过**  
这种属于硬怼，方法如下：  
1.免杀马  
这种是万能的，只要能免杀就能如履平地，但是现在的waf规则更新太快了，熬了一夜去弄了个免杀，第二天踩了蜜罐上去就被抓，蓝方产品支持加入规则，一点也不美滋滋，但是这也是一条YYDS的道路  
2.分块传输  
说实话这玩意儿我从来没有成功过，但是面试问的挺多的，有一次有个面试官还专门跟我提了这个所以我这里列举一下。但是分块参数+参数污染组合利用貌似效果还是不错  
3.修改长度字段  
和分块参数有点类似，作用是这样，有些时候做参数大数据污染的时候，waf判断数据过长直接丢弃，有些判断长度和内容相差太多也直接丢弃。这时候可以把两者结合起来使用，达到超长数据绕过waf的检测，同时数据送到了后端  
4.修改传输编码  
和分块传输类似，自己手动去改，burp那个插件工具我是一次都没成功过  
5.基于网站系统特性添加字段  
比如ASP专属bypass-devcap-charset，添加这些字段去绕过waf的检测（这也是我看到但是没机会实战，记录一下）  
6.修改头部+内容结合  
修改头部为其他格式，再把内容头加其他格式，例如图片，中间插入恶意代码，类似图片马  
7.增加多个boundary  
这样子打乱了恶意内容，有点类似分开传输，欺骗waf的检测，逃逸后面的代码。  
8.文件名写入文件  
windows下利用多个<<<<去写入文件，详情可以看参考链接。  
还有一些其他的方法，这一种也是类似于对waf欺骗，过着直接利用免杀硬过waf的。jsp免杀不会，就不献丑免杀了。  
**其他绕过**  
这种绕过就是一般适用于云waf了。咋说呢，这种我碰到的不怎么多，因为一般碰到的云waf基本都很强，注入上传类的绕过现在越来越难了，xss还好一点，但是不走钓鱼的话xss也没用太大的用处，毕竟可以一把梭最舒服。来看看吧，检测全球ping就行。  
1.寻找真实ip  
这个方法网上太多了，说下我常用的  
（1）利用ssl证书寻找  
（2）利用子域名寻找  
（3）利用公司其他业务寻找（跑C端看运气，和子域名一样）  
（4）利用信息泄露寻找（github，google，目录文件，js代码等）  
（5）利用一些云网站或者专门查找cdn的网站，链接在家里电脑上，这电脑没有，就自己去找吧  
（6）利用已知工具  
（7）搜索引擎（fofa，夸克等，看以前收集的业务）  
（8）利用http返回信息  
（9）找邮箱弱口令，然后你懂的  
（10）找朋友，你懂的。  
2.利用子域名去打  
有些网站，可能外面做了防护，子域名没加waf，而子域名又在白名单，迂回去锤就行了。  
3.利用头部绕过  
基本碰不到了，修改host为本地ip，现在已经绝迹了，突然想起来写一下。  
4.找设备  
找一些vpn一类的设备碰碰运气  
其他的就不说了吧，头痛。总结下这个思路  
（1）直接寻找waf保护后的目标地址，进行亲身拥抱（绕过waf去打）  
（2）寻找waf后目标的子女子孙亲儿子（被waf加白的一些资产）去挑拨离间。