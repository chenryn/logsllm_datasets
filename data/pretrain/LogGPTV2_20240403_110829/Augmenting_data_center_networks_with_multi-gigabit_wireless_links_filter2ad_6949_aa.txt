title:Augmenting data center networks with multi-gigabit wireless links
author:Daniel Halperin and
Srikanth Kandula and
Jitendra Padhye and
Paramvir Bahl and
David Wetherall
Augmenting Data Center Networks with
Multi-Gigabit Wireless Links
Daniel Halperin∗†, Srikanth Kandula†, Jitendra Padhye†, Paramvir Bahl†, and David Wetherall∗
Microsoft Research† and University of Washington∗
Abstract – The 60 GHz wireless technology that is now emerging
has the potential to provide dense and extremely fast connectivity
at low cost.
In this paper, we explore its use to relieve hotspots
in oversubscribed data center (DC) networks. By experimenting
with prototype equipment, we show that the DC environment is well
suited to a deployment of 60 GHz links contrary to concerns about
interference and link reliability. Using directional antennas, many
wireless links can run concurrently at multi-Gbps rates on top-of-
rack (ToR) switches. The wired DC network can be used to sidestep
several common wireless problems. By analyzing production traces
of DC trafﬁc for four real applications, we show that adding a small
amount of network capacity in the form of wireless ﬂyways to the
wired DC network can improve performance. However, to be of
signiﬁcant value, we ﬁnd that one hop indirect routing is needed.
Informed by our 60 GHz experiments and DC trafﬁc analysis, we
present a design that uses DC trafﬁc levels to select and adds ﬂy-
ways to the wired DC network. Trace-driven evaluations show that
network-limited DC applications with predictable trafﬁc workloads
running on a 1:2 oversubscribed network can be sped up by 45%
in 95% of the cases, with just one wireless device per ToR switch.
With two devices, in 40% of the cases, the performance is identical
to that of a non-oversubscribed network.
Categories and Subject Descriptors
C.2.1 [Computer-Communication Networks]: Network Archi-
tecture and Design—Wireless Communication
General Terms
Design, Experimentation, Measurement, Performance
1.
INTRODUCTION
Millimeter wavelength wireless technology is rapidly being de-
veloped. Spectrum between 57–64 GHz, colloquially known as the
60 GHz band, is available world-wide for unlicensed use. The band
contains over 80 times the bandwidth available for 802.11b/g at
2.4 GHz, and supports devices with multi-Gbps data rates. Further-
more, 60 GHz devices with directional antennas can be deployed
densely, because the signal attenuates rapidly due to the high fre-
quency. The VLSI technology has now matured to the point where
60 GHz radio hardware can be built using CMOS technology, and
companies like SiBeam [26] promise to deliver 60 GHz devices at
less than $10 per unit at OEM quantities. In summary, 60 GHz tech-
nology can lead to dense, high-bandwidth wireless connectivity at
low cost.
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
SIGCOMM’11, August 15–19, 2011, Toronto, Ontario, Canada.
Copyright 2011 ACM 978-1-4503-0797-0/11/08 ...$10.00.
To date, 60 GHz technology has been explored for isolated point-
to-point links. A common scenario is home entertainment, e.g., a
Blu-Ray player that communicates wirelessly with a nearby televi-
sion instead of using bulky HDMI cables.
In this paper, we consider the novel possibility of using 60 GHz
links in a data center (DC), to augment the wired network. This
is a promising approach to explore for several reasons. First, we
note that the machines in a DC are densely packed, so wireless
devices that provide high bandwidth over short ranges are a natu-
ral ﬁt. Second, the radio environment is largely static since peo-
ple and equipment move around infrequently, minimizing ﬂuctua-
tions in wireless link quality. Third, line-of-sight communication is
achievable by mounting 60 GHz radios on top of racks. Finally, the
wired DC network is available as a reliable channel for coordinat-
ing wireless devices, thereby simplifying many traditional wireless
problems such as aligning directional senders and receivers, and
interference avoidance.
Traditional, wired DC networks are tree-structured and oversub-
scribed to keep costs down [15]. For example, a typical DC rack
comprises 40 machines connected to a top-of-the-rack (ToR) switch
with 1 Gbps links. The ToR is connected to an aggregation switch
(to network with other racks) with 10 Gbps links. Thus, the link
from the ToR to the aggregation switch can be oversubscribed with
a ratio of 1:4. However, each oversubscribed link is a potential
hotspot that hinders some DC application. Recent research tack-
les this problem by combining many more links and switches with
variants of multipath routing so that the core of the network is no
longer oversubscribed [1, 8, 9]. Of course, this beneﬁt comes with
large material cost and implementation complexity [15]. Some de-
signs require so many wires that cabling becomes a challenge [1],
and most require “fork lift” [5] upgrades to the entire infrastructure.
In prior work [15], we argued instead for a more modest addi-
tion of links to relieve hotspots and boost application performance.
The links, called ﬂyways, add extra capacity to the base network
to alleviate hotspots. When the trafﬁc matrix is sparse (i.e. only a
few ToR switches are hot), a small number of ﬂyways can signif-
icantly improve performance, without the cost of building a fully
non-oversubscribed network.
The basic design of a DC network with 60 GHz ﬂyways is as
follows. The base wired network is provisioned for the average
case and can be oversubscribed. Each top-of-rack (ToR) switch is
equipped with one or more 60 GHz wireless devices, with electron-
ically steerable directional antennas. A central controller monitors
DC trafﬁc patterns, and switches the beams of the wireless devices
to set up ﬂyways between ToR switches that provide added band-
width as needed.
Other researchers have explored use of ﬁber optic cables and
MEMS switches [7, 30] for creating ﬂyways. We believe that 60 GHz
ﬂyways are an attractive choice because wireless devices simplify
DC upgrades, as no wiring changes are needed. Furthermore, 60 GHz
technology is likely to become inexpensive as it is commoditized by
consumer applications, while optical switches are not. Wireless de-
vices can introduce additional issues as well—for example, with
dynamic topology, the network management may become more
38Figure 1: Narrow-beam (left) and wide-beam (right) horn an-
tennas for 60 GHz. Note the small size.
complicated. However, before cost or management considerations
come into play, we need to ﬁrst understand whether 60 GHz wire-
less will perform well in the DC environment despite the challenges
of interference and reliability. Answering this question is the pri-
mary focus of this paper.
We make three contributions. First, we report experiments with
prototype 60 GHz devices and measurement-based simulations that
show the feasibility of 60 GHz networks in the DC. To our knowl-
edge, we are the ﬁrst to report such results. Second, we show by an-
alyzing four DC trafﬁc traces that real workloads have few hotspots
even when they lack predictable elephant ﬂows. This implies that
ﬂyways can provide substantial beneﬁts to real applications at low
cost. Prior work [7, 30] has used synthetic workloads. Third, we
present the design of a 60 GHz wireless ﬂyway system motivated
by our measurements. It differs from previous work on ﬂyways [7,
30] in its use of indirect routing to obtain good gains from ﬂyways.
A trace-driven evaluation shows that in a 73-rack cluster with a 1:2
oversubscribed network, and just one wireless device per TOR, our
system improves performance of a network-limited DC application
by 45% in 95% of the cases. With two devices per ToR, the perfor-
mance is identical to that of a non-oversubscribed network in 40%
of the cases.
The rest of the paper proceeds as follows. We give background
on 60 GHz in §2. Then, using experiments and simulations, we
show that of 60 GHz data center deployments are feasible (§3). We
then analyze DC trafﬁc traces for different applications to under-
stand what ﬂyway characteristics are needed (§4). We present the
design of our system (§5) followed by evaluation results (§6). We
wrap up with a discussion (§7), related work (§8) and our conclu-
sions (§9).
2. 60 GHz TECHNOLOGY
Recent advances in CMOS technology have reduced the cost of
60 GHz devices signiﬁcantly, leading to commercial interest in in-
door applications. This differs from initial, limited uses of 60 GHz
for outdoor, point-to-point infrastructure [16, 29]. This section
gives a brief primer on the 60 GHz physical layer and ongoing re-
search and standardization efforts.
The nature of 60 GHz radio waves leads to signiﬁcant challenges
for operating high rate links. All other factors being equal, a 60 GHz
link is roughly 55 dB (a factor of 300,000× worse) than a 2.4 GHz
link in terms of the signal-to-noise ratio (SNR) that determines
packet delivery. This is due to three factors. First, the free-space
path loss is higher due to the small 5 mm wavelength (Friis’ law [23]).
Second, the channels are 100 times wider and thus 20 dB nois-
ier [10, 32] to enable high multi-Gbps bit-rates. Third, most com-
mercial equipment uses only 10 mW transmit power (compared to
802.11’s typical 50 mW) in order to meet regulations and energy
budgets. To compensate for these losses, indoor 60 GHz technolo-
gies such as 802.11ad [10] target a short range of 10 meters, and
60 GHz links use highly directional antennas.
Directionality represents the primary novel aspect of 60 GHz tech-
Figure 2: HXI device, paired with a horn antenna.
nology and is the key to enable a dense indoor deployment of 60 GHz
links. With directional antennas, 60 GHz links can support multi-
Gbps rates over distances of several meters [31, 32]. Directional
antenna effectiveness is inversely proportional to the square of the
radio wavelength, and so the short wavelength of 60 GHz leads
to compact antennas. For ﬁxed links, such as long range outdoor
deployments, physically directional antennas (e.g., pyramidal gain
horns such as in Figure 1) are used. For dynamic links, such as in-
door Wireless HDTV [32], phased array antennas are used. Phased
array antennas can rapidly change their directional radiation pattern
electronically, i.e. with no moving parts.
WirelessHD [32] and IEEE 802.11ad/WiGig [10, 31] are the two
main ongoing efforts to standardize the PHY and MAC of the 60 GHz
band. WirelessHD standardizes streaming media trafﬁc in home en-
tertainment systems. It was explicitly not intended for general data
communication [32] and is a poor ﬁt for our goals. IEEE 802.11ad
enhances 802.11 for 60 GHz. It operates like standard Wi-Fi, with
changes to the 802.11 PHY and MAC that support higher data rates
that range from 385 Mbps to 6.76 Gbps. We use 802.11ad as the
starting point for our ﬂyways system.
3. 60 GHz LINKS IN THE DATA CENTER
The goal of this section is to ﬁnd out whether 60 GHz links per-
form well in a DC environment. This primarily means that the links
must offer steady, high throughput, even when deployed in a dense
manner. We ﬁrst measure 60 GHz propagation, link stability, and
spatial reuse using prototype 60 GHz hardware. We then use these
measurements to simulate dense collections of 60 GHz links in the
DC. The results from this section guide our system design (§5).
3.1 Hardware
Our results are based on the device shown in Figure 2, built by
HXI. It provides a full duplex, 60 GHz Gigabit Ethernet data link.
It has a 1000BASE-SX ﬁber interface, and directly modulates the
1.25 Gbps line rate Ethernet protocol onto a 60 GHz carrier wave
using On-Off-Keying (OOK). Rather than use any MAC protocol,
this hardware employs frequency division to support the full duplex
links: a paired set of devices operates on center frequencies that
are 3.7 GHz apart sharing a single antenna per node. An SNMP
management interface to the device provides continuous estimates
of signal quality in the form of RSSI with 0.1 dB resolution.
This device interfaces with a removable antenna using the stan-
dard 60 GHz WR-15 waveguide. We use two physical directional
antennas: a wide-beam horn antenna, marketed as a 10 dBi (60◦)
gain antenna, and a narrow-beam horn antenna, marketed as a 23 dBi
(15◦) gain antenna. Figure 1 shows how small these antennas are.
We measured their radiation patterns in a large, free-space envi-
ronment; unsurprisingly, the actual gain values (Figure 3) differ
slightly from manufacturer claims. We will refer to these two an-
tennas as wide-beam (WB) and narrow-beam (NB), respectively.
The measurement results in this paper use these ﬁxed-beam di-
rectional antennas. However, we envision the use of electronically
steerable phased array antennas that can change their radiation pat-
39)
B
d
(
R
N
S
 45
 40
 35
 30
 25
 20
 15
 10
 5
 0
)
s
p
b
M
(
t
u
p
h
g
u
o
r
h
T
 1000
 800
 600
 400
 200
 0
0
6
12 18 24
0
6
12 18 24
Time (hrs)
Time (hrs)
Figure 5: SNR and TCP are stable for 24 h in a data center.
The results are shown in Figure 4. We see that signal strength
degrades rapidly with distance. The path exponent is 2, reﬂecting
near-perfect Friis free-space propagation. Prior studies show that
line-of-sight links in multi-path environments (waves in the 900–
2400 MHz frequency with omni-directional antennas) have path ex-
ponents between 1.6–1.8 [23]. Thus, we believe that our directional
antennas effectively mitigate the impact of multi-path. In fact, even
at distances of 25 m, the signal variation (likely due to multi-path)
is no more than 3 dB in the atrium and 5 dB in the hallway. This
conclusion is supported by prior 60 GHz measurements [18] that
showed that directionality at just one side of the link greatly re-
duced indoor multi-path effects.
These results show that the Friis model is appropriate for indoor
line-of-sight 60 GHz links when the endpoints use narrow direc-
tional antennas.
3.3 Link stability
The adjective “ﬂaky” is often associated with performance of
wireless links, and is a potential concern for using wireless links
in the DC. However, the performance variability seen in typical
WLAN/Wi-Fi deployments comes from device mobility, environ-
mental movement (people, doors opening and closing), tempera-
ture changes, and interference. The data center offers a stable,
temperature-controlled environment, with infrequent movement of
equipment, people, or doors. With devices mounted on top of racks
and using directional antennas, the impact of these movements is
even less. There is also no external interference in the 60 GHz band
due to high attenuation by atmospheric oxygen and by walls. Thus,
we expect individual links to be extremely stable.
To verify link stability, we set up a 60 GHz link in our data center
using HXI devices with NB antennas. We deployed the devices atop
two racks, facing each other across an aisle. We ran a long-lived
TCP ﬂow (using iperf) for 24 hours across two normal work-
days, measuring throughput and SNR information every second.
During the last ﬁve minutes of the measurement, one of the authors
repeatedly walked under the link.
Figure 5 shows the link SNR and TCP throughput over the 24
hour period. TCP throughput achieves the full 1 Gbps rate, with
almost no variation. In fact, none of the 1 s RSSI samples was off
the average by more than 0.1 dB. The throughput curve shows that
all the end-to-end components, not just the wireless link, are stable
as perceived by the application. Even in the last ﬁve minutes, there
is no variation in the throughput.
To provide a counterpoint, we set up a link with the same hard-
ware, but at 3 feet above the ground. We then walked across it.
Figure 6 shows the resulting variation due to line-of-sight obstruc-
tion.
These results show that in a typical DC, line-of-sight 60 GHz
links set up at rack height provide stable performance.
3.4 Interference (Spatial reuse)
So far, we have studied wireless link properties in isolation. How-
ever, our system will require multiple ﬂyways to be active simulta-
Figure 3: Radiation patterns for our antennas.
)
B
d
(
S
S
R
-65