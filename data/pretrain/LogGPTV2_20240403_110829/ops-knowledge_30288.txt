User: 请解答这个和日志有关的问题Properly setting date on Linux machines I am trying to set the system date on my linux machine. If it matters, it is an Amazon EC2 machine that I provisioned. I tried to set the date with this command:

sudo date -s "19 APR 2018 11:14:00";

However the date does not stay set for long; when I run the following:

sudo date -s "19 APR 2018 11:14:00"; date; date; date; date; date; date

I obtain:

Thu Apr 19 11:14:00 UTC 2018
Thu Apr 19 11:14:00 UTC 2018
Thu Apr 19 11:14:00 UTC 2018
Thu Apr 19 11:14:00 UTC 2018
Thu Apr 19 11:14:00 UTC 2018
Thu Apr 19 11:14:00 UTC 2018
Thu Oct 25 18:37:09 UTC 2018


Is there a background process resetting the date every second or so? What is going on here? How can I fix it?

Thanks in advance!

Assistant: It's being corrected by chrony, at least on my Amazon Linux 2 instance. When I run your command I see this in the journalctl logs:

Oct 26 01:17:19 .. dhclient[2183]: XMT: Solicit on eth0, interval 115280ms.
Apr 19 11:14:00 .. systemd[1]: Time has been changed
Apr 19 11:15:10 .. chronyd[1853]: Backward time jump detected!
Apr 19 11:15:10 .. chronyd[1853]: Can't synchronise: no selectable sources
Apr 19 11:18:23 .. chronyd[1853]: Selected source 45.76.113.31
Apr 19 11:18:23 .. chronyd[1853]: System clock wrong by 16380213.742276 seconds, adjustment started
Apr 19 11:18:24 .. chronyd[1853]: Selected source 169.254.169.123


Eventually chronyd will bring the time back to the correct one. If you want to use the instance with a wrong time you'll have to stop chrony:

[root@ip-172-31-31-74 ~]# systemctl stop chronyd.service 


Hope that helps :)