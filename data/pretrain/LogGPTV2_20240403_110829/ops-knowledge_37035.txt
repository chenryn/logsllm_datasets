User: How to set LDAP-based unified user authentication and access control in Linux system?
Assistant: There are several steps to set LDAP-based unified user authentication and access control in the Linux system: 1. To install the LDAP server, you first need to install the LDAP server on the Linux system, such as OpenLDAP, and you can complete it with the following command: ``` sudo apt- get install slapd ldap-utils ``` 2. Configure the LDAP server To configure the LDAP server, you need to edit the LDAP configuration file, such as the /etc/ldap/ldap.conf file. In this file, you need to set the LDAP server's IP address, port number, basic DN, and authentication mode. 3. To create LDAP users and groups, you need to use LDAP management tools, such as ldapmodify and ldapadd, to create LDAP users and groups. When creating LDAP users and groups, you need to specify corresponding attributes, such as user name, password, UID, and GID. 4. Install PAM and NSS LDAP modules In order to enable the Linux system to support LDAP-based authentication and access control, you need to install PAM and NSS LDAP modules. The installation of PAM and NSS LDAP modules can be completed through the following commands: ``` sudo apt-get install libpam-ldap nscd ``` 5. Configure PAM and NSS LDAP modules After installing PAM and NSS LDAP modules, you need to perform corresponding configuration. For example, in the /etc/pam.d/common-auth file, you need to add the following: ``` auth [success=2 default=ignore] pam_unix.so nullok_secure auth [success=1 default=ignore] pam_ldap.so use_first_pass auth requisite pam_deny.so auth required pam_permit.so ``` In the /etc/nsswitch.conf file, the corresponding configuration needs to be modified as follows: ``` passwd: files ldap group: files ldap shadow: files ldap ``` 6 . Test LDAP authentication and access control After completing the above steps, you can log in to the Linux system with an LDAP account, for example, through ssh. In addition, you can also use the getent command to test the access control of the LDAP account, for example: ``` getent passwd ldapuser1 ``` The above are the steps to set up LDAP-based unified user authentication and access control in the Linux system.