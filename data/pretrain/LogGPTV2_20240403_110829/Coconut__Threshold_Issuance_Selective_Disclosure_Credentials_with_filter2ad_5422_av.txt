The designs outlined in Sections IV-A and IV-B rely on external authorities for issuing credentials. In this section, we present designs that integrate Coconut authorities within the infrastructure of several semi-permissioned blockchains. This approach allows for the issuance of credentials as a byproduct of normal system operations, eliminating the need for additional external authorities. However, it remains an open challenge to embed Coconut into permissionless systems, such as those based on proof-of-work or proof-of-stake. These systems feature a highly dynamic set of nodes maintaining the blockchain state, which cannot be easily mapped to Coconut issuing authorities.

### Integration with Hyperledger Fabric

Integrating Coconut into Hyperledger Fabric, a permissioned blockchain platform, is relatively straightforward. Smart contracts in Fabric run on private sets of computation nodes and use Fabric protocols for cross-contract calls. In this context, Coconut issuing authorities can align with the Fabric smart contract authorities. During contract setup, these authorities perform the necessary setup and key distribution. They then issue partial credentials when authorized by the contract. For issuing Coconut credentials, the only secrets maintained are the private issuing keys; all other operations of the contract can be logged and publicly verified.

Coconut offers significant advantages over traditional CL credentials, which typically rely on a single authority, as currently proposed in the Hyperledger roadmap. The threshold integrity and availability are guaranteed even if a subset of authorities is compromised, thereby preventing forgeries by a single corrupted node.

### Embedding into Sharded Scalable Blockchains

Coconut can also be naturally embedded into sharded scalable blockchains, as exemplified by Chainspace (which supports general smart contracts) and Omniledger (which supports digital tokens). In these systems, transactions are distributed and executed across 'shards' of authorities, whose membership and public keys are known. Coconut authorities can naturally fit into this framework, ensuring that the integrity and availability of the system are maintained even under the corruption of a subset of authorities.

This integration not only enhances the security and robustness of the system but also leverages the existing infrastructure of sharded blockchains, making the deployment of Coconut more seamless and efficient.