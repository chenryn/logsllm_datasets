User: 请解答这个和日志有关的问题unexpected SSH input_userauth_request: invalid user We have a user that suddenly cannot log in via SSH on a Linux box. The error output in /var/log/secure is:

Invalid user foo from xx.xx.xx.xx

input_userauth_request: invalid user foo


Some additional details:


The user has a shell correctly specified in /etc/passwd
The user has a home directory with the correct permissions
We made no changes to sshd_config, verified by the mod date
No changes to user's .bashrc or .bash_profile
The user cannot log in via password or key
I've restarted sshd, and restarted the box
The user's shell history shows no commands that might have caused this problem
Ditto for root (used by only one person)
VERBOSE output for sshd gives no other details
No other user has this problem


I've done an extensive search, and have not found where else to look to identify the problem -- any insights would be greatly appreciated, thanks in advance.

Assistant: A couple things you can check:

If you are using the AllowUsers directive make sure the IP/hostname matches what's defined in sshd_config.

If you are using hostnames instead of IP addresses with the AllowUsers directive verify the hostname reverses properly.