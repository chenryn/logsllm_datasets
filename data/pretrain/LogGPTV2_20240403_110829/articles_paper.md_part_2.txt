toconfirmorrefuteananswerisenough,thereisnoneedtocraft text.
ananswer.Indeed,weonlyreceivedsevenrepliesfromdevelopers
alongthelinesof“done.”
[0K$ ./sapi/cli/php run−tests.php −P ...
Ofthe144answers,118initiallyindicatedthatourextraction -=-=-=-=-=-
wascorrect.Wemanuallyinspectedthe26negativeanswersand Illegal switch 'j ' specified!
-=-=-=-=-=-
foundthatsomestatedthattheproposedextractiondidnotshow Synopsis:
thewholedescriptionofwhythebuildfailed.Thiswasbecausewe
chosetotrimlongchunkstokeepthemailsreadable,andnotafault Figure 3: Log chunk from a different structural category
inourextractionperse.Afteradjustingfortheseanswers,only thanthelogchunkpresentedinTable1.
12answersremainedthatstatedthatourlabeledlogchunkwas
developer-crossvalidation.csv,thebuildidcanbeusedasa
notcorrect.Thisvalidatesourdatasetwithanexternallyvalidated
uniqueidentifiertomatchitwiththeotherdata.
consensuson94.4%oftheextracteddata.
ChunkThatDescribesWhyTheBuildFailed. TheChunkisthe
Discussion. Webelievethatourdevelopersurveyhighlystrength- substringofthebuildlogthatdescribeswhythebuildfailed.This
ensthetrustinthevalidityofthelabeledlogchunks.Thestudy can,forexample,bethefailingtestcaseoracompilererror.In
receivedanswersforabout18%ofthedatainLogChunks.After caseswherethereasonwhythebuildfailediscontainedinalog
manualcorrection,91%ofthereceivedanswersindicatedourla- fileexternaltothemainbuildlog,theChunkincludesonlythefact
beledchunkswereaccurate.Onepossiblethreatregardingthehigh that thebuildfailed,forexample“The command "test/run !"
numberofcorrectanswersisthat,sinceweshowtheerrormessage exited with 1.”InTable1,theChunkdescribesafailingtestin
weextracted, itmightbeoperationallyeasierfor developersto whichthetestedprocesstimedout.
validateit,ratherthansearchforitinalonglogfile.Toalleviate
thisproblem,wemadeitaseasytoconfirmastorejectanextracted SearchKeywords. TheKeywordscontainalistofonetothree
freelychosensearchstringsappearingwithintheChunkorinthe
logchunk.Weonlyaskformoredetails(thecorrectlogchunk)in
areaarounditinthebuildlog.Weselectedkeywordstheauthors
asecondstep.
wouldusetosearchforthelogChunk,aswefoundthemrepeat-
Oneofour12incorrectextractionsonlyshowedawarningand
edlynexttofailuredescribingchunkswhileanalyzingabout800
thedeveloperproposedtoalsoincludethelinestatingthatwarnings
buildlogsmanually.SomekeywordsfromLogChunksare“Error”,
aretreatedaserrors.Inothers,welabeledtheerrormessageofan
“=DIFF=”,“ERR!”,orthekeywordsshowninTable1.
errorthatwaslaterignored.
StructuralCategory. Foreachrepository,weassignstructural
categoriestotheChunks.Thestructuralcategorycompareshow
3 DATASCHEMA
Chunksarerepresentedwithinthebuildlog.Buildtoolshighlight
Thissectionpresentstheinternalstructureanddataschemaof
theirerrormessageswithmarkings,e.g.startingeachlinewith
LogChunks.Inprinciple,LogChunkscomprisesautomaticallyre-
“ERROR”orsurroundingspecialcharacters.Twochunksfallinto
trievedandmanuallylabeledandcross-validatedlogs.
thesamestructuralcategoriesiftheyaresurroundedbythesame
LogChunkscomprisesinformationon797buildlogs,whichare
markings.Listing2presentsalogchunkfromthesamecategory
organizedinfoldersforeachlanguageandrepository.Foreach
asthelogchunkfromTable1.Incomparisontothat,Listing3
repository,LogChunkshasabout10Examples.Everyrepository
presentsalogchunkwhichisformatteddifferentlywithinthelog
foldercontainsthefulllogfilesforthebuildstatus‘failed’inplain
file.Foreachrepository,thestructuralcategoriesarerepresented
text.
asintegers,startingat0andincreasedwiththenextappearing
Thefolderbuild-failure-reasoncontainsthemanuallyla-
categoryinchronologicalbuildorder.
beleddataofLogChunks,oneXMLfileforeachrepository:
@.xml.Table1givesan
4 POTENTIALUSECASES
overviewofthedatawithintheseXMLfilesontheexampleof
LogChunkscanbethebasisforarangeoffurtherstudies:
one build from php@php-src. The remainder of this section de-
fines in more detail the data embedded in the XML files, that BenchmarkingBuildLogAnalysisTechniques. LogChunksorigi-
is, the labeled log chunk, search keywords and structural cate- natedfromthefirstauthor’sMaster’sThesisinwhichshecompared
gories. Data from the developer validation study is in the file threedifferentlogchunkretrievaltechniques.LogChunkscanbe
MSR’20,October5–6,2020,Seoul,RepublicofKorea Brandt,etal.
Data Description Unit Example
Log Relativepathtotheinputbuildlog UniquePath C/php@php-src/failed/529279089.log
Chunk Logchunkthatdescribeswhythebuildfailed String 001+ ** ERROR: process timed out **
001- OK.
========DONE========
FAIL Bug #60120 (proc_open hangs)
Keywords Keywordstheauthorswouldusetosearchforandfind ListofStrings ERROR, FAIL, DIFF
thelogchunk
Category Categorizationofthestructuralrepresentationofthe Integer 0
logchunkwithinthebuildlog
Table1:Exemplary,completedataexcerptfromLogChunksforafailedbuildinphp@php-src.
abenchmarktoevaluateotherbuildloganalysistechniques.For roletoLogHubinitsarea:empowerresearchwithabenchmarkto
example,onecanusethedatasettoinvestigatehowreliablythe comparedifferentbuildloganalysistechniques.
diff-basedapproachofAmaretal.[1]retrievesbuildfailurereasons.
6 FUTUREEXTENSIONSTOLOGCHUNKS
SupportBuildLogClassificationAlgorithms. Variousresearchers
examinewhyCIbuildsfailandusebuildlogsasadatasource[14, Inthissection,wedescribecurrentlimitationsandfutureimprove-
20].Theytypicallywritecustomparsersandclassifierstocatego- mentsofLogChunksandextensionsweareplanning.
rizebuildsaccordingtowhyabuildfailed.Themanuallylabeled
chunkcanhelpresearcherslocatethesourcefortheirclassification ChunkasOneConsecutiveSubstring. TheChunkcontainsonly
onecontinuoussubstringofthelogtext.Thereasonabuildfailed
algorithmsandcross-validatetheirdata.
couldbedescribedatmultiplelocationswithinthelog.Wepropose
ResearchonBuildLogs. ThedatafromLogChunkscansupport toextendLogChunkstocontainmultiplesubstringsofthelogtext.
researcharoundthetopicofbuildlogssuchashowdevelopersuse
keywordstoretrieveinformationaboutbuildfailuresfromlogsor IncludeMoreRepositoriesandLogs. LogChunksencompassesa
howtheydiscussfailuresofCIbuildswithinpullrequests[5]. rangeofrepositoriesfromvariousmaindevelopmentlanguages,
thoughonly10logsfromeachrepository.Includingmorelogsand
Automatic Processing of Build Results. LogChunks enables re- repositorieswillstrengthenLogChunksasthego-tobenchmark.
searchers to train algorithms that retrieve build failure descrip-
tionsfrombuildlogs.Itcanprovidethebasisforfurtherautomatic ClassificationoftheBuildFailureCause. Ourdatasetcontains
on-wardprocessingoftheretrievedlogchunks. nofurtherclassificationaccordingtothecauseofthefailure,such
as due to tests, compilation or linter errors. As researchers are
5 RELATEDDATASETS investigatingwhyCIbuildsfail,ausefulextensionistoannotate
causeofthebuildfailureforeachlog.
ThissectionpresentsexistingdatasetsofCIbuildlogsandhow
LogChunksdiffersfromthem.
OtherInformationChunks. Buildloganalysisisnotlimitedtothe
chunkthatdescribeswhyabuildfailed.LogChunkscanbeextended
5.1 TravisTorrent withlabelsforallinformationthatiscontainedinthebuildlog,
TravisTorrent[3]collectsabroadrangeofmetadataaboutTravisCI suchasdescriptionsofwarnings,buildinfrastructureandmore.
builds.ItcombinesdataaccessiblethroughthepublicTravisCIand
GitHubAPIsandthroughGHTorrent[9].SimilartoLogChunks, ValidationofSearchKeywords. ThekeywordsLogChunkspro-
amongthemetadataarethefailingtestcases.However,TravisTor- videsarebasedontheexperienceoftheauthorsgainedfromana-
rentobtainedthesethroughamanuallydevelopedparser,which lyzingaround800buildlogs.Next,weproposetoevaluatewhether
onlysupportsspecificRubytestrunnersandJavaMavenorJUnit thesekeywordswouldalsobeusedbydeveloperstofindthelog
logs.Anecdotally,manyofthefailingtestsareatleastincomplete chunkdescribingwhyabuildfailed.
andlackvalidation.Bycontrast,LogChunksprovidesmanuallyla-
beledandtwo-foldcross-validateddataofwhybuildsfailed,not 7 SUMMARY
onlyforfailingtestslikeTravisTorrent,butforallpossiblebuild-
Inthispaper,weintroduceLogChunks,across-validateddataset
failingerrors.
encompassing797buildlogsfrom80projectsusingTravisCI.For
eachlog,weannotatedthelogchunkdescribingwhythebuild
5.2 LogHub failedandprovidedkeywordsadeveloperwouldusetosearchfor
LogHub[21]isacollectionofawiderangeofsystemlogdatasets. thelogchunkaswellasacategorizationofthelogchunksaccording
Itisthebasisforvariousstudiesthatcomparedifferentapproaches totheirformatwithinthelog.LogChunksadvancestheresearch
toparseunstructuredsystemlogmessagesintostructureddatafor fieldofbuildloganalysisbyintroducingabenchmarktorigorously
furtheranalysis.LogChunksissituatedinadifferentarea,buildlog examineresearchcontributions[15]andopeningvariousresearch
analysis,whichtendtobesemi-structured,andcouldplayasimilar possibilitiesthatpreviouslyrequiredtediousmanualclassification.
LogChunks:ADataSetforBuildLogAnalysis MSR’20,October5–6,2020,Seoul,RepublicofKorea
REFERENCES [12] LouisGMichaelIV,JamesDonohue,JamesCDavis,DongyoonLee,andFrancisco
[1] AnunayAmarandPeterCRigby.2019.MiningHistoricalTestLogstoPredict Servant.2019.RegexesAreHard:Decision-Making,Difficulties,andRisksinPro-
BugsandLocalizeFaultsintheTestLogs.InProceedingsofthe41stInternational grammingRegularExpressions.InProceedingsofthe34thIEEE/ACMInternational
ConferenceonSoftwareEngineering(ICSE).IEEE,140–151. ConferenceonAutomatedSoftwareEngineering(ASE).
[2] MoritzBeller,GeorgiosGousios,andAndyZaidman.2017.Oops,MyTestsBroke [13] AdeMiller.2008. AHundredDaysofContinuousIntegration.InAgile2008
theBuild:AnExplorativeAnalysisofTravisCIwithGitHub.InProceedingsofthe Conference.IEEE,289–293.
14thIEEE/ACMInternationalConferenceonMiningSoftwareRepositories(MSR). [14] HyunminSeo,CaitlinSadowski,SebastianElbaum,EdwardAftandilian,and
IEEE,356–367. RobertBowdidge.2014.Programmers’BuildErrors:ACaseStudy(AtGoogle).
[3] MoritzBeller,GeorgiosGousios,andAndyZaidman.2017.TravisTorrent:Synthe- InProceedingsofthe36thInternationalConferenceonSoftwareEngineering(ICSE).
sizingTravisCIandGitHubforFull-StackResearchonContinuousIntegration. ACM,724–734.
InProceedingsofthe14thIEEE/ACMInternationalConferenceonMiningSoftware [15] SusanElliottSim,SteveEasterbrook,andRichardCHolt.2003.UsingBenchmark-
Repositories(MSR).IEEE,447–450. ingtoAdvanceResearch:AChallengetoSoftwareEngineering.InProceedings
[4] CarolinBrandt,AnnibalePanichella,andMoritzBeller.2020.LogChunks:AData ofthe25thInternationalConferenceonSoftwareEngineering(ICSE).IEEE,74–83.
SetforBuildLogAnalysis. https://doi.org/10.5281/zenodo.3632351 [16] EdwardSmith,RobertLoftin,EmersonMurphy-Hill,ChristianBird,andThomas
[5] NathanCassee,BogdanVasilescu,andAlexanderSerebrenik.2019.TheSilent Zimmermann.2013. Improvingdeveloperparticipationratesinsurveys.In
Helper:TheImpactofContinuousIntegrationonCodeReviews.InProceedings 20136thInternationalWorkshoponCooperativeandHumanAspectsofSoftware
Engineering(CHASE).IEEE,89–92.
ofthe27thIEEEInternationalConferenceonSoftwareAnalysis,Evolutionand
Reengineering(SANER).IEEEComputerSociety. [17] DanielStåhlandJanBosch.2014. ModelingContinuousIntegrationPractice
[6] Travis CI. 2019. Travis Build Status. https://docs.travis-ci.com/user/job- DifferencesinIndustrySoftwareDevelopment.JournalofSystemsandSoftware
lifecycle/#breaking-the-build. Accessed:2019-11-18. 87(2014),48–59.
[7] JohnDowns,BerylPlimmer,andJohnGHosking.2012.AmbientAwarenessof [18] BogdanVasilescu,YueYu,HuaiminWang,PremkumarDevanbu,andVladimir
BuildStatusinCollocatedSoftwareTeams.InProceedingsofthe34thInternational Filkov.2015.QualityandProductivityOutcomesRelatingtoContinuousIntegra-
ConferenceonSoftwareEngineering(ICSE).IEEE,507–517. tioninGitHub.InProceedingsofthe10thJointMeetingonFoundationsofSoftware
[8] PaulMDuvall,SteveMatyas,andAndrewGlover.2007.ContinuousIntegration: Engineering.ACM,805–816.
ImprovingSoftwareQualityandReducingRisk.PearsonEducation. [19] CarmineVassallo,SebastianProksch,TimothyZemp,andHaraldCGall.2018.
[9] GeorgiosGousios.2013.TheGhtorrentDatasetandToolSuite.InProceedingsof Un-BreakMyBuild:AssistingDeveloperswithBuildRepairHints.InProceedings
the10thIEEEWorkingConferenceonMiningSoftwareRepositories(MSR).IEEE, ofthe26thIEEEInternationalConferenceonProgramComprehension(ICPC).ACM,
233–236. 41–51.
[10] MichaelHilton,TimothyTunnell,KaiHuang,DarkoMarinov,andDannyDig. [20] CarmineVassallo,GeraldSchermann,FiorellaZampetti,DanieleRomano,Philipp
2016. Usage,Costs,andBenefitsofContinuousIntegrationinOpen-Source Leitner,AndyZaidman,MassimilianoDiPenta,andSebastianoPanichella.2017.
Projects.InProceedingsofthe31stInternationalConferenceonAutomatedSoftware ATaleofCIBuildFailures:AnOpenSourceandaFinancialOrganizationPer-
Engineering(ASE).ACM,426–437. spective.InProceedingsofthe33thIEEEInternationalConferenceonSoftware
[11] EiriniKalliamvakou,GeorgiosGousios,KellyBlincoe,LeifSinger,DanielM MaintenanceandEvolution(ICSME).IEEE,183–193.
German,andDanielaDamian.2016. AnIn-DepthStudyofthePromisesand [21] JiemingZhu,ShilinHe,JinyangLiu,PinjiaHe,QiXie,ZibinZheng,andMichaelR
PerilsofMiningGitHub.EmpiricalSoftwareEngineering21,5(2016),2035–2071. Lyu.2019. ToolsandBenchmarksforAutomatedLogParsing.InProceedings
ofthe41stIEEE/ACMInternationalConferenceonSoftwareEngineering:Software
EngineeringinPractice(ICSE-SEIP).IEEE,121–130.