title:The effect of packet loss on redundancy elimination in cellular wireless
networks
author:Cristian Lumezanu and
Katherine Guo and
Neil Spring and
Bobby Bhattacharjee
The Effect of Packet Loss on Redundancy Elimination in
Cellular Wireless Networks
Cristian Lumezanu
Georgia Tech
PI:EMAIL
Katherine Guo
Alcatel-Lucent Bell Laboratories
PI:EMAIL
Neil Spring
University of Maryland
PI:EMAIL
Bobby Bhattacharjee
University of Maryland
PI:EMAIL
ABSTRACT
Network-level redundancy elimination (RE) algorithms re-
duce traﬃc volume on bandwidth-constrained network paths
by avoiding the transmission of repeated byte sequences.
Previous work shows that RE can suppress the transmis-
sion of 20-50% bytes when deployed at ISP access links or
between routers. In this paper, we focus on the challenges
of deploying RE in cellular networks. The potential beneﬁt
is substantial, since cellular networks have a growing sub-
scriber base and network links, including wired backhaul,
are often oversubscribed. Using three large traces captured
at two North American and one European wireless network
providers, we show that RE can reduce the bandwidth con-
sumption of the majority of mobile users by at least 10%.
However, cellular links have much higher packet loss rates
than their wired counterparts, which makes applying RE
much more diﬃcult. Our experiments also show that the
loss of only a few packets can disrupt RE and eliminate
the bandwidth savings. We propose informed marking, a
lightweight scheme that detects lost packets and prevents
RE algorithms from using them for future encodings. We
implement RE with informed marking and deploy it in a
real-world cellular network. Our results show that with in-
formed marking, more than 60% of the bandwidth savings
of RE are preserved, even when packet loss rates are high.
Categories and Subject Descriptors
C.2.1 [Computer-communication networks]: Network
architecture and design; C.2.3 [Computer-communication
networks]: Network operations; C.4 [Performance of sys-
tems]: Performance attributes
General Terms
Performance, design, measurement
Keywords
cellular networks, redundancy elimination, loss
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
IMC’10, November 1–3, 2010, Melbourne, Australia.
Copyright 2010 ACM 978-1-4503-0057-5/10/11 ...$10.00.
1.
INTRODUCTION
Cellular wireless networks are increasingly becoming a
ubiquitous medium for Internet access. Cellular devices are
set to overtake PCs as the most common Web access devices
worldwide [9]. The increasing subscriber base and increas-
ingly rich applications strain the capacity of both the cellular
wireless links and the wired backhaul network that connects
cell towers to the Internet.
Network-level redundancy elimination (RE) [19, 20, 5]
has emerged as an eﬃcient way to reduce traﬃc volume on
bandwidth-constrained network paths. Redundancy elimi-
nation algorithms rely on deploying a cache at each end of
the network path. For each packet traversing the path, the
ingress node ﬁnds common sequences of bytes within pack-
ets that were previously sent (and stored in its cache) and
replaces them with ﬁxed-size pointers to the cache. At the
egress, packets are decoded by replacing encoded content
with data from the cache. Previous work found that RE
can suppress the transmission of 20-50% bytes at ISP access
links [20, 4]. More recent work has shown that RE is feasible
even as an end system service, when the only redundancy to
be eliminated is that within (not across) pairs of hosts [2].
Cellular network links are clear candidates for the deploy-
ment of redundancy elimination: they are bandwidth con-
strained [18, 6] and are likely to remain so for several years.
Because RE is successful as an end-system service [2], RE
may provide savings on the constrained wireless link, not
just in the infrastructure shared by many users. Yet, apply-
ing RE to cellular networks is not straightforward:
loss in
the radio network can cause the two caches to become un-
synchronized and hinder the decoding of repeated content.
In this paper, we study the feasibility of network-level re-
dundancy elimination in high-loss environments such as cel-
lular wireless networks. Using packet-level simulation driven
by three large cellular traces and live experimentation on a
North American CDMA 1x-EvDO network, we show that
even the loss of a few packets can eliminate the bandwidth
savings obtained with RE. To alleviate the harm caused by
packet loss on RE, we propose informed marking, a simple
mechanism to detect lost packets and prevent RE from using
them in future encodings. Compared with RE in a lossless
environment, RE with informed marking is able to preserve
more than 60% of the bandwidth savings in a real network
with high loss rates (above 10%).
Our contributions are as follows: First, we present a mea-
surement study on the eﬀectiveness of redundancy elimi-
nation in cellular wireless networks using three real-world
294PDN
Gateway
INTERNET
RNC
RNC
RADIO ACCESS
NETWORK
Figure 1: Simpliﬁed 3G/4G wide-area wireless net-
work architecture.
packet traces gathered at wireless service providers in North
America and Europe. Our analysis shows that most mobile
users can save bandwidth with RE; some reduce their traﬃc
volume by as much as 50%. Second, we observe that the high
packet loss rates in cellular networks can pose problems for
RE. We use simulations and live experimentation to under-
stand how severe these problems are and show that even a
few losses eliminate the beneﬁt of RE. This is the ﬁrst study
on the eﬀect of loss on redundancy elimination. Finally, we
propose and evaluate informed marking, a lightweight mech-
anism that helps RE recover most of the bandwidth savings
lost because of packet losses.
2. BACKGROUND
In this section, we describe the general architecture of cel-
lular wireless networks, discuss existing RE techniques, and
present the challenges that RE techniques face on cellular
wireless links.
2.1 Cellular Wireless Networks
A cellular wireless network consists of a radio access net-
work (RAN) that attaches to the Internet using a packet
data network (PDN) gateway. We show a simpliﬁed ex-
ample in Figure 1. We omit details and focus only on the
path packets take from mobile station (MS) to the Internet.
PDN gateways aggregate data from multiple radio network
controllers (RNC) that receive mobile traﬃc over the air us-
ing base stations and wireless antennas. Data packets sent
or received over the RAN are tunneled between the mobile
devices and the PDN gateway.
The primary bandwidth bottleneck in wireless networks
is in the airlink between the mobile users and the RNC [11].
WSPs have two solutions to keep the bandwidth demand be-
low the available capacity: increase capacity or reduce traﬃc
volume. Although 4G technologies, such as LTE, promise to
increase the peak rates in the radio network to 100 Mbps,
their deployment is expensive and will likely take several
years, at which point they may remain bottlenecks.
2.2 Redundancy Elimination Overview
Network-level redundancy elimination (RE) is an eﬃcient
way of reducing traﬃc volume on bandwidth-constrained
network paths. RE algorithms rely on deploying a packet
cache at each end of a network path. The main idea is to
compress outgoing packets by replacing sequences of bytes
that have appeared in earlier packets with ﬁxed-size point-
ers to the cached version of those packets. At the other end,
packets are decoded by following the pointers and replac-
ing encoded content with data from the cache. To function
correctly and eﬃciently network-level RE requires the two
caches to be synchronized.
RE works because network traﬃc contains a signiﬁcant
amount of repeated content. Spring et al.
[20] found be-
tween 20% and 50% redundancy in traﬃc collected at an
enterprise access link. More recently, Anand et al. [4] con-
ﬁrm these results by analyzing traﬃc from 11 enterprise
networks. They also discover that most bandwidth savings
come from repeated sequences of bytes within each user’s
traﬃc: a feature we exploit to deploy RE endpoints on cel-
lular wireless clients.
Many commercial systems [16, 13, 14, 12] use RE in WAN
optimization middleboxes placed on ISP access links. Re-
cently, the EndRE system [2] proposed to push RE capa-
bilities to end hosts. Neither middleboxes nor EndRE are
suitable for cellular wireless networks. Although eﬃcient for
core Internet traﬃc, middleboxes cannot reduce traﬃc vol-
ume on last mile access links such as the radio access network
for mobile users. On the other hand, EndRE can compress
last mile traﬃc and, because it runs above the transport
layer, is immune to losses in TCP traﬃc. However, poten-
tial packet loss will make it less eﬀective for data streams
that do not require reliable delivery (e.g., UDP). Further,
to eﬀectively reduce traﬃc, EndRE must be installed on all
servers that mobile users connect to. With the rapid increase
in mobile users and applications, the destinations of mobile
traﬃc become more diverse and application popularity be-
comes more dynamic. This makes the complete deployment
of EndRE a diﬃcult task. Even a partial deployment on
popular servers is not trivial as it requires dynamic moni-
toring of server popularity.
2.3 RE over Cellular Wireless Links
To eﬃciently reduce the volume of traﬃc over the radio
network, we must perform RE between each mobile user
and the PDN gateway. This requires installing one cache on
the mobile device and the other on the gateway. However,
high packet loss rates in the radio network can create incon-
sistencies between caches and prevent RE from functioning
correctly. A packet that enters the sender’s cache, but is
subsequently lost, will appear (to the sender) to be useful
packet for encoding; if it does, the receiver will not be able
to decode any subsequent packet that refers to the lost one.
How high can loss rates in wireless networks be? To an-
swer this question, we connected a stationary laptop to the
Internet through a CDMA 1xEV-DO USB wireless card and
ran an experiment to measure the loss rates that TCP may
experience. We used wget to download the front page of each
of the 500 most popular web servers [3] and tcpdump to cap-
ture all network traﬃc (both uplink and downlink) during
the downloads. We have chosen popular, well connected des-
tinations to minimize the probability of losses on the wired
section of the path. We compute the retransmission rate
during the experiment. Because TCP may retransmit pack-
ets that are not necessarily lost, the retransmission rate can
be viewed as an upper bound for the packet loss rate.
We present the results in Figure 2. We show, in log scale,
the number of packets sent and retransmitted during every
1 minute interval for 100 minutes. The retransmission rate
tends to oscillate between 0.001 and 0.10, with peaks of over
0.30. In Section 3.4, we analyze the eﬀect of loss rates on
the bandwidth savings obtained with RE and show that even
small loss rates can aﬀect the correctness of RE.
295s
t
e
k
c
a
p
f
o
#
 10000
 1000
 100
 10
 1
 0
retransmitted
total
 20
 60
 40
time (x 1 min)
 80
 100
Figure 2: Number of total and retransmitted pack-
ets measured in a CDMA wireless network while
downloading the front page of 500 most popular
web sites (Total packets do not include retransmit-
ted packets).
WSPs have made eﬀorts to reduce the packet loss rate in
their networks. This is mainly because high loss rates over
the air interface also aﬀect the performance of TCP, which
interprets lost packets as a sign of congestion. Link layer
retransmission protocols (such as RLP in CDMA [17] and
RLC in UMTS [1]) ensure a link layer loss rate well below 1%
[7]. However, when an IP packet is segmented into multiple
link layer frames smaller than the maximum IP packet size,
the IP loss rate is higher than link layer loss rate [10].
Existing RE schemes address loss by retransmitting the
lost packets uncompressed. This may be suﬃcient in wired
networks, where packet losses are few, and simply relying
on retransmissions is enough. In wireless networks, however,
this is not eﬃcient: the large number of retransmissions may
consume the bandwidth saved with RE, as we show in Sec-
tion 3.
3. NORMAL REDUNDANCY ELIMINATION
IN A LOSSY ENVIRONMENT
In this section, we analyze three cellular wireless traﬃc
data sets and show that many mobile users can reduce their
traﬃc volume with RE. We also show, using simulations and
live experiments, that lost packets can signiﬁcantly degrade
the performance of RE.
3.1 Data Sets
We analyze three network traces, collected using tcpdump,
at PDN gateways in two North American and one European
3G wireless service provider (WSP) networks. Table 1 shows
the properties of each trace. Because we study the eﬀects
of RE for individual mobile users, we select the top k users
that have sent or received the largest amount of traﬃc in
each trace. We set k to 2,000 for WSP-1 and to 100 for
WSP-2 and WSP-3. This ensures that the top k users are
responsible for more than 80% of the traﬃc we capture in
each network.
3.2 RE Algorithm Basics
We use the RE algorithm developed by Spring et al. [20]
(commonly known as modp). For each packet, modp iden-
tiﬁes content present in earlier packets by generating a list
of ﬁngerprints [15] associated with the packet. A ﬁngerprint
is a hash over a continuous sequence of bytes of length w.
It is impractical to store all ﬁngerprints that can be gener-
ated by a packet, since each byte in the packet generates a
new ﬁngerprint. Instead, modp chooses a fraction 1/p, and
stores only the ﬁngerprints with value 0 mod p. This allows
when
duration
technology
top users (k)
volume
distribution:
- TCP
- UDP
- ESP
- others
direction:
- downlink
- uplink
avg packet size:
- downlink
- uplink
avg loss rate:
- downlink
- uplink
08/2008
WSP-1 WSP-2 WSP-3
10/2007
05/2009
30 min
CDMA
2,000
0.5 GB
5 min
UMTS
1.6 GB
0.8 GB
100
1 hr
UMTS
100
59%
36%
1%
4%
62%
38%