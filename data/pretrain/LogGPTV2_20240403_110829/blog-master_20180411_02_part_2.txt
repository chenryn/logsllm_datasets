dbo.sysindexes  dbo.sysobjects  dbo.systables   dbo.systypes    dbo.sysusers      
pg_catalog.accesshistoryrow                                   pg_catalog.pg_description_o_c_o_index                         pg_catalog.pg_shdepend_reference_index  
pg_catalog.breakpoint                                         pg_catalog.pg_enum                                            pg_catalog.pg_shdescription  
pg_catalog.cpu_stats                                          pg_catalog.pg_enum_oid_index                                  pg_catalog.pg_shdescription_o_c_index  
pg_catalog.edb_all_resource_groups                            pg_catalog.pg_enum_typid_label_index                          pg_catalog.pg_shseclabel  
pg_catalog.edb_dblink                                         pg_catalog.pg_enum_typid_sortorder_index                      pg_catalog.pg_shseclabel_object_index  
pg_catalog.edb_dir                                            pg_catalog.pg_event_trigger                                   pg_catalog.pg_stat_activity  
pg_catalog.edb_dir_name_index                                 pg_catalog.pg_event_trigger_evtname_index                     pg_catalog.pg_stat_all_indexes  
pg_catalog.edb_dir_oid_index                                  pg_catalog.pg_event_trigger_oid_index                         pg_catalog.pg_stat_all_tables  
pg_catalog.edb_icache_server_list                             pg_catalog.pg_extension                                       pg_catalog.pg_stat_archiver  
pg_catalog.edb_package                                        pg_catalog.pg_extension_name_index                            pg_catalog.pg_stat_bgwriter  
pg_catalog.edb_password_history                               pg_catalog.pg_extension_oid_index                             pg_catalog.pg_stat_database  
pg_catalog.edb_password_history_role_password_index           pg_catalog.pg_file_settings                                   pg_catalog.pg_stat_database_conflicts  
pg_catalog.edb_password_history_role_passwordsetat_index      pg_catalog.pg_foreign_data_wrapper                            pg_catalog.pg_statio_all_indexes  
pg_catalog.edb_pkgelements                                    pg_catalog.pg_foreign_data_wrapper_name_index                 pg_catalog.pg_statio_all_sequences  
pg_catalog.edb_policy                                         pg_catalog.pg_foreign_data_wrapper_oid_index                  pg_catalog.pg_statio_all_tables  
pg_catalog.edb_policy_object_name_index                       pg_catalog.pg_foreign_server                                  pg_catalog.pg_statio_sys_indexes  
pg_catalog.edb_policy_oid_index                               pg_catalog.pg_foreign_server_name_index                       pg_catalog.pg_statio_sys_sequences  
pg_catalog.edb_profile                                        pg_catalog.pg_foreign_server_oid_index                        pg_catalog.pg_statio_sys_tables  
pg_catalog.edb_profile_name_index                             pg_catalog.pg_foreign_table                                   pg_catalog.pg_statio_user_indexes  
pg_catalog.edb_profile_oid_index                              pg_catalog.pg_foreign_table_relid_index                       pg_catalog.pg_statio_user_sequences  
pg_catalog.edb_profile_password_verify_function_index         pg_catalog.pg_function                                        pg_catalog.pg_statio_user_tables  
pg_catalog.edb_queue                                          pg_catalog.pg_group                                           pg_catalog.pg_statistic  
pg_catalog.edb_queue_callback                                 pg_catalog.pg_hba_file_rules                                  pg_catalog.pg_statistic_ext  
pg_catalog.edb_queue_callback_oid_index                       pg_catalog.pg_icu_collate_names                               pg_catalog.pg_statistic_ext_name_index  
pg_catalog.edb_queue_callback_qid_owner_callbackaction_index  pg_catalog.pg_index                                           pg_catalog.pg_statistic_ext_oid_index  
pg_catalog.edb_queue_name_nsp_index                           pg_catalog.pg_indexes                                         pg_catalog.pg_statistic_ext_relid_index  
pg_catalog.edb_queue_oid_index                                pg_catalog.pg_index_indexrelid_index                          pg_catalog.pg_statistic_relid_att_inh_index  
pg_catalog.edb_queue_relid_index                              pg_catalog.pg_index_indrelid_index                            pg_catalog.pg_stat_progress_vacuum  
pg_catalog.edb_queue_table                                    pg_catalog.pg_inherits                                        pg_catalog.pg_stat_replication  
pg_catalog.edb_queue_table_name_nsp_index                     pg_catalog.pg_inherits_parent_index                           pg_catalog.pg_stats  
pg_catalog.edb_queue_table_oid_index                          pg_catalog.pg_inherits_relid_seqno_index                      pg_catalog.pg_stat_ssl  
pg_catalog.edb_queue_table_relid_index                        pg_catalog.pg_init_privs                                      pg_catalog.pg_stat_subscription  
pg_catalog.edb_resource_group                                 pg_catalog.pg_init_privs_o_c_o_index                          pg_catalog.pg_stat_sys_indexes  
pg_catalog.edb_resource_group_name_index                      pg_catalog.pg_language                                        pg_catalog.pg_stat_sys_tables  
pg_catalog.edb_resource_group_oid_index                       pg_catalog.pg_language_name_index                             pg_catalog.pg_stat_user_functions  
pg_catalog.edb_variable                                       pg_catalog.pg_language_oid_index                              pg_catalog.pg_stat_user_indexes  
pg_catalog.frame                                              pg_catalog.pg_largeobject                                     pg_catalog.pg_stat_user_tables  
pg_catalog.pg_aggregate                                       pg_catalog.pg_largeobject_loid_pn_index                       pg_catalog.pg_stat_wal_receiver  
pg_catalog.pg_aggregate_fnoid_index                           pg_catalog.pg_largeobject_metadata                            pg_catalog.pg_stat_xact_all_tables  
pg_catalog.pg_am                                              pg_catalog.pg_largeobject_metadata_oid_index                  pg_catalog.pg_stat_xact_sys_tables  
pg_catalog.pg_am_name_index                                   pg_catalog.pg_locks                                           pg_catalog.pg_stat_xact_user_functions  
pg_catalog.pg_am_oid_index                                    pg_catalog.pg_matviews                                        pg_catalog.pg_stat_xact_user_tables  
pg_catalog.pg_amop                                            pg_catalog.pg_namespace                                       pg_catalog.pg_subscription  
pg_catalog.pg_amop_fam_strat_index                            pg_catalog.pg_namespace_nspname_index                         pg_catalog.pg_subscription_oid_index  
pg_catalog.pg_amop_oid_index                                  pg_catalog.pg_namespace_oid_index                             pg_catalog.pg_subscription_rel  
pg_catalog.pg_amop_opr_fam_index                              pg_catalog.pg_opclass                                         pg_catalog.pg_subscription_rel_srrelid_srsubid_index  
pg_catalog.pg_amproc                                          pg_catalog.pg_opclass_am_name_nsp_index                       pg_catalog.pg_subscription_subname_index  
pg_catalog.pg_amproc_fam_proc_index                           pg_catalog.pg_opclass_oid_index                               pg_catalog.pg_synonym  
pg_catalog.pg_amproc_oid_index                                pg_catalog.pg_operator                                        pg_catalog.pg_synonym_oid_index  
pg_catalog.pg_attrdef                                         pg_catalog.pg_operator_oid_index                              pg_catalog.pg_synonym_synname_nspoid_index  
pg_catalog.pg_attrdef_adrelid_adnum_index                     pg_catalog.pg_operator_oprname_l_r_n_index                    pg_catalog.pg_tables  
pg_catalog.pg_attrdef_oid_index                               pg_catalog.pg_opfamily                                        pg_catalog.pg_tablespace  
pg_catalog.pg_attribute                                       pg_catalog.pg_opfamily_am_name_nsp_index                      pg_catalog.pg_tablespace_oid_index  
pg_catalog.pg_attribute_relid_attnam_index                    pg_catalog.pg_opfamily_oid_index                              pg_catalog.pg_tablespace_spcname_index  
pg_catalog.pg_attribute_relid_attnum_index                    pg_catalog.pg_partitioned_table                               pg_catalog.pg_timezone_abbrevs  
pg_catalog.pg_authid                                          pg_catalog.pg_partitioned_table_partrelid_index               pg_catalog.pg_timezone_names  
pg_catalog.pg_authid_oid_index                                pg_catalog.pg_pltemplate                                      pg_catalog.pg_transform  
pg_catalog.pg_authid_rolname_index                            pg_catalog.pg_pltemplate_name_index                           pg_catalog.pg_transform_oid_index  
pg_catalog.pg_authid_rolprofile_index                         pg_catalog.pg_policies                                        pg_catalog.pg_transform_type_lang_index  
pg_catalog.pg_auth_members                                    pg_catalog.pg_policy                                          pg_catalog.pg_trigger  
pg_catalog.pg_auth_members_member_role_index                  pg_catalog.pg_policy_oid_index                                pg_catalog.pg_trigger_oid_index  
pg_catalog.pg_auth_members_role_member_index                  pg_catalog.pg_policy_polrelid_polname_index                   pg_catalog.pg_trigger_tgconstraint_index  
pg_catalog.pg_available_extensions                            pg_catalog.pg_prepared_statements                             pg_catalog.pg_trigger_tgrelid_tgname_index  
pg_catalog.pg_available_extension_versions                    pg_catalog.pg_prepared_xacts                                  pg_catalog.pg_ts_config  
pg_catalog.pg_cast                                            pg_catalog.pg_proc                                            pg_catalog.pg_ts_config_cfgname_index  
pg_catalog.pg_cast_oid_index                                  pg_catalog.pg_procedure                                       pg_catalog.pg_ts_config_map  
pg_catalog.pg_cast_source_target_index                        pg_catalog.pg_proc_oid_index                                  pg_catalog.pg_ts_config_map_index  
pg_catalog.pg_class                                           pg_catalog.pg_proc_proname_args_nsp_index                     pg_catalog.pg_ts_config_oid_index  
pg_catalog.pg_class_oid_index                                 pg_catalog.pg_publication                                     pg_catalog.pg_ts_dict  
pg_catalog.pg_class_relname_nsp_index                         pg_catalog.pg_publication_oid_index                           pg_catalog.pg_ts_dict_dictname_index  
pg_catalog.pg_class_tblspc_relfilenode_index                  pg_catalog.pg_publication_pubname_index                       pg_catalog.pg_ts_dict_oid_index  
pg_catalog.pg_collation                                       pg_catalog.pg_publication_rel                                 pg_catalog.pg_ts_parser  
pg_catalog.pg_collation_name_enc_nsp_index                    pg_catalog.pg_publication_rel_oid_index                       pg_catalog.pg_ts_parser_oid_index  
pg_catalog.pg_collation_oid_index                             pg_catalog.pg_publication_rel_prrelid_prpubid_index           pg_catalog.pg_ts_parser_prsname_index  
pg_catalog.pg_config                                          pg_catalog.pg_publication_tables                              pg_catalog.pg_ts_template  
pg_catalog.pg_constraint                                      pg_catalog.pg_range                                           pg_catalog.pg_ts_template_oid_index  
pg_catalog.pg_constraint_conname_nsp_index                    pg_catalog.pg_range_rngtypid_index                            pg_catalog.pg_ts_template_tmplname_index  
pg_catalog.pg_constraint_conrelid_index                       pg_catalog.pg_replication_origin                              pg_catalog.pg_type  
pg_catalog.pg_constraint_contypid_index                       pg_catalog.pg_replication_origin_roiident_index               pg_catalog.pg_type_oid_index  
pg_catalog.pg_constraint_oid_index                            pg_catalog.pg_replication_origin_roname_index                 pg_catalog.pg_type_typname_nsp_index  
pg_catalog.pg_conversion                                      pg_catalog.pg_replication_origin_status                       pg_catalog.pg_user  
pg_catalog.pg_conversion_default_index                        pg_catalog.pg_replication_slots                               pg_catalog.pg_user_mapping  
pg_catalog.pg_conversion_name_nsp_index                       pg_catalog.pg_rewrite                                         pg_catalog.pg_user_mapping_oid_index  
pg_catalog.pg_conversion_oid_index                            pg_catalog.pg_rewrite_oid_index                               pg_catalog.pg_user_mappings  
pg_catalog.pg_cursors                                         pg_catalog.pg_rewrite_rel_rulename_index                      pg_catalog.pg_user_mapping_user_server_index  
pg_catalog.pg_database                                        pg_catalog.pg_roles                                           pg_catalog.pg_variable_oid_index  
pg_catalog.pg_database_datname_index                          pg_catalog.pg_rules                                           pg_catalog.pg_variable_varname_pkg_index  
pg_catalog.pg_database_oid_index                              pg_catalog.pg_seclabel                                        pg_catalog.pg_views  
pg_catalog.pg_db_role_setting                                 pg_catalog.pg_seclabel_object_index                           pg_catalog.process_info  
pg_catalog.pg_db_role_setting_databaseid_rol_index            pg_catalog.pg_seclabels                                       pg_catalog.proxyinfo  
pg_catalog.pg_default_acl                                     pg_catalog.pg_sequence                                        pg_catalog.session_wait_history  
pg_catalog.pg_default_acl_oid_index                           pg_catalog.pg_sequences                                       pg_catalog.session_waits  
pg_catalog.pg_default_acl_role_nsp_obj_index                  pg_catalog.pg_sequence_seqrelid_index                         pg_catalog.stats_record  
pg_catalog.pg_depend                                          pg_catalog.pg_settings                                        pg_catalog.system_waits  
pg_catalog.pg_depend_depender_index                           pg_catalog.pg_shadow                                          pg_catalog.targetinfo  
pg_catalog.pg_depend_reference_index                          pg_catalog.pg_shdepend                                        pg_catalog.var  
pg_catalog.pg_description                                     pg_catalog.pg_shdepend_depender_index    
```  
Oracle 兼容模式：  
```  
set db_dialect = 'redwood';  
```  
PostgreSQL 兼容模式：  
```  
set db_dialect = 'postgres';  
```  
7、optimizer_mode  
Oracle 优化器，根据客户端的想法来对SQL进行优化。比如客户端是否想先接收10条记录，还是想接受所有记录等。  
PostgreSQL 优化器，则通过cursor_tuple_fraction参数来告诉优化器同样的事情，不过它更加弹性，因为是一个0-1的比例值。  
src/backend/optimizer/plan/planner.c  
https://www.postgresql.org/docs/9.0/static/runtime-config-query.html  
```  
postgres=# show cursor_tuple_fraction  ;  
 cursor_tuple_fraction   
-----------------------  
 0.1  
(1 row)  
```  
Oracle 兼容模式：  
```  
set optimizer_mode=choose;  
#optimizer_mode = choose                # Oracle-style optimizer hints.  
                                        # choose, all_rows, first_rows,  
                                        # first_rows_10, first_rows_100,  
                                        # first_rows_1000  
```  
Table 2-2 - Optimizer Modes  
Hint | Description  
---|---  
ALL_ROWS|Optimizes for retrieval of all rows of the result set.  
CHOOSE|Does no default optimization based on assumed number of rows to be retrieved from the result set. This is the default.  
FIRST_ROWS|Optimizes for retrieval of only the first row of the result set.  
FIRST_ROWS_10|Optimizes for retrieval of the first 10 rows of the results set.  
FIRST_ROWS_100|Optimizes for retrieval of the first 100 rows of the result set.  
FIRST_ROWS_1000|Optimizes for retrieval of the first 1000 rows of the result set.  
PostgreSQL 兼容模式：  
```  
set optimizer_mode=choose;  
```  
8、edb_early_lock_release  
```  
#edb_early_lock_release = off           # release locks for prepared statements  
                                        # when the portal is closed  
```  
在使用prepared statement时，当portal关闭，是否释放锁。  
设置为ON时，与Oracle兼容，portal关闭即释放。  
设置为OFF时，与目前的PG版本兼容，等COMMIT时释放。  
Oracle 兼容模式：  
```  
set edb_early_lock_release=on;  
```  
PostgreSQL 兼容模式：  
```  
set edb_early_lock_release=off;  
```  
9、datestyle  
默认日期格式  
Oracle 兼容模式：  
```  
postgres=# set datestyle = 'redwood,show_time';  
SET  
postgres=# select now();  
               now                  
----------------------------------  
 11-APR-18 23:42:53.840558 +08:00  
(1 row)  
```  
PostgreSQL 兼容模式：  
```  
#datestyle = 'iso, ymd'                 # PostgreSQL default for your locale  
postgres=# set datestyle = 'iso, ymd';  
SET  
postgres=# select now();  
              now                
-------------------------------  
 2018-04-11 23:43:05.554233+08  
(1 row)  
```  
10、行号  
Oracle兼容模式：  
```  
default_with_oids = on  
default_with_rowids = on  
```  
```
开启rowids后，会新增OID列，同时设置为UNIQUE，创建唯一索引。
没必要的话就不要用了。OID是UNIT32，也就也为这这个表最多只能存放40亿条记录。同时增加了存储空间，索引开销。
postgres=# set default_with_rowids =on;
SET
postgres=# create table b(id int);
CREATE TABLE
postgres=# \d+ b
                                     Table "public.b"
 Column |  Type   | Collation | Nullable | Default | Storage | Stats target | Description 
--------+---------+-----------+----------+---------+---------+--------------+-------------
 id     | integer |           |          |         | plain   |              | 
Indexes:
    "pg_oid_32035_index" UNIQUE, btree (oid)
Has OIDs: yes
postgres=# insert into b select generate_series(1,10);
INSERT 0 10
postgres=# select oid,rownum,* from b;
  oid  | rownum | id 
-------+--------+----
 32039 |      1 |  1
 32040 |      2 |  2
 32041 |      3 |  3
 32042 |      4 |  4
 32043 |      5 |  5
 32044 |      6 |  6
 32045 |      7 |  7
 32046 |      8 |  8
 32047 |      9 |  9
 32048 |     10 | 10
(10 rows)
postgres=# update b set id=2 where id=1;
UPDATE 1
ROWNUM与数据库的AM扫描方法相关，与扫描顺序一致。如果是SEQSCAN则与CTID顺序一致，如果是INDEX SCAN则与INDEX返回顺序一致。
postgres=# create index idx_b on b(id);
CREATE INDEX
postgres=# explain select oid,rownum,*,ctid from b order by id;
                       QUERY PLAN                        
---------------------------------------------------------
 Sort  (cost=1.27..1.29 rows=10 width=22)
   Sort Key: id
   ->  Seq Scan on b  (cost=0.00..1.10 rows=10 width=22)
(3 rows)
由于使用了SEQSCAN，SEQ按BLOCK, ITEM OFFSET顺序扫描，所以ROWNUM与CTID(blockid, itemoffset)的顺序一致
postgres=# select oid,rownum,*,ctid from b order by id;
  oid  | rownum | id |  ctid  
-------+--------+----+--------
 32040 |      1 |  2 | (0,2)
 32039 |     10 |  2 | (0,11)
 32041 |      2 |  3 | (0,3)
 32042 |      3 |  4 | (0,4)
 32043 |      4 |  5 | (0,5)
 32044 |      5 |  6 | (0,6)
 32045 |      6 |  7 | (0,7)
 32046 |      7 |  8 | (0,8)
 32047 |      8 |  9 | (0,9)
 32048 |      9 | 10 | (0,10)
(10 rows)
postgres=# set enable_seqscan=off;
SET
postgres=# explain select oid,rownum,*,ctid from b order by id;
                           QUERY PLAN                            
-----------------------------------------------------------------