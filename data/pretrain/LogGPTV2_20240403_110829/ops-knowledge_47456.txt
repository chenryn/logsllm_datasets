User: Please provide a Prometheus-based system performance monitoring configuration plan.
Assistant: The following is a system performance monitoring configuration scheme based on Prometheus: 1. Deploy the Prometheus server: You can deploy the Prometheus server on any server, you can download the official binary file, and run prometheus in the corresponding directory 2. Configure Prometheus: In prometheus Add the following content to the .yml file: global: scrape_interval: 15s # scrape data every 15 seconds evaluation_interval: 15s # calculate every 15 seconds external_labels: monitor: 'prometheus' scrape_configs: - job_name: 'prometheus' static_configs: - targets: ['localhost:9090'] - job_name: 'node_exporter' static_configs: - targets: ['<node_exporter IP>:9100'] - job_name: 'blackbox_exporter' metrics_path: /probe params: module: - http_2xx static_configs: - targets : - http://localhost relabel_configs: - source_labels: ['__address__'] target_label: 'instance' 3. Install Node Exporter: Node Exporter is a widely used open source software, you can download the corresponding version on its Github page , installed on the target server. 4. Deploy Blackbox Exporter: Blackbox Exporter is a software used to monitor services such as HTTP, HTTPS, DNS, etc. It can be used to monitor interface availability and delay performance. You can download the corresponding release version from the official website. When deploying, you need to specify the prometheus.yml file to facilitate communication with Prometheus. 5. Configure Alertmanager: Add the following content to the prometheus.yml file: alerting: alertmanagers: - static_configs: - targets: - localhost:9093 rule_files: - "rules/*.rules" 6. Add monitoring rules: Create in the rules directory The corresponding rule file, such as node-exporter.rules, writes the inspection rules in the file. 7. Start Prometheus: Enter the prometheus command in the terminal to start Prometheus, and you can open the web page to view the corresponding monitoring indicators and reports. The above is a Prometheus-based system performance monitoring configuration scheme. It needs to be properly configured and debugged according to the specific monitoring objects and scenarios.