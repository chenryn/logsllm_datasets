的技巧提升效率
漏洞利用工具 – sqlmap
sqlmap –r	
  package	
  –dbs
sqlmap –r	
  package	
  –D	
  xxx	
  –tables
sqlmap –r	
  package	
  –D	
  xxx	
  –T	
  yyy –columns
sqlmap –r	
  package	
  –D	
  xxx	
  –T	
  yyy –C	
  zzz –dump
sqlmap –r	
  package	
  –dump-­‐all
sqlmap –r	
  package	
  –os-­‐shell
漏洞利用 – SQL injection
如何防御 SQLi ?
将使用者可控的部分 参数化 ( parameterized )
黑魔法
防御术
$stmt = $dbh-­‐>prepare("INSERTINTO REGISTRY (name, value)VALUES (:name, :value)");
$stmt-­‐>bindParam(':name', $name);
$stmt-­‐>bindParam(':value', $value);
$name = 'one';
$value = 1;
$stmt-­‐>execute();
以 php 为例
情境四
情境 : 外星人看到有一个留言框
很开心的输入 ''
最常见安全问题 3rd round – XSS
XSS
浏览器跳了一个提醒视窗，上面写了 XSS
代表我们成功执行了 javascript
漏洞利用 – XSS
XSS ( Cross-Site Script )
也是 injection 的一种，HTML 代码注入导致能执行任意
Javascript 代码
正常留言
漏洞利用 – XSS
储存型 XSS : 
被伺服器存在 DB 中，当受害者浏览该网站
就可以在他的浏览器执行你存在伺服器 DB 的恶意 javascript 代码
漏洞利用 – XSS
反射型 XSS : 
必须让受害者点击网址，
例如 https://xxx.com/index?q=
漏洞利用 – XSS
低成本的小技巧 :
伺服器回传时夹带 X-XSS-Protection 这个 header
他会帮你 filter 大部分可疑字串
不保证可以阻止攻击，但可以大幅降低发生机率
相关资料 : https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection
黑魔法
防御术
漏洞利用 – XSS
高强度防御 : 使用 htmlentity 显示使用者的输入的资讯
相关资料 : https://dev.w3.org/html5/html-author/charref
黑魔法
防御术
'
用 iframe 发起 GET request
漏洞利用 – CSRF 范例
用 javascript 发起 POST request 并把结果导向看不见的 iframe 里面
情境七
情境 : 
外星人发现某个网站上可以上传档案，竟然没有限制档案型态
而且可以找到他把上传的档案放在哪里…
最常见安全问题 6st round – FU
漏洞利用 – File Upload 权限问题
假设网站是跑 PHP，我们上传一个 PHP 档上去，然后浏览他所在
的路径，我们就可以得到一个 webshell
案例分享 – File Upload 权限问题
案例分享 : 请假系统的 File Upload 权限问题
第一次修补原始码 : if(substr( $filename , -3) == "php"){}
第一次修补 bypass : 上传 webshell.PHP, XSS.html
第二次修补原始码 : 用 regex 乖乖检查
X
Common Vulnerabilities 
and Exposures ( CVE )
CVE
资安漏洞的资料库，由美国非营利组织 MITRE 维护
会帮被回报的漏洞做编号 ( EX : CVE-2017-5638 )
https://cve.mitre.org/
{
{
西元纪年 流水编号
第一步 : 架设环境
视情况使用 docker 或虚拟机器架设环境
第二步 : 找 POC ( Proof of Concept )
三种方式 : 
1. 去网路上找 POC
2. 使用漏洞扫描框架 nmap nse 或 metasploit 做侦测或入侵
3. 了解原理后手写 python script
第三步 : 找目标
用 Google Hacking 的技术或是其他情资收集技巧
intitle:"Struts	
  Problem	
  Report"	
  intext:"development	
  mode	
  is	
  enabled."
关键字 : OSINT ( Open Source Intelligence )
Bug Bounty 与漏洞通报
Bug	
  Bounty
Bug Bounty 是什么呢?
企业悬赏奖金请骇客们帮忙渗透测试
有哪些网站呢?
https://bugcrowd.com
https://hackerone.com
https://www.vulbox.com
漏洞通报平台
HITCON	
  ZeroDay
https://zeroday.hitcon.org
更多练习网站
线上解题网站
1.
https://bamboofox.cs.nctu.edu.tw/
2.
http://www.gameofhacks.com/
3.
https://www.hackthis.co.uk/
4.
http://pwnable.kr/
5.
http://pwnable.tw/
漏洞平台 ( 自己架起来打 )
1.
WebGoat
2.
DVWA
3.
Mutillidae
BAMBOOFOX
社团资源
社团部落格 : https://bamboofox.github.io/
社团解题系统 : https://bamboofox.cs.nctu.edu.tw/
我们的摊位在 MOPCON 和 UCCU ( 好多锁 ) 之间
赶快来拍打喂食~~~
Q&A