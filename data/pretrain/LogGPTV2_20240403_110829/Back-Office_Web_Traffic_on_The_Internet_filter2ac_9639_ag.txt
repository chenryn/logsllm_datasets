# 延迟分析

## 图10: 2008年与2014年接入汇聚点与前端服务器之间的延迟对比
- **延迟范围 (ms)**: 0.0 - 1.0
- **时间点**: 2008, 2014
- **RTT (ms)**: 0.2, 0.4, 0.6, 0.8, 1.0
- **数据规模**: 1, 10, 100, 1000, 10000

内容和应用提供商可以通过在ISP内部安装服务器或通过增加IXP或托管设施的对等连接来提供更好的服务。这些方法已在文献[28, 46, 20]中报道，并导致了后台Web流量的增加。接下来，我们将分析我们的数据集，以验证这些方法是否确实减少了终端用户与前端服务器之间的延迟。该分析基于2008年和2014年1月在一个大型欧洲ISP的住宅网络中捕获的匿名包级跟踪数据。有关数据捕获、处理和匿名化的更多细节，请参阅文献[45]。

图10展示了ISP接入汇聚点与前端服务器之间的骨干延迟，在两个不同年份（2008年和2014年）的情况。尽管接入技术和终端用户与接入汇聚点之间的延迟在过去六年中没有变化（未显示），但汇聚点与服务器之间的延迟显著减少。现在，大量请求由同一城市的服务器处理（见1毫秒延迟的新钟形曲线，这在2008年并不存在），将内容推送到更接近终端用户的策略已取得成功。

## 后果与启示

在第2至第4节中，我们定义了后台Web流量，讨论了从不同数据集中识别这种流量的方法，并呈现了一些关键见解。我们表明，后台流量是当今Web流量的重要组成部分，并提出了两种主要解释：(1) 持续部署靠近终端用户的前端服务器；(2) 服务提供商在其运营过程中进行大量数据交换，例如协调和同步其分布式基础设施的组件。本节将讨论一些影响研究人员和运营商的后果。

这种观点使我们能够将部署的服务器分为两大类：前端服务器和后台服务器，它们支持许多运行在互联网之上的流行Web应用程序。前端专注于服务终端用户，其性能主要受接入技术的影响，而在一定程度上也受到后台性能的影响。后台则在更快、更宽的互联网骨干网上运行，涉及多个组织，对终端用户不可见，但通过前端与其虚拟连接。然而，后台不仅仅是内容交付，还包括实时竞价和爬虫等活动。

随着越来越多的“计算”被卸载到云端以支持企业应用程序（如新版本的Microsoft Office、Apple iCloud和DropBox [24]），后台Web流量的量将继续增加。首先，不同数据中心的应用服务器需要相互交换数据以实现数据同步和复制。其次，边缘服务器尝试提供更多服务（如个性化Web体验），需要与其他边缘服务器和后台服务器通信，以获取相关的内容供终端用户使用。

本文所展示的Web生态系统，展现了前端和后台服务器之间的丰富互动，具有许多实际影响，不仅影响终端用户，还影响研究人员和运营商。

### 对研究人员的影响
1. 区分后台和前端Web流量至关重要，因为它们表现出不同的特征和操作。后续工作可以研究这两种Web流量类别与流量动态、互联网拓扑和性能评估之间的关联。
2. 研究人员应意识到，为后台部署的基础设施提供了开发和部署更适合前端或后台特性的新协议的机会。

### 对运营商的影响
1. 运营商应意识到承载后台流量的链路的重要性，因为它们可能有助于服务货币化或影响前端操作，从而影响比预期更多的终端用户的QoE。
2. 运营商应意识到后台流量可能有不同的需求，这为他们提供了提供定制服务的新机会。此外，运营商还可以为不同类型的流量提供不同的SLA。

## 新协议的部署

如果需要更改互联网核心基础设施或所有终端系统，则部署新协议或协议变体可能会非常缓慢甚至不可行。然而，如果将变更限制在一个组织内，则这一原本不可行的任务会变得容易得多。大多数Web服务公司都有能力定期更新和升级其基础设施。因此，如果终端用户仅连接到前端服务器，并且前端和后端服务器由单一实体管理，则可以快速部署变更并优化后台Web通信；这些变更仅限于承载后台流量的服务器。示例包括但不限于服务器之间使用持久TCP连接、IPv6、多路径TCP [29]、即时网页组装 [43]、对象预取、压缩和增量编码以及计算卸载。事实上，甚至可以根据任务选择TCP版本和参数 [28]，例如增加初始窗口大小。此外，还可以更快地采用新的网络范式，如软件定义网络 [37] 来处理后台流量。由于大多数终端用户通信涉及某些后台通信，这些改进可以直接影响终端用户体验。最后，更高效地使用网络资源也可以降低内容交付的成本。

## 新的服务机会

网络运营商（即ISP）可以为CDN或内容提供商提供专门处理后台流量的基础设施。对于ISP而言，这开辟了额外的服务货币化机会，并为他们的终端用户提供更好的体验。但这需要付出代价：ISP必须在网络中投资并启用微型数据中心或虚拟化服务 [30, 4] 以抓住这个机会。

另一方面，ISP还可以定制其流量工程策略，以更好地适应两类不同的流量。他们还可以为目标运营后台的组织提供不同的SLA组合。同样，IXP可以为时间敏感的应用程序（如竞价和金融应用程序）提供增值服务。IXP还可以利用第三方服务器的邻近性、与其他网络服务器交换流量的定价模型以及访问云提供商提供的资源等论据来激励其对等位置的共置。

## 结论

Web及其生态系统不断演变。本文首次揭示并理解了其中一个复杂但尚未充分研究的组成部分：后台。后台包括支持Web搜索、广告和内容交付所需的基础设施。通过使用多种视角，我们已经证明后台流量不仅是当今互联网流量的重要组成部分，也是当今互联网交易的重要组成部分。

后台的改进已成为减少终端用户延迟的主要贡献者。然而，后台架构仍然存在许多机会，可以部署新的协议或协议变体以执行专门任务。后台的复杂性也带来了新的问题。未来的工作计划改进当前的方法，并扩展以识别其他后台Web流量的用例，进一步剖析不同服务之间的交互，并更好地理解其性能影响。最后，我们还计划研究互联网的非Web后台。

## 致谢

我们要感谢Oliver Spatscheck（我们的导师）、匿名审稿人和Paul Barford的建设性反馈。这项工作部分得到了欧盟项目BigFoot（FP7-ICT-317858）的支持。Georgios Smaragdakis得到了欧盟Marie Curie国际外出奖学金“CDN-H”（PEOPLE-628441）的支持。

## 参考文献

[此处列出参考文献]

---

通过以上优化，文本变得更加清晰、连贯和专业。希望这对你有帮助！