式
现形式”。此外，所使用的应用软件本身的不同也会导致数据的表现形式截然不
同。例如有的字处理软件创建的文件只能由该字处理器厂商所提供的特定版本的
软件才来打开读取。
那么，电子邮件中如果遇到此类问题该如何解决呢？如果用户A与用户B所
使用的邮件客户端软件完全一致，就能够顾利收取和阅读邮件，不会遇到类似的
问题。但是这在现实生活当中是不大可能的。让所有用户千篇一律地使用同一款
平，即了个人电位，还有
客户端软件对使用者来说也是极不方便的一件事情”。
楼利网。加何让套们之
解决这类问题有以下几种方法。首先是利用表示层，将数据从“某个计算机
特定的数据格式”转换为“网络通用的标准数据格式”后再发送出去。接收端主
机收到数据以后将这些网络标准格式的数据恢复为“该计算机特定的数据格式”，
然后再进行相应处理。
在前面这个例子中，由于数据被转换为通用标准的格式后再进行处理，使得
异构的机型之间也能保持数据的一致性。这也正是表示层的作用所在。即表示层
式”之间相互转换的分层。
格式”。即便是一段简单的文字流，也可以有众多复杂的编码格式。就拿日语文字
来说，有EUC-JP、Shin_JIS、IS0-2022-JP、UTF-8 以及 UTF-16等很多编码格
式°。如果未能按照特定格式编码，那么在接收增就是收到邮件也可能会是乱码”。
量由手在示能楼
运行道编构
表示层与表示层之间为了识别编码格式也会附加首部信息，从面将实际传输
式设监有误导款
的数据转交给下一层去处理。
①最典型的汉字编码格式有GB2312、BIG5、I508859-1等。-译者注
---
## Page 41
1.60SI参考模型通信处理举例
24
送端
我收
会层工作
主机A
主机B
应用层
应用
表示层
表示层
会话层
采用事个连接发适？
会话层
传输层
传输基
网络层
数据链热层
数据路层
物理层
下面，我们来分析在两端主机的会话层之间是如何高效地进行数据交互、采
用何种方法传输数据的。
假定用户A新建了5封电子邮件准备发给用户B。这5封邮件的发送顺序可
指通信连排
以有很多种。例如，可以每发一封邮件时建立一次连接”，随后断开连接。还可
以一经建立好连接后就将5封邮件连续发送给对方。甚至可以同时建立好5个连
接，将5封邮件同时发送给对方。决定采用何种连接方法是会话层的主要责任。
会话层也像应用层或表示层那样，在其收到的数据前端附加首部或标签信息
后再转发给下一层。而这些首部或标签中记录着数据传送顺序的信息。
71.6.3传输层以下的处理
到此为止，我们通过例子说明了在应用层写人的数据会经由表示层格式化编
码、再由会话层标记发送顺序后才被发送出去的大致过程。然而，会话层只对何
时建立连接、何时发送数据等问题进行管理，并不具有实际传输数据的功能。真
正负责在网络上传输具体数据的是会话层以下的“无名英雄”。
传输层
主机A确保与主机B之间的通信并准备发送数据。这一过程叫做“建立连
接”。有了这个通信连接就可以使主机A发送的电子邮件到达主机B中，并由主
机B的邮件处理程序获取最终数据。此外，当通信传输结束后，有必要将连接
断开。
如上，进行建立连接或断开连接的处理”，在两个主机之间创建逻辑上的通
信连接即是传输层的主要作用。此外，传输层为确保所传输的数据到达目标地址，
会在通信两端的计算机之间进行确认，如果数据没有到达，它会负资进行重发。
例如，主机A将“早上好”这一数据发送给主机B。期间可能会因为某些原
因导致数据被破坏，或由于发生某种网络异常致使只有一部分数据到达目标地址。
假设主机B只收到了“早上”这一部分数据，那么它会在收到数据后将自已没有
---
## Page 42
第1章月络基知识
后面的“好”重发给主机B，并再次确认对端是否收到。
1.26
发送
接收
传输展的工作
主机A
主机B
应用层
口
立用层
我示层
口
表示品
会层
会话层
传输层
确立连接与断开连接
传输层
重发
网络层
数据健路层
数据链路票
物理
这就好比人们日常会话中的确认语句：“对了，你刚才说什么来着？”计算机
通信协议其实并没有想象中那么晦涩难懂，其基本原理是与我们的日常生活紧密
相连、大同小异的。
由此可见，保证数据传输的可靠性是传输层的一个重要作用。为了确保可靠
性，在这一层也会为所要传输的数据附加首部以识别这一分层的数据。然而，实
际上将数据传输给对端的处理是由网络层来完成的。
网络层
20
网络层的工作
发送
接收
主机A
主机B
应用层
茂用
表示层
我示层
口
会请息
层
传输层
从主机A到主机B的
数据通信处理
数据链路
网络层的作用是在网络与网络相互连接的环境中，将数据从发送瑞主机发送
到接收端主机。如图1.27所示，两端主机之间虽然有众多数据链路，但能够将数
据从主机A送到主机B也都是网络层的功劳。
---
## Page 43
主机A
主机B
.2
网络层与数据销路居各
L7
ATM
PPP（专线）
以太网
以太网
+
数据链路层
数掘链路层负贵实现每一个区间内的通信
网络层负责将数据发送至最终目标地址。（雌对端）
层
关于地址请参考1.8节
在实际发送数据时，目的地址”至关重要。这个地址是进行通信的网络中唯
一指定的序号。也可以把它想象为我们日常生活中使用的电话号码。只要这个目
标地址确定了，就可以在众多计算机中选出该目标地址所对应的计算机发送数据。
基于这个地址，就可以在网络层进行数据包的发送处理。面有了地址和网络层的
包发送处理，就可以将数据发送到世界上任何一台互连设备。网络层中也会将其
从上层收到的数据和地址信息等一起发送给下面的数据链路层，进行后面的处理。
传输层与网络层的关系
在不同的网络体系结构下，网络层有时也不能保证数据的可达性。
例如在相当于TCP/IP网络层的IP协议中，就不能保证数据一定会发送
到对端地址。因此，数据传遥过程申出现数据委失、顺序混乱等问题可
能性会大大增加。像这样没有可靠性传输要求的网络层中，可以由传输
层负责提供“正确传输数据的处理”。TCP/IP中，网络层与传输层相互
协作以确保数据包能够传递到世界各地，实现可靠传输。
每个分层的作用与功能越清晰，规范协议的具体内容就越简单，实
现”这些具体协议的工作也将会更加轻松。
数据链路层、物理层
通信传输实际上是通过物理的传输介质实现的。数据链路层的作用就是在这
些通过传输介质互连的设备之间进行数据处理。
物理层中，将数据的0、1转换为电压和脉冲光传输给物理的传输介质，面相
c0888 Cantrol, 3r
互直连的设备之间使用地址实现传输。这种地址被称为MAC地址，也可称为物
理地址或硬件地址。采用MAC地址，目的是为了识别连接到同一个传输介质上的
设备。因此，在这一分层中将包含MAC地址信息的首部附加到从网路层转发过来
的数据上，将其发送到网络。
网络层与数据链路层都是基于目标地址将数据发送给接收端的，但是网络层
负责将整个数据发送给最终目标地址，而数据链路层则只负责发送一个分段内的
数据。关于这一点的更多细节可以参考4.1.2节。
---
## Page 44
第1章网路基硅知识
Bit.28
数据链路层与物理层的
主机A
C作
应用层
表示层
会话晨
会屋
传输层
络
网格品
圆主机B端的处理
接收端主机B上的处理流程正好与主机A相反，它从物理层开始将接收到的
数据逐层发给上一分层进行处理，从而使用户B最终在主机B上使用邮件客户端
软件接收用户A发送过来的邮件，并可以读取相应内容为“早上好”。
如上所述，读者可以将通信网络的功能分层来思考。每个分层上的协议规定
了该分层中数据首部的格式以及首部与处理数据的顺序。
---
## Page 45
1.7传输方式的分类
传输方式的分类
网络与通信中可以根据其数据发遇方法进行多种分类。分类方法也有很多，
以下我们介绍其中的几种。
加干换以大
1.7.11
面向有连接型与面向无连接型
通过网络发送数据，大致可以分为面向有连接与面向无连接两种类型”
面向有连接型
我要发选
面向有连接型与面向无
可
个
一个连接
面向无连接型
无需硬认对端是否存在。
发选响可随时发运数据。
面向有连接型
面向有连接型中，在发送数据”之前，需要在收发主机之间连接一条通信
线路”。
面向有连接型就好比人们平需打电话，输人完对方电话号码拨出之后，只有
对端拿起电话才能真正通话，通话结束后将电话机扣上就如同切断电源。因此在
面向有连接的方式下，必须在通信传输前后，专门进行建立和断开连接的处理。
理的、通信线路的莲。
如果与对增之间无法通信，就可以避免发送无谓的数据。
圆面向无连接型
面向无连接型则不要求建立和断开连接。发送端可于任何时候自由发送数
面向无型买用分组交债
，可以直库数理为分
据”。反之，接收端也永远不知道自己会在何时从哪里收到数据。因此，在面向
无连接的情况下，接收端需要时常确认是否收到了数据。
这就如同人们去邮局寄包裹一样。负责处理邮运业务的营业员，不需要确认
收件人的详细地址是否真的存在，也不需要确认收件人是否能收到包裹，只要发
件人有一个寄件地址就可以办理邮寄包裹的业务。面向无连接通信与电话通信不
---
## Page 46
第1章网络基础知识
同，它不需要拨打电话、挂掉电话之类的处理，面是全凭发送端自由地发送自己
想要传递出去的数据。
因此，在面向无连接的通信中，不需要确认对是否存在。即使接收端不存
在或无法接收数据，发送端也能将数据发送出去。
面向有连接与面向无连接
“进接”这个词在人类社会当中，相当于“人脉”的意思。此时，它
指熟人或有一定关系的人与人之间的联系。而面向无连接，其实就是没
有任何关系的意思。
这其实就是一个典型的面向无进接通信的发送端处理方式。或许有些读
者可能会认为面向无选接的通信有点不靠语。但是对子某些特殊设备，
它却是一种非常有效率的方法。因为这种方式可以省略某些既定的、繁
杂的手续，使处理变得简单，易于制作一些低成本的产品，减轻处理
负担。
有时，也可以根据具体的通信内客来决定采用哪种方式一一面向有
连接或面向无进接。
71.7.2电路交换与分组交换
目前，网络通信方式大致分为两种一—电路交换和分组交换。电路交换技术
的历史相对久远，主要用于过去的电话网。而分组交换技术则是一种较新的通信
方式，从20世纪60年代后半叶才开始逐渐被人们认可。本书着力介绍的TCP/
IP，正是来用了分组交换技术。
在电路交换中，交换机主要负责数据的中转处理。计算机首先被连接到交换机
上，面交换机与交换机之间则由众多通信线路再继续连接。因此计算机之间在发送
数据时，需要通过交换机与目标主机建立通信电路。我们将连接电路称为建立连
接。建立好连接以后，用户就可以一直使用这条电路，直到该连接被新开为止。
如果某条电路只是用来连接两台计算机的通信线路，就意味着只需在这两台
计算机之间实现通信，因此这两台计算机是可以独占线路进行数据传输的。但是，
如果一条电路上连接了多台计算机，面这些计算机之间需要相互传递数据，就会
出现新的问题。签于一台计算机在收发信息时会独占整个电路，其他计算机只能
等待这台计算机处理结束以后才有机会使用这条电路收发数据。并且在此过程中，
谁也无法预测某一台计算机的数据传输从何时开始又在何时结束。如果并发用户
数超过交换机之间的通信线路数，就意味着通信根本无法实现。
为此，人们想到了一个新的方法，即让连接到通信电路的计算机将所要发送
的数据分成多个数据包，按照一定的顺序排列之后分别发送。这就是分组交换。
有了分组交换，数据被细分后，所有的计算机就可以一齐收发数据，这样也就提
高了通信线路的利用率。由于在分组的过程中，已经在每个分组的首部写人了发
送端和接收端的地址，所以即使同一条线路同时为多个用户提供服务，也可以明
确区分每个分组数据发往的目的地，以及它是与哪台计算机进行的通信。
---
## Page 47
1.7传输方式的分类
3
过每
个分组费
将想要发送的
数据分组发给
各个日标地
过号
通过数据首部就可以
收到分组数据后，从
了解目标地址是什会。
装配成完整的报文。
在分组交换中，由分组交换机（路由器）连接通信线路。分组交换的大致处
理过程是：发送增计算机将数据分组发送给路由器，路由器收到这些分组数据以
后，缓存到自已的缓冲区，然后再转发给目标计算机。因此，分组交换也有另一
个名称：蓄积交换。
路由器接收到数据以后会按照顺序缓存到相应的队列当中，再以先进先出的
发送目标地
顺序将它们逐一发送出去”。
在分组交换中，计算机与路由器之间以及路由器与路由器之间通常只有一条