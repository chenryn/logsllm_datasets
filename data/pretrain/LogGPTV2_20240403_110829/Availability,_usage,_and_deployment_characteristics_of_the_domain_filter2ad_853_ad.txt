this way). This observation also lends evidence to our hypothesis
that many LDNS “servers” are behind DSL and dialup addresses.
4.2.4 Locally Correlated Failures
Next we examine the degree to which failure periods are corre-
lated within particular domains. Here we deﬁne a domain to be
a NAC [19] to capture events correlated with network location.
Hence, correlated failures suggest common network outages that
prevent reachability or other related events within a NAC (power
outage, network-wide maintenance, etc.).
We estimated the fraction of failure probes that are correlated
within a NAC as follows: ﬁrst we examined all locally-related
probe pairs — closely spaced probe pairs (within 2 minutes) that
contained at least 1 failure, and were sent to different servers within
the same NAC. Of the NACs formed by the servers in ldns-
avail (adns-avail), 20% (11%) had at least one such pair.
We call the pair correlated if both probes were failures. The ratio
of correlated pairs and total locally-related pairs gives an estimate
of the fraction of failures within the NAC that are correlated. The
cumulative distribution of this fraction (over all NACs) is shown in
Figure 9.
We observe that about 40% (50%) of LDNS (ADNS) NACs have
no failures correlated in this manner. However, on average 11.5%
(12.2%) of failures were correlated in a given NAC. This roughly
7We used Edgescape [3], a commercial tool, to classify the location
of IPs and their timezone. We ignored IPs that it could not classify
in our analysis.
x
 20%) of failures that are corre-
lated. Thus, most unavailability to DNS servers is unlikely to be
correlated within a NAC.
4.3 Time to Failure and Recovery
So far we have explored the availability of DNS servers — the
probability that a given DNS server is available during a point in
time. In this section, we give a very rough characterization of how
long we expect a DNS server to be available before it fails and
how long we expect it to take until it recovers. This information
is difﬁcult to extract from our measurements directly because we
might miss failure or availability periods due to the granularity of
our probes. In particular, we note that a large fraction of the failures
we observed only occurred for a single probe. Further complicating
the analysis is the fact that we cannot distinguish network failures
(which may still be present in our data despite our ﬁltering heuris-
tics) and actual DNS server failures.
Thus, in this analysis, we present two sets of results: one that
ignores any failure that we cannot determine to be longer than 20
minutes (“short failures”), and one that includes all failures. Feam-
ster et al. [12] found that more than 90% of all network failures
lasted less than 15 minutes, so server failures can be accurately es-
timated from probe failures in our former set of results because net-
work failures are almost always of short duration. Moreover, during
our high-frequency probing of a small subset of servers (one probe
per 5 minutes; see Section 3.2), we found that more than 60% of all
observed failures periods encompassing more than a single probe
lasted longer than 20 minutes (for both ADNS and LDNS servers);
hence, most failures we observed that were longer than 5 minutes
were also longer than 20 minutes. However, the results ignoring
short failures will tend to overestimate the time to failure and over-
estimate the time until recovery. The results including all failures
present a more pessimistic estimate of the time to failure.
We estimated the time to failure as the length of time from when
we ﬁrst probed a DNS server until we observed the ﬁrst probe that
fails (possibly ignoring short failures as described above). We es-
timated the time to recovery as the length of time from the start of
the ﬁrst probe failure until the last consecutive probe failure. Since
we optimistically assume that the failure does not begin until the
probe failure, our results may underestimate failure lengths by an
amount within an order of magnitude of the mean probing interval
(1 hour), on average. One issue with this analysis is that we may
have missed failure or availability periods if they are likely to last
shorter than our average probing interval.
To investigate the degree to which short failures might affect our
results, we examine “closely spaced” probe triples that we made to
DNS servers. Suppose S represents a probe success and F repre-
sents a probe failure in a sequence of consecutive probes. Then,
when looking at probe triples made within a 2 minute period to
LDNS servers, 0 triples had a pattern of F S F, and 14 of 40,322
(0.03%) triples had a pattern of S F S; hence, it is unlikely that
failure or availability periods last less than 2 minutes. When look-
ing at 30 minute intervals, 1,401 and 6,634 of 7,041,334 (0.02%
and 0.09%) triple samples had a pattern of F S F or S F S, re-
spectively; however, the short availability periods were primarily
isolated to 934 servers (i.e., only these servers had a number of
short availability periods much greater than the mean). Closely
spaced samples at ADNS servers had similar characteristics.
Examining longer periods yields similar fractions that are short
failure periods, but not larger fractions that are short availability
periods. Hence, since the probability of short availability periods
is low, we are at worst likely to overestimate the length of very
long consecutive availability periods (due to short failures that our
probes missed). Nonetheless, we caution that our estimates should
be taken as very coarse approximations.
Statistic
Ignoring Short Failures
LDNS
12.6%
With Short Failures
ADNS
LDNS
(cid:21)1 Failure
37.8%
35.7%
For fraction with at least 1 failure (ignoring the 5% with the highest values)
148.7 h
Mean Time to Failure
Standard Deviation
99.1 h
Median
138.0 h
Mean Time to Recovery
Standard Deviation
Median
125.9 h
99.1 h
106.6 h
7.2 h
9.5 h
3.3 h
132.4 h
98.3 h
117.3 h
NA
ADNS
10.8%
143.1 h
100.0 h
134.0 h
6.3 h
8.7 h
2.6 h
NA
Figure 10: Failure and Recovery Summary: This table shows
failure and recovery statistics for the fraction of LDNS and
ADNS servers for which we observed at least one failure, with
and without heeding failures that we could not determine were
longer than 20 minutes (statistics are taken using ldns-avail
and adns-avail, ignoring the 5% with the highest values).
Figure 10 presents summary statistics about the time to failure
and recovery for when we ignore short failures and when we don’t.
Clearly, the number of servers where we observe at least one failure
is much larger when we do not ignore the short failures (37.8% vs.
12.6% for LDNS servers; 35.7% vs. 10.8% for ADNS servers).
However, we note that including all failures drives up the mean
time to failure among those that did fail by several hours in both
cases (hence, servers that we observed short failures at tended to
fail later than those that we observed longer failures at), and well
more than the majority never fail at all during the two-week period
in both cases. We omit statistics for recovery times when including
all failures, since many of these failures lasted for only a single
probe, and we cannot conclude much about how long the failure
lasted.
Figure 11 plots the cumulative distribution of time to the ﬁrst
failure for those servers that were unavailable at least once (ignor-
ing the 5% with the highest values to limit outliers). Whether or
not we take into account “short” failures, the majority of servers
are available uninterrupted for longer than two weeks. Our mea-
surement period was not long enough to make longer term conclu-
x
 20min
ADNS Failures > 20min
 5
 10
 15
 20
 25
 30
 35
 40
 45
 50
Time Until Recovery (hours)
Figure 12: Time to Recovery: This ﬁgure shows the distribu-
tion of times until the ﬁrst recovery for the fraction of LDNS
and ADNS servers that failed at least once and then recovered
during our 2 week period (ignoring the 5% with the highest
values).
sions, except that the time to failure for DNS servers is (at least)
on the order of days or weeks. ADNS servers are likely to live a
little longer than LDNS servers, which is expected given that they
are more highly available.
Figure 12 plots the cumulative distribution of the time between