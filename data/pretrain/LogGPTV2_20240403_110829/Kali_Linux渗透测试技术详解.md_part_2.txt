180
6.5免杀Payload生成工具Veil
189
第3篇各种渗透测试
第7章权限提升
202
7.1使用假冒令牌·
202
7.1.1工作机制
202
7.1.2使用假冒令牌
 203
7.2本地权限提升
205
7.3使用社会工程学工具包（SET）
 205
7.3.1启动社会工程学工具包
 206
7.3.2
传递攻击载荷给目标系统
 209
7.3.3
收集目标系统数据
210
7.3.4
清除踪迹
·211
7.3.5
创建持久后门
212
7.3.6
中间人攻击（MITM）
213
7.4使用SET实施攻击
219
7.4.1
针对性钓鱼攻击向量
220
7.4.2
Web攻击向量
226
7.4.3PowerShell攻击向量
· 233
7.4.4自动化中间人攻击工具Subterfuge
·236
· VII ·
---
## Page 12
KaliLinux渗透测试技术详解
第8章密码攻击
 241
8.1密码在线破解.
-- 241
8.1.1Hydra 工具.
 241
8.1.2 Medusa 工具
243
8.2分析密码
 245
8.2.1 Ettercap 工具.
 245
8.2.2使用MSFCONSOLE分析密码
246
8.2.3哈希值识别工具HashIdentifier
248
8.3
破解LMHashes 密码
 248
8.4绕过Utilman登录…
·251
8.5
破解纯文本密码工具mimikatz
256
8.6
破解操作系统用户密码·
258
8.6.1
破解Windows用户密码.
258
8.6.2破解Linux用户密码
260
8.7
创建密码字典
260
8.7.1Crunch 工具·
261
8.7.2 rtgen 工具.
262
8.8使用NVIDIA计算机统一设备架构（CUDA）
263
8.9物理访问攻击
265
第9章无线网络渗透测试
267
9.1无线网络噢探工具Kismet
·267
9.2使用Aircrack-ng工具破解无线网络
273
9.2.1破解WEP加密的无线网络
273
9.2.2破解WPA/WPA2无线网络
 278
9.2.3攻击 WPS （Wi-Fi Proteced Setup)
279
9.3GerixWifiCracker破解无线网络
283
9.3.1
Gerix破解WEP加密的无线网络
·283
9.3.2使用Gerix创建假的接入点
290
9.4
使用Wifite破解无线网络
·292
9.5
使用Easy-Creds工具攻击无线网络
293
9.6在树莓派上破解无线网络
298
9.7攻击路由器
0-
9.8 Arpspoof 工具“
305
9.8.1
URL流量操纵攻击
306
9.8.2端口重定向攻击
308
9.8.3
捕获并监视无线网络数据
309
· VIII ·
---
## Page 13
第1篇
Linux安全渗透测试
基础
清华力
M第1章Linux安全渗透简介
第2章配置KaliLinux
M第3章高级测试实验室
---
## Page 14
第1章Linux安全渗透简介
渗透测试是对用户信息安全措施积极评估的过程。通过系统化的操作和分析，积极发
现系统和网络中存在的各种缺陷和弱点，如设计缺陷和技术缺陷。本章将简要介绍Linux
安全渗透及安全渗透工具的相关内容。其主要知识点如下：
口什么是安全渗透：
口安全渗透所需的工具；
Kali Linux简介；
安装KaliLinux；
口Kali更新与升级；
口基本设置。
1.1什么是安全渗透
渗透测试并没有一个标准的定义。国外一些安全组织达成共识的通用说法是，渗透测
试是通过模拟恶意黑客的攻击方法，来评估计算机网络系统安全的一种评估方法，这个过
程包括对系统的任何弱点、技术缺陷或漏洞的主动分析。这个分析是从一个攻击者可能存
在的位置来进行的，并且从这个位置有条件主动利用安全漏洞。
渗透测试与其他评估方法不同。通常的评估方法是根据已知信息资源或其他被评估对
象，去发现所有相关的安全问题。渗透测试是根据已知可利用的安全漏洞，去发现是否存
在相应的信息资源。相比较而言，通常评估方法对评估结果更具有全面性，而渗透测试更
注重安全漏洞的严重性。
渗透测试有黑盒和白盒两种测试方法。黑盒测试是指在对基础设施不知情的情况下进
行测试。白盒测试是指在完全了解结构的情况下进行测试。不论测试方法是否相同，渗透
测试通常具有两个显著特点：
口渗透测试是一个渐进的且逐步深入的过程。
口渗透测试是选择不影响业务系统正常运行的攻击方法进行的测试。
1.2安全渗透所需的工具
了解了渗透测试的概念后，接下来就要学习进行渗透测试所使用的各种工具。在做渗
透测试之前，需要先了解渗透所需的工具。渗透测试所需的工具如表1-1所示。
---
## Page 15
第1章Linux安全渗透简介
表1-1渗透所需的工具
splint
unhide
scrub
pscan
examiner
ht
flawfinder
srm
driftnet
rats
nwipe
binwalk
ddrescue
firstaidkit-gui
scalpel
gparted
xmount
pdfcrack
testdisk
dc3dd
wipe
foremost
afftools
safecopy
sectool-gui
scanmem
hfsutils
unhide
sleuthkit
cmospwd
examiner
macchanger
secuirty-menus
srm
ngrep
nc6
nwipe
ntfs-3g
mc
firstaidkit-gui
ntfsprogs
screen
net-snmp
pcapdiff
openvas-scanner
hexedit
netsed
rkhunter
irssi
dnstop
labrea
powertop
sslstrip
nebula
mutt
bonesi
tripwire
nano
proxychains
prelude-lml
vim-enhanced
prewikka
iftop
wget
prelude-manager
scamper
yum-utils
picviz-gui
iptraf-ng
mcabber
telnet
iperf
firstaidkit-plugin-all
onenssh
nethogs
vnstat
dnstracer
uperf
aircrack-ng
chkrootkit
nload
airsnort
aide
ntop
kismet
pads
trafshow
weplab
cowpatty
wavemon
由于篇幅原因，这里只列了一部分工具。渗透测试所需的工具可以在各种Linux操作
系统中找到，然后手动安装这些工具。由于工具繁杂，安装这些工具，会变成一个浩大的
工程。为了方便用户进行渗透方面的工作，有人将所有的工具都预装在一个Linux系统。
其中，典型的操作系统就是本书所使用的KaliLinux。
该系统主要用于渗透测试。它预装了许多渗透测试软件，包括nmap端口扫描器、
Wireshark（数据包分析器）、John theRipper（密码破解）及Aircrack-ng（一套用于对无
线局域网进行渗透测试的软件）。用户可通过硬盘、LiveCD或LiveUSB来运行KaliLinux。
1.3
KaliLinux简介
KaliLinux的前身是BackTrackLinux发行版。KaliLinux是一个基于Debian的Linux
·3 ·
---
## Page 16
第1篇Linux安全渗透测试基础
发行版，包括很多安全和取证方面的相关工具。它由OfensiveSecurityLtd维护和资助，
最先由OffensiveSecurity的MatiAharoni和DevonKearms通过重写BackTrack来完成。Back
Track是基于Ubuntu的一个Linux发行版。
KaliLinux有32位和64位的镜像，可用于x86指令集。同时它还有基于ARM架构的
镜像，可用于树莓派和三星的ARMChromebook。用户可通过硬盘、LiveCD或LiveUSB
来运行KaliLinux操作系统。
1.4安装KaliLinux
如今Linux的安装过程已经非常“傻瓜”化，只需要轻点几下鼠标，就能够完成整个
系统的安装。KaliLinux操作系统的安装也非常简单。本节将分别介绍安装KaliLinux至硬
盘、USB驱动器、树莓派、VMwareWorkstation和WomuareTods的详细过程。
1.4.1安装至硬盘
安装到硬盘是最基本的操作之一。该工作的实现可以让用户不使用DVD，而正常的运
行KaliLinux。在安装这个全新的操作系统之前，需要做一些准备工作。例如，从哪里得
去保存附加程序和文件。
口内存最好为512MB以上。
口KaliLinux的下载地址http://www.kali.org/downloads/，下载界面如图1.1所示。
DOWNLOAD YOUR FLAVOUR OF KALI LINUX.
KALI LINUX 64 BIT 1.0.6 DOWNLOADS & SHA1SUM
> Kali Linux 1.0.6 64 Bt 190
 Kat Lnux 1.0.5 64 Bt Tomenl
KALI LINUX 32 BIT DOWNLOADS & SHA1SUM
06I 18 2 901 X0U1 H <
o 19 2 901 x41 88 
-518aad75c2c5ffc60b
图1.1下载KaliLinux界面
该官方网站提供了32位和64位ISO文件。本书中以32位为例来讲解安装和使用。
下载完ISO文件后，将该映像文件刻录到一张DVD光盘上。接下来就可以着手将KaliLinux
安装至硬盘中了。
4 ·
---
## Page 17
第1章Linux安全渗透简介
（1）将安装光盘DVD插入到用户计算机的光驱中，重新启动系统，将看到如图1.2
所示的界面。
KALI LINUX
failsafe)
ode)
ENTER to
o edit a
图1.2启动界面
（2）该界面是Kali的引l导界面，在该界面选择安装方式。这里选择GraphicalInstall
（图形界面安装），将显示如图1.3所示的界面。
Select a language
Choose the language to be used for the installation process. The selected language will also be the
Language:
Chinese (Simplified)
中文（体）
Chinese (Traditional)
中文（)
Croatian
Hrvatski
Czech
Cestina
Danish
Dansk
Dutch
Nederlands
Dzongkha
English
English
Esperanto
Esperanto
Estonian
Eesti
Finnish
Suomi
French
Galego
Francais
Galician
Georgian
jafegere
German
Deutsch
El1m
Screenshot
Go Back
图1.3选择语言
（3）在该界面选择安装系统的默认语言为Chinese（Simplified），然后单击Continue
按钮，将显示如图1.4所示的界面。
---
## Page 18
第1篇Linux安全渗透测试基础
请选择您的区域：
选择的区域将视用于设置您的时区以及其它例知智助决定系统区域。通常这应该力您所居住的国家。