VIRL-rev14.pptx
31
Step 8: Prepare VIRL for Activation (See it done.)
http://virl-dev-innovate.cisco.com/video.lb/video/prepare.virl.mp4
VIRL-rev14.pptx
32
Step 9: Activate VIRL
• Obtain VIRL Server address
– Connect to VIRL VM console via 
VSphere.
– Double-click “ip-address” icon to 
display server address.
• In this case 192.168.205.100
VIRL-rev14.pptx
33
Step 9: Activate VIRL
• Obtain VIRL Server address
– Connect to VIRL VM console via 
VSphere.
– Double-click “ip-address” icon to 
display server address.
• In this case 192.168.205.51
VIRL-rev14.pptx
34
Step 9: Activate VIRL
• Use Browser to connect to VIRL Server IP address
• Select User Workspace Management
VIRL-rev14.pptx
35
Step 9: Activate VIRL
• Login to User Workspace Management
Userid: uwmadmin, Password: password
• Have your Salt License Key file handy
Example: AB12CD35.virl.info.pem
VIRL-rev14.pptx
36
Step 9: Activate VIRL
1. Select “Salt 
Configuration 
& Status
2. Click “Reset 
keys & ID”
VIRL-rev14.pptx
37
Step 9: Activate VIRL
3. Enter License Filename 
(omit .pem extension)
5. One of:
• us-virl-salt.cisco.com
• eu-virl-salt.cisco.com
4. Enter your email address
6. Leave as “eft.pub”
7. Cut-&-paste contents of 
.pem License file & click 
“Reset” at bottom of form.
VIRL-rev14.pptx
38
Step 9: Activate VIRL
8. Return to “Salt 
Configuration & Status”
9. Click “Check status now”
10. You should see something 
like this.
VIRL-rev14.pptx
39
Step 10: Customize VIRL Config (optional)
• Edit /etc/virl.ini file to perform any customization
– In most cases, the Default configuration is fine
– The most common customizations are when:
• Need to connect/integrate VIRL L2 or L3 networks to external networks.
• VIRL host has >16GB of memory 
– And use of RAMdisk desired to decrease simulation startup times.
• VIRL host has fewer than five network interfaces.
VIRL-rev14.pptx
40
Step 10: Customize VIRL Config (optional)
• Then from VM Console
• Perform Steps 1, 2 & 3
Just Double-Click Icons
1. Upgrades to latest pkgs
2. Reboots VM
3. Applies L2 Kernel patch
VIRL-rev14.pptx
41
Step 11: Validate VIRL Installation (Optional)
• Login to VIRL VM Console via VSphere
• Launch xterm
• Follow Step 11 Web page instructions:
http://virl-dev-innovate.cisco.com/client.php
– To perform the following:
• Verify Neutron Agents are all “Active”
• Verify the VIRL STD service is active and 'listening‘
• Verify the VIRL UWM service is active and 'listening‘
– Use supplied debugging steps if necessary
VIRL-rev14.pptx
42
Step 11: Validate VIRL Installation (See it done.)
http://virl-dev-innovate.cisco.com/video.lb/video/validate.virl.mp4
VIRL-rev14.pptx
43
Step 12: Install and Configure VM Maestro
• Use Browser to connect to VIRL Server
• Select VM Maestro Clients to download software
VIRL-rev14.pptx
44
Step 12: Install and Configure VM Maestro
• Download package appropriate to your laptop/PC
• Install VM Maestro software package
VIRL-rev14.pptx
45
Agenda
• What is VIRL?
• VIRL Architecture
• VIRL Components
• VIRL Installation
• VIRL Basics
• AutoNetkit
• Layer-2 Switching
• VIRL Advanced Features
VIRL-rev14.pptx
46
VIRL Basics
• VIRL Learning Labs Tutorial
– http://virl-dev-innovate.cisco.com/tutorial.php
• VIRL YouTube Channel
• https://www.youtube.com/channel/UC41WuzXlJCGY5qLsuZ8aHkQ
– Playlists
• Monthly Webinars
– https://www.youtube.com/watch?v=SEJ4ILAspTA&list=PLo_CEo6CIpZPCpdsOCdH5
KhiKX9pMHCh4
• Beginner’s Tutorial
– https://www.youtube.com/watch?v=XIIMc4OOXZk&list=PLo_CEo6CIpZOFDmZFfdgU
zGNY4efuPJbJ
• And more . . .
VIRL-rev14.pptx
47
VIRL Learning Labs Tutorial
Introduction to VM Maestro
Exercise 1:
Exercise 2: Creating a New VIRL Topology
Exercise 3: Creating a Simple Network using IOSv
Exercise 4: Building Configurations and Visualizations
Exercise 5: Working with VIRL Simulations
Exercise 6: Working with Router Configurations
Exercise 7: Configuring Routing Protocols – Part 1
Exercise 8: Configuring Routing Protocols – Part 2
Exercise 9: Configuring Management Access
Exercise 10: Configuring Layer-2 Switching
Exercise 11: Other Node Sub-Types and Servers
VIRL-rev14.pptx
48
Introduction to VM Maestro
• VM Maestro Perspectives (or Modes)
– Design Perspective
• Topology Editor Pane
• Properties Pane
• Projects Pane
• Nodes and Tools Palette
– Simulation Perspective
• Topology Pane
• Simulations Pane
• Consoles Pane
• Projects Pane
– Topology and Simulation Controls
VIRL-rev14.pptx
49
Design Perspective
• Selecting Design Perspective
VIRL-rev14.pptx
50
Design Perspective
• Selecting Design Perspective
VIRL-rev14.pptx
51
Design Perspective
• Topology Editor Pane
VIRL-rev14.pptx
52
Design Perspective
• Topology Editor Pane
VIRL-rev14.pptx
53
Design Perspective
• Properties Pane
VIRL-rev14.pptx
54
Design Perspective
• Properties Pane
VIRL-rev14.pptx
55
Design Perspective
• Projects Pane
VIRL-rev14.pptx
56
Design Perspective
• Projects Pane
VIRL-rev14.pptx
57
Design Perspective
• Nodes & Tools Palette
VIRL-rev14.pptx
58
Design Perspective
• Nodes & Tools Palette
VIRL-rev14.pptx
59
Available Nodes
• Still want more node options?
– Other Virtual Devices can be added
• A10 (vthunder)
• ALU 7750’s (vSRX)
• F5 BIG IP
• Extreme Networks
• Fortinet FortiGate FW
• HP VSR1k
• Juniper 
– vMX
– vSRX
• Palo Alto Networks
• Windows
• Others . . .
VIRL-rev14.pptx
60
Simulation Perspective
• Selecting Simulation Perspective
VIRL-rev14.pptx
61
Simulation Perspective
• Selecting Simulation Perspective
VIRL-rev14.pptx
62
Simulation Perspective
• Topology Pane
VIRL-rev14.pptx
63
Simulation Perspective
• Topology Pane
VIRL-rev14.pptx
64
Simulation Perspective
• Simulation Pane
VIRL-rev14.pptx
65
Simulation Perspective
• Simulation Pane
VIRL-rev14.pptx
66
Simulation Perspective
• Console Pane
VIRL-rev14.pptx
67
Simulation Perspective
• Console Pane
VIRL-rev14.pptx
68
Simulation Perspective
• Projects Pane
VIRL-rev14.pptx
69
Simulation Perspective
• Projects Pane
VIRL-rev14.pptx
70
Topology & Simulation Controls
• Simulation Control Buttons
VIRL-rev14.pptx
71
Topology & Simulation Controls
• Simulation Control Buttons
Stop Simulation
Launch Simulation
Build Initial Configuration
(uses AutoNetKit data)
VIRL-rev14.pptx
72
VIRL Learning Labs Tutorial
Introduction to VM Maestro
Exercise 1:
Exercise 2: Creating a New VIRL Topology
Exercise 3: Creating a Simple Network using IOSv
Exercise 4: Building Configurations and Visualizations
Exercise 5: Working with VIRL Simulations
Exercise 6: Working with Router Configurations
Exercise 7: Configuring Routing Protocols – Part 1
Exercise 8: Configuring Routing Protocols – Part 2
Exercise 9: Configuring Management Access
Exercise 10: Configuring Layer-2 Switching
Exercise 11: Other Node Sub-Types and Servers
VIRL-rev14.pptx
73
Creating a New Topology
• Right-click “My Topologies” in Projects pane
– Select “New  Topology” and give it a name.
• Click “Finish”
VIRL-rev14.pptx
74
Creating a New Topology
• Set Management Network in Properties pane
– Use “Private simulation network” for now.
VIRL-rev14.pptx
75
VIRL Learning Labs Tutorial
Introduction to VM Maestro
Exercise 1:
Exercise 2: Creating a New VIRL Topology
Exercise 3: Creating a Simple Network using IOSv
Exercise 4: Building Configurations and Visualizations
Exercise 5: Working with VIRL Simulations
Exercise 6: Working with Router Configurations
Exercise 7: Configuring Routing Protocols – Part 1
Exercise 8: Configuring Routing Protocols – Part 2
Exercise 9: Configuring Management Access
Exercise 10: Configuring Layer-2 Switching
Exercise 11: Other Node Sub-Types and Servers
VIRL-rev14.pptx
76
Creating a Simple Network with IOSv
• Select an icon from Nodes pane
• Click on Topology pane to place
VIRL-rev14.pptx
77
Creating a Simple Network with IOSv
• Select “Connect” Tool from Tools pane
• Click on nodes to connect as desired
– Only GigE interfaces for now
VIRL-rev14.pptx
78
Agenda
• What is VIRL?
• VIRL Architecture
• VIRL Components
• VIRL Installation
• VIRL Basics
• AutoNetkit
• Layer-2 Switching
• VIRL Advanced Features
VIRL-rev14.pptx
79
AutoNetkit
• Automatically create configurations
– Easily prebuild networks for further experimentation
• Assigns IP Addresses (IPv4 & IPv6)
• Configures Interfaces
• Configures IGP
• Configures BGP including RR’s if desired
• Configures MPLS
– Easily prebuild networks without configurations
• Allows you to start configuring from scratch
– Only contains basic config like hostname, etc.
– May be disabled on a router by router basis
VIRL-rev14.pptx
80
AutoNetkit
• Simulation Settings
– IP Families
– CDP
– Other Global Settings
• Router Settings
– ASN
– IGP
– ODL Groups
– And more
VIRL-rev14.pptx
81
AutoNetkit – Simulation Settings
VIRL-rev14.pptx
82
AutoNetkit – Router Settings
VIRL-rev14.pptx
83
AutoNetkit – More Router Settings
VIRL-rev14.pptx
84
Agenda
• What is VIRL?
• VIRL Architecture
• VIRL Components
• VIRL Installation
• VIRL Basics
• AutoNetkit
• Layer-2 Switching
• VIRL Advanced Features
VIRL-rev14.pptx
85
Types of L2 Switches
• Unmanaged Switch
– Simple “generic” Switch
– Based on “Linux Bridge” vSwitch
• IOSvL2 Switch
– Based on IOS
– Contains most IOS L2 Switch features
– AutoNetkit configured
• Only key L2 functions configured
• Others configured manually
VIRL-rev14.pptx
86
IOSvL2 Switch Features
• Layer-2 forwarding (auto-config’d)
• VTP v1-3
• Switchport (auto-config’d)
• 802.1q trunk (auto-config’d)
• 802.1q vlans (auto-config’d)
• PVST
• QoS
• Inter-vlan routing
• Spanning Tree (auto-config’d)
• Vlan Access Maps (VACLs / access control 
• Port-Channel (Pagp and Lacp)