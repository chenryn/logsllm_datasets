User: On an Ubuntu server, how to use Nginx as a reverse proxy to achieve load balancing?
Assistant: 1. Install Nginx On the Ubuntu server, you must first install Nginx. You can use the following command to install the latest version of Nginx: sudo apt-get update sudo apt-get install nginx 2. Modify the Nginx configuration file The configuration file of Nginx is located at /etc/nginx/nginx.conf. Open the file and make the following changes: Add the following to the upstream in the http block: upstream backend { server backend1.example.com:8080; server backend2.example.com:8080; server backend3.example.com:8080; } this The configuration defines a load balancing cluster named backend. The cluster has three server descriptions. Nginx will distribute requests to these three servers. Add the following content to the server block: server { listen 80; server_name example.com; location / { proxy_pass http://backend; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } } This will create a virtual host for Nginx that listens on port 80. On the request for example.com, all requests are Will be proxied to /backend. The host will send requests to the load balancing pool specified by the proxy_pass directive. 3. Test Nginx Save and exit the file. Reload the Nginx configuration file with the following command in Terminal to refresh the changes: sudo service nginx reload Now you can test that Nginx is working properly. Open a web browser and enter the server's IP address or domain name, such as http://your_domain.com. The Nginx server will be accessed. Open the developer tools of the browser, enter the Network panel, and you will see that the request is distributed to three backend servers. So far, the reverse proxy configuration is complete, and Nginx distributes requests to three servers.