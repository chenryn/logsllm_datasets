(a) Θj−1.
UA
UB
UC
UD
UE
UF
UG
UH
0.005
0.01
0.015
0.02
0.025
0.03
 (seconds, 500 microseconds bins)
Θ
j
(b) Θj.
UA
UB
UC
UD
UE
UF
UG
UH
−0.01
−0.005
0
0.005
0.01
0.015
∆
j−1,j
 (seconds, 50 microseconds bins)
(c) ∆j−1,j .
Figure 13: Path queueing delays for loss-pair events
P01x– and P10xR00 and their diﬀerences obtained
from UA–UH to PL009 between 02:35 and 06:15
UTC during the loss episode e2.
for events P00xR01 and P00xR10 and their diﬀerences dur-
ing e3 in Figures 16(a)-16(c). In particular, Figures 16(a)-
16(b) show that group (i) exhibits a single mode at around
4 ms for the path queueing delays for both events P00xR01
and P00xR10. According to Figure 15(a), the path queue-
ing delays represent the congestion experienced by the group
of sources during the RTT inﬂation period, during which al-
most all the loss pairs were found. We also notice that group
(ii) exhibits a similar (but weaker) mode at around 3.5 ms,
but the mode vanishes if we only consider the loss pairs out-
side the RTT inﬂation period. Consequently, it seems that
all eight sources suﬀered from the same congestion point
during the RTT inﬂation. Based on the tcptraceroute re-
sults, the congestion point was very likely a router hop in
the destination’s network which was the only one present in
all eight reverse routes.
Figures 16(a)-16(b) also show that group (ii) exhibits an-
other stronger mode at around 500 µs. A further investiga-
tion ﬁnds that the mode was contributed by the loss pairs
across the loss episode e3 (instead of only outside the RTT
inﬂation period). This observation suggests that multiple
congestion points existed across e3 for the paths in group
(ii). Moreover, it is interesting to note from Figure 16(c)
that the two groups experienced a similar H (h∗)’s link ca-
pacity estimate of at least 100 Mbits/s.
99Figure 14: Heat-map time series for the frequency of event P00xR01 from UA–UH to PL014.
(a) UC.
(b) UF.
Figure 15: RTT time series for the paths from UC
and UF to PL014 during the loss episode e3.
6. CONCLUSIONS
In this paper, we revisited the loss-pair measurement method
proposed a decade ago. Based on our new analysis and In-
ternet measurement results, we concluded that the loss-pair
measurement is a very useful method for correlating a packet
loss event and the delay that would be experienced by the
lost packet. This correlation provides insight into, for exam-
ple, the congested node’s state upon packet drop, capacity
of a link preceding the congested node, and loss asymmetry.
Moreover, the loss-pair measurement could be incorporated
in the existing measurement tools, such as capacity measure-
ment based on packet-pair dispersion. A possible direction
to extending this work is to integrate the loss-pair measure-
ment with capacity measurement, and the other is to obtain
useful path signatures for path ﬁngerprinting and detecting
common congestion points for multiple paths.
Acknowledgments
This work is partially supported by a grant (ref. no. ITS/355
/09) from the Innovation Technology Fund in Hong Kong
and a grant (ref. no. H-ZL17) from the Joint Universities
Computer Centre of Hong Kong.
7. REFERENCES
[1] endace. http://www.endace.com/.
[2] TCPDUMP/LIBPCAP public repository.
http://www.tcpdump.org/.
0.4
0.3
0.2
0.1
y
t
i
s
n
e
d
y
t
i
l
i
b
a
b
o
r
P
0
0
0.4
0.3
0.2
0.1
y
t
i
s
n
e
d
y
t
i
l
i
b
a
b
o
r
P
0
0
0.06
0.04
0.02
y
t
i
s
n
e
d
y
t
i
l
i
b
a
b
o
r
P
UA
UB
UC
UD
UE
UF
UG
UH
UD, UF, UG
UA, UB, UC, UE, UH
0.005
0.01
0.015
0.02
0.025
0.03
Θ
j−1
 (seconds, 500 microseconds bins)
(a) Θj−1.
UA
UB
UC
UD
UE
UF
UG
UH
UD, UF, UG
UA, UB, UC, UE, UH
0.005
0.01
0.015
0.02
0.025
0.03
 (seconds, 500 microseconds bins)
Θ
j
(b) Θj.
UA
UB
UC
UD
UE
UF
UG
UH
UD, UF, UG
UA, UB, UC, UE, UH
0
−0.01
−0.005
∆
j−1,j
0.005
 (seconds, 50 microseconds bins)
0
0.01
(c) ∆j−1,j .
Figure 16: Path queueing delays for loss-pair events
P00xR01 and P00xR10 and their diﬀerences obtained
from UA–UH to PL014 during the loss episode e3.
[3] The Joint Universities Computer Centre (JUCC).
http://www.jucc.edu.hk/jucc/harnet.html, May 2010.
[4] A. Adams, J. Mahdavi, M. Mathis, and V. Paxson.
Creating a scalable architecture for Internet
measurement. In Proc. INET, 1998.
[5] M. Allman, W. Eddy, and S. Ostermann. Estimating
loss rates with TCP. ACM SIGMETRICS Perform.
Eval. Rev., 31(3):12–24, 2003.
[6] F. Baccelli, S. Machiraju, D. Veitch, and J. Bolot. The
role of PASTA in network measurement. In Proc.
ACM SIGCOMM, 2006.
[7] F. Baccelli, S. Machiraju, D. Veitch, and J. Bolot. On
optimal probing for delay and loss measurement. In
Proc. ACM/USENIX IMC, 2007.
[8] J. Bellardo and S. Savage. Measuring packet
reordering. In Proc. ACM SIGCOMM IMW, 2002.
100[9] J. Bolot. End-to-end packet delay and loss behavior in
the Internet. In Proc. ACM SIGCOMM, 1993.
inference of loss nature in a hybrid wired/wireless
environment. In Proc. WiOpt, 2003.
[10] R. Carter and M. Crovella. Measuring bottleneck link
[33] X. Luo, E. Chan, and R. Chang. Design and
speed in packet-switched networks. Performance
Evaluation, 27-28:297–318, 1996.
[11] E. Chan, X. Luo, and R. Chang. A
minimum-delay-diﬀerence method for mitigating
cross-traﬃc impact on capacity measurement. In Proc.
ACM CoNEXT, 2009.
[12] Y. Cheng, V. Ravindran, and A. Leon-Garcia.
Internet traﬃc characterization using packet-pair
probing. In Proc. IEEE INFOCOM, 2007.
implementation of TCP data probes for reliable and
metric-rich network path monitoring. In Proc.
USENIX Annual Tech. Conf., 2009.
[34] X. Luo and R. Chang. Novel approaches to end-to-end
packet reordering measurement. In Proc.
ACM/USENIX IMC, 2005.
[35] R. Mahajan, N. Spring, D. Wetherall, and
T. Anderson. User-level Internet path diagnosis. In
Proc. ACM SOSP, 2003.
[13] M. Coates and R. Nowak. Network loss inference using
[36] B. Melander, M. Bjorkman, and P. Gunningberg. A
unicast end-to-end measurement. In Proc. ITC Conf.
IP Traﬃc, Modeling and Management, 2000.
[14] L. Deng and A. Kuzmanovic. Monitoring persistently
congested Internet links. In Proc. IEEE ICNP, 2008.
[15] G. Denisa, H. Nguyen, M. Kurant, K. Argyraki, and
P. Thiran. Netscope: Practical network loss
tomography. In Proc. IEEE INFOCOM, 2010.
new end-to-end probing and analysis method for
estimating bandwidth bottlenecks. In Proc. IEEE
GLOBECOM, 2000.
[37] H. Nguyen and M. Roughan. On the correlation of
Internet packet losses. In Proc. ATNAC, 2008.
[38] A. P´asztor and D. Veitch. The packet size dependence
of packet-pair like methods. In Proc. IWQoS, 2002.
[16] C. Dovrolis, P. Ramanathan, and D. Moore. Packet
[39] K. Papagiannaki, R. Cruz, and C. Diot. Network
dispersion techniques and a capacity-estimation
methodology. IEEE/ACM Trans. Netw.,
12(6):963–977, 2004.
[17] N. Duﬃeld, L. Presti, V. Paxson, and D. Towsley.
Network loss tomography using striped unicast probes.
IEEE/ACM Trans. Netw., 14(4):697–710, 2006.
[18] W. Feng, K. Shin, D. Kandlur, and D. Saha. The
BLUE active queue management algorithms.
IEEE/ACM Trans. Netw., 10(4):513–528, 2002.
[19] R. Fielding, J. Gettys, J. Mogul, H. Frystyk,
L. Masinter, P. Leach, and T. Berners-Lee. Hypertext
transfer protocol – HTTP/1.1. RFC 2616, IETF, June
1999.
[20] S. Floyd and V. Jacobson. Random early detection
gateways for congestion avoidance. IEEE/ACM Trans.
Netw., 1(4):397–413, 1993.
[21] K. Harfoush, A. Bestavros, and J. Byers. Robust
identiﬁcation of shared losses using end-to-end unicast
probes. In IEEE ICNP, 2000.
[22] S. Hemminger. Network emulation with NetEm. In
Proc. Australia’s National Linux Conference, 2005.
[23] N. Hu and P. Steenkiste. Evaluation and
characterization of available bandwidth probing
techniques. IEEE Journal on Selected Areas in
Communications, 21(6):879–894, 2003.
[24] V. Jacobson. Congestion avoidance and control. In
Proc. ACM SIGCOMM, 1988.
[25] M. Jain and C. Dovrolis. End-to-end available
bandwidth: Measurement methodology, dynamics,
and relation with TCP throughput. IEEE/ACM
Trans. Netw., 11(4):537–549, 2003.
[26] R. Kapoor, L. Chen, L. Lao, M. Gerla, and
M. Sanadidi. CapProbe: A simple and accurate
capacity estimation technique. In Proc. ACM
SIGCOMM, 2004.
[27] S. Katti, D. Katabi, C. Blake, E. Kohler, and
J. Strauss. MultiQ: Automated detection of multiple
bottleneck capacities along a path. In Proc.
ACM/USENIX IMC, 2004.
[28] S. Keshav. A control-theoretic approach to ﬂow
control. In Proc. ACM SIGCOMM, 1991.
[29] E. Kohler. The Click Modular Router Project.
http://read.cs.ucla.edu/click/.
[30] J. Liu. Characterizing Network Elements and Paths
Using Packet Loss Behavior. PhD dissertation, Boston
University, 2003.
[31] J. Liu and M. Crovella. Using loss pairs to discover
network properties. In Proc. ACM SIGCOMM IMW,
2001.
[32] J. Liu, I. Matta, and M. Crovella. End-to-end
performance monitoring at small time scales. In Proc.
ACM/USENIX IMC, 2003.
[40] J. Poskanzer. mini httpd: small HTTP server.
http://www.acme.com/software/mini httpd/.
[41] D. Rubenstein, J. Kurose, and D. Towsley. Detecting
shared congestion of ﬂows via end-to-end
measurement. IEEE/ACM Trans. Netw.,
10(3):381–395, 2002.
[42] S. Saroiu, P. Gummadi, and S. Gribble. A
measurement study of peer-to-peer ﬁle sharing
systems. In Proc. MMCN, 2002.
[43] S. Saroiu, P. Gummadi, and S. Gribble. SProbe: A
fast technique for measuring bottleneck bandwidth in
uncooperative environments. In Proc. IEEE
INFOCOM, 2002.
[44] S. Savage. Sting: A TCP-based network measurement
tool. In Proc. USENIX Symp. Internet Tech. and Sys.,
1999.
[45] R. Sinha, C. Papadopoulos, and J. Heidemann.
Fingerprinting Internet paths using packet pair
dispersion. Technical Report 06-876, USC, Computer
Science Dept., 2005.
[46] J. Sommers, P. Barford, N. Duﬃeld, and A. Ron.
Improving accuracy in end-to-end packet loss
measurement. In Proc. ACM SIGCOMM, 2005.
[47] J. Sommers, P. Barford, N. Duﬃeld, and A. Ron. A
geometric approach to improving active packet loss
measurement. IEEE/ACM Trans. Netw.,
16(2):307–320, 2008.
[48] M. Tariq, A. Dhamdhere, C. Dovrolis, and
M. Ammar. Poisson versus periodic path probing (or,
does PASTA matter?). In Proc. ACM/USENIX IMC,
pages 10–10, 2005.
[49] M. Toren. tcptraceroute.
http://michael.toren.net/code/tcptraceroute/.
[50] Y. Wang, C. Huang, J. Li, and K. Ross. Queen:
Estimating packet loss rate between arbitrary Internet
host. In Proc. PAM, 2009.
[51] W. Wei, B. Wang, D. Towsley, and J. Kurose.
Model-based identiﬁcation of dominant congested
links. In Proc. ACM/USENIX IMC, 2003.
[52] M. Yajni, S. Moon, J. Kurose, and D. Towsley.
Measurement and modelling of the temporal
dependence in packet loss. In Proc. IEEE INFOCOM,
1999.
[53] Y. Zhang and N. Duﬃeld. On the constancy of
Internet path properties. In Proc. ACM SIGCOMM
IMW, 2001.
101