User: Install Tomcat 9 on a CentOS 7 server and configure it to start as a service. Please provide detailed operation steps.
Assistant: The following are the detailed steps to install Tomcat 9 on CentOS 7 and configure it as a service: 1. Install the Java runtime environment In CentOS 7, you can use the following command to install Java: ``` sudo yum install java-1.8.0-openjdk ``` 2. Download Tomcat 9 Download the Tomcat 9 binary distribution (.tar.gz or .zip format file ), save to any directory. 3. Decompress Tomcat 9 Execute the following command in any directory to decompress Tomcat 9: ``` sudo tar -xzvf apache-tomcat-9.0.48.tar.gz ``` Note: apache-tomcat-9.0.48.tar.gz It is the file name of the binary compressed package of Tomcat 9, which should be replaced according to the actual situation. 4. Configure Tomcat 9 system variables In CentOS 7, you usually need to set the following variables: ``` export CATALINA_HOME=/usr/local/apache-tomcat-9.0.48 export JAVA_HOME=/usr/lib/jvm/java-1.8 .0-openjdk export PATH=$JAVA_HOME/bin:$CATALINA_HOME/bin:$PATH ``` This can be added to the /etc/profile file so that it is automatically loaded on every login. You can also execute the above commands in the current shell to set environment variables. 5. Start Tomcat 9 Enter the bin directory of Tomcat 9 in the terminal, and execute the following command to start Tomcat 9: ``` sudo ./catalina.sh start ``` 6. Test Tomcat 9 Enter the following address in the browser to test Tomcat 9 is installed correctly: ``` http://localhost:8080/ ``` If it can be accessed normally, it means that Tomcat 9 has been successfully installed and started. 7. Configure Tomcat 9 as a service and create a tomcat9.service file under the /etc/systemd/system/ directory with the following content: ``` [Unit] Description=Tomcat 9 After=syslog.target network.target [Service] Type= forking User=root Group=root Environment=JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk Environment=CATALINA_PID=/usr/local/apache-tomcat-9.0.48/logs/tomcat.pid Environment=CATALINA_HOME =/usr/local/apache-tomcat-9.0.48 Environment=CATALINA_BASE=/usr/local/apache-tomcat-9.0.48 Environment='CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC' Environment='JAVA_OPTS =-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom' ExecStart=/usr/local/apache-tomcat-9.0.48/bin/startup.sh ExecStop=/usr/ local/apache-tomcat-9.0.48/bin/shutdown.sh [Install] WantedBy=multi-user.target ``` Note that the path in the environment variable should be modified according to the actual situation. After saving the file, execute the following command to reload the service configuration: ``` sudo systemctl daemon-reload ``` Then start the Tomcat 9 service: ``` sudo systemctl start tomcat9.service ``` Confirm that Tomcat 9 is successfully started and running: ` `` sudo systemctl status tomcat9.service ``` If the service is running successfully, it should output details including the PID of the Tomcat process. Finally, add the Tomcat 9 service to the system startup item so that it can start automatically when the system starts: ``` sudo systemctl enable tomcat9 ``` So far, Tomcat 9 has been successfully installed and configured to start as a service.