渗透测试人员都习惯一台笔记本走天下，但有的时候笔记本还是太大，一些地方用笔记本做渗透测试还是太招摇，而且有的时候也不会随身都带笔记本。这时如果可以利用随身携带的手机进行渗透，想想都很酷。众所周知，手机版的kali就是Kali
NetHunter，但这神器一是要刷机，二是适配的手机非常少，三是即使刷成功了，那你手机上原来的各种软件就不那么好用了。今天跟大家分享一下如何在手机（Android&IOS）上不刷机、免root安装nmap、sqlmap、msf等工具，将手机改造成移动渗透利器。
## Android 篇
### 0x01 安装Termux
Termux是一款开源且不需要root，运行在Android终端上极其强大的linux模拟器，支持apt管理软件包，完美支持python,ruby,go,nodejs。  
termux 下载:   
termux 官网：  
安装第一次打开会显示下图：  
注意，安装完成后要进行权限设置，Termux只有一个存储权限，记得打开，否则Termux会一直如上图一样旋转；  
安装完毕，Termux登场：  
### 0x02 Termux基本使用
  * Termux界面长按屏幕，显示菜单项（包括返回、复制、粘贴、更多），此时屏幕出现可选择的复制光标。 
  * Termux界面从左向右滑动，显示隐藏式导航栏，可以新建、切换、重命名会话session和调用弹出输入法 
常用快捷键：
    音量-键(Ctrl)+L                清除屏幕内容
    音量-键(Ctrl)+C                终止当前操作
    音量-键(Ctrl)D                 退出当前会话session
    音量+键+D                      Tab键（可自动补全命令或文件名）
    音量+键+W                      方向键 上（可显示前一条命令）
    音量+键+S                      方向键 下（可显示后一条命令）
    音量+键+A                      方向键 左（可左移动光标）
    音量+键+D                      方向键 右（可右移动光标）
    音量+键+Q                      显示或关闭扩展键（ESC、插入链接CTR、ALT、TAB、-、/、|以及左滑扩展键一栏可切换到全功能支持手机输入法的输入框）
常用命令（和linux基本类似）：
    apt update                    更新源
    apt search             全文搜索可安装包
    apt install          安装软件包
    apt upgrade                   升级软件包
    apt show             显示软件包的信息
    apt list [--installed]        列出所有（或已安装）的软件包信息
    apt remove           删除软件包
    chmod                         修改文件权限
    chown                         修改文件归属
    ...
### 0x03 打造Android渗透神器
1、更新源：
    apt update && apt upgrade   
    cd ..
    cd usr/etc/apt
    vim sources.list
修改源：
    deb [arch=all,aarch64] http://mirrors.tuna.tsinghua.edu.cn/termux stable main
    apt update
2、安装nmap
    apt install nmap
很方便，完成后在手机上出现熟悉界面：  
3、安装sqlmap
首先安装运行sqlmap所需要的包python2，以及clone GitHub包的git包
    apt install python2 git
    git clone https://github.com/sqlmapproject/sqlmap
时间略长，完成后在手机上出现熟悉界面：  
4、安装msf  
首先安装wget：
    pkg install wget
下载msf安装脚本：
    wget https://Auxilus.github.io/metasploit.sh
运行安装脚本：
    sh metasploit.sh
这个过程比较慢，大概需要40分钟左右，成功后，在手机中出现熟悉的界面：  
## IOS 篇
### 0x01 安装iSH
iSH是一个使用usermode x86模拟器将Linux shell引入IOS设备的工具，基于Alpine
Linux，该程序占用空间小，具备一定的安全性且易于上手。不过目前iSH还处于测试阶段，部分功能还不完善。
iSH github地址：
由于目前iSH还是beta版，所以想要在IOS设备上安装iSH，首先需要安装APP TestFlight，它可以帮助开发人员测试 Beta 版
App。TestFlight运行环境要求： iOS 8 或更高版本的 iPhone、iPad 或 iPod touch。  
安装TestFlight后，打开链接： 
，然后点击“开始测试”，如图所示，就可以打开TestFlight并收到加入iSH测试版的邀请了。  
安装iSH完毕后，出现iSH界面：  
### 0x02 iSH基本使用
iSH自带了多功能键盘：  
上图中的四个图标分为是：TAB键、Shift键、ESC键以及可以滑动的方向键，结合手机的键盘，基本可以满足shell的一些操作。
常用命令：
    apk update                    更新源
    apk search             全文搜索可安装包
    apk add              安装软件包
    apk upgrade                   升级软件包
    apk list [--installed]        列出所有（或已安装）的软件包信息
    apk del              删除软件包
    chmod                         修改文件权限
    chown                         修改文件归属
    ...
### 0x03 打造iOS渗透神器
1、更新源：
    apk update
    apk upgrade
2、安装nmap
    apk add nmap
很方便，完成后在iphone手机上出现熟悉界面：  
需要注意的是，在安装过程中，iphone或者ipad不能锁屏，需要在设置->显示与亮度->自动锁定 设置为为永不锁定，否则会安装失败报错。  
3、安装sqlmap
首先安装运行sqlmap所需要的包python2，以及clone GitHub包的git包
    apk add python2 git
    git clone https://github.com/sqlmapproject/sqlmap
时间略长，完成后在ipad上出现熟悉界面：  
## 其他
如果对手机的键盘不太适应，可以搭配购买便携式的蓝牙键盘，操作起来更加顺手，携带也很方便，可以说是一机在手，天下我有~  
说明，本教程文章仅限用于学习和研究目的，请勿用于非法用途。