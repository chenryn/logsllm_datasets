## IMPORTANT: DevOps Kit (AzSK) is being sunset by end of FY21. More details [here](../../../ReleaseNotes/AzSKSunsetNotice.md)
----------------------------------------------
DataLakeAnalyticsDescription & RationaleControlSeverityAutomatedFix ScriptData Lake Analytics creator must be granted only required Role Based Access Control (RBAC) access on Subscription/Resource Group/ResourceGranting minimum access by leveraging RBAC feature ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user/service account compromise.MediumNoNoAll Data Lake Analytics users/service principal must be authenticated using AAD backed credentialsUsing the native enterprise directory for authentication ensures that there is a built-in high level of assurance in the user identity established for subsequent access control. All Enterprise subscriptions are automatically associated with their enterprise directory (xxx.onmicrosoft.com) and users in the native directory are trusted for authentication to enterprise subscriptions.HighNoNoAll users/identities must be granted minimum required permissions using Role Based Access Control (RBAC)Granting minimum access by leveraging RBAC feature ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user/service account compromise.MediumYesNoData Lake Analytics developer (user/service principal) must have least required ACLs on Catalog/Database and Data Lake Store file systemGranting minimum permissions to users/security groups on data lake store file system by leveraging Access Control List (ACL) feature ensures that U-SQL jobs executed by users/security groups would perform only intended read/write operations. This minimizes exposure of the data in case of user credentials leak or faulty job programming.MediumNoNoStorage account data source must be added securelySetting up storage data source using PowerShell command eliminates the risk of exposing storage account key (because the key itself is not displayed on the GUI at all).MediumNoNoSecrets to access SQL Azure/SQL VM/SQL Data Warehouse must be securely stored under Catalog database credentialsCredentials added in form of plain text in U-SQL job have higher chances of getting compromised. The job code is also likely check in into a code repository so the credential is visible to many parties.HighNoNoU-SQL script file(s) must be uploaded from a secured/trusted locationADLA U-SQL File Import wizard does not impose any restrictions on file format nor does it scan uploaded files for security issues. If these files are at an insecure/untrustworthy location, they can be tampered/infested. This can lead to compromise of the ADLA jobs and data.HighNoNoDiagnostics logs must be enabled with a retention period of at least 365 days.Logs should be retained for a long enough period so that activity trail can be recreated when investigations are required in the event of an incident or a compromise. A period of 1 year is typical for several compliance requirements as well.MediumYesNoSensitive data must be encrypted at restUsing this feature ensures that sensitive data is stored encrypted at rest. This minimizes the risk of data loss from physical theft and also helps meet regulatory compliance requirements.HighYesNoSensitive data must be encrypted in transitUse of HTTPS ensures server/service authentication and protects data in transit from network layer man-in-the-middle, eavesdropping, session-hijacking attacks.HighNoNoBackup and Disaster Recovery must be planned for the default Data Lake Store accountData Lake Analytics does not offer features to cover backup/disaster recovery out-of-the-box. As a result, when processing critical workloads, a team must have adequate backups of the data and the jobs (catalog, code, etc.).MediumNoNoDiagnostic and activity logs for Data Lake Analytics should be reviewed periodicallyPeriodic reviews of diagnostics, activity and audit logs ensures that anomalous activity can be identified early enough instead of after a major compromise.MediumNoNo