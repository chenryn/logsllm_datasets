Ptrueincurrentstate¬Pfalseincurrentstate●Ptrueinpreviousstate(cid:2)Ptrueinsomepreviousstate■Ptrueinallpreviousstates❍Ptrueinnextstate♦Ptrueincurrentorsomefuturestate❑PtrueincurrentandallfuturestatesP→QPimpliesQincurrentstateP⇒Q❑(P→Q);PimpliesQinallstatesP⇔QPiffQinallstates●■<TPtruefordurationTinpreviousstate●(cid:2)<TPtrueatleastonceindurationTinpreviousstate@P●¬P∧P;trueincurrentstate,falseinpreviousFigure1.Temporallogicoperatorsonlybyasystem-levelmonitor.However,thesubsys-temmonitorsdiddetectsomesituationsinwhichtheparentgoalwasviolated,andmonitorsatboththesys-temandsubsystemlevelsdetectedviolationsthatmaybeimperceptibletosystemtestersdrivingthevehicle.Inaddition,suspecteddesigndefectsidentiﬁedduringtheICPAprocesswereconﬁrmedatrun-time.2.BackgroundandpreviousworkThefocusofthisresearchiselaboratingemergentsys-temsafetygoalsacrossacompositesystem.Thissec-tionreviewsformalspeciﬁcationofcompositesystems,priorworkontheICPAtechnique,andemergence.2.1.FormalspeciﬁcationofcompositesystemsFormalreasoningaboutspeciﬁcationofcompositesys-temswasintroducedin[11].Componentbehaviorspec-iﬁcationswerederivedbypruning(eliminatingbehav-iorswhichviolateaconstraint)anddecomposingcon-straintstoassigntoagents.Mylopoulosetal.[22]pre-sentedaprocess-orientedapproachforspecifyingnon-functionalrequirementsthatdeﬁnedthemintermsofgoals,linksbetweengoals,methodsforgoalreﬁne-ment,correlationrules,andalabelingstructureforlink-inggoalstodesigndecisions.Intentspeciﬁcations[18]andsafetypatterns[3][4]aretwoadditionalapproachestospecifyingnon-functionalrequirementsthatprovideframeworksforexpressingsystemsafetygoals,butdonotoffertacticsforsafetygoaldecomposition.Theapproachproposedinthispaperbuildspri-marilyuponGoal-OrientedRequirementsEngineering(GORE)asdeﬁnedbytheKAOSframework[8].Ingoal-orientedrequirementselicitation,goalsarecon-structedintemporallogicexpressions[13].Figure1liststhetemporaloperatorsofKAOSusedinthispaper.IntheKAOSframework,goalrealizabilityisdrivenbymonitorabilityandcontrollabilityofsystemstatevari-ables[15].AgoalrelationcanbeexpressedasG(M,C),whereGisthegoaltoberealizedinthesystem,Misthesetofvariablesinthegoaltobemonitored,andCisthesetofvariablesinthegoaltobecontrolled.AgoalisrealizablebyanagentifMisasubsetofthevariablesmonitoredbyagentagandCisasubsetofthevariablescontrolledbyagentag,(M⊆Mon(ag)andC⊆Ctrl(ag)).Agoalmayalsoberealizablebyasetofrealizablesubgoalsthatsatisfytheparentgoalwithoutbeingmorerestrictive.Oneadvantageofusingformalspeciﬁcationsisthatgoalstructurecanguideelaboration.High-levelgoalsarereﬁnedintosub-goalsbyAND/ORreductions[23],byapplyingformalreﬁnementpatternsforlogicalex-pressions[9],andbydeﬁningsubgoalsthatarerealiz-ablebyparticularagents[15].Goalpatternsalsoguideoperationalizationintoconstraintsandtriggersforac-tionsperformedbyagentsinthesystem[16].Inad-dition,thereareseveraltechniquesforidentifyingandresolvingconﬂictsbetweengoals[14].2.2.IndirectControlPathAnalysis(ICPA)Theaimofgoalelaborationistodeﬁnesubgoalsthatmeettheparentgoalandarerealizablebyagentsinthesystem(i.e.canbeoperationalized)[15].Anadditionalaimofsafetygoalelaborationistoemployagoalcover-agestrategy.Additionaltacticsareneededforsafetybe-causeexistingtacticsdeﬁnesubgoalsthatexactlymeettheparentgoalwithoutbeingmorerestrictiveorredun-dant[15].Safetygoalsmayrequireredundancyorre-strictionbeyondexactlymeetingtheparentgoalinor-dertotakeintoaccountcomponentfailures.IndirectControlPathAnalysis(ICPA)[5]wasintro-ducedasawaytoidentifysubgoalsforsubsystemsfromaparentsafetygoal.ICPAisatop-downsearch,sim-ilartoFaultTreeAnalysis(FTA)[17].WhereasFTAtracesatop-levelhazardtoitslower-levelcausalevents,ICPAtracesatop-levelstatevariablethroughthedesigntothecomponentsthatinﬂuenceit.ICPAusesatablestructuresimilartoFailureModesandEffectsAnalysis(FMEA)[17]torecordtheseindirectcontrolrelation-ships.Agentsalongthetracepathbelongtotheindi-rectcontrolpathandrequirefurtheranalysisoftheirrelationshipstotherootvariable.Leveson’sSystems-TheoreticaccidentmodelandProcesshazardAnalysis(STPA)usesasimilarapproachbasedonthecontrolarchitectureofthesystem[19].UnlikeICPA,whichusesbackwardsearchfromsafetygoalsdeﬁnedatthesystemlevelthroughthecontrolarchitecturetodeﬁnesafetygoalsforcomponents,STPAusesforwardsearchfromcomponentoutputstosystemhazards.Agoalcoveragestrategyisaplanforallocatingsub-goalstoensurethatahigh-levelgoalismet.Eachstrategyisdeﬁnedbygoalassignmentandgoalscope.Goalassignmentdeﬁneswhichindirectcontrolsourceshavesubgoalsandhowthosesubgoalsrelatetoeachother(e.g.,singleresponsibility,redundantresponsibil-ity,andcoordinatedresponsibility).Goalassignment978-1-4244-4421-2/09/$25.00 c(cid:13)2009 IEEE
371
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 05:37:55 UTC from IEEE Xplore.  Restrictions apply. 
maybedrivenbyphysicallimitationsofthesystem(e.g.,actuationdelays)orbypossiblelossofmonitora-bilityandcontrollabilitybyagentsinthesystem.Goalscopedeﬁneshowcloselythesafetysubgoalsmeetthesystemsafetygoal.Althoughitmaybepossibleforagentstomeettheoriginalsafetygoalexactly,itmaysometimesbenecessaryordesirabletoassignsubgoalsthataremorerestrictivethantheoriginalsafetygoal.DetailedinformationabouthowtoapplyICPAcanbefoundin[5].2.3.EmergentpropertiesGoalelaborationiscomplicatedbytheemergentna-tureofsystemsafety.EmergencehadbeenobservedinnaturalsystemsasearlyasthetimeofAristotle,whorecognizedthereweresystemsinwhich,“thewholeissomethingbesidetheparts”[1].ThetermemergentwasﬁrstdeﬁnedbyLewes[20],whoassertedthataresul-tantsystemcouldbeexpressedasasumorproductofitscomponents’outputs,whereastheoutputsofcompo-nentsinanemergentsystemarefundamentallydifferentfromeachotherandfromtheresultingsystembehavior:Addheattoheatandthereisameasurableresultant;butaddheattodifferentsubstances,andyougetvar-iouseffects,qualitativelyunlike...Emergencehasalsobeenstudiedincomplexsys-temssuchasartiﬁciallife[7][10]andagent-basedsys-tems[25].Cariani[7]differentiatesbetweenthreetypesofemergence:computational,thermodynamic,orrela-tivetoamodel.Whereascomputationalemergencefo-cusesonidentifyingemergentbehaviorsthatarisefromlocalcomputations,emergencerelativetoamodelismoreconcernedwithhowemergentpropertiesofthesystemaffectthebehaviorofitscomponents.Darley[10]assertsthat,similartothehaltingprob-lem[26],determiningwhetherornotasystemisemer-gentisundecidable,andthebestpredictorofsystembehaviorissimulation.Itmaybepossibletoobserveemergentbehavior(somethingthatisnotpredictedbyindividualcomponentbehaviors)asthesystemruns,butitisimpossibletoknowforsurethatasystemisnon-emergent,oreventhatallemergentbehaviorsinthesys-temhavebeenexposed.Privosnik[25]proposeddeﬁningemergenceatvar-iouslevelsofthehierarchyinagent-basedsystems.Componentbehaviorscontributetoemergentbehaviorsatthesubsystemlevel,whichcontributetonewemer-gentbehaviorsatthesystemlevel.Thus,systembehav-iorisachievedbydeﬁningthebehaviorsofcombina-tionsofagents,aswellastheagentsthemselves.3.EmergenceandgoalspeciﬁcationIngeneral,emergenceisproblematicbecauseitsbe-haviorsareunexpected.Intelecommunicationsthisiscalledthefeatureinteractionproblem,inwhichaddingfeaturestoasystemproducesnewbehaviorsnotin-cludedinanysinglefeature[6].Insystemsafety,emergencecausestwotypesofproblems.Theﬁrstoccurswheninteractionamongcomponentsproduceshazardousbehaviorsthatarepreviouslyunidentiﬁed(i.e.,somesystemsafetygoalsaremissingorincor-rect).Ifthesetofsystemsafetygoalsisincomplete,thenthesetofsubgoalsobtainedbygoalelaborationwillfailtoachievesystemsafety.Thesecondproblemoccurswheninteractionamongcomponentsproducesemergentbehaviorsthatviolateaknownsystemsafetygoal(i.e.,thesystemwasdesignedandbuilttosatisfythegoalbutultimatelydidnot).Inthiscase,theparentgoalisnotfullysatisﬁedbythesetofsubgoals.Inordertounderstandandhandleemergenceinsys-temsafety,emergencemustbedeﬁnedwithinthecon-textoftheformalspeciﬁcationofthesafetygoals.3.1.EmergentandcomposablebehaviorsInGOREandICPA,agoalisatemporallogicexpres-sionofstatevariables,orsomecombinationofexpres-sionsbylogicalconjunction(connectedbyanANDop-erator)ordisjunction(connectedbyanORoperator).WedeﬁnegoalGtobefullycomposableifthereex-istsasetofnsubgoals{G1,G2,G3,...Gn}thatarere-alizablebyoneormorecomponents,suchthatGisma-teriallyequivalenttotheconjunctionofthesubgoals:G1∧G2∧G3...∧Gn⇔G(1)whichisequivalenttotheconjunctionofexpressions:G1∧G2∧G3...∧Gn⇒G(2)¬G1∨¬G2∨¬G3...∨¬Gn⇒¬G(3)Thus,theparentgoalissatisﬁed(evaluatestoTRUE)whenallsubgoalsaresatisﬁedandisviolated(evaluatestoFALSE)whenanysubgoalisviolated.WedeﬁnegoalGtobeemergentifthereisnosetofsubgoalsrealizablebyanycomponentinthesystemthatsatisfybothEquation(2)andEquation(3).Wede-ﬁnegoalGtobeemergentbutpartiallycomposableifthereexistsasetofmsubgoals{G1,G2,G3,...Gm}thatarerealizablebyoneormorecomponentsinthesystem,plussomeundeﬁnedorunrealizablegoal(s)X,suchthatGismateriallyequivalenttotheconjunctionoftherealizableandundeﬁnedsubgoals:G1∧G2∧G3...∧Gm∧X⇔G(4)whichisequivalenttotheconjunctionofexpressions:G1∧G2∧G3...∧Gm∧X⇒G(5)¬G1∨¬G2∨¬G3...∨¬Gm∨¬X⇒¬G(6)ComposabilityofagoalistheextenttowhichXcanbeminimized.978-1-4244-4421-2/09/$25.00 c(cid:13)2009 IEEE
372
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 05:37:55 UTC from IEEE Xplore.  Restrictions apply. 
Subgoalsforapartiallycomposablesystemgoalarenotveryusefulwhentheobjectiveofthegoalistopro-duceabehavior.InordertoproducebehaviorAinEquation(5),allofthesubgoalsG1throughGmandtheunknowngoal(s)Xwouldhavetobesatisﬁed.With-outknowingXitisimpossibletosayanythingaboutwhetherornotGissatisﬁed.Alternatively,iftherealobjectiveistoprohibitabe-havior,thenapartiallycomposablesystemgoalmaybeofsomeuse.Safetygoalsspecifythe“safe”stateofthesystemtobemaintained,buttherealobjectiveofsystemsafetyistopreventahazardousstatefromoccurring.IfgoalGissomesafetygoal,then¬Gmrepresentsavi-olationofthegoalthatputsthesysteminahazardousstate.Inthissituationitisusefultoknowsomespeciﬁcconditionsinwhichthegoalisviolated,evenifitisimpossibletoknowallconditionsthatsatisfythegoal.InEquation(6),weseethatthegoalisviolatedifanyofgoalsG1throughGnortheunknown/unrealizablegoal(s)Xareviolated.Althoughitisimpossibletoguaranteethesystemwillalwaysbesafewithoutknow-ingX,itispossibletoeliminatesomeknowncondi-tionsthatputthesystemintoahazardousstate.Inotherwords,itmaybepossibletospecifysome,butnotallcomponentbehaviorsorinteractionsthatcauseahazard.Forexample,itmaybeknownthatavehiclewillaccelerateifasubsystemappliesthethrot-tle.However,theremaybeadditionalunknowninterac-tionsinthevehiclethatalsocausevehicletoaccelerate(e.g.,lossofbrakeﬂuidcombinedwithaslick,slopedroad).Ifasafetygoalrestrictsaccelerationsoveracer-tainthreshold,itisimportanttopreventknownsourcesofaccelerationfromviolatingthegoal,inthiscasebylimitingtheaccelerationcausedbyasubsystem.Thesedeﬁnitionsapplytocompositionswithoutre-dundantgoalcoverage.Whenredundantsubgoalsetsareused,theequationsinlcudetheredundantsetscon-nectedbyORoperators.3.2.EmergenceandICPAInallbutthemostsimplesystems,somedegreeofemergenceisunavoidable.Therewillalwaysbeacom-ponentwhosebehaviorcannotbefullyspeciﬁedoranunanticipatedinteractionamongcomponents.XinEquation(4)couldexistbecauseyoudon’tknowwhattolookfor.Othertimes,Xmightoccurifobservabilityandcontrollabilityrequirementsofthegoalarenotmetbyanysubsystemorcombinationofsubsystems.ThepurposeofICPAistoidentifysubgoalsforsub-systemsthatsatisfythesystem-levelsafetygoal.Howclosethesetofsubgoalscometosatisfyingthepar-entgoaldependsonhowtheindirectcontrolpathsaredeﬁned.ThesetofsubgoalsgeneratedbyICPAwillnotsatisfytheparentgoalifsourcesofindirectcon-trolareomittedfromtheanalysis,orrelationshipsbe-tweenthesesourcesareincorrectlydeﬁned.However,justasitisimpossibletodeterminewhetherasystemisnotemergent,itisalsoimpossibletoknowifmaximumcomposabilityhasbeenextractedfromanemergentbutpartiallycomposablegoal.Inotherwords,itisimpos-sibletodetermineifXisminimizedinEquation(4).Ingeneral,ifagoalcanbeexpressedasaconjunc-tionofexpressions,thenitmaybepartiallycomposable.Agoaloftheform:❑(A∧X)(7)canbedividedintotwosubgoals:❑A(8)❑X(9)Anothergoaloftheform:A∨X⇒B(10)whichisequivalentto:❑((¬A∧¬X)∨B)(11)canbedividedintotwosubgoals:A⇒B(12)X⇒B(13)IfXisunknownorunrealizable,thebehaviorsrequiredbygoals(8)and(12)maystillbeensured,evenifallbe-haviorsrequiredbygoals(7)and(10)cannot.Consideragoalthatrequiresavehicletobestoppedwheneverthereisanobjectinthevehiclepath.Ifobjectdetectionisnon-ideal,thenthegoalcannotbefullyrealized.Thisgoal,includingtheuncertainty,canbeexpressedinthesameformasEquation(10):InPathDetected∨InPathNotDetected⇒StopVehicle(14)Anemergentgoalwithunknownorunrealizablesub-goalsmaystillbesatisﬁedbymakingitmorerestrictiveinoneoftwoways.First,anORreductionmaybeap-pliedtodisjunctions[23].Agoaloftheform:❑(A∨X)(15)whereXisanunknownorunrealizablesubgoal,canbesatisﬁedbythemorerestrictivegoal:❑A(16)Likewise,agoaloftheform:A∧X⇒B(17)whichisequivalentto:❑(¬A∨¬X∨B)(18)canbesatisﬁedbythemorerestrictivegoal:978-1-4244-4421-2/09/$25.00 c(cid:13)2009 IEEE
373
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 05:37:55 UTC from IEEE Xplore.  Restrictions apply. 