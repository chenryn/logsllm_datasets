此，才能有条不紊地以最快速度定位和排除故障。
1．先易后难
排除网络设备故障应当和平时工作一样，先从最简单、最有可能的导致故障的原因开始，
逐一进行排除。运维人员应将导致某种故障的所有原因一一列出，然后从中挑选出发生概率最
大、可能性最高且最易于诊断和排除的原因，并由此入手，这样才能提高故障排查的速度。
例如，当某个端口所连接的计算机发生通信故障时，应当先使用网络管理软件，或者远程
登录至该网络设备，查看故障端口的工作状态，或许故障原因就是端口由于某种原因宕掉了。
第3章 信息系统设施运维 161
这样，只需“enable”该端口，即可恢复该端口的连接。
当使用“enable”无法解决问题时，再查看网络设备的配置，看是否有访问列表或其他设
置影响到该计算机的访问。
确认配置没有错误后，到发生故障的网络设备处，将发生故障的跳线连接到其他同类型和
配置的端口，查看故障是否恢复。
如果故障仍未恢复，再查看用户计算机网卡工作状态是否正常，驱动是否正确安装，IP 地
址信息设置是否正确。
如果客户端确认无误，再测试故障计算机整体链路（包括水平布线、信息插座至计算机的
跳线、配线架至网络设备的跳线）的连通性。
2．先软后硬
所谓“软”，就是指应当先借助网络管理工具软件，远程查看设备的各种配置（包括层路
由配置、访问列表配置、端口属性配置、VLAN和VLANTrunk配置等）、客户端的IP地址信
息、端口的工作状态、网络设备的性能（CPU和内存占用情况等）和运行状态，确认是否由系
统软件和系统配置等“软”因素导致了网络设备故障。然后，再用视图修改系统配置文件，升
级系统软件，重新激活端口或VLAN的方式，修复网络设备的“软”故障。
所谓“硬”，是指在“软”的手段不能奏效，进而怀疑端口、模块、板卡甚至网络设备本
身，以及网络链路发生故障时，以替换相应硬件或链路的方式，修复网络设备的“硬”故障，
恢复正常通信。
3．先边缘后核心
所谓先边缘后核心，是指在诊断和隔离网络故障时，应当先从最边缘的客户端开始，向接
入层、汇聚层和核心层进行，进而定位发生故障的位置，判断发生故障的设备，分析发生故障
的原因。
4．先链路后设备
通常情况下，网络设备发生故障的可能性比较小。与之相对应，网络链路由于接插件比较
多，而任何一个接插件的松动或故障都可能导致物理链路的中断。因此，在发生网络故障时，
如果确认是物理硬件故障，则应当先检查链路的完整性，然后再查看端口或设备是否发生故障。
3.4.5 故障诊断与恢复注意事项
故障排查是一项压力极大的工作，但完成之后却能帮助IT运维团队积累宝贵的处理经验。
相对于日常运维来说，故障排查会给运维人员带来极大的恐慌感。此外，压力的存在还可能导
致愚蠢的低级失误，这就更加需要运维人员以有条不紊的方式逐一开展尝试。故障诊断与修复
工作还应特别注意以下两个方面。
（1）应保证所有修复操作可恢复：为了保障全部具有潜在价值的数据，需要备份当前配置、
162 信息系统运行管理员教程（第2版）
保存虚拟机或 SAN 快照、留存也许会丢失或被覆盖的日志文件副本等，将可能受到影响的数
据复制到正常系统当中，以便应对故障修复工作可能带来的进一步恶化的情况，或在故障修复
成功后进一步针对原始故障数据研究分析，从而找出故障的深层次原因。
（2）重视记录：运维人员需要详细记录故障观察结果及尝试过的故障排查操作步骤，这样
能够防止运维人员一再尝试无效的修复工作，或便于进一步针对故障现象和修复措施进行统计
分析。
3.5 信息系统设施运维系统与专用工具
3.5.1 信息系统设施运维管理系统功能
设施运维管理系统的功能主要包括资源管理、监控管理及故障预警管理功能，具体功能如下。
1．资源管理
1）设施快照
运维人员通过设备快照功能以图形化的形式实时获取设备当前的基本管理信息，包括设备
名称、IP地址、网络掩码、类型、分类、系统描述、所运行的服务名称、服务的状态、服务占
有的端口、服务响应的时间、接口的基本信息及主机资源参数的基本信息等。
2）设施视图
以图形方式呈现信息系统相关设施的信息，能够动态实时显示各类资源的运行状态了解资
源的分布与状态信息，以及对网络中的资源进行监控。系统一般支持以下几方面的视图。
（1）网络拓扑图：以地理视图、层次图等方式显示物理、逻辑网络拓扑结构。
（2）机房平面图：提供机房内设备物理摆放位置的视图。
（3）机架视图：提供设备在机架上物理摆放位置的视图。
（4）设备面板图：对被管理的设备应以与设备同样的物理构成直观进行显示，设备面板图
应同时可以显示正面面板和背面面板。
通过设备面板管理实现对于交换机运行状态、端口流量、端口丢包率等性能参数的监视与
管理，以及对交换机端口的操作，如交换机端口的管理与取消管理，对于端口的开启和关闭等。
设备面板图包括真实面板和仿真面板两种视图方式。
视图管理能够将拓扑视图与故障、性能等功能关联，能够在拓扑图上直观地显示被管理资
源的运行状态，并且支持告警的传递显示。
3）设备活动及安装软件信息
该功能既可作为运维人员管理服务器、关键主机等设备的一个管理对象，同时也可以作为
网络或设备发生异常时，辅助运维人员进行故障分析的一种手段。比如，一台关键服务器的流
量异常增大，产生告警，运维人员可以通过对其活动进程的查看初步了解该服务器目前正在运
行的进程，以初步确定造成流量异常增大的可能原因等。设备活动进程信息列表如图3-12所示。
4）网络设备端口分布
对于网络设备（路由器、交换机等），用户通过双击设备图标，获悉该网络设备端口分布
第3章 信息系统设施运维 163
管理的详细情况。
5）交换机端口分布
交换机端口分布管理是针对用户在日常管理维护工作中，需要实时查看某一台交换机的所
有端口或某几台交换机的所有端口的进出流量等信息而提供的一个参考分析的功能。例如，用
户感觉网络堵塞，想快捷明了地获悉究竟是哪台交换机、哪个端口所连的设备流量较大，可以
通过此功能将所有交换机的所有端口进出流量进行排序，从而及时得到一个准确的结果。
2．监控管理
通过设施的监控及数据的采集和分析，能够及时对影响服务器运行性能的故障事件发送警
告，并采取相应的故障处理措施，保证设施的正常安全运行。
1）基础环境监控
主要包括机房温度、空调工作状态及UPS监控等。
2）网络设备监控
主要包括网络设备监控、网络设备端口丢包监控、ICMP连通性监控等，以及时发现隐患，
具体内容参见3.3.1节。
3）硬件设备监控
对硬件设备的CPU、内存、硬盘、网卡等硬件的关键运行参数进行分类扫描监测，如CPU
性能监控、内存占用监测等，具体内容参见3.3.1节。
（1）CPU性能监测：及时了解硬件CPU 资源占用情况，如图3-5所示。
图3-5 硬件CPU资源占用情况
164 信息系统运行管理员教程（第2版）
（2）内存占用监测：及时了解硬件内存资源占用情况，如图3-6所示。
图3-6 硬件内存资源占用情况
4）基础软件监控
对软件和应用程序的进程、服务、端口等的运行状况进行分类扫描监控，具体内容参见3.3.3节。
（1）基础应用监控：监测基础软件进程的性质，CPU、内存的使用情况，分析进程的安全
状态，监测制定服务的状态。对应用进程运行状态的监测如图3-7所示。
图3-7 应用进程运行状态监测图示
第3章 信息系统设施运维 165
（2）数据库监控：针对数据库的各种指标进行监控。
3．故障预警管理
在做好设施监控与分析的同时，要能够做到故障发生前的性能预警，当某参数超过预置的
门限时，产生告警。
1）资源预警
可以针对资源参数，如 CPU 使用率、内存使用率等设定合理的门限值，在性能越界的时
候给出性能预警，如图3-8所示。
图3-8 资源预警示意
2）网络性能预警
针对网络性能参数，如进/出流量、错误率、丢包率等设定合理的门限值，在性能越界的时
166 信息系统运行管理员教程（第2版）
候给出性能预警。对于网络性能参数的性能预警，不仅仅只是针对整个设备，同时对于设备上
的端口也可以做更为细化的门限和性能预警设置。如交换机，既可以对交换机总流量进行性能
预警，同时又可以对其相应的端口做门限设置后性能预警，如图3-9所示。
图3-9 网络性能预警示意
3）基础软件性能预警
针对所监视的基础软件设定如响应时间等性能的合理门限值，在性能越界的时候给出性能
预警，如图3-10所示。
图3-10 网络服务预警事件示意
3.5.2 典型信息系统设施运维典型专用工具
信息系统设施运维的专用工具主要包括在准备阶段的运维部署工具、过程中的运维配置
工具和运维监控工具，优化改善过程中的日志分析工具及其他辅助专用工具等，具体如表3-31
所示。
第3章 信息系统设施运维 167
表3-31 典型运维专用工具
过程阶段
阶段 准备阶段 过程阶段（监控） 优化改善
（配置管理与自动化）