proactive）。其语境是测试，综合测试使用模拟的或者录制的交易，观
察系统在时间性、功能性上是否满足要求。所以，会监控数据库的性能、
网站的性能，会做流量捕获。
9、被动监控（Passive	monitoring）监控的是实际交易，相当于查看生产
中实际发生的问题。
10、TCP	SYN是半开扫᧿，需要高权限。TCP连接扫᧿不需要。
11、ITIL通常不用于审计。
12、安全内容自动化协议SCAP（Security	Content	Automation	Protocol）是
用于安全缺陷和安全配置信息的开源规范。注意和漏洞、基线管理、配
置检查相关。
13、蓝牙主动扫᧿可以测出蓝牙PIN码的长度，可以测试蓝牙设备工作在
什么模式下。
14、函数、语句（statement，比如c=a+b）、branch分支，if条件，这些
都是覆盖测。
15、Nmap	only	scans	1000	TCP	and	UDP	ports	by	default,	including	ports	
outside	of	the	0–1024	range	of	“well-known”	ports.		
16、XST攻击利用HTTP	trace或track方法，并通过XSS，窃取用户的cookie。
17、TCP，控制位：字段长为 8	位，从左到右分别为 CWR、ECE、URG、ACK、PSH、RST、
SYN、FIN。这些控制标志也叫做控制位。
CWR：CWR 标志与后面的 ECE 标志都用于 IP	首部的 ECN 字段，ECE 标志为 1	时，则通
知对方已将拥塞窗口缩小；
ECE：若其值为 1	则会通知对方，从对方到这边的网络有阻塞。在收到数据包的 IP	首部
中 ECN 为 1	时将 TCP	首部中的 ECE 设为 1.；
URG：该位设为 1，表示包中有需要紧急处理的数据，对于需要紧急处理的数据，与后
面的紧急指针有关；
ACK：该位设为 1，确认应答的字段有效，TCP规定除了最初建立连接时的 SYN 包之外
该位必须设为 1；
PSH：该位设为 1，表示需要将收到的数据立刻传给上层应用协议，若设为 0，则先将
数据进行缓存；
RST：该位设为 1，表示 TCP	连接出现异常必须强制断开连接；
SYN：用于建立连接，该位设为 1，表示希望建立连接，并在其序列号的字段进行序列
号初值设定；
FIN：该位设为 1，表示今后不再有数据发送，希望断开连接。
18、CVSS：通用漏洞评分系统
19、代码走查	code	review，这三种都可以 ：
A.	Email	pass-around		
B.	Over	the	shoulder		
C.	Pair	programming		
20、S／MIME的加密邮件附件用P7S格式。
21、物理上的electronic	access	control就是电子锁，它解决了分配钥匙的
问题。
领域7-安全运营
第16章 管理安全运营
1、安全运营的目标时保障资产安全，主要是发现威胁和漏洞，然后赶紧
实施控制，以降低资产的风险。
主要注意：定期的安全检查和审计，如果你表现出了Due	Care和Due	
diligence，出事时你的责任就会减少。
2、最小特权原则的基本假设：每个人都有明确的工作᧿述，因为没有工
作᧿述的话，就不知道用户需要什么样的特权。
3、最小特权主要考虑的是：需要给一个人他干活的权限，但只能给他最
小的干活的权限。职责（duty）分离的关注点在作案。最小特权
（privilege	）的关注点在权限。
4、特权授予（Entitlement）通常是在第一次开通（first	provisioning	）账
户的时候所赋予的权限，也即创建账户的时候就分配资源和特权（采用
最小特权原则）。
5、用户可能在多个部门任职时，产生特权聚合（Aggregation）的问题，
所以在他们转部门的时候应该收回前一个部门的特权。
6、在两个安全域中，非传递信任（nontransitive	trust）实施了最小特权
原则（并在某一时刻授予信任给单个域），如果是可传递信任(transitive)
的情况下，一定要检查好其信任关系。
非传递信任：两个安全域可能在同一个组织也可能在不同的组织之
间，非传递信任允许一个域中的主体访问另一个域中的客体。
传递信任：扩展了两个安全域以及它们的所有子域之间的信任关系。
在最小特权环境中，检查这些域的信任关系非常重要，尤其是在不同
的组织间创建域。
7、职责分离（separation	of	duties	and	responsibilities）的三种应用：特
权分离、职责划分、双人控制
8、特权分离（separation	of	privilege）的概念建立在颗粒化的权限和许可
上，能应用到user	and	service	accounts。
每个服务有一个非人的账户（比如ftpserver），该账户有自己的特权，
这个特权仅仅满足其实现程序所需的功能。
9、职责分离（segregation	of	duties）确保没有单个人能控制作案，如果
想做案，需要两人或更多人共谋，这增加了被发现的风险。职责分离后，
多个主体可以互相校验操作，并且必须一起完成必要的工作。
比如，一人卖票一人查票，就能防范卖票的将钱收入自己口袋而不发
票，除非合谋。
再如，一人批准账单，另一人执行实际的付款，如果某人控制整个批
准和付款，他就容易批准伪造的发票来欺骗公司。
职责分离是一个人不能干两件事，双人控制是两个人干一件事。职责
分离容易导致勾结（因为本来不用勾结就能作案的）。
10、2002年的萨班斯-奥克斯利法案（SOX）适用于所有的上市公司（对
美国），SOX明确要求职责划分，这个法案是对很多公司金融丑闻的一种
响应。
11、最常见的职责分离是将安全指责从其他职责分离出来，也就是说，
负责审计、监控和安全审查的个人没有其他操作职责。否则可能监守自
盗。
12、下图是一个基本的职责划分控制矩阵，可以看出，安全管理员和所
有岗位互斥（除了补丁验证可以稍带做一下），应用程序员、数据库管
理员、数据库服务器管理员，互斥；预算分析员、收款账户、付款账户，
互斥；补丁部署和补丁验证，互斥。
11、双人控制（Two-Person	control），主要是一个操作所需的特权和知
识，被人为的分隔成两个部分，比如开一个箱子需要两把钥匙。 再比
如公司两个人（CFO和CEO）来批准关键业务决策。
12、岗位轮换可以ᨀ供并行审查、减少欺骗、促进交叉培训。交叉培训
使得环境很少依赖任何单个个体。这个既是威慑，又是检测机制。
13、强制休假ᨀ供并行互审，有助于检测欺诈和共谋，该策略确保接替
工作至少一个星期。既是威慑，也是检测机制。
14、任何有高特权的管理员账户都应该被监控，对以下特权操作要当心：
访问审计日志、更改系统时间、管理用户账户、重启系统、
控制通信路径、备份和恢复系统、使用数据库恢复工具和log	files、
配置接口、配置安全机制、使用操作系统control	commands、运行脚本
/自动化工具。
15、使用自动化的工具监视这些特权操作，当管理员执行以上活动时，
要记录日志并send	an	alert, 审计时要看这些特权是否被滥用。
16、对于分类，除了系统的外部标记外，处理机密数据的系统必须有壁
纸和屏幕保护，目的是清晰的表明系统在处理机密数据。
17、服务级别协议（SLA）是组织和外部实体间的一份协定，SLA保证了
对性能被满足的期望，如果供应商满足不了期望会受到惩罚。
18、除了SLA外，还常常使用备忘录协议（memorandum	of	understanding	）
或者互联安全协议（Interconnection	security	agreement	），MOU记录了
两个实体朝着共同目标在一起工作的意图。MOU是非正式的，且不包含
对某个合作方不负责时的处罚。
ISA用来确定双方如何建立、维持和断开链接的信息，也会规定要使用的
Minimum的加密方法。
19、如果火灾导致电力故障，安全门自动解锁还是继续锁住，如果公司
认为资产比人的价值高，就会锁住，如果公司认为人比机器重要，就会
让安全门处于解锁状态。fail-secure	Vs	fail-safe（fail-open）
20、员工可以使用胁迫系统（Duress	system）报警，简单的胁迫系统仅
仅需要按一下按钮就能发出求救信号。监控机构可能会给求救人员打电
话或发送一条文本信息，保安可能是不小心按的，就说一切OK，然而如
果犯罪分子控制了保安，保安需要发送密语。
21、员工旅游时，要在开门前检查敲门人的身份，如果房间包含免费的
食物，要给前台打电话确认酒店是否ᨀ供了该项服务。
22、管理硬件的方法，可以使用条形码、也可以使用无线射频识别
（RFID）标签。
23、SAN是含有多个存储设备的专用高速网络，价格居高不下，VSAN通
过虚拟化绕过了这些复杂性。
24、如果攻击者能够破解物理机，就可以访问托管在物理服务器上的虚
拟系统。许多虚拟化工具可以对虚拟机定期快照，以便及时进行数据恢
复。
25、如何界定消费者和云服务ᨀ供商（CSP）的界限？对于SaaS，消费者
不管理任何基于云的资产；对于Paas，消费者管理应用程序，CSP负责主
机和基础设施；对于IaaS，消费者维护操作系统和应用程序，CSP维护基
础设施，确保消费者获得系统。
26、基于云的资产。私有云可以用自己的资源创建，也可以从第三方租
赁资源并按照服务模型（IaaS、PaaS、IaaS）分隔维护要求，社区云
（community	cloud	）为两个或多个组织ᨀ供云资产，职责分工取决于谁
host资产和服务。混合云部署模型包括两个或两个以上的云组合。
27、Imation销售的IronKey闪存驱动器内置了多个保护级别，有多种认证
机制，确保只有授权用户可以访问驱动器上的数据，并且内置了机密功
能，如果被丢失，可以远程拒绝所有访问、禁用或自毁设备。
28、磁带因为腐蚀而容易损坏，最佳方法就是保存至少两份，一份onsite，
一份在安全的位置。
29、对于磁带介质：
为防止新介质设备沾染灰尘和污垢，应保持他们在原始密封包装内直
到使用；
避免将介质暴露在极端温度下、避免阳光、水分、潮湿；
不使用已经暴露在灰尘、污垢中以及摔落的介质；
运送时应在有温度控制的车辆中；
磁带应该适应24小时后再使用；
备份设备从出发点到异地的全程应当采取安全措施。
30、偷了手机后，贼会第一时间移除SIM卡，当把卡放回手机以获取数据
时，他们会在法拉第笼屏蔽室内操作，这些技术阻碍了远程擦除信号，
如果没有收到擦除已经成功的短信回复，数据就可能已经泄漏。
31、一些磁带会ᨀ示我们它可以重复使用250次或在理想条件下能保存30
年，我们要监控备份错误，
当磁带开始产生错误时，技术人员应停止使用。一旦备份介质达到其
MTTF，就要进行销毁。可以将其消磁，然后存储直到销毁（使用破碎机
或焚烧炉）。
32、消磁不能清除SSD内的数据，擦除命令也不能完全清楚数据，所以许
多组织直接销毁SSD，而不是仅将内容清除。
33、配置管理有助于确保系统处于安全一致的状态，使用的一种方法是
基线。基线是一个起点，是一个系统的启动配置（starting	
configuration），基线与检查列表同时产生，脚本和工具常用来实现基线，
使用自动方法可以减少手动基线的潜在错误。比如微软的组策略，可以
自动将组策略推到域中的所有计算机。
34、许多组织使用镜像来创建基线，管理员在计算机上安装操作系统和
所需的应用程序，测试一切OK后，然后用镜像制作软件创建Image，并存
在镜像服务器或介质中。然后根据需要将镜像部署到其他系统中。当用
户的系统损坏时，可以在几分钟内重新部署镜像。
35、镜像经常和自动化方法结合起来，先用镜像打个底，然后根据不同
部门的需要，用自动化的方法额外安装其他应用程序。
36、美国政府和微软合作，制作了美国政府配置基线USGCB，包括几个
不同的操作系统镜像。因为美国政府发现很多安全问题都是由于windows
系统配置错误引发的。
37、变更管理的主要目标时确保变更不会导致中断，变更管理流程要求