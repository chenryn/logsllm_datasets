## Page 2397
国家宇航局和朗讯公司都有一种错误的观念，认为他们所开发和部
署的系统都是“封闭的”，或者是处于高度控制之下的网络架构。而
事实完全不同。计算机网络和全球互联网的快速发展从根本上改变
了系统互联和访问的方式。实际上，许多系统管理员所认为的“封
闭”网络都是与学术研究网互联的，而这些网络的安全策略和访问控
制机制大相径庭。网络的互联给攻击者提供了新的访问点，也扩大
了系统的整体攻击面。
这种误解给整个安全策略造成了大片的盲点，也滋长了仅靠周边安
全（perimeter security）就足够保护系统的论点。遗憾的是，如果连
对所谓的周边都没有一个清楚的认识和定义，就更别谈能够拥有一
种行之有效的基于周边的安全策略了。由于拥有已知的，处于良好
监控之下的周边的观念都不精确，那么系统就会暴露在没有防范设
计的安全危险之中。周边防护模型常常被比作为"M&M"模型，或者
是“外强中干"的模型。一旦绕过或者攻破了周边防护系统，那么内
部系统的软件和硬件设施都不再安全了，它们也无法自我保护。
10.1无意义的指标
在20世纪90年代初，当时我正在国家宇航局工作，局里来了一位新
上任的管理员。他来自一家私营企业，负责改进局里所有项目的性
能。他的目标很简单：降低项目成本，缩短项目交付时间，并且提
高最终系统的整体质量。虽然我非常赞同这些目标，但不久就表明
了这个计划考虑得还不是很周全。
这个新的方案关注的是交付“更好，更快，更廉价"的程序。当有人
指出安全才是人类宇宙飞行和航空程序的关键时，方案就调整为"更
好，更快，更廉价，更安全”。宇航局的普通阶层员工们文加上了一
句，“任选其二”。
为什么这么幽默？很简单：这个方案认为所有关键的系统特性
质量、进度、成本、保密一一都是各自独立的，而目前正在使用的
项目各个方面都非常薄弱，所以可以同时实施改进。更重要的是，
其他的关键系统质量特性都被推到一边，比如安全、可操作性和可
维护性。从资源投入和关注程度上来说，这个方案的焦点都没有放
在安全上，就是因为新的威胁正在出现，所以必须迅速采取行动。
我也承认现有的宇航局系统开发过程尚存在可改进的空间。这并不
是在指责现有的项目。所有的项目都能够从不断改进的程序中获
2396
---
## Page 2398
益。但是，“更好，更快，更廉价，更安全”这个方案是建立在未经
验证的关于问题产生的根本原因的假想之上的，反而忘掉了开发一
个高效的程序所需的核心项目分析过程。指标计划和相应的全面质
量管理（TotalQualityManagement,TQM）还是不错的，但是方向却
错了。对于更好，更快，更廉价，更安全来说，还没有一个清楚的
基准线，而且大多数情况下，制定的指标都是有直接冲突的。人类
飞行（包括航天和航空两者）是一项需要艰苦奋斗的事业。安全性
的加强并不总是与缩短交付日期和降低整个项目的成本这两项指标
相符的。
用于支持这个方案所建立的指标是非常烟卤式的。例如，其中有对
成本和预算进行评估比较的详细指标，但却没有采用基本的挣值管
理（EarnedValueManagementEVM）概念，所以这个指标只是一种
单维评估，而与成本、进度和规模相关的指标却没有集成或关联进
来。成本指标是基于花费的预算数目，而不是获得的价值。比如，
如果一个项目经理为了争取更多的测试和集成时间而加大了某个关
键步骤的投入，那么这个指标就指出该项目超出了预算。即使在事
先对成本做了估算的情况下，这种情形也有可能发生，只不过比计
划提前了一些。更为重要的是，这个“单调的"指标非常容易受影
响，如果一个项目延长了某个关键步骤的进程，而减少了一些未预
见到的步骤的投入，那么这种延迟就掩盖了预算风险。在预计支出
达到之前，指标一直显示是绿的，但它可能会突然就变成红的。
质量和安全指标也存在类似的缺点。他们没有说明在质量、速度、
成本缩减或者保密之中安全所扮演的角色。项目中的最小安全指标
只解决了最终组件和系统周边防护的安全。质量和安全没有在组件
级别进行测试。由于缺少单元测试和系统整合测试，所以一些关键
问题被忽略，而只能在最终系统测试，或者更糟的情况是在系统止
在运行的时候，才能暴露出来。
根本没有足够好、足够快、足够廉价或者足够安全的概念。指标是
二进制级别的，而且常常不是在单元或者组件级别上收集到的。对
整个计划和项目的成功规划也没有做清楚的定义。花费了大量的能
量，定义和筹划了许多单调的、单维的指标，而明确的结果却很
少。我惊恐地看着我们的麻烦越来越多，却依然是治标不治本。因
此我对“为指标而指标”这种做法大为反感。
大约是在世纪之交，起初是在Reliable软件科技公司，后来是在朗讯
的Bell实验室，我有机会花了一段时间来关注安全、质量、可靠性和
2397
---
## Page 2399
可支持性问题。在“互联网爆炸"的绝佳时机，许多公司都把关注投
向了市场营销机遇或者是如何能让自己的产品拥有与众不同的特
性。这种单一的关注意在占有市场份额，而且大都使公司迈向了大
规模的“首次公开招股集资”（InitialPublicOffering,IPO）。遗憾的
是，许多公司都不觉得核心“特性”（即质量、可靠性、有效性、可
维护性、安全性和可用性）是市场区分因素，而是把重点放在领先
于竞争者并在市场上占有先机这上面。健壮的系统架构、安全性、
设计、开发、测试和部署常被视为影响产品快速进入市场的不利因
素。虽然有学术与业界的研究都表明这种方法的隐患，但是加快币
场占有率的策略还是居主导地位。关键的战略决策是由把握市场机
遇来驱动的，而不是由牢固的工程实践。
在科技泡沫破灭之后，市场上那些设计不当、粗制滥造的产品对广
泛的T界的影响就很明显了。受此危害的公司没有办法来清除他们
的产品。他们没有什么办法或者财政资源对系统和应用程序重新进
行设计。到现在，从目光短浅的“市场投放”（TTMtimetomarket）
关注中恢复已经持续了六年，而且还没有完成。一些公司已经着手
于对产品进行重新架构设计进行投资，目的是给自己的产品加上改
进的标志。而另一些仍然在投放那些基于失败的设计和开发的产
品。这些系统都存在侵蚀产品安全的深层次架构和程序设计缺陷。
10.2市场还是质量
Bell实验室在计算机科学研究领域取得了令人骄傲的杰出成就，但是
实验室中研发出来的软件开发最佳方案没有被坚持运用到朗讯的产
品开发小组中。导致安全漏洞的设计、开发和测试方案同样也是导
致系统性能低下，可靠性低以及质量差的原因。这些教训仍然没有
被吸取，而是精心地摆放在书架上用来收集灰尘。我们只是“痛定思
痛”，却没有“吸取教训”。
不当的项目管理和薄弱的系统开发过程使得软件的功能不断膨胀，
需求也逐渐发生改变，同时也让关键的架构、设计、开发和测试从
核心产品要素中分离出去。产品应该以质量和安全为主，然后再扩
展功能，而项目小组却没有这么做，他们试图交付能够满足所有人
的所有需求的繁杂的产品。由于很多都是这种“满足所有需求"的情
况，所以许多产品都忽略了核心市场的需求。在附加功能的驱使之
下，某些原本旨在解决一些简单问题的产品已经变成了研究项目，
只知道一味地追求不成熟的技术，提供复杂而又难以维护的解决方
2398
---
## Page 2400
案。在某些情况下，我们允许并积极鼓励采用简便的方案来解决一
些常见的问题，而且方案可以在多个产品小组之间得以复用，但是
许多项目小组还是决定开发自己的解决方案。不断增长的代码数量
让系统的设计、并发、测试、维护以及安全变得更加复杂，代价也
越来越高。
在我到了Bell实验室不久之后，我有机会领导了一个负责解决目前产
品中存在的质量和安全问题的小组。该项目的问题陈述简洁清楚，
即“为了市场竞争，朗讯需要改进软件质量，生产效率和可预测
性”。
朗讯刚刚完成了一项内部调查，让几个软件开发小组对企业的目标
进行评价。五个目标都有“高”、“中”、“低”三种优先级（见图10
1）。安全性根本就没有出现在这个目标之中。这是一个很关键的问
题，安全性甚至都没有作为一个重要的企业目标出现在图中。几乎
所有的调查对象都高度关注市场投放（TTM）。生产效率（timeto
volume）的关注度较低，而它是直接影响企业效益的。TTM占据主
导关注和调查显示出的可靠性与性能设计不足相互印证。质量、安
全性、可靠性、可用性、生产效率和企业效益之间错综复杂的联系
还没被认识清楚，也没有有效的管理。高度相关的属性要么看做各
自独立的，要么就完全被忽略。
2399
---
## Page 2401
图10-1朗讯的企业目标
现实中，在达到适当的质量和安全程度之前，不应该就从单一的一
个产品过渡到大规模的量产。如果你这样做了，那么就会直接影响
整个产品的开发和支持成本，延长盈利时间。在朗讯的几个案例
中，对一些产品草率地进行了量产以迎合TMM目标。这些最终产品
将会有很高的保修和服务成本，不但减少了企业利润，而且产品中
的质量、可靠性和安全性问题也损坏了朗讯一贯的出品高质量产品
的声誉。
对于任何项目或者产品并发计划而言，决定哪些属性需要评估，以
及它们之间的相关性和每个属性的可接受级别是非常重要的。项目
小组必须拥有一致的成功观念。成功标准必须是实际可行的，而且
是综合考虑了项目的所有目标。了解每种指标的可接受程度以对其
进行协调、综合是很重要的。
2400
---
## Page 2402
该项调查同时评估了调查对象对朗讯目前的一些关键产品领域的性
能与确保项目成功实施所需的性能之间的差距的看法。再次让我感
到惊讶，这项调查又没有明确地提到安全性。收集到的数据包含了
多个方面，而且可靠性、指标、系统性能、培训、早期的需求开
发、管理和测试都存在很大的不足。很明显，需要一个全面的计划
来解决这一系列系统问题，我们不能只改进其中的某个“特性”而不
解决与其相关的其他根源。
除此之外，软件工程研究所（SoftwareEngineeringInstitute,SEI）的评
估表明大部分（超过60%）朗讯的软件开发小组在过程的成熟度和
有效性方面的表现都处于最低的层次。内部分析和检讨指出需要对
部署标准的指标、过程以及在初次发布之前改进产品的“特性”方面
大加重视。
针对调查发现的结果，一个跨企业的小组提出了一种端到端的计
划，这项计划旨在采用一套相互协调的软件设计和并发最佳实践来
提高软件质量。图10-2给出了该计划的关键最佳实践要素：“特性”
设计，测试和配置管理（ConfigurationManagement,CM）设计以及标
准基础因素的调度。
2401
---
## Page 2403
图10-2最佳实践要素
“特性”设计关注的是性能与负载，可靠性与有效性、适用性，可用
性和安全性。测试和配置管理设计关注的是测试计划、测试自动化
和每天的编译与测试。标准基础因素为项目管理、标准操作指标以
及培训。
这个小组推荐了一种根据财政季度来划分的含有四个实验项目的先
导模型：可以在第一季度并始第一个项目，根据项目提交人对这一
阶段的成果的复核确定是否成功，来决定是否在第二季度开始第二
个项目。在这两个季度都成功的情况下，可以开始下一个实验项
目，当然，这也是在项目提交人复核成功的前提下。
在计划开始之前，需要有一个先驱启动小组对项目小组进行一次轻
量级的自我评估。启动小组直接和项目小组一同工作，提供技术专
家来支持重点的项目改进计划并把详细的知识介绍给项目组。整个
小组开发并实现详细的项目计划，同时也与项目一起维护发现的问