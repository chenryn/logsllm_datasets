r
P
1.00
0.75
0.50
0.25
0.00
Approach
Centroid Prediction Machine Learning Inference
0.94
0.92
0.98
0.94
1
1
0.8
0.72
0.62
0.56
0.42
0.3
0.3
0.2
0.16
0.08
0.06
0
25
50
75
100
125
150
175
200
225
Absolute Distance Error in Meter
4.2 Lasso Regression versus the Centroid
Heuristic
Figure 5 and Table 1 show that the machine learning only slightly
Figure 7: Cumulative distribution function of the absolute dis-
tance errors across approaches. Dashed line represents the 90th
percentile of the absolute distance errors.
294.3 Dormitory Determination
UCSC dorms are organized into colleges, with each college lo-
cated in a different region of the campus. In this third experiment,
we assume that the majority of the yaks are emanating from cam-
pus dorms in these colleges. Our goal is to predict the speciﬁc
college from which the yak originated. Speciﬁcally, we post nine
yaks from the center of each of nine colleges on UCSC campus.
For each such yak, we collect presence information from the 120
probes and predict the location of the yak using the centroid heuris-
tic. We then predict the college that sent the yak as the college that
is the closest to the predicted location.
Figure 8 shows the actual and predicted locations for each of
our 9 yaks emanated from the center of 9 colleges of UCSC. A
black dot represents the true location while the corresponding red
dot represents our centroid prediction. As we can see from Fig-
ure 8, in each case the corresponding predicted college is equal to
the actual college that made the post. Thus, in this experiment,
the methodology is 100% correct in predicting the college that cre-
ated the yak. As an example usage case, suppose a professor is
teaching a class with, say, 20 students, and one of these students
makes a derogatory yak about the professor. The professor can use
the methodology in this paper to determine from which college the
derogatory post came. If the professor can also obtain access to stu-
dent housing information, he can then determine the students in his
class that live in the identiﬁed college. If only one student from his
class lives in the identiﬁed college, he can determine with a high-
level of certainty which student made the derogatory remark on Yik
Yak.
UC Santa Cruz Campus Map
7
6
5
4
3
2
8
Humanities
Social Sciences
Humanities 
Lecture Hall
Humanities 1
9
1
5. PRIVACY ENHANCEMENT
Location-based services today, including Yik Yak, employ user-
centric proximity, showing the user all the messages that are in
proximity to that speciﬁc user. This property is at the heart of the lo-
calization attack – when shifting to a different physical location, the
app displays a different set of people messages. To defend against
this attack, Yik Yak can potentially try to employ some obfuscation.
For example, when Alice makes a request, for each message in a re-
gion centered at Alice, Yik Yak draws a binary random variable Xi.
If Xi = 1, the service displays that message; if Xi = 0 the service
does not display the message. Such an approach would preserve the
integrity of the Yik Yak service, showing messages that are nearby
in all (albeit, a subset of them). We conjecture, however, that this
and related obfuscation techniques can be potentially learned by
machine learning if sufﬁcient data is collected. This is an avenue
for future research.
A much more robust defense would be for Yik Yak to use ﬁxed
and static display regions, where each region might cover a col-
lege campus, a small city, or a district in a large city. Static re-
gions can also be deﬁned outside of cities and campuses, with their
sizes roughly inversely proportional to population densities. Hav-
ing deﬁned the regions, when Alice uses the service from within
a region, she is shown all the messages in the region, but no other
messages. With this redesign of the location-based service, the at-
tack described in Section 3 would be thwarted – for any given mes-
sage posted within a region (for example, a campus), all the probes
located in the ﬁxed region would report it, and all the probes out-
side the region would not report it. Thus, every message, no matter
where it is posted from within the campus, would have the same
feature vector, and the machine-learning attack would break down.
Additionally, the Yik Yak service can keep its location-based
service as is, but has an eye out for the localization attack. For
example, the service can impose tight restrictions on the number
of periodic requests or the amount of trafﬁc coming from each de-
vice. The service can block queries from an IP subnet if starts to
see a large number of queries from that subnet. A workaround for
this defense is to run the attack environment from a large number
of different subnets, or to run the attack through proxies located on
different subnets. Yik Yak can also detect forged GPS locations, ei-
ther by enforcing strong location authentication using trusted soft-
ware/hardware modules on mobile devices [13, 20], or by relying
on wireless infrastructures, such as WiFi APs [11], cellular base
stations [19], and femtocells [2].
Finally, users can also take precautions to prevent de-
anonymization when using Yik Yak. Alice could refrain from mak-
ing posts from her dorm room, but instead make posts from campus
locations that she infrequently visits. Although such a precaution
could go long way in keeping her anonymous, it would certainly
take away from the enjoyment of the service.
Detailed maps available at 
http://maps.ucsc.edu
rev. 8/12
Updated 7/11
Figure 8: Campus building determination
6. RELATED WORK
For people-nearby and dating services, there is previous work on
determining the locations of users for services that report either ex-
act distances [14, 17, 18] or band distances [5, 10]. To the best of
our knowledge, the closest work to ours is [25], which provides a
methodology for localizing Whisper users within 0.2 miles based
on the triangulation attack. We emphasize here that Whisper re-
ports the distances between users and message origins, facilitating
triangulation attacks. Localizing Yik Yak users is more challeng-
ing than localizing Whisper users, because Yik Yak neither reports
exact distances nor distance bands about the yaks. Instead, it sim-
ply indicates which users are nearby (or which messages have been
30generated from nearby locations) without showing any speciﬁc dis-
tance; furthermore, the algorithm Yik Yak employs for deciding
which messages to display is completely unknown. The current
paper is an extension of a poster paper [15].
7. CONCLUSION
We showed that the popular anonymous social media application
Yik Yak is susceptible to localization attacks, thereby putting user
anonymity at risk. We provided a comprehensive data collection
and supervised learning methodology that does not require any re-
verse engineering of the Yik Yak protocol, is fully automated, and
can be remotely run from anywhere. We applied the measurement
and machine learning methodologies to Yik Yak at two US cam-
puses. We accurately predicted the locations of messages up to a
small average error of 106 meters. We also devised an experiment
where each message emanates from one of nine dorm colleges on
the University of California Santa Cruz campus. In this experiment,
we were able to determine the correct dorm college that generated
each message 100% of the time. Finally, we described how Yik
Yak can be modiﬁed to enhance the anonymity of its service.
Although our experiments and defenses have strictly focused on
Yik Yak, our results are applicable to a plethora of mobile applica-
tions that rely on geolocation for “messages-generated-nearby” ser-
vices or people-nearby services, such as Badoo, Grindr, WeChat.
We ﬁnd that all these apps are facing the potential localization
attacks. Even if app developers are able to attempt to obfuscate
by adding some randomness, geo-location can still be maliciously
machine learned by the methodology proposed in this paper. To
the best of our knowledge, this is the ﬁrst paper that considers the
problem of de-anonymizing users in the popular Yik Yak applica-
tion. We hope our study will inform developers working on the
next generation anonymous mobile applications.
Acknowledgments
We thank the anonymous reviewers for their valuable feedback.
This work was supported in part by the National Science Foun-
dation under grant CNS-1318659.
8. REFERENCES
[1] T. Abdollah. Yik Yak Isn’t So Anonymous, Turns Data Over
To Police, The Hufﬁngton Post, November 12, 2015.
[2] J. Brassil, P. K. Manadhata, and R. Netravali. Trafﬁc
signature-based mobile device location authentication.
Mobile Computing, IEEE Transactions on, 13(9):2156–2169,
2014.
[3] A. C. Cameron and F. A. Windmeijer. R-squared measures
for count data regression models with applications to
health-care utilization. Journal of Business & Economic
Statistics, 14(2):209–220, 1996.
[4] W. D. Cohan. Putting the Heat on Yik Yak After a Killing on
Campus, The New York Times, January 6, 2016.
[5] Y. Ding, S. T. Peddinti, and K. W. Ross. Stalking beijing
from timbuktu: A generic measurement approach for
exploiting location-based social discovery. In Proceedings of
the 4th ACM Workshop on Security and Privacy in
Smartphones & Mobile Devices, pages 75–80. ACM, 2014.
[6] J. Dougherty. OSU Student Arrested For Making Threats On
Social Media. News9 Oklahoma’s Own, April 22, 2015.
[7] L. E. Frank and J. H. Friedman. A statistical view of some
chemometrics regression tools. Technometrics,
35(2):109–135, 1993.
[8] W. J. Fu. Penalized regressions: the bridge versus the lasso.
Journal of computational and graphical statistics,
7(3):397–416, 1998.
[9] A. Hoerl and R. Kennard. Ridge regression, in Encyclopedia
of Statistical Sciences, vol. 8, 1988.
[10] M. Li, H. Zhu, Z. Gao, S. Chen, L. Yu, S. Hu, and K. Ren.
All your location are belong to us: Breaking mobile social
networks for automated user location tracking. In
Proceedings of the 15th ACM international symposium on
Mobile ad hoc networking and computing, pages 43–52.
ACM, 2014.
[11] W. Luo and U. Hengartner. Proving your location without
giving up your privacy. In Proceedings of the Eleventh
Workshop on Mobile Computing Systems & Applications,
pages 7–12. ACM, 2010.
[12] J. Mahler. Who Spewed That Abuse? Anonymous Yik Yak
App Isn’t Telling. The New York Times, March 8, 2015.
[13] C. Marforio, N. Karapanos, C. Soriente, K. Kostiainen, and
S. Capkun. Smartphones as practical and secure location
veriﬁcation tokens for payments. In NDSS, 2014.
[14] S. Mascetti, L. Bertolaja, and C. Bettini. A practical location
privacy attack in proximity services. In Mobile Data
Management (MDM), 2013 IEEE 14th International
Conference on, volume 1, pages 87–96. IEEE, 2013.
[15] C. L. Nemelka, C. L. Ballard, K. Liu, M. Xue, and K. W.
Ross. You can yak but you can’t hide. In Proceedings of the
2015 ACM on Conference on Online Social Networks, pages
99–99. ACM, 2015.
[16] H. J. Parkinson. Yik Yak: the anonymous app taking US
college campuses by storm, The Guardian, October 21, 2014.
[17] I. Polakis, G. Argyros, T. Petsios, S. Sivakorn, and A. D.
Keromytis. Where’s wally? precise user discovery attacks in
location proximity services. In Proceedings of the 22nd ACM
SIGSAC Conference on Computer and Communications
Security, pages 817–828. ACM, 2015.
[18] G. Qin, C. Patsakis, and M. Bouroche. Playing hide and seek
with mobile dating applications. In ICT Systems Security and
Privacy Protection, pages 185–196. Springer, 2014.
[19] S. Saroiu and A. Wolman. Enabling new mobile applications
with location proofs. In Proceedings of the 10th workshop on
Mobile Computing Systems and Applications, page 3. ACM,
2009.
[20] S. Saroiu and A. Wolman. I am a sensor, and I approve this
message. In Proceedings of the Eleventh Workshop on
Mobile Computing Systems & Applications, pages 37–42.
ACM, 2010.
[21] B. Shumaker and R. Sinnott. Virtues of the haversine. Sky
and telescope, 68:158–159, 1984.
[22] R. Tibshirani. Regression shrinkage and selection via the
lasso. Journal of the Royal Statistical Society. Series B
(Methodological), pages 267–288, 1996.
[23] V. Vapnik. The nature of statistical learning theory. Springer
Science & Business Media, 2013.
[24] G. Wang, B. Wang, T. Wang, A. Nika, B. Liu, H. Zheng, and
B. Y. Zhao. Defending against sybil devices in crowdsourced
mapping services gang wang. In Proceedings of The 14th
ACM International Conference on Mobile Systems,
Applications, and Services. ACM, 2016.
[25] G. Wang, B. Wang, T. Wang, A. Nika, H. Zheng, and B. Y.
Zhao. Whispers in the dark: analysis of an anonymous social
network. In Proceedings of the 2014 Conference on Internet
Measurement Conference, pages 137–150. ACM, 2014.
31