### Investigative Techniques for Domain Names and Subdomains

In a subsequent chapter, I will delve into the investigative techniques for domain names and the significance of searching for subdomains. A subdomain is a dedicated address that is part of a larger domain, such as `pics.inteltechniques.com`. While `inteltechniques.com` might be the main landing page, `pics.inteltechniques.com` could contain hidden content not available on the primary website.

#### Tools and Techniques

1. **DNS Brute Forcing**
2. **Subdomain Enumeration**
3. **Robtex**
4. **VirusTotal**

The automated script that performs these tasks, titled `domains.sh`, can be found in the "scripts" folder within your digital downloads. Ensure that you have downloaded the files as previously instructed, and the script should be present in your Linux VM. We will also review all the commands in the next chapter. 

Next, let's add a shortcut icon to our Dock for easy access to this new utility.

#### Using the Script

Programs within this script, such as Amass and Sublist3r, require a domain name associated with the target. This is a crucial step for any investigation into a domain. Here are some example results for a query of `cnn.com`:

- `cnn.com/webview`
- `cnn.com/NOKIA`
- `cnn.com/Quickcast`
- `trends.cnn.com`
- `tours.cnn.com`
- `coupons.cnn.com`

#### Documenting Your Findings

Personally, I prefer to type my reports using my host operating system rather than within the VM. This creates a small layer of protection between the OS used during the "covert" investigation (VM) and the machine documenting the written report (host). This is a matter of personal preference, and you may choose another route. Later in the book, you will learn several documentation strategies for your next online investigation.

#### LibreOffice Installation

LibreOffice is a free and open-source office suite that includes programs for word processing (Writer), spreadsheets (Calc), and presentations (Impress). The Writer program can be used within your Linux VM for creating reports, while Calc can be useful for opening CSV files generated by the previous utilities. If LibreOffice is not already installed, you can add it with the following Terminal command:

```bash
sudo snap install libreoffice
```

#### TheHarvester

This program searches a supplied domain to provide email addresses associated with the target. It generates a report located in the `Documents/theHarvester` folder. During my search of `cnn.com`, it located 72 hosts and 16 email addresses. Further investigation into these results may reveal new sources of information. You can submit each URL to EyeWitness to create a new report with screen captures from valid addresses, allowing for a quick review of the evidence.

#### Photon

This tool does not attempt to find subdomains but instead searches for internal pages within a target website. It creates a report located in the `Documents/Photon` folder. Examples include:

- `carbon14: This application helped me during an investigation. I was examining an anonymous blog to determine the age of the site. It was a brand-new WordPress installation, and every post had the same recent 2019 date and time. It had obviously been created recently but received an import from an older blog. I wanted to know more about the true dates of the original posts. Carbon 14 searches for images hosted within the page and analyzes their metadata for creation dates. A query of my own site indicated that the static page was last modified on August 2, 2019, and the images were posted in March 2018, May 2019, and July 2019. This suggests that the original blog posts were from an earlier date. These dates can be intentionally or unintentionally altered, so this is not a forensically sound method. It is simply an additional piece of the puzzle that may warrant further investigation. Carbon 14 works best on static websites and blogs and has also shown surprising success with social network profiles.

#### Tor Browser and Chrome Browser

While I do not use the Tor and Chrome browsers daily, they are important to have available and take up very little space. Some browser extensions only support Chrome, and many websites can only be accessed through Tor. More details will be provided later.

#### Metadata Extraction Tools

1. **MediaInfo**
   - Install with:
     ```bash
     sudo apt install -y mediainfo-gui
     ```
   - This utility displays hidden metadata within media files. For example, a video obtained directly from the original source can provide make, model, and GPS location data.

2. **ExifTool**
   - Install with:
     ```bash
     sudo apt install -y libimage-exiftool-perl
     ```
   - Example command to export metadata from multiple images:
     ```bash
     cd ~/Desktop/Evidence && exiftool * -csv > ~/Desktop/Report.csv
     ```

3. **MAT2 (Metadata Anonymisation Toolkit 2)**
   - Install with:
     ```bash
     sudo apt install -y mat2
     ```
   - Example command to clean a file:
     ```bash
     mat2 dirty.jpg
     ```

4. **Sherloq**
   - Install with:
     ```bash
     sudo apt install subversion -y
     git clone https://github.com/GuidoBartoli/sherloq.git
     cd sherloq/gui
     sudo -H pip install -r requirements.txt -I
     sudo -H pip install matplotlib
     ```
   - Launch with:
     ```bash
     python3 /Downloads/Programs/sherloq/gui/sherloq.py
     ```

5. **HTTrack**
   - Install with:
     ```bash
     sudo apt install -y webhttrack
     ```
   - Use HTTrack to archive a static website. This tool is useful when you need to preserve a target website that may be taken down.

6. **Metagoofil**
   - Install with:
     ```bash
     git clone https://github.com/opsdisk/metagoofil.git
     cd metagoofil
     sudo -H pip install -r requirements.txt -I
     ```
   - Example command to download documents:
     ```bash
     python3 metagoofil.py -d cisco.com -t pdf,docx,xlsx -o ~/Desktop/cisco/
     ```

#### Reddit Tools

- **Reddit Finder**
  - Install with:
    ```bash
    sudo apt install python3.9
    ```
  - Example command to find Reddit user activity:
    ```bash
    redditsfinder inteltechniques
    ```

By following these steps and utilizing these tools, you can effectively conduct comprehensive investigations into domain names, subdomains, and various types of metadata.