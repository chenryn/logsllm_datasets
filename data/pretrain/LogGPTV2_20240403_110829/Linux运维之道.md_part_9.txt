### 磁盘分区与管理

#### 1. 分区操作
- **创建2GB的主分区**
  - 使用`fdisk`命令进行分区。
  - 输入`n`创建新分区。
  - 选择默认起始扇区（2048）。
  - 输入分区编号为1。
  - 指定分区大小为2GB（输入`+2G`）。

- **创建扩展分区**
  - 输入`e`创建扩展分区。
  - 选择默认起始扇区（例如：4198400）。
  - 将剩余空间全部划分为扩展分区。

- **创建逻辑分区**
  - 在扩展分区内创建逻辑分区。
  - 选择默认起始扇区（例如：4196352）。
  - 指定分区大小为2GB（输入`+2G`）。

- **保存并退出**
  - 输入`w`保存并退出。

- **检验分区表**
  - 使用`partprobe /dev/sdb`让内核立即读取新的分区表。
  - 使用`fdisk -l /dev/sdb`查看分区情况。

#### 2. GPT分区
- **使用`parted`工具**
  - `parted /dev/sdc mklabel gpt`将磁盘标签设置为GPT。
  - `parted /dev/sdc mkpart primary ext3 2000MB 4000MB`创建一个从2GB到4GB的主分区。
  - `parted /dev/sdc print`查看分区信息。

- **注意事项**
  - 修改分区表格式会删除原有数据，请提前备份重要数据。

#### 3. 格式化与挂载文件系统
- **格式化分区**
  - `mkfs.ext4 /dev/sdc1`将分区格式化为ext4文件系统。
  - `mkswap /dev/sdc1`将分区格式化为交换分区。

- **挂载文件系统**
  - 创建挂载点目录，例如：`mkdir /data1`。
  - 使用`mount /dev/sdc1 /data1`挂载文件系统。
  - 查看挂载状态：`mount`。
  - 卸载文件系统：`umount /dev/sdc1`。

- **永久挂载**
  - 编辑`/etc/fstab`文件，添加如下条目：
    ```
    /dev/sdc1 /data1 ext4 defaults 0 0
    ```

#### 4. LVM（逻辑卷管理器）
- **LVM概念**
  - **物理卷（PV）**：底层存储设备。
  - **卷组（VG）**：由一个或多个物理卷组成。
  - **物理长度（PE）**：卷组内的最小存储单元，默认4MB。
  - **逻辑卷（LV）**：逻辑意义上的分区，可以动态调整大小。

- **LVM操作**
  - 创建物理卷：`pvcreate /dev/sdb1`。
  - 创建卷组：`vgcreate myvg /dev/sdb1`。
  - 创建逻辑卷：`lvcreate -L 2G -n mylv myvg`。
  - 格式化逻辑卷：`mkfs.ext4 /dev/myvg/mylv`。
  - 挂载逻辑卷：`mount /dev/myvg/mylv /mnt/lvm`。

通过以上步骤，您可以有效地管理和配置磁盘分区及文件系统。