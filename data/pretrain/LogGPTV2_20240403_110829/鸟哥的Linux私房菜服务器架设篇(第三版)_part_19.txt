前流量传输是很顺畅的！ 不要说品牌迷思，有时产品的用料实在与
否，很重要。
 不过，如果是一般家用，或者是准备用来作为学习机之用的主机，那么万一网络卡芯片无法
驱动时， 请先买个螃蟹卡 (芯片是 Real Tek 8139) 来作为练习之用， 因为 Linux 本身
就支持 Real Tek 8139 的芯片，你不需要额外的驱动程序，这样会方便学习啊！ 而且该网
络卡也很便宜(大卖场一片不到 200 块台币)。
PI:EMAIL
Tips:
如果要玩 Linux 又想比较顺畅的玩弄 Linux 时，请不要坚持使用
Linux 捉不到的网络卡！否则那份失望的心情 ......会让你失去很
多很多的耐性与信心啊～螃蟹卡最好认的地方在于其芯片上面有个
类似螃蟹的 Logo ，以前鸟哥曾经在大卖场上面逛大街时，还‘踢
飞’过一整排螃蟹卡～便宜到都放在地上而已～ @_@
 Switch/Hub：考虑主机数量、传输带宽、网管功能与否等
就如同第二章网络基础里面曾经谈到的， Hub 是共享媒体而 Switch 是具有独立带宽的非
共享媒体。因此以效能以及带宽来看，当然是 switch 比较好用啊！ 不过，如果你是一般
家庭用户，只是要作简单的上网等工作，是没有必要购买太好的 switch 的， 建议使用一
般大卖场可以买到的 5 port 的 hub 即可 (差不多 500 块台币的就不错了)。
不过如果你常常在区网内传送大量的数据，例如一次传输就得要传送 GBytes 的数据时， 那
么网络的整体速度需要很详细的考虑喔！包括网络卡最好使用 gigabit ， 当然中间的联机
设备最好买支持到 gigabit 速度的 switch 啦！因为 10/100/1000Mbps 的 switch 要比
10/100Mbps 的设备快上十倍，速度可是差很多的啊！如果你的设备还需要更快时， 例如鸟
哥之前服务的实验室内部的 cluster (丛集式计算机群) ，则购买的 switch 甚至需要支持
Jumbo frame 这种支持大讯框的硬件架构才行，否则速度上不来啊！
 网络线：考虑与速度相配的等级、线材形状、施工配线等
在所有串连网络的设备当中，网络线是最重要，但是却也最容易被忽略～除了网络线的等级
会影响到连接速度外，网络线所在处是否容易被压折？是否容易有讯号衰减？自己压制的
RJ-45 接头是否通过测试？网络线是否缠绕情况严重？都会影响到网络的传输优劣！所以，
虽然我们常常讲要确认主机与 Switch 是否有连接成功可以看 switch 上的灯号，但是很多
时候虽然灯号是亮的，不过由于网络线折损严重的问题， 也会导致联机质量不良喔！
一般来说，‘个体户’与小型企业通常网络线是直接放在外部的，这种情况你发现网络怪怪
的时，可以直接更换线路。 不过，如果是如同中大型企业将网络线直接埋在墙内或者是在
管线当中，发现问题时，真的很麻烦～ 所以才需要专业人才的辅助啊！
Tips:
一般来说，越高等级的网络线，最好不要自行制作，因为一个小小
的 RJ-45 接头的压制， 由于蕊线裸露程度的不同，就会影响到电
子屏蔽效应的优劣了。Cat 5 等级的线材还可以自行压制， 比他还
高等级的，最好还是买现成的吧！ ^_^
 无线网络相关设备：考虑速度、标准、安全性等
现在的网络环境除了传统的有线网络之外，其实还有一个也是很常见的喔，那就是无线网络
啦！ 无线网络会流行主要的原因除了笔记本电脑能力越来越强，使得很多朋友直接以笔记
PI:EMAIL
本电脑取代桌面计算机之外， 无线网络的速度目前已经可以达到 54 ~ 300 Mbps 那么快了
(802.11n 的标准而言)，对于一般只是上网看新闻与聊天的上班族来说， 这样的速度实在
是非常快了 (一般的 ADSL 仅是 2M/256K bps 而已)， 所以要买无线网络设备 (含基地台
与在 client 端的无线网卡) 来做成局域网络， 其实也是可以啦！而且还可以省去网络线
的施工呢！
不过，无线网络最大的问题常常在于‘无线的安全性’方面，因为是无线的设备， 所以‘基
地台如果没有做好防备措施的话，常常会导致 LAN 内的主机数据被窃取’， 这可是非常大
的问题喔！可千万不要小看这个问题，吃上官司常常是由于忘记网络安全啊！ 记得购买无
线网络基地台时，注意他可否‘限制 MAC ’，如此一来，至少可以锁网卡， 只让指定的网
卡可以使用你的无线基地台，比较安全啦！
 关于其他配件：
事实上，整个网络环境可不止上头提到的这些咚咚而已，还包括硬件防火墙、路由器、网桥
等等的， 当然，这些设备贵的话也有上百万的，但你的环境是否需要用到这么好的设备，
那就见仁见智啊～此外， 为了环境的美观与生活的便利，你总不希望走在路上被网络线所
绊倒，也不希望因为网络线绊倒你导致网络媒体掉落， 结果........损失了一堆 $$ 吧～
所以啰，在网络线的转角处必须特别注意线材的保护， 在平面地上则需要特别使用压条给
予固定，在牵线施工的时候尽量让线材沿着墙角或者是墙面上的既有物品， 如此则除了保
持工作场所的美观之外，还能够增加工作场所的安全性啊！ ^_^
此外，‘计算机上网的速度并非完全取决于网络带宽’举例来说， 玩在线游戏时，大家都以
为网络带宽需要很高规格，其实....根本不需要！因为 3D 联机游戏最主要的速度瓶颈应该
是在于‘3D 显示’而不是网络。这是因为网络仅传送一些数据给你的主机， 而你的主机再
在自己的硬盘里面将图形取出，并且使用 3D 绘图卡将画面绘制到你的屏幕上。 所以，显
示速度或者是 CPU 不够力时，才会发生联机游戏的顿点。否则就是联机游戏服务器本身的
负载 (loading) 太大，导致主机响应有较多延迟，就产生 lag (顿点) 的问题啦！
另外，包括你主机使用的数据是否具有快速的传输接口也有关。举例来说，如果你的主机使
用 USB 1.1 (最大传输 12Mbps)，但网络速度可达 10/100/1000Mbps ，那当你要在远程使
用这部计算机的 USB 装置内的数据时，最大速度会是‘ 12Mbps ’，也就是最慢的那一个组
件。所以啊， 网络速度慢的时候，不要以为只要增加网络带宽就好了，要确切的找出问题
啊！
事实上，选购网络媒体所需要考虑的参数实在太多了，并且没有一定的依据，完全
与使用者的使用环境与未来功能性有关。 不过，如果着眼在单纯的硬件速度上面的话，
那么选购时考虑‘我的网络速度可接受的最低速度为何？’去考虑吧！ 如果行有余力
的话，再来考虑‘我的环境需要多稳定的设备来达成？’其他的，那就得要靠你自己摸
索啰！ ^_^
3.2 本书使用的内部联机网络参数与通讯协议
PI:EMAIL
除非你已经具有相当熟练的 Linux 系统与服务器架设维护经验，否则不建议你使
用上面图 3.1-4 所介绍的联机模式，对于初接触 Linux 服务器架设与维护的朋友来说，
将你的联机模式设定成图 3.1-3 应该是个不错的选择，除了可以让你简单的就将服务
器架设成功之外，也可以让你以 Linux 做为内部 LAN 的防火墙管理中心， 对于未来
的学习成长方面较有帮助啊！ ^_^
3.2.1 联机参数与通讯协议
为使你的服务器学习之旅较有连贯性，因此鸟哥将后续章节会使用到的区网环境以
图 3.1-3为模板， 设计一个区网，包括相关的网络参数如下所示：
图 3.2-1、本书所使用的区网环境与参数设定
在上图的环境下，我们主要介绍的是 www.centos.vbird 那部 Linux 主机，该主
机必须要具有 router 的能力，所以当然必须就要有两个接口，一个接口与 Internet
沟通，另一个接口则与内部的 LAN 沟通。那么为什么鸟哥说的是‘两个网络接口’而
不是‘两张网络卡’呢？原因很简单， 因为一张网络卡可以设定多个 IP 啊！因此，
在 Linux 当中一张网络卡可以具有一个以上的 IP 呢！由于一个 IP 即为一个网络接
口，因此只要两个网络接口 (不论有几张网络卡) 即可进行 NAT (类似 IP 分享器功能)
的设定啦！所以自然一个网络卡即可啰！不过，鸟哥个人还是比较喜欢并且建议两张网
络卡的啦， 将内外网络环境完整的分开，让你的内部网络效能较佳一点！
PI:EMAIL
关于与 Internet 的联机方面，就如第二章谈到的，目前在台湾最常见的有 ADSL,
Cable Modem, 学术网络的固定 IP 等， 这些联机的方式我们将在后续章节继续介绍的。
至于内部的 LAN 我们则建议使用 Private IP 来设定喔！ 鸟哥通常喜欢使用
192.168.1.0/24 及 192.168.100.0/24 这几个 Class C 的网域，没什么特殊原因，只
是因为....我喜欢！ ^_^ 在选定了 Private IP 的网段后，你必须要有‘IP, Network,
Netmask, Broadcast, Default gateway 以及 DNS 服务器的 IP’等等的设定值。 假
设我 Linux 主机的对内 IP 为 192.168.100.254 ，则在图 3.2-1 内的 LAN 内的 PC
之网络相关设定参数则为：
 IP:设定为 192.168.100.1~192.168.100.253 ，但 IP 不可重复；
 Netmask：255.255.255.0
 Network：192.168.100.0、Broadcast：192.168.100.255
 Default Gateway：192.168.100.254 (路由器的 IP)
 DNS：暂时使用 168.95.1.1
Tips:
你能有如上图 3.2-1 这么多的计算机来测试你的服务器环境吗？
当然不可能！那如何达成上述的功能呢？透过虚拟化技术啊！ 鸟哥
是以 virtualbox 这套软件来处理整个局域网络所有主机的安装与
测试，主要虚拟出来的机器有 www.centos.vbird, clientlinux,
winxp, win7 这四部，要注意的是，www.centos.vbird 有两张网卡，
一张为对外联机的使用 bridge 模式， 一张与其他三部主机联机的
请选择‘intnet’，这样就能搞定你的区网环境与实验喔！
安装什么通讯协议
目前网络社会最通用的通讯协议就是 TCP/IP 了！因此你如果要连上 Internet ，
你的系统就得要支持 TCP/IP 才行。 但在局域网络内部时，事实上还可以透过简单的
通讯协议来达到数据传输的目的，例如 NetBEUI 就是一个常见的简易通讯协议。
在 Linux 系统当中，只要将网络参数设定妥当，那么 TCP/IP 就已经被启用了，
所以你不需要额外的再安装其他的通讯协议。不过，如果你需要将你的 Linux 系统中
的硬盘空间分享给同网域的 Windows PC 时，那么就需要额外的加装 SAMBA 这个服务
器软件才行。相关的 SAMBA 数据我们会在后面的章节提及。反正不管怎么说，目前
Internet 就是经由 TCP/IP 来进行连接的，而 Linux 本身就支持了 TCP/IP ，所以不
需要额外的安装有的没的说！
至于在 Windows 部分就比较麻烦一点，因为在较大型的企业当中，还需要额外的
考虑到 Windows Server 所提供的服务，那么在 Windows Clients 端就得要相应的启
动某些通讯协议才行。一般来说，在 Windows Client 系统里面，最常见的两个通讯协
议就是 TCP/IP 以及 NetBEUI 这两个通讯协议了。如果你只想让 Windows 与 Linux
能够借由网络上的芳邻互通有无，那么启动 TCP/IP 也就够了 ( 因为 SAMBA 是借由
PI:EMAIL
NetBIOS over TCP/IP 来达成数据传输的 ) ，不过，也可以同时启动 NetBEUI 这个通
讯协议就是了。
3.2.2 Windows 个人计算机网络设定范例
我们这本书谈论的是以 Linux 主机提供的服务器为主，所以关于 LAN 里面的
Windows 我都将他假设为 Client，并且不提供网络服务，所以都先以固定的 Private
IP 来设定 Windows 操作系统，如果你的 LAN 有其他的考虑，那么底下的设定就看看
就好。
我们在 Windows 系统上所需要的网络参数除了 IP, netmask, DNS 之外，还需要
‘工作组, workgroup’与 ‘计算机名称, Netbios name’等等的设定，此外，我们也
可以加上 LAN 里面很常见的 NetBIOS (NetBEUI) 这个通讯协议呐。因此，除非你确定
你的网域内还有其他的工作站， 否则‘请只要安装 TCP/IP 以及 NetBEUI 这两个协议
就好了！’ 安装太多反而会有问题呢！底下我们假设你的网络卡都安装好了，并以图
3.2-1 里面那部内部区网的 winxp 主机为例来介绍：
 与网络有关的设定参数：
o IP: 192.168.100.20
o Netmask: 255.255.255.0
o DNS: 168.95.1.1
o Gateway: 192.168.100.254
o 工作组： vbirdhouse
o 计算机名称： winxp
 详细的设定流程：
1. 先到‘开始’==> ‘设定’==> ‘控制面板’==> ‘网络联机’==> 选择‘区
域联机’该项后，会出现如下图示：
PI:EMAIL
图 3.2-2、区域联机状态
2. 上面画面当中选择‘内容’进入如下的设定画面中：
PI:EMAIL
图 3.2-3、区域联机内容
3. 接下来，在上图中选择‘联机后，将图标显示在通知区域内’， 并且双击
‘Internet Protocol (TCP/IP)’项目，就会出现下图。 在下图中填上我们需要的
各项 IP 参数，然后再按下确定就设定好啰！
PI:EMAIL
图 3.2-4、区域联机 TCP/IP 设定内容
4. 再来需要编辑你的网络识别喔！选择‘开始’==> ‘控制面板’==> 双击‘系
统’之后出现的图标，再按下‘变更’来修改工作组与计算机名称！ 输入正确之后，
只要重新启动，那么就可以使用局域网络啰！
PI:EMAIL