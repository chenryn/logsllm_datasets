第一件事就是采用拍卖的方式决定IPO 的股价。为了回报广大股民对Google 的支持，并保证中小投资者的利益， Google 最终说服了华尔街投资银行采用竞标的方式认购Google 的原始股。在以往的上市行动中，原始股的价格由要上市的公司和承包商谈判商定， 一般来讲，价钱都低于实际价值(只有黑石公司上市时除外) ，而承包商和它们的大客户则赚差价，这样当然就损害了要上市公司的利益和中小投资者的利益。比如百度公司上市时的定价只有区区27 美元， 是上市第一天收盘价的1/4。不仅如此，承包商还会控制原始股的配给，除非是它非常大、非常重要的客户， 一般人根本拿不到什么认购权。这样就无法保证中小投资者的利益。Google的做法，保证了自己和中小投资者的利益，当然华尔街就要少挣一点。这一点，后者也心知肚明，明面上不好讲，背地里并没有配合Google 。因此，居然出现了Google 首次募资原始股认购不满的情况。Google 公司当机立断，在上市的前一天调低了一些原始股价格，同时大幅降低了融资的金额，从原来的27 亿美元降到17 亿美元，避免了以过低的价钱大量稀释自己的股份。
Google 上市的第二个特点就是将一次融资拆成三次。一个公司融资上市，当然希望融资越多越好，但是这样要大量稀释自己的股票，公司和现有的股东未必能得到最大利润。显然Google 第一次没有充分融资。在首次融资一年后的2005 年9 月， Google 进行了第二次融资，以295 美元的价钱再次融资42 亿美元。这次融资虽然金额大，但是由于Google 的估价比IPO 时涨了三倍，只增发了很少的股票，最大地保证了自己和技资人的利益。到这时，大家不得不佩服Google 的高明之处。Google 的上市融资行动至此仍然没有结束。当时大家奇怪著名的高盛公司没有出现在第二次融资承包商中，而向从Google 上市，高盛一直是在为Google 高调捧场。半年后，谜底揭晓了。2006 年5 月，美国的标准普尔指数将Google 纳入其中。从金额上讲，标准普尔500 指数是美国和世界上的基金中，作为参考依据最多的指数， Google 被纳入其中后，很多基金将自动按照标准普尔500 指数指示的比例购人Google 的股票。根据以往其他股票被列入该指数的惯例，股价会上涨10%-20% 左右。通常炒家们在得到这个消息后会打个时间差从中套利(在对冲基金中专门有一种投机这种交易的基金，称为事件驱动( Event Driven )基金) 0 Google则早已计划并且准备好了，利用这次有利时机第三次融资。因此，标准普尔宣布这一消息后， Google 马上宣布第三次融资20 亿美元，这次由高盛公司独家承包。Google 在两年左右的时间里， 三次融资共80 亿美元，而且只稀释了不到10% 的股份，成为有史以来最为成功的上市行动。这些现金使得它有足够的财力打造超级数据中心，在与微软和雅虎的竞争中占到有利地位。和巴菲特一样， Google 的前任CEO 施密特是一个非常"爱财"的管理者，他永远将现金储备作为他关心的头等大事。他在2008年接受了媒体记者的一次采访。当记者问到Google 有上百亿美元的现金，能否给股东发一点红利时，施密特开玩笑说，我更喜欢看着这些钱在我银行的账户上。和很多成功的职业经理人一样，施密特是一个非常稳健的管理者，他在做任何事时都会保证在最坏情况下Google 能挺过很多道难关。
Google 上市时做的第三件非同寻常的事就是学习巴菲特的伯克希尔一哈撒韦公司，将Google 的股票分成了投票权完全不同的两种。佩奇、布林和施密特等人是追求长期利益而不是眼前利益的人，在这一点上他们和巴菲特很一致。当然，华尔街对于任何上市公司都会指手画脚的，要求它们达到每个季度的营收预期。当基金经理们在一个上市公司中占的发言权很大时，他们甚至会要求撤换整个董事会由他们直接管理。前一阵被炒得沸沸扬扬的伊钦威胁撤换雅虎董事会一事，就是投资人过度干涉上市公司经营的典型例子。正是因为这个原因， Google 迟迟不愿意上市。Google的创始人仔细研究过巴菲特的成功经验，发现其中成功的一条就是公司内部的人要有绝对的发言权(投票权) 。巴菲特的做法是发行A 和B 两种面值不同的股票， A 股的面值是B 股的30 倍，投票权却是B 股的200 倍。B 股永远不能转成A 股，但是反过来A 股可以在任何时间转成B 股。当然，巴菲特和芒格等其他伯克希尔-哈撒韦的大股东及大投资人拥有的是A股。由于A 股的价钱高达每股十几万美元，不仅散户无法购买，动态管理的基金经理也无法购买。这样就保证了巴菲特和芒格对公司的绝对控制。Google 也类似地规定2002 年以前发行的股票(B股)每股拥有10个投票权，而以后的称为A 股(包括所有公开交易的) 一股只给一个投票权。B 股(大多数掌握在创始人和高管手里)不能流通，只能换成A股才能出售，而A 股则永远不能转化回B 股。其结果是不管一个投资人从市场上购买多少Google 的股票，只要它的创始人持有10% 的股票就可以拥有绝对多数的投票权。这样，华尔街很难直接干涉Google 的发展。两年后，百度也从Google 身上学到了双重股权的办法。
从Google 的上市过程中可以看到，它是一个目光长远并且精明到骨子里的公司。
17.2 早期岁月
要介绍Google ，必须提及它的伙伴和对手雅虎公司。尽管这些年雅虎的风头早已让Google 盖过了，但我一直认为对互联网整个产业贡献最大的是雅虎公司和它的两个创始人杨致远和菲洛。一项产业早期领导者选定的商业模式对这项产业的影响几乎是决定性的。如果不是雅虎，互联网很可能像汽车一样在相当长时间里只能是有钱人的奢侈品。
其实雅虎也不是第一家从事互联网服务的门户网站，在雅虎公司成立以前，美国在线已经开始提供普通用户互联网接人业务。但是它的商业模式很像传统的电话公司: 它卖给每个想上网的用户一个调制解调器(后来的微机自己带有这个功能，就不需另配这个外接设备了) ，然后利用电话线拨号上网。它的费用也和电话公司一样，每月20 美元，从用户那里收钱。但是雅虎的思路完全不同，它并不关心用户是如何上网的， 而是关心用户上网后去哪里。为了让越来越多的人能够上网去雅虎，它尽可能从商家而非用户那里挣钱来维持公司的运营，它甚至提供一些免费的接人号码。同样，中国版的雅虎一一搜狐、新浪和网易也用相同的方法主导了中国的互联网。雅虎及其追随者们，就这样培养出一个很大的市场，而且刺激了电子商务的诞生。
杨致远的卓识远见不仅表现在看清了互联网产业正确的发展方向并沿着这个方向去执行，而且从一开始就看到了整理互联网内容的重要性。早期雅虎的用户是从为互联网的网站建目录( Directory )起家的。当时全世界互联网搜索的技术储备几乎是零， 传统的文献检索技术(以康奈尔大学萨尔顿教授为首)完全是针对阁书馆的文献和档案设计的，直接搬到互联网上效果并不好。杨致远和菲洛都不是信息处理的专家，也没有时间研究这个问题，因此他们根本就没有考虑采用自动的办法整合和检索互联网，而是采用了最快的办法一一手工建目录。由于当时网上的内容极少，杨致远和菲洛用手工很快就建立起了覆盖互联网大部分内容的目录。但是这种做法后来为雅虎的发展带来了一种不良的传统，雅虎至今仍然比Google 更相信人工而不是自动的方法。后来，互联网的内容多了，无法手工建索引和目录了，于是雅虎便采用了Inktomi的自动搜索引擎。
由于当时计算机容盘和速度的限制，早期的搜索引擎都存在一个共同的问题:收录的网页太少，而且只能对网页中常见内容相关的实际用词进行索引。对于虚词，比如英语中的to 、be 和not ， 等等是不做索引的。那时，用户难以找到很相关的信息。为了查找一点信息，常常要换好几个搜索引擎。后来DEC 公司为了展示其64 位处理器Alpha 的超强计算能力，开发了AltaVista 搜索引擎，只用一台Alpha 服务器，却收录了比以往引擎都多的网页，而且对里面的每个词都进行了索引。AltaVista 一个最经典的搜索查询就是莎士比亚的名句"是生存还是毁灭( to be or not to be) " ，里面6 个词全部是虚词，以前任何搜索引擎都无法对它进行查找，而AltaVista可以。于是AltaVista 一夜之间成为最流行的搜索引擎。AltaVista 虽然让用户搜索到大量结果，但大部分结果却与查询不太相关，有时找想看的网页需要翻好几页。
当上世纪90 年代末的互联网大潮席卷硅谷时，还在学校读博士生的拉里?佩奇和谢尔盖?布林也觉得该干点什么。在信息检索的学术界有两个衡量搜索质量好坏的客观标准即查全率( Recall )和查准率( Precision ) 。AltaVista 相比早期的搜索引擎，解决了覆盖率(查全率)的问题，但是还没有在查准率上有什么突破，佩奇和布林决定在这方面做点研究。
当时整个学术界和工业界对搜索查准率的研究仍然局限在萨尔顿确定的、针对图书馆文献检索的关键词加权平均的框架中。虽然一些学者看到了互联网网页之间的相互联系，但是由于习惯性思维的限制，无非是把这种联系作为一个新的信号，对已有的方法修修补补， 因此效果并不好。佩奇和布林本来不是研究文献检索的，脑子里没有那些条条框框，而是从一个全新的角度看待互联网和它的搜索问题。我们问佩奇是如何想到Page Rank算法的。他说"当时我们觉得整个互联网就像一张大的图( Graph ) ,每个网站就像一个节点，而每个网页的链接就像一个弧。我想，互联网可以用一个图或矩阵描述， 我也许可以用这个发现做个博士论文。"就这样，他和布林发明了Page Rank 算法。当然，这里面还有很多实际问题待解决，好在布林和佩奇都是实实在在做事的人，他们不满足于从理论上证明Page Rank 算法的正确性，而且自己建起了一个搜索引擎Google 来证明Page Rank 的实用性。Google 基本上解决了搜索查准率的问题。虽然今天的Google 和其他搜索引擎相比当初的Google 已有了长足的进步，但是这种进步基本上属于量变。搜索引擎领域迄今为止的质变只有Google 取代AltaVista 那一次。
Google 一词源于一个非常大的数字Googol ，即十的一百次方。实际上宇宙中没有任何事物能有这么大，甚至宇窗中全部的基本粒子数目也没有这么多。佩奇和布林取这个名字， 无非是想表示他们的搜索引擎很大。佩奇和布林很快建立起了搜索引擎，由于系里计算中心分配给他们的磁盘空间很快就装不下他们下载的网页了，于是他俩不得不自己掏腰包买了些硬盘。由于Page Rank 的作用和他俩在工程实现上的精雕细琢， Google 搜索引擎居然比当时商业的AltaVista 和Inktomi还准确，于是他们在斯坦福的一些同学和朋友就开始使用Google 进行网页搜索了。靠着同学和朋友们的互相推荐， Google 的搜索量达到了每天5000 次。1997 年9 月，佩奇和布林注册下google.com 的域名。这时，佩奇和布林信用卡上的钱能借的全借光了，他俩不得不为Google 找出路。他们接触了一些投资人，一开始并没有找到投资，直到1998 年夏天，佩奇和布林通过斯坦福大学那个帮助学生创业的办公室，联系到了斯坦福的校友、太阳公司创始人安迪? 贝托谢姆。
贝托谢姆当年还在一线工作， 非常繁忙，他对佩奇和布林讲，他只有早上上班前有点时间。佩奇和布林当然不会放过任何一个可能的机会，于是一大早就扛着自己攒的服务器来到了贝托谢姆的办公室，并且向这位工业界大名鼎鼎的人物演示了自己的搜索引擎。在Google 以前，包括AltaVista在内的搜索一般10 条结果只有两三条是相关的，剩下来七八条都是无关的，而Google 则做到了七八条相关而两三条无关，这是一个质的飞跃。我在提及创业和技术进步曾多次讲，只有质的飞跃才能造就取代原有公司的新的主导者， Google 的技术在当时符合这个条件。贝托谢姆对演示的结果非常满意，他甚至没有考虑这个搜索引擎怎么挣钱就给"Google 公司"开出了一张10 万美元的支票给佩奇和布林。
佩奇和布林当然兴奋得不得了，但是马上发现他们无法兑现这张大额支票，因为他们虽然注册了google.com 的域名，而Google 公司并不存在。于是他们在斯坦蓓的帮助下注册了Google 公司，斯坦福大学因为提供了部分用于Page Rank 的专利，也就成了Google 的股东。为了办公司， 佩奇和布林不得不"暂时离开" 学校。严格意义上讲，他们当时并不是退学，而是可以在任何时候再回学校继续读博士。
佩奇和布林离开学校的同时，还带出了他们的一位博士生同学(当然也是暂时离开)克雷格? 西尔弗斯坦( Craig Silverstein ) 。西尔弗斯坦可以称得上是一位计算机奇才，他几乎一个人写出了Google 搜索引擎的第一个商业版本。前苏联著名物理学家、诺贝尔奖获得者朗道将世界上的物理学家从一级到五级分为5 个层次，每个层次的贡献差一个数量级(朗道很谦虚，他把他自己排在2 . 5 级，得了诺贝尔奖后，才把自己升到1.5 级) 。如果我们也是这样对计算机工程师分级，那么西尔弗斯坦无疑是在第一级，我自己大概是2.5 级。在Google 早期，佩奇和布林自己忙于找投资，儿乎不再有时间摘开发，整个开发的任务就压到了西尔弗斯坦一个人身上。他原来是研究信息编码的博士生，但是无论是系统设计还是编程能力都极强。更难得的是，和一般早期公司那些能很快地写很多粗糙程序的工程师不同，西尔弗斯坦的程序总是采用最优的实现方式，读起来完全像是在看一种艺术品的感觉。在Google ，研究和开发从来是不分离的， 作为Google 搜索引擎早期几平唯一的工程师，他要"懂得" 一个搜索引擎里面全部的原理，至今世界上能做到所有这一切的人也不多。当时Google既没有很多的钱，也还看不到今天的成就，西尔弗斯坦选择加盟，完全是因为和佩奇、布林两个人志同道合，并且坚信Google 能成功。西尔弗斯坦不仅开发出第一个商业版本的Google ，而且制定了Google 至今遵守的程序设计规范和流程。事实证明，即使在已经有几千名工程师的今天，西尔弗斯坦的规范和流程依然适用而且非常有效。
贝托谢姆给的10 万美元很快就花光了，佩奇和布林很快又找到了100 万美元左右的投资。有了钱， Google 当然要找其他工程师了。据佩奇讲，当时他们3 个刚从学校出来，也没有招人的经验，大家在一张乒乓球桌前坐成一排，就开始面试人了，因为不知道该问什么问题，所以问的问题很随意。但是，他们坚持宁缺毋滥，每招一个人必须所有人一致同意才行，所以早期进Google 是很难的。直到2002 年， Google 招收的每一个工程师必须通过两位创始人或4 名Google Fellow 其中一位的面试，而且必须经两位创始人同意才行。
一年以后的1999 年正是互联网最热的年头， Google 借着互联网的春风，顺利地从两家最大的风险技资公司KPCB 和红杉资本获得两千多万美元的投资。同时Google 通过为企业提供内部的搜索服务开始有了营业额。2000 年， Google 取代了Inktomi 为雅虎网站提供搜索服务。我第一次听说Google 就是在得知这个消息的时候。一年后的2001 年，互联网泡沫破灭，无数上市的互联网公司关门大吉，而Google 居然在这一年里开始盈利，不能不说是个奇迹。
互联网上流传着早期Google 的很多故事，真实的和虚构的都有，还有一些半真半假，让不知情者难以分辨。其中一个普遍的误解就是雅虎想收购Google ， Google开了个当时雅虎认为的高价， 后者没接受， 于是错过了收购Google 的机会。这个故事的真实之处在于雅虎确实有收购Google的意向，而Google 开出当时认为是天价的原因是它的两个创始人根本不想出售公司。佩奇和布林是心比天高的人，根本不是那种赚一笔快钱就跑的人，也不是那种赚快钱的人可以理解的，用中国的古话讲就是"燕雀焉知鸿鸽之志" 。其实，最早想收购Google 的公司根本不是雅虎，而是亚马逊。在20 世纪90 年代末，由于美国信息工业奇缺工程师，很多公司不得不通过收购一个小公司，遣散非技术人员的方式来得到工程师。亚马逊专门有一位工程副总裁负责此事。他又一次到了硅谷考察公司，回去对同事讲：“我见到了一家公司，做的东西真好，他们才有4 个人，居然要开价10 亿美元。唉，他们做的东西真好! ”4 个人开这么高的天价实际上就是婉拒收购，这位副总裁也明白，虽然遗憾，但是也只好作罢了。言者无意，听者有心。他手下的一位中国工程师听到这个消息，马上试了试Google 的搜索，发现比AltaVista 和雅虎的好得多， 于是他当机立断地加盟了Google ，成为Google 第一位华裔员工(因此， Google 的第一位中国员工并不是Google中国和媒体搞错了的那位女生) 。
如果不了解佩奇和布林的雄心，就不可能懂得Google 为什么能成功。我常常想，凡做大事的人，必须有做大事的气度和胸怀。佩奇和布林就是这样气度恢弘的人。很多公司在和Google 的竞争中总是处于被动，就是因为他们以为Google 的两个创始人年纪轻而低估了这两个人的雄心和能力。