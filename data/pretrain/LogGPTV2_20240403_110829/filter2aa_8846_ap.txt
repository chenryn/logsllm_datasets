这种商用保护服务。
73、假冒/伪装（Impersonation/masquerading），这和欺骗（spoofing）
不一样，欺骗仅仅是声称身份但没有凭证，假冒/伪装 是有凭证的（偷
来的凭证）。
74、ARP欺骗，位请求的IP地址ᨀ供假的MAC，对付手段：使用静态ARP
映射、监控ARP缓存中的MAC-IP映射、使用IDS检查异常。交换机监听并
记录DHCP，及时发现虚假的ARP包；交换机维持绑定的IP-MAC对，发现
异常的丢弃之；交换机丢弃冒充网关的帧。
75、DNS投毒（poisoning）更改的是DNS系统，不管是哪一级的。
DNS欺骗（spoofing）发送虚假的响应，并抑制真的响应。
DNS劫持（Hijacking）的一种方法是，发送一个自己掌握的域名，并在
自己掌握的DNS域名服务器上，侦听到本地DNS服务器（为真正客户端服
务的，黑客意欲破坏的）发出DNS请求包的序列号和源端口地址，然后
发送下一个真实请求的伪造响应给本地DNS服务器，关键是猜测伪造序
号和目的端口地址。解决办法是升级DNS到域名系统安全扩展
（DNSSEC）。
1、ISDN用户―网络接口有两种接口结构，即BRI和PRI。
2、BRI	(Basic	Rate	Interface)：基本速率接口，ᨀ供2个64kbit/s速率的信道
和1个16kbit/s速率的信道，也即是2个B信道和1个D信道，总共144kbit/s
的信息通路。B信道是用来传送语音和数据等用户信息的通路。D信道是
用来传送信令信息和低速分组数据的信道。BRI是大部分用户所用的接口。
用户可以在这种接口上接入最多达8个的各种类型终端，进行语音、数据
和图像等多种业务的通信。
3、PRI也称为主速率接口（Primary	Rate	Interface），为客户ᨀ供的连接
具有 2	至 23	个 64	Kbps	的 B	信道和一个 64	Kbps	的 D	信道。因此，
PRI	最小为 192	Kbps，最大可以达到 1.544	Mbps。不过需要记住的是，
因为包含不能用于实际数据传输的 D	信道（至少在大多数正常的商业应
用中情况如此），所以这些数字指的是带宽而不是数据吞吐量。
4、T1:	1.544M，T3:	44.736； E1:	2.108M，E3:	34.368	
领域5-身份和访问控制
第13章 管理身份和认证
1、资产可以包括信息（数据，包括文件和数据库）、系统、设备、设施、
人。
2、访问控制的类型：预防（Preventive	Access	Control）、检测
（detective）、纠正（corrective）、威慑（deterrent）、恢复
（recovery）、指引（directive）、补偿（compensation）。
3、预防性Preventive：试图阻碍未授权活动发生。主要包括围墙、锁、
陷阱、灯、警报、生物扫᧿、职责分离、岗位轮换、数据分类、渗透测
试、加密、审计、CCTV、智能卡、callback、安全策略、意识培训、反病
毒、防火墙，IPS。
4、检测性detective：试图检测。保安、移动探测仪、CCTV、岗位轮换、
强制休假、审计跟踪、蜜罐、IDS、违规报告、监管检查、事故调查。
5、纠正性corrective：发生未授权操作后，将系统还原。比较简单：删除
或隔离病毒、重启系统、能修改环境阻止攻击的IDS。
6、威慑性deterrent：主要是吓阻，和预防性有点像，但威慑性主要是威
慑人不去做，预防性则实际阻止人做不成。比如：意识培训、锁、围墙、
安全徽章、保安、陷阱、摄像头。
7、恢复性recovery：出现违反安全策略的情况后可以修复或还原资源，
比如备份和还原、系统镜像、服务器集群、反病毒软件。
8、指令性directive：指示、限制主体，从而强制或鼓励主体遵从安全策
略，比如安全策略需求和标准、张贴通告、疏散标志、监控、监督和规
程。
9、补偿性compensation：在主控制不可用时ᨀ供备选方案。比如在新员
工还没有领到智能卡的时候，让他们先用硬令牌。
10、另外一种分类方法：物理的、逻辑\技术的、行政的。
11、身份标识（Identification，有翻译叫鉴定的）是主体声称某个身份的
过程。比如输入用户名、刷卡、挥令牌、说一段话、将脸、手、手指靠
近扫᧿设备。
12、认证的一条核心原则就是所有的主体必须有唯一的身份。
13、身份标识和认证总是放在一起，第一步ᨀ供身份标识，第二步就是
身份认证。
14、用户获得身份的过程就是注册过程。比如新员工来了，人事部门就
会给他们创建用户ID，注册时也会涉及到录指纹。注册过程中可能需要
对身份进行额外的认证。
15、授权是依据主体的身份授予其客体访问权限。可问责性是指审计发
现问题时主体要为自己的行为负责，可问责机制主要靠审计。
16、认证有三种因素：
类型1：你知道什么：密码、PIN、passphrase；
类型2：你拥有什么：智能卡、硬令牌、记忆卡、USB；
类型3：你是什么：生物特征，包括签名和击键力度。
另外还有一种因素：“你的位置是什么”，通常联合其他因素使用。
要求用户输入密码和PIN并不能算多因素身份认证，因为这两种都属于
一种身份认证因素。
17、常见的密码策略：最长使用时间、密码复杂性、密码长度（特权的
要15个字符以上，一般的要大于8字符，超过12字符可以应付大多数）、
密码历史（不让用以前的）、最短密码使用期限（Minimum	password	
age，防止来回换）。
18、认知密码（Cognitive	Password）是一系统问题，系统可以用这个做
身份认证，但主要是密码重置时使用。
认知密码的缺点是答案可能会被被别人知道。最好的认知密码系统允
许用户自己创建问题和答案。
19、智能卡包含一个微处理器，内部有一个或多个证书，用于非对称加
密，使用时插入智能卡阅读器。既可以做身份识别（identification），也
可以做身份认证，由于可能会被别人拿走，所以智能卡通常再加一个因
素，要求PIN码或用户名密码。
20、令牌（这里指的就是硬令牌）上都有一个显示器，使用一次性动态
密码，显示6位到8位号码。有两种，
一种是基于时间的同步动态密码令牌（每隔60秒变一次）
一种是基于递增计数器的异步动态密码令牌，这种是用一次变一次
有的令牌还会让用户可以在令牌上输入服务器给出的nonce，然后用算
法生成password。缺点是电池没电了没法用。
21、生物识别：指纹、脸部扫᧿、
视网膜扫᧿（Retina）：眼睛后方的血管图案，非常精确，能区分同卵
双胞胎，最不为人接受，因为会泄漏高血压和妊娠情况，旧的扫᧿方式
是吹气，现在用红外光；
虹膜（Iris）：关注瞳孔周围的有色区域、人的一生中虹膜相对不变，
缺点是无法对同卵双胞胎区分，高品质图像可以欺骗扫᧿器；精度会受
到灯光变换的影响。
手掌扫᧿（Palm	Scans），用近红外光扫᧿手掌的静脉模式，不需要接
触扫᧿仪；
手形（Hand	Geometry）：用于识别手的物理尺寸，很少单独使用；
心跳脉搏模式（Heart/Pulse	Patterns）：这也是辅助性措施；
声纹（Voiceprint）：很少单独使用，声音模式识别主要区分不同的声
音，而语音识别做的是从声音中提取信息。
22、签字动力学（Signature	dynamics），依赖于笔的压力、笔划方式、
笔划长度及ᨀ笔时间。
23、击键模式（Keystroke	patterns）分析抬指时间（击键的间隔）和按
压时间（按住的时间），这种方式容易产生重大偏差，一只手击键，手
部冰冷、站着、手指受伤等等都会影响。
24、类型1错误：FRR（False	Rejection	Rate，错误拒绝率）；
类型2:FAR（False	Acceptance	Rate，错误接受率）；
调节灵敏度的时候，过于灵敏，FRR变高，不灵敏时，FAR变高，他俩
的交叉点在CER（crossover	error	rate），CER越低越好。没有必要把灵敏
度设在CER的水平，因为组织是有策略的，可能就是宁可错杀也不能放过。
25、生物识别注册：注册时会存储生物识别因素，这被称为基准轮廓
（reference	profile）或基准模版（reference	template），注册时间超过两
分钟是不可接受的，如果生物特征会变（语调、头发、签字模式），就
需要定期进行重新登记。主体接受识别时间为6秒或更短。
26、设备认证就是认证设备，可用在BYOD安全策略中。比如需要识别某
个设备是否允许连接网络，主要使用设备指纹：设备注册时，通过设备
OS及版本、浏览器、浏览器字体、插件、时区、屏幕分辨率、Cookie设
置、HTTP头等方式，这些特征可能会变化，但这种方法还是比较成功的。
27、集中式身份认证（访问控制）管理开销小，分布式身份认证（访问
控制）在一致性维护上比较困难。
28、单点登录（Single	Sign-On，SSO）的主要缺点是，一旦账户被破解，
就会很糟糕。
29、安全域是共用一个安全策略的主客体的集合。信任关系是域和域之
间的桥梁，允许一个用户从一个域访问另一个域中的资源。
30、Kerberos的名字源于希腊神话，一只长有三个头的狗名为Kerberos，
它守卫着通往阴间的大门，它的脸朝内，目的是防止逃跑而不是进入。
31、kerberos 5给用户ᨀ供单点登录解决方案，依赖的是对称加密密钥，
使用AES，完成机密性和完整性。
32、Kerberos中有票据授予服务器（Ticket-Granting	Service，TGS）和身份
认证服务器（Authentication	Service，AS），AS和TGS可以都在KDC这台机
器上，KDC维护着所有的密钥，TGS可以在其他的机器上，也就是说可能
KDC上只有AS。
33、客户C最终从服务器V获得所需的服务。C需要向V提供服务票据
（Service	Ticket，ST），ST票据是一小段用共享密钥加密的数据。确保登
录凭证、会话密钥这些内容不会明文传输。
34、AS提供对客户的认证，如果认证成功，AS颁发TGS票据，记作TGT ，
客户可以拿着这个TGT向TGS索取ST。TGS验证TGT无误后，查看访问控制
矩阵，如果C有访问V的权限，就给C颁发ST。TGT用AS和TGS之间的密钥
加密，ST用TGS和V之间的密钥加密。TGT和ST都有特定的寿命，到期时间
就记录在票据中，一旦票据到期，就要申请新的票据。
35、C不仅要传输票据，还需要发送额外的信息来证明自己确实是票据的
合法拥有者。这个信息就是认证符(authenticator)，它用会话密钥加密，
包含了用户名和时间戳。会话密钥从哪里来呢？从用户口令衍生或者由
TGS给，在票据中有（但C读不到票据的内容，因为用C不知道的Key加密
了）。
AS发给C票据中，有C和TGS之间的会话密钥Key-C-TGS，虽然C解不开票
据，但这个会话密钥Key-C-TGS本身可由C从用户口令衍生(散列)而得。C
发给TGS的认证符由K（C，TGS）加密的。
TGS发给C票据中，含有C和V之间的会话密钥Key-C-V，这个票据是用
TGS和V之间的密钥加密的，C解不开。但Key-C-V也会由TGS给C发一份，
由Key-C-TGS加密，C发给V的认证符由Key-C-V加密。
36、客户C登录工作站所位于的域后，输入用户名密码，加密后传给AS用
来认证自己，AS会返回一个TGT给客户，这个认证过程在整个登录期间
（从登入到登出）只发生一次。然后，客户需要服务时，向TGS发送这个
TGT，从TGS获得一个ST，在登录期间，根据所需服务种类的需要，每种
服务会发生一次，如客户需要FTP服务时，会向TGS要一张FTP服务票据。
最后，C向V发送ST，V确认无误后，向Cᨀ供服务，这个过程在登录期间，
会发生多次，如客户一天中，多次检查收取邮件时，每次都会ᨀ供票据
ST。
37、Kerberos所有的系统在5分钟内要同步时间。Kerberos会存在单点故
障，就是KDC（含AS和TGS）会出现故障；
KDC被破解，所有密钥就都破解；KDC离线，主体无法使用。
OSG书上᧿述的过程：
Kerberos	登录过程如下：
(1) 用户将用户名和密码键入客户端。
(2) 客户端使用 AES	加密用户名，然后传输至 KDC。
(3) KDC 使用已有证书的数据库来认证用户名。
(4) KDC 产生一个同步密钥，用于客户端和 Kerberos	服务器间的通信。它
用用户密码的散列值加密。KDC 也生成一个有加密时间戳的授予票证
（TGT）。
(5) KDC 然后传输加密过的同步密钥和加密过的带有时间戳的 TGT 给客
户端。