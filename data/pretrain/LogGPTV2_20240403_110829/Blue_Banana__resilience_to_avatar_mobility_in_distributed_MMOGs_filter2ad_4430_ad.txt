over­
explains 
than Blue Banana: as the mo­
of rapidly 
moving avatars 
messages 
updating proportionally 
the number of economized 
grows. 
needed, 
the overlay 
set, without 
3.2). The little 
emitting 
overhead 
nodes that are not 
to that, the update interval 
6. Related work 
this first experiment 
the number of transient 
summarize, 
decreases 
the mobility 
count when responding 
shows that Blue Banana 
failures 
and suggests 
that 
of prefetched  nodes 
should be taken into ac­
to a prefetching 
request. 
Knowledge time of forthcoming elders. The second 
measures 
presented 
subsidiary 
the knowledge 
in Figure 3.b shows that, for 
of nodes ahead of the 
with Blue Banana than with the ba­
a node knows every neighbor 
metric evaluation 
fast moving avatars, 
movement is far greater 
sic Soli psis overlay: 
ahead 
of its movement between 2 and 3 times longer than with 
(2.7 times longer for a real-trace-like 
Solipsis 
mobility 
rate 
of 55%0). Moreover, 
show that with 
Blue Banana, the node of an avatar in state T is in average 
aware of 7.5 nodes located 
ahead of its movement. 
other hand, a basic Solipsis 
node is 
one node ahead of its movement. 
the evaluation  of 
ahead of its movement. 
a fast-moving 
By using Blue Banana with the Second-Life-like 
mobility 
rate of 55%0, a node has time to download 
KBytes of information 
tion) about its playing 
prefetching. 
play substantially 
about the playing 
tive transient 
This means that the NVE application 
can dis­
(about 20 times more) 
(with a lOdownilup 
area, versus only 20 KBytes without 
more information 
area on time, thus clearly 
in average 
only aware of 
These two results 
up to about 430 
ADSL connec­
the average quantity 
avatar can download 
failures. 
limiting 
applica­
permit 
On the 
of  information 
that 
Network overhead. The last important 
result 
of the ex­
is 
induced 
evaluation 
per node per second, 
is the low network overhead 
perimental 
by Blue Banana. Figure 3.c shows that this overhead 
around five messages 
which is almost 
negligible 
by the Solipsis 
depending 
and 230 maintenance 
work overhead 
1 and 3%. Moreover, 
a small, constant 
compared to the number of messages 
a basic Solipsis 
of its neighbors, 
between 130 
per second, thus the net­
messages, 
with 
messages 
count 
of Blue Banana is approximatively 
between 
size (see the Exchanged 
these are maintenance 
on the mobility 
node sends, 
messages 
overlay. 
Indeed, 
generated 
Un-adaptable 
overlays. Considerable 
research 
effort 
in the last decade in the field of peer­
most of existing 
over­
needs into account at 
However, 
application 
building 
a distributed 
is a hard task: the nodes sharing 
NVE 
overlay 
networks. 
Therefore, 
has been conducted 
to-peer 
lays do not take specific 
all [20,22,27,28]. 
on top of such an overlay 
a same playing 
reason to be close in the overlay, 
municate 
knowledge. 
overlays 
cation: 
are supposed 
gether and permits 
anticipation 
lays. 
have been designed 
large-scale 
algorithm 
read-only 
area (or a part of a playing 
area) have no 
and yet they need to com­
a lot because they share a consequent 
common 
The main reason for this is historical: 
for one specific 
file-sharing. 
these 
target appli­
Therefore, 
they 
all the nodes to­
to build a graph that connects 
efficient search operations. 
Blue Banana 
is not compatible 
with these over­
Overlays reacting to application 
have focused 
on dynamically 
adapting 
needs. Recent works 
the overlay 
to better 
978-1-4244-7501-8/101$26.00 
©2010 IEEE 
178 
DSN 2010: Legtchenko 
et aL 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:00:02 UTC from IEEE Xplore.  Restrictions apply. 
2010 IEEEIIFIP International 
Conference 
on Dependable 
Systems & Networks (DSN) 
However, 
to exchange 
the application 
adapt themselves 
data. Few recent overlays 
close peers to be close in the overlay, 
semantic 
over­
close peers. This 
are able 
[21,33]: 
to the applications 
needs. For instance, 
satisfy 
lays [32] build links between semantically 
allows semantically 
which is a good point because they are likely to interact, 
for instance 
to gracefully 
they react to the application  evolution, generally 
ing communication  between 
this class of overlays. 
namic, the reaction 
may lead to inconsistencies 
application 
the overlay 
tion needs, while we propose 
needs by adapting 
the overlay 
work can easily 
lays. 
level. These works differ from ours because 
adapts itself 
applica­
to predict 
in advance. 
be implemented on 
[15] is part of 
is too dy­
if the application 
our 
top of any of these over­
or at least inefficiencies 
may come too late which 
Nevertheless, 
and anticipate 
those 
nodes. Solipsis 
to the detected 
of the overlay 
by reacting 
However, 
by detect­
at the 
[6], a decentralized architecture 
is also based on a DHT for virtual  object 
References 
Overlays for distributed 
MMOGs. Last years, some 
tailored 
are extremely 
Varvello 
hash ta­
show that the responsiveness 
needs. The 
efforts 
mobility 
the overlay 
has to be very re­
increases. 
with light virtual 
anticipating 
In particular, 
In this case, implementing 
have focused on building 
in order to ensure mobility 
overlays 
application 
imposed by the NVE applications 
resilience. 
an NVE over a distributed 
of the 
but not if vir­
research 
for NVEs, but without 
constraints 
hard to sustain. 
sponsive 
et al. implemented 
ble [31]. The authors 
DHT is acceptable 
tual mobility 
verse binary trie on top of a DHT could help to lower the 
to 
latency 
(First 
constraints 
support 
Per­
son Shooters) 
discovery. 
However, 
DHT's overlay. 
closer the elders from which the object prefetching 
Blue Banana's 
overlay 
brook, the sequel of Colyseus, 
rated approximations 
crease the network load [7]. 
[30]. Colyseus 
MMOGs with tight latency 
main goal is precisely 
such prefetching 
of elabo­
techniques 
does not adapt to bring 
is done. 
and dead reckoning 
this prefetching 
takes advantage 
is built on top of the 
mechanisms. 
The overlay 
mechanism 
At storage 
to support 
itself 
Donny­
to de­
a re­
to help an adaptive 
level, Colyseus  prefetches 
objects. 
Another approach 
uses flexible 
peer-to-peer 
overlays. 
In 
the logical 
by the virtual 
is determined 
neighborhood 
neighborhood 
of a node in the 
of its 
tries to keep 
area in the node's neighbor 
such systems, 
overlay 
avatar in the NVE: for each node, the overlay 
the elders of the playing 
As that avatar moves in the virtual 
neighborhood 
of its node evolves: 
in reaction 
to the application. 
neighborhood 
be adapted to the virtual 
node will know the elders of its playing 
lays of that kind have been designed 
this is the case for Solipsis 
of every node in the overlay 
neighborhood 
environment, 
the overlay 
the logical 
adapts itself 
Thanks to that, the logical 
of its avatar: 
each 
over­
area. Several 
[15] on which we have exper-
in the past few years: 
set. 
will eventually 
imented Blue Banana, and of Voronoi tessellations-based 
overlays 
or VON [3,4, 12]. 
like VoroNetlRayNet 
to our knowledge, 
none of these overlays 
an­
the application 
ticipate 
can be implemented on 
them to anticipate 
needs. There again, our algorithm 
top of any of these overlays 
to allow 
application 
needs and adapt in advance. 
7. Conclusions 
and perspectives 
by re­
to the application 
in exist­
the ability 
to 
We then show that even if 
arbitrary-scale 
tries to remain adapted 
the NVE suffers many transient 
of the overlay 
a study of avatar mobility 
a model that provides 
traces. 
This paper presents 
ing NVEs and proposes 
generate 
the overlay 
acting to avatar movement, 
failures 
due to the lateness 
we propose Blue Banana: a mechanism 
movement and anticipates 
vance. We show that our anticipation 
by more than 20% the number of transient 
ing the state-of-the-art 
its network performance. 
ticipation 
permits 
about playing 
study can be used in the design of future MMOG overlays. 
adaptation. 
Thus, 
avatar 
the overlay 
in ad­
cuts down 
failures 
to load 20 times more data 
areas in case of mobility. 
we show that our an­
it by adapting 
that predicts 
mechanism 
mechanism 
degrading 
Moreover, 
We believe 
Solipsis 
without 
overlay 
that our 
affect­
As a perspective, 
we plan to study more accurate 
and particularly 
antic­
the possi­
to explore 
mechanisms, 
to anticipate 
ipation 
bility 
independently 
the number of transient 
ity rates. 
the relative 
movement between avatars, 
from their position. 
This study should lower 
even in case of high mobil­
failures, 
[1] M. Agosti, F. Zanichelli, 
M. Amoretti, and G. Conte. 
P2pam: a framework for peer-to-peer  architectural  model­
ing based on peersim. In S. Molnar, J. Heath, O. Dalle, and 
G. A. Wainer, editors, 
page 22. ICST, 2008. 
SimuTools, 
[2] R. T. Alves and L. Roque. Because players pay: The busi­
ness model influence on mmog design. In B. Akira, editor, 
Situated Play: Proc. of the 2007 Digital Games Research 
Association  Conference, 
2007. The University 
pages 658-663, Tokyo, September 
of Tokyo. 
[3] O. Beaumont, A.-M. Kermarrec, 
L. Marchal, and E. Riviere. 
In 21th International 
object network based on voronoi tessel­
Voronet: A scalable 
lations. 
Symposium (IPDPS 2007), Long Beach, USA, pages 26-30. 
IEEE, March 2007. 
Parallel and Distributed 
Proc. 
[4] O. Beaumont, A.-M. Kermarrec, and E. Riviere. Peer to 
overlays: Approximating 
peer multidimensional 
structures. 
Tsigas, and H. Fouchal, editors, 
In E. Tovar, P. 
OPODIS, volume 4878 of LNCS, pages 315-328. Springer, 
2007. 
complex 
[5] T. Beigbeder, 
E. Agu, 
and M. Claypool. The effects of loss and latency on user 
R. Coughlan, C. Lusher, J. Plunkett, 
978-1-4244-7501-8/10/$26.00 
©201O IEEE 
179 
DSN 2010: Legtchenko 
et al. 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:00:02 UTC from IEEE Xplore.  Restrictions apply. 
2010 IEEEIIFIP International 
Conference 
on Dependable 
Systems & Networks (DSN) 
performance 
editor, NETGAMES, pages 144--151. ACM, 2004. 
in unreal tournament 
2003. In W. chang Feng, 
[22] A. Oram. Peer-to-Peer: 
chapter Gnutella, 
Harnessing the Power of Disruptive 
pages 94--122. O'Reilly, 
Technologies, 
May 2001. 
[6] A. Bharambe, J. Pang, and S. Seshan. Colyseus: a dis­
games. In 
for online multiplayer 
tributed architecture 
NSDI'06: Proceedings of the 3rd conference 
Systems Design & Implementation, 
CA, USA, 2006. USENIX Association. 
pages 12-12, Berkeley, 
on Networked 
[7] A. R. Bharambe, J. R. Douceur, J. R. Lorch, T. Moscibroda, 
J. Pang, S. Seshan, and X. Zhuang. Donnybrook: enabling 
large-scale, 
D. Wetherall, 
pages 389-400. ACM, 2008. 
S. Savage, and I. Stoica, editors, 
games. In V. Bahl, 
peer-to-peer 
high-speed, 
SIGCOMM, 
[8] R. Brunet. Lignes de force de l'espace Europeen. Mappe­
monde, 66:14--19, 2002. 
[9] A. Chechkin, V. Gonchar, J. Klafter, and R. Metzler. Fun­
damentals of levy flight processes. 
Physics, 133B:439-496, 
2006. 
Advances in Chemical 
[10] C. Comito, S. Patarin, 
and D. Talia. A semantic overlay net­
work for p2p schema-based 
ista, C.-M. Chen, A. Corradi, and M. Daneshmand, editors, 
ISCC, pages 88-94. IEEE Computer Society, 
[11] D. Frey, J. Royan, R. Piegay, A. Kermarrec, 
data integration. 
In P. Bellav­
2006. 
E. Anceaume, 
architecture 
for 
A decentralized 
and F. L. Fessant. Solipsis: 
virtual environments. 
shop on Massively Multiuser Virtual  Environments 
at IEEE 
Virtual Reality (MMVE' 09 ), Lafayette, 
USA, March 2008. 
[12] S.-Y. Hu, J.-F. Chen, and T.-H. Chen. Von: A scalable peer­
In The Second International  Work­
to-peer network for virtual  environments. 
20(4):22-31, 
Jully 2006. 
IEEE Network, 
[13] C. Jacob, M. L. Pilat, P. J. Bentley, and J. Timmis, editors. 
Conference, 
Immune Systems: 4th International 
Artificial 
ICARIS 2005, Banff, Alberta, Canada, August 14-17,2005" 
volume 3627 of LNCS. Springer, 
2005. 
[14] M. Je1asity, 
A. Montresor, 
G. P. Jesi, and S. Vou1garis. 
The 
Peersim simulator. 
http://peersim.sourceforge 
. net!. 
[15] J. Keller and G. Simon. Solipsis: A massively multi­
virtual world. In H. R. Arabnia and Y. Mun, 
PDPTA, pages 262-268. CSREA Press, June 2003. 
participant 
editors, 
[16] S. Kumar, J. Chhugani, C. Kim, D. Kim, A. Nguyen, 
[17] C.-A. La and P. Michiardi. 
P. Dubey, 
generation 
C. Bienia, and Y. Kim. Second life and the new 
Computer, 41(9):46-53, 
of virtual worlds. 
Characterizing 
2008. 
user mobility in 
Second Life. In SIGCOMM 2008, ACM Workshop on Online 
USA, August 
Social Networks, August 18-22,2008, Seattle, 
2008. 
[18] S. Legtchenko, 
S. Monnet, and G. Thomas. Blue Banana: 
resilience 
nical Report 7149, INRIA, December 2009. 
to avatar mobility in distributed 
MMOGs. Tech­
[19] H. Liang, I. Tay, M. F. Neo, W.  T. Ooi, and 
M. Motani. Avatar mobility in networked virtual environ­
ments: Measurements, 
abs/0807.2328,2008. 
and implications. 
CoRR, 
analysis, 
[23] J. Pang, F. Uyeda, and J. R. Lorch. Scaling peer-to-peer 
games in low-bandwidth 
of the 6th International 
Feb. 2007. 
environments. 
Workshop on Peer-to-Peer 
In IPTPS '07: Proc. 
Systems, 
[24] L. Pantel and L. C. Wolf. On the suitability 
of dead reckon­
ing schemes for games. In L. C. Wolf, editor, NETGAMES, 
pages 79-84. ACM, 2002. 
[25] D. Pittman and C. GauthierDickey. 
A measurement 
study of 
virtual  populations 
in massively multi player online games. 
In NetGames '07: Proc. of the 6th ACM SIGCOMM  work­
shop on Network and system support for games, pages 25-
30, New York, NY, USA, 2007. ACM. 
[26] I. Rhee, M. Shin, S. Hong, K. Lee, and S. Chong. On the 
In INFOCOM, pages 
levy-walk nature of human mobility. 
924-932. IEEE, 2008. 
[27] A. I. T. Rowstron and P. Druschel. Pastry: Scalable, 
De­
centralized 
Peer-to-Peer 
International 
(Middleware 
Heidelberg, 
Object Location, and Routing for Large-Scale 
Systems. In Proceedings of the 18th IFIPIACM 
Conference on Distributed 
Systems Platforms 
'01), volume 2218 of LNCS, pages 329-250, 
Germany, November 2001. Springer. 
[28] I. Stoica, R. Morris, D. Karger, F. Kaashoek, and H. Bal­
Chord: A scalable peer-to-peer 
akrishnan. 
for Internet applications. 
sium on Communications 
COMM  'OJ), pages 149-160, San Diego, USA, August 
2001. 
lookup service 
of the Sympo­
and Protocols (SIG­
In Proceedings 
Architectures 
[29] D. Thalmann, N. Magnenat-Thalmann, 
and  I. S. Pandzic. 
Avatars in Networked Virtual Environments. John Wiley & 
Sons, Inc., New York, NY, USA, 1999. 
[30] M. V arvello, C. Diot, and E. W. Biersack. A walkable 
kademlia network for virtual worlds. In Infocom 2009, 28th 
IEEE Conference on Computer Communications, 
25, 2009, Rio de Janeiro, Brazil, 04 2009. 
April 19-
[31] M. V arvello, C. Diot, and E. W. Biersack. 
P2P Second Life: 
experimental 
IEEE Conference 
25, Rio de Janeiro, 
validation 
using Kad. In Infocom 2009, 28th 
on Computer Communications, 
pages 19-
Brazil, April 2009. 
[32] S. Voulgaris, 
A. M. Kermarrec, L. Massoulie, 
Steen. Exploiting 
tent searching. 
Trends in Distributed 
Suzhou, China, May 2004. 
In 10th International 
semantic proximity in peer-to-peer 
Workshop on Future 
Computing Systems (FTDCS 2004), 
[33] S. Voulgaris, 
E. Riviere, A.-M. Kermarrec, and M. van 
publish 
for dynamic and large scale collborative 
Steen. Sub-2-sub: Self-organizing 
and subscribe 
works. In Proceedings of the 5th International 
Peer-to-Peer 
ary 2006. 
content-based 
net­
Workshop on 
Systems (IPTPS), Santa Barbara, USA, Febru­
and M. van 
con­
[20] J. Liang, R. Kumar, and K. Ross. The kazaa overlay: A mea­
[34] G. K. Zipf. Human Behaviour and the Principle of Least­
surement study. In Proc. of the 19th IEEE Annual Computer 
Communications 
Workshop, 2004. 
[21] S. Monnet, R. Morales, G. Antoniu, and I. Gupta. Move: 
Effort. Addison-Wesley, 
Cambridge MA, 1949. 
[35] Second Life. http://secondlife.com/ 
[36] World of War craft. http://www.worldofwarcraft
.com/. 
. 
Design of an application-malleable 
on Reliable Distributed 
355-364, Leeds, UK, October 2006. 
Systems 2006 (SRDS 2006), pages 
overlay. In Symposium 
978-1-4244-7501-8/10/$26.00 
©201O IEEE 
180 
DSN 2010: Legtchenko 
et al. 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:00:02 UTC from IEEE Xplore.  Restrictions apply.