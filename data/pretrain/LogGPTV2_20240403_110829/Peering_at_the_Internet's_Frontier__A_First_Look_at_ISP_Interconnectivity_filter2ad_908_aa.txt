title:Peering at the Internet's Frontier: A First Look at ISP Interconnectivity
in Africa
author:Arpit Gupta and
Matt Calder and
Nick Feamster and
Marshini Chetty and
Enrico Calandro and
Ethan Katz-Bassett
Peering at the Internet’s Frontier:
A First Look at ISP Interconnectivity in Africa
Arpit Gupta1, Matt Calder2, Nick Feamster1,
Marshini Chetty3,4, Enrico Calandro4, and Ethan Katz-Bassett2
1 Georgia Tech
2 University of Southern California
3 University of Maryland
4 Research ICT Africa
Abstract. In developing regions, the performance to commonly visited destina-
tions is dominated by the network latency, which in turn depends on the con-
nectivity from ISPs in these regions to the locations that host popular sites and
content. We take a ﬁrst look at ISP interconnectivity between various regions in
Africa and discover many circuitous Internet paths that should remain local often
detour through Europe. We investigate the causes of circuitous Internet paths and
evaluate the beneﬁts of increased peering and better cache proxy placement for
reducing latency to popular Internet sites.
1 Introduction
An Internet user’s experience depends on having reliable paths that offer good per-
formance to the set of sites that a user commonly visits. In the developed world, we
have grown accustomed to rich peering and interconnection between a variety of ISPs,
ranging from access networks to content providers. In developing regions, however, the
story is more nuanced. The servers that host popular content (e.g., Facebook, Google)
may be distant, sometimes even on a different continent. Even when an Internet destina-
tion or content is nearby, a user’s path to that destination may be circuitous, if two ISPs
do not connect directly. For example, a user’s path between South Africa and Kenya
might “detour” through Europe if the African ISPs do not directly connect with one an-
other. These pathologies can signiﬁcantly degrade Internet performance and can affect
decisions about how and where to place Internet content and services. For example, a
content provider might deploy a cache in a particular ISP in one region, expecting to
serve a large group of users in that region. Yet, if many Internet paths to that ISP from
nearby users are circuitous, the cache will provide limited beneﬁt to local users.
In this paper, we characterize the nature of interdomain Internet connectivity in
Africa, focusing in particular on the connectivity at two major local Internet exchange
points in Africa, JINX in Johannesburg and KIXP in Nairobi. To construct a view of
Internet paths between various destinations in Africa, we perform continual traceroute
measurements from BISmark routers in South Africa to the Measurement Lab servers
deployed in South Africa, Kenya, and Tunisia. We use these traceroutes to explore the
extent to which Internet paths that would otherwise remain local ultimately take a cir-
cuitous path through a remote exchange point (typically in Europe). We then use more
M. Faloutsos and A. Kuzmanovic (Eds.): PAM 2014, LNCS 8362, pp. 204–213, 2014.
c(cid:2) Springer International Publishing Switzerland 2014
Peering at the Internet’s Frontier
205
detailed BGP routing information from RouteViews, Packet Clearing House (PCH),
and Hurricane Electric, as well as information from PeeringDB and the IXP websites,
to help explain why these Internet paths are circuitous.
We also quantify whether better peering or more extensive placement of caching
proxies (or both) can reduce latency to popular services. We perform a trace-driven em-
ulation to recommend speciﬁc steps for improving the performance of speciﬁc services
in Africa. For example, we observe that the deployment of a Google cache node in a
particular ISP will provide no beneﬁt to Internet users in other local ISPs unless that ISP
makes speciﬁc peering arrangements with ISPs hosting cache nodes. Based on this ob-
servation, we study how certain “surgical” peering arrangements within Africa could
improve Internet performance by short-circuiting longer routes via European IXPs.
Speciﬁcally, we study the following two questions:
• What is the nature of interdomain Internet paths between locations in Africa? (Sec-
tion 3) We characterize interdomain peering between various ISPs in Africa. We
measure the presence of local ISPs at various African IXPs, and the extent to which
ISPs (or groups of ISPs) choose to interconnect at these exchanges. We ﬁnd that
66.8% of the paths between residential access links and Google cache nodes in
Africa leave the continent. Many circuitous paths result from the fact that local
ISPs are often not present at local exchanges, and, when they are, they often do not
peer with one another.
• What can be done to reduce latency to Internet services in Africa? (Section 4) We
explore how both additional peering relationships and proxy cache server deploy-
ments could improve the performance of speciﬁc services for users in Africa by
short-circuiting circuitous paths.
To facilitate follow-on work in this area, we have released the measurement and analysis
code for the results in this study [6].
2 Measurements
To measure latency between endpoints and infer peering relationships at IXPs, we rely
on 2 datasets: (1) BGP routing tables from RouteViews, PCH, and Hurricane Electric;
(2) periodic traceroutes from BISmark routers deployed across South Africa to globally
deployed Measurement Lab servers, IXP participants, and Google cache server deploy-
ments across Africa.
Caveats and limitations. Our data has several caveats. First, many of the Internet paths
that we measure are either to or from locations in one country, South Africa. Thus,
our measurements may not reﬂect the nature of paths in other African countries. We
are expanding the deployment across other countries in Africa, and we hope that this
study will encourage others to study similar phenomena. Second, peering in Africa is
rapidly evolving, and the characteristics we observe from our current measurements
will certainly change. Our study provides a snapshot of the current state of peering in
parts of Africa and an evaluation of the beneﬁts of improved peering.
206
A. Gupta et al.
2.1 Interdomain Routes: BGP Routing Tables
We also use several sources of BGP routing tables: RouteViews, PCH, and Hurricane
Electric. We used the BGP AS path attribute in the routing tables to infer peering rela-
tionships between ASes at each IXP. Each of these data sets provides a complementary
view into the connectivity between ASes in Africa. In the case of RouteViews and PCH,
an AS will peer with a route server at each of these collection points, providing routes
to all of its customer ASes, but not to its peers. Most of the ASes at each IXP do not
provide routes to RouteViews or PCH, making it difﬁcult to determine the complete set
of peering relationships at an IXP. To gain a more complete picture of peering relation-
ships at each IXP, we crawled the Hurricane Electric web portal. This portal allows us
to see many additional inter-AS relationships that are not visible in other data sets. If
two ASes are (1) adjacent in any AS path that we observe and (2) both present at an IXP,
we assume that a peering relationship exists at that IXP. Unfortunately, none of these
datasets allow us to see peering links between customer ASes in these BGP feeds, so
our view of peering is still limited. To augment these measurements, we use traceroute
measurements from BISmark nodes, as described below.
2.2 Router-Level Paths: BISmark Routers
BISmark (Broadband Internet Service Benchmark) is the combination of OpenWrt-
based custom ﬁrmware and user-space packages [9]; we deploy the software on home
gateway routers immediately downstream of the residential broadband access link. BIS-
mark runs on any OpenWrt-capable device, but we have primarily deployed the software
on the NetGear WNDR 3700 and 3800. Because the router is always on and connected
directly to the provider, we can perform continuous measurements. The BISmark router
deployment in South Africa provides the primary vantage points from access networks
for this study. We deployed 17 BISmark routers across 7 ISPs and all 9 provinces in South
Africa (Figure 1). We performed regular measurements from these BISmark routers to
nine global Measurement Lab servers (Figure 1), including three locations in Africa:
Tunis, Johannesburg, and Nairobi. We perform traceroutes between the BISmark nodes
and the Measurement Lab servers in both directions every thirty minutes using Paris
traceroute. These traceroutes expose sequence of ASes that these paths traverse. We use
the latency information in each traceroute hop for clues as to when an Internet path may
have left Africa (given the scale of these latency values, the coarse-grained latency mea-
surements are sufﬁcient to make such inferences) and the latency in the last hop of the
traceroute to estimate the latency to the corresponding M-Lab server.
We use the BISmark vantage points to send traceroute probes to all the IXP partici-
pants to infer the peering relationships at these IXPs. If a router at the IXP appears in
the path, we conclude that the peering link is present at the IXP. We discarded measure-
ments if the traceroute had missing hop information at a transition between two ASes,
since such missing data would prevent us from determining if an additional AS was
present between the two that we observed. These measurements revealed 40 additional
links at JINX and 14 additional links at KIXP. In cases where an IXP participant hosts
a BISmark router, this additional visibility is signiﬁcant. For example, in the case of
AS36874 (Cybersmart), which hosts two BISmark routers, we can verify 15 out of 20
visible peering links using these additional measurements.
Peering at the Internet’s Frontier
207
Fig. 1. The South African BISmark nodes con-
tinuously measure latency to nine global Mea-
surement Lab servers
Table 1. The ISPs that host BISmark
routers in South Africa
ISP
MTN Business Solutions
Telkom-Internet
Internet Solutions
Cybersmart
SAIX-NET
DPBOL
MWEB
ASN
16637
37457
3741
36874
5713
11845
10474
Routers
6
3
3
2
1
1
1
In 2012–2013, Google dramatically expanded its infrastructure for supporting
search, adding 1,200 new sites across 850 ASes, which more than doubled the num-
ber of countries in which it has a presence [3]. Using data from previous work [3], we
identify the 31 Google cache sites in South Africa and Kenya as of early September
2013. From each BISmark router in South Africa, we issue periodic traceroutes to each
of these 31 sites, as well as sites in London and Amsterdam. In South Africa, we per-
form traceroutes to the following ASes that also host Google cache servers: TENET,
TICSA, IS, MWEB, Google, MTNNS, and Cell C. In Kenya, we perform traceroutes to
the following ASes that host Google cache servers: SafariCom, KENET, AccessKenya,
JTL, and Wananchi. Three Google sites are hosted in ASes that also contain BISmark
routers: IS, SAIX, and MWEB. Two other sites that contain BISmark routers, Cybers-
mart and DataPro, have SAIX as a provider.
3 A First Look at ISP Interconnectivity in Africa
We ﬁrst explore the prevalence of high-latency paths, as measured from the BISmark
routers in South Africa to the global M-Lab server destinations (Section 3.1); we ex-
plore the nature of these paths in both directions. We then explore the causes of these
circuitous paths (Section 3.2). Based on our ﬁndings, the subsequent sections make
recommendations for improving performance to Internet services in Africa.
3.1 High-Latency Paths
Figure 3a shows the distribution of median network latencies observed from the BIS-
mark routers in South Africa to various M-Lab servers around the world. We deﬁne
the latency penalty as the ratio of the observed median latencies to the best-case prop-
agation delay between South Africa and that city (determined by speed-of-light propa-
gation). Figure 3b shows the latency penalties observed for each destination. For both
ﬁgures, the cities are shown in increasing order of the geographic distance from South
Africa. Due to the nature of peering relationships, the increase in latency does not cor-
relate with geographic distance. For example, even though South Africa is closer ge-
ographically to Porto Allegre, Brazil than it is to London, latencies to Porto Allegre
208
A. Gupta et al.
(a) Absolute latencies
(b) Latencies normalized by
geographic distance
Fig. 2. The 31 Google sites in
sub-Saharan Africa
Fig. 3. Latency between BISmark routers and M-Lab servers in
various cities. Cities are ordered by increasing distance from
South Africa. Darker pixels represent larger values.
are higher, since the path between South Africa and Brazil traverses the London In-
ternet Exchange (LINX). Similar pathologies are evident to other destinations, such as
Nairobi, which is geographically close to South Africa but whose paths to South Africa
traverse the LINX.
We ﬁnd that ASes in Africa often do not peer with each other anywhere on the
continent. As a result, many Internet paths “detour” through Europe. In the next section,
we further explore the extent and causes of these high-latency circuitous paths.