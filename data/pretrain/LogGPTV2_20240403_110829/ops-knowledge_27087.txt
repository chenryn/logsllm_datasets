User: How to use the AWS CLI to create an EC2 instance and connect it to a VPC?
Assistant: 1. Install and configure the AWS CLI: Taking the Linux environment as an example, you can use the following commands to install and configure the AWS CLI: ``` sudo apt-get install awscli aws configure ``` During the configuration process, you need to provide the AWS access key and area information. 2. Create a VPC and subnet: Use the following commands to create a VPC and subnet. ``` aws ec2 create-vpc --cidr-block 10.0.0.0/16 aws ec2 create-subnet --vpc-id vpc-xxxx --cidr-block 10.0.1.0/24 ``` Among them, vpc-xxxx is The ID of the VPC. 3. Create a security group: Use the following commands to create a security group and open the SSH port. ``` aws ec2 create-security-group --group-name my-sg --description "My security group" --vpc-id vpc-xxxx aws ec2 authorize-security-group-ingress --group-id sg- xxxx --protocol tcp --port 22 --cidr 0.0.0.0/0 ``` Among them, sg-xxxx is the ID of the security group. 4. Create an EC2 instance and associate a VPC: Use the following commands to create an EC2 instance and associate it to a VPC and subnet. ``` aws ec2 run-instances --image-id ami-xxxx --count 1 --instance-type t2.micro --key-name my-key-pair --security-group-ids sg-xxxx -- subnet-id subnet-xxxx --associate-public-ip-address ``` Among them, ami-xxxx is the AMI ID, and my-key-pair is the name of the SSH key pair. 5. Connect to the EC2 instance: Use the following command to connect to the EC2 instance. ``` ssh -i my-key-pair.pem ec2-user@public-ipv4-address ``` Among them, my-key-pair.pem is the path of the SSH key file, and public-ipv4-address is the EC2 instance public IP address. The above are the steps to use the AWS CLI to create an EC2 instance and connect to the VPC.