User: Write a script in Python to download all files in the specified directory from the server and compress and package these files
Assistant: The following is a Python script to download all files in the specified directory from the server, and compress and package these files: ```python import os import zipfile import requests #Specify the directory url to be downloaded and the local storage directory dir_url = 'http: //example.com/downloads/' local_dir = '/tmp/' # Create a local directory (if it does not exist) if not os.path.exists(local_dir): os.makedirs(local_dir) # Get all file names in the directory list response = requests.get(dir_url) file_list = [line.split('href="')[1].split('"')[0] for line in response.content.decode().split('\ n') if 'href="' in line] # Download each file for file_name in file_list: file_url = dir_url + file_name local_path = os.path.join(local_dir, file_name) response = requests.get(file_url) with open( local_path, 'wb') as f: f.write(response.content) # compress all downloaded files zip_path = os.path.join(local_dir, 'all_files.zip') with zipfile.ZipFile(zip_path, 'w') as zip: for file_name in file_list: file_path = os.path.join(local_dir, file_name) zip.write(file_path) print('All files downloaded and compressed to %s' % zip_path) ``` This script uses The `requests` module gets a list of files from a specified directory, then downloads all the files in this directory, and compresses them into a zip file. We can update the relevant variables to suit our specific needs.