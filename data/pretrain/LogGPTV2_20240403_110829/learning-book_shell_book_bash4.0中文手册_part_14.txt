用的语言区域。
LC_NUMERIC
这个变量决定格式化数字时所使用的语言区域。
LINEND
当前执行的脚本或shell函数中的行号。
LINES
新
MACHTYPE
对正在运行Bash的系统，一个能完整描述系统类型的字符串，它的格式是GNU标准
的“CPU-COMPANY=SYSTEM"
MAILCHECK
Shell检查邮件的频度（以秒为单位），邮件存放在HAILPATH或MAIL变量指定的文件中。默
认值是60秒，到达检查邮件的时间时，shell会先检查邮件再显示主提示符。如果这个变量没有设置，
或设为一个不是大于或等于零的数，则shell就禁用邮件检查。
OLDPWD
内部命令cd所设置的以前工作目录。
OPTERR
如果设为1，Bash会显示内部命令getopts所产生的错误。
OSTYPE
一个字符串，描述了正运行Bash的操作系统的类型
S
一个数组变量（参见56.7[数组]，p62），包含最近在前台执行的管道（可能只有一个命令）中
进程的退出状态。
阿例如，航与了空值。
BASH 中文文档
目录
p52
---
## Page 64
$5.2BASH的变量
第五章SHELL变量
POSIXLY_CORRECT
如果Bash启动时这个变量在环境中，shell就会在读取初始化文件之前进入POSIX
模式（参见g6.11[Bash的POSIX模式]，p67），就好像指定了“==posix"启动选项一样。如果在shell
运行中设置这个变量，Bash也会进入POSIX模式，就好像执行了&et=0pogix命令一样。
PPID
Shell父进程的进程号。这个变量是只读的。
PROMPT_COMMAND
如果设置了，它的值就被当作每次显示主提示符（$PS1）之前要执行的命令。
PROMPT_DIRTRIM
如果设为一个大于零的数，这个值就是扩展提示符中的转义字符w和v（参见56.9[提
示符的控制，p64）时要保留的目录节点数目。删除的字符用省略号来代替。
PS3
这个变量的值用作内部命令Belect的提示符。如果没有设置这个变量，Belect命令就把"#?作为
提示符。
PS
它的值用作回显命令时的提示符：可以用内部命令Bet的"-x"选项打开命令回显（参见86[内部命
令set]，p44）.这个变量的第一个字符在必要时将被重复显示以表示多层间接变量（参见3.5.3[Shell
参数扩展]，p16）.默认值是"+”。
PWD
内部命令cd所设置的当前工作目录。
RANDOM
每次使用这个变量都会随机生成一个0到32767之间的整数。对这个变量赋值就会给随机数发
生器赋于不同的种子。
REPLY
内部命令read的默认变量。
SECONDS
这个变量扩展为shell从启动到现在经过的秒数。对这个变量赋值就会把这个时间计数器设为
赋与的值，而这个变量的扩展值就成为赋与的值加上赋值后所经过的秒数。
SHELL
这个环境变量保存shell的完整路径。如果shell启动时没有设置它，Bash就把当前用户的登录
shell的完整路径赋给它。
SHELLOPTS
冒号分隔的所有启用的shell选项：其中的每个单词都是内部命令Bet的"-o”选项的参数（参
见g86[内部命令set]，p42）.这些选项是Bet=o命令显示为“on"的条目.如果启动Bash时环境中有
这个变量，则shell会在读取初始化文件之前打开其中的每个选项。这个变量是只读的。
SHLVL
每次启动一个新的Bash时这个变量都增加一，它是为计算shell的嵌套层次而设的。
TIMEFORMAT
这全变量的值用作格式化字符串上，它决定带有tine关键字的管道怎么显示时间信息。
引导
一个转义序列，可以扩展为时间值或其它信息。转义序列的含义如下：其中的方括号表示可选
的部分。
表示""本身。
x[P][1]R
已经经历的时间，以秒为单位。
x[p]lu
用户模式下所使用的CPU时间，以秒为单位。
x[p][]s
系统模式下所使用的CPU时间，以秒为单位。
XP
CPU使用百分比，即（%U+%S)/%R。
目录
BASH 中文文
---
## Page 65
第五章SHELL变量
5.2BASH的变量
其中可选的p是一个指定显示精度的数字，即小数点后的小数位数。0表示不显示小数点和后面的小
数。最多只能指定显示三位：比3大的数值将被改为3.如果没有指定p，则使用3.可选的1指定
使用长格式MMmSS.FFe，其中包括分钟-p的值决定是否包括小数部分。
如果这个变量没有设置，Bash就把它当成
$nreal\t%31R\nu8ert%31U\nsys\t%31S
如果这个值为空，则不显示时间信息。在显示格式化后的信息时，会自动在末尾加上一个换行符。
TMOUT
如果设为一个大于零的值，它就是内部命令xead（参见54.2[Bash的内部命令read]，p39）默认
的超时时间。如果输入是来自终端并且在TMOUT秒内没有输入，则Belect命令（参见53.2.4.2[条件结
构gelect，pi0）也会结束。在交互式的shell中，这个值表示打印提示符以后等待输入时的秒数：如
果在这段时间内没有输入，Bash就会退出。
TMPDIR
如果设置了，Bash就用它的值作为目录名并根据shell需要在这个目录中创建临时文件。
UID
当前用户的实际用户号，这个变量是只读的。
BASH中文文档
目录
p54
---
## Page 66
第六章BASH的功能
第六章Bash 的功能
本章介绍Bash的特色功能，
§ 6.1
Bash的启动
[-o]][x][x]] 
]]x]]
数.
bash[长选项]=8[-abefhkmnptuvxdBCDHP][-o 选项][-0 shopt 选项][参数·--]
除了单字符的命令行选项（参见54.3.1内部命令set]，p42）外，还可以使用一些多字符选项。要想正确解析
命令行，多字符选项必须出现在单字符选项的前面。
-debugger
在shell启动前准备调试器分析。打开扩展的调试模式（参见587[内部命令shopt]，p46）和
shell 函数的跟踪（参见586[内部命令set]，p43）。
--dump-po-strings
在标准输出中打印“$"后面的双引用字符串（它们是GNU gettext的PO 格式，即
可移植目标文件格式）.除了输出的格式，其它和“-D"选项是等价的。
mp-strings
和“-D"选项等价，
==help
在标准输出中打印使用帮助后成功退出。
-init-file文件名
"-rcfile文件名
在交互式的shell中执行文件名（而不是-/.bashrc）中的命令。
--login
和“-1"选项等价。
"-noediting
当shell交互式运行时，不使用GNUReadline（参见58编辑命令行，p72）库来读取命令
行。
noprofile
当Bash作为登录shell启动时，不加载系统或个人的初始化文件/etc/profile、-/.bash_profile
-/.bash_login、-/.profile.
sed
BASH 中文文
---
## Page 67
第六章BASH的功能
56.2BASH的启动脚本
==norc
在交互式的shell中，不读取初始化文件-/.bashrc。如果用sh来启动shell，这个选项默认就
打开了。
--posix
如果Bash的默认行为与POSIX不同，就遵循POSIX规范。这个选项是用来让Bash成为该
规范的一个超集（参见s6.11[Bash的 POSIX模式]，p67）。
=-restricted
打开受限制模式（参见56.10[受限制的shel]，p66）。
--verbose
和“=v"选项等价，回显读取的输入行。
==version
在标准输出中显示当前Bash的版本信息后成功退出。
启动时还可以指定一些单字符选项：这些选项是内部命令Bet所没有提供的。
c字符串
处理完选项以后从字符串中读取命令并执行，然后退出。剩余的参数赋值给从$0开始的位
置参数。助记词：Coad，命令字将申
强制 shell交互式的运行，交互式的 shell 在号6.3交互式的 shell],p58中介绍。助记司：Interactire，交互
的
-1
使当前shell表现得像登录后直接启动的那样。在交互式的shell中，这和用exec-1bash命令启
动的登录shell是等价的.如果不是交互式的 shell，则执行登录shell 的初始化文件。exec bash-1
或execbash--login 将把当前的 shell替换成一个登录shell.关于登录shell的特殊行为，请参
见56.2[Bash的启动脚本]，p56.
=r
把当前 shell变为受限制的 shell （参见s6.10[受限制的 shell]，p66）。助记司：Login，登录的
=B
如果给定了这个选项，或者处理选项以后没有剩余的参数，则从标准输入读取命令，这个选项可以
用来在启动交互式的 shell 时指定位置参数。助记词：Startspfla，初始化文件
-D
在标准输出中打印所有“$后面的双引用字符串。如果当前的语言区域不是C或POSIX（参
见53.1.2.1Locale专用的翻译]，p6），则要对这些字符串进行翻译。这个选项隐含了“-n"选项，并
且不执行命令，助记词：Dobug，语言期评调试
[-+]o[shopt选项]
shopt选项是内部命令Bhopt所接受的选项（参见g4.3.2[内部命令shopt]，p45）。如
果指定了shopt选项，则“+O”就会设置这个选项，而“-0重置它.如果没有指定shopt选项，则在标准
输出中显示Bhopt所接受的选项名称和值。如果这时选项是“+D"，则以一种可以重新作为输入的格式
来显示，助记词：Option，选项
单个--表示选项的结束并停止继续处理选项。它后面的任何参数都被当成文件名或参数。
“登录shel"是指其第零个参数的第一个字符是"-"，或者通过"--1ogin"选项启动的shell.“交互式"的shell
是指启动时没有非选项的参数（除非指定了“-"选项），没有指定“-e"选项，并且其输入和输出都与终端相
连（通过isatty（3）查看），或者用“-i"选项启动的shell.更多细节请参见s6.3[交互式的shell]，p58.
如果选项处理完毕还剩余参数，这时又没有指定“-e"或“-g"选项，则第一个参数就当作是包含shell命
令的文件名（参见专3.8Shell脚本]：p26）。如果通过这种方式启动Bash，则$0就设为该文件名，而位置参
数就设为其余的参数。Bash会从这个文件中读取命令并执行，然后退出。Bash的退出状态是脚本中最后一
个被执行命令的退出状态。如果没有执行任何命令，则退出状态为0。
S6.2Bash的启动脚本
本节介绍Bash如果执行其初始化文件。如果这些文件存在但是不可读，Bash就会报错。文件名中的
波浪号会被扩展（参见53.5.2[波浪号扩展]，p15）。交互式的shell在多6.3交互式的shell]，p58中介绍。
++ e e e ee e e e +e + e e ee e e e ee e e e ee e e e oe e e e ee + e + ee e e @
BASH中文文档
目录
p56
---
## Page 68
$6.2BASH的启动脚本
第六章BASH的功能
S6.2.1作为交互式的登录shell启动，或带有“--1ogin”选项
/etc/profile里面的命令并执行（如果这个文件存在），然后依次搜索-/.bash_profile、-/.bashlogin
-/-profile，然后读取并执行第一个存在并且可读的文件。可以在shell启动时指定"--noprofile"选项来
禁止这种行为。
当一个登录shell退出时，Bash会读取并执行-/.bash_logout 里面的命令（如果这个文件存在）。
S6.2.2作为交互式的非登录shell启动
当启动一个交互式的非登录shell时，Bash会读取并执行-/.bashrc文件里面的命令（如果这个文件存
在）.这个行为可以用"=-nore"选项来禁止。而“=-rcfile文件名”选项强制Bash从文件名中读取命令并执
行，而不是从-/.bashrc中。所以，-/.bash-profile文件通常在进行登录相关的初始化之前（或之后）包
含下面这行：
6.2.3非交互式的启动
如果Bash非交互式的启动，例如为了运行一个脚本，它就会在环境中寻找BASH_ENV变量（参
见55.2[Bash的变量]：p49）：如果找到就把这个变量扩展后的值当作一个文件名，并且从中读取命令并
执行。这就好像执行了下面的命令：
if [=n "$BASH_ENV" ];then."$BASH_ENV";fi
只不过这时并没有使用PATH来搜索这个文件。
如上所说，如果非交互式的shell启动时指定了“--login选项，Bash就会试图从初始化文件中读取命
令并执行。
S6.2.4作为sh启动
如果把Bash作为Bh来启动，它就会尽量去模仿历史上的sh的启动行为，同时还保证遵循POSIX标
准。
如果作为交互式的登录shell 启动，或者作为非交互式的shell启动但却指定了“--1ogin”选项，Bash
会依次试图去读取/etc/profile和-/-profile并执行其中的命令。可以使用"--noprofile"选项来制止
这种行为。如果有交互式的shell中用名称eh来启动时，Bash将会寻找ENV变量，如果找到就扩展它的值
并把这个值当成文件名来读取和执行。因为作为Bb启动的shell不会读取和执行任何其它的初始化文件，
所以“=-rcfile"选项不起作用.如果用名称ah启动一个非交互的shell，它就不会读取任何初始化文件。
作为Bh启动时，Bash会在读取初始化文件以后进入POSIX模式。
S6.2.5启动POSIX模式
如果通过“--posix"选项以POSIX模式启动Bash，它就会按照POSIX规范去使用初始化文件。在这
种模式下，交互式的shell会扩展ENV变量并在扩展结果所指示的文件在读取命令并执行。它不会读取其它
初始化文件。