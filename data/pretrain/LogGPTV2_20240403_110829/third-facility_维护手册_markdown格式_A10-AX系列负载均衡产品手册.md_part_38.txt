(0,1738448) i( 1, 0, cca8)> ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13632 SA
78f07ab8:dbffc02d(0)
(0,1738448) o( 3, 0, cca8)> ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13632 SA
78f07ab8:dbffc02d(0)
(0,1738448) i( 1, 0, cca9)> ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13632 A
page 367 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
78f07ab9:dbffc0c2(0)
(0,1738448) o( 3, 0, cca9)> ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13632 A
78f07ab9:dbffc0c2(0)
(1,1738450) i( 1, 0, ccaa)> ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13632 PA
78f07ab9:dbffc0c2(191)
(1,1738450) o( 3, 0, ccaa)> ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13632 PA
78f07ab9:dbffc0c2(191)
(1,1738450) i( 1, 0, ccab)> ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13632 FA
78f07b78:dbffc0c3(0)
(1,1738450) o( 3, 0, ccab)> ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13632 FA
78f07b78:dbffc0c3(0)
...
These lines of debug output show the following:
• 0 – CPU ID. Indicates the CPU that processed the packet. CPU 0 is the control CPU.
• 1738448 – Time delay between packets. This is a jiffies value that increments in 4-milli-
second (4-ms) intervals.
• i – Traffic direction: 1 (input) or o (output).
• (1, 0, cca8) – Ethernet interface, VLAN tag, and packet buffer index. If the VLAN tag is 0,
then the port is untagged. In this example, the first packet is received on Ethernet port
1, and the VLAN is not yet known. The packet is assigned to buffer index cca8.
NOTE: Generally, the VLAN tag for ingress packets is 0. It is normal for the ingress VLAN tag
to be 0 even when the egress VLAN tag is not 0.
The source and destination IP addresses are listed next, followed by the source and
destination protocol port numbers.
The TCP flag is shown next:
• S – Syn
• SA – Syn Ack
• A – Ack
• F – Fin
• PA – Push Ack
The TCP sequence number and ACK sequence number are then shown.
Finally, the packet payload is shown. The header size is excluded.
Example The following command captures packet information and packet contents for display on the
terminal screen. The output is not saved to a file.
ACOS# axdebug
ACOS(axdebug)# capture detail
Wait for debug output, enter  to exit
i( 1, 0, ccae)> ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13638 SA 7ab6ae46:ddb87996(0)
Dump buffer(0xa6657048), len(80 bytes)...
0xa6657048: 00900b0b 3e83001d 09f0dec2 08004500 : ....>.........E.
0xa6657058: 003c0000 40004006 e8580a0a 0b1e1e1e : . ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13638 SA 7ab6ae46:ddb87996(0)
Dump buffer(0xa6657048), len(80 bytes)...
0xa6657048: 001d09f0 e01e0090 0b0b3e83 08004500 : ..........>...E.
0xa6657058: 003c0000 40003f06 e9580a0a 0b1e1e1e : . ip 10.10.11.30 > 30.30.31.30 tcp 80 > 13638 A 7ab6ae47:ddb87a2b(0)
Dump buffer(0xa6657848), len(80 bytes)...
0xa6657848: 00900b0b 3e83001d 09f0dec2 08004500 : ....>.........E.
0xa6657858: 0034c211 40004006 264f0a0a 0b1e1e1e : .4..@.@.&O......
0xa6657868: 1f1e0050 35467ab6 ae47ddb8 7a2b8010 : ...P5Fz..G..z+..
0xa6657878: 00367344 00000101 080a5194 6c561f3c : .6sD......Q.lV. (greater than)
• >= (greater than or equal to)
• <= (smaller than or equal to)
• < (smaller than)
• = (equal to)
• range min-value max-value (select a range)
• value – String to filter on.
port min-portnum max-portnum Matches on the specified range of protocol port numbers.
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 370
A10 Thunder Series and AX Series—Command Line Interface Reference
Command Description
proto Matches on the specified protocol or protocol port number.
{icmp | icmpv6 | tcp | udp | portnum}
src Matches on the specified source IP address, MAC address, or
{ip ipaddr | mac macaddr | port port-num} protocol port number.
Default No filters are configured by default. When you create one, all packets match the filter by
default.
Mode AX debug
Usage If a packet capture is running and you change the filter, there will be a 5-second delay while
the ACOS device clears the older filter. The delay does not occur if a packet capture is not
already running.
The packet filter for the debug command is internally numbered filter 0. In AXdebug, you
can create multiple filters, which are uniquely identified by filter ID. If you create filter 0 in
AXdebug, this filter will overwrite the debug packet filter. Likewise, if you configure filter 0 in
AXdebug, then configure the debug packet filter, the debug packet filter will overwrite
AXdebug filter 0.
Example The following commands configure an AX debug filter to match on source IP address
10.10.10.30, destination protocol port number 80, and source MAC address aabb.ccdd.eeff.
The show axdebug filter command displays the filter.
ACOS# axdebug
ACOS(axdebug)# filter 1
ACOS(axdebug-filter:1)# src ip 10.10.10.30
ACOS(axdebug-filter:1)# dst port 80
ACOS(axdebug-filter:1)# src mac aabb.ccdd.eeff
ACOS(axdebug-filter:1)# exit
ACOS(axdebug)# show axdebug filter
axdebug filter 1
src ip 10.10.10.30
dst port 80
src mac aabb.ccdd.eeff
incoming | outgoing
Description Specify the Ethernet interfaces and traffic direction for which to capture packets.
Syntax [no] incoming [portnum ...] [outgoing [portnum ...]]
outgoing [portnum ...]
Default Disabled
page 371 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
NOTE: The traffic also must match the AX debug filters.
Mode AX debug
Example The following command limits the packet capture to inbound packets on Ethernet interface
3 and outbound packets on Ethernet interface 4:
ACOS# axdebug
ACOS(axdebug)# incoming 3 outgoing 4
Example The following command limits the packet capture to outbound packets on Ethernet inter-
face 7. Inbound packets on all Ethernet interfaces are captured, unless specified otherwise in
AX debug filters.
ACOS# axdebug
ACOS(axdebug)# outgoing 7
length
Description Specify the maximum length of packets to capture. Packets that are longer are not captured.
Syntax [no] length bytes
Replace bytes with the maximum packet length (64-1518 bytes).
Default 1518 bytes.
Mode AX debug
Example The following command changes the maximum packet length to capture to 128:
ACOS# axdebug
ACOS(axdebug)# length 128
maxfile
Description Specify the maximum number of axdebug packet capture files to keep.
Once the maximum is reached, new axdebug files can not be created until existing files are
removed.
Syntax maxfile num
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 372
A10 Thunder Series and AX Series—Command Line Interface Reference
Replace num with the maximum number of files to keep (1-65535).
Default 100 files.
Mode AX debug
Example The following command changes the maximum number of AX debug capture files to keep
to 125:
ACOS# axdebug
ACOS(axdebug)# maxfile 125
outgoing
Description See “incoming | outgoing” on page371.
save-config
Description Save your AXdebug configuration to a file.
This file can be retrieved at a later time with the apply-config command.
Syntax save-config name
Replace name with the name of the configuration file (1-63 characters).
Mode AX debug
Example The following example saves the AX debug configuration to a file called “example-ax-
debug”:
ACOS# axdebug
ACOS(axdebug)# save-config example-ax-debug
Config has been saved to example-ax-debug.
ACOS(axdebug)#
timeout
Description Specify the maximum number of minutes to capture packets.
Syntax timeout minutes
Replace minutes with the number of minutes to capture the packets (0-65535).
Default 5 minutes.
Mode AX debug
Example The following command changes the capture timeout to 10 minutes:
ACOS# axdebug
page 373 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
ACOS(axdebug)# timeout 10
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 374
Up and Down Causes for the show health stat
Command
This chapter lists the cause strings for the numeric cause codes that appear in the Up and Down fields of the show health
stat output. The Up / Down cause codes are shown in the output under “Cause(Up/Down/Retry)”.
Up Causes
Table12 lists the Up causes.
TABLE 12 show health stat Up Causes
Cause Code Cause String
0 HM_INVALID_UP_REASON
1 HM_DNS_PARSE_RESPONSE_OK
2 HM_EXT_REPORT_UP
3 HM_EXT_TCL_REPORT_UP
4 HM_FTP_ACK_USER_LOGIN
5 HM_FTP_ACK_PASS_LOGIN
6 HM_HTTP_RECV_URL_FIRST
7 HM_HTTP_RECV_URL_NEARBY_FIRST
8 HM_HTTP_RECV_URL_FOLLOWING
9 HM_HTTP_RECV_URL_NEARBY_FOLLOWING
10 HM_HTTP_STATUS_CODE
11 HM_ICMP_RECV_OK
12 HM_ICMP_RECV6_OK
13 HM_LDAP_RECV_ACK
14 HM_POP3_RECV_ACK_PASS_OK
15 HM_RADIUS_RECV_OK
16 HM_RTSP_RECV_STATUS_OK
17 HM_SIP_RECV_OK
18 HM_SMTP_RECV_OK
19 HM_SNMP_RECV_OK
20 HM_TCP_VERIFY_CONN_OK
21 HM_TCP_CONN_OK
22 HM_TCP_HALF_CONN_OK
23 HM_UDP_RECV_OK
page 375 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Down Causes
TABLE 12 show health stat Up Causes (Continued)
Cause Code Cause String
24 HM_UDP_NO_RESPOND
25 HM_COMPOUND_UP
Down Causes
Table13 lists the Down causes.
TABLE 13 show health stat Down Causes
Cause Code Cause String
0 HM_INVALID_DOWN_REASON
1 HM_DNS_TIMEOUT
2 HM_EXT_TIMEOUT
3 HM_EXT_TCL_TIMEOUT
4 HM_FTP_TIMEOUT
5 HM_HTTP_TIMEOUT
6 HM_HTTPS_TIMEOUT
7 HM_ICMP_TIMEOUT
8 HM_LDAP_TIMEOUT
9 HM_POP3_TIMEOUT
10 HM_RADIUS_TIMEOUT
11 HM_RTSP_TIMEOUT
12 HM_SIP_TIMEOUT
13 HM_SMTP_TIMEOUT
14 HM_SNMP_TIMEOUT
15 HM_TCP_TIMEOUT
16 HM_TCP_HALF_TIMEOUT
17 HM_DNS_RECV_ERROR
18 HM_DNS_PARSE_RESPONSE_ERROR
19 HM_DNS_RECV_LEN_ZERO
20 HM_EXT_WAITPID_FAIL
21 HM_EXT_TERM_BY_SIG
22 HM_EXT_REPORT_DOWN
23 HM_EXT_TCL_REPORT_DOWN
24 HM_FTP_RECV_TIMEOUT
25 HM_FTP_SEND_TIMEOUT
26 HM_FTP_NO_SERVICE
27 HM_FTP_ACK_USER_WRONG_CODE
28 HM_FTP_ACK_PASS_WRONG_CODE
29 HM_COM_CONN_CLOSED_IN_WRITE
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 376
A10 Thunder Series and AX Series—Command Line Interface Reference
Down Causes
TABLE 13 show health stat Down Causes (Continued)
Cause Code Cause String
30 HM_COM_OTHER_ERR_IN_WRITE
31 HM_COM_CONN_CLOSED_IN_READ
32 HM_COM_OTHER_ERR_IN_READ
33 HM_COM_SEND_TIMEOUT
34 HM_COM_CONN_TIMEOUT
35 HM_COM_SSL_CONN_ERR
36 HM_HTTP_SEND_URL_ERR
37 HM_HTTP_RECV_URL_ERR
38 HM_HTTP_RECV_MSG_ERR
39 HM_HTTP_NO_LOCATION
40 HM_HTTP_WRONG_STATUS_CODE
41 HM_HTTP_WRONG_CHUNK
42 HM_HTTP_AUTH_ERR
43 HM_HTTPS_SSL_WRITE_ERR
44 HM_HTTPS_SSL_WRITE_OTHERS
45 HM_HTTPS_SSL_READ_ERR
46 HM_HTTPS_SSL_READ_OTHERS
47 HM_ICMP_RECV_ERR
48 HM_ICMP_SEND_ERR
49 HM_ICMP_RECV6_ERR
50 HM_LDAP_RECV_ACK_ERR
51 HM_LDAP_SSL_READ_ERR
52 HM_LDAP_SSL_READ_OTHERS
53 HM_LDAP_RECV_ACK_WRONG_PACKET
54 HM_LDAP_SSL_WRITE_ERR
55 HM_LDAP_SSL_WRITE_OTHERS
56 HM_LDAP_SEND_ERR
57 HM_POP3_RECV_TIMEOUT
58 HM_POP3_SEND_TIMEOUT
59 HM_POP3_NO_SERVICE
60 HM_POP3_RECV_ACK_USER_ERR
61 HM_POP3_RECV_ACK_PASS_ERR
62 HM_RADIUS_RECV_ERR
63 HM_RADIUS_RECV_ERR_PACKET
64 HM_RADIUS_RECV_NONE
65 HM_RTSP_RECV_STATUS_ERR
66 HM_RTSP_RECV_ERR
67 HM_RTSP_SEND_ERR
68 HM_SIP_RECV_ERR
69 HM_SIP_RECV_ERR_PACKET
70 HM_SIP_CONN_CLOSED
71 HM_SIP_NO_MEM
page 377 | Document No.: 410-P2-CLI-001 - 6/17/2016
A10 Thunder Series and AX Series—Command Line Interface Reference
Down Causes
TABLE 13 show health stat Down Causes (Continued)
Cause Code Cause String
72 HM_SIP_STARTUP_ERR
73 HM_SMTP_RECV_ERR
74 HM_SMTP_NO_SERVICE
75 HM_SMTP_SEND_HELO_TIMEOUT
76 HM_SMTP_SEND_QUIT_TIMEOUT
77 HM_SMTP_WRONG_CODE
78 HM_SNMP_RECV_ERR
79 HM_SNMP_RECV_ERR_PACKET
80 HM_SNMP_RECV_ERR_OTHER
81 HM_TCP_PORT_CLOSED
82 HM_TCP_ERROR
83 HM_TCP_INVALID_TCP_FLAG
84 HM_TCP_HALF_NO_ROUTE
85 HM_TCP_HALF_NO_MEM
86 HM_TCP_HALF_SEND_ERR
87 HM_UDP_RECV_ERR
88 HM_UDP_RECV_ERR_OTHERS
89 HM_UDP_NO_SERVICE
90 HM_UDP_ERR
91 HM_COMPOUND_INVAL_RPN
92 HM_COMPOUND_DOWN
93 HM_COMPOUND_TIMEOUT
Document No.: 410-P2-CLI-001 - 6/17/2016 | page 378
A10 Thunder Series and AX Series—Command Line Interface Reference
page 379 | Document No.: 410-P2-CLI-001 - 6/17/2016
3
Document No.: 410-P2-CLI-001 | 6/17/2016