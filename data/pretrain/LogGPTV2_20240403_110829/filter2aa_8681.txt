# 0x00 二次注入
二次注入的原理是sql语句没有被转义直接存入数据库，然后在被读取查询而导致的。
二次注入在php种通常见于，插入时被`addslashes()` `get_magic_quotes_gpc` 等等转义，但是写入数据库时还是使用原来的数据，二次注入造成原因时多种多样的。
在没有被单引号包裹的sql语句下，我们可以用16进制编码他，这样就不会带有单引号等。
```
mysql> insert into admin (id,name,pass) values ('3',0x61646D696E27313131,'11');
Query OK, 1 row affected (0.00 sec)
mysql> select * from admin;
+----+-----------+-------+
| id | name      | pass  |
+----+-----------+-------+
|  1 | admin     | admin |
|  2 | admin'111 | 11111 |
|  3 | admin'111 | 11    |
+----+-----------+-------+
4 rows in set (0.00 sec)
```
想要具体了解这个 大家可以做做 sqli-labs 24课 ,二次注入在没有源码的情况比较难发现，通常见于注册,
# 0x01 宽字节注入
```
1.没使用宽字节
%27 -> %5C%27 
2. 试用宽字节
%df%27 -> %df%5c%27 -> 运'
```
1. 在我们输入单引号时 `addslashes()` 或者`get_magic_quotes_gpc` 给我们的单引号加入了转义字符`\`  就变成了`\'`  
2. 我们输入经过转换后由于编码的不同把`%df%5c` 转换为了一个汉字。
想要具体了解找个的可以 做做sqli-labs 33课
# 0x02 文末
#### 本文如有错误，请及时提醒，避免误导他人 
* author：404