在CPU调度隔离上，CFS基础上增加Task Preempt特性，提高在线任务
●
调度优先级。
在CPU缓存隔离上，通过CAT，实现在、离线三级缓存(LLC)通道隔离
●
(Broadwell及以上)。
在内存隔离上，拥有CGroup隔离/OOM优先级；Bandwidth Control减少
●
离线配额实现带宽隔离。
124 > 9年双11：互联网技术超级工程
在内存弹性上，在内存不增加的情况下，提高混部效果，在线闲置时离线突破
●
memcg limit；需要内存时，离线及时释放。
在网络QoS隔离上，管控打标为金牌、在线打标为银牌、离线打标为铜牌，
●
分级保障带宽。
在线集群管理上的关键技术
对应用的内存、CPU、网络、磁盘和网络I/O容量进行画像，知道它的特征、
●
资源规格是什么，不同的时间对资源真实使用情况如何，然后对整体规格和时
间进行相关性分析，进行整体调度优化。
亲和互斥和任务优先级的分配，哪种应用放在一起使整体计算能力比较少、吞
●
吐能力比较高，这是存在一定亲和性。
不同的场景有不同的策略，双11的策略是稳定优先，稳定性优先代表采用平
●
铺策略，把所有的资源用尽，让资源层全部达到最低水位。日常场景需要利用
率优先，“利用率优先”指让已经用掉的资源达到最高水位，空出大量完整资
源做规模化的事。
应用做到自动收缩，分时复用。
●
整个站点的快速扩容缩容，弹性内存技术。
●
计算任务调度+ODPS上的关键技术
有弹性内存分时复用、动态内存超卖、无损降级与有损降级三个关键混部技术。
动态内存超卖指内存是可以超卖的，如果有在线任务要用，就快速归还。有损降级和
无损降级的策略指的是对影响在可接受范围内的波动干扰进行无损降级，不增加新任
务，慢慢把它降下来，对影响大的干扰直接杀掉任务属于有损降级。利用零层管控，
管理每台NC上的在线任务和离线任务之间的关系。
新基础  9年双11：互联网技术超级工程
通过分时复用，达到进一步提升资源效率的效果。上图中的曲线是我们某个应用
的流量曲线。它是非常有规律的,左边代表晚上波谷期，右边代表白天处于波峰期。
正常的混部指占用图中蓝色阴影部分的资源把利用率提高到40%，弹性分时复用技
术是指对应用画像找到应用流量波谷期，对应用缩容，大量释放内存和CPU，调度
更多计算任务。通过这项技术，把平均CPU利用率提升到60%以上。
在双11时，如何利用计算任务集群混合部署助力双11降低成本？我们把计算
任务集群分成三种状态：完全没有在线服务的状态、在线服务和计算任务共同存在的
过渡状态、双11时在线服务占主流计算任务短时间降级状态。集群混合部署后资源
分配三七开，计算任务可以抢占在线任务分配的资源；在压测和大促非峰值时资源分
配五五开；在大促峰值到来时，计算任务短时间降级，空闲资源支撑双11峰值。通
过一小时快速建站拉起完整交易站点，大幅度降低了双11的单笔交易成本。
Pouch容器和容器化的进展
全面容器化是提升运维能力、拉通运维差异的关键的技术。首先介绍一下阿里巴
巴内部容器技术产品Pouch。它从2011年开始建设和上线，基于LXC，在2015
年初开始吸收Docker镜像功能和很多标准。阿里巴巴的容器非常有特点，它结合了
新基础  9年双11：互联网技术超级工程
Pouch的结构是比较清晰的，Pouchd如何跟kubelet、swarm、Sigma交互。
在存储上跟业界一起建设了CSI标准。支持分布式存储如ceph、pangu。在网络上
使用lxcfs增强隔离性，支持多种标准。
目前Pouch化覆盖了阿里的大部分BU，2017年达到百万级部署，在线业务达
到100%容器化，计算任务也开始容器化，它拉平了异构平台的运维成本。覆盖运行
模式，多种编程语言，DevOps体系。Pouch覆盖了阿里几乎所有业务板块如蚂蚁、
交易、中间件等等。
Pouch于2017年10月10号宣布开源，11月19日正式开源，计划在2018
年03月发布第一个大版本。我们希望通过Pouch的开源推动容器领域的发展和标准
的成熟，给业界提供差异化有竞争力的技术选择。不仅方便传统IT企业利旧，老的
基础设施也同样能够享受容器化带来的运维层的好处和优势，而且方便新的IT企业
享受规模化稳定性和多标准兼容性带来的优势。
Pouch开源地址：https://github.com/alibaba/pouch
新基础  9年双11：互联网技术超级工程
云化架构和双11未来技术路线
这是阿里混合云弹性架构，是基于编排的一套技术体系，也是面向动态的架构。
它可以分钟级进行单元的扩容和缩容，快速在云上或大数据集群上建立交易单元，实
现秒级巡检，确保交付的可靠性。这套体系能持续降低资源持有时间和服务器的非
ONLINE时间，降低损耗时间，提升了弹性的效率。双11超过60%的峰值流量都
跑在阿里云上，全面使用阿里云弹性基础设施，8个小时快速构建全球最大混合云。
新基础  9年双11：互联网技术超级工程
后期我们会通过阿里云平台把内部储备的技术对外输出。这套技术是内部调度
容器运维领域的优势技术，具备调度、编排、应用管理、监控、混合云的快上快下构
建、弹性伸缩、混合部署的能力，同时兼容Kubernetes API，提供企业级容器应用
管理能力，提高企业IT效率，进而提高企业竞争力和创新效率。混合部署和自动化
混合云构建技术经过双11规模验证，成为一个非常成熟稳定的技术体系。在云上，
我们和ACS 、EDAS 、EMR合作，提高了产品的完整性。
未来云化架构技术将走向何方？
在双11场景下利用技术解决了大促成本的问题，找到了一个正确的方向，通过
长期建设和发展，有更大的优化效率的提升。未来我们希望通过云化架构提升阿里
IDC资源利用率、通过扩大调度规模和混部形态扩大效益。继续推进面向终态的体系
结构和运维体系的提升，资源持有时间优化30%以上，持续降低大促的交易成本。
新基础  9年双11：互联网技术超级工程
阿里双 11 网络技术揭秘：
百万级物理和虚拟网络设备的智能化之路
后羿
阿里妹导读：今天继续为大家分享2017双11背后不为人知的技术。这次的嘉
宾是后羿，阿里巴巴资深技术专家，参与8年双11大战，主导阿里“去IOE”战略
落地，目前在推动阿里基础设施智能化。
后羿将分享双11的智能化网络实践，关于如何在网络智能领域通过数据手段极
致地优化运营场景，在稳定性、成本、效率方面提升网络运营竞争力。
新基础 < 135
阿里巴巴资深技术专家后羿
后羿：大家好，首先给大家呈现的是阿里巴巴在双11中主要依赖的网络相关技