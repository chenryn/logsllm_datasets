You can also set a server’s role in providing Windows services by using the 
serveradmin command in Terminal. For more information, see the file services chapter 
of the command-line administration guide.
Setting Up a Server as a Windows Domain Member
Using Server Admin, you can set up Mac OS X Server to join a Windows domain hosted 
by a Mac OS X Server primary domain controller (PDC). A server that joins a Windows 
domain gets authentication services from the PDC. This domain member server can 
also provide file, print, browsing, and Windows Internet Name Service (WINS). The 
server can host user profiles and home directories for users who have user accounts on 
the PDC. The domain member server does not provide authentication services to other 
domain members.
To join Mac OS X Server to the Windows domain of a Mac OS X Server PDC:
1 Open Server Admin and select Windows for a server in the Computers & Services list.
2 Click Settings (near the bottom of the window), then click General (near the top).
3 Choose Domain Member from the Role pop-up menu, then enter a description, 
computer name, and domain.
Description:  This description appears in the Network Neighborhood window on 
Windows computers, and it is optional.
Computer Name:  Enter the name you want Windows users to see when they connect 
to the server. This is the server’s NetBIOS name. The name should contain no more than 
15 characters, no special characters, and no punctuation. If practical, make the server 
name match its unqualified DNS host name. For example, if your DNS server has an 
entry for your server as “server.example.com,” give your server the name “server.”
Domain:  Enter the name of the Windows domain that the server will join. The domain 
must be hosted by a Mac OS X Server PDC. The name cannot exceed 15 characters and 
cannot be “WORKGROUP.”
4 Click Save.
5 Enter the name and password of a user account that can administer the LDAP directory 
domain on the PDC server, then click OK.
For information on configuring individual Windows services, see “Changing Windows 
Services Access Settings” on page 23, “Changing Windows Services Logging Settings” 
on page 23, “Changing Windows Services Advanced Settings” on page 24, and the print 
service administration guide.
From the Command Line
You can also set a server’s role in providing Windows services by using the 
serveradmin command in Terminal. For more information, see the file services chapter 
of the command-line administration guide.
LL2356.book  Page 21  Thursday, September 4, 2003  3:21 PM
22
Chapter 2    Setting Up Windows Services
Setting Up a Server as a Primary Domain Controller
Using Server Admin, you can set up Mac OS X Server as a Windows primary domain 
controller (PDC). The PDC hosts a Windows domain and provides authentication 
services to other domain members, including authentication for domain login on 
Windows workstations. The PDC server can provide other Windows services:  file, print, 
browsing, and Windows Internet Name Service (WINS). The server can host user profiles 
and home directories for users who have user accounts on the PDC. 
To set up a Windows PDC:
1 Make sure the server is an Open Directory master.
To determine whether a server is an Open Directory master, open Server Admin, 
select Open Directory for the server in the Computers & Services list, click Settings 
(near the bottom of the window), then click General (near the top). If the Role setting 
is not Open Directory Master, you cannot set up this server to host a PDC. Consult the 
Open Directory administration guide to learn more about an Open Directory master.
2 In Server Admin’s Computers & Services list, select Windows for a server that is an 
Open Directory master. 
3 Click Settings (near the bottom of the window), then click General (near the top).
4 Choose Primary Domain Controller (PDC) from the Role pop-up menu, then enter a 
description, computer name, and domain.
Description:  This description appears in the Network Neighborhood window on 
Windows computers, and it is optional.
Computer Name:  Enter the name you want Windows users to see when they connect 
to the server. This is the server’s NetBIOS name. The name should contain no more than 
15 characters, no special characters, and no punctuation. If practical, make the server 
name match its unqualified DNS host name. For example, if your DNS server has an 
entry for your server as “server.example.com,” give your server the name “server.”
Domain:  Enter the name of the Windows domain that the server will host. The domain 
name cannot exceed 15 characters and cannot be “WORKGROUP.”
5 Click Save.
6 Enter the name and password of a user account that can administer the LDAP directory 
domain on the server, then click OK.
For information on configuring individual Windows services, see “Changing Windows 
Services Access Settings” on page 23, “Changing Windows Services Logging Settings” 
on page 23, “Changing Windows Services Advanced Settings” on page 24, and the print 
service administration guide.
LL2356.book  Page 22  Thursday, September 4, 2003  3:21 PM
Chapter 2    Setting Up Windows Services
23
From the Command Line
You can also set a server’s role in providing Windows services by using the 
serveradmin command in Terminal. For more information, see the file services chapter 
of the command-line administration guide.
Changing Windows Services Access Settings
You can use the Access pane of Windows services settings in Server Admin to allow 
guest users or limit the number of simultaneous client connections. 
To configure Windows services Access settings:
1 Open Server Admin and select Windows in the Computers & Services list.
2 Click Settings (near the bottom of the window), then click Access (near the top). 
3 To allow Windows or other SMB users to connect for Windows file service without 
providing a user name or password, select “Allow Guest access.”
4 To limit the number of users who can be connected for Windows services at one time, 
select “__ maximum” and type a number in the field.
5 Click Save. 
From the Command Line
You can also change the Windows services settings by using the serveradmin 
command in Terminal. For more information, see the file services chapter of the 
command-line administration guide.
Changing Windows Services Logging Settings
You can use the Logging pane of Windows services settings in Server Admin to specify 
how much information is recorded in the Windows log file. 
To configure Windows services Logging settings:
1 Open Server Admin and select Windows in the Computers & Services list.
2 Click Settings (near the bottom of the window), then click Logging (near the top). 
3 Choose a level of log detail from the pop-up menu:
Low records errors and warning messages only.
Medium records error and warning messages, service start and stop times, 
authentication failures, and browser name registrations.
High records error and warning messages, service start and stop times, authentication 
failures browser name registrations, and all file access.
4 Click Save.
LL2356.book  Page 23  Thursday, September 4, 2003  3:21 PM
24
Chapter 2    Setting Up Windows Services
From the Command Line
You can also change Windows services settings using the serveradmin command in 
Terminal. For more information, see the file services chapter of the command-line 
administration guide.
Changing Windows Services Advanced Settings
You can use the Advanced pane of Windows services settings in Server Admin to 
choose a client code page, set the server to be a workgroup or domain master browser, 
specify the server’s WINS registration, and enable virtual share points for user homes.
To configure Windows services Advanced settings:
1 Open Server Admin and select Windows in the Computers & Services list.
2 Click Settings, then click Advanced. 
3 Choose the character set you want clients to use from the Code Page pop-up menu.
4 Next to Services, choose whether to enable domain browsing services.
Workgroup Master Browser provides browsing and discovery of servers in a single 
subnet.
Domain Master Browser provides browsing and discovery of servers across subnets.
5 Next to WINS Registration, select how you want the server to register with WINS.
“Off”:  prevents your server from using or providing WINS service for browsing outside 
its local subnet. 
“Enable WINS server”:  your server provides local name resolution services. This allows 
clients across multiple subnets to perform name/address resolution.
“Register with WINS server”:  your network has a WINS server, and your Windows 
clients and Windows server are not all on the same subnet. Enter the IP address or DNS 
name of the WINS server.
6 To simplify setting up share points for Windows user home directories, select “Enable 
virtual share points.”
If you enable virtual share points, home directories are mounted automatically when 
Windows users log in to the PDC, and users have the same home directories whether 
they log in from a Windows workstation or a Mac OS X computer. 
If you disable virtual share points, you have to set up SMB share points for Windows 
home directories and user profiles, and configure each Windows user account to use 
these share points.
From the Command Line
You can also change Windows services settings using the serveradmin command in 
Terminal. For more information, see the file services chapter of the command-line 
administration guide.
LL2356.book  Page 24  Thursday, September 4, 2003  3:21 PM
Chapter 2    Setting Up Windows Services
25
Starting Windows Services
You can use Server Admin to start Windows services.
To start Windows services:
1 Open Server Admin and select Windows in the Computers & Services list.
2 Click Start Service. 
From the Command Line
You can also start Windows services using the serveradmin command in Terminal. For 
more information, see the file services chapter of the command-line administration 
guide.
Configuring a Print Queue for SMB Sharing
You can configure any print queue that has been set up on the server to be shared 
using SMB. You configure queues for shared printers on the server by using Server 
Admin.
To create a shared print queue:
1 In Server Admin, select Print in the Computers & Services list.
2 Click Settings, then click Queues.
3 Select the print queue in the list, then click the Edit button (below the list).
If you don’t see the Queues button, you might already be looking at queue settings. 
Click the Back button (the left-pointing arrow in the upper right).
4 Make sure Sharing Name is compatible with SMB sharing. 
This does not change the Printer Setup Utility queue name on the server. 
Names of queues shared via SMB should be 15 characters maximum and should not 
contain characters other than A–Z, a–z, 0–9, and _ (underscore). 
5 Select the SMB protocol.
6 Click Save, then click the Back button (in the upper right).
Make sure you start Windows services. 
Supporting Windows Client Computers
Mac OS X Server supports the native Windows file sharing protocol, Server Message 
Block (SMB). SMB is also known as Common Internet File System (CIFS). Mac OS X 
Server comes with built-in browsing and name resolution services for your Windows 
client computers. You can enable Windows Internet Naming Service (WINS) on your 
server, or you can register with an existing WINS server.
LL2356.book  Page 25  Thursday, September 4, 2003  3:21 PM
26
Chapter 2    Setting Up Windows Services
Windows services in Mac OS X Server include Windows Master Browser and Domain 
Master Browser services. You do not need a Windows server or a primary domain 
controller on your network to allow Windows users to see your server listed in the My 
Places window (Windows XP and 2000) or the Network Neighborhood window 
(Windows 95, 98, or ME). Enable the master browsers to allow Windows clients outside 
of your server’s subnet to access the server by name.
Setting Up Windows Clients for TCP/IP Networking
To have access to Windows services, Windows client computers must be properly 
configured to connect over TCP/IP. See your Windows networking documentation for 
information on TCP/IP configuration.
Connecting for File Service From Windows
A Windows user can connect to the Windows file service of Mac OS X Server by using 
My Network Places in Windows XP or 2000 or the Network Neighborhood in Windows 
95, 98, or Millennium Edition (ME). 
Before trying to connect to the server from a Windows client computer, find out the 
workgroup or domain of both the client computer and the file server. The procedure 
for doing this depends on the Windows version.
• For Windows XP, click Start, click Control Panel, click Performance and Maintenance, 
double-click the System icon, and then click the Computer Name tab. 
• For Windows 2000, click Start, click Settings, click Control Panel, double-click the 
System icon, and then click the Network Identification tab. 
• For Windows 95, 98, or ME, click Start, click Settings, click Control Panel, double-click 
the Network icon, and then click the Identification tab. 
To find the server’s workgroup name, open Server Admin, click Windows in the 
Computers & Services list, click Settings, then click General.
To connect to Windows file service from a Windows computer:
1 On the Windows client computer, open My Network Places (Windows XP or 2000) or 
the Network Neighborhood (Windows 95, 98, or ME). If you are in the same workgroup 
or domain as the server, skip to step 4. 
2 Double-click the Entire Network icon.
3 Double-click the icon of the workgroup or domain the server is located in.
4 Double-click the server’s icon.
5 Authenticate using the short name and password of a user account stored on the 
server.
The user account can be stored in the server’s local directory domain or its shared 
directory domain, if the server has one.
LL2356.book  Page 26  Thursday, September 4, 2003  3:21 PM
Chapter 2    Setting Up Windows Services
27
Connecting to the Server by Name or Address in Windows 95, 98, 
or ME
A Windows 95, 98, or Millennium Edition (ME) user can connect to Mac OS X Server for 
Windows file service without using the Network Neighborhood. This method requires 
knowing the server’s IP address or its Windows computer name (also known as its 
NetBIOS name).
To connect to Windows file service without using the Network Neighborhood:
1 In Windows 95, 98, or ME, click Start, click Find, then click Computer.
2 Type the name or IP address of your Windows server.
3 Double-click the server to connect.
4 Authenticate using the short name and password of a user account stored on the 
server.
The user account can be stored in the server’s local directory domain or its shared 
directory domain, if the server has one.
Connecting to the Server by Name or Address in Windows XP
A Windows XP user can connect to Mac OS X Server for Windows file service without 
using My Network Places. This method requires knowing the server’s IP address or its 
Windows computer name (also known as its NetBIOS name).
To connect to Windows file service without using My Network Places:
1 In Windows XP, click Start, click Search, click “Computers or people,” then click 
“A computer on the network.”
2 Type the name or IP address of your Windows server.
3 Double-click the server to connect.
4 Authenticate using the short name and password of a user account stored on the 
server.
The user account can be stored in the server’s local directory domain or its shared 
directory domain, if the server has one.
Setting Up Windows Clients for Print Service
To enable printing by Windows users who submit jobs using SMB, make sure Windows 
services are running and that one or more print queues are available for SMB use.
All Windows computers—including Windows 95, Windows 98, Windows Millennium 
Edition (ME), and Windows XP—support SMB for using printers on the network. 
Windows 2000 and Windows NT also support LPR.
Note:  Third-party LPR drivers are available for Windows computers that do not have 
built-in LPR support. 
LL2356.book  Page 27  Thursday, September 4, 2003  3:21 PM
LL2356.book  Page 28  Thursday, September 4, 2003  3:21 PM
3
29
3 Administering Windows Users, 
Groups, Computers, and Share 
Points
You can manage accounts for Windows users, groups of 
Windows users, and a computer list account for Windows 
workstations. You can also manage SMB share points.
User accounts, group accounts, computer accounts, and share points play a 
fundamental role in a server’s day-to-day operations:
• A user account stores data Mac OS X Server needs for authenticating Windows users 
and providing Windows domain login, roaming user profiles, home directories, file 
service, mail service, and so on. 
• A group account offers a simple way to control access to files and folders. A group 
account stores the identities of users who belong to the group. 
• A computer account is a list of computers that are available to the same users and 
groups. The Windows Computers account lists the Windows workstations that have 
joined the Windows domain of the PDC—they are the Windows computers that can 
be used to log in to the Windows domain of the Mac OS X Server primary domain 
controller.
• A share point is a folder, hard disk, or hard disk partition that you make accessible 
over the network.
To make Windows services usable, Mac OS X Server needs to have accounts for 
Windows users, groups, and workstations. The server also needs share points for 
Windows services.
Setup Overview
Here is a summary of the major tasks you perform to set up users, groups, computers, 
and share points for Windows services. See the pages indicated for detailed 
information about each step.
LL2356.book  Page 29  Thursday, September 4, 2003  3:21 PM
30
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
Step 1:  Set up share points (optional)
You share folders and volumes with users on the network by designating them as share 
points. On a server that is a PDC, share points are created automatically for roaming 
user profiles and home directories. You can set up alternate share points for home 
directories and user profiles on a PDC server or a domain member server. Additionally, 
you can set up other share points for files and folders that Windows users need to 
share. See “Managing SMB Share Points” on page 41.
Step 2:  Set up user accounts
Each Windows user who will log in to the Windows domain must have a user account. 
A user who will not log in to the Windows domain but will use Windows file service or 
mail service must also have a user account. See “Managing Accounts for Windows 
Users” on this page.
Step 3:  Join workstations to the Windows domain
If Windows workstations will be used for Windows domain login, they must join the 
Windows domain. You can set up Windows workstations to join the Mac OS X Server 
PDC just as you would set up workstations to join a Windows NT server’s domain. For 
example, in Windows 2000 Professional or Windows XP Professional, you could use the 
Network Identification Wizard.
When a Windows workstation joins the PDC, Mac OS X Server automatically adds the 
workstation to the server’s computer account named Windows Computers. You can 
also add workstations to this account by using Workgroup Manager. See “Managing 
Windows Workstations in the Windows Computers Account” on page 39.
Step 4:  Set up group accounts for Windows users (optional)
You only need to do this if you want to use groups to set file permissions based on 
groups. Note that Mac OS X Server does not support NT-style ACLs. The differences:  on 
Mac OS X Server, you can assign only a single group privilege (and a single individual 
user privilege) to a particular file or folder. On a Windows NT server, you can assign a 
wider range of permissions. See “Managing Groups for Windows Users” on page 38. 
Managing Accounts for Windows Users
A user account stores data Mac OS X Server needs to validate a user’s identity and 
provide services for the user, such as access to particular files on the server. If the user 
account resides on a server that is a primary domain controller (PDC) or on a server 
that is a member of a Windows domain governed by a PDC, the user account also 
enables someone using a Windows computer to log in to the Windows domain. 
The same user account can be used to log in to a Mac OS X computer.
LL2356.book  Page 30  Thursday, September 4, 2003  3:21 PM
Chapter 3    Administering Windows Users, Groups, Computers, and Share Points
31
Where Windows User Accounts Are Stored
User accounts for Windows users can be stored in any directory domain accessible from 
the computer that needs to access the account. To be used for Windows domain login 
from a Windows computer, a user account must be stored in the LDAP directory 
domain of the Mac OS X Server that is the primary domain controller (PDC). A Windows 
user account that is not stored in the PDC’s LDAP directory domain can be used to 
access other services. For example, a user account in the local directory domain of a 
Mac OS X Server can be used to access Windows file service provided by the same 
server. 
See the Open Directory administration guide for complete information about the 
different kinds of directory domains.
Creating Windows User Accounts in the Primary Domain 
Controller
You can use Workgroup Manager to create a user account on a Mac OS X Server PDC. 
Windows users with accounts on a Mac OS X Server that is the primary domain 
controller (PDC) can log in to the Windows domain from a Windows workstation. These 
user accounts can also be used for other Windows services. You need administrator 
privileges for a directory domain to create a new user account in it.
To create a user account in the PDC:
1 In Workgroup Manager, click Accounts, then click the User button.