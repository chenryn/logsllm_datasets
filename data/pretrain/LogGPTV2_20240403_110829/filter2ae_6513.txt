# MSSQL Union注入新手教程

##### 译文声明
本文为翻译文章，原文来源于360安全播报。具体内容及含义请以原文为准。

在这篇文章中，我将逐步指导大家如何进行MSSQL Union注入。鉴于目前网络上关于该主题的教程不多且不够详尽，我决定利用自己多年的SQL注入经验，为大家提供一份基础教程。希望本教程能对您有所帮助。

首先，我们需要了解一些与注入相关的基础知识，包括如何识别注入类型、如何测试数据库以及如何找到与其他数据库表相同的列。因此，建议读者在阅读本教程之前先熟悉这些基础知识，以免在学习过程中遇到困难。

### 什么是MSSQL？
MSSQL是微软的SQL Server数据库服务器，它是一个能够为用户提供从服务器到终端的完整解决方案的数据库平台。其中，数据库服务器部分是一个用于建立、使用和维护数据库的管理系统。

### 开始教程
1. **检测注入点**
   - 首先，尝试输入单引号（编码格式：%27）或双引号（编码格式：%22）来检查是否存在错误信息。
   - 如果无论使用单引号还是双引号都返回错误信息，则可能面临的是基于整数的SQL注入。

2. **分析查询语句**
   - 通过示例代码可以得知，表中有5个数据列。
   - 使用`ORDER BY`子句进一步确认有效列的数量，例如，如果“5”是最后一个有效的数据列，则可继续下一步。

3. **执行Union Select**
   - 尝试使用`UNION SELECT`语句。如果出现错误提示，可尝试用`NULL`代替。
   - 将每个数据列替换为`@@version`或`db_name()`等函数以获取更多信息（如版本信息或数据库名称）。

4. **提取更多详细信息**
   - 可以使用以下方法从MSSQL中获取额外的信息：
     - `@@version`：显示数据库版本；
     - `db_name()`：显示当前数据库名；
     - `user`, `system_user`, `current_user`, `user_name`：显示当前用户名；
     - `@@SERVERNAME`：显示服务器主机名。

5. **提取表名与列名**
   - 查询语句与MySQL略有不同，请注意调整以适应MSSQL环境。
   - 利用类似的方法可以提取出表内各列的名字。

6. **输出数据**
   - 使用`%2b`（即加号“+”）来连接并展示所有需要的数据项。

### 结语
以上就是本次关于MSSQL Union注入的基础教程内容。希望大家能在实践中不断巩固所学知识，并鼓励有兴趣的朋友深入探索这一领域。最后附上一个视频链接供参考学习：

- 视频地址: [https://youtu.be/kF8dN-eSqhM](https://youtu.be/kF8dN-eSqhM)

感谢您的阅读！