the composite CTMC state (y, #x) denotes of the phase y
and #x= (x1,··· , xn), where xi is the number of pack-
ets in node i. The reward rates are assigned for node i as
follows
1. For computation of the loss rate:
fLi(t, y, xi) = {
Γi(y)
0
if (xi = ni) at time t
otherwise
2. For computation of the mean number of packets:
fNi(t, y, xi) = xi
where ni is the maximum number of packets and Γi(y) is
the arrival rate to node i in phase y. The transient proba-
bilities, p(t, y, #x), are obtained from the composite CTMC
models and the performance metrics become
Expected total loss rate at time t:
E[L(t)] =
IV!y=I
n!i=1
ni!xi=0
fLi(t, y, xi)p(t, y, #x)
(1)
Expected total loss probability at time t:
E[l(t)] = E[L(t)]/γ
(2)
Expected total number of packets at time t:
E[N(t)] =
IV!y=I
n!i=1
ni!xi=0
fNi(t, y, xi)p(t, y, #x)
(3)
Expected total delay of non-lost packets at time t:
E[D(t)] = E[N(t)]/(γ(1 − E[l(t)]))
(4)
Here γ is the external arrival rate.
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 13:16:07 UTC from IEEE Xplore.  Restrictions apply. 
International Conference on Dependable Systems & Networks: Anchorage, Alaska, June 24-27 20081-4244-2398-9/08/$20.00 ©2008 IEEE464DSN 2008: Heegaard & Trivedi3 Exact network survivability models
This section presents two different modeling approaches
to determine the exact transient probabilities, p(t, y, #x), and
the above four performance metrics. The modeling assump-
tions in the simulation and Stochastic Reward Net (SRN)
models are identical with exponentially distributed inter-
event
times and time-independent but phase-dependent
routing probabilities. This allows cross-validation and com-
parison of their solution efﬁciency. The reason for the use
of SRN is to simplify the tedious and error-prone task of
CTMC construction.
rrD
rep
rrU
phaseI
phaseII
phaseIII
phaseIV
q12
InQ2
Q2
node2
serv2
loss2
arrival
InQ1
Q1
node1
serv1
OutQ1
InQ4
Q4
node4
serv4
loss1
loss4
q13
InQ3
Q3
node3
serv3
loss3
3.1 Stochastic Reward Net model
(a) Stochastic Reward Net model (SRN)
Stochastic Reward Net (SRN) is a powerful paradigm for
modeling and evaluation of the performance of networks.
Figure 3(a) shows the SRN model of the 4-node network of
Figure 4 that is used as a case study in Section 8.2. The
packets are tokens that are generated by the timed transition
“arrival” into the place “InQ1”.
If there are less than n1
tokens in place “Node1” the immediate transition “Q1” is
enabled. If not, the “loss1” transition is enabled; upon its
ﬁring, the token is removed and a packet loss is counted.
The same structure is replicated for each node. The routing
is determined by probabilities on the immediate transitions
out “OutQ1”. The rerouting, failure and repair are modeled
at the top of the SRN model in Figure 3(a) where the tokens
in the “phasey” places will constrain the token passing of
the failed node (Node 2 in this example) through inhibitor
arcs as illustrated in the ﬁgure.
The performance metrics in the SRN model are ob-
tained by assigning reward rates that depend on the mark-
ings in different places. However, to numerically obtain
the transient probabilities p(t, y, #x) from the SRN model a
complete multidimensional CTMC model is generated and
solved. This is computationally demanding and increases
exponentially both with the number of buffers in each node
and with the number of nodes in the network. Decompo-
sition of the SRN model as proposed in [8] utilizes near-
independence between nodes. A similar approach is taken
as the ﬁrst step in Section 4 to avoid the largeness problem.
3.2 Simulation model
The process-oriented discrete event simulation model is
shown in Figure 3(b). The source process is generating
packets at the ingress router. The handling of a packet in a
node is modeled as a node process that describes the packet
life cycle which may be interrupted by a failure process at
instances of undesired events. In each node, when the “In-
Buffer” contains at least one packet (token) the node pro-
ceeds to the next step and checks if the number of tokens
Source
Node i
Failure j
no
loss++
x < ni &
working
yes
InService
si
Select neighbor that is 
working (if any)
i.working=false
Reroute
pij =0
Repair
phase I
phase II
Reroute
phase IIII
pij restored
i.working=true
phase IV
InBuffer
NextPacket
OutBuff
qi1
qik
i
OutBuff1
OutBuffki
(b) Simulation model
Figure 3. Complete model
exceeds the maximum buffer size and if the node is cur-
rently working. Then the packet is served and sent to the
next node by a random selection among the currently avail-
able buffers. If no buffers are available due to failure and
all routing probabilities are 0, then the packet is counted as
lost. The failure is modeled to the right in the ﬁgure. At
the instant of a failure (phase I) the “working” attribute of
the “Node j” process is set to “false”. After the rerouting
time (indicated as double lined rectangle) all routing prob-
abilities into the failed node are set to 0 (phase II). After
repair and rerouting (phase III), the routing probabilities
are restored back to their initial values and the “working”
attribute id is set to “true” again (phase IV ).
The performance metrics in the simulator are obtained
by a measurement process that reads counters at regular
time intervals ∆t. Let cr,i,t be the value of the counter in
node i at time t in simulation replication r. The average at
time t over R transient simulation replications is estimated
by
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 13:16:07 UTC from IEEE Xplore.  Restrictions apply. 
International Conference on Dependable Systems & Networks: Anchorage, Alaska, June 24-27 20081-4244-2398-9/08/$20.00 ©2008 IEEE465DSN 2008: Heegaard & Trivedia/b
qij(I) = qij(IV ) = a
qij(II) = qij(III) = b
γ
µ1
1
0.6/0.0
0.4/1.0
µ2
2
µ3
3
µ4
4
Figure 4. Network example with 4 nodes
¯Ct =
1
R
cr,i,t − cr,i,t−∆t
∆t
(5)
R!r=0
n!i=1
The average packet loss rate ¯Lt and number of packets ¯Nt
are obtained by (5) where the counter cr,i,t is the number
of losses and the number of packets in node i, respectively.
The packet loss probability is estimated by ¯lt = ¯Lt/γ and
the average delay of served packets by ¯Dt = ¯Nt/γ(1 − ¯lt).
The latter is biased because it is the ratio of two estimators.
4 Space decomposed model
It is challenging to obtain the transient probabilities,
p(t, y, #x) because the state space becomes huge as the
network size increases. We decompose the problem
and approximate the global probabilities by the product
p(t, y, #x) =p 1(t, y, x1)··· pn(t, y, xn) where pi(t, y, xi)
is the transient probability of xi packets in node i at time t
in phase y. This is akin to a product-form solution of Jack-
son [16] or BCMP networks [2]. The space decomposition
applied in Section 4.2 splits the survivability model into in-
dependent node models and obtains the arrival rate to each
node Γi by solving a set of trafﬁc equations.
4.1 Network performance model
The network is a graph #G = (v, e) where v is the set of
nodes and e is the set of links. The single- or multi-path
routing of a virtual connection between source node s and
destination d reduces the #G to a directed graph #G[s,d]. In
the following only one virtual connection is considered to
simplify the notation.
The network model is Markovian with Poisson external
arrivals and exponential service time distribution with an
FCFS service discipline at each node. The routing between
node i and j is stochastic with time-independent probability
qij. Each packet occupies one buffer position and the state
xi in the CTMC is the number of packets in node i. The
node capacity ni is the number of buffer positions. With
ﬁnite ni, the arrival rate Γi is obtained by solving the linear
system of trafﬁc equations
Γi = γi +!j"=i
qjiΓj(1 − πj(nj))
(6)
where πj(nj) is the steady state probability that node j will
In the case of inﬁnite nj the
reject an incoming packet.
πj(nj) = 0; ∀j, and the model is an open BCMP-type
queuing network [2]. A single path virtual connection is
modeled as a special case where each hop has a single link
j with qij = 1 and 0 for all other links. The total external
trafﬁc γi to node i is γi = 0 for all i #= s and γs = γ. In this
paper we assume ﬁnite buffers which makes the product-
form solution an approximation even for steady-state com-
putations, let alone for the transient behavior that we need
for the survivability quantiﬁcation. As illustrated in Sec-
tion 8 the approximation is found to be very good though.
Initial value of the measure of interest, M from Sec-
tion 2.2, is obtained as reward measures from a continuous
time Markov chain (CTMC) model of the resource utiliza-
tion. Assume that each node is an M/M/1/ni-queue. With
Γi and µi independent of the state xi and let ρi =Γ i/µi,
then the steady state probability πi(xi) of the state xi in
node i has the following closed form solution [27]
πi(xi) =
1 − ρi
1 − ρni+1
i
ρxi
i
(7)
4.2 Survivability model
As per our space decomposition approximation we
model the transient behavior in each node separately. The
node dynamics depends on whether a link connected to this
node, or the node itself, has failed. To give an example
consider the four node case in Figure 4 where node j = 2
has failed. For this the following two CTMC models de-
scribe the failed node (j = 2) and the non-failed nodes
(i = 1, 3, 4);
1. CTMC model for the node that has failed (see Fig-
ure 5). Immediately after the undesired event all the
packets that are sent to node j are lost, hence all tran-
sitions lead to state (I, nj) where all resources are un-
available and no packets will be served.
2. CTMC model for the non-failed nodes (see Figure 6).
Immediately after the undesired event the network
state is changed from (IV, xi) to (I, xi). This means
that no packets are lost but the arrival rates Γi(IV )
Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 13:16:07 UTC from IEEE Xplore.  Restrictions apply. 
International Conference on Dependable Systems & Networks: Anchorage, Alaska, June 24-27 20081-4244-2398-9/08/$20.00 ©2008 IEEE466DSN 2008: Heegaard & TrivediΓj
Γj
Γj
IV: No failures
Γi(IV )
Γi(IV )
Γi(IV )
IV: No failures
0,IV
1,IV
nj,IV
Γj
µj(1)
µj(2)
µj(nj)
I: Node j failed,
rerouting in progress
nj,I
Γj
αu
αd
0,II
τj
0,III
0
1,IV
µi(1)
µi(2)
Γi(I)
Γi(I)
0,I
1,I
µi(ni)
Γi(I)
ni,IV
Γi(IV )
I: Node j failed,
rerouting in progress
ni,I
Γi(I)
II: Node j failed,
rerouting completed
αu
αd
αu
αd
αu
αd
II: Node j failed,
rerouting completed
µi(1)
µi(2)
µi(ni)
III: Node j repaired,
rerouting in progress
Γi(II)
Γi(II)
0,II
1,II
µi(1)
µi(2)
τj
τj
Γi(III)
Γi(III)