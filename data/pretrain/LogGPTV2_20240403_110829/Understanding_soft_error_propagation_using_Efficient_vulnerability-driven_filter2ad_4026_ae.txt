cases are due  to 
removed some 
rate in flags 
flags. 78% of injections are derated 
that many derated 
By definition, 
is considered 
rate in control 
cases shows that 
faulty control 
the derating 
the derated 
examining 
in control 
analysis 
already 
several 
data. 
data are much more vulnerable 
Faulty Address: If a fault is injected to  a register 
that 
used in a load  and/or 
a store 
affects the  memory 
fl,Op, it is considered 
the second column of Table III, faults in rdx, rcx, and temp8 
are considered  as  cases 
of faulty address. 
address 
that is 
a faulty address case. For  example,  in 
Faulty Data: If a fault is categorized 
as control 
neither 
above, it is considered 
in integer 
involved 
a faulty data 
arithmetic 
of fault is usually 
floating-point 
as described 
nor address 
case. This type 
instructions, 
tween registers, 
r12,  and 
registers, 
into  this 
category. 
faulty address 
this effect in Section 
V-C2. 
computations, data movement be­
logical 
instruction
s, etc. For  example, 
rax in the third column of Table III fall 
become 
In the long term, faulty data  can 
discuss 
XMM 
or faulty control after propagation. We 
Figure 6 shows the distribution 
of the immediate 
faulty 
effects for each benchmark. 
about 12% and 28% immediate 
and address, respectively. 
related. 
as mentioned 
above, these  in
Although  a 
Overall, 
the figure shows that 
effects are  related  to 
control 
60% of immediate 
effects are data 
Faulty Address: The distribution 
of 
faulty address is shown in Figure 9. By examining 
the 
fault propagation 
types:  a) invalid: 
corruption related 
traces, we classif
an invalid 
error messsage from operating 
faulty address will cause a page 
systems or a 
y faulty address 
of injection 
results 
into  three 
majority of injections are data-related, 
jections could either stay as 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:50:05 UTC from IEEE Xplore.  Restrictions apply. 
D Derated D Abort • SDC 
D Derated D Abort • SDC 
I--
100% 
80% 
60% 
-
40% 
20% 
- - - -
-
 1 1 -
100% 
80%  -
60% 
-
--
I--
- - --
I--
-
I-  
I--
I-  
-
I--
-
40% 
20% 
-
I--
-
I--
0% 
t  (J)  N  U  a.  4-
'" 
-'"  a.  u  'N  u  (J)  0 
'" 'N 
3: 
::J  .0 
rr 
(J) 
.... 4- IE .2   
E   
'" ..., 
a. 
t>O 
t>O 
(a) CriticalFault 
0% 
t  (J)  N  U  a.  4-
'" 
-'"  a.  u  'N  u  (J)  0 
'" 'N 
3: 
::J  .0 
rr 
(J) 
(b) Statistical 
.... 4- IE .2   
E   
'" ..., 
a. 
Fault Injection 
t>O 
t>O 
Fig. 5. Overall CriticalFault 
injection 
results. 
THREE CATEGORIES 
TABLE III 
OF FAULT INJECTION 
SOURCES 
Faulty Control  Faulty Address  Faulty Data 
sub r ll , rax -> tempO 
br zf, zf -> rip 
add rdx, rcx -> tempS 
Id tempS -> xmm12 
addr xmml l, xmml2 -> xmml2 
mov r l 2  -> rax 
D Derated D Abort • SDC 
D Derated D Abort • SDC 
100% 
80% 
60% 
40% 
20% 
I--
-
-
I--
-
- I--
r--
r--
0% 
t  (J)  N  U  a.  4-
'" 
-'"  a.  u 
'" 'N 
::J  .0 
rr 
(J) 
.... '+- IE .2   
t>O  'N  E   
'" ..., 
a. 
u  (J)  0 
3: 
t>O 
100% ,,--,-
_ .--__  .--.--__ .--.--__ 
80% 
60% 
40% 
20% 
t  (J)  N  U  a.  4-
'" 
-'"  a.  u  'N  u  (J)  0 
'" 'N 
3: 
::J  .0 
rr 
(J) 
.... 4- IE .2   
E   
'" ..., 
a. 
t>O 
t>O 
(a) control 
data 
(b) control 
flag 
Fig. 8. Fault injection 
results 
of control 
data and flag 
D Derated D Abort • SDC 
100% 
80% 
60% 
40% 
20% 
• 
'--
-
I--
-
- I I   
'-- -
I--
cases. 
and faulty addresses are 
There are a significant 
For example, the correct 
to same  value. 
of abort cases, 
correct 
both pointing 
(88% on average) 
case plays an important 
derating 
that addresses are highly vulnerable. 
propagates 
rate offaulty address cases is only 10%, which means 
to an address, it most likely 
role in propagation 
If a fault is injected and 
which indicates 
will generate 
number 
behaviors. 
The 
an error. 
that the  first 
cases from 
in fft, lu and 
Table IV shows two examples 
of address 
related 
to aborts  while 
to SDCs or are derated. 
the benchmarks. Case 1 is the common behavior 
art and shows that faults in upper  bits  lead 
those in lower  bits  lead 
points  depend on 
inject faults 
into an address 
in art. We observe 
bit, results 
the  dividing 
instruction 
change from correct 
point and a fault in that bit causes the memory 
the program address 
register 
that as the fault moves from lower to upper 
to access outside 
to aborts. 
The  20th 
the heap space and cause an abort. 
The dividing 
For example, 
space. 
bit is 
we 
used for a store instruction 
Case 2  in Table IV is a Il'op from parser.  It 
shows a more 
complex behavior 
bit flips in rsi continue 
regions, 
but the 
to comply with the rule of program 
in abort 
in rsi can  result 
lower bit corruptions 
than  case 
1 .  This  case 
shows that upper 
0% 
t  (J)  N  u  a.  4-
-'"  a.  u 
'"  '" 
::J  .0 
rr 
(J) 
.... 4- IE .2   
t>O  'N E   
'" ..., 
a. 
u  (J)  0 
3: 
'N 
t>O 
Fig. 7. Fault injection 
results 
of faulty control 
2) valid with error: 
in aborts; 
in valid  range 
above) but refering 
segmentation fault, 
which results 
a faulty address 
as discribed 
load or store  that 
SDCs; 3) valid without 
load or store, 
but does not corrupt 
error:  a 
corrupts 
the  data 
(rather 
invalid 
than  an 
address 
to wrong value is used for 
in 
is used for 
value, which may result 
valid faulty address 
the  data, 
which results  in 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:50:05 UTC from IEEE Xplore.  Restrictions apply. 
D Derated  D Abort • SDC 
D Derated  D Abort • SDC 
100% 
80% 
60% 
40% 
20% 
I-
0% 
I   
l-
-
L-
-
- l- I-
'- 4- :E .2   
Q)  N  U  a.  4-
-'"  a.  u  'N  u  Q)  (5 
'"  'N 
E   
3: 
:::J .!:l 
'"  .... 
rr 
a. 
Q) 
b.O 
b.O 
 '" 
Fig.  9. 
Fault injection 
results 
of faulty address 
TABLE IV 
ADDRESS CASE ANALYSIS 
No  Injected 
register 
/-LOp 
Result 
1  tr8 
2  rbp 
st xmmlO->  0-20 correct 
[tr8] 
st rsi -> [rbp] 0-3, 5-9, 1 1- 1 2, 1 6-24 correct 
2 1-63 abort 
4, 1 0, 1 3- 1 5, 25-63 abort 
I-
100% 
80% 
60% 
-
40% 
20% 
0% 
I"""" • I I  
-
I-
-
-
I-
I-
Fig. 10. Fault injection 
of faulty data 
D  no diverge D 1 • 100 • 1k  !::l 10k 
results 
100% 
80% 
60% 
40% 
20% 
0%  -Y  Y--Y  Y--Y  Y--Y -- Y--Y -- Y- 
Fig. 1 1 .  Control flow diverge distance 
of derated cases 
faults 
traces, we found 
down fault propagation 
in lower bits  still 
generate 
cases. By tracking 
that although 
wrong data values are stored and loaded for computation 
later 
on. This faulty value changes 
and/or data path after 
a certain 
paths subsequently 
address, triggering 
lead to an access of an  invalid 
an abort as a result. 
latency  (varied 
or data 
memory 
The faulty control 
by  bits). 
the control 
valid addresses, 
The cases discussed 
above show that  even 
faults in the 
cases, 
have very different effects. 
they differ by latencie
same register 
address 
observations  can 
memory addresses and reduce the number of abort and SDCs 
cases. 
s. We believe 
help us to design a mechanism 
In these faulty 
that these 
to protect 
Faulty 
or c) data­
results 
of faulty 
Faulty Data: Figure 1 0  shows injection 
effects exhibit 
behaviors 
path selection, 
ss computation, 
that are used for subsequent 
or control 
as discussed 
computations 
behavior 
three types of 
on its consumers. 
depending 
to registers 
b) control 
data cases. This immediate 
propagation 
values can propagate 
a)  addre
only computations. If a fault in faulty data case propagates 
to memory address 
would have a  similar 
only values is only a small portion 
more likely 
SDC cases are invalid.  By 
injections in the random number 
may result 
free  output. 
this program, 
long as they respect the 
3) Characteristics 
it 
data­
they are 
in SDCs [27]. On the other hand, not all 
we found that some 
in twolf 
from the fault­
randomness in 
so 
may still 
user's definition 
different 
considering 
generation 
program outputs 
some of these results 
above.  While 
examination, 
the  inherent 
be acceptable 
of a program, 
of correctne
in slightly 
However, 
function 
to result 
ss [28]. 
instructions, 
control 
path divergence 
in f.lOpS between the f.lOp injected with a fault 
path diverges. If we cannot identify 
during 1 0K f.lOpS, we consider 
the distance 
and the f.lOp  where 
the 
a control 
case to have a very long divergence 
or no divergence. 
While 1 0K f.lOpS are not long enough to capture alI the 
divergence 
to detect and recover. 
distances, faults with shorter 
Thus, we  focus 
distances 
on those cases. 
distance 
are easier 
The  divergence 
distances 
1 1 ,  12,  and 1 3 ,  respectively. 
for derated, 
aborts and SDCs are 
have control 
We can see that 
path divergence 
cases. 
shown in Figures 
all three types of results 
This is true even for derated 
effect. Also, benchmarks 
control 
path divergence 
cases, 
which denote the Y-branch 
have similar 
behaviors 
in tenus of 
in their abort cases. 
path divergence 
cases 
Given 
This 
Derated: In Figure 1 1 ,  we note that 22% of derated 
within 1 0K f.lOp trace. 
trace, this number might be higher. 
though faults change the program 
have control 
a longer tracking 
indicates that even 
flow, they may still be derated 
outputs. As we discussed in previous 
the Y-branch effect. Of all benchmarks, mcf have the highest 
rate, which is about 69%. This is expected 
divergence 
is known to be highly control-intensive. 
of the diverging 
as mef 
Nevertheless, many 
cases end up being derated. 
before they affect program 
these represent 
section, 
control 
Abort: The control 
flow is likely 
to be changed in case of 
of control paths: Control flow is an 
are exe­
that ensures 
program invariant 
important 
cuted in a correct  sequence.  In 
this section, 
propagation 
We  compare  the 
executions. If there  is 
by checking 
behaviors 
a control 
pDp trace between the correct 
path divergence, 
paths. 
and faulty 
we measure 
instructions 
we examine fault 
program  control 
an abort. 
95% of abort cases across all benchmarks 
shorter than 
a good chance for detection 
benchmarks, 
The reason for  that 
1 00 f.lOps. These relatively 
abort latencies 
and recovery. 
in mef are  all 
Among all these 
within 1 00 f.lOps. 
This is shown in Figure 1 2. We note that on average 
is all aborts in mef are faulty address 
have latencies 
short latencies  leave 
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:50:05 UTC from IEEE Xplore.  Restrictions apply. 
D  no diverge D 1 • 100 • 1k   10k 
Fig. 12. Control flow diverge distance 
of abort cases 
D no diverge D 1 • 100 • 1k  10k 
100% 
80% 
60% 
40% 
20% 
  0..  L; 
t>O  . E 
Fig. 1 3 .  Control flow diverge distance 
of SOC cases 
•  SOC cases  do  not 
always affect the correctne
twolf, we observe that  some 
ss of the 
faults are 
program.  In 
injected into the random number generation 