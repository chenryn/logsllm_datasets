    ...............................................................s [ 55%]
    ...................s...........s................................ [ 56%]
    ................................................................ [ 56%]
    ...............................................................s [ 57%]
    ......................................s......................... [ 57%]
    ..........s......................................s.............. [ 58%]
    ................................................................ [ 58%]
    ................................................................ [ 59%]
    .......................................s........................ [ 59%]
    ................................................................ [ 59%]
    ................................................................ [ 60%]
    ....................s.....................................s..... [ 60%]
    ................................................................ [ 61%]
    ................................................................ [ 61%]
    ..........................s..................................... [ 62%]
    .............................s.................................. [ 62%]
    ................................................................ [ 63%]
    .......................s........................................ [ 63%]
    ................................................................ [ 64%]
    ................................................................ [ 64%]
    ...s.......................................................s.... [ 65%]
    ................................................................ [ 65%]
    ................................................................ [ 66%]
    ................................................................ [ 66%]
    ................................................................ [ 67%]
    ................................................................ [ 67%]
    ................................................................ [ 68%]
    ................................................................ [ 68%]
    ............s...................................s............... [ 69%]
    ........................s....................................... [ 69%]
    .....................................................s.......... [ 69%]
    .............................s.................................. [ 70%]
    ................................................................ [ 70%]
    ................................................................ [ 71%]
    ................................................................ [ 71%]
    .............................................................s.. [ 72%]
    ....................................................s........... [ 72%]
    ..............................s................................. [ 73%]
    ................................................................ [ 73%]
    ................................................................ [ 74%]
    ..................s............................................. [ 74%]
    ................................................................ [ 75%]
    ................................................................ [ 75%]
    ......................s......................s...s...........s.. [ 76%]
    ................................................................ [ 76%]
    .........................................................s...... [ 77%]
    ................................................................ [ 77%]
    ................................................................ [ 78%]
    ................................................................ [ 78%]
    ...............................................................s [ 79%]
    .......................................s........................ [ 79%]
    ................................................................ [ 79%]
    ............................................s................... [ 80%]
    ................................................................ [ 80%]
    ................................................................ [ 81%]
    .....................s.......................................... [ 81%]
    ................................................................ [ 82%]
    ................................................................ [ 82%]
    ........................................................s....... [ 83%]
    ...............................s................................ [ 83%]
    ...s............................................................ [ 84%]
    ......s...................................s..................... [ 84%]
    ..............s......................................s.......... [ 85%]
    ..........................................................s..... [ 85%]
    ..................................s............................. [ 86%]
    .......s......................................s................. [ 86%]
    ................................................................ [ 87%]
    ................................................................ [ 87%]
    ................................................................ [ 88%]
    ................................................................ [ 88%]
    ......................................................s......... [ 89%]
    ................................................................ [ 89%]
    ................................................................ [ 90%]
    ......................................................s......... [ 90%]
    ................................................................ [ 90%]
    .............................                                    [ 91%]
    sklearn/tests/test_config.py ...                                 [ 91%]
    sklearn/tests/test_discriminant_analysis.py F................... [ 91%]
    ..........                                                       [ 91%]
    sklearn/tests/test_docstring_parameters.py ss                    [ 91%]
    sklearn/tests/test_dummy.py .................................... [ 91%]
    ..................                                               [ 91%]
    sklearn/tests/test_init.py .                                     [ 91%]
    sklearn/tests/test_isotonic.py ................................  [ 92%]
    sklearn/tests/test_kernel_approximation.py ..........            [ 92%]
    sklearn/tests/test_kernel_ridge.py ........                      [ 92%]
    sklearn/tests/test_metaestimators.py .                           [ 92%]
    sklearn/tests/test_multiclass.py ............................... [ 92%]
    ........                                                         [ 92%]
    sklearn/tests/test_multioutput.py ...........................    [ 92%]
    sklearn/tests/test_naive_bayes.py .............................. [ 92%]
    ................                                                 [ 93%]
    sklearn/tests/test_pipeline.py ................................. [ 93%]
    ...........................                                      [ 93%]
    sklearn/tests/test_random_projection.py ................         [ 93%]
    sklearn/tests/test_site_joblib.py .                              [ 93%]
    sklearn/tree/export.py ...                                       [ 93%]
    sklearn/tree/tree.py ..                                          [ 93%]
    sklearn/tree/tests/test_export.py ......ss                       [ 93%]
    sklearn/tree/tests/test_reingold_tilford.py ..                   [ 93%]
    sklearn/tree/tests/test_tree.py ................................ [ 93%]
    ................................................................ [ 94%]
    ................................................................ [ 94%]
    ................................................................ [ 95%]
    .........................................................        [ 95%]
    sklearn/utils/__init__.py ........                               [ 95%]
    sklearn/utils/deprecation.py .                                   [ 95%]
    sklearn/utils/extmath.py ..                                      [ 95%]
    sklearn/utils/graph.py .                                         [ 95%]
    sklearn/utils/multiclass.py ...                                  [ 95%]
    sklearn/utils/testing.py .                                       [ 95%]
    sklearn/utils/validation.py .                                    [ 95%]
    sklearn/utils/tests/test_class_weight.py ...........             [ 96%]
    sklearn/utils/tests/test_cython_blas.py ........................ [ 96%]
    ....................                                             [ 96%]
    sklearn/utils/tests/test_deprecation.py ...                      [ 96%]
    sklearn/utils/tests/test_estimator_checks.py ..........          [ 96%]
    sklearn/utils/tests/test_extmath.py ...........................  [ 96%]
    sklearn/utils/tests/test_fast_dict.py ..                         [ 96%]
    sklearn/utils/tests/test_fixes.py ......                         [ 96%]
    sklearn/utils/tests/test_linear_assignment.py .                  [ 96%]
    sklearn/utils/tests/test_metaestimators.py ..                    [ 96%]
    sklearn/utils/tests/test_multiclass.py ......s...                [ 96%]
    sklearn/utils/tests/test_murmurhash.py ......                    [ 96%]
    sklearn/utils/tests/test_optimize.py .                           [ 96%]
    sklearn/utils/tests/test_pprint.py .........                     [ 96%]
    sklearn/utils/tests/test_random.py .....                         [ 96%]
    sklearn/utils/tests/test_seq_dataset.py .........                [ 97%]
    sklearn/utils/tests/test_shortest_path.py ....                   [ 97%]
    sklearn/utils/tests/test_show_versions.py ...                    [ 97%]
    sklearn/utils/tests/test_sparsefuncs.py ........................ [ 97%]
    .........................................                        [ 97%]
    sklearn/utils/tests/test_testing.py ...........s..........       [ 97%]
    sklearn/utils/tests/test_utils.py .............................. [ 97%]
    .s...sssss...s..s..ssss..s..s..ssss..s..s..ssss..s........ssssss [ 98%]
    ssssssssss........ssssssssssssssss..s..ssss..s..ssss..s..ssss... [ 98%]
    s..s..s..s...s...s.ss........................................... [ 99%]
    ...                                                              [ 99%]
    sklearn/utils/tests/test_validation.py ......................... [ 99%]
    ....................s.ss...........................              [100%]
    =============================== FAILURES ===============================
    ______ [doctest] sklearn.feature_extraction.image.PatchExtractor _______
    459         deterministic.
    460         See :term:`Glossary `.
    461 
    462 
    463     Examples
    464     --------
    465     >>> from sklearn.datasets import load_sample_images
    466     >>> from sklearn.feature_extraction import image
    467     >>> # Use the array data from the second image in this dataset:
    468     >>> X = load_sample_images().images[1]
    UNEXPECTED EXCEPTION: ImportError('The Python Imaging Library (PIL) is required to load data from jpeg files. Please refer to https://pillow.readthedocs.io/en/stable/installation.html for installing PIL.')
    Traceback (most recent call last):
      File "/home/sik/miniconda3/envs/test-sklearn/lib/python3.7/doctest.py", line 1329, in __run
        compileflags, 1), test.globs)
      File "", line 1, in 
      File "/home/sik/code/scikit-learn/sklearn/datasets/base.py", line 801, in load_sample_images
        images = [imread(filename) for filename in filenames]
      File "/home/sik/code/scikit-learn/sklearn/datasets/base.py", line 801, in 
        images = [imread(filename) for filename in filenames]
      File "/home/sik/code/scikit-learn/sklearn/externals/_pilutil.py", line 204, in imread
        raise ImportError(PILLOW_ERROR_MESSAGE)
    ImportError: The Python Imaging Library (PIL) is required to load data from jpeg files. Please refer to https://pillow.readthedocs.io/en/stable/installation.html for installing PIL.
    /home/sik/code/scikit-learn/sklearn/feature_extraction/image.py:468: UnexpectedException
    ____ [doctest] sklearn.feature_extraction.image.extract_patches_2d _____
    334         The collection of patches extracted from the image, where `n_patches`
    335         is either `max_patches` or the total number of patches that can be
    336         extracted.
    337 
    338     Examples
    339     --------
    340     >>> from sklearn.datasets import load_sample_image
    341     >>> from sklearn.feature_extraction import image
    342     >>> # Use the array data from the first image in this dataset:
    343     >>> one_image = load_sample_image("china.jpg")
    UNEXPECTED EXCEPTION: ImportError('The Python Imaging Library (PIL) is required to load data from jpeg files. Please refer to https://pillow.readthedocs.io/en/stable/installation.html for installing PIL.')
    Traceback (most recent call last):
      File "/home/sik/miniconda3/envs/test-sklearn/lib/python3.7/doctest.py", line 1329, in __run
        compileflags, 1), test.globs)
      File "", line 1, in 
      File "/home/sik/code/scikit-learn/sklearn/datasets/base.py", line 838, in load_sample_image
        images = load_sample_images()
      File "/home/sik/code/scikit-learn/sklearn/datasets/base.py", line 801, in load_sample_images
        images = [imread(filename) for filename in filenames]
      File "/home/sik/code/scikit-learn/sklearn/datasets/base.py", line 801, in 
        images = [imread(filename) for filename in filenames]
      File "/home/sik/code/scikit-learn/sklearn/externals/_pilutil.py", line 204, in imread
        raise ImportError(PILLOW_ERROR_MESSAGE)