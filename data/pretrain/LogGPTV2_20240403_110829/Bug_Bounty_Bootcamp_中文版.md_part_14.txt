### 推荐学习编程

我建议您学习编程。编程技能非常有帮助，因为寻找漏洞涉及许多重复性任务。通过学习如 Python 或 shell 脚本等编程语言，您可以自动化这些任务，从而节省大量时间。

### 学习 JavaScript

您还应该学习阅读 JavaScript，因为大多数网站都是用它编写的。阅读一个网站的 JavaScript 代码可以帮助您了解其工作方式，从而更快地发现漏洞。许多顶尖黑客表示，他们的秘诀在于阅读 JavaScript 并搜索隐藏的端点、不安全的编程逻辑和秘密密钥。我也通过阅读 JavaScript 源代码发现了许多漏洞。

### 学习资源推荐

- **Codecademy** 是学习编程的好资源。
- 如果您更喜欢阅读书籍，Zed Shaw 的《笨办法学 Python》(Addison-Wesley Professional, 2013) 是学习 Python 的绝佳方式。
- Marijn Haverbeke 的《JavaScript 精解》第三版 (No Starch Press, 2019) 是掌握 JavaScript 的最佳方式之一。

### 环境设置与流量拦截

在一个井然有序的实验室里寻找漏洞可以为您节省很多时间和麻烦。在本章中，我将一步步指导您设置黑客环境。您将配置浏览器与 Burp Suite 一起工作，Burp Suite 是一个网络代理，允许您查看和修改浏览器与 Web 服务器之间发送的 HTTP 请求和响应。您将学习如何使用 Burp 的功能来截获网络流量、发送自动化和重复请求、解码编码内容以及比较请求。此外，我还会讲解如何记录好的漏洞赏金笔记。

#### 选择操作系统

首先，您需要选择一个操作系统。您的操作系统将限制可用的黑客工具。我建议使用基于 Unix 的系统，如 Kali Linux 或 macOS，因为许多开源黑客工具都是为这些系统编写的。Kali Linux 是一种专为数字取证和黑客设计的 Linux 发行版，包括许多有用的漏洞赏金工具，例如 Burp Suite、DirBuster 和 Gobuster 等侦察工具以及 Wfuzz 等模糊测试工具。您可以从 [https://www.kali.org/downloads/](https://www.kali.org/downloads/) 下载 Kali Linux。

如果您无法使用这些选项，也可以自由选择其他操作系统进行黑客攻击，但请注意，您可能需要学习使用不同于本书中提到的工具。

#### 设置必备工具：浏览器和代理

接下来，您需要一个网络浏览器和一个网络代理。使用浏览器检查目标应用程序的功能。建议使用 Firefox，因为它最容易与代理配对。在进行黑客活动时，您还可以使用两个不同的浏览器：一个用于浏览目标，另一个用于在网上研究漏洞。这样，您可以轻松隔离目标应用程序的流量以进一步检查。

代理是一种软件，位于客户端和服务器之间，在这种情况下，它位于您的浏览器和您交互的 Web 服务器之间。它在将您的请求传递给服务器之前截获它们，并在将服务器的响应传递给您之前截获它们。使用代理是漏洞赏金猎人的必备工具，因为代理可以让您查看和修改发往服务器和从服务器返回到浏览器的请求和响应。如果没有代理，浏览器和服务器将自动交换信息，您将一无所知，只能看到最终显示的网页。代理会拦截所有信息，而不是让它们直接发送到预定的接收者那里。

例如，假设您访问电子邮件收件箱并使用代理拦截将返回您的电子邮件的请求。这是一个 GET 请求，包含您的用户 ID 的 URL。您还注意到请求中包含具有您的用户 ID 的 cookie：

```
GET /emails/USER_ID HTTP/1.1
Host: example.com
Cookie: user_id=USER_ID
```

在这种情况下，您可以尝试在 URL 和 Cookie 头中更改 `USER_ID` 为另一个用户的 ID，以查看是否可以访问另一个用户的电子邮件。

两个代理特别受到漏洞赏金猎人的欢迎：Burp Suite 和 Zed Attack Proxy (ZAP)。本节将向您展示如何设置 Burp，但您也可以自由选择使用 ZAP。

#### 打开嵌入式浏览器

Burp Suite 和 ZAP 都配备了嵌入式浏览器。如果您选择使用这些嵌入式浏览器进行测试，可以跳过接下来的两个步骤。要使用 Burp Suite 的嵌入式浏览器，请在启动后点击 Burp 的代理选项卡中的“打开浏览器”（见图 4-1）。这个内置浏览器的流量将自动通过 Burp 进行路由，无需进行任何其他设置。

![[Figure 4-1]{#c04.xhtml#figure4-1} : 您可以使用 Burp 的嵌入式浏览器而不是自己的外部浏览器进行测试。¶
图 4-1：您可以使用 Burp 的内置浏览器而不是您自己的外部浏览器进行测试。](image_fi/501546c04/f04001.png){.keyline}

#### 设置 Firefox

Burp 嵌入式浏览器提供了一种方便的方法来开始进行最小化设置的漏洞狩猎。然而，如果您像我一样偏爱使用已经习惯的浏览器进行测试，那么您可以设定 Burp 与您的浏览器一起工作。让我们来设定 Burp 可以和 Firefox 一起工作。

首先，下载并安装您的浏览器和代理。您可以从 [https://www.mozilla.org/firefox/new/](https://www.mozilla.org/firefox/new/) 下载 Firefox 浏览器，并从 [https://portswigger.net/burp/](https://portswigger.net/burp/) 下载 Burp Suite。

漏洞赏金猎人使用 Burp Suite 的两个版本之一：专业版或社区版。使用 Burp Suite 专业版需要购买许可证，而社区版免费。Burp Suite Pro 包括漏洞扫描仪和其他方便的功能，例如保存工作会话以便稍后继续。它还提供了一个完整版的 Burp Intruder，而社区版仅包含有限的版本。在这本书中，我介绍了如何使用社区版来寻找漏洞。

现在您需要配置您的浏览器以通过代理路由流量。本部分将教您如何将 Firefox 配置为与 Burp Suite 一起使用。如果您使用其他浏览器-代理组合，请查阅其官方文档以获取教程。

启动 Firefox。然后通过选择“偏好设置”▶“常规”▶“网络设置”打开连接设置页面。您可以从 Firefox 右上角的菜单访问“偏好设置”选项卡（见图 4-2）。

![[Figure 4-2]{#c04.xhtml#figure4-2} : 您可以在 Firefox 的右上角找到“偏好设置”选项。¶
图 4-2：您可以在 Firefox 的右上角找到“偏好设置”选项。](image_fi/501546c04/f04002.png){.keyline}

连接设置页面应该像图 4-3 所示。

选择“手动代理配置”，并输入 IP 地址 127.0.0.1 和端口号 8080，适用于所有协议类型。这将告诉 Firefox 使用运行在您机器上 8080 端口的服务作为其所有流量的代理。127.0.0.1 是本地主机 IP 地址，它识别您当前的计算机，因此您可以使用它来访问在您机器上运行的网络服务。由于 Burp 默认运行在 8080 端口上，这个设置告诉 Firefox 将所有流量通过 Burp 路由。点击“确定”完成设置。现在 Firefox 将通过 Burp 路由所有流量。

![[Figure 4-3]{#c04.xhtml#figure4-3} : 在连接设置页面上配置 Firefox 的代理设置。¶
图 4-3：在连接设置页面上配置 Firefox 的代理设置。](image_fi/501546c04/f04003.png){.keyline}

#### 设置 Burp

下载 Burp Suite 后，打开它并点击“下一步”，然后“启动 Burp”。您应该看到一个类似于图 4-4 的窗口。

![[Figure 4-4]{#c04.xhtml#figure4-4} : 启动 Burp Suite 后的界面。¶
图 4-4：启动 Burp Suite 后的界面。](image_fi/501546c04/f04004.png){.keyline}