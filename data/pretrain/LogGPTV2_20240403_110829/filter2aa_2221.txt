# 日志分析：昨天、今天与明天

## 关于我
- 安全爱好者
- 专注于安全防御研究
- 2012-2015年，担任当当网及网信金融的安全专家
- 自2015年起，在万达电商工作至今

## 日志的价值
日志不仅记录了系统运行的状态信息，更是检测和响应安全事件的重要依据。从历史数据中我们可以学到很多宝贵的经验。

### 我们遇到的日志类型
- Web服务器日志（如IIS）
- 应用程序日志
- 系统日志等

## 议程概览
- 昨天
- 今天
- 明天

### 昨天
- **时代背景**：曾经是IIS主导的时代。
- **主要威胁**：零日漏洞、SQL注入攻击。
- **致敬经典工具**：
  - `awk`、`grep`、`wc`、`uniq` 和 `sort` 等命令行工具用于基础的数据处理与分析。
  - 统计Top N访问量、关键字过滤来识别异常行为。
  - 利用状态码、文件类型过滤以及IP地址分析确定潜在的入侵点及其时间范围。

### 今天
- **当前挑战**：文件上传漏洞、横向权限提升、本地文件包含(LFI)、远程代码执行(RCE)等问题更加突出。
- **关键技术**：使用ELK Stack (Elasticsearch, Logstash, Kibana)、Flume或Fluentd进行高效日志收集与可视化展示。
- **高级分析方法**：
  - 频率分析：监测特定IP或URL的访问次数。
  - 关联分析：结合IDS告警、防火墙日志及扫描结果综合判断安全态势。
  - IP关联性检查：比如NIDS发现WebShell活动时，HIDS同步报告文件变动情况。
  - 基于状态变化、已知漏洞特征或异常模式建立连接。

### 明天
- **未来趋势**：APT(高级持续性威胁)、0day攻击以及未知新型威胁将变得更加普遍。
- **应对策略**：
  - 改进现有关联规则以降低误报率并提高准确性。
  - 引入机器学习算法如贝叶斯分类器、支持向量机(SVM)、K均值聚类(K-means)、隐马尔可夫模型(HMM)等预测潜在风险。
  - 数据预处理包括格式化与去噪；通过不断迭代优化模型性能，并根据反馈调整策略。

## 结论
随着网络安全形势日益严峻，对日志的有效利用已成为保障信息安全不可或缺的一环。从传统手段到现代技术的应用，每一步都至关重要。希望本分享能为各位提供一些有价值的参考！

---

感谢您的聆听！  
联系方式: [电子邮件]