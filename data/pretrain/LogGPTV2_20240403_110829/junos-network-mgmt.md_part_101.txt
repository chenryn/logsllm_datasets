### Host Configuration
```plaintext
host sfc0-master {
    any info;
}
```

### Interpretation of Standard-Format Messages
The syntax of a standard-format message generated by a Junos OS process or subroutine library depends on whether it includes the priority information. 

- **When the `explicit-priority` statement is included at the `[filename]` or `[hostname]` hierarchy level:**
  ```plaintext
  timestamp message-source: %facility–severity–TAG: message-text
  ```

- **When directed to the console, users, or when the `explicit-priority` statement is not included for files or remote hosts:**
  ```plaintext
  timestamp message-source: TAG: message-text
  ```

Refer to Table 128 on page 1262 for a detailed description of the message fields.

### Table 128: Fields in Standard-Format Messages
| Field          | Description                                                                 |
|----------------|-----------------------------------------------------------------------------|
| **timestamp**  | Time at which the message was logged.                                        |
| **message-source** | Identifier of the process or component that generates the message and the routing platform on which the message was logged. For Junos OS, this field includes two or more subfields: `hostname`, `process`, and `process ID (PID)`. For Junos OS Evolved, this field includes a `hostname` with an appended node name, a `process name`, and `PID`. If the `alternate-format` statement is configured at the `[edit system syslog]` hierarchy level on a Junos OS Evolved device, the node name is not appended to the hostname but is prepended to the process name instead. The alternate message format for Junos OS Evolved ensures the same hostname format as Junos OS messages. If the process does not report its PID, the PID is not displayed. The message source subfields are displayed in the following format: `hostname process[process-ID]`. |
| **facility**   | Code that specifies the facility to which the system log message belongs. For a mapping of codes to facility names, see Table: Facility Codes Reported in Priority Information in "Including Priority Information in System Log Messages" on page 1276. |
| **severity**   | Numerical code that represents the severity level assigned to the system log message. For a mapping of codes to severity names, see Table: Numerical Codes for Severity Levels Reported in Priority Information in "Including Priority Information in System Log Messages" on page 1276. |
| **TAG**        | Text string that uniquely identifies the message, in all uppercase letters and using the underscore (`_`) to separate words. The tag name begins with a prefix that indicates the generating software process or library. The entries in this reference are ordered alphabetically by this prefix. Not all processes on a routing platform use tags, so this field does not always appear. |
| **message-text** | Text of the message.                                                        |

### Managing Host OS System Log and Core Files
#### Topics Covered
- View Log Files On the Host OS System
- Copy Log Files From the Host System To the Switch
- View Core Files On the Host OS System
- Copy Core Files From the Host System To the Switch
- Clean Up Temporary Files on the Host OS

On Junos OS switches with a host OS, the Junos OS may generate system log messages (also called syslog messages) to record events such as:
- Routine operations, like user login into the configuration database.
- Failure and error conditions.
- Emergency or critical conditions, such as power-down of the switch due to excessive temperature.

#### OCX Series Switches
- System log messages are logged in the `/var/log/dcpfe.log` file in the host OS in the following scenarios:
  - When the forwarding daemon is initialized.
  - Messages are tagged as emergency (LOG_EMERG). A copy of the message is also sent to the `/var/log` directory on the switch.
  - Messages from processes are available on the host system in the `/var/log` directory. System log messages from the host chassis management process are recorded in the `lcmd.log` file in the `/var/log` directory.

#### QFX Switches with a Host OS
- The Junos OS and host OS record log messages for system and process events, and generate core files upon certain system failures.
- These files are stored in directories such as `/var/log` for log messages, and `/var/tmp` or `/var/crash` for core files, depending on the type of host OS running on the switch.

For diagnostic purposes, you can access these host OS system log and core files from the Junos OS CLI on the switch. You can also clean up directories where the host OS stores temporary log and other files.

### Accessing and Managing Host OS Files
#### View Log Files On the Host OS System
To view a list of the log files created on the host OS, enter the following command:
```plaintext
user@switch> show app-engine logs
```

#### Copy Log Files From the Host System To the Switch
To copy log files from the host OS to the switch, enter the following command:
```plaintext
user@switch> request app-engine file-copy log from-jhost source to-vjunos destination
```
Example:
```plaintext
user@switch> request app-engine file-copy log from-jhost lcmd.log to-vjunos /var/tmp
```

#### View Core Files On the Host OS System
To view the list of core files generated and stored on the host OS system, enter the following command:
```plaintext
user@switch> show app-engine crash
```
Example output:
```plaintext
Compute cluster: default-cluster
Compute node: default-node
Crash Info
==========
total 13480
-rw-r--r-- 1 root root 178046 Feb 14 23:08 localhost.lcmd.26653.1455520135.core.tgz
-rw-r--r-- 1 root root 4330343 Feb 15 00:45 localhost.dcpfe.7155.1455525926.core.tgz
-rw-r--r-- 1 root root 4285901 Feb 15 01:49 localhost.dcpfe.25876.1455529782.core.tgz
-rw-r--r-- 1 root root 4288508 Feb 15 02:39 localhost.dcpfe.713.1455532774.core.tgz
-rw-r--r-- 1 root root 264079 Feb 15 17:02 localhost.lcmd.1144.1455584540.core.tgz
```

#### Copy Core Files From the Host System To the Switch
To copy core files from the host OS to the switch, enter the following command:
```plaintext
user@switch> request app-engine file-copy crash from-jhost source to-vjunos destination-dir-or-file-path
```
Example:
```plaintext
user@switch> request app-engine file-copy crash from-jhost localhost.lcmd.26653.1455520135.core.tgz to-vjunos /var/tmp
```
To see the results on the switch, enter the following command:
```plaintext
user@switch> show system core-dumps
re0:
--------------------------------------------------------------------------
-rw-r--r-- 1 root field 178046 Feb 15 17:15 /var/tmp/localhost.lcmd.26653.1455520135.core.tgz
total files: 1
```

#### Clean Up Temporary Files on the Host OS
To remove temporary files created on the host OS, enter the following command:
```plaintext
user@switch> request app-engine cleanup
```
Example output on a switch with a Linux host OS:
```plaintext
Compute cluster: default-cluster
Compute node: default-node
Cleanup (/var/tmp)
=======
```

### Release History
- **Starting in Junos OS Release 15.1X49-D10 and Junos OS Release 17.3R1:** On a routing matrix composed of a TX Matrix Plus router with connected T1600 or T4000 routers, the primary Routing Engine on each T1600 or T4000 LCC forwards to the primary Routing Engine on the TX Matrix Plus router all messages with a severity of `info` and higher.

### Single-Chassis System Logging
#### Overview
The Junos system logging utility is similar to the UNIX `syslogd` utility. This section describes how to configure system logging for a single-chassis system that runs the Junos OS. System logging configuration for the Junos-FIPS software and for Juniper Networks devices in a Common Criteria environment is the same as for the Junos OS. For more information, see the Secure Configuration Guide for Common Criteria and Junos-FIPS.

#### Directing Messages to Destinations
Each system log message belongs to a facility, which groups together related messages. Each message is also preassigned a severity level, which indicates how seriously the triggering event affects router functions. You always specify the facility and severity of the messages to include in the log. For more information, see "Specifying the Facility and Severity of Messages to Include in the Log" on page 1310.

You direct messages to one or more destinations by including the appropriate statement at the `[edit system syslog]` hierarchy level:
- **To a named file in a local file system:**
  ```plaintext
  [edit system syslog]
  file filename {
      facility severity;
  }
  ```
- **To the terminal session of one or more specific users (or all users) when they are logged in to the router:**
  ```plaintext
  [edit system syslog]
  user (username | *) {
      facility severity;
  }
  ```
- **To the router console:**
  ```plaintext
  [edit system syslog]
  console {
      facility severity;
  }
  ```
- **To a remote machine that is running the `syslogd` utility:**
  ```plaintext
  [edit system syslog]
  host hostname {
      facility severity;
  }
  ```

By default, messages are logged in a standard format, which is based on a UNIX system log format. You can alter the content and format of logged messages in the following ways:
- **Log messages to a file in structured-data format:**
  ```plaintext
  [edit system syslog file filename]
  facility severity;
  structured-data {
      brief;
  }
  ```
- **Include priority information in standard-format messages:**
  ```plaintext
  [edit system syslog file filename]
  explicit-priority;
  ```
- **Modify the timestamp to include the year, the millisecond, or both:**
  ```plaintext
  [edit system syslog]
  time-format (year | millisecond | year millisecond);
  ```
- **Use regular expressions to specify which messages from a facility are logged:**
  ```plaintext
  [edit system syslog file filename]
  match "regular-expression";
  ```

### Example: Configure System Log Messages
#### Requirements
- Junos OS Release 12.2
- QFabric system
- External servers that can be configured as system log message hosts

#### Overview
Component devices that generate system log message events may include Node devices, Interconnect devices, Director devices, and the control plane switches. The following configuration example includes these components in the QFabric system:
- Director software running on the Director group
- Control plane switches
- Interconnect device
- Multiple Node devices

#### Configuration
##### CLI Quick Configuration
```plaintext
set system syslog host 10.1.1.12 any error
set system syslog file qflogs
set system syslog file qflogs structured-data brief
set system syslog file qflogs archive size 1g
```

##### Step-by-Step Procedure
1. Specify a host, any facility, and the error severity level.
   ```plaintext
   [edit system syslog]
   user@switch# set host 10.1.1.12 any error
   ```

2. (Optional) Specify a filename to capture log messages.
   ```plaintext
   [edit system syslog]
   user@switch# set file qflogs structured-data brief
   user@switch# set file qflogs
   ```

3. (Optional) Configure the maximum size of your system log message archive file. This example specifies an archive size of 1 GB.
   ```plaintext
   [edit system syslog]
   user@switch# set file qflogs archive size 1g
   ```

##### Results
From configuration mode, confirm your configuration by entering the `show system` command. If the output does not display the intended configuration, repeat the instructions in this example to correct the configuration.
```plaintext
[edit]
user@switch# show system
syslog {
    file qflogs {
    }
    host 10.1.1.12 {
        any error;
    }
}
```
If you are done configuring the device, enter `commit` from configuration mode.

### Log Messages in Structured-Data Format
You can log messages to a file in structured-data format instead of the standard Junos OS format. Structured-data format provides more information without adding significant length, and makes it easier for automated applications to extract information from a message.

The structured-data format complies with Internet standard RFC 5424, The Syslog Protocol, which is available at https://tools.ietf.org/html/rfc5424. The RFC establishes a standard message format regardless of the source or transport protocol for logged messages.

To output messages to a file in structured-data format, include the `structured-data` statement at the `[edit system syslog file filename]` hierarchy level:
```plaintext
[edit system syslog file filename]
facility severity;
structured-data {
    brief;
}
```
The optional `brief` statement suppresses the English-language text that appears by default at the end of a message to describe the error or event.

The structured format is used for all messages logged to the file that are generated by a Junos process or software library.

**Note:** If you include either or both of the `explicit-priority` and `time-format` statements along with the `structured-data` statement, they are ignored. These statements apply to the standard Junos OS system log format, not to structured-data format.

### Specify Log File Size, Number, and Archiving Properties
To prevent log files from growing too large, by default, the Junos OS system logging utility writes messages to a sequence of files of a defined size. The files in the sequence are referred to as archive files to distinguish them from the active file to which messages are currently being written. The default maximum size depends on the platform type:
- **128 kilobytes (KB) for EX Series switches**
- **1 megabyte (MB) for M Series, MX Series, and T Series routers**