User: How to install SSH service on Linux system and configure public and private keys to provide more secure remote access?
Assistant: 1. Install the SSH service On the Linux system, you can use the following command to install the SSH service: Ubuntu/Debian: sudo apt-get install openssh-server CentOS: sudo yum install openssh-server 2. Configure the public key and private key to generate the public key and Private key pair: ssh-keygen Press Enter, then press Enter until the prompt "Enter passphrase" appears, you can enter a password or not, and then press Enter again. By default, the public key and private key will be saved in the ~/.ssh directory, the public key is named id_rsa.pub, and the private key is named id_rsa. Add the public key to the server: Copy the contents of id_rsa.pub to the server's ~/.ssh/authorized_keys file. If the authorized_keys file does not exist, you need to create it first: mkdir ~/.ssh touch ~/.ssh/authorized_keys chmod 600 ~/.ssh/authorized_keys 3. Configure the SSH service Open the SSH service configuration file /etc/ssh/sshd_config, modify The following parameters: Port: The port number that the SSH service monitors, the default is 22, it is recommended to change it to other port numbers. PermitRootLogin: Whether to allow the root user to log in through SSH. If not allowed, it can be set to no. PasswordAuthentication: Whether to allow the use of passwords to log in to SSH. It is recommended to set it to no to force the use of public key authentication. PubkeyAuthentication: Whether to allow the use of public key authentication, it is recommended to set it to yes. After saving the changes, restart the SSH service: Ubuntu/Debian: sudo service ssh restart CentOS: sudo systemctl restart sshd.service 4. Use SSH to connect to the server When using the SSH client to connect to the server, you need to use the private key for authentication: ssh -i /path /to/id_rsa user@host -p port /path/to/id_rsa is the path of the private key, user is the user name on the server, host is the IP address or host name of the server, and port is the port number that the SSH service monitors.