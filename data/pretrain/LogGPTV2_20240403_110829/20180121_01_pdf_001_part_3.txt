### 存储与安全

#### 计算节点
- **计算节点**：负责处理计算任务。
- **PG 实例**：PostgreSQL 数据库实例。

#### 存储特性
- **分布式、共享块存储**：提供高可用性和可扩展性。
  - **存储块级别加密**：防止硬件被窃取时数据泄露。
  - **多机房容灾**：通过 Geo-Replication 实现跨区域的数据复制，确保数据在不同地理位置的备份。
    - **异地 C 机房**
    - **A 机房**
    - **POLARDB PG**：
      - **主节点**
      - **备节点**：基于 quorum 的同步复制，确保 RPO=0（零数据丢失）。
    - **同城 B 机房**：产品形态差异。

### 产品形态对比
| 特性 | POLARDB 开源版 | 其他版本 |
|------|-----------------|-----------|
| **成本** | 低 | 高 |
| - 存储费用 | 按量收费 | 预付费 |
| - 只读节点 | 只收计算资源费用 | 复制数据，节点越多，价格越贵 |
| **计算节点弹性** | 好 | 较差 |
| - 添加节点 | 分钟级 | 依赖实例大小，TB 级实例可能需要数十小时 |
| **存储弹性** | 好 | 较差 |
| - 扩容 | 近乎无限扩容，对业务无影响 | 需要迁移数据，时间长，角色切换时影响业务 |
| **只读节点延迟** | 低 | 高 |
| - 延迟 | 共享数据，延迟低 | 需要复制和增量回放，延迟高 |
| **备份** | 快 | 慢 |
| - 备份速度 | 秒级快照备份 | 依赖数据库大小，越大越慢，备份时可能影响性能 |
| **恢复** | 快 | 慢 |
| - 恢复速度 | 快照克隆，秒级 | 依赖数据库大小，越大恢复越慢 |
| **可靠性** | 高 | 一般 |
| - 保障机制 | 多副本，parallel raft 协议保证强一致 | 依靠 STANDBY，异步模式有数据丢失可能性 |
| **可用性** | 高 | 一般 |
| - 异常 failover | 切换时间非常短暂 | 需要等待备库同步完成，激活，流程较长 |
| **性能** | 高 | 较差 |
| - 性能特点 | 分布式块存储，RDMA 网络，横向扩展能力 | 复杂 SQL 性能差 |
| - 支持功能 | 存储级计算、压缩、filter 下推；计算节点支持 MPP 模型，加速复杂计算 SQL | 存储依赖本地设备能力，扩展性较差 |

### 阿里云产品生态
- **POLARDB**：
  - **定位**：百万级 QPS + 小型 OLAP，千万级 QPS + 中型 OLAP，实时 PB 级 OLAP 分析。
  - **PolarDB HDB**：MySQL 和 PostgreSQL 版本。
  - **全栈技术**：包括分布式存储、ES、Graph、OSS 等。
  - **Oracle 兼容性**：支持 UDF、时空、搜索、图、流等复杂场景。
  - **创新能力**：SMP 并行计算、GPU 并行计算、流计算、实时分析、多模、JIT、向量计算等。
  - **行业特性**：稳定性、可靠性、可用性、安全性、弹性。
  - **云数据库优势**：自动化备份、克隆实例、弹性扩容、内置同城双机 HA、无缝对接其他云平台产品、开源生态插件整合等。

### RDS for PostgreSQL 优势
- **性能**：
  - 检查点几乎无抖动
  - 解决大量对象删除时的备库延迟
  - 高并发性能提升 240 倍
  - GPU 时空数据加速
  - 备份效率提升 5 倍
  - 大规格备份成功率 100%
- **功能**：
  - 支持 release cache
  - varbitx
  - 无限容量 - oss_fdw 冷热数据分级存储
  - alidecode
  - cloud DBA

### RDS for PPAS 优势
- **分级存储**：
  - 热数据（本地表）
  - 暖数据（外部表）

### HybridDB for PostgreSQL 优势
- **性能**：
  - sortkey 和 metascan 优化
  - 向量化执行引擎
- **功能**：
  - create extension
  - 标签类型 - roaring bitmap 4 阶段化

### 阿里云生态开源
- **PostgreSQL**：
  - **开源项目**：rds_dbsync, gpdb extension
  - **特性**：
    - JIT（3~5 倍性能提升）
    - 向量计算（3~5 倍性能提升）
    - 单机并行 CPU 加速（10 倍性能提升）
    - GPU 加速（10 倍性能提升）
  - **TPC-H 测试**：200G 数据集，POLARDB 用时 39 分钟

### PostgreSQL 功能对比
- **SQL 标准**：支持 SQL:2011
- **语法**：支持窗口查询、grouping sets、CTE、递归调用
- **存储过程**：支持多种语言
- **优化器**：支持 nestloop join、hash join、merge join、分组聚合、哈希聚合
- **数据类型**：支持继承表、分区表、外部表、多种数据类型
- **索引**：支持 b-tree、hash、gin、gist、SP-GiST、BRIN、rum、bloom 索引
- **复制**：支持流式物理备库、逻辑备库、逻辑订阅、多副本强同步、PITR、一主多从、级联从库
- **扩展接口**：支持多种扩展接口和插件

### HybridDB for PostgreSQL vs. AWS Redshift
- **SQL 基础**：PostgreSQL 8.3 & Greenplum 4.3 vs. PostgreSQL 8.0
- **Oracle 兼容性**：支持 20+ 函数
- **空间数据类型和函数**：支持
- **表分区**：支持
- **混合、列和行存储**：支持
- **索引**：支持
- **机器学习**：支持 MADlib

### 目录
- 产品介绍
- 生态介绍
- 应用案例
- 开发、管理实践
- 数据库原理
- 参考文档