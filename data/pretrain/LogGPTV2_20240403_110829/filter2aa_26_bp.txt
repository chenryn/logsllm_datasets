马可尼里领导的太阳公司在很长时间里甚至没有看出决战操作系统的重要性，这样太阳公司和微软公司的竞赛还没有开始就先输了第一回合。这倒不是马可尼里无能，而是马可尼里等人的“思维”锁定在卖硬件上了。虽然太阳公司的工作站当年每台要上万美元、服务器要十万美元，但是比 DEC 的小型机和 IBM 的大型机便宜多了。在九十年代末由于互联网的兴起，太阳公司的服务器和工作站销路太好了、太挣钱了。虽然太阳公司的中小企业市场份额不断被微软/英特尔联盟侵蚀，但是它也在不断占领原来 DEC 和 HP 小型机的市场并有足够的处女地可以开发。因此，它的整体业务还在不断扩大。这很像十六世纪的西班牙王国，虽然它的无敌舰队已经被英国人打败了，并失去了海上霸主的地位，但是由于世界上可殖民的处女地仍然很多，支撑着这个海上老二繁荣了两个世纪，直到十九世纪全世界再无殖民地可开拓时，西班牙早期埋下的危机才表现出来。当然，衰落要比繁荣来得快，在很短时间内，西班牙从欧洲的富国沦为穷国。太阳公司也是如此。从 1986 年到 2001 年，太阳公司的营业额从 2.1 亿美元涨到 183 亿美元，成长率高达平均每年 36%，能连续十五年保持这样高速度发展，只有微软、英特尔和思科曾经做到过。在这种情形下，很少能有人冷静地看到高速发展背后的危机。太阳公司当时不自觉地满足于捏 SGI、DEC 和 HP 这些软柿子、并沉溺于在硬件市场上的胜利，忽视了来自微软的威胁。但当 2000 年互联网泡沫破碎时，它以服务器和工作站为主的硬件业务便急转直下。2002 财政年度（到 2002 年六月），它的营业额就比前一年跌掉了三成，并且从前一年盈利九亿美元跌到亏损五亿美元。太阳公司找不到稳定的利润来源和新的成长点，从此太阳公司便江河日下，一下从硅谷最值钱的公司沦为人均市值最低的公司。
12.1.2 错失良机
在太阳公司，至少有两个人从中吸取了教训，就是后来成为 Google CEO 的施密特和太阳现在的 CEO 强纳森·施瓦茨（Jonathon Schwartz）。施密特当时是太阳公司主管软件的副总裁，他从太阳失败的教训中总结出了反摩尔定理，我们已经介绍过。施密特认识到依靠硬件的利润是不断下降的，而 IT 服务业的利润则是恒定的（并随着通货膨胀而略有增加）。如果说施密特是理论家，施瓦茨则是实践家，后者着手太阳公司从硬件制造商到IT服务的转型。遗憾的是，当时马可尼里领导的太阳公司没有看到、也很难看到这一点。
事实证明，微软虽然是IT史上最可怕的对手，但是并非无懈可击。历史上甲骨文 (Oracle)、Intuit(Turbo Tax)、Adobe 和 Yahoo 以及今天的 Google 都在自己的领域打败了微软。微软虽然有世界上最好的计算机科学家和软件工程师，但是，它的产品在技术上很少领先于竞争对手，它更多的是靠商业优势取胜。上述公司看到了它们和微软竞争的关键所在，利用技术优势固守自己的领域，不给微软可乘之机，并最终胜出。九十年代时，Unix 相比 Windows NT 在中小企业的业务上占优势。各种版本的 Unix，包括开源的 Linux 都有自己稳定的客户。
太阳应该做的第一件事便是利用它在 Unix 上的主导地位，或联合、或兼并其它 Unix 服务器厂商共同对付微软并稳守中大型企业市场。它至少可以在操作系统上和微软分庭抗礼。至今，Windows 的服务器在很多业务上还无法取代 Unix 的位置。但是太阳公司当年带头在 Unix 阵营里窝里斗，根本没有把精力转到和微软的竞争上。
太阳公司该做的第二件事就是改变商业模式开源 Solaris，从卖操作系统变成提供服务。要知道，一份 Solaris 操作系统不过两三百美元，但是 IT 领域一小时的服务就能收这么多钱。但是，太阳公司以硬件业务（而不是服务业务）为主的商业模式使得它不可能开源 Solaris，因为它主要的钱来自于硬件。（正是这个道理，苹果也不可能把它的 iPhone 操作系统开源。）我在前面的章节中经常提到基因决定的理论，有些读者认为我是宿命论。但事实证明绝大部分公司包括很多伟大的公司都很难逃脱这个宿命。（也有一些例外的，以后我们会介绍这些例外的公司，比如通用电气 GE 公司和 3M 公司。）而相反，以服务为主的 IBM 公司倒反而比较早地加入了开源 Linux 的行列。2000 年以后，由于高档微机已经达到了工作站的计算速度，价钱又便宜很多，IBM 靠开源 Linux 服务器从对太阳公司的价格劣势变成了价格优势。等到 2004 年，太阳公司明白了这个道理，将 Solaris 开源， IBM 已经抢到了先机，成为 Unix 市场的最大服务商。
马可尼里非常重视研发，太阳公司先后开发出 Sparc 系列处理器和工作站、Solaris 操作系统，这些产品为太阳公司带来了可观的利润。但是太阳公司最有意义的发明是至今没有给太阳公司带来什么经济效益的 Java 程序语言。太阳公司第三个遗憾之处就是没有能将 Java 间接地转化成利润。
让我们来简要地回顾一下 Java 诞生的背景。九十年代以前，世界上的计算机要么不联网，要么在企业内部自己联网。可以被公众共享的内容和资源是很有限的。每个单位内部的计算机系统只要自己统一就好了。当互联网蓬勃发展起来的时候，不同计算机之间共享信息和资源的需求就产生了。这时，需要一种跨不同硬件和不同操作系统的新型平台（Platform），在这个平台上实现人机交流。一九九五年五月太阳公司发表了 Java 高级程序语言，由于它不需要和硬件相关的编译器，正好适合这个需求。（注释：大多数高级语言的程序在运行前需要根据不同的计算机进行编译，然后才能运行。Java 的程序不需要编译，而是在运行时边解释边运行。这样 Java 的程序就不受计算平台限制，在互联网兴起后，特别适合在互联网上编程。）可以说 Java 诞生的时机非常好，它给太阳公司提供了一个取代操作系统公司（主要是微软）主导计算机领域的可能性。下面这张附图表示在网络时代以前，操作系统公司如何通过操作系统来统一不同的硬件，控制用户。这时的计算机工业的皇冠属于操作系统公司。
图12-1微机时代的统治者是操作系统图12-2太阳公司的如意算盘
而这张图，则是在互联网时代通过跨操作系统的平台控制用户的新构想。这时，控制跨操作系统平台的公司有可能成为新的王者。
马可尼里看到了这一点。在 Java 出来以后，太阳公司便赔钱作了大力推广，仅三个月后，网景公司就决定采用 Java。由于 Java 是新一代的面向目标（Object Oriented）的程序语言，并且有不受操作系统限制、对网络功能有很强的支持、可以在本地计算机上运行远程程序的优点，加上对终端用户是免费的，Java 一下就推广开了。很快甲骨文公司、Borland 公司、SGI 公司、Adobe 公司、IBM 公司、ATT 公司和英特尔公司也加入了 Java 的同盟军。
但是，太阳公司通过 Java 实现跨操作系统平台的梦想至今没有实现。用华尔街的话讲，就是 Java 是赔钱赚吆喝。赚到吆喝后怎么挣钱，太阳公司至今不知道。我接触过太阳公司的很多人，他们大多抱怨 Java 这种免费的东西无法挣钱。我觉得主要还是看人，设想如果 Java 当初掌握在盖茨手里，他一定能玩出无数的名堂。
事实上，微软很眼馋 Java 这个宝贝，1996 年它不得不向太阳公司购买 Java 的授权（License）。太阳公司当初的想法是通过微软推广 Java，合同也是这样签的。但是，微软有自己的算盘，并没有依照合同向用户提供用 Java 开发的产品，而是通过太阳的技术，搞自己的类似产品。更有甚者，根据后来法庭的判定，微软误导 Java 开发者、阻碍他们开发兼容太阳公司 Java 技术的产品，以达到打压 Java 的目的。为了满足在互联网上建立网站和开发应用程序的需求，太阳搞出了相应的基于 Java 的 JSP 开发环境，微软则争锋相对，搞出了基于自己的 Visual Basic 的 ASP 技术。鉴于微软利用它在操作系统领域的垄断地位打压太阳公司，后者不得不于 1997 年 10 月向美国加州地方法院起诉微软，指控后者违反了两公司就Java技术所签定的合同，并要求微软公司停止侵犯Java兼容标准。这场官司后来升级，又和微软的反垄断官司扯到一起。2001 年，太阳公司打赢了这场旷日持久的官司，获得微软公司高达十亿美元的赔偿。但是，微软已经获得了更大的市场占有率。
虽然 ASP 和 JSP 的授权费本身对双方的直接收入并不重要，但对计算机服务器市场格局的影响却是很大的。在九十年代末，全世界计算机服务器市场以前所未有的速度发展。这一方面是受美国和中国经济发展的带动（在过去的近二十年里，这两个国家贡献了全球 GDP 净增值的一半），另一方面，是靠全世界互联网的兴起。几乎每一个公司都必须有自己的网站，都必须购买运行网站的服务器，或者租用专业数据中心的服务器。不论是自己维护网站，还是租用数据中心，都会刺激服务器市场的极速发展。全世界网站对外的接口基本上非 ASP 即 JSP，前者使用的操作系统就是微软的操作系统，使用的服务器是 Dell 和 HP 等微机厂商的服务器；后者对应的操作系统主要是 Unix，使用的服务器则是太阳、SGI 和 IBM 等工作站和服务器厂商的产品。2000 年以前，整个服务器市场不仅发展快，而且似乎看不到饱和的迹象，甚至发生过 IBM 公司购买太阳公司服务器的荒唐事。由于两种服务器市场都能得到发展，太阳公司的业绩和 ASP 与 JSP 之争无关。但是 2000 年后，网络泡沫破碎，绝大多数不盈利的 .com 公司都关门了，存活下来的公司也急刹车似的停止了采购。服务器市场突然低迷，服务器市场成了一个零和的游戏。Windows 的服务器多卖一些，太阳公司的硬件产品销路就不畅。这样，太阳公司在短短一年间便从巅峰跌到谷底。下图是太阳公司股票在 2000 年前后的走势。
图12-3太阳公司的股票走势（数据来源：Google Fiance）太阳公司与微软公司的操作系统和互联网平台之争失败的后果至此才看出来。更可怕的是，即使在 Unix 服务器市场，以IBM为首的基于开源 Linux 的廉价服务器超过了太阳公司的 Solaris 服务器。太阳公司前门拒狼、后门驱虎，苦不堪言。在 2003 年，Windows 服务器的市场占有率和 Unix 的服务器基本上平分秋色（当然，销售额还是后者大一些）。这一年，太阳公司亏损高达三十四亿美元，人们甚至怀疑它是否能作为一个独立的公司生存下去。太阳公司终于意识到通过开源提高 Solaris 服务器市场占有率的重要性，但是为时已晚。2006 年，在太阳公司工作了二十多年的创始人，硬件出身的马可尼里辞去了 CEO 的职务，软件出身的舒瓦茨接任。舒瓦茨进行了大规模裁员，并且卖掉了不少房地产，终于将太阳公司扭亏为盈。同时他将太阳公司从硬件制造商转变成软件开发商和服务商。太阳公司服务业收入从 2001 年的 16% 上升到 2007 年的 37%。舒瓦茨是太阳公司里面开源的创导者，在他担任第二把手 COO 时就开放了 Solaris。这些举措使得太阳公司市场占有率有所回升，同时 IT 服务给太阳公司带来了强劲的现金流。现在，太阳公司生存是没有问题了，但是它已经沦为一个二流公司，永远地失去了与微软和 IBM 分庭抗礼的机会。
12.1.3 历史的回放
太阳和微软之争已经成为了历史。其中的经验教训却值得科技公司总结。太阳公司首先输在人上（或者说人才体制上）。马可尼里有心打造一个跨平台的系统控制企业级的网络，但是太阳公司从上到下的执行力不足以完成这一历史使命。马可尼里绝不是庸才，但也不是天才。在马可尼里领导下的太阳公司效率之低在硅谷公司中是有了名的。太阳公司不缺乏英才，但是它平庸而大锅饭式的管理实际上是在进行劣胜优汰。太阳公司很多人离开后都比在太阳干得出色得多，其中包括 Google 的 CEO 施密特和 Juniper 的共同创始人 Bjorn Liencres 以及 Google 早期很多资深的工程师。在太阳公司担任过副总裁的 Google 前副第一总裁罗森·韦恩讲，在人才竞争中最厉害的一招是从对手那里挖到好的人，而同时必须让它把那些低于平均水平的人全留下来。不幸的是太阳公司自己替对手做到了这一点。太阳公司的很多人居然以加入微软为荣，这足以说明了太阳公司在管理上的问题。当大量杰出人才离开、同时公司业绩大幅下滑时，马可尼里没有果断地大量裁员。他总给自己一个借口，我们好不容易招到这么多人（在网络泡沫时代，找工程师是很难的），如果现在裁掉冗员，万一市场好起来，我从哪里去招人。事实上，马可尼里担心的“万一”永远没有出现。虽然后来随着美国经济的复苏，太阳公司的业务有所好转，但是至今没有回到它 2001 财政年度（2000年 7 月到 2001 年 6 月）的水平（183 亿美元的营业额）。而且，世界对信息科技行业的需求发生了变化，马可尼里储备的那些人才（很多是硬件和系统的人才）的知识结构已经过时了。
太阳公司犯下的第二个致命错误就是没有将太阳与微软的操作系统之争和互联网开发工具之争放在和 HP、DEC 等服务器公司市场争夺之上。这导致了我们前面提到的严重后果。在太阳公司 2001 年向美国证监会提交的财报中，太阳公司在投资风险因素（Risk Factors）一章中把 IBM、惠普和康柏作为头等竞争者，写在第一段，而把微软放在次要的地位写在第二段。而且只是把它和微软的竞争作为工作站和 PC 机简单的竞争来对待。原文如下：Our competitors are some of the largest, most successful companies in the world. They include International Business Machines Corporation (IBM), Hewlett-Packard Company (HP), Compaq Computer Corporation (Compaq), and EMC Corporation (EMC).
We also compete with systems manufacturers and resellers of systems based on microprocessors from Intel Corporation (Intel) and the Windows family of operating systems software from Microsoft Corporation (Microsoft). These competitors include Dell Computer Corporation (Dell), HP, and Compaq, in addition……2005 年，太阳对微软有了新的认识，把它放在了和 IBM 等服务器公司同一段里，但是仍然把系统制造商 IBM 和 HP 写在第一句话中，微软写在二句话中。今年，也就是舒瓦茨上任的第二年，太阳公司终于意识到微软的威胁，把微软写到了和 IBM 公司同一句话中。并且在接下来，它首先提到了微软的操作系统和 Linux 操作系统。然后才提到计算机服务商。它提到 IBM 和惠普时，不再把它们作为计算机制造商的竞争对手而是作为服务商。原文如下：Our competitors are some of the largest, most successful companies in the world. They include IBM, Dell, HP, EMC, Fujitsu, HDS, the Fujitsu-Siemens joint venture, Microsoft and Intel. We compete with (i) systems manufacturers and resellers of systems based on microprocessors from Intel, the Windows family of operating systems software from Microsoft and the Linux family of operating systems software from Red Hat and others, as well as (ii) companies that focus on providing support and maintenance services for computer systems and storage products.