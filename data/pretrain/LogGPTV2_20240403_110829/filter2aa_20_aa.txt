版权信息
书名：Web应用安全权威指南
作者：（日） 徳丸浩
译者：赵文，刘斌
ISBN：978-7-115-37047-1
本书由北京图灵文化发展有限公司发行数字版。版权所有，侵权必究。
您购买的图灵电子书仅供您个人使用，未经授权，不得以任何方式复制和传播本书内容。
我们愿意相信读者具有这样的良知和觉悟，与我们共同保护知识产权。
如果购买者有侵权行为，我们可能对该用户实施包括但不限于关闭该帐号等维权措施，并可能追究法律责任。
图灵社区会员 ptpress（PI:EMAIL） 专享 尊重版权
推荐序
译者序
前言
谢辞
第 1 章 什么是 Web 应用的安全隐患
1.1 安全隐患即“能用于作恶的 Bug”
1.2 为什么存在安全隐患会有问题
1.3 产生安全隐患的原因
1.4 安全性 Bug 与安全性功能
1.5 本书的结构
第 2 章 搭建试验环境
2.1 试验环境概要
2.2 安装 VMware Player
2.3 安装虚拟机及运行确认
2.4 安装 Fiddler
第 3 章 Web 安全基础 ： HTTP、会话管理、同源策略
3.1 HTTP 与会话管理
3.2 被动攻击与同源策略
第 4 章 Web 应用的各种安全隐患
4.1 Web 应用的功能与安全隐患的对应关系
4.2 输入处理与安全性
4.3 页面显示的相关问题
4.3.1 跨站脚本（基础篇）
4.3.2 跨站脚本（进阶篇）
4.3.3 错误消息导致的信息泄漏
4.4 SQL 调用相关的安全隐患
4.4.1 SQL 注入
4.5 关键处理中引入的安全隐患
4.5.1 跨站请求伪造（CSRF）
4.6 不完善的会话管理
4.6.1 会话劫持的原因及影响
4.6.2 会话 ID 可预测
4.6.3 会话 ID 嵌入 URL
4.6.4 固定会话 ID
4.7 重定向相关的安全隐患
4.7.1 自由重定向漏洞
4.7.2 HTTP 消息头注入
4.7.3 重定向相关的安全隐患总结
4.8 Cookie 输出相关的安全隐患
4.8.1 Cookie 的用途不当
4.8.2 Cookie 的安全属性设置不完善
4.9 发送邮件的问题
4.9.1 发送邮件的问题概要
4.9.2 邮件头注入漏洞
4.10 文件处理相关的问题
4.10.1 目录遍历漏洞
4.10.2 内部文件被公开
4.11 调用 OS 命令引起的安全隐患
4.11.1 OS 命令注入
4.12 文件上传相关的问题
4.12.1 文件上传问题的概要
4.12.2 通过上传文件使服务器执行脚本
4.12.3 文件下载引起的跨站脚本
4.13 include 相关的问题
4.13.1 文件包含攻击
4.14 eval 相关的问题
4.14.1 eval 注入
4.15 共享资源相关的问题
4.15.1 竞态条件漏洞
第 5 章 典型安全功能
5.1 认证
5.1.1 登录功能
5.1.2 针对暴力破解攻击的对策
5.1.3 密码保存方法
5.1.4 自动登录
5.1.5 登录表单
5.1.6 如何显示错误消息
5.1.7 退出登录功能
5.1.8 认证功能总结
5.2 账号管理
5.2.1 用户注册
5.2.2 修改密码
5.2.3 修改邮箱地址
5.2.4 密码找回
5.2.5 账号冻结
5.2.6 账号删除
5.2.7 账号管理总结
5.3 授权
5.3.1 什么是授权
5.3.2 典型的授权漏洞
5.3.3 授权管理的需求设计
5.3.4 如何正确实现授权管理
5.3.5 总结
5.4 日志输出
5.4.1 日志输出的目的
5.4.2 日志种类
5.4.3 有关日志输出的需求
5.4.4 实现日志输出
5.4.5 总结
第 6 章 字符编码和安全
6.1 字符编码和安全概要
6.2 字符集
6.3 字符编码方式
6.4 由字符编码引起的漏洞总结
6.5 如何正确处理字符编码
6.6 总结
第 7 章 如何提高 Web 网站的安全性
7.1 针对 Web 服务器的攻击途径和防范措施
7.1.1 利用基础软件漏洞进行攻击
7.1.2 非法登录
7.1.3 对策
7.2 防范伪装攻击的对策
7.2.1 网络伪装的手段
7.2.2 钓鱼攻击
7.2.3 Web 网站的伪装攻击对策
7.3 防范网络监听、篡改的对策
7.3.1 网络监听、篡改的途径
7.3.2 中间人攻击
7.3.3 对策
7.4 防范恶意软件的对策
7.4.1 什么是 Web 网站的恶意软件对策
7.4.2 恶意软件的感染途径
7.4.3 Web 网站恶意软件防范对策概要
7.4.4 如何确保服务器不被恶意软件感染
7.5 总结
第 8 章 开发安全的 Web 应用所需要的管理
8.1 开发管理中的安全对策概要
8.2 开发体制
8.3 开发过程
8.3.1 规划阶段的注意事项
8.3.2 招标时的注意事项
8.3.3 需求分析时的注意事项
8.3.4 概要设计的推进方法
8.3.5 详细设计和编码阶段的注意事项
8.3.6 安全性测试的重要性及其方法
8.3.7 Web 健康诊断基准
8.3.8 承包方测试
8.3.9 发包方测试（验收）
8.3.10 运维阶段的注意事项
8.4 总结
推荐序
我投身信息安全产业领域已经有十五个年头了。过去我通过端口扫描，探测服务器的操作系统类型；防火墙出现后，我又转攻 Web 应用安全，结交了很多业内的顶级信息安全专家，与他们进行了大量的交流。
互联网的出现使得大家从传统的纸质信件传递转变为通过互联网电子邮件收发邮件；社交网络的出现，让我们得以通过互联网来结交更多的朋友。然而，我们在享受这些便利的同时，也承受着恶意钓鱼、跨站脚本攻击、恶意网马植入等风险。这些行为造成用户的信息泄漏，银行卡、信用卡信息被恶意盗刷，以致产生大量的经济损失。
通过国际权威的 Web 应用安全机构 OWASP 所发布的 TOP Ten，可以看出 Web 安全的重要性。现在全球有效的网络攻击中，基于 Web 的占 80% ，SQL 注入与跨站脚本攻击一直都位于 OWASP Top Ten 的前两名，这两种攻击通常都发生在 Web 应用当中。
本次受图灵公司的邀请，参与了本书的校译工作，在进行校译期间看到了赵文和刘斌两位译者深厚的日文专业技术功底，同时也深深地感受到了日本人工作的严谨，作者在书中为大家准备了详实的应用案例和代码。
我作为 OWASP 中国北京的负责人，有幸组织和参与了在中国区域内召开的信息安全峰会与亚洲应用安全峰会，发现国外的信息安全专家更善于总结。他们能通过有效的方法论有效地进行一些精尖技术的推广和学习，而国内的信息安全专家在介绍一些高精技术时一般只告知结果，而不介绍过程。
《Web 应用安全权威指南》这本书的作者是日本 Web 安全第一人，足见其编程功底之深厚。本书没有欧美作者的那些诙谐幽默的用语，更多的是严谨而实用的陈述。作者以 Web 应用的安全隐患为引子，将产生安全隐患的原因作为整个主线来描述，同时还生动地介绍了试验这些安全隐患的环境的搭建，以及缺陷代码的示例。同时本书又给大家做了很好的补充说明，讲述了 Web 安全的基础协议和原理，帮助读者打好 Web 安全的基本功。
最难能可贵的是，本书详尽地讲解了 SQL 注入、XSS、CSRF 等的基本原理，同时又增加了详尽的代码解析。这是一本难得的 Web 应用安全指南。无论你是 Web 安全的爱好者，还是研究者，都可以将它作为一本很好的参考书籍。个人建议一些高校的学生通过学习本书，实现从 Web 安全的基础入门到精通。
OWASP 中国北京区负责人、51CTO 信息安全专家