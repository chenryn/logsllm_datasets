blocks the target address is never active, and in others with
transient usage it is only sometimes active. Probing multiple
addresses handles both of these cases.
Other systems use ICMP as a triggering mechanism for
secondary methods that verify outages; for example, tracer-
outes may recover from a false trigger. However, these sys-
tems raise other questions (is the target for traceroute up?),
and even when self-correcting, incur additional traﬃc. We
show that probing E(b) provides 30–40% better recall than
probing a single address, even without secondary veriﬁcation.
6.2 What Granularity of Blocks
Most previous active probing systems track reachability
per routable preﬁx [17,20] (Hubble operation probes at most
1 target per BGP preﬁx [16]). However, reachability is not
correlated with BGP preﬁxes [3]; we see smaller units.
We next compare block-based schemes that directly mea-
sure each /24 block with preﬁx-based schemes where mea-
surement of a single representative address determines out-
ages for a routable preﬁx of one or many blocks. Preﬁx-
based schemes require little traﬃc and get broad coverage.
However, their trade-oﬀ is that they are imprecise, because
the single representative may not detect outages that occur
in parts of the preﬁx that are not directly measured. Block-
based schemes, on the other hand, require more traﬃc and
cannot cover blocks where no addresses respond, so they
have lower coverage. But because block-based schemes di-
rectly measure each block, they provide very good precision.
We ﬁrst compare how precision and coverage trade-oﬀ
with block-based and preﬁx-based measurement schemes,
then how this diﬀerence in precision aﬀects the accuracy
of outage detection.
Methodology: We ﬁrst must deﬁne when block-based
or preﬁx-based methods can cover a preﬁx. Block-based
measurement systems can track outages in blocks that have
active addresses that respond. Here we require 20 active
addresses with A > 0.1 (a slightly stricter requirement than
Trinocular). Preﬁx-based systems expect an active .1 ad-
Figure 6: Probability of a positive response (availability) of
one address of each block (dot-one, hitlist, (E(b), and all),
or any of 15 addresses (15-try-E(b)). Dataset: H 49w .
address, sometimes a single speciﬁc address (such as that
ending in .1 [17, 18, 20], or they probe all addresses [28]).
We show that alternatives either can cover fewer blocks or
gather less information per probe, and may miss outages.
Information Per Probe and Coverage: To evalu-
ate the amount of information each probe may provide, we
examine IP history data for each alternative. We begin
with history dataset “it49w” [11] (identiﬁed here as H 49w ),
summarizing IPv4 censuses from 2006 to 2012. Figure 6
shows the distribution of availability value A for diﬀerent ap-
proaches to selecting probing targets per block: probing .1,
a hitlist’s single most responsive address [10], all responsive
addresses (E(b)), and all addresses. This A value correlates
to the information a single probe provides about the block,
since probing an inactive address does not help determine if
the block is up or down.
We ﬁrst compare probing active to all addresses (E(b) vs.
all). The E(b) line has greater availability for all blocks, so
A(E(b)) > A(b) and each Trinocular probe provides more
information than does probing all.
Dot-one and hitlist do better than E(b) for many of blocks
(about 40% of all, from 3.5M to the right), but poorer for
about 50% of all blocks (from 0.7M to 3.5M). In many cases
(for dot-one, about 2M blocks from 0.7 to 2.5M, about 30%
of all blocks), a single address provides no coverage where
E(b) shows some addresses would respond. Thus, while a
single target, may work well for 40% of blocks, particularly
when probing includes retries, it provides poor or no cov-
erage for even more blocks—probing E(b) can cover about
two-thirds more blocks than .1.
While A characterizes the information provided by a sin-
gle probe, Trinocular sends an adaptive number of probes,
allowing low-A blocks to get good coverage. To show an up-
per bound on Trinocular’s ability to ﬁnd an active address,
the curve labeled “15-try-E(b)” shows the probabilty that
any of 15 probes will respond, suggesting that Trinocular
can use multiple probes to provide reasponable results even
for blocks with very intermittently responding addresses.
While other systems use secondary methods to improve re-
liability (perhaps veriﬁcation with traceroute), or use fewer
but larger blocks (§6.2), we show that E(b) provides about
30% broader coverage than depending on a single address.
 0 0.2 0.4 0.6 0.8 1 0 1 2 3 4 5 6availability of target addressescumulative blocks (in millions) with at least A(.)E(b)dot-onehitlistall15-try-E(b)(sparse threshold)block-direct
preﬁx-direct
preﬁx-inferred
overlap
neither
total
in preﬁxes
184,996 (44%)
240,178 (57%)
152,295 (36%)
145,268 (35%)
418,147(100%)
in blocks
2,438,680 (24%)
219,294 (2%)
— 8,115,581 (81%)
2,410,952 (24%)
1,908,122 (19%)
10,051,431(100%)
Table 3: Comparing coverage by granularity. Dataset:
A20addr .
dress (the target address). To be generous, we consider all .1
addresses in any /24 of a preﬁx, not just the ﬁrst.
However, preﬁx-based systems only directly measure the
target address, and from that infer outages for the rest of the
preﬁx. Preﬁx-based systems require less probing traﬃc, but
we have shown that Trinocular’s probe rate is acceptable.
We evaluate the eﬀects of coverage by re-analyzing an
Internet-wide survey taken 2012-08-03 [27], labeled A20addr .
As with S 50j , this dataset consists of ICMP probes sent to
addresses every 11 minutes. But it covers only 20 addresses
in each of 2.5M /24 blocks, and only for 24 hours on 2012-
08-03. We compare this probe data with default-free BGP
routing tables from the same site on the same day.
Precision: We compare precision of coverage in Table 3.
In the left column we consider, for each routable preﬁx, if
any of its address blocks are covered by block-based mea-
surements, preﬁx-based, both, or neither. We see 418k pre-
ﬁxes in the BGP routing table. Of these, preﬁx measure-
ments directly observe 240k preﬁxes (preﬁx-direct, 57%),
while block-based measurements include data for only 185k
preﬁxes (44%). Block-based coverage misses some preﬁxes
where all blocks include fewer than 20 addresses; preﬁx-
based coverage misses some preﬁxes where no .1 addresses
respond. Overall, preﬁx-based probing covers 13% more pre-
ﬁxes, although block-based picks up 8% that preﬁx-based
misses (block-direct minus overlap).
The block-level view (right column) presents a diﬀerent
picture. Preﬁx-based has much larger coverage (81%) when
one considers inferred blocks. This large coverage is due to
large preﬁxes that are sparsely occupied, like MIT’s 18/8,
where most blocks do not respond but a preﬁx-based scheme
allows 18.0.0.1 to represent reachability to them all. Block-
based coverage is also lower because it requires more than
one address per block. However, direct measurements in
these preﬁxes are quite few: we observe 10 times more blocks
than preﬁx-direct, but inference allows preﬁx-based to sug-
gest answers for 3 times more blocks. We next consider how
direct and indirect measurements aﬀect accuracy.
Accuracy: We next compare the diﬀerent granularities
of preﬁx- and block-based measurements aﬀect the accuracy
of outages in A20addr .
For preﬁx-based measurements, we observe the status of
It therefore
one address as representing the entire preﬁx.
directly observes outages in the block of the representative
address, and infers the status of other blocks of the pre-
ﬁx. This approach works perfectly when an outage is preﬁx-
complete—all parts of the preﬁx go up or down together,
perhaps due to a common change in routing.
It is incor-
rect when the outage is preﬁx-partial, and can either over-
or under-count the size of the outage when some blocks in
the preﬁx are up while others are down.
sites (% block-time)
status
all down
all up
disagree
(1 vantage point)
w
0.79
j
0.74
99.21 99.08 99.26
c
0.92
—
—
wc
0.24
(2 vantage points)
cj
0.26
98.53 98.62 98.53
1.21
wj
0.22
— 1.23
1.16
(3)
wcj
0.15
98.01
1.84
Table 4: Outages observed at three sites over two days.
Dataset: A7 .
To compare accuracy we simulate a preﬁx-based scheme
by observing outages in the preﬁx’s target. We compare to
re-analysis of A20addr with a Trinocular-like scheme, follow-
ing §7.2, but with all 20 addresses in each block as E(b).
With preﬁx-based schemes, often a preﬁx will be declared
down, but the data shows that other blocks in the preﬁx
remain up. We ﬁnd that 25% of all block-rounds inferred
to be down are incorrect, so preﬁx inference often overstates
outages. It can also understate outages when small outages
do not occur at the direct measured block of the preﬁx; 37%
of block-round outages seen by us are missed by a preﬁx-
based scheme.
A fundamental limitation of preﬁx-based measurement is
that outages usually do not aﬀect entire preﬁxes. To quan-
tify this claim, we examine each routable preﬁx with any
block-level outages in A20addr . For each preﬁx, we evalu-
ate if the outage is preﬁx-complete or preﬁx-partial. Any
preﬁx-based measurement scheme will always be incorrect
for preﬁx-partial outages, over- or under-reporting depend-
ing on the status of the directly measured block. We ﬁnd
that only 22% of all preﬁx-rounds (that have any outage)
are preﬁx-complete, while 78% are preﬁx-partial, showing
that most outages are partial.
7. STUDYING THE INTERNET
We next examine what Trinocular says about the Internet.
7.1 Days in the Life of the Internet
We begin by evaluating Internet-wide outages to evaluate
the proportion of local and global outages, and demonstrate
Trinocular operation. We collected data tracking outages
on 3.4M blocks over two days, starting at 2013-02-12 14:25
UTC, from three universities, labeled w, c, and j in Los
Angeles, Colorado, and Japan. This experiment produces
three datasets: A7w , A7c, and A7j . For analysis, we then
identify blocks where A is inconsistent and remove them,
leaving 863k, 865k, and 863k blocks.
When rendered to an image with one pixel per round and
block, the data is overwhelming (omitted here for space, but
at [27]), forming an image of 270 pixels wide and 3.4M tall.
The image conﬁrms widespread diurnal “outages”, conﬁrm-
ing those we report on later (for example, in Figure 7).
Data from three vantage points lets us begin to evaluate
how widespread are the outages we observe. Table 4 shows
the level of agreement between the three sites for the pe-
riod when all three had overlapping coverage. We measure
agreement as percentage of block-time, that is, the sum of
the duration of outages for each block for a given status, for
each combination of the three vantage points.
Comparing columns w, c, and j, we see slight variations
between the three sites (from 0.74% to 0.92%). We have seen
this magnitude of variation in most measurements, with no
strong trend favoring any site. We see a similar variation
in these whole Internet measurements (here) as in measure-
ments of a sample of the Internet in Figure 10, suggesting
that our samples are unbiased.
We can evaluate the degree of local and global outages
by comparing each site with the other. The 2-vantage point
columns (wc, etc.) show that many outages are local and
seen at one site but not another. Overlap of all three vantage
points (column wcj) shows only about 0.15% of the Internet
is down, suggesting only 16–20% of outages seen by a single
site are global. We believe we are converging on reporting
only global outages with three independent vantage points,
but future work should explore additional vantage points to
demonstrate a plateau.
Here we considered two days of the Internet. We are cur-
rently running Trinocular actively, and in future work plan
to compare long-term observations and compare to other
public information about network outages.
7.2 Re-analyzing Internet Survey Data
While §7.1 uses Trinocular to study the global Internet,
it provides only a brief snapshot. To get a longer-term per-
spective we next re-examine existing datasets using the prin-
ciples behind Trinocular.
We draw on Internet survey data collected over the last
three years from Los Angeles, Colorado, and Japan [13].
Surveys start with a random sample of 20k or 40k /24 blocks
(about 1–2% of the responsive Internet), then probes all
addresses in each block every 11 minutes for two weeks.
Survey data is quite diﬀerent from Trinocular. All ad-
dresses in b are probed, not just E(b), so the survey traﬃc
rate is 100× greater than Trinocular. To adapt Trinocular
to this bigger but less-tuned data, we track belief of the state
of each block and use all probes as input. Since we probe
all addresses, here E(b) = b (Table 1). Since we cannot con-
trol probing, we have neither adaptive nor recovery probing,
but periodic probing occurs every 2.6 s, slightly more fre-
quent than Trinocular’s adaptive probing. This change is
both good and bad: frequent periodic probing can improve
precision in detection of outage start and end, but many
probes are sent uselessly to non-responsive addresses that
Trinocular would avoid.
Our reanalysis computes A(b) from the survey itself. This