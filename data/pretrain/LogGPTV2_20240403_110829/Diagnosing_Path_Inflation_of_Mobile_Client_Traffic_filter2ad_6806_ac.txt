A
Seattle
NYC
n SF
o
z
i
r
e
V
Seattle
NYC
Count
7759
303
2720
20528
2435
7029
Fraction
Inﬂated
1.00
1.00
1.00
0.30
0.33
0.98
I
x
x
P D Extra
x
x
x
x
Dst. (km)
4200
2106
2148
2178
1974
694
Extra
RTT (ms)
31.5
15.8
16.1
16.3
14.8
5.2
Extra
PLT (ms)
315
158
161
163
148
52
of metro-level inﬂations and determine the root cause. We believe that the path inﬂation
observed in those areas implies probable inﬂation in less-populated regions.
Table 2 shows aggregate results for the three regions. For each case, it includes the
extra round-trip distance traveled as well as a loose lower bound of the additional delay
incurred by traveling that distance, based on the speed of data through ﬁber [3]. We
observed inﬂated routes from all regions for both carriers. Most of the traceroutes from
Verizon clients in the NYC area went to servers near Washington, D.C., but we were
unable to discern the exact cause. This represents a small geographic detour and may
not impact performance in practice. Verizon clients from the Seattle and SF metro were
routed together, possibly as a result of using the same DNS resolvers, as described in
our case study above. For all traces from AT&T clients in the NYC area, the ﬁrst public
AT&T hop is in Chicago, indicating a lack of a closer ingress point. AT&T clients from
the SF area were all served by a nearby Google server. However, trafﬁc went from SF to
Seattle before returning to the server in SF. In the traceroutes, the ﬁrst public IP address
was always from an AT&T router in Seattle, suggesting a lack of an ingress point near
SF, and increasing the RTT by at least 31ms for all trafﬁc. This behavior progressively
disappeared in early 2012, with the observed appearance of an AT&T ingress point in
the SF area. An informal discussion with the carrier conﬁrms initial deployment of this
ingress in 2011. Note that traceroutes from clients in Seattle were also routed to Google
targets in the SF area. Though Seattle trafﬁc reached a local ingress, AT&T routed it to
SF before handing it to Google’s network, indicating a lack of peering in Seattle and
explaining why trafﬁc from SF clients returned to SF after detouring to Seattle.
Diagnosing Path Inﬂation of Mobile Client Trafﬁc
31
(cid:4)(cid:18)(cid:1)
(cid:19)(cid:20)(cid:21)
(cid:4)(cid:22)(cid:23)
(cid:24)(cid:1)(cid:21)
(cid:4)(cid:1)(cid:25)
(cid:4)(cid:1)(cid:25)
(cid:1)(cid:2)(cid:3)(cid:2)
(cid:4)(cid:5)(cid:6)(cid:7)(cid:8)(cid:9)
(cid:2)(cid:10)(cid:11)(cid:12)(cid:13)(cid:7)(cid:14)(cid:15)
(cid:16)(cid:15)(cid:6)(cid:7)(cid:17)(cid:12)(cid:8)
(cid:11)(cid:4)(cid:19)
(cid:23)(cid:11)(cid:1)
(cid:4)(cid:24)(cid:27)
(cid:19)(cid:26)(cid:21)
(cid:20)(cid:18)(cid:25)
(cid:11)(cid:27)(cid:30)
(cid:27)(cid:26)(cid:30)
(cid:31)(cid:25)(cid:1)
(cid:31)(cid:23)(cid:4)
(cid:24)(cid:32)(cid:1)
(cid:27)(cid:16)(cid:32)
(cid:19)(cid:26)(cid:24)
(cid:20)(cid:27)(cid:1)
(cid:20)(cid:22)(cid:28)
(cid:26)(cid:23)(cid:29)
(cid:1)(cid:2)(cid:24)
(cid:11)(cid:30)(cid:1)
Fig. 5. Observed ingress points for major US carriers. Locations are labeled with airport codes
belonging to the ingress metro area.
Evolution of Root Causes. As suggested above, carriers’ topologies have evolved
over time. Since our dataset is skewed towards some regions, we cannot enumerate
the complete evolution of carrier topology and routing conﬁguration, but can provide
insight into why we see fewer path inﬂation instances over time for some carriers.
Ingress Points. Figure 5 maps the observed ingress points at the end of 2011. While our
dataset is limited, we can see indications of improvement. An earlier study [11] found
4-6 ingress points per carrier, whereas our results indicate that some carriers doubled
this ﬁgure. This expansion opens up the possibility of much more direct routes from
clients to services. Additionally, we noticed the appearance of AT&T ingresses in SF
and LA, and of at least one Sprint ingress point in LA during the measurement period.
Peering points. Table 3 summarizes the peering points that we observe. In 2011, most
traceroutes from Sprint users in LA are directed to Google servers in Texas or SF. In
measurements from Q2 2012, we observed an additional peering point between Sprint
and Google near LA. Around the same time, we observe that Google started directing
Sprint’s LA clients to LA servers.
Table 3. Observed peering locations between carriers and Google. Locations are identiﬁed by
airport codes belonging to the metro area.
Peering locations (2011 Q4)
Carrier
CHI, DFW, HOU, MSP, PDX, SAT, SFO
AT&T
Sprint
ASH, ATL, CHI, DFW, LGA, SEA, SFO
T-Mobile DCA, DFW, LAX, LGA, MSP, SEA, SFO
ATL, CHI, DAL, DCA, DFW, HOU, LAX,
Verizon
SCL, SEA, SFO
(2012 Q4)
(2012 Q2)
+ ATL, CMH + DEN
+ LAX
+ MIL
+ MIA
+ ASH, MIA
32
K. Zariﬁs et al.
6 Path Inﬂation Today
Our measurements show that many instances of path inﬂation in the US disappeared
over time. However, in addition to the persistent lack of AT&T peering in the LA area
mentioned earlier, we see evidence for inﬂated paths in other regions of the world (from
Q3 2013 measurement data). For example, clients of Nawras in Oman are directed to
servers in Paris, France instead of closer servers in New Delhi, India. This increases the
round trip distance by over 7000km, and may be related to a lack of high-speed paths
to the servers in India. We also see instances of path inﬂation in regions with well-
developed infrastructure. E-Plus clients in southern Germany are delegated to Paris or
Hamburg servers instead of a close-by server in Munich, and Movistar clients in Spain
are directed to servers in London instead of local servers in Madrid. These instances
suggest that path inﬂation is likely to be a persistent problem in many parts of the
globe, and motivate the design of a continuous measurement infrastructure for identify-
ing instances of path inﬂation, and diagnosing their root causes.
7 Conclusions
This paper took a ﬁrst look into diagnosing path inﬂation for mobile client trafﬁc, us-
ing a large collection of longitudinal measurements gathered by smartphones located
in diverse regions and carrier networks. We provided a taxonomy of causes for path
inﬂation, identiﬁed the reasons behind observed cases, and quantiﬁed their impact. We
found that a lack of carrier ingress points or provider peering points can cause lengthy
detours, but, in general, routes improve as carrier and provider topologies evolve. Our
dataset is publicly available at http://mpm.cs.usc.edu and our ongoing work
includes developing techniques for automatic detection of evolving topology issues.
References
1. Dong, W., Ge, Z., Lee, S.: 3G Meets the Internet: Understanding the Performance of Hierar-
chical Routing in 3G Networks. In: ITC (2011)
2. Gill, P., Arlitt, M., Li, Z., Mahanti, A.: The Flattening Internet Topology: Natural Evolution,
Unsightly Barnacles or Contrived Collapse? In: Claypool, M., Uhlig, S. (eds.) PAM 2008.
LNCS, vol. 4979, pp. 1–10. Springer, Heidelberg (2008)
3. Katz-Bassett, E., John, J.P., Krishnamurthy, A., Wetherall, D., Anderson, T., Chawathe, Y.:
Towards IP geolocation using delay and topology measurements. In: IMC (2006)
4. Krishnan, R., Madhyastha, H.V., Srinivasan, S., Jain, S., Krishnamurthy, A., Anderson, T.,
Gao, J.: Moving Beyond End-to-End Path Information to Optimize CDN Performance. In:
IMC (2009)
5. Labovitz, C., Iekel-Johnson, S., McPherson, D., Oberheide, J., Jahanian, F.: Internet inter-
domain trafﬁc. In: SIGCOMM (2010)
6. Mao, Z.M., Cranor, C.D., Douglis, F., Rabinovich, M., Spatscheck, O., Wang, J.: A Pre-
cise and Efﬁcient Evaluation of the Proximity Between Web Clients and Their Local DNS
Servers. In: USENIX ATC (2002)
7. Sommers, J., Barford, P.: Cell vs. WiFi: on the performance of metro area mobile connec-
tions. In: IMC (2012)
Diagnosing Path Inﬂation of Mobile Client Trafﬁc
33
8. Spring, N.T., Mahajan, R., Anderson, T.E.: The causes of path inﬂation. In: SIGCOMM
(2003)
9. Spring, N.T., Mahajan, R., Wetherall, D., Anderson, T.E.: Measuring ISP topologies with
Rocketfuel. IEEE/ACM Trans. Netw. 12(1) (2004)
10. Tangmunarunkit, H., Govindan, R., Shenker, S., Estrin, D.: The Impact of Routing Policy on
Internet Paths. In: INFOCOM (2001)
11. Xu, Q., Huang, J., Wang, Z., Qian, F., Gerber, A., Mao, Z.M.: Cellular data network infras-
tructure characterization and implication on mobile content placement. In: SIGMETRICS
(2011)
12. Zhu, Y., Helsley, B., Rexford, J., Siganporia, A., Srinivasan, S.: LatLong: Diagnosing Wide-
Area Latency Changes for CDNs. IEEE TNSM 9(3) (2012)