User: 请回答以下安全问题Outlook for Android使用中间Microsoft服务器我有一个在linux上运行的IMAP+SMTP服务器，使用Dovecot+Postfix。
服务器只接受通过TLS的连接，并在隧道建立后使用明文身份验证。
我今天正在审核邮件日志，并对一些IMAP登录显示的未知远程IP地址感到担忧。经过一番调查，我发现登录名对应于Android客户端的Outlook。
我确信登录是合法的，因为：
未发送任何未经授权的邮件
没有任何失败的登录尝试
自从Outlook for Android客户端安装以来，这种行为一直是一致的。
远程IP地址似乎已注册到Microsoft。
远程IP位于块中：
52.125.138.x
52.125.140.x
52.125.141.x
日志条目如下所示：
dovecot:imap登录：登录：用户=&lt&gt；中；，method=LOGIN，rip=52.125.x.x，lip=x.x.x.x，mpid=x，TLS，会话=&lt&gt；
因此，我只能假设outlook移动客户端是为使用中间服务器而设计的。
据推测，这是为了通过允许MS服务器轮询真实的邮件服务器并向手机推送通知来节省电池寿命。
然而，据我所知，这意味着微软必须（至少暂时）将用户凭据以明文形式存储在其中间服务器上。
安全影响
他们是否有可能在没有共享凭据的情况下通过TLS隧道从自己的服务器而不是客户端设备进行身份验证？
这是否意味着中间服务器能够在将邮件推送到客户端之前读取邮件？
这种行为是否有记录或已知？
p.s.其他人似乎注意到了这种行为：
iOS Outlook连接到未记录的IP
使用Outlook时来自Microsoft IP地址的IMAP连接

Assistant: 他们是否可能在没有共享的情况下通过TLS隧道从自己的服务器而不是客户端设备进行身份验证
证书？
不，服务器要进行连接，就必须知道凭据。我们知道，服务器确实进行了连接，而不是客户端，因为我捕获了运行Outlook 3.0.46（315）的Android平板电脑上的所有数据包，绝对没有一个数据包进入配置的IMAP和SMTP服务器，但相当多的数据包进入了Microsoft地址。即使他们的邮件堡垒像HTTP CONNECT代理一样，我们也希望看到来自我的服务器的TLS证书，但我没有。
同样，当我向第三方发送邮件时，第一个跃点的邮件服务器是mail.outlook.com，它必须向我的邮件服务器进行身份验证才能通过它发送邮件。这些都在SMTP标头中，供收件人查看。
因此，是他们的服务器进行连接，而不是客户端通过隧道。这意味着他们的服务器知道你的密码，即使只是短暂的。
这是否意味着中间服务器能够在将邮件推送到客户端之前读取邮件？
是的，确实如此。
这种行为是否有记录或已知？
这很难说。他们的捆绑文档并没有像我看到的那样清楚地描述它，但那里有数量惊人的文档。
值得注意的是，这种行为有一个合法的技术驱动因素——你的设备可能在不同的电话和无线网络之间移动，可能会阻止对邮件服务的访问；这是唯一一个入口过滤领域。通过强制您通过总部Microsoft进行通信，他们可以确保邮件协议不会在源头上被阻止。。。
……这对你来说是否值得是另一个问题。