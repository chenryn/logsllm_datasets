端到端流水线驱动DevOps落地
DevOps时代社区
景韵
无关趋势，关乎生死
DevOps 2017 年度报告
Continuous Delivery
Continuous 
Integration
DevOps
Continuous Deployment
Lean
(End to End Flow)
Principles
Practices
Running Lean Product/Market Fit
(Finding&Validating Ideas)
Scrum/Kanban
(Process)
XP
(Engineering)
Operations
Business
Software
Service
Agile(Development/Test)
DevOps在整个软件生命周期的位置
 s  
peOA
s
s
p
v
R
S
sC
-sD
s
=s
企业级DevOps理论与实践体系（标准）
流水线驱动DevOps
主要结论
• 业务对交付频率有较高要求，65%的受访者实现了每周一次以上的部署频率
• 部署频率与部署成功率正相关，通过技术手段可以保证价值快速和高质量流动
• 64%的受访者已经引入持续交付流水线， 其中的86%在使用Jenkins
• 各阶段工具与流水线集成比率低于25%，流水线自动触发比率仅有31%
1. 流水线集成很困难
• 需要端到端整合持续交付流水线
• 多种工具间有效集成和互联互通
2. 自动化触发比率低
3. 优秀实践应用不全
问题及改进建议
（一）
问题及改进建议
（二）
问题及改进建议
（三）
• 代码提交自动触发，自动化执行
• 流水线逐层晋级，实现内建质量
• 代码扫描，非功能测试，灰度发布
• 分布式配置中心，数据库变更管理
DevOps流水线调研结论
张乐、石雪峰、景韵
流水线核心成员：张乐、赵舜东、景韵、石雪峰、雷涛、李华强、孙博
微服务项目
Build
Test
Deploy
•
Everything is Container
所有的构建、测试、部署、运行环
境都实现容器化动态生成
•
Docker in Docker
在通用容器环境中，按需拉取任务
所需镜像，实现环境标准化
全面拥抱容器化
•
Slave动态挂载
Jenkins节点通过JNLP协议动态生
成挂载
•
资源动态调度
容器资源由Kubernetes平台进行
统一调度，动态扩容收缩
弹性动态集群
•
打通需求开发部署流程
Jira，Gitlab，Jenkins完美集成，
流水线状态自动化同步
•
插接研发团队内部工具
将自动化测试，部署上线集成到流
水线中，端到端打通全流程
From KK：Why, What, and How of Continuous Delivery
流水线工具集成
流水线的16个特性
流水线建设路线图
Value Stream Mapping
THANKS