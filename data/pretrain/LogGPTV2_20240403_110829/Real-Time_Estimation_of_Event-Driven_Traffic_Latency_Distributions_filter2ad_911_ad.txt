latency band graph on bottom.
[0, 96, 256, 288, 512] and all latencies are within two hyper-
periods. For this conﬁguration, the observed latencies are
optimistic compared to the DSM prediction.
Proceedings of the 2003 International Conference on Dependable Systems and Networks (DSN’03) 
0-7695-1959-8/03 $17.00 (c) 2003 IEEE
 FIFO BG Queue Resp Times; DSM:− −; Est: ...+;CI−Band:−.−.; x0 = o; NP =  2 U/U/1
1
0.9
5
8
7
5
.
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
0
100
 x:time;  mu = 1.000; lambda = 0.740; H = 512.000; C = 128.000
300
400
200
500
 FIFO BG Queue Resp Times; DSM:− −; Est: ...+;CI−Band:−.−.; x0 = o; NP =  3 M/M/1
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
6
0
.
3
2
=
2
d
t
s
;
8
4
.
3
3
=
2
m
t
r
;
0
5
9
.
0
=
o
h
r
;
)
x
=
<
T
R
(
r
P
600
0
0
 x:time;  mu = 1.000; lambda = 0.200; H = 64.000; C = 48.000
50
100
150
BGA Response Time Bands; NP =  2 M/M/1
 FIFO BG Queue Resp Times; DSM:− −; Est: ...+;CI−Band:−.−.; x0 = o; NP =  3 M/M/1
=
2
d
t
s
;
4
7
2
8
.
=
2
m
t
r
;
.
0
9
9
0
=
o
h
r
;
)
x
=
<
T
R
(
r
P
3
=
L
S
;
0
9
9
.
0
=
o
h
r
;
e
m
T
e
s
n
o
p
s
e
R
i
700
600
500
400
300
200
100
0
0
7
6
.
1
1
1
=
2
d
t
s
;
7
1
.
6
1
1
=
2
m
t
r
;
0
9
9
.
0
=
o
h
r
;
)
x
=
<
T
R
100
200
300
400
500
600
 x−axis = arrival time in [0,H];  lam = 0.740; H =  512.0; C = 128.0 
(
r
P
Figure 9. Latency EDF and Bands; m = 2, ρ1 =
0.25, ρ = 0.99, H = 512
The latency bands corresponding to the latencies in Fig-
ure 10 are found in Figure 3 of Section 4. The only differ-
ence between the top and bottom graphs is an increase in
aperiodic message interarrival rate from 0.20 messages/unit
time to 0.24 messages/unit time. In the top, latencies span
three hyperperiods compared to 11 in the bottom (where the
DSM is a reasonable ﬁt).
6.3. Beneﬁts and Shortcomings
There are several beneﬁts to our proposed binning tech-
nique. First, the number of bins is compact and determinis-
tic. The number of support points (x-values with non-zero
probability) is deﬁned by the number of bins n, not the num-
ber of sample points k, where often n (cid:9) k. Table 3 lists
observed values for n and k.
Figure
2 (T)
2 (B)
6
7
8
9
10 (T)
10 (B)
|BIf|
xm
< 65
4
4 < 200
11 < 400
11 < 400
18 < 500
11 < 400
12 < 150
12 < 750
H
n ≈
nh ≈
xm/H |BIf|nh
< 36.0
< 9.0
8
< 4.0
< 1.0
256
< 3.0
< 0.2
2048
< 3.0
< 0.2
2048
< 6.0
< 0.3
2048
< 11.0
< 1.0
512
< 2.5
< 30.0
64
64 < 12.0
< 144.0
Table 3. Bin Sizes for Figures; k = 500
Because the number of bins n depends only on the time-
line generated by periodic message transmission, the sup-
port points are known a priori so latency values observed
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
0
100
200
300
400
500
600
700
800
 x:time;  mu = 1.000; lambda = 0.240; H = 64.000; C = 48.000
Figure 10. Latency EDFs for H = 64, ρ1 = 0.75
and m = 4; (Top ρ = 0.95, Bot ρ = 0.99)
on-line can be quickly recorded. From a computational
complexity view, the theoretical worst case recording time
is the time it takes to search a sorted list of length n (i.e.
O(log2n))) and the best case time is constant when exact
indexes can be computed from observed latencies due to
known bin values. When the entire empirical distribution
function is kept, the average worst case recording complex-
−1log2(k!)), where k is
ity is O(k
the sample size. There is considerably greater variability in
recording times for the latter operation.
j=1 log2j) = O(k
−1 (cid:1)k
Since all points reside on a common support, when com-
paring two different binned latency estimates, statistical
tests to detect changes in latencies are O(n) compared to
O(k2). The value of k will depend on desired signiﬁ-
cance level and power of the tests. Classic tests, such as
the Kolmogorov-Smirnov test, are succinctly summarized
in [1]. Qualitative visual techniques such as the use of
probability-probability plots are discussed in [8].
On-line real-time evaluation of observed data with an
existing model provides the system with a degree of self-
awareness, enabling sensible adaptations in response to
changing system conditions.
If the latency estimate is to be represented as a contin-
uous function, linear interpolation between binning points
often provides a reasonably good estimate of the aperiodic
latency EDF, with errors in the right tails tending to be con-
servative (e.g.
top of Figure 10). Candidate remedies for
Proceedings of the 2003 International Conference on Dependable Systems and Networks (DSN’03) 
0-7695-1959-8/03 $17.00 (c) 2003 IEEE
cases when linear interpolation is overly conservative were
proposed in Section 5.3.
Our approach is not without potential shortcomings. The
EDF latency conﬁdence bands need not contain the linearly
interpolated latency estimate of our binning technique (e.g.
bottom of Figure 6). The remedies proposed in Section 5.3
require further investigation.
When nearly all aperiodic messages spend a long time in
queues (e.g. top of Figure 2 and bottom of Figure 10), then
closed form heavy trafﬁc approximations given in Equa-
tion 5 (section 3.2) are more compact and might be better
used in statistical tests.
The statistical properties of our proposed estimator (e.g.
consistency, convergence rates, etc.) are not well under-
stood compared with those for EDFs, which are well stud-
ied and widely documented.
7. Future Directions
Our estimation procedure appears best suited for small
aperiodic message transmission durations relative to frame
duration in systems where most aperiodic latencies occur
in less than a few (moderate to long) hyperperiod durations
(e.g. aperiodic ack/naks or interrupts). Our technique is
applicable for estimating latencies for soft real-time aperi-
odics, and possibly for ﬁnding reliable estimators that might
be used for hard-deadline aperiodics (e.g. a value for which
95% of all messages arrive with high probability).
The extent to which quantitative claims can be made
about the effective real-time use of our latency estimator
will depend on the statistical properties of our proposed
estimator. When estimators are used for only non-critical
messages, rigorously quantiﬁable statistical claims may not
be required. Heuristics are common real-time change de-
tection mechanisms for dynamic adaptation. Nonetheless,
work to systematically differentiate between transient ﬂuc-
tuations and long term system state changes in complex sys-
tems is needed.
Our simulation results looked only at FIFO service order
for aperiodic events. When individual messages have in-
dependent deadlines, other transmission orderings will give
better overall system performance in terms of reducing the
number of late/lost messages. Among them are earliest
deadline ﬁrst [2] and minimum laxity (deadline until begin-
ning of service) [6]. Probabilistic analyses of servers that
make use of deadline information exist (e.g. [6],[7]), but
don’t capture the impact that a prioritized (foreground) de-
terministic periodic schedule has on aperiodic event laten-
cies. When using empirical frequencies for values at bin
separation points, our analysis used only the ﬂuid ﬂow dis-
charge rate, which makes no assumptions about message or-
dering provided deadlines are independent of both message
arrival and service times. For moderate to heavily loaded
systems, our algorithm may require little modiﬁcation for
messages with independent deadlines.
We have ignored the practical concerns of message over-
heads such as context switching and bus arbitration. Arbi-
trating among distributed aperiodic queues on a multi-drop
bus at the end of a periodic busy interval is a difﬁcult prob-
lem in its own right.
Lastly, our latency estimation procedure was applied to
aperiodic trafﬁc over only a single periodic timeline (as de-
ﬁned by a single bus or processor). A natural question to
ask is if this representation extends easily to efﬁcient and
accurate convolution operations, corresponding to the sum-
ming of latency distributions over multiple-hop sequences
of bus/processor transmissions/computations.
If so, then
we have efﬁcient real-time operators for computing distri-
butions for end-to-end delays.
References
[1] B. Aslan and G. Zech, “Comparison of Different Goodness-
of-Fit Tests,” Proceedings of Advanced Statistical Tech-
niques in Particle Physics, March 2002
[2] Neil C. Audsley, Alan Burns, Robert I. Davis, Ken W.
Tendell and Andy J. Wellings, “Fixed Priority Pre-emptive
Scheduling: An Historical Perspective,” Real-Time Systems,
8, 1995
[3] P.A. Binns,“Aperiodic Response Time Distributions in
Queues with Deadline Guarantees for Periodic Tasks”,
Ph.D. Thesis, School of Statistics, University of Minnesota,
October 2000
[4] P.A. Binns,“Predicting Response Time Distributions for
Aperiodic Tasks in the Presence of Critical Periodic Tasks,”
Proceedings of the 11th Real-Time Embedded Systems Con-
ference (RTS’03), Paris, France, April 1-3, 2003
[5] Rene L. Cruz, “A Calculus for Network Delay, parts I and
II,” IEEE Transactions on Information Theory, v 37-1, p
114-141, January 1991.
[6] Jiawei Hong, Xiaonan Tan, Don Towsley, “A Performance
Analysis of Minimum Laxity and Earliest Deadline Schedul-
ing in a Real-Time System,” IEEE Transactions on Comput-
ers, December 1989
[7] J. P. Lehoczky, “Using Real-Time Queueing Theory to Con-
trol Lateness,” ACM Sigmetrics Conference Proceedings,
June 1997.
[8] Emanuel Parzen, “Statistical Methods Mining, Two Sam-
ple Data Analysis, Comparison Distributions, and Quantile
Limit Theorems,” International Conference on Asymptotic
Methods in Probability and Statistics (ICAMPS), 1997
[9] B. Sprunt, L. Sha and J. P. Lehoczky, “Aperiodic Schedul-
ing for Hard Real-Time Systems,” The Journal of Real-Time
Systems, 1989
[10] Eduardo Tovar and Francisco Vasques, “Contributions for
the Worst-Case Response Time Analysis of Real-Time Spo-
radic Trafﬁc in WorldFIP Networks,” Euromicro RTS’99
WIP Session, York, UK 1999
[11] Vladimir N. Vapnik, “Statistical Learning Theory,” John Wi-
ley & Sons, 1998
[12] Victor Viroiu, Jean-Yves Le Boudec, Don Towsley and Zhi-
Li Zhang, ”Theories and Models for Internet Quality of Ser-
vice,” Proceedings of the IEEE, May 2002.
[13] Ward Whitt, “Weak Convergence Theorems for Priority
Queues: Preemptive Resume Discipline,”Journal of Applied
Probability, Vol. 8, 1971
Proceedings of the 2003 International Conference on Dependable Systems and Networks (DSN’03) 
0-7695-1959-8/03 $17.00 (c) 2003 IEEE