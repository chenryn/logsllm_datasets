MAC in §7 requires access to accurate timing information, and
the ability to quickly switch the board from a transmit mode to a
receive mode. These requirements are not supported by the current
USRP-GNU-Radio platform.
• Finally, both IAC and 802.11-MIMO use the GNU-Radio basic
decoding modules (e.g., packet detection, clock recovery, synchro-
nization, and channel estimation) and the same system parameters.
(f) Metric. It is typical in the networking community to compare
the throughput of various designs. Throughput results, however,
do not bring much insight for radios that do not have proper rate
adaptation. Speciﬁcally, both in theory and practice, wireless systems
(e.g., 802.11a/b/g/n cards, WiMax, etc.) can exploit a higher SNR to
use denser modulation and coding schemes, and hence increase their
throughput. GNU-Radios however do not yet support rate adaptation.
In this case, it is not sufﬁcient to compare throughput because two
systems may have the same throughput yet one of them has a higher
SNR. In an actual wireless product, the higher SNR system would use
better modulation and coding schemes to achieve a higher throughput
but current GNU Radios cannot exploit this higher SNR. Another
way to look at the problem is as follows. Say we take a 2-antenna
system and show that IAC can decode four concurrent packets, while
802.11-MIMO decodes only 2 concurrent packets. In this case, the
throughput of our system will be double the throughput of 802.11-
MIMO. Such a result however is ambiguous because it is not clear
whether the 802.11-MIMO system has a higher SNR. If it does,
then 802.11-MIMO could have used denser modulation and coding
schemes, potentially doubling its throughput, or maybe tripling it.
Because of this ambiguity, it is preferable to measure performance at
the physical layer in terms of SNR or a function of it.
Thus, for both 802.11-MIMO and IAC, we measure the signal to
noise ratio, SNRMeasured , for each transmitted packet. We compute
the achievable rate, i.e., the rate that could be achieved in the presence
of optimal rate adaptation [29]:
Rate = ∑
i
log2(1 + SNRi
Measured)[bit/s/Hz],
(9)
where the sum is over all concurrent packets. For each scheme, we
average the above rate over the whole experiment, and compute the
gain as the ratio of the average rate of IAC to that of 802.11-MIMO:
Gain =
RateIAC
Rate802.11−MIMO
.
(10)
10.1
IAC’s Multiplexing Gain
The main advantage of IAC is that it increases the number of con-
current packets, i.e., it provides a multiplexing gain. In §5, we have
demonstrated this gain analytically. Here, we check it in practice.
Experiment with 2-by-2 Uplink. We randomly pick two clients
from the testbed to upload trafﬁc to two APs, then repeat the exper-
iment with different clients and APs. We compare IAC to 802.11-
MIMO. In 802.11-MIMO, each client uses its best AP and transmits
two packets simultaneously, and the two clients alternate in using
the medium. In IAC, the two clients simultaneously transmit three
167Gain=1
Gain=2
]
z
H
/
s
/
b
[
e
t
a
r
C
A
I
 30
 25
 20
 15
 10
 5
 4
 5
 6
 7
 8
 9
 10
 11
 12
 13
802.11-MIMO rate [b/s/Hz]
Figure 12: 2-Client and 2-AP Uplink. The ﬁgure shows a scatter plot
of the average rate under IAC and 802.11-MIMO. The rate is measured
as bits per second per a Hz of frequency bandwidth. The two lines are
for reference; they illustrate the cases of no-gain in transfer rate, i.e.,
“Gain=1” and a doubling of transfer rate, i.e., “Gain=2”. The ﬁgure
shows that for the 2-client and 2-AP uplink scenario, on average, IAC
increases the transfer rate by 1.5x over 802.11-MIMO.
packets to both APs, but in one time slot, client 1 uploads a single
packet and client 2 uploads two packets, while in the next slot, client
1 uploads two packets and client 2 uploads one packet.
Results for 2-by-2 Uplink. Fig. 12 shows a scatter plot of the
average rate under IAC and 802.11-MIMO. Each point on the graph
corresponds to a particular 2-client and 2-AP choice, and is gener-
ated as follows. We ﬁrst transmit packets using 802.11-MIMO and
measure the received SNR for each packet. We compute the 802.11-
MIMO achievable rate according to Eq. 9. Second, we repeat the
experiment for the same 2-client and 2-AP choice but with IAC. Sim-
ilarly, we measure the SNR for each received packet and compute
the achievable rate under IAC using Eq. 9. For each point in the
ﬁgure, the x-axis shows the average rate under 802.11-MIMO while
the y-axis shows the average rate under IAC.
The ﬁgure supports the analysis, showing that for the 2-client
and 2-AP uplink, IAC’s transfer rate is on average 1.5x higher than
802.11-MIMO. The ﬁgure also shows a signiﬁcant variance around
the average gain, i.e., in certain experiments the gain is less than 1.5
and in others it is more. The variance in the gain is partially due to
channel and noise variations over the duration of an experiment. More
importantly, the variance is mainly due to relative differences between
the channels of the two clients in an experiment. In particular, IAC’s
gain is typically lower when the channel matrices of the two clients
are similar. To see why this is the case, consider the extreme scenario
when the two clients have exactly the same channels to the two APs
(i.e., H11 = H21 and H12 = H22). In this case, aligning the two clients
at one AP implies aligning them at the other AP, and hence you cannot
decode. In practice, two clients are unlikely to have the same channel
to both APs. However, the more similar their channel matrices, the
more the alignment is affected by noise and imperfection of channel
estimates, and hence the less the gain from IAC. On the other hand,
IAC’s gain may exceed 1.5x because of spatial diversity. Speciﬁcally,
in IAC, one of the concurrent clients uploads two packets and the other
uploads one. The client that uploads one packet uses both antennas to
transmit. This creates a diversity gain that increases the received SNR
and the achievable rate. Thus, in addition to its multiplexing gain, IAC
can exploit diversity to achieve a higher rate for this packet, getting a
higher gain over 802.11-MIMO than analytically demonstrated. This
diversity gain is further studied in §10.2.
Experiment with 3-by-3 Uplink and Downlink. Next, we want
to check whether IAC can further increase the multiplexing gain.
In §5, we found the bound on the number of concurrent packets.
Since our nodes have 2 antennas each, we expect IAC to multiplex
4 packets on the uplink and 3 packets on the downlink. We examine
whether our implementation can deliver these rates.
Gain=1
Gain=2
 4
 5
 6
 7
 8
 9
 10
 11
 12
 13
802.11-MIMO rate [b/s/Hz]
(a) Uplink.
Gain=1
Gain=2
]
z
H
/
s
/
b
[
e
t
a
r
C
A
I
]
z
H
/
s
/
b
[
e
t
a
r
C
A
I
 30
 25
 20
 15
 10
 5
 30
 25
 20
 15
 10
 5
 4
 6
 8
 10
 12
 14
802.11-MIMO rate [b/s/Hz]
(b) Downlink.
Figure 13: 3-clients and 3-APs. The ﬁgure shows a scatter plot of the
rate under IAC and 802.11-MIMO, for 3-client and 3-AP scenarios. The
two lines are for reference; they illustrate the cases of no-gain in trans-
fer rate, i.e., “Gain=1” and a doubling of transfer rate, i.e., “Gain=2”.
The results show that, on average, IAC increases the rate by 1.8x on the
uplink and 1.4x on the downlink.
Each experiment involves three clients and three APs, and is run for
802.11-MIMO and then for IAC. In the 802.11-MIMO experiments,
each client accesses the medium alone and uploads/downloads 2 pack-
ets per timeslot. The medium is arbitrated between the three clients.
In IAC, all clients access the medium concurrently. In downlink
experiments, each client transmits 1 packet per timeslot. In uplink
experiments, in every timeslot, one of the clients transmits 2 packets,
the other clients transmit one packet each. We choose the client that
transmits the two packets in each timeslot in a round robin manner.
Results for 3-by-3 Uplink and Downlink. Figs. 13a and 13b
show scatter plots of the rate under IAC and 802.11-MIMO for the
3-client and 3-AP scenario. For each point, the x-axis shows the total
rate of the three clients involved in that experiment when they use
802.11-MIMO, whereas the y-axis shows the total rate of the same
clients when they use IAC. The ﬁgures show that IAC provides about
1.4x increase in transfer rate on the downlink and 1.8x on the uplink.
Furthermore, these gains are achieved at both low and high rates (i.e.,
low and high SNRs).
10.2
IAC’s Diversity Gain
Our discussion so far has focused on scenarios with multiple clients,
where IAC provides a multiplexing gain over 802.11-MIMO. But,
what if there is only one client? In this case, IAC has no multiplexing
gain over 802.11-MIMO, i.e., in both schemes, the maximum number
of concurrent packets that can be communicated to/from one client
is two (since it has 2 antennas). However, because of its ability
to coordinate multiple APs over the Ethernet, IAC still exhibits a
diversity gain over 802.11-MIMO. This diversity gain arises from
the ability to choose between transmit-receiver antenna pairs. For
example, consider the downlink when there is one client and two
APs. We want to deliver two concurrent packets to the client. 802.11-
MIMO can exploit diversity by selecting the best among the two
168Gain=1
Gain=2
]
z
H
/
s
/
b
[
e
t
a
r
C
A
I
 30
 25
 20
 15
 10
 5
 4
 5
 6
 7
 8
 9
 10
 11
 12
 13
802.11-MIMO rate [b/s/Hz]
Figure 14: 1-client and 2-APs. The ﬁgure shows that IAC is beneﬁcial
even when the network has one active client. In this case, IAC provides
a diversity gain over 802.11-MIMO because it allows the client to choose
between downloading two concurrent packets from one of the two APs,
or using both APs concurrently, downloading one packet from each.
APs.9 IAC however has more options because it can exploit diversity
across APs; for example it can use one antenna from each AP or use
all four antennas together or any option in between.10
Experiment with 1-client and 2-APs. Every experiment uses one
random client and two APs. The client downloads 100 packets. We
compare an 802.11-MIMO design where the client downloads its
packets from the best AP (i.e., the AP that delivers the highest SNR
to the client) with a IAC design where the two APs cooperate on
downloading the packets to the client. Speciﬁcally, the leader AP
compares the following options: transmit one packet from each AP,
and transmit both packets from one of the two APs. It picks the option
that has a better throughput. In both 802.11-MIMO and IAC, two
packets are transmitted simultaneously in every timeslot.
Results for 1-client and 2-APs. Fig. 14 plots the increase in
download rate achieved with IAC in comparison with 802.11-MIMO.
The ﬁgure reveals the following:
• IAC is beneﬁcial even when the network has only one active client.
• IAC has a diversity gain over 802.11-MIMO. This is because
802.11-MIMO can choose only between APs, but IAC can ex-
ploit antenna diversity across APs.
• Diversity is particularly beneﬁcial at low rates (i.e., low SNRs),
where the rate could double with IAC. This is expected since having
two diverse choices typically gives an SNR improvement of about
1-3 dB [29]. This translates to high relative gains at low SNRs, but
relatively low gains at higher SNRs.
10.3
IAC in a Large Network