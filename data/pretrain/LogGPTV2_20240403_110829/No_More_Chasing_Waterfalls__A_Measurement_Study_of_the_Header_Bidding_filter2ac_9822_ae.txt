the rest, demonstrating that they invest appropriate resources to
reduce latencies at the user-end.
7.3 Late Bids: Revenue & Network Cost
The broadcasting nature of Header Bidding results in an enormous
amount of bid requests to multiple Demand Partners. As measured
in this study, a typical website has a small number of available
ad-slots (i.e., 2-6 ad-slots for the median case, depending on the
type of HB), but some auctions request for more ad-slots than they
have available to show (even up to 20). Side banner and top banner
are the most popular ad-slots auctioned in HB. For each ad-slot, a
parallel auction takes place that requests bids from numerous DSPs.
As expected, the more ad-slots present in a webpage, the higher the
overall HB latency: when 1-3 ad-slots are auctioned, the median
latency is 0.3-0.57 seconds, but for 3-5 slots, the median latency is
0.57-0.92 seconds.
This overwhelming volume of bid requests significantly increases
the needed processing power for ADXs and the decision engines
of DSPs, thus skyrocketing their infrastructure costs [17]. Indeed,
companies that started supporting HB experienced increases of up
to 100% in the bid requests they received [50] (i.e., between 5 million
and 6 million requests per second) for the very same number of
available ad-slots as before. Interestingly, the same partners may
in fact compete for the same ad-slots more than once: in the HB,
and then in the regular waterfall model, since the publisher may
still fall back to the waterfall if the HB does not reach high enough
prices for the auctioned slots [17].
Apart from skyrocketing the infrastructure costs, the increased
amount of bid requests also increases the response time for DSPs,
causing lots of delayed bids. We found that in more than 50% of
auctions, half of bid responses arrive too late (after the publisher’s
set threshold) to be considered, due to high latency. These late
bids not only are wasted network resources and processing power
from the point of view of the Demand Partners, but also loss of
potentially higher revenues for publishers.
292
7.4 Limitations & Future Work
The present work is a first, comprehensive study of the HB proto-
col, and an effort to measure the ecosystem and partners involved.
Unfortunately, HB documentation is scarce at best, and it has been
a feat to reverse-engineer the protocol, and understand the nu-
merous HB libraries used by the crawled websites. Due to several
limitations in the data collection process, in the present study, we
focused on specific dimensions and left others for future work. In a
follow-up work on HB, it is important to address the limitations of
our HBDetector, and also perform extensions to study aspects not
covered in this work:
• Perform extensive analysis of all available HB libraries, to in-
crease coverage of the ecosystem and websites employing HB.
• Study in detail the impact that HB has on the UX and page
load time of each website, as well as the various hosting in-
frastructures responsible for the crawled websites, locations of
Demand Partners involved, and categories of websites to find
associations with HB prices and latencies.
• Investigate the privacy of online users accessing HB-enabled
websites for potential PII leaks, and measure the impact that
HB may have on user anonymity, as well as the use of HTTP
vs. HTTPs for HB transactions.
ACKNOWLEDGEMENTS
We thank the anonymous reviewers and our shepherd Narseo Val-
lina Rodriguez, for the insightful comments and help to improve
the present manuscript. The research leading to these results has
received funding from EU Marie Sklodowska-Curie and Horizon
2020 Research & Innovation Programme under grant agreements
690972 and 786669, respectively. The paper reflects only the authors’
view and the Agency and the Commission are not responsible for
any use that may be made of the information it contains.
REFERENCES
[1] Gunes Acar, Christian Eubank, Steven Englehardt, Marc Juarez, Arvind
Narayanan, and Claudia Diaz. The web never forgets: Persistent tracking mecha-
nisms in the wild. In Proceedings of the 2014 ACM SIGSAC Conference on Computer
and Communications Security, 2014.
[2] Alessandro Acquisti, Leslie K John, and George Loewenstein. What is privacy
worth? The Journal of Legal Studies, 2013.
[3] Alexa. Alexa, the top sites on the web. https://www.alexa.com/topsites.
[4] Athanasios Andreou, Giridhari Venkatadri, Oana Goga, Krishna Gummadi,
Patrick Loiseau, and Alan Mislove. Investigating ad transparency mechanisms
in social media: A case study of facebook’s explanations. In Proceedings of the
Network and Distributed System Security Symposium (NDSS), 2018.
[5] Muhammad Ahmad Bashir, Sajjad Arshad, William Robertson, and Christo Wil-
son. Tracing information flows between ad exchanges using retargeted ads. In
25th USENIX Security Symposium, 2016.
[6] Muhammad Ahmad Bashir and Christo Wilson. Diffusion of user tracking data in
the online advertising ecosystem. Proceedings on Privacy Enhancing Technologies,
2018.
[7] Ross Benes. An ad tech urban legend: An oral history of how header bidding
became digital advertising’s hottest buzzword. https://digiday.com/media/header-
bidding-oral-history/, 2017.
[8] Ross Benes. How latency emerged as publishers’ worst user-experience
headache. https://digiday.com/media/latency-emerged-publishers-worst-user-
experience-headache/, 2017.
The
[9] Ross Benes.
bidding
4
charts.
in
state
of
header
https://digiday.com/media/state-header-bidding-4-charts/, 2017.
[10] Ricardo Bilton. With header bidding, publishers are boosting cpms by as much
as 50 percent. https://digiday.com/media/header-bidding-publishers-boosting-
cpms-much-50-percent/, 2015.
[11] Machmetrics Speed Blog.
for performance nerds.
https://www.machmetrics.com/speed-blog/average-page-load-times-websites-
2018/, 2018.
Site speed tips
[12] The Ad-Juster Blog. Key differences between direct-sold and programmatic
https://blog.ad-juster.com/differences-between-direct-sold-and-
advertising.
programmatic-advertising/, 2017.
[14] Chris_13.
[13] Juan Pablo Carrascal, Christopher Riederer, Vijay Erramilli, Mauro Cherubini,
and Rodrigo de Oliveira. Your browsing behavior for a big mac: Economics of
personal information online. In Proceedings of the Conference on World Wide Web
(WWW). ACM, 2013.
latency.
https://www.admonsters.com/opspov-how-header-bidders-affect-latency/, 2016.
[15] Jessica Davies. Beware of page latency: The side effects to header bidding.
https://digiday.com/uk/beware-page-latency-side-effects-header-bidding/, 2016.
[16] Jessica Davies. Behind the bid-caching debate, signs of ad tech commodi-
tization. https://digiday.com/media/behind-bid-caching-debate-signs-ad-tech-
commoditization/, 2018.
#opspov: How header
bidders
affect
[17] Jessica Davies.
The winners
and
losers
of header
bidding.
https://digiday.com/media/header-bidding-winners-losers/, 2018.
[18] Avin Dunaway. The truth about latency and the header: A chat with pubmatic.
[19] eMarketer
https://www.admonsters.com/truth-latency-header-pubmatic/, 2018.
header
bidding.
https://www.emarketer.com/content/five-charts-the-state-of-header-bidding,
2019.
charts: The
state
Five
Inc.
of
[20] Lauren
Fisher.
Header
bidding
update
2018.
https://www.emarketer.com/content/header-bidding-update-2018, 2018.
[21] Phillipa Gill, Vijay Erramilli, Augustin Chaintreau, Balachander Krishnamurthy,
Konstantina Papagiannaki, and Pablo Rodriguez. Follow the money: Under-
standing economics of online aggregation and advertising. In Proceedings of the
Internet Measurement Conference (IMC). ACM, 2013.
[22] José González Cabañas, Angel Cuevas, and Rubén Cuevas. Fdvt: Data valuation
tool for facebook users. In Proceedings of the 2017 CHI Conference on Human
Factors in Computing Systems. ACM, 2017.
2018 header bidding trends: The update you need
to read. https://www.mediapost.com/publications/article/332220/in-app-ads-
header-bidding-enjoy-solid-growth.html, 2018.
[23] Goodway Group.
[24] Google. Google publisher tag. https://developers.google.com/doubleclick-
[25] Kean Graham. What is a bid request? https://www.monetizemore.com/blog/what-
gpt/reference.
is-a-bid-request/, 2018.
[26] Goodway Group. 2018 header bidding trends: The update you need to read.
https://goodwaygroup.com/blog/2018-header-bidding-trends-update, 2018.
[27] The Interactive Advertising Bureau (IAB).
Openrtb (real-time bidding).
https://www.iab.com/guidelines/real-time-bidding-rtb-project/, 2019.
[28] Adzerk Inc. Header bidding industry index. https://adzerk.com/hbix/, 2019.
[29] Internet Archive.
archive: The wayback machine.
Internet
https://archive.org/web/, 2019.
[30] C. Iordanou, N. Kourtellis, J.M. Carrascosa, C. Soriente, R. Cuevas Rumin, and
N. Laoutaris. Beyond content analysis: Detecting targeted ads via distributed
counting. In Proceedings of the International Conference on emerging Networking
EXperiments and Technologies (CONEXT). ACM, 2019.
[31] Grégoire Jauvion, Nicolas Grislain, Pascal Dkengne Sielenou, Aurélien Garivier,
and Sébastien Gerchinovitz. Optimization of a ssp’s header bidding strategy
using thompson sampling. CoRR, abs/1807.03299, 2018.
explained, 2019.
[32] OKO Ad Managment. Ad waterfalls explained. https://oko.uk/blog/ad-waterfalls-
[33] Mozilla.
Mdn web
docs.
US/docs/Web/API/EventTarget/addEventListener.
https://developer.mozilla.org/en-
[34] Lukasz Olejnik and Claude Castelluccia. To bid or not to bid? measuring the
value of privacy in rtb. Technical Report, 2015.
[35] Lukasz Olejnik, Minh-Dung Tran, and Claude Castelluccia. Selling off user
In 21st Annual Network and Distributed System Security
privacy at auction.
Symposium, NDSS, 2014.
[36] Gavin O’Malley.
In-app ads, header bidding enjoy solid growth.
https://www.mediapost.com/publications/article/332220/in-app-ads-header-
bidding-enjoy-solid-growth.html, 2019.
[37] Michalis Pachilakis, Panagiotis Papadopoulos, Nikolaos Laoutaris, Evangelos P
Markatos, and Nicolas Kourtellis. Measuring ad value without bankrupting user
privacy. arXiv preprint arXiv:1907.10331, 2019.
[38] Panagiotis Papadopoulos, Nicolas Kourtellis, and Evangelos Markatos. Cookie
synchronization: Everything you always wanted to know but were afraid to ask.
In Proceedings of the World Wide Web Conference (WWW). ACM, 2019.
[39] Panagiotis Papadopoulos, Nicolas Kourtellis, and Evangelos P Markatos. The cost
of digital advertisement: Comparing user and advertiser views. In Proceedings of
the World Wide Web Conference (WWW). ACM, 2018.
[40] Panagiotis Papadopoulos, Nicolas Kourtellis, and Evangelos P. Markatos. Exclu-
sive: How the (synced) cookie monster breached my encrypted vpn session. In
Proceedings of the 11th European Workshop on Systems Security, EuroSec’18, pages
6:1–6:6, New York, NY, USA, 2018. ACM.
[41] Panagiotis Papadopoulos, Nicolas Kourtellis, Pablo Rodriguez Rodriguez, and
Nikolaos Laoutaris. If you are not paying for it, you are the product: How much
do advertisers pay to reach you? In Proceedings of the Internet Measurement
Conference (IMC). ACM, 2017.
[42] Wing Poon. Now that in-app header bidding is finally here, is the waterfall era
truly over? https://blog.appodeal.com/waterfall-parallel-bidding-part-one/, 2018.
http://prebid.org/dev-docs/publisher-api-
[43] Prebid. Publisher api reference.
reference.html.
The
year
Sluis.
header
[49] Sarah
[44] Prebid. Bidder params. http://prebid.org/dev-docs/bidders.html, 2019.
[45] Prebid.org. Prebid - header bidding unwrapped. http://prebid.org, 2017.
[46] Abbas Razaghpanah, Rishab Nithyanand, Narseo Vallina-Rodriguez, Srikanth
Sundaresan, Mark Allman, and Christian Kreibich Phillipa Gill. Apps, trackers,
privacy, and regulators. In Proceedings of the Network and Distributed System
Security Symposium, NDSS’18, 2018.
[47] Christopher Riederer, Vijay Erramilli, Augustin Chaintreau, Balachander Krish-
namurthy, and Pablo Rodriguez. For sale : Your data: By : You. In Proceedings of
the 10th ACM Workshop on Hot Topics in Networks, 2011.
[48] Quirin Scheitle, Oliver Hohlfeld, Julien Gamba, Jonas Jelten, Torsten Zimmer-
mann, Stephen D. Strowes, and Narseo Vallina-Rodriguez. A long way to the
top:, significance, structure, and stability of internet top lists. In Proceedings of
the Internet Measurement Conference (IMC). ACM, 2018.
bidding went mainstream.
https://adexchanger.com/publishers/year-header-bidding-went-mainstream/,
2016.
[50] Sarah Sluis. Header bidding unleashed a huge infrastructure problem and ad tech
will either sink or swim. https://adexchanger.com/platforms/header-bidding-
unleashed-huge-infrastructure-problem-ad-tech-will-either-sink-swim/, 2017.
[51] Jacopo Staiano, Nuria Oliver, Bruno Lepri, Rodrigo de Oliveira, Michele Caraviello,
and Nicu Sebe. Money walks: A human-centric study on the economics of
personal mobile data. In Proceedings of the ACM International Joint Conference
on Pervasive and Ubiquitous Computing, 2014.
[52] Statista. Growth rates of monetized header bidding advertising impres-
sions volume worldwide from 1st quarter 2017 to 3rd quarter 2018, by de-
vice. https://www.statista.com/statistics/812228/header-bidding-ad-impression-
change/, 2019.
[53] Narseo Vallina-Rodriguez, Srikanth Sundaresan, Abbas Razaghpanah, Rishab
Nithyanand, Mark Allman, Christian Kreibich, and Phillipa Gill. Tracking the
trackers: Towards understanding the mobile advertising and tracking ecosystem.
arXiv preprint arXiv:1609.07190, 2016.
Header bidding: What marketers need to know.
https://marketingland.com/header-bidding-marketers-need-know-199311, 2017.
[55] Ted Vrountas. Simplifying the header bidding process & what marketers should
[54] Ratko Vidakovic.
know. https://instapage.com/blog/what-is-header-bidding, 2018.
[56] Apostolis Zarras, Alexandros Kapravelos, Gianluca Stringhini, Thorsten Holz,
Christopher Kruegel, and Giovanni Vigna. The dark alleys of madison avenue: Un-
derstanding malicious advertisements. In Proceedings of the Internet Measurement
Conference (IMC). ACM, 2014.
293