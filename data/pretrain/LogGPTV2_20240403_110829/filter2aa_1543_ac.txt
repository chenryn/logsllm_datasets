221
AWS CAF
222
Security perspective
223
Directive component
223
Preventive component
223
Detective component
224
Responsive component 
224
Summary
224
[ viii ]
Index
225
Preface
Security in information technology is considered a nerdy or geeky topic, reserved for
technologists who know about the nitty-gritty of networks, packets, algorithms, and so on
for years. With organizations moving their workloads, applications, and infrastructure to
the cloud at an unprecedented pace, security of all these resources has been a paradigm
shift for all those who are responsible for security; experts, novices, and apprentices alike.
AWS provides many controls to secure customer workloads and quite often customers are
not aware of their share of security responsibilities, and the security controls that they need
to own and put in place for their resources in the AWS cloud. This book aims to resolve this
problem by providing detailed information, in easy-to-understand language, supported by
real-life examples, figures, and screenshots, for all you need to know about security in
AWS, without being a geek or a nerd and without having years of experience in the security
domain! 
This book tells you how you can enable continuous security, continuous auditing, and
continuous compliance by automating your security in AWS; with tools, services, and
features provided by AWS. By the end of this book, you will understand the complete
landscape of security in AWS, covering all aspects of end-to-end software and hardware
security along with logging, auditing, and the compliance of your entire IT environment in
the AWS cloud. Use the best practices mentioned in this book to master security in your
AWS environment.
What this book covers
Chapter 1, Overview of Security in AWS, introduces you to the shared security responsibility
model, a fundamental concept to understand security in AWS. As well as this, it introduces
you to the security landscape in AWS.
Chapter 2, AWS Identity and Access Management, walks you through the doorway of all
things about security in AWS, access control, and user management. We learn about
identities and authorizations for everything in AWS in great detail in this chapter.
Chapter 3, AWS Virtual Private Cloud, talks about creating and securing our own virtual
network in the AWS cloud. This chapter also introduces you to the various connectivity
options that AWS provides to create hybrid cloud, public cloud, and private cloud
solutions.
Preface
[ 2 ]
Chapter 4, Data Security in AWS, talks about encryption in AWS to secure your data in rest
and while working with AWS data storage services.
Chapter 5, Securing Servers in AWS, explains ways to secure your infrastructure in AWS by
employing continuous threat assessment, agent-based security checks, virtual firewalls for
your servers, and so on.
Chapter 6, Securing Applications in AWS, introduces you to ways to secure all your
applications developed and deployed in the AWS environment. This chapter walks you
through the web application firewall service, as well as securing a couple of AWS services
used by developers for web and mobile application development.
Chapter 7, Monitoring in AWS, provides a deep dive into the monitoring of your resources
in AWS, including AWS services, resources, and applications running on the AWS cloud.
This chapter helps you to set up monitoring for your native AWS resources along with your
custom applications and resources.
Chapter 8, Logging and Auditing in AWS, helps you to learn ways to stay compliant in the
AWS cloud by logging and auditing all that is going on with your AWS resources. This
chapter gives you a comprehensive, hands-on tour of logging and auditing all the services
to achieve continuous compliance for your AWS environment.
Chapter 9, AWS Security Best Practices, walks you through best practices in a consolidated
form for securing all your resources in AWS. Ensure that these best practices are followed
for all your AWS environments!
What you need for this book
You will need to sign up for the AWS Free Tier account available at https:/​/​aws.​amazon.
com/​free/​ for this book. That is all you need, an AWS Free Tier account and the basic
understanding of AWS foundation services, such as AWS Simple Storage Service, Amazon
Elastic Compute Cloud, and so on.
Who this book is for
This book is for all IT professionals, system administrators, security analysts, and chief
information security officers who are responsible for securing workloads in AWS for their
organizations. It is helpful for all solutions architects who want to design and implement
secure architecture on AWS by following the security by design principle. This book is
helpful for people in auditing and project management roles to understand how they can
audit AWS workloads and how they can manage security in AWS respectively.
Preface
[ 3 ]
If you are learning AWS or championing AWS adoption in your organization, you should
read this book to build security into all your workloads. You will benefit from knowing
about the security footprint of all major AWS services for multiple domains, use cases, and
scenarios.
Conventions
In this book, you will find a number of styles of text that distinguish between different
kinds of information. Here are some examples of these styles, and an explanation of their
meaning.
Code words in text, database table names, folder names, filenames, file extensions,
pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "Amazon
EC2 key pair that is stored within AWS is appended to the initial operating system
user’s ~/.ssh/authorized_keys file".
A block of code is as follows:
{
 "Version": "2012-10-17",
 "Statement": [
 {
 "Effect": "Allow",
 "Action": "ec2:Describe*",
 "Resource": "*"
 }
]
}
New terms and important words are shown in bold. Words that you see on the screen, in
menus or dialog boxes for example, appear in the text like this: "Statistic chosen
is Average and the period is 5 Minutes:"
Warnings or important notes appear like this
Tips and tricks appear like this.
Preface
[ 4 ]
Readers feedback
Feedback from our readers is always welcome. Let us know what you think about this
book-what you liked or disliked. Reader feedback is important for us as it helps us develop
titles that you will really get the most out of.
To send us general feedback, simply email PI:EMAIL, and mention the
book's title in the subject of your message.
If there is a topic that you have expertise in and you are interested in either writing or
contributing to a book, see our author guide at www.packtpub.com/authors.
Customer support
Now that you are the proud owner of a Packt book, we have a number of things to help you
to get the most from your purchase.
Downloading the color images of this book
We also provide you with a PDF file that has color images of the screenshots/diagrams used
in this book. The color images will help you better understand the changes in the output.
You can download this file from https:/​/​www.​packtpub.​com/​sites/​default/​files/
downloads/​MasteringAWSSecurity_​ColorImages.​pdf.
Errata
Although we have taken every care to ensure the accuracy of our content, mistakes do
happen. If you find a mistake in one of our books-maybe a mistake in the text or the code-
we would be grateful if you could report this to us. By doing so, you can save other readers
from frustration and help us improve subsequent versions of this book. If you find any
errata, please report them by visiting http://www.packtpub.com/submit-errata, selecting
your book, clicking on the Errata Submission Form link, and entering the details of your
errata. Once your errata are verified, your submission will be accepted and the errata will
be uploaded to our website or added to any list of existing errata under the Errata section of
that title.
To view the previously submitted errata, go to
https://www.packtpub.com/books/content/support and enter the name of the book in the
search field. The required information will appear under the Errata section.
Preface
[ 5 ]
Piracy
Piracy of copyrighted material on the Internet is an ongoing problem across all media. At
Packt, we take the protection of our copyright and licenses very seriously. If you come
across any illegal copies of our works in any form on the Internet, please provide us with
the location address or website name immediately so that we can pursue a remedy.
Please contact us at PI:EMAIL with a link to the suspected pirated
material.
We appreciate your help in protecting our authors and our ability to bring you valuable
content.
Questions
If you have a problem with any aspect of this book, you can contact us at
PI:EMAIL, and we will do our best to address the problem.
1
Overview of Security in AWS
AWS provides many services, tools and methods such as access control, firewall,
encryption, logging, monitoring, compliance, and so on to secure your journey in cloud.
These AWS services supports plethora of use cases and scenarios to take end to end care of
all your security, logging, auditing and compliance requirement in cloud environment.
There is AWS Identity and Access Management (IAM) service that allows you to control
access and actions for your AWS users and resources securely, Virtual Private Cloud (VPC)
allows you to secure your infrastructure in AWS cloud by creating a virtual network similar
to your own private network in your on premises data center.
Moreover, there are web services such as Key Management Services (KMS) that facilitates
key management and encryption for protecting your data at rest and in transit. There is
AWS Shield and AWS Web Application Firewall (WAF) to protect your AWS resources
and applications from common security threats such as Distributed Denial of Service
(DDoS) by configuring firewalls at various levels.
AWS Config along with AWS CloudTrail and AWS CloudWatch supports logging, auditing
and configuration management for all your AWS resources. AWS Artifact is a managed
self-service that gives you compliance documents on demand for all your compliance
requirements from your auditor.
This book aims to explain the preceding mentioned services, tools, and methods to enable
you in automating all security controls using services provided by AWS such as AWS
Lambda, AWS Simple Notification Service (SNS), and so on. We will learn how
compliance is different from security. We will learn about how security can be implemented
as a continuous activity instead of a periodic activity and how we can achieve continuous
compliance by using AWS services. This chapter will give you an overview of security in
Amazon Web Services, popularly known as AWS or AWS cloud. We'll learn about the
shared security responsibility model of AWS that lies at the very foundation of AWS
Security. 
Overview of Security in AWS
[ 7 ]
Chapter overview
In this chapter, we will learn about security in AWS cloud. We will learn about security
processes in place to secure all workloads deployed in AWS environment. We will begin by
exploring AWS shared security responsibility model, a primer for all thing security in AWS.
To secure anything, we first need to know who is responsible for security. We will deep
dive into this fundamental principle of AWS Security to know about security
responsibilities of AWS and users of AWS services for various models that AWS offers to all
its customers.
Moving on, we will go through AWS Security responsibilities in detail across multiple
verticals such as physical security, network security, and so on. We will also go through
various processes AWS has put in place to ensure business continuity and seamless
communication in event of an incident. Alongside, we will walk through customer security
responsibilities for all workloads deployed in AWS cloud. This will include things such as
protecting credentials, data security, access control, and so on.
Furthermore, we will go through security features of your AWS account.
Next, we will go through overview of all security services and features provided by AWS
such as KMS, CloudWatch, Shield, CloudTrail, penetration testing, and so on.
Lastly, we will go through various resources available in AWS for learning more about
these security services and features. These resources include AWS documentation, white
papers, blogs, tutorials, solutions, and so on.
AWS shared security responsibility model
AWS and cloud in general have evolved considerably from the time when security in cloud
was seen as an impediment to moving your data, applications, and workload to cloud to
today when security in cloud is one of the major reasons organizations are moving from
data centers to cloud. More and more executives, decision makers, and key stakeholders are
vouching that security in cloud is further ahead, and more reliable and economical than
security in on-premise data centers. These executives and decision makers are from
multiple geographies, and various industries with stringent security requirements and
regulatory compliance such as Department of Defense, Banking, Health Care, Payment
Card Industry, and so on, and belong to all levels such as CIO, CTO, CEO, CISO, System
Administrators, Project Managers, Developers, Security Analysts, and so on.
Overview of Security in AWS
[ 8 ]
As a result, cloud adoption rate has been rapidly increasing for the past few years across the
globe and across industries. This trend is led by large enterprises where security plays a
pivotal role in deciding if an enterprise should move to the cloud or not. AWS provides
fully integrated and unified security solutions for its cloud services that enables its
customers to migrate their workloads to cloud. Let us look at some predictions for the
exponential growth of Cloud Computing by industry leaders:
Gartner says that by 2020, a corporate no-cloud policy will be as rare as the no-
internet policy today. 
Global Cloud Index (GCI) forecasts that cloud will account for 92% of the data
center by 2020, meaning 92% of all data and computing resources will be using
cloud by 2020.
International Data Corporation (IDC) says that today's cloud first strategy is
already moving the towards cloud.
AWS is architected to be one of the most flexible and secure cloud environments. It removes
most of the security burdens that are traditionally associated with IT infrastructure. AWS
ensures complete customer privacy and segregation of customer resources and has scores of
built-in security features. Moreover, every customer benefits from the security processes,
global infrastructure and network architecture put in place by AWS to comply with
stringent security and compliance requirements by thousands of customers across the globe
from scores of industries.
As more and more organizations move towards cloud, security in cloud has been more of a
paradigm shift for many. Even though for the most part, security that is provided in cloud
has most of the same functionalities as security in traditional IT, such as protecting
information from theft, data leakage, and deletion. 
However, security in the cloud is in fact slightly different to security in an on-premises data
center. When you move servers, data and workload to AWS cloud, responsibilities are
shared between you and AWS for securing your data and workload. AWS is responsible for
securing the underlying infrastructure that supports the cloud through its global network of
regions, availability zones, edge locations, end points, and so on, and customers are
responsible for anything they put on the cloud such as their data, their application, or
anything that they connect to the cloud such as the servers in their data centers. They are
also responsible for providing access to their virtual network and resources in cloud, this
model is known as AWS shared security responsibility model.
Overview of Security in AWS
[ 9 ]
 The following figure depicts this model:
Figure 1 - AWS shared security responsibility model
In order to master AWS Security, it is imperative for us to identify and understand AWS'
share of security responsibilities as well as our share of security responsibilities before we
start implementing them. AWS offers a host of different services that can be distributed in
three broad categories: infrastructure, container, and abstracted services. Each of
these categories has its own security ownership model based on how end users interact
with it and how the functionality is accessed:
Infrastructure Services: This category includes compute services such as
Amazon Elastic Cloud Compute (EC2) and associated services, such as Amazon
Elastic Block Store (EBS), Elastic Load Balancing, and Amazon Virtual Private
Cloud (VPC). These services let you design and build your own secure and 
private network on cloud with infrastructure similar to your on-premises
solutions. This network in AWS cloud is also compatible and can be integrated
with your on-premises network. You control the operating system, configure the
firewall rules and operate any identity management system that provides access
to the user layer of the virtualization stack.
Overview of Security in AWS
[ 10 ]
Container Services: There are certain AWS services that run on separate Amazon
EC2 or other infrastructure instances but at times you don’t manage the operating
system or the platform layer. AWS offers these services in a managed services
model for these application containers. You are responsible for configuring
firewall rules, allowing access to your users and systems for these services using
AWS Identity and Access Management (IAM) among other things. These
services include AWS Elastic Beanstalk, Amazon Elastic Map Reduce (EMR) and
Amazon Relational Database Services (RDS).
Abstracted Services: These are AWS services that abstract the platform or
management layer. These are messaging, email, NoSQL database, and storage
services on which you can build and operate cloud applications. These services
are accessed through endpoints by using AWS APIs. AWS manages the
underlying service components or the operating system on which they reside.
You share the underlying infrastructure that AWS provides for these abstracted
services. These services provide a multi-tenant platform which isolates your data
from other users. These services are integrated with AWS IAM for secure access
and usage. These services include Simple Queue Service, Amazon DynamoDB,
SNS, Amazon Simple Storage Service (S3), and so on.
Let us look at these 3 categories in detail along with their shared security responsibility
models:
Shared responsibility model for infrastructure
services
AWS global infrastructure powers AWS infrastructure services such as Amazon EC2,
Amazon VPC and Amazon Elastic Block Storage (EBS). These are regional services; that is,
they operate within the region where they have been launched. They have different
durability and availability objectives. However, it is possible to build systems
exceeding availability objectives of individual services from AWS. AWS provides multiple
options to use various resilient components in multiple availability zones inside a region to
design highly available systems.
Overview of Security in AWS
[ 11 ]
The following figure shows this model:
Figure 2 - Shared responsibility model for infrastructure services
Building on the AWS secure global infrastructure, similar to your on-premises data centers,
you will install, configure, and manage your operating systems and platforms in the AWS
cloud. Once you have your platform, you will use it to install your applications and then
you will store your data on that platform. You will configure the security of your data such
as encryption in transit and at rest. You are responsible for managing how your
applications and end users consume this data. If your business requires more layers of
protection due to compliance or other regulatory requirements, you can always add it on
top of those provided by AWS global infrastructure security layers. 
These layers of protection might include securing data at rest by using encryption, or
securing data in transit or by introducing additional layer of opacity between AWS services
and your platform. This layer could includes secure time stamping, temporary security
credentials, data encryption, software and passing digital signature in your API requests
and so on.
AWS provides tools and technologies that can be used to protect your data at rest and in
transit. We'll take a detailed look at these technologies in Chapter 4, Data Security in AWS.
Overview of Security in AWS
[ 12 ]
When you launch a new Amazon Elastic Cloud Compute (EC2) instance from a standard
Amazon Machine Image (AMI), you can access it using the secure remote system access
protocols, such as Secure Shell (SSH) for a Linux instance or Windows Remote Desktop
Protocol (RDP) for a Windows instance. To configure your EC2 instance as per your
requirements and to access it, you are required to authenticate at the operating-system level.
Once you have authenticated at the operating system level, you'll have secure remote access
to the Amazon EC2 instance. You can then set up multiple methods to authenticate
operating systems such as Microsoft Active Directory, X.509 certificate authentication, or
local operating system accounts.
AWS provides Amazon EC2 key pairs that consist of two different keys, a public key and a
private key. These RSA key pairs are the industry standard and used for authentication to