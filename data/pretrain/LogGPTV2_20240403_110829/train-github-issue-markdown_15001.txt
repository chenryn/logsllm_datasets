**I'm submitting a ...** (check one with "x")
    [X ] bug report => search github for a similar issue or PR before submitting
    [ ] feature request
    [ ] support request => Please do not submit support request here, instead see https://github.com/angular/angular/blob/master/CONTRIBUTING.md#question
**Current behavior**  
This line here calls '.callFn'. In a unit test, the DynamicTestModule
module.ngfactory.js output will be `jit_NgModuleInjector0.call(this,
parent,[],[]);`. This fails because NgModuleInjector is a class and needs to
be called with 'new'.
**Expected behavior**  
I believe '.instantiate' instead of '.callFn' needs to be called in some
cases.
**Minimal reproduction of the problem with instructions**
See the plunk in #14808, however that issue currently blocks reproduction of
this issue. If you modify the `useFactory: () => ...` to `useFactory: function
(...` to bypass that issue, this issue should be the next one you hit. I tried
to put up a gist for a modified compiler.js, but github doesn't seem to like
the theta char used for the internal exports.
  * **Angular version:** 4.0.0-rc.1
  * **Browser:** [chrome]
  * **Language:** [ES6]