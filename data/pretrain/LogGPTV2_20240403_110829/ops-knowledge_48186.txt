User: How to use Nagios to monitor the system resource utilization of multiple servers, and send an alarm notification when the resource utilization exceeds the set threshold?
Assistant: The following are the steps to use Nagios to monitor the system resource utilization of multiple servers and send an alarm notification when the resource utilization exceeds the set threshold: 1. Install Nagios Core and configure the basic settings of Nagios Core, including monitoring hosts and services . 2. Install Nagios plug-ins on each server that needs to be monitored, such as: check_cpu, check_memory, check_disk, check_ssh, etc. 3. Configure the service definition of Nagios Core to monitor the system resource utilization of each server. For example: define service{ use generic-service host_name server1 service_description CPU Utilization check_command check_nrpe!check_cpu } 4. Configure the service template of Nagios Core, including the alarm threshold and notification method. For example: define service{ name generic-service active_checks_enabled 1 passive_checks_enabled 1 parallelize_check 1 obsess_over_service 1 check_freshness 0 notifications_enabled 1 notification_interval 0 ; set > 0 if you want to be renotified notification_period 24 x7 notification_options c,r check_period 24x7 max_check_attempts 3 normal_check_interval 5 retry_check_interval 1 contact_groups admins register 0 } 5. Configure the notification method of Nagios Core, including email and SMS notification. For example: define contact { contact_name nagiosadmin ; use generic-contact ; alias Nagios Admin ; email nagios@localhost ; pager 1234567890@sms.provider.com ; } 6. Start Nagios Core, wait for monitoring data collection, and when the system resource utilization exceeds When the threshold is set, an alarm notification will be sent by email and SMS notification.