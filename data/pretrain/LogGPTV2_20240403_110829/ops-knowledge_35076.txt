User: To deploy a set of web servers using Ansible, please provide an Ansible Playbook.
Assistant: Below is a simple example Ansible Playbook for deploying a set of web servers. --- - hosts: webservers become: true vars: - http_port: 80 - https_port: 443 - web_root: "/var/www" - vhost_config_dir: "/etc/httpd/conf.d" tasks: - name: Install Apache yum : name: httpd state: present - name: Start Apache service: name: httpd state: started enabled: true - name: Create web directory file: path: "{{ web_root }}" state: directory owner: apache group: apache - name: Create virtual host config file template: src: vhost.conf.j2 dest: "{{ vhost_config_dir }}/my_website.conf" notify: - Reload Apache handlers: - name: Reload Apache service: name: httpd state: restarted - -- Description: - `hosts: webservers`: Specifies the target host group. - `become: true`: Indicates that the task is run as sudo. - `vars:`: defines some variables. - `tasks:`: Specifies a set of tasks. - The first task, install Apache using yum. - The second task, start Apache and set it to start on boot. - The third task, create the web root directory and authorize it to the Apache user. - The fourth task, using a template to generate a virtual host configuration file. - `handlers:`: specifies a handler task, and notifies it after the template task is completed, used to restart Apache to make the configuration take effect.