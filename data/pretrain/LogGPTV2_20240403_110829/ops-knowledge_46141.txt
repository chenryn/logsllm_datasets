User: How to configure the firewall through iptables to protect the security of the server?
Assistant: The following are the steps to protect server security by configuring the firewall through iptables: 1. Check the current iptables rules first, and enter the command: iptables -L 2. First adopt a defensive strategy and reject all inbound connections, the command is as follows: iptables -P INPUT DROP 3. For the established connection, allow it to transmit data, the command is as follows: iptables -A INPUT -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT 4. Allow the connection of ssh port, the default port of SSH is 22, if it is not 22, please Change 22 here, the command is as follows: iptables -A INPUT -p tcp --dport 22 -j ACCEPT 5. Allow HTTP and HTTPS connections, HTTP default port is 80, HTTPS default port is 443, the command is as follows: iptables -A INPUT -p tcp --dport 80 -j ACCEPT iptables -A INPUT -p tcp --dport 443 -j ACCEPT 6. Limit the ping command and prohibit the ping server, which can prevent the server from being attacked by ping flood. The command is as follows: iptables -A INPUT -p icmp --icmp-type 8 -j DROP 7. Add in the last line to allow local access to the external network and output traffic, the command is as follows: iptables -A OUTPUT -j ACCEPT 8. Save the iptables rules to make them permanent The next time the server starts, the rules will still be valid. The command is as follows: iptables-save > /etc/sysconfig/iptables The above are some basic firewall configuration commands, which can be added, deleted or modified according to actual needs. At the same time, it is recommended that each user perform different settings according to their own application scenarios.