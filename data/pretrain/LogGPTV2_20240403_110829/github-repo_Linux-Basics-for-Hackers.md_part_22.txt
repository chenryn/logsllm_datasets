\#
\# strict_chain
\#
\# Strict ­ Each connection will be done via chained proxies
\# all proxies chained in the order as they appear in the list
\# all proxies must be online to play in chain
\# otherwise EINTR is returned to the app
\#
random_chain
\# Random ­ Each connection will be done via random proxy
\# (or proxy chain, see chain_len) from the list.
\# this option is good to test your IDS :)
\# Makes sense only if random_chain
chain_len = 3
在这里，我已经取消了chain_len的注释，并将其赋值为3，这意味着proxychain现在将使用/etc/proxychain
.conf文件中我的列表中的三个代理，随机选择它们，并在代理关闭时转移到下一个代理。请注意，虽然这种方法肯定会增强匿名性，但也会增加在线活动的延迟。
现在您已经知道如何使用proxychain，您可以在相对匿名的情况下进行黑客攻击。我说“相对”，是因为在NSA和FSB（美国国家安全局和联邦安全局）监视我们的网络活动的情况下，没有绝对可靠的方法来保持匿名，但我们可以借助proxychain来更有效地进行侦查。
#### *安全问题*
关于代理安全性的最后一个注意事项是，一定要明智地选择您的代理：proxychains只与您使用的代理一样好。如果您希望保持匿名，请不要使用前面提到的免费代理。黑客使用可信任的付费代理。事实上，免费代理很可能会出售你的IP地址和浏览历史。正如著名密码学家和安全专家布鲁斯施奈尔(Bruce
Schneier)曾经说过的，“如果有些东西是免费的，那么你就不是客户的产品，你就是它的用户。”换句话说，任何免费产品都有可能收集你的数据并出售。不然他们为什么要免费提供代理呢?
虽然您离开代理的流量的IP地址是匿名的，但是监视机构可以通过其他方式识别您。例如，代理的所有者将知道您的身份，如果受到足够的间谍或有管辖权的执法机构的压力，可能会提供您的身份来保护他们的业务。了解代理作为匿名来源的局限性是很重要的。
### 虚拟专用网络
使用虚拟专用网(VPN)是保持您的web流量相对匿名和安全的有效方法。VPN用于连接到一个中间的互联网设备，例如路由器，它将您的流量发送到其最终目的地，并使用该路由器的IP地址进行标记。
使用VPN当然可以增强您的安全性和隐私，但它不能保证匿名。您所连接的互联网设备必须记录或记录您的IP地址，以便能够正确地将数据发送回您，这样任何能够访问这些记录的人都可以发现关于您的信息。
VPN的优点是简单易用。您可以在VPN提供商那里开户，然后在每次登录计算机时无缝连接VPN。您可以像往常一样使用浏览器来浏览web，但是任何人看到您的流量来自互联网
VPN设备的IP地址和位置，而不是您自己的。另外，您与VPN设备之间的所有通信都是加密的，所以即使您的互联网服务提供商也看不到您的通信。
除此之外，VPN可以有效地规避政府控制的内容和信息审查。例如，如果您的国家政府限制您访问具有特定政治信息的网站，您可以使用您所在国家/地区以外的VPN来访问该内容。
一些媒体公司，如Netflix，Hulu和HBO，将其内容的访问权限限制为源自其本国的IP地址。在这些服务允许的国家/地区使用VPN通常可以帮助您解决这些访问限制。
根据CNET，一些最好和最受欢迎的商业VPN服务如下：
-   IPVanish
-   NordVPN
-   ExpressVPN
-   CyberGhost
-   Golden Frog VPN
-   Hide My Ass (HMA)
-   Private Internet Access
-   PureVPN
-   TorGuard
-   Buffered VPN
大多数VPN服务每年收费50 -
100美元，许多还提供30天免费试用期。要了解如何设置VPN的更多信息，请从列表中选择一个并访问该网站。您应该可以找到非常容易遵循的下载、安装和使用说明。
VPN的优点是所有流量在离开计算机时都是加密的，从而保护您不受窥探，当您访问一个站点时，您的IP地址被VPN
IP地址所掩盖。与代理服务器一样，VPN的所有者拥有您的原始IP地址(否则他们无法将您的流量发回给您)。如果他们受到间谍机构或执法部门的压力，他们可能会放弃你的身份。防止这种情况的一种方法是只使用承诺不存储或记录任何此类信息的vpn(并希望它们是真实的)。这样，如果有人坚持要求VPN服务提供商将数据交给用户，那么就没有数据。
### 加密的电子邮件
免费的商业电子邮件服务，如Gmail，雅虎!，Outlook Web
Mail(前身为Hotmail)的免费是有原因的：它们是追踪你的兴趣和提供广告的工具。如前所述，如果服务是免费的，那么您就是产品，而不是客户。此外，电子邮件提供者的服务器(例如谷歌)可以访问电子邮件的未加密内容，即使您使用HTTPS。
防止窃听你的电子邮件的一个方法是使用加密的电子邮件。ProtonMail，如图13-5所示，从一端加密到另一端或从一个浏览器加密到另一个浏览器。这意味着您的电子邮件是在ProtonMail服务器上加密的，即使是ProtonMail管理员也无法读取您的电子邮件。
ProtonMail是由一群年轻的科学家在瑞士欧洲核子研究中心（CERN）的超级对撞机设施工厂建立的。瑞士在保护机密方面有着悠久而传奇的历史(还记得你经常听说的那些瑞士银行账户吗?)
ProtonMail的服务器位于欧盟，该网络在分享个人数据方面有着比美国法律更为严格的法律规定。ProtonMail不收取基本帐户，但提供保费帐户象征性的费用。需要注意的是，在与非protonmail用户交换电子邮件时，可能有部分或全部电子邮件没有加密。有关详细信息，请参见ProtonMail支持知识库。
![](media/daed19a4c3611d9c919ee79c3922e106.jpg)
*图13-5：ProtonMail登录界面*
### 总结
我们不断受到商业公司和国家情报机构的监视。为了保证数据和web传输的安全性，您需要实现本章中讨论的至少一种安全措施。通过组合使用它们，您可以最大限度地减少在Web上的占用空间并使数据更加安全。
14
--
理解和检查无线网络
------------------
UNDERSTANDING AND INSPECTING WIRELESS NETWORKS
![](media/451fdbee142e8cd4684d71b24707d050.jpg)
从你的系统扫描和连接到其他网络设备的能力对于成为一名成功的黑客至关重要，并且随着WiFi（IEEE
802.1）和蓝牙等无线技术成为标准，寻找和控制WiFi和蓝牙连接是关键。如果有人可以破解无线连接，他们可以进入设备并访问机密信息。当然，第一步是学习如何找到这些设备。
在第3章中，我们研究了Linux中的一些基本网络命令，包括无线网络的一些基本原理，并承诺在第14章中提供更多的无线网络知识。正如所承诺的，这里我们将研究两种Linux最常见的无线技术：WiFi和蓝牙。
### WI-FI 网络
我们先从Wi-Fi开始。在本节中，我将向您展示如何查找、检查和连接Wi-Fi接入点。在进行此操作之前，让我们花点时间了解一些基本的Wi-Fi术语和技术，以帮助您更好地了解我们将在本章中进行的大量查询的输出：
**AP (access point)** 这是无线用户连接到互联网的设备。
**ESSID (extended service set identifier)** 这和我们在第三章讨论到的 SSID
相同，不过它可以用于无线局域网中的多个AP中。
**BSSID (basic service set identifier)**
这是每个AP的唯一标识符，与设备的MAC地址相同。
**SSID (service set identifier)** 这是网络的名称。
**Channels**
Wi­Fi可以在14个信道（1-14）中的任何一个信道上工作。在美国，Wi-Fi被限制在信道1到11。
**Power** 你距离 WI-Fi AP越近,功率越大，连接越容易破解。
**Security** 这是正在读取的WiFi AP上使用的安全协议。 WiFi有三种主要的安全协议。
最初的有线等效保密（WEP）存在严重缺陷，容易破解。
它的替代品，WiFi保护访问（WPA），更安全一点。
最后，WPA2-PSK更加安全并且使用所有用户共享的预共享密钥（PSK），现在几乎所有WiFi
AP（企业WiFi除外）都使用它。
**Modes** Wi­Fi可以在三种模式下切换：managed, master,
或者monitor。你将在下一节中了解这些模式的含义。
**Wireless range** 在美国，Wi-Fi AP必须合法地以0.5瓦的上限广播其信号。
在此功率下，它具有约300英尺（100米）的正常范围。
Highgain天线可以将此范围扩展到20英里。
**Frequency** Wi­Fi被设计用于2.4GHz和5GHz。 现代Wi-Fi
AP和无线网卡经常使用这两者。
#### *基本无线网络命令*
在第3章中，我们介绍了基本的Linux网络命令ifconfig，它列出了系统上每个激活的网络接口以及一些基本统计信息，包括（最重要的）每个接口的IP地址。让我们再看看运行ifconfig的结果，这次重点关注无线连接。
kali \>ifconfig
eth0Linkencap:EthernetHWaddr 00:0c:29:ba:82:0f
inet addr:192:168.181.131 Bcast:192.168.181.255 Mask:255.255.255.0
­­snip­­
lo Linkencap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
­­snip­­
➊ wlan0 Link encap:EthernetHWaddr 00:c0:ca:3f:ee:02
这里的Wi-Fi接口显示为 wlan0 ➊。在Kali Linux中，Wi-Fi接口通常被指定为wlanX，X
代表该接口的编号。换句话说，系统上的第一个Wi-Fi适配器将标记为wlan0，第二个是wlan1，依此类推。
如果您只想查看Wi-Fi接口及其统计数据，Linux有一个与 ifconfig
类似但专用于无线的特定命令。这个命令是iwconfig。输入时，仅显示无线接口及其关键数据：
kali \>iwconfig
lo no wireless extensions
wlan0 IEEE 802.11bg ESSID:off/any
Mode:Managed Access Point:Not­Associated Tx­Power=20 dBm
Retry short limit:7 RTS thr:off Fragment thr:off
Encryption key:off
Power Management:off
eth0 no wireless extensions
在这里，我们只看到无线接口（也称为网卡）及其关键数据，包括使用的无线标准、ESSID是否关闭以及模式。该模式有三个设置：*managed*，这意味着它已准备好加入或已加入AP；*master*，这意味着它已准备好充当或已经加入AP；以及*monitor*，我们将在章节稍后讨论。我们还可以看到是否有任何客户端与之相关联，以及它的传输功率是什么，等等。从这个例子可以看出，wlan0处于连接Wi-Fi网络所需的模式，但尚未连接到任何网络。一旦无线接口连接到Wi-Fi网络，我们将再次访问此命令。
如果您不确定要连接哪一个Wi-Fi
AP，可以使用iwlist命令查看您的网卡可以访问的所有无线接入点。iwlist的语法如下：
iwlist interface action
你可以使用iwlist执行多个操作。出于我们的目的，我们将使用扫描操作来查看您所在地区的所有Wi-Fi
AP。（请注意，使用标准天线，您的范围将为300-500英尺，但这可以通过廉价的高增益天线来扩展。）
kali \>iwlist wlan0 scan
wlan0 Scan completed:
Cell 01 ­ Address:88:AD:43:75:B3:82
Channel:1
Frequency:2.412GHz (Channel 1)
Quality=70/70 Signal level =­38 dBm
Encryption key:off
ESSID:"Hackers­Arise"
­­snip­­
此命令的输出应包括无线接口范围内的所有WiFi
AP，以及每个AP的关键数据，比如这个AP的MAC地址，其运行的信道和频率，其质量，信号电平，
是否启用了加密密钥及其ESSID。
为了进行各种不同的入侵攻击，你将需要目标AP的MAC地址（BSSID），客户端的MAC地址（另一个无线网卡）以及AP操作的通道来执行任何类型的黑客攻击，因此这是有价值的信息。
另一个在管理WiFi连接时非常有用的命令是nmcli（或网络管理器命令行界面）。为网络接口（包括无线接口）提供高级接口的Linux守护程序称为网络管理器。通常，Linux用户从其图形用户界面（GUI）熟悉此守护程序，但也可以从命令行使用它。
nmcli 命令可以使用来查看你附近的Wi-Fi
AP和它们的一些关键信息，像我们使用iwlist一样，但此命令为我们提供了更多信息。我们以nmcli
dev
networktype格式使用它，其中dev是设备(device)的简称以及类型(在本例中)是wifi，如下所示：
kali \>nmcli dev wifi
\* SSID MODE CHAN RATE SIGNAL BARS SECURITY
Hackers­Arise Infra 1 54 Mbits/s 100 WPA1 WPA2
Xfinitywifi Infra 1 54 Mbits/s 75 WPA2