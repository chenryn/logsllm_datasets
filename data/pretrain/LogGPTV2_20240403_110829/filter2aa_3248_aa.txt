云@金山 Cloud at KINGSOFT
--一种不同的思路做云安全
A different thought in cloud-based security 
演讲人: CardMagic (孙明焱)
金山网络 KINGSOFT
Agenda
金山云体系
 KINGSOFT cloud artitecture
金山云防御
 KINGSOFT cloud defense
金山云查杀
 KINGSOFT cloud-based anti-virus
关于演讲者 About the speaker…
 孙明焱 ID: CardMagic
 -现任金山网络产品总监，负责金山毒霸相关开发
current product director of KINGSOFT, who is responsible for the 
development of “金山毒霸”
 -曾任奇虎360云查杀产品负责人
previous chief developer of Qihoo 360 Cloud-based anti-virus
 -曾任Trend Micro技术经理
previous technology manager of Trend Micro
 -曾任NEC开发工程师
precious programmer of NEC
 -Antirootkit工具DarkSpy的作者(被趋势科技收购）
creator of DarkSpy,a tool of Antirootkit. (purchased by Trend)
 -精通各类安全开发，曾负责开发过各类云安全产品
specialize in various security development.
Develop abundant security products. 
金山云体系-信息安全问题的源头
KINGSOFT cloud architecture –
the cause of security problem
病毒
Virus
病毒作者+产业链
Virus Creator+
Crimeware Industry
病毒技术
Virus technique
…
杀毒软件
Anti-Virus Software
反病毒厂商
Anti-Virus Company
反病毒技术
Anti-Virus technique
…
对抗
金山云体系-云端智能鉴定技术
KINGSOFT cloud architecture:
Cloud intelligence of Forensics
海量样本 Enormous Samples
样本相关信息 Information from 
Samples
数据挖掘技术 Data Mining technique
10年病毒技术跟进
和积累的经验
Ten-years knowledge of Virus 
technique
and accumulated experience.
金山云体系-常规云安全
KINGSOFT cloud architecture”
The security of regular cloud?
病毒作者
Creator of 
Virus
1
用户1
User 1
后台自动系统
Automatic backend system
2
3
4
特征自动发布
Automatic signatures publishing
5
中毒啦中毒啦
Infected by Virus
互联网
Internet
放个木马，赚钱罗
Make money from 
malwares
用户2
User 2
云防住啦
Safe! Protected by 
Cloud
金山云体系-黑色产业链解决(1)
KINGSOFT cloud architecture:
Solution of Crimeware industry
病毒作者
Creator of Virus
1
用户
User
鹰眼系统
Hawkeye
Monitoring 
system
后台自动系统
Automatic 
backend 
system
2
3
4
特征自动发布
Automatic signatures
publishing
5
小子，一直盯着你呢
“ I WATCH YOU ! 
”
哦，有个木马，有
金山云支持，我不怕
互联网
Interne
t
放个木马，赚钱罗
Make money 
from 
malwares
金山云体系-黑色产业链解决(2)
KINGSOFT cloud architecture: Solution of Crimeware industry 
● 为什么要产业链：
How does knowing crimeware industry assist us in Virus 
detection?
- 产业链做为直接鉴定器，鉴定文件与URL
The features of crimeware industry can be the 
direct verifier in checking files and URLs
- 在病毒还没有大规模传播时，就可以根据病毒集团的运营能力了解病毒
可能传播的范围，提前做好准备
Before a widespread infection, we can predict the possible 
distributed range based on individual crimware industry’s 
behavior.
- 产业链聚类后病毒传播特征明显，便于做方案，只需针已病毒集为单位
验证即可
By clustering crimeware industries, the signatures of their 
behaviors become clear which contributes to the unit test of virus
金山云体系-黑色产业链解决(3)
KINGSOFT cloud architecture: Solution of Crimeware industry 
● 金山黑产业链积累：
KINGSOFT has accumulated years of knowledge in crimware 
industry.
- 独特的产业链归类系统
The unique industry classification system 
- 产业链特征自动提取系统
The automatic signatures extraction system
- 专门团队运营与监控
Specialized team in monitoring and maintaining
金山云体系-普通指纹云
KINGSOFT cloud architecture – 
Normal signatures cloud 
A.exe
V1
A.exe
V2
A.exe
V3
指纹1
Signature 1
指纹2
Signature 2
指纹3
Signature 3
客户端 User
云端 Cloud
用户
User
软件又更新，又被误报了!!
Endless new versions of 
security software. 
Misreport again!!
云安全从业者
Provider of Cloud 
Secutiry
后台快撑爆啦，
成本成本！！
Endless expansion with 
backend system due to the 
increasing data flow of 
signatures
金山云体系-金山微特征云
KINGSOFT cloud architecture – 
Micro-signature cloud 
A.exe
V1
A.exe
V2
A.exe
V3
微征特1
Micro-
signature 
1
客户端 User
云端 Cloud
金山云体系-关于金山云体系的一些成果
KINGSOFT cloud architecture – 
Achievement
● 通过鹰眼系统以及金山对产业链的积累，在大陆地区首家披露了十
大病毒集团
With the Hawkeye monitoring system and the accumulated 
knowledge in this field, we revealed top 10 crimeware groups in 
Mainland China.
● 金山云后台拥有30多款各类鉴定器，涵盖各类启发式与智能鉴定技
术
KINGSOFT backend system owns more than 30 various forensic 
devices, containing all different kinds of intelligent forensic 
techniques.
● 金山云后台每天发布约30万特征，其中：
白特征 约25万
黑特征 约5万
Every day, KINGSOFT publishes approximate 300,000 signatures,
which include 250,000 white signatures and 50,000 black 
i
t
金山云防御 KINGSOFT cloud defense
Defense at boundary
Program execution
System defense
金山云防御-什么是边界防御 
What is Boundary Defense?
Outer files
KINGSOFT Boundary Defense
金山云防御-为什么要边界防御(1)
Why is boundary defense needed? 
● 传统主动防御的痛处 The disadvantages of traditional active defense
○ 病毒执行后行为变化方法太多