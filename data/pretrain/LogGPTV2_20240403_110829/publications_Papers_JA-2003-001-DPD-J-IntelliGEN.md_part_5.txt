ANNOTATION BLAST[4] Sequencesimilaritysearch
GeneMark.hmm Geneidentification
64 KOCHUTETAL.
Figure9. Screenshotoftheprotein-proteininteractionlayouttool.
andASSEMBLY 2sub-workflowsareexecutedonseparateservers.Theannotationsub-
workflow,whichiscomputationintensive,isexecutedona32processorSGIOrigin2000
server.Theremainingtasksrunonanotherserver.Roleswerecreatedforsequencefinisher,
submitter,andannotator.TheWebinterfacetoMETEORcreatesURL’sforeachrolewith
linkstoalltasksassociatedwiththatrole.
In the final step of the workflow, in which a researcher is creating the protein-protein
interactionmap,weuseasoftwaresystemtoassisttheresearcherinconstructingthemap.A
screenshotofthetool(invokedautomaticallybyIntelliGEN)ispresentedasanillustration
infigure9.
IntelliGENincorporatessubsystemsforqualitymeasurementandintelligentadaptation.
Thesetwonovelcomponentsarebrieflydescribedinthefollowingtwosections.
4.1. Qualityofservicemanagement
Workflow systems have been used to support various types of processes for more than a
decadenow.Workflowsmodelinggenomicapplications,suchasproteininteractionmap-
ping, require the specification of Quality of Service (QoS) items such as products to be
delivered,deadlines,qualityofproducts,qualityofinformation(e.g.,accurateproteinin-
teractionmaps),reliability,andcostofservices[17].
Low-level script-based applications or other traditional workflow approaches do not
permit flexible specification and realization of such quality requirements. Thus, they are
lesssuitableformissioncriticalapplicationssuchasaproteininteractionworkflow.Avital
goal is the ability to construct and deploy truly dependable workflows with continuous
availabilityandpredictableQoSmetrics.
INTELLIGEN:ADISTRIBUTEDWORKFLOWSYSTEM 65
ThemanagementofQoSmetricsdirectlyimpactsthesuccessofgenomicexperiments.
Therefore, when experiments are created or managed using workflows, the underlying
workflowsystemmustacceptthespecificationsandbeabletoestimate,monitor,andcontrol
theQoSofprocesses.
Forgenomiclaboratories,beingabletocharacterizeworkflowsbasedonQoShasfour
directadvantages.First,itallowslaboratoriestotranslatetheirexperimentsintotheirpro-
cessesmoreefficiently,sinceworkflowcanbedesignedaccordingtoQoSmetrics.Second,
itallowsfortheselectionandexecutionofworkflowsbasedontheirQoS,tobetterfollow
experimental strategies. Third, it makes possible the monitoring of workflows based on
QoS.QoSmonitoringallowsadaptationstrategiestobetriggeredwhenundesiredmetrics
areidentifiedorthresholdvaluesviolated.Fourth,itallowsfortheevaluationofalternative
strategieswhenadaptationisnecessary.Theenvironmenthasanimportantimpactonthe
strategies,methodologies,andstructureofgeneticworkflows.Thus,inordertocomplete
aworkflowaccordingtotheinitialQoSrequirements,theworkflowwilllikelybeadapted,
modified, and rescheduled, due to unexpected progress delays, or technical conditions.
Whenadaptationisnecessary,asetofpotentialalternativesisgeneratedwiththeobjective
ofchangingaworkflow,suchasitsQoScontinuestomeetinitialrequirements.Foreach
alternative,priortoactuallycarryingouttheadaptation,itisnecessarytoestimateitsimpact
ontheQoSofthemodifiedworkflow.
WehaveenhancedourworkflowsystemtosupportprocessesconstrainedbyQoSrequire-
ments,suchastheproteininteractionworkflow.Theenhancementsincludethedevelopment
andsupportofacomprehensiveQoSmodelandtheimplementationofmethodologies(a
mathematicalmodelandsimulation)tocomputeandpredictworkflowQoS.Wehavede-
velopedastochasticworkflowreductionalgorithm(SWR)forthestep-by-stepcomputation
ofQoSmetrics.
Oneofthemainmodules,theQualityMonitor,overseestheexecutionoftheworkflows
and checks the quality of produced data according to QoS specifications. If the quality
dropsbelowacertainthresholdtheIntelligentAdaptationsubsystemisinvokedtosuggest
correctiveactionsandadapttheworkflow(asdescribedinthefollowingsubsection)sothat
theinitialQoSrequirementscanbemet.
ThequalitymonitordisplaysQoSmetricsinseveralformats.Itispossibletocolorcode
the protein-protein interaction by whether or not a particular link is supported by two or
moreexperiments,thenumberofvotesfortheinteractionbythe4reporters,andthenumber
of controls satisfied in figure 5 [88]. Another possibility is the traditional quality control
chartwiththemeasuresofqualityonthey-axisandthecourseoftheexperiment(i.e.,plate
numberinthehigh-throughputscreen)onthex-axis.Inthehigh-throughputscreen,quality
measures include false negative and false positive rates per plate, the average number of
positive votes per positive from one bait plate, the number of controls satisfied per bait
plate,andestimatedcoverage.
4.2. Adaptation
TraditionalWfMSsareadequatetosupportworkflowswithadefinedstructureandwithno
needtoaccountforadhocdeviationsordynamicextensionsatrun-time[70].But,recently
66 KOCHUTETAL.
there has been an increasing demand in developing WfMSs with dynamic capabilities,
withaspecialemphasistodynamicchangesattheinstancelevel.Thismakessensesince
thereareinrealityveryfewworkflowsthatarestatic(i.e.withoutaneedtochangetheir
structuresovertime).Asworkflowprocessesareinstantiated,changesintheenvironment
orinpreviousactivitiesmayinvalidatethecurrentworkflowinstances,requiringadaptation
procedurestobecarriedout.Itisthereforeimportanttobeabletocontinuouslyrepairor
improvetheexecutionofaworkflowprocess[11].
A critical challenge for the IntelliGEN management system is its ability to respond
effectivelytochanges.Changesmayrangefromad-hocmodificationsoftheprocessfora
singleexperimentduetoacontrolfailing,improvementintheprocesstoincorporateanew
techniqueorinstrument,ortoarestructuringoftheprocesstoimproveitsefficiency.For
example, it may happen that gene identification evolves to the point that gene extraction
fromanavailablecosmidlibrarybecomesfeasible[41,49]asopposedtoextractinggenes
fromacDNAlibrary.Asaresult,therun-timeprocessusedinpracticeisoftenmuchmore
variable than the process specified at design-time. It has been our experience in physical
mappingandsequencingthatworkflowsareconstantlybeingimproved.Iftheresearchers
areforcedtobypasstheworkflowmanagementsystemquitefrequently,thesystembecomes
morealiabilitythananasset.Thus,inORBWorksystemwehaveimplementedalayerthat
permits the realization of dynamic change of instances in a consistent manner [18]. The
implementedmoduleguaranteethatallconsistencyconstraintsthathavebeenensuredprior
toadynamicchangearealsoensuredaftertheworkflowinstanceshavebeenmodified[70].
Whenadaptationisrequiredintheprotein-proteininteractionworkflow,itisnecessaryto
evaluatealternativeswiththeobjectiveofchangingtheworkflowsuchasitsQoScontinues
tomeetinitialrequirements.Adaptationproceduresareevaluatedbasedontheirimpacton
workflow QoS that include: (1) time of execution; (2) cost of execution; (3) and quality
of execution. The application of a specific adaptation procedure is constrained with the
objectivessetbytheinitialprojectandincludes:(1)timeremaining;(2)budgetremaining;
(3)andcurrentmeasuresofqualitylikecoverage,falsepositiverate,andfalsenegativerate.
Some of the changes include the type of screen, the controls to be executed, the 3AT
concentration, and the type of interaction trap. To make today’s workflow management
systems more flexible, it is crucial to know what kinds of changes need to be supported.
Changescanbetriggeredbydevelopmentsoutsidethemanagementsystem,i.e.,thecon-
text/environment.Therearethreebasictypesofexternalcircumstancesthatmaytriggera
changeintheprotein-proteininteractionworkflow:(1)discovery (e.g.,ofanewmolecular
machine), (2) changing quality standards (i.e., the change is triggered by refinements to
the map of quality standards), (3) changing technology for detecting protein-protein in-
teractions (i.e., due to the development of new technologies or changes in the technical
infrastructure).Achangecanalsobetriggeredbydevelopmentsinsidethesystem.These
changes are not initiated by the environment, but by problems detected inside the man-
agementsystemitself(e.g.,logicaldesignerrorsortechnicalproblems).Itisimportantto
classifythetypeofchangesthatmayoccur.Thus,wecharacterizechangesaseitherad-hoc
orevolutionarychanges:
• Ad-hocchangesmaybetheresultofanerror,anexception,arareevent,orspecialdemands
createdbythepresenceofapromiscuousprotein.Ad-hocchangesaffectonlyonecase
INTELLIGEN:ADISTRIBUTEDWORKFLOWSYSTEM 67
(i.e.,onebaitplate)oraselectedgroupofcases(aselectedgroupofplates).Theyoccur
onanindividualorselectivebasis.Ingeneral,itisnotnecessarytochangetheworkflow
definition,sincethesamechangewilllikelynotbeneededagain.Anexampleofanad-
hocchangeistheneedtoskipataskincaseofanemergency(i.e.,thereagent5FOAwas
degradedorthePCRkitfailed).Thistypeofchangeisofteninitiatedbysomeexternal
factor.Typicalproblemsrelatedtoad-hocchangesaredecidingwhatkindsofchanges
areallowedandthefactthatitisimpossibletoforeseeallpossiblead-hocchanges.
• Evolutionary changes are of a structural nature. From a certain moment in time, the
workflowchangesforallnewinstancescreated.Itispossiblethattheexistingrunning
instances may be influenced. An evolutionary change is applied to a workflow as a re-
sult of the adoption of a new mapping strategy, reengineering efforts, or a permanent
alterationofexternalconditions(e.g.,achangeofinteractiontrap).Evolutionarychange
istypicallyinitiatedbyaresearchertoimproveefficiency,qualityorresponsivenessto
the community, or is forced by improved quality standards. As an example, we have
two strategies for creating the protein-protein interaction map. One strategy involves
thehighthroughputscreenandtheothertheclone-by-clonescreen.Theydifferonthe
basis of the size of the bait and prey pools being interrogated. The high-throughput
screenisestimatedtotake31weekstofinishwithapoolsizeof96baitsvs.thewhole
AD-library,butitis3-foldlesssensitivethantheclone-by-clonescreen.Incontrast,we
canperformonlyabout650clone-by-clonescreensinayear.Oncethemapissketchedby
thehigh-throughputscreen,wewanttoturntotheclone-by-clonescreentocolorinthe
finerdetailsofthemap.Alternatively,onceahumanobserverfindsinterestingclusters
bythehighthroughputscreen,moresensitive(althoughslower)clone-by-clonescreens
may be interjected to respond to community interest. Adaptive workflows can then be
used to adjust the overall experimental strategy for finding protein-protein interactions
usingataskreplacementpolicy.
Bothad-hocandevolutionarychangesarepossibleatentrytimeorandon-the-flytorun-
ninginstances.Customizingtheprocessdefinitionforasinglecasebeforetheprocessingis
startedcorrespondstoanad-hocchangeatentrytime.Ifsuchacustomizationisalsoallowed
afteraworkflowprocessingisstarted,wedefineitasanon-the-flychange.Ifevolutionary
changesareonlypossibleatentrytime,thenonlythenewcasesthatarestartedafterthe
changetookplacehavetorunaccordingtotheupdatedworkflowdefinition;allothercases
run according to the old workflow definition. On-the-fly evolutionary changes are more
difficulttohandlesinceforeachrunningworkflowinstanceitmustbedecidedhowtodeal
withthechange[3].Itisespeciallydifficulttointroducechangeswhileworkflowinstances
arebeingprocessed.Forworkflowinstancesthatareactive(started,butnotfinished)atthe
timeofthechangethetransactionaltasks(possiblysubworkflows)canberolledback,and
restartedunderthenewplan,ortheinstancesinprogressbeallowedtocontinueunderthe
modifiedworkflow.
4.3. Systemperformance
The nature of the protein-protein interaction workflow is that all of the tasks are of long
duration.Asanexample,eachofthehigh-throughputscreensinvolvesprocessing500“bait”
68 KOCHUTETAL.
Table3. Approximatetimingsforindividualworkflowsteps.
Task Time Comments
Step1 Overnight Mixofautomaticandmanual(human)tasks
Step2 1day Amanualtask
Step3 Lessthan1day Amanualtask
Step4 4–5days Amanualtask
Step5 1–2days Performedbyarobot
Step6 1day Largelyautomatic;sequenceassemblyandBLASTsearches
Step7 Severalminutes Humanwithcomputerassistance
libraryplatesina2-hybridscreenforinteractions.Unassisted(manual)processingtypically
takes one month per plate. Using IntelliGEN, we are able to process up to 16 plates per
week,whichtranslatesto64-foldproductivitygain.
Table 3 illustrates the duration of the individual steps of in the workflow. The times
are for an individual work item, which in the case of the protein-protein interactions is
processingofasingleplate.Aseasilyseen,thesystemoverheadintroducedbyIntelliGEN
isnegligibleincomparisontothetaskprocessingtime.Taskactivationtimeisbelowone
second.
In addition, our estimate is that it will take approximately 75,000 task executions to
completetheproject,whichwilltakeroughly3years.Thistranslatestoabout75tasksper
day,onaverage,arathersmallnumber.
5. Conclusionsandfutureresearch
Wehavesuccessfullyappliedworkflowtechnologytoalargegenomicprojectofmapping
protein-proteininteractionsoffungi.Wehavebuiltonthesuccessofourpreviousworkflow
project for sequencing for N. crassa. It is an ongoing project and changes are made to
boththeworkflowengine,andtheworkflowspecification,asnecessitatedbythelaboratory
work. Because of the fact that we used our distributed and dynamic enactment system
ORBWork, it is possible to make changes to the deployed system. In the near future, we
intend to experiment with adding to IntelliGEN agents capable of performing adaptive
changeswithouthumaninvolvement.
The use of workflows and workflow systems to conduct and coordinate genomic ex-
periments in a heterogeneous and distributed environment has an immediate operational
requirement:themanagementofworkflowqualityofservice.Theexperimentscannotbe
undertakenwhileignoringtheimportanceofqualityofservicemeasurements.Whenadap-
tation is required, an adaptation agent will use QoS information—such as the time and
the cost of each task, and the final quality standards to be achieved [17]—to select a set
of adaptation strategies to be applied to a workflow requiring changes. In the case that
the intelligent agent is attempting to maximize coverage given the budget and time con-
straints,itwillbenecessarytoinvokeasimulationagent.Aprotein-proteininteractioncan
besimulatedaspreviouslydescribed[63].Theproposedstrategycanbeappliedtomany
INTELLIGEN:ADISTRIBUTEDWORKFLOWSYSTEM 69
simulationsoftheprotein-proteininteractionmap,andanaveragecoverageofthenetworks
canbeestimated.Inthisway,differentproposedworkflowscanbeevaluatedwithrespect
tocoverage.
References