User: How to automate server management tasks, such as log archiving, backup, etc., through shell scripts?
Assistant: The following is a simple shell script to automate server management tasks: 1. Log archive``` #!/bin/bash # Get the current date date=$(date +"%Y%m%d") # Create a log Archive folder mkdir /var/log/archive/$date # Move yesterday's log files to the archive folder mv /var/log/access.log /var/log/archive/$date/access.log mv /var/log /error.log /var/log/archive/$date/error.log # Restart the Nginx server to generate new log files service nginx restart # Delete the log archive folder 7 days ago find /var/log/archive/* -mtime +7 -exec rm -rf {} \; ``` 2. Backup``` #!/bin/bash # Get the current date date=$(date +"%Y%m%d") # Create a backup Folder mkdir /var/backup/$date # Backup database mysqldump -u root -pPASSWORD dbname > /var/backup/$date/dbname.sql # Backup website file tar -czvf /var/backup/$date/website.tar .gz /var/www/html/ # Delete the backup folder 7 days ago find /var/backup/* -mtime +7 -exec rm -rf {} \; ``` The above is a simple shell script that can Modify according to actual needs. Using crontab to execute scripts regularly can realize automated server management tasks.