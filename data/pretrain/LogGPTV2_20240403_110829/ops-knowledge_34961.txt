User: I have written a script that will keep itself up to date by downloading the latest version from a website and overwriting the running script.
I am not sure what the best way to restart the script after it has been updated.
Any ideas?
I don't really want to have a separate update script.
oh and it has to work on both linux/windows too.
Assistant: The cleanest solution is a separate update script!
Run your program inside it, report back (when exiting) that a new version is available.  This allows your program to save all of its data, the updater to apply the update, and run the new version, which then loads the saved data and continues.  To the user this can be completely transparent, as they just run the updater-shell which runs the real program.