---
author: Roudy Jhausse
category: 技术
comments_data:
- date: '2015-03-25 22:33:01'
  message: Repost
  postip: 116.249.5.131
  username: 微博评论
- date: '2015-03-25 22:33:01'
  message: '[挖鼻屎]'
  postip: 116.249.5.131
  username: 微博评论
- date: '2015-03-25 23:03:01'
  message: '@我的印象笔记'
  postip: 148.251.236.167
  username: 微博评论
- date: '2015-03-25 23:03:01'
  message: 私有云
  postip: 148.251.236.167
  username: 微博评论
- date: '2015-03-25 23:03:01'
  message: '@我的印象笔记'
  postip: 148.251.236.167
  username: 微博评论
- date: '2015-03-25 23:03:01'
  message: Repost
  postip: 148.251.236.167
  username: 微博评论
- date: '2015-03-25 23:03:01'
  message: 根本没有这个网站，
  postip: 148.251.236.167
  username: 微博评论
- date: '2015-03-25 23:20:17'
  message: "看了第一页\r\n终于知道墙的作用了"
  postip: 125.92.180.86
  username: 来自 - 广东中山 的 Firefox/Linux 用户
- date: '2015-03-26 00:33:01'
  message: M
  postip: 123.125.71.52
  username: 微博评论
- date: '2015-03-26 08:03:02'
  message: 有时免费的成本是最高的
  postip: 218.30.103.250
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: 这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: 作为邮件技术专家，我认为，其中邮件系统部分相当完善，而且，文章的思路清晰，简明扼要。其中包括基础的 SMTP/IMAP 服务自不必提，反垃圾邮件服务、灰名单、SPF、DKIM、Webmail，应有尽有，可以作为搭建产品环境中的邮件系统参考。
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: '感觉真是这样，他们比你自己还了解自己//@Linux中国: 这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服......'
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: 正需要，刚用弄了个owncloud的docker镜像。
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: //@Linux中国:这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: //@Linux中国:这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: 你平时浏览什么网站，喜欢买什么东西，想要去哪里旅游这些在网上一览无余[喵喵][喵喵]
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: 干货很多，而且太基础了//@Linux中国:作为邮件技术专家，我认为，其中邮件系统部分相当完善，而且，文章的思路清晰，简明扼要。其中包括基础的
    SMTP/IMAP 服务自不必提，反垃圾邮件服务、灰名单、SPF、DKIM、Webmail，应有尽有，可以作为搭建产品环境中的邮件系统参考。
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: '@mywiz'
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 09:33:02'
  message: '赞！//@Linux中国: 作为邮件技术专家，我认为，其中邮件系统部分相当完善，而且，文章的思路清晰，简明扼要。其中包括基础的 SMTP/IMAP
    服务自不必提，反垃圾邮件服务、灰名单、SPF、DKIM、Webmail，应有尽有，可以作为搭建产品环境中的邮件系统参考。'
  postip: 42.120.160.52
  username: 微博评论
- date: '2015-03-26 10:03:02'
  message: 太累了……//@Linux中国:作为邮件技术专家，我认为，其中邮件系统部分相当完善，而且，文章的思路清晰，简明扼要。其中包括基础的 SMTP/IMAP
    服务自不必提，反垃圾邮件服务、灰名单、SPF、DKIM、Webmail，应有尽有，可以作为搭建产品环境中的邮件系统参考。
  postip: 42.120.161.52
  username: 微博评论
- date: '2015-03-26 10:03:02'
  message: //@Linux中国:这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。
  postip: 42.120.161.52
  username: 微博评论
- date: '2015-03-26 10:03:02'
  message: 马//@Revil_Wang:干货很多，而且太基础了//@Linux中国:作为邮件技术专家，我认为，其中邮件系统部分相当完善，而且，文章的思路清晰，简明扼要。其中包括基础的
    SMTP/IMAP 服务自不必提，反垃圾邮件服务、灰名单、SPF、DKIM、Webmail，应有尽有，可以作为搭建产品环境中的邮件系统参考。
  postip: 42.120.161.52
  username: 微博评论
- date: '2015-03-26 10:33:01'
  message: '[good][good][good]//@Linux中国:这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。'
  postip: 27.193.50.111
  username: 微博评论
- date: '2015-03-26 10:33:01'
  message: '@mark'
  postip: 27.193.50.111
  username: 微博评论
- date: '2015-03-26 11:03:01'
  message: 需要
  postip: 114.246.59.171
  username: 微博评论
- date: '2015-03-26 11:03:01'
  message: 想想自己有什么隐私？呵呵//@Linux中国:这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。
  postip: 114.246.59.171
  username: 微博评论
- date: '2015-03-26 11:33:01'
  message: mark
  postip: 125.71.229.238
  username: 微博评论
- date: '2015-03-26 11:33:01'
  message: '@我的印象笔记'
  postip: 125.71.229.238
  username: 微博评论
- date: '2015-03-26 11:33:01'
  message: 好东西
  postip: 125.71.229.238
  username: 微博评论
- date: '2015-03-26 11:33:01'
  message: //@Linux中国:作为邮件技术专家，我认为，其中邮件系统部分相当完善，而且，文章的思路清晰，简明扼要。其中包括基础的 SMTP/IMAP
    服务自不必提，反垃圾邮件服务、灰名单、SPF、DKIM、Webmail，应有尽有，可以作为搭建产品环境中的邮件系统参考。
  postip: 125.71.229.238
  username: 微博评论
- date: '2015-03-26 12:03:01'
  message: //@Linux中国:这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。
  postip: 42.120.161.52
  username: 微博评论
- date: '2015-03-26 12:33:02'
  message: '@mywiz'
  postip: 188.165.15.81
  username: 微博评论
- date: '2015-03-26 13:03:02'
  message: 这个可以，如果有朋友想要一起来构建，我将会做，现在只要你的一个想法就可以，域名主机都准备好了。
  postip: 69.197.182.250
  username: 微博评论
- date: '2015-03-26 14:03:01'
  message: mr
  postip: 42.120.161.52
  username: 微博评论
- date: '2015-03-26 15:03:01'
  message: 是时候买专线了//@Linux中国:这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。
  postip: 112.25.210.144
  username: 微博评论
- date: '2015-03-26 20:33:02'
  message: //@Linux中国:这篇鸿篇巨制(64K)不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。
  postip: 222.42.42.108
  username: 微博评论
count:
  commentnum: 37
  favtimes: 12
  likes: 0
  sharetimes: 59
  viewnum: 68688
date: '2015-03-25 21:48:00'
editorchoice: true
excerpt: 8年里40000多次搜索！这是我的Google搜索历史。你的呢？（可以在这里自己找一下）有经过这么长时间积累下来的这么多数据点，Google已经能非常精确的推测你对什么感兴趣、曾经的想法、担忧过的事情，以及从你第一次获得Google帐号后这些年里所有这些的变化！
  很多非常私人的信息不受自己控制地存储在世界范围内的服务器上 比如说你也像我一样从2006年到2013年都是Gmail用户，意味着你收到了30000封以上的电子邮件，以及在这7年里写了差不多5000封电子邮件。这些发送或收到的电子邮件里有很多是非常私人的，私人到你甚至不希望自己的家人或
fromurl: https://www.howtoforge.com/tutorial/build-your-own-cloud-on-debian-wheezy/
id: 5125
islctt: true
largepic: /data/attachment/album/201503/25/214851hul4ul4e95uzwlmu.jpg
permalink: /article-5125-1.html
pic: /data/attachment/album/201503/25/214851hul4ul4e95uzwlmu.jpg.thumb.jpg
related: []
reviewer: ''
selector: ''
summary: 8年里40000多次搜索！这是我的Google搜索历史。你的呢？（可以在这里自己找一下）有经过这么长时间积累下来的这么多数据点，Google已经能非常精确的推测你对什么感兴趣、曾经的想法、担忧过的事情，以及从你第一次获得Google帐号后这些年里所有这些的变化！
  很多非常私人的信息不受自己控制地存储在世界范围内的服务器上 比如说你也像我一样从2006年到2013年都是Gmail用户，意味着你收到了30000封以上的电子邮件，以及在这7年里写了差不多5000封电子邮件。这些发送或收到的电子邮件里有很多是非常私人的，私人到你甚至不希望自己的家人或
tags:
- 私有云
- 邮件服务
- 隐私
thumb: false
title: 权威指南：构建个人私有云，拿回你的数据隐私的控制权！
titlepic: false
translator: zpl1025
updated: '2015-03-25 21:48:00'
---
> 
> 这篇鸿篇巨制（多达上万字）不但剖析了在你被那些“免费”的服务供养的背后所损失的隐私。事实上，Google、百度、360们比你更了解你自己；而且提出了具体的解决方案，对于稍有技术基础的人来，完整地指导了如何搭建私有云，提供全功能、商业级的邮件服务和云服务。
> 
> 
> 此外，文章中的邮件系统部分相当完善，而且，文章的思路清晰，简明扼要。其中包括基础的 SMTP/IMAP 服务自不必提，反垃圾邮件服务、灰名单、SPF、DKIM、Webmail，应有尽有，可以作为搭建产品环境中的邮件系统参考。
> 
> 
> 
8年里40000多次搜索！这是我的Google搜索历史。你的呢？（可以在[这里](https://history.google.com/history/)自己找一下）有经过这么长时间积累下来的这么多数据点，Google已经能非常精确的推测你对什么感兴趣、曾经的想法、担忧过的事情，以及从你第一次获得Google帐号后这些年里所有这些的变化！
很多非常私人的信息不受自己控制地存储在世界范围内的服务器上
-----------------------------
比如说你也像我一样从2006年到2013年都是Gmail用户，意味着你收到了30000封以上的电子邮件，以及在这7年里写了差不多5000封电子邮件。这些发送或收到的电子邮件里有很多是非常私人的，私人到你甚至不希望自己的家人或好友可以系统地查看。也许你还写过一些草稿邮件，因为最后一分钟改变主意而从没发出去。但是尽管你从未发出去，这些邮件仍然保存在服务器上的某个地方。结论是，说Google服务器比你最亲密的朋友或家人都更了解你的个人生活一点也不过分。
从统计数据来看，我可以很保险地打赌你拥有一部智能手机。如果不使用联系人应用的话手机将基本没法用，而它默认会将你的联系人信息保存到Google服务器上的Google联系人里。所以，现在Google不仅知道了你的电子邮件，还有了你的离线联系人：你喜欢打给谁、谁来过电话、你发过短信给谁，以及发了些什么。你也不需要听我的片面之词，可以自己检查一下，看看你开放给类似Google Play服务的一些应用的权限，用来读取来电信息以及收到的短信。你是否还会用到手机里自带的日历应用？除非你在设置日程的时候明确地去掉同步，那么Google将精确地知道你将要做什么，一天里的每个时段、每一天、每一年。用iPhone代替Android手机也是一样的，只是Apple会代替Google来掌握你的往来邮件、联系人和日程计划。
你是否还会非常小心地同步自己的联系人信息，在你朋友，同事或家人换工作或换服务商的时候更新他们的电子邮件地址和手机号？这给Google提供了一副你的社交网络的非常精确的、最新的描绘。还有你非常喜欢手机的GPS功能，经常配合Google地图使用。这意味着Google不仅能从日程里知道你在干什么，还知道你在哪儿、住在哪儿、在哪儿工作。然后再关联用户之间的GPS位置信息，Google还能知道你现在可能正在和哪些人来往。
这种泄漏自己私人信息的日常爱好会以一种甚至没人能够预测的方式影响你的生活
------------------------------------
总结一下，如果你是一个普通的因特网用户，Google拥有过去差不多10年里你最新的、深度的信息，关于你的兴趣、忧虑、热情、疑问。它还收集了一些你很私人的信息（电子邮件、短信），精确到小时的你的日常活动和位置，一副你社交网络的高精度的描绘。关于你的如此私密的数据，很可能已经超越了你最亲密的朋友，家人或爱人对你的了解。
不敢想象把这些深度的个人信息交给完全陌生的人，就好像把这些信息拷到一个U盘里，然后随便放到某个咖啡厅的桌上，留张纸条说“Olivier Martin的个人数据，请随便”。谁知道什么人会拿到它以及用来干嘛？然而，我们毫不犹豫地把自己的主要信息交给那些对我们的数据很感兴趣的IT公司的陌生人（这是他们制造面包的材料）以及[世界级的数据分析专家](http://research.google.com/workatgoogle.html)手里，也许只是因为我们在点击那个绿色的'接受'按钮时根本没有想这么多。
有这么多的高质量信息，这么多年里，Google可能会比你希望自我了解的更了解你自己：尼玛，回想我过去的数字生活，5年前发出的邮件里有一半我已经不记得了。我很高兴能重新发现早在2005年对xxx主义的兴趣以及第二年加入了[ATTAC](http://www.attac.org/)（一个致力于通过征收金融交易税来限制投机和改善社会公平的组织）。天知道为什么我竟然在2007年这么喜欢跳舞。这些都是无关紧要的信息（你不指望我能爆出什么猛料，是吧？;-）。但是，连接起这些高质量数据点，关于你生活的方方面面（做什么、什么时候、和谁一起、在哪里，...），并跨越这么长时间间隔，应该能推测出你的未来状态。比如说，根据一个17岁女孩的购物习惯，超市甚至可以在他父亲听说之前断定这个女孩怀孕了（这是一个[真实的故事](http://www.nytimes.com/2012/02/19/magazine/shopping-habits.html?pagewanted=all)）。谁知道通过像Google所掌握的这些远远超出购物习惯的高质量数据能做些什么？连接起这些点，也许有人能预测你未来几年里口味或观点的变化。如今，[你从未听过的公司声称拥有你500项数据点](http://vimeo.com/ondemand/termsandconditions)，包括宗教信仰、性取向和政治观点。提到政治，如果说你决定今后10年内进入政坛会怎么样？你的生活会改变，你的观点也一样，甚至你有时候会有所遗忘，但是Google不会。那你会不会担心你的对手会接触一些可以从Google访问你数据的人并会从你过去这些年里积累的个人数据深渊里挖出一些猛料呢？[就像最近Sony被黑](http://www.techtimes.com/articles/21670/20141208/sony-pictures-hack-nightmare-week-celebs-data-leak-and-threatening-emails-to-employees.htm)一样，多久以后会轮到Google或Facebook，以致让你的个人信息最终永远暴露？
我们大多数人把自己的个人数据托付给这些公司的一个原因就是它们提供免费服务。但是真的免费吗？一般的Google帐号的价值根据评估方式不同会有些差别：你花在写邮件上的时间占到[1000美元/年](http://blog.backupify.com/2012/07/25/what-is-my-gmail-account-really-worth/)，你的帐号对于广告产业的价值差不多在[220美元/年](http://adage.com/article/digital/worth-facebook-google/293042/)到[500美元/年](http://vimeo.com/ondemand/termsandconditions)之间。所以这些服务并不是真的免费：会通过广告和我们的数据在未来的一些未知使用来间接付费。
我写的最多的是Google，这是因为这是我托付个人数字信息的，以及目前我所知道做的最好的公司。但是我也提到过Apple或Facebook。这些公司通过它们在设计、工程和我们（曾经）喜欢每天使用的服务方面的神奇进步实实在在地改变了世界。但是这并不是说我们应该把所有我们最私人的个人数据堆积到它们的服务器上并把我们的数字生活托付给它们：潜在的危害实在太大了。
只要5小时，拿回自己以及关心的人的隐私权
--------------------
![](/data/attachment/album/201503/25/214851hul4ul4e95uzwlmu.jpg)
（题图来自 ttgtmedia.com）
但是事实并不是一定必须这样的。你可以生活在21世纪，拿着智能手机，每天都用电子邮件和GPS，却仍然可以保留自己的隐私。你所需要的就是拿回自己个人数据的控制权：邮件、日程、联系人、文件，等等。[Prism-Break.org](https://prism-break.org/en/)网站上列出了一些能帮你掌握个人数据命运的软件。除此以外，控制自己个人数据的最安全和最有效的方式是架设自己的服务器并搭建自己的云。不过你也许只是没有时间或精力去研究具体该怎么做以及如何让它能流畅工作。
这也是这篇文章的意义所在。仅仅5个小时内，我们将配置出一台服务器来支撑你的邮件、联系人、日程表和各种文件，为你、你的朋友和你的家人。这个服务器将设计成一个个人数据中心或云，所以你能时刻保留它的完整控制。数据将自动在你的台式机/笔记本、手机和平板之间同步。从根本上来说，**我们将建立一个系统来代替Gmail、Google文件/Dropbox、Google联系人、Google日历和Picasa**。
为自己做这件事情已经是迈出很大一步了。但是，你个人信息的很大一部分将仍然泄漏出去并保存到硅谷的一些主机上，只是因为和你日常来往的太多人在用Gmail和使用智能手机，所以最好是带上你一些比较亲近的人加入这次探险。
我们将构建的系统能够：
* **支持任意数目的域名和用户**。这样就能轻易地和你的家人朋友共享这台服务器，所以他们也能掌控自己的个人数据，并且还能和你一起分摊服务费用。和你一起共享服务器的人可以使用他们自己的域名或者共享你的。
* **允许你从任意网络发送和接收电子邮件**，需要成功登录服务器之后。这样，你可以通过任意的邮件地址、任意设备（台式机、手机、平板）、任意网络（家里、公司、公共网络、...）来发送电子邮件。
* **在发送和接收邮件的时候加密网络数据**，这样，你不信任的人不能钓出你的密码，也不能看到你的私人邮件。
* **提供最先进的反垃圾邮件技术**，结合了已知垃圾邮件黑名单、自动灰名单、和自适应垃圾邮件过滤。如果邮件被误判了只需要简单地把它拖入或拖出垃圾目录就可以重新调校垃圾邮件过滤器。而且，服务器还会为基于社区的反垃圾邮件努力做出贡献。
* **一段时间里只需要几分钟的维护**，基本上只是安装安全更新和简单地检查一下服务器日志。添加一个新的邮件地址只需要在数据库中插入一条记录。除此之外，你可以忘记它的存在过自己的生活。我在14个月之前搭建了本文描述的这个系统，从那以后就一直顺利运行。所以我完全把它给忘了，直到我最近觉得随便按下手机上的‘检查邮件’会导致电子信号一路跑到冰岛（我放置服务器的地方）再回来的想法有点好笑才想起来。
要完成这篇文章里的工作，你需要一点基本的技术能力。如果你知道SMTP和IMAP的区别，什么是DNS，以及对TCP/IP有基本了解的话，就够了。你还将需要一点基本的Unix知识（在命令行下和文件一起工作，基本的系统管理）。然后你需要花总共5小时时间来搭建。
下面是我们将要做的事情的概述。
* 申请一个虚拟私人服务器，一个域名，并把它们配置好
* 设置postfix和dovecot来收发电子邮件
* 阻止垃圾邮件进入你的收件箱
* 确保你发出的邮件能通过垃圾邮件过滤器
* 使用Owncloud提供日历，联系人，文件服务并配置webmail
* 在云上同步你的设备
这篇文章是受之前工作的启发并以之为基础
-------------------
本文很大程度参考了两篇文章，由[Xavier Claude](http://linuxfr.org/news/heberger-son-courriel)和[Drew Crawford](http://sealedabstract.com/code/nsa-proof-your-e-mail-in-2-hours/)写的关于架设私有邮件服务器的介绍。
本文覆盖了Xavier和Drew的文章里所描述的所有功能，除了3个地方Drew有而我没有：邮件推送支持（我喜欢由我主动检查邮件，而其他时候都不会被打扰），邮件全文检索（我一直都没用过），以及使用加密方式存储邮件（我的邮件和数据还没那么重要到要把它们加密后再存到本地服务器上）。如果你需要这些功能，只需要按照Drew的文章里相应部分的说明做就好了，和本文的内容兼容。
和Xavier和Drew的成果比起来，本文有下面几个主要改进：
* 根据我自己按Drew文章操作的经验以及原文的大量回复，修改了一些问题和文字错误。我也把本文所介绍的内容仔细检查了几遍，从头开始设定了几次服务器做重复验证以确保能正常工作。
* 低维护：和Xavier的方式比起来，本文增加了在服务器上支持多个邮件域名。这样做是为了尽可能地减少服务器维护工作：基本上，要添加一个域名或用户，只需要往mysql数据库表里增加一行就好了（不需要增加过滤脚本，等等）。
* 我增加了webmail。
* 我增加了设定云服务器的部分，不仅能收发邮件还能管理文件，地址本/联系人（邮件地址，电话号码，生日，等等等），日程表和图片，供所有设备访问使用。
申请一个虚拟私人服务器，一个域名，并把它们配置好
------------------------
让我们从设置基础设施开始：我们的虚拟私人主机和我们的域名。