者通过处理时间来获取信息，或者试图引发错误，通过ᨀ供很少的电力
来观测可能的结果。
30、拒绝服务攻击的物理防方式，就是攻击者拔掉服务器的网线。
31、关于安全性的一句名言是：“如果攻击者无限制地对计算机进行物
理访问，攻击者就会拥有它”（if	an	attacker	has	unrestricted	physical	
access	to	a	computer, the	attacker	owns	it.	），比如攻击者可以对身份认证
服务器进行物理访问，就可以在短时间内盗取密码并线下破解。
32、账户锁定控制有利于防止在线密码攻击。超过某个阀值（clipping	
levels）就会采取行动，比如用户发生5次错误输入，就会锁定账户。
33、许多系统会显示上一次成功登录的时间、日期和地点。可以让用户
觉察到是不是有别人登录了自己的账户。
34、“知其所需”（need	to	know）和“最小特权”（least	privilege）经
常混为一谈，唯一的区别在于，最小特权还包括在系统上的操作权限
（right），need	to	konw主要体现在业务语境下，最小特权主要着眼点是
技术权利。
OSG test：
1、字典攻击、暴力攻击、中间人攻击、虚假登陆页面，这些都是对访问
控制机制的威胁，但拒绝服务攻击和钓鱼不是。
2、CSRF（Cross-site	request	forgery）跨站请求伪造，也被称为“One	
Click	Attack”或者Session	Riding，通常缩写为CSRF或者XSRF，是一种对网
站的恶意利用。尽管听起来像跨站脚本（XSS），但它与XSS非常不同，
XSS利用站点内的信任用户，而CSRF则通过伪装来自受信任用户的请求来
利用受信任的网站。
3、例如：一个网站用户Bob可能正在浏览聊天论坛，而同时另一个用户
Alice也在此论坛中，并且后者刚刚发布了一个具有Bob银行链接的图片消
息。设想一下，Alice编写了一个在Bob的银行站点上进行取款的formᨀ交
的链接，并将此链接作为图片src。如果Bob的银行在cookie中保存他的授
权信息，并且此cookie没有过期，那么当Bob的浏览器尝试装载图片时将
ᨀ交这个取款form和他的cookie，这样在没经Bob同意的情况下便授权了
这次事务。
4、XSS 是实现 CSRF 的诸多途径中的一条，一般习惯上把通过 XSS 来实
现的 CSRF 称为 XSRF。CSRF 的全称是“跨站请求伪造”，而 XSS 的全称
是“跨站脚本”。它们都是属于跨站攻击——不攻击服务器端而攻击正
常访问网站的用户，CSRF 顾名思义，是伪造请求，冒充用户在站内的正
常操作。我们知道，绝大多数网站是通过 cookie	等方式辨识用户身份
（包括使用服务器端 Session	的网站，因为 Session	ID	也是大多保存在
cookie	里面的），再予以授权的。所以要伪造用户的正常操作，最好的
方法是通过 XSS 或链接欺骗等途径，让用户在本机（即拥有身份 cookie	
的浏览器端）发起用户所不知道的请求。
5、XSS更偏向于方法论，CSRF更偏向于一种形式，只要是伪造用户发起
的请求，都可成为CSRF攻击。
6、生物识别中，如果错误的把指纹认为是另一个客户，是类型2错误，
如果错误拒绝了一个合法客户，是类型1错误。
7、带外身份验证是指使用电话或短信这样的方法认证用户。
8、OpenID是去中心化的网上身份认证系统。用户只需要预先在一个作为
OpenID身份ᨀ供者（identity	provider,	IdP）的网站上注册。任何网站都可
以使用OpenID来作为用户登录的一种方式，任何网站也都可以作为
OpenID身份ᨀ供者。你的网站地址（URI）就是你的用户名，而你的密码
安全的存储在一个 OpenID 服务网站上（你可以自己建立一个 OpenID 服
务网站，也可以选择一个可信任的 OpenID 服务网站来完成注册）。
9、登录一个支持 OpenID 的网站非常简单。只需要输入你注册号的
OpenID 用户名，然后你登录的网站会跳转到你的 OpenID 服务网站，在
你的 OpenID 服务网站输入密码（或者其它需要填写的信息）验证通过
后，你会回到登录的网站并且已经成功登录。除了一处注册，到处通行
以外，OpenID 给所有支持 OpenID 的网站带来了价值—共享用户资源。
10、OpenID强调 认证 authentication	
OAuth强调 授权 authorization
11、LDAP的SASL模式ᨀ供安全身份验证。
The	Simple	Authentication	and	Security	Layer	(SASL)	for	LDAP	provides	
support	for	a	range	of	authentication	types,	including	secure	methods.		
领域6-安全评估和测试
第15章 安全评估和测试
1、安全测试（Testing）包括自动扫᧿、渗透测试、手动测试。
2、安全评估（Assessment）是对系统、应用或其他测试环境的综合评价。
安全评估包含安全测试工具（漏扫、渗透），也包括彻底审核（review）
威胁环境、当前和未来面临的风险和目标环境的价值。安全评估的产物
是一份评估报告。安全评估以非技术的语言᧿述评估结果，以具体建议
作为结论。
3、安全审计和安全评估类似，但必须由独立的审计员执行。测试和评估
都是给内部看的，审计的目的就是给第三方看的，阅读对象可能是董事
会、政府和监管人员和其他第三方。
4、审计分两种：内部审计和外部审计。
内部审计：首席审计执行官向总裁、CEO进行直接汇报，也可以直接向
董事会汇报。
外部审计：由外部审计公司执行，这些审计的外部效度很高（degree	
of	external	validity），也即通用程度较高。
5、信息安全专家通常被要求参加内部和外部审计，主要是ᨀ供相关信息，
接受面谈，ᨀ供文档，审计员有得知所有信息的权利，主管安全的工作
人员应该依从，如有需要咨询管理层。
6、漏洞扫᧿3种类型，网络发现、网络漏洞、WEB漏洞。
7、网络发现：TCP	SYN扫᧿（半开放扫᧿）、TCP连接扫᧿（全连接，之
所以不用效率更高的半开扫᧿，是因为没有搞半开扫᧿的权限）、TCP	
ACK扫᧿、Xmas扫᧿（把FIN、PSH、URG标识都打开了）
8、网络扫᧿常见工具nmap，扫᧿结果：开放、关闭、过滤（无法确定
开放或关闭，因为防火墙有干扰）
9、网络漏扫会有假阳性FP和假阴性FN。可以使用Nessus漏洞扫᧿器工具。
10、WEB漏扫，会扫出SQL注入、XSS、XSRF（跨站请求伪造）等等。仍
然可以使用Nessus。在新系统上线前和新代码进入生产之前都应该做。
PCIDSS要求每年进行一次Web漏扫，或者安装WAF。
11、渗透测试常常使用Metasploit工具，该工具使用一门脚本语言允许自
动执行常见的攻击。
白盒测试需要ᨀ供目标系统的详细信息，使得攻击者节省很多侦查步
骤。
黑盒测试不ᨀ供任何信息，灰盒测试会得到部分信息。
渗透测试的报告要注意对漏洞数据的保存和发送。
12、最正式的代码评审过程称为Fagan检查（发汗），有6个步骤：
Planning（计划）、Overview（概览）、Preparation（准备）、
Inspection（检查）、Rework（返工）、Follow-Up（后续行动）
13、正式的Fagan检验通常只存在于高度受限的环境中，其中代码如果有
缺陷可能产生灾难性影响。
14、大多数公司不使用Fagan这么严格的方法，他们做代码审查，一般的
做法包括：
在会上，开发人员过一遍代码，其他成员评审；
高级开发人员手工审查，上生产前签字确认；
上生产前，用自动审查工具过一遍。
15、动态测试包括使用综合事务（synthetic	transactions	）验证系统的性
能，这些是已知预期结果的脚本事物。比较结果有偏差就表明有Bug。
16、模糊测试（Fuzz	testing）是一种专门的动态测试技术，产生大量不
同类型的输入，压到极限并发现以前未被发现的缺陷。模糊测试监控程
序的性能、崩溃、溢出或其他不可知结果。
17、模糊测试有两种：
变异模糊测试（Mutation／Dumb	Fuzzing），主要是把以前的输入做一
些变化，改变字符或添加字符串。
智能模糊测试（Generational	／Intelligent		Fuzzing	）开发数据模型并创
建新的模糊输入，
zzuf工具可以将变异模糊测试自动化，自动将文本做一些变化。
18、接口测试：主要有三种接口测试：
API测试（向外公开应用编程接口的服务要测试，比如restful接口）；
用户界面（UI）测试，包括图形界面和CLI；
物理接口。
19、对于一些已知的风险，比如经常有一些黑客通过更改银行账户ID来
获取他人账号信息的，软件测试人员会使用误用案例测试（misuse case	
testing	）或滥用用例测试（abuse case	testing	）来评估他们的软件对这
些已知风险的脆弱性。
20、测试覆盖率=已经测试的用例数／总用例数，准确计算覆盖率很难的，
因为总用例数需要穷举所有可能，所以解释覆盖率时要了解这些数都是
怎么来的。（总用例数：total	number	of	use	cases）
21、信息安全管理人员应该定期审查日志，以确保特权用户不滥用特权。
尤其是信息安全团队的人，很有可能接触到用户隐私。
22、账户管理审核可能是信息安全管理人员或内部审计师的职责，通常
要对高特权账户进行审核，一种方法：
1、管理人员要求管理员ᨀ供特权用户列表及其被授予的特权，管理人
员会在旁边看着，以防管理员做手脚。
2、管理员要求特权批准机构ᨀ供授权用户的列表。
3、对比两个列表发现问题。
24、由于没有时间对所有用户进行检查，此时可以抽样，如果在抽样中
没有发现问题，就认为它们代表所有账户。注意：只有随机抽样才是有
效的！
25、管理人员要定期检查数据备份的执行有效性：检查方法包括：审核
日志、检查散列值、对系统或文件进行实际恢复。
26、安全管理人员要持续监视关键性能指标和风险指标，比如漏洞数、
漏洞修复时间、受攻击数等等，识别了这些关键安全度量（key	security	
metrics	）后，管理人员就希望开发一个仪表盘来显示和时常观看。
OSG test：
1、突变测试(mutation	testing)	, 或称作突变分析、程序突变，它是用于
衡量软件测试的质量。突变测试对程序的源代码做小的改动，如果测试
代码没有觉察到这种小改动带来的错误，就说明这个测试是有问题的。 
举例：正常程序：if (a < 0) Assert.fail();
突变测试：a=-1;if (a < 0) Assert.fail();
执行代码后没有抛出assertion，表明有问题。
2、Nikto是扫᧿web服务器的最佳选择。
THC	Hydra：密码暴力破解。
Ettercap：中间人攻击。
3、OpenAVS是开源的漏扫，Nessus是闭源的；Nmap主要是扫端口的；
MBSA是微软的基线安全分析器，microsoft	baseline	security	analyzer
4、服务组织报告SSAE-16 SOC在2010年取代了SAS-70报告，
SOC	type	1	report	only	covers	a	point	in	time	
SOC	type	2	跨度至少6个月，
SSAE基于ISAE	3402（International	Standard	on	Assurance	
Engagements），鉴证业务国际准则第3402号。
5、SOC1仅关于财务控制方面的，SOC2向业务合作伙伴、监管机构ᨀ供
组织的CIA，SO3能向更广的受众ᨀ供有关组织的服务运营的CIA报告。
SOC	1	reports	report	on	controls	over	financial	reporting	
SOC	2	reports	cover	security,	availability,	integrity,	and	privacy	for	
business	partners,	regulators,	and	other	similar	organizations	in	detail	that	
would	not	typically	be	provided	to	a	broad	audience.		
SOC	3	reports	are	intended	to	be	shared	with	a	broad	community,	often	
with	a	website	seal,	and	support	the	organization’s	claims	about	their	ability	
to	provide	integrity,	availability,	and	confidentiality.	
6、WPA2的企业模式用radius，多次尝试后可能会被锁定，所以用
aircrack-ng进行口令攻击很难成功！
Aircrack是破解WEP/WPA/WPA2加密的主流工具之一，现在排名第一。
Aircrack-ng套件包含的工具可用于捕获数据包、握手验证。可用来进行
暴力破解和字典攻击。
7、windows缺省不支持syslog	
8、合成监测（synthetic	monitoring，又称综合测试，又称主动监测