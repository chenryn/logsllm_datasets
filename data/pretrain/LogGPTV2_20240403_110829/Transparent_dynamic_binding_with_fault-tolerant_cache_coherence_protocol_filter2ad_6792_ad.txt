### 执行

请注意，此内容的授权使用仅限于清华大学。该文件从IEEE Xplore下载，下载时间为2021年3月18日14:46:13 UTC。使用受到限制。

#### 图8：TDB提案的整体性能
- 4P
- 8P
- 16P
- 32P

图中展示了不同配置下的整体性能。

#### 图9：内存指令的退役延迟
- 500周期
- con-ocean
- barnes
- cholesky
- radix
- radiosity
- AVG

在8核CMP系统中，导致L1缓存未命中的内存指令的退役延迟比例分别为：
- 10个周期：13.4%
- 20个周期：39.03%
- 50个周期：10.64%
- 500个周期：8.61%

当时间尺度为1000个周期时，这一比例小于1%（未在图9中显示）。本文选择500个周期作为退役阈值。

### B. 保守私有缓存入口规则研究

本小节中，我们进行了额外实验，以获取经历L1缓存未命中的内存指令的退役延迟。如图9所示，在一个8核CMP系统中，导致L1缓存未命中的内存指令的退役延迟比例分别为：
- 10个周期：13.4%
- 20个周期：39.03%
- 50个周期：10.64%
- 500个周期：8.61%

当时间尺度为1000个周期时，这一比例小于1%（未在图9中显示）。本文选择500个周期作为退役阈值。

执行阶段后500个周期仍未退役的内存指令被视为误预测指令，其引用的数据块相应地被视为错误获取的数据块。令人惊讶的是，这些错误获取的数据块占了相当大的比例（在500个周期的阈值下为28.3%）。原因在于，尽管分支预测技术尽量减少了误预测，但由于数据局部性原则，误预测的内存指令更可能引起L1缓存未命中。

我们的保守入口规则利用受害者缓冲区防止这些未退役的数据块污染私有缓存，从而提高了性能。因此，尽管受害者缓冲区的主要用途是帮助维护主从一致性，但它产生了上述积极效果。需要注意的是，先前的研究已经探讨了错误路径执行的影响，详细信息可参考文献[32-34]。

### C. 对受害者缓冲区大小的敏感性

根据保守入口规则，每个核心都设计了一个受害者缓冲区结构来保存推测性的数据块。受害者缓冲区的大小不能太大，因为私有缓存容量有限。为了分配合适的条目给受害者缓冲区结构，我们进行了实验来评估运行时对受害者缓冲区大小的敏感性。如图10所示，16条目的受害者缓冲区配置的平均运行时开销仅为理想受害者缓冲区配置的0.7%。同时，活动受害者缓冲区条目的数量在执行过程中从未超过32个。这是因为L1缓存未命中率相对较低，并且我们选择的时间界限为500个周期有助于清除错误获取的数据块。

对于fft和radiosity基准测试，32条目的受害者缓冲区配置的性能甚至略低于16条目的配置。原因是较大的受害者缓冲区可能会导致更多错误获取的数据块被不必要的缓存。这些块的外部访问会经历更长的状态转换延迟，从而影响运行时性能。总体而言，我们的结果表明，较小的硬件足以满足保守入口规则的设计需求。

### D. TDB提案的网络流量

为了提供动态绑定的灵活性，我们的TDB提案通过片上网络实现主从通信，而不是专用通道。在检查点间隔期间，检查点和粗粒度比较主从压缩结果不可避免地增加了片上网络流量。然而，我们的TDB提案防止从核访问全局内存，从而减轻了网络流量。综合效果使得TDB提案的整体网络流量与DCC相比有所减少。

#### 图12：TDB与DCC在分块CMP架构中的比较
- 4P
- 8P
- 16P
- 32P

请注意，我们的基线模拟了基线容错系统，并假设从核产生的网络流量与主核相同。