.TH ftpaccess 5 
.SH NAME
ftpaccess \- ftpd的配置档
.SH "描述 DESCRIPTION"
这个ftpaccess档案是用来配置下述功能的运作
.PP
存取功能(AccessCapabilities)
.TP
autogroup[...]
如果一个匿名的(ANONYMOUS)使用者是任何的成员，那么ftp伺服器将会实行一次setegid()到该。这允许特殊类别的匿名使用者存取group-and-owner-read-only的档案以及目录。是/etc/group里的一个有效群组（或是你的getgrent()呼叫所查阅的地方）。
.TP
class[...]
定义使用者的，使用格式的来源位址。可以定义多个成员。可以有多个"class"指令列出该类别额外的成员。如果多个"calss"指令可以应用到该次的连线期间，会使用在access档案中第一个列出的。尝试为一台主机定义一个有效的类别失败的话将会引起存取被拒绝。是一个以任何"anonymous","guest"及"real"关键字所组成使用逗点隔开的列表。如果包含"real"关键字，该类别可以符合使用FTP存取真实的帐号的使用者，而如果包含"anonymous"关键字该类别可以符合使用匿名FTP的使用者。而"guest"关键字符合访客存取帐号（参阅"guestgroup"以取得更多资讯）
 可以是一个全球的领域名称或是一个全球的数字
位址。
.TP
deny
永远拒绝符合主机的存取。显示。可以是"!nameserved"用来拒绝没有名称伺服器服务中的节点的存取。
.TP
guestgroup[...]
如果一个真实的(REAL)使用者是任何的成员，该次连线期间的设立完全如同匿名的FTP一般。换句话说，会执行一次chroot()，而且该使用者不再被允许发出USER及PASS指令。是/etc/group里的一个有效群组（或是你的getgrent()呼叫所查阅的地方）。
该使用者的home目录必须适当地加以设定，跟匿名FTP所要做的完全一样。在passwd项目里的home目录栏位被分成两个目录。第一个栏位将是chroot()呼叫的根目录参数。第二个部份是相对于该根目录的使用者home目录。这两半是以"/./"分隔开的。
在/etc/passwd里，该真实的项目：
.nf
guest1::100:92:Guest
Account:/ftp/./incoming:/etc/ftponly
.fi
当guest1成功地签入的时候，此ftp伺服器将会执行一次chroot("/ftp")然后接著chdir("/incoming")。该guest使用者将只能够存取/ftp下的目录结构（此目录对guest1而言看起来跟用起来就像是/目录），就如同一个匿名FTP使用者所见到的。
.TP
 limit
在某将某限制为个使用者，若使用者的存取被拒绝则显示内容。限制的检查只在签入时期实行。如果多个"limit"指令可以应用到该次连线期间的话，会使用第一个适合的。尝试定义一个有效的限制失败，或是值为-1的限制，等于不设限。使用UUCPL.sys档案相同的格式。
.TP
loginfails
在签入失败后，记录一个重复签入失败(repeated loginfailures)讯息并且终止该FTP连线。预设值是5。
.TP
private
使用者签入之后，SITEGROUP及SITEGPASS指令可以用来指定一增强存取的群组以及与之有关的密码。如果该群组名称以及密码是有效的，该使用者变成（经由setegid()）一个在群组存取档案/etc/ftpgroups中所指定群组的成员。
该群组存取档案的格式是：
存取群组名称：经编码的密码：真实群组名称
其中的存取群组是一个随意的（文数字＋标点）字串。经编码的密码是经由crypt(3)编码过的密码，与/etc/passwd里的完全一样。真实群组名称是/etc/group里所列出有效群组其中的一个名称。
注意：要使这个选项能运作于匿名的FTP使用者，该FTP伺服器必须保持使/etc/group永久开启而且将群组存取档案载入记忆体。这意指(1)该ftp伺服器现在使一个额外的档案描述子(filedescriptor)开启，以及(2)经由SITEGROUP使用者必须的密码以及存取权利的承认在一次FTP连线期间以内将会是静态的。如果你有紧急的需求要＊现在＊改变存取群组以及／或是密码，那么你只要砍掉(kill)所有正在执行中的FTP伺服器。
.PP
资讯功能(InformationalCapabilities)
.TP
banner
作用与message指令类似，除了此banner是在使用者键入使用者名称／密码之前显示以外。该系相对于真实的系统根目录，不是匿名FTP所使用的根目录。
警告：这个指令的使用可以完全地防止不相容的FTP客户端程式使用该FTP伺服器。并非所有的客户端都能够处理多行回应(multi-lineresponses)（这正是banner显示的方式）
.TP
email
定义ftp档案处(archive)维护者的电子邮递位址。这个字串将会在每一次使用%E代换变数(magiccookie)的时候印出。
.TP
message{{...}}
定义一个配合的档案名称在使用者签入时或是在使用切换工作目录指令的时候ftpd将会显示该档案的内容。该项参数可以是"LOGIN"或"CWD="。如果是"CWD="的话，指定将会引发该通知的新预设目录。
该选择性的指定允许该讯息只对特殊类别的成员显示。可以指定超过一个类别。
在说明档中可以有代换变数(magiccookies)这会使ftp伺服器以指定的文字字串取代
该变数：
.RS
.TP
%T
本地时间(form ThuNov1517:12:42 1990)
.TP
%F
CWD所在分割区的剩余空间(kbytes)[并非所有系统都有支援]
.TP
%C
目前的工作目录
.TP
%E
定义在ftpaccess中维护者的电子邮递位址
.TP
%R
远端主机名称
.TP
%L
本地主机名称
.TP
%U
签入时所给的使用者名称
.TP
%M
这个类别所允许的最大使用者数目
.TP
%N
这个类别目前的使用者数目
.RE
此项message将只显示一次以避免惹使用者讨厌。要记得当MESSAGEs被一匿名的FTP使用者引发时，该必须是相对于匿名FTP目录树的根目录。
.TP
readme{{}}
定义一个配合的档案名称在使用者签入时或是在使用切换工作目录指令的时候ftpd将会告知使用者该档案存在及修改的日期。参数可以是"LOGIN"或"CWD="。若是"CWD="的话，指定将会引发该通知的新预设目录。此项讯息将只显示一次以避免打扰使用者。要记得当README讯息被一匿名的FTP使用者引发时，该必须是相对于匿名FTP目录树的根目录。
该选择性的指定允许该讯息只对特殊类别的成员显示。可以指定超过一个类别。
.PP
记录功能(LoggingCapabilities)
.TP
logcommands
以使用者启动个别的记录指令。是一个以任何的"anonymous","guest"及"real"关键字所组成使用逗点隔开的列表。如果包含"real"关键字，将会为使用FTP存取真实帐号的使用者做记录，而如果包含"anonymous"关键字则将会为使用匿名FTP的使用者做记录。"guest"关键字符合访客存取帐号（参阅"guestgroup"以取得更多资讯）
.TP
logtransfers
启动对真实的或匿名的FTP使用者的档案传输记录。对传输到伺服器（进来）的记录可以跟从伺服器传输（出去）分开来启动。是一个以任何的"anonymous","guest"及"real"关键字所组成使用逗点隔开的列表。如果其中包含有"real"关键字，将会为使用FTP存取真实帐号的使用者做记录，而如果包含"anonymous"关键字则将会为使用匿名FTP的使用者做记录。而"guest"关键字符合访客存取帐号（参阅"guestgroup"以取得更多资讯）。是一个以任何的"inbound"以及"outbound"两个关键字所组成以逗点隔开的列表，而且将会分别引发对送往该伺服器以及从该伺服器送出的传输记录。
.PP
其它功能(MiscellaneousCapabilities)
.TP
alias
为一个目录定义一个别名，。可以用来加入逻辑目录的其它概念。
例如：
aliasrfc:/pub/doc/rfc
允许使用者从任何目录以指令"cdrfc:"存取/pub/doc/rfc。别名只应用于cd指令上。
.TP
cdpath
定义cdpath里的一个项目。这定义一个在改变目录时使用的搜寻路径。
例如：
.nf
cdpath/pub/packages
cdpath/.aliases
.fi