title:SecDATAVIEW: a secure big data workflow management system for heterogeneous
computing environments
author:Saeid Mofrad and
Ishtiaq Ahmed and
Shiyong Lu and
Ping Yang and
Heming Cui and
Fengwei Zhang
SecDATAVIEW: A Secure Big Data Workflow
Management System for Heterogeneous
Computing Environments
Department of Computer Science
Department of Computer Science
Department of Computer Science
Saeid Mofrad
Wayne State University
PI:EMAIL
Ishtiaq Ahmed
Wayne State University
PI:EMAIL
Shiyong Lu
Wayne State University
PI:EMAIL
Fengwei Zhang∗
Department of Computer Science
Wayne State University
PI:EMAIL
Ping Yang
Department of Computer Science
State University of New York at
Binghamton
PI:EMAIL
Heming Cui
Department of Computer Science
The University of Hong Kong
PI:EMAIL
ABSTRACT
Big data workflow management systems (BDWFMSs) have recently
emerged as popular platforms to perform large-scale data analytics
in the cloud. However, the protection of data confidentiality and
secure execution of workflow applications remains an important
and challenging problem. Although a few data analytics systems
were developed to address this problem, they are limited to specific
structures such as Map-Reduce-style workflows and SQL queries.
This paper proposes SecDATAVIEW, a BDWFMS that leverages In-
tel Software Guard eXtensions (SGX) and AMD Secure Encrypted
Virtualization (SEV) to develop a heterogeneous trusted execution
environment for workflows. SecDATAVIEW aims to (1) provide the
confidentiality and integrity of code and data for workflows running
on public untrusted clouds, (2) minimize the TCB size for a BD-
WFMS, (3) enable the trade-off between security and performance
for workflows, and (4) support the execution of Java-based workflow
tasks in SGX. Our experimental results show that SecDATAVIEW
imposes 1.69x to 2.62x overhead on workflow execution time on
SGX worker nodes, 1.04x to 1.29x overhead on SEV worker nodes,
and 1.20x to 1.43x overhead on a heterogeneous setting in which
both SGX and SEV worker nodes are used.
CCS CONCEPTS
• Security and privacy;
* The corresponding author. The work was done at WSU and he is currently affiliated
with SUSTech.
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than ACM
must be honored. Abstracting with credit is permitted. To copy otherwise, or republish,
to post on servers or to redistribute to lists, requires prior specific permission and/or a
fee. Request permissions from permissions@acm.org.
ACSAC ’19, December 9–13, 2019, San Juan, PR, USA
© 2019 Association for Computing Machinery.
ACM ISBN 978-1-4503-7628-0/19/12...$15.00
https://doi.org/10.1145/3359789.3359845
KEYWORDS
trusted computing, Intel SGX, AMD SEV, big data workflow, het-
erogeneous cloud
ACM Reference Format:
Saeid Mofrad, Ishtiaq Ahmed, Shiyong Lu, Ping Yang, Heming Cui, and Feng-
wei Zhang. 2019. SecDATAVIEW: A Secure Big Data Workflow Manage-
ment System for Heterogeneous Computing Environments. In 2019 An-
nual Computer Security Applications Conference (ACSAC ’19), December
9–13, 2019, San Juan, PR, USA. ACM, New York, NY, USA, 14 pages. https:
//doi.org/10.1145/3359789.3359845
1 INTRODUCTION
Recently, scientific workflows increasingly use cloud computing
to provision on-demand scalable resources in computation and
storage for large-scale big data analytics [30, 37]. Cloud computing
has the advantage of being able to provision practically an unlimited
number of resources to a workflow application based on a pay-as-
you-go pricing model, enabling scientific workflows to solve larger
scientific problems and to address the big data challenges (volume,
velocity, and variety) more efficiently. This leads to the notion of big
data scientific workflows [30, 33], or big data workflows for short.
However, cloud’s hardware resources are usually shared among
different users or organizations through isolation techniques such
as virtual machines or containers. The resource sharing character-
istics and the large size of the cloud’s system software makes the
cloud vulnerable to various attacks [2, 14, 34, 45, 50, 57]. For exam-
ple, Ristenpart et al. [49] showed that an outside adversary could
extract unauthorized information in AWS EC2 instances. In addition,
big data workflows running on clouds or virtualized data centers
rely on the integrity of the OS and hypervisor code to operate cor-
rectly, which introduces a large trusted computing base (TCB) - the
quintessential software and hardware portion of the system whose
security is critical and must be ensured for the sound behavior of
the rest of the system. The vulnerabilities introduced by a large TCB
may be exploited by adversaries. Attacks could also be originated
from a malicious insider, such as a dishonest administrator or high-
privileged malicious cloud software, where the big data analytics
ACSAC ’19, December 9–13, 2019, San Juan, PR, USA
S. Mofrad et al.
platform is deployed. Hardware-assisted trusted execution environ-
ments (TEEs) is a promising solution to protect the execution of
big data workflows and workflow data. Intel Software Guard eXten-
sions (SGX) [5, 24, 42] and AMD Secure Encrypted Virtualization
(SEV) [29] are two widely used general purpose hardware-assisted
TEEs developed for the x86 architecture. The pros and cons of Intel
SGX and AMD SEV technologies are discussed in [43]. Intel SGX
has been used for protecting big data analytics in the cloud. For
example, Shuster et al. [9] proposed VC3, a system that leverages
SGX to protect unmodified Map-Reduce tasks written in C/C++.
Pires et al. [46] proposed a lightweight, Map-Reduce framework
with Lua [23], a high-level language that interprets the Map-Reduce
Lua scripts in Intel SGX. Zheng et al. proposed Opaque [61] that
enhanced the security of the Spark SQL with SGX. Although these
systems are the pioneers in using hardware-assisted security tech-
nologies for big data analytics, they are limited to specific domains.
For example, the systems proposed by Shuster et al. [9] and Pires
et al. [46] support only Map-Reduce-style workflows consisting
of a Map task and a Reduce task, but not workflows with more
complex structure [3, 33]. The Opaque application is limited to the
use of relational algebra based tasks with Spark SQL. Although
Opaque provides techniques for protecting the secure execution
of relational algebra expressions, the proposed system does not
support tasks whose source code is not available. In addition, each
task in Opaque is a relational operator with relations as their in-
puts and outputs. Finally, existing systems do not support tasks
with well-defined input and output ports of complex data types. In
this paper, we propose SecDATAVIEW, a secure big data workflow
management system that leverages Intel SGX and AMD SEV to
provide a heterogeneous trusted execution environment (TEE) for
big data workflows. SecDATAVIEW is transparent to users and
application-level workflow tasks, and addresses the following three
challenges.
Firstly, scientific workflows running on clouds or virtualized
data centers rely on the integrity of the OS and hypervisor code
to operate correctly, which introduces a large trusted computing
base (TCB). For instance, Linux kernel has about 35.5 million lines
of code and the latest Xen hypervisor contains 572 thousands of
lines of code [11]. This large TCB inevitably creates vulnerabilities
that can be easily exploited by attackers. The National Vulnerabil-
ity Database shows that there are 307 vulnerabilities in Xen and 6
vulnerabilities in the latest Linux kernel version 5.1.6 [1]. External
attackers may exploit such vulnerabilities to gain access to comput-
ers on which scientific workflows execute to access or modify data
and workflow tasks. To address this issue, SecDATAVIEW reduces
the size of the system’s TCB by isolating the security-sensitive mod-
ules of the system in the SGX-protected enclaves or SEV-protected
instances and by keeping the high-privileged cloud system software
outside of the TCB.
Secondly, SGX is compatible with only a limited set of C/C++
libraries. However, many workflow tasks are written in Java and use
third-party Java libraries, which is not directly supported by SGX.
To address this issue, SecDATAVIEW uses the shielding approach
proposed in [8] and the SGX-LKL library OS [15, 40] to execute
workflow tasks written in Java in the secure enclaves of the worker
nodes. Alternatively, SecDATAVIEW uses AMD Secure Encrypted
Virtualization (SEV) to provide the protected worker nodes during
the workflow runtime.
Thirdly, big data workflow tasks are often memory-intensive.
For example, 75% of the execution time of the Broadband work-
flow [20] is consumed by workflow tasks that require over 1GB
memory. Running the kernel of a workflow management system
such as DATAVIEW [30] itself also requires over 500MB memory.
As a result, in the SGX-protected workflows, when tasks require a
large amount of secure memory, the SGX enclave page cache (EPC)
memory paging could significantly increase the execution time of
a workflow. SecDATAVIEW addresses this issue with the help of
SEV-protected instances that provide a larger amount of secure
memory than SGX enclaves. Our contributions are summarized as
follows:
• We propose SecDATAVIEW, a secure big data workflow man-
agement system that leverages Intel SGX and AMD SEV for
the secure execution of big data workflows. We propose a
secure architecture and the WCPAC (Workflow Code Provi-
sioning and Communication) protocol to provision and attest
secure worker nodes, securely provision the code for the Task
Executor and workflow tasks on each participating worker
node for a workflow, establish secure communication be-
tween the master node and worker nodes, and ensure secure
file transfers among worker nodes. We leverage the SGX-
shielding approach and the SGX-LKL library OS to execute
workflow tasks written in Java to overcome the limitation of
SGX’s lack of support for Java programs.
• To support memory-intensive workflows and reduce the
overall performance overhead incurred by SGX enclaves
EPC memory paging, SecDATAVIEW enables users to se-
lectively assign confidential tasks into SGX or SEV worker
nodes. Researchers in [43] reported that SEV performs faster
than SGX for workloads that require a larger amount of
secure memory. However, SGX offers better security than
SEV due to its smaller TCB size, enclave abstraction, and
memory integrity protection. In SecDATAVIEW, users may
run the memory-intensive confidential tasks (e.g., tasks that
do not require enhanced-degree of security but require a
large amount of secure memory) in SEV worker nodes while
assigning the security-sensitive confidential tasks (e.g., tasks
that need enhanced-degree of security) to the SGX worker
nodes.
• We have implemented SecDATAVIEW and conducted ex-
periments on a real-world diagnosis recommendation work-
flow [3], Map-Reduce workflow [16], and a distributed K-
means workflow to demonstrate the feasibility and usability
of the proposed system. Our experimental results show that
SecDATAVIEW imposes a moderate overhead on the exe-
cution times of various workflows. The source code of the
SecDATAVIEW system is available on GitHub1 for further
research and improvement.
The rest of the paper is organized as follows. Section §2 provides
an overview of big data, the DATAVIEW workflow management
system, the Intel SGX and AMD SEV technologies, and adversary
1https://github.com/shiyonglu/SecDATAVIEW
SecDATAVIEW: A Secure Big Data Workflow Management System for Heterogeneous Computing Environments
ACSAC ’19, December 9–13, 2019, San Juan, PR, USA
model. Section §3 presents the architecture design and communica-
tion protocol implementation of SecDATAVIEW. Section §4 presents
our experimental results. Related work is given in Section §5 and
Section §6 concludes the paper.
2 BACKGROUND AND ADVERSARY MODEL
Big data workflows: A big data workflow is a computerized model
for automating a data analytics process, which consists of a set of
computational tasks and their data inter-dependencies, to process
and analyze data of ever increasing in scale, complexity, and rate
of acquisition [30, 33]. A big data workflow management system
(BDWFMS) is a system that completely defines, modifies, manages,
monitors, and executes scientific workflows on the cloud in the
order that is driven by the workflow logic [30, 33]. An example of
workflow is shown in Figure 6, which is a well-known word count
(Map-Reduce) workflow.
SecDATAVIEW was developed based on the DATAVIEW sci-
entific workflow management system [30]. The architecture of
DATAVIEW is given in Figure 1. The reasons we chose DATAVIEW as
our BDWFMS are as follows: DATAVIEW represents the state-of-
the-art big data workflow management system, and it has a strong
user base – over 700 registered worldwide. DATAVIEW has been
used in various data analytics applications, including diagnosis
recommendation [3], predicting the efficacy of therapeutic services
for autism spectrum disorder [10], analysis of vehicle data to assess
driver’s driving behavior [31], medical image processing [22], bio-
logical simulation data analysis [19], and brain fiber connectivity
analysis [36]. DATAVIEW consists of three layers: the Presentation &
Visualization Layer, the Workflow Management Layer, and the Task
Management Layer. The Presentation & Visualization module is re-
sponsible for the presentation of workflows and the visualization
of various data products and provenance metadata. The Workflow
design & configuration module provides intuitive GUI for users to
design and configure workflows. The Workflow Engine is a central
module that orchestrates the execution of workflows. The Workflow
Monitoring module keeps track of the status of workflow execution.
The Data Product Management module stores and manages all data
products used in workflows. The Provenance Management mod-
ule is responsible for storing, browsing, and querying workflow
provenance. The Task Management module enables the execution
of heterogeneous atomic tasks, including web services and scripts,
and tasks that are executed on VMs in the cloud. The Cloud Resource
Management module interacts with virtual resources in clouds and
data centers. Using DATAVIEW, a user can not only easily share
data and workflows with peer collaborators, but also design and run
big data scientific workflows in the cloud, including commercial
Amazon EC2 and academic clouds.2
Intel SGX: Intel SGX is a recent hardware innovation that enables
users to instantiate a secure container, called enclave, to protect the
execution of code from being altered by malicious code or exter-