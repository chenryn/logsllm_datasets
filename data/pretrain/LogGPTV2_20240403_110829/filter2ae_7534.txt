# 使用老赛棍版端口进行资产扫描
##### 译文声明
本文为翻译文章，译文仅供参考。具体表达及含义以原文为准。

**前言：**
我参与了2020年A市、B市和C市的hvv活动，在此分享一些在地市级hvv活动中使用Goby的经验。请注意，所有操作均为合法合规的授权测试！切勿进行未经授权的安全测试！

## 1. 获取目标信息
出于敏感性考虑，以下示例将以长沙市为例说明查询方法。首先通过FOFA搜索：`region="Hunan" && city="Changsha"`，将结果转换成C段地址并去重后，即可获得该城市的大致网络范围。
- `region="Hunan" && city="Changsha"`
- `city="Changsha" && title="长沙"`

## 2. 探测目标资产

### 2.1 输入老赛棍版常见端口
对于hvv而言，82, 88, 7002, 8888, 9080等端口通常是防守方未掌握或不了解的“影子资产”端口号。尽管Goby默认端口配置较为全面，但在实际应用中全端口扫描效率极低。根据社区建议，可采用特定端口组合来提高发现率：
- Web服务相关：80-89, 442-443, 1080, 1214, 5000-5010, 5222, 5900, 5938, 5984, 6000-6010, 6379, 7000-7010, 7070-7080, 8000-8010, 8080-8090, 8222, 8443, 8545, 8686, 8888, 9000-9100, 9180, 9200, 9418, 9999, 10000, 11115
此列表侧重于Web资源，剔除了如445、3389等常规高优先级端口，因为针对外部攻击者来说，这些端口的意义不大。

### 2.2 实测效果
- A市测试结果
- B市测试结果
- C市测试结果

## 3. 二次漏洞扫描
完成初步扫描后，利用Goby内置的漏洞扫描功能对已识别资产进行深入检查，往往能带来更多有价值的信息。例如，在B市执行的第二次扫描就取得了良好成效。

## 4. 手工捡漏
经过两轮自动化工具处理之后，将收集到的所有URL导出至VPS服务器上，并使用其他类型的扫描软件进一步验证（这样做可以避免因IP地址相同而干扰后续的人工审核）。与此同时，本地团队继续手动审查数据等待最终报告生成。以A市项目为例展示了一个客户内部网络审计时利用Goby所取得的部分成果（虽然我们不会承认他们在正式比赛中也部署了该软件）。

## 5. 小结
希望各位同行们都能顺利挖掘所需信息！
> 本文由Goby社区成员limb0提供，转载需注明出处。<br>
> 欲获取Goby内测版本，请关注微信公众号：Gobysec<br>
> 官方网站提供正式版下载链接：[官网链接]