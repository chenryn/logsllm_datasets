### 优化后的文本

**目录**

- 9.1 时区分布 ................................................ 96
- 9.2 地理分布 ................................................ 97
- 9.3 通过PDDP收集的用户属性 ................................ 98
- 9.4 用户浏览和点击的比例 .................................... 98
- 9.5 按广告类型划分的Google点击用户细分 ...................... 100
- 9.6 每个用户的Google点击率分布 .............................. 100
- 9.7 Privad和Display文本广告的每用户点击率分布 ............... 101
- 9.8 Search和Display Google广告的每用户点击率分布 ............. 103
- 9.9 Search和Display文本广告的每用户平均浏览-点击延迟分布 ....... 104
- 9.10 Search和Display文本广告的每用户平均点击链长度分布 ....... 105
- 9.11 Search和Display文本广告的每用户平均参与度分布 ......... 106
- 9.12 每秒活跃浏览时间内的购物事件数量分布 .................... 107
- 9.13 收集到的PDDP答案的延迟分布 .......................... 107
- 9.14 累积隐私赤字及其实际影响 .............................. 110

---

**第一章 引言**

#### 1.1 在互联网上，有人知道你是一条狗

第三方对用户的跟踪已经变得非常普遍且日益增加 [43]。用户跟踪的主要目的之一是行为广告。尽管许多参与跟踪和行为分析的公司声称不收集个人识别信息（PII），但实际上很容易将跟踪信息与PII关联起来 [42]。虽然跟踪活动已经持续多年，但公众对这一隐私问题的关注最近急剧上升。与此同时，数十家行为定位公司涌现出来，竞相争夺数据源的数量和质量，并基于这些数据进行用户定位。公众对在线隐私侵蚀的关注已经对广告生态系统产生了直接影响：例如，初创公司Phorm和NebuAd因其目标定位实践和粗略的加入或退出政策而受到严厉批评 [39]。尽管大多数反对意见是由“窃听”和“深度包检测”的威胁引发的，但这些担忧足以取消或推迟试点部署，并对这些公司的声誉造成严重损害。如今，我们再次面临对在线跟踪的高度关注，这导致了联邦贸易委员会（FTC）推出的“禁止追踪”（DNT）倡议和“禁止追踪”注册表提案 [56]。然而，DNT只提供了隐私的幻觉，同时破坏了目标定位的实用性，因此实际上变成了“禁止目标定位”。不出所料，DNT并没有得到公众的广泛支持，广告网络也在积极忽略它。

#### 1.2 隐私设计的广告

多个研究项目提出了“隐私设计”的行为广告系统（如Adnostic [58]、RePriv [29]、Privad [34]、MobiAd [36] 和 PiCoDa [49]）。与其简单地选择退出跟踪或事后推动数据保护，他们认为可以从一开始就嵌入隐私，并提出替代的广告技术，允许行为定位而不向广告网络透露用户的在线行为或兴趣档案。

尽管现有的隐私设计广告系统在某些方面存在显著差异，但它们都共享一些关键的设计组件。所有系统都提出了一种在客户端运行的软件代理，生成用户档案。所有系统至少都有一个共同的隐私目标，即不泄露该档案。所有这些设计都建议经纪人向客户端传输多个广告，其中并非所有广告都匹配用户档案。例如，这些广告可能都在某个兴趣类别内。然后，客户端从这些广告中本地选择最符合用户档案的广告，并将其展示给用户。客户端匿名报告此选择结果，而不让经纪人链接用户档案的不同部分。因此，主要的隐私机制是匿名性和不可链接性。

隐私设计的广告系统旨在成为行业吸引力的现实替代方案。然而，这些系统都没有充分探讨如何运行当前广告系统中的拍卖。没有这个组件，这些系统无法回答经纪人（如Google等广告网络）可以赚取多少收入的问题，从而降低了隐私设计广告系统的商业吸引力。在这篇论文中，我们解决了利用用户档案进行广告排名的同时保持用户档案隐私的拍卖挑战。

上述每个系统都声称具有实用性，即在合理成本下提供良好的隐私和实用性。然而，没有一个提议的设计在真实环境中部署和评估过。这篇论文试图填补这一空白，并回答一些基本问题：“隐私设计的广告真的实用吗？”、“能否传递相关广告？”、“是否可以在不侵犯用户隐私的情况下充分衡量系统？”、“细节中的未知因素是否会扼杀系统？”为此，我们构建、部署并评估了一个基于Privad设计 [33] 的功能齐全的隐私设计广告系统原型。我们的部署交付了功能性广告，即这些广告针对用户兴趣，在发布商网页上展示，链接到真实的购物网站，并确实促成了实际购买。除了Privad之外，我们还部署了一个分布式差分隐私用户分析系统PDDP [19]，作为我们收集实验数据的主要手段。

#### 1.3 贡献

总的来说，这篇论文为将隐私设计的广告从理论抽象转变为实际系统做出了以下贡献，使其既符合当前经济模式，又是当前非隐私设计的可行替代方案：

- 提出了两种新的隐私设计拍卖机制，并改进了之前的第三种设计。
- 分析了这三种设计在隐私属性、拍卖属性和防欺诈方面的权衡。
- 使用Bing搜索广告拍卖的追踪数据，分析了出价波动和拍卖时机对收入和广告排名的影响，并以此论证解决方案的可行性。
- 展示了第一个部署的功能齐全的隐私设计广告系统的设计和分析，初步表明隐私设计的行为广告是实用的。
- 分享了我们在使用差分隐私分析作为主要数据收集手段的大规模以用户为中心的研究实验中的经验，证明了这种方法的可行性。
- 分析了差分隐私数据收集过程中累积的隐私赤字的实际影响，得出结论认为差分隐私模型过于悲观，其噪声添加机制本身太弱，难以实用。

本论文中的一些材料之前已在技术报告 [33]、一系列会议论文 [34, 54, 19] 中发表，或正在提交给会议 [53]。

#### 1.4 论文结构

这篇论文分为两部分。第一部分解决了在利用用户档案进行广告排名的同时保持用户档案隐私的隐私设计拍卖的挑战。它定义了问题，广泛探索了解决方案空间，并讨论了所提解决方案的优缺点。第二部分展示了在一个合理的规模上构建和评估一个实用的隐私设计广告系统原型的努力。

第一部分包含第2章至第5章。第2章介绍了当前广告系统中的在线广告拍卖，并概述了一个抽象的替代广告模型，捕捉了现有隐私设计广告提案的关键方面。第3章描述了隐私设计广告系统中拍卖组件的设计目标。然后提出了三种解决方案，并详细讨论了每一种方案。第4章从隐私、拍卖质量和对拍卖组件的攻击等方面分析了这三种拍卖设计。第5章使用来自Microsoft Bing广告拍卖的数据分析了所提解决方案的性能。

第二部分包含第6章至第9章。第6章概述了Privad架构，并讨论了系统提供的隐私保证。它还概述了PDDP系统的设计，该系统能够在分布式环境中实现差分隐私数据收集。最后，它描述了构建和部署隐私设计广告系统的先前尝试。我们在第7章详细描述了我们构建的实验性Privad原型。第8章描述了我们在部署Privad原型方面的经验，并展示了部署期间获得的结果。第9章探讨了差分隐私数据收集系统在多大程度上可以用来理解隐私设计广告部署背后的实际情况。它还研究了由于我们的分析而累积的隐私赤字，并研究了最终用户的隐私影响。

第1章和第10章不属于这两部分。第1章是引言。第10章总结了论文，并概述了未来工作的方向。

---

**第一部分 隐私设计互联网广告中的拍卖**

---

**第二章 背景及相关工作**

为了使隐私设计的广告成为当前跟踪系统的可行替代方案，它必须在现有的商业模式内运作。特别是，它必须保留允许广告商竞争广告位并确定广告网络收入的拍卖机制。

当今在线广告系统最常见的定价模型是每次点击付费（PPC）：广告商不会因为向用户展示广告而向经纪人支付费用，而是只有在用户点击广告时才支付。经纪人通过广告商之间的拍卖来选择要展示的广告。在PPC系统中，经纪人通过根据“出价×点击概率”产品对竞争广告进行排名，并将最高排名的广告传输到客户端按排名顺序显示来最大化收入。当然，经纪人并不知道每个广告的确切点击概率。相反，经纪人尽可能准确地预测点击概率。这种预测基于许多相互关联的因素，如广告关键词、落地页关键词、用户搜索词或与正在浏览的网页相关的关键词、存储的用户特征等。例如，Microsoft在其Bing搜索广告拍卖中至少考虑了七个这样的因素，甚至更多。

用户档案对点击概率有很大影响。举一个简单的例子，假设用户搜索“跑鞋”。用户是男性还是女性，或者更喜欢品牌产品还是折扣产品，都会影响他或她更有可能点击哪种跑鞋广告。在隐私设计的广告系统中，经纪人无法访问用户档案：如果拍卖像今天一样在经纪人端进行，那么用户档案就不会被纳入结果中。因此，不会选择最高的“出价×点击概率”广告，导致收入低于应有的水平。

在本论文的这一部分，我们描述了在防止经纪人重建用户档案的同时利用用户档案进行拍卖的问题，并提出了三个基本解决方案。我们采取务实的方法来解决这个问题，寻求严格的隐私保证与实际业务和部署关切之间的良好平衡。因此，我们从隐私（包括用户和广告商）、收入、开销和易受攻击性等方面探讨了这三种方法的优缺点。我们使用了约2TB的Microsoft Bing拍卖追踪数据来指导和验证设计选择。

本章的其余部分描述了当前的在线广告系统（如Google和Microsoft）的工作方式。然后概述了一个抽象的替代广告模型，捕捉了现有隐私设计广告提案的关键方面。最后，提供了相关工作的概述。在此过程中，我们建立了术语并定义了基本组件。

#### 2.1 当前的次高价广告系统

在当前的广告系统 [31, 46, 22] 中，广告商向经纪人提交广告。每个广告都关联有一个出价、一个或多个关键词，以及可选的目标信息，如人口统计学（位置、年龄、性别）或兴趣。当客户端计算机进行搜索或接收带有广告框（放置广告的空间）的网页时，经纪人会识别出与搜索词或与网页相关的关键词匹配的广告，并运行一次拍卖。拍卖按最高预期收入（出价×点击概率）对选定的广告进行排名，并将一定数量的广告传输到客户端。正如前面所讨论的，估计点击概率时会考虑许多因素。我们将所有这些因素统称为质量分数Q，较高的值表示较高的预期点击概率。用B表示出价，则排名顺序为 (B × Q)。

当用户点击广告时，广告ID会被传输到经纪人。经纪人使用广义的次高价拍卖 [25] 来计算每次点击的成本（CPC），即广告商必须支付的价格。在这种方法中，支付的价格与排名在被点击广告之下的广告的出价挂钩。举一个简单的例子，假设广告商A愿意为每次点击支付最多5美元，而广告商B愿意支付10美元。在次高价拍卖中，A可以出价5美元，B可以出价10美元。B会赢得拍卖，但只会支付所谓的次高价，即比A的出价稍高一点，比如5.01美元。

次高价拍卖允许投标者出价为其愿意支付的最大金额，而不是频繁修改出价以寻找比下一个较低投标者稍高的价值。具体来说，CPC的计算公式为：

\[ \text{CPC} = \frac{B_n \times Q_n}{Q_c} \]

其中，\( B_n \) 和 \( Q_n \) 是排名在下一个较低广告的出价和质量分数，而 \( Q_c \) 是被点击广告的质量分数。这个CPC公式反映了广告商在首次价格拍卖中击败下一个排名广告所需支付的最低金额。注意，即使下一个排名广告实际上出价更高，这个公式也防止了广告商支付超过其出价的金额。

#### 2.2 抽象的隐私设计广告

尽管在第1.2节中引用的隐私设计广告系统在某些方面存在显著差异，但它们都共享一些关键的设计组件。所有系统都提出了一种在客户端运行的软件代理，生成用户档案。所有系统至少都有一个共同的隐私目标，即不泄露该档案。所有这些设计都建议经纪人向客户端传输多个广告，其中并非所有广告都匹配用户档案。在本节中，我们描述了一个抽象的隐私设计广告系统，该系统捕捉了现有提案的关键方面。

抽象的隐私设计广告系统的主要组成部分包括今天的跟踪系统、经纪人、客户端和广告商。用户档案存储在客户端（即用户的计算机或用户信任的设备：这对我们的目的来说并不重要）。每个广告都关联有目标信息。用户档案被定义为确定广告的目标信息与用户的匹配程度所需的信息。为了生成用户档案，客户端监控用户行为（即用户的搜索、浏览、购买等）。

抽象的隐私设计系统的隐私目标是：

- **匿名性**：经纪人不能将任何学到的信息与任何用户的个人识别信息（包括网络地址）关联起来；
- **不可链接性**：经纪人不能将单独的学习信息单元与单个（匿名的）客户端关联起来。这防止了经纪人建立用户档案，然后使用外部获取的知识将其与已知用户关联起来。

假定经纪人是诚实但好奇的。我们认为这接近现实（像Google这样的经纪人通常可以信任他们会按照他们声称的方式行事）。然而，我们认为最好避免让经纪人通过难以察觉的作弊手段获得高价值信息，我们的设计反映了这一信念。

图2.1展示了抽象的隐私设计广告系统的基本架构和消息交换。所有消息的网络层地址都被匿名化，我们将其表示为匿名代理。消息经过加密，以防止匿名代理查看。客户端请求一组特定类型的广告（即某种产品或服务）。请求必须足够通用，使得大量客户端可以合法地发出请求（即K-匿名性和L-多样性）。传输给客户端并存储的一组匹配类型的广告，每个广告都有标识符A和关联的目标信息。当广告框呈现给客户端时，例如在网页上，客户端从存储的广告中选择最符合用户档案的广告，并将其放入广告框供用户查看。客户端报告在具有给定URL的网页上查看和点击广告A。消息中没有任何内容可以让经纪人将不同消息链接为来自同一用户。

这种隐私设计模型有两个必要的通信渠道，分别是广告传输和查看/点击报告。这两个渠道都为经纪人提供了学习用户档案信息的机会，目前的隐私设计广告系统保护了这些渠道。任何必须传达的新信息都必须确保不泄露用户档案信息。