The top graph shows RBB customers, (A1), consisting of
DSL/FTTH/CATV residential users. The residential broad-
band customer traﬃc already exceeds 260Gbps in evening
hours. The inbound and outbound traﬃc volumes are al-
most equal, and about 120Gbps is constantly ﬂowing in
both directions, probably due to peer-to-peer applications
which generate traﬃc independent of daily user activities.
The diurnal pattern indicates that home user traﬃc is dom-
inant, i.e., the traﬃc increases in the evening, and the peak
hours are from 21:00 to 23:00. Weekends can be identiﬁed
by larger daytime traﬃc although the peak rates are similar
to weekdays’. The outbound traﬃc to customers is slightly
larger than the inbound, even though it is often assumed
that home users’ downstream traﬃc is much larger than up-
stream. We believe that peer-to-peer applications contribute
signiﬁcantly to the upstream traﬃc as we will see in Section
4. Figure 7 compares the RBB customer inbound traﬃc in
November 2004 and November 2005. The overall increase
appears to be derived from the growth of the constantly
ﬂowing traﬃc.
The bottom graph in Figure 6 shows the weekly traﬃc
of non-RBB customers (A2). Since this group also includes
leased lines used to accommodate second or third level ISPs,
the traﬃc pattern still appears to be dominated by residen-
tial traﬃc, which is indicated by the peak hours and the
diﬀerences between weekdays and weekends. However, we
Figure 7: Growth of inbound traﬃc of RBB cus-
tomers between November 2004 and November 2005
also observe oﬃce hour traﬃc (from 8:00 to 18:00) in the
daytime on weekdays but traditional oﬃce customer traﬃc
is smaller than residential customer traﬃc. The traﬃc pat-
terns common to both graphs in Figure 6 are diﬀerent from
well-known academic or business usage patterns in which
the peak is found during oﬃce hours [4, 5, 25].
3.3 External Trafﬁc
The external traﬃc groups are used to understand the
total traﬃc volume in backbone networks. The top graph in
Figure 8 shows traﬃc to and from the six major IXes (B1).
It is apparent that the traﬃc behavior is strongly aﬀected
by residential traﬃc.
Figure 8: Aggregated weekly traﬃc for the 6 ma-
jor IXes (top), other domestic (middle) and inter-
national (bottom) in November 2005
The middle graph in Figure 8 shows the external domes-
tic traﬃc (B2) including regional IXes, private peering and
transit but not including traﬃc for the six major IXes. The
traﬃc pattern is very similar to the top graph.
The bottom graph in Figure 8 shows international traﬃc
(B3). The inbound traﬃc is much larger than the outbound,
and the traﬃc pattern is clearly diﬀerent from the domestic
traﬃc. The peak hours are still in the evening, but out-
bound traﬃc volume is virtually ﬂat when compared to the
inbound volume, suggesting that the traditional behavior of
Japanese users downloading content from overseas is still
a non-negligible part of international traﬃc. At the same
time, the constant part is about 70% of the average inbound
rate, which could be due to machine-generated traﬃc (e.g.,
peer-to-peer ﬁle-sharing).
3.4 Prefectural Trafﬁc
In order to investigate regional diﬀerences, i.e., between
metropolitan and rural areas, we collected regional traﬃc
data of the 47 prefectures. Figure 9 illustrates aggregated
traﬃc of one metropolitan prefecture (top) and of one rural
prefecture (bottom). Both graphs exhibit similar temporal
patterns such as peak positions and weekday/weekend be-
havior. In addition, about 70% of the average traﬃc is con-
stant regardless of the traﬃc volume. These characteristics
are common to other prefectures. One noticeable diﬀerence
is that metropolitan prefectures experience larger volumes
of oﬃce hour traﬃc, probably due to larger business usage.
Figure 9: Example prefectural traﬃc: a metropoli-
tan prefecture (top) and a rural prefecture (bottom)
Figure 10 plots traﬃc volumes and populations for the 47
prefectures. We found that a prefecture’s traﬃc is roughly
proportional to the population of the prefecture. The re-
sult indicates that there is no clear regional concentration
of heavy-hitters of the Internet. That is, the probability
of ﬁnding a heavy-hitter in a given population is constant
and the distribution of aggregated traﬃc volume directly
depends on the population. A possible reason is the avail-
ability of fairly universal access services in Japan; 100Mbps
ﬁber access is available in most areas.
4. ANALYSIS OF PER-CUSTOMER
TRAFFIC
This section analyzes Sampled NetFlow data from one of
the ISPs. By comparing the aggregated traﬃc graphs in the
previous section with the ISP’s corresponding graphs, we
can say that the traﬃc characteristics are consistent. Thus,
although the data sets are from only one ISP, the results are
likely to represent Japanese residential traﬃc.
Table 5 shows the number of unique active users identiﬁed
by customer IDs in the February data set. As we explain
later, users are classiﬁed into two groups by average daily
inbound traﬃc, one of more than 2.5 GB/day and the other
of less than 2.5GB/day. The total number of active users of
]
s
p
b
G
[
c
i
f
f
a
r
T
3.0
2.5
2.0
1.5
1.0
0.5
0.0
0
In
Out
5000
Population [x 1000]
10000
Figure 10: Prefectural traﬃc volumes are roughly
linear to populations
in
out
1
c
i
f
f
a
r
t
e
v
i
t
a
l
u
m
u
C
0.8
0.6
0.4
0.2
0
10-6
10-5
10-4
10-3
10-2
Cumulative heavy hitters
10-1
100
Figure 11: Cumulative distribution of traﬃc volume
of heavy-hitters in decreasing order of volume
DSL is slightly higher than ﬁber, but there are more heavy-
hitters among ﬁber users.
Table 5: Ratio of ﬁber and DSL active users in the
February 2005 data set
ratio (%) ≥ 2.5GB/day (%) < 2.5GB/day (%)
95.54
42.79
52.75
100
46.45
53.55
4.46
3.66
0.80
total
ﬁber
DSL
4.1 Distribution of Heavy-hitters
Figure 11 shows the cumulative distribution of the total
traﬃc volume of heavy-hitters in decreasing order of volume.
The distribution is computed independently for inbound and
outbound traﬃc. The graph reveals a skewed traﬃc distri-
bution among users; the top N% of heavy-hitters use X% of
the total traﬃc. For example, the top 4% use 75% of the
total inbound traﬃc, and 60% of the outbound.
In other
words, a small group of heavy-hitters represent a signiﬁcant
part of the total traﬃc.
Figure 12 shows the (complementary) cumulative distri-
bution of daily traﬃc per user on a log-log scale, and com-
pares the total users (top) with the ﬁber users (middle) and
the DSL users (bottom). The daily traﬃc volume is the
average for the week, and the distribution is computed in-
dependently for inbound and outbound traﬃc.
100
10-1
10-2
10-3
10-4
10-5
n
o
i
t
u
b
i
r
t
s
i
d
e
v
i
t
a
l
u
m
u
C
10-6
104
105
100
10-1
10-2
10-3
10-4
10-5
n
o
i
t
u
b
i
r
t
s
i
d
e
v
i
t
a
l
u
m
u
C
10-6
104
105
100
10-1
10-2
10-3
10-4
10-5
n
o
i
t
u
b
i
r
t
s
i
d
e
v
i
t
a
l
u
m
u
C
10-6
104
105
in
out
106
Daily traffic per user [bytes]
108
109
107
1010
in
out
106
Daily traffic per user [bytes]
108
107
109
1010
in
out
106
Daily traffic per user [bytes]
109
108
107
1010
1011
1011
1011
Figure 12: Cumulative distribution of daily traf-
ﬁc per user: total users (top), ﬁber users (middle)
and DSL users (bottom). The lines are drawn at
2.5GB/day and the top 4% heavy-hitters, the knee
of the total users’ slope.
The distributions is heavy-tailed but there is a knee in