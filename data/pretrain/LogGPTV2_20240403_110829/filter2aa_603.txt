openjdk8 编译与clion 调试
1
openjdk8 编译与clion 调试
Created
Tags
Mac catalina 10.15.7 ， base java version = 1.8.91
step by step: 
brew install mercurial 
brew install autoconf 
brew install freetype 
brew install ccache
xcode-select install or xcode-select —install 
gcc -v
Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-
include-
dir=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/4.2.1 
Apple clang version 12.0.0 (clang-1200.0.32.29) 
Target: x86_64-apple-darwin19.6.0 
Thread model: posix 
InstalledDir: 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
ll /usr/bin/llvm-g++ 
lrwxr-xr-x  1 root  wheel     7B 10 29  2019 /usr/bin/llvm-g++ -> clang++
ll /usr/bin/llvm-gcc 
lrwxr-xr-x  1 root  wheel     5B 10 29  2019 /usr/bin/llvm-gcc -> clang
@October 14, 2021 5:24 PM
openjdk8 编译与clion 调试
2
clang++ -v 
Apple clang version 12.0.0 (clang-1200.0.32.29) 
Target: x86_64-apple-darwin19.6.0 
Thread model: posix 
InstalledDir: 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
clang -v 
Apple clang version 12.0.0 (clang-1200.0.32.29) 
Target: x86_64-apple-darwin19.6.0 
Thread model: posix 
InstalledDir: 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
download jdk8u least source code from codebase
hg clone http://hg.openjdk.java.net/jdk8u/jdk8u jdk8u
chmod 777 get_source.sh
./get_source.sh
openjdk8 编译与clion 调试
3
chmod 777 configure
./configure --with-debug-level=slowdebug
openjdk8 编译与clion 调试
4
sudo make LOG=trace all
openjdk8 编译与clion 调试
5
if you laptop have 8 core 16 threads, may be 10mins.
if you get some problem, congratulations, You fuck up.
CMakeLists.txt
cmake_minimum_required(VERSION 3.14) # 这个设置不需要严格对应，⾃⼰建个测试项⽬复制过来这段即可 
openjdk8 编译与clion 调试
6
project(hotspot) 
file(GLOB_RECURSE SOURCE_FILES "*.cpp" "*.hpp" "*.c" "*.h") 
include_directories(hotspot/src/share/vm) 
include_directories(hotspot/src/cpu/x86/vm) 
include_directories(hotspot/src/share/vm/precompiled) 
include_directories(hotspot/src/share/vm/utilities) 
add_executable(hotspot ${SOURCE_FILES})
using LLDB create 127.0.0.1 localhost in hosts.
enjoy it.
openjdk8 编译与clion 调试
7