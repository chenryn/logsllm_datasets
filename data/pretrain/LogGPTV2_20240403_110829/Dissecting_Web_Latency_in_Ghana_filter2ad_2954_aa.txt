title:Dissecting Web Latency in Ghana
author:Yasir Zaki and
Jay Chen and
Thomas P&quot;otsch and
Talal Ahmad and
Lakshminarayanan Subramanian
Dissecting Web Latency in Ghana
Yasir Zaki, Jay Chen
New York University Abu
PI:EMAIL
PI:EMAIL
Dhabi, UAE
Thomas Pötsch
University of Bremen
Bremen, Germany
thp@comnets.uni-
bremen.de
Talal Ahmad,
Lakshminarayanan
Subramanian
CS, NYU and CTED, NYUAD
{ahmad, lakshmi}@cs.nyu.edu
ABSTRACT
Web access is prohibitively slow in many developing regions
despite substantial eﬀort to increase bandwidth and network
penetration. In this paper, we explore the fundamental bot-
tlenecks that cause poor web performance from a client’s
perspective by carefully dissecting webpage load latency con-
tributors in Ghana. Based on our measurements from 2012
to 2014, we ﬁnd several interesting issues that arise due to
the increasing complexity of web pages and number of server
redirections required to completely render the assets of a
page. We observe that, rather than bandwidth, the primary
bottleneck of web performance in Ghana is the lack of good
DNS servers and caching infrastructure. The main bottle-
necks are: (a) Recursive DNS query resolutions; (b) HTTP
redirections; (c) TLS/SSL handshakes. We experiment with
a range of well-known end-to-end latency optimizations and
ﬁnd that simple DNS caching, redirection caching, and the
use of SPDY can all yield substantial improvements to user-
perceived latency.
Categories and Subject Descriptors
C.2.2 [Computer-Communication Networks]: Network
Protocols; C.4 [Performance of Systems]: Measurement
techniques
Keywords
Web; HAR; DNS; Developing countries
1.
INTRODUCTION
Web access in developing regions suﬀers from a continu-
ally widening content-connectivity gap: the rate of growth in
connectivity is outstripped by the growth in the complexity
of web pages. Despite lagging broadband and latency statis-
tics relative to the Organisation for Economic Co-operation
and Development (OECD) countries, Internet infrastructure
in developing regions has been improving steadily over the
past decade [1]. For example, Accra (the capital of Ghana)
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for proﬁt or commercial advantage and that copies bear this notice and the full citation
on the ﬁrst page. Copyrights for components of this work owned by others than the
author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior speciﬁc permission
and/or a fee. Request permissions from permissions@acm.org.
IMC’14, November 5–7, 2014, Vancouver, BC, Canada.
Copyright is held by the owner/author(s). Publication rights licensed to ACM.
ACM 978-1-4503-3213-2/14/11 ...$15.00.
http://dx.doi.org/10.1145/2663716.2663748.
has several major undersea cable landing sites including:
ACE, Main One, Glo1, and WACS [5]. Although this ap-
pears promising, the web has seen a 30 to 50-fold increase
in average page complexity over the same decade [4, 11, 15,
19], which signiﬁcantly outpaces the growth in connectivity.
Recent works have explored facets of slow Internet in de-
veloping regions from diﬀerent perspectives, geographic lo-
cations, and infrastructural contexts. Some works ﬁnd that
high latency, buﬀer bloat, and packet loss are the central
causes of poor performance [25]. Other works examine prob-
lems caused by the interaction between low bandwidth links
and high network contention by TCP ﬂows [16]. Yet other
research cites routing protocols and architectural issues such
as Content Distribution Networks (CDN) server placement
among the central problems [4].
In this paper, we aim to understand the causes of user-
perceived web latency in Ghana as it represents one of the
most well connected developing countries in the world [5].
Unlike prior work in developing regions [16, 18, 25] that
focus on access link performance in developing regions, our
measurements detail the core infrastructural issues that lead
to a poor web browsing experience. A number of works
study similar web performance issues in ﬁxed/wired or mo-
bile environments such as [14, 31], but our unique context
results in a diﬀerent set of issues.
In our measurement driven approach, we collected down-
load traces of Alexa’s [2] top webpages from diﬀerent loca-
tions in Ghana from 2012 to 2014. We also collected simi-
lar measurements in three diﬀerent well-connected locations
around the world over the same time period for compari-
son. We found the following key results: bandwidth is less
of a bottleneck than several other factors, the actual time
spent downloading content represents only a small fraction
of the end-to-end page download time, and the main cul-
prit of user-perceived web latency is actually DNS resolu-
tion. Speciﬁcally, DNS caching along with placement of the
root and top level domain DNS servers play the most sig-
niﬁcant role in the overall web performance. We ﬁnd that
caching DNS records can decrease page load times in Ghana
by ﬁve times. We also observe that other important fac-
tors for high end-to-end latency include HTTP redirections
and TLS/SSL handshakes for secure pages. Caching HTTP
redirects can enhance the page load time by 20%, and long
TLS/SSL handshakes are present in 15% of Alexa page re-
quests. Finally, to understand the eﬀects of ﬂow contention,
we experimented with SPDY and found that depending on
the server locations, SPDY can reduce some page load times
in Ghana by up to 30%.
241Figure 1: HAR trace visualization of craigslist.com from Accra, Ghana cellular in 2012
2. MOTIVATION
Information and Communication Technologies (ICTs) have
been linked to development [26], where in the last four years,
developing nations have experienced a signiﬁcant increase in
the number of Internet users, which is a promising trend.
Between 2009 and 2011, Ghana experienced a huge increase
in the number of Internet users from 5.4% to 14.1% [12],
which is the largest increase in the country’s history. A
similar trend is being reﬂected in other developing coun-
tries, resulting in millions of new Internet users every year.
However, the Internet that these users encounter is often
extremely slow and cannot take advantage of all available
content on the web.
Very little eﬀort has been expended on understanding and
solving the Internet problems in developing regions relative
to the number of people these issues aﬀect. Even very basic
questions like why the Internet is so slow is a challenging
question to answer due not only to the myriad of diﬃculties
in collecting data in these regions, but also due to the mul-
titude of answers depending on the context. Interestingly,
when these problems are investigated, ﬁndings range widely
from the relatively obvious, e.g. low bandwidth, high latency,
unreliability, and loss, to the esoteric, e.g. mis-routing due
to lack of peering points, small-packet regimes, etc. [20, 13,
25, 16]. Solutions to these problems are similarly varied [24,
23, 17]. Motivated by these diﬀering ideas, in this paper we
seek to answer why page loading times are so slow in Ghana.
3. METHODOLOGY
We used standard oﬀ-the-shelf tools to collect our traces.
We collected HTTP Archive (HAR) browser-level traces us-
ing Firefox Version 13 with the Firebug extension and Se-
lenium [7] to automate the process. The browser cache is
cleared after each webpage. We also used the Linux dig
command-line tool to examine DNS requests in more detail.
Table 1: Experiments details
Time
Type
Alexa’s top
500 global Wiﬁ & 3G
August 2012
March -
July 2013
August 2014
DNS
dig+trace
DNS
dig+trace
April 2014
SPDY
August 2014
Alexa’s top
1000 global Wiﬁ & 3G
Both
August 2014
Alexa’s top
Both
500 local Wiﬁ & 3G
Link
Both
Wiﬁ
Wiﬁ
Wiﬁ
Location
Accra and
Hohoe (3G)
Accra, Abu Dhabi
NY and Bremen
Accra
Accra, Abu Dhabi
NY and Bremen
Accra, Abu Dhabi
NY, Bremen and
Kumawu (3G)
Accra, Abu Dhabi
NY, Bremen and
Kumawu (3G)
We ran our experiments from six locations in total: New
York City, Bremen (Germany), Abu Dhabi (UAE), Accra
(Ghana), Kumawu and Hohoe (both small cities in Ghana).
In New York, Bremen, Abu Dhabi, and Accra the machines
we used were state-of-the-art with a standard Linux dis-
tribution (Ubuntu and CentOS), and the experiments were
conducted on university campus networks with over 10Mbps
connections using Wiﬁ connectivity and 3G HSPA cellular
network connections. In Hohoe/Kumawu, our traces were
collected from a 3G HSPA connection. In Hohoe, the fastest
wired network was limited to ADSL at a single Internet Cafe
and we were not able to collect data from that location.
For our experiments, we collected web traces of Alexa’s [2]
top 1000 global and top 500 local websites, collected results
of DNS performance using the “dig +trace” command, and
evaluated SPDY performance in Ghana, see Table 1.
4. DISSECTING PAGE LOADS
In this section we focus on identifying problems associated
with the webpage download process in Ghana by examining
the set of browser-level traces we collected from Ghana in
2012.1 Some of the timing information we are able to collect
from the HAR ﬁles include:
• Blocking: waiting time of a request in the queue, due
to the maximum number of parallel TCP connections
that a browser can open per server
• DNS Lookup: time required to resolve a host name
• Connecting: TCP connection setup time
• Sending: the time required to send HTTP request to
• Waiting: the time required to receive a response from
• Receiving: the time required to read the entire re-
or an URL
the server
the server
sponse from the server
Figure 1 gives an example of a HAR ﬁle visualized as a
waterfall chart.
4.1 Domain Name Server (DNS)
From our Ghana traces, the immediate observation is that