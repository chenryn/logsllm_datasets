User: How to configure Nginx reverse proxy to support multiple domain names and multiple subdomains on one server?
Assistant: 1. First, install Nginx on the server. The command is as follows: ``` sudo apt-get update sudo apt-get install nginx ``` 2. Create multiple configuration folders to store configuration files for different domain names and subdomain names. For example, subfolders example.com and sub.example.com could be created under /etc/nginx/. ``` sudo mkdir /etc/nginx/example.com sudo mkdir /etc/nginx/sub.example.com ``` 3. Create a configuration file under each subfile. For example, we can create a file named example.conf under /etc/nginx/example.com/ and add the following content in it: ``` server { listen 80; server_name example.com www.example.com; location / { proxy_pass http://localhost:3000; } } ``` In this example, we use Nginx reverse proxy to forward all requests to local port 3000. 4. Similarly, we also create a file named sub.example.conf under /etc/nginx/sub.example.com/, and add the following content in it: ``` server { listen 80; server_name sub. example.com; location / { proxy_pass http://localhost:4000; } } ``` In this example, we proxy the request of the subdomain name sub.example.com to the local port 4000. 5. Then, edit the Nginx global configuration file /etc/nginx/nginx.conf, and modify the include line in the http block to include the configuration files in the subfolder we just created. For example, we could add the following two lines: ``` http { ... include /etc/nginx/example.com/*.conf; include /etc/nginx/sub.example.com/*.conf; ... } ``` 6. Finally, restart the Nginx service with the following command: ``` sudo service nginx restart ``` Now, your Nginx reverse proxy will support multiple domain names and multiple subdomains on one server. You can add more configuration files as needed to support more domain names and subdomain names.