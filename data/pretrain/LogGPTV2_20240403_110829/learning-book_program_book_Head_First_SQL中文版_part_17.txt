date
type
rating
comments
Krispy King
8:50 cm
9/27
plain glazed
10
almost perfect
Duncan’s Donuts
8:59 am
8/25
NULL
6
greasy
Starbuzz Coffee
7:35 pm
5/24
cinnamon cake
5
stale, but fasty
Duncan’s Donuts
7:03 pm
4/26
Jelly
>
not enough jelly
doughnut_ratings
location
time
date
type
comments
Krispy King
8:50 am
9/27
glazed
10
almost perfect
Duncan’s Donuts
8:59 am
8/25
NULL
6
greasy
Starbuzz Coffee
7:35pm
5/24
cinnamoncake
5
stale,but fasty
Duncan’s Donuts
7:03 pm
4/26
jelly
1
not enough jelly
146
第3章
---
## Page 179
DELETE和UPDATE
UPDATE的规则
■使用UPDATE，你可以改变单一列或所有列的值。在SET子
句中加入更多column=value组，其间以逗号分隔：
UPDATE your_table
SET first_column ='newvalue',
second_column ='another_value';
UPDATE可用于更新单一行或多行，一切都交给WHERE子
句决定。
没有登问题
没有蠢问题
没有蠢问题
对于我们这个只有4行的表而言，效果还不错。但如果在
有成千上百条记录的表中使用这种方式，你将会改变每个
新值。
KnispyKing行的type 列的值。
好像不太一样，是吗？
WHERE的子句瞄准了正确的行，否则就先用SELECT确认
与等号右边的值相等。
UPDATE doughnut_ratings SET type =
‘glazed'wHERE location ='Krispy King';
改的列和值都放在一个SET子句中，如前例所示。
当前位置
147
---
## Page 180
不再用DELETE/INSERT
UPDATE是我们的新INSERT-DELETE
使用UPDATE时，完全不会删除任何内容，只是把旧记录回收
并替换为新记录。
以UPDATE 开...
然后写下色含要更新记录的表的名称。
入
SET用于指定要对记录
UPDATEtablename
做的改变
SETcolumnname=newvalue
WHEREcolumnname=somevalue;
可靠的WHERE子句能帮助我们精确地喘
准要改变的记录。
UPDATE语句可以
取代DELETE与
INSERT的组合
让我们看看这个命令实际套用在
clown_info表上的行动。
更新clown_into表中
的一条记录。
L
改变Tracy在last_see
UPDATE clown info
列中的值。
别忘记用于转换单引
SET last seen ='Tracy\'s'
号意义的反斜线。
WHERE name ='Mr.Hobo'
这里的WHERE子句用于精确指定要改
AND last seen ='Dickson Park';
变的记录一本例中，Mr.Hobo的记录的
刀
last_seen 是Dickson Patk。
148
第3章
---
## Page 181
DELETE和UPDATE
UPDATE在行动
使用uPDATE，Mr.Hobo的记录的last。
Seen列值已从PartyfroEricGray改变为
Mr.Hobo sighted at
Tracy'se
Tiacy's
这是需要添加的信易，我们
全用UPDATE来实瑰。
UPDATEclown_info
SET last_seen='Tracy\'s'
WHEREname='Mr.Hobo'
AND last_seen ='Party for Eric Gray';
name
last_seen
appearance
activities
Elsie
Cherry Hill Senior Center
F,red hair,green dress,huge feet
balloons,little car
Pickles
Jack Green's party
M,orange hair,blue suit,hugefeet
mime
nuggles
Ball-Mart
F,yellow shirt,baggyred pants
horn,umbrella
Hobo
BG Circus
M,cigar,black hair,tiny hat
violin
abelle
Belmont Senior Center
F,pink hair,huge flower,blue dress
yelling,dancing
Oakland Hospital
M,blue hair,red suit,hugenose
balloons
Aillstone Mall
F,orange suit,baggy pants
dancing.singing
rl'sAutos
F,all pink and sparkly
balancing.littlecar
M.in drag.polka dotted dress
singing,dancing
racy's
M,gr
dpurplesuit.poin
Millstone Mall
singing
uepants
horn,umbrella
UPDATE
dress
singing,dancing
ointynose
climbing into tiny car
Mr.Hobo
Trdcy'sc
violin
使用UPDATE即可直接编辑，而不
用留着删除不正确数据的风险（虽
然会覆盖现有的数据）。
当前位置
149
---
## Page 182
磨笔上阵
磨笔上阵
更新小丑的活动
这一次，让我们做对一切。为每次的目击报告填写UPDATE语句。我们
先做一个范例来带领大家开始。然后再填写右边的clown_info表，让它
看起来像是执行UPDATE语句后的样子。
UPDATE clown_indo
Zippo spotted singing
SETactivities'singing
WHERE name='Zippo'
Snuggles now wearing
baggy blue pants
Bonzo sighted at
Dickson Park
Sniffles seen climbing
into tiny car
Mr. Hobo last seen at
party for Eric Gray
150
第3章
---
## Page 183
DELETE和UPDATE
name
last_seen
appearance
activities
Elsie
Cherry HillSenior Center
F,red hair,green dress,hugefeet
balloons,little car
Pickles
JackGreen'sparty
M,orangehair,blue suit,hugefeet
mime
Snuggles
Ball-Mart
F,yellow shirt,baggyredpants
horn,umbrella
Mr.Hobo
BGCircus
M,cigar,black hair,tiny hat
violin
Clarabelle
Belmont Senior Center
F,pink hair,hugeflower,blue dress
yelling,dancing
Scooter
Oakland Hospital
M,blue hair,red suit,huge nose
balloons
Zippo
Millstone Mall
F,orange suit,baggy pants
dancing
Babe
Earl’s Autos
F,all pink and sparkly
balancing,littlecar
Bonzo
M.indrag,polkadotted dress
singing,dancing
Sniffles
Tracy's
M,green and purple suit,pointy nose
name
last_seen
appeatance
activities
Elsie
Cherry Hill Senior Center
F.red hair, sreen dress, huse beet
balloons,little car
Pickles
ack Green's party
M,oranse hait, 6tue suit, huse seet
mime
Snussles
Mt.Hobo
Clarabelle
Belmont Senior Center
F.pink hai.huse slowet, 6lue dess
yellins.dancing
Scooter
Oaktand Hospital
M.6lue hair.ted suit,huse nose
balloons
Zippo
Babe
East's Aatos
F.alt pink and spazkly
balancins,lictle car
Bonxo
Snisstes
当前位置
151
---
## Page 184
磨笔上阵解答
磨笔上阵
解答
更新小丑的活动
这一次，让我们做对一切。为每次的目击报告填写UPDATE语句。
我们先做一个范例来带领大家开始。然后再填写右边的clown_
info表，让它看起来像是执行UPDATE语句后的样子。
.UPDATE..clown_info.
Zippo spotted singing
SET activities singing
WHERE n4me='Zippo
我们并不想毛再其他已经在
appeaance列中的信息。请确
定所有信息都在这·里..
Snuggles now wearing
....UPOATE..clawx_.infa..
SETappearance=F,yellow shiet, bassy 6lue pants'
baggy blue pants
WHEREameSAte
Bonzo sighted at
UPDATE clown_info
SET-·tast_seex·=.Dicksox·Park·...
Dickson Park
WHERE nameBonxo'
.UPDAT.E..claw.ino....
Snifles seen climbing
SETactivities='climbing into tiny cat'
WHERE·KMe'SASSte
into tiny car
UPOATE-etow_ims....
Mr. Hobo last seen at
SET last_seen='EricGtay'sParty
party for Eric Gray
H.WW.3H
152
第3章
---
## Page 185
DELETE和UPDATE
name
last_seen
appearance
activities
Elsie
CherryHillSenior Center
F,red hair,green dress,huge feet
balloons,little car
Pickles
JackGreen'sparty
M,orange hair,blue suit,huge feet
mime
Snuggles
Ball-Mart
F,yellow shirt,baggy red pants
horn,umbrella
Mr. Hobo
BG Circus
M.cigar,black hair,tiny hat
violin
Clarabelle
BelmontSenior Center
F, pink hair,huge flower, blue dress
yelling,dancing
Scooter
Oakland Hospital
M,blue hair,red suit,huge nose
balloons
Zippo
Millstone Mall
F,orange suit,baggy pants
dancing
Babe
Earl's Autos
F,all pink and sparkly
balancing,littlecar
Bonzo
M,in drag.polka dotted dress
singing,dancing
Sniffles
Tracy's
M,green and purple suit,pointy nose
灰色的记录没有改变，因为我
们没有进行更新。
name
last_seen
appearance
activities
Elsie
Cherry Hill Senior Cekter
F.red hair. sreen dress，huge beet
balloons.little car
Pickles
Jack Creen's party
M.orange hair, 6lue suit, huge beet
mime
Snussles
Ball-Mart
F.yellow shit,bassy bluepants
horn,umbrella
Mr.Hobo
Eric Cray'sParty
M,cisar,6lack hair,tiny hat
violin
Clarabelle
Belmont Senior Center
F.pink hair,huge blower, 6lue dress
yelling.
dancing
Scooter
Oakland Hospital
M.6lue hair,red suit,huge nose
balloons
Zippo
Millstone Mall
F.orange suit, 6assy pants
sinsing
Babe
Earl's Autos
F.all pink and sparkly
balancing.
little car
Bonxo
Dickson Park
M,in dras. polka dotted dress
singing.
dancing
Snisfles
Tracy's
M,sreen and puple suit.pointy nose
Elimbinsintotinycar
只有这些在UPDATE语句中使用SET设定
的记录部分才会改变。至此，
我们终于
当前位置
153
---
## Page 186
更多更新
UPDATE定价
还记得稍早曾试着修改一些drink_info表中的饮料定
价吗？要把原本定价2.5美元的饮料改为3.5美元，原本
定价3.5美元的饮料的改为4.5美元。
drink_info
drink_name
cost
carbs
color
ice
calories
Blackthorn
3
8.4
yellow
y
33
Blue Moon
2.5
3.2
blue
y
12
Oh My Gosh
3.5
8.6
orange
y
35
Lime Fizz
2.5
5.4
green
y
24
Kiss on the Lips
5.5
42.5
purple
y
171
Hot Gold
3.2
32.1
orange
N
135
Lone Tree
3.6
4.2
red
y
17
Greyhound
A
14
yellow
50
Indian Summer
2.8
7.2
brown
N
30
Bull Frog
2.6
21.5
tan
y
80