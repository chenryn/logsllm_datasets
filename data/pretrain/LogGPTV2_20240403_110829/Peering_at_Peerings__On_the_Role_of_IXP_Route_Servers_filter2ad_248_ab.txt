one in operational use by one of the IXPs with which we have an
ongoing collaboration.
Like all routing daemons, BIRD maintains a Routing Informa-
tion Base (RIB) which contains all BGP paths that it receives from
its peers – the Master RIB. However, when using BIRD as RS, it
can be conﬁgured to (i) maintain peer-speciﬁc RIBs and (ii) use
them instead of the Master RIB for peer-speciﬁc BGP best path se-
lection (see Figure 3). When conﬁgured this way, each member AS
that peers with the RS maintains a BGP session with the RS, which
results in a peer-speciﬁc RIB. When IXP member AS X advertises
a preﬁx to the RS, it is ﬁrst put into the AS X-speciﬁc RIB. Next,
if this preﬁx passes the AS X-speciﬁc import ﬁlter, it is added to
the RS’ Master RIB. If the export ﬁlter of AS X allows it, then this
preﬁx will also be added to each AS Y-speciﬁc RIB, where AS Y
is any other IXP member that connects to the RS. Then the RS per-
forms a peer-speciﬁc best path selection and exports the preﬁx by
re-advertising it to each AS Y.
IXPs typically apply import ﬁlters to ensure that each mem-
ber AS only advertises routes that it should advertise. To derive
import ﬁlters, the IXPs usually rely on route registries such as
IRR [7]. This policy limits the likelihood of unintended preﬁx hi-
4The RIPE RS [19] was a precursor of the RS proposed in [26].
33AS X
AS Y
AS Z
BGP
BGP
...
AS X 
RIB
AS Y 
RIB
AS Z 
RIB
...
peer-speciﬁc
import ﬁlter
(IRR-based)
master
RIB
peer-speciﬁc
export ﬁlter
(BGP communities)
Figure 3: BIRD route server: Example setup with peer-speciﬁc
RIBs and import/export ﬁltering.
jacking and/or advertisements of bogon preﬁxes including private
address space. With respect to export ﬁlters, they are typically trig-
gered by the IXP members themselves to restrict the set of other
IXP member ASes that receive their routes. The commonly used
vehicle for achieving this objective is to tag route advertisements to
the RS with RS-speciﬁc BGP community values [24]. These values
are set on a per route basis and restrict to which members the route
can be propagated. Thus, by using export ﬁlters, peers of the RS
can express policies.
Using peer-speciﬁc RIBs overcomes the hidden path problem,
because the BGP decision process is executed for each peer in-
dependently.
If the best route for a certain preﬁx cannot be re-
advertised to some particular members (e.g., because of export ﬁl-
ters), the RS can still select and advertise an alternative route to
those particular members – presuming that another, non-blocked
route is available.5 Maintaining separate RIBs for each RS peer has
a cost in terms of memory requirements and processing capabili-
ties. However, recent stress tests and real deployment performance
reports for BIRD at large IXPs [22, 33, 32] show that maintaining
about 400 RIBs, each with up to 100K preﬁxes, consumes roughly
4 GB of memory and can be achieved with commodity servers.
2.5 Looking glasses and RSes
The fact that network operators typically cannot see the results
of their route announcements within their own network makes de-
bugging BGP routing difﬁcult. To address this problem, the com-
munity has set up BGP looking glasses (LGes) and route monitors
(RMes) in many different locations across the Internet. LGes are
user-interfaces, co-located on routers. Many of them are publicly
accessible and can be used by anyone to execute a limited num-
ber of commands. On conventional LGes the commands include
ping, traceroute, as well as some BGP commands. The latter pro-
vides details about all BGP sessions of the router. In the past, LGes
have also been used by researchers to gain better visibility into the
AS-level topology and IXP-speciﬁc peering fabrics [28, 18].
LGes can also be co-located with RSes at IXPs. In this case, the
LGes act as proxies for executing commands against the Master
RIB of the RS and are equipped with additional capabilities that
may include commands which list (a) all preﬁxes advertised by all
peers and/or (b) the BGP attributes per preﬁx. Such LGes (referred
to as LG-RS below) are already available at some IXPs, including
DE-CIX and LonAP, and they have recently been used to explore
AS connectivity at IXPs [25].
5Also for iBGP route reﬂectors,
the advantage of using peer-
speciﬁc RIBs and independent decision processes is discussed [40].
IXP
L-IXP
M-IXP
S-IXP
Member ASes
Tier-1 ISPs∗
Large ISPs∗
Major Content/
Cloud Providers∗
RS (IPv4/IPv6)
Public RS-LG
(IPv4/IPv6)
Member ASes
using the RS
496
12
35
17
101
2
4
5
BIRD
Multi-RIB
BIRD
Single-RIB
Yes Yes, limited
commands
96
410
12
1
1
0
No
No
/
L-IXP
& M-IXP
50
2
4
5
/
/
43
Table 1: IXP proﬁles: members and RS usage.
3. DATA SOURCES
In this section, we describe the European IXPs with which we
have fruitful ongoing collaborations and that have been very forth-
coming with sharing their IXP-internal datasets with us. We pro-
vide details about these proprietary datasets as well as the public
IXP-external datasets that are at our disposal for this study.
3.1 Proﬁles of our IXPs
We focus in the following on the two IXPs (denoted L-IXP and
M-IXP) that operate a RS. These IXPs differ greatly in size (e.g.,
number of members and trafﬁc) and service offerings that they pro-
vide for their members. For comparison, Table 1 that summarizes
some key features of our IXPs and their members also includes
some basic information about our third IXP (denoted S-IXP). This
IXP is representative of the large number of smaller IXPs (i.e., less
than 20 members) that do not operate a RS. However, for the re-
mainder of this paper, we will only consider L-IXP and M-IXP and
will not use the S-IXP.
Large IXP (L-IXP): With close to 500 members and peak traf-
ﬁc that exceeded 3 Tbps in late 2013, this IXP is one of the largest
IXPs in Europe and worldwide.
It operates a layer-2 switching
fabric that is distributed over a number of colocations/datacenters
within a metropolitan area. Members can connect on ports rang-
ing from 1 to 100 Gbps. Its membership includes the full spectrum
of networks, including CDNs, content providers, hosters and the
whole range of ISPs (from Tier-1 to regional to local providers).
This IXP provides arguably one of the richest and most advanced
service offerings, including SLAs, remote peering,6 and black-holing
(mitigation of distributed denial of service attacks e.g., [8]). One of
its key service offerings is the free use of its RS. It operates two (for
redundancy) IPv4 and IPv6 RSes using a BIRD conﬁguration sim-
ilar to the one discussed in Section 2.4 with advanced LG support.
Medium IXP (M-IXP): This medium-sized IXP operates a layer-
2 switching fabric, and is present in several locations. Half of its
members are also members at the L-IXP. As of late 2013, this IXP
had 101 members and its peak trafﬁc exceeded 250 Gbps. It offers
ports ranging from 1 to 100 Gbps. Among service offerings such
as remote peering, it also offers the free use of its RS (again, two
for each IPv4 and IPv6). However, this RS does not support peer-
speciﬁc RIBs, and its LG allows the execution of only a limited set
of commands.
6The router of the “remote peer” can be located anywhere in the
world and is connected to the IXP typically via an Ethernet-over-
MPLS connection e.g., [2].
343.2
IXP-internal data: Route server
For both IXPs that operate a RS (i.e., L-IXP and M-IXP), we
have access to the data from their BIRD deployment. In the case of
L-IXP, we have weekly snapshots of the peer-speciﬁc RIBs, start-
ing in June 2013. For M-IXP, we have several snapshots of the
Master-RIB, starting in December 2013. In addition, for L-IXP,
we have all BGP trafﬁc to and from its RS that is captured on the
network interface via tcpdump.
The unique advantage of having access to these IXP-provided
control plane measurements is that they are rich enough to accu-
rately and completely reconstruct the “ground truth” in terms of
connectivity at these IXPs that has been established with the help
of the RS, i.e., the IXPs’ multi-lateral peering fabrics.
3.3
IXP-internal data: Trafﬁc
For each of our IXPs, we have access to data plane measure-
ments in the form of trafﬁc that is routinely collected from the
IXPs’ public switching infrastructures. More precisely, for each
IXP, the available datasets consist of massive amounts of sFlow
records [42], sampled from their public switching infrastructure.
The measured sFlow records contain Ethernet frame samples that
have been collected using random sampling (1 out of 16K). sFlow
captures the ﬁrst 128 bytes of each sampled frame. Thus, they con-
tain full Ethernet, network- and transport-layer headers, as well as
some bytes of payload for each sampled packet. For further de-
tails about relevant aspects of these collected sFlow records (e.g.,
absence of sampling bias, removal of irrelevant trafﬁc), see [17].
We rely on 4 continuous weeks of collected sFlow for each IXP.
For L-IXP we cover a 4-week period in August/September 2013,
and for M-IXP we cover a 4-week period in December 2013.7 In
addition, we also use snapshots collected at the L-IXP that date
back to 2011 and cover periods of two weeks.
Having access to these IXP-provided data plane measurements
makes it possible to examine the connectivity that has been estab-
lished without the use of the IXPs’ RSes (i.e., bi-lateral peerings).
However, more importantly, these measurements provide valuable
but hard-to-obtain information about how the two parties of an IXP
peering use that link and for what purpose.
3.4 Public IXP-speciﬁc data
In our work, we also rely on a number of widely-used public
datasets, including BGP data from the route collectors from RIPE
RIS, Routeviews, PCH [13], and Abilene [6]. We refer to them as
RM BGP data. Moreover, we use the data from the RS-LG at the L-
IXP in accordance with the method described in [25]. In addition,
we rely on data obtained from several publicly accessible LGes
which query the routing tables of routers that belong to members
peering at the L-IXP.
4. CONNECTIVITY: BI-/MULTI-LATERAL
Relying on our IXP-provided measurements, we show in this
section how we can get close to recovering the actual peering fab-
rics at the IXPs. We also illustrate what portions of those actual
peering fabrics can and cannot be recovered when using the differ-
ent public BGP data.
∗
The numbers reﬂect only the well-known and easy-to-identify
networks by business type to illustrate the existence of common
members. No attempt at a complete classiﬁcation has been made.
7To assess a possible bias due to the holiday season, we performed
our analysis also using only the ﬁrst week in December and got
consistent results.
Multi-lateral Peerings: RS RIBs
IPv4
IPv6
asym.
5,086
434
bi-only
3,727
75
asym.
14,153
594
symmetric
65,599
3,140
symmetric
34,596
L-IXP
M-IXP
1,173
Bi-lateral Peerings: Inferred from Data-Plane
bi-/multi
4,256
223
bi-/multi
14,673
399
bi-only
5,705
61
L-IXP
M-IXP
Total Peerings
L-IXP
M-IXP
Visibility in the RS Looking Glass
L-IXP
M-IXP
85,457 (70%)
3,795 (75%)
all multi-lateral
none
43,409 (35%)
1,682 (33%)
all multi-lateral
none
Table 2: Multi-lateral and bi-lateral peering links.
4.1 Connectivity: IXP-provided data
To determine if IXP members AS X and AS Y are using a ML
peering at the IXP, we rely on the IXP-provided RS data. More
speciﬁcally, for the L-IXP, we ﬁrst check if AS X and AS Y peer
with the RS. If so, we next check in the peer-speciﬁc RIB of AS
Y for a preﬁx with AS X as next hop. If we ﬁnd such a preﬁx, we
say that AS X uses a ML peering with AS Y. If we also ﬁnd AS Y
in the peer-speciﬁc RIB of AS X as next hop, we say that the ML
peering between AS X and AS Y is symmetric or bi-directional;
otherwise, we say that the ML peering between AS X and AS Y is
asymmetric.
Given that the RS at the M-IXP only uses the Master RIB but no
peer-speciﬁc RIBs, we re-implement the per-peer export policies
based upon the Master RIB entries to determine peerings via the
RS. More speciﬁcally, if there is a route for a preﬁx in the Mas-
ter RIB with AS X as next hop, we postulate a ML peering with
all member ASes that peer with the RS, including AS Y, unless
the community values associated with the route explicitly ﬁlter the
route via the peer-speciﬁc export ﬁlter to AS Y.
To determine if IXP members AS X and AS Y are using a BL
peering at the IXP, we rely on the IXP-provided trafﬁc measure-
ments. In particular, to conclude that AS X and AS Y established
a BL peering at the IXP, we require that there are sFlow records
in the IXP-provided trafﬁc data that show that BGP data was ex-
changed between the routers of AS X and AS Y over the IXP’s
public switching infrastructure.8 We cannot however differentiate
between asymmetric and symmetric BL peerings with these data
plane measurements.
Note that our methodologies yield a lower bound for BL peerings
and an upper bound for ML peerings, but there is evidence that
these bounds are in general very tight. For example, with respect
to BL peerings, our method is not signiﬁcantly biased by the sFlow
sampling rate because the numbers are very stable once we use data
from more than two weeks. Indeed, Figure 4 shows that for the L-
IXP, the additional BL peerings seen in the third (fourth) week are
less than 1% (0.5%). As far as ML peerings are concerned, our
method does not account for the fact that some RS peers might
reject the advertisements of the RS, which can result in some over-
counting by our method. At the same time, we ﬁnd member ASes
that use one and the same link for ML as well as for BL peering.
Our best efforts to reconstruct the actual ML and BL peering
fabrics of our IXPs is summarized in Table 2. We further break
8The routers’ IP addresses have to be within the publicly known
subnets of the respective IXP.
35)
I
P
X
−
L
(
s
n
o
s
s
e
s
i
20K
15K
10K
5K
0
0
100
200