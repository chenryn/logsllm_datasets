2018年1季度的网络犯罪所用的技巧和技术主要有加密货币挖矿，勒索软件和欺骗。下面我们一一进行分析。
# 加密货币挖矿恶意软件
恶意挖矿机对恶意软件来说是非常简单的一部分，许多的恶意软件家族已经将payload换成挖矿恶意软件或是增加了挖矿组件。总的来说，大多数的挖矿机都是用开源的挖矿组件，很少或不使用混淆技术。所以，逆向工程师很容易就可以进行逆向分析。
1季度检测到的挖矿活动看起来是少了，但是体量仍然非常庞大。2017年9-10月用户设备上的检测量达到2500万，到今年3月，虽然有明显下降，但仍有1600万的检测量。
商业应用中的加密挖矿恶意软件检测量是抖动的，2月有55万，而3月又有所下滑，但也检测到40万。
## 分发传播
为了利益最大化，威胁单元会用尽可能多的设备的计算能力来进行挖矿。所以，首先攻击者要有一种能够大量传播的方法，比如垃圾邮件，漏洞利用，恶意APK，和供应链攻击等。
## 漏洞利用
Wannacry勒索软件使用了泄漏的永恒之蓝和双脉冲星(DoublePulsar)漏洞利用，至少有两个不同的组织利用了相同的漏洞来感染Windows服务器，安装加密货币挖矿机，最终获利上百万。
其他像Oracle WebLogic Server
(CVE-2017-10271)漏洞北用来做学校和科研机构的服务器床传播挖矿机。服务器上网络犯罪分子的最爱，因为能提供更多的运算能力，能更快的挖到加密货币。最近，研究人员发现有利用超级计算机来在一些重要基础设施环境中挖矿的。也有用漏洞利用工具来传播挖矿机的，比如RIG
EK已经被用来进行传播，这也将是一个趋势。事实上，加密货币挖矿机也是最常用的drive-by下载攻击。
## 恶意APK
移动用户对加密货币挖矿并不是免疫的，含有恶意挖矿代码的安卓平台就是一个例子。与Windows恶意软件类似，恶意APK会有特殊功能的模块，比如垃圾SMS，挖矿机等。
## 供应链攻击
安卓挖矿机会用Minergate这样的合法挖矿池，Mac加密货币挖矿机也会使用。从官方网站下载应用的建议是不够的，尤其是当可信的应用被劫持之后。比如，OSX.CreativeUpdate就是通过劫持MacUpdate网站来传播加密货币挖矿机的。
## Drive-by挖矿
2017年9月中旬，Coinhive发起一项新服务——一个可以直接在web浏览器中进行门罗币挖坑的API，给web带来的一阵混乱。Coinhive
API集成的简单性是其能取得快速成功的原因。短短几周内，Coinhive API就被用于drive-by加密货币挖矿攻击。与drive-by下载类似，drive-by挖矿是自动执行和静默的，使用一些技术来强制使浏览者访问挖矿的网站。  
与基于恶意软件的挖矿相比，drive-by加密货币挖矿不需要感染设备。这是它本身的优点也是缺点，因为这样就可以有更多的受众，但同时也会很难持续。
因为广告拦截等原因，网络犯罪分子已经开始检测和拦截Coinhive了，所以犯罪分子开始隐藏代码来避免被检测到。虽然检测到的driveby加密货币挖矿数量减少，但每天也有100万次拦截。
## 浏览器和技术滥用
除了持久的挖矿外，犯罪分子发现4种方式来进行长期不间断的挖矿。其中之一是用浏览器扩展工具在每个web会话中都注入代码。  
需要注意的是JS是浏览器内加密货币挖矿的唯一方式。WebAssembly是目前被广泛使用的模块，可以以接近本地运行的速度运行，比JS更加快速和高效。  
Drive-by挖矿是通过标准HTTP协议进行的，研究人员发现越来越多的通过WebSockets进行挖矿的例子。WebSocket是一种允许流数据交换的通信协议，融入安全WebSocket的加密货币挖矿代码很难被检测和拦截。
## Coinhive变种
在Coinhive成功之后出现了很多模仿者和变针哦你，研究人员统计发现，coin-have[.]com是第二最流行的服务，然后是crypto-loot[.]com，而Coinhive占所有挖矿收入的30%。
Drive-by挖矿是未经用户同意的情况下自动执行的，而且大多数情况下是静默执行。但也会有CAPTCHA来证明不是僵尸机器，而是真实的用户。用户输入验证码(w3FaSO5R)
后，手机或平板设备就会全速挖矿。这就说明，所有的设备都无法对drive-by挖矿免疫。
另外一点是第三方脚本变得很普遍，Texthelp公司就发现公司的插件被黑，被注入了Coinhive脚本，导致了上百家英国政府网站参与恶意加密货币挖矿活动。
## Ethical mining道德挖矿
Ethical
mining道德挖矿是一种非恶意的加密货币挖矿活动。当用户利用自己计算机的运算能力通过解决复杂的数学问题来验证和处理加密货币交易时就出现了道德挖矿现象。参与的回报就是可以将获得的加密货币存储在自己的数字钱包中。但是，随着加密货币的价值持续增长，需要解决的数学问题的难度也加大了，就许多更多的CPU/GPU运算能力来完成交易。所以，矿工就会抓住这个机会去购买更高端的图形卡，这会造成一个畸形的买卖市场。
#### 将浏览器挖矿合法化
基于浏览器的挖矿仍是一个很难管理的问题。为了较少批评，Coinhive引入了一个新的API，该API需要用户的输入来授权挖矿活动。这个想法是通过API将网站拥有着变得更加道德，访问站点的人在参与加密货币挖矿前会有一个知情权和选择权。根据Coinhive的数据，可选的API每天的调用量为3万次，而静默API的调用量每天为300万次。在美国主流媒体Salon[.]com的例子中，用户为了抵制广告选择同意Salon进行加密货币挖矿，而用户一旦同意，其CPU的使用率会达到100%。而用户也没有什么办法可以将停止挖矿。所以说，道德挖矿还有很大的进步空间。
# 恶意软件
2018年的恶意软件检测量反映出威胁图谱正在改变，从传统的攻击单元转向一些实验性的恶意软件。在用户端，检测到最多是仍然是广告软件，而企业端检测到最多的是间谍软件。基于恶意软件的加密货币挖矿软件riskware的量也在增长，反映出从标准（传统）恶意软件到加密货币挖矿机的一个转变。  
## 广告恶意软件
广告恶意软件是2017年4季度企业和用户端的主要威胁之一。虽然2017年底的检测量在减少，但仍是用户端排名第一的威胁。企业端的检测量本季度上涨了14个百分点，但是3月有所减少。广告恶意软件在2018年1季度是企业端的检测量排名第五。
## 间谍软件
从2017年下半年到2018年第1季度，间谍软件的检测量仍然在增长。在企业端，检测量已经上涨了56%，Emotet间谍软件传播垃圾邮件达到了一个峰值，随后检测量有明显减少。而用户端的恶意软件检测量相对较少，排名第9。
## 勒索软件
勒索软件检测量从去年下半年开始有下滑的趋势。今年1-2月在客户端达到相对低点，有大约35%的降低；在企业端，与上季度相比，增加了28%。其中的原因可能是两款主流的勒索软件Locky和Cerber退出了市场。
### GandCrab勒索软件
GandCrab是2018年1季度利用RIG EK和GrandSoft