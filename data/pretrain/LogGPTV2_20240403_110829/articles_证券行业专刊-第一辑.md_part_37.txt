专
刊
我们都知道攻和防是一个持续博弈的关系，随着防御手段的升级， 几乎每个环节都实现自动化，从最初的侦察、网络侵入到有效负载
攻击的手段也愈发变得隐蔽、刁钻。攻击者源源不断的抛出各类零 投递、逃避检测、泄露数据以及被盗数据的货币化。
Day漏洞，自动化攻击工具越来越先进智能。如何验证现有防护
体系是否能够有效抵御现有攻击手段，最佳的方式就是以安全专家 在过去，这些“产品化”甚至“商品化”自动化工具需要攻击者花
模拟“黑客”的行为来攻击我们的系统，也就是我们所说的实战化 费数月时间才能开发、测试和部署的攻击，现在已经可以“开箱即
攻防演练。而随着面向关键信息基础设施运营方开展的全国大型攻 用”。自动化工具的大量应用让攻击成本和门槛更低，一个优秀的
防演练活动多次开展，我们判断证券行业的安全建设也逐步进入了 攻击者在自动化工具的加持下，可以在极短的时间内完成之前一个
实战攻防时代。 团队数日的工作成果，在实战攻防演练中将攻击能力最大化。
攻击技术演进 外网攻击面全视图
现代战争的关键是信息的对抗，两军对垒，开战前，已经将对方的
实战攻防演练中，攻击和防守双方在持续的博弈中各自精进，在实 兵力部署粮草供应全部摸透，甚至是连对方将军乃至厨师的个人爱
战化攻防局势下，充当攻击者的安全专家们，无论从攻击思路、攻 好，日程安排全都搞到手，相当于开了上帝之眼，那么在开打前就
击手法还是协同作战能力上，都随着每一次的演练活动，能给到防 已经赢了大半。对于网络安全攻防也是同理，在安全建设中，资产
守方意想不到的“惊喜”，也时刻提醒着防守方，安全防护体系中 排查梳理这块是一个老生常谈的问题，尤其是有些证券公司正面临
仍然有需要加强的部分。下面我们将分析在实战中常见攻击技术的 着业务上云，在从IDC往云上迁移的过程中，存在着资产归属不清，
演进历程。 甚至出现一些影子资产在安全防护层面属于无人认领的状态，很难
纳入到现有的安全防护体系中来。
攻击武器自动化
常言道，工欲善其事，必先利其器。从上古时代开始，就有各种各 反观攻击视角，经过近年来不断进化，优秀的攻击者对于外网信息
样的渗透神器，但是随着安全体系的不断完善，通用工具的指纹特 搜集能力不断沉淀，量变引起质变，可以做到在确定攻击目标后，
征基本都被记录在案，在面对被各类防护设备武装到牙齿的目标时 然后快速关联出各类相关的资产，以及关联情报源。可以快速定位
效果会大打折扣。随着近几年无数次实战攻防演练的打磨，经验丰 到关键资产乃至关键人的信息；通过对于员工在互联网的活动轨迹
富的攻击团队慢慢都积累了自研的专属武器库，将之前大量需要人 做关联分析，可以更精准的实行包括定向钓鱼等社会工程学攻击。
工试探的步骤自动化，大大提升了入侵的成功率和效率。 对于外网资产以及散落在互联网中各类和防守方相关的信息，攻击
者甚至已经做到比企业自己更了解的地步，在实战攻防开战前就已
据Recorded…Future分析表明，自动化的攻击工具和资源已形成 经牢牢的占据了先机。
生态系统，地下黑市销售的各种工具能够让攻击链（KillChain）
284 285
行
业 实战攻防时代的攻击技术演进
专
刊
深挖Web应用攻击 占据了大量的市场份额。针对上游软件发起攻击，对于攻击者来讲
在实战攻防中，Web应用攻击是最常使用的攻击手法之一，攻击 绝对是低成本高收益的选择，一旦攻击成功，对于整个下游行业的
者只需要通过互联网即可远程对目标发起攻击，达到获取数据、执 实战攻击都可以复用攻击成果。
行命令、控制服务器等目的，直接威胁企业安全。围绕Web应用
的攻防也随着技术的演进而进化。针对证券行业的攻击面除了传统 常见的供应链攻击包括开发工具污染、入侵官方网站替换下载链
的Web系统外，公众号、小程序、API、移动APP等也在逐年扩 接、劫持更新服务器、盗用身份对恶意应用签名等。在实战攻防演
大。攻击手法上，早期通过弱口令、文件上传、SQL注入等常规 练前，攻击者会针对整个证券行业供应链情况开展大量的调研和信
漏洞利用较多，攻击难度也相对较小，利用手法相对简单粗暴。随 息搜集工作，在实战开始后，迅速定位防守方使用上游供应链软件
着Java应用和中间件的兴起，整个证券行业安全防护能力的增强， 的指纹特征，拿出之前积累的研究成果开始突破。不可否认的是目
反序列化漏洞在Web攻防中逐步占据重要地位。 前很多软件供应商的整体安全建设非常滞后、部分能力顶尖的攻击
团队在确认防守方使用的上游供应商系统后，可以通过其他途径下
在很多证券公司广泛使用的Fastjson、Weblogic、Shiro等各类 载到同版本的软件甚至是源码，然后开始现场挖零day，通过新鲜
Java通用组件陆续爆发大量反序列化代码执行漏洞，使得攻击者 的零day去攻击防守方，往往可以取得非常好的效果。
可以在庞大的Web资产列表中快速定位到最薄弱的那一环，快速
突破目标撕开一个口子。 瞄准安全设备重拳出击
在突破边界进入内网环境后，攻击方为了高效的快速拿下核心靶
与此同时，随着实战攻防演习规模和影响的扩大，攻击者针对各类 标系统，会优先倾向于攻击各类特权系统，例如拿着CVE-2020-
OA、邮箱、CMS系统等进行了更加充分的漏洞挖掘和利用，在这 1472打域控，更有甚者会通过虚拟机逃逸直接拿下宿主机。这样
种背景下，攻击者更注重高效直接的获取系统权限，并想办法隐蔽 相当于直接拿下了对方的中枢指挥室，团灭对方也只是时间问题。
攻击手段和采用加密的流量来躲避防守方的排查。WebShell也从
原先无论是文件还是流量上均会留下特征的落地文件马，逐渐演变 还有一类的攻击方式在近年来也在逐渐兴起，那就是瞄着安全设备
为无文件、无明显流量特征的内存马。整体的入侵流程变的更加的 打。我们知道安全设备要想起到比较好的防护效果，通常本身是需
细腻而隐蔽，对于防守方的监测和应急工作也带来了更高的挑战。 要具备很高的权限，尤其是需要侵入式部署的设备，这样也就导致
了引入安全设备本身也带来了潜在的安全风险。
供应链攻击
近年来SolarWinds、Codecov等事件的爆出，无一不展示了供应 同时考虑到，通常情况下一个系统的漏洞数量及整体的安全性除了
链攻击的巨大威力。证券行业在包括OA系统、邮箱系统以及集中 开发者本身的因素之外，和它的使用范围以及安全研究者的关注
交易系统等选取的供应商其实有很强的通用性，头部的几家供应商 程度也是存在一定相关性的。而很多安全设备，本身就是安全公
286 287
行
业
专
刊
司出品，自带“安全”的光环，反而容易产生“灯下黑”的情况。
在实战攻防中，攻击和防守方都需要核算自己的成本，大一点的安
全厂商基本都有自己的安全研究团队，相比于虚拟机逃逸这样的大
杀器，对于一些安全设备的漏洞挖掘成本会可控很多，而且在实战
中屡屡可以产生奇效。虽然短期来看可能会出现友商之间互殴的情
况，但是本质上是在帮对方解决安全隐患，长远来看是有利于整个
安全行业良性发展的。
小结
正如前文提到，攻击和防守是一个交替进化的过程，以上是笔者观
察到到近年来在实战攻防演练中常见攻击技术的演进，希望这些站
在攻击者的视角能给安全建设工作带来一些启发。
作者介绍 SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN
龚杰，长亭科技产品服务总监，前蓝莲花战队成员，有丰富的实战攻防对抗经验，助
力多家企业开展安全防护体系建设。
SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN SEC-UN
288
构建新一代IT基础设施
推动业务超越云和移动
通过系列专利技术实现安全办公空间，提升效率；对常规安全攻击免疫，
保障安全。
利用动态全息投影、潜望式网络访问等技术，即时为每个用户创建独立
安全办公空间 的虚拟工作空间，支持用户与当前获准访问的资源交互，严格管控、全
面记录用户的操作。用户工作结束后，虚拟工作空间自动销毁和释放。
AGENT
无终端 无边界 云原生 零信任
Agentless Borderless Cloud Native Zero Trust
统一办公入口：一 数据保护：业务数据
站式访问所有办公 不在用户终端落地
资源
远程访问：随时 安全办公空间
随地访问必要的
内部资源 轻 灵松 活办 简公 便 防止数据抓取/泄漏：
数据应用的页面、文件
多分支访问：分 和数据都将经过投影
布式云原生架 后以图像形式呈现给用
构，可根据业务 户，在保证用户访问相
部署多个接入点 关数据应用的实际体验
不变的同时，无需担心
应用提供的原始数据被
抓取或泄漏
安全访问 应用保护
公有账号可控使用 无边界 无终端 全息投影
(PAM)：对公用 快捷无阻 天然安全
PAM 账号进行细粒度
管控，全程记录
操作并录像
应用访问和保护：将业务应
用以全息投影的方式呈现给
远程浏览器(RBI)：在用户 用户，完全屏蔽业务应用的
结束使用后，相应的隔离环 基本信息及安全漏洞，从而
境将被销毁并释放 从根本上解除安全威胁
隔离环境中访问公共资源：
根据动态访问策略，按需为
用户提供公共资源，并保留
详细访问日志
杭州市拱墅区莫干山路789号美都广场E座1711室 PI:EMAIL https://www.supraaxes.cn/
行
业
专
刊
赞助商