-70
-75
-80
-85
-90
-95
-100
 1
Atrium
Hallway
Data center
Friis
 5
 25
Distance (m)
Figure 4: RSS vs Distance. RSS is relative to the transmitter
power level, and ﬁts the Friis model with exponent 2. The signal
degrades by around 88 dB at 10 meters.
tern rapidly and with no moving parts. Phased arrays can be signif-
icantly more powerful than ﬁxed-beam antennas, as they can gen-
erate patterns of variable beam width, control the amount and angle
of side lobes, and can be used in more advanced ways to, e.g., null-
form away from speciﬁc interferers [20]. As 60 GHz arrays are not
yet available, we instead simulated the radiation pattern from the
Geo-fencing project [25] that uses the commercially available Pho-
cus phased array which operates at 2.4 GHz. Lacking real phased
arrays for 60 GHz, we do not speculate on antenna properties, such
as steering time. However, prior work [17, 19] shows that such an-
tennas can be steered in hundreds of microseconds. Further details
about the simulated Phocus array pattern and our assumptions about
the 60 GHz phased arrays are in Appendix A.
Note that the Phocus pattern actually has smaller back and side
lobes than our measured directional antennas (Figure 3). This is
because, in our measurements with the NB and WB antennas, we
conservatively assumed that any angle at which we measured no
signal strength (e.g., sender facing directly away from the receiver)
is in fact a received signal with strength just below the noise ﬂoor.
3.2 Signal propagation
We studied 60 GHz propagation in multiple environments. First,
the atrium of our building, which resembles a free-space environ-
ment with no walls closer than 40 m from either end of the link.
Second, a 1.5 m wide interior hallway, where multiple paths and
physical obstructions exist. We chose line-of-sight environments as
they come closest to the space on top of racks in our data centers.
Finally, we measured propagation across the tops of rows of racks
in a production data center, similar to the way in which wireless
ﬂyways could be deployed. As real data centers do, this production
environment has a low ceiling, rows of racks (Figure 9), pipes for
cabling as well as to and from the cooling systems and metal cages.
In each scenario, we set up one sender and one receiver and varied
the distance between the two, measuring the signal strength at the
receiver at each step.
40)
B
d
(
R
N
S
 35
 30
 25
 20
 15
 10
 5
 0
 0
 1
 2
 3
 4
Time (s)
Figure 6: SNR ﬂuctuates wildly when peo-
ple walk (left) or wave hands (right) across
the line-of-sight path.
 2
 1.5
 1
 0.5
 0
)
s
p
b
G
(
t
u
p
h
g
u
o
r
h
t
l
a
t
o
T
Measured
)
s
p
b
M
(
t
u
p
h
g
u
o
r
h
T
 5000
 4000
 3000
 2000
 1000
 0
Omni
Wide
Phocus
Narrow
 16
 20
 24
 28
 32
Interferer separation (inches)
 0
 4
 8
 12  16  20
Distance (m)
Figure 7: Interference experiment results
Figure 8: TCP throughput at various dis-
tances when sender and receiver both use
directional antennas of various gains.
neously. Interference between ﬂyways must be mitigated for good
performance. This can be accomplished in a number of ways: by
using multiple channels, by using directional antennas at both the
sender and the receiver, and by carefully controlling which ﬂyways
are activated. We use all these techniques in our system design,
but the bulk of interference mitigation happens due to directional
antennas.
We now devise an experiment to see how directionality impacts
spatial reuse. We conﬁgured two parallel links using HXI devices
equipped with NB antennas. Recall that these links use frequency
division to support bidirectional communication; we conﬁgured the
links so that nodes facing in the same direction used the same fre-
quency to maximize interference. We separated source and destina-
tion by a ﬁxed 85 inches to mimic the width of an aisle, and varied
the separation between the links in small increments. At each po-
sition, each source sends a greedy TCP ﬂow to its destination. The
cumulative throughput, shown in Figure 7, indicates whether the
two links interfere with each other. Note that this prototype hard-
ware has no MAC and uses no physical- or link-layer backoff, so
the links interfere completely or not at all. We see that parallel
links closer than 24 inches interfere, but directional antennas en-
able them to coexist perfectly with slightly more separation. Note
that 24 inches is about 1 rack wide, and with 3 available 802.11ad
channels, a large number of ﬂyways can operate simultaneously.
These results show that directional antennas can isolate links and
enable spatial reuse.
Later in this section, we will study the impact of interference
with more links, and at various data rates, using simulations.
3.5 TCP throughput
In §3.3, we saw that a 60 GHz link set up over an aisle can pro-
vide stable 1 Gbps throughput. That throughput, however, was lim-
ited by the capabilities of HXI equipment. To get a better idea of
what TCP throughput a full-ﬂedged 802.11ad link can support, we
rely on packet-level simulations. The simulations are done using
the ns-3 simulator [21], which we have extensively modiﬁed to
model 60 GHz propagation, 802.11ad MAC, directional antennas
and data center layouts. For more details on the changes we made
to the simulator, see Appendix B.
We simulate the TCP throughput obtained over a 60 GHz link at
various distances for the four antenna models. Note that these sim-
ulations account for overheads such as headers and various MAC
overheads. The results are shown in Figure 8 and underscore the
need for directional antennas. Omni-directional antennas provide
no throughput at under 4 m, but modestly directional WB anten-
nas can provide nearly 1 Gbps of throughput between nodes that
are 15 m apart. With NB antennas, the TCP performance barely
degrades with distance because the RSSI is sufﬁcient to use the
highest encoding rate of 6.76 Gbps even at 20 m. The performance
Figure 9: Partial top view of data center of a large search
provider. Each row has ten 24x48 inch racks. The aisles are
10 and 8 feet wide, as shown. Overall area is roughly 14 m x
14 m.
$"4562"
%"4562"
7"4562"
&#"
&!"
%#"
%!"
$#"
$!"
#"
!"
’
#
.
(
-
’
,
#
-
’
,
)
#
*
)
#
+
#
*
)
(
’
#
&
%
$
#
"
!
’()*""
+,"
-./012"
3,"
Figure 10: Number of ﬂyways that can operate concurrently on
one channel. Mean and standard deviation over 100 runs.
of the Phocus array is comparable to that of the WB antenna. Ar-
rays with more elements (e.g., 30 as opposed to the 8 used here
which we derived from [25]) should perform comparable to the NB
antennas.
These results show that directional antennas are necessary to
achieve high throughputs over links more than 1 m long.
Note that there is a gap between the maximum TCP throughput
achieved (≈ 4 Gbps) and the highest link transmission rate (6.76 Gbps).
This gap is due to various wireless MAC and TCP overheads. In
Appendix C, we describe some ideas on how to reduce these over-
heads by exploiting the unique hybrid nature of a wired data center
network enhanced with wireless ﬂyways.
3.6 Dense deployment of links
In §3.4, we showed that two high-rate 60 GHz links can coexist in
close proximity. Using simulations, we now investigate the number
of 60 GHz links that can operate simultaneously in a typical data
center while still offering reasonable performance. We simulate the
data center layout shown in Figure 9. This layout is based on an
operational data center of a large search provider. We consider the
case of a number of racks (160) connected to a single aggregation
switch. We assume that each top-of-rack (ToR) switch is equipped
with a single 60 GHz device, connected to a steerable antenna with
a speciﬁed gain. All devices operate on the same channel and so
may interfere.
41Name
# Servers
Description
Cosmos
IndexSrv
Neon
3Cars
O(1K)
O(10K)
O(100)
O(100)
Map-Reduce
Index lookup
Car Simulation: HPC
Car Simulation: HPC
Table 1: Datasets
h
c
t
i
w
S
k
c
a
R
f
o
p
o
T
o
T
1.0
0.8
0.6
0.4
0.2
0.0
From Top of Rack Switch
Figure 11: Trafﬁc Demands (normalized) between ToR
Switches.
We use the Monte-Carlo method to ﬁnd maximal independent
sets of ﬂyway links [12]. Given n devices, note that n·(n−1) links
are potentially feasible. A set of links is deemed independent if ev-
ery link in the set provides some minimal throughput, even when
all links in the set are active concurrently. The set is maximal if no
other links can be added to it without violating the independence
property. To test for independence, we simulate running long-lived
TCP ﬂows across the links. To limit the complexity of the simula-
tion, we allow each device to participate in only one link at a time.
For a given DC layout, the average size of the maximal inde-
pendent set tells us how many ﬂyways may be set up at the same
time. It depends on the antenna used, and the minimum through-
put required from each link. Figure 10 shows the average size and
one standard deviation over 100 randomly generated maximal inde-
pendent sets for various antenna gains and minimum throughputs.
Since each ToR can participate in only one ﬂyway, and we have 160
ToRs, the set size cannot exceed 80.
With a Phocus antenna array or NB antennas, the number of ﬂy-
ways that can operate together increases dramatically. If the ToRs
are equipped with NB antennas, the average size of the indepen-