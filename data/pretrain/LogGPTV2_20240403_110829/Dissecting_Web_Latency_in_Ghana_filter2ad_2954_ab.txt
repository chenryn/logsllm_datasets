the dominant contributor to the long page download times
is the DNS lookup. Figure 2 shows the statistics taken from
our measurements in Ghana 2012. The timing breakdown
categories (i.e., ”Blocking” and ”Waiting”) are identical to
those deﬁned previously in Section 4. We observe that DNS
requests account for 37-40% of the user-perceived latency.2
1While the issues we observe here serve to highlight the ex-
treme nature of the latency problem in developing countries,
Accra actually has one of the fastest Internet infrastructures
in Africa. Other developing regions suﬀer from even worse
network conditions, e.g. South Africa has higher latencies
[30], East Africa and Southeast Asia have fewer major net-
work cables [10].
2A number of these requests occur simultaneously and we
removed such overlapping timings. However, these ﬁgures
do still include timings that do not contribute to the overall
page load time, because they are not on the critical path.
742ms5.599s4.842s6.255s896ms1.256s 735ms1.026scraigslist.org www.craigslist.org geo.craigslist.org accra.craigslist.org /styles/craigslist.css /js/jquery-1.4.2.js /js/homepage.js/js/formats.js8 requestspage load time: 18.568s10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive2424.4 TLS/SSL
Our 2012 traces from Ghana showed that approx. 8% of
the overall object requests require a secure connection. In
2014 this number has nearly doubled to 15%. This corrob-
orates with the trend of increased adoption of secure con-
tent exchange on the web. However, in developing regions
like Ghana this can severely impact user-perceived latency
because establishing a Transport Layer Security (TLS) con-
nection is a lengthy procedure and is severely impacted by
latency. The TLS handshake procedure depends on whether
only the server is authenticated or both the server and the
client are authenticated, but the basic TLS handshake con-
sists of up to 9 round trips [9].
5. SPEEDING UP PAGE LOADS
Here we assess the potential of several straightforward im-
provements that can cost orders of magnitude less than ex-
tending the existing network infrastructure.
5.1 DNS Caching
In order to understand the eﬀect and potential gain of
DNS caching, we analyze our traces in more detail. Fig-
ure 4 shows an example on long DNS requests of one of the
webpages taken from the Accra 2012 cellular traces.
In this example, the page requests objects from eleven
external domains, where a DNS request must be issued for
each single domain.
In order to evaluate the ratio of the
DNS request to the total page time we calculate the overall
delay caused by DNS. This is not a simple summation of
all DNS requests, as can be seen in Figure 4. To calculate
the potential beneﬁt of DNS caching we leverage the Wprof
tool [31] to identify the critical path in the page request
and calculate the contribution to that critical path by DNS
requests. We ﬁnd that the ratio of the overall DNS delays to
the overall page load time is about 72% of the overall page
load time in Figure 4.
(a) Accra 3G
(b) Accra Wiﬁ
(c) Hohoe 3G
Figure 2: Web page requests (Alexa’s top global 2012)
Although, “Wait” accounts for roughly 30% of the load
time in all cases, we do not focus on it because link latency
challenges in developing countries like Ghana have already
been studied elsewhere [18, 25]. In these studies, the authors
suggested several methods to improve the link latencies by
investing in local server infrastructure or placing web caches
and content on servers within the local service provider.
4.2 HTTP redirects
Looking more closely at the Ghana traces, we ﬁnd that
in about 80% of the cases, the ﬁrst HTTP GET request ac-
tually gets redirected into another page. These redirects
are caused either by the HTTP status code response of
301 Moved Permanently or 302 Found. We ﬁnd that in
most cases a redirection is due to directing a browser to
a www URL of the same page, i.e. if we look at the ex-
ample shown in Figure 1, we can see that the client asks
for page craigslist.org and gets redirected to the domain
www.craigslist.org.
4.3 HTTP blocking
Another interesting eﬀect that we observe is blocking. In
Figure 2 we see that blocking causes more than 10% of
the page load time. This is due to the conﬁgured maxi-
mum number of TCP connections to a server within the
web browser. From the example in Figure 3, we see that
the browser has already requested six objects simultaneously
using six TCP connections (style splash.css, logo.jpg, etc.),
and the next object that has to be requested from the same
server (header left.jpg) now has to wait until one of the pre-
vious object is downloaded.
Figure 3: Blocking example of tribalfusion.com from Ac-
cra, Ghana cellular in 2012
In addition to the maximum number of TCP connections,
modern web browsers also use HTTP pipelining with 4 − 8
pipelined objects. HTTP pipelining is a way for the client
browser to request several objects at the same time within
one TCP connection, but Head-Of-Line blocking (HOL block-
ing) may occur because of this limit as well.
Figure 4: DNS example (www.merchantcircle.com) from
Accra, Ghana cellular 2012
Figure 5 shows the DNS delays in our traces from Ghana,
taken from all embedded domains within Alexa’s top web-
sites. The DNS delays are measured at the application
layer by means of HAR ﬁles, thus they represent the user-
perceived performance. These DNS delays also include all
DNS retry attempts and redirects. The ﬁgure shows how
the overall DNS performance in Ghana has changed over
the past two years.
10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.4%38.1%5.6%34.6%11.4%11.2%40.1%5.3%29.3%14.1%10.5%37.1%5.7%33.3%13.4%5.472s383ms1.315s1.465s 966ms1.496s1.522s 1.146s 1.146s1.385s1.619s 1.276stribalfusion.com/style_splash.css/img_splash/logo.jpg/img_splash/learn.png/img_splash/see-more.gif /img_splash/reach.png/img_splash/engage.png /img_splash/header_left.jpg /img_splash/bg_bar.jpg/img_splash/hover.gif/img_splash/low_bar.gif/img_splash/line.gif12 requestspage load time: 7.221s10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive1.391s5.039s1.203s856ms4.317s4.338s4.313s4.771s4.433s4.656s735ms4.448s172ms186ms1.028s420ms1.196s982ms677ms1.268s1.436s2.106s316ms1.734s367ms457ms239ms222ms291ms240msmerchantcircle.com 1.836s/root/static/blue/css/master.css/static/js/s_code.v1.1.js/ajax/libs/jquery/1.7.1/jquery.min.js/static/js/novum/jquery.json-2.3.min.js/static/blue/js/tabSlide.js/static/track.js/api/dcs//static/js/allWidgetInPage.js/b/ss/mcirdev/1/H.22.1/s26425354551632/ga.js/beacon.js/static/blue/images/moreArrow.png/static/blue/images/borderSide.png/static/blue/images/logoMain.png/static/blue/images/searchBgSh.png/static/blue/images/searchBgHome.png/static/blue/images/MCSprite.png/static/blue/images/homeFootBorder.png/static/blue/images/sHomeSprit.png/static/blue/images/nFooter.png/static/blue/images/mainSprite.png/api/dcs/modules/o.js/static/blue/images/searchMapBg1.jpgndler/CityStateZipValidationHandler.ashx/root/ajaxContent/__utm.gif/b/b/ss/mcirdev/1/H.22.1/s26425354551632/b231 requestspage load time: 12.956s... 1.391s5.039s1.203s856ms4.317s4.338s4.313s4.771s4.433s4.656s735ms4.448s172ms186ms1.028s420ms1.196s982ms677ms1.268s1.436s2.106s316ms1.734s367ms457ms239ms222ms291ms240msmerchantcircle.com 1.836s/root/static/blue/css/master.css/static/js/s_code.v1.1.js/ajax/libs/jquery/1.7.1/jquery.min.js/static/js/novum/jquery.json-2.3.min.js/static/blue/js/tabSlide.js/static/track.js/api/dcs//static/js/allWidgetInPage.js/b/ss/mcirdev/1/H.22.1/s26425354551632/ga.js/beacon.js/static/blue/images/moreArrow.png/static/blue/images/borderSide.png/static/blue/images/logoMain.png/static/blue/images/searchBgSh.png/static/blue/images/searchBgHome.png/static/blue/images/MCSprite.png/static/blue/images/homeFootBorder.png/static/blue/images/sHomeSprit.png/static/blue/images/nFooter.png/static/blue/images/mainSprite.png/api/dcs/modules/o.js/static/blue/images/searchMapBg1.jpgndler/CityStateZipValidationHandler.ashx/root/ajaxContent/__utm.gif/b/b/ss/mcirdev/1/H.22.1/s26425354551632/b231 requestspage load time: 12.956s10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive243In 2012, Ghana’s DNS CDFs (Figure 5a Wiﬁ and cellular)
split into two regions: a low delay region in the order of
milliseconds and a high delay region in the order of seconds.
When we examined the websites that belonged to the high
delay group, we did not ﬁnd any distinctive patterns, e.g.,
all are .com domains etc. However, by cross-referencing the
domains behind each region, we found that 15% of the low
delay domains were also present in the high delay region.
This suggested that the low delay region is likely due to
DNS caching at the local ISP DNS server.
(a) Alexa’s top global websites
(b) Alexa’s top local websites
Figure 5: Per location DNS delay (HAR ﬁles)
In 2014, we have redone new experiments in Ghana using
Alexa’s top 1000 global websites and top 500 local websites.
We also compare the Ghana results to measurements per-
formed in other locations around the world. We observe
a clear improvement in Accra’s Wiﬁ DNS performance due
to better DNS caching on the university network for both
the global and the local measurements. However, the DNS
performance over cellular is only improved in Accra’s case,
but Kumawu’s cellular DNS performance is still very poor
(Figure 5a right side).
Figure 6 shows the pie chart of the page load time in
Ghana for the 2014 measurements. We can see that the
DNS response times have improved compared to the 2012
measurements (Figure 2). In contrast, the TCP connection
time has increased to 3-4 times in terms of proportion of
overall page load time.
(a) Accra 3G
(b) Accra Wiﬁ
(c) Kumawu 3G
Figure 6: Web page requests (Alexa’s top global 2014)
5.2 DNS Server Placement
Besides caching, DNS server placement plays an impor-
tant role to reduce DNS latency. There are over 300 root
servers scattered around the globe operated by 12 diﬀerent
organizations. Although only 13 root servers appear in re-
sponse to a request, these servers are reachable with 13 any-
cast IP addresses [6]. The root DNS servers are not provi-
sioned uniformly around the world or in proportion to popu-
lation densities. The authoritative DNS servers for Top-level
domains (TLDs) is similarly unevenly distributed.
To get a better understanding of the high DNS delay re-
gion from Figure 5a, we analyzed the DNS performance us-
ing the dig command-line tool. The dig tool is used in Linux
to query DNS nameservers.
It can be combined with the
“+trace” option to follow the full lookup process from the
root servers up until getting the IP address of the requested
domain while displaying the answer for each involved server.
The “dig +trace” output can be divided into diﬀerent hier-
archical categories starting with the ﬁrst category where the
local DNS server gives back the answer to the root servers
(i.e., the ’.’ domains) all the way to the last category that
gives back the IP address of the requested domain. Figure
7 shows the “dig +trace” results for Accra (2013 and 2014)
in comparison with New York, Bremen, Abu Dhabi (2013).
The total DNS delay depicted in Figure 7 is a combination of
several hierarchical requests from the local DNS server, root
server, TLD servers, and sub domains servers. Although,
the number of categories of the DNS hierarchy can be more
than four, we have observed that the most dominant number
is four, which is why we only present the ﬁrst four results.
Figures 8a to 8d are CDFs of DNS delays per hierarchy.
Figure 7: Per location DNS delay on Wiﬁ (“dig +trace”)
Figure 8a shows the local DNS server delay (to retrieve
the root authoritative servers). Apart from Accra’s 2013 up-
per 30%, the results show that the local DNS server replies
back with an answer within milliseconds. For Accra’s 2013
upper 30% some network performance issues degrade the
performance. Figure 8b and 8c show the DNS delay of the
root and TLD servers respectively. The results show that
both New York’s and Bremen’s root and TLD authorita-
tive servers have faster response times compared to Abu
Dhabi and Accra. This indicates that these servers are ge-
ographically closer to New York and Bremen. Accra has
the worst delay proﬁle compared to all other locations. Fig-
ure 8d shows the delay CDF for the next DNS hierarchy.
The result shows that Abu Dhabi and Accra have slightly
higher delays than New York and Bremen. This is due to
the increased geographical distance to the DNS resolvers.
Although, in the previous section, we have seen better DNS
performance for Accra’s 2014 over Wiﬁ network; the results
depicted in this section show that the physical distance to
the DNS resolvers is still a problem.
012345DNS delay in s0.00.20.40.60.81.0CDFWifi global websites012345DNS delay in s0.00.20.40.60.81.0Cellular global websitesAccra '12 Accra '14Abu Dhabi '14 Hohoe '12Bremen '14 Kumawu '14New York '14012345DNS delay in s0.00.20.40.60.81.0CDFWifi local websites012345DNS delay in s0.00.20.40.60.81.0Cellular local websites10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive10.Blocked4%DNS38.1%Connect5.6%Wait34.6%11.4%ReceiveBlocked DNS ConnectWaitReceive13.9%14.7%18.2%30.1%23.1%12.8%14.0%19.4%31.3%22.6%11.9%24.2%14.7%29.9%19.4%01342Delay in s0.00.20.40.60.81.0CDFWifi global websitesBremen 2013 Accra 2013 Accra 2014 New York 2013 Abu Dhabi 2013 Abu Dhabi 2013 w/o root & TLD Accra 2013 w/o root & TLD244(a) Local DNS server
(b) Root server
(c) TLD server
(d) Sub-domain server
Figure 8: Per location/hierarchy delay CDFs
In order to evaluate the distance from Ghana to the DNS
resolvers, we have performed several experiments using the
destination, showing how many hops are in between, and
the IP addresses of these hops. We used traceroute against
all 13 root domain servers from Accra, recorded the routes,
and repeated each experiment about 50 times. We found
that nearly all of the traceroutes’ ﬁrst hops were outside
Ghana and somewhere in Europe (Switzerland, UK, etc.),
from where, the route sometimes diverts to the US or Asia.
None of the routes went to DNS root servers that are geo-
graphically nearby.
In summary, there are large potential gains for enhanc-
ing the overall DNS delay in Ghana in case more root and
TLD servers are deployed in that particular region. Figure 7
shows the potential performance gain when root and TLD
servers are placed hypothetically with zero latency to Abu
Dhabi and Accra. These additional root servers would give
very similar performance to what is currently observed for
New York and Bremen.
5.3 Caching Redirects
In section 4.2, we discussed the issue of the ﬁrst HTTP
GET redirection. One way to overcome this is to cache
redirects, where the client could be informed about the redi-
rection immediately. Caching redirection can enhance the
overall page load time by about 20% (see Table 2).
Caching redirects can cause revocation problems since even
after removing the redirection, the cached redirections can-
not be removed and clients will still be redirected and never
reach the new server.
Table 2: Redirects delay to total page load time (2012)
Location
Accra cellular
Accra Wiﬁ
Hohoe cellular
Websites with Average
Redirects
79%