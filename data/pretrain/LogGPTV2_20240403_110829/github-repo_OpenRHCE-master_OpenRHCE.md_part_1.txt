::: footer
Copyright Â© 2012, Scott Purcell, CC BY-NC-SA 3.0
:::
# RHCSA / RHCE Preparation
## A Creative Commons Courseware
```{=pdf}
PageBreak oneColumn
```
### Session One: Introductions
#### Introductions: Your Instructor
::: custom
Scott Purcell
**Qualifications**
> -   RHCSA, RHCE #110-008-877 (RHEL6)
> -   Also: CTT+, CLA, CLP, CNI, LPIC1, Linux+
> -   Curriculum Developer and Trainer for a major computer manufacturer
>     for 15 years
> -   Linux Enthusiast since 2000
**Personal**
> -   Disciple of Jesus Christ, Husband, Father, Eagle Scout, Computer
>     Geek, Balloon Entertainer, and occasional coach of youth sports or
>     leader of scouting units.
**Fun**
> -   Fun: Part-time Balloon Entertainer
:::
#### Introductions: Fellow Students
**Please Introduce Yourselves**
-   Name
-   Where you work or what you do.
-   What Linux experience do you already have?
-   What goals do you have for this class?
-   Something fun about yourself.
#### Introductions: The Course
Our Textbook:
> RHCSA/RHCE Red Hat Linux Certification Study Guide (Exams EX200 &
> EX300), 6th Edition (Certification Press) Michael Jang ISBN-10:
> 0071765654 \| ISBN-13: 978-0071765657 Publication Date: June 17, 2011
> \| Edition: 6
Our classroom time will not follow it closely, but it is invaluable for
your background reading, later reference, and out-of-class practice and
study.
##### Course Goals
Primary Goal:
:   Preparation to Pass the RHCE Exam (assumes passage of the RHCSA
    Exam)
Secondary Goal:
:   Preparation to Pass the RHCSA Exam
Tertiary Goal:
:   Acquiring high-level Enterprise-oriented Linux skills
NOT a Goal of this course:
:   Acquiring basic or user-oriented Linux skills. These are assumed as
    prerequisite for this course.
#### Reasonable Expectations
-   Should I be able to pass the RHCE on this class alone?
    > A stunning number (estimated at 50% or more) of seasoned
    > professionals taking Red Hat\'s own prep courses fail to pass on
    > first attempt.
-   Planning for more than one attempt is prudent.
    > Pass rates go up substantially on 2nd attempts.
-   Maximizing your out-of-class preparation time is prudent.
#### Preparation Recommendations
**1. Build a Practice/Study Environment**
> -   Scenario 1 \-- A single virtualization-capable system with
>     multiple vm \"guests\".
>
>     > -   Host must have a 64 bit CPU with HW virtualization
>     >     extensions
>     > -   4 GB or more of RAM recommended as a minimum \-- 2GB is
>     >     likely an absolute minimum
>     > -   60 GB of HDD space recommended as a minimum \-- enough for
>     >     the host OS and several VMs.
>
> -   Scenario 2 \-- Several Rackspace or Amazon VMs.
>
> -   Scenario 3 \-- Several physical systems, networked together.
>
>     > -   These can be 32-bit (i386 / i686) or 64-bit (x86_64) systems
>     > -   Each should have 768 MB of RAM as a minimum.
>     > -   Each should have 12-20 GB of HDD space as a minimum.
>     >
>     > ::: caution
>     > ::: title
>     > Caution
>     > :::
>     >
>     > You may be unable to practice a few of the objectives (those
>     > related to virtualization) in this scenario.
>     > :::
#### Preparation Recommendations
**2. Take initiative \-- form a study group.**
> Find Participants:
>
> > -   In class
> > -   At work
> > -   Linked-In groups
> > -   Local LUGs
> > -   MeetUps
**3. Practice, practice, practice!**
> Take the exam objectives and work to ensure that you can configure and
> secure every service, and implement every feature named in the course
> objectives.
>
> Highlight areas on the objectives where you need review and bring your
> questions to class or post them on the Google Groups site:
>
> 
#### An OS for Practice and Study
RHEL 6
:   
CENTOS 6
:    or 
Scientific Linux
:   
Fedora 13
:   
#### Online Information
Red Hat docs:
:   
RHCSA/RHCE Objectives and other information at:
:   
#### Classroom Infrastructure
RHEL6 Server installed on virtualization-capable Dell Optiplex
workstations.
We will be creating multiple virtual machines on the hosts on which the
Lab Exercises will be performed.
A classroom server is available at 192.168.5.200, offering a variety of
services to your lab stations.
File downloads are available at .
Note, especially, the preconfigured yum repo file at
. The following commands can be
used on a newly configured virtual machine to configure it for access to
the repository:
    # cd /etc/yum.repos.d/
    # wget ftp://192.168.5.200/pub/classroom.repo
#### Red Hat Enterprise Linux
-   Overview
    > Well-tested Linux distro focusing on Enterprise features and
    > stability and a long lifecycle
-   Server and Desktop variants
-   Add-on Functionality
    > Support for high-end features such as Load Balancing, Clustering,
    > Management, High Performance networking, etc.
-   LifeCycle
    > 
#### The Red Hat Certification Landscape
-   RHCSA
    > RHCSA is new, replacing the RHCT. It is the \"core\" sysadmin
    > certification from Red Hat. To earn RHCE and other system
    > administration certs will require first earning the RHCSA.
    >
    > > -   [RHCSA Details]()
    > >
    > > -   [RHCSA Objectives](#rhcsa-objectives)
-   RHCE
    > RHCE is a senior system administration certification. It is an
    > eligibility requirement for taking any COE exams and is thus a
    > requirement for the upper-level credentials as well.
    >
    > > -   [RHCE Details]()
    > >
    > > -   [RHCE Objectives](#rhce-objectives)
```{=pdf}
PageBreak oneColumn
```
-   Certificates of Expertise
    > COEs are incremental credentials demonstrating skills and
    > knowledge in specialized areas. They are worthy credentials in
    > their own right, but also the building blocks of the upper level
    > credentials.
    >
    > > -   [Overview of COEs]()
-   RHCSS, RHCDS, RHCA
    > These upper level credentials recognize those who have achieved
    > expertise in several related specialized areas. Each one requires
    > multiple COEs.
#### Exercise 1-1: Install RHEL6 on a Virtual Machine
Following the instructor, install your first virtual machine.
#### RHCSA Objectives
##### RHCSA Objectives: Understand & Use Essential Tools
> -   Access a shell prompt and issue commands with correct syntax
>
> -   Use input-output redirection (\>, \>\>, `|`, 2\>, etc.)
>
> -   Use grep and regular expressions to analyze text
>
> -   Access remote systems using ssh and VNC
>
> -   Log in and switch users in multi-user runlevels
>
> -   Archive, compress, unpack and uncompress files using tar, star,
>     gzip, and bzip2
>
> -   Create and edit text files
>
> -   Create, delete, copy and move files and directories
>
> -   Create hard and soft links
>
> -   List, set and change standard ugo/rwx permissions
>
> -   Locate, read and use system documentation including man, info, and
>     files in /usr/share/doc .
>
>     > \[Note: Red Hat may use applications during the exam that are
>     > not included in Red Hat Enterprise Linux for the purpose of
>     > evaluating candidate\'s abilities to meet this objective.\]
##### RHCSA: Operate Running Systems
> -   Boot, reboot, and shut down a system normally
> -   Boot systems into different runlevels manually
> -   Use single-user mode to gain access to a system
> -   Identify CPU/memory intensive processes, adjust process priority
>     with renice, and kill processes
> -   Locate and interpret system log files
> -   Access a virtual machine\'s console
> -   Start and stop virtual machines
> -   Start, stop and check the status of network services
##### RHCSA: Configure Local Storage
> -   List, create, delete and set partition type for primary, extended,
>     and logical partitions
> -   Create and remove physical volumes, assign physical volumes to
>     volume groups, create and delete logical volumes
> -   Create and configure LUKS-encrypted partitions and logical volumes
>     to prompt for password and mount a decrypted file system at boot
> -   Configure systems to mount file systems at boot by Universally
>     Unique ID (UUID) or label
> -   Add new partitions, logical volumes and swap to a system
>     non-destructively
##### RHCSA: Create and Configure File Systems
> -   Create, mount, unmount and use ext2, ext3 and ext4 file systems
> -   Mount, unmount and use LUKS-encrypted file systems
> -   Mount and unmount CIFS and NFS network file systems
> -   Configure systems to mount ext4, LUKS-encrypted and network file
>     systems automatically
> -   Extend existing unencrypted ext4-formatted logical volumes
> -   Create and configure set-GID directories for collaboration
> -   Create and manage Access Control Lists (ACLs)
> -   Diagnose and correct file permission problems
##### RHCSA: Deploy, Configure & Maintain
> -   Configure networking and hostname resolution statically or
>     dynamically
> -   Schedule tasks using cron
> -   Configure systems to boot into a specific runlevel automatically
> -   Install Red Hat Enterprise Linux automatically using Kickstart
> -   Configure a physical machine to host virtual guests
> -   Install Red Hat Enterprise Linux systems as virtual guests
> -   Configure systems to launch virtual machines at boot
> -   Configure network services to start automatically at boot
> -   Configure a system to run a default configuration HTTP server
> -   Configure a system to run a default configuration FTP server
> -   Install and update software packages from Red Hat Network, a
>     remote repository, or from the local filesystem
> -   Update the kernel package appropriately to ensure a bootable
>     system
> -   Modify the system bootloader
##### RHCSA: Manage Users and Groups
> -   Create, delete, and modify local user accounts
> -   Change passwords and adjust password aging for local user accounts
> -   Create, delete and modify local groups and group memberships
> -   Configure a system to use an existing LDAP directory service for
>     user and group information
##### RHCSA: Manage Security
> -   Configure firewall settings using system-config-firewall or
>     iptables
> -   Set enforcing and permissive modes for SELinux
> -   List and identify SELinux file and process context
> -   Restore default file contexts
> -   Use boolean settings to modify system SELinux settings
> -   Diagnose and address routine SELinux policy violations
#### RHCE Objectives
##### RHCE: System Configuration and Management
> -   Route IP traffic and create static routes
> -   Use iptables to implement packet filtering and configure network
>     address translation (NAT)
> -   Use /proc/sys and sysctl to modify and set kernel run-time
>     parameters
> -   Configure system to authenticate using Kerberos
> -   Build a simple RPM that packages a single file
> -   Configure a system as an iSCSI initiator that persistently mounts
>     an iSCSI target
> -   Produce and deliver reports on system utilization (processor,
>     memory, disk, and network)
> -   Use shell scripting to automate system maintenance tasks
> -   Configure a system to log to a remote system
> -   Configure a system to accept logging from a remote system
##### RHCE: Network Services
Network services are an important subset of the exam objectives. RHCE
candidates should be capable of meeting the following objectives for
each of the network services listed below:
> -   Install the packages needed to provide the service
> -   Configure SELinux to support the service
> -   Configure the service to start when the system is booted
> -   Configure the service for basic operation
> -   Configure host-based and user-based security for the service
RHCE candidates should also be capable of meeting the following
objectives associated with specific services:
##### RHCE: HTTP/HTTPS
> -   Install the packages needed to provide the service
> -   Configure SELinux to support the service
> -   Configure the service to start when the system is booted
> -   Configure the service for basic operation
> -   Configure host-based and user-based security for the service
> -   Configure a virtual host
> -   Configure private directories
> -   Deploy a basic CGI application
> -   Configure group-managed content
##### RHCE: DNS
> -   Install the packages needed to provide the service
> -   Configure SELinux to support the service
> -   Configure the service to start when the system is booted
> -   Configure the service for basic operation
> -   Configure host-based and user-based security for the service
> -   Configure a caching-only name server
> -   Configure a caching-only name server to forward DNS queries
> -   Note: Candidates are not expected to configure master or slave
>     name servers
##### RHCE: FTP
> -   Install the packages needed to provide the service
> -   Configure SELinux to support the service
> -   Configure the service to start when the system is booted
> -   Configure the service for basic operation
> -   Configure host-based and user-based security for the service
> -   Configure anonymous-only download
##### RHCE: NFS
> -   Install the packages needed to provide the service
> -   Configure SELinux to support the service
> -   Configure the service to start when the system is booted
> -   Configure the service for basic operation
> -   Configure host-based and user-based security for the service
> -   Provide network shares to specific clients
> -   Provide network shares suitable for group collaboration
##### RHCE: SMB
> -   Install the packages needed to provide the service
> -   Configure SELinux to support the service
> -   Configure the service to start when the system is booted
> -   Configure the service for basic operation
> -   Configure host-based and user-based security for the service
> -   Provide network shares to specific clients
> -   Provide network shares suitable for group collaboration
##### RHCE: SMTP
> -   Install the packages needed to provide the service
> -   Configure SELinux to support the service
> -   Configure the service to start when the system is booted
> -   Configure the service for basic operation
> -   Configure host-based and user-based security for the service
> -   Configure a mail transfer agent (MTA) to accept inbound email from
>     other systems
> -   Configure an MTA to forward (relay) email through a smart host
##### RHCE: SSH
> -   Install the packages needed to provide the service
> -   Configure SELinux to support the service
> -   Configure the service to start when the system is booted
> -   Configure the service for basic operation
> -   Configure host-based and user-based security for the service
> -   Configure key-based authentication
> -   Configure additional options described in documentation
##### RHCE: NTP
> -   Install the packages needed to provide the service
> -   Configure SELinux to support the service
> -   Configure the service to start when the system is booted
> -   Configure the service for basic operation
> -   Configure host-based and user-based security for the service
> -   Synchronize time using other NTP peers
### Operating a System
#### Boot, Reboot, Shutdown
-   Power On
-   GRUB Menu
-   Display Manager Screen
-   Gnome or KDE
-   Terminal commands: shutdown, halt, poweroff, reboot, init
#### Runlevels
-   Default
-   From GRUB Menu
#### Single User Mode
-   Password Recovery
Note: SELinux bug prevents password changes while set to \"Enforcing\".
#### Exercise 1-2: Use Single-user mode to recover a root password
-   Reboot your virtual machine
-   Activate the GRUB Menu
-   Boot the system in Single User Mode
-   Set SELinux to Permissive Mode
-   Change the root password
-   Set SELinux back to Enforcing Mode
-   Activate runlevel 5
-   Login as root with the new password
#### Exercise 1-3: Boot into runlevel 3
-   Reboot your virtual machines
-   Activate the GRUB Menu
-   Boot the system into runlevel 3
-   Login as root
-   Transition the system back to runlevel 5
#### Log Files
`/var/log/*`
`/root/install.log`
`/root/anaconda-ks.cfg`
View with `cat`, `less` or other tools
Search with `grep`
#### Exercise 1-4: View Logs from an x-term and a virtual terminal
-   Launch a gnome-terminal session and browse the `/var/log/messages`
    file.
-   Switch to a virtual terminal, login as root, and view
    `/var/log/secure`
#### Start/Stop Virtual Machines
-   Using virt-manager
    > Select the desired VM. There are several approaches to these
    > operations in the GUI.
-   Using virsh commands:
        # virsh list --all
        # virsh start 
        # virsh stop 
        # virsh destroy 
::: note
::: title
Note
:::
\"stop\" requests a graceful shutdown. \"destroy\" forces a poweroff \--
data loss could result.
:::