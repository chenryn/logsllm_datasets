    图中的wpa2-01.cap就是用来破解密码的握手包，有读者会问我为什么不讲Kismet这个工具，按照笔者的想法和实际情况，kismet可能会在后续的补充章节里讲解。在抓取到握手包后，就可以利用工具和字典去进行解密了。aircrack-ng本身就具备解密的功能，这里推荐使用EWSA的原因是可以比较方便的调用GPU加速，并且可以直观的验证有效性。首先还是简单讲一下使用aircrack-ng破解握手包的命令：
       aircrack-ng –w dic wpa2-01.cap
       命令中的dic就是用来破解密码的字典，基本上破解成功与否，主要看字典的强大程度。但破解握手包和破解WEP的向量包并不一样，破解握手包是一个枚举校验的过程，如果密码复杂字典又很大，那是会花费相当长的时间去破解的。下面介绍EWSA这款跑包工具：
    工具的操作非常简单，导入.cap握手包，加载字典，点击开始，就可以等待破解。这里特别提醒，如果计算机不做其他的工作专职跑包 ，可以在选项菜单中对CPU和GPU进行详细设置，GPU就是计算机的显示芯片，计算能力非常强，是跑包工作的好选择。跑包之前 ，EWSA会对握手包进行有效性校验，包含密钥的有效握手包才能进行跑包工作。校验界面如下所示：
    跑包过程界面：
    GPU的计算能力决定了必将成为专业跑包的主力处理芯片。专业的跑包团队会购买大量的高端显卡组建交火系统或者SLI系统进行跑包（类似挖矿机），字典的丰富程度以及硬件计算能力比家用桌面电脑强大很多，如下图所示：
    建议大家在抓取有效握手包后，如果自己跑包有困难效率低，不妨花费较小的金额去淘宝或者网络上搜索一些专业跑包服务，会让自己轻松很多。这里就不给大家推荐了，以免安利之嫌。
3.利用WPS功能破解  
首先提示：为了安全考虑，实际使用中请在无线路由器配置中关闭WPS功能！！  
利用WPS功能破解无线路由器也就是人们常说的跑PIN码破解。WPS（Wi-Fi Protected Setup）是Wi-Fi保护设置的英文缩写。WPS是由Wi-Fi联盟组织实施的认证项目，主要致力于简化无线局域网安装及安全性能的配置工作。WPS并不是一项新增的安全性能，它只是使现有的安全技术更容易配置。  
WPS提供了一个相当简便的加密方法。通过该功能，不仅可将都具有WPS功能的Wi-Fi设备和无线路由器进行快速互联，还会随机产生一个八位数字的字符串作为个人识别号码（PIN）进行加密操作。省去了客户端需要连入无线网络时，必须手动添加网络名称（SSID）及输入冗长的无线加密密码的繁琐过程。简单来说，WPS给用户提供了一键接入无线网的便利，但是便利带来的就是安全隐患问题。目前很多无线路由器都提供了WPS功能，一般在无线路由器的按钮区都会提供一个WPS按钮，例如下图：
    WPS功能的使用方法大致就是新终端设备在路由器按动WPS后很方便的接入无线网络，这里不再赘述。利用WPS功能连接的关键点在于用来加密验证的随机八位数PIN码，在负载密码面前，八位数字的加密强度可想而知。下面大致介绍一下PIN码的相关特点：
       PIN码是随机产生的8位数字。在WPS加密中PIN码是网络设备间获得接入的唯一要求，不需要其他身份识别方式，这就让暴力破解变得可行。其次，WPS PIN码的第8位数是一个校验和（checksum），因此攻击者只需算出前7位数即可。这样，唯一的PIN码的数量降了一个级次变成了10的7次方，也就是说有1000万种变化。
       在实施PIN的身份识别时，接入点(无线路由器)实际上是要找出这个PIN的前半部分(前4位)和后半部分(后3位)是否正确即可。当第一次PIN认证连接失败后，路由器会向客户端发回一个EAP-NACK信息，而通过该回应，攻击者将能够确定的PIN前半部或后半部是否正确。换句话说，黑客只需从7位数的PIN中找出一个4位数的PIN和一个3位数的PIN。这样一来，级次又被降低，从1000万种变化，减少到11000（10的4次方+10的3次方）种变化。因此，在实际破解尝试中，黑客最多只需试验11000次。简单来说，实际的PIN码变成了“前四后三“的两组数字，并且这两组数字的破解是异步独立的。最后，有些情况下还可以利用MAC地址和PIN码的对应关系进行尝试，能够大大缩短破解时间。
       下面在Kali Linux系统中，演示使用reaver和wifite进行PIN码的破解过程。破解的第一步和前文所述其他加密方式的破解一样，先将无线网卡正确加载激活至监听模式。这个过程不再复述。然后使用airodump-ng工具，探测周围无线网络信号，如下图：
    这里信道CH为3，新建一个终端窗口，输入reaver执行，打开我们要使用的工具，简单查看一下参数说明：
    具体的参数请大家自行上网搜索研究，这里不再多介绍。破解PIN码的功能使用的命令参数相对比较简单，如下图所示：
    这条命令中，-i参数只是指定一个网络介质，也就是破解使用的无线网卡MAC地址，-b后跟上目标无线路由器的MAC地址，-a为自动检测最佳配置，-S为使用小DH keys用以加速破解过程，-vv输出破解过程，-c指定信道。这里还可以加入-p等参数，设置为从前四位PIN码破解起。Reaver这款工具的设计相对比较智能，这里-p参数不使用也可以。执行后即可进行破解过程：
    必须说明的是，破解PIN码和之前的跑包破解密码不同，跑包破解密码追求速度，但破解PIN码还是需要速度较慢一些，可能一秒钟只能破解1到2个PIN码。原因是由于WPS功能中PIN码的特性，告诉破解PIN码很容易导致将无线路由器“跑死“，也可能被无线路由器屏蔽。目前无线路由器的设计者们均对WPS功能加入了防暴力破解PIN码的功能，所以，足够慢的速度反而能够提高破解的成功率。
       破解PIN码是一个很看运气的过程，鉴于无线信号的非可靠特性，以及无线路由器质量的参差不一，PIN码破解成功可能需要多次尝试，只要把握住速度慢、有耐心、多尝试的原则即可。
       下面给大家简单介绍一下wifite这款工具，在Kali Linux中左上角的应用程序中可以很方便的找到这款工具，点击打开后会出现参数介绍的界面：
    这款工具具备破解WEP、WPA/WPA2以及PIN码的多种功能，这款工具的主要特点是批量自动化，但跑包破解单个WEP、WPA/WPA2-PSK这种数据包的效果，可能并不如aircrack-ng套件好用。如果批量破解WPS功能的无线路由器，这款工具是个相对还不错的选择，使用方法也很简单，首先运行工具，终端输入wifite执行：
    然后软件会自动进入信号探测界面：
    软件能够自动提示所探测到的无线网络是否开启了WPS功能，简洁明了。这里也提醒大家，在使用其他工具破解WPS的PIN码时，倒是不如先用wifite探测一下目标是否开启了WPS功能，已经评估一下信号质量（wifite能够以颜色区分信号质量，绿色最佳）。根据软件提示，按Ctrl+C键可以锁定目标无线网络的列表（此时已经不再进行扫描）。在下方输入想要破解的无线网络编号：
    执行后，软件即可自动执行破解过程，破解成功率的问题，也是依据多种因素决定：
    在这里需要提醒大家，在破解PIN码成功后，无线网卡与目标无线路由器连接后，软件能够一并读取目标无线网络的连接密码，也就是WPA2-PSK或者WEP加密的密码。如果需要长期连接一台目标无线路由器，在破解成功后，一定要记住这个PIN码！！！这样的情况下，只要目标无线路由器不关闭WPS功能，即使修改了无线网密码，攻击者也能够方便的再次接入目标无线网络。
4.本地破解历史连接记录  
这一节简单介绍在windows系统下，利用软件读取本地存储的已连接WiFi密码的方法。我们使用到的工具是一款名叫WiFipasswordDecryptor的工具，使用方法非常简单：
    打开软件后，点击Start Recovery，即可读取密码：
    软件使用非常便捷，适用于一些特殊的场合。比如了解到某个笔记本计算机接入过想破解的目标无线网络，那么无论何时何地，只要有机会在这台笔记本上运行一下这个软件，即可抓取目标无线网络的密码，省去各种破解的过程。
      WiFi密码破解的部分就讲到这里，关于WiFi安全的各类优秀软件工具还有很多，篇幅限制不能一一作出演示讲解，后续如果有机会，将挑选数种具有代表性的其他工具进行一些简单讲解和演示。