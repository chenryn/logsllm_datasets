# 物联网大乐透：寻找绝对安全的物联网设备
##### 译文声明
本文是翻译文章，文章原作者 Kaspersky Lab，文章来源：securelist.com
原文地址：
译文仅供参考，具体内容表达以及含义原文为准。
译者：[兴趣使然的小胃](http://bobao.360.cn/member/contribute?uid=2819002922)
预估稿费：400RMB
投稿方式：发送邮件至linwei#360.cn，或登陆网页版在线投稿
## 一、前言
黑色星期五及网络星期一（Cyber
Monday，也叫剁手星期一）都是大家疯狂购物的节日。厂商会将大量各类产品推广到市场中，其中也包括许多新潮的联网设备，他们保证这些设备可以让广大群众的生活更加轻松、快乐以及舒适。作为卡巴斯基实验室中的一员，我们与世界上其他人一样，也属于狂热的剁手一族，但即使在大促销时节，我们依然关注的是物联网（Internet
of Things， IoT）设备。设想一下，如果我们购买了一台咖啡机，但这台咖啡机会将我们家庭或公司的Wi-Fi密码透露给匿名黑客，或者我们使用了某台[婴儿监视器](http://www.independent.co.uk/life-style/gadgets-and-tech/news/baby-monitors-hacked-parents-warned-to-be-vigilant-after-voices-heard-coming-from-speakers-a6843346.html)，但这款设备会将家庭日常活动在线直播给你不想分享的某个人，这些情况肯定不会那么有趣。
目前的IoT安全性与理想状态还有很大一段距离，购买这些设备时，你可能是为自家房屋购买了一款数字后门。因此，今年在准备剁手IoT设备时，我们可以先问自己一个问题：购买一台绝对安全的物联网设备的概率到底有多高？为了找到这个问题的答案，我们做了个小实验：我们随机挑选了几款物联网设备，并对这些设备的安全性做了检查。我们的调查并没有特别深入，如果你大概了解一些安全知识，你一眼就能看出来某款设备的安全性。根据实验结果，我们找到了一些相当严重的安全问题，也找到了几个不那么严重且无关紧要的问题。
这个实验中，我们研究了如下几个物联网设备：智能电池充电器、应用控制的玩具车、应用控制的智能体重秤、智能吸尘器、智能熨斗、IP摄像头、智能手表以及智能家庭中心。
## 二、智能充电器
我们检查的第一款设备是一款智能充电器，这款充电器内置Wi-Fi连接功能。你可能会问一个问题：谁会需要一个可以远程控制的电池充电器，特别是这款充电器需要用户来手动设置需要充电的电池呢？不论如何，这种设备的确存在，而且除了给电池正常充电外，你还可以控制充电的方式。
我们使用各种类型的电池来测试该设备的充电和放电功能，这类电池的标称电压从3到12伏不等。这款设备带有Wi-Fi模块，用户可以远程连接该设备并控制充电过程、修改充电设置、随时检查电池当前电量。
设备启动后会自动切换到“访问点（access
point）”模式，随后用户可以连接该设备，打开管理接口Web页面。充电器使用过时且易受攻击的WEP加密方式来提供无线访问功能，并没有使用WPA2加密方式。虽然设备的WiFi连接经过密码保护，但默认密码为“11111”，你可以在设备附带的官方文档中找到这个密码，你也可以在网上搜到这个密码。然而，用户可以将该密码改成更加安全的密码。话虽如此，出于某种原因，设备将密码长度限制为5个字符。基于这些信息，我们只需要四分钟就能[破解](https://password.kaspersky.com/in/)设备当前使用的密码。此外，设备所提供的Web接口并没有采用任何密码保护机制。一旦该设备连入家庭Wi-Fi网络，任何人都可以访问该页面。
你可能会问，有谁会那么无聊去攻击一款智能充电器？你的猜测可能是对的，因为世界上很少有黑客会花时间专门做这种事情，特别是这种攻击要求攻击者处在Wi-Fi信号范围内，或者能够访问用户的Wi-Fi路由器（这个问题可能更加棘手）。另一方面，只有恶趣味的人才想去干扰电池的充电方式，或者随机切换充电过程参数。实际环境中，这种漏洞可能会导致电池发热着火或者破坏电池正常功能，具体后果取决于所使用的电池型号，攻击者可能出于趣味性或者想证明自己实力就肆意发起这种攻击。
总结一下：使用这种设备时，通常情况下你并不会面临远程网络攻击的危险。然而，如果你的电池在充电过程中着火，这种现象可能表示你的邻居中隐藏着一名黑客，此时你需要修改设备所使用的密码。这种现象也可能是远程黑客的劳动成果，表明你的Wi-Fi路由器需要更新固件，或者需要修改密码。
## 三、智能应用控制的无线间谍玩具车
当有些人追求的有实际意义的IoT功能时，其他人追求的是娱乐性和趣味性。毕竟每个人在年轻时都想拥有属于自己的间谍工具。此时，一款智能应用控制的无线间谍玩具车应该就能实现许多人的这一梦想。
这款智能设备实际上是装有轮子的间谍相机，用户可以通过Wi-Fi连接这款设备，通过应用程序控制设备行为。我们可以在玩具店中看到这款设备的身影，而Wi-Fi是该设备的唯一连接接口。官方在iOS以及Android上提供了两款管理应用。我们猜测设备所使用的Wi-Fi连接可能存在一些脆弱性，并且实验证实我们的猜测准确无误。
这款设备能够执行如下命令：
1、四处移动（带有多种驾驶模式，可以控制速度及方向）；
2、在移动过程中，通过导航摄像头查看图像，以便给车子导航；
3、查看主摄像头的图像，用户可以旋转改变主摄像头的方向（该摄像头还带有夜视模式）；
4、录制照片及视频，保存在手机内存中；
5、通过内置扬声器远程播放音频。
设备一旦连接到手机，就成为没有密码保护的一个Wi-Fi接入点。换句话说，只要连接到这款设备，任何人都可以发送远程命令，只需要知道可以发送哪些命令即可。当你发现儿童玩具具备间谍功能，并且该玩具缺乏密码保护时，考虑到安全性，你想设置一个密码，然而你会发现这款设备根本不提供这种功能。如果你在笔记本上安装了基本的网络嗅探软件，你想知道玩具车当前正在拍摄的内容，那么你可以拦截车辆与控制设备之间的通信数据，轻松做到这一点。
也就是说，远程攻击者无法实施攻击，只有在该玩具启用Wi-Fi功能后，攻击者才能在玩具的Wi-Fi信号覆盖范围内实施攻击。但另一方面，你无法阻止攻击者在被动模式下监听你的流量，准确捕获设备的使用时机。因此，如果最近你发现自己家附近有人在使用Wi-Fi天线，那么这些人很可能对你的私生活感兴趣，并且他们也具备偷窥你隐私的能力。
## 四、带有摄像头的智能扫地机器人
说到身边带有摄像头的设备时，我们也花了点时间调查为什么智能吸尘器需要搭载网络摄像头，难道这种设备需要使用摄像头来拍摄灰尘，或者探索令人兴奋的床底世界？开个玩笑而已，这种功能专为清洁爱好人士准备：如果你觉得手动控制吸尘器的同时还能检查吸尘器的具体工作是一件非常酷的事情，那么这就是你在寻找的那个产品。当然，你需要记住，这款设备并不是那么安全。
你可以通过特定的应用程序来管理这款设备：你可以控制吸尘器的移动方向、在打扫时观看实时视频、拍摄照片等等。视频流结束后视频也随着消失不见，但照片留在了应用中。
用户可以用两种方法通过Wi-Fi连接设备：
1、将吸尘器作为访问点加以使用。如果家中没有Wi-Fi网络，这款设备自己就可以提供连接功能。你可以通过移动应用连接到吸尘器，然后开始劳作。
2、将吸尘器作为Wi-Fi适配器，连接到已有的访问点中。通过访问点模式连接设备后，你可以将该设备连入家庭Wi-Fi网络，使连接更加稳定，延伸操作半径。
由于用户通过手机应用管理这款设备，因此用户首先需要通过某种授权认证机制。有趣的是，用户只需要输入默认的弱口令就能通过验证。因此，攻击者只需要连入吸尘器的访问点，在应用中输入默认密码来配对手机及吸尘器。配对完成后，攻击者就可以控制这款设备。此外，连入本地网络后，本地网络中就能看到这款扫地机器人，任何人只要连入同一个网络，都可以通过telnet协议来使用这款设备。虽然设备连接经过密码保护，并且用户可以修改默认密码（实际生活中很少有人会这么做），但设备并不具备防护暴力破解的功能。
此外，虽然应用及设备之间的流量经过加密处理，但密钥硬编码在应用中。对这款设备的检查工作仍在进行中，还有许多地方尚未澄清，但第三方可以从Google
Play上下载这款应用，找到硬编码的密钥，在中间人（Man-in-the-Middle）攻击场景中使用该密钥攻击设备使用的通信协议。
当然，与其他Android应用控制的联网设备一样，扫地机器人也面临root型恶意软件的风险：获取最高用户权限后，攻击者可以通过设备摄像头获取信息。在研究过程中，我们也注意到这款设备本身运行的是一个非常过时的Linux操作系统，这种系统没有打上许多补丁，可能导致设备受到其他类型攻击的影响。然而，这一点并不是我们这次研究的内容。