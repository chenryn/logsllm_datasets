**如何利用burp+metasploit快速检测 &利用**
**ImageTragick(CVE-2016–3714)**
From ChaMd5安全团队核心成员 **小meet**
ImageMagick是用来处理图片的通用组件，涉及PHP,JAVA,Python,Perl和Ruby等流行语言，16年4月被发现存在RCE，攻击者只需上传构造好的图片即可获取服务器权限。（延伸阅读-->ImageMagic执行过程、漏洞分析及修复
对这个漏洞的传统检测方式是生成payload通过第三方网站查看DNS解析记录的方式，耗时又不方便，这里介绍一个快速检测利用的方法。
首先需要一个burp插件叫burp-image-size
安装时注意运行环境。
上传图片时抓包选择send toactive scan，即可调用插件对上传点进行扫描。漏洞存在则飚红显示高危漏洞。如图所示成功检测。
接下来利用metasploit getshell
useexploits/unix/fileformat/imagemagick_delegate
show options 查看一下选项
我这里选择默认的配置，接下来执行
exploit -j 生成了一个msf.png
将图片上传，就可以返回一个会话连接
使用sessions -i 1 与会话进行交互
参考链接：