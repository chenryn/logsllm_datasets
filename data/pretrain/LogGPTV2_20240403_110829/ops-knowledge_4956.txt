User: 请回答以下运维开发问题Jenkins：重新使用带有参考选项的存储库并对其进行更改我想设置一个Jenkins集群，在那里，从属服务器正在构建一个Android ROM，其中包含一些参数，如分支（例如lineage-16.0）和一些可选补丁。整个存储库将消耗大约100GB。
比方说，我想用补丁A和补丁B构建支线-16.0，并行地只用补丁A构建支线-160，并行地构建没有补丁的支线-17.1，以此类推。
我刚刚读到git中的--reference选项（它也可以用于repo）。
是否可以以这种方式使用它，或者更改分支和应用补丁会像只使用指针一样修改引用克隆？
我需要以某种方式节省磁盘空间和网络流量。
如果这不可能，有没有其他方法可以不为每个詹金斯作业复制100GB？
除了詹金斯，我还对其他免费工具持开放态度。

Assistant: 如果这不可能，有没有其他方法可以不为每个詹金斯作业复制100GB？
为了避免频繁地克隆存储库，您可以将存储库的单个克隆放在正常工作空间路径之外的执行器节点上的磁盘上。然后，在Jenkins作业中，您可以使用dir步骤cd到该目录，更新repo，并签出您想要的分支，例如：
dir（'/path/to/repo'）{
sh（'git-fetch--all'）
sh（'检验原点/线系-16.0'）
//您的构建步骤
}
然而，这有一个主要缺点，即一次回购将在你的所有工作中共享，这意味着你无法在不冒腐败风险的情况下并行运行这些工作。听起来并行运行作业是您的要求之一，所以这可能是不可行的。
您可能可以通过使用写时复制文件系统来实现并行构建，这样repo看起来在多个独立的目录中，但实际上只需要克隆一次，但我从未尝试过这样的方法，所以我不能说它的工作效果如何。