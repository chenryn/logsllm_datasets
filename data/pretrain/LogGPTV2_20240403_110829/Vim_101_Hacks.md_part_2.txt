16
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Fig: Basic Navigation Keys
Navigation Key Description
j Down one line
k Up one line
h Move right one character
l (lower-case L) Move left one character
As a historical note the h, j, k and l keys had arrows on the ADM-3A terminal,
which was commonly used with early UNIX systems. This is why those keys
were chosen for navigation.
Note: If you are not comfortable with j, k, h and l keys, you can still use
arrow keys to move around.
Vim Configuration File (~/.vimrc)
Local Vimrc
All configuration options that you define inside Vim are valid only for that
particular Vim session.
17
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
For example, if you do :set number to display line numbers inside Vim, this
will apply only in that particular Vim session. If you exit and start the Vim
editor, the line number display will not be present anymore.
If you want to make your configuration settings permanent for future Vim
sessions, you should add it to the ~/.vimrc file as shown below.
$ vim ~/.vimrc
set number
set list
Location of local vimrc file:
OS Location
UNIX/Linux $HOME/.vimrc
Example: /home/ramesh/.vimrc
Note: On Unix there is a . (period) before vimrc
Windows $HOME/_vimrc
Example: C:\Documents and Settings\ramesh\_vimrc
Note: On Windows there is a _ (underscore) before vimrc
18
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Global Vimrc
Global Vimrc is for sysadmins to add system-wide Vim configuration options
that will be effective for all users of that system. Typically you should be
modifying only the local vimrc file.
Location of global vimrc file:
OS Location
UNIX/Linux $VIM/.vimrc
Example: /usr/share/vim/.vimrc
Windows $VIM/_vimrc
Example: C:\Program Files\Vim\_vimrc
Vim Version
The latest stable release of Vim is 7.2 as of the first publishing of this book.
All hacks mentioned in this book are tested against the latest stable version.
Execute :version from the Vim editor to identify the version of your Vim
editor.
Vim version on Ubuntu:
$ vim
:version
VIM - Vi IMproved 7.2 (2008 Aug 9, compiled Mar 19 2009
15:27:51)
19
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Included patches: 1-79
Compiled by PI:EMAIL
Huge version with GTK2-GNOME GUI.
Vim version on Windows:
C:> vim
:version
VIM - Vi IMproved 7.2 (2008 Aug 9, compiled Aug 9 2008
18:46:22)
MS-Windows 32-bit GUI version with OLE support
Compiled by Bram@KIBAALE
Big version with GUI.
Vim Installation
Vim is the default editor on almost all Unix distribution. If you don’t have
latest Vim editor on your system, follow the instruction below to install it.
Install Vim on Windows:
• Go to vim.org -> Download -> PC: MS-DOS and MS-Windows -> Self-
installing executable -> gvim72.exe
• Direct Download Link: ftp://ftp.vim.org/pub/vim/pc/gvim72.exe
• Download gvim72.exe and install it.
Install Vim on Ubuntu Linux:
$ sudo apt-get install vim-full
20
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
All About Vim Help
Type :help to view the built in help documentation that comes with the Vim
editor.
$ vim
:help
While browsing the Vim help document keep the following in mind:
• Anything within | | is a link
• Move your cursor to any character between | | and press CTRL-] to
go to that particular help section.
• For example, |quickref| is a link.
Help Description
:help (or) :h Vim built in help documentation
:helpgrep pattern Search help using pattern.
For example, :helpgrep saveas
Tip: Use :cn to jump for next occurrence of the
pattern.
:help ‘option’ Help on a Vim set option.
For example: :help ‘list’ will give help about
:set list
21
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
:help CTRL-X Help on Vim CTRL-X command.
Use the same concept to get help on other
CTRL- Vim commands.
:help :x Help on Vim :x command
Use the same concept to get help on other :
Vim commands.
:help Help on auto completion.
For example: help will show all
commands that starts with help.
Use Vimtutor for Practice
The Vimtutor program has built in tutor file that contains step-by-step
instructions to learn the Vim editor.
When you launch vimtutor, it copies the original tutor file and opens it
automatically. You can modify this file and play around with it as you wish.
$ vimtutor
By default vimtutor opens the English tutor file. To open a tutor file in your
specific language, give the language code at the end.
For example, the following opens the tutor file in Spanish.
$ vimtutor es
22
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Chapter 2: Basic Navigation
There are three chapters dedicated to Navigation - Basic, Advanced and
Expert Navigation.
If you only use the h, j, k, l characters to navigate, you will soon realize this
is very painful and time-consuming.
Hacks in the navigation chapters will help you navigate file content very
effectively with less key strokes.
Hack 1. Scroll Full Page or Half Page
On a large file, using j, k, h and l keys to scroll down pages is not effective.
Use the following page navigation keys.
Navigation Key Description
CTRL-F Scroll down full page
CTRL-B Scroll up full page
CTRL-D Scroll down half page
CTRL-U Scroll up half page
Instead of using j and k, you can also use CTRL keys to scroll one line at a
time as explained below.
There is a slight visual difference between using j, k keys and this CTRL keys.
Try it out yourself to see the difference.
23
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Navigation Key Description
CTRL-E Scroll down one line
CTRL-Y Scroll up one line
Hack 2. Word Navigation
Using h and l key to navigate horizontally is very painful and time consuming.
You can navigate words effectively using the word navigation keys mentioned
below.
Navigation Key Description
w Go to the beginning of next word
W Go to the beginning of next WORD
e Go to the end of current word
E Go to the end of current WORD
b Go to the beginning of previous word
B Go to the beginning of previous WORD
word Vs WORD
word consists of a sequence of letters, digits and underscores. WORD consists
of a sequence of non-blank characters, separated with white space.
• For example, 192.168.1.3 contains seven words. But the whole
192.168.1.3 is considered as one WORD.
24
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
• If you are at the beginning of “192.168.1.3 devserver” and press w (to
go to next word), you’ll go to the first . (period). Because 192 is
considered as a word.
• If you are at the beginning of “192.168.1.3 devserver” and press W
(to go to next WORD), you’ll go to d in “devserver”. Because the
whole 192.168.1.3 is considered as a WORD.
Fig: word Vs WORD
Hack 3. Position cursor at specific location within a
line
Instead of just using l and h to navigate within a line, you can use the
following to position cursor at various locations within the same line.
Navigation Key Description
0 (zero) Go to the starting of current line
$ (dollar sign) Go to the end of current line
^ (caret sign) Go to the first non blank character of
current line
g_ Go to the last non blank character of
current line
25
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Fig: Line beginning and end navigation
Hack 4. Paragraph, Section, Sentence Navigations
Use the following keys for paragraph, section and sentence navigation.
Navigation Key Description
{ Go to the beginning of current paragraph
} Go to the beginning of next paragraph
[[ Go to the beginning of the current section
]] Go to the beginning of next section
( Go to the beginning of previous sentence
) Go to the beginning of next sentence
26
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Chapter 3: Advanced Navigation
Hack 5. Screen Navigation
Move cursor to top, center and bottom of the screen as explained below.
Navigation Key Description
H Go to the first line of current screen.
A mnemonic for H is "home" position - "0,0" a.k.a. the
upper left corner of the screen
M Go to the middle line of current screen
L Go to the last line of current screen
Hack 6. Redraw Screen with Current Line on Top,
Bottom or Middle
You can redraw the screen with current line under the cursor at top, bottom
or middle as shown below.
Navigation Key Description
z Redraw the screen with the current line under
the cursor at the top of the screen.
z- (lowercase z Redraw the screen with the current line under
followed by hyphen - the cursor at the bottom of the screen.
)
27
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
z. (lowercase z Redraw the screen with the current line under
followed by period) the cursor at the middle of the screen.
Hack 7. Navigate to Top and Bottom of the File
You can jump to the beginning and end of the file quickly as shown below.
Navigation Key Description
:0 Go to the top of the file – method 1
gg Go to the top of the file – method 2
1G Go to the top of the file – method 3
:$ Go to the bottom of the file – method 1
G Go to the bottom of the file – method 2
Hack 8. Navigate to Nth Character, Nth Percentage of
a File
You can navigate to Nth character or Nth percentage of a file as shown below.
Navigation Key Description
50% Go to the 50th percentage of file.
Jump to the middle of the file.
28
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
75% Go to 75% of the file.
Jump to 3/4th of the file.
100l Navigation key is: 100 followed by l.
Go to the 100th character from current position
100 Navigation key is: 100 followed by empty space
Another way to go to the 100th character from
current position
:goto 25 Go to 25th character from the start of file
25| Navigation key is: 25 followed by pipe symbol
Go to 25th character in the current line
Hack 9. Line Number Navigation
The following are command for line number setting inside Vim editor.
Command Description
:set number Display line numbers
:set nu
:set nonumber Do not display line numbers
:set nonu
29
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
:set numberwidth=5 By default the line number width is set to 4
characters. You can change this to 5 character
using numberwidth
You can jump to a specific line number as explained below.
Navigation Key Description
:50 Go to the 50th line
50gg Another way to jump to 50th line
50G Another way to jump to 50th line
Hack 10. Source Code Navigation
These keys are very helpful for programmers who are coding using Vim (or)
for Sysadmins who write shell scripts.
For regular Unix users, these can come in handy while browsing any source
code.
Navigation Key Description
% Go to the matching character of the pair.
Jump to the matching parenthesis (), or curly braces
{} or square bracket [].
30
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
When you are debugging a code and missing a matching parenthesis, use the
following shortcuts for rescue.
Navigation Key Description
[( Go to the previous unmatched (
[) Go to the previous unmatched )
[{ Go to the previous unmatched {
[} Go to the previous unmatched }
Hack 11. Navigate From Insert Mode
You will use either w or W for word navigation in a normal mode. However
sometime you may want to navigate from an insert mode. To do this press
Shift and Right arrow.
If you are insert mode and realized that you have to navigate to next word
and type new text, you don’t need to press  w to go to next word and
press i to come to insert mode again.
Instead, use these navigation keys from the INSERT mode to navigate words.
Navigation Key Description
SHIFT- Go to right word-by-word in insert mode
SHIFT- Go to left word-by-word in insert mode
31
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
Chapter 4: Expert Navigation
Hack 12. Jump Using CTRL-O and CTRL-I
Vim keeps track of your navigation using a jump list. You can go backward
and forward through that list.
The jump list keeps tracks of all the places you’ve been to by tracking file
name, line number and column number.
To view the jump list:
:jumps
Jump Navigation Description
CTRL-O Jump back to previous spot
CTRL-I Jump forward to next spot
5CTRL-O Jump to location#5 shown above location#0
5CTRL-I Jump to location#5 shown below location#0
Let us assume that currently you are editing names.txt as shown below.
$ vim names.txt
:jumps
32
Buyer: xiujuan lu (PI:EMAIL)
Transaction ID: 85W16630AD8515549
Vim 101 Hacks www.thegeekstuff.com
jump line col file/text
3 484 19 /home/ramesh/scsi-list.txt
2 5 0 /etc/passwd
1 6 19 /etc.yp.conf