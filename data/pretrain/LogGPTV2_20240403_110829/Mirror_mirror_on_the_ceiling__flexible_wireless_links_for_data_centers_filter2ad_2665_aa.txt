title:Mirror mirror on the ceiling: flexible wireless links for data centers
author:Xia Zhou and
Zengbin Zhang and
Yibo Zhu and
Yubo Li and
Saipriya Kumar and
Amin Vahdat and
Ben Y. Zhao and
Haitao Zheng
Mirror Mirror on the Ceiling:
Flexible Wireless Links for Data Centers
Xia Zhou, Zengbin Zhang, Yibo Zhu, Yubo Li§, Saipriya Kumar,
Amin Vahdat†, Ben Y. Zhao and Haitao Zheng
Department of Computer Science, U. C. Santa Barbara, USA
§Xi’an Jiaotong University, P. R. China
†Google and U. C. San Diego, USA
{xiazhou,zengbin,yibo,saipriya,ravenben,htzheng}@cs.ucsb.edu, PI:EMAIL, PI:EMAIL
ABSTRACT
Modern data centers are massive, and support a range of dis-
tributed applications across potentially hundreds of server
racks. As their utilization and bandwidth needs continue to
grow, traditional methods of augmenting bandwidth have
proven complex and costly in time and resources. Recent
measurements show that data center traﬃc is often limited
by congestion loss caused by short traﬃc bursts. Thus an at-
tractive alternative to adding physical bandwidth is to aug-
ment wired links with wireless links in the 60 GHz band.
We address two limitations with current 60 GHz wire-
less proposals. First, 60 GHz wireless links are limited by
line-of-sight, and can be blocked by even small obstacles.
Second, even beamforming links leak power, and potential
interference will severely limit concurrent transmissions in
dense data centers. We propose and evaluate a new wireless
primitive for data centers, 3D beamforming, where 60 GHz
signals bounce oﬀ data center ceilings, thus establishing in-
direct line-of-sight between any two racks in a data center.
We build a small 3D beamforming testbed to demonstrate
its ability to address both link blockage and link interfer-
ence, thus improving link range and number of concurrent
transmissions in the data center. In addition, we propose
a simple link scheduler and use traﬃc simulations to show
that these 3D links signiﬁcantly expand wireless capacity
compared to their 2D counterparts.
Categories and Subject Descriptors
C.2.1 [Network Architecture and Design]: Wireless com-
munication
Keywords
Data centers, 60 GHz wireless, wireless beamforming
1.
INTRODUCTION
Modern distributed applications running in clusters and
data centers can run at massive scale, with potentially tens
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
SIGCOMM’12, August 13–17, 2012, Helsinki, Finland.
Copyright 2012 ACM 978-1-4503-1419-0/12/08 ...$15.00.
of thousands of servers spread across hundreds of racks.
The bandwidth requirements of these applications can range
from the relatively modest (e.g., hundreds of Mb/s per server [44])
to substantial (e.g., tens of Gb/s per server for high-end sci-
entiﬁc computing [24]). Delivering such bandwidth comes
at substantial cost for the requisite switching infrastructure.
As a result, a number of recent eﬀorts have investigated
techniques for deploying more eﬃcient data center network
topologies [11, 14, 20, 21, 22].
While these alternate topologies oﬀer a range of beneﬁts
over the current state of the art, we argue that there are a
number of inherent challenges with the deployment of any
wired network technology. First, any large-scale network
consists of multiple “stages,” meaning a multiplicative factor
in the number of ﬁbers/wires required for every server in the
cluster. The process of planning, routing, deploying, testing,
and then repairing tens of thousands of ﬁbers at the scale
of a building incurs substantial cost (both in capital and
operational expenditures). Based on our experience, this
manual overhead often delays the operational time of large
clusters by weeks or months. Lost machine depreciation and
lost opportunity costs for leveraging additional capacity can
produce millions of dollars in hidden cluster costs.
Second, wired deployments typically cannot anticipate band-
width requirements to every rack, and thus must distribute
a ﬁxed amount of ﬁber to every rack spot. This means that
we must overdeploy ﬁber for the “worst case” of communi-
cation requirements rather than the average case, increasing
the cost and maintenance of networking infrastructure.
Third, deployed networks are extremely costly and com-
plex to modify, partially due to the characteristics of multi-
stage network topologies. For example, doubling the number
of top of rack servers in a Clos topology network [14, 21] ei-
ther requires rewiring half the existing ﬁber (impossible since
ﬁbers are often bundled together) or pre-deploying twice the
higher-stage network switches than otherwise required (an
expensive proposition). Similarly, moving a rack later based
on computation needs requires running additional ﬁber to
match. Our experience has shown that adding ﬁber to a
pre-existing cluster is a complex process that incurs sub-
stantial delays, and sometimes simply intractable.
Of course, the key beneﬁt of a wired network, whether
electrical or optical, is the tremendous amount of bandwidth
it can deliver. While the highest end of data center comput-
ing is likely to continue to require wired network deploy-
ments, in this paper we focus on the subset of applications,
and perhaps the majority of applications as borne out by re-
cent measurement studies [15, 16, 25], with more modest or
443TX
RX
TX
RX
(a) Rack-based DC
(b) Container-based DC
(c) 2D Beamforming
(d) 3D Beamforming
Figure 1: Radio transceivers are placed on top of each rack (a) or container (b). Using 2D beamform-
ing (c), transceivers communicate with neighboring ones directly, but forward traﬃc in multiple hops to
non-neighboring racks. Using 3D beamforming (d), the ceiling reﬂects the signals from each sender to its
receiver, avoiding multi-hop relays.
more localized/bursty bandwidth requirements. That is, we
focus on the subset that do not require (near) non-blocking
all-to-all communication at data center scale.
In particular, we focus on high-throughput, beamform-
ing wireless links in the 60 GHz band. The unlicensed 60
GHz band provides multi-Gbps data rates and can be im-
plemented with relatively low-cost hardware. Because 60
GHz signals attenuate quickly with distance, multiple wire-
less links can be deployed in a single data center.
In our
eﬀorts to expand the eﬀective bandwidth of 60 GHz links,
we hope to create a new primitive that can be used to either
augment existing networks with on-demand network links,
or potentially replace wired links in data centers with mod-
est bandwidth requirements. We build on pioneering eﬀorts
of earlier work that proposed 60 GHz links to alleviate hot
spots in the data center [23, 26].
However, earlier eﬀorts face a number of limitations. First,
even beamforming directional links will experience signal
leakage, and produce a cone of interference to receivers near
or behind the intended target receiver. This limits the num-
ber of links that can be active concurrently in densely oc-
cupied data centers, and reduces the aggregate throughput
oﬀered by these wireless links.
Second, these links require direct line-of-sight (LOS) be-
tween sender and receiver, and can be blocked by even small
objects in the path. This limits the eﬀective range of 60 GHz
links to neighboring top-of-rack radios. Since hotspots occur
regularly at both edge and core links [15], augmenting core
links would require multiple hops through a line-of-sight 60
GHz network. Half-duplex, directional antennas mean that
these multi-hop links will suﬀer at least a 50% throughput
drop, higher-levels of potential congestion, and additional
delays required to frequently adjust antenna orientation.
To address these issues, we investigate the feasibility of
60 GHz 3D beamforming as a ﬂexible wireless primitive in
data centers. In 3D beamforming, a top-of-rack directional
antenna forms a wireless link by reﬂecting a focused beam oﬀ
the ceiling towards the receiver. This reduces its interference
footprint, avoids blocking obstacles, and provides an indirect
line-of-sight path for reliable communication. Such a system
requires only beamforming radios readily available today,
and near perfect reﬂection can be provided by simple ﬂat
metal plates mounted on the ceiling of a data center.
3D beamforming has several distinctive advantages over
prior “2D” approaches. First, bouncing the beam oﬀ the
ceiling allows links to extend the reach of radio signals by
avoiding blocking obstacles. Second, the 3D direction of the
beam signiﬁcantly reduces its interference range, allowing
more nearby ﬂows to transmit concurrently. Third, the re-
duced interference extends the eﬀective range of each link,
allowing our system to connect any two racks using a single
hop, and mitigating the need for multihop links.
In this paper, we propose a 3D beamforming system for 60
GHz wireless transmissions in data centers. The 3D beam-
forming idea was ﬁrst introduced by Zhang et al.
in [46].
In this paper, we greatly extend the prior work, and use
measurements of a local 60 GHz testbed to quantify and
compare the performance of 3D and 2D beamforming links.
We ﬁnd that 3D wireless beamforming works well in prac-
tice, and experiences zero loss in signal or throughput from
reﬂection. We also describe a link scheduler for 3D beam-
forming systems that maximizes concurrent links while also
taking into account accumulative interference and antenna
alignment delays. Finally, we use a detailed simulation of
data center traﬃc hotspots to quantify the performance of
3D beamforming systems. Our results show that while 2D
links can only support a small portion of hotspot traﬃc links,
3D beamforming can connect all rack pairs in a single hop,
and can signiﬁcantly reduce overall data completion time for
wired networks across a range of bisection bandwidths.
While wired networks will likely remain the vehicle of
choice for the high-end of distributed computing, we believe
that eﬀorts such as 3D beamforming can expand the ap-
plicability and beneﬁts of wireless networking to a broader
range of data center deployments.
2. 60 GHZ: LIMITATIONS AND SOLUTIONS
While modifying the topology of wired data centers is
costly, complex, and sometimes intractable, administrators
can introduce ﬂexible point-to-point network links with the
addition of wireless radios. Prior work has proposed the use
of 60 GHz links to augment data center capacity [23, 26,
35, 38]. Figures 1(a)-(b) show a common deployment sce-
nario, where wireless radios are placed on top of each rack
or container to connect pairs of top-of-rack (ToR) switches.
In practice, however, data center managers remain skep-
tical on deploying wireless links despite their potential ben-
eﬁts [1].
In this section, we summarize prior work in this
space, and use detailed experiments on a 60 GHz testbed to
identify and quantify key limitations of current proposals.
2.1 60 GHz Links in Data Centers
Existing designs [23, 26, 27, 38] adopt 60 GHz wireless
technologies for several reasons. First, the 7GHz spectrum
444intra-row 
inter-row  
communication
communication
3.6m
2.4m
1.2m
m
6
.
0
RXk
RX2
RX1
TX
TX
RX1
RXk
)
B
d
(
n
o
i
t
a
d
a
r
g
e
d
S
S
R
 35
 30
 25
 20
 15
 10
 5
 0
 1
 0.8
 0.6
 0.4
 0.2
 0
s
s
o
l
e
t
a
r
a
t
a
d
f
o
n
o
i
t
c
a
r
F
)
B
d
(
n
o
i
t
a
d
a
r
g
e
d
S
S
R
 20
 15
 10
 5
 0
RSS degradation
Data rate loss
RX1
RX2
RX3
RX4
RX5
 1
 0.8
 0.6
 0.4
 0.2
 0
s
s
o
l
e
t
a
r
a
t
a
d
f
o
n
o
i
t
c
a
r
F
RSS degradation
Data rate loss
RX1 RX2 RX3 RX4 RX5 RX6 RX7
(a) Experiment Setup
(b) Intra-row Blockage
(c) Inter-row Blockage
Figure 2: Impact of link blockage using 2D beamforming. (a) Our experiment setup to examine antenna
blockage for intra- and inter-row links. T X represents the transmitter, and RXk is the target receiver which
is blocked by k antennas. (b-c) The RSS degradation and data rate loss for intra- and inter-row scenarios.
available in this band can deliver the multi-Gbps data rates
required by data centers. Second, 60 GHz links operate at
a high carrier frequency, which limits the interference they
generate [45], and is highly beneﬁcial to data centers with
dense rack deployments. Third, 60 GHz links can use beam-
forming to enhance link rate and further suppress interfer-
ence [23, 27]. Beamforming is a physical layer technique to
concentrate transmission energy in a speciﬁc direction. To-
day, 60 GHz beamforming radios are readily available and
aﬀordable, either as directional (horn) antennas [23] or an-
tenna arrays [8]. They use either mechanical or electronic
mechanisms to achieve ﬁne-grain directional control [23, 40].
A 60GHz Testbed. As an experimental platform for 60
GHz wireless projects, we have built a small 60 GHz wireless
testbed. To build a bidirectional 60 GHz link, we set two
Gigalink 6451 radios from HXI Millimeter Wave Products [5]
to operate using frequency division on two frequency bands
near 60 GHz, centered at 58.2 GHz and 61.9 GHz. A simple
On-Oﬀ-Keying modulation method delivers up to 1.25Gbps
of bandwidth,but actual throughput is limited to 1 Gbps by
the radio’s ﬁber-optic Gigabit Ethernet interface.
These radios were originally designed for long distance
wireless links, and each is equipped with a 60 GHz transceiver
and a 41dBi directional antenna transmitting at 10dBm power.
To modify them for short distance data center links in our
experiments, HXI engineers modiﬁed the radio ampliﬁer to
reduce output power to 0dBm. We also replaced 41dBi an-