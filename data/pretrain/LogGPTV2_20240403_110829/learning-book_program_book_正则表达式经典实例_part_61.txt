正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
查找一个二进制字值（wordvalue）或是一个16bit数：
\b[01]{16}\b
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
查找一个字节串（也就是多个8bit数组成的字符串）：
\b(? : [01](8}) +\b
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
数字
315
www.TopSage.com
---
## Page 332
讨论
所有这些正则表达式中使用的技巧都已经在前面两个实例中讲解过。关键的区别是这
里的每个数字只能是0或者1。使用一个只包含两个字符的字符类[01]，我们就可以
很容易地匹配这个模式。
参见
实例2.3和实例2.12。
6.4
删除前导0
问题描述
你想要匹配一个整数，然后或者返回不包含任何前导0的整数，或者是删除所有的前
导0。
解决方案
正则表达式
\b0*([1-9][0-9]*|0)\b
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
替代文本
$1
替代文本流派：.NET、Java、JavaScript、PHP、Per1
\1
替代文本流派：PHP、Python、Ruby
在Perl中获取数字
while($subject =~m/\b0*([1-9][0-9]*|0)\b/g）{
push(@list, $1);
在PHP中删除前导0
$result=preg_replace(/\b0*([1-9][0-9]*|0)\b/','$1'，$subject）;
讨论
我们使用了一个捕获分组来把数字同它前面的0分开。在该分组之前，0*会匹配所
316
第6章
www.TopSage.com
---
## Page 333
有的前导0（也可以不存在）。在分组中，会匹配包含1个或多个数字的
一个整数，它的第一个数字不能是0。这个数只有在整个数的值为0的时候，才能以
0开头。其中的单词边界用来保证我们不会匹配到部分数字，这在实例6.1中已经有
过讲解。
要想得到目标文本中所有不含前导0的数字的一个列表，需要按照实例3.11中的讲
解对所有正则匹配进行遍历。在循环中，按照实例3.9中的讲解，获取由第一个（也
是唯一一个）捕获分组匹配到的文本。随后的解决方案中讲解了如何在Perl中完成这
个任务。
把前导0去掉也可以很容易地使用查找和替换操作来完成。在我们的正则式中包含一
个捕获分组，它可以把整数与其前导0分离开来。如果我们把整个正则匹配（包含前
导0的整数）替换为第一个捕获分组匹配到的文本，那么实际上也就是删除了所有的
前导0。前面的解决方案中给出了在PHP中的代码示例。实例3.15中讲解了如何在其
他编程语言中完成同样的任务。
参见
实例3.15和实例6.1。
6.5位于某个特定范围之内的整数
问题描述
你想要匹配位于某个特定取值范围内的一个整数。你希望正则表达式可以准确限制数
值范围，而不只是对其中的数字个数进行限制。
解决方案
1～12（小时或者月份）：
(1[0-2]1[1-9])$
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
1~24（小时）：
(2[0-4]11[0-9]1[1-9])$
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
1～31（每月中的天次）：
（6-]16-0]]10])
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
数字
317
www.TopSage.com
---
## Page 334
1～53（每年中的周次）：
（[6-]1[60][-]1[-0])
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
0～59（分钟或秒钟）：
[1-5]?[0-9]$
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
0～100（百分数）：
(1001[1-9]?[0-9])$
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
1~100:
(1001[1-9][0-9]?)$
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
32～126（可打印的ASCII字符）：
（[6-]16-0]6-]1[6-0]0]1[9-0])
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
0～127（非负有符号字节数）：
(12[07]11[01][0-9]1[1-9]?[0-9]) $
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
-128～127（有符号字节数）：
(12[0-7]11[01][0-9]1[1-9]?[0-9]1- (12[0-8]11[01][0-9]1[1-9]?[0-9])) $
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
0～255（无符号字节数）：
 (25[0-5]12[0-4][0-9]11[0-9]{2}1[1-9]?[0-9])$
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
1～366（一年中的天次）：
$（[6-0][6-]1[6-0](]1[6-0][-0]19-0]9)
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
318
第6章
www.TopSage.com
---
## Page 335
1900～2099（年份）：
(19|20)[0-9]{2}$
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
0～32767（非负有符号字数）：
[6-0]]16-0]016-0]9-0]160]-0-09
[ 4 }| 
[1-9][0-9](1, 3}1[0-9]) $
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
32768～32767（有符号字数）：
1}6-0]]16-0]0]1)6-0[9-0]16-0]-0]1-0]9
[1-9][0-9]{1, 3}1[0-9]1-(3276[0-8]1327[0-5][0-9]132[0-6][0-9]{2}1
3 [01][0-9]{3}1[12][0-9]{4}1[1-9][0-9]{1, 3}1[0-9])) $
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
0～65535（无符号字数）：
(6553[0-5]1655[02][0-9]165[0-4][0-9]{2}16[0-4][0-9]{3}1[1-5][0-9]{4}|
[1-9][0-9]{1, 3} 1[0-9]) $
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
讨论
前面几个实例会匹配包含任意数目的数字的一个整数，或者是包含特定数目的数字的
一个整数。它们允许在该整数的所有数字中都可以出现所有可能的数字范围。
匹配位于某个特定范围之内的整数，例如0～255之间的一个整数，就无法采用正则表
达式来简单实现了。你不能使用[0-255]>。如果这样用，那么就根本无法匹配0～255
之间的一个整数。这个字符类与是等价的，因此它只能匹配数字0、1、2和5
之中的任意一个。
提示
因为这些正则表达式都比较长，所以所有解决方案中都使用了定位符来
是一个可接受的数，实例6.1中讲到，为了一些其他的目的，你可以不使
用这些定位符，而是使用单词边界或环视。在这个讨论中所给的正则式
都不包含任何定位符，这样使得我们可以更好地关注如何处理数值范围。
如果你想要使用其中的任何一个正则表达式，那么就需要添加定位符或
者单词边界，以确保你的正则表达式不会匹配到属于更长数字的一部分。
数字319
www.TopSage.com
---
## Page 336
正则表达式会一个字符一个字符来进行处理。如果我们想要匹配包含多于一个数字的
整数，那么就必须罗列出所有可能的数字组合。最重要的构造单元是字符类（实例2.3）
和多选结构（实例2.8）。
在字符类中，我们可以使用单个数字的范围，例如[0-5]。这是因为0~9的数字字
符在ASCⅡI字符表和Unicode字符表中占据的都是连续的位置。[0-5]会匹配其中
的6个字符中的一个，而和，而是使用简写字符类或者。多选操作符
320第6章
www.TopSage.com
---
## Page 337
在所有正则操作符中拥有最低的优先级，因此我们并不需要对数字添加分组，比如采
用（4[4-9](5[0-5])。
你可以使用多选结构来组合任意多个范围。例如，范围34～65也拥有两个相关的位置。
第-一个数字必须是3～6。如果第一个数字是3，那么第二个必须是4～9。如果第一个
数字是4或5，那么第二个可以是任意数字。如果第一个数字是6，那么第二个必须是
从0~5：
[-0]91[6-0]]16-]
正则选项：无
正则流派：.NET、Java、JavaScript、PCRE、Perl、Python、Ruby
使用多选结构，我们不仅可以将相关联的位置划分成多个包含无关位置的范围，还可