On the Application of AI for Failure Management
AIOps for IT Operations, Networks and DevOps
18th Inter. Conf. on the Design of Reliable Communication Networks (DRCN)
Mar. 28 - 31, 2022, Spain
Prof. Jorge Cardoso
University of Coimbra
E-mail: PI:EMAIL
Chief Architect for AIOps
Munich/Dublin Huawei Research Center
2022.03.30
Overview
Keynote
On the Application of AI for Failure Management: Problems, Solutions
and Algorithms
Artificial Intelligence for IT Operations (AIOps) is a class of software which
targets the automation of operational tasks through machine learning
technologies. ML algorithms are typically used to support tasks such as
anomaly detection, root-causes analysis, failure prevention, failure
prediction, and system remediation. AIOpsis gaining an increasing interest
from the industry due to the exponential growth of IT operations and the
complexity of new technology. Modern applications are assembled from
hundreds of dependent microservices distributed across many cloud
platforms, leading to extremely complex software systems. Studies show
that cloud environments are now too complex to be managed solely by
humans. This talk discusses various AIOpsproblems we have addressed
over the years and gives a sketch of the solutions and algorithms we have
implemented. Interesting problems include hypervisor anomaly detection,
root-cause analysis of software service failures using application logs,
multi-modal anomaly detection, root-cause analysis using distributed
traces, and verification of virtual private cloud networks.
ULTRA-SCALE AIOPS LAB 1
HUAWEI CLOUD
Site Reliability Engineering (SRE)
Reliability is an important feature of HAUWEI CLOUD. SRE is responsible for it …
…a few numbers…
▪ worldwide, Huawei Cloud has
45availability zones across 23
D regions (June 2019)
U
O ▪ more than 180 cloud services
L
C and 180 solutions for a wide
IE range of sectors
W ▪ Costumers include European
A
U Organization for Nuclear
H Research (CERN), PSA
Group, Shenzhen Airport, Port
of Tianjin, …
▪ Automation ▪ Eliminating Toil ▪ 50% software engineer / ▪ Regular review meetings ▪ Guarantee that there are
▪ Setup quantified SLO ▪ Implement monitoring and 50% system engineer ▪ Humans add latency few problems
▪ Run Err Budget develop handling processes ▪ Load slows down systems ▪ It's either a problem or a
▪ Self-constraint, balanced ▪ Diagnosis, analysis, and ▪ Elite forces, focusing on ▪ Addressing cascading quick recovery
E Dev/Ops detailed data high-ROI work failures ▪ The recovery tool is
R ▪ Fact oriented ▪ Define contextual, ▪ Take turns to monitor and designed in the early stage
S
▪ Four golden signals customer-focused SLOs ▪ Training through brain document solutions of the process
▪ Altering from time-series ▪ 70% of outages due to games ▪ Distributed consensusfor
changes in a live system ▪ Perform regular drillsin the reliability ▪ Continuous review and
environment optimization
ULTRA-SCALE AIOPS LAB 2
Worldwide Trends
Cloud, transformation, edge, scale and complexity
Distributed Cloud Digital Transformation
Constantly changing
infrastructure that is heavily HC Public Cloud –HC Stack Online --Edge cloud/CDN As digital
virtualized transformation
initiatives start to be
O&M challenge will implemented, IT
not be about infrastructure has
replication, but about: become exponentially
1. Automation more complex.
2. Integration 1. Real-time
3. Reuse monitoring
4. Abstraction 2. Prediction
5. Upgrade optimization
3. Control and
decision making
Trend: 5 big clouds (GAAVI), 100+ industry clouds, 500+ regions, 5000+
edge sites. The average business runs 38% of workloads in public cloud and Trend: digital transformation initiative is expected to growth 20%/year until
41% in private cloud 2025. Intelligent monitoring market is expected to growth b/year until 2025
Cloud Edge Applications Overwhelming number of alarms Ultra-scale and Complexity
and monitoring data,makes it
impossible to know where to focus
during incident resolution.
Not only monitoring
tools are important,
the velocity of code
deployments also
becomes key
▪ Automation of 10k
deployments/year
▪ >50 monitoring tools
▪ Trillions metrics/day
▪ Service availability?
Trend: Digital Transformation increases the number of managed servers 10x,
Trend: Video/CDN, Cloud Gaming, Industrial IoT, Automotive, AR/VR
10k deployments/year, >50 monitoring tools, trillions metrics
ULTRA-SCALE AIOPS LAB 3
R&D Direction
AI-driven autonomous systems
Business Driver: high reliability, high automation, low cost of IT operations
Use AI/ML to transform the cloud, IT operations and infrastructure by processing massive amounts of data to
Objective
trigger automated actions 24/7, with higher reliability, higher operational efficiencyand cost savings
RESEARCHANDDEVELOPMENT
Research AI for IT
Edge AI AI for Network AI for DevOps
Fields Operations
Anomaly detection Intelligent Container Tracking Formal Verification Log Recommendation
Root-cause analysis Computing Models SmartNICs& Troubleshooting Code Analysis
Methods
Secure Operations Software Framework P4 Network Programming Continuous Verification
Failure Prediction Federated Learning Intent-Based Networks Structured Logging
INTELLIGENT
LOG RECOMMENDATION
Scenarios
Customer
F Vo Pr Cm , a rl o v ue ter rif , ic fia reti won al: l , routing, ECS, subnetworks, … I CN OT NE TL IL NIG UE ON UT S VERIFICATION
Fundamental
AIOps, DataOps, MLOps, federated learning, deep learning, formal verification methods
Research
ULTRA-SCALE AIOPS LAB 4
AI for IT Operations (AIOps)
Bringing AI to O&M
SRE / O&M Activities “We began applying machine learning two years ago (2016)to operate
▪ System monitoring and 24x7 technical support, Tier 1-3 support our data centers more efficiently… over the past few months,
▪ Troubleshooting and resolution of operational issues DeepMind researchers began working with Google’s data center team
▪ Backup, restoration, archival services to significantly improve the system’s utility. Using neural networks
▪ Update, distribution and release of software trained on different operating scenarios and parameters, we created a
▪ Change, capacity, and configuration management more efficient and adaptive framework to understand data center
▪ … dynamics and optimize efficiency.” Eric Schmidt, Dec. 2018
“VirtytKoshi, the EMEA general manager for virtualization vendor Mavenir, reckons Google is able
to run all of its data centers in the Asia-Pacific with only about 30 people, and that a telco would
typically have about 3,000 employees to manage infrastructure across the same area."
Early indicators
MoogsoftAIOps,
Amazon EC2
Predictive Scaling,
Azure VM resiliency,
Amazon S3 Intelligent
Tiering
38.4% of organizations take
more than 30 minutes to
resolve IT incidents that
impact consumer-facing
services (PagerDuty)
Harvard Business Review
https://www.lightreading.com/automation/google-has-intent-to-cut-humans-out-of-network/d/d-id/742158
ULTRA-SCALE AIOPS LAB 5 https://www.lightreading.com/automation/automation-is-about-job-cuts---lr-poll/d/d-id/741989
https://www.lightreading.com/automation/the-zero-person-network-operations-center-is-here-(in-finland)/d/d-id/741695
Overview of AIOps Research
1990-2020
Results
▪ Majority of research (670 papers, 62.1%) are associated with
failure management (FM)
• Online failure prediction(26.4%)
• Failure detection(33.7%)
• Root cause analysis (26.7%)
▪ Most common problems in FM
• Software defect prediction, system failure prediction,
anomaly detection, fault localization and root cause
diagnosis
▪ Failure detection has gained particular traction in recent
years (71 publications for the 2018-2019 period)
▪ Root cause analysis (39) and online failure prediction (34)
▪ Failure prevention and remediation are the areas with least
research
1
2
3
A Systematic Mapping Study in AIOps.Notaro, P.; Cardoso, J. and Gerndt, M.In AIOPS 2020 International Workshop on Artificial
Intelligence for IT Operations,Springer, 2020.
A Survey of AIOpsMethods for Failure Management. Notaro, P.; Cardoso, J. and Gerndt, M. In ACM Transactions on Intelligent
Systems and Technology, 2021.
ULTRA-SCALE AIOPS LAB 6
AIOps Fields
Troubleshooting
SRE / O&M Activities
Complex System
▪System monitoring and 24x7/Tier 1-3 technical support
▪Troubleshooting and resolution of operational issues ▪OBS. Object Storage Service
▪Backup, restoration, archival services ▪EVS. Elastic Volume Service (block storage)
▪Update, distribution and release of software ▪VPC. Virtual Private (private virtual networks)
▪Change, capacity, and configuration management
▪ECS. Elastic Cloud Server (scalable computing)
▪…
Troubleshooting tasks Anomaly Detection
▪ Anomaly detection. Determine what constitutes normal ▪ Response Time Analysis
system behavior, and then to discern departures from that ‒ A service started responding to requests more slowly than
normal
normal system behavior
‒ The change happened suddenly as a consequence of
▪ Fault diagnosis (root cause analysis). Identify links of
regression in the latest deployment
dependency that represent causal relationships to discover ▪ System Load
the true source of an anomaly ‒ The demand placed on the system, e.g., REST API requests
per second, increase since yesterday
▪ Fault Prediction. Use of historical or streaming data to
▪ Error Analysis
predict incidents with varying degrees of probability
‒ The rate of requests that fail --either explicitly (HTTP 5xx) or
▪ Fault recovery. Explore how decision support systems can implicitly (HTTP 2xx with wrong content) --is increasing slowly,
manage and select recovery processes to repair failed but steadily
systems ▪ System Saturation
‒ The resources (e.g., memory, I/O, disk) used by key controller
services is rapidly reaching threshold levels
ULTRA-SCALE AIOPS LAB 7
Troubleshooting
Monitoring and its data sources
System’s Components (e.g., OBS, EVS, VPC, ECS) are monitored and generate various types of data:
Logs, Metrics, Traces, Events, Topologies
Logs. Service, microservices, and applications
generate logs, composed of timestamped 2017-01-18 15:54:00.467 32552 ERROR oslo_messaging.rpc.server[req-c0b38ace -
records with a structure and free-form text, default default] Exception during message handling
which are stored in system files.
Metrics. Examples of metrics include CPU
{“tags": [“mem”, “192.196.0.2”, “AZ01”], “data”: [2483, 2669, 2576, 2560, 2549, 2506,
load, memory available, and the response
2480, 2565, 3140, …, 2542, 2636, 2638, 2538, 2521, 2614, 2514, 2574, 2519]}