SUSEConnect -p PackageHub/12/x86_64
SUSEConnect -p sle-sdk/12/x86_64
For detailed information about registering a SUSE host, visit:
https://www.suse.com/support/kb/doc/?id=7016626
Then add the Java repository and update the repository metadata:
Please note that only OpenJDK (version 1.8) is supported on SLES hosts of Java
components. Before using an RPM installer to add Advanced Server or a supporting
component that requires Java, use zypper to add supporting repository locations to your
system.
Use the commands:
zypper addrepo
"http://download.opensuse.org/repositories/Java:/Factory/SLE_12_S
P2/Java:Factory.repo"
zypper addrepo
"http://download.opensuse.org/repositories/server:/Kolab:/3.3/SLE
_12/server:Kolab:3.3.repo"
zypper refresh
Then, you can use the zypper utility to install the xDB Replication Server components:
zypper install ppas-xdb*
Note: Before starting the publication server and subscription server, the /etc/hosts
file must contain an entry for the host name that associates it to the host IP address as
shown by the following example where 192.168.187.133 is the IP address and linux-
dm8s is the host name:
192.168.187.133 linux-dm8s
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 120
EDB Postgres Replication Server User’s Guide
3.5 Post-Installation Host Environment
On Linux hosts where you installed xDB Replication Server with the graphical user
interface or from the command line, you should now have a publication server daemon
and a subscription server daemon running on your computer assuming you chose to
install the publication server and subscription server components. If you installed the
xDB RPM package, you must start the publication server and the subscription server
based upon the instructions in Section 5.2.1 for the publication server and Section 5.3.1
for the subscription server. On Windows systems, the publication server and subscription
server run as services named Publication Service and Subscription Service.
The Postgres application menu contains a new item for the xDB Replication Console.
Note: On some Linux systems, you may have to restart the server before you can see the
xDB Replication Console choice in the application menu. If the xDB Replication Console
choice is still unavailable in the application menu, it can be started by invoking the script
XDB_HOME/bin/runRepConsole.sh.
Note: For xDB Replication Server installed from an xDB RPM package, the xDB
Replication Console is started by invoking the script
XDB_HOME/bin/runRepConsole.sh.
The following files are created that you may need during the configuration process.
Table 3-2 – Post-Installation Files
File Name Location Description
edb-repl.conf (Linux) /etc xDB Replication Configuration file
edb-repl.conf (Windows) XDB_HOME\etc xDB Replication Configuration file
Start, stop, or restart the publication
edb-xdbpubserver (Linux) /etc/init.d
server
edb-
Start, stop, or restart the publication
xdbpubserver.service /usr/lib/systemd/system
server (CentOS 7, RHEL 7)
(Linux)
Start, stop, or restart the subscription
edb-xdbsubserver (Linux) /etc/init.d
server
edb-
Start, stop, or restart the subscription
xdbsubserver.service /usr/lib/systemd/system
server (CentOS 7, RHEL 7)
(Linux)
xdb_pubserver.conf XDB_HOME/etc Publication server configuration file
xdb_subserver.conf XDB_HOME/etc Subscription server configuration file
xdbReplicationServer-
XDB_HOME/etc/sysconfig xDB Startup Configuration file
xx.config
pubserver.log (Linux) /var/log/xdb-x.x Publication server log file
POSTGRES_HOME\.enterprisedb
pubserver.log (Windows) Publication server log file
\xdb\x.x
subserver.log (Linux) /var/log/xdb-x.x Subscription server log file
POSTGRES_HOME\.enterprisedb
subserver.log (Windows) Subscription server log file
\xdb\x.x
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 121
EDB Postgres Replication Server User’s Guide
File Name Location Description
edb-xdbpubserver.log
/var/log/edb/xdbpubserver Publication services startup log file
(Linux)
edb-xdbsubserver.log
/var/log/edb/xdbsubserver Subscription services startup log file
(Linux)
USER_HOME/.enterprisedb/xdb
servers.xml Server login file
/x.x
Note: XDB_HOME is the directory where xDB Replication Server is installed.
Note: POSTGRES_HOME is the home directory of the postgres operating system
account (enterprisedb for Advanced Server installed in Oracle compatible
configuration mode).
Note: The publication and subscription services startup log files (edb-
xdbpubserver.log and edb-xdbsubserver.log) are not generated for Windows
and Mac OS X operating systems.
Note: USER_HOME is the home directory of the operating system account in use.
Note: The xDB Replication Server version number is represented by x.x or by xx (for
example 6.2 or 62).
3.6 Uninstalling xDB Replication Server
Uninstalling xDB Replication Server results in the removal of the publication server, the
subscription server, the xDB Replication Console, the xDB Replication Server Command
Line Interface, the xDB Replication Configuration file, the xDB Startup Configuration
file, the publication server configuration file, and the subscription server configuration
file.
Uninstalling xDB Replication Server does not remove any databases used as master
nodes, publication databases, or subscription databases.
Use the xDB Replication Console or the xDB Replication Server Command Line
Interface to delete any existing single-master or multi-master replication systems before
you uninstall xDB Replication Server, otherwise the control schema objects created in the
publication databases or master nodes will remain in those databases. These control
schema objects must then be deleted manually such as by using an SQL command line
utility.
If you installed xDB Replication Server using the xDB Replication Server installer
program invoked from Stack Builder or StackBuilder Plus as described in Section 3.1 or
you invoked the xDB Replication Server installer program from the command line as
described in Section 3.2, uninstall xDB Replication Server by invoking the uninstall-
xdbreplicationserver script as described in this section.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 122
EDB Postgres Replication Server User’s Guide
If you installed xDB Replication Server from the RPM package, uninstall it using the
Yum package manager. See Section 3.7 for information.
For Linux only: The following steps are for uninstalling xDB Replication Server from a
Linux host.
Step 1: As the root account, run the XDB_HOME/uninstall-
xdbreplicationserver script from the directory where you installed xDB
Replication Server.
$ su root
Password:
$ cd /opt/PostgreSQL/EnterpriseDB-xDBReplicationServer
$ ./uninstall-xdbreplicationserver
Step 2: Click the Yes button to confirm uninstallation of xDB Replication Server.
Figure 3-26 - Confirm xDB Replication Server uninstallation
Step 3: The Uninstallation Completed dialog box appears when the process has
completed. Click the OK button.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 123
EDB Postgres Replication Server User’s Guide
Figure 3-27 - Uninstallation completed
For Windows only: The following steps are for uninstalling xDB Replication Server
from a Windows host.
Step 1: From the Windows Control Panel, select Uninstall a Program.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 124
EDB Postgres Replication Server User’s Guide
Figure 3-28 - Uninstall a program
Step 2: Select the xDB Replication Server product in the list of programs to uninstall or
change. Click the Uninstall/Change button.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 125
EDB Postgres Replication Server User’s Guide
Figure 3-29 - Uninstall or change a program
Step 3: Click the Yes button to confirm uninstallation of xDB Replication Server.
Figure 3-30 - Confirm xDB Replication Server uninstallation
Step 4: The Uninstallation Completed dialog box appears when the process has
completed. Click the OK button.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 126
EDB Postgres Replication Server User’s Guide
Figure 3-31 - Uninstallation completed
Uninstalling in Text or Unattended Mode
Uninstallation of xDB Replication Server can also be done without the use of the
graphical user interface. This is illustrated by the following examples.
The following shows how to uninstall xDB Replication Server in text mode.
$ su root
Password:
$ ./uninstall-xdbreplicationserver --mode text
Do you want to uninstall xDB Replication Server and all of its modules?
[Y/n]: y
----------------------------------------------------------------------------
Uninstall Status
Uninstalling xDB Replication Server
0% ______________ 50% ______________ 100%
#########################################
Info: Uninstallation completed
Press [Enter] to continue :
$
The following shows how to uninstall xDB Replication Server in unattended mode.
$ su root
Password:
$ ./uninstall-xdbreplicationserver --mode unattended
$
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 127
EDB Postgres Replication Server User’s Guide
3.7 Uninstalling the xDB RPM Package
If you installed xDB Replication Server from the RPM package, you can uninstall any
xDB component by invoking the yum remove package_name command as the root
account where package_name is any xDB Replication Server component RPM package
as listed in the table in Section 3.3.
All xDB Replication Server components can be removed by the following command:
yum remove ppas-xdb*
An example is shown by the following:
[root@localhost ~]# yum remove ppas-xdb*
Loaded plugins: fastestmirror, refresh-packagekit, security
Setting up Remove Process
Resolving Dependencies
--> Running transaction check
---> Package ppas-xdb.x86_64 0:6.2.0-1.rhel6 will be erased
---> Package ppas-xdb-console.x86_64 0:6.2.0-1.rhel6 will be erased
---> Package ppas-xdb-libs.x86_64 0:6.2.0-1.rhel6 will be erased
---> Package ppas-xdb-publisher.x86_64 0:6.2.0-1.rhel6 will be erased
---> Package ppas-xdb-subscriber.x86_64 0:6.2.0-1.rhel6 will be erased
--> Finished Dependency Resolution
Dependencies Resolved
=======================================================================================
===========================================================================
Package Arch Version
Repository Size
=======================================================================================
===========================================================================
Removing:
ppas-xdb x86_64 6.2.0-1.rhel6
@enterprisedb-xdb60 0.0
ppas-xdb-console x86_64 6.2.0-1.rhel6
@enterprisedb-xdb60 3.3 M
ppas-xdb-libs x86_64 6.2.0-1.rhel6
@enterprisedb-xdb60 15 M
ppas-xdb-publisher x86_64 6.2.0-1.rhel6
@enterprisedb-xdb60 126 k
ppas-xdb-subscriber x86_64 6.2.0-1.rhel6
@enterprisedb-xdb60 19 k
Transaction Summary
=======================================================================================
===========================================================================
Remove 5 Package(s)
Installed size: 18 M
Is this ok [y/N]: y
Downloading Packages:
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
Erasing : ppas-xdb-6.2.0-1.rhel6.x86_64
1/5
Erasing : ppas-xdb-subscriber-6.2.0-1.rhel6.x86_64
2/5
Erasing : ppas-xdb-console-6.2.0-1.rhel6.x86_64
3/5
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 128
EDB Postgres Replication Server User’s Guide
Erasing : ppas-xdb-publisher-6.2.0-1.rhel6.x86_64
4/5
Erasing : ppas-xdb-libs-6.2.0-1.rhel6.x86_64
5/5
Verifying : ppas-xdb-6.2.0-1.rhel6.x86_64
1/5
Verifying : ppas-xdb-console-6.2.0-1.rhel6.x86_64
2/5
Verifying : ppas-xdb-subscriber-6.2.0-1.rhel6.x86_64
3/5
Verifying : ppas-xdb-libs-6.2.0-1.rhel6.x86_64
4/5
Verifying : ppas-xdb-publisher-6.2.0-1.rhel6.x86_64
5/5
Removed:
ppas-xdb.x86_64 0:6.2.0-1.rhel6 ppas-xdb-console.x86_64
0:6.2.0-1.rhel6 ppas-xdb-libs.x86_64 0:6.2.0-1.rhel6
ppas-xdb-publisher.x86_64 0:6.2.0-1.rhel6 ppas-xdb-subscriber.x86_64
0:6.2.0-1.rhel6
Complete!
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 129
EDB Postgres Replication Server User’s Guide
4 Introduction to the xDB Replication
Console
The xDB Replication Console is the graphical user interface that you use to configure and
manage the replication system. The equivalent functionality can also be done using the
xDB Replication Server CLI utility. See Chapter 8 for information on the xDB
Replication Server CLI.
The xDB Replication Console window consists of the following main areas:
 Menu Bar. Menus for the replication system components
 Tool Bar. Icons for quick access to dialog boxes
 Replication Tree. Replication system components represented as nodes in an
inverted tree
 Information Window. Tabbed window with information about a highlighted
node in the replication tree
Figure 4-1 - xDB Replication Console window
The options that are available on the menu bar and tool bar are dependent upon the node
highlighted in the replication tree. Only those options relevant to the highlighted node are
available in the menu bar and tool bar.
The content of the information window applies to the highlighted node as well.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 130
EDB Postgres Replication Server User’s Guide
4.1 xDB Replication Console Tool Bar
This section describes when the various tool bar icons are activated. The operations
associated with the tool bar are described in sections 5.2 and 5.3 for single-master
replication. For multi-master replication see Section 6.2.
Note: The publication server must be running in order to use tools relevant to
publications. Similarly, the subscription server must be running in order to use tools
relevant to subscriptions.
4.1.1 Refresh
The Refresh icon is always activated. Click the Refresh icon if the replication tree or
information window does not appear to display the latest information after performing an
operation. Clicking the Refresh icon ensures that the latest information is shown in the
replication tree and in the information window.
Figure 4-2 - Refresh icon
4.1.2 Create Publication
The Create Publication icon is activated when a Publication Database node is highlighted
in the replication tree.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 131
EDB Postgres Replication Server User’s Guide
Figure 4-3 - Create Publication icon
4.1.3 Publication Management
The Remove Publication icon, Add Publication Tables icon, and Remove Publication
Tables icon are activated when a Publication node is highlighted in the replication tree.
Figure 4-4 - Remove Publication, Add Publication Tables, and Remove Publication Tables icons
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 132
EDB Postgres Replication Server User’s Guide
4.1.4 Create Subscription
The Create Subscription icon is activated when a Subscription Database node is
highlighted in the replication tree.
Figure 4-5 - Create Subscription icon
4.1.5 Subscription Management
The Remove Subscription icon, Snapshot icon, Synchronize icon, Configure Schedule
icon, and Remove Schedule icon are activated when a Subscription node is highlighted in
the replication tree.
Copyright © 2010 - 2018 EnterpriseDB Corporation. All rights reserved. 133
EDB Postgres Replication Server User’s Guide