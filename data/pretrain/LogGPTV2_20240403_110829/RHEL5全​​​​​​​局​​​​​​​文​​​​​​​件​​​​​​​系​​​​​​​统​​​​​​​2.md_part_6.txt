    "增​​​​​​​大​​​​​​​的​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​"](#ch-manage.html#s1-manage-growfs){.xref}
    :::
-   ::: para
    [第 3.6 节
    "在​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​中​​​​​​​添​​​​​​​加​​​​​​​日​​​​​​​志​​​​​​​"](#ch-manage.html#s1-manage-addjournalfs){.xref}
    :::
-   ::: para
    [第 3.7 节
    "数​​​​​​​据​​​​​​​日​​​​​​​志​​​​​​​"](#ch-manage.html#s1-manage-data-journal){.xref}
    :::
-   ::: para
    [第 3.8 节 "配​​​​​​​置​​​​​​​ `atime`{.command}
    更​​​​​​​新​​​​​​​"](#ch-manage.html#s1-manage-atimeconf){.xref}
    :::
-   ::: para
    [第 3.9 节
    "在​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​中​​​​​​​挂​​​​​​​起​​​​​​​一​​​​​​​个​​​​​​​动​​​​​​​作​​​​​​​"](#ch-manage.html#s1-manage-suspendfs){.xref}
    :::
-   ::: para
    [第 3.10 节
    "修​​​​​​​复​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​"](#ch-manage.html#s1-manage-repairfs){.xref}
    :::
-   ::: para
    [第 3.11 节
    "绑​​​​​​​定​​​​​​​挂​​​​​​​载​​​​​​​以​​​​​​​及​​​​​​​上​​​​​​​下​​​​​​​文​​​​​​​关​​​​​​​联​​​​​​​路​​​​​​​径​​​​​​​名​​​​​​​"](#ch-manage.html#s1-manage-pathnames){.xref}
    :::
:::
::: section
::: titlepage
# [⁠]{#ch-manage.html#s1-manage-makefs}3.1. 生​​​​​​​成​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​ {.title}
:::
[]{#ch-manage.html#idm140321033135936
.indexterm}[]{#ch-manage.html#idm140321033134976 .indexterm}
::: para
您​​​​​​​可​​​​​​​使​​​​​​​用​​​​​​​ `mkfs.gfs2`{.command} 命​​​​​​​令​​​​​​​创​​​​​​​建​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​。​​​​​​​您​​​​​​​还​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​指​​​​​​​定​​​​​​​了​​​​​​​
`-t gfs2`{.literal} 选​​​​​​​项​​​​​​​的​​​​​​​ `mkfs`{.command} 命​​​​​​​令​​​​​​​。​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​是​​​​​​​在​​​​​​​活​​​​​​​跃​​​​​​​的​​​​​​​ LVM
卷​​​​​​​中​​​​​​​创​​​​​​​建​​​​​​​的​​​​​​​。​​​​​​​运​​​​​​​行​​​​​​​ `mkfs.gfs2`{.command} 命​​​​​​​令​​​​​​​时​​​​​​​需​​​​​​​要​​​​​​​以​​​​​​​下​​​​​​​信​​​​​​​息​​​​​​​：
:::
::: {.itemizedlist xmlns:d="http://docbook.org/ns/docbook"}
-   ::: para
    锁​​​​​​​定​​​​​​​协​​​​​​​议​​​​​​​/模​​​​​​​块​​​​​​​名​​​​​​​称​​​​​​​（群​​​​​​​集​​​​​​​的​​​​​​​锁​​​​​​​定​​​​​​​协​​​​​​​议​​​​​​​为​​​​​​​ `lock_dlm`{.literal}）
    :::
-   ::: para
    群​​​​​​​集​​​​​​​名​​​​​​​称​​​​​​​（当​​​​​​​作​​​​​​​为​​​​​​​群​​​​​​​集​​​​​​​配​​​​​​​置​​​​​​​的​​​​​​​一​​​​​​​部​​​​​​​分​​​​​​​运​​​​​​​行​​​​​​​时​​​​​​​）
    :::
-   ::: para
    日​​​​​​​志​​​​​​​数​​​​​​​目​​​​​​​（每​​​​​​​个​​​​​​​可​​​​​​​能​​​​​​​挂​​​​​​​载​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​的​​​​​​​节​​​​​​​点​​​​​​​都​​​​​​​需​​​​​​​要​​​​​​​一​​​​​​​个​​​​​​​日​​​​​​​志​​​​​​​）
    :::
:::
::: para
当​​​​​​​创​​​​​​​建​​​​​​​一​​​​​​​个​​​​​​​ GFS 文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​时​​​​​​​，您​​​​​​​可​​​​​​​以​​​​​​​直​​​​​​​接​​​​​​​使​​​​​​​用​​​​​​​
`mkfs.gfs2`{.command}，或​​​​​​​者​​​​​​​使​​​​​​​用​​​​​​​带​​​​​​​ *`-t`* 参​​​​​​​数​​​​​​​的​​​​​​​ `mkfs`{.command}
命​​​​​​​令​​​​​​​，并​​​​​​​使​​​​​​​用​​​​​​​ gfs2 文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​选​​​​​​​项​​​​​​​将​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​类​​​​​​​型​​​​​​​指​​​​​​​定​​​​​​​为​​​​​​​ `gfs2`{.literal}。​​​​​​​
:::
::: simplesect
::: titlepage
## [⁠]{#ch-manage.html#ss-mkfs-use}用​​​​​​​法​​​​​​​ {.title}
:::
::: para
当​​​​​​​创​​​​​​​建​​​​​​​群​​​​​​​集​​​​​​​的​​​​​​​ GFS2 文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​时​​​​​​​，您​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​以​​​​​​​下​​​​​​​任​​​​​​​意​​​​​​​格​​​​​​​式​​​​​​​之​​​​​​​一​​​​​​​：
:::
``` screen
mkfs.gfs2 -p LockProtoName -t LockTableName -j NumberJournals BlockDevice
```
``` screen
mkfs -t gfs2 -p LockProtoName -t LockTableName -j NumberJournals BlockDevice
```
::: para
当​​​​​​​创​​​​​​​建​​​​​​​本​​​​​​​地​​​​​​​ GFS2 文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​时​​​​​​​，您​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​以​​​​​​​下​​​​​​​任​​​​​​​意​​​​​​​格​​​​​​​式​​​​​​​之​​​​​​​一​​​​​​​：
:::
``` screen
mkfs.gfs2 -p LockProtoName -j NumberJournals BlockDevice
```
``` screen
mkfs -t gfs2 -p LockProtoName -j NumberJournals BlockDevice
```
::: {.warning xmlns:d="http://docbook.org/ns/docbook"}
::: admonition_header
**警​​​​​​​告​​​​​​​**
:::
::: admonition
::: para
请​​​​​​​确​​​​​​​定​​​​​​​您​​​​​​​非​​​​​​​常​​​​​​​熟​​​​​​​悉​​​​​​​ *`LockProtoName`* 和​​​​​​​ *`LockTableName`*
参​​​​​​​数​​​​​​​的​​​​​​​使​​​​​​​用​​​​​​​。​​​​​​​不​​​​​​​正​​​​​​​确​​​​​​​的​​​​​​​ *`LockProtoName`* 和​​​​​​​ *`LockTableName`*
参​​​​​​​数​​​​​​​使​​​​​​​用​​​​​​​可​​​​​​​能​​​​​​​导​​​​​​​致​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​或​​​​​​​者​​​​​​​锁​​​​​​​定​​​​​​​空​​​​​​​间​​​​​​​崩​​​​​​​溃​​​​​​​。​​​​​​​
:::
:::
:::
::: variablelist
[*`LockProtoName`*]{.term}
:   ::: para
    指​​​​​​​定​​​​​​​要​​​​​​​使​​​​​​​用​​​​​​​的​​​​​​​锁​​​​​​​定​​​​​​​协​​​​​​​议​​​​​​​名​​​​​​​称​​​​​​​，群​​​​​​​集​​​​​​​的​​​​​​​锁​​​​​​​定​​​​​​​协​​​​​​​议​​​​​​​为​​​​​​​ `lock_dlm`{.literal}。​​​​​​​
    :::
[*`LockTableName`*]{.term}
:   ::: para
    这​​​​​​​个​​​​​​​参​​​​​​​数​​​​​​​是​​​​​​​用​​​​​​​来​​​​​​​指​​​​​​​定​​​​​​​群​​​​​​​集​​​​​​​配​​​​​​​置​​​​​​​中​​​​​​​的​​​​​​​ GFS2
    文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​。​​​​​​​它​​​​​​​有​​​​​​​两​​​​​​​部​​​​​​​分​​​​​​​，用​​​​​​​冒​​​​​​​号​​​​​​​隔​​​​​​​开​​​​​​​（没​​​​​​​有​​​​​​​空​​​​​​​格​​​​​​​）如​​​​​​​下​​​​​​​：*`ClusterName:FSName`*
    :::
    ::: {.itemizedlist xmlns:d="http://docbook.org/ns/docbook"}
    -   ::: para
        *`ClusterName`*，用​​​​​​​来​​​​​​​创​​​​​​​建​​​​​​​ GFS2 文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​的​​​​​​​红​​​​​​​帽​​​​​​​群​​​​​​​集​​​​​​​名​​​​​​​称​​​​​​​。​​​​​​​
        :::
    -   ::: para
        *`FSName`*，文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​名​​​​​​​称​​​​​​​，长​​​​​​​度​​​​​​​可​​​​​​​在​​​​​​​ 1-16
        个​​​​​​​字​​​​​​​符​​​​​​​之​​​​​​​间​​​​​​​。​​​​​​​该​​​​​​​名​​​​​​​称​​​​​​​必​​​​​​​须​​​​​​​与​​​​​​​群​​​​​​​集​​​​​​​中​​​​​​​所​​​​​​​有​​​​​​​ `lock_dlm`{.literal}
        文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​以​​​​​​​及​​​​​​​每​​​​​​​个​​​​​​​本​​​​​​​地​​​​​​​节​​​​​​​点​​​​​​​中​​​​​​​的​​​​​​​所​​​​​​​有​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​（`lock_dlm`{.literal}
        和​​​​​​​ `lock_nolock`{.literal}）不​​​​​​​同​​​​​​​。​​​​​​​
        :::
    :::
[*`Number`*]{.term}
:   ::: para
    Specifies the number of journals to be created by the
    `mkfs.gfs2`{.command} command. One journal is required for each node
    that mounts the file system. For GFS2 file systems, more journals
    can be added later without growing the filesystem, as described in
    [第 3.6 节
    "在​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​中​​​​​​​添​​​​​​​加​​​​​​​日​​​​​​​志​​​​​​​"](#ch-manage.html#s1-manage-addjournalfs){.xref}.
    :::
[*`BlockDevice`*]{.term}
:   ::: para
    指​​​​​​​定​​​​​​​逻​​​​​​​辑​​​​​​​卷​​​​​​​或​​​​​​​者​​​​​​​物​​​​​​​理​​​​​​​卷​​​​​​​。​​​​​​​
    :::
:::
:::
::: simplesect
::: titlepage
## [⁠]{#ch-manage.html#ss-mkfs-ex}示​​​​​​​例​​​​​​​ {.title}
:::
::: para
在​​​​​​​这​​​​​​​些​​​​​​​示​​​​​​​例​​​​​​​中​​​​​​​，`lock_dlm`{.literal}
是​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​使​​​​​​​用​​​​​​​的​​​​​​​锁​​​​​​​定​​​​​​​协​​​​​​​议​​​​​​​，因​​​​​​​为​​​​​​​这​​​​​​​是​​​​​​​一​​​​​​​个​​​​​​​群​​​​​​​集​​​​​​​的​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​。​​​​​​​群​​​​​​​集​​​​​​​名​​​​​​​称​​​​​​​为​​​​​​​
`alpha`{.filename}，文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​名​​​​​​​为​​​​​​​`mydata1`{.filename}。​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​包​​​​​​​含​​​​​​​八​​​​​​​个​​​​​​​日​​​​​​​志​​​​​​​，日​​​​​​​志​​​​​​​是​​​​​​​在​​​​​​​
`/dev/vg01/lvol0`{.filename} 中​​​​​​​生​​​​​​​成​​​​​​​的​​​​​​​。​​​​​​​
:::
``` screen
mkfs.gfs2 -p lock_dlm -t alpha:mydata1 -j 8 /dev/vg01/lvol0
```
``` screen
mkfs -t gfs2 -p lock_dlm -t alpha:mydata1 -j 8 /dev/vg01/lvol0
```
::: para
在​​​​​​​这​​​​​​​些​​​​​​​示​​​​​​​例​​​​​​​中​​​​​​​，生​​​​​​​成​​​​​​​了​​​​​​​第​​​​​​​二​​​​​​​个​​​​​​​ `lock_dlm`{.literal} 文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​，它​​​​​​​可​​​​​​​用​​​​​​​于​​​​​​​群​​​​​​​集​​​​​​​
`alpha`{.filename}。​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​名​​​​​​​为​​​​​​​`mydata2`{.filename}。​​​​​​​文​​​​​​​件​​​​​​​系​​​​​​​统​​​​​​​包​​​​​​​含​​​​​​​八​​​​​​​个​​​​​​​日​​​​​​​志​​​​​​​，日​​​​​​​志​​​​​​​是​​​​​​​在​​​​​​​
`/dev/vg01/lvol1`{.filename} 中​​​​​​​生​​​​​​​成​​​​​​​的​​​​​​​。​​​​​​​
:::
``` screen
mkfs.gfs2 -p lock_dlm -t alpha:mydata2 -j 8 /dev/vg01/lvol1
```
``` screen
mkfs -t gfs2 -p lock_dlm -t alpha:mydata2 -j 8 /dev/vg01/lvol1
```
:::
::: simplesect
::: titlepage
## [⁠]{#ch-manage.html#ss-mkfs-opts}全​​​​​​​部​​​​​​​选​​​​​​​项​​​​​​​ {.title}
:::
::: para
[表 3.1
"命​​​​​​​令​​​​​​​选​​​​​​​项​​​​​​​：`mkfs.gfs2`{.command}"](#ch-manage.html#tb-table-gfs2-mkfs){.xref}
describes the `mkfs.gfs2`{.command} command options (flags and
parameters).
:::
[]{#ch-manage.html#idm140321031102576
.indexterm}[]{#ch-manage.html#idm140321031100816 .indexterm}