27060）。通过MD10094 $MN_SAFE_ALARM_SUPPRESS_LEVEL 还能继续减少报警显示，这样只显示所有轴的一个报警（全
局综合报警27135）。
反应： BAG没有准备就绪。
通道没有准备就绪。
本通道NC启动禁止。
已设置接口信号。
报警显示。
报警时NC停止。
排除方法： 检查机床数据，重新计算并确认校验和。重新检查安全功能（NCK-轴-驱动/编码器之间的连接）。
程序继续： 关闭/打开系统。
27070 SPL和SPL接口参数的校验和出错。请确认校验和并检查安全参数！
说明： 用于设置SPL外设和SPL功能的NCK-MD（以及$MN_PROFISAFE..., MD133xx/134xx $MN_SAFE_SDP/RDP...）由校验和保
护。该报警表明当前的校验和不再与保存的校验和一致，或某个数据被非法修改或损坏。
反应： BAG没有准备就绪。
通道没有准备就绪。
本通道NC启动禁止。
已设置接口信号。
报警显示。
报警时NC停止。
排除方法： 检查机床数据，重新计算并确认校验和。重新检查安全功能（PROFIsafe、FSEND/FRECV）。
程序继续： 关闭/打开系统。
27071 安全SPL参数校验和出错。请确认校验和并检查安全功能！
说明： NCK机床数据MD13312 $MN_SAFE_SPL_USER_DATA 由校验和保护。该报警表明当前的校验和不再与保存的校验和一致，
或某个数据被非法修改或损坏。
报警
诊断手册, 01/2022, 6FC5398-6BP40-6RA6 481
NC 报警
反应： BAG没有准备就绪。
通道没有准备就绪。
本通道NC启动禁止。
已设置接口信号。
报警显示。
报警时NC停止。
排除方法： 检查机床数据，重新计算并确认校验和。重新检查安全功能。
程序继续： 关闭/打开系统。
27072 安全通讯使能的校验和出错。请确认校验和并检查安全功能！
说明： 使能SPL连接的NCK-MD（以及MD13302/13303 $MN_PROFISAFE_IN/OUT_ENABLE_MASK， MD13330/13340
$MN_SAFE_RDP/SDP_ENABLE_MASK ）由校验和保护。该报警表明当前的校验和不再与保存的校验和一致，或某个数据被
非法修改或损坏。
反应： BAG没有准备就绪。
通道没有准备就绪。
本通道NC启动禁止。
已设置接口信号。
报警显示。
报警时NC停止。
排除方法： 检查机床数据，重新计算并确认校验和。重新检查安全功能(PROFIsafe, FSEND/FRECV)。
程序继续： 关闭/打开系统。
27073 S7-PROFIsafe配置的校验和出错。请确认校验和并检查安全功能！
说明： PROFIsafe通讯所需的F参数由校验和保护。该报警表明当前的校验和不再与保存的校验和一致，或某个数据被非法修改或
损坏。
反应： BAG没有准备就绪。
通道没有准备就绪。
本通道NC启动禁止。
已设置接口信号。
报警显示。
报警时NC停止。
排除方法： 检查S7侧的PROFIsafe配置，重新计算并更正校验和。重新检查安全功能(PROFIsafe外设)。
程序继续： 关闭/打开系统。
27090 交叉检查出错 NCK-PLC，%1[%2]，NCK：%3; %4
参数： %1 = 探测到错误的系统变量名称
%2 = 系统变量数组下标范围
%3 = NCK比较值范围
%4 = 交叉校验数组下标范围
报警
482 诊断手册, 01/2022, 6FC5398-6BP40-6RA6
NC 报警
说明： NCK和PLC交叉对比数据时发现数据有所不同。参数%1以字段索引%2指出了不同的系统变量($A_INSI, $A_OUTSI, $A_INSE,
$A_OUTSE 或$A_MARKERSI)。
特例：
- 报警“ NCK和PLC之间的交叉数据对比出错，$MN_PREVENT_SYNACT_LOCK[0],...” 表明NCK和PLC中设置的SPL调试状
态不同。
- 报警 NCK和PLC之间的交叉数据对比出错， $MN_SAFE_SPL_STOP_MODE[0],...” 表明NCK和PLC中设置的停止响应
（STOP D或STOP E）不同。
- 报警“ NCK和PLC之间的交叉数据对比出错，$MN_SAFE_SPL_USER_DATA[n], ...” 表明NCK和PLC中设置的用户数据不同。
- 报警“ NCK和PLC之间的交叉数据对比出错，TIMEOUT[0], NCK: 0”表明NCK和PLC中之间的通讯失败，无法再进行交叉数
据对比。
- 报警“ NCK和PLC之间的交叉数据对比出错， $A_FSDP_ERR_REAC[n], $A_FRDP_SUBS[n], $A_FRDP_ERR_REAC[n]...”表明
NCK和PLC中的这些系统变量不同。
报警参数%4可以为每一个上述系统变量定义单独的HMI报警：
- 0: SPL调试状态不同($MN_PREVENT_SYNACT_LOCK[0,1] - DB18 DBX36.0)
- 0: SPL停止响应不同($MN_SAFE_SPL_STOP_MODE - DB18 DBX36.1)
- 0: SPL用户数据不同($MN_SAFE_SPL_USER_DATA - DB18 DBD256,260,264,268)
- 0: FSENDDP故障响应不同($A_FSDP_ERR_REAC[n] - DB18 DBW190, DBW210, DBW220, DBW448, DBW458 ... DBW568)
- 0: FRECVDP故障响应不同($A_FRDP_ERR_REAC[n] - DB18 DBW222, DBW234, DBW246, DBW580, DBW592 ... DBW724)
- 0: FRECVDP替代值不同($A_FRDP_SUBS[n] - DB18 DBW220, DBW232, DBW244, DBW578, DBW590 ... DBW722)
- 1.... 64: 系统变量$A_INSE[1...64]不同
- = 65...128: 系统变量$A_OUTSE[1...64]不同
- = 129...192: 系统变量$A_INSI[1...64]不同
- = 193...256: 系统变量$A_OUTSI[1...64]不同
- = 257...320: 系统变量$A_MARKERSI[1...64]不同
- = 321...448: 系统变量$A_INSE[65...192]不同
- = 449...576: 系统变量$A_OUTSE[65...192]不同
- = 577...704: 系统变量$A_INSI[65...192]不同
- = 705...832: 系统变量$A_OUTSI[65...192]不同
- = 833...960: 系统变量$A_MARKERSI[65...192]不同
设置报警27090要求备份文件 ALSI_xx.com，并通过文件段落[IndexTextFiles] ALSI=f:\dh\mb.dir\alsi_ im 中的MBDDE.INI将
该文件告知HMI。该文件可以由机床厂商再次定义，以便厂商在报警中添加一些有用的文字说明。在自定义该文件时，必
须通过MBDDE.INI将需要重新创建的文件告知系统。
通过MD10094 $MN_SAFE_ALARM_SUPPRESS_LEVEL 可以确定如何显示报警27090：MD10094
$MN_SAFE_ALARM_SUPPRESS_LEVEL = 2 时，只为第一个找到的不同数据显示报警27090。
反应： 报警显示。
如果SPL开机调试阶段(MD11500 $MN_PREVENT_SYNACT_LOCK[0,1]不等于 0)结束，则在所有带安全功能的轴上触发一个
STOP D/E(通过MD10097 $MN_SAFE_SPL_STOP_MODE 可设定)。
排除方法： 分析所显示的值，并利用PLC侧的DB18: SPL_DELTA 。
在监控通道之间找到不同点。可能的原因：
- 错误的布线
- 错误的SPL
- 错误的轴专用F-DI到内部接口$A_OUTSI 的分配
- 错误的轴专用F-DO到内部接口$A_INSI 的分配
- 错误的SPL-F-DI到外部接口$A_INSE 的分配
- 错误的SPL-F-DO到外部接口$A_OUTSE 的分配
- 在NCK和PLC中设定了不同的SPL开机调试状态
- 在NCK和PLC中设定了不同的SPL停止反应
程序继续： 用复位键清除报警，重新启动子程序。
27091 交叉校验NCK-PLC出错，%1停止
参数： %1 = 扩展名表示触发停止命令的监控通道
说明： 报警文本中指定的监控通道（NCK或PLC）已经触发了一个停止D或E命令（取决于MD10097
$MN_SAFE_SPL_STOP_MODE 中的设置）。报警27090提供了更多有关产生停止D/E命令的信息。
报警
诊断手册, 01/2022, 6FC5398-6BP40-6RA6 483
NC 报警
反应： 报警显示。
如果SPL开机调试阶段(MD11500 $MN_PREVENT_SYNACT_LOCK[0,1]不等于 0)结束，则在所有带安全功能的轴上触发一个
STOP D/E(通过MD10097 $MN_SAFE_SPL_STOP_MODE 可设定)。
排除方法： 查看报警27090各参数，修改SPL或检查NCK和驱动器内安全监控通道的SPL内部接口。
程序继续： 用复位键清除报警，重新启动子程序。
27092 交叉校验NCK-PLC通讯暂停，在%1发现错误
参数： %1 = 扩展名表示探测到错误的监控通道
说明： 报警文本指定的监控通道（NCK或PLC）中超过了通讯监控指定延迟时间（1s）。其他监控通道没有在此时间内发送新的数
据包。
反应： 报警显示。
在其终止后，启动一个5秒的定时器
- 删除外部NCK-SPL输出
- PLC停止。
排除方法： 不要重新启动SPL。检查系统组成部分(PLC必须通过FB15的正确版本以及DB18来指定)。
程序继续： 关闭/打开系统。
27093 NCK-SPL，%1，%2，%3 和校验出错
参数： %1 = 表示错误类型的扩展名
%2 = 表示基准变量的扩展名
%3 = 表示实际变量的扩展名
说明： NCK-SPL中出现了校验和错误。随后修改了文件/_N_CST_DIR/_N_SAFE_SPF 。NCK中的安全可编程序逻辑（SPL）可能已经
损坏。
参数%1表示修改类型：
- FILE_LENGTH ：文件长度已经改变。
- FILE_CONTENT ：文件内容已经改变。
- FILE_PROTECTED ：文件存取权限受到SPL调试阶段结束的限制，并且受损。
此外，报警文本中还显示了以下信息：
- 指定基准变量（文件长度、文件内容校验和）（%2）
- 循环计算的实际变量（%3）
反应： 报警显示。
排除方法： 检查文件和上次修改文件的时间。 重新加载初始文件并通过加电重新启动监控系统。
程序继续： 关闭/打开系统。
27095 %1 SPL保护没激活
参数： %1 = 未激活保护的组件名称( NCK或PLC)
说明： SPL的保护机制未被激活。 SPL的开机调试阶段尚未完成。 NCK和PLC之间的数据交叉比较错误没有触发停止反应(停止D或
E)。
反应： 报警显示。
排除方法： - NCK补救方式:利用MD11500 $MN_PREVENT_SYNACT_LOCK[ 0,1]激活保护功能。 SPL中所使用的同步操作数值范围必须
输入到此MD中。
- PLC补救方式:通过在DB18中设置适当的数据位激活保护功能。
程序继续： 用复位键清除报警，重新启动子程序。
27096 不允许 SPL 启动
说明： 为了在保护状态下（MD11500 $MN_PREVENT_SYNACT_LOCK[0,1]不等于0）启动SPL，必须至少首次对一个轴激活Safety
Integrated功能（通过MD36901 $MA_SAFE_FUNCTION_ENABLE ）并通过激活的驱动进行驱动。此外，必须在SPL接口上
至少设置一个轴的F-DI/F-DO。没有这些前提条件，SPL的运行只允许在调试状态下进行。
报警
484 诊断手册, 01/2022, 6FC5398-6BP40-6RA6
NC 报警
反应： BAG没有准备就绪。
通道没有准备就绪。
本通道NC启动禁止。
已设置接口信号。
报警显示。
报警时NC停止。
通道没有准备就绪。
排除方法： 通过MD11500 $MN_PREVENT_SYNACT_LOCK[0,1]删除SPL保护功能
或
- 调试轴专用Safety-Integrated功能和
- 在SPL接口上至少设置一个F-DI/F-DO和
- 激活相应的驱动对象
程序继续： 关闭/打开系统。
27097 未进行SPL启动
说明： MD13310 $MN_SAFE_SPL_START_TIMEOUT 中定义的时间过后没有执行SPL启动。
该报警可通过MD10096 $MN_SAFE_DIAGNOSIS_MASK，位 1 = 1隐藏。
反应： 报警显示。
排除方法： 找到了导致SPL没有启动的原因。可能的原因是：
- 存在NC故障或驱动故障（例如:更换编码器、急停、PROFIsafe报警之后）
- 在SPL自身中有句法错误
- 有Safety Integrated报警（例如：“超过安全终点位置”）
- PROG_EVENT启动时，SPL名称或路径写入错误；注意区分大小写
- ASUP和 PROG_EVENT 启动和MD11602 $MN_ASUP_START_MASK 编程（停止原因：例如禁止读取）同时
- 调用FB4/FC9时引起问题
程序继续： 用复位键清除报警，重新启动子程序。
27098 SPL调试阶段结束
说明： MD11500 $MN_PREVENT_SYNACT_LOCK 的修改刚结束了SPL调试阶段。从下一次上电开始，文件/_N_CST_DIR/
_N_SAFE_SPF 会纳入SPL定义的监控体系（存取保护、校验和计算）中。只有在不受保护的状态下才能修改SPL。
反应： 报警显示。
排除方法： 为控制系统上电。通过验收测试检查并记录SPL逻辑的修改。
程序继续： 关闭/打开系统。
27099 在 SPL分配中双占用 MD %1[%2] - MD %3[%4]
参数： %1 = 机床数据名称1
%2 = MD数组索引，用于MD名称1
%3 = 机床数据名称2
%4 = MD数组索引，用于MD名称2
说明： SPL-输入端（$A_INSE ）在不同应用程序显示的机床数据中被多重占用。
可能是：
- PROFIsafe通讯
- F_DP 通讯
可能参与的机床数据：
- MD10388 $MN_PROFISAFE_IN_ASSIGN
- MD13346 $MN_SAFE_RDP_ASSIGN
反应： 报警显示。
排除方法： 修正指定MD。
程序继续： 关闭/打开系统。
报警
诊断手册, 01/2022, 6FC5398-6BP40-6RA6 485
NC 报警
27100 至少一个轴被动回参考点
说明： 引发该报警有两个原因:
- 至少一个处于安全集成监控下的轴的机床位置还没有被用户确认或
- 至少一个处于安全集成监控下的轴的机床位置还没有通过随后的回参考点过程验证
即使轴已经回参考点，也不代表回参考点过程提供了正确的结果。 例如，如果轴在控制系统关闭之后被移动，则关闭之前
保存的停止位置不再正确。为了确保不会出现此种情况，用户必须在首次回参考点之后确认屏幕上显示出的实际位置和机