User: How to set the network parameters of the Linux system to optimize system performance and ensure network stability? Please give the specific operation steps and related commands.
Assistant: 1. Disable IPv6 Edit the /etc/sysctl.conf file: sudo nano /etc/sysctl.conf Add the following at the end of the file: net.ipv6.conf.all.disable_ipv6 = 1 net.ipv6.conf.default.disable_ipv6 = 1 net.ipv6.conf.lo.disable_ipv6 = 1 Save and exit the file, then reload the sysctl.conf file: sudo sysctl -p 2. Configure the maximum number of file handles Edit the /etc/security/limits.conf file: sudo nano /etc /security/limits.conf Add the following to the end of the file: * soft nofile 65535 * hard nofile 65535 Save and exit the file. 3. Configure TCP connection parameters Edit /etc/sysctl.conf file: sudo nano /etc/sysctl.conf Add the following content at the end of the file: # Enable TCP SYN Cookie defense net.ipv4.tcp_syncookies = 1 # Allow the largest SYN Backlog queue Length net.ipv4.tcp_max_syn_backlog = 65536 # Increase the recovery speed of ports in TIME-WAIT state net.ipv4.tcp_tw_reuse = 1 net.ipv4.tcp_tw_recycle = 1 # Enable fast multiplexing of TCP connection time net.ipv4.tcp_fin_timeout = 30 # Enable TCP Keepalive net.ipv4.tcp_keepalive_time = 300 net.ipv4.tcp_keepalive_intvl = 60 net.ipv4.tcp_keepalive_probes = 10 Save and exit the file, then reload the sysctl.conf file: sudo sysctl -p 4. Configure MTU Edit /etc/network/ interface file: sudo nano /etc/network/interface Find the network card to set MTU, add the following content: mtu 1500 Save and exit the file, then restart the network service: sudo systemctl restart networking 5. You can use the following command to close unnecessary services List currently running services: sudo systemctl list-unit-files --type=service Stop unnecessary services as needed with: sudo systemctl stop <service-name> You can also disable unnecessary services with: sudo systemctl disable <service-name> The above operations can make the system faster and safer, but it is recommended to back up the data before the operation to prevent some problems.