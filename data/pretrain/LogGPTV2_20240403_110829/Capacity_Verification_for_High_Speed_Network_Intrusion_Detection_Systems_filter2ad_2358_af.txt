1
d) Father S8 Symmlet 
0.4
0.6
0.8
1
0.05
0.2
0.4
0.6
0.8
1
Fig. 5. Some wavelet waveforms: a) ‘wiggle’ (Mother Haar Wavelet); b) ‘bump’ (Father
Haar wavelet); c) Mother S8 Symmlet; d) Father S8 Symmlet
where (cid:1)f, g(cid:2) denotes the inner product
(cid:1)
(cid:1)f, g(cid:2) =
f(t)g(t).
t
When the wavelet is a ‘bump’, these are also called ‘scaling coeﬃcients’; when
the wavelet is a ‘wiggle’ these are commonly called ‘wavelet coeﬃcients’. See
Figure 6.
With this machinery, our central question becomes: if N1 and N2 obey the
causality/maximum tolerable delay constraints, how similar are α1
j,k? In
essence, we are analyzing the character counting functions of both streams across
diﬀerent time scales, looking for how similarly the character arrivals cluster at
each time scale.
j,k and α2
Our analysis follows two speciﬁc branches, depending on the choice of ψ.
– Analysis by Multiscale Block Averages. Here we choose ψ to be a very simple
‘bump’ – actually the “boxcar” function ψ(t) = 1[0,1] depicted in Figure 5,
panel (b). As indicated above, we choose p = 1, and it then turns out that
the coeﬃcients amount to simple averages of the data over blocks of various
lengths and locations. Accordingly, we call this choice of ψ as corresponding
to the analysis of “multiscale block averages.”
We analyze the stream functions Ni(t) via the dyadic boxcar family
ψj,k(t) = ψ((t − k2j)/2j)/2j.
How similar are α1
Our strategy for analysis is to estimate two quantities at each scale level j:
j,k and α2
j,k?
Multiscale Stepping-Stone Detection
27
Some "bumps" wavelets at Various Scales and Locations
Some "wiggle" wavelets at Various Scales and Locations
(7,95)
(6,43)
(6,32)
(6,21)
(5,13)
(4, 8)
(3, 5)
(3, 2)
9
8
7
6
5
4
3
2
1
(7,95)
(6,43)
(6,32)
(6,21)
(5,13)
(4, 8)
(3, 5)
(3, 2)
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
0
0
1
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
1
(a) Father Wavelets
(b) Mother Wavelets
9
8
7
6
5
4
3
2
1
0
0
Fig. 6. Scale/Location Families: ‘bumps’ and ‘wiggles’ at various scales and locations
√
j,k at scale j; and
j,k − α2
j,k at scale j.
scale), where OP () denotes the asymptotic order in
j,k ≈ λ ± OP (1/
probability.
j,k − α2
j,k − α2
• The typical size of α1
• The maximal deviation of α1
We then compare these, and it will turn out that at long scales the deviation
term is small compared to the typical size. Using analysis developed in the
next section, we can then reach the following conclusions, explained here for
the case of a Poisson input stream, where the analysis is simpler.
Suppose that N1(t) is a Poisson stream at rate λ. Then
• α1
• |α1
• |α1
In words, the scaling coeﬃcients of the two streams must be very similar at
long time scales.
– Multiscale Block Diﬀerences. Here we choose ψ to be a very simple ‘wiggle’
– actually the Haar wavelet ψ(t) = 1[1/2,1) − 1[0,1/2) depicted in Figure 5,
panel (a); this is a simple diﬀerence of boxcars. As indicated above, we
therefore choose p = 1/2, and it then turns out that the coeﬃcients amount
to simple scaled diﬀerences of averages of the data over blocks of various
lengths and locations. Accordingly, we call this choice of ψ as corresponding
to the analysis of “multiscale block diﬀerences.”
We analyze the stream functions Ni(t) via the dyadic Haar family
j,k| ≤ OP (log(scale)/scale)
j,k| (cid:9) |α1
j,k|, at long time scales.
ψj,k(t) = ψ((t − k2j)/2j)/2j/2.
j,k and α2
How similar are α1
Our strategy for analysis is again to estimate two quantities:
• The typical size of α1
• The maximal deviation of α1
j,k at level j; and
j,k − α2
j,k at level j.
j,k?
28
D. Donoho et al.
√
We then compare these and ﬁnd that at long scales the deviation term is
small compared to the typical size.
We reach the following conclusions, again in the case of a Poisson input
stream.
Suppose that N1(t) is a Poisson stream at rate λ. Then
• α1
• |α1
• |α1
(The last two are identical to the results for the boxcar ‘bump’; the ﬁrst
diﬀers by the absence of the λ term.) In words: the wavelet coeﬃcients of
the two streams must be very similar at long scales.
scale).
j,k|, at long time scales.
j,k| ≤ O(log(scale)/scale)
j,k| (cid:9) |α1
j,k ≈ OP (1/
j,k − α2
j,k − α2
This simple analytical result indicates, as we have said, that character-
conserving stream transformations which maintain causality and maximum tol-
erable delay, must also maintain correlations between streams at suﬃciently long
time scales.
As stated so far, the result applies just to Poisson input streams. In the
appendix we discuss extending the result to Pareto streams. This extension is of
signiﬁcant practical import, because the Pareto distribution, which as a model
of network keystroke interarrivals is well supported by empirical data [9], is
radically diﬀerent in variability from the exponential distribution.
6 Analysis
In this section we develop some of the machinery used to support the results out-
lined in the previous section. Our ﬁrst analytical tool for developing this result
is a simple application of integration by parts. Let Ψ = Ψ(t) be a function that
is piecewise diﬀerentiable and which vanishes outside a ﬁnite interval. (This con-
dition holds for both the Boxcar and the Haar wavelets). Then from integration
by parts(cid:2)
(cid:3)(cid:3)(cid:3)(cid:3)
(cid:2)
so
(cid:2)
Ψ dN1 −
Ψ dN1 −
(cid:2)
(cid:2)
Ψ d(N1 − N2) = −
(cid:2)
(cid:3)(cid:3)(cid:3)(cid:3) ≤ T V (Ψ) · max{|(N1 − N2)(t)| : t ∈ supp(Ψ)}
(N1 − N2)(t)dΨ(t)
Ψ dN2 =
Ψ dN2
where supp(ψ) – the support of ψ – the part of the t-axis where ψ is nonzero; and
T V (Ψ) – the Total Variation – is informally the sum of all the ups and downs in
the graph of Ψ; formally, for a smooth function Ψ(t), T V (Ψ) =
for piecewise smooth functions, the total variation includes also the sum of the
jumps across discontinuities.
(cid:4) |Ψ(cid:2)(t)|dt, while
Our second analytical tool has to do with properties of extreme values of
stochastic processes. Causality and Maximum Tolerable Delay imply that
N1(t) ≥ N2(t) ≥ N1(t − ∆)
Multiscale Stepping-Stone Detection
29
hence,
and so
|N1(t) − N2(t)| ≤ N1(t) − N1(t − ∆)
|N1(t) − N2(t)| ≤ max{N1(t + ∆) − N1(t) : t, t + ∆ ∈ supp(Ψ)} .
In words, the diﬀerence between N1 and N2 is controlled by the volume in N1.
We now use results about extremes of Poisson processes. If N1 is the set of
cumulative arrivals of a Poisson counting process, then
max{N1(t + ∆) − N1(t) : t, t + ∆ ∈ [a, b]} ≤ OP (log(b − a)) · E{N1(t + ∆) − N1(t)}
For more details see [2] and [1].
Based on these two analytical tools, we can easily obtain the results in the
previous section:
– Calculation for Multiscale Block Averages. This is based on the following
ingredients. First, symbols emerge at Poisson arrival times t1, . . . , tN , with
rate λ. Second, the ‘bump’ has mean 1 and so E[α1
j,k] = λ (as one might
j,k] = Const · λ/scale, which is the usual 1/n-law for
guess). Third, V ar[α1
variances of means. Consequently, the random ﬂuctuations of the scaling
coeﬃcients obey
√
j,k ≈ λ ± c/
α1
scale
j,k − α2
To calculate the maximum ﬂuctuation of α1
j,k, we observe that
T V (ψj,k) ≤ 4/scale and sup{N1(t + ∆) − N1(t) : t ∈ [a, a + scale]} =
OP (log(scale)), giving the key conclusion |α1
j,k| ≤ O(log(scale)/scale).
– Calculation for Multiscale Block Diﬀerences. Again we assume that sym-
bols emerge at Poisson arrival times t1, . . . , tN , with rate λ. Second, the
‘wiggle’ has mean 0 and so E[α1
j,k] = 0 (again as one might guess). Third,
j,k] = Const · λ/scale, which is the usual 1/n-law for variances of
V ar[α1
means. Consequently, the random ﬂuctuations of the wavelet coeﬃcients
obey
j,k−α2
√
j,k ≈ ±c/
α1
scale
The calculation of the maximum ﬂuctuation of α1
block averages above.
j,k− α2
j,k is as for multiscale
We again note that this analysis, as it stands, applies only to Poisson streams.
Further analysis, given in the appendix, indicates that the same type of analysis
can apply to Pareto streams and many others as well.
30
D. Donoho et al.
7 Simulation
To illustrate the above results, consider a simple transcoder: local inter-keystroke
shuﬄing (LIS). This transcoder works as follows. We buﬀer symbols for M con-
secutive symbols or ∆ milliseconds, whichever comes ﬁrst. Suppose that the times
of the symbol arrivals into the incoming stream buﬀer are t1,..., tm, so that nec-
essarily m ≤ M and tm − t1 < ∆. We then compute the interarrival times of the
symbols in the buﬀer, δ1 = t2 − t1, δ2 = t3 − t2, . . . , δm−1 = tm − tm−1.
Given the number δ1, . . . , δm−1, we perform a random shuﬄing of the times,
obtaining ε1, . . . , εm−1. Then we deﬁne a second set of times by
u1 = tm, u2 = u1 + ε1, . . . ui = ui−1 + εi−1, . . . ,
and we output symbols in the second stream at times ui (we ignore here the
processing time required for calculating the ui, which is surely trivial in this
case). Figure 7 illustrates the type of transformation obtained by LIS.
Fig. 7. LIS Transform: Row of ‘x’ – arrival times in original stream; Row of ‘o’ – arrival
times in transformed stream; vertical lines demarcate zones of 8 characters; top group
of horizontal lines – lengths depict inter-keystroke times; bottom group – lengths depict
same times, but shuﬄed within one zone. Note, the bottom set of boxes should be shifted
in time over to the right by ∆; this will be ﬁxed in the ﬁnal version of the ﬁgure.
A new stream synthesized by LIS has these properties:
– Identical Distribution. Whatever the underlying distribution of
inter-
keystroke times δi associated with (ti), the new stream (ui) has inter-
keystroke times with the same distribution, because the actual
inter-
keystroke times are just the same numbers arriving in a diﬀerent order.
Multiscale Stepping-Stone Detection
31
– Causality. Characters arrive in Stream 2 later than Stream 1
ti ≤ ui