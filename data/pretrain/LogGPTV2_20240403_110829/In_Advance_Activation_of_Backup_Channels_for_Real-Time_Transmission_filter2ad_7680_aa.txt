title:In Advance Activation of Backup Channels for Real-Time Transmission
author:Enrique Hern&apos;andez-Orallo and
Joan Vila i Carb&apos;o
Evaluation of the PBC Scheme in 
Integrated Services Networks 
Enrique Hernández Orallo and Joan Vila Carbó 
PI:EMAIL, PI:EMAIL  
Departamento de Informática de Sistemas y Computadores (DISCA) 
Universidad Politécnica de Valencia 
Camino de Vera s/n, 46022 Valencia, SPAIN 
Phone: +34 963 879 577 Fax: +34 963 877 579 
1.- Introduction 
This  paper  evaluates  the  PBC  scheme  in  Integrated  Services  Networks.  This 
evaluation confirms previous experiments published in 2000 [9]. 
2. Integrated Services 
Aiming  at  multimedia  transmission  through  Internet,  the  Internet  Engineering  Task 
Force (IETF) set-up an Integrated Services (Intserv) Working Group [4] which has defined 
several  protocols  and  types  of  service.  To  guarantee  a  requested  QoS,  IntServ  is  based  on 
setting up a real-time channel for each individual flow that guarantees some given network 
resources.  Implementing  this  channel  relies  on  resource  reservation  like  RSVP.  IETF  has 
introduced  different  level  of  service  like  the guaranteed Quality of Service [6], based on a 
token bucket description of the flow. 
The  goal  of  this  section  is  to  evaluate  the  PBC  scheme  in  Integrated  Services 
networks.  First,  it  will  be  shown  that  IntServ  has  an  analytical  expression  to  obtain  the 
bandwidth reservation for a given end-to-end delay (the R(d) function). Then, an analytical 
and experimental evaluation of the three schemes is done. This evaluation is done with a test 
program called RTNOU (Real-Time Network Optimisations Utilities). This program can be 
freely downloaded from Internet1  
Two sets of VBR traffic were used for these simulations and evaluations: the first one 
is the well-known MPEG-1 traces studied by O. Rose [29] from the University of Wurzburg. 
The  second  group  is  from  the  Technical  University  of  Berlin  [30]  and  contains  MPEG-4, 
H.261, H.263 and H.263+ traces (with different quality codification levels). This variety of 
traffic traces proves the applicability of our new backup scheme. 
2.1.- Obtaining Network Reservations  
In  Integrated  Services  the  end-to-end  delay  bound  is  a  function  of  the  reserved 
bandwidth in the links and it is usually calculated using a model for the traffic specification 
and  a  network  model.  The  model  for  traffic  specification  (T-SPEC)  for  IETF  guaranteed 
1 From the following web site: http://www.disca.upv.es/enheror/RTNOU.html 
-1/7- 
03/12/03  18:38 
Evaluation of the PBC Scheme in Integrated Services Networks 
Service is based on token bucket. T-SPEC is a 4-uple (p, M , b, r) where p is the peak rate, M 
the maximum packet size, b the burst tolerance and r the sustainable rate and implies that the 
number of bits that the source transmits is less than min(M+pt, b+rt), for any interval of time 
t. The maximum end-to-end queuing delay bound can be calculated using this equation [6]: 
)
+
(
)(
−
b M p R
−
−
R p R
)
(
M C
+
tot
R
M C
+
tot
R
D
tot
+
+
D
tot
(
p R
>
≥
r
)
(
R
≥
p r
≥
)
(1) 
D
=
where Ctot, Dtot are the parameters defining the network, R is the bandwidth reservation in the 
network and D the end-to-end delay. The buffer size needed in the nodes is b+Csum+Dsumr 
where Csum and Dsum are the sum of all the previous Ci and Di parameters. It is important to 
remind that the network minimal latency must be added to the described equation (1) in order 
to obtain the complete delay. This latency is a fixed value and depends mainly on the physical 
transmission, which is usually negligible compared to the network delay. 
Solving out for R equation (1) we can obtain a simple expression for R(d) that depends 
on delay, traffic specification and network model: 
R
=
p r
)(
−
tot
b M
+ −
−
)
−
d D
tot
b m p M C
(
(
+
+
p r
(
)
)(
−
b C
+
tot
d D
−
tot
)
(
p R r
≥
>
)
(
R p
≥
>
r
)
 = f(d, (b,r,p), (Ctot, Dtot) )    (2) 
The network parameters, Ctot, Dtot are obtained as the sum of the Ci and Di parameters 
defining  each  node  of  the  flow  path.  For  instance,  with  a  WFQ  (Weighted  Fair  Queuing) 
scheduling  algorithm  Ci  and  Di  can  be  calculated  as  follows:  Di  is  equal  to  the  MTU 
(Maximum  Transmission  Unit)  of  the  link  divided  by  the  link  bandwidth  Bi,  with  the 
condition that M must be smaller than the minimal MTU of the path. The value Ci is assumed 
M in order to consider packet fragmentation. 
In  [8]  the  authors  introduced  a  method  for  obtaining  the  traffic  specification  for  a 
known traffic that minimises the bandwidth reservation for a given end-to-end delay for IETF 
guaranteed  service.  This  method  is  extensible  to  leaky  bucket  traffic  specifications  as,  for 
example, the end-to-end delay equations based on the seminal work by Parekh and Gallaguer 
[19][20].  Summing  up,  for  a  given  traffic  and  network  path  we  can  obtain  directly  the 
minimal bandwidth reservation for a given end-to-end delay, that is, the function R(d).  
For example, using the sample network in Figure (1), with three nodes and the same 
networks parameters for primary and secondary channels, the network parameters are Ctot= 
32,768  bits  and  Dtot=  0.00109s.  For  the  MPEG1  Rose  Soccer  traffic  trace,  the  minimal 
bandwidth reservation for a 0.1 seconds delay is 2,432,184b/s. The traffic specification is b= 
207,793bits and r= 2,432,184 (p= 4,679,400 is constant and is obtained as the peak rate of the 
traffic).  Figure  (2)  shows  the  minimal  bandwidth  reservation  for  the  MPEG1  Rose  traffic 
traces Lambs, Soccer and News as a function of the required delay ranging from 0s to 5s. As 
shown, the bandwidth reservation R(d) is a decreasing function. 
-2/7- 
Evaluation of the PBC Scheme in Integrated Services Networks 
Sender
L1
L1'
Node
1
Node
1'
M = 8192 bits
L2
L2'
Link
L1
L2
L3
L4
L3
L3'
Node
2
Node
2'
L4
L4'
Node
3
Node
3'
Receiver
BW (bps)
50,000,000
35,000,000
100,000,000
50,000,000
MTU(bits)
10,000
12,000
15,000
20,000
Figure 1: Sample network 
Soccer
Lambs
News
1
2
3
Delay (s)
4
5
R
5.0 Mb/s
4.5 Mb/s
4.0 Mb/s
3.5 Mb/s
3.0 Mb/s
2.5 Mb/s
2.0 Mb/s
1.5 Mb/s
1.0 Mb/s
500.0 kb/s
0.0  b/s
0
Figure 2: R(d) function for Lambs, Soccer and News traffics 
2.2.- Analytical evaluation 
The goal of this section is to compare the resource reservations of the PBC scheme 
with the other two schemes introduced in section 2. Given an end-to-end delay dtotal is easy to 
obtain the total reservation using the R(d) function, following the expressions of figure (2). 
First,  we  must  split  the  total  delay  between  both  channels  (dA,  dB).  For  the  RBC  and  PBC 
schemes it will depend on the failure detection time df. Without loss of applicability, in this 
analytical evaluation df will be dtotal/2.  
Using the sample network of the previous section and the Rose Lambs traffic, table (1) 
shows the results of total bandwidth reservation in a node for 2 end-to-end delays: 0.1s and 
1s. In all the samples, the false failures rate (Φ) is assumed to be 0.001 following the delay 
distribution in Figure (1). The Reduction column shows the reduction of resources of the PBC 
new  scheme  versus  the  other  schemes:  Reduction=100*(1-RPBC/RX)2  (assuming  that  the 
resources of the backup channel could be used by the router when the channel is not in use). 
2 Rx stands for RMC or RRBC 
-3/7- 
Evaluation of the PBC Scheme in Integrated Services Networks 
First of all, the new scheme PBC obtains a notable reduction versus the other schemes. The 
results  show  that  for  0.1s  the  bandwidth  reduction  is  very  high  and  for  1s  is  a  little  less 
efficient.  These  results  hold  for  every  link  in  the  path,  so  in  the  first  example  the  total 
resource savings in the network (versus RBC) are (1.51-0.98)*3=1.59Mb/s. 
dtotal = 1s 
Scheme  Reservation calculus 
MC 
RBC 
PBC 
2×R(0.1) 
R(0.05) 
R(0.1)+ 0.001×R(0.05) 
dtotal = 0.1s 
Total  
1.93Mb/s  49,74% 
1.51Mb/s  35,76% 
0.97Mb/s 
--- 
Reduction 
Total  
1.26Mb/s 
0.68Mb/s 
0.63Mb/s 
Reduction 
49.9% 
7.35% 
--- 
Table 1: Bandwidth reduction for Lambs traffic. 
It is easy to see that the bandwidth reduction versus the MC schemes is practically 
constant and near to 50%. Therefore, we will focus the study in the comparison of PCB and 
RBC schemes. In general, resource savings are more important as the total deadline becomes 
more restrictive. The resource gain depends mainly of the difference between the bandwidth 
reservation obtained for d and d/2. 
Figure  (3)  shows  graphically  this  difference  for  the  Lambs  traffic  with  deadlines 
between 0 and 1s (a usual range of deadlines). It shows that the peak of resource savings is for 
a  deadline  of  0.14s.  From  0.14  to  0.25s  the  savings  decay  greatly  to  later  decrease  very 
slowly.  Figure  (4)  shows  the  total  gain  for  all  Lambs,  Soccer  and  News  traffics  in  the 
Network.  For  the  Soccer  traffic  the  curve  is  very  different.  The  gain  is  high  for  very  low 
deadlines, but decreases very quickly until 0.07s to later increase lineally. The News traffic is 
very  similar  to  the  Lambs  traffic  with  a  peak  gain  of  42%.  The  results  for  other  network 
configurations are very similar (see [9] for a detailed study). 
n
o