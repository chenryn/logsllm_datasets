title:Advancing the Art of Internet Edge Outage Detection
author:Philipp Richter and
Ramakrishna Padmanabhan and
Neil Spring and
Arthur W. Berger and
David Clark
Advancing the Art of Internet Edge Outage Detection
Philipp Richter
MIT / Akamai
Ramakrishna Padmanabhan
Neil Spring
PI:EMAIL
University of Maryland
PI:EMAIL
University of Maryland
PI:EMAIL
Arthur Berger
Akamai / MIT
PI:EMAIL
ABSTRACT
Measuring reliability of edge networks in the Internet is difficult due
to the size and heterogeneity of networks, the rarity of outages, and
the difficulty of finding vantage points that can accurately capture
such events at scale. In this paper, we use logs from a major CDN,
detailing hourly request counts from address blocks. We discovered
that in many edge address blocks, devices, collectively, contact the
CDN every hour over weeks and months. We establish that a sudden
temporary absence of these requests indicates a loss of Internet
connectivity of those address blocks, events we call disruptions.
We develop a disruption detection technique and present broad
and detailed statistics on 1.5M disruption events over the course of
a year. Our approach reveals that disruptions do not necessarily re-
flect actual service outages, but can be the result of prefix migrations.
Major natural disasters are clearly represented in our data as ex-
pected; however, a large share of detected disruptions correlate well
with planned human intervention during scheduled maintenance
intervals, and are thus unlikely to be caused by external factors.
Cross-evaluating our results we find that current state-of-the-art ac-
tive outage detection over-estimates the occurrence of disruptions
in some address blocks. Our observations of disruptions, service
outages, and different causes for such events yield implications for
the design of outage detection systems, as well as for policymakers
seeking to establish reporting requirements for Internet services.
CCS CONCEPTS
• Networks → Network measurement; Network reliability;
KEYWORDS
Internet reliability, Internet outages
ACM Reference Format:
Philipp Richter, Ramakrishna Padmanabhan, Neil Spring, Arthur Berger,
and David Clark. 2018. Advancing the Art of Internet Edge Outage Detection.
In 2018 Internet Measurement Conference (IMC ’18), October 31-November
2, 2018, Boston, MA, USA. ACM, New York, NY, USA, Article 4, 14 pages.
https://doi.org/10.1145/3278532.3278563
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than the
author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior specific permission
and/or a fee. Request permissions from permissions@acm.org.
IMC ’18, October 31-November 2, 2018, Boston, MA, USA
© 2018 Copyright held by the owner/author(s). Publication rights licensed to ACM.
ACM ISBN 978-1-4503-5619-0/18/10...$15.00
https://doi.org/10.1145/3278532.3278563
David Clark
MIT
PI:EMAIL
1 INTRODUCTION
Residential Internet access has become critical: while long ago pack-
ets were exchanged over a connection designed for reliable voice
communication, it has become common to provide myriad services,
even voice, over a network built for best-effort data communication.
Reliable Internet connectivity has become increasingly necessary
not only for individual users and their emergency communica-
tion needs or the operation of smart in-home devices but also for
businesses that provide network services or sell to end-users. The
increasing criticality of the Internet is reflected in growing atten-
tion from governments and regulators around the globe to monitor
and improve Internet reliability [38–41].
Despite the importance of continuous Internet access, there is
a shortage of high quality data that quantifies Internet reliability
at the edge. Reliability is difficult to measure, since true outages
are rare events happening inside of thousands of independently
administered networks. Each network is subject to individual net-
work management practices, resulting in different network char-
acteristics, making it both challenging to develop methods to mea-
sure reliability at scale, as well as to interpret measurement re-
sults. While these challenges apply to reliability measurements of
both residential and core networks, of particular relevance to end-
user network outages is the typical absence of any global routing-
protocol activity (§ 7). Prior approaches to measure Internet edge
reliability have thus either relied on deploying hardware in end-
user premises [27, 52, 55], or on periodically sending probe traffic
to specific IP addresses [25, 46, 54].
This paper introduces a new passive approach to detect Internet
edge disruptions and outages, using server logs of one of the world’s
largest CDNs. This dataset has several advantages over prior tech-
niques: it samples the edge of the Internet broadly, it favors actively
used addresses, and it relies on network traffic that is unlikely to
be blocked. We make the following high-level contributions:
• Measurement methodology: We introduce a passive approach
to detect disruptions in address activity based on CDN access
logs. We leverage a key observation that an ever-increasing
number of always-on devices (e.g., smartphones, smart TVs) re-
sult in constant, non-human triggered request activity to CDN
servers, an effect we call baseline activity. We establish that a
temporary absence of these requests indicates a loss of Inter-
net connectivity of given address blocks, events we refer to as
disruptions. We develop and evaluate an approach to robustly
detect such disruptions in our dataset, enabling us to continu-
ously track disruptions (i) on a broad scale, and (ii) in detail, i.e.,
for individual IPv4 /24 address blocks. Evaluating our approach
IMC ’18, October 31-November 2, 2018, Boston, MA, USA
Richter et al.
against Trinocular [46], a state-of-the-art Internet-wide active
outage detection technique, we find that Trinocular’s outages
must be filtered for most events to be correct, otherwise false
positives in few address blocks can dominate.
• Fine-grained understanding of disruptions: We present de-
tailed statistics on some 1.5M detected disruption events span-
ning one entire year. We investigate disruption sizes, duration,
frequency of occurrence, and timing. While major external
events such as natural disasters are clearly represented in our
datasets, we find that a large share of disruptions are unlikely
to be caused by external factors, but align well with scheduled
ISP maintenance intervals. We illustrate our findings with a
case study of major US broadband ISPs.
• Disruptions vs. service outages: We leverage an orthogo-
nal dataset that enables us to track the activity of individual
devices across address blocks in the face of disruptions. Our
analysis reveals that at least some 10% of disruption events
do not reflect actual service outages, but large-scale prefix mi-
gration. We discover that temporary prefix migrations often
result in massive anti-disruption events, sudden shifts in prefix
activity. We develop techniques to detect anti-disruptions on a
per-AS level, and pinpoint networks that are particularly prone
to show such behavior (and thus bias outage detection mecha-
nisms). We study to what extent publicly available BGP data
captures detected disruptions, finding that BGP hides some 80%
of identified disruptions, but also that even a BGP withdrawal
of a prefix does not necessarily indicate an actual service outage.
Our findings challenge common assumptions in the field of Inter-
net edge outage detection, such as how to determine if a measured
event really corresponds to a service outage. As well, our findings
challenge the interpretation of such results, given that disruptions
and outages can be caused by a variety of factors, i.e., whether a
planned service maintenance should be interpreted similarly to a
service outage caused by unplanned internal or external events.
The remainder of this paper is structured as follows: We intro-
duce definitions and discuss related work in Section 2. In Section 3
we show how we can leverage baseline activity in the CDN logs to
identify disruptions, introduce our detection mechanism and com-
pare it against state-of-the-art active outage detection. We study
identified disruption events on a broad scale in Section 4. We then
shift our perspective and drill into details of disruption events from
a device-centric perspective in Section 5. We discover and analyze
the phenomenon of anti-disruptions in Section 6 and assess ways
to distinguish disruptions from service outages in Section 7. We il-
lustrate our findings with a case study of major US ISPs in Section 8
and discuss the pertinent implications of our work in Section 9.
2 ON DETECTING EDGE OUTAGES
In this section, we introduce necessary terminology and discuss
the current state-of-the-art in Internet edge outage detection.
2.1 Defining Outages
In this work, we introduce a rigorous distinction between a de-
tectable symptom of a service outage and the outage itself; and we
consider possible, alternative causes of that symptom. We introduce
the following two terms:
Disruption: A temporary loss of Internet connectivity of
specific IP address blocks.
Outage: A disruption that results in the loss of the Internet
access service that had been provided to the end devices in
the affected address blocks.
A disruption may be the measurable consequence of an out-
age, but a disruption does not always imply that an actual outage
occurred. For example, a disruption occurs when the public IP
addresses associated with end hosts are changed and the prior ad-
dresses are not immediately assigned to other devices—an outage
need not have occurred. There are different datasets and methods to
detect disruptions in the Internet in the control and data planes, in-
cluding the measurement of BGP announcements and withdrawals,
sudden loss of ICMP responsiveness for specific address blocks, and
sudden drops in traffic from/to specific address blocks.
2.2 Related Work
Internet failures affecting the core of the network have been well
studied, using data-plane techniques [13, 43], control-plane tech-
niques [26, 35], or combinations of both [23, 32–34]. Other works
investigated external sources such as router logs [59] and mailing
lists [11] to study infrastructure outages.
Failures affecting the edge have been studied at smaller scales
using measurement agents deployed at user premises [10, 15, 16,
27, 55]. These agents are typically dedicated hardware devices,
such as SamKnows [52] and BISmark [58] routers and RIPE Atlas
probes [50], although some approaches use measurements from
software deployed on user systems [10, 53, 56] or a combination
of hardware and software [16]. Such approaches can offer detailed
and accurate reports about Internet reliability since the agents are
designed to execute measurements continuously as long as they
are powered. However, cost and logistical difficulties of deploying
measurement agents to users severely limits their scalability.
To detect outages at scale, studies have investigated actively prob-
ing destinations from vantage points and using probe responses—or
lack thereof—as signal for edge outages. Thunderping analyzes the
effect of weather on residential networks [54] by pinging residen-
tial IP addresses in geographic areas subject to severe weather.
Trinocular [46] models the responsiveness of routed /24 prefixes
using historical data [28] and sends ICMP probes to 4M routed /24
prefixes to detect disruptions. By applying Bayesian inference to
responses, Trinocular detects a disruption affecting a prefix when
it finds that the prefix has become unresponsive according to its
model. We evaluate our results against Trinocular in § 3.7.
Dainotti et al. detect Internet outages at the country level by iden-
tifying times of reduced traffic from addresses in certain countries
toward unused IPv4 address space [22]. Traffic to unused portions
of the IPv4 address space is often sent by misconfigured devices or
malicious hosts [12] who may spoof their source addresses, making
it difficult to infer if addresses sending traffic to the darknet are
actively in use by user devices.
Prior work has interpreted intermittently inactive addresses or
address blocks (i.e., what we term disruptions) as outages [22, 46, 54].
A key aspect that differentiates our work is that we seek to further
investigate whether detected disruptions result in service outages.
Advancing the Art of Internet Edge Outage Detection
IMC ’18, October 31-November 2, 2018, Boston, MA, USA
(a) Hourly active IPv4 addresses for selected /24
blocks over the course of one month.
(b) CCDF: Baseline activity per /24: Hourly active
IPv4 addresses in many /24 address blocks never
drop below a certain threshold.
(c) Week-to-week change in baseline activity: The
minimum number of active IPv4 addresses remains
largely constant over time.
Figure 1: Baseline Activity: Minimum Number of active IPv4 addresses.
3 DETECTING DISRUPTIONS
In this section we first introduce our dataset and its properties. We