# 文件头
---
文件的扩展名用于标识文件类型。通过指定扩展名，我们可以告诉自己和操作系统如何打开这个文件。例如，默认情况下，`.jpg` 文件会用图片查看器打开，而 `.zip` 文件则会用解压软件打开。
然而，扩展名是可以随意更改的。我们可以为文件设置任意的扩展名，甚至不设置扩展名。这样一来，我们可能无法确定文件的实际内容。那么，为什么像视频播放器这样的软件能够正确地打开 `.mp4`、`.rmvb` 和 `.wmv` 等不同格式的视频呢？
实际上，所有文件都是以二进制形式存储的，本质上没有区别。不同的处理方式仅因为我们对文件内容的理解不同。每个文件（包括图片、视频或其他非 ASCII 文件）在开头部分（十六进制表示）都有一个区域，用于显示文件的实际用途，这就是文件头标志。
在 Linux 系统中，可以使用 `file` 命令直接查看文件的实际格式，该命令也是通过读取文件头标志来判断文件类型的。

---

### 参考资料
- [Just Solve the File Format Problem](http://fileformats.archiveteam.org/wiki/Main_Page)
- [文件头一览](./文件头.xlsx)

> 为了方便查找，这里列出了一些常见的文件头标志及其对应的文件格式。

| 文件格式 | 文件头标志 (十六进制) |
|----------|-----------------------|
| NTDS.dit | AC 74 F4 04 EF CD AB 89 |
| system   | 72 65 67 66            |
| 123      | 00 00 1A 00 05 10 04    |
| 3gg, 3gp, 3g2 | 00 00 00 nn 66 74 79 70 33 67 70 |
| 7z       | 37 7A BC AF 27 1C       |
| aba      | 00 01 42 41             |
| abi      | 41 4F 4C 49 4E 44 45 58  |
| aby, idx | 41 4F 4C 44 42          |
| accdb    | 00 01 00 00 53 74 61 6E 64 61 72 64 20 41 43 45 20 44 42 |
| ACM      | 4D 5A                   |
| ADF      | 44 4F 53                |
| adx      | 03 00 00 00 41 50 50 52  |
| AIFF     | 46 4F 52 4D 00          |
| ain      | 21 12                   |
| ami      | 5B 76 65 72 5D          |
| amr      | 23 21 41 4D 52         |
| ANI      | 52 49 46 46            |
| API      | 4D 5A 90 00 03 00 00 00  |
| arc      | 1A 0x                   |
| arc      | 41 72 43 01             |
| arj      | 60 EA                   |
| ARJ      | 60 EA 27                |
| ART      | 4A 47 03 0E 00 00 00    |
| ART      | 4A 47 04 0E 00 00 00    |
| asf      | 30 26 B2 75 8E 66 CF 11  |
| asf, wma, wmv | 30 26 B2 75 8E 66 CF 11 A6 D9 00 AA 00 62 CE 6C |
| asx      | 3C                      |
| au       | 2E 73 6E 64             |
| avi      | 41 56 49 20             |
| AX       | 4D 5A                   |
| AX       | 4D 5A 90 00 03 00 00 00  |
| bag      | 41 4F 4C 20 46 65 65 64 62 61 67 |
| BAS      | 20 20 20                |
| bin      | 42 4C 49 32 32 33 51    |
| bmp      | 42 4D                   |
| BMP      | 42 4D 3E                |
| bz, bz2  | 42 5A 68                |
| BZ2, TAR.BZ2, TBZ2, TB2 | 42 5A 68 |
| CAB      | 49 53 63                |
| CAB, HDR | 49 53 63 28             |
| CAB      | 4D 53 43 46             |
| cat      | 30                      |
| CBD      | 43 42 46 49 4C 45       |
| CCD      | 5B 43 6C                |
| CDR      | 45 4C 49 54 45 20 43 6F 6D 6D 61 6E 64 65 72 20 |
| CDR, DVF | 4D 53 5F 56 4F 49 43 45  |
| CHI, CHM | 49 54 53 46             |
| CHM      | 49 54 53                |
| CLB      | 43 4D 58 31             |
| CLB      | 43 4F 4D 2B             |
| cnt      | 3A 42 61 73 65          |
| COM, DLL, DRV, EXE, PIF, QTS, QTX, SYS | 4D 5A |
| COM      | 4D 5A EE                |
| COM      | E9 3B 03                |
| CPE      | 46 41 58 43 4F 56 45 52 2D 56 45 52 |
| CPL      | 4D 5A                   |
| CPT      | 43 50 54 37 46 49 4C 45  |
| CPT      | 43 50 54 46 49 4C 45    |
| CPX      | 5B 57 69                |
| cru, crush | 43 52 55 53 48        |
| CRU      | 43 52 55 53 48 20 76    |
| CRW      | 49 49 1A 00 00 00 48 45 41 50 43 43 44 52 02 00 |
| CTF      | 43 61 74 61 6C 6F 67 20 33 2E 30 30 00 |
| CUR      | 00 00 02 00 01 00 20 20  |
| dat      | 1A 52 54 53 20 43 4F 4D 50 52 45 53 53 45 44 20 49 4D 41 47 45 20 56 31 2E 30 1A |
| dat      | 41 56 47 36 5F 49 6E 74 65 67 72 69 74 79 5F 44 61 74 61 62 61 73 65 |
| DAT      | 43 52 45 47             |
| DAT      | 43 6C 69 65 6E 74 20 55 72 6C 43 61 63 68 65 20 4D 4D 46 20 56 65 72 20 |
| DAT      | 45 52 46 53 53 41 56 45 44 41 54 41 46 49 4C 45  |
| DAT      | 49 6E 6E 6F 20 53 65 74 75 70 20 55 6E 69 6E 73 74 61 6C 6C 20 4C 6F 67 20 28 62 29 |
| db       | 00 06 15 61 00 00 00 02 00 00 04 D2 00 00 10 00 |
| DB       | 44 42 46 48             |
| dba      | 00 01 42 44              |
| dbx      | CF AD 12 FE             |
| dbx      | CF AD 12 FE C5 FD 74 6F  |
| dci      | 3C 21 64 6F 63 74 79 70  |
| dcx      | 3A DE 68 B1             |
| DDB      | 00 01 00                |
| dib      | 42 4D                   |
| DLL      | 4D 5A 90                |
| DMP      | 4D 44 4D 50 93 A7        |
| DMS      | 44 4D 53 21             |
| doc      | 0D 44 4F 43              |
| doc      | 12 34 56 78 90 FF        |
| doc      | 31 BE 00 00 00 AB 00 00  |
| doc      | 7F FE 34 0A             |
| dot, ppt, xla, ppa, pps, pot, msi, sdw, db | D0 CF 11 E0 |
| doc, dot, xls, xlt, xla, ppt, apr, ppa, pps, pot, msi, sdw, db | D0 CF 11 E0 A1 B1 1A E1 |
| DPL      | 4D 5A 50                |
| DRV      | 4D 5A 16                |
| drw      | 01 FF 02 04 03 02       |
| ds4      | 4D 47 58 20 69 74 70 64  |
| DSN      | 4D 56                   |
| dsp      | 23 20 4D 69 63 72 6F 73 6F 66 74 20 44 65 76 6 56C 6F 70 65 72 20 53 74 75 64 69 6F |
| dss      | 02 64 73 73             |
| dtd      | 07 64 74 32 64 64 74 64  |
| dtd      | 3C 21 45 4E 54 49 54 59  |
| DVR      | 44 56 44                |
| dwg      | 41 43 31                |
| Enn (where nn are numbers) | 45 56 46 |
| ECO      | 2A 50 52                |
| elf      | 7F 45 4C 46 01 01 01 00  |
| emf      | 01 00 00 00 58 00 00 00  |
| eml      | 44 65 6C 69 76 65 72 79 2D 64 61 74 65 3A |
| EML      | 46 72 6F 6D 20 20 20    |
| EML      | 46 72 6F 6D 20 3F 3F 3F  |
| EML      | 46 72 6F 6D 3A 20       |
| EML      | 52 65 63                |
| enc      | 00 5C 41 B1 FF          |
| enl      | [32 byte offset] 40 40 40 20 00 00 40 40 40 40 |
| eps      | 25 21 50 53             |
| eps      | 25 21 50 53 2D 41 64 6F 62 65 |
| eps      | 25 21 50 53 2D 41 64 6F 62 65 2D 33 2E 30 20 45 50 53 46 2D 33 20 30 |
| EPS      | C5 D0 D3                |
| eth      | 1A 35 01 00             |
| evt      | 30 00 00 00 4C 66 4C 65  |
| evt      | 03 00 00 00 C4 66 C4 56  |
| EVTX     | 45 6C 66 46 69 6C 65 00  |
| exe, dll, drv, vxd, sys, ocx, vbx | 4D 5A |
| exe, com, 386, ax, acm, sys, dll, drv, flt, fon, ocx, scr, lrc, vxd, cpl, x32 | 4D 5A |
| EXE, DLL, OCX, OLB, IMM, IME | 4D 5A 90 |
| fli      | 00 11 AF                |
| flt      | 00 01 01                |
| FLT      | 4D 5A 90 00 03 00 00 00  |
| FLV      | 46 4C 56 01             |
| fm       | 3C 4D 61 6B 65 72 46 69 6C 65 20 |
| fm3      | 00 00 1A 00 07 80 01 00  |
| fmt      | 20 00 68 00 20 0        |
| FNT      | 43 48 41                |
| FON      | 4D 5A                   |
| GBC      | 87 F5 3E                |
| gid      | 3F 5F 03 00             |
| GID      | 4C 4E 02 00             |
| GIF      | 47 49 46 38             |
| gif      | 47 49 46 38 37 61       |
| gif      | 47 49 46 38 39 61       |
| GTD      | 7B 50 72                |
| GX2      | 47 58 32                |
| gz, tar, tgz | 1F 8B                  |
| gz, tgz  | 1F 8B 08                |
| hap      | 91 33 48 46             |
| HDMP     | 4D 44 4D 50 93 A7        |
| hdr      | 23 3F 52 41 44 49 41 4E 43 45 0A |
| HLP      | 3F 5F 03                |
| hlp      | 3F 5F 03 00             |
| HLP      | 4C 4E 02 00             |
| hlp      | [7 byte offset] 00 00 FF FF FF FF |
| hqx      | 28 54 68 69 73 20 66 69 6C 65 |
| hqx      | 28 54 68 69 73 20 66 69 6C 65 20 6D 75 73 74 20 62 65 20 63 6F 6E 76 65 72 74 65 64 20 77 69 74 68 20 42 69 6E 48 65 78 20 |
| HTM      | 3C 21 44                |
| htm, html | 3C 21 44 4F 43 54       |
| htm, html | 3C 48 54 4D 4C 3E       |
| htm, html | 3C 68 74 6D 6C 3E       |
| html     | 68 74 6D 6C 3E          |
| ico      | 00 00 01 00 00          |
| ico      | 00 00 01 00 01 00 20 20  |
| IFF      | 46 4F 52 4D             |
| IFO      | 44 56 44                |
| IME      | 4D 5A 90                |
| img      | 00 01 00 08 00 01 00 01 01 |
| IMG      | 00 FF FF                |
| IMM      | 4D 5A 90                |
| ind      | 41 4F 4C 49 44 58        |
| ISO      | 43 44 30 30 31          |
| ivr      | 2E 52 45 43             |
| JAR      | 4A 41 52 43 53 00       |
| jar      | 5F 27 A8 89             |
| jpg, jpeg | FF D8 FF                |
| jpg, jpe, jpeg | FF D8 FF E0 00       |
| jpg, jpe, jpeg | FF D8 FF FE 00       |
| KGB      | 4B 47 42 5F 61 72 63 68 20 2D |
| KOZ      | 49 44 33 03 00 00 00    |
| LDB      | 42 49 4C                |
| lha      | 2D 6C 68 35 2D          |
| lha, lzh | [2 byte offset] 2D 6C 68 |
| LHP      | 3F 5F 03                |
| lhp      | 3F 5F 03 00             |
| lib      | 21 3C 61 72 63 68 3E 0A  |
| LIB      | 2A 24 20                |
| LIT      | 49 54 4F 4C 49 54 4C 53  |
| LNK      | 4C 00 00                |
| lnk      | 4C 00 00 00             |
| lnk      | 4C 00 00 00 01 14 02     |
| LNK      | 4C 00 00 00 01 14 02 00  |
| log      | 2A 2A 2A 20 20 49 6E 73 74 61 6C 6C 61 74 69 6F 6E 20 53 74 61 72 74 65 64 20 |

希望这些信息对你有帮助！