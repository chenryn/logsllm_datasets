![alt](images/00106.jpeg){.calibre3}
图3.31 切换输入法框架
不过我们的懒蜗牛同学觉得IBus还是挺称职的，并没有换成其他输入法。这会儿正用IBus跟MM聊得热火朝天呢。
3.3.4 Linux下的QQ
输入法弄好了，我们的懒蜗牛同学使用心有灵犀跟朋友们聊得正欢，忽然想起一件事情，怎么聊QQ呢？毕竟懒蜗牛同学的很多朋友都在用这个软件，不能上QQ会失去和很多好友的联系。不过要想在我们Ubuntu系统里聊QQ还是有点难度的，因为这个家伙的协议不公开。
【热心爱好者的QQ】
像MSN、Gtalk这些聊天软件，他们都使用公开的协议（至少基本的文字聊天部分是公开的，什么视频、语音之类的功能单说）。有专门的文件写着自己只收什么什么样的信封。比如必须蓝色，上面印着蝴蝶，上开口直接撕开的信封才能发给MSN。因此，心有灵犀才能学习他们信封的打包方式，从而和这些聊天软件们互发消息。可是QQ这家伙的信封的封装方式却从来不告诉别人，而且很复杂，上面有乱七八糟的很多防伪标识，如激光、磁条、水印，比人民币还热闹。以前，Linux下聊QQ主要有两个软件：Java编写的LumaQQ和基于Qt库的EVA。他们的作者通过黑盒研究，抓包测试，猜出了QQ信封的部分封装方式，因此可以和QQ通信。图3.32所示就是EVA的运行界面。但是QQ信封的封装方式不但不公开，还经常升级，搞得这两个软件也经常不能用。
![alt](images/00107.jpeg){.calibre3}
图3.32 EVA运行界面
![alt](images/00011.jpeg){.tpzz}**提示：**[Qt库是KDE桌面环境使用的图形开发库，而Ubuntu默认使用基于GTK库的Gnome桌面环境。在Gnome环境中运行基于Qt库的软件，启动速度会比较慢，但不影响功能和运行速度。]{.kai1}
【官方原生的QQ】不过现在好了，因为有了官方的、原生的、正宗的，QQ for
Linux，如图3.33所示。QQ for
Linux和心有灵犀一样，也是一个即时通信软件，我就不多介绍了。不过可别想着让超级牛力去装什么QQ，他肯定告诉你：没有！因为QQ不在我们的软件源里，要想装，得让狐狸妹妹直接去QQ的网站上下载，就在这里：
![alt](images/00108.jpeg){.calibre3}
图3.33 QQ for Linux运行界面
![alt](images/00109.jpeg){.calibre3}
记住一定要下载最左边那个DEB包的，那个是我们Ubuntu系统可以支持的，并且安装最为简单，双击就好。
这QQ是一个叫做腾讯的公司做的。话说这个腾讯啊，看人家Icq软件玩得挺火，于是也弄了个Oicq，抢占了国内市场，结果一发不可收拾，毕竟那时候国内的网络还刚刚起步，这东西新鲜啊，于是全民Oicq，大家上网聊天。后来Oicq改名，叫QQ了，可是一直以来，由于各种原因，腾讯这个公司只能做出Windows版本的QQ来，Linux下的没有。现在腾讯公司不知怎么想开了，提供了Linux版的QQ，虽然功能也很简陋，不过，文字聊天，传个图片，收个自定义表情什么的还是没问题的，总算是个好的开始吧。
![alt](images/00011.jpeg){.tpzz}**提示：**[目前QQ for
Linux维护力度很弱，更新进度很慢，在Ubuntu
11.04以后的系统中使用时可能会出现问题。]{.kai1}
【网页版的QQ】
QQ for
Linux虽然能用，但是也有不少的毛病。比如经常莫名其妙地占用硬盘，只要他开着，硬盘就经常工作着，也不知道读什么呢，所以很多人心里没底。于是就用网页版的QQ代替了。网页版的QQ也是官方的，所以不用担心哪天用不了，而且使用也方便，不用装软件，只要用浏览器打开web.qq.com网页，登录进去就可以了，功能比QQ
for Linux还多。如图3.34所示就是网页版QQ的界面。
![alt](images/00110.jpeg){.calibre3}
图3.34 网页版QQ界面
[3.4 多媒体]{.kai}
聊天工具和输入法搞好了，用户终于和MM幸福地聊在了一起。俩人聊着聊着，聊到了音乐。最近MM在听一首歌，感觉很不错，就介绍给懒蜗牛同学。而他自然愿意主动贴近MM的生活，于是赶快上网下载这首歌曲来听。
看来，到了我们的多媒体部门出场的时候了。
3.4.1 安装解码器
狐狸妹妹很麻利地下载到了这首歌，是一个扩展名是.mp3的文件。懒蜗牛同学很自然地就双击了这个文件，想要播放来听听。播放音乐这种事，自然要找多媒体部门，"电影播放机"就是其中的一员，他的英文名字叫Totem。
【播放音乐遇到的问题】
我看到用户要播放MP3，就赶快叫醒了Totem来干活。Totem一本正经地拿着这个文件翻来覆去地看了半天，最后摇摇头说：这个......播不了。我一听就急了：你不是播放机嘛？在学校里你天天吹牛说你什么都能播，视频音频通吃，怎么关键时刻不行了？Totem赶快解释：老大，别急别急，我说播不了，是有原因的。我播音频也好，视频也罢，都需要解码器。我现在手头没有这个MP3的解码器，所以不能播放。
有人会问：解码器是干什么的？要知道，音乐也好，视频也好，格式有很多种。就如同现实中看电影，有数字电影，就要用数字放映机；胶片电影，就得拿传统的放映机；在家里看光盘，就得拿DVD机；看录像带，就得拿录像机。听音乐也是，磁带的和CD的，肯定没法都塞进同一个机器里。Totem这样的媒体播放软件就像一个电影放映员，解码器就是放映机。放映员再牛，也得有各种放映机做支持，没放映机他啥也放不了。
![alt](images/00011.jpeg){.tpzz}**提示：**[Ubuntu系统自带了一些格式的解码器，如OGG格式。但为避免版权问题而没有自带MP3，RMVB等解码器。]{.kai1}
【安装MP3解码器】
我刚想质问Totem为什么不把解码器带全了，转念一想，我自己也没把语言支持包带全嘛。算了，还是不追究这个了，先说眼下怎么办吧。Totem说：没关系，没带就让超级牛力去装嘛。当然，装软件这么重要的事情，我们得跟用户请示一下。于是，Totem在屏幕上显示出了一条信息，就是图3.35所示这条。大概意思是，您要播放的这个东西所需要的解码器似乎没有安装，请问要不要现在去搜索一下需要装的解码器呢？
![alt](images/00111.jpeg){.calibre3}
图3.35 提示查找插件
蜗牛同学还有什么选择吗？不听Totem的这MP3就播放不了啊，所以单击了"查找"按钮。Totem在一番查找后，向用户汇报，说有这么几个包得装，装上就能播MP3啦，如图3.36所示。
![alt](images/00112.jpeg){.calibre3}
图3.36 Totem搜索到的解码器
懒蜗牛同学当然单击了"安装"按钮。之后，估计您也猜到了，当然是超级牛力开始工作，装上了需要的解码器，最终Totem终于发出了久违的歌曲声。
不过懒蜗牛同学显然和我一样对这个音乐不感兴趣，却对Totem有了很大兴趣。
![alt](images/00011.jpeg){.tpzz}**提示：**[装好解码器后，将鼠标悬停在mp3文件上，几秒钟后可以预览文件内容。]{.kai1}
【安装rmvb解码器】
以懒蜗牛同学以往的经验，系统刚刚装好，不能播放某音频或视频文件是正常的，比如以前的Windows
XP系统刚装好时，没有软件可以播放RMVB，必须得装软件，而装软件这个工作需要用户自己去做：上网找、下载，搞不好下载回来是个压缩包，还得先装解压缩软件。可是Totem竟然不用如此繁琐，直接提示缺什么东西，只要点个确定，该装的就都装上了，太人性化了。于是懒蜗牛同学很兴奋地又找来个RMVB文件双击了一下，Totem出乎意料地没有再向用户报告什么，立刻换过视频解码器，开始播放RMVB的视频。
其实，这是因为在刚才安装MP3解码器的时候装的那个gstream0.10-ffmpeg软件包，包含了多种解码功能，其中就有对RMVB文件的支持。
3.4.2 安装Mplayer播放视频
虽然Totem能够播放不少类型的视频，不过毕竟他只是多媒体部门的小弟，要说播放器，那还得说Mplayer老爷子。Mplayer可是多媒体部门的元老了，能力相当强，什么片都能放，什么RMVB、FLV、AVI、WMV全都不在话下（当然，前提还是得有解码器）。就算您没图形界面，人家在字符界面照样能依靠framebuffer给你放电影，甚至还能给您拿字符拼出电影看。现在时代发展了，都高清了，人家也不甘落后，照样能支持，什么硬解码软解码的，通吃。
![alt](images/00011.jpeg){.tpzz}**提示：**[如果需要Mplayer支持硬解码，首先要安装好显卡驱动，详见3.5节。]{.kai1}
我们的懒蜗牛同学也在网上听说了Mplayer老先生的名声，于是叫来新立得，安装上了Mplayer。装完了之后杯具了------这个软件装哪了啊？
【Linux和Windows不同的处世哲学】
这里要介绍一下我们Linux和Windows
7的不同哲学了。我们两个的做事方式，对待用户的态度，以及很多观念都有很大的不同，因此导致了软件安装的位置也很有区别。
Windows
7他们家族都比较小家子气，守住自己的一亩三分地不轻易让别人动。他不希望让别人了解自己的结构，所以Windows
7下的系统文件都是统一放在一个目录里面的。一般叫什么Windows之类的目录，别的软件谁也别想动。有什么样的领导，自然就有什么样的员工。Windows
7下的其他软件也都学他那样，给自己建一个目录，一般在Program
Files目录下，跟自己有关的东西就都放在那个目录里。软件之间泾渭分明，互不干涉，老死不相往来。顶多早晨上班见面点个头而已，很少有其他的交流，工作间里一片死气沉沉。
而我们Linux的世界就不同了。我们这里的目录是开放式的，按照文件的用途划分各种目录，而不是按照软件的名字来分。每个软件都把需要用的文件放在公共的地方，如果别的软件也需要用，甭客气，拿走。就比如刚才Totem装的那些解码器，其实就是一些解码用的库文件，所以放在了/usr/lib下。现在来了Mplayer，他要想播放视频也需要解码器，如果是在Windows
XP下，那就请您自备一套，甭想用我的。就像Windows Media
Player不能播放RMVB格式，装了RealOne后，RealOne可以播放RMVB，但是Windows
Media
Player照样不能，因为RealOne带来的解码器只能RealOne用。我们这里就不是这样，既然有解码器了，就大家一起用。Mplayer抄起Totem刚才装的解码器就能播放视频，这样，避免了同样功能的解码器重复开发，也省得为某一种视频格式专门装个软件。
![alt](images/00011.jpeg){.tpzz}**提示：**[由于软件之间相互共享资源的特点，Linux下的软件更倾向于做得功能单一而强大。每个软件只专注于实现一个功能，需要复杂功能时通过多个软件的相互协作完成。]{.kai1}
【软件安装位置】
说了这幺半天，您一定着急了："这Mplayer到底装哪了啊？"对于这个问题，我只好告诉你："就像一锅被火车撞了的豆腐脑一样散落在各处了......"二进制文件放在了/usr/bin；库文件放在了/usr/lib；配置文件放在了/etc/；其他一些文档文件放在了/usr/share；还有一些数据放在了/var，乱吧。你肯定会说，这么乱，怎么管理啊？要删除的时候怎么办？这个问题的答案是：相信超级牛力！他会记得这些安装过的文件，删除的时候肯定一个不留。
![alt](images/00011.jpeg){.tpzz}**提示：**[删除软件使用命令：sudo
apt-get remove\来完成。]{.kai1}
如果你求知欲很强，非要知道这个Mplayer到底都装了哪些文件，那也没问题。在新立得中搜到Mplayer这个软件包，右击这个包，选择"属性"，就弹出了属性窗口。这时候选择"已安装的文件"标签，就可以看到所有文件的去向了，如图3.37所示。
![alt](images/00113.jpeg){.calibre3}
图3.37 查看软件包所有文件
那么既然安装了Mplayer，到底怎么运行他呢？如果是安装了一个图形界面的程序，我会按照这个程序的类型，自动把这个程序放在"应用程序"菜单里。不过Mplayer是个字符终端的程序，所以没有在图形界面体现。要想运行，打开终端输入：
![alt](images/00114.jpeg){.calibre3}