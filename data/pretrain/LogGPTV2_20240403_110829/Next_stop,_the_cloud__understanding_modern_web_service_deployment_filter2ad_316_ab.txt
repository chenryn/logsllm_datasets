3The university has seven /24 IP blocks and one /16 IP block
Provider
# Domains (%)
# Subdomains (%)
EC2 only
EC2 + Other
Azure only
Azure + Other
EC2 + Azure
Total
EC2 total
Azure total
3,277 (8.1%)
34,721 (86.1%)
184 (0.5%)
1,858 (4.6%)
293 (0.7%)
40,333 (100.0%)
38,291 (94.9%)
2,335 (5.8%)
685,725 (96.1%)
21,628 (3.0%)
6,328 (0.9%)
225 (4%) of the domains on Alexa’s top 1
million list have a subdomain that uses EC2 and/or Azure. Un-
der these domains, there are a total of 713,910 cloud-using subdo-
mains. Note that these are lower bounds on cloud use, since our
analysis approach (see §2.1) means we do not ﬂag as cloud-using
any domains that use a layer of indirection (e.g., via services like
CloudFlare [11]) before requests are sent to EC2 or Azure.
Table 3 provides a breakdown of the domains and subdomains
in terms of whether they use EC2, Azure, or other hosting ser-
vices (the last indicating IP addresses not associated with EC2 or
Azure). Note that “other” could in fact be public clouds besides
EC2 and Azure. A subdomain is marked as EC2 only if it always
resolves only to IP addresses within EC2; similarly for Azure. We
mark a subdomain as EC2+Azure, EC2+Other, or Azure+Other if
it resolves to IP addresses associated with the appropriate subset of
EC2, Azure, and other. Domains are counted as EC2 only if all of
their subdomains only use EC2; similarly for Azure. Domains are
marked as EC2+Azure, EC2+Other, or Azure+Other if they have
subdomains associated with the indicated subset of EC2, Azure,
and other.
The vast majority of cloud-using domains (94.9%) use EC2, and
the majority of these domains use other hosting for some of their
subdomains (i.e., EC2 + Other). Only 5.8% of domains use Azure.
Additionally, a small fraction (0.7%) of cloud-using domains use
both EC2 and Azure; hence the EC2 total and Azure total rows in
Table 3 sum to more than 100%. A list of the top 10 (by Alexa rank)
EC2-using domains appears in Table 4. This list will be used in sev-
eral later sections with results speciﬁc to EC2, which is why we ex-
cluded the four top Azure domains that would otherwise have been
in the top 10: live.com, msn.com, bing.com, and microsoft.com.
The distribution of Alexa ranks for cloud-using domains is skewed:
higher ranked domains are more likely to be cloud-using than lower
ranked domains. Notably, 42.3% of cloud-using domains have
ranks in the ﬁrst 250,000 sites versus only 16.2% of the bottom
250K domains.
The most frequent preﬁx used by cloud-using subdomains in our
Alexa subdomains dataset is www (3.3% of all cloud-using subdo-
mains). The other top 10 preﬁxes (each <1%) are, in order: m,
ftp, cdn, mail, staging, blog, support, test, and dev. The majority of
subdomains are hosted either only in the cloud or only elsewhere,
although a small fraction (3%) appear to be hosted both on EC2 and
other providers, what we might call a hybrid-cloud deployment.
4Except for domains hosting personal sites, e.g., wordpress.com,
where subdomains are ranked individually.
High trafﬁc volume domains. We complement the above with an
analysis of the top domains seen in the packet capture, as measured
by trafﬁc volume. We use Bro to extract hostnames within HTTP
requests and common names within the server certiﬁcates embed-
ded in HTTPS ﬂows5. Aggregating the hostnames and common
names by domain, we ﬁnd 13,604 unique cloud-using domains:
12,720 use EC2 and 885 use Azure. Of these 13,604 domains,
6902 were also identiﬁed as cloud-using via the Alexa dataset;
the remainder were not in the Alexa top 1 million. Table 5 lists
the highest 15 such domains in terms of trafﬁc volume. A few
tenants are responsible for a large fraction of the trafﬁc. Most
notably, dropbox.com accounts for almost 70% of the combined
HTTP(S) trafﬁc volume. This also explains why HTTPS (used
by dropbox.com) dominates HTTP in terms of volume (though not
number of ﬂows, refer to Table 2).
It is informative to compare our analysis of top EC2-using do-
mains by trafﬁc volume to the analysis by DeepField networks [28],
which was conducted three months before we collected the packet
capture. They used data from customers of their network analysis
products. Seven of the domains on our top 15 list also appear within
the top 15 on DeepField’s list (indicated with a (d) in Table 5).
Summary and implications. A substantial fraction of the world’s
most popular websites rely in whole or in part on public IaaS clouds,
especially EC2. Most cloud-using domains have some subdomains
hosted on a cloud service while other subdomains are hosted else-
where. Perhaps surprisingly a small, but noticeable fraction of sub-
domains use both a cloud and other hosting solutions. Finally, traf-
ﬁc volume appears to be dominated by a few cloud tenants (we
discuss trafﬁc patterns more next). Depending on how tenants’ de-
ploy their services (e.g., how many and which regions they use),
these observations have implications for availability of web-based
cloud-resident services. We explore the underlying deployments in
more detail in §4.
3.3 Trafﬁc Patterns
Our packet capture enables us to analyze not only who is running
on the cloud, but also the trafﬁc patterns between clients in our
university and cloud-resident web services.
Flow-level properties. We ﬁrst study the number of ﬂows observed
for various cloud-using domains in the packet capture. Figures 3a
and 3b show CDFs of the number of HTTP and HTTPS ﬂows, re-
spectively, per-domain across our entire packet capture. We ob-
serve that ≈50% of domains have fewer than 1,000 HTTP ﬂows,
and more than 80% of domains have fewer than 1,000 HTTPS
ﬂows. Upon further analysis, we found that the top 100 cloud-
using domains are responsible for about 80% of the HTTP ﬂows
5TLS encryption hides the hostname associated with the underly-
ing HTTP requests, so we use the common names found in TLS
server certiﬁcates as a proxy.
EC2
Azure
Domain
dropbox.com (d)
netﬂix.com (d)
truste.com (d)
channel3000.com
pinterest.com (d)
adsafeprotected.com (d)
zynga.com
shareﬁle.com
zoolz.com
echoenabled.com (d)
vimeo.com
foursquare.com
sourceﬁre.com
instagram.com (d)
copperegg.com
Rank
119
92
15,458
29,394
35
371,837
799
20,533
272,006
-
137
615
359,387
75
122,779
Trafﬁc (%)
595.0 (68.21)
14.8 (1.70)
9.2 (1.06)
6.4 (0.74)
5.1 (0.59)
4.7 (0.53)
3.9 (0.44)
3.6 (0.42)
3.2 (0.36)
2.7 (0.31)
2.3 (0.26)
2.2 (0.25)
1.9 (0.22)
1.5 (0.17)
1.5 (0.17)
Domain
atdmt.com
msn.com
microsoft.com
msecnd.net
s-msn.com
live.com
virtualearth.net
dreamspark.com
hotmail.com
mesh.com
wonderwall.com
msads.net
aspnetcdn.com
windowsphone.com
windowsphone-int.com
Rank
11,128
18
31
4,747
25,363
7
147,025
35,223
2,346
-
-
-
111,859
1,597
-
Trafﬁc (%)
27.0 (3.10)
20.9 (2.39)
19.7 (2.26)
13.5 (1.55)
12.5 (1.43)
11.8 (1.35)
9.2 (1.06)
7.1 (0.81)
6.3 (0.72)
4.5 (0.52)
3.2 (0.36)
2.5 (0.29)
2.3 (0.26)
2.0 (0.23)
2.0 (0.23)
Table 5: Domains with highest HTTP(S) trafﬁc volumes (in GB) in the packet capture. Percentages are relative to the total HTTP(S) trafﬁc
across both clouds in the capture. Domains marked with (d) appeared on DeepField’s Top 15 [28].
F
D
C
F
D
C
(a) HTTP ﬂow count
(b) HTTPS ﬂow count
EC2
Azure
 1
 0.8
 0.6
 0.4
 0.2
 0
F
D
C
 1
 0.8
 0.6
 0.4
 0.2
 0
EC2
Azure
 1
 10
 100
 1000  10000
 1
 10
 100  1000  10000
Flows per Domain
Flows per Common Name
(c) HTTP ﬂow size
(d) HTTPS ﬂow size
EC2
Azure
 1
 0.8
 0.6
 0.4
 0.2
 0
EC2
Azure
F
D
C
 1
 0.8
 0.6
 0.4
 0.2
 0
10
100 1K 10K 100K 1M
10
100 1K 10K 100K 1M
flow size (Bytes)
flow size (Bytes)
Figure 3: CDFs for HTTP/HTTPS ﬂow counts and sizes.
Content
text/html
text/plain
image/jpeg
application/x-shockwave-ﬂash
application/octet-stream
application/pdf
text/xml
image/png
application/zip
video/mp4
Bytes
(GB)
57.9
56.2
25.6
20.8
18.9
7.6
7.5
7.1
6.8
5.3
% mean
(KB)
16
5
20
36
29
656
5
6
1,664
6,578
24.10
23.37
10.64
8.66
7.85
3.15
3.10
2.94
2.81
2.21