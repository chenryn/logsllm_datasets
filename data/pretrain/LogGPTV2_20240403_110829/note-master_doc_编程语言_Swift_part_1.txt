# Swift
## å˜é‡å¸¸é‡ä¸ŽåŸºæœ¬ç±»åž‹
```swift
// å¸¸é‡
let pi = 3.14
// å˜é‡
var i = 1, j = 2
// æ˜¾å¼å˜é‡ç±»åž‹
var url: String = "www.baidu.com"
// æ•´åž‹ å–å†³äºŽæœºå™¨å­—é•¿
print(Int.max)
// æ— ç¬¦å·æ•´åž‹
print(UInt.max)
// 8ä½æ•´åž‹
print(Int8.max)
// æµ®ç‚¹æ•°
let x: Float = 3.1415926
let y: Double = 3.155645
print(x, y)
// ä¸æ”¯æŒéšå¼è½¬æ¢
print(x+Float(y))
// å…ƒç»„
var property: (String, Int, (Int, Int, Int)) = ("cxk", 18, (35, 35, 35))
print(property)
print(property.0)
print(property.1)
// å…ƒç»„çš„æ¯”è¾ƒ
print((1,2,3) = 1 else {
    print("stop")
    exit(0)
}
```
## å­—ç¬¦ä¸²
### åŸºç¡€
```swift
// åˆ¤æ–­æ˜¯å¦æ˜¯ç©ºå­—ç¬¦ä¸²
print(str.isEmpty)
// æ’å€¼è¡¨è¾¾å¼
print("name: \(str)")
// å­—ç¬¦ä¸²æ‹¼æŽ¥ è½¬ä¹‰å­—ç¬¦ç­‰åŒç±»Cè¯­è¨€
```
### charä¸Žunicode
```swift
// æ˜¾å¼å£°æ˜Žå•ä¸ªå­—ç¬¦ï¼ˆåº•å±‚é‡‡ç”¨unicodeå­˜å‚¨ï¼‰
let single: Character = "ä¸­"
let single1: Character = "ðŸ¶"
// éåŽ†å­—ç¬¦
for c in "ä¸­æ–‡å¤§è¨è¾¾ðŸ‡¨ðŸ‡³" {
    print(c)
}
// å­—ç¬¦ä¸²æ˜¯å¯å˜çš„
str.append("jntm")
print(str)
// å­—ç¬¦ä¸²é•¿åº¦
print(str.count)
```
### ç´¢å¼•
- æŒºéš¾ç”¨çš„
```swift
// å­—ç¬¦ä¸²ç´¢å¼•
// [startIndex, endIndedx)
var s = "æˆ‘å¦‚æžœä»˜è´¹"
// éœ€è¦æ ¹æ®startIndex æˆ–è€…endIndex è®¡ç®—
print(s[s.index(s.startIndex, offsetBy: 2)]) // æžœ åœ¨ç¬¬ä¸€ä¸ªç´¢å¼•å¾€åŽçš„2ä¸ª
print(s[s.index(before: s.endIndex)]) // è´¹ åœ¨æœ€åŽä¸€ä¸ªç´¢å¼•ä¹‹å‰çš„ä¸€ä¸ª
```
### æ–¹æ³•
```swift
print(s.uppercased())
print(s.lowercased())
print(s.capitalized) // å°†æ¯ä¸ªå•è¯è½¬ä¸ºé¦–å­—æ¯å¤§å†™
print(s.contains("å¦‚æžœ"))
print(s.hasPrefix("æˆ‘ "))
print(s.hasSuffix("è´¹"))
```
### NSString
```swift
print(NSString(format: "%.2f", 1.0 / 3.0) as String)
// æˆªå–
print(NSString("å¾®åˆ†åŽ»é—®é—®").substring(with: NSMakeRange(1, 3)))
// æ›¿æ¢ä¸¤è¾¹çš„å­—ç¬¦
print(NSString("-a-").trimmingCharacters(in: CharacterSet(charactersIn: "-")))
```
## å¯é€‰åž‹
```swift
var responseCode : Int? = 404
var responseMessage: String? = "success"
responseCode = nil
var code: Int! = 4
let a  = code // æ­¤æ—¶açš„ç±»åž‹æ˜¯Int?
let b: Int = code // å¯ä»¥è½¬ä¸ºInt
```
### è§£åŒ…
```swift
// å¼ºåˆ¶è§£åŒ…
print(responseCode!)
// åœ¨åˆ¤æ–­ä¸­è§£åŒ…
if let responseCode = responseCode {
    // è¿™é‡Œå‡ºçŽ°äº†å˜é‡é®è”½
    print(responseCode)
}
// åŒæ—¶åˆ¤æ–­è§£åŒ…å¤šä¸ª
if let responseCode = responseCode,
   let responseMessage = responseMessage {
    print(responseCode, responseMessage)
}
```
### å¯é€‰åž‹é“¾
```swift
if let responseMessage = responseMessage {
    print(responseMessage.uppercased)
}
// ç­‰åŒäºŽ
print(responseMessage?.uppercased)
// å¦‚æžœæ˜¯ nil åˆ™ message çš„å€¼ ä¸º message null
let message = responseMessage ?? "message null"
```
### åœ¨ç±»åº“ä¸­çš„ä½¿ç”¨
```swift
// ç±»åž‹è½¬æ¢ å¦‚æžœè½¬æ¢å¤±è´¥ å°±è¿”å›ž nil
if let age = Int("18"), age  = []
var es1 = [Int]()
// 5ä¸ªå…ƒç´ åˆå§‹å€¼ å…¨ä¸º5
var allZeros = [Int](repeating: 5, count: 5)
```
### åŸºæœ¬æ“ä½œ
```java
print(allZeros.count)
print(allZeros.isEmpty)
// æ•°ç»„è¶Šç•Œä¼šæœ‰è¿è¡Œå¼‚å¸¸
print(allZeros[3])
print(allZeros.first!, allZeros.last!)
print(nums.min()!, nums.max()!)
// å­æ•°ç»„ 1,2,3
print(nums[1.. = [:]
print(dict["name"]!)
print(Array(dict.keys))
print(Array(dict.values))
for key in dict.keys {
    print(dict[key]!)
}
for (key, value) in dict {
    print(key, value)
}
print(dict == ["name": "cxk", "age": "18"])
// æ›´æ–°
dict["name"] = "jntm"
// è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›žå…¶ä¹‹å‰çš„å€¼
dict.updateValue("jntm", forKey: "name")
// åˆ é™¤
dict["name"] = nil
dict.removeValue(forKey: "name")
dict.removeAll()
```
### Set
```swift
// å£°æ˜Ž
var set : Set = ["a", "b" , "c"]
for i in set {
    print(i)
}
print(set == ["b", "c", "a"])
set.insert("aa")
set.remove("c")
// é›†åˆè¿ç®—
print(set.union(["a","aa"]))
print(set.intersection(["a", "aa"]))
print(set.subtracting(["a", "aa"]))
print(set.symmetricDifference(["a", "aa"]))
```
## å‡½æ•°
### å®šä¹‰
```swift
// æœ‰å‚æ•°æœ‰è¿”å›žå€¼
func say(name: String, age: Int) -> String {
    return "jntm \(name) - \(age)"
}
// æ— å‚æ•°æ— è¿”å›žå€¼
func say() {
    print( "ctrl")
}
// è¿”å›žå¤šä¸ªå€¼
func request() -> (message: String, code: Int) {
    return ("not found", 404)
}
// è°ƒç”¨æ—¶ å¤šä¸ªå‚æ•°å¿…é¡»ä½¿ç”¨ å½¢å‚: å®žå‚ çš„å½¢å¼
print(say(name: "cxk", age: 18))
```
### å¤–å†…éƒ¨å‚æ•°å
```swift
// å¤–éƒ¨ä¸Žå†…éƒ¨å‚æ•°å
func request(url getUrl: String) {
    print(getUrl)
}
request(url: "http://baidu.com")
// å¿½ç•¥å¤–éƒ¨å‚æ•°å
func request(_ url: String, _ method: String) {}
request("baidu.com", "get")
```
### é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°
```swift
// å¯å˜å‚æ•°ä¸åƒå…¶ä»–è¯­è¨€ å¯ä»¥ä¸æ”¾åœ¨æœ€åŽ å¯å˜å‚æ•°æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„
func request(url: String, method: String = "get", params: String ...){}
request(url: "baidu.com", params: "sds", "dfsds")
```
### å¼•ç”¨å‚æ•°
```swift
// é»˜è®¤å‚æ•°å€¼å’Œå¯å˜å‚æ•°
// å¯å˜å‚æ•°ä¸åƒå…¶ä»–è¯­è¨€ å¯ä»¥ä¸æ”¾åœ¨æœ€åŽ å¯å˜å‚æ•°æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„
func request(url: String, method: String = "get", params: String ...){}
request(url: "baidu.com", params: "sds", "dfsds")
// å½¢å‚é»˜è®¤éƒ½æ˜¯ä¸å¯å˜çš„
// ä½¿ç”¨ inout å…³é”®å­— ç›¸å½“äºŽä¸€ä¸ªæŒ‡é’ˆ
func request(url: inout String){
    url = "google.com"
}
var u = "dsds"
request(url: &u)
print(u)
```
### å‡½æ•°å¼ç¼–ç¨‹
```swift
func submit(runnable: () -> ()) {
    runnable()
}
func print(){
    print("running")
}
// ç¬¬ä¸€ç§è°ƒç”¨
submit(runnable: print)
// ç¬¬äºŒç§è°ƒç”¨
submit {
    print("hhh")
}
// ä¼ é€’ä¸€ä¸ªå‚æ•°
func submit(consumer: (String) -> ()){
    consumer("ikun")
}
submit { params in
    print(params)
}
// å‡½æ•°å¼ç¼–ç¨‹ä¸‰å¤§æ“ä½œ
print([1,2,3].map{ v in v + 1})
print([1,2,3].filter{ v in v % 2 == 0})
print([1,2,3].reduce(10, {x, y in x + y}))
// è¿”å›žå‡½æ•°ç±»åž‹
func getFuture() -> () -> () {
    return {
        print("this is future")
    }
}
getFuture()()
// å‡½æ•°åµŒå¥—
func execute(){
    func innerFunc(){
        print("hello world")
    }
    innerFunc()
}
execute()