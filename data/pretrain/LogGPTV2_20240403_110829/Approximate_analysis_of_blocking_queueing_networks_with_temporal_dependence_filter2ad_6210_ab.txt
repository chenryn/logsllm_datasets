We now give examples of the state space underlying a
MAP queueing network with BAS blocking. For the sake
of simplicity, we omit the state component ğ‘ğ‘– since it can
i.e., ğ‘ğ‘– = 1 if and only if ğ‘– âˆˆ ğ’.
be simply derived,
We consider an example model with ğ‘€ = 3queues where
queue 1 is a ï¬nite capacity station with MAP service, queues
2 and 3 have exponential service and inï¬nite capacities.
Figure 1(a) illustrates the model with routing probabilities. The
exponential queues have rates ğœ‡2 and ğœ‡3, the MAP completes
jobs in phase 1 with rate ğœ‡1.
The underlying Markov process for the case with ğ‘ = 3,
ğ¹1 = 2 and assuming queue 1 in phase 1,
is shown in
Figure 1(b). For ease of illustration, MAP phase change
Finite Capacity
p11
MAP
Queue 1
p12
p13
M
Î¼2
p    =1
21
Queue 2
M
Î¼3
Queue 3
p    =1
31
(a) Model
Âµ3
Âµ1p13
Âµ3
Âµ1p13
Âµ3
Âµ1p13
(2,1),0,1
Âµ1p12
Âµ2
(1,1),1,1
Âµ1p12
Âµ2
(0,1),2, 1
Âµ3
Âµ1p13
Âµ3
Âµ1p13
(1,1),0,2
Âµ1p12
Âµ2
(0,1),1,2
Âµ3
Âµ1p13
(0,1),0,3
Queue 3 Active
Queue 3 Blocked
Âµ1p13
(2,[2],1) 1 0
Âµ2
Âµ1p12
Queue 3 Idle
(2,[3],1),0,1
Âµ1p12
(2,1) 1 0
Âµ1p12
Âµ2
(1,1),2,0
Âµ1p12
Âµ2
(1,1),3,0
(b) State space for ğ‘ = 3 and ğ¹1 = 2 assuming queue 1 in phase 1. State
notation is ((ğ‘›1, ğ’, ğ‘˜1), ğ‘›2, ğ‘›3), ğ’ = âˆ… is omitted.
Fig. 1. Example network with 2 inï¬nite capacity exponential queues
and a MAP queue with ï¬nite capacity
transitions are omitted, thus this partition is similar to the state
space where the service at the MAP is exponential with rate
ğœ‡1. We point to [5] for ï¬gures illustrating the effects of phase
changes in the MAP queueing network state space. Figure 1(b)
classiï¬es the activity of queue 3 into â€œactiveâ€ (ğ‘›3 > 0 and
ğ‘3 = 0), â€œidleâ€ (ğ‘›3 = 0 and ğ‘3 = 0), or â€œblockedâ€ (ğ‘›3 > 0
and ğ‘3 = 1). This classiï¬cation is useful to understand the
different rates of departure from queue 3 across the state space.
The states where queue 3 is active are the only states that
contribute to the standard departure transitions out from queue
3. The state ((2, [3], 1), 0, 1) in the blocked subspace denotes
the case where queue 3 is blocked (ğ’ = [3]) since queue 3 has
previously completed a job to be sent to queue 1 while this was
full. As soon as queue 1 completes a job, two simultaneous
transitions take place moving the current state to ((2, 1), 1, 0)
in the idle subspace of queue 3 if the job completed by queue
1 is routed to queue 2. The current state becomes ((2, 1), 0, 1)
in the active subspace of queue 3 if the completed job is
routed to queue 3 which thus restarts immediately service after
unblocking. Such simultaneous transitions are a distinctive
characteristic of the state space due to BAS blocking.
To further appreciate the complexity of bound analysis
for the BAS state space, Figure 2 illustrates a case where
two queues can be blocked. Observe the changes in the
BAS state space level compared to Figure 1. Let us now
assume ğ¹1 = 1, inï¬nite capacities for queues 2 and 3, and
ğ‘ = 3 jobs in the network. For simplicity of graphical
representation, the phase ğ‘˜1 is omitted being always equal
to 1. Figure 2 shows the totally different structure of the state
space. When the system is in the state (1, 1, 1) all queues are
active. If queue 2 completes a job, the current state becomes
((1, [2], 1), 1, 1) where queue 2 is blocked (ğ’ = [2]). If from
this state queue 3 completes a job, the transition leads to state
((1, [2, 3], 1), 1, 1), where both queues 2 and 3 are blocked
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:27:39 UTC from IEEE Xplore.  Restrictions apply. 
576(1 [3,2]) 1 1
Î¼1 13p
Î¼ p1 12
Î¼1 13p
(1 [2,3]) 1 1
Î¼ p1 12
(1 [3]) 0 2
Î¼1p12
Î¼3 Î¼1 13p
(1 [2]) 1 1
Î¼1 13p
1 0 2
Î¼1 13p
Î¼ p1 12
Î¼2
Î¼3
0 1 2
Î¼3
0 0 3
Î¼3
Î¼ p1 12
Î¼2
1 1 1
Î¼1 13p
Î¼2
(1 [3]) 1 1
Î¼1 13p
Î¼3
Î¼ p1 12
Î¼3
Î¼2
Î¼ p1 12
(1 [2]) 2 0
Î¼1 13p
Î¼ p1 12 Î¼2
1 2 0
Î¼1 13p
Î¼ p1 12
Î¼2
0 2 1
0 3 0
(a) State space for ğ‘ = 3 and ğ¹1 = 1 assuming queue 1 in phase
1. State notation is ((ğ‘›1, ğ’, ğ‘˜1), ğ‘›2, ğ‘›3), ğ’ = âˆ… and all phases
ğ‘˜1 = 1 are omitted.
Fig. 2. Example model 1 when several queues are blocked
(ğ’ = [2, 3]). According to the FBFU unblocking rule, when
queue 1 completes a job, queue 2 is unblocked ï¬rst with a
transition to the state ((1, [3], 1), 1, 1) if the completed job is
routed to queue 2, or to state ((1, [3], 1), 0, 2) if the completed
job is routed to queue 3. This illustrates transitions that do
not exist in non-blocking queueing networks and thus which
require specialized characterization for bounding purposes. To
obtain such a characterization, we develop in Theorem 5 a
new class of balance conditions that is able to describe also
the state space illustrated in Figure 2.
B. Quadratic Reduction (QR) of BAS State Space
Denote with ğœ‹(s) the equilibrium probability of state s âˆˆ
ğ¸ğµğ´ğ‘† in the blocking MAP queueing network. We formulate
the quadratic reduction for the BAS case as follows. We
consider the following marginal probability
ğœ‹(ğ‘›ğ‘–, ğ‘˜ğ‘–, ğ‘›ğ‘—, ğ‘˜ğ‘—, ğ’)
(1)
which is called QR marginal probability and describes the joint
state of queues ğ‘– and ğ‘— in phases ğ‘˜ğ‘– and ğ‘˜ğ‘— while the queues
in ğ’ are blocked by ğ‘“. This formula is immediately obtained
by summing ğœ‹(s) over the states with the considered values of
ğ‘›ğ‘–, ğ‘˜ğ‘–, ğ‘›ğ‘—, ğ‘˜ğ‘—, and ğ’. The main advantage of the QR marginal
probability over the original state space representation is that
is scales only quadratically with the total population size,
which is by far the largest parameter of the queueing network
model speciï¬cation. Thus, this provides substantial savings
with respect to a direct state space evaluation by global balance
that involves ğ‘‚(ğ‘ ğ‘€ ) unknown probabilities.
The goal of the next sections is to develop a characterization
of the balance conditions that relate different values of the QR
marginal probabilities. Previous work has shown that relations
between marginal probabilities can be insufï¬cient for an exact
solution of the queueing network model, but they can be
exploited to determine bounds on performance indexes using
linear programming [5]. We show later in Section IV that this
holds true also for MAP queueing networks both with BAS
and RS-RD blocking.
Common metrics such as utilization, throughput, response
times, and queue-lengths can be immediately computed from
the QR marginal probabilities. For example, the utilization of
queue ğ‘– is
ğ‘ˆğ‘– =
âˆ‘
âˆ‘
(ğ‘›ğ‘— ,ğ‘˜ğ‘— ,ğ‘˜ğ‘–,ğ’)
ğ‘›ğ‘–â‰¥1
ğœ‹(ğ‘›ğ‘–, ğ‘˜ğ‘–, ğ‘›ğ‘—, ğ‘˜ğ‘—, ğ’)
whereas the effective utilization that describes the activity of
a queue excluding its blocking time is
ğ¸ğ‘– =
ğ¸ğ‘˜ğ‘–
ğ‘–
ğ¾ğ‘–âˆ‘
ğ‘˜ğ‘–=1
âˆ‘
âˆ‘
where the effective utilization [3] of phase ğ‘˜ğ‘– is
ğ¸ğ‘˜ğ‘–
ğ‘– =
(ğ‘›ğ‘— ,ğ‘˜ğ‘— ,ğ’)
ğ‘›ğ‘–â‰¥1 ğ‘– /âˆˆğ’
ğœ‹(ğ‘›ğ‘–, ğ‘˜ğ‘–, ğ‘›ğ‘—, ğ‘˜ğ‘—, ğ’)
Note that ğ¸ğ‘– = ğ‘ˆğ‘– if and only if ğ‘– = ğ‘“ or ğ‘– cannot be blocked
by ğ‘“ due to the network topology. The effective utilization
takes into account the productive utilization of a queue, that is
the period of time the queue is busy and it is not blocked, so it
can produce useful work. Other measures such as mean queue-
lengths, throughput, or response times are similarly deï¬ned.
For example, the throughput may be obtained as an effective
utilization divided by the product of mean number of visits
and mean service times [3].
C. Basic Characterization Results
The ï¬rst basic characterization result for QR marginal
probabilities in a BAS setting follows by the equilibrium of
the MAP service processes. During the period where queue ğ‘–
is actively serving a job, the MAP service process behaves at
equilibrium in the same way of the same MAP considered in
isolation, since we are assuming that the queue is never idle
nor blocked. This equivalence introduces a balance between
QR marginal probabilities relative to different phases.
Theorem 1: The effective utilization of queue ğ‘– for phase ğ‘˜
satisï¬es at equilibrium
ğ‘€âˆ‘
ğ¾ğ‘–âˆ‘
ğ‘€âˆ‘
ğ¾ğ‘–âˆ‘
ğ‘ğ‘˜,â„
ğ‘–,ğ‘— ğ¸ğ‘˜
ğ‘– =
ğ‘â„,ğ‘˜
ğ‘–,ğ‘— ğ¸â„
ğ‘– ,
(2)
ğ‘—=1
â„=1
â„âˆ•=ğ‘˜ if ğ‘—=ğ‘–
ğ‘—=1
â„=1
â„âˆ•=ğ‘˜ if ğ‘—=ğ‘–
for ğ‘– = 1, . . . , ğ‘€ and ğ‘˜ = 1, . . . , ğ¾ğ‘–.
Proof: Consider a partitioning of the state space into two
subsets: ğºğ‘–,ğ‘˜ where queue ğ‘– is in phase ğ‘˜ and its comple-
mentary set of states Â¯ğºğ‘–,ğ‘˜ where queue ğ‘– is in phase â„ âˆ•= ğ‘˜.
By basic properties of Markov processes,
the equilibrium
probability ï¬‚ux exchanged by ğºğ‘–,ğ‘˜ and Â¯ğºğ‘–,ğ‘˜ at equilibrium
must be balanced. However, this is only due to phase changes
that occur in the MAP, with or without an associated departure
from ğ‘–. The left hand side represents phase changes moving
the current phase from ğ‘˜ to any â„, whereas the right hand
side is the probability ï¬‚ux due to phase changes that move
the active phase into ğ‘˜. Note that the condition â„ âˆ•= ğ‘˜ if ğ‘— âˆ•= ğ‘–
ignores phase self-routing of jobs that do not change the active
phase.
Another characterization result follows by observing that the
total population of jobs in each state of the underlying Markov
chain sums to ğ‘. This implies that the sum of the conditional
ï¬rst moment of queue lengths is constant.
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:27:39 UTC from IEEE Xplore.  Restrictions apply. 
577Theorem 2: The QR marginal probabilities for BAS block-
ing satisfy the following constraints
ğ‘›ğ‘–ğœ‹(ğ‘›ğ‘–, ğ‘˜ğ‘–, ğ‘›ğ‘—, ğ‘˜ğ‘—, ğ’) = ğ‘ ğœ‹(ğ‘›ğ‘—, ğ‘˜ğ‘—, ğ’)
(3)
ğ‘€âˆ‘
ğ¾ğ‘–âˆ‘
ğ¹ğ‘–âˆ‘
ğ‘–=1
ğ‘˜ğ‘–=1
ğ‘›ğ‘–=1
for all ğ‘— = 1, . . . , ğ‘€, ğ‘›ğ‘— = 0, . . . , ğ¹ğ‘—, ğ‘˜ğ‘— = 1, . . . , ğ¾ğ‘—, and
for all lists of blocked queues ğ’.
ğ‘–=1
ğ’”âˆˆğ‘†
ğœ‹(ğ’”)