[60] N. Theera-Ampornpunt, T. Mangla, S. Bagchi, R. Panta, K. Joshi, M. Ammar, and
E. Zegura. 2016. TANGO: Toward a More Reliable Mobile Streaming through
Cooperation between Cellular Network and Mobile Devices. In 2016 IEEE 35th
Symposium on Reliable Distributed Systems (SRDS). 297–306.
[61] S. Venugopalan, M. Rohrbach, J. Donahue, R. Mooney, T. Darrell, and K. Saenko.
2015. Sequence to Sequence – Video to Text. In 2015 IEEE International Conference
on Computer Vision (ICCV). 4534–4542.
[62] Xiufeng Xie, Xinyu Zhang, Swarun Kumar, and Li Erran Li. 2016. PiStream: Physi-
cal Layer Informed Adaptive Video Streaming Over LTE. GetMobile: Mobile Comp.
and Comm. 20, 2 (Oct. 2016), 31–34. https://doi.org/10.1145/3009808.3009819
[63] Qiang Xu, Sanjeev Mehrotra, Zhuoqing Mao, and Jin Li. 2013. PROTEUS: Net-
work Performance Forecast for Real-Time, Interactive Mobile Applications. In
Proceeding of the 11th Annual International Conference on Mobile Systems, Appli-
cations, and Services (MobiSys ’13). Association for Computing Machinery, New
York, NY, USA, 347–360. https://doi.org/10.1145/2462456.2464453
[64] Xiaoqi Yin, Abhishek Jindal, Vyas Sekar, and Bruno Sinopoli. 2015. A Control-
Theoretic Approach for Dynamic Adaptive Video Streaming over HTTP. In
Proceedings of the 2015 ACM Conference on Special Interest Group on Data Com-
munication (SIGCOMM ’15). Association for Computing Machinery, New York,
NY, USA, 325–338. https://doi.org/10.1145/2785956.2787486
[65] Yunfei Zhang, Gang Li, Chunshan Xiong, Yixue Lei, Wei Huang, Yunbo Han,
Anwar Walid, Y. Richard Yang, and Zhi-Li Zhang. 2020. MoWIE: Toward
Systematic, Adaptive Network Information Exposure as an Enabling Tech-
nique for Cloud-Based Applications over 5G and Beyond (Invited Paper). In
Proceedings of the 2020 Workshop on Network Application Integration/CoDe-
sign, NAI@SIGCOMM 2020, Virtual Event, USA, August 14, 2020. ACM, 20–27.
https://doi.org/10.1145/3405672.3409489
[66] Hang Zhao, Rimma Mayzus, Shu Sun, Mathew Samimi, Jocelyn K Schulz, Yaniv
Azar, Kevin Wang, George N Wong, Felix Gutierrez Jr, and Theodore S Rappa-
port. 2013. 28 GHz millimeter wave cellular communication measurements for
reflection and penetration loss in and around buildings in New York city.. In ICC.
5163–5167.
[67] Kun Zhao, Jakob Helander, Daniel Sjöberg, Sailing He, Thomas Bolin, and Zhi-
nong Ying. 2016. User body effect on phased array in user equipment for the 5G
mmWave communication system. IEEE antennas and wireless propagation letters
16 (2016), 864–867.
[68] K. Zhao, J. Helander, D. Sjöberg, S. He, T. Bolin, and Z. Ying. 2017. User Body
Effect on Phased Array in User Equipment for the 5G mmWave Communication
System. IEEE Antennas and Wireless Propagation Letters 16 (2017), 864–867.
[69] Yibo Zhu, Zengbin Zhang, Zhinus Marzi, Chris Nelson, Upamanyu Madhow,
Ben Y. Zhao, and Haitao Zheng. 2014. Demystifying 60GHz Outdoor Picocells. In
Proceedings of the 20th Annual International Conference on Mobile Computing and
Networking (MobiCom ’14). Association for Computing Machinery, New York,
NY, USA, 5–16. https://doi.org/10.1145/2639108.2639121
[70] Xuan Kelvin Zou, Jeffrey Erman, Vijay Gopalakrishnan, Emir Halepovic, Rit-
twik Jana, Xin Jin, Jennifer Rexford, and Rakesh K. Sinha. 2015. Can Accurate
Predictions Improve Video Streaming in Cellular Networks?. In Proceedings of
the 16th International Workshop on Mobile Computing Systems and Applications
(HotMobile ’15). Association for Computing Machinery, New York, NY, USA,
57–62. https://doi.org/10.1145/2699343.2699359
A APPENDICES
A.1 5G Throughput Performance Impact
Factor Analysis: Extended Results
A.1.1
Impact of Geolocation. Fig. 17 shows extended results
for the normality and Levene tests for §4.1. Using a significance
value of (0.001), the normality test shows that throughput mea-
surements of roughly 48% of geolocations (i.e., almost half the
area) at the indoor (Airport) do not follow normal distribution;
similarly for the outdoor (Intersection) the percentage of geolo-
cations is ∼33%. Using a significance value of (0.1), the Levene test
shows that the variances of throughput measurements of 64.26%
and 61.06% of the geolocation pairs significantly differ from each
other for the Indoor (Airport) and the outdoor (Intersection),
respectively.
Figure 17: Indoor v/s Outdoor: Normality & Levene Tests.
A.1.2
(Indoor) Impact of Mobility Direction. With the same mo-
bility direction, 78.05% of geolocations have throughput samples
that are normally distributed – an increase of over 25%, compared
to the case when mobility direction is ignored as shown in Table 4.
As for the pairwise t-test, with the consideration of the mobility
direction information, 80.87% of the geolocation pairs have sig-
nificantly different throughput means (i.e., an increase of 10.01%).
Moreover, 29.76% of geolocations have throughput samples with
CV values greater than 50% – a decrease of 23% when mobility
direction was ignored. This indicates that the variances of through-
put samples at a given geolocation decreases when the mobility
direction is accounted for. Fig. 19 shows extended results for the
impact of mobility direction of the indoor (Airport) area in §4.2
of both trajectories (NB, SB) as well as the combined trajectories
when the mobility direction is ignored (NB+SB).
Fig. 20 shows the 12 trajectories of the outdoor (Intersection)
area as well as the impact when the mobility direction is accounted
0.000.050.100.150.20normalitytest(p-val)0.000.250.500.751.00CDFIndoorOutdoor0.000.050.100.150.20Levenetest(p-val)0.000.250.500.751.00CDFIndoorOutdoorIMC ’20, October 27–29, 2020, Virtual Event, USA
Arvind Narayanan, Eman Ramadan, Rishabh Mehta, Xinyue Hu, et al.
Figure 18: Impact of UE-Panel Mobility Angle 𝜃𝑝 by individual 5G panels on 5G throughput at the Airport area.
Figure 19: (Indoor) Impact of Mobility Trajectory on
Normality Test, t-test, Levene Test & CV.
for v/s. when it is ignored. The same observation still holds: con-
sidering mobility direction information significantly reduces the
variances of throughput samples at a given geolocation.
A.1.3
Impact of UE-Panel Mobility Angle. Fig. 18 shows the
effect of the UE-panel mobility angle 𝜃𝑚 on 5G throughput w.r.t.
the south and north panels. We can notice that, for both panels,
throughput is high when the UE is moving straight towards either
panels – i.e., 𝜃𝑚 is in the range [165°, 180°) (see illustration of 𝜃𝑚
values in Fig. 8). South panel seems to have a better coverage as
the UE can achieve relatively good throughput even while moving
away from the panel (i.e., when 𝜃𝑚 in [30°, 75°]). For certain ranges
such as [210°, 240°) for the south panel and [90°, 120°) for the north
Figure 20: (Outdoor) Impact of Mobility Trajectory.
panel), poor throughput is observed most likely due to poor NLoS
path in the airport’s mall-area.
A.1.4 Congestion with other UEs. When multiple UEs connect
to the same 5G panel, how does 5G throughput get affected? To
answer this question, we perform an experiment in the Airport
area by placing multiple UEs side-by-side such that they all fall in
the coverage footprint of a single 5G panel. We decide on a location
that is at a distance of ∼25m from the 5G panel with clear line of
sight (LoS). We use 4 UEs – 𝑈 𝐸1, 𝑈 𝐸2, 𝑈 𝐸3, 𝑈 𝐸4 – where each of
the UEs is scheduled to start an iPerf session such that the ses-
sion start timestamps of each device are separated by a gap of 1
minute and the end timestamps are the same for all devices. Each
iPerf session on a UE is at least 1 minute long (thus, each set of
experiment with all the 4 UEs was 4-minute long, see Fig. 21). This
allowed us to overlap iPerf sessions running on separate UEs that
are connected to the same 5G panel and observe the impact of the
“artificially induced” congestion. iPerf servers are running on VMs
provisioned in different public clouds (e.g., Google Cloud, Amazon
[0,15)[15,30)[30,45)[45,60)[60,75)[75,90)[90,105)[105,120)[120,135)[135,150)[150,165)[165,180)[180,195)[195,210)[210,225)[225,240)[240,255)[255,270)[270,285)[285,300)[300,315)[315,330)[330,345)[345,360]UE-PanelMobilityAngleinDegrees(rangeofθpin◦)040080012001600Throughput(Mbps)NorthPanel[0,15)[15,30)[30,45)[45,60)[60,75)[75,90)[90,105)[105,120)[120,135)[135,150)[150,165)[165,180)[180,195)[195,210)[210,225)[225,240)[240,255)[255,270)[270,285)[285,300)[300,315)[315,330)[330,345)[345,360]UE-PanelMobilityAngleinDegrees(rangeofθpin◦)040080012001600Throughput(Mbps)SouthPanel0.000.050.100.150.20normalitytest(p-val)0.000.250.500.751.00CDFNB+SBNBonlySBonly0.000.050.100.150.20t−test(p-val)0.000.250.500.751.00CDFNB+SBNBonlySBonly0.000.050.100.150.20Levenetest(p-val)0.000.250.500.751.00CDFNB+SBNBonlySBonly0255075100125CV(in%)0.000.250.500.751.00CDFNB+SBNBonlySBonly0255075100CV(in%)0.00.20.40.60.81.0CDFAllt2onlyt4onlyt5onlyt1onlyd4onlyt6onlyd2onlyd3onlyd1onlyt8onlyt3onlyt7only0255075100CV(in%)0.00.20.40.60.81.0CDFAllt2onlyt4onlyt5onlyt1onlyd4onlyt6onlyd2onlyd3onlyd1onlyt8onlyt3onlyt7onlyLumos5G: Mapping and Predicting Commercial mmWave 5G Throughput
IMC ’20, October 27–29, 2020, Virtual Event, USA
Table 10: Summary of Factors Affecting 5G Throughput and Its Predictability for the Outdoor (Intersection) Area.
Results ⇒
⇓ UE-Side Factors
(1) Geolocation
(2) Mobility + (1)
⊢ UE-Panel Distance
⊢ UE-Panel Positional Angle
⊢ UE-Panel Mobility Angle
⊢ Moving Speed
CV
Norm. Test
Sp. Coeff.
KNN
Statistical Analysis
Simple Pred. Models
RF [20, 54]
(mean ±std. dev. ) (p-val. > 0.001) (mean ±std. dev. ) MAE RMSE MAE RMSE
52.83% ±20.28
258 336
0.17 ±0.36
297 376
66.54%
43.08% ±20.30
84.17%
0.49 ±0.08
258 337
238 310
Figure 21: Impact on 5G throughput perceived by a single
UE when multiple UEs are connected to the same 5G panel.
Web Services, Microsoft Azure). To avoid Internet being the bottle-
neck, we take 2 approaches. (1) We repeatedly run the experiment
sets. (2) We shuffle the UE-VM combination in each iteration to en-
sure no device-side or server-side issues affect the experiment, and
additionally to reduce the impact of Internet being the bottleneck.
Fig. 21 shows a representative run of this experiment and reports
the throughput perceived by 𝑈 𝐸1 – the device that ran for the en-
tire 4-minute long duration. In the first minute when 𝑈 𝐸1’s iPerf
session was running alone, we see great throughput performance
of more than 1.5 Gbps. However, as soon as 𝑈 𝐸2 started its session,
𝑈 𝐸1’s throughput nearly halved. Although not shown, 𝑈 𝐸2 also
experienced similar throughput as that seen on 𝑈 𝐸1. Since these ex-
periments were done during late night hours, we believe there was
little to no impact on our experiments by other passengers in the
airport who might also potentially be using 5G service in this area.
We see similar behavior when the iPerf sessions of 𝑈 𝐸3 and 𝑈 𝐸4
started. This experiment highlights another UE-side factor impact-
ing 5G throughput which practically reflects a “dynamic” factor or
the time-of-day effect. Since we did not have the information on the
number of users actively served by different 5G towers at a certain
time, we could not account for this factor in this paper. However,
due to the expandable nature of feature groups in Lumos5G, we
believe 5G carriers can extend and adapt the feature groups and
use the number of subscribers connected to a 5G panel as another
input feature to further improve 5G throughput prediction in real
deployments.
A.1.5
Statistical Analysis for Intersection Area. Similar to Table 4
which represented the Indoor/Airport area in main text, Table 10
summarizes the statistical analysis of the Outdoor (Intersection)
Figure 22: Feature Importance using GDBT.
area. The observations made for Indoor area also hold true for the
Outdoor area: (i) Geolocation alone is insufficient to characterize &
predict 5G throughput, but it still remains a key factor; (ii) Along
with geolocation, accounting for mobility-related factors decreases
variation in 5G throughput and improves its predictability.
A.2 Feature Importance
Using GDBT’s ability to report global feature importance, Fig. 22
shows the feature importance score in 5G throughput prediction.
This score is a value between 0 and 100% where scores of all features
sum up to 100%. We make the following key observations: (1) In
general, there is no single feature that dominates the throughput
prediction problem in 5G. For instance, in the case of T+M+C, we see
connection status (Radio Type/Strength), UE-Panel mobility angle,
UE-Panel distance, UE-Panel positional angle, and UE’s moving
speed all show significant importance in predicting the throughput.
This observation is additional evidence that accounting for interplay
between different types of features yields better performance than
01234Timeline(inminutes)0500100015002000Throughput(inMbps)Singleclientdownload2×concurrentdownload3×concurrentdownload4×concurrentdownloadUE1PerceivedThroughput020406080100FeatureImportance(in%)LL+MT+ML+M+CT+M+CLL+ML+M+CLL+MT+ML+M+CT+M+CLL+MT+ML+M+CT+M+C100.058.522.818.735.928.125.110.935.127.913.811.911.327.219.219.216.310.77.4Global⇓100.047.631.421.042.624.215.39.68.3Loop(Outdoor)⇓100.059.525.215.342.726.618.412.333.428.525.911.732.921.019.811.511.4Airport(Indoor)⇓100.054.024.022.031.030.027.012.039.922.316.215.721.921.821.720.08.24-wayIntersection(Outdoor)⇓LocationCoordinatesUECompassDirectionMovingSpeedUE-TowerDistanceUE-PanelMobilityAngleUE-PanelAngleRadioTypeOthersIMC ’20, October 27–29, 2020, Virtual Event, USA
Arvind Narayanan, Eman Ramadan, Rishabh Mehta, Xinyue Hu, et al.
only considering location-based features. (2) It is also interesting to
find that the performance of both L+M and T+M feature groups are
comparable to each other. When considered within a single region,
this observation is intuitive as both L+M and T+M are the same, it is
just that the former’s features are from the UE’s perspective while
the latter is purely from the 5G panel’s perspective.
A.3 Performance Improvement of Lumos5G
Over Existing Baselines
Figure 23: Performance Comparison with existing models
on Intersection, Airport & Loop Areas.
In Fig. 23, we compare the performance of our models to existing
approaches in different areas using feature groups. Approaches us-
ing naive location-based models (L) and spatial interpolation meth-
ods (OK) perform poorly compared to our models which account for
mobility and connection information. Our models achieve 16% to
113% higher w-avgF1 than pure-location based Kriging method, and
achieve 5% to 88% higher w-avgF1 than pure-location based KNN
and RF models. This shows the importance of mobility and con-
nection features for 5G throughput prediction. Our results clearly
indicate the superiority of both Seq2Seq and GDBT models over
existing throughput prediction methods.
A.4 4G v/s. 5G Throughput Prediction
In 3G/4G, location alone is known to be useful for predicting cel-
lular performance [43, 56]. To further investigate, we construct
a dataset by holding two 5G smartphones side-by-side, one con-
nected to 4G network and the other to 5G, and walk the 1300m
loop mentioned earlier for over 30 times spanning across multiple
days, and log the perceived throughput traces. We then apply ex-
isting approaches such as KNN classifier, OK [26], RF [20] which
are known to work well for 4G throughput estimation on 5G traces.
Results show that the mean absolute error (MAE) on 4G traces is
about [29.01, 69.13, 25.94] Mbps for KNN, OK and RF, respectively,
while the same approaches on 5G traces show the MAE to be 10×
higher – [325.95, 625.83, 339.57] Mbps, respectively. These results
exemplifies that while existing models work well for predicting
4G throughput, but are unable to predict 5G throughput. This is
because such methods are unable to account for the sensitivity
of mmWave-based 5G to the environment – a small perturbation
(e.g., device orientation, moving direction, moving speed) affects 5G
performance as discussed earlier in §4. Thus, geolocation alone is
infeasible to estimate mmWave based 5G performance as shown in
§6. In this paper, we propose Lumos5G framework that generalizes
the classical location-based cellular performance prediction into
context-aware prediction problem. The framework shows that in
future, a data driven model could potentially use a wide range of
contextual and environmental data such as location, time, mobility
level, moving orientation, traffic information, etc. to model and
predict 5G (all bands) + LTE + other lower band performance to
account for several challenges faced by mmWave.
LL+M+CIntersection0.00.51.0WeightedAvg.F-1ScoreLL+M+CAirportLL+M+CLoopOKKNNRFGDBTSeq2Seq