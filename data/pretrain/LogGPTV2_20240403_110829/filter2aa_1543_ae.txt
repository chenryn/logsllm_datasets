Comments
Centralized security
management
One AWS
account
Centralizes information security
management and minimal overhead.
Separation of production,
development, and testing
environments
Three AWS
accounts
One account each for production,
development, and the testing environment.
Overview of Security in AWS
[ 26 ]
Multiple autonomous
departments
Multiple AWS
accounts
One account each for every autonomous
department of
organization.
Assigns access control and permissions for
every single account. Benefits from
economies of scale.
Centralized security
management
with
multiple autonomous
independent projects
Multiple AWS
accounts
Creates one AWS account for shared
project resources such as Domain Name
Service, User Database, and so on. Create
one AWS account for each autonomous
independent project and grant them
permissions at
granular
level.
Table 3 - AWS account strategies
Having multiple AWS accounts also helps in decreasing your blast radius and reducing
your disaster recovery time. So if there is something wrong with one AWS account, the
impact will be minimal on running business operations, as other accounts will be working
as usual along with their resources. Having multiple AWS accounts also increases security
by segregating your resources across accounts based on the principle of least privilege.
AWS credentials 
AWS uses several types of credentials for authentication and authorization as follows: 
Passwords
Multi-factor authentication
Access keys
Key pairs
X.509 certificates
We will have a detailed look at these credentials in Chapter 2, AWS Identity and Access
Management. 
Overview of Security in AWS
[ 27 ]
Individual user accounts
AWS provides a centralized web service called AWS IAM for creating and managing
individual users within your AWS Account. These users are global entities. They can access
their AWS account through the command line interface (CLI), through SDK or API, or
through the management console using their credentials. We are going to have a detailed
look at IAM in the next chapter.
Secure HTTPS access points
AWS provides API endpoints as a mechanism to securely communicate with their services;
for example, https:/​/​dynamodb.​us-​east-​1.​amazonaws.​com is an API endpoint for AWS
DynamoDB (AWS NoSQL service) for us-east-1 (Northern Virginia) region. These API
endpoints are URLs that are entry points for an AWS web service. API endpoints are secure
customer access points to employ secure HTTPS communication sessions for enabling better
security while communicating with AWS services. HTTPS uses Secure Socket Layer (SSL) /
Transport Layer Security (TLS) cryptographic protocol that helps prevent forgery,
tampering and eavesdropping. The identity of communication parties is authenticated 
using public key cryptography.
Security logs
Logging is one of the most important security feature of AWS. It helps with auditing,
governance and compliance in cloud. AWS provides you with AWS CloudTrail that logs all
events within your account, along with the source of that event at 5 minute interval, once it
is enabled. It provides you with information such as the source of the request, the AWS
service, and all actions performed for a particular event.
AWS CloudTrail logs all API calls such as calls made through AWS CLI, calls made
programmatically, or clicks and sign-in events for the AWS Management Console.
AWS CloudTrail will store events information in the form of logs; these logs can be
configured to collect data from multiple regions and/or multiple AWS accounts and can be
stored securely in one S3 bucket. Moreover, these events can be sent to CloudWatch logs
and these logs could be consumed by any log analysis and management tools such as
Splunk, ELK, and so on.
Overview of Security in AWS
[ 28 ]
Amazon CloudWatch is a monitoring service that has a feature CloudWatch log that can be
used to store your server, application and custom log files and monitor them. These log files
could be generated from your EC2 instances or other sources such as batch processing
applications.
We are going to have a detailed look at the logging feature in AWS along with AWS
CloudTrail and Amazon CloudWatch in the subsequent chapters. 
AWS Trusted Advisor security checks 
The AWS Trusted Advisor customer support service provides best practices or checks
across the following four categories:
Cost optimization
Fault tolerance
Security
Performance
Let us look at alerts provided by the AWS Trusted Advisor for security categories. If there
are ports open for your servers in cloud, that opens up possibilities of unauthorized access
or hacking; if there are internal users without IAM accounts, or S3 buckets in your account
are accessible to the public, or if AWS CloudTrail is not turned on for logging all API
requests or if MFA is not enabled on your AWS root account, then AWS Trusted Advisor
will raise an alert. AWS Trusted Advisor can also be configured to send you an email every
week automatically for all your security alert checks. 
The AWS Trusted Advisor service provides checks for four categories; these is, cost
optimization, performance, fault tolerance, and security for free of cost to all users,
including the following three important security checks:
Specific ports unrestricted
IAM use
MFA on root account
Overview of Security in AWS
[ 29 ]
There are many more checks available for each category, and these are available when you
sign up for the business or enterprise level AWS support. Some of these checks are as
follows:
Security groups-Unrestricted access
Amazon S3 bucket permissions
AWS CloudTrail logging
Exposed access keys
The following figure depicts the AWS Trusted Advisor checks for an AWS account. We will
take a deep dive into the Trusted Advisor security checks later in this book:
Figure 10 - AWS Trusted Advisor checks
AWS Config security checks
AWS Config is a continuous monitoring and assessment service that records changes in the
configuration of your AWS resources. You can view the current and past configurations of a
resource and use this information to troubleshoot outages, conduct security attack analysis,
and much more. You can view the configuration at time and use that information to
reconfigure your resources and bring them into a steady state during an outage situation.
Overview of Security in AWS
[ 30 ]
Using Config Rules, you can run continuous assessment checks on your resources to verify
that they comply with your own security policies, industry best practices, and compliance
regimes such as PCI/HIPAA. For example, AWS Config provides managed Config rules to
ensure that encryption is turned on for all EBS volumes in your account. You can also write
a custom Config rule to essentially codify your own corporate security policies. AWS
Config send you alerts in real time when a resource is wrongly configured, or when a
resource violates a particular security policy.
The following figure depicts various rule sets in AWS Config; these could be custom rules
or rules provided out of the box by AWS:
Figure 11 - AWS Conﬁg Rules
AWS Security services
Now, let us look at AWS Security services. These are AWS services that primarily provide
ways to secure your resources in AWS. We'll briefly go over these services in this section as
all of these services are discussed in detail in the subsequent chapters.
Overview of Security in AWS
[ 31 ]
AWS Identity and Access Management 
AWS IAM enables customers to control access securely for their AWS resources and AWS
users. In a nutshell, IAM provides authentication and authorization for accessing AWS
resources. It supports accessing AWS resources through a web-based management console,
CLI, or programmatically through API and SDK. It has basic features for access control such
as users, groups, roles, and permissions as well as advanced features such as Identity
Federation for integrating with the customer's existing user database, which could be a
Microsoft Active Directory or Facebook, or Google. You can define granular permissions for
all your resources as well as use temporary security credentials for providing access to
external users outside of your AWS account.
AWS Virtual Private Cloud
AWS VPC is an IaaS that allows you to create your own VPN in the cloud. You can
provision your resources in this logically isolated network in AWS. This network can be
configured to connect to your on-premise data center securely. You can configure firewalls
for all your resources in your VPC at instance level and/or subnet level to control traffic
passing in and out of your VPC. VPC has a VPC flow log feature that enables you to collect
information regarding IP traffic of your VPC.
AWS Key Management System (KMS)
AWS KMS is a service that helps you manage keys used for encryption. There are multiple
options for KMS that include bringing your own keys and having them managed by KMS
along with those generated by AWS. This is a fully managed service and integrates with
other AWS Services such as AWS CloudTrail to log all activities for your KMS services. This
service plays an important role in securing the data stored by your applications by
encrypting them.
Overview of Security in AWS
[ 32 ]
AWS Shield
AWS shield protects your web applications running on AWS from managed Distributed
Denial of Service (DDoS) attacks. It is a fully managed service and has two variants,
standard and advanced. AWS shield standard is offered to all customers free of charge and
provides protection from most common attacks that target your applications or websites on
AWS. AWS shield advanced gives you higher levels of protection, integration with other
services such as web application firewalls, and access to the AWS DDoS response team.
AWS Web Application Firewall (WAF)
AWS WAF is a configurable firewall for your web applications, allowing you to filter traffic
that you want to receive for your web applications. It is a managed service and can be
configured either from the management console or through AWS WAF API, so you can
have security checkpoints at various levels in your application by multiple actors such as
developer, DevOps engineer, security analysts, and so on.
AWS CloudTrail
This is a logging service that logs all API requests in and out of your AWS account. It helps
with compliance, auditing, and governance. It delivers a log of API calls to an S3 bucket
periodically. This log can be analyzed by using log analysis tools for tracing the history of
events. This service plays a very important part in Security Automation and Security
Analysis.
AWS CloudWatch
This is a monitoring service that provides metrics, alarms and dashboards for all AWS
Services available in your account. It integrates with other AWS services such as
AutoScaling, Elastic Load Balancer, AWS SNS, and AWS Lambda for automating response
for a metric crossing threshold. It can also collect and monitor logs. AWS CloudWatch can
also be used to collect and monitor custom metrics for your AWS resources or applications.
Overview of Security in AWS
[ 33 ]
AWS Config
AWS Config is a service that lets you audit and evaluates the configuration of your AWS
resources. You can visit the historical configuration of your AWS resources to audit any
incident. It helps you with compliance auditing, operational troubleshooting, and so on.
You will use this service to make sure your AWS resources stay compliant and configured
as per your baseline configuration. This service enables continuous monitoring and
continuous assessment of configuration of your AWS resources.
AWS Artifact
This service gives you all compliance related documents at the click of a button. AWS
Artificat is a self service, on-demand portal dedicated to compliance and audit related
information along with select agreements such as business addendum and non disclosure
agreement, and so on.
Penetration testing
AWS allows you to conduct penetration testing for your own EC2 and Relational Database
Service (RDS) instances; however, you have to first submit a request to AWS. Once AWS
approves this request, you can conduct penetration testing and vulnerability scans for EC2
and RDS instances in your AWS account. We'll take a detailed look at penetration testing in
subsequent chapters.
AWS Security resources
AWS provides several resources to help you secure your workload on AWS. Let us look at
these resources.
Overview of Security in AWS
[ 34 ]
AWS documentation 
This is one of the best resources available for developers, system administrators, and IT
executives alike. It is free, comprehensive, and covers all AWS services including software
development kits for various languages and all AWS toolkits. You can find the AWS
documentation at https:/​/​aws.​amazon.​com/​documentation.
AWS whitepapers
These technical white papers are constantly updated with new services, and features added
for all services. It is free and covers a wide variety of topics for securing your network, data,
security by design, architecture, and so on. These white papers are written by professionals
inside and outside of AWS and they are available at https:/​/​aws.​amazon.​com/
whitepapers.
AWS case studies
AWS has case studies specific to industry, domain, technology, and solutions. They have
more than a million active customers across the globe and there are scores of case studies to
help you with your use case, irrespective of your industry, or size of your organization.
These case studies are available at https:/​/​aws.​amazon.​com/​solutions/​case-​studies.
AWS YouTube channel
AWS has numerous events such as AWS Summit, AWS Re:Invent, and so on throughout
the year around the globe. There are sessions on security at these events where customer
AWS and AWS partners share tips, success stories, ways to secure the network, data, and so
on. These videos are uploaded to the AWS channel on YouTube. This is a treasure trove for
learning about AWS services from the best in the business. There are multiple channels for
various topics and multiple languages. You can subscribe to the AWS YouTube channels
at https:/​/​www.​youtube.​com/​channel/​UCd6MoB9NC6uYN2grvUNT-​Zg. 
Overview of Security in AWS
[ 35 ]
AWS blogs
AWS has blogs dedicated to various topics such as AWS Security, AWS big data, AWS
DevOps, and so on. There are blogs for countries as well such as, AWS blog (China), AWS
blog (Brazil), and so on. There are blogs for technologies such as AWS .NET, AWS PHP, and
so on. You can subscribe to these blogs at https:/​/​aws.​amazon.​com/​blogs/​aws.
AWS Partner Network
When you require external help to complete your project on AWS, you can reach out to
professionals on the AWS Partner Network. These are organizations authorized by AWS as
consulting or technology partners. They can provide professional services to you for your
AWS requirements such as security, compliance, and so on. You can find more information
about them at https:/​/​aws.​amazon.​com/​partners.
AWS Marketplace
AWS marketplace is an online store where 3500+ products are available that integrate
seamlessly with your AWS resources and AWS services. Most of these offer a free trial
version of their products and these products are available for security as well as other
requirements. We'll have a detailed look at the AWS marketplace in the subsequent
chapters. You can visit AWS Marketplace at https:/​/​aws.​amazon.​com/​marketplace.
Summary
Let us recap what we have learnt in this chapter:
We learnt about the shared security responsibility models of AWS. We found that AWS
does the heavy lifting for customers by taking complete ownership of the security of its
global infrastructure of regions and availability zones consisting of data centers, and lets
customers focus on their business. We got to know that AWS offers multiple services under
broad categories and we need to have different security models for various services that
AWS offers, such as AWS infrastructure services, AWS container services, and AWS
abstract services. 
Overview of Security in AWS
[ 36 ]
AWS has a different set of security responsibilities for AWS and the customer for the above
three categories. We also learnt about physical security of AWS, global infrastructure,
network security, platform security, and people and procedures followed at AWS. We
looked at ways to protect our AWS account. We went through a couple of AWS services
such as AWS Trusted Advisor's and AWS Config and saw how they can help us secure our
resources in cloud. We briefly looked at security logs and AWS CloudTrail for finding the
root causes for security related incidents. We'll look at logging features in detail in the
subsequent chapters later in this book.
In subsequent chapters, we'll go through services that AWS offers to secure your data,
applications, network, access, and so on. For all these services, we will provide scenarios
and solutions for all the services. As mentioned earlier, the aim of this book is to help you
automate security in AWS and help you build security by design for all your AWS
resources. We will also look at logging for auditing and identifying security issues within
your AWS account. We will go through best practices for each service and we will learn
about automating as many solutions as possible.
In the next chapter, AWS Identity and Access Management, we will deep dive into AWS IAM
that lets you control your AWS resources securely from a centralized location. IAM serves
as an entry point to AWS Security where AWS transfers the security baton to customers for
allowing tiered access and authenticating that access for all your AWS resources. We are
going to see how we can provide access to multiple users for resources in our AWS account.
We will take a look at the various credentials available in detail. We will deep dive into
AWS identities such as users, groups and roles along with access controls such as
permissions and policies.
2
AWS Identity and Access
Management
AWS Identity and Access Management (IAM) is a web service that helps you securely
control access to AWS resources for your users. You use IAM to control who can use your
AWS resources (authentication) and what resources they can use and in what ways
(authorization).
In other words, or rather a simpler definition of IAM is as follows:
AWS IAM allows you to control who can take what actions on which resources in AWS.
IAM manages users (identities) and permissions (access control) for all AWS resources. It is
offered free of charge, so you don't have to pay to use IAM. It provides you greater control,
security, and elasticity while working with AWS cloud.
IAM gives you the ability to grant, segregate, monitor, and manage access for multiple
users inside your organization or outside of your organization who need to interact with
AWS resources such as Simple Storage Service (S3) or Relational Database Service (RDS)
in your AWS account. IAM integrates with AWS CloudTrail, so you can find information in
logs about requests made to your resources in your AWS account; this information is based
on IAM identities.
IAM is a centralized location for controlling and monitoring access control for all the
resources in your AWS account.
AWS Identity and Access Management
[ 38 ]
Chapter overview
In this chapter, we are going to learn about AWS IAM. We will go through various IAM
tools and features and their use cases and look at ways in which we can access IAM. We
will deep dive into IAM authentication and authorization. Authentication includes
identities such as users, roles, and groups, and authorization talks about access
management, permissions, and policies for AWS resources. We'll walk through the benefits
of IAM and how it can help us secure our AWS resources. Finally, we'll take a look at IAM
best practices.
The following is a snapshot of what we'll cover in this chapter:
IAM features and tools