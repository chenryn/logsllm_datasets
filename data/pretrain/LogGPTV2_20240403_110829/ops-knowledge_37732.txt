User: How to use Ansible for batch server management and configuration?
Assistant: The steps to use Ansible for batch server management and configuration are as follows: 1. Install Ansible Install Ansible on your control node (local machine or a server). 2. Create an Inventory List the IP addresses or host names of all servers to be managed in the Inventory and group them. A basic Inventory file looks like this: ``` [web] 192.168.0.10 192.168.0.11 [db] 192.168.0.12 ``` Here we group the servers with IP addresses 192.168.0.10 and 192.168.0.11 into the web group, And the server with IP address 192.168.0.12 is classified as db group. 3. Create Playbook A Playbook is a file that defines all tasks and related variables, which describe the operations that need to be run on the target host. A basic Playbook file looks like this: ``` - name: Configure web servers hosts: web become: yes tasks: - name: Update package cache apt: update_cache: yes - name: Install Apache web server apt: name: apache2 state : present - name: Start Apache service service: name: apache2 state: started enabled: yes ``` This Playbook defines three steps: - run on all servers in the web group - update the package cache - install the Apache server, And start the service 4. Run Playbook Now, you can use the ansible-playbook command to execute the Playbook file: ``` ansible-playbook -i inventoryfile playbook.yml ``` Among them, inventoryfile is the Inventory file you created before, and playbook.yml is your Playbook file created earlier. After executing the playbook, you should be able to successfully install and start the Apache server on all servers in the web group.