User: 请回答以下安全问题中间的Ettercap人-ARP毒药，我正在我当地的Wifi局域网中用Ettercip进行一点试验。
我有一个路由器（R），我的装有Ettercap的电脑（P）和我的智能手机（S）。
特别是我正在测试ARP毒药MIM攻击，它似乎有效，但我有一些疑问。
我已经能够使R相信P具有S mac地址，并且使S相信P具有R mac地址。所以路由器将智能手机的IP映射到我的PC mac地址，智能手机将路由器的IP映射为我的PC mac地址。
现在，当智能手机向路由器发送数据包时，它使用PC mac地址，而当路由器向智能手机发送数据包后，它使用电脑mac地址。
假设路由器发送了一个应该是智能手机的数据包，智能手机会像我使用WIFI一样收到数据包，这样每个人都可以看到所有东西，但它会因为Mac地址不匹配而丢失吗？
此外，PC将能够从路由器获得智能手机数据包，但第2层不会丢弃数据包，因为Mac地址与PC Mac地址匹配，但由于IP不匹配，内核不应该丢弃它？

Assistant: 在过去的几天里，我对此进行了大量调查：
默认情况下，Linux丢弃MAC地址与获取数据包的NIC MAC地址不同的数据包。混乱的模式应该改变这种行为。
如果ARP欺骗攻击成功，中间的人将从R和S接收数据包（请参阅我的问题，了解S和R的定义），其中将有P MAC地址（这是ARP欺骗的关键），但IP不同。您可以使用不同的工具（如Wireshark）读取这些数据包。我试用了libcap（我在一个C程序中使用了该库），我认为Ettercap使用了它，通过它，您可以获取这些数据包，还可以修改和重新转发。
请注意，Ettercap默认情况下不启用IP转发：
回声1&gt/proc/sys/net/ipv4/ip_forward程序
否则，内核本身将转发数据包，但Ettercap也提供数据包修改和数据包丢弃，这在内核不处理这些数据包的情况下是可能的。