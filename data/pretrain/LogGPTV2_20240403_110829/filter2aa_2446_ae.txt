20种
商业
fortify sca
支持
696种，业界最多
较高
中
23种
商业
coverity
支持
主流owasp、cwe
、pci等规则
高
中
11种
商业
check style
支持
中
不涉及
快
仅Java
免费
findbugs
支持
少
不涉及
快
仅Java
免费
cobra
支持
少
不涉及
快
主要PHP、Java
免费
rips
不支持
少
高
快
仅PHP
免费
常见代码扫描工具对比
我的安全视界观                                                                                                            aerfa 
支持、总结常见问题并归档对外输出。比如往期的文章中，将 fortify
汉化版漏洞说明，统一放到内部技术平台以供学习。 
3）输出公共安全组件 
 现状分析：针对普遍存在于业务线或高频出现的高危漏洞，结合不同
的场景进行分析，衡量是否有输出公共安全组件的必要性。别让开发
花大量时间在修复漏洞上，解放他们，回归系统功能的开发与实现。 
 协作部门：单靠安全部门，在一般的公司难以做起来，尤其是缺少安
全开发或开发能力不强的团队。比较好的一种方法便是拉上中间件等
中台部门进行合作，优势互补输出公共安全组件。 
 安全评估：针对公共安全组件的安全评估，包括功能设计、实现逻辑
以及最后的安全测试，都需要安全人员的重点关注，避免安全组件出
现绕过的场景，杜绝因为安全组件而引入新的安全隐患。比如使用已
知的成熟算法，切勿私自发明创造。 
6.4 持续优化 
安全运营的思想，也同样适合在 SDL 的各个阶段，即：在推行中发现问
题，解决问题，优化功能。在安全开发阶段，安全开发规范需要优化，代码扫
描系统也需要优化，覆盖率需要考虑，准确率也需要琢磨。简而言之，大致可
以从以下三个方面进行考虑： 
1）安全开发语言覆盖面 
开发技术栈的多元化，带来最直接的问题便是覆盖面。安全开发规
范、静态代码扫描都需要由最开始的 cover 主流语言，扩展到公司第
二、第三…主流语言。在资源受限的情况下引入一些开源工具应对不同
的语言审计，或许是个必要的选择。 
我的安全视界观                                                                                                            aerfa 
2）静态代码审计系统误报 
几乎所有的互联网公司都是追求“宁可漏报，不可误报”，由于发布量特
别大不得不这样。然而在传统行业里，开发模式可能还是瀑布模式，对各个环
节的误报要求难以媲美互联网公司，但是减少误报率也是十分必要的。对于使
用商业版（破解了也算）的代码审计工具而言，其规则难以调整，故可以在扫
描的结果上进行优化，比如要求开发仅解决 Critical、High 级别的漏洞，甚至
是可以具体到两种级别中的具体漏洞类型。 
3）第三方开源组件技术检测手段 
使用已知漏洞的组件，在最近两次的 OWASP Top 10 中均上榜，由此见
得其重要程度。目前在市面上还很少出现专门的检测工具，商业版的几款静态
代码扫描器有所涉及，但未能试用对比。目前而言，稍微较好一点的方法可能
是使用 OWASP 提供的 Dependency-Check，有如下特点： 
 支持 Maven、Jenkins 等集成 
 支持 Java、.Net 
 漏洞信息来源于 nvd 
我的安全视界观                                                                                                            aerfa 
 检测规则为特征匹配（类似工具基本都是该原理） 
7 安全测试 
SDL 可视作为软件安全方面的纵深防御，到了测试阶段也就代表着软件架
构与设计已经定型、第三方开源组件的引用已基本不太可能改变、前面各环节
的漏网安全 bug 已迎来最后一次发布前的检测。 
7.1 安全目标 
在我的最初实践中，SDL 的发展和很多公司一样：由最开始的安全测试发
展而来，一步步将安全前置，并保留系统发布上线前设置的卡点。不过已经将
安全检查内容丰富化，把安全设计 checklist、静态代码扫描、web 漏洞扫描与
人工安全测试的结果纳入检查，原则上各项均合格达标才能发布上线。 
7.2 安全活动 
在测试阶段，安全活动主要围绕安全报告验收、人工安全测试、漏洞验证
开展。 
安全培训
安全需求
安全设计
安全开发
安全测试
安全审核
安全响应
安全报告验收 
人工安全测试 
安全漏洞验证 
我的安全视界观                                                                                                            aerfa 
1）报告验收 
要求业务方将安全设计 checklist 自检报告、静态代码扫描报告、web 漏
洞扫描报告纳入安全提测工单中，待安全测试人员进行检查并通过后进行人工
安全测试，各项的安全标准可参照： 
开发阶段 
安全活动 
输出物 
安全标准 
设计阶段 
安全设计自检 
安全设计 checklist 自检报告 
无不符合项 
编码阶段 
静态代码扫描 
静态代码扫描报告 
无设定的高危漏洞 
测试阶段 
Web 漏洞扫描 
Web 漏洞扫描报告 
无高中危漏洞 
人工安全测试 
TODO 
无高中危漏洞 
值得注意的是需要设置抽查和复测机制，防止业务方有意或无意的提供不
符合实际的报告，包括安全活动实施范围、安全活动结果。 
2）人工测试 
待各项安全报告均验收通过后，进行人工安全测试。在自动化验收和自动
化安全测试之前，该活动往往会成为整个流程中压力最大和最易造成阻塞的
点。据了解，部分公司会选择性进行人工安全测试；有的会针对特有的常见问
安全
测试
报告
验收
人工
测试
漏洞
验证
我的安全视界观                                                                                                            aerfa 
题进行专项安全测试，比如仅测试越权漏洞…；有的会通过堆人进行较为全面
的人工安全测试，比如内部没有 hc 就让很多外包驻场。 
3）漏洞验证 
人工安全测试往往是进一步提高软件的安全质量，发现之前各环节遗留的
安全漏洞，包括但不限于：越权类漏洞、安全配置错误类漏洞、API 返回过多
敏感信息类漏洞、重要场景重放攻击以及常见的较为隐蔽 web 漏洞。然而同样
重要的，还有推动安全漏洞修复，再次验证直至修复闭环。 
7.3 安全实践 
1）安全提测信息 
 测试环境一致：确保待测系统与生产环境一样，是保证安全测试质量
的基础，但往往却较难实现。 
 测试环境可访问：由于网络 ACL 限制等因素导致安全测试人员一时不
能访问，也是常见的一种现象，将安全测试时间花费在环境的准备上
比较可惜。 
 测试账号提供：待测系统通常会有不同权限的账号，如果业务方不能
完整提供，可能会导致越权、SQLi、信息泄露等常见安全 bug 漏测。 
 测试范围确定：指明安全提测类型是全量还是增量，如果是增量需要
说明新增功能点至关重要，可提升安全测试的速度并保证一定的安全
质量。 
解决安全提测信息中可能遇到的各类问题，可以通过规范提测信息填写要
求、提测信息核对处理流程、设置专人校对（刚入门不久的外包、实习生等）
来解决。 
2）安全测试思路 
 安全测试用例：在实现自动化安全测试前，沉淀一份具有本公司特
我的安全视界观                                                                                                            aerfa 
点、集成团队成员测试技能的安全测试用例，变得十分有必要。首
先，一定程度上能弥补团队成员因能力层次不齐而导致的安全测试质
量不一，再者可以为实现自动化提供高命中规则；其次，可提供给新
人快速上手，帮助新人成长至胜任安全测试工作；最后，对外输出给
测试团队，赋能测试团队减轻安全团队的压力。 
 安全测试工具：被动测试工具，在团队内部越来越收到青睐，特别是
面对多工单任务繁重的场景。将针对性强检测的插件集成到
BurpSuite，进行被动式扫描，不失为一种简单高效的方法。 
 安全测试方法论：标准的安全测试流程不能督促团队成员去标准作
业，亦不能弥补团队成员的能力差异。自动化安全测试，或许是解决
这些问题的最佳方案。 
3）安全漏洞管理 
漏洞的产生到修复离不开安全人员和业务方，然而串联起他们之间的便是
漏洞的管理流程和扭转状态。前者需要流程管理系统来支持，比如 jira；后者
需要自定义漏洞状态以及状态改变的触发动作，整个环节最终目标就是让漏洞
被及时修复。 
我的安全视界观                                                                                                            aerfa 
7.4 持续优化 
安全测试自动是行业一致追求的目标，有效检出漏洞的同时较少人力投入。
但在实现自动化前，还有半自动化、标准化可以选择，借助一些开源或现成的
工具快速进行安全测试工作，往往也会有不错的效果。 
7.5 培训案例 
安全测试，最容易上手的我想应该是测试人员，基础技能知识相似，只需
要改变一下思路，便可实现转型。以下是给测试团队培训过的几页培训材料，
以及简短的课程大纲： 
我的安全视界观                                                                                                            aerfa 
8 安全审核 
在本环节中，已经不再涉及到 SDL 中的“工具”，转而到“流程”。产品
发布前的最后一道关卡，做最终的安全验收。无论是否能满足安全质量要求，
产品均有可能发布上线，但一定得有兜底的措施。 
8.1 安全目标 
对于符合安全部门要求的产品，放行发布上线；对不符合安全要求的产
品，理论上则不允许上线。然而在实际的场景中，业务和安全孰轻孰重一直是
热议的话题，即使是在大型互联网公司也会存在部分业务优先。但在放行不达
标产品前，需要将安全风险降低和安全责任抛出，并制定一系列的第二或第三
安全培训
安全需求
安全设计
安全开发
安全测试
安全审核
安全响应
最终安全评审 
安全绿色通道 
我的安全视界观                                                                                                            aerfa 
选择安全方案进行兜底，切实起到公司安全投入有产出、安全赋能产品的初
衷。 
8.2 安全活动 