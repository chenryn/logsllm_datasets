### 优化后的文本

#### 图8：IPv4路由/24拓扑数据集收集
图8展示了在所有Ark监测点上收集的IPv4路由/24拓扑数据集。条形图表示每个监测点的traceroute数据可用性。探测方法从2007年11月2日左右由UDP（红色/深色）改为ICMP-Paris（绿色/浅色）。san-us监测点在2008年1月22日至2月15日期间也使用了UDP进行探测。我们在2007年11月7日左右更新了用于动态计算目的地列表的BGP前缀。监测点被分为两组，每组独立地探测整个路由/24集合。

为了支持这项研究，我们在标记星号的监测点上运行了多种traceroute方法。随机探测可以更广泛地分布测量流量，从而减少由于公共链路上的数据包丢失或暂时路由问题导致的潜在偏差或测量缺口。

团队探测的最终产品是CAIDA IPv4路由/24拓扑数据集[30]，可供研究人员下载。我们从2007年9月13日开始至今，使用全球分布的8到21个监测点收集了这些数据。在最初的7个月（截至2008年4月30日），我们共收集了7.48亿次traceroute，并完成了107个周期。

#### 4.3 数据集修剪
为了比较UDP和ICMP-Paris traceroute，我们排除了一小部分已知不具代表性的数据。特别是，我们排除了vie-at和gig-br收集的所有痕迹，以及dub-ie在2008年4月10日至30日之间收集的痕迹。这排除了2230万次痕迹，约占原始7.48亿次痕迹的3%。本节其余表格和分析均基于此修剪后的数据集。

对于排除的痕迹，循环率远高于其他Ark监测点，这是由于这些监测点的直接上游提供商中的MPLS引起的循环。这些循环是由于MPLS出口路由器错误地递减IP TTL造成的。这些循环在vie-at的第3跳、gig-br的第4跳和dub-ie的第5跳开始。对于dub-ie，在某些天内，这些循环影响了多达28%的痕迹。确定循环率对于vie-at和gig-br来说更为困难，因为在这两个监测点上，我们使用了一个特殊选项来探测这些循环。对于一个包含5万个目标的集合，vie-at的循环率为50%。

表11：Routed /24数据集的traceroute停止原因
| 停止原因 | UDP | ICMP-Paris |
| --- | --- | --- |
| 达到 | 4.25M (3.79%) | 63.62M (10.36%) |
| ICMP不可达 | 11.52M (10.29%) | 21.23M (3.46%) |
| 循环 | 5.97M (5.33%) | - |
| 跳数限制 | 45.67M (7.44%) | 90.24M (80.59%) |
| 总计 | 111.98M | 613.90M |

#### 4.4 UDP与ICMP-Paris分析
表11给出了该数据集中停止原因的细分。UDP的可达率为3.79%，ICMP-Paris的可达率为7.44%，这两个值都低于早期随机可路由地址列表中的平均值（UDP为5.1%，ICMP-Paris为9.0%）。这一结果与事实一致，即这个列表是通过将可路由前缀细分为更小的部分而构建的，其中许多部分未被占用。

该数据集显示了UDP和ICMP-Paris之间的显著差异。在这个数据集中，ICMP-Paris的可达率是UDP的1.96倍，而在早期随机可路由地址列表中，ICMP-Paris的可达率是UDP的1.75倍。

正如预期的那样，ICMP-Paris的循环率为3.46%，低于UDP的5.33%。这两种循环率都低于随机可路由地址列表中的平均循环率（UDP为7.8%，ICMP-Paris为6.3%）。

#### 表12：Routed /24数据集在BGP前缀更新前后的traceroute停止原因
| 停止原因 | UDP (旧) | UDP (新) | ICMP-Paris (旧) | ICMP-Paris (新) |
| --- | --- | --- | --- | --- |
| 达到 | 505k (3.78%) | 703k (7.77%) | 1.54M (11.51%) | 924k (11.09%) |
| ICMP不可达 | 1.54M (11.51%) | 531k (6.33%) | 5.26M (6.84%) | 619k (7.63%) |
| 循环 | 5.26M (6.84%) | 260k (3.52%) | 6.06M (78.04%) | 5.97M (78.23%) |
| 跳数限制 | 45.67M (7.44%) | 6.33M (81.07%) | 63.62M (80.59%) | 7.63M (81.07%) |

#### 4.5 BGP前缀的影响
在两个时间段内，我们使用了两组不同的BGP前缀来生成探测目的地址。第一组从前2007年9月13日到11月7日左右使用，第二组在此之后使用。第一组来自2006年11月14日的单个RouteViews BGP快照，提供了645万个/24前缀用于探测。第二组从前2007年10月14日至20日每天的一个RouteViews快照中提取，并排除了只出现在一两天快照中的前缀，提供了702万个/24前缀。

表12列出了在BGP前缀列表切换前后收集的UDP和ICMP-Paris traces的可达性统计数据。两种方法都显示出小幅但明显的变化。使用新的前缀列表后，可达性略有增加，UDP增加了约8.5%，ICMP-Paris增加了4.7%。跳数限制率也略有增加，这并不令人意外，因为新列表中多了近50万个/24前缀。总体而言，前缀集的变化对可达性没有显著影响，因此表11中所示的UDP和ICMP-Paris之间的显著差异反映了实际差异，而不是仅仅由于BGP前缀列表的变化。

#### 4.6 视角点的影响
我们现在通过查看2007年11月10日及以后收集ICMP-Paris traces的19个监测点的可达性统计数据，来检查视角点之间的变化程度。从表13可以看出，尽管监测点在地理和拓扑分布上存在很大差异，但达到目的地的百分比几乎没有变化。这表明，对于单一方法，可达性的主要变化可能是由接近目的地的因素（如防火墙策略）引起的。换句话说，这个结果表明，可达性更多是由目的地的选择决定的，而不是视角点的选择，尽管不同的视角点可能会遇到显著不同的不可达响应和循环次数。

#### 表13：2007年11月10日及以后收集的ICMP-Paris traces的Routed /24数据集的traceroute停止原因
| 监测点 | 达到 | ICMP不可达 | 循环 | 跳数限制 |
| --- | --- | --- | --- | --- |
| 最小值 | 7.63% | 7.47% | 3.17% | 76.86% |
| 最大值 | 7.15% | 12.35% | 3.44% | 81.98% |
| 平均值 | 7.47% | 10.25% | 3.44% | 78.84% |
| 标准差 | 0.11% | 1.11% | 0.28% | 1.10% |

#### 5. 相关工作
虽然互联网拓扑研究领域至少已有十年历史，并且在Citeseer上有317篇引用文献，但我们知道没有其他正式比较各种可用的IP路径探测方法的工作。最近，Heidemann等人在一项基于ping的IPv4地址空间普查中比较了ICMP和TCP方法[22]，尽管他们没有尝试探测整个前向路径，但在发现TCP触发更多滥用投诉后，很快就放弃了使用TCP。在我们的数据收集中，我们收到了一条针对发送到路由器地址列表中的路由器的TCP探测的投诉。

Bush等人[31]使用traceroute（但未指定哪种方法）测试新地址空间的可达性。Rocketfuel[32]以牺牲拓扑收集的广度为代价，换取单个网络内的更多细节。最近的Paris traceroute修订版[15]也做了同样的权衡：与其进行大规模的互联网路径收集，他们专注于枚举源和目的地之间的所有可能IP路径——这需要多一个数量级的探测才能完成。

Hubble[33]使用持续和有针对性的ping和traceroute来诊断边缘网络的可达性问题。traceroute路径还用于查找可达性问题的位置（路由器或AS）。由于低端主机响应能力较低，降低了主动探测的实用性，他们基于能够到达每个宣布的BGP前缀的起源AS来进行可达性诊断。

#### 6. 结论
宏观互联网拓扑数据对于试图开发或经验验证互联网拓扑结构和增长模型的研究人员至关重要。在本文中，我们在三种场景中探索了六种traceroute探测方法的实用性。我们的结果表明，研究人员在选择探测方法或拓扑数据集时应谨慎。尽管ICMP-Paris在随机目的地和路由器场景中的可达目的地指标方面表现出优越性，并且在推断的AS链接方面也表现出优越性，但它错过了UDP-Paris找到的每个AS内的IP链接，这可能是由于ICMP的负载均衡范围不如UDP广泛。我们还展示了推断的IP路径存在显著变化；尽管UDP-Paris达到的目的地最少，但它推断出的IP链接最多，证明了其在获取最详细的AS内拓扑方面的实用性。

我们的实验还表明，使用多种探测方法可以提高AS和IP链接的覆盖率。使用多种探测方法还可以在面对伪造源地址的系统时测试IP路径的完整性，并有助于根据协议类型推断下一跳选择。

#### 致谢
感谢匿名评审者、牧羊人Simon Leinen和kc claﬀy。这项工作得到了国家科学基金会CNS 0551542拨款、DHS合同S/N 660001-08-C-2029以及新西兰研究科学技术基金会（FRST）合同UOWX0705的支持。

#### 参考文献
[略]

希望优化后的文本更加清晰、连贯和专业。如果有任何进一步的修改需求，请告诉我。