anything onto coverage area
TT&C and UPC
• Telemetry, Tracking and Command
• Need to be able to send commands to satellite
– Change payload configuration
• Multiplexing
• Switch between redundant systems
• Orbit
• Check on health of satellite/payload
– Beacon + telemetry
• Measure affect of weather (combat rain fade)
– Uplink Power Control
– Turn up transmitter power (keep at min. = save $$$)
Optus D1
• 24 Ku band transponders
– Multiplexed spot beams service Aus and NZ
– Uplink:
14.0 ‐ 14.5 GHz
– Downlink:
12.25 ‐ 12.75 GHz
– Bandwidth:
54 MHz
• Mainly TV (wideband DVB‐S)
– ABC, SBS, Se7en, Nin9, SkyNZ
• Some other (narrowband) things…
FNA Beam Coverage
Effective Isotropic Radiated Power (EIRP)
D1 Channel Frequencies
Uplink
Downlink
Optus Earth Station
Belrose, Sydney
Spot the 
satellite 
modem
Radyne Comstream 
Satellite Modem 
DMD‐15
Digital Tracking Receiver
Antenna Control System
Redundant System Controller
C1 UPC
What you need
Dish + LNB + power injector + USRP + GNU Radio
(set‐top box with LNB‐thru)
Low Noise Block down‐converter
Subtract 11.3 GHz from downlink frequency: 950 ‐ 1450 MHz
D1 TLM1: 12243.25 MHz
Mirror of RHS*
Beacon with Phase Modulation* (PM): 1PPS and two telemetry streams (sidebands)
Constant carrier power*
TLM sidebands
Constant 
sub‐carrier
1PPS
Visualisation
PSK Debug Output
Data Streams
• All sorts of continuous streams of varying 
bandwidth
• Streams created by manipulating raw data to 
optimise for transmission over long distance
• Receiver must be able to lock on and decode
Modulation: pick your parameters
Support multiple data streams,
drop‐and‐insert
Make data appear random
(increase entropy of structured data)
Encode changes in data
(receiver can be non‐coherent)
Protect integrity of data
(corruption from noise on channel)
Turn binary into symbols
for baseband RF
(0/1  combinations of waves)
Create signal 
suitable for uplink
Demodulation: easy when you know
Are there multiple streams?
How are they multiplexed?
Possible to determine if it is scrambled
(calculate stats), but what is the scrambler?
Is it additive or multiplicative?
How is it synchronised?
Is it differential, or 
what defines a 0/1?
Which FEC(s) is used?
Is it a concatenated code?
What is the code rate?
What is the block size?
How is it synchronised?
What is the modulation?
Symbol rate? Require coherence?
What is the phase difference?
Need to conjugate complex plane?
If you don’t know…
• Try the most common/default options (RTFMM):
– Modulation: Phase Shift Keying (BPSK, QPSK)
– Convolutional code: NASA, K=7 (Voyager Probe)
– Scrambler: IESS‐803 (Intelsat Business Service)
• Still need to try each combination of:
– Differential decoding, synchronisation offset, symbol 
mapping
• Best option is to try every permutation 
automatically
• Assuming decent SNR, low Bit Error Rate is an 
indicator you’re heading the right way!
Aside: PSK, Symbols & Bits
• PSK uses changes in phase of a signal (carrier) to 
convey data
• Demodulator detects phase changes and outputs 
symbols
• Order of PSK determines # bits in 1 symbol
– Many bits/symbol thanks to imaginary numbers (I/Q)
• Raw bit rate = symbol rate x (# bits/symbol)
– Binary PSK (BPSK):
1 bit/symbol
– Quaternary PSK (QPSK): 2 bits/symbol
– 8PSK:
3 bits/symbol, etc…
Determining modulation & rate
• Assuming PSK, easy to determine:
– Modulation order: multiply the signal by itself
– Symbol rate: multiply the signal by a lagged 
version of itself (cyclostationary analysis)
• Only a few GR blocks required do this
Let’s try one…
• Feed entire baseband spectrum into GR
• Perform ‘channel selection’ to isolate stream of interest 
(create new baseband 
centred on stream)
Determine PSK order
• Start at 2 and go up
• Stop when spike appears
Determine PSK order
• Start at 2 and go up
• Stop when spike appears
QPSK: 2 bits/symbol
Determine Symbol Rate
• Find first peak
9.6 kHz = 9600 symbols/sec
Try synchronisation & FEC
Try synchronisation & FEC
FEC Rate: ½
Not differential
No phase shift
(depends on when you 
switch on receiver)
Find Precise Symbol Rate
Creating Auto-FEC:
sample_rate:
800000
ber_threshold:
2048
ber_smoothing:
0.01
ber_duration:
8192
ber_sample_decimation:
1
settling_period:
4096
pre_lock_duration:
8192
De-puncturer relative rate: 1.000000
==> Using throttle at sample rate: 800000
==> Using lock throttle rate: 50000
Auto-FEC thread started: Thread-1
Skipping initial samples while MPSK receiver locks: 4096
Reached excess BER limit: 11437.1352901 , locked: False , current puncture matrix: 0 , total samples 
received: 12289
Applying lock value: 0
Beginning search...
Applying rotation: 1j
Reached excess BER limit: 11870.4144919 , locked: False , current puncture matrix: 0 , total samples 
received: 24586
Applying rotation: 1
Applying conjugation: 0
Locking current XForm
=========================================================
FEC locked: 1/2
=========================================================
Applying lock value: 1
Auto FEC
Demodulated & error‐corrected
• Symbol rate
= 9600 symbols/sec
• Pre‐FEC raw bit rate = 19200 bits/sec
• Post‐FEC raw bit rate = 9600 bits/sec (½ rate)
• Visualise data: look for additional clues
– Differential encoding
– Scrambling
– Structure
QPSK Phase Debug
Visualisation
• Raw data (0: black, 1: white)
Descrambling time!
De‐scrambled
• Better, but long runs of 0s and 1s (not ideal)
Differential decoding time!
Diff. decoded & de‐scrambled
• Structured, asynchronous packets of data!
Repeating structure
Pattern Search
• Search for repeating 
strings of bits
• Try to find frame header
• Clue: sudden increase in 
# of occurrences
Preceding 1s are just part of ‘idle’ 
stream when no data is being sent
Frame analysis
• Header
– SYN SYN SYN (EBCDIC)
• Character‐oriented encoding:
– SOH
– STX
– ETX
– CRC (CCITT‐16)
• Numbers of fixed‐length messages
– Each contains an ID
Un‐pack & find patterns
0001 [20 049 200] (1/1) ff 18 80 70 01 24 e9 ae ed 26 1a 07 31 90 19 fa 00 00 03 02 00 72 e9 2e
0034 [20 051 161] (1/1) ff 18 80 70 01 24 e9 c7 ed 24 1a 07 31 90 19 fa 00 00 03 02 00 72 e9 2d
0067 [20 053 121] (1/1) ff 18 80 70 01 24 e9 d9 ed 2c 1a 07 31 90 19 fa 00 00 03 02 00 71 e9 2d
0101 [20 055 082] (1/1) ff 18 80 70 01 24 e9 ee ed 2f 1a 07 31 90 19 fa 00 00 03 02 00 71 e9 2d
0134 [20 057 043] (1/1) ff 18 80 70 01 24 e9 ff ed 36 1a 07 31 90 19 fa 00 00 03 03 00 72 e9 2e
0167 [20 059 004] (1/1) ff 18 80 70 01 24 ea 10 ed 40 1a 07 31 90 19 fa 00 00 03 02 00 72 e9 2d
0200 [20 060 221] (1/1) ff 18 80 70 01 24 ea 24 ed 43 1a 07 31 90 19 fa 00 00 03 02 00 73 e9 2d
0233 [20 062 182] (1/1) ff 18 80 70 01 24 ea 3b ed 44 1a 07 31 90 19 fa 00 00 03 02 00 72 e9 2d
0266 [20 064 142] (1/1) ff 18 80 70 01 24 ea 4d ed 4c 1a 07 31 90 19 fa 00 00 03 03 00 74 e9 2c
0299 [20 066 103] (1/1) ff 18 80 70 01 24 ea 62 ed 4f 1a 07 31 90 19 fa 00 00 03 03 00 71 e9 2c
0332 [20 068 064] (1/1) ff 18 80 70 01 24 ea 75 ed 54 1a 07 31 90 19 fa 00 00 03 04 00 70 e9 2c
0365 [20 070 025] (1/1) ff 18 80 70 01 24 ea 80 ed 62 1a 07 31 90 19 fa 00 00 03 03 00 6d e9 2d
0398 [20 071 242] (1/1) ff 18 80 70 01 24 ea 98 ed 64 1a 07 31 90 19 fa 00 00 03 02 00 6b e9 2d
0431 [20 073 203] (1/1) ff 18 80 70 01 24 ea a7 ed 6e 1a 08 31 90 19 fa 00 00 03 00 00 6c e9 2d
0464 [20 075 164] (1/1) ff 18 80 70 01 24 ea bc ed 71 1a 08 31 90 19 fa 00 00 03 00 00 6c e9 2d
0497 [20 077 125] (1/1) ff 18 80 70 01 24 ea cf ed 76 1a 08 31 90 19 fa 00 00 02 99 00 6d e9 2d
0530 [20 079 086] (1/1) ff 18 80 70 01 24 ea e8 ed 76 1a 08 31 90 19 fa 00 00 03 00 00 6b e9 2b
0563 [20 081 047] (1/1) ff 18 80 70 01 24 ea f7 ed 80 1a 08 31 90 19 fa 00 00 03 01 00 69 e9 2b
0596 [20 083 008] (1/1) ff 18 80 70 01 24 eb 06 ed 8a 1a 08 31 90 19 fa 00 00 03 01 00 66 e9 2b
0630 [20 084 225] (1/1) ff 18 80 70 01 24 eb 1b ed 8e 1a 08 31 90 19 fa 00 00 03 01 00 67 e9 2b
0663 [20 086 187] (1/1) ff 18 80 70 01 24 eb 30 ed 92 1a 08 31 90 19 fa 00 00 03 01 00 6a e9 2c
0696 [20 088 148] (1/1) ff 18 80 70 01 24 eb 45 ed 95 1a 08 31 90 19 fa 00 00 03 01 00 70 e9 2c
0729 [20 090 109] (1/1) ff 18 80 70 01 24 eb 59 ed 99 1a 08 31 90 19 fa 00 00 03 03 00 73 e9 2c
0762 [20 092 069] (1/1) ff 18 80 70 01 24 eb 6b ed a1 1a 08 31 90 19 fa 00 00 03 03 00 75 e9 2b
0795 [20 094 030] (1/1) ff 18 80 70 01 24 eb 7b ed a9 1a 08 31 90 19 fa 00 00 03 03 00 76 e9 2b
0828 [20 095 247] (1/1) ff 18 80 70 01 24 eb 8e ed af 1a 08 31 90 19 fa 00 00 03 03 00 75 e9 2b
0861 [20 097 208] (1/1) ff 18 80 70 01 24 eb a2 ed b3 1a 08 31 90 19 fa 00 00 03 02 00 74 e9 2b
0894 [20 099 169] (1/1) ff 18 80 70 01 24 eb b7 ed b6 1a 08 31 90 19 fa 00 00 03 03 00 72 e9 2b
0927 [20 101 130] (1/1) ff 18 80 70 01 24 eb ca ed bd 1a 08 31 90 19 fa 00 00 03 03 00 71 e9 2b
0960 [20 103 091] (1/1) ff 18 80 70 01 24 eb da ed c4 1a 08 31 90 19 fa 00 00 03 03 00 70 e9 2b
0993 [20 105 052] (1/1) ff 18 80 70 01 24 eb ef ed c9 1a 08 31 90 19 fa 00 00 03 03 00 70 e9 2b
1026 [20 107 013] (1/1) ff 18 80 70 01 24 ec 03 ed cd 1a 08 31 90 19 fa 00 00 03 03 00 71 e9 2b
#
Message header
16‐bit signed
BCD
8‐bit signed
Graphing the Data
1540
1560
1580
1600
1620
1640
1660
‐980
‐970
‐960
‐950
‐940
‐930
‐920
‐8
‐6
‐4
‐2
0
2
4
6
0
5
10
15
20
25
30
35
0
20
40
60
80
100
120
0
5
10
15
20
25
30
35
Graphing the Data
4275
4280
4285
4290
4295
4300
4305
4310
4315
4320
‐1700
‐1650
‐1600
‐1550
‐1500
‐1450
‐1400
‐1350
11.5
12
12.5
13
13.5
14
14.5
0
5
10
15
20
25
30