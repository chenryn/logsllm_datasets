## Page 413
第9打造专属硬件工具
女孩儿。当然，也是因为板子功能很简单，所以才能如此任性。
小贴士：电磁兼容（EMC）是对电子产品在电磁场方面干扰大小（EMI）
和抗干扰能力（EMS）的综合评定，是产品质量最重要的指标之一。很多硬件
产品都要求通过EMC测试才能销售
图9-42美少女图案的PCB背面
图9-43美少女图案的PCB正面
1
图9-44另一块美少女图案的PCB
图9-45焊接好的美少女图案的PCB
这里就不按照官方的那种十字镖的形状做了，大而且扎手，参照UnicomnTeam的
HackNet的样式摆放，如图9-46所示，尺寸在5cmx5cm以下，电容用Mirror命令放到背面，
位置在布线时再做调整。现在的摆放也只是临时摆放，在布线时会根据实际情况修改，在布
线的难易度、质量、美观这三者之间做权衡。
另外需要注意白色的边框线，这是20层宽度为0的wire线，如图9-47所示。不是铜线，
用途是标识边框，也就是keeplayout边框线，通常PCB制板厂会按照这个边框选出PCB板，
这个框内的才是你的PCB板，这个框可以是方的、圆的、三角或者其他各种形状，只不过异
形板拼版很浪费板材，再就是有些工厂会额外收费。
401
---
## Page 414
更件安全放防大民
图9-46在PCB上微元器件布局
图9-47放置keeplayout边框线
使用Route命令或者单击“命令”按钮后，再单击焊盘上的鼠线，就可以将鼠线转换成
PCB的铜线，导线线宽可以设置，如图9-48所示。单击鼠标左键可以将铜线固定，用鼠标中
健可以切换导线所在层，例如顶层切换到底层，切换后会自动放置过孔，过孔的大小和样式
在菜单栏可以设置。当然，也可以直接单击左侧菜单栏的过孔图标放置过孔，然后用Name
命令设置过孔连接的网络。这里导线线宽设置为8mil，过孔用八角形，过孔直径15mil。另外，
为了区分焊盘和过孔，在Display设置里将Vias 过孔的颜色改成黄色，如图9-49所示。
C
图9-48设置好线宽之后依照鼠线布线
如果布线过程有错，用“Ctrl+Z”组合键可以撤销，也可以用Ripup命令撤销，这里要走
的线很少，很快就可以布完。如图9-50所示。这种简单的线路可以考虑用自动布线，但不管
是从可靠度还是美观程度，还是推荐手动布线，几分钟就可以完成。
402
---
## Page 415
第量打德专属驶件工具
图9-49修改过孔颜色后放置过孔
图9-50布好线的PCB图
我们可以看到还有几根鼠线，也就是网口的GND接地固定焊盘，这时就要加覆铜了，使
用Polygon命令添加Top层和Bottom层的覆铜，设定线宽、样式、隔离、间距及等级，这些
参数决定了覆铜的样式效果，具体可以看帮助文档。覆铜可以是异形，但一定是封闭的图形，
通常会按照需要覆钢的区域画出图形，如图9-51所示，然后用Name 命令单击覆铜区域的边
框线，设定覆铜所要连接的网络，例如这里需要接地，那就用Name将名称设定为GND，如
图9-52所示。
Namt
新的名称：
改资名称
这个9形)
整个信号C）
OCc
图9-51设置好参数后对顶层和底层多边形覆铜
图9-52将覆铜连接到GND
403
---
## Page 416
硬件安全政防大揭秘
画完覆铜区域以后，如果要查看怎么办？用Ratsnest 命令或者单击图9-53所示左边工具
栏的命令按钮就可以查看覆铜情况。切换显示的层可以看正反面，如图9-53和图9-54所示。
如果想隐藏覆铜，使用Ripup命令后，鼠标左键单击覆铜边框就可以了。
还有几个要调整的地方，例如板四周的尖角有点扎手，再就是需要加点丝印、Logo，才
能突显个性。
设置圆角可以使用Miter命令，设定好半径后用鼠标左键单击要设定的尖角，如图9-55
所示。如果选择边框线时点到了覆铜，可以用鼠标右键切换。在EAGLE中的相同位置的线或
者元器件都可以用鼠标右键循环切换选择，如图9-56所示。
图9-53填充覆铜的PCB图
图9-54填充覆铜的PCB底层视图
经100
1
E
图9-55将四边尖角拉成圆角
图9-56拉好圆角的PCB图
下面是丝印，项层丝印在21层，底层丝印在22层（有关PCB层知识的介绍请参阅第7
404
---
## Page 417
9章打造专属件工具
章和第8章的相关内容）。用Text命令可以直接添加，如图9-57所示。
1
H
LY
HackNetU1.0
图9-57
添加丝印文字
注意：底层丝印从正面看是反着的！千万别
搞错了，不然出来的丝印就是反着的，可以直接
在正面放好，然后通过Mirror命令换到背面。丝
8 1
印的大小在属性界面里可以调整，Size是字体大
小，Ratio是字体粗细比例，跌认都是失量字体。
如果要添加其他字体，需要用图片的方式添加，
在后面讲Logo 添加时会讲到。Align是字体显示
的方向，例如是居中还是居左上还是居右下等，
如图9-58所示
Ss0/b= 38
丝印可以粗一点，这样PCB 上面看得更清晰，但不
能太租，因为一般的制板厂精度有限，太租了最后就期成
图9-58设置丝印字体参数
一片了。然后再用Wire命令画几个简单的箭头图标做标
识，背面也放上，如图9-59和图9-60所示。
常见的PCB软件都没法直接添加图片Logo，但通常都会提供一个导入工具，EAGLE当
然也提供，它用的是一个ulp 脚本，在 EAGLE 安装目录的 ulp 文件夹下，名为“import-
bmp.ulp”，即导入bmp图片功能
405
---
## Page 418
经件安全攻防大提号
合
0000
0000
0000
图9-59添加了丝印的PCB项层视图
图9-60添加了丝印的PCB底层视图
PCB软件要做多色的Logo很难，绝大多数的制板厂都不提供这项服务，通常都是阻焊加
丝印的双色图，有创意有想法的还会加上沉金颜色搭配出三色，这里介绍常规的双色图的导
入
首先，我们需要个Logo的图片，可以是任意格式的，如图9-61所示。用Photoshop或
者其他图片编辑工具打开，之后调整图片大小，如图9-62所示。调整好大小以后，先转成黑
白的可以直接保存为单色位图，如果不知道怎么保存，可以用Windows 自带的画图板打开，
然后另存为单色位图即可，如图9-63~图9-65所示。
三
图9-61打开Logo图
图9-62修剪Logo图
406
---
## Page 419
第9章打造专具硬件工具
文件名(N: Unic
保存美型①：单色位图（bm
隐文得夹
160
256 @r28E (*.bmp:*.dib)
EG pgjpg²p”
24(2位图 (*.bmp:a.dib)
GIF (°*.gif)
PNG (°.ong)
TIFF (.6f6开)
图9-64将Logo图保存为单色bmp位图
09E
图9-65调整为单色位图的Log0
生成好图片以后，单击莱单栏的“ulp”按钮，打开“import-bmp.ulp”脚本，如图9-66
所示。然后选择图片，如图9-67所示。选择要显示的颜色，因为是黑白双色的图片，所以可
以显示出两种颜色，这里都勾选上看看效果，如图9-68所示。然后调整格式、单位、大小、
图层，如图9-69所示。单击“show BitMaP”按钮，可以看图片，单击“OK”按钮确认。然
后执行生成的脚本，如图9-70所示，就能看到PCB上导入的图片，如图9-71所示。之所以
看到这样的效果图，是因为生成了两个图层，200层和 201层。用display命令隐藏其他图层，
只看200层或者201层就能看到单个图层的效果，如图9-72和图9-73所示。如果想移动
407
---
## Page 420
硬件安全攻防大揭程
Logo图片，可以单独显示该层，圈选之后移动就行。删除的方法类似，如果想改变所在层，
用change命令改变即可。如果放大看，可以看到这些图形是由一根根线条组成的，再放大看
可以看出是由一个个矩形方块组成的，如图9-74所示。本质上就是用脚本依照图像的像素点
画出一个个矩形方块，用这些方块组成图形，这些方块的大小就是设置参数时设置的每个像
素点对应于大多数尺寸的方块。然后可以直接将Logo做成封装，通过调整大小做出不同大小
放置于不同图层的Logo，这样就可以像添加、移动元件一样添加、移动Logo图标，很方便。
注意：如果用跌认的200层，在导出Gerber文件时别忘记了，选择图层时
需要选上。另外，注意正反面，让厂商知道图标那一层是做在正面还是反面
区
014/5) 100
图9-66选择“import-bmp.ulp”脚本
 TE
A
图9-67选择修改好的Logo位图
日
Seleet g t+ 2 celers
(C
图9-68选择需要导入的Logo图形颜色
408
---
## Page 421
免9章打遇专刷硬件工具
图9-69设置导入的图层和大小
图9-70执行脚本生成图层
1000
19.51
图9-71导入Logo图形后的PCB
图9-72白色Logo图形导入
409
---
## Page 422
硬件安全攻防大到展
图9-73黑色Logo图形导入
图9-74放大后的Logo图形
还有一点需要注意，生成的图形最大尺寸长宽都不能超过3000mil，如果超过了就会产生
如图9-75所示的警告，无法生成图形。如果想生成大图形需要将图片切割拆分，例如切成上
下两块，或者上下左右四块，导入一张图片后先将生成的图形移动到别的位置，然后再导入
下一张，按照这样的步骤等所有的图片都导入了，再将它们拼到一起。
PCB 正面的空间太小，我们将图标放置在背面中间，然后用Group 命名圈选图形，然后
用 Change 命令将图层换到22层，就会将图形反向后放置在22层，也就是底层丝印层，
如图9-76所示。
SabeN/dse
0000
Bliac
图9-75图形超过3000mil的警告
图9-76在底层放置Logo
410
---
## Page 423
第9章打造专属硬件工具
如图 9-77 所示，UnicomTeam 出品的 HackID Pro 的 PCB 板上沉金的字是怎么出来的呢？
原理其实很简单，丝印的原理是在 PCB板上用油墨印刷出字符或者图形，面沉金的字，其实
是在PCB上做了沉金工艺，而且丝印或者Logo不在丝印层而在阻焊层，这样相当于放了一
个字符或者Logo形状的焊盘，就出现了沉金的字符或者Logo。如果是喷锡工艺出来的就很
难看，惨白色的：如果是沉金工艺的PCB，在不影响走线而且不影响电磁兼容的情况下，可
以考虑加沉金的Logo，这样看起来会比较舒服，远比白白的丝印有“品味”。当然，沉金工
具备了触摸感应开关的功能。
ii
360卡防
HackID Pro
图9-77HackID Pro的沉金PCB板图9-78360卡防将沉金Logo做成了触摸开关
PCB设计时的儿点建议。
（1）过孔不宜过多，权衡布线难度，过孔越少越好。
（2）不走直角线，避免尖端放电。
（3）元件摆放以实用为第一要务，美观其次，例如品振离芯片要近。
（4）覆铜按照实际情况调整，不要轻易全覆铜或者不覆铜。
（5）电源走线要注意，特别是大电流高电压布线。
（6）顶层和底层覆铜之间多打过孔增强导电性，射频电路更需要注意。
9.1.4PCB的加工
PCB设计完成后，用CAM处理器导出Gerber文件，如图9-79和图9-80所示。之后用
ViewMate或者CAM350做检查，如图9-81所示，检查确认没问题后给制板厂，然后耐心等
待PCB板
411
---
## Page 424
捷件安全攻防大民
1 Top
上TB