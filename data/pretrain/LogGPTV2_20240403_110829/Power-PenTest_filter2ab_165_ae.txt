    gunzip /usr/share/wordlists/rockyou.txt.gz
    john --wordlist=/usr/share/wordlists/rockyou.txt hash.txt
    ```
- 补充
    跑 GPG,用 gpg2john 把它转换成 john 能理解的 hash 值再跑
    ```bash
    gpg2john test.gpg > hash
    john --wordlist=wordlist.txt hash
    ```
---
#### Web爆破
**Tips**
- 目录、文件是一个关键点,别忘了尝试对 GET、POST 参数进行 Fuzz、甚至 user-agent、cookie 都可以 fuzz
- wfuzz 是个神器、一定要会用
**相关工具**
- [wfuzz](./安全工具/Wfuzz.md)
- Burpsuite
- [lijiejie/htpwdScan](https://github.com/lijiejie/htpwdScan) - 一个简单的 HTTP 暴力破解、撞库攻击脚本
    ```
    htpwdScan.py -u https://jigsaw.w3.org/HTTP/Basic/ --auth user.txt passwd.txt
    htpwdScan.py -u https://jigsaw.w3.org/HTTP/Basic/ --auth tests/leaked_db.txt
    htpwdScan.py -u https://jigsaw.w3.org/HTTP/Digest/ --auth user.txt passwd.txt --pass-first
    htpwdScan.py -u https://mail.owa-domain.com/ews --auth user.txt pass.txt --pass-first
    ```
- [yzddmr6/WebCrack](https://github.com/yzddmr6/WebCrack) - web 后台弱口令/万能密码批量爆破、检测工具.支持主流及部分小众 CMS.
    ```
    python3 webcrack.py
    ```
---
#### 端口爆破
**通用工具**
- [shack2/SNETCracker](https://github.com/shack2/SNETCracker) - Windows 平台的弱口令工具,多线程检查.速度快,准确度高,推荐,可爆破 SSH、RDP、SMB、MySQL、MSSQL、ORACLE、FTP、MongoDB、Memcache、PostgreSQL、Telnet、SMTP、SMTP_SSL、POP3、POP3_SSL、IMAP、IMAP_SSL、VNC、Redis
    - `3389-RDP操作异常-无法获取"RdpClient"控件的窗口句柄.不支持无窗口的 ActiveX 控件` 报错就把线程调低,建议rdp小于10个线程.
    - `SSH登录发生异常!Could not load file or assembly 'ChilkatDotNet4.dll' or one of its dependencies. 找不到指定的模块. at SNETCracker.Model.CrackSSH.creack(String ip, Int32 port, String username, String password, Int32 timeOut)` ssh 模块需要 vc++2010 32 位支持,下载安装就行了.
    - `oracle 由于实例名不一定是 orcl,所以成功率较低.设置中可以改`
- [vanhauser-thc/thc-hydra](https://github.com/vanhauser-thc/thc-hydra) - hydra 不多说了，支持多种网络服务的认证破解工具
    ```
    hydra -l admin -p password ftp://localhost/
    hydra -L default_logins.txt -p test ftp://localhost/
    hydra -l admin -P common_passwords.txt ftp://localhost/
    hydra -L logins.txt -P passwords.txt ftp://localhost/
    hydra -l "" -P ./pass -e n -t 1 10.0.0.100 vnc -V
    hydra -L ./users -P ./pass -e ns -t 1 10.0.0.50 telnet -v
    hydra -l root -P ./pass.dic 1.1.1.1 ssh
    ```
- [lanjelot/patator](https://github.com/lanjelot/patator) - 一款多功能暴力破解工具，具有模块化设计和灵活的用法。使用语法简直折磨人.
- [netxfly/x-crack](https://github.com/netxfly/x-crack) - GO 语言写的弱口令扫描器,开发教程很详细,推荐,其支持: FTP/SSH/SNMP/MSSQL/MYSQL/PostGreSQL/REDIS/ElasticSearch/MONGODB
- [galkan/crowbar](https://github.com/galkan/crowbar) - Crowbar 是一个可以在渗透测试中使用的暴力破解工具。它的开发是为了支持 thc-hydra 和其他流行的暴力破解工具目前不支持的协议。
- [awake1t/PortBrute](https://github.com/awake1t/PortBrute) - 一款跨平台小巧的端口爆破工具，支持爆破FTP/SSH/SMB/MSSQL/MYSQL/POSTGRESQL/MONGOD / A cross-platform compact port blasting tool that supports blasting FTP/SSH/SMB/MSSQL/MYSQL/POSTGRESQL/MONGOD
---
#### 文件爆破
**爆破 office 加密**
- [取证](./BlueTeam/取证.md#爆破Office加密) 爆破 Office 加密
**爆破 PDF 加密**
- [取证](./BlueTeam/取证.md#爆破PDF加密) 爆破 PDF 部分
**爆破压缩包加密**
- [取证](./BlueTeam/取证.md#爆破压缩包) 爆破压缩包部分
**爆破 VMX 密码**
- [内存取证](./BlueTeam/笔记/内存取证.md#vmware) - 爆破密码部分
---
## BlueTeam
蓝队这块,我简单分2种,一种是出了事故的时候叫 `事件响应`,另一种是暂时没出事故的时候叫 `安全建设`
### 事件响应
#### 取证
- [取证](./BlueTeam/取证.md)
#### 应急
- [应急](./BlueTeam/应急.md)
#### 分析
- [分析](./BlueTeam/分析.md)
---
### 安全建设
- [安全建设](./BlueTeam/安全建设.md)
---
## RedTeam
**综合案例**
- [某企业授权渗透报告](https://www.freebuf.com/articles/network/243831.html)
- [一星期实战总结（四）](https://evilanne.github.io/2017/03/25/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%93%EF%BC%88%E5%9B%9B%EF%BC%89/)
- [一次APT攻击](https://evilanne.github.io/2017/12/17/%E4%B8%80%E6%AC%A1APT%E6%94%BB%E5%87%BB/)
- [项目实战 | 通过弱口令沦陷校园网](https://mp.weixin.qq.com/s/2rC047z1WJqwmNMtJHnRTw)
- [记一次红蓝对抗的总结及思考](https://blog.m1kh.com/index.php/archives/350/)
- [攻防演练中攻击方的思考](https://xz.aliyun.com/t/10400)
- [记一次C/S架构客户端配置文件泄露导致的内网沦陷](https://mp.weixin.qq.com/s/I60E1VRVQEj0tX_2N-Hzmw)
---
### 环境部署
**Tips**
- vultr 的服务器可以用自己上传的 IOS 镜像, 可以把 kali 直接装到云服务器上. 性价比也比国内的服务器高很多, 登录 vultr 后默认进入 Products, 上面会有个 ISOs, 戳右上角的 Add ISO, 把 kali 官网的 IOS 下载链接复制上去就 OK
**相关资源**
- [bluscreenofjeff/Red-Team-Infrastructure-Wiki](https://github.com/bluscreenofjeff/Red-Team-Infrastructure-Wiki)
- [Mel0day/RedTeam-BCS](https://github.com/Mel0day/RedTeam-BCS) - BCS（北京网络安全大会）2019 红队行动会议重点内容
- [cybersecsi/HOUDINI](https://github.com/cybersecsi/HOUDINI) - Hundreds of Offensive and Useful Docker Images for Network Intrusion. The name says it all.
**部署工具**
- [ffffffff0x/f8x](https://github.com/ffffffff0x/f8x) - 红队环境自动化部署工具
- [LionSec/katoolin: Automatically install all Kali linux tools](https://github.com/LionSec/katoolin) - 自动安装所有的 Kali linux 工具
- [M507/Kali-TX](https://github.com/M507/Kali-TX) - 在 kali 上快速部署所需软件的脚本
- [rmikehodges/hideNsneak](https://github.com/rmikehodges/hideNsneak) - 通过提供一个界面来快速部署、管理和关闭各种云服务,从而帮助渗透测试人员管理攻击基础架构.这些包括 VM,域前置,Cobalt Strike 服务器,API 网关和防火墙.
- [QAX-A-Team/LuWu](https://github.com/QAX-A-Team/LuWu) - 快速在 VPS 部署红队基础设施
- [mandiant/commando-vm](https://github.com/mandiant/commando-vm) - 部署 Windows 的渗透测试虚拟机
- [t94j0/satellite](https://github.com/t94j0/satellite) - 部署一个容易使用 payload 的主机
- [fuzz-security/VpsEnvInstall](https://github.com/fuzz-security/VpsEnvInstall) - 一键部署渗透 VPS
- [Coalfire-Research/Red-Baron](https://github.com/Coalfire-Research/Red-Baron)
- [supr4s/VPS-web-hacking-tools](https://github.com/supr4s/VPS-web-hacking-tools)
**文件服务**
- [文件传输](./RedTeam/后渗透/后渗透.md#文件传输)
**云编排**
- terraform
    - [使用语法](../Integrated/Linux/实验/terraform.md)
    - 相关文章
        - [Automated Red Team Infrastructure Deployment with Terraform - Part 1](https://rastamouse.me/blog/terraform-pt1/)
        - [Automated Red Team Infrastructure Deployment with Terraform - Part 2](https://rastamouse.me/blog/terraform-pt2/)
    - 资源
        - [Coalfire-Research/Red-Baron](https://github.com/Coalfire-Research/Red-Baron)
- aws
    - 相关文章
        - [Red Team Infrastructure - AWS Encrypted EBS](https://rastamouse.me/blog/encrypted-ebs/)
**域名**
- https://www.expireddomains.net/ - 抢注过期域名
- https://www.freshdrop.com/
- https://www.domcop.com/
- Tips
    想法和 Tips 来自 [[Mel0day/RedTeam-BCS](https://github.com/Mel0day/RedTeam-BCS)]
    ```
    1: 不要包含世界大厂和杀毒厂商相关的域名,以及和目标相关的域名
    2: 注册目标相关区域常见的域名,记得开隐私保护
    3: 检查域名是否被分类,金融、医疗、电商、航空、旅游优先
    4: 去VT、微步检查,域名是否被标黑
    5: 举报滥用规则仔细阅读(freenom 慎用)
    1: 外网 IP, 通过情报站看是否被标黑
    2: 使用 CDN 隐藏真实 IP(部分安全厂商会拦截 CDN IP)
    搭建正常域名,提交至各安全厂商给站点分类
    1: 把域名 A 记录解析到大厂 ip, 使用时候再解析到 C2, 不用时候解析回大厂 ip
    2: VT 自评, alex 自评
    subdomain takeover : 高信誉域名 A 解析 B -》
    高信誉肉鸡做前置转发
    ```
---
### 信息收集
- [信息收集](./RedTeam/信息收集/信息收集.md)
---
### LAN-WAN
#### MITM
**相关工具**
- [LionSec/xerosploit](https://github.com/LionSec/xerosploit)
    - **相关文章**
        - [xerosploit 用法](http://www.cnbreak.org/anquan/461.html)
    - **安装**
        ```bash
        git clone https://github.com/LionSec/xerosploit
        cd xerosploit && python install.py
        1
        ./xerosploit
        ```
    - **基本操作**
        ```bash
        scan            # 映射你的网络
        iface           # 手动设置网络接口
        gateway         # 手动设置网关
        rmlog           # 删除所有日志
        ```
    - **模块演示(部分)**
        ```bash
        start
        pscan           # 端口扫描
        run
        dos             # dos 攻击
        run
        injecthtml      # 将 html 注入到目标访问的网站中
        run
        /root/test.html
        injectjs        # 将 javascript 注入到目标网站中
        run
        /root/test.js
        rdownload       # 替换目标下载的文件
        run
        exe
        /root/test.exe