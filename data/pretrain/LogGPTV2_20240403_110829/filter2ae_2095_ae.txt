## 漏洞升级：密钥泄露之后的攻击事件增多
之前的Cisco安全报告讨论的漏洞的泄露近几个月还存在，比如OpenSSL。研究发现了与密钥泄露相关的漏洞活动：Shadow
Brockers组织公布的漏洞利用影响Windows系统，Operation Cloud
Hopper运动包含针对管理服务提供商的钓鱼攻击，WikiLeaks Vault
7发布的美国情报文档描述了流行软件方案和操作系统如何被黑。漏洞可以在大众没有意识到的情况下存在和被利用。发布的漏洞允许更多的人去利用它，也给了防守者机会在寻找防御的方法。
图39中的Office漏洞发布后被就Dridex僵尸网络利用了，Apache Struct2漏洞也很快被利用了。
## 客户端漏洞增长趋势
2016年的Cisco半年安全报告提到服务端的漏洞正逐渐增长，攻击者利用服务端的软件漏洞来获取整个企业网络的访问权。2017年的前几个月，服务端的漏洞比2016年同期增长了36%左右；而客户端的漏洞大约增长了35%。服务端漏洞增长的一个原因是第三方软件漏洞需要手动打补丁。如果打补丁不及时，服务端漏洞的利用窗口将会很大。客户端漏洞也在增长，但是可以通过自动更新的方式来打补丁，这种方式可以缩小利用的窗口期。  
## 利用工具活动明显减少
利用漏洞的工具利用活动明显减少，整体的利用工具活动也减少了。软件厂商尤其是web浏览器拦截了常用的威胁来源，如Adobe
Flash和Java；攻击者开始使用简单的攻击策略，如勒索软件，DDoS，BEC等。
### 漏洞种类：缓冲区错误居首
在Common Weakness Enumeration (CWE)
威胁种类中，缓冲区错误仍然是网络犯罪分子最常用的漏洞利用。这是软件开发者经常犯的编码错误。为了预防该错误，开发者应该确保缓冲区的限制确保不被利用。
## 不要让DevOps技术暴露企业
2017年1月，攻击者开始加密公开的MongoDB实例并勒索赎金来换取解密密钥和软件。攻击者随后把目标扩大到其他的数据库，如CouchDB和Elasticsearch。由于没有进行合理的应用或者为了合法用户访问方便故意开放，DevOps服务经常是暴露的。Rapid7把对这些数据库的攻击分类为DevOps勒索软件攻击。公司使用的技术包括Docker，MySQL，MariaDB和其他流行的DevOps组件。
### CouchDB
调查中，75%的CouchDB服务器是open的，即连接到互联网且不需要验证。只有不到25%的服务器需要验证。2-3%的服务器好像被勒索了。约2%左右的CouchDB服务器有PII，PII包含医疗诊所信息、信用卡号、个人通讯录等。
### Elasticsearch
同样的，75%的Elasticsearch服务器是open的，而20%左右的服务器好像被勒索了。好消息是含有PII信息的服务器比例比较低。
### MongoDB
虽然1月的勒索攻击是针对MongoDB服务器的，使用MongoDB服务器的个人和企业组织需要增强他们的安全实践。几乎100%的MongoDB是open的，好消息是这些服务器几乎不含有敏感信息。其中很大比例的服务器是新版本的，可能最近没有更新或打补丁。具体见图45。
图46是Rapid7在研究中发现的MongoDB服务器的数量库大小分布图。大多数数据库表的数量小于10，应该是实验用的服务器。大于20个表的服务器应该是真正的生产系统。
### Docker
Docker是一种业务流程框架，其运营者对安全相当重视。然而，仍然有超过1000个Docker实例是open的。大多数发现的Docker实例分布在美国和中国。大多数的Docker实例好像是废弃的测试系统。但是1000个实例中的245个的内存至少是4G，应该是运行的生产系统。
Rapid7发现，199个open
Docker实例中，至少3个活动容器在运行（图49）。企业组织使用这些不安全的生产系统是冒着极大风险的。攻击者可以创建互联网到任一个系统的shell连接，并控制他们。
使用这些DevOps技术的公共互联网实例的组织需要按照下面的步骤来确保不处于威胁中。安全团队应该：
  * 开发安全应用DevOps技术的严格标准；
  * 维护公司拥有的公共基础设施的活性；
  * 保持DevOps技术的更新和补丁分发；
  * 执行漏洞扫描操作。
## 企业组织对已知Memcached服务器漏洞更新的速度不够快
攻击者在寻找暴露在互联网上的不安全的数据库，他们可以进行攻击、数据窃取、勒索等操作。自1月的MongoDB数据库勒索攻击之后，勒索攻击变得越来越流行了。企业组织使用Memcached来改善web服务和访问的速度和性能。调查中，我们发现了3个远程代码执行漏洞，其中一个是服务端的认证机制，意味着即使开启了服务端的认证仍然可以被利用。在报告了这3个漏洞的几个月后，我们在互联网上扫描来检查补丁分发的状态。即使厂商和Linux都很快发布了更新，仍然有79%大约11万的Memcached服务器仍然存在远程代码执行漏洞攻击的风险。
影子经济中攻击互联网上的数据库和其他设施的趋势让补丁分发变得更加急迫。及时加入了认证，DevOps服务仍然存在风险。
只有约22%的服务器开启了认证，事实上所有需要认证的服务器也有被攻击的风险。我们研究中取样的服务器分部在全球，主要是在美国和中国。
## 黑客利用云技术Malicious hackers head to the cloud to shorten the path to top
targets
云是黑客攻击的边界，黑客也在尝试对云进行攻击。因为云系统对许多企业组织来说是具有重要意义的。黑客意识到可以破环云系统来渗透连接的系统。2016年底，Cisco发现黑客对云的攻击活动明显增多了，而且技术不断熟练。2017年1月，研究人员发现黑客在晚上寻找有效的企业身份。利用网络上被黑的帐号，黑客使用暴力攻击来创建一系列验证过的企业用户证书（用户名和密码）。黑客使用20个可疑的IP地址上的服务器来尝试登录多个公司的云应用。2016年12月到2017年2月，研究人员用行为分析和其他工具分析了上千个客户公司的云环境。发现了可能登录的模式，黑客用20个IP随机循环登录来避免被检测到。
## OAuth带来的风险
在Cisco2017 Annual Cybersecurity
Report中，研究人员揭示了第三方云应用引入企业带来的风险。一旦通过OAuth认证，这些应用接触公司的基础设施，与企业云和SaaS平台自由通信。如图52所示，
每个企业组织的云应用的数量自2014年依赖急剧增长。每个企业平均有超过1000个独立的应用和超过20000次的安装。
最近针对Gmail用户和尝试滥用OAuth基础设施的钓鱼攻击强调了OAuth的安全风险。攻击者尝试控制用户的email账户，并在通讯录中传播钓鱼蠕虫。Google报告称约0.1%（10亿）用户收到这项攻击的影响。根据该数字，Cisco估计超过30万公司被该蠕虫感染。
### 云是一个被忽视的角落：单个特权云用户风险巨大
迄今为止，一些大的破坏最初都是某个单独的特权用户账户被黑或误用。黑客一旦获取了特权账户权限，就有了进入网络内部的钥匙，可以进一步窃取数据并造成更大的伤害。然而，许多组织并没有注意到该风险为了更好地评估这个安全问题的范围，Cisco威胁研究人员检查了495个公司组织的4410个特权用户账户，发现每个云平台上有6%的终端用户有特权用户账户。
研究发现，82%的特权用户每个月只从1-2个IP地址登录。对其他非正常模型的活动应该进行调查。60%的特权用户从来没有登出操作，这让未授权的用户更容易访问。用户应该每天登录来进行管理活动，工作完成后应该登出。
## 云安全的共享责任
公司在扩展云应用时，需要了解确保云安全中的角色。云服务提供商负责所出售技术的物理、法律、操作和基础设施的安全。企业负责底层云服务的使用安全。在共享的环境中应用同样的最佳实践可以最大限度地防止云系统的非授权访问。
### 未管理的基础设施和终端使企业处于威胁中
现在的动态网络通过引入新的安全威胁、减少可见性来增大攻击面。云和影子IT设备、应用是造成该问题的罪魁祸首。网络和网络时代的终端、资产管理方案能够创建未知的和未管理的安全gap。许多公司低估了企业网络、终端和云基础设施的盲点的风险。根据Lumeta的研究，不可见性可导致20-40%的网络和终端基础设施变得不知道或者未管理。这个问题纵向地影响政府、医疗行业、经济服务和科技组织。黑客可以很容易地黑掉未管理的网络基础设施和终端，然后攻击网络内的其他特定目标。这些未管理的设备可以用来被用来过滤数据，发送未授权的Tor流量，可以变成僵尸网络的一部分。即使一个简单的路由器，网络防火墙，或者分片误配置都能给攻击者机会渗透基础设施，并获取敏感数据的访问权。
为了获得可见性，组织需要访问实时的、内容推动的安全情报。没有可以实时监控和泄露检测的安全方案，攻击者能够成功地访问网络且不被检测到。组织还应该检查他们的分割策略，应用可以检测效果的鲁棒的工具。组织必须列出连接到网络的设备和系统的清单，如果安全团队没有最新的管理设备清单，那么可能会漏掉20%的连接到网络的设备。这样的清单应该定期和自动地更新，因为企业网络、终端、云基础设施是经常变化的，而且安全职员独自不能有效地进行监控这种变化。
# 防守者的安全挑战和机会
## 安全能力基准研究Security Capabilities Benchmark Study: Focus on verticals
虽然每个行业所面临的安全挑战不同，每个行业的安全成熟度也不同，但是也有一些共同的考虑。每个行业的安全专家都意识到不断成熟的威胁，而且需要比攻击者提前一步。在纵向上，IT和OT的结合非常重要，而且要确保结合的系统是受保护的。最近的WannaCry勒索软件攻击引起欧洲的Renault-Nissan发电厂宕机，这是一个互联的系统被攻击影响的例子。如果连接不安全，非目标的勒索软件都可以影响OT系统。