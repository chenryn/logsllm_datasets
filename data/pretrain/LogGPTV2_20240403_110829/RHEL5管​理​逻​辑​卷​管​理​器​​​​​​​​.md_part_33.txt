    镜​​​​​​​像​​​​​​​日​​​​​​​志​​​​​​​的​​​​​​​ UUID，用​​​​​​​来​​​​​​​通​​​​​​​过​​​​​​​群​​​​​​​集​​​​​​​维​​​​​​​护​​​​​​​日​​​​​​​志​​​​​​​信​​​​​​​息​​​​​​​
    :::
[`block_on_error`{.literal}]{.term}
:   ::: para
    镜​​​​​​​像​​​​​​​应​​​​​​​该​​​​​​​响​​​​​​​应​​​​​​​错​​​​​​​误​​​​​​​
    :::
[3]{.term}
:   ::: para
    镜​​​​​​​像​​​​​​​中​​​​​​​的​​​​​​​分​​​​​​​支​​​​​​​
    :::
[253:3 0 253:4 0 253:5 0]{.term}
:   ::: para
    构​​​​​​​成​​​​​​​镜​​​​​​​像​​​​​​​的​​​​​​​每​​​​​​​个​​​​​​​分​​​​​​​支​​​​​​​的​​​​​​​设​​​​​​​备​​​​​​​的​​​​​​​ major:minor 号​​​​​​​码​​​​​​​和​​​​​​​误​​​​​​​差​​​​​​​
    :::
:::
:::
::: section
::: titlepage
## [⁠]{#device_mapper.html#snapshot-map}A.1.4. 快​​​​​​​照​​​​​​​以​​​​​​​及​​​​​​​ snapshot-origin 映​​​​​​​射​​​​​​​对​​​​​​​象​​​​​​​ {.title}
:::
::: para
当​​​​​​​您​​​​​​​生​​​​​​​成​​​​​​​某​​​​​​​个​​​​​​​卷​​​​​​​的​​​​​​​第​​​​​​​一​​​​​​​个​​​​​​​ LVM 快​​​​​​​照​​​​​​​时​​​​​​​，要​​​​​​​使​​​​​​​用​​​​​​​四​​​​​​​个​​​​​​​设​​​​​​​备​​​​​​​映​​​​​​​射​​​​​​​器​​​​​​​设​​​​​​​备​​​​​​​：
:::
::: {.orderedlist xmlns:d="http://docbook.org/ns/docbook"}
1.  ::: para
    包​​​​​​​含​​​​​​​源​​​​​​​卷​​​​​​​原​​​​​​​始​​​​​​​映​​​​​​​射​​​​​​​列​​​​​​​表​​​​​​​`线​​​​​​​性​​​​​​​`{.literal}映​​​​​​​射​​​​​​​的​​​​​​​设​​​​​​​备​​​​​​​。​​​​​​​
    :::
2.  ::: para
    作​​​​​​​为​​​​​​​源​​​​​​​卷​​​​​​​即​​​​​​​写​​​​​​​即​​​​​​​拷​​​​​​​（copy-on-write，COW）设​​​​​​​备​​​​​​​使​​​​​​​用​​​​​​​的​​​​​​​有​​​​​​​`线​​​​​​​性​​​​​​​`{.literal}映​​​​​​​射​​​​​​​的​​​​​​​设​​​​​​​备​​​​​​​；每​​​​​​​次​​​​​​​写​​​​​​​入​​​​​​​时​​​​​​​，会​​​​​​​将​​​​​​​原​​​​​​​始​​​​​​​数​​​​​​​据​​​​​​​保​​​​​​​存​​​​​​​在​​​​​​​每​​​​​​​个​​​​​​​快​​​​​​​照​​​​​​​的​​​​​​​
    COW 设​​​​​​​备​​​​​​​中​​​​​​​以​​​​​​​便​​​​​​​保​​​​​​​持​​​​​​​不​​​​​​​更​​​​​​​改​​​​​​​可​​​​​​​见​​​​​​​内​​​​​​​容​​​​​​​（直​​​​​​​到​​​​​​​ COW 设​​​​​​​备​​​​​​​写​​​​​​​满​​​​​​​为​​​​​​​止​​​​​​​）。​​​​​​​
    :::
3.  ::: para
    带​​​​​​​`快​​​​​​​照​​​​​​​`{.literal}映​​​​​​​射​​​​​​​合​​​​​​​并​​​​​​​ #1 和​​​​​​​ ＃2 的​​​​​​​设​​​​​​​备​​​​​​​，它​​​​​​​是​​​​​​​可​​​​​​​见​​​​​​​快​​​​​​​照​​​​​​​卷​​​​​​​
    :::
4.  ::: para
    The \"original\" volume (which uses the device number used by the
    original source volume), whose table is replaced by a
    \"snapshot-origin\" mapping from device #1.
    :::
:::
::: para
用​​​​​​​来​​​​​​​创​​​​​​​建​​​​​​​这​​​​​​​些​​​​​​​设​​​​​​​备​​​​​​​的​​​​​​​固​​​​​​​定​​​​​​​命​​​​​​​名​​​​​​​方​​​​​​​案​​​​​​​，例​​​​​​​如​​​​​​​：您​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​以​​​​​​​下​​​​​​​命​​​​​​​令​​​​​​​生​​​​​​​成​​​​​​​名​​​​​​​为​​​​​​​
`base`{.literal} 的​​​​​​​ LVM 卷​​​​​​​以​​​​​​​及​​​​​​​基​​​​​​​于​​​​​​​该​​​​​​​卷​​​​​​​的​​​​​​​名​​​​​​​为​​​​​​​ `snap`{.literal} 快​​​​​​​照​​​​​​​卷​​​​​​​。​​​​​​​
:::
``` screen
# lvcreate -L 1G -n base volumeGroup
# lvcreate -L 100M --snapshot -n snap volumeGroup/base
```
::: para
这​​​​​​​产​​​​​​​生​​​​​​​四​​​​​​​个​​​​​​​设​​​​​​​备​​​​​​​，您​​​​​​​可​​​​​​​以​​​​​​​使​​​​​​​用​​​​​​​以​​​​​​​下​​​​​​​命​​​​​​​令​​​​​​​浏​​​​​​​览​​​​​​​：
:::
``` screen
# dmsetup table|grep volumeGroup
volumeGroup-base-real: 0 2097152 linear 8:19 384
volumeGroup-snap-cow: 0 204800 linear 8:19 2097536
volumeGroup-snap: 0 2097152 snapshot 254:11 254:12 P 16
volumeGroup-base: 0 2097152 snapshot-origin 254:11
# ls -lL /dev/mapper/volumeGroup-*
brw-------  1 root root 254, 11 29 ago 18:15 /dev/mapper/volumeGroup-base-real
brw-------  1 root root 254, 12 29 ago 18:15 /dev/mapper/volumeGroup-snap-cow
brw-------  1 root root 254, 13 29 ago 18:15 /dev/mapper/volumeGroup-snap
brw-------  1 root root 254, 10 29 ago 18:14 /dev/mapper/volumeGroup-base
```
::: para
`snapshot-origin`{.literal} 对​​​​​​​象​​​​​​​的​​​​​​​格​​​​​​​式​​​​​​​如​​​​​​​下​​​​​​​：
:::
``` screen
start length snapshot-origin origin
```
::: variablelist
[*`start`*]{.term}
:   ::: para
    虚​​​​​​​拟​​​​​​​设​​​​​​​备​​​​​​​中​​​​​​​的​​​​​​​起​​​​​​​始​​​​​​​块​​​​​​​
    :::
[*`length`*]{.term}
:   ::: para
    这​​​​​​​个​​​​​​​片​​​​​​​段​​​​​​​的​​​​​​​长​​​​​​​度​​​​​​​
    :::
[*`origin`*]{.term}
:   ::: para
    快​​​​​​​照​​​​​​​基​​​​​​​础​​​​​​​卷​​​​​​​
    :::
:::
::: para
`snapshot-origin`{.literal}
一​​​​​​​般​​​​​​​有​​​​​​​一​​​​​​​个​​​​​​​或​​​​​​​者​​​​​​​多​​​​​​​个​​​​​​​基​​​​​​​于​​​​​​​它​​​​​​​的​​​​​​​快​​​​​​​照​​​​​​​。​​​​​​​会​​​​​​​将​​​​​​​读​​​​​​​取​​​​​​​操​​​​​​​作​​​​​​​直​​​​​​​接​​​​​​​与​​​​​​​后​​​​​​​备​​​​​​​设​​​​​​​备​​​​​​​映​​​​​​​射​​​​​​​。​​​​​​​每​​​​​​​次​​​​​​​写​​​​​​​入​​​​​​​时​​​​​​​，会​​​​​​​将​​​​​​​原​​​​​​​始​​​​​​​数​​​​​​​据​​​​​​​保​​​​​​​存​​​​​​​在​​​​​​​每​​​​​​​个​​​​​​​快​​​​​​​照​​​​​​​的​​​​​​​
COW 设​​​​​​​备​​​​​​​中​​​​​​​以​​​​​​​便​​​​​​​保​​​​​​​持​​​​​​​其​​​​​​​不​​​​​​​更​​​​​​​改​​​​​​​的​​​​​​​可​​​​​​​见​​​​​​​内​​​​​​​容​​​​​​​（直​​​​​​​到​​​​​​​ COW 设​​​​​​​备​​​​​​​写​​​​​​​满​​​​​​​为​​​​​​​止​​​​​​​）。​​​​​​​
:::
::: para
`快​​​​​​​照​​​​​​​`{.literal}对​​​​​​​象​​​​​​​的​​​​​​​格​​​​​​​式​​​​​​​如​​​​​​​下​​​​​​​：
:::
``` screen
start length snapshot origin COW-device P|N chunksize
```
::: variablelist
[*`start`*]{.term}
:   ::: para
    虚​​​​​​​拟​​​​​​​设​​​​​​​备​​​​​​​中​​​​​​​的​​​​​​​起​​​​​​​始​​​​​​​块​​​​​​​
    :::
[*`length`*]{.term}
:   ::: para
    这​​​​​​​个​​​​​​​片​​​​​​​段​​​​​​​的​​​​​​​长​​​​​​​度​​​​​​​
    :::
[*`origin`*]{.term}
:   ::: para
    快​​​​​​​照​​​​​​​基​​​​​​​础​​​​​​​卷​​​​​​​
    :::
[*`COW-device`*]{.term}
:   ::: para
    保​​​​​​​存​​​​​​​更​​​​​​​改​​​​​​​组​​​​​​​集​​​​​​​的​​​​​​​设​​​​​​​备​​​​​​​
    :::
[P\|N]{.term}
:   ::: para
    P（持​​​​​​​久​​​​​​​）或​​​​​​​者​​​​​​​N（不​​​​​​​持​​​​​​​久​​​​​​​）；指​​​​​​​示​​​​​​​快​​​​​​​照​​​​​​​是​​​​​​​否​​​​​​​可​​​​​​​在​​​​​​​重​​​​​​​启​​​​​​​后​​​​​​​保​​​​​​​留​​​​​​​。​​​​​​​对​​​​​​​于​​​​​​​瞬​​​​​​​时​​​​​​​快​​​​​​​照​​​​​​​（N）必​​​​​​​须​​​​​​​将​​​​​​​
    less metadata 保​​​​​​​存​​​​​​​在​​​​​​​磁​​​​​​​盘​​​​​​​中​​​​​​​；内​​​​​​​核​​​​​​​可​​​​​​​将​​​​​​​其​​​​​​​保​​​​​​​存​​​​​​​在​​​​​​​内​​​​​​​存​​​​​​​中​​​​​​​。​​​​​​​
    :::
[*`chunksize`*]{.term}
:   ::: para
    将​​​​​​​保​​​​​​​存​​​​​​​到​​​​​​​ COW 设​​​​​​​备​​​​​​​中​​​​​​​的​​​​​​​有​​​​​​​数​​​​​​​据​​​​​​​更​​​​​​​改​​​​​​​的​​​​​​​组​​​​​​​集​​​​​​​的​​​​​​​扇​​​​​​​区​​​​​​​的​​​​​​​大​​​​​​​小​​​​​​​
    :::
:::
::: para
以​​​​​​​下​​​​​​​示​​​​​​​例​​​​​​​显​​​​​​​示​​​​​​​了​​​​​​​起​​​​​​​始​​​​​​​设​​​​​​​备​​​​​​​为​​​​​​​ 254:11 的​​​​​​​ `snapshot-origin`{.literal} 对​​​​​​​象​​​​​​​。​​​​​​​
:::
``` screen
0 2097152 snapshot-origin 254:11
```
::: para
以​​​​​​​下​​​​​​​示​​​​​​​例​​​​​​​显​​​​​​​示​​​​​​​了​​​​​​​起​​​​​​​始​​​​​​​设​​​​​​​备​​​​​​​为​​​​​​​ 254:11、​​​​​​​COW 设​​​​​​​备​​​​​​​为​​​​​​​ 254:12 的​​​​​​​
`snapshot-origin`{.literal} 对​​​​​​​象​​​​​​​。​​​​​​​这​​​​​​​个​​​​​​​快​​​​​​​照​​​​​​​设​​​​​​​备​​​​​​​在​​​​​​​重​​​​​​​启​​​​​​​后​​​​​​​仍​​​​​​​然​​​​​​​保​​​​​​​留​​​​​​​，且​​​​​​​保​​​​​​​存​​​​​​​在​​​​​​​
COW 设​​​​​​​备​​​​​​​中​​​​​​​的​​​​​​​数​​​​​​​据​​​​​​​组​​​​​​​集​​​​​​​大​​​​​​​小​​​​​​​为​​​​​​​ 16 个​​​​​​​扇​​​​​​​区​​​​​​​。​​​​​​​
:::
``` screen
0 2097152 snapshot 254:11 254:12 P 16
```
:::
::: section
::: titlepage
## [⁠]{#device_mapper.html#error-map}A.1.5. 错​​​​​​​误​​​​​​​映​​​​​​​射​​​​​​​对​​​​​​​象​​​​​​​ {.title}
:::
::: para
如​​​​​​​果​​​​​​​有​​​​​​​错​​​​​​​误​​​​​​​映​​​​​​​射​​​​​​​对​​​​​​​象​​​​​​​，任​​​​​​​何​​​​​​​对​​​​​​​映​​​​​​​射​​​​​​​的​​​​​​​扇​​​​​​​区​​​​​​​的​​​​​​​ I/O 操​​​​​​​作​​​​​​​会​​​​​​​失​​​​​​​败​​​​​​​。​​​​​​​
:::
::: para
错​​​​​​​误​​​​​​​映​​​​​​​射​​​​​​​可​​​​​​​用​​​​​​​来​​​​​​​进​​​​​​​行​​​​​​​测​​​​​​​试​​​​​​​。​​​​​​​要​​​​​​​测​​​​​​​试​​​​​​​某​​​​​​​个​​​​​​​设​​​​​​​备​​​​​​​在​​​​​​​失​​​​​​​败​​​​​​​后​​​​​​​如​​​​​​​何​​​​​​​动​​​​​​​作​​​​​​​，您​​​​​​​可​​​​​​​以​​​​​​​创​​​​​​​建​​​​​​​一​​​​​​​个​​​​​​​设​​​​​​​备​​​​​​​映​​​​​​​射​​​​​​​，且​​​​​​​在​​​​​​​该​​​​​​​设​​​​​​​备​​​​​​​中​​​​​​​部​​​​​​​有​​​​​​​一​​​​​​​个​​​​​​​坏​​​​​​​扇​​​​​​​区​​​​​​​，或​​​​​​​者​​​​​​​您​​​​​​​可​​​​​​​以​​​​​​​换​​​​​​​出​​​​​​​一​​​​​​​个​​​​​​​镜​​​​​​​像​​​​​​​分​​​​​​​支​​​​​​​并​​​​​​​用​​​​​​​错​​​​​​​误​​​​​​​对​​​​​​​象​​​​​​​替​​​​​​​换​​​​​​​之​​​​​​​。​​​​​​​
:::
::: para
错​​​​​​​误​​​​​​​对​​​​​​​象​​​​​​​可​​​​​​​用​​​​​​​于​​​​​​​出​​​​​​​错​​​​​​​的​​​​​​​设​​​​​​​备​​​​​​​，是​​​​​​​一​​​​​​​种​​​​​​​避​​​​​​​免​​​​​​​超​​​​​​​时​​​​​​​或​​​​​​​者​​​​​​​在​​​​​​​实​​​​​​​际​​​​​​​设​​​​​​​备​​​​​​​中​​​​​​​重​​​​​​​试​​​​​​​的​​​​​​​方​​​​​​​法​​​​​​​。​​​​​​​您​​​​​​​在​​​​​​​失​​​​​​​败​​​​​​​时​​​​​​​重​​​​​​​新​​​​​​​部​​​​​​​署​​​​​​​
LVM 元​​​​​​​数​​​​​​​据​​​​​​​时​​​​​​​可​​​​​​​将​​​​​​​其​​​​​​​作​​​​​​​为​​​​​​​中​​​​​​​间​​​​​​​对​​​​​​​象​​​​​​​使​​​​​​​用​​​​​​​。​​​​​​​
:::
::: para
`错​​​​​​​误​​​​​​​`{.literal}映​​​​​​​射​​​​​​​对​​​​​​​象​​​​​​​除​​​​​​​ *start* 和​​​​​​​ *length* 参​​​​​​​数​​​​​​​外​​​​​​​不​​​​​​​使​​​​​​​用​​​​​​​其​​​​​​​它​​​​​​​参​​​​​​​数​​​​​​​。​​​​​​​
:::