User: 论述一下HTTPS协议的工作原理，以及它与HTTP协议的相同点和不同点。
Assistant: HTTPS 协议的工作原理

HTTPS 协议的主要目的是通过对传输数据的加密保证通信的安全性。 HTTPS 通常是运行在加密层（TLS/SSL）之上的 HTTP 协议，因此，HTTPS 能够对传输数据进行加密、认证以及完整性保护。

1. 建立 TLS/SSL 连接

首先，客户端发起一个 HTTPS 请求，请求的信息包括了请求的 URL、请求方法（GET、POST 等）、请求头等等。然后，服务器接收该请求，会向客户端发送一个公钥证书，该证书中包含了该站点的公钥、证书颁发机构的信息和证书有效期等信息。

2. 公钥加密传输对称秘钥

客户端收到该证书后，会确认证书是否有效，即证书的颁发机构是否可信以及证书是否过期等。如果证书有效的话，客户端就会从证书中获取到公钥，并利用该公钥加密随机的对称密钥（也称“会话密钥”），然后将加密后的对称密钥发送给服务器。

3. 对称加密传输数据

服务器收到客户端发送的加密后的对称密钥后，通过私钥解密获取到对称密钥，然后双方就可以开始使用对称密钥进行通信，通过对称加密算法来保证数据的机密性以及完整性。

4. 关闭 TLS/SSL 连接

当所有数据的传输完毕后，双方就可以关闭 TLS/SSL 连接，结束本次通信。

HTTPS 与 HTTP 协议的相同点和不同点

相同点：

1. 都是基于 TCP/IP 协议的应用层协议；

2. 都使用 URL 来定位资源；

3. 都使用请求和响应模型来进行通信；

4. 都使用无状态协议。

不同点：

1. HTTPS 较 HTTP 更加安全，因为 HTTPS 通过SSL/TLS 进行数据的加密和解密，从而防止了数据的窃听和篡改；

2. HTTPS 需要使用SSL/TLS 证书验证服务器的身份，确认是否为信任的服务器，增强了数据通信的安全性；

3. HTTP 默认使用 80 端口，HTTPS 默认使用 443 端口；

4. HTTP 速度更快，因为 HTTPS 需要进行加密解密操作，而这些操作需要消耗额外的计算资源，导致速度变慢。