Interarrival Time(log(seconds))Count024681014050100150(a)Interarrival Time(log(seconds))Count0510150400800(b)Figure6.Thelogdistributionofinterar-rivaltimesafterﬁlteringsuggestscorrelatedalertsonBG/L(a)andlargelyindependentcategoriesonSpirit(b).Thisillustratestwoweaknessesincurrentﬁlteringalgorithms:(1)messagetagsmustrepresentindepen-dentsetsofalertstoavoidtimingcorrela-tionsand(2)asingleﬁlteringthresholdisnotappropriateforallkindsofmessages.tiontoselectandpublishbest-ﬁtmodelsandparametersisstrong,themostimportantobservationwecanmakeisthatsuchmodelingofthisdataismisguided.Themechanismsandinterdependenciesoffailuresmustbebetterunderstoodbeforestatisticalmodelsoftheirdistributionswillbeofsig-niﬁcantuse.Themeritofamodelisdependentonthecon-textinwhichitisapplied;onesizedoesnotﬁtall.Moreover,whereasthefailuresinthisstudyhavewidelyvaryingsignatures,previouspredictionapproachesfocusedonsinglefeaturesfordetectingallfailuretypes(e.g.sever-itylevelsormessagebursts).Futureresearchshouldcon-siderensemblesofpredictorsbasedonmultiplefeatures,withfailurecategoriesbeingpredictedaccordingtotheirrespectivebehavior.Currentﬁlteringalgorithms,includingours,sufferfromtwosigniﬁcantweaknesses.First,theyrequireamechanismfordeterminingwhethertwoalertsfromdifferentsourcesatdifferenttimesare“thesame”insomemeaningfulway.Wearenotawareofanymethodthatisabletoconﬁdentlystatewhethertwomessagesthatarelabeledasdifferentareactu-allycorrelatedwithoneanother.Thesecondmajorweak-nessisthataﬁlteringthresholdmustbeselectedinadvanceandisthenappliedacrossallkindsofalerts.Inreality,eachalertcategorymayrequireadifferentthreshold,whichmaychangeovertime.ThebimodaldistributionvisibleinFigure6(a)isbelievedtobeaconsequenceoftheseshort-comings.Oneofthemodes(theﬁrstpeak)isattributedtounﬁlteredredundancy.Figure3showsanexampleofinter-tagcorrelation.OnSpirit,theproblemsenumeratedabovewerenotasprevalentafterﬁltering,andtheresultwastheunimodaldistributioninFigure6(b).5RecommendationsInordertoaccuratelydetect,attribute,quantify,andpre-dictfailuresinsupercomputers,wemustunderstandthebe-haviorofsystems,includingthelogstheyproduce.Thispa-perpresentstheresultsofthebroadestsystemlogstudytodate(nearlyonebillionmessagesfromﬁveproductionsu-percomputers).WeconsiderlogsfromtheBG/L,Thunder-bird,RedStorm,Spirit,andLibertysupercomputers(Sec-tion3),andweidentify178,081,459alertmessagesin77categories(Table4).Inconclusion,wedescribehowpeoplewanttousesupercomputerlogs,whatobstaclestheyface,andourrecommendationsforovercomingthosechallenges.DetectFaultsWewanttoidentifyfailuresquickly.Mostfailuresareevidencedinlogsbyasignature(presenceorabsenceofcertainmessages),whileothersleavenosign.Webelievesuchsilentfailuresarerare.Accuratedetectionanddisambiguationrequiresexternalinformationlikeoper-ationalcontext(Figure1).Wesuggestloggingtransitionsamongoperationalstates(Section3.2.1).AttributeRootCausesWewanttorespondtofailureseffectively,whichrequiresknowingwhatfailedandwhy.Loggingmechanismsthemselvesmayfail,resultingincor-ruptedormissingmessages.Redundantandasymmetricalertreportingnecessitatesﬁltering(Section3.3);weadvisethatfutureworkinvestigateﬁltersthatareawareofcorrela-tionsamongmessagesandcharacteristicsofdifferentfail-ureclasses,ratherthanacatch-allthreshold(Section4).QuantifyRASWewanttomodelandimproveRASmet-rics.DespitethetemptationtocalculatevalueslikeMTTFfromthesystemlogs,doingsocanbeinaccurateandmis-leading.Thecontentofthelogsisastrongfunctionofthespeciﬁcsystemandloggingconﬁguration;usinglogstocomparemachinesisabsurd.Evenonasinglesystem,thelogschangeovertime,makingthemanunreliablemea-sureofprogress.WerecommendcalculatingRASmetricsbasedonquantitiesofdirectinterest,suchastheamountofusefulworklostduetofailures.PredictFailuresWewanttopredictfailuresinordertominimizetheirimpact.Themappingfromfailurestomessagesignaturesismany-to-many.Predictioneffortsmustaccountforsigniﬁcantshiftsinsystembehavior(Sec-tion3.2.1).Justasﬁlteringwouldbeneﬁtfromcateringtospeciﬁcclassesoffailures,predictorsshouldspecializeinsetsoffailureswithsimilarpredictivebehaviors(Section4).Systemlogsarearich,ubiquitousresourceworthex-ploiting.Theypresentmanyanalysischallenges,however,andshouldnotbetakenlightly.Pursuingtherecommenda-tionsinthispaperwillleadusclosertoourultimategoal:reliablecomputingforproductionusers.37th Annual IEEE/IFIP International Conference on Dependable Systems and Networks (DSN'07)0-7695-2855-4/07 $20.00  © 2007Authorized licensed use limited to: Tsinghua University. Downloaded on March 20,2021 at 12:48:03 UTC from IEEE Xplore.  Restrictions apply. 
6AcknowledgmentsTheauthorswouldliketothankthefollowingpeoplefortheirtime,expertise,anddata:SueKelly,BobBallance,RuthKlundt,DickDimock,MichaelDavis,JasonRepik,VictorKuhns,MattBohnsack,JerrySmith,andJoshEng-landofSandiaNationalLabs;KimCupps,AdamBertsch,andMikeMillerofLivermoreNationalLabs;andRamen-draSahooofIBM.Wewouldalsoliketothankourpapershepherd,RavishankarIyer,forhisguidance.References[1]Crayredstormarchitecturedocuments.http://www.cray.com/products/xt3/index.html,2006.[2]Top500supercomputingsites.http://www.top500.org/,June2006.[3]N.R.AdigaandTheBlueGene/LTeam.Anoverviewofthebluegene/lsupercomputer.InProceedingsofACMSuper-computing,2002.[4]M.F.BuckleyandD.P.Siewiorek.Acomparativeanalysisofeventtuplingschemes.InFTCS-26,Intl.Symp.onFaultTolerantComputing,pages294–303,June1996.[5]D.G.FeitelsonandD.Tsafrir.Workloadsanitationforper-formanceevaluation.InIEEEIntl.Symp.PerformanceAnal-ysisSyst.&Software(ISPASS),pages221–230,Mar2006.[6]U.Flegel.Pseudonymizingunixlogﬁles.InProceedingsoftheInfrastructureSecurityConference(InfraSec),2002.[7]J.L.Hellerstein,S.Ma,andC.Perng.Discoveringaction-ablepatternsineventdata.IBMSystemsJournal,41(3),2002.[8]I.LeeandR.K.Iyer.Faults,symptoms,andsoftwarefaulttoleranceinthetandemguardian90operatingsystem.InFault-TolerantComputing.FTCS-23.DigestofPapers.,TheTwenty-ThirdInternationalSymposiumon,pages20–29,1993.[9]Y.Liang,Y.Zhang,M.Jette,A.Sivasubramaniam,andR.K.Sahoo.Bluegene/lfailureanalysisandpredictionmodels.InProceedingsoftheIntl.Conf.onDependableSystemsandNetworks(DSN),pages425–434,2006.[10]Y.Liang,Y.Zhang,A.Sivasubramaniam,R.K.Sahoo,J.Moreira,andM.Gupta.Filteringfailurelogsforabluegene/lprototype.InProceedingsoftheIntl.Conf.onDependableSystemsandNetworks(DSN),pages476–485,June2005.[11]T.T.Y.LinandD.P.Siewiorek.Errorloganalysis:statisti-calmodelingandheuristictrendanalysis.Reliability,IEEETransactionson,39(4):419–432,1990.[12]S.MaandJ.Hellerstein.Miningpartiallyperiodiceventpatternswithunknownperiods.InProceedingsoftheIn-ternationalConferenceonDataEngineering(ICDE),pages409–416,2001.[13]F.A.NassarandD.M.Andrews.Amethodologyforanaly-sisoffailurepredictiondata.InReal-TimeSystemsSympo-sium,pages160–166,December1985.[14]A.Oliner,L.Rudolph,andR.Sahoo.Cooperativecheck-pointingtheory.InProceedingsofthe20thIntl.ParallelandDistributedProcessingSymposium(IPDPS),2006.[15]A.Oliner,L.Rudolph,andR.K.Sahoo.Cooperativecheck-pointing:Arobustapproachtolarge-scalesystemsreliabil-ity.InProceedingsofthe20thIntl.Conf.onSupercomputing(ICS),Cairns,Australia,June2006.[16]A.J.Oliner,L.Rudolph,R.K.Sahoo,J.E.Moreira,andM.Gupta.Probabilisticqosguaranteesforsupercomputingsystems.InProceedingsoftheIntl.Conf.onDependableSystemsandNetworks(DSN),pages634–643,2005.[17]A.J.Oliner,R.K.Sahoo,J.E.Moreira,M.Gupta,andA.Sivasubramaniam.Fault-awarejobschedulingforblue-gene/lsystems.InProceedingsofthe18thIntl.ParallelandDistributedProcessingSymposium(IPDPS),pages64+,2004.[18]J.Prewett.Analyzingclusterlogﬁlesusinglogsurfer.InProceedingsofthe4thAnnualConferenceonLinuxClus-ters,2003.[19]R.K.Sahoo,A.J.Oliner,I.Rish,M.Gupta,J.E.Moreira,S.Ma,R.Vilalta,andA.Sivasubramaniam.Criticaleventpredictionforproactivemanagementinlarge-scalecom-puterclusters.InProceedingsofthe9thACMSIGKDD,In-ternationalConferenceonKnowledgeDiscoveryandDataMining,pages426–435.ACMPress,2003.[20]R.K.Sahoo,A.Sivasubramaniam,M.S.Squillante,andY.Zhang.Failuredataanalysisofalarge-scaleheteroge-neousserverenvironment.InProceedingsoftheIntl.Conf.onDependableSystemsandNetworks(DSN),pages772–781,June2004.[21]B.SchroederandG.Gibson.Alarge-scalestudyoffailuresinhigh-performance-computingsystems.InProceedingsoftheIntl.Conf.onDependableSystemsandNetworks(DSN),Philadelphia,PA,June2006.[22]B.SchroederandG.Gibson.Diskfailuresintherealworld:Whatdoesanmttfof1,000,000hoursmeantoyou?In5thUsenixConferenceonFileandStorageTechnologies(FAST2007),2007.[23]J.Stearley.Towardsinformaticanalysisofsyslogs.InIEEEInternationalConferenceonClusterComputing,pages309–318,2004.[24]J.Stearley.DeﬁningandmeasuringsupercomputerRelia-bility,Availability,andServiceability(RAS).InProceed-ingsoftheLinuxClustersInstituteConference,2005.Seehttp://www.cs.sandia.gov/˜jrstear/ras.[25]D.TangandR.K.Iyer.Analysisandmodelingofcorre-latedfailuresinmulticomputersystems.Computers,IEEETransactionson,41(5):567–577,1992.[26]M.M.Tsao.TrendAnalysisandFaultPrediction.PhDdissertation,Carnegie-MellonUniversity,May1983.[27]R.Vaarandi.Abreadth-ﬁrstalgorithmforminingfrequentpatternsfromeventlogs.InProceedingsofthe2004IFIPInternationalConferenceonIntelligenceinCommunicationSystems,volume3283,pages293–308,2004.[28]K.YamanishiandY.Maruyama.Dynamicsyslogminingfornetworkfailuremonitoring.InProceedingsofthe11thACMSIGKDD,InternationalConferenceonKnowledgeDiscov-eryandDataMining,pages499–508,NewYork,NY,USA,2005.ACMPress.37th Annual IEEE/IFIP International Conference on Dependable Systems and Networks (DSN'07)0-7695-2855-4/07 $20.00  © 2007