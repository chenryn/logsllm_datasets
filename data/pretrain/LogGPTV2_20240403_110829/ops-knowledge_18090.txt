User: How to configure Nginx load balancer to distribute network requests to multiple backend servers? Please provide a sample configuration file.
Assistant: The following is an example of a basic Nginx load balancer configuration file that distributes network requests to two backend servers: ``` http { upstream backend { server backend1.example.com weight=5; server backend2.example.com ; } server { listen 80; location / { proxy_pass http://backend; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } } } ``` This configuration file has two parts: 1. `upstream` section defines a list of backend servers. In this example, there are two backend servers, one is `backend1.example.com` and the other is `backend2.example.com`. You can set a weight for each server, such as `weight=5`, which means that the server has a lighter load and should receive more request traffic. 2. The `server` section defines the listening port and request processing method of the Nginx server. In this example, Nginx listens on port 80 and proxies all requests to one of the servers defined in the `backend` upstream. The `proxy_pass` directive defines the Uniform Resource Locator (URL) of the proxy server, i.e. `http://backend`, which will be forwarded to the actual backend server. The `proxy_set_header` directive preserves some standard HTTP header information, such as the hostname and real IP address of the proxy request. This configuration file is a very simple example and more complex configurations can be based on it. For example, use different load balancing algorithms to distribute requests, run different services on different backend servers, cache requests to improve performance, and so on.