User: How to set up and manage firewall rules on a Linux server?
Assistant: Commonly used firewall software on Linux servers are iptables and firewalld. The following are some steps to set up and manage firewall rules: 1. Install firewall software: The installation method is different for different releases and versions, you can refer to official documents or check by yourself. 2. Set firewall rules: through the command line or through the graphical interface. Taking iptables as an example, the following are some commonly used commands: - Deny all access from a certain IP: sudo iptables -A INPUT -s 192.168.1.2 -j DROP - Allow access to a certain port: sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT - Allow a certain IP to access a certain port: sudo iptables -A INPUT -s 192.168.1.2 -p tcp --dport 22 -j ACCEPT - Delete rules: sudo iptables -D INPUT 1 3. Manage firewall rules: You can manage by saving and loading rule files, disabling firewall, etc. The following are some commonly used commands: - Save the rule file: sudo iptables-save > /etc/iptables/rules.v4 - Load the rule file: sudo iptables-restore < /etc/iptables/rules.v4 - Disable the firewall: sudo systemctl stop firewalld (for firewalld) - View the current rules: sudo iptables -L Notes: - Before setting the rules, it is recommended to back up the original rules to prevent unexpected situations. - When the server has multiple network interfaces, you need to specify which interface the rule targets. - Firewall rules need to be combined with service ports, network topology and other factors for reasonable configuration.