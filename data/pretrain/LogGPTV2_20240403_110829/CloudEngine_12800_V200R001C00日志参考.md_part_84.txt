文档版本 06 (2017-09-12) 华为专有和保密信息 792
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
可能原因
原因1：
输入的路径不完整或无效。
原因2：
原始文件名路径和新文件名路径不一样。
原因3：
rename操作成功完成。
处理步骤
l 原因1：
确保输入的路径是完整的及有效的。
l 原因2：
确保原始文件名路径和新文件名路径是一样的且都在SFTP目录下。
l 原因3：
正常运行信息，无需处理。
----结束
75.13 SSH/5/SSH_SFTP_EXECUTED_RMDIR_OPER
日志信息
SSH/5/SSH_SFTP_EXECUTED_RMDIR_OPER: Executed RMDIR Operation.
(UserName=[UserName], IPAddress=[IPAddress], VPNInstanceName=[VPNInstanceName],
DirectoryName=[DirectoryName], Result=[Result], Detail=[Detail].)
日志含义
rmdir操作成功或失败时打印此日志。
日志参数
参数名称 参数含义
UserName 标识SFTP客户端用户名。
IPAddress 标识SFTP客户端IP地址。
VPNInstanceName 标识VPN实例名称。
DirectoryName 标识目录名称。
Result 标识操作的结果。
文档版本 06 (2017-09-12) 华为专有和保密信息 793
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
参数名称 参数含义
Detail 标识操作失败或成功的原因。
可能原因
原因1：
输入的路径不完整或无效。
原因2：
rmdir操作成功完成。
处理步骤
l 原因1：
确保输入的路径是完整的及有效的。
l 原因2：
正常运行信息，无需处理。
----结束
75.14 SSH/5/SSH_SFTP_FILE_OPERATION_FAILED
日志信息
SSH/5/SSH_SFTP_FILE_OPERATION_FAILED: File operation failed.
(UserName=[UserName], IPAddress=[IPAddress], VPNInstanceName=[VPNInstanceName],
Operation=[Operation], FileName=[FileName], Result=[Result],
FailureReason=[FailureReason].)
日志含义
在SFTP服务器上执行delete操作，打开或删除文件时打印此日志。
日志参数
参数名称 参数含义
UserName 标识SFTP客户端用户名。
IPAddress 标识SFTP客户端IP地址。
VPNInstanceName 标识VPN实例名称。
Operation 标识通过SFTP服务器对文件执行的操作。
FileName 标识存在的文件名称。
文档版本 06 (2017-09-12) 华为专有和保密信息 794
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
参数名称 参数含义
Result 标识操作的结果。
FailureReason 标识SFTP操作失败的原因。
可能原因
原因1：
输入的文件或目录未找到。
原因2：
输入的路径不完整或无效。
处理步骤
l 原因1：
确保输入的文件或目录存在。
l 原因2：
确保输入的路径是完整的及有效的。
----结束
75.15 SSH/5/SSH_SFTP_OPER_FAIL
日志信息
SSH/5/SSH_SFTP_OPER_FAIL: SFTP operation failed. (UserName=[UserName],
IPAddress=[IPAddress], VPNInstanceName=[VPNInstanceName], Operation=[Operation],
File/Dir Name=[File/Dir Name], Reason=[Reason].)
日志含义
SFTP操作失败。
日志参数
参数名称 参数含义
UserName 登录的用户名。
IPAddress SFTP客户端的IP地址。
VPNInstanceName 标识VPN实例名称。
Operation 操作名。
文档版本 06 (2017-09-12) 华为专有和保密信息 795
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
参数名称 参数含义
File/Dir Name 设置的文件名。
Reason SFTP操作失败的原因。
可能原因
在SFTP客户端视图下执行命令cd、cdup、dir、ls、get、help、mkdir、put、pwd、
rmdir等，执行失败。
处理步骤
l 正常运行信息，无需处理。
----结束
75.16 SSH/5/SSH_SFTP_REQ_RECORD
日志信息
SSH/5/SSH_SFTP_REQ_RECORD:The SFTP server received an operation request from a
client. (UserName=[UserName], IPAddress=[IPAddress],
VPNInstanceName=[VPNInstanceName], Request=[Request], Result=[Result].)
日志含义
SFTP服务器端收到客户端SSH协议请求。
日志参数
参数名称 参数含义
UserName 标识SFTP客户端名称。
IPAddress 标识SFTP客户端IP地址。
VPNInstanceName 标识VPN实例名称。
Request SFTP客户端的操作请求类型。
Result 标识操作的结果。
可能原因
SFTP用户登录后，对设备进行操作。
文档版本 06 (2017-09-12) 华为专有和保密信息 796
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
处理步骤
l 日常运行信息，无需处理。
----结束
75.17 SSHS/5/SSH_TRANS_FILE_FINISH
日志信息
SSHS/5/SSH_TRANS_FILE_FINISH:Finished to transfer file. (FileName=[filename],
UserName=[username], IpAddress=[IPAddress], VpnInstanceName=[VPNInstanceName],
TransferLength=[length], ActionType=[actionType])
日志含义
文件传输完成。
日志参数
参数名称 参数含义
FileName 文件名称。
UserName 用户名称。
IpAddress 用户的IP地址。
VpnInstanceName VPN实例的名称。
Transfer length 传输文件长度。
ActionType 文件传输类型。
可能原因
通过SFTP完成文件传输。
处理步骤
l 正常运行信息，无需处理。
----结束
文档版本 06 (2017-09-12) 华为专有和保密信息 797
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
75.18 SSH/5/SSH_USER_LOGIN
日志信息
SSH/5/SSH_USER_LOGIN:The SSH user succeeded in logging in.
(ServiceType=[ServiceType], UserName=[UserName], IPAddress=[IPAddress],
VPNInstanceName=[VPNInstanceName].)
日志含义
SSH用户登录成功。
日志参数
参数名称 参数含义
ServiceType 服务类型。
UserName 用户名。
IPAddress SSH客户端用户IP地址。
VPNInstanceName 标识VPN实例名称。
可能原因
SSH用户登录成功。
处理步骤
l 正常运行信息，无需处理。
----结束
75.19 SSH/5/SSH_USER_LOGIN_FAIL
日志信息
SSH/5/SSH_USER_LOGIN_FAIL: The SSH user failed to login.
(ServiceType=[ServiceType], FailedReason=[FailedReason], UserName=[UserName],
IPAddress=[IPAddress], VPNInstanceName=[VPNInstanceName].)
日志含义
SSH用户登录失败。
文档版本 06 (2017-09-12) 华为专有和保密信息 798
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
日志参数
参数名称 参数含义
ServiceType 服务类型。
FailedReason 登录失败的原因。
UserName SSH用户名。
IPAddress 客户端的IP地址。
VPNInstanceName 标识VPN实例名称。
可能原因
可能原因：
原因1：
SSH用户不存在。
原因2：
RSA、DSA或ECC不存在。
原因3：
用户名和密码错误。
原因4：
SSH服务未使能。
原因5：
ACL的规则匹配了该用户的IP地址，且动作为deny。
原因6：
SSH服务器上连接的用户数目达到最大值。
原因7：
缺省路径未开启用户访问权限。
处理步骤
步骤1 执行命令display ssh user-information查看所有SSH用户。
l 如果没有配置SSH用户，执行命令ssh user创建SSH用户。
l 如果已经配置SSH用户，请执行其他步骤。
步骤2 执行命令display rsa local-key-pair public、display dsa local-key-pair public或display
ecc local-key-pair public查看本地密钥对中的公钥部分信息。
文档版本 06 (2017-09-12) 华为专有和保密信息 799
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
l 如果没有配置RSA、DSA或ECC密钥，执行命令rsa local-key-pair create、display
dsa local-key-pair public或ecc local-key-pair create生成本地主机密钥对和服务器
密钥对。
l 如果已经配置RSA、DSA或ECC密钥，请执行其他步骤。
步骤3 保证用户名和密码正确。
步骤4 保证SSH服务已经使能。
步骤5 执行命令display acl，查看ACL的规则信息。
l 如果有匹配该用户IP地址，且动作为deny的规则项，则请依次执行acl和rule命
令，修改相应规则的动作为permit。
l 如果没有匹配该用户IP地址，且动作为deny的规则项，请执行其他步骤。
步骤6 保证SSH服务器上连接的用户数目未达到最大值。
步骤7 开启缺省路径的用户访问权限。
步骤8 请收集日志信息和配置信息，并联系技术支持人员。
----结束
75.20 SSH/5/SSH_USER_LOGIN_FAIL_SCHD
日志信息
SSH/5/SSH_USER_LOGIN_FAIL_SCHD:Failed to login through SSH [failed_count] time(s)
in last [time_gap] minute(s).
日志含义
在一分钟内，SSH用户多次登录失败。
日志参数
参数名称 参数含义
failed_count 标识验证失败的统计次数。
time_gap 标识时间间隔。
可能原因
可能原因：
原因1：
SSH用户不存在。
原因2：
RSA、DSA或ECC不存在。
原因3：
文档版本 06 (2017-09-12) 华为专有和保密信息 800
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
用户名和密码错误。
原因4：
SSH服务未使能。
原因5：
SSH服务器上连接的用户数目达到最大值。
原因6：
ACL的规则匹配了该用户的IP地址，且动作为deny。
处理步骤
步骤1 执行命令display ssh user-information查看所有SSH用户的配置信息。
l 如果没有创建SSH用户，执行命令ssh user创建一个新的SSH用户。
l 如果已经创建了SSH用户，请执行其他步骤。
步骤2 执行命令display rsa local-key-pair public、display dsa local-key-pair public或display
ecc local-key-pair public查看本地密钥对中的公钥部分信息。
l 如果没有配置RSA、DSA或ECC密钥，执行命令rsa local-key-pair create、display
dsa local-key-pair public或ecc local-key-pair create生成本地主机密钥对和服务器
密钥对。
l 如果已经配置RSA、DSA或ECC密钥，请执行其他步骤。
步骤3 保证用户名和密码正确。
步骤4 保证SSH服务已经使能。
步骤5 保证SSH服务器上连接的用户数目未达到最大值。
步骤6 执行命令display acl，查看ACL的规则信息。
l 如果有匹配该用户IP地址，且动作为deny的规则项，则请依次执行acl和rule命
令，修改相应规则的动作为permit。
l 如果没有匹配该用户IP地址，且动作为deny的规则项，请执行其他步骤。
步骤7 请收集日志信息和配置信息，并联系技术支持人员。
----结束
75.21 SSH/5/SSH_USER_LOGOUT
日志信息
SSH/5/SSH_USER_LOGOUT:The SSH user logged out. (ServiceType=[ServiceType],
LogoutReason=[LogoutReason], UserName=[UserName], IPAddress=[IPAddress],
VPNInstanceName=[VPNInstanceName].)
日志含义
SSH用户退出系统。
文档版本 06 (2017-09-12) 华为专有和保密信息 801
版权所有 © 华为技术有限公司
CloudEngine 12800系列交换机
日志参考 75 SSH
日志参数
参数名称 参数含义
ServiceType SFTP服务类型。
UserName 用户名。
IPAddress 客户端用户IP地址。
VPNInstanceName 标识VPN实例名称。
可能原因
SSH用户退出系统。可能原因如下：
原因1:
系统状态改变。