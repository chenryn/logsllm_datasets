192
8.2软件构建自动化
207
8.3小结
.236
第9章awk的惊人表现
237
9.1awk命令行、
238
9.2awk程序模型.
239
9.3程序元素
240
9.4记录与字段
250
9.5.
模式与操作
252
9.6
在awk里的单行程序
254
9.7语句
257
www.TopSage.com
---
## Page 9
9.8用户定义函数
Q2660m
9.9字符串函数
.269
9.10数值函数
-.277
9.11小结
.279
第10章文件处理
280
10.1列出文件
.280
10.2使用touch更新修改时间
286
10.3临时性文件的建立与使用
.287
10.4寻找文件
291
10.5执行命令：xargs..
306
10.6文件系统的空间信息
.308
10.7比较文件
..312
10.8小结
320
第11章扩展实例：合并用户数据库
322
11.1问题描述
..322
11.2密码文件
323
11.3合并密码文件
324
11.4改变文件所有权，
.331
11.5其他真实世界的议题
335
11.6小结。
.336
第12章拼写检查.
338
12.1spell程序
338
12.2最初的UNIX拼写检查原型
339
12.3 改良的ispell 与aspell..
.340
12.4在awk内的拼写检查程序
343
12.5小结
362
www.TopSage.com
---
## Page 10
目录
第13章进程，
363
13.1进程建立、
364
13.2.进程列表，
365
13.3进程控制与删除。
.371
13.4进程系统调用的遍踪，
378
13.5进程账
382
13.6延迟的进程调度
383
13.7 /proc文件系统，
13.8小结
..390
第14章Shell可移植性议题与扩展
391
14.1迷思
391
14.2 bash的 shopt 命令
395
14.3共通的扩展
399
14.4下载信息，
.412
14.5其他扩展的Bourne式Shell.
, 415
14.6 Shel1版本
416
14.7 Sbell初始化与终止。
416
14.8小结
422
第15章安全的Shell脚本：起点
424
15.1安全性Shell脚本提示。
424
15.2 限制性Shell.
427
15.3特洛伊木马
429
15.4为Shell脚本设置setuid：坏主意
.430
15.5ksh93与特权模式，
. 431
15.6小结
432
www.TopSage.com
---
## Page 11
M4
目录
附录A编写手册页
435
附录B文件与文件系统
449
附录C重要的UNIX命令
483
参考书目
488
www.TopSage.com
---
## Page 12
计算机精品学习资料大放送
软考官方指定教材及同步辅导书下载|软考历年真是解析与答案
软考视频|考试机构|考试时间安排
Java一览无余：Java视频教程|JavaSE|JavaEE
.Net技术精品资料下载汇总：ASPNET篇
.Net技术精品资料下载汇总：C#语言篇
.Net技术精品资料下载汇总：VB.NET篇
撼世出击：C/C++编程语言学习资料尽收眼底电子书+视频教程
VisualC++(VC/MFC）学习电子书及开发工具下载
Perl/CGI脚本语言编程学习资源下载地址大全
Python语言编程学习资料（电子书+视频教程）下载汇总
最新最全Ruby、RubyonRails精品电子书等学习资料下载
数据库管理系统（DBMS）精品学习资源汇总：MySQL篇|SQLServer篇|Oracle篇
最强HTML/xHTML、CSS精品学习资料下载汇总
最新JavaScript、Ajax典藏级学习资料下载分类汇总
网络最强PHP开发工具+电子书+视频教程等资料下载汇总
UMIL学习电子资下载汇总软件设计与开发人员必备
经典LinuxCBT视频教程系列Linux快速学习视频教程一帖通
天罗地网：精品Linux学习资料大收集（电子书+视频教程）Linux参考资源大系
Linux系统管理员必备参考资料下载汇总
Linuxshell、内核及系统编程精品资料下载汇总
UNIX操作系统精品学习资料分类总汇
FreeBSD/OpenBSD/NetBSD精品学习资源索引含书籍+视频
Solaris/OpenSolaris电子书、视频等精华资料下载索引
>>更多精品资料请访问大家论坛计算机区...
---
## Page 13
TopSage.com
序
真的！我已经30年未写Shell脚本了？！？现在仔细想想，我想应该有吧，虽然一开
始只是作些简单的工作（早期的UNIXShell，在BourneShell之前，是极为原始的，
因此要写个实用的脚本是很难的事，幸好那段日子并不长）。
近几年来，Shell一直被忽略，是一个不受重视的脚本语言。Shell虽然是UNIX的第
一个脚本语言，但它仍是相当优秀的，它结合了延展性与效率，持续保有独具的特色，
并不断地被改良，使它们多年来一直能与那些花招很多的脚本语言保持抗衡。GUI是比
命令行Shell更流行的用户界面，但脚本语言时常都是这些花哨的屏幕图形界面最强有
力的支柱，并一直称职地扮演这个角色。
Shell需依赖其他程序才能完成大部分的工作，这或许是它的缺陷，但它不容置疑的长
处是：简洁的脚本语言标记方式，而且比C（还有其他语言）所编写的程序执行更快、
更有效率。它使用通用的、一般用途的数据表示方式，文本行，在一个大的（且可扩展
的）工具集中，让期本语言能够搭配工具程序，产生无穷的组合。用户可以得到比那些
独占性软件包更灵活、功能更强大的工具。Shell的早期成功即以此法强化UNIX的开
发哲学，构建一套专门性、单一目的工具，并将它们整合在一起做更多的事。该原则接
着鼓励了Shell的改良，允许用这种方式完成更多的工作。
Shell期本还有一个超越C程序的优势，同样也优于其他脚本语言的地方，可用一般方
式轻松地读取与修改，即便不是C的程序设计人员，也能像现今许多系统管理人员一样，
很快就能接受Shell脚本。如此种种，让Shell脚本成为延展用户环境与定制化软件包
的重要一环。
的确，它其实有一种“周而复始”的特性，在我看过这么多软件项目之后，项目将简单
的Shell脚本置于关键位置，让用户容易地从他们的角度来定制软件。然而，也因为这
www.TopSage.com
---
## Page 14
2
序
些项目的Shell脚本与周围的C程序码相比较，要更容易解决问题，所以不断产生更
复杂的脚本。最后，它们终于复杂到让用户很难轻易地处理（我们在CNews项目里的
部分脚本就拥有著名的Shell压力测试，完金未考虑用户的立场），且必须提供新的脚
本集合，供用户进行定制
长久以来，一直都没有编写Shel1脚本相关的好书出现。UNIX程序设计环境方面的书
籍偶有轴及这方面议题，但通常只是简短带过，作为它众多主题的一部分，有些写得不
错的书也很久没有更新了。好的参考文件应该是针对各种不同的Shell讨论，但必须是
贴近新手的实战手册，盖工具程序与Shell，以循序渐近的方式介绍，告诉我们如何
得到更好的结果与输出，还要注意到实例面，像是可读性议题，最好它还讨论各式Shel1
的异同，而不是好像世上只有一个Shell存在一样。
这本书就是这样的，甚至做到比上面说的还多。至少，它是第一本且最好的一本、内容
最新的、以最轻松的方式介绍UNIX脚本语言的书。以实用的范例进行解说：让工具
充分发挥自己的效能。它包括了标准UNIX工具，让用户有个好的开始（对于觉得着
手册贡有点难的用户来说，这会是个相当不错的参考教材），我最高兴的是看到将awk
列人取材范墨，这是相当有用且不容忽视的工具程序，适于整合其他工具及简洁地完成
小型程序设计的工作。
我建议所有正在编写Shell脚本或管理UNIX系统的人都要读这本书。我在这本书上学
到很多，我想你也会。
Henry Spencer
SP Systems
www.TopSage.com
---
## Page 15
前言
刚开始使用UNIX（注1）的用户与程序员突然面对各式各样的程序时，都会有很多疑
问，例如“它们的功能是什么”，还有“我怎么使用它们”。
本书可以回答你这些问题。告诉你如何结合UNIX工具，将其与标准的Shell相结合完
成工作。Shell脚本的编写是门艺术，需要的不只是Shell语言的相关知识，还要你对各
个独立的UNIX程序有基本认识：为什么会有这些工具，要怎么单纯地使用它们，怎么
将它们与其他程序结合应用。
为什么需要学习如何编写Shell命令？因为大部分情况下，中型到大型的向题都能拆成
较小的部分，这些小部分也多半都能找到现成的UNIX工具处理。用心编写的好用Shell
脚本常常能够比C或C++语言编写的程序更快地解决相同的问题。也可以让Shell脚本
提供可移植性，也就是说，可以跨越UNIX与POSIX兼容的系统，有时仅需略作修改，
甚至不必修改，即可使用。
谈到UNIX程序时，我们使用工具（tool）这个字。以UNIX工具箱（toolbox）的做法
解决问题，长久以来以“软件工具（SoftwareTools）”暂学（注2）为人所熟知。
瑞士军刀是很多人口袋里的好帮手。它有刀刃、螺丝起子、开罐器、牙签等工具。功能
更齐备的，还有其他像拔塞钻、放大镜等工具。瑞士军刀能派上用场的时候很多，虽然
用它来修前和进行简单雕刻很不错，但你绝不会拿它来盖狗屋或制作岛类喂食器。相反，
注1：：整本书里，我们都使用UNIX这个乎，指的不单单是商用的UNIX系统原始监本，梁
Solaris，Mac OS X，与HP-UX，还包括可自由取得的类似系统。例如 GNU/Linux 与
各种BSD &统:BSD/OS,NetBSD、FreeBSD,与 OpenBSD,
注2：此法四《Software Tools）（Addison-Wesley）这本书两广受欢迎。
3