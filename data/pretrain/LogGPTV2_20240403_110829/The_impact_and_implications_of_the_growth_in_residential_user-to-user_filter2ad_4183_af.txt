p
t
n
a
n
i
m
o
d
f
o
r
e
b
m
u
N
100
10-1
100
101
102
Daily Inbound Traffic [Gbps]
Figure 20: Correlation between dominant peer
counts and traﬃc volumes in user-to-user traﬃc
since the domestic group also includes ﬁle-sharing users in
organizations connected by leased-lines.
Figure 20 shows the correlation between dominant peer
counts and the traﬃc volumes for the user-to-user group on
a log-log scale. There are a surprisingly wide range of peer
numbers regardless of the traﬃc volume. Some users com-
municate with more than 1000 peers but those outliers above
the graph range seem to perform scanning. A large number
of users communicate with only one or a few peers even in
the high-volume region but similarly many users communi-
cate with 10-100 peers. If ﬁle-sharing applications have a
typical transfer size for each peer, we should be able to ob-
serve positive correlation between peer numbers and traﬃc
volumes. Although a positive correlation coeﬃcient (0.28)
is observed, it spans a wide range of traﬃc volume, and the
extreme heavy-hitters with a few peers do not follow the cor-
relation. This suggests that high-volume traﬃc is generated
not only by peer-to-peer ﬁle-sharing but also by other ap-
plications such as content-downloading from a single server.
A plausible explanation for the large variance between peer
numbers and traﬃc volumes is that many users use both
ﬁle-sharing and downloading at diﬀerent ratios.
On the other hand, the correlation plot for the user-to-
domestic group (omitted due to the space constraints) has a
slight negative correlation coeﬃcient (-0.12). That is, heavy-
hitters in this group tend to communicate with a small num-
ber of peers when compared with the user-to-user group.
5. RELATED WORK
The properties of residential broadband traﬃc diﬀer con-
siderably from those of academic or oﬃce traﬃc often seen
in literature. The peak hours have shifted from oﬃce hours
to evening hours, and the constantly ﬂowing portion of daily
traﬃc ﬂuctuations is much larger than those found in earlier
reports [4, 5, 25].
There is little solid work in literature that tries to estimate
the growth rate of Internet traﬃc. Although old studies [23,
3] exist, it has become harder and harder after the privatiza-
tion of the Internet in mid 90s. Recently, Odlyzko analyzed
various aspects of traﬃc growth, and reported the growth
rate of 100% per year for the U.S. in 2003 [19]. The IX traf-
ﬁc in Figure 1 shows that the Internet traﬃc in Japan is still
steadily growing although the growth rate has slowed down
after 2002 and has been stable at about 50% per year for the
last few years. Statistics in governmental reports of Hong
Kong and Australia also show similar trends in their traﬃc
growth [9, 1]. Probably, it is partly because broadband de-
ployment has reached most technically conscious users, and
partly because the IT industry is still recovering from the
post dot-com bubble economy.
Our results are consistent with earlier measurements of
peer-to-peer traﬃc; peer-to-peer traﬃc is dominant in com-
mercial backbones [24], highly variable and skewed among
participating nodes [26, 27, 8], and exhibits behavior con-
siderably diﬀerent from traditional web traﬃc [7]. However,
measurement techniques relying on known port numbers to
identify applications can no longer be applied since peer-to-
peer traﬃc is shifting from known to arbitrary ports [14].
Among various peer-to-peer measurements, a study of
France Telecom’s ADSL networks [24] is similar to our per-
customer analysis in monitoring access lines and compar-
ing traﬃc volumes among data sets over a year. However,
their focus is on ﬁle-sharing applications and the monitoring
method relies on known port numbers. The results showing
two distinct user segments are considerably diﬀerent from
ours, probably due to the ﬁber user ratio and diﬀerences in
popular application software from our measurements.
Many access technologies employ asymmetric line speed
for inbound and outbound based on the assumption that
content-downloading is dominant for average users. How-
ever, this assumption does not hold in our measurements.
Although many studies report the asymmetric nature of
peer-to-peer traﬃc [27, 26, 24], it is clear from our com-
parison between ﬁber and DSL users that the bandwidth
demands of applications and users are not asymmetric, and
the deployment of symmetric access will change traﬃc pat-
terns.
It is known that, in general, peer-to-peer traﬃc exhibits
very poor geographic locality [16, 15]. The intersection be-
tween query sets across diﬀerent regions is also very small
[16] partly due to language and cultural barriers [10, 24].
However, modern peer-to-peer networks are characterized
by the small-world model (i.e., small diameter and highly
clustered topologies) [28], which could lead to heterogeneous
behavior in diﬀerent geographic regions [16]. Our result of
poor locality in user-to-user traﬃc is consistent with others,
though the granularity of the analysis is only at the prefec-
tural level.
This paper focuses on user-to-user traﬃc rather than peer-
to-peer ﬁle-sharing. Our results show that ﬁle-sharing is not
the only dominant application in user-to-user traﬃc. Our
work is, to the best of our knowledge, the ﬁrst involving the
collection of long-term measurements from multiple ISPs to
estimate nation-wide traﬃc volume, and the ﬁrst investigat-
ing user-to-user traﬃc in both ﬁber and DSL access lines.
6.
IMPLICATIONS
Our per-customer measurements reveal the behavior of
residential traﬃc in depth. At ﬁrst, we noticed a large skew
in traﬃc usage: the top 4% of heavy-hitters account for
75% and 60% of inbound and outbound traﬃc, respectively.
Fiber traﬃc accounts for 86% and 75% of inbound and out-
bound traﬃc, respectively. We tend to attribute the skews
to the divide between a handful of heavy-hitters and the rest
of the users. Our in-depth analysis, however, shows the ex-
istence of diverse and widespread heavy-hitters who appear
to be casual users rather than more dedicated users. In ad-
dition, the total traﬃc behavior seems to reﬂect the balance
of the diversity.
For example, the large skew in per-customer traﬃc seems
to be caused by a small number of heavy-hitters but, in fact,
the distribution of per-customer traﬃc is heavy-tailed and
it is diﬃcult to draw a line between heavy-hitters and the
rest of the users. The large skew in traﬃc volume between
ﬁber and DSL is not caused by qualitative diﬀerences in the
behaviors of ﬁber and DSL users but simply by the larger
percentage of heavy-hitters among ﬁber users. The domi-
nation of user-to-user traﬃc in residential traﬃc seemingly
points to peer-to-peer ﬁle-sharing but it is apparently a mix-
ture of ﬁle-sharing and content-downloading. All the results
indicate that the perceived divides are actually caused by
diversity, or at least the divides are blurred by diversity. At
the same time, the overall user behavior reﬂects the balance
of this diversity, but it is sometimes dictated by the most
inﬂuential group.
We can no longer view heavy-hitters as exceptional ex-
tremes since there are too many of them, and they are sta-
tistically distributed over a wide traﬃc volume range. It is
more natural to think they are casual users who start playing
with new applications such as video-downloading and peer-
to-peer ﬁle-sharing, become heavy-hitters, and eventually
shift from DSL to ﬁber. Other users subscribe to ﬁber ﬁrst,
and then, look for applications to use the abundant band-
width. These casual users do not pay attention to underly-
ing technologies and are capricious; their behavior would be
easily aﬀected by social, economical or political factors. The
implication is that, if a new attractive application emerges,
a drastic rise could occur in traﬃc usage. By the same
token, traﬃc could decrease. For example, current peer-
to-peer applications exhibit poor locality but locality-aware
applications would make better use of backbone bandwidth.
Current peer-to-peer ﬁle-sharing algorithms are designed to
ﬁll the narrow upstream bandwidth of DSL and are too ag-
gressive for ﬁber access where it would not take too long to
download contents on demand.
In fact, the current total traﬃc volume is heavily impacted
by extreme heavy-hitters so that a slight change in the algo-
rithms or charging policies could have a signiﬁcant impact
to backbone traﬃc. This situation can be regarded as a
tragedy of the commons [17] since the cost-eﬀective nature
of the Internet architecture relies on statistical multiplexing
assuming bandwidth sharing among users. In fact, ISPs are
tempted to avoid congestion by suppressing traﬃc from ex-
treme heavy-hitters, and it might be even desirable from a
view point of fair share of the infrastructural costs. At the
same time, it is just a stopgap since users as a whole are
shifting towards high-volume usage.
As for the generality of our measurements, several aspects
are speciﬁc to Japanese traﬃc. One is the high penetration
of ﬁber access. It seems to take some time for other coun-
tries to deploy ﬁber access; even Korea that has the highest
broadband penetration ratio does not have widespread ﬁber
access [20]. Japan can be regarded as a model of widespread
symmetric residential broadband access. Another aspect is
fairly closed domestic traﬃc. The current situation is partly
due to language and cultural barriers and partly due to rich
connectivity within the country. The former could be com-
mon to other non-English speaking countries to some extent,
and the latter can be seen simply as the geographic concen-
tration of bandwidth-rich users.
7. CONCLUSION
The widespread deployment of residential broadband ac-
cess has tremendous implications on our lives. Although
its eﬀects on the Internet infrastructure are diﬃcult to pre-
dict, it is essential for researchers and industry to prepare
to accommodate innovations brought by empowered end
users. Extensive eﬀort to establish protected data sharing
mechanisms with commercial Japanese Internet backbone
providers has allowed us to achieve an unprecedented em-
pirical analysis of a signiﬁcant segment of the Japanese res-
idential broadband traﬃc.
The growth of residential broadband traﬃc has already
contributed to a signiﬁcant increase in commercial backbone
traﬃc. In our study, residential broadband traﬃc accounts
for two thirds of the ISP backbone traﬃc and is increasing
at 37% per year, which will force signiﬁcant reevaluation of
the pricing and cost structures of the ISP industry.
We have further studied residential per-customer traﬃc in
one of the ISPs, and investigated diﬀerences between DSL
and ﬁber users, heavy-hitters and normal users, and in ge-
ographic traﬃc matrices. We found that a small segment
of users dictates the overall behavior; 4% of heavy-hitters
account for 75% of the inbound volume. The ﬁber users
account for 86% of the inbound volume. About 63% of the
residential traﬃc volume is user-to-user traﬃc that exhibits
diverse behavior. The distribution of heavy-hitters is heavy-
tailed without a clear boundary between heavy-hitters and
the rest of users.
For future work, we will continue collecting aggregated
traﬃc logs from participating ISPs. We are also planning to
do per-customer traﬃc analysis from other ISPs, and hope to
compare our results with measurements from non-Japanese
ISPs.
Acknowledgments
We are grateful to the following ISPs for their support and
assistance with our data collection; IIJ, Japan Telecom, K-
Opticom, KDDI, NTT Communications, POWEREDCOM,
and SOFTBANK BB. We would like to thank the Ministry
of Internal Aﬀairs and Communications of Japan for their
support in coordinating our study. We would also like to
thank Atsushi Shionozaki of Sony CSL, Randy Bush of IIJ,
k claﬀy of CAIDA, and the anonymous reviewers for their
valuable input.
8. REFERENCES
[1] Australian Bureau of Statistics: Internet Activity, Australia,
Mar 2005. http://www.abs.gov.au/.
[2] Cisco Sampled NetFlow.
http://www.cisco.com/univercd/cc/td/doc/product/software/
ios120/120newf%t/120limit/120s/120s11/12s sanf.htm.
[3] K. Claﬀy, G. Polyzos, and H. Braun. Traﬃc characteristics of
the T1 NSFNET backbone. In INFOCOM’93, pages 885–892,
San Francisco, CA, Mar. 1993.
[4] A. Feldmann, A. G. Greenberg, C. Lund, N. Reingold,
J. Rexford, and F. True. Deriving traﬃc demands for
operational IP networks: methodology and experience. In
SIGCOMM, pages 257–270, Stockholm, Sweden, Aug. 2000.
[5] C. Fraleigh, S. Moon, B. Lyles, C. Cotton, M. Khan, D. Moll,
R. Rockell, T. Seely, and C. Diot. Packet-Level Traﬃc
Measurements from the Sprint IP Backbone. IEEE Network,
17(6):6–16, Nov. 2003.
[6] K. Fukuda, K. Cho, and H. Esaki. The impact of residential
broadband traﬃc on Japanese ISP backbones. SIGCOMM
CCR, 35(1):15–21, Jan. 2005.
[7] K. P. Gummadi, R. J. Dunn, S. Saroiu, S. D. Gribble, H. M.
Levy, and J. Zahorjan. Measurement, modeling, and analysis of
a peer-to-peer ﬁle-sharing workload. In SOSP-19, pages
314–329, Bolton Landing, NY, Oct. 2003.
[8] L. Guo, S. Chen, Z. Xiao, E. Tan, X. Ding, and X. Zhang.
Measurements, analysis, and modeling of bittorrent-like
systems. In IMC2005, pages 35–48, Berkeley, CA, Oct. 2005.
[9] Hong Kong OFTA: Statistics of Internet Traﬃc Volume.
http://www.ofta.gov.hk/en/tele-lic/operator-licensees/
opr-isp/s2.html.
[10] M. Izal, G. Urvoy-Keller, E. W. Biersack, P. A. Felber, A. A.
Hamra, and L. Garce´s-Erice. Dissecting bittorrent: Five
months in a torrent’s lifetime. In PAM2004 (LNCS3015),
pages 1–11, Antibes Juan-les-Pins, France, Apr. 2004.
[11] Japan Internet Exchange Co., Ltd. http://www.jpix.co.jp.
[12] Multifeed JPNAP service. http://www.jpnap.net.
[13] I. Kaneko. The Technology of Winny (In Japanese). ASCII,
Tokyo, Japan, 2005.
[14] T. Karagiannis, A. Broido, N. Brownlee, kc claﬀy, and
M. Faloutsos. Is p2p dying or just hiding? In Globecom 2004,
pages 1532–1538, Dallas, TX, Dec. 2004.
[15] T. Karagiannis, P. Rodriguez, and D. Papagiannaki. Should
Internet service providers fear peer-assisted content
distribution? In IMC2005, pages 63–76, Berkeley, CA, Oct.
2005.
[16] A. Klemm, C. Lindemann, M. K. Vernon, and O. P. Waldhorst.
Characterizing the query behavior in peer-to-peer ﬁle sharing
systems. In IMC2004, pages 55–67, Sicily, Italy, Oct. 2004.
[17] L. Lessig. The future of ideas. Random House, 2001.
[18] NSPIXP. http://nspixp.wide.ad.jp.
[19] A. M. Odlyzko. Internet traﬃc growth: Sources and
implications. In Optical Transmission Systems and
Equipment for WDM Networking II, pages 1–15, San Jose,
CA, Jan. 2003.
[20] OECD Broadband Statistics, December 2005.
http://oecd.org/sti/ict/broadband.
[21] T. Oetiker. RRDtool: Round Robin Database Tool.
oetiker/webtools/rrdtool/.
http://ee-staﬀ.ethz.ch/
∼
[22] T. Oetiker. MRTG: The multi router traﬃc grapher. In
USENIX LISA, pages 141–147, Boston, MA, Dec. 1998.
[23] V. Paxson. Growth trends in wide-area TCP connections.
IEEE Network, 8(4):8–17, July 1994.
[24] L. Plissonneau, J.-L. Costeux, and P. Brown. Analysis of
peer-to-peer traﬃc on ADSL. In PAM2005 (LNCS3431),
pages 69–82, Boston, MA, Mar. 2005.
[25] M. Roughan, A. Greenberg, C. Kalmanek, M. Rumsewicz,
J. Yates, and Y. Zhang. Experience in measuring Internet
backbone traﬃc variability: Models, metrics, measurements
and meaning. In International Teletraﬃc Congress 18, 2003.
[26] S. Saroiu, P. K. Gummadi, and S. D. Gribble. A measurement
study of peer-to-peer ﬁle sharing systems. In MMCN’02, pages
156–170, San Jose, CA, Jan. 2002.
[27] S. Sen and J. Wang. Analyzing peer-to-peer traﬃc across large
networks. In IMW, pp. 137–150, Marseille, France, Nov. 2002.
[28] D. Stutzbach, R. Rejaie, and S. Sen. Characterizing
unstructured overlay topologies in modern p2p ﬁle-share
systems. In IMC2005, pages 49–62, Berkeley, CA, Oct. 2005.
[29] Statistical Outlook of the Internet in Japan (in Japanese). The
Ministry of Internal Aﬀairs and Communications, 2005.