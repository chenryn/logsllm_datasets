15
41
33
12
17
8
10
2
6
40
5
37
36
25
35
1
45
4
30
42
11
22
43
47
29
27
34
Fig. 5. Percentage of Users, volume, and
connections by environment
Fig. 6. Bytes transferred at home vs. work and
trafﬁc target per user
Application Categories: Home/Local
Application Categories: Work/Local
Backup
Chat
DistantControl
Email
Personal
FileTransfer
Management
Miscellaneous
NameService
NetworkFS
P2P
Printing
Web
Unclassified
Bytes
Connections
Backup
Chat
DistantControl
Email
Personal
FileTransfer
Management
Miscellaneous
NameService
NetworkFS
P2P
Printing
Web
Unclassified
Bytes
Connections
0
20
40
60
80
100
0
20
40
60
80
100
Fig. 7. Application Mix for Home/Local trafﬁc
Fig. 8. Application Mix for Work/Local trafﬁc
heuristics the ‘Other’ category, which includes instances when users labeled the envi-
ronment as other and when our heuristic could not label the environment, only accounts
for 12 % of the bytes and 18 % of the connections. We see that users (light shaded bars)
are primarily at home or work, thus we select these two environments for further study.
These environments include 56 % of the connections (heavy shaded bars) and 72 % of
the bytes (solid bars). Moreover, our analysis of local trafﬁc in different environments
(not shown) shows that the fraction of local trafﬁc in all environments but home and
work is marginal (<1.25 %).
Figure 6 shows the number of bytes sent and received per user for all four combina-
tions: home/wide-area, work/wide-area, work/local, and home/local. As expected, we
see a similar split between local (bottom) and wide-area (top) trafﬁc The differences
between Figure 6 and Figure 2 happen because here we only include trafﬁc from home
and work. The majority of users has more local trafﬁc at work. Only four users have a
signiﬁcant fraction of local trafﬁc at home.
Application Mix at Home and Work. Now that we established a basic understanding
of how trafﬁc differs between home and work as well as local and wide-area, we in-
vestigate the application mix in each of these cases. The analysis of wide-area trafﬁc at
work (omitted for conciseness) shows almost no P2P trafﬁc, but a considerable fraction
28
A. Reggani, F. Schneider, and R. Teixeira
Home/Local traffic Bytes
Work/Local traffic Bytes
Backup
Chat
DistantControl
Email
Personal
FileTransfer
Management
Miscellaneous
NameService
NetworkFS
P2P
Printing
Web
Unclassified
Backup
Chat
DistantControl
Email
Personal
FileTransfer
Management
Miscellaneous
NameService
NetworkFS
P2P
Printing
Web
Unclassified
0
20
40
60
80
100
0
20
40
60
80
100
Percentage of Application Category per user
Percentage of Application Category per user
Fig. 9. Boxplot of application mix per user
for Home/Local trafﬁc
Fig. 10. Boxplot of application mix per user
for Work/Local trafﬁc
of ﬁle transfers and distant control trafﬁc. These results are consistent with previous
ﬁndings by Pang et al. [9].
We study the application mix of local trafﬁc at home in Figure 7 and at work in
Figure 8. Local trafﬁc at work includes ﬁle transfers and backup trafﬁc, which are not
present in home trafﬁc. Different from Pang et al. [9], we see little local email or web
trafﬁc at work. Indeed, it turns out that email trafﬁc of most HostView users is wide-
area. A possible explanation is that they are typically mobile and hence rely less on
local infrastructure.
Another difference is the lack of backup trafﬁc at home, which may reﬂect users’
preference to backup directly at external disks when at home, instead of over the net-
work. The backup trafﬁc at work is mainly from a single user, who is responsible for
almost all the bytes of backup trafﬁc in Figure 8. We do also observe some ﬁle transfer
trafﬁc locally at work. Most of that is transmit (ﬁle transfer client for Mac OS) and
FTP, but some is Dropbox (a cloud storage/synchronization service). Given it is a cloud
service (cloud = wide-area) we did not expect to ﬁnd Dropbox locally. It turns out that
Dropbox is using a direct connection for synchronization across devices in the same
LAN. Dropbox constitutes half of the ﬁle transfers in our local home traces.
As single users can have a distorting impact on the overall trafﬁc composition, we
now calculate the application mix per user. Figures 9 and 10 show boxplots1 of the
application mix per user in terms of bytes. Each row shows the distribution of the indi-
vidual contribution of the corresponding application category across all users. We ﬁnd
that although network ﬁle system trafﬁc dominates local trafﬁc, most users have less
than 10 % of trafﬁc in this category both at home and at work. Reversely, although
name service represents a small percent of the total number of bytes in Figure 7, the
median across all users is over 50 %. We ﬁnd similar effects for ﬁle transfers at home.
At work, contrary to Figure 8, we do see web, email, and printing usage.
Connection size and duration. We end our analysis with a study of the characteristics
of local and wide-area connections both at home and work. We show the complimen-
tary cumulative distribution of the number of bytes per connection in Figure 11 and
1 The box (line inside the box) shows the quartiles (median); whiskers show nearest values not
beyond a standard span from the quartiles; points beyond (outliers) are drawn individually.
An End-Host View on Local Trafﬁc at Home and Work
29
)
x
(
F
D
C
C
1
10-1
10-2
10-3
10-4
10-5
10-6
10-7
Home/Local
Home/Wide−area
Work/Wide−area
Work/Local
)
x
(
F
D
C
C
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
Home/Local
Home/Wide−area
Work/Wide−area
Work/Local
100
1k
10k
100k
1M 10M 100M 1G 10G 100G
0.1ms
10ms
1s
1min
1h
1d
x = Connection volume [Bytes]
x = Connection Duration
Fig. 11. CCDF of connection volumes
Fig. 12. CCDF of conn. durations (log-linear)
connection durations in Figure 12. For example, the ‘work/local’ point at x = 10kB in
Figure 11 indicates that only 1 % (y-axis) of all the connections are larger that 10kB.
In terms of bytes, we observe in general larger (further to the right) connections for
wide-area trafﬁc. Local connections are typically small, but the largest local connections
exceed the size and duration of wide-area connections. This observation conﬁrms one
previous study showing that home trafﬁc sometimes have short spikes [5]. Although
the connection durations in Figure 12 are limited by the 4 hour trace ﬁle cutoff, most
connections are shorter than this limit. We also see the local connections (circles and
crosses) are up to two orders of magnitude shorter than wide-area connections.
5 Related Work
Wide-area trafﬁc measured from inside the network has been analyzed from different
angles over the past decades [1,6,7,12]. These measurements, however, cannot capture
local trafﬁc in networks at the edge. Our study analyzes local trafﬁc and how it com-
pares with wide-area trafﬁc with data collected directly at end-hosts using HostView [4].
Other studies have collected and analyzed similar end-host data in the past [2, 11]. In
particular, Giroire et al. [2] has compared network trafﬁc from end-hosts across three
network environments (inside the company, VPN to company, and outside the com-
pany). Different from ours, their study has not characterized local network trafﬁc in
depth and although it measured laptops of a larger number of users than HostView
measured, they are all employees of a single enterprise.
Most similar to our work are the studies of one enterprise network [8,9] and of three
home networks [5]. These prior studies instrument the local network to collect packet
traces and can hence observe most local and wide-area trafﬁc. Our study measures
one (or at most a couple) of end-host in each network and hence cannot have such a
complete view of each of the studied networks, but it can sample a larger number of
networks. The home network study focuses mainly on network performance, not on
trafﬁc characterization. Their few trafﬁc characterization results show that wide-area
trafﬁc dominates local trafﬁc in the three homes, but that there are some, rare spikes
of local trafﬁc. The analysis in the enterprise study [9] is most similar to ours and we
contrasted their ﬁndings with ours throughout this paper. Given that Internet trafﬁc can
30
A. Reggani, F. Schneider, and R. Teixeira
vary signiﬁcantly among sites and over time [10], our study contributes to show the
diversity of trafﬁc patterns in different network environments.
6 Summary
This paper presented a comparison of local trafﬁc in different network environments
from the perspective of end-hosts. The advantage of using end-hosts as vantage points
is that we study trafﬁc collected from over one hundred different edge networks. Our
results showed that there is a large diversity in importance of local trafﬁc relative to
wide-area trafﬁc, but that in general wide-area trafﬁc dominates. In some networks (like
airports and coffee-shops), we rarely see any local trafﬁc, the only local trafﬁc is DNS.
At home and work, we do observe a non-negligible fraction of local trafﬁc. Most local
trafﬁc is composed by short connections, but sometimes local connections transfer an
extremely large number of bytes. Besides DNS, the most typical local applications are
network ﬁle system and backup, but the composition of local trafﬁc depends on the
user and the network. The drawback of measuring local trafﬁc from end-hosts is that
we can only see a small fraction of each network’s trafﬁc. In the future, we plan to
collect data directly from home gateways to measure all trafﬁc from a single home
over a longer period of time. In fact, home users are already deploying home gateways
modiﬁed to perform measurements. We are working with the developers of Bismark
(http://projectbismark.net/) to collect passive trafﬁc measurements as well.
Acknowledgments. We thank D. Joumblatt and O. Goga for their help with the
HostView data. This work was supported by the European Community’s Seventh
Framework Programme (FP7/2007-2013) no. 258378 (FIGARO) and carried out at
LINCS (www.lincs.fr).
References
1. C´aceres, R., Danzig, P.B., Jamin, S., Mitzel, D.J.: Characteristics of wide-area TCP/IP con-
versations. In: Proc. ACM SIGCOMM, pp. 101–112 (1991)
2. Giroire, F., Chandrashekar, J., Iannaccone, G., Papagiannaki, K., Schooler, E.M., Taft, N.:
The Cubicle vs. The Coffee Shop: Behavioral Modes in Enterprise End-Users. In: Claypool,
M., Uhlig, S. (eds.) PAM 2008. LNCS, vol. 4979, pp. 202–211. Springer, Heidelberg (2008)
3. Joumblatt, D., Goga, O., Teixeira, R., Chandrashekar, J., Taft, N.: Characterizing end-host
application performance across multiple networking environments. In: Proc. INFOCOM,
Mini-Conference (2012)
4. Joumblatt, D., Teixeira, R., Chandrashekar, J., Taft, N.: Hostview: annotating end-host per-
formance measurements with user feedback. SIGMETRICS Perform. Eval. Rev. 38, 43–48
(2011)
5. Karagiannis, T., Christos, G., Key, P.: Homemaestro: Distributed monitoring and diagnosis
of performance anomalies in home networks, Tech. Rep. MSR (October 2008)
6. Labovitz, C., Iekel-Johnson, S., McPherson, D., Oberheide, J., Jahanian, F.: Internet inter-
domain trafﬁc. In: Proc. ACM SIGCOMM, pp. 75–86 (2010)
7. Maier, G., Feldmann, A., Paxson, V., Allman, M.: On dominant characteristics of residential
broadband internet trafﬁc. In: Proc. ACM IMC, pp. 90–102 (2009)
An End-Host View on Local Trafﬁc at Home and Work
31
8. Nechaev, B., Allman, M., Paxson, V., Gurtov, A.: A preliminary analysis of tcp performance
in an enterprise network. In: Proc. INM/WREN 2010, p. 7 (2010)
9. Pang, R., Allman, M., Bennett, M., Lee, J., Paxson, V., Tierney, B.: A ﬁrst look at modern
enterprise trafﬁc. In: Proc. ACM IMC (2005)
10. Paxson, V.: Empirically-derived analytic models of wide- area tcp connections. IEEE/ACM
Transactions on Networking 2 (August 1994)
11. Saikat, G., Chandrashekar, J., Taft, N., Papagiannaki, K.: How healthy are today’s enterprise
networks. In: Proc. IMC, pp. 145–150 (2008)
12. Thompson, K., Miller, G.J., Wilder, R.: Wide-area internet trafﬁc patterns and characteristics.
IEEE Network 11(6), 10–23 (1997)