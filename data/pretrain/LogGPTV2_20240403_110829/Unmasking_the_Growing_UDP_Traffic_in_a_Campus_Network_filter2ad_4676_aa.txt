title:Unmasking the Growing UDP Traffic in a Campus Network
author:Changhyun Lee and
D. K. Lee and
Sue B. Moon
Unmasking the Growing UDP Trafﬁc
in a Campus Network
Changhyun Lee, DK Lee, and Sue Moon
Department of Computer Science, KAIST, South Korea
Abstract. Transmission control protocol (TCP) has been the dominating proto-
col for Internet trafﬁc for the past decades. Most network research based on trafﬁc
analysis (e.g., router buffer sizing and trafﬁc classiﬁcation) has been conducted
assuming the dominance of TCP over other protocols. However, a few recent
trafﬁc statistics are showing a sign of signiﬁcant UDP trafﬁc growth at various
points of Internet links [21]. In this paper we show that the UDP trafﬁc has grown
signiﬁcantly in recent years on our campus network; we have observed a 46-
fold increase in volume (from 0.47% to 22.0% of total bytes) in the past four
years. The trace collected in 2011 shows that the grown volume is not from a
small number of UDP hosts nor port numbers. In addition, the recent UDP ﬂows
are not sent at constant bit rate (CBR) for most cases, and the aggregated trafﬁc
shows burstiness close to TCP trafﬁc.
1 Introduction
Transmission control protocol (TCP) has been the main protocol of Internet trafﬁc for
the past decades; the widely accepted notion is that TCP accounts for more than 90%
of the total trafﬁc. User datagram protocol (UDP), on the other hand, has consumed
only a small share of Internet trafﬁc as it has been mainly used for limited purpose
such as online gaming and multimedia streaming. Hence network engineering research
has been based on the dominance of TCP trafﬁc [5–7]. Trafﬁc classiﬁcation has also
concentrated on identifying TCP applications, and only a few popular UDP applications
such as PPLive and SopCast have been studied [8, 9]. In addition, network experiments
with synthetic trafﬁc have mostly focused on generating realistic TCP trafﬁc while they
often model UDP trafﬁc as simple packet bunches sent at constant bit rate [19].
Recently, a few trafﬁc statistics are showing the sign of UDP trafﬁc growth at various
points of Internet links [21]. The reported trend has not been studied thoroughly yet, and
the cause and the impact of growing UDP trafﬁc to the Internet are to be discovered. Al-
though most trafﬁc measurement studies have been about TCP, some previous research
papers have looked at the characteristics of UDP trafﬁc in terms of size, arrival, port
usage of ﬂows [14, 16, 18, 20]. However, the trafﬁc traces used in those papers do not
reﬂect the most recent trend as they are all collected before 2009 when only a small
portion of UDP trafﬁc around 5% or even less is reported.
In this work we report on the excessive growth in UDP trafﬁc by continuous moni-
toring of the same network link for four years. We show the contribution of UDP to the
overall trafﬁc is no longer negligible according to the measurements from our campus
network; we have witnessed a 46-fold increase in volume (from 0.47% to 22.0% of total
N. Taft and F. Ricciato (Eds.): PAM 2012, LNCS 7192, pp. 1–10, 2012.
c(cid:2) Springer-Verlag Berlin Heidelberg 2012
2
C. Lee, DK Lee, and S. Moon
bytes) for the past four years. With the UDP trace collected in 2011, we characterize
the UDP volume growth in terms of ﬂow size, communication pattern, and sending rate.
Here we refer to the total number of bytes as volume. Our results show that the growth
in volume is mainly from the increase in the ﬂow size rather than in the number of ﬂows,
and most UDP ﬂows are not sent at constant bit rate (CBR). We have also found that
the growth is not attributed to a small number of UDP servers nor port numbers. UDP
is used by peer-to-peer ﬁle transfers today. Finally, we show the recent UDP trafﬁc has
comparable burstiness to that of TCP trafﬁc.
The rest of this paper is organized as follows. Section 2 provides the data sets used
in this work and evidences of recent growth in UDP trafﬁc in terms of absolute volume,
ﬂow size, and packet size. In Section 3, we observe the sign of peer-to-peer applications
on UDP by analyzing port usage and communication patterns between hosts. We then
study the rate variation of UDP ﬂows and burstiness of UDP trafﬁc in Section 4, Last,
Section 5 concludes with the implications and lessons from our ﬁndings.
2 Growth Trend of UDP Trafﬁc
2.1 Data Sets
We have collected the packet-level traces from 2008 to 2011 and captured the growth
trend of UDP trafﬁc on our campus network link. KAIST has a population of about
10,000, faculty, staff, and students all included and it owns 2 /16 preﬁxes and 80 /24
preﬁxes. A nearby college of about 1,100 got merged with KAIST in 2009 and KAIST
acquired 1 of the 2 /16 preﬁxes and another 1 Gbps link to the outside. The campus
network was reorganized in September 2009 that all trafﬁc from the dormitories was
routed via the new link and the rest of the conﬁguration has remained almost the same.
From 2008 to 2011, the overall population of KAIST grew from 7,000 to 10,000, mostly
from the merger and the increase in the incoming student body size. Even with the
increase in the overall population and network capacity, KAIST has not changed the
trafﬁc ﬁltering policy: ICMP packets are dropped at the gateway but no trafﬁc suspected
to be peer-to-peer downloads.
We use GPS-synchronized servers with DAG 4.3GE cards [1] and collect header-
only traces from the 1 Gbps link that connects classrooms, labs, and ofﬁces to a com-
mercial ISP; we were not able to collect payload information due to the privacy concern
in our campus.
Table 1 shows the summary of collected traces used in this paper. The traces from
2008 to 2011 are all collected on weekdays and captured at the same time of the day to
Table 1. Collected packet traces from 2008 to 2011
Trace name
k-2008
k-2009
k-2010
k-2011
Time of collection
2008/03/19 Wed 14:00
2009/04/27 Mon 14:00
2010/08/31 Tue 14:00
2011/01/07 Fri 14:00
Duration
60min
60min
60min
60min
Data rate
937.2Mbps
927.8Mbps
868.5Mbps
855.8Mbps
Unmasking the Growing UDP Trafﬁc in a Campus Network
3
minimize errors from the diurnal effect in Internet usage. Traces k-2008 and k-2009 are
before the merger and network reconﬁguration and include trafﬁc from the dormitories.
The slight decrease in the overall data rates in 2010 and 2011 is attributed to the extra
network capacity, but the link is still quite heavily utilized. In the spring of 2011 KAIST
added another 1 Gbps link to the Internet.
In the rest of this paper we use the incoming trafﬁc from the Internet core to KAIST
to represent end-users’ Internet usage.
2.2 Growth in UDP Trafﬁc Volume
In Figure 1(a), we have found that UDP trafﬁc has increased up to 22% over the past
four years; the minimum among the traces is 0.47% in 2008. Surprisingly, the absolute
volume of UDP trafﬁc has grown signiﬁcantly from 3.90 Mbps to 179.39 Mbps (46-
fold growth in four years) in Figure 1(b). We see no sign of letting up in the UDP
trafﬁc growth. The growth trend is in compliance with a previous report [21], and we
also ﬁnd the similar trend from a trans-Paciﬁc link of Japanese backbone networks [2]
and CAIDA’s two monitors in Chicago [4]. The UDP data rate of the Japanese traces
from 2006 to 2011 has been growing, and the largest portion observed is around 30%.
CAIDA’s Chicago monitors report 15 ∼ 18% in the average UDP data rate in August
of 2011, which is about 5% higher than the recent two year’s average on the same links.
Although we show a single one-hour trace in 2011 in this paper for representation, the
other traces collected in 2011 have similar shares of UDP around 20%, which is much
larger than the share in 2008.
The number of UDP ﬂows within an hour has also grown from 2.6 million in 2008
to 5.2 million in 2011, but not as much as in volume; we identify a UDP ﬂow as a set
of packets that have the same source and destination IP addresses and port numbers.
The increase in the number of ﬂows from 2008 to 2011 is only 2-fold. The more critical
cause of the recent UDP trafﬁc growth is the change in the size of each ﬂow than in the
total number of ﬂows; the average ﬂow size is 0.71 KB in 2008 and 16.32 KB in 2011.
Previous work on TCP trafﬁc trend has shown that the TCP ﬂow size distribution has
remained similar from 2001 to 2009 [17], and our result on UDP here is in contrast to
their ﬁnding. We give more details on the ﬂow size evolution of recent UDP trafﬁc in
the next section.
(a) Protocol breakdown
(b) Data rate
Fig. 1. UDP trafﬁc growth from 2008 to 2011
4
C. Lee, DK Lee, and S. Moon
2.3 Growth in UDP Flow Size
The common perception about UDP ﬂows is that they are small and short, and it is
supported by previous studies on the ﬂow size of TCP and UDP [16,21,22]. We seek to
verify whether it still holds for the recent UDP trafﬁc. Figure 2 shows the cumulative
volume by the ﬂow size for the UDP trafﬁc in trace k-2011. The ﬁgure also includes the
distribution for UDP trafﬁc in trace k-2008 and TCP trafﬁc in k-2011 for comparison.
We ﬁnd that, in k-2011, ﬂows larger than 100 KB take up 97.5% of the total volume.
The same analysis on TCP trafﬁc has shown 91.2%. Large ﬂows dominate in UDP
trafﬁc as much as in TCP trafﬁc or even more in some traces.
Fig. 2. Cumulative volume vs. ﬂow size
The packet size of UDP trafﬁc has also grown dramatically from 2008 to 2011. Fig-
ure 3 shows the cumulative distribution of packet size over four years. The portion of
UDP packets larger than 1,400 bytes is 43.2% in k-2011, while only 0.34% in k-2008.
We have found an interesting trend that the packet size distribution of UDP from 2008
to 2011 has become bimodal like that of TCP; in k-2011, packets either smaller than
100 bytes or larger than 1,400 bytes contribute 89.2% of the total packets for UDP and
91.5% for TCP.
Fig. 3. Evolution in UDP packet size from 2008 to 2011 (top to bottom)
Last we look at the duration of UDP ﬂows. A ﬂow’s duration is calculated as the
time between the ﬁrst and the last packet within a ﬂow. We ﬁnd that 76.4% of ﬂows
have zero duration because they consist of only one packet. The lifetime of the ﬂows
Unmasking the Growing UDP Trafﬁc in a Campus Network
5
with more than two packets spans up to one hour, an upper limit imposed by our data
collection. In summary, there are a number of very short UDP ﬂows of one packet, but
a small number of large ﬂows take up most of the volume.
3 UDP for P2P
In this section we take a close look at the UDP trafﬁc from the most recent trace k-
2011. We analyze port number usage and communication patterns between hosts, and
investigate the types of trafﬁc contributing to the recent growth in UDP. From the result,
we provide evidences that UDP is now used for peer-to-peer applications.
3.1 Port Usage in UDP Trafﬁc
Port number usage is one of the key measures to understand the type of trafﬁc and
often used for identifying applications such as web surﬁng, online gaming, and peer-to-
peer transfer with ﬁxed port numbers [11, 13, 14, 18, 21]. Figure 4 plots the cumulative
UDP trafﬁc volume against the source and destination ports in k-2011. First, the source
port numbers used by UDP ﬂows are distributed all over the port allocation range. The
largest volume on a single port number is 2.15% at the port 47,391. The volume 2.15%
is not so high compared to TCP trafﬁc as it carries much volume on port 80 (HTTP),
and traces from various network links report up to 62.9% of the total volume from