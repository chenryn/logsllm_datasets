## IMPORTANT: DevOps Kit (AzSK) is being sunset by end of FY21. More details [here](../../../ReleaseNotes/AzSKSunsetNotice.md)
----------------------------------------------
VirtualMachineDescription & RationaleControlSeverityAutomatedFix ScriptVirtual Machine should have latest OS version installedBeing on the latest OS version significantly reduces risks from security design issues and security bugs that may be present in older versions.MediumYesNoOS automatic updates must be enabled on Windows Virtual MachineVMs where automatic updates are disabled are likely to miss important security patches due to human error. This may lead to compromise from various malware/trojan attacks that exploit known vulnerabilities in operating systems and related software.HighYesNoAntimalware must be enabled with real time protection on Windows Virtual MachineEnabling antimalware protection minimizes the risks from existing and new attacks from various types of malware. Microsoft Antimalware provide real-time protection, scheduled scanning, malware remediation, signature updates, engine updates, samples reporting, exclusion event collection etc.HighYesNoNSG must be configured for Virtual MachineRestricting inbound and outbound traffic via NSGs limits the network exposure of a VM by reducing the attack surface.MediumYesNoPublic IPs on a Virtual Machine should carefully reviewedPublic IPs provide direct access over the internet exposing the VM to attacks over the public network. Hence each public IP on a VM must be reviewed carefully.HighYesNoDisk encryption must be enabled on both OS and data disks for Windows Virtual MachineUsing this feature ensures that sensitive data is stored encrypted at rest. This minimizes the risk of data loss from physical theft and also helps meet regulatory compliance requirements. In the case of VMs, both OS and data disks may contain sensitive information that needs to be protected at rest. Hence disk encryption must be enabled for both.HighYesNoVirtual Machine must be in a healthy state in Azure Security CenterAzure Security Center raises alerts (which are typically indicative of resources that are not compliant with some baseline security protection). It is important that these alerts/actions are resolved promptly in order to eliminate the exposure to attacks.HighYesNoVirtual Machine must have all the required OS patches installed.Unpatched VMs are easy targets for compromise from various malware/trojan attacks that exploit known vulnerabilities in operating systems and related software.HighYesNoVirtual Machine must implement all the flagged ASC recommendations.Azure Security Center provide various security recommendations for resources that are not compliant with some baseline security protection. It is important that these recommendations are resolved promptly in order to eliminate the exposure to attacks.HighYesNoDiagnostics (IaaSDiagnostics extension on Windows; LinuxDiagnostic extension on Linux) must be enabled on Virtual MachineDiagnostics logs are needed for creating activity trail while investigating an incident or a compromise.MediumYesNoDo not leave management ports open on Virtual MachinesOpen remote management ports expose a VM/compute node to a high level of risk from internet-based attacks that attempt to brute force credentials to gain admin access to the machine.CriticalYesNo
    Vulnerability assessment solution should be installed on VMKnown OS/framework vulnerabilities in a system can be easy targets for attackers. An attacker can start by compromising a VM/container with such a vulnerability and can eventually compromise the security of the entire network. A vulnerability assessment solution can help to detect/warn about vulnerabilities in the system and facilitate addressing them in a timely manner.
    Medium
    Yes
    No
    Guest Configuration extension must be deployed to the VM using Azure Policy assignmentInstalling Guest configuration extension on VM allows you to run In-Guest Policy on the VM, making it possible to monitor system and security policies for compliance checks in the VM.
    Medium
    Yes
    No
    Guest config extension should report compliant status for all in-guest policiesIn-guest policies cover various native (data-plane)  security requirements for a VM.  A VM that is compliant to these requirements has a lower overall exposure to getting compromised.
    Medium
    Yes
    No
    All VM extensions required as per your Org policy must be deployed to the VMOne or more extensions may be required for maintaining data plane security hygiene and visibility for all Azure VMs in use at an Org. It is important to ensure all required extensions are installed and in healthy provisioning state.
    Medium
    Yes
    No