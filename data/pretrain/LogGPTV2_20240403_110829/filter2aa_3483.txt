BRAIN GAMES
Make your own Biofeedback Video Game
Ne0nRa1n
That Strange Little 'Brain Girl'
Joe Grand aka Kingpin
www.kingpinempire.com
Biofeedback
The definition of biofeedback
The technique of using monitoring devices to 
obtain information about an involuntary function of 
the central or autonomic nervous system, such as 
body temperature or blood pressure, in order to 
gain some voluntary control over the function. 
Using biofeedback, individuals can be trained to 
respond to abnormal measurements in involuntary 
function with specific therapeutic actions, such as 
muscle relaxation, meditation,
or changing breathing patterns. Biofeedback has 
been used to treat medical conditions such as 
hypertension and chronic anxiety. 
The American Heritage®
Science Dictionary
Published by Houghton Mifflin Company. All rights reserved., © 2002 by Houghton Mifflin Company.
Biofeedback devices are devices that give 
feedback regarding our biology. As a broad 
generalization, MRI's, X-rays,  and even 
something as simple as a scale that measure 
your weight and a thermometer that you 
measure your temperature can all be considered 
biofeedback devices because they all provide 
information about the state of your bodily 
workings.
More traditionally though, the term "biofeedback device" is 
usually used to describe equipment that shows in real-time, 
as it's happening,the physiological effects of our thoughts, 
emotions, attitudes, perceptions, and mental processes.
So, different biofeedback devices would measure different 
things in your body.
How does biofeedback work?
Scientists are not able to explain exactly how or why
biofeedback works. However, there does seem to be at
least one common thread: most people who benefit from
biofeedback have conditions that are brought on or made
worse by stress. 
In the late 1960s, when the term biofeedback was coined 
many scientists were looking forward to the day when 
biofeedback would give us such a major degree of control 
over our bodies that one day in the bright wonderful far off 
future it would be possible to do away with certain types of 
drug treatments that often caused uncomfortable side
effects in patients.
But, what scientists found is that biofeedback is not magic. 
It cannot cure disease or by itself make a person healthy.
Today, most scientists agree that such high hopes of the 
past were not realistic.  Research has demonstrated that 
biofeedback can help in the treatment of many diseases 
and painful conditions. It has shown that we have more 
control over so-called involuntary bodily function than we 
once though possible. But it has also shown that nature will 
put limits on the extent of such control. But scientists to this 
day are still trying to determine just how much voluntary 
control we can actually exert.
Some Interesting, Existing 
Biofeedback Things
Emotiv (www.emotiv.com) and NeuroSky 
(www.neurosky.com), measures various types of brain 
activity to control a videogame or change/enhance the 
state of gameplay depending on activity.  
Atari Mindlink controller 
(www.atarimuseum.com/videogames/consoles/2600/min
dlink.html), an attempt in the early 1980s to measure 
electrical activity of the forehead muscles
Emotiv
Galvanic Skin Response (GSR), measuring your skin's 
change in resistance as you get stressed or excited 
(ever notice what happens when someone cuts you off 
while driving?)
We're using heart rate and heart rate variability in this 
design - the most robust and well understood method to 
measure physiological stress
S00per Sekr1t pictures go here that will only be shown 
at the actual presentation...
HEART RATE 
AND 
HEART RATE VARIABILITY
What Is Heart Rate?
Your heart rate is the number of times your heart beats 
per minute. You can measure your heart rate by feeling 
your pulse - the rhythmic expansion and contraction (or 
throbbing) of an artery as blood is forced through it by 
the regular contractions of the heart. It is a measure of 
how hard your heart is working.
Your pulse can be felt at area where the artery is close 
to the skin. 
This is the part of the speech where you humour me by
taking your pulse. I promise I am going somewhere with 
this, just stay with me.
1. Place the tips of your index, second and third fingers
on the palm side of your other wrist below the base of the
thumb. Or, place the tips of your index and second fingers
on your lower neck on either side of your windpipe.
2. Press lightly with your fingers until you feel the blood
pulsing beneath  your fingers. You may need to move your
fingers around slightly up or down until you feel the pulsing. 
So everybody found your pulse? Good!
Now breathe normally for several 
seconds. 
When you feel a regular pulse, exhale 
once, then inhale slowly and deeply.
Did you feel your heartbeat speed up slightly? What you've 
just felt is called respiratory sinus arrhythmia. Respiratory 
sinus arrhythmia is an example of normal, healthy heart-
rate variability.
Heart rate variability is the pattern that emerges from
tracking the time between each beat of your heart. In 
other words -  it's the heart's ability to beat faster or 
slower in response to emotion or physical demands.
Why should you care?
It is important to understand the difference between these
two terms if one wants to make a video game that uses
biofeedback input from the heart.
In Summary:
Biofeedback is a tool that helps conditions
brought on or made worse by stress
There are as many types of biofeedback 
Biofeedback is not a magic bullet
Heart rate and heart rate variability are two different things:
The first being the beats of your heart itself, and the other
being the time in between beats.
Electronics in a Nutshell
You will need some basic electronics skillz before 
attempting to build this:
  * Soldering
  * Reading schematics
  * Electronics assembly
  * Use of test equipment (for debugging)
Even if you don't understand electronics or how the system 
really works, you can still build it, experiment with it, and 
have fun. Just don't kill yourself in the process!
Soldering
★ Soldering is an art form that requires proper technique
– With practice, you will become comfortable and experienced
– Most hobbyists do not solder properly, which can lead to cold 
solder joints and bridges
★ Joe's video podcast: 
www.makezine.com/blog/archive/2007/01/soldering_tutor_1.htm
l
★ Two key parts of soldering:
– Good heat distribution from the soldering iron to the desired 
components
– Cleanliness of the soldering surface and component
Reading schematics
★ A schematic is essentially an electrical road map
★ Each component of the circuit is assigned its own symbol
- Each symbol is unique to the type of device that it is
- Schematic symbols are like the alphabet for electronics
- The US and Europe sometimes use different symbols
★A part designator is also assigned to each component
– Usually an alphabetic character followed by a numerical value
– Ex.: R1, C4, SW2, etc.
★The schematic symbol and part designator are used 
together to identify each discrete component of the circuit 
design
Electronics assembly
★ Read my "Basic Assembly Techniques" pamphlet here:
      http://makezine.com/images/store/ 
          BasicAssemblyManual.pdf
Common assembly mistakes
★ Verify power
– Ensure that the system is properly receiving power from the 
power supply or battery
– If your device doesn't have power, chances are that it won't 
work!
★ Faulty solder connections
– After soldering, inspect the connections for cold solder joints 
and bridges
– Cold solder joints caused by improper heating of the connection 
or when corrosion contaminates a component lead or pad
– Solder bridges form when a trail of excess solder connects 
across pads or tracks
Common assembly mistakes (more)
★ Installing the wrong part
– Verify the part type and value that you are using
– Although many devices appear to look similar, they have 
different operating characteristics (Ex.: A 1K and 10K resistor 
look almost the same except for the color of one band)
★ Installing parts backwards
– Make sure your component is installed in the correct orientation
– All polarized parts have some sort of marking identifying the 
positive or negative lead
– Ex.: ICs have a dot or notch indicating pin 1, through-hole 
capacitors have a marking to denote the negative lead, diodes 
have a banded end indicating the cathode, LEDs have a flat 
end and short lead indicating the cathode 
Test & measurement equipment
– Multimeter
– Commonly referred to as the "Swiss army knife" of 
electronics measurement tools
– Provide a number of precision measurement functions: AC/
DC voltage, resistance, capacitance, current, and continuity
–
www.makezine.com/blog/archive/2007/01/multimeter_tuto.html 
– Oscilloscope
– Provides a visual display of electrical signals and how they 
change over time
– Available in analog, digital, and mixed-mode versions
–
www.tek.com/Measurement/App_Notes/XYZs/
The Heart Rate Hardware
Our circuit is based on Jason Nguyen's Homemade 
Electrocardiograph (ECG, aka EKG), 
www.eng.utah.edu/~jnguyen/ecg/ecg_index.html
Simple to build
Uses a handful of parts and costs under $10
Ramsey Electronics sells a similar kit 
(www.ramseyelectronics.com/cgi-bin/commerce.exe?
preadd=action&key=ECG1C) that you might be able to get 
working with our game
Parts list
★ 3x LF353N Operational Amplifier IC, 8-pin DIP (#LF353NNS-ND), $1.34 
each
★ 1x 500k trimmer potentiometer (#490-2928-ND), $0.86 each
★ 10x 100k ohm, 1/4W, 1% resistor (#100KXBK-ND), $0.098 each
★ 6x 10k ohm, 1/4W, 1% resistor (#10.0KXBK-ND), $0.098 each
★ 1x 1uF ceramic capacitor, 50V, 10% (#495-3393-ND), $0.47 each
★ 5x 0.1uF ceramic capacitor, 50V, 10% (#1109PHCT-ND), $0.086 each
★ 6x 1N4001 general purpose rectifier diode, 50V, 1A (#1N4001DICT-ND), 
$0.30 each 
★ 1x 1/8" (3.5mm) mono phone plug (#CP3-1005-ND), $0.76 each
★ 3x Pennies for electrodes, $0.01 each (you can use real, medical grade 
3M Red Dots for better results)
★ 1x 9V battery clip (#236K-ND), $0.49 each
★ Other stuff (9V battery, wire, prototype board, etc.)
All part numbers are from Digi-Key (www.digikey.com) because they're awesome
Total cost: ~$9.35
Schematic from www.eng.utah.edu/~jnguyen/ecg/ecg_index.html
★  Basically, we are just measuring minute signals from the 
electrodes and amplifying them to levels that our PC can 
read via a sound card
- IN- and IN+ are the chest electrodes
- BODY serves as a common reference point
- Signals are amplified, combined into a single-ended output for sound 
card
★ Suggested changes:
- You can replace the LF353Ns with LM324s (#296-1391-5-ND) for 
increased performance, but you'll need to pay attention to pinout 
differences
- Use 0.1uF bypass capacitors from VDD to GND and VDD/2 to GND
- We've replaced R12 with a 500k potentiometer for adjustable gain
- If the output of IC1A or IC1B is clipped, reduce gain by using a 10k 
resistor on R1 or R3, respectively
The Code
With special thanks to:
oldgrover and psychedelicbike
This code is for proof of 
concept only.
This code was written with you in mind so 
you could take it and make it your own and 
throw it into your favorite video games.
Why Python?
- easy for beginners who want to learn how to program
and those who are experienced to be able to pick up.
 (Neither of the people who wrote this code knew Python
 before we started.)
- free 
- platform independent
- someone gave me a book on Python as a gift
Why Pygame
-  allows you to create fully featured games and multimedia 
programs in the python language
- free
- small amount of code
- simple-ish
PyMedia?
- allows you to create your own mutimedia applications
- free
- gives you more control over use of sound then Pygame
 does
Problems
Pymedia hasn't been tested for Macs
Pygame and especially Pymedia's 
documentation is not the easiest
for beginner coders to wade through.
The code can be finicky with the hardware. 
There will be times that it will give you 
readings that your heart rate is at a level that
is frankly impossible and you will have to 
disconnect and start again.
Jumping off points
Heart rate variability 
Heart rate variability can be as an 
indicator of different physical and 
psychological states than 
instantaneous heart rate alone.
Dynamic Difficulty Adjustment
A boring game will result in a low heart rate – make
 things harder. A very difficult game will result in a
higher heart rate – make things easier. As the player
 gets better at the game, their stress level (and heart 
rate) will drop, so the game can automatically 
become more difficult to compensate for the 
increased player skill.
Goal Tracking 
Store the heart rates to a file and observe how they change 
over time, with the goal of lowered average heart rate 
(usually indicative of healthier cardiovascular system)
The Demo
How this demo is going to work
-pick a volunteer from the audience WHO MUST BE
WILLING TO TAKE THEIR SHIRT OFF (no pacemakers
allowed)
- Put electrodes on and hook up the person to an
ECG program to see how their heart rate is working
- Get volunteer to play a game while awkwardly
hooked up to the electrodes
- WE ARE NOT RESPONSIBLE FOR INJURY, DEATH,
OR DISMEMBERMENT! USE OUR CIRCUITRY AT
YOUR OWN RISK!
Thanks!
Ne0nRa1n & Kingpin
http://www.umm.edu/altmed/articles/biofeedback-000349.htm
http://www.thorsonhealth.com/whatsnew.php
http://www.thetruthaboutfoodandhealth.com/biofeedbackdevices.html
http://psychotherapy.com/bio.html
http://www.wilddivine.com/WildDivineAboutBiofeedback/
http://findarticles.com/p/articles/mi_hb4345/is_200603/ai_n18813051
http://www.rps.psu.edu/0009/heart.html
http://my.clevelandclinic.org/heart/prevention/exercise/pulsethr.aspx