title:Their Share: Diversity and Disparity in IP Traffic
author:Andre Broido and
Young Hyun and
Ruomei Gao and
Kimberly C. Claffy
Their Share: Diversity and Disparity in IP
Traﬃc
Andre Broido1, Young Hyun1, Ruomei Gao2, and kc claﬀy1
1 Cooperative Association for Internet Data Analysis
SDSC, University of California, San Diego
{broido,youngh,kc}@caida.org
2 Georgia Institute of Technology
PI:EMAIL
Abstract. The need to service populations of high diversity in the face
of high disparity aﬀects all aspects of network operation: planning, rout-
ing, engineering, security, and accounting. We analyze diversity/disparity
from the perspective of selecting a boundary between mice and elephants
in IP traﬃc aggregated by route, e.g., destination AS. Our goal is to ﬁnd
a concise quantiﬁer of size disparity for IP addresses, preﬁxes, policy
atoms and ASes, similar to the oft-quoted 80/20 split (e.g., 80% of vol-
ume in 20% of sources). We deﬁne crossover as the fraction c of total
volume contributed by a complementary fraction 1 − c of large objects.
Studying sources and sinks at two Tier 1 backbones and one university,
we ﬁnd that splits of 90/10 and 95/5 are common for IP traﬃc. We
compare the crossover diversity to common analytic models for size dis-
tributions such as Pareto/Zipf. We ﬁnd that AS traﬃc volumes (by byte)
are top-heavy and can only be approximated by Pareto with α = 0.5,
and that empirical distributions are often close to Weibull with shape
parameter 0.2–0.3. We also ﬁnd that less than 20 ASes send or receive
50% of all traﬃc in both backbones’ samples, a disparity that can sim-
plify traﬃc engineering. Our results are useful for developers of traﬃc
models, generators and simulators, for router testers and operators of
high-speed networks.1
1 Introduction
The lack of a predictive relation between number (cardinality) and the combined
size (volume) of a collection of objects is a recurrent problem in Internet data
analysis. The volume of a natural category, such as users, instants, and networks,
can be unevenly distributed among individual objects. For example, while the
Internet architecture does not have any single point of failure, 80-90% of routes
use the top 20 providers. Similarly, 80 source ASes (among several thousand
observed) can contribute 95% of the traﬃc on a link.
1 Support for this work is provided by DARPA NMS (N66001-01-1-8909), and by NSF
ANI-0221172, with support from the DHS/NCS.
C. Barakat and I. Pratt (Eds.): PAM 2004, LNCS 3015, pp. 113–125, 2004.
c(cid:1) Springer-Verlag Berlin Heidelberg 2004
114
A. Broido et al.
In this paper we study the mismatch between number and size in terms of
diversity and disparity. Diversity is the presence of a large number of distinct
objects (e.g., many users sharing a link). Many objects have a natural size mea-
sure such as bytes per transfer, customers per provider, and visits per website.
Disparity is concentration of a size measure in a small subset of objects. For
example, a bursty ﬂow may accumulate most of its duration in lulls. In extreme
cases of disparity, a giant cluster forms, in which the aggregate size is compara-
ble with total volume. We see this with TCP in the IP protocol space, with a
popular operating system, and recently, with P2P applications in some networks.
Mathematically, diversity/disparity is present when the counting measure
(such as number of addresses) and the size measure (e.g., traﬃc per address)
are close to mutually disjoint (singular), i.e., supported by non-intersecting sets.
Many Internet measures of interest are disjoint (e.g., in the case of lulls and
bursts, most bytes are transferred in negligible total time). The ubiquity of
disjoint measures renders comparison of IP objects challenging.
Neither diversity nor disparity are good or bad per se; the impact depends
on the situation. Motivations to study disparity include oﬀsetting its negative
impacts (such as lack of resilience) and developing ways to manage total vol-
ume via control of a few contributors [1]. Data reduction is another motivation,
e.g. frequent objects are assigned shorter bit strings (as in Huﬀman encoding).
Indeed, a valid motto of Internet science is: Find Disparity in Diversity.
Size disparity is often called the “mice-elephants” phenomenon. It was ob-
served early in Internet history that Internet traﬃc displays favoritism at any
given aggregation, i.e., many small contributors and a few large ones2. Re-
searchers have described duration ‘elephants’ (long-lasting ﬂows) [3] and bitrate
or burst ‘elephants’ [4]. We focus on volume elephants, due to ISPs’ need for a
metric for use in pricing as well as due to bitrate limitations of many links.
Comparing diversity/disparity across multiple datasets, directions, measures,
percentile levels and source/destination granularities can easily result in an ex-
plosion of numbers. We propose a concise characteristic of disparity that we call
crossover. We deﬁne it as the fraction 1 − c of volume accumulated in fraction c
of top objects. We justify this metric in Section 3. Object size at the crossover
xc serves as a cutoﬀ between the mice and elephant classes (cf. [5]). We study
crossovers both empirically and analytically. We think that crossovers are poten-
tially as useful as while being more descriptive than the 95th percentile currently
used in many MIBs and autogenerated reporting software.
The paper is structured as follows. Section 2 discusses motivations, and in
Section 3 we compute crossovers for uniform, exponential and Pareto distri-
butions. We assess their validity as models for aggregated traﬃc by compar-
ing their crossovers with observed values. In particular we ﬁnd that uniform
or exponential distributions have crossovers under 70/30. The Pareto density
Cx−α−1, 1 ≤ x ≤ N approaches the observed splits of 90/10 for α = −1 (Zipf
2 “1% of those networks were responsible for 70% of the traﬃc [on NSFNET] for the
month of December 1992” [2].
Their Share: Diversity and Disparity in IP Traﬃc
115
distribution) and N = 1010, whereas 95/5 splits with realistic values of N can
only be obtained for α in 0 
1−N−α+1 , α (cid:5)= 1 and Equation (*) becomes
0; mass fraction is M(s) = 1−s−α+1
1 − s−α
1 − N−α +