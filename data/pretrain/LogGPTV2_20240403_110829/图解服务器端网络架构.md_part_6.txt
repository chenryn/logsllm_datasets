光好
ndex，前跃）型
---
## Page 31
1.1物理层的技术15
表1.1.2双绞线电缇和光纤光缓的比较
比较事项
双纹线电缆
光纤光缆
传输媒介的材质
铜
玻璃
传输速度
慢
快
信号的衰减
大
小
受到电磁的干扰
大
无
使用
方使
困难
成本
低
高
1.1.1.2双绞线电缆有两大要素类和传输距离
-
首先我们来看双绞线电缆。双绞线电缆采用OOBASE-T或OOBASE-TX这样的标准。
OOBASE-T的T是双绞线电缆的英文Twisted-PairCable的第一个字母。
双绞线电缆看起来是一根电缆，但实际上是八根铜线，每两根（双）相互缠绕（绞）最后
再全部纹合成一整根线缆。双绞线电缆分两种，一种是线缆部分用铝箔等材质做了绝缘处理的
STP（ShieldedTwistPair，屏蔽双绞线）电缆，另一种是没做绝缘处理的UTP（UnshieldedTwist
Pair，非屏蔽双绞线）电缆。
Q常见的LAN网线是UTP电缆
UTP电缆就是我们常说的LAN网线，在公司、家庭和家电商场等地方经常能看到它们的
身影，应该是我们最为熟识的线缆。UTP电缆因为使用方便、价格便宜，获得了爆发性的普及。
最近颜色也变得多种多样了，面且更加纤细，外形也华丽了许多。但是这种电缆不抗电磁干扰，
所以不适合在工厂等电磁干扰较多的环境中使用。
STP电缆则克服了不抗电磁干扰这个缺点。这种电缆做了绝缘处理，有效地减轻了内外部
电磁干扰，然而美中不足的是绝缘处理使得电缆用起来不太方便，因此，目前只有在工厂等条
件恶劣的环境中人们才会用到它，服务器端基本上并无它的用武之地。
---
## Page 32
161第1章物理设计
图1.1.4UTP和STP的差异在于是否做了绝缘处理
STP ( Shielded Twist Pair 1 电fl)
UTP
4对国线统合成
类的数字越大传输速度就越快
在双绞线电缆中有一个“类”的概念。仔细观察家电商店里卖的LAN网线规格表就会发
现，上面印着6类、5类这样的标记。这个类代表传输速度，类的数字越大传输速度就越大。
目前以太网环境使用的类都不低于5，1到4类的线缆无法支持100BASE-TX、1000BASE-T
这样比较新的标准。因此，如果你想要迁移到目前主流的高速以太网环境，同时还要沿用旧式
的线缆环境，就需要注意确认各种线缆对应的规格。
当铜线根数（铜线芯数）较少时尤其需要注意。例如，3类线缆只有4根铜线芯，而
1000BASE-T需要用到8根铜线芯以提高吞吐率。所以在沿用3类线缆环境的前提下向
1000BASE-T环境迁移的话，连对接都完成不了，在架构现场就会窘态百出。我们必须在相应
的时机将整个线缆环境全部替换掉才行。
各类电缆及其对应的规格请参看下表。一定要确认无误之后再去选择使用什么样的双绞线
电缆。
表1.1.3类的数字越大传输速度就越快
种类
钢线芯数对应的频率
主要对应的规格
最高传输速度
最大传输距离
3类
UTP/STP
4芯2对
16Mbit/s
10BASE-T
16Mbit/s
100m
4类
UTP/STP
4芯2对
20MHz
令牌环网
20Mbit/s
100m
5类
8芯4对
100MHz
100BASE-TX
100Mit/s
100m
5e类
UTP/STP
8芯4对
100MHz
100BASE-T
1Gbit/s
100m
6类
UTP/STP
8芯 4 对
250MHz
1000BASE-T
1Gbit/s
10Gbit/s
100m
10GBASE-T
55m ( 10GBASE-T 时)
6A类
UTP/STP
8芯4对
500MHz
10GBASE-T
10Gbit/s
100m
7类
STP
8芯4对
600MHz
10GBASE-T
10Gbit/s
100m
---
## Page 33
1.1物理层的技术17
根据不同情况选择使用直通线或交叉线
在双绞线电缆中，除了类之外还有直通线和交叉线这两个概念。它们的外表可以说毫无二
致，不同之处在于从名为RJ-45的连接器部位隐约能看到的铜线排列。
直通线和交叉线与名为MDI和MDI-X的两种物理端口类型有着密切的关系。前面已经介
绍过，双绞线电缆是将八根铜线按每两根（双）相互缠绕（绞）的方式纹合，最后再全部绞合成
一整根线缆的。服务器、PC的网卡和交换机的物理端口中有8个PIN，用于接收八根铜线，从
左至右都有相应的编号，面且各有各的作用。
图1.1.5物理端口中有8个PIN
或C的指
在100BASE-TX中，MDI端口通过1号和2号PIN发送信息，通过3号和6号PIN接收信
息，剩余的PIN（4号、5号、7号、8号）并不使用。PC和服务器的网卡，还有路由器的物理
端口都是MDI端口。MDI-X端口则和MDI端口恰恰相反，通过1号和2号PIN接收信息，通
过3号和6号PIN发送信息。L2交换机和L3交换机的物理端口是MDI-X端口。
图1.1.6PC和服务器的网卡是MDI端口
服务基和PC的网卡
线
MOI
的色
发住器
发远信息（+）
发送售息（
收信器
---
## Page 34
181第1章物理设计
图1.1.7文换机的物理端口是MDI-X端口
文换机的物理端口
线
X-ION
限收信息（+
建信息
发信器
数据传递时，一方发送了信息，另一方必然就会接收信息。如果双方都要接收信息，就会变
成对崎的状态；面如果双方都要发送信息，数据就会发生冲突。因此，当双绞线电缆中的铜线是
平行排列的情况时，就必须将MDI与MDI-X连接起来。这样，MDI发送信息则MDI-X接收信
息，MDI-X发送信息则MDI接收信息。这种铜线为平行排列状态的线缆叫作直通线。举个例子，
当PC或服务器连接到交换机上时，MDI和MDI-X的上述关系成立，所以可以使用直通线。
图1.1.8MDI和MDI-X使用直通线连接
服务器和PC的网卡
直通线
交换机的物理编口
线的色
钢线的色
PINMDI-X
发信
核模成是直通线
顺序好例过来
PIN发试信息和接收信息的
然面，MDI和MDI-X的上述关系并非在所有连接环境中都是成立的。有计算机之间互联的
情况，也有交换机之间互联的情况。这些情况下，收发信息的关系并不成立，连对接都无法实现。
那么该怎么办呢？遇到这种情况，把布线改一改就好了。这时候我们需要用到的就是交叉
线，交叉线的铜线配置在内部恰好是相互倒的，这样即使端口类型相同也能形成收发信息的
关系。于是，计算机之间的互联也好，交换机之间的互联也好，就都能形成被此收发信息的关
系了。
---
## Page 35
1.1物理层的技术19
图1.1.9端口类型相网时应使用交叉线连楼
文换机的物理编口
文叉线
文换机的物理端口
MDI-X
上面介绍了直通线和交叉线，但实际上人们最近不太使用交叉线了，这是为什么呢？以前
人们对直通线和交叉线做了严格的使用区分，可是这种严格的使用区分却带来了意想不到的麻
烦，慢慢地反面变成了问题的根源。这里要用交叉线、那里要用直通线像这样指定在哪里
用什么线是非常麻烦的，在架构大规模的网络环境时也的确很费事。在这样的背景下，出现了
具有能够自动识别端口类型功能（AutoMDI/MDI-X）的交换机。AutoMDI/MDI-X功能能够自
动识别对方的端口类型，并根据该类型将收信器和发信器进行调换。有了这项功能，同样的端
口类型也能够使用直通线，就无需用到交叉线了。最近的大多数机器都具备AutoMDI/MDI-X
功能，于是人们就不再需要每次都考虑线缆的种类了。
图1.1.10使用AutoMDI/MDI-X功能的话任何情况都能用直通线连接
文换机的物理端口
直通线
文换机的物理编口
MDIXPI
在1000BASE-T中八根铜线都会用到
在100BASE-TX中，MDI端口通过1号和2号PIN发送信息，通过3号和6号PIN接收信
---
## Page 36
20第1章物理设计
息，剩余的PIN（4号、5号、7号、8号）并不使用。这时候，双绞线电缆里虽然有八根铜线却
只能用到一半，剩下的四个PIN用不上，非常浪费。而在1000BASE-T中，剩余的四个PIN也
能用在数据通信上以提高吞吐率，它是千兆位以太网环境中最常用的标准。IEEE802委员会赋
予1000BASE-T的名字为IEEE802.3ab。
1000BASE-T的通信并不像100BASE-TX那样将收发信分开处理，面是用同样的PIN进行
数据收发。收发器和PIN之间有一个混合电路板，在那里将发送的数据和接收的数据分开，然
后分别交给发信器和收信器。在100BASE-TX中1号和2号PIN是用于发信的，面在
1000BASE-T中，1号和2号PIN既能用于收信也能用于发信。1号和2号PIN进行收发、3号
和6号PIN进行收发、4号和5号PIN进行收发、7号和8号PIN进行收发—就像这样，四
对PIN都能进行数据收发，由此实现了1Gbit/s的高速通信。
图1.1.11在1000BASE-T中八根铜线都会用到
服务器和PC的网卡
直通线
和接收的数据分开
相邻机器的速率和双工设置应保持一致
至此，我们对双绞线电缆繁琐面又深类的结构做了说明。不过，物理层中受制于线缆和网
卡这些硬件的地方很多，实际设置网络设备时未必有那么多的设置细分项目。我们在使用双绞
线电缆时只需注意两处设置即可，那就是端口的速率和双工。相邻设备的速率和双工设置请务
必要保持一致。
正如其名，速率表示传输的速度。我们应配合服务器网卡和网络设备的物理端口将它设置
成100Mbit/s、1000Mbit/s等值。
双工是指双向通信的方式。在网络的世界里不存在单方通信，只有双向通信。双工表示的
就是双向通信成立的方式，它分半双工（half duplex）和全双工（full duplex）两种。半双工通信
---
## Page 37
1.1物理层的技术|21
在同一时刻只能进行单向通信，需要通过调换方向的方式才能使双向通信成立。以前人们用
10BASE2、10BASE5这样的旧规格，但现在不会刻意设置成那样了。在10GBASE-T中：连半
双工这个概念都已经不复存在了。这是因为如果采用半双工通信，在收发批量文件等情况时会
发生错误，吞吐率无法提升。与此相对，全双工通信则是同时进行收发处理来使双向通信成立
的，分别设有不同的信道发送和接收信息。目前，全双工已经成为唯一的标准通信方式，端口
的设置必须符合全双工通信的条件才行。
图1.1.12半双工通信只有一条传输线路
一方发送优息时
另一方只禁限
收信息
发
图1.1.13全双工通信有两条传输线路
条传编战路
速率和双工有手动设置和自动（自协商）设置两种设置方法，无论采用哪种方法，我们都
要保持两端设备的设置一致。
图1.1.14请务必确保两端设备的速率和双工设置一致
1000M
1000Mbit//全夏工
1000Mbit
全京工
全工