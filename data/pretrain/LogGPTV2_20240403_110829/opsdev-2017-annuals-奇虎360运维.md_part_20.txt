翻译的比较粗浅，希望能对了解Prometheus 有所帮助。
https://prometheus.io/docs/introduction/comparison/
本文译自 COMPARISON TO ALTERNATIVES,
"} -> 28 
"}
翻译－Prometheus 及替代方案对比153
---
## Page 159
InfluxDB 的场景做了特殊优化。比 Prometheus 向每个时序数据文件中增加数据的方式要更适
据类型。Prometheus 作为对比只支持 float64 和有限的字符串支持并且时间维度为纳秒级。
含一个二层标签field。InfluxDB支持纳秒级的时间纬度，以及float64，int64，bool和字符串数
Prometheus Alertmanager进一步提供了分组，去重和除噪声的功能。
ager通知功能的工具。Prometheus提供了与之相比更强大查询语言用于绘图和报警。并且
和 Alertmanager一样，这两组工具实现的功能是为了处理相同的问题。
metheus 和InfluxDB 之间有着显著的差异，同时两者也面向不同的应用场景。
Prometheus vs. InfluxDB 
果想使用一个有集群解决方案并且希望存储长期数据，Graphite 可能是更好的选择。
Prometheus 也十分适合短时且经常变化的时序数据。
则任务触发的时间存储数据。当新数据被添加进来后，旧数据依然能按需求保持任意时间。
据在一定周期后会覆盖旧的数据。
随机更新任意过去时间的数据，但周期固定)。每一个时序数据存储在不同的文件中。新监控数
154Prometheus及替代方案对比－翻译
InfluxDB 使用自己实现的 TSM Tree 的算法，LSM Tree(源于 bigtable 扩展阅读)，针对
和 Prometheus 相同，InfluxDB 的数据模型包含Key/Value 对标签。此外 InfluxDB 还包
数据模型和存储
Kapacitor是一个混合了Prometheus的数据处理，存储规则，报警规则，以及Alertman-
适用范围
InfluxDB 是一个开源时序数据库，并且提供商业化(需付费)的集群和扩容解决方案，Pro-
Prometheus提供更丰富的数据类型和查询语言，并且十分易于部署和融入现有环境。如
总结
Prometheus也会为每个时序数据创建一个本地文件，但是允许按照抓取的任意周期或规
Graphite 以Whisper格式在本地磁盘存储时序数据，类似于 RRD 的形式(但Whisper 可
存储方式
api_server_http_requests_total{method="posT",handler="/tracks"
---
## Page 160
Prometheus vs. OpenTSDB
工具中进行数据分析或执行自动化操作。
的数据压缩算法，两者包括彼此之间都有广泛的集成，两者都有钩子以便将来进行扩展,例如在统计
Prometheus一样通过用户手动分片进行扩容。
运行Prometheus冗余副本一并能使用Alertmanager的高可用模式。另外，Kapacitor可以同
Prometheus 服务器的可扩展性。当然独立的服务器也能给你更好的可靠性和故障隔离。
的分布式存储系统。相对来说 Prometheus 的运行更加简单，但是你也需要提前考虑好各个单独的
进行处理。
相同。商业版本的InfluxDB 提供通过设计一个分布式存储方案，使存储和查询能在不同节点上同时
合于事件日志。Logs and Metrics and Graphs，Oh My!描述了事件日志和监控指标记录的区别。
 OpenTSDB 是一个基于 Hadoop 和 HBase 的分布式时序数据库。
适用场景的对比与 Graphite 类似。
适用场景
Prometheus 的优势：
两个系统之间有非常多的相似之处，都通过标签来支持多纬度监控指标，两者都使用基本相同
Kapacitor 当前没有内建的分布式或冗余选项。作为对比 Prometheus 提供了冗余选项，配合
总结
这就表明商业版本的InfluxDB更容易横向扩展，但也意味着你必须从最开始就要管理一个复杂
InfluxDB 的优势：
Prometheus 的服务器都独立运行，核心功能依赖于服务器的本地存储，开源版本的InfluxDB
架构
·对于绘图和报警有更高的可用性和运行时间。
更强大的搜索语言、报警以及通知功能。
·主要用于监控指标收集。
·副本间的数据一致性。
：进行事物日志监控。
商业化的InfluxDB集群方案，更加适合长期数据的存储。
翻译－Prometheus及替代方案对比155
---
## Page 161
化插件(PNP4Nagios)。
数据可以发送到 Graphite 这样的时序数据库中，或者使用 NRPE远程逐级上运行检测命令。
分组，路由和去重的功能。Nagios 有十分多的插件，比如，perfData 插件中抽取出的几 kb 的
Prometheus vs. Nagios
个比较好的选择。
监控系统的一部分。如果你已经运行了 Hadoop 集群并存储长期数据，那么 OpenTSDB 是一
Base集群。
OpenTSDB进行平行扩容。但是必须接受从最开始的时候就要维护十分复杂的Hadoop/H-
乏完善的查询语言，只能通过API 进行简单的聚合和数学计算。
Prometheus 允许在标签中使用任意字符，但 OpenTSDB 有部分限制。OpenTSDB同时也缺
定的，所有指标的数据都存储在一起，同时限制指标的数量。虽然有细微的差别，例如
156 Prometheus 及替代方案对比－翻译
Nagios 适合那些用黑盒探测就足够的小规模或静态系统的基础监控。
Nagios 服务器都是单点运行，所有检测配置都是基于文件的。
架构
nagios本身没有存储，仅基于当前的状态。也有相关的插件可以存储数据，例如一些可视
数据模型
Nagios主要是针对脚本的退出代码进行报警。能针对个别报警的停止报警功能，然而没有
适用场景
Nagios是起源于90年代名为"NetSaint"的开源监控系统。
Prometheus提供更丰富的查询语言，可以处理更大基数的监控指标数量并且能形成完整
总结
Prometheus 初期运行简单，但是当单个节点容量达到一定限度时要考虑分片的问题。
总结
OpenTSDB的存储在Hadoop和HBase之上实现。这说明我们可以非常容易的对
存储
OpenTSDB 的数据模型与Prometheus 几乎相同：时序数据是由一组任意的键值对来确
数据模型
---
## Page 162
https://opsdev.cn/post/comparison-to-alternatives.html
本文链接：
metheus 是一个好的选择。
不错的选择；如果你想做白盒监控，或者有一个动态的或者基于云计算的环境，那么 Pro-
于处理数据的单独服务器。
置文件确定要运行的检测项目。Sensu 对抽取的性能检测数据的数量没有限制。
Prometheus vs. Sensu
的选择。
如果你已经在使用Nagios，并希望使用 Sensu 的扩容和注册等高级功能，Sensu 是个
总结
Rabbitmq 和redis 都可以集群化，多个 Sensu 的副本可用作扩容和冗余。
 Sensu 包含许多组件，使用 Rabbitmq作为消息队列，redis 用于存放当前状态，以及用
Sensu讲数据存放在redis 中，主要用于存放被静音的报警和客户端注册信息。
Sensu 和 nagios 的数据模型一样稍显粗糙。
同时 Sensu 也有一个 client socket 允许将随机检测数据推送到 Sensu 。
最主要的区别是Sensu的客户端会自行向中心节点注册，并能同时从中心节点或本地配
和 nagios 的大多数场景相同，这里只描述一些有区别的。
架构
存储
数据模型
适用场景
如果你想做白盒监控，或者有一个动态的或者基于云计算的环境，那么 Prometheus 是一个好
翻译－Prometheus 及替代方案对比157
扫一扫查看文章详情
.5
---
## Page 163
发展很快，没准十年之后，我可能会去搞AI吧。（笑）
管理性的工作，我也要亲自参与项目实施中去，纯粹管理方面的工作不是我想要的。现在技术
这也是我未来两年的工作目标。要说五年之后，我希望还能继续做技术，就算是需要承担一些
devops相关的工作，至少在可以看到的未来两年，我希望能在云基础设施这块儿做到更好，
王浩宇：我没有给自己定太明确的职业规划，从业七年来，从新浪到360都在做私有云和
Opsdev:您的职业规划是什么？
务里至今很多都还在线上运行，在发挥价值，解决问题。
得很满足，可能是因为我给自己定的目标都比较高吧。但是让我很高兴的是这些真正落地的服
，到后来用puppet做集群管理，再后来做OpenStack和Kubernetes，其实这些都没有让我觉
王浩宇：2013年我加入了360，这些年也做出了一些成绩和产出，从刚来处理邮件服务的问题
Opsdev:加入360之后您觉得做得最好的是什么？
硬件方面的课，更加坚定了我从业的信念。
从事计算机方面的工作，就系统性的学习了包括数据结构、操作系统的知识，甚至还听过一些
Linux，安装配置实验室的文件服务器，防火墙iptables等等。研究生期间确定自己毕业之后想
王浩宇：我在本科和研究生学的都是生物，但是从本科开始就喜欢计算机方面的东西，折腾
158王浩宇－人物专访
人物专访
王浩宇
---
## Page 164
伸缩和服务稳定方面的优点的，酒香不怕巷子深。
王浩宇：大家如果能花一些时间来使用我们的产品，一定能感受到我们产品在环境统一、弹性
Opsdev:如果让您给Stark容器服务打个广告，您会怎么说呢？
题，大家就像什么事儿都没有一样，我们团队在这方面儿就做的很好，大家都很坦诚。
红耳赤，甚至有一些摩擦，那也是在就事论事，大家意见不一致罢了。等回头不再讨论这个问
王浩宇：我感触最深的应该是大家互相信任、互相谅解吧。我们可以为了一个技术问题争的面
Opsdev:和团队成员一起合作，您感触最多的是什么?
希望明年可以和业务线兄弟一起做一些微服务方面的工作。
增加新功能，比如说批处理的Job和更高级优雅的发布方式，打通上下游CI/CD的流程，还有
用我们容器服务跑起来，应用类型要丰富，容器使用规模要扩大。我们也会根据用户需求不断
王浩宇：2018年我们容器服务的首要任务是让更多的Huk业务线和应用类型用起来，
Opsdev：您对Stark容器服务又有什么规划呢？
用户在页面上能一眼就看明白的去把他的镜像做出来。
讲，很多都没有足够的时间和精力去学，我们为什么花那么大力气去优化镜像管理，就是想让
实更愿意专注到他的业务逻辑上去，原生Kubernetes有一定的学习成本。对于这部分用户来
上”的产品理念影响，要做到对用户足够友好。我们的很多用户相较于底层采用的技术栈，其
王浩宇：我们HuIk云平台的产品都讲求易用性，在Stark产品设计之初，就受咱公司“用户至
Opsdev:您觉得Stark和其他容器云平台相比有哪些优势呢？
问题解决，当时经过各方面调研，感觉各方面条件都具备了，于是今年就去做这个事儿。
，还有一些其他问题，比如资源利用率、扩容/缩容成本很高等。我就想能不能通过容器把这些
的是计算资源隔离的问题，puppet等自动化工具解决是应用运行环境的问题，但这些是割裂的
stack开发进入维护期之后，我就去想Hulk下一步需要被解决的问题。Openstack虚拟机解决
王浩宇：我们部门做的工作都是从客观需求和实际场景痛点出发，2016年底，当我们Open-
Opsdev:为什么要做Stark容器服务呢？
人物专访－王浩宇159
从
---
## Page 165
学习。
能运维系统一奇异博士的设计、开发以及落地。擅长领域包括Kubernetes、Docker以及机器
研究生学历，360运维开发工程师，曾在360、
籍鑫璞
设。目前在360从事虚拟化和容器化平台的建设。热爱技术，热爱生活。
2014年毕业于电子科技大学，毕业后在新浪从事一年的基于 OpenStack 的弹性计算平台的建
霍明明
乐乎。
Furion开发工作。空闲时会玩王者荣耀、听音乐、看电影。今年荣升为奶爸，工作、带娃不亦
2012年8月2日加入360，目前做一些golang方面的运维开发的事情，主要负责Wonder、
高广鹏
是组内最有身份的人了。
设，目前专注于应用及容器化的监控解决方案，对新鲜事物充满热情。因为养了两只猫，可能
运维开发工程师，知道分子，啥都懂点。曾参与公司私有云平台及大规模分布式存储系统的建
赵鹏
好，喜欢看书，喜欢电影，科幻，也爱踢球和打网球。
容器、laaS、PaaS等方面积累了很多经验；兴趣爱好方面，计算机技术就是我的一大兴趣爱
定转行，进入了计算机互联网技术行业，在自动化运维、大规模分布式系统、网络、虚拟化、
我的学生时代专业是生命科学，但实在受不了穿着白大褂拿小白鼠做实验的人生，于是毅然决
王浩宇
是《群星我的归宿》。
中最伟大的导演是斯坦利库布里克，最伟大的电影是《2001太空奥德赛》，最伟大的科幻小说
考未来的事情，爱看电影和科幻小说。如果不是搞T，可能想去拍电影或者写科幻小说，心目
5年运维，2年运维开发，一直致力于优化公司的基础设施。爱技术，爱钻研，爱分享，喜欢思
许斯亮
160团队成员简介
团队成员
、百度任职。参与360容器服务开发，主导360智
---
## Page 166
游。擅长乒乓球，喜欢马琳和王皓的风格；热衷足球，是传控足球的拥。
络及架构、虚拟化容器化网络、以及SDN/NFV这方面比较感兴趣。平时喜欢读书、运动和旅
的容器云网络开发工作，现在主要负责云计算虚拟化、容器化网络方面的工作。自己对传统网
来自河北唐山，毕业于长春理工大学。之前做过Linux下应用层开发和电信运营商核心网相关
李文新
兴趣爱好主要喜欢台球、篮球、跑步、追剧。
作，热衷开源，喜欢折腾，技术方面主要擅长Golang、容器、容器编排等相关的技术，个人
我是一个内心狂热，外表典的理工男，从事过服务端开发，现在主要做云计算相关的开发工
王希刚
穿越是我最喜爱的运动类型。
还喜欢做一些新奇的小玩意儿，也喜欢精致的手办和 Arduino。我有夜跑的习惯，滑雪和徒步
毕业于中南大学，目前在 360从事智能运维和容器化平台的建设，爱好广泛，平时除了写代码
康凯
运维中更懂开发的。同时产品运营HR啥的都想尝试。
共享云等微服务框架开发，目前在从事AIOPS领域研究。自我评价，算是开发中更懂运维的，
山西吕梁人，15年毕业于北京工业大学，然后进入奇虎360至今，折腾过云计算，参与过IM,
王保平
球、游泳，偶尔也打打游戏。
的代表（IT互联网）行业中。多年程序员，热爱编码工作，有一定的项目经验。平时喜欢打篮
怀着对中华传统文明的热爱从北京中医药大学毕业，工作3年后毅然转行投入到现代科学文明
李钢
团队成员简介161
---
## Page 167
合
一扫下载电子版本年刊
奇虎运维开发
合
口
---
## Page 168
360OPSDEV RSS
电话：010-58781511 15001094521
地址：北京市朝阳区酒仙桥路6号院
邮箱：PI:EMAIL
网址：https://opsdev.cn
如何找到我们？
奇虎运维开发
扫一扫加关注
HULKTALK微信公众号
---