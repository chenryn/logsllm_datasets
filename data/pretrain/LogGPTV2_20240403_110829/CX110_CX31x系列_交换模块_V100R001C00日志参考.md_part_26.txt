30.9 LACP/3/LACP_RCV_ERR_MESSAGE
30.10 LACP/6/LACP_RESEND_MSG_OVERTIME
30.11 LACP/6/SMTH_SEQ_ERR
文档版本 09 (2017-09-04) 华为专有和保密信息 243
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
30.1 LACP/2/hwLacpNegotiateFailed_active
日志信息
LACP/2/hwLacpNegotiateFailed_active: The member of LAG can neither receive PDUs nor
send PDUs.(TrunkIndex=[TrunkIndex], PortIfIndex=[PortIfIndex], TrunkId=[TrunkId],
TrunkName=[TrunkName], PortName=[PortName], Reason=[Reason])
日志含义
成员链路协商不成功。
日志参数
参数名称 参数含义
TrunkIndex Trunk索引
PortIfIndex 成员端口索引
TrunkId Trunk接口ID
TrunkName Trunk接口名
PortName 成员端口名
Reason 告警原因
可能原因
原因1：Interface physical link is down.（接口物理链路down。）
原因2：No LACP packet was received from the remote end when the timer expired.（在超
时时间内，没有收到对端的LACP报文。）
处理步骤
步骤1 检查端口状态是否为Down。
l 如果是，则请执行步骤2。
l 如果不是，则请执行步骤4。
步骤2 执行命令undo shutdown，查看告警是否恢复。
l 如果是，则请执行步骤8。
l 如果不是，则请执行步骤3。
步骤3 检查物理链路是否有故障。
文档版本 09 (2017-09-04) 华为专有和保密信息 244
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
l 如果是，则请执行步骤6。
l 如果不是，则请执行步骤4。
步骤4 检查链路本端和对端是否有端口退出链路聚合组。
l 如果是，则请执行步骤5。
l 如果不是，则请执行步骤7。
步骤5 检查端口是否是正常退出链路聚合组。
l 如果是，则请执行步骤8。
l 如果不是，则请执行步骤7。
步骤6 正确修复物理链路，查看告警是否恢复。
l 如果是，则请执行步骤8。
l 如果不是，则请执行步骤4。
步骤7 请收集告警信息、日志信息和配置信息，并联系华为技术支持工程师。
步骤8 结束。
----结束
30.2 LACP/2/hwLacpNegotiateFailed_clear
日志信息
LACP/2/hwLacpNegotiateFailed_clear: Link negotiation failure is resumed.
(TrunkIndex=[TrunkIndex], PortIfIndex=[PortIfIndex], TrunkId=[TrunkId],
TrunkName=[TrunkName], PortName=[PortName], Reason=[Reason])
日志含义
成员链路协商故障恢复。
日志参数
参数名称 参数含义
TrunkIndex Trunk索引
PortIfIndex 成员端口索引
TrunkId Trunk接口ID
TrunkName Trunk接口名
PortName 成员端口名
Reason 告警原因
文档版本 09 (2017-09-04) 华为专有和保密信息 245
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
可能原因
原因1：LACP packet was received from the remote end. （成员链路第一次协商成功。）
原因2：Interface physical link is up.（成员链路协商出现故障，触发了
hwLacpNegotiateFailed告警。成员链路故障恢复时，触发产生hwLacpNegotiateResume
恢复告警。）
处理步骤
l 正常运行信息，无需处理。
----结束
30.3 LACP/2/hwLacpPartialLinkLoss_active
日志信息
LACP/2/hwLacpPartialLinkLoss_active: Link bandwidth lost partly.
(TrunkIndex=[TrunkIndex], TrunkIfIndex=[TrunkIfIndex], TrunkId=[TrunkId],
TrunkName=[TrunkName], Reason=[Reason])
日志含义
链路带宽部分丢失。
日志参数
参数名称 参数含义
TrunkIndex Trunk索引
TrunkIfIndex Trunk接口索引
TrunkId Trunk接口ID
TrunkName Trunk接口名
Reason 告警原因
可能原因
原因：The number of the Eth-trunk member links that can be selected is smaller than the
lower threshold value.（当前可以被选中的Eth-Trunk成员链路数小于Eth-Trunk配置的下
限阈值。）
处理步骤
步骤1 执行命令display interface brief查看端口状态是否为Down。
文档版本 09 (2017-09-04) 华为专有和保密信息 246
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
l 如果是，则请执行步骤2。
l 如果不是，则请执行步骤4。
步骤2 执行命令undo shutdown，查看告警是否恢复。
l 如果是，则请执行步骤10。
l 如果不是，则请执行步骤3。
步骤3 检查物理链路是否有故障。
l 如果是，则请执行步骤7。
l 如果不是，则请执行步骤4。
步骤4 执行命令display eth-trunk [ trunk-id [ interface interface-type interface-number |
verbose ] ]查看链路聚合组中是否有成员口。
l 如果是，则请执行步骤5。
l 如果不是，则请执行步骤8。
步骤5 执行命令display trunkmembership eth-trunk trunk-id查看链路聚合组是否配置了Trunk
口成员链路Up的下限阈值，当前可以协商成功的Trunk成员链路数是否小于Trunk口成
员链路Up的下限阈值。
l 如果是，则请执行步骤6。
l 如果不是，则请执行步骤9。
步骤6 在Eth-Trunk接口视图下，执行命令least active-linknumber link-number，正确配置Trunk
口成员链路Up的下限阈值，查看告警是否恢复。
l 如果是，则请执行步骤10。
l 如果不是，则请执行步骤9。
步骤7 正确修复物理链路，查看告警是否恢复。
l 如果是，则请执行步骤10。
l 如果不是，则请执行步骤4。
步骤8 在接口视图下执行命令eth-trunk trunk-id，根据实际需要将当前以太网接口加入Eth-
Trunk组，查看告警是否恢复。
l 如果是，则请执行步骤10。
l 如果不是，则请执行步骤5。
步骤9 请收集告警信息、日志信息和配置信息，并联系华为技术支持工程师。
步骤10 结束。
----结束
30.4 LACP/2/hwLacpPartialLinkLoss_clear
日志信息
LACP/2/hwLacpPartialLinkLoss_clear: Link bandwidth lost partly is resumed.
(TrunkIndex=[TrunkIndex], TrunkIfIndex=[TrunkIfIndex], TrunkId=[TrunkId],
TrunkName=[TrunkName], Reason=[Reason])
文档版本 09 (2017-09-04) 华为专有和保密信息 247
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
日志含义
链路带宽部分丢失故障清除。
日志参数
参数名称 参数含义
TrunkIndex Trunk索引
TrunkIfIndex Trunk接口索引
TrunkId Trunk接口ID
TrunkName Trunk接口名
Reason 告警原因
可能原因
原因：The number of the Eth-trunk member links that can be selected reached the lower
threshold value.（当前可以协商成功的Trunk成员链路数小于Trunk口成员链路Up的下限
阈值，导致整个链路聚合组链路状态变为Down，从而产生hwLacpPartialLinkLoss告
警。hwLacpPartialLinkLoss告警清除时，触发产生hwLacpPartialLinkLossResume告
警。）
处理步骤
l 正常运行信息，无需处理。
----结束
30.5 LACP/2/hwLacpTotalLinkLoss_active
日志信息
LACP/2/hwLacpTotalLinkLoss_active: Link bandwidth lost totally.
(TrunkIndex=[TrunkIndex], TrunkIfIndex=[TrunkIfIndex], TrunkId=[TrunkId],
TrunkName=[TrunkName], Reason=[Reason])
日志含义
链路带宽全部丢失。
文档版本 09 (2017-09-04) 华为专有和保密信息 248
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
日志参数
参数名称 参数含义
TrunkIndex Trunk索引
TrunkIfIndex Trunk接口索引
TrunkId Trunk接口ID
TrunkName Trunk接口名
Reason 告警原因
可能原因
原因：No link is selected.（没有端口被选中。）
处理步骤
步骤1 执行命令display interface brief查看端口状态是否为Down。
l 如果是，则请执行步骤2。
l 如果不是，则请执行步骤4。
步骤2 执行命令undo shutdown，查看告警是否恢复。
l 如果是，则请执行步骤8。
l 如果不是，则请执行步骤3。
步骤3 检查物理链路是否有故障。
l 如果是，则请执行步骤5。
l 如果不是，则请执行步骤4。
步骤4 执行命令display eth-trunk [ trunk-id [ interface interface-type interface-number |
verbose ] ]查看链路聚合组中是否有成员口。
l 如果是，则请执行步骤7。
l 如果不是，则请执行步骤6。
步骤5 正确修复物理链路，查看告警是否恢复。
l 如果是，则请执行步骤8。
l 如果不是，则请执行步骤4。
步骤6 在接口视图下执行命令eth-trunk trunk-id，根据实际需要将当前以太网接口加入Eth-
Trunk组，查看告警是否恢复。
l 如果是，则请执行步骤8。
l 如果不是，则请执行步骤7。
步骤7 请收集告警信息、日志信息和配置信息，并联系华为技术支持工程师。
文档版本 09 (2017-09-04) 华为专有和保密信息 249
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
步骤8 结束。
----结束
30.6 LACP/2/hwLacpTotalLinkLoss_clear
日志信息
LACP/2/hwLacpTotalLinkLoss_clear: Link bandwidth lost totally is resumed.
(TrunkIndex=[TrunkIndex], TrunkIfIndex=[TrunkIfIndex], TrunkId=[TrunkId],
TrunkName=[TrunkName], Reason=[Reason])
日志含义
链路带宽全部丢失故障清除。
日志参数
参数名称 参数含义
TrunkIndex Trunk索引
TrunkIfIndex Trunk接口索引
TrunkId Trunk接口ID
TrunkName Trunk接口名
Reason 告警原因
可能原因
原因：The number of the Eth-trunk member links that can be selected reached the lower
threshold value.（没有端口被选中产生hwLacpTotalLinkLoss告警，此告警清除时，触发
产生hwLacpTotalLinkLossResume告警。）
处理步骤
l 正常运行信息，无需处理。
----结束
30.7 LACP/6/LACP_PIPE_STATUS
日志信息
LACP/6/LACP_PIPE_STATUS:The pipe state is changed.(PipeID=[PipeID],
OldState=[OldState], NewState=[NewState],ChangeReason=[ChangeReason])
文档版本 09 (2017-09-04) 华为专有和保密信息 250
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
日志含义
管道状态变化。
日志参数
参数名称 参数含义
PipeID 标识管道ID。
OldState 标识管道原来的状态。
NewState 标识管道新状态。
ChangeReason 标识管道变化原因。
可能原因
LACP与LDM建立管道。
处理步骤
l 正常运行信息，无需处理。
----结束
30.8 LACP/3/LACP_PROCESS_RESET
日志信息
LACP/3/LACP_PROCESS_RESET:LACP process reset.(CompCID=[CompCID],
ResetReason=[ResetReason])
日志含义
LACP进程复位。
日志参数
参数名称 参数含义
CompCID 标识组件号。
ResetReason 标识复位原因。
可能原因
内存错误，导致组件获取不到需要的数据。
处理步骤
l 请收集相关配置信息、日志信息联系华为技术支持工程师。
----结束
文档版本 09 (2017-09-04) 华为专有和保密信息 251
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
30.9 LACP/3/LACP_RCV_ERR_MESSAGE
日志信息
LACP/3/LACP_RCV_ERR_MESSAGE:Receive error message, drop it.
(LocalComp=[LocalCompCID], PeerComp=[PeerCompCID], MsgType=[MsgType],
ErrMsgReason=[ErrMsgReason])
日志含义
收到错误消息。
日志参数
参数名称 参数含义
LocalComp 标识本端组件名称。
PeerComp 标识对端组件名称。
MsgType 标识报文类型。
ErrMsgReason 标识收到错误报文原因。
可能原因
原因1：
控制消息错乱，导致设备收到了在本阶段不应该收到的消息。
原因2：
消息的事务号不正确。
原因3：
收到SMP发送的配置消息，但是LACP模式Eth-Trunk没有创建。
处理步骤
l 请收集相关配置信息、日志信息联系华为技术支持工程师。
----结束
30.10 LACP/6/LACP_RESEND_MSG_OVERTIME
日志信息
LACP/6/LACP_RESEND_MSG_OVERTIME:Send message over 3 times, but still not
receive ack message in one mintune. (MsgType=[MsgType], CompType=[CompType],
CompPid=[CompPid], ResendNum=[ResendNum])
文档版本 09 (2017-09-04) 华为专有和保密信息 252
版权所有 © 华为技术有限公司
CX110&CX31x系列 交换模块
日志参考 30 LACP
日志含义
一分钟内消息重传超过3次都没有收到对端响应。
日志参数
参数名称 参数含义
MsgType 标识消息类型。