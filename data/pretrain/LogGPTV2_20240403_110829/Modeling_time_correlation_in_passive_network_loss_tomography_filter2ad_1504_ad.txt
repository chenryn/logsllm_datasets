)
%
(
r
o
r
r
e
e
v
i
t
l
a
e
r
e
t
l
u
o
s
b
A
 12
 10
 8
 6
 4
 2
 0
 2  3  4  5  6  7  8  9  10
 2  3  4  5  6  7  8  9  10
Number of leaves
Number of leaves
(c) no leaf loss, common link
loss rate ∼ 5%
(d) with leaf losses, common
link loss rate ∼ 5%
Fig. 9. Experiment B.1: Performance of different inference approaches in
the ON-OFF loss model.
if there is an on-off transition in the loss model between the
two packets. On the other hand, this possibility is inherently
considered in PL-based inference approaches est.equal and
est.self, so they have smaller error rates.
In Figure 9(b) (i.e., the with-leaf-losses case), we still see
that both est.equal and est.self have smaller error rates than
est.perfect. We note that est.equal now has a higher error
rate than est.self when the number of leaf branches is small.
However, est.equal outperforms est.self when the number of
leaf branches is large. This observation is consistent with that
in our model simulation (see the discussion in Experiment A.2
in Section VI). In both Figures 9(a) and 9(b), we observe that
est.equal remains robust toward the number of leaf branches
and its error rate is within 10%.
In Figures 9(c) and 9(d), the common link has a higher loss
rate (i.e., 5%). We observe that all approaches incur smaller
error rates than Figures 9(a) and 9(b), where the common link
loss rate is 2%. This is expected, as right now the end-to-end
losses more likely occur at the common link. In this case,
we still observe that both est.equal and est.self outperform
est.perfect, while est.equal maintains low error rates (within
4.2%) with regard to the number of leaf branches.
Experiment B.2 (The QUEUE loss model). We consider
another way of generating packet losses, which we call the
QUEUE loss model. In this model, we associate each node
with a ﬁnite-buffer drop-tail queue, given that
the drop-
tail policy is conﬁgured in most Internet routers today. We
inject large UDP bursts to cause queue overﬂows and hence
packet losses. The UDP bursts follow an exponential on-off
distribution, in which we adjust the on-off periods to obtain
Authorized licensed use limited to: Tsinghua University. Downloaded on March 18,2021 at 14:45:26 UTC from IEEE Xplore.  Restrictions apply. 
558)
%
(
r
o
r
r
e
e
v
i
t
l
a
e
r
e
t
l
u
o
s
b
A
 20
 15
 10
 5
 0
est.equal
est.self
est.perfect
)
%
(
r
o
r
r
e
e
v
i
t
l
a
e
r
e
t
l
u
o
s
b
A
 20
 15
 10
 5
 0
est.equal
est.self
est.perfect
)
%
(
r
o
r
r
e
e
v
i
t
a
e
r
e
t
u
o
s
b
A
l
l
est.equal
est.self
est.perfect
 30
 25
 20
 15
 10
 5
 0
)
%
(
r
o
r
r
e
e
v
i
t
a
e
r
e
t
u
o
s
b
A
l
l
est.equal
est.self
est.perfect
 30
 25
 20
 15
 10
 5
 0
 2  3  4  5  6  7  8  9  10
 2  3  4  5  6  7  8  9  10
 0.5  0.55  0.6  0.65  0.7  0.75  0.8  0.85  0.9  0.95
 0.5  0.55  0.6  0.65  0.7  0.75  0.8  0.85  0.9  0.95
Number of leaves
Number of leaves
beta
beta
(a) no leaf loss, common link
loss rate ∼ 2%
(b) with leaf losses, common
link loss rate ∼ 2%
(a) no leaf loss, common link
loss rate ∼ 2%
(b) with leaf losses, common
link loss rate ∼ 2%
)
%
(
r
o
r
r
e
e
v
i
t
l
a
e
r
e
t
l
u
o
s
b
A
 20
 15
 10
 5
 0
est.equal
est.self
est.perfect
)
%
(
r
o
r
r
e
e
v
i
t
l
a
e
r
e
t
l
u
o
s
b
A
 20
 15
 10
 5
 0
est.equal
est.self
est.perfect
 2  3  4  5  6  7  8  9  10
 2  3  4  5  6  7  8  9  10
Number of leaves
Number of leaves
(c) no leaf loss, common link
loss rate ∼ 5%
(d) with leaf losses, common
link loss rate ∼ 5%
Fig. 10. Experiment B.2: Performance of different inference approaches in
the QUEUE loss model.
)
%
(
r
o
r
r
e
e
v
i
t
a
e
r
e
t
u
o
s
b
A
l
l
est.equal
est.self
est.perfect
 30
 25
 20
 15
 10
 5
 0
)
%
(
r
o
r
r
e
e
v
i
t
a
e
r
e
t
u
o
s
b
A
l
l
est.equal
est.self
est.perfect
 30
 25
 20
 15
 10
 5
 0
 0.5  0.55  0.6  0.65  0.7  0.75  0.8  0.85  0.9  0.95
 0.5  0.55  0.6  0.65  0.7  0.75  0.8  0.85  0.9  0.95
beta
beta
(c) no leaf loss, common link
loss rate ∼ 5%
(d) with leaf losses, common
link loss rate ∼ 5%
Fig. 11.
Experiment B.3: Performance of different inference approaches
under skewed trafﬁc distribution, assuming that there are 10 leaf branches
and the ON-OFF model is used.
the actual loss rates that we consider, i.e., ∼2% and ∼5%. We
again consider the no-leaf-loss and with-leaf-losses cases as in
Experiment B.1.
Figure 10 shows the inference results for the QUEUE loss
model. In general, the error rates of all inference approaches
in the QUEUE model are in the range 10-20%, and are higher
than those in the ON-OFF model. Nevertheless, similar to Ex-
periment B.1, in the with-leaf-losses cases (i.e., Figures 10(b)
and 10(d))), est.equal introduces higher error rates when the
number of leaf branches is small, but outperforms the other
two approaches when the number of leaf branches increases.
In short, we observe similar improvements in est.equal and
est.self over est.perfect as in Experiment B.1.
Experiment B.3 (Skewed trafﬁc loads). In this experiment,
we consider the scenarios when the trafﬁc loads in the leaf
branches are uneven. We ﬁrst divide the leaf branches into
two groups (denoted by Group 1 and Group 2). For each TCP
ﬂow we generate, it ﬁrst selects either Group 1 or Group 2 with
probabilities β and 1 − β, respectively, where 0.5 ≤ β  0.5, then the leaf
branches in Group 1 will see more trafﬁc than in Group 2.
Here, we ﬁx the number of leaf branches to be 10, and focus
on the ON-OFF loss model. Figure 11 shows the performance
of different inference approaches versus β. We observe that
as β increases, the performance of both est.self and est.perfect
degrade signiﬁcantly, even though est.self is slightly better. On
the other hand, est.equal remains robust toward the skewed
trafﬁc loads by assuming the same end-to-end loss rates in all
leaf branches. Similar observations are made for other numbers
of leaf branches and for the QUEUE loss model.
B. The Large Tree Topology
We now evaluate the inference algorithms based on the
extensions for general topologies (Section V). Here, we con-
sider a large four-level tree topology as shown in Figure 12,
which mimics the four-level hierarchy as in a wireless data
architecture (see Figure 1 in Section I). Here, we assume that
the link bandwidth at the root node is 5Mb/s, and other links
have the same bandwidth 1Mb/s. All links have propagation
delay 5ms.
In Figure 12, the topology has four levels labeled as levels 1
to 4. The degrees of levels 1-4 are 1, 4, 4, and 10, respectively.
We focus on the ON-OFF loss model. Each TCP ﬂow sends
trafﬁc from the root to one of the leaf branches in level 4. In
each non-leaf level (i.e., levels 1 to 3), we select the leftmost
link (see the bold links in the ﬁgure) as our link of interest.
Our goal is to infer their loss rates using different inference
approaches. We obtain estimates over 30 simulation runs. For
each run, we increase the simulation time to 300s to obtain
more samples.
Experiment B.4 (Large topology). We ﬁrst focus on the case
where packet losses only occur in the links of interest (i.e.,
the bold links in Figure 12), while other links do not have any
loss. For each link of interest, we generate an actual loss rate
of approximately 2-3%.