 0.4
 0.6
 0.8
 1
In-Degree Ratio
(c) Edge In-Degree Ratio
Figure 7: Comparing activity of users inside and outside communities. Community users score higher on all
dimensions of activity measures, conﬁrming the positive inﬂuence of community on users. (a) Edge inter-
arrival time. Community nodes create edges more frequently than non-community nodes. (b) Node lifetime.
Community users are grouped by their community sizes. [x, y] represents communities of size between x and
y. Community nodes stay active longer than non-community nodes. (c) Community user’s in-degree ratio.
Nodes in larger communities are more active within their own communities.
F
D
C
 1
 0.8
 0.6
 0.4
 0.2
 0
community nodes
non-community nodes
 10  20  30  40  50  60  70  80  90  100
Edge Inter-arrival Times (Day)
(a) Edge Inter-arrival Time
F
D
C
 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
non-community nodes
[10,1k]
[1k,10k]
10k+
 0
 50  100  150  200  250  300  350  400
Lifetime (Day)
(b) Node Lifetime
F
D
C
 1
 0.8
 0.6
 0.4
 0.2
 0
 0
[10,1k]
[1k,10k]
10k+
 0.2
 0.4
 0.6
 0.8
 1
In-Degree Ratio
(c) Edge In-Degree Ratio
Figure 8: Veriﬁcation of results on the impact of communities on users’ activities, using the Absolute Potts
Model (APM) community detection algorithm. The results from communities detected by APM are consis-
tent with our results using communities detected by our incremental Louvain approach.
their own community. In particular, 11-30% of nodes only
interact with peers in their own communities. These results
show that like oﬄine communities, online social communities
also encourage users to interact “locally” with peers sharing
mutual interests.
4.5 Veriﬁcation by Alternative Community
Detection Algorithm
One concern with our work is whether our results are
strongly biased by our choice of community detection algo-
rithm. Since our incremental Louvain approach is the only
algorithm able to process our large dataset, we choose to
validate a small subset of our results using an alternative
algorithm for community detection.
We select the Absolute Potts Model (APM) community
detection algorithm [31]. This algorithm detects communi-
ties by minimizing a metric from Potts model, which de-
scribes the network energy under such network partition.
The formal deﬁnition of this metric for unweighted graphs is
shown in Equation 3, where Aij is the element of adjacency
matrix, Jij = (1 − Aij) is the missing edge in this network
and σi is the community which node i belongs to. If node i
and node j are in the same community, i.e. σi = σj, δ(σi, σj)
is 1; otherwise, it is 0. γ is used to weight the strength of
the missing edges, which is 0.0001 in our experiment.
H = − 1
2
(cid:2)
i(cid:3)=j
(Aij − γJij )δ(σi, σj )
(3)
Because of the signiﬁcant computational costs, we run the
APM community detection algorithm on our ﬁrst-year net-
work data, i.e. from snapshot 20 to snapshot 383. Then we
run the measurement in Figure 7 on communities detected
by APM, and present all of the results in Figure 8. Fig-
ure 8(a) shows the CDF of edge inter-arrival time of users
in communities and users out of communities. We ﬁnd that
users in communities are more active in creating new connec-
tions compared to those outside of communities. Figure 8(b)
shows the node lifetime distribution in communities of dif-
ferent sizes. We observe that users in larger communities
have longer lifetimes. The edge in-degree ratio distribution
in Figure 8(c) shows that users in larger communities are
more likely to connect users inside the same community than
users outside the community. All these results are qualita-
tively consistent with the observations in Figure 7. This
conﬁrms our results on community membership’s impact on
user activity. But more broadly, it provides evidence that
our choice of that community detection algorithms does not
signiﬁcantly skew our analytical results.
4.6 Summary of Results
communities lead to the following key ﬁndings:
Our eﬀorts on tracking and analyzing the evolution of
• Our social network displays a strong community struc-
ture, and the size of the communities follows the power-
law distribution.
• The majority of communities are short-lived, and
within a few days they quickly merge into other larger
180communities. These merge events can be reliably pre-
dicted using structural features and dynamic metrics.
• The membership to a community has signiﬁcant in-
ﬂuence on users’ activity. Compared to stand-alone
users, community users create edges more frequently,
exhibit a longer lifetime, and tend to interact more with
peers in the same community.
5. MERGING OF TWO OSNS
On December 12, 2006, our large Chinese OSN merged
with a second competing online social network in China.
This combined entity became
the largest Chinese online
social network that exists today. Our access to the graph
topological and temporal data that characterizes this merge
gives us a unique opportunity to study how this network-
level event impacts users’ activity. For clarity, we refer to
our original social network as network X and the competitor
it merged with as network Y .
In this section, we analyze the forces at work during the
merge. First, we look at the edge creation activity of users
over time in order to isolate users that have become inactive.
This enables us to estimate how many duplicate accounts
there were between network X and network Y . Second, we
examine edge creation patterns within and between the two
OSNs, and show that user preferences vary by OSN and over
time. We observe that the merge is the primary driver of
new edge creation for only a short time; edges to new users
that joined the combined network after the merge rapidly
take over as the driving force. Finally, we calculate the
distance between users in each group to quantify when the
two distinct OSNs become a single whole. We calculate that
the average path length from one OSN to the other drops
rapidly in the days following the merge, even when edges
to new users are ignored. This demonstrates that the two
OSNs quickly become a single, indistinguishable whole.
5.1 Background
Our original Chinese social network opened for business
in November 2005 to university students. Before the two
networks merged, network X counted 624K active users and
8.2M edges. Network Y was a competing OSN created in
April 2006 that also targeted university students. Before the
merge, network Y included 670K active users and 3M edges.
On December 12, 2006, the two OSNs oﬃcially merged
into a single OSN. During the actual merge event, both
OSNs were “locked” to prevent modiﬁcation by users, and
all information from network Y was imported and merged
into network X’s databases. Starting the next day, users
could log-in to the combined system and send friend requests
normally, e.g. users with proﬁles in network X could friend
users in network Y and vice versa. New users just joining
the system would not notice any diﬀerence between proﬁles
of users from the two networks.
Since both networks targeted university students, it was
inevitable that some users would have duplicate proﬁles after
the merge. Network X used users’ registration emails to
identify whether a user has a duplicate proﬁle in network
Y . If a user uses one email to register both networks, the
new merged social network allowed the user to choose which
proﬁle they wanted to keep during their ﬁrst log-in to the
site after the merge.
Deﬁnitions.
In this section, we investigate the details
of the merge between the two networks. To facilitate this
analysis, we classify the edges created after the merge into
three diﬀerent groups. External edges connecting users from
network X to users in network Y , whereas internal edges
connect users within the same OSN. New edges connect a
user in either OSN with a new user who joined the com-
bined network after the merge. Time based measurements
are presented in “days after the merge,” e.g. one day af-
ter the merge is day 387 in absolute terms, since the merge
occurs during day 386 of our dataset.
5.2 Measuring the Merge
User Activity Over Time.
We start our analysis by
examining the number of active users
in both OSNs over
time. We deﬁne a user as “active” if it has created an edge
within the last t days. In our data, 99% of users create at
least one edge every 94 days (on average), hence we use that
as our activity threshold t.
Figure 9(a) shows the number of active users over time for
network X, while Figure 9(b) focuses on network Y users.
Each “all edges” line highlights the number of users actively
creating edges in each group. Although we have 384 days of
data after the merge, the x-axis of Figures 9(a) and 9(b) only
extends 290 days. Since our minimum activity threshold is
94 days, we cannot determine whether users have become
inactive during the tail of our dataset.
We now address the question: how many duplicate ac-
counts were there on both OSNs? Users with accounts on
both services were prompted to choose one account or the
other on their ﬁrst log-in to the combined OSN after the
merge. However, the discarded accounts were not deleted
from the graph. Thus, it is likely that any accounts that
are inactive on the ﬁrst day after the merge are discarded,
duplicate accounts.
Figures 9(a) and 9(b) reveal that 11% of network X ac-
counts and 28% of network Y accounts are immediately in-
active. Thus, it is likely that at least 39% of users had dupli-
cate accounts between the two networks before the merge.
Interestingly, users demonstrate a strong preference for keep-
ing network X accounts over network Y accounts.
As time goes on, the number of active accounts in each
group continues to drop. Presumably, these users lose inter-
est in the merged network and stop generating new friend
relationships. After 284 days, the number of inactive net-
work X accounts doubles to 23%, while 52% of network
Y accounts are inactive. The relative decrease in active ac-
counts over time (12% on network X versus 24% on network
Y demonstrates that network X users are more committed
to maintaining their OSN presence. This observation corre-
sponds to our earlier ﬁnding that users with duplicate ac-
counts tended to keep their network X accounts. Network
X users form a self-select population of more active OSN
users when compared to network Y users.
The “new users,” “internal,” and “external” lines give the
ﬁrst glimpse of the types of connections favored by users in
both OSNs. For each line, a user is considered active only
if they have created an edge of the corresponding type in
the last 94 days. Users in both graphs show similar pref-
erences: edges to new users are most popular, followed by
internal and then external edges. The large activity gap
between internal and external edges highlights the strong
homophily among each group of users. Internal and exter-
nal edge creation activity declines more rapidly than edges
to new users. This makes sense intuitively: the number of
181 
s
r
e
s
U
e
v
i
t
c
A
f
o
%
 100
 80
 60
 40
 20
 0
 0
s
r
e
s
U
e
v
i
t
c
A
f
o
%
 100
 80
 60
 40
 20
 0
 0
 50
 250
All Edges
New Users
Internal
External
 150
 100
 200
Days After the Merge
y
a
D
r
e
p
s
e
g
d
E
 1e+06
 100000
 10000
 1000
 250
New Users
Internal
External
 0  50  100  150  200  250  300  350  400
Days After the Merge
All Edges
New Users
Internal
External
 50
 150
 100
 200
Days After the Merge
(a) Active users over time for network
X
(b) Active users over time for network
Y
(c) Edge creation per day
Figure 9: (a)-(b) The number of active users over time. Accounts that are inactive on day 0 after the merge
are likely to by discarded, duplicate accounts. Overall user activity declines over time. (c) Number of edges
of diﬀerent types created per day after the merge. Edges to new users quickly become the most popular edge
type, although there is a small peak for external edges as well.
s
e
g
d
E
.
t
x
E
/
.
t
n
I
f
o
o
i
t
a
R
 10
 1
 0.1
Network X
Both
Network Y
 0
 50
 100  150  200  250  300  350  400
s
e
g
d
E
.
t
x
E