{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "归档队列数超过5个，说明系统归档出现了异常，不及时处理可能导致数据库挂起", "rule_name": "unarchive_logs_dm", "id": "3156", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}], "description": "数据库执行量突然增大", "rule_name": "EXECUTE_COUNT_HIGH_DM", "id": "17611", "rule_expression": "(([metric,1000105,2250001][oper,eq][str,\"3\"])||([metric,2250001]>([metric hour avg,2250001]*[num,$1]))) && ([metric,2250001]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4", "warning_message": "数据库执行量突然增大，每秒执行数为{[metric,2250001]}"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}], "description": "数据库执行量突然增大", "rule_name": "EXECUTE_COUNT_HIGH_DM", "id": "17609", "rule_expression": "(([metric,1000105,2250001][oper,eq][str,\"3\"])||([metric,2250001]>([metric hour avg,2250001]*[num,$1]))) && ([metric,2250001]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4", "warning_message": "数据库执行量突然增大，每秒执行数为{[metric,2250001]}"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}], "description": "数据库的 DB TIME异常增长，数据库可能存在风险", "rule_name": "dm_time_high_dm", "id": "17612", "rule_expression": "([metric,2250041]>([metric hour avg,2250041]*[num,$1])) && ([metric,2250041]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}], "description": "数据库的 DB TIME异常增长，数据库可能存在风险", "rule_name": "dm_time_high_dm", "id": "17613", "rule_expression": "([metric,2250041]>([metric hour avg,2250041]*[num,$1])) && ([metric,2250041]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询数据库表空间使用情况", "knowledge_description": "查询数据库表空间使用情况"}, {"knowledge_name": "显示数据库Huge表空间信息", "knowledge_description": "显示数据库Huge表空间信息"}], "description": "表空间使用率过高，超过90%", "rule_name": "dm_tablespace_higher", "id": "8634", "rule_expression": "[metric max in time,240,2250516]>[num,$1]", "db_type": "DM", "warning_level": "4", "warning_message": "表空间({[metric max iname in time,240,2250516]})使用率大于90%，存在表空间满的风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询指定时间间隔内数据库日志信息", "knowledge_description": "查询指定时间间隔内数据库日志信息"}], "description": "半小时内日志报错数太多，说明系统存在风险", "rule_name": "log_error_count_dm", "id": "3197", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦数据库连接超时，数据库存在性能隐患", "rule_name": "connect_slow_dm", "id": "8359", "rule_expression": "[metric,1000102] >([metric hour avg,1000102]*[num,$1])", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦采集任务超时，数据库实例存在性能问题", "rule_name": "collector_exec_slow_dm", "id": "8291", "rule_expression": "[metric,1000101] >([metric hour avg,1000101]*[num,$1])", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "确认系统是否存在性能问题，同时分析根因", "knowledge_description": "泛路由-IO延时与叶节点分裂比较严重的分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "B树叶节点分裂太高，IO性能不佳，数据库存在性能问题", "rule_name": "btree_split_dm", "id": "3188", "rule_expression": "[metric,2250011]>[num,$1] &&[metric,3000006] > [num,$2] ", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "找出内存占用率较高的Top20进程", "knowledge_description": "找出内存占用率较高的Top20进程"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}], "description": "物理内存空闲小于100M，且SWAP使用率大于30%，系统存在风险", "rule_name": "memory_low_dm", "id": "8297", "rule_expression": "[metric,3000007]<[num,$1]*[num,1024] && [metric,3001031]>[num,$2] && [metric,3001031]<[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询指定时间间隔内数据库日志信息", "knowledge_description": "查询指定时间间隔内数据库日志信息"}], "description": "半小时内日志报错数太多，说明系统存在风险", "rule_name": "log_error_count_dm", "id": "8361", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "归档队列数超过5个，说明系统归档出现了异常，不及时处理可能导致数据库挂起", "rule_name": "unarchive_logs_dm", "id": "1536", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "每秒物理读过大，数据库存在风险", "rule_name": "more_phy_read_dm", "id": "1544", "rule_expression": "(([metric,2250004]*[num,$1])>[metric hour avg,2250004]) && ([metric,2250004]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3", "warning_message": "每秒物理读过高（{[metric,2250004]}），数据库存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "显示数据库当前系统的会话状态信息", "knowledge_description": "显示数据库当前系统的会话状态信息"}, {"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "查询指定时间范围内数据库会话分布情况", "knowledge_description": "查询指定时间范围内数据库会话分布情况"}], "description": "会话使用率超过95%，达梦数据库存在严重风险", "rule_name": "session_limit_95_dm", "id": "8303", "rule_expression": "[metric in time,5,2250046][oper,>=][num,$1]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "显示数据库当前系统的会话状态信息", "knowledge_description": "显示数据库当前系统的会话状态信息"}, {"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "查询指定时间范围内数据库会话分布情况", "knowledge_description": "查询指定时间范围内数据库会话分布情况"}], "description": "会话使用率超过95%，达梦数据库存在严重风险", "rule_name": "session_limit_95_dm", "id": "8304", "rule_expression": "[metric in time,5,2250046][oper,>=][num,$1]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}], "description": "表锁阻塞了部分会话", "rule_name": "table_lock_dm", "id": "8309", "rule_expression": "([metric,2250033] >([metric,2250043]*[num,$1]))&&([metric,2250033]>[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "显示数据库当前系统的会话状态信息", "knowledge_description": "显示数据库当前系统的会话状态信息"}, {"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "查询指定时间范围内数据库会话分布情况", "knowledge_description": "查询指定时间范围内数据库会话分布情况"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "会话使用率超过90%，达梦数据库存在风险", "rule_name": "session_limit_90_dm", "id": "8301", "rule_expression": "[metric in time,5,2250046][oper,>=][num,$1]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "归档目录使用率及归档任务队列检查", "knowledge_description": "归档目录使用率及归档任务队列检查"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "查看文件系统目录实时使用率", "knowledge_description": "查看文件系统目录实时使用率"}, {"knowledge_name": "文件系统目录INODE使用率分析", "knowledge_description": "文件系统目录INODE使用率分析"}], "description": "归档风险极高，达梦数据库有HANG住风险", "rule_name": "archive_risk_high_dm", "id": "8313", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "归档目录使用率及归档任务队列检查", "knowledge_description": "归档目录使用率及归档任务队列检查"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "查看文件系统目录实时使用率", "knowledge_description": "查看文件系统目录实时使用率"}, {"knowledge_name": "文件系统目录INODE使用率分析", "knowledge_description": "文件系统目录INODE使用率分析"}], "description": "归档风险等级过高，达梦数据库存在风险", "rule_name": "archive_risk_dm", "id": "8311", "rule_expression": null, "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "找出内存占用率较高的Top20进程", "knowledge_description": "找出内存占用率较高的Top20进程"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}], "description": "物理内存空闲小于100M，且SWAP使用率大于90%，系统存在高风险", "rule_name": "memory_low__critical_dm", "id": "8299", "rule_expression": "[metric,3000007]<[num,$1]*[num,1024] && [metric,3001031]>[num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "归档目录使用率及归档任务队列检查", "knowledge_description": "归档目录使用率及归档任务队列检查"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "查看文件系统目录实时使用率", "knowledge_description": "查看文件系统目录实时使用率"}, {"knowledge_name": "文件系统目录INODE使用率分析", "knowledge_description": "文件系统目录INODE使用率分析"}], "description": "归档风险极高，达梦数据库有HANG住风险", "rule_name": "archive_risk_high_dm", "id": "8314", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "归档目录使用率及归档任务队列检查", "knowledge_description": "归档目录使用率及归档任务队列检查"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "查看文件系统目录实时使用率", "knowledge_description": "查看文件系统目录实时使用率"}, {"knowledge_name": "文件系统目录INODE使用率分析", "knowledge_description": "文件系统目录INODE使用率分析"}], "description": "归档风险等级过高，达梦数据库存在风险", "rule_name": "archive_risk_dm", "id": "8312", "rule_expression": null, "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "找出内存占用率较高的Top20进程", "knowledge_description": "找出内存占用率较高的Top20进程"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}], "description": "物理内存空闲小于100M，且SWAP使用率大于90%，系统存在高风险", "rule_name": "memory_low__critical_dm", "id": "8362", "rule_expression": "[metric,3000007]<[num,$1]*[num,1024] && [metric,3001031]>[num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "如果存在问题，关注会话参数与RECYCLE 缓冲的配置", "knowledge_description": "泛路由-达梦排序性能分析"}], "description": "达梦的磁盘排序过多，应用或数据库配置可能存在性能问题", "rule_name": "disk_sort_dm", "id": "8684", "rule_expression": "([metric,2250064] < [num,$1]) &&([metric,2258001]>[num,$2])", "db_type": "DM", "warning_level": "2", "warning_message": "达梦的磁盘排序过多，应用或数据库配置可能存在性能问题"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "找出内存占用率较高的Top20进程", "knowledge_description": "找出内存占用率较高的Top20进程"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}], "description": "物理内存空闲小于100M，且SWAP使用率大于90%，系统存在高风险", "rule_name": "memory_low__critical_dm", "id": "8300", "rule_expression": "[metric,3000007]<[num,$1]*[num,1024] && [metric,3001031]>[num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，可能导致系统负载过大", "rule_name": "hashjoin_performance_dm", "id": "8691", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250003] > [num,$2]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8708", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦数据库连接超时，数据库存在性能隐患", "rule_name": "connect_slow_dm", "id": "8289", "rule_expression": "[metric,1000102] >([metric hour avg,1000102]*[num,$1])", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "分析CPU使用情况", "knowledge_description": "分析CPU使用情况"}], "description": "运行错误较多，达梦数据库存在严重隐患", "rule_name": "runtime_error_dm", "id": "8386", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8641", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦数据库连接超时，数据库存在性能隐患", "rule_name": "connect_slow_dm", "id": "8290", "rule_expression": "[metric,1000102] >([metric hour avg,1000102]*[num,$1])", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8697", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦采集任务超时，数据库实例存在性能问题", "rule_name": "collector_exec_slow_dm", "id": "8292", "rule_expression": "[metric,1000101] >([metric hour avg,1000101]*[num,$1])", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦采集任务超时，数据库实例存在性能问题", "rule_name": "collector_exec_slow_dm", "id": "8357", "rule_expression": "[metric,1000101] >([metric hour avg,1000101]*[num,$1])", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8654", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦buffer hit分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "查询数据库缓冲区信息", "knowledge_description": "查询数据库缓冲区信息"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "数据库缓冲池相关参数显示", "knowledge_description": "数据库缓冲池相关参数显示"}, {"knowledge_name": "查询数据库缓存统计信息", "knowledge_description": "查询数据库缓存统计信息"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}], "description": "Buffer Hit %低于90%说明系统存在问题", "rule_name": "buffer_cache_hit", "id": "1538", "rule_expression": "[metric,2250061]<[num,$1] &&[metric,2250004] > [num,$2]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}], "description": "表锁阻塞了部分会话", "rule_name": "table_lock_dm", "id": "8310", "rule_expression": "([metric,2250033] >([metric,2250043]*[num,$1]))&&([metric,2250033]>[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "硬盘排序较多，并且物理内存空闲过低，可能是sql存在性能问题", "rule_name": "sort_memory_usage_dm", "id": "8719", "rule_expression": "[metric,2250062]<[num,$1] &&[metric,2250064] < [num,$2] &&[metric,3000007] < [num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "数据库存在行锁", "rule_name": "row_lock_warn_dm", "id": "12077", "rule_expression": "[metric in time,5,2250032][oper,>=][num,$1]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "分析CPU使用情况", "knowledge_description": "分析CPU使用情况"}], "description": "运行错误较多，达梦数据库存在严重隐患", "rule_name": "runtime_error_dm", "id": "8387", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8702", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8695", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8709", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8701", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8707", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8704", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8706", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8703", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8923", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8712", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8696", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8711", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8694", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "11136", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "11162", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "11223", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}], "description": "hash join量过大，消耗了过多内存，系统存在风险", "rule_name": "hashjoin_memory_dm", "id": "8716", "rule_expression": "(([metric,2250024]>[num,$1])||([metric,2250024]>([cib,2260001,cpu_count]*[num,$5]))) &&[metric,2250003] >[num,$2]&&(([metric,3000007] < [num,$3])||([metric,3000014] > [num,$4]))", "db_type": "DM", "warning_level": "3", "warning_message": "hash join量过大(每秒{[metric,2250024]})，消耗了过多内存（内存剩余{[metric,3000007]}），系统存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "16703", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}], "description": "hash join量过大，消耗了过多内存，系统存在风险", "rule_name": "hashjoin_memory_dm", "id": "8717", "rule_expression": "(([metric,2250024]>[num,$1])||([metric,2250024]>([cib,2260001,cpu_count]*[num,$5]))) &&[metric,2250003] >[num,$2]&&(([metric,3000007] < [num,$3])||([metric,3000014] > [num,$4]))", "db_type": "DM", "warning_level": "3", "warning_message": "hash join量过大(每秒{[metric,2250024]})，消耗了过多内存（内存剩余{[metric,3000007]}），系统存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "数据库连接严重超时，达梦数据库存在较大风险", "rule_name": "connect_slow_critical_dm", "id": "8358", "rule_expression": "[metric,1000102] >([metric hour avg,1000102]*[num,$1])||([metric,1000102]>[num,$2])", "db_type": "DM", "warning_level": "3", "warning_message": "数据库连接严重超时，达梦数据库存在较大风险，最近一次连接时长为{[metric,1000102] }"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦buffer hit分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "查询数据库缓冲区信息", "knowledge_description": "查询数据库缓冲区信息"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "数据库缓冲池相关参数显示", "knowledge_description": "数据库缓冲池相关参数显示"}, {"knowledge_name": "查询数据库缓存统计信息", "knowledge_description": "查询数据库缓存统计信息"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}], "description": "Buffer Hit %低于90%说明系统存在问题", "rule_name": "buffer_cache_hit", "id": "3148", "rule_expression": "[metric,2250061]<[num,$1] &&[metric,2250004] > [num,$2]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，可能导致系统负载过大", "rule_name": "hashjoin_performance_dm", "id": "8690", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250003] > [num,$2]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8693", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8705", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "达梦数据库主备同步状态分析"}, {"knowledge_description": "达梦数据库主备同步状态分析"}], "description": "达梦数据库主备同步不正常", "rule_name": "dm_repl_abnormal", "id": "15300", "rule_expression": "[metric in time,5,2250165][oper,<][num,3]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "查看License信息"}], "description": "License即将过期，剩余天数小于30天", "rule_name": "dm_license_expired_critical", "id": "17280", "rule_expression": "[metric in time,5,2250073][oper,<][num,$1] ", "db_type": "DM", "warning_level": "4", "warning_message": "License即将过期，剩余天数小于30天，请立即扩容License"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "查看License信息"}], "description": "License即将过期，剩余天数小于180天", "rule_name": "dm_license_expired_warning", "id": "17283", "rule_expression": "[metric in time,5,2250073][oper,<][num,$1] ", "db_type": "DM", "warning_level": "2", "warning_message": "License即将过期，剩余天数小于180天，请注意"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "查看License信息"}], "description": "License即将过期，剩余天数小于180天", "rule_name": "dm_license_expired_warning", "id": "17285", "rule_expression": "[metric in time,5,2250073][oper,<][num,$1] ", "db_type": "DM", "warning_level": "2", "warning_message": "License即将过期，剩余天数小于180天，请注意"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询数据库表空间使用情况", "knowledge_description": "查询数据库表空间使用情况"}, {"knowledge_name": "显示数据库Huge表空间信息", "knowledge_description": "显示数据库Huge表空间信息"}], "description": "表空间使用率过高，超过90%", "rule_name": "dm_tablespace_higher", "id": "8636", "rule_expression": "[metric max in time,240,2250516]>[num,$1]", "db_type": "DM", "warning_level": "4", "warning_message": "表空间({[metric max iname in time,240,2250516]})使用率大于90%，存在表空间满的风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8699", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "查看License信息"}], "description": "License即将过期，剩余天数小于30天", "rule_name": "dm_license_expired_critical", "id": "17281", "rule_expression": "[metric in time,5,2250073][oper,<][num,$1] ", "db_type": "DM", "warning_level": "4", "warning_message": "License即将过期，剩余天数小于30天，请立即扩容License"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "每秒物理读过大，数据库存在风险", "rule_name": "more_phy_read_dm", "id": "3152", "rule_expression": "(([metric,2250004]*[num,$1])>[metric hour avg,2250004]) && ([metric,2250004]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3", "warning_message": "每秒物理读过高（{[metric,2250004]}），数据库存在风险"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "硬盘排序较多，并且物理内存空闲过低，可能是sql存在性能问题", "rule_name": "sort_memory_usage_dm", "id": "8720", "rule_expression": "[metric,2250062]<[num,$1] &&[metric,2250064] < [num,$2] &&[metric,3000007] < [num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "用户密码过期情况查看"}], "description": "存在7天内密码即将过期的用户，请立即处理", "rule_name": "dm_expired_user", "id": "17288", "rule_expression": "[metric,2250076]>[num,$1] ", "db_type": "DM", "warning_level": "4", "warning_message": "用户：{[metric,2250077]} 的密码将在7天内过期，请立即处理！"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "用户密码过期情况查看"}], "description": "存在7天内密码即将过期的用户，请立即处理", "rule_name": "dm_expired_user", "id": "17286", "rule_expression": "[metric,2250076]>[num,$1] ", "db_type": "DM", "warning_level": "4", "warning_message": "用户：{[metric,2250077]} 的密码将在7天内过期，请立即处理！"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "行锁等待会话数过多，达梦数据库实例存在风险", "rule_name": "row_lock_dm", "id": "8305", "rule_expression": "(([metric,2250521]>[num,$1])||([metric,2250521]>([cib,2260001,cpu_count]*[num,$2]))||([metric,2250521]>([metric,2250051]*[num,$3])))", "db_type": "DM", "warning_level": "2", "warning_message": "行锁等待会话数过多，达梦数据库实例存在风险(行锁等待会话数{[metric,2250521]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "行锁等待十分严重，达梦数据库实例存在严重风险", "rule_name": "row_lock_critical_dm", "id": "8308", "rule_expression": "([metric,2250032] >([metric,2250043]*[num,$1]))&&([metric,2250032]>[num,$2])", "db_type": "DM", "warning_level": "4", "warning_message": "行锁等待十分严重，达梦数据库实例存在严重风险({[metric,2250032]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}, {"knowledge_name": "查询全局sort内存缓冲区的情况", "knowledge_description": "查询全局sort内存缓冲区的情况"}, {"knowledge_name": "显示20条使用大内存的SQL语句", "knowledge_description": "显示20条使用大内存的SQL语句"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}], "description": "OOM SCORE过大，当前达梦数据库实例存在宕机风险", "rule_name": "oom_killer_dm", "id": "8661", "rule_expression": "(([metric,3000007]<[num,$1])||([metric,3000014]>[num,$4])) && ([metric,3001031]>[num,$2]) && ([metric,2250202]>[num,$3])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "hash join量过大，消耗了太多CPU资源", "rule_name": "hashjoin_cpu_dm", "id": "8715", "rule_expression": "(([metric,2250024]>[num,$1])||([metric,2250024]>([cib,2260001,cpu_count]*[num,$4]))) &&[metric,2250003] > [num,$2]&&[metric,3000003] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "hash join量过大，消耗了太多CPU资源", "rule_name": "hashjoin_cpu_dm", "id": "8713", "rule_expression": "(([metric,2250024]>[num,$1])||([metric,2250024]>([cib,2260001,cpu_count]*[num,$4]))) &&[metric,2250003] > [num,$2]&&[metric,3000003] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "每秒LOGONS数量超过n个，说明应用系统存在异常", "knowledge_description": "每秒LOGONS数量超过n个，说明应用系统存在异常"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "每秒LOGONS数量过多，说明应用系统存在异常", "rule_name": "avg_logons_per_sec", "id": "1537", "rule_expression": "([metric,2250002]>[num,$1])||([metric,2250002]>([cib,2260001,cpu_count]*[num,$2]))", "db_type": "DM", "warning_level": "2", "warning_message": "每秒LOGONS数量过多（{[metric,2250002]}），说明应用系统存在异常"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "每秒物理读过大，数据库存在风险", "rule_name": "more_phy_read_dm", "id": "8365", "rule_expression": "(([metric,2250004]*[num,$1])>[metric hour avg,2250004]) && ([metric,2250004]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3", "warning_message": "每秒物理读过高（{[metric,2250004]}），数据库存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "行锁等待十分严重，达梦数据库实例存在严重风险", "rule_name": "row_lock_critical_dm", "id": "8307", "rule_expression": "([metric,2250032] >([metric,2250043]*[num,$1]))&&([metric,2250032]>[num,$2])", "db_type": "DM", "warning_level": "4", "warning_message": "行锁等待十分严重，达梦数据库实例存在严重风险({[metric,2250032]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "操作系统r队列超过CPU数量的2倍，则可能存在CPU资源瓶颈", "rule_name": "more_running_proc_dm", "id": "3182", "rule_expression": "[metric,3000009]>([cib,2260001,cpu_count]*[num,$1])", "db_type": "DM", "warning_level": "3", "warning_message": "操作系统r队列超过CPU数量的2倍，则可能存在CPU资源瓶颈({[metric,3000009]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "每秒事务数超过最近1小时平均值的10倍，应用可能存在异常", "rule_name": "transcation_count_raise_dm", "id": "8392", "rule_expression": "((([metric,2250009]/[metric hour avg,2250009])>[num,$1]) ||([metric,2250009]>([num,$2]*[cib,2260001,cpu_count]))))&&([metric,2250009]>[num,$3])", "db_type": "DM", "warning_level": "4", "warning_message": "每秒事务数超过最近1小时平均值的10倍，应用可能存在异常({[metric,2250009]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦活跃会话数分析的专家智能诊断工具", "knowledge_description": "泛路由-活跃会话数分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_name": "获取服务器当前负载信息", "knowledge_description": "获取服务器当前负载信息"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "活跃会话过多数据库存在风险", "rule_name": "avg_active_session_dm", "id": "1535", "rule_expression": "[metric,2250043]>([num,$1]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦活跃会话数分析的专家智能诊断工具", "knowledge_description": "泛路由-活跃会话数分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_name": "获取服务器当前负载信息", "knowledge_description": "获取服务器当前负载信息"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "活跃会话过多数据库存在风险", "rule_name": "avg_active_session_dm", "id": "3146", "rule_expression": "[metric,2250043]>([num,$1]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "如果解析存在异常，根据分析结果进行下钻分析", "knowledge_description": "泛路由-达梦解析问题分析"}], "description": "持续存在大量SQL PARSE，应用可能存在问题", "rule_name": "parse_too_high_dm", "id": "8687", "rule_expression": "([metric,2250007]>([num,$1] *[cib,2260001,cpu_count]))||([metric,2250008] > ([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "4", "warning_message": "持续存在大量SQL PARSE，应用可能存在问题(解析数：{[metric,2250007]}，硬解析：{[metric,2250008]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦采集任务严重超时，数据库实例存在严重风险", "rule_name": "collector_exec_slow_critical_dm", "id": "8293", "rule_expression": "([metric,1000101] >([metric hour avg,1000101]*[num,$1]))||([metric,1000101] >[num,2000])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "执行数量超过5的活跃SQL", "knowledge_description": "执行数量超过5的活跃SQL"}], "description": "活跃会话风险极高，请关注", "rule_name": "active_session_critical_dm", "id": "17500", "rule_expression": "[metric,2250043]>([num,$1]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4", "warning_message": "活跃会话风险极高{[metric,2250043]}，请关注"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "执行数量超过5的活跃SQL", "knowledge_description": "执行数量超过5的活跃SQL"}], "description": "活跃会话风险极高，请关注", "rule_name": "active_session_critical_dm", "id": "17502", "rule_expression": "[metric,2250043]>([num,$1]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4", "warning_message": "活跃会话风险极高{[metric,2250043]}，请关注"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8650", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8653", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8660", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8652", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8657", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8642", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8656", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8643", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8659", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8644", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8651", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8924", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8647", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "每秒LOGONS数量超过n个，说明应用系统存在异常", "knowledge_description": "每秒LOGONS数量超过n个，说明应用系统存在异常"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "每秒LOGONS数量过多，说明应用系统存在异常", "rule_name": "avg_logons_per_sec", "id": "3147", "rule_expression": "([metric,2250002]>[num,$1])||([metric,2250002]>([cib,2260001,cpu_count]*[num,$2]))", "db_type": "DM", "warning_level": "2", "warning_message": "每秒LOGONS数量过多（{[metric,2250002]}），说明应用系统存在异常"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦采集任务严重超时，数据库实例存在严重风险", "rule_name": "collector_exec_slow_critical_dm", "id": "8294", "rule_expression": "([metric,1000101] >([metric hour avg,1000101]*[num,$1]))||([metric,1000101] >[num,2000])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "11137", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "11163", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "11224", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "16704", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "数据库连接严重超时，达梦数据库存在较大风险", "rule_name": "connect_slow_critical_dm", "id": "15303", "rule_expression": "[metric,1000102] >([metric hour avg,1000102]*[num,$1])||([metric,1000102]>[num,$2])", "db_type": "DM", "warning_level": "3", "warning_message": "数据库连接严重超时，达梦数据库存在较大风险，最近一次连接时长为{[metric,1000102] }"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "达梦数据库IO维度运维诊断", "knowledge_description": "达梦数据库IO维度运维诊断"}], "description": "IO延时过高，达梦数据库存在风险", "rule_name": "IO_latency_dm", "id": "8295", "rule_expression": "[metric,3000006]>[num,$1] && ([metric,3000100]>[num,$2] || [metric,3000101]>[num,$3])", "db_type": "DM", "warning_level": "4", "warning_message": "IO延时过高({[metric,3000006]})，达梦数据库存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "归档目录使用率及归档任务队列检查", "knowledge_description": "归档目录使用率及归档任务队列检查"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "查看文件系统目录实时使用率", "knowledge_description": "查看文件系统目录实时使用率"}, {"knowledge_name": "文件系统目录INODE使用率分析", "knowledge_description": "文件系统目录INODE使用率分析"}], "description": "归档风险极高，达梦数据库有HANG住风险", "rule_name": "archive_risk_high_dm", "id": "17515", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "确认系统是否存在性能问题，同时分析根因", "knowledge_description": "泛路由-IO延时与叶节点分裂比较严重的分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "B树叶节点分裂太高，IO性能不佳，数据库存在性能问题", "rule_name": "btree_split_dm", "id": "3190", "rule_expression": "[metric,2250011]>[num,$1] &&[metric,3000006] > [num,$2] ", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "hash join量过大，消耗了太多CPU资源", "rule_name": "hashjoin_cpu_dm", "id": "8714", "rule_expression": "(([metric,2250024]>[num,$1])||([metric,2250024]>([cib,2260001,cpu_count]*[num,$4]))) &&[metric,2250003] > [num,$2]&&[metric,3000003] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "归档目录使用率及归档任务队列检查", "knowledge_description": "归档目录使用率及归档任务队列检查"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "查看文件系统目录实时使用率", "knowledge_description": "查看文件系统目录实时使用率"}, {"knowledge_name": "文件系统目录INODE使用率分析", "knowledge_description": "文件系统目录INODE使用率分析"}], "description": "归档风险等级过高，达梦数据库存在风险", "rule_name": "archive_risk_dm", "id": "17514", "rule_expression": null, "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦buffer hit分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "查询数据库缓冲区信息", "knowledge_description": "查询数据库缓冲区信息"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "数据库缓冲池相关参数显示", "knowledge_description": "数据库缓冲池相关参数显示"}, {"knowledge_name": "查询数据库缓存统计信息", "knowledge_description": "查询数据库缓存统计信息"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}], "description": "Buffer Hit %低于90%说明系统存在问题", "rule_name": "buffer_cache_hit", "id": "17519", "rule_expression": "[metric,2250061]<[num,$1] &&[metric,2250004] > [num,$2]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "行锁等待会话数过多，达梦数据库实例存在风险", "rule_name": "row_lock_dm", "id": "8306", "rule_expression": "(([metric,2250521]>[num,$1])||([metric,2250521]>([cib,2260001,cpu_count]*[num,$2]))||([metric,2250521]>([metric,2250051]*[num,$3])))", "db_type": "DM", "warning_level": "2", "warning_message": "行锁等待会话数过多，达梦数据库实例存在风险(行锁等待会话数{[metric,2250521]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "数据库连接严重超时，达梦数据库存在较大风险", "rule_name": "connect_slow_critical_dm", "id": "8287", "rule_expression": "[metric,1000102] >([metric hour avg,1000102]*[num,$1])||([metric,1000102]>[num,$2])", "db_type": "DM", "warning_level": "3", "warning_message": "数据库连接严重超时，达梦数据库存在较大风险，最近一次连接时长为{[metric,1000102] }"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}, {"knowledge_name": "查询全局sort内存缓冲区的情况", "knowledge_description": "查询全局sort内存缓冲区的情况"}, {"knowledge_name": "显示20条使用大内存的SQL语句", "knowledge_description": "显示20条使用大内存的SQL语句"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}], "description": "OOM SCORE过大，当前达梦数据库实例存在宕机风险", "rule_name": "oom_killer_dm", "id": "8662", "rule_expression": "(([metric,3000007]<[num,$1])||([metric,3000014]>[num,$4])) && ([metric,3001031]>[num,$2]) && ([metric,2250202]>[num,$3])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "执行数量超过5的活跃SQL", "knowledge_description": "执行数量超过5的活跃SQL"}], "description": "活跃会话风险极高，请关注", "rule_name": "active_session_critical_dm", "id": "17513", "rule_expression": "[metric,2250043]>([num,$1]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4", "warning_message": "活跃会话风险极高{[metric,2250043]}，请关注"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}], "description": "每秒逻辑读过高，数据库存在风险", "rule_name": "more_logic_read_dm", "id": "3151", "rule_expression": "([metric,2250003]/[metric hour avg,2250003]>[num,$1]) && ([metric,2250003]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}], "description": "每秒逻辑读过高，数据库存在风险", "rule_name": "more_logic_read_dm", "id": "8364", "rule_expression": "([metric,2250003]/[metric hour avg,2250003]>[num,$1]) && ([metric,2250003]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "达梦数据库主备同步状态分析"}, {"knowledge_description": "达梦数据库主备同步状态分析"}], "description": "达梦数据库主备同步不正常", "rule_name": "dm_repl_abnormal", "id": "15301", "rule_expression": "[metric in time,5,2250165][oper,<][num,3]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "操作系统r队列超过CPU数量的2倍，则可能存在CPU资源瓶颈", "rule_name": "more_running_proc_dm", "id": "8366", "rule_expression": "[metric,3000009]>([cib,2260001,cpu_count]*[num,$1])", "db_type": "DM", "warning_level": "3", "warning_message": "操作系统r队列超过CPU数量的2倍，则可能存在CPU资源瓶颈({[metric,3000009]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "用户密码过期情况查看"}], "description": "存在7天内密码即将过期的用户，请立即处理", "rule_name": "dm_expired_user", "id": "17287", "rule_expression": "[metric,2250076]>[num,$1] ", "db_type": "DM", "warning_level": "4", "warning_message": "用户：{[metric,2250077]} 的密码将在7天内过期，请立即处理！"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "查看License信息"}], "description": "License即将过期，剩余天数小于180天", "rule_name": "dm_license_expired_warning", "id": "17284", "rule_expression": "[metric in time,5,2250073][oper,<][num,$1] ", "db_type": "DM", "warning_level": "2", "warning_message": "License即将过期，剩余天数小于180天，请注意"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8645", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8655", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8649", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "归档目录使用率及归档任务队列检查", "knowledge_description": "归档目录使用率及归档任务队列检查"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "查看文件系统目录实时使用率", "knowledge_description": "查看文件系统目录实时使用率"}, {"knowledge_name": "文件系统目录INODE使用率分析", "knowledge_description": "文件系统目录INODE使用率分析"}], "description": "归档风险等级过高，达梦数据库存在风险", "rule_name": "archive_risk_dm", "id": "8349", "rule_expression": null, "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦buffer hit分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "查询数据库缓冲区信息", "knowledge_description": "查询数据库缓冲区信息"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "数据库缓冲池相关参数显示", "knowledge_description": "数据库缓冲池相关参数显示"}, {"knowledge_name": "查询数据库缓存统计信息", "knowledge_description": "查询数据库缓存统计信息"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}], "description": "Buffer Hit %低于90%说明系统存在问题", "rule_name": "buffer_cache_hit", "id": "8355", "rule_expression": "[metric,2250061]<[num,$1] &&[metric,2250004] > [num,$2]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "操作系统r队列超过CPU数量的2倍，则可能存在CPU资源瓶颈", "rule_name": "more_running_proc_dm", "id": "3183", "rule_expression": "[metric,3000009]>([cib,2260001,cpu_count]*[num,$1])", "db_type": "DM", "warning_level": "3", "warning_message": "操作系统r队列超过CPU数量的2倍，则可能存在CPU资源瓶颈({[metric,3000009]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "如果解析存在异常，根据分析结果进行下钻分析", "knowledge_description": "泛路由-达梦解析问题分析"}], "description": "持续存在大量SQL PARSE，应用可能存在问题", "rule_name": "parse_too_high_dm", "id": "8688", "rule_expression": "([metric,2250007]>([num,$1] *[cib,2260001,cpu_count]))||([metric,2250008] > ([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "4", "warning_message": "持续存在大量SQL PARSE，应用可能存在问题(解析数：{[metric,2250007]}，硬解析：{[metric,2250008]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "数据库存在行锁", "rule_name": "row_lock_warn_dm", "id": "12079", "rule_expression": "[metric in time,5,2250032][oper,>=][num,$1]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "达梦数据库IO维度运维诊断", "knowledge_description": "达梦数据库IO维度运维诊断"}], "description": "IO延时过高，达梦数据库存在风险", "rule_name": "IO_latency_dm", "id": "8296", "rule_expression": "[metric,3000006]>[num,$1] && ([metric,3000100]>[num,$2] || [metric,3000101]>[num,$3])", "db_type": "DM", "warning_level": "4", "warning_message": "IO延时过高({[metric,3000006]})，达梦数据库存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "DSC全局事务性能下降严重", "rule_name": "DSC_TX_PERF", "id": "17509", "rule_expression": "([metric,2251004] >([metric hour avg,2251004]*[num,$1]))||([metric,2251004] >[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "DSC全局事务性能下降严重", "rule_name": "DSC_TX_PERF", "id": "17511", "rule_expression": "([metric,2251004] >([metric hour avg,2251004]*[num,$1]))||([metric,2251004] >[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦解析数量过高，警告级别", "rule_name": "parse_warn_dm", "id": "17503", "rule_expression": "([metric,2250007]>([num,$1] *[cib,2260001,cpu_count]))||([metric,2250008] > ([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "2", "warning_message": "达梦解析数量过高，警告级别"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}], "description": "每秒逻辑读过高，数据库存在风险", "rule_name": "more_logic_read_dm", "id": "1545", "rule_expression": "([metric,2250003]/[metric hour avg,2250003]>[num,$1]) && ([metric,2250003]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "全局阻塞风险较大，DSC风险较大", "rule_name": "DSC_BLOCK", "id": "17506", "rule_expression": "([metric,2250083]>([num,$1]*[cib,2260001,cpu_count]))||([metric,2251003]>([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "4", "warning_message": "全局阻塞风险较大，DSC风险较大（全局等待事务数：{[metric,2250083]}，全局阻塞锁数：{[metric,2250083]}）"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "全局阻塞风险较大，DSC风险较大", "rule_name": "DSC_BLOCK", "id": "17508", "rule_expression": "([metric,2250083]>([num,$1]*[cib,2260001,cpu_count]))||([metric,2251003]>([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "4", "warning_message": "全局阻塞风险较大，DSC风险较大（全局等待事务数：{[metric,2250083]}，全局阻塞锁数：{[metric,2250083]}）"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦活跃会话数分析的专家智能诊断工具", "knowledge_description": "泛路由-活跃会话数分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_name": "获取服务器当前负载信息", "knowledge_description": "获取服务器当前负载信息"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "活跃会话过多数据库存在风险", "rule_name": "avg_active_session_dm", "id": "8352", "rule_expression": "[metric,2250043]>([num,$1]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "归档目录使用率及归档任务队列检查", "knowledge_description": "归档目录使用率及归档任务队列检查"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "查看文件系统目录实时使用率", "knowledge_description": "查看文件系统目录实时使用率"}, {"knowledge_name": "文件系统目录INODE使用率分析", "knowledge_description": "文件系统目录INODE使用率分析"}], "description": "归档风险极高，达梦数据库有HANG住风险", "rule_name": "archive_risk_high_dm", "id": "8350", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦活跃会话数分析的专家智能诊断工具", "knowledge_description": "泛路由-活跃会话数分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_name": "获取服务器当前负载信息", "knowledge_description": "获取服务器当前负载信息"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "活跃会话过多数据库存在风险", "rule_name": "avg_active_session_dm", "id": "17516", "rule_expression": "[metric,2250043]>([num,$1]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "每秒LOGONS数量超过n个，说明应用系统存在异常", "knowledge_description": "每秒LOGONS数量超过n个，说明应用系统存在异常"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "每秒LOGONS数量过多，说明应用系统存在异常", "rule_name": "avg_logons_per_sec", "id": "8353", "rule_expression": "([metric,2250002]>[num,$1])||([metric,2250002]>([cib,2260001,cpu_count]*[num,$2]))", "db_type": "DM", "warning_level": "2", "warning_message": "每秒LOGONS数量过多（{[metric,2250002]}），说明应用系统存在异常"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "执行数量超过5的活跃SQL", "knowledge_description": "执行数量超过5的活跃SQL"}, {"knowledge_name": "获取执行时间比较高的TOP SQL", "knowledge_description": "获取执行时间比较高的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_name": "查询数据库rlog buffer使用情况", "knowledge_description": "查询数据库rlog buffer使用情况"}, {"knowledge_name": "Rlog文件使用率检查", "knowledge_description": "Rlog文件使用率检查"}], "description": "REDO日志量突增，数据库存在异常", "rule_name": "REDO_LOG_HIGH_DM", "id": "17620", "rule_expression": "([metric,2250005]>([metric hour avg,2250005]*[num,$1])) && ([metric,2250005]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "确认系统是否存在性能问题，同时分析根因", "knowledge_description": "泛路由-IO延时与叶节点分裂比较严重的分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "B树叶节点分裂太高，IO性能不佳，数据库存在性能问题", "rule_name": "btree_split_dm", "id": "8354", "rule_expression": "[metric,2250011]>[num,$1] &&[metric,3000006] > [num,$2] ", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "找出内存占用率较高的Top20进程", "knowledge_description": "找出内存占用率较高的Top20进程"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}], "description": "物理内存空闲小于100M，且SWAP使用率大于90%，系统存在高风险", "rule_name": "memory_low__critical_dm", "id": "17538", "rule_expression": "[metric,3000007]<[num,$1]*[num,1024] && [metric,3001031]>[num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "显示数据库当前系统的会话状态信息", "knowledge_description": "显示数据库当前系统的会话状态信息"}, {"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "查询指定时间范围内数据库会话分布情况", "knowledge_description": "查询指定时间范围内数据库会话分布情况"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "会话使用率超过90%，达梦数据库存在风险", "rule_name": "session_limit_90_dm", "id": "8302", "rule_expression": "[metric in time,5,2250046][oper,>=][num,$1]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "每秒事务数超过最近1小时平均值的10倍，应用可能存在异常", "rule_name": "transcation_count_raise_dm", "id": "8393", "rule_expression": "((([metric,2250009]/[metric hour avg,2250009])>[num,$1]) ||([metric,2250009]>([num,$2]*[cib,2260001,cpu_count]))))&&([metric,2250009]>[num,$3])", "db_type": "DM", "warning_level": "4", "warning_message": "每秒事务数超过最近1小时平均值的10倍，应用可能存在异常({[metric,2250009]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦采集任务严重超时，数据库实例存在严重风险", "rule_name": "collector_exec_slow_critical_dm", "id": "8356", "rule_expression": "([metric,1000101] >([metric hour avg,1000101]*[num,$1]))||([metric,1000101] >[num,2000])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}], "description": "数据库执行量突然增大", "rule_name": "EXECUTE_COUNT_HIGH_DM", "id": "17608", "rule_expression": "(([metric,1000105,2250001][oper,eq][str,\"3\"])||([metric,2250001]>([metric hour avg,2250001]*[num,$1]))) && ([metric,2250001]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4", "warning_message": "数据库执行量突然增大，每秒执行数为{[metric,2250001]}"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "执行数量超过5的活跃SQL", "knowledge_description": "执行数量超过5的活跃SQL"}, {"knowledge_name": "获取执行时间比较高的TOP SQL", "knowledge_description": "获取执行时间比较高的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_name": "查询数据库rlog buffer使用情况", "knowledge_description": "查询数据库rlog buffer使用情况"}, {"knowledge_name": "Rlog文件使用率检查", "knowledge_description": "Rlog文件使用率检查"}], "description": "REDO日志量突增，数据库存在异常", "rule_name": "REDO_LOG_HIGH_DM", "id": "17622", "rule_expression": "([metric,2250005]>([metric hour avg,2250005]*[num,$1])) && ([metric,2250005]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}], "description": "数据库执行量突然增大", "rule_name": "EXECUTE_COUNT_HIGH_DM", "id": "17610", "rule_expression": "(([metric,1000105,2250001][oper,eq][str,\"3\"])||([metric,2250001]>([metric hour avg,2250001]*[num,$1]))) && ([metric,2250001]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4", "warning_message": "数据库执行量突然增大，每秒执行数为{[metric,2250001]}"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库IO维度运维诊断", "knowledge_description": "达梦数据库IO维度运维诊断"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "IO等待时间突然急剧上升，系统存在风险", "rule_name": "io_wait_high_dm", "id": "17616", "rule_expression": "([metric,2250029]>([metric hour avg,2250029]*[num,$1])) && ([metric,2250029]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}], "description": "数据库的 DB TIME异常增长，数据库可能存在风险", "rule_name": "dm_time_high_dm", "id": "17614", "rule_expression": "([metric,2250041]>([metric hour avg,2250041]*[num,$1])) && ([metric,2250041]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "执行数量超过5的活跃SQL", "knowledge_description": "执行数量超过5的活跃SQL"}], "description": "活跃会话风险极高，请关注", "rule_name": "active_session_critical_dm", "id": "17501", "rule_expression": "[metric,2250043]>([num,$1]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4", "warning_message": "活跃会话风险极高{[metric,2250043]}，请关注"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "查看License信息"}], "description": "License即将过期，剩余天数小于30天", "rule_name": "dm_license_expired_critical", "id": "17282", "rule_expression": "[metric in time,5,2250073][oper,<][num,$1] ", "db_type": "DM", "warning_level": "4", "warning_message": "License即将过期，剩余天数小于30天，请立即扩容License"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "达梦数据库主备同步状态分析"}, {"knowledge_description": "达梦数据库主备同步状态分析"}], "description": "达梦数据库主备同步不正常", "rule_name": "dm_repl_abnormal", "id": "15302", "rule_expression": "[metric in time,5,2250165][oper,<][num,3]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库IO维度运维诊断", "knowledge_description": "达梦数据库IO维度运维诊断"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "IO等待时间突然急剧上升，系统存在风险", "rule_name": "io_wait_high_dm", "id": "17617", "rule_expression": "([metric,2250029]>([metric hour avg,2250029]*[num,$1])) && ([metric,2250029]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "执行数量超过5的活跃SQL", "knowledge_description": "执行数量超过5的活跃SQL"}, {"knowledge_name": "获取执行时间比较高的TOP SQL", "knowledge_description": "获取执行时间比较高的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_name": "查询数据库rlog buffer使用情况", "knowledge_description": "查询数据库rlog buffer使用情况"}, {"knowledge_name": "Rlog文件使用率检查", "knowledge_description": "Rlog文件使用率检查"}], "description": "REDO日志量突增，数据库存在异常", "rule_name": "REDO_LOG_HIGH_DM", "id": "17621", "rule_expression": "([metric,2250005]>([metric hour avg,2250005]*[num,$1])) && ([metric,2250005]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "用户密码过期情况查看"}], "description": "存在7天内密码即将过期的用户，请立即处理", "rule_name": "dm_expired_user", "id": "17525", "rule_expression": "[metric,2250076]>[num,$1] ", "db_type": "DM", "warning_level": "4", "warning_message": "用户：{[metric,2250077]} 的密码将在7天内过期，请立即处理！"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "查看License信息"}], "description": "License即将过期，剩余天数小于30天", "rule_name": "dm_license_expired_critical", "id": "17526", "rule_expression": "[metric in time,5,2250073][oper,<][num,$1] ", "db_type": "DM", "warning_level": "4", "warning_message": "License即将过期，剩余天数小于30天，请立即扩容License"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "查看License信息"}], "description": "License即将过期，剩余天数小于180天", "rule_name": "dm_license_expired_warning", "id": "17527", "rule_expression": "[metric in time,5,2250073][oper,<][num,$1] ", "db_type": "DM", "warning_level": "2", "warning_message": "License即将过期，剩余天数小于180天，请注意"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询数据库表空间使用情况", "knowledge_description": "查询数据库表空间使用情况"}, {"knowledge_name": "显示数据库Huge表空间信息", "knowledge_description": "显示数据库Huge表空间信息"}], "description": "表空间使用率过高，超过90%", "rule_name": "dm_tablespace_higher", "id": "17529", "rule_expression": "[metric max in time,240,2250516]>[num,$1]", "db_type": "DM", "warning_level": "4", "warning_message": "表空间({[metric max iname in time,240,2250516]})使用率大于90%，存在表空间满的风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询指定时间间隔内数据库日志信息", "knowledge_description": "查询指定时间间隔内数据库日志信息"}], "description": "半小时内日志报错数太多，说明系统存在风险", "rule_name": "log_error_count_dm", "id": "17537", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，可能导致系统负载过大", "rule_name": "hashjoin_performance_dm", "id": "17535", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250003] > [num,$2]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "达梦数据库主备同步状态分析"}, {"knowledge_description": "达梦数据库主备同步状态分析"}], "description": "达梦数据库主备同步不正常", "rule_name": "dm_repl_abnormal", "id": "17528", "rule_expression": "[metric in time,5,2250165][oper,<][num,3]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "操作系统r队列超过CPU数量的2倍，则可能存在CPU资源瓶颈", "rule_name": "more_running_proc_dm", "id": "17542", "rule_expression": "[metric,3000009]>([cib,2260001,cpu_count]*[num,$1])", "db_type": "DM", "warning_level": "3", "warning_message": "操作系统r队列超过CPU数量的2倍，则可能存在CPU资源瓶颈({[metric,3000009]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "如果解析存在异常，根据分析结果进行下钻分析", "knowledge_description": "泛路由-达梦解析问题分析"}], "description": "持续存在大量SQL PARSE，应用可能存在问题", "rule_name": "parse_too_high_dm", "id": "17544", "rule_expression": "([metric,2250007]>([num,$1] *[cib,2260001,cpu_count]))||([metric,2250008] > ([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "4", "warning_message": "持续存在大量SQL PARSE，应用可能存在问题(解析数：{[metric,2250007]}，硬解析：{[metric,2250008]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "数据库连接严重超时，达梦数据库存在较大风险", "rule_name": "connect_slow_critical_dm", "id": "17522", "rule_expression": "[metric,1000102] >([metric hour avg,1000102]*[num,$1])||([metric,1000102]>[num,$2])", "db_type": "DM", "warning_level": "3", "warning_message": "数据库连接严重超时，达梦数据库存在较大风险，最近一次连接时长为{[metric,1000102] }"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦采集任务严重超时，数据库实例存在严重风险", "rule_name": "collector_exec_slow_critical_dm", "id": "17520", "rule_expression": "([metric,1000101] >([metric hour avg,1000101]*[num,$1]))||([metric,1000101] >[num,2000])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "达梦数据库IO维度运维诊断", "knowledge_description": "达梦数据库IO维度运维诊断"}], "description": "IO延时过高，达梦数据库存在风险", "rule_name": "IO_latency_dm", "id": "17536", "rule_expression": "[metric,3000006]>[num,$1] && ([metric,3000100]>[num,$2] || [metric,3000101]>[num,$3])", "db_type": "DM", "warning_level": "4", "warning_message": "IO延时过高({[metric,3000006]})，达梦数据库存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "DSC全局事务性能下降严重", "rule_name": "DSC_TX_PERF", "id": "17531", "rule_expression": "([metric,2251004] >([metric hour avg,2251004]*[num,$1]))||([metric,2251004] >[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "全局阻塞风险较大，DSC风险较大", "rule_name": "DSC_BLOCK", "id": "17530", "rule_expression": "([metric,2250083]>([num,$1]*[cib,2260001,cpu_count]))||([metric,2251003]>([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "4", "warning_message": "全局阻塞风险较大，DSC风险较大（全局等待事务数：{[metric,2250083]}，全局阻塞锁数：{[metric,2250083]}）"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库IO维度运维诊断", "knowledge_description": "达梦数据库IO维度运维诊断"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "IO等待时间突然急剧上升，系统存在风险", "rule_name": "io_wait_high_dm", "id": "17619", "rule_expression": "([metric,2250029]>([metric hour avg,2250029]*[num,$1])) && ([metric,2250029]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}, {"knowledge_name": "查询全局sort内存缓冲区的情况", "knowledge_description": "查询全局sort内存缓冲区的情况"}, {"knowledge_name": "显示20条使用大内存的SQL语句", "knowledge_description": "显示20条使用大内存的SQL语句"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}], "description": "OOM SCORE过大，当前达梦数据库实例存在宕机风险", "rule_name": "oom_killer_dm", "id": "17543", "rule_expression": "(([metric,3000007]<[num,$1])||([metric,3000014]>[num,$4])) && ([metric,3001031]>[num,$2]) && ([metric,2250202]>[num,$3])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}], "description": "数据库的 DB TIME异常增长，数据库可能存在风险", "rule_name": "dm_time_high_dm", "id": "17615", "rule_expression": "([metric,2250041]>([metric hour avg,2250041]*[num,$1])) && ([metric,2250041]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "找出内存占用率较高的Top20进程", "knowledge_description": "找出内存占用率较高的Top20进程"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}], "description": "物理内存空闲小于100M，且SWAP使用率大于30%，系统存在风险", "rule_name": "memory_low_dm", "id": "17539", "rule_expression": "[metric,3000007]<[num,$1]*[num,1024] && [metric,3001031]>[num,$2] && [metric,3001031]<[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "17554", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦数据库的字典对象UNLOAD异常", "rule_name": "dict_obj_unload_dm", "id": "17665", "rule_expression": "[metric,2253501]>[num,$1]", "db_type": "DM", "warning_level": "3", "warning_message": "达梦数据库的字典对象UNLOAD异常,达梦好数据库的SQL执行与解析可能存在性能问题（{[metric,2253501]}）"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "归档队列数超过5个，说明系统归档出现了异常，不及时处理可能导致数据库挂起", "rule_name": "unarchive_logs_dm", "id": "17556", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "分析CPU使用情况", "knowledge_description": "分析CPU使用情况"}], "description": "运行错误较多，达梦数据库存在严重隐患", "rule_name": "runtime_error_dm", "id": "17549", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "显示数据库当前系统的会话状态信息", "knowledge_description": "显示数据库当前系统的会话状态信息"}, {"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "查询指定时间范围内数据库会话分布情况", "knowledge_description": "查询指定时间范围内数据库会话分布情况"}], "description": "会话使用率超过95%，达梦数据库存在严重风险", "rule_name": "session_limit_95_dm", "id": "17551", "rule_expression": "[metric in time,5,2250046][oper,>=][num,$1]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}], "description": "表锁阻塞了部分会话", "rule_name": "table_lock_dm", "id": "17553", "rule_expression": "([metric,2250033] >([metric,2250043]*[num,$1]))&&([metric,2250033]>[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "硬盘排序较多，并且物理内存空闲过低，可能是sql存在性能问题", "rule_name": "sort_memory_usage_dm", "id": "17552", "rule_expression": "[metric,2250062]<[num,$1] &&[metric,2250064] < [num,$2] &&[metric,3000007] < [num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "显示数据库当前系统的会话状态信息", "knowledge_description": "显示数据库当前系统的会话状态信息"}, {"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "查询指定时间范围内数据库会话分布情况", "knowledge_description": "查询指定时间范围内数据库会话分布情况"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "会话使用率超过90%，达梦数据库存在风险", "rule_name": "session_limit_90_dm", "id": "17550", "rule_expression": "[metric in time,5,2250046][oper,>=][num,$1]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "数据库存在行锁", "rule_name": "row_lock_warn_dm", "id": "17548", "rule_expression": "[metric in time,5,2250032][oper,>=][num,$1]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "行锁等待会话数过多，达梦数据库实例存在风险", "rule_name": "row_lock_dm", "id": "17547", "rule_expression": "(([metric,2250521]>[num,$1])||([metric,2250521]>([cib,2260001,cpu_count]*[num,$2]))||([metric,2250521]>([metric,2250051]*[num,$3])))", "db_type": "DM", "warning_level": "2", "warning_message": "行锁等待会话数过多，达梦数据库实例存在风险(行锁等待会话数{[metric,2250521]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "行锁等待十分严重，达梦数据库实例存在严重风险", "rule_name": "row_lock_critical_dm", "id": "17546", "rule_expression": "([metric,2250032] >([metric,2250043]*[num,$1]))&&([metric,2250032]>[num,$2])", "db_type": "DM", "warning_level": "4", "warning_message": "行锁等待十分严重，达梦数据库实例存在严重风险({[metric,2250032]})"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦解析数量过高，警告级别", "rule_name": "parse_warn_dm", "id": "17545", "rule_expression": "([metric,2250007]>([num,$1] *[cib,2260001,cpu_count]))||([metric,2250008] > ([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "2", "warning_message": "达梦解析数量过高，警告级别"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "每秒事务数超过最近1小时平均值的10倍，应用可能存在异常", "rule_name": "transcation_count_raise_dm", "id": "17555", "rule_expression": "((([metric,2250009]/[metric hour avg,2250009])>[num,$1]) ||([metric,2250009]>([num,$2]*[cib,2260001,cpu_count]))))&&([metric,2250009]>[num,$3])", "db_type": "DM", "warning_level": "4", "warning_message": "每秒事务数超过最近1小时平均值的10倍，应用可能存在异常({[metric,2250009]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "区分top sql是逻辑读还是执行次数增多进行进一步诊断", "knowledge_description": "逻辑读较多的TOP SQL"}], "description": "每秒逻辑读过高，数据库存在风险", "rule_name": "more_logic_read_dm", "id": "17540", "rule_expression": "([metric,2250003]/[metric hour avg,2250003]>[num,$1]) && ([metric,2250003]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库并发维度运维诊断", "knowledge_description": "达梦数据库并发维度运维诊断"}, {"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "执行数量超过5的活跃SQL", "knowledge_description": "执行数量超过5的活跃SQL"}, {"knowledge_name": "获取执行时间比较高的TOP SQL", "knowledge_description": "获取执行时间比较高的TOP SQL"}, {"knowledge_name": "查找执行次数比较高的TOP SQL", "knowledge_description": "查找执行次数比较高的TOP SQL"}, {"knowledge_name": "查询数据库rlog buffer使用情况", "knowledge_description": "查询数据库rlog buffer使用情况"}, {"knowledge_name": "Rlog文件使用率检查", "knowledge_description": "Rlog文件使用率检查"}], "description": "REDO日志量突增，数据库存在异常", "rule_name": "REDO_LOG_HIGH_DM", "id": "17623", "rule_expression": "([metric,2250005]>([metric hour avg,2250005]*[num,$1])) && ([metric,2250005]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "确认系统是否存在性能问题，同时分析根因", "knowledge_description": "泛路由-IO延时与叶节点分裂比较严重的分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "B树叶节点分裂太高，IO性能不佳，数据库存在性能问题", "rule_name": "btree_split_dm", "id": "17518", "rule_expression": "[metric,2250011]>[num,$1] &&[metric,3000006] > [num,$2] ", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦硬盘排序十分严重，数据库性能存在严重问题", "rule_name": "sort_dm_critical", "id": "17604", "rule_expression": "([metric,2250064] < [num,$1]) &&([metric,2258001]>[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦硬盘排序十分严重，数据库性能存在严重问题", "rule_name": "sort_dm_critical", "id": "17606", "rule_expression": "([metric,2250064] < [num,$1]) &&([metric,2258001]>[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦数据库的字典对象UNLOAD异常", "rule_name": "dict_obj_unload_dm", "id": "17666", "rule_expression": "[metric,2253501]>[num,$1]", "db_type": "DM", "warning_level": "3", "warning_message": "达梦数据库的字典对象UNLOAD异常,达梦好数据库的SQL执行与解析可能存在性能问题（{[metric,2253501]}）"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦硬盘排序十分严重，数据库性能存在严重问题", "rule_name": "sort_dm_critical", "id": "17607", "rule_expression": "([metric,2250064] < [num,$1]) &&([metric,2258001]>[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦数据库的字典对象UNLOAD异常", "rule_name": "dict_obj_unload_dm", "id": "17667", "rule_expression": "[metric,2253501]>[num,$1]", "db_type": "DM", "warning_level": "3", "warning_message": "达梦数据库的字典对象UNLOAD异常,达梦好数据库的SQL执行与解析可能存在性能问题（{[metric,2253501]}）"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦硬盘排序十分严重，数据库性能存在严重问题", "rule_name": "sort_dm_critical", "id": "17605", "rule_expression": "([metric,2250064] < [num,$1]) &&([metric,2258001]>[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "文件系统目录使用率分析", "knowledge_description": "文件系统目录使用率分析"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "归档队列数超过5个，说明系统归档出现了异常，不及时处理可能导致数据库挂起", "rule_name": "unarchive_logs_dm", "id": "8373", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "如果存在问题，关注会话参数与RECYCLE 缓冲的配置", "knowledge_description": "泛路由-达梦排序性能分析"}], "description": "达梦的磁盘排序过多，应用或数据库配置可能存在性能问题", "rule_name": "disk_sort_dm", "id": "8685", "rule_expression": "([metric,2250064] < [num,$1]) &&([metric,2258001]>[num,$2])", "db_type": "DM", "warning_level": "2", "warning_message": "达梦的磁盘排序过多，应用或数据库配置可能存在性能问题"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "如果存在问题，关注会话参数与RECYCLE 缓冲的配置", "knowledge_description": "泛路由-达梦排序性能分析"}], "description": "达梦的磁盘排序过多，应用或数据库配置可能存在性能问题", "rule_name": "disk_sort_dm", "id": "8686", "rule_expression": "([metric,2250064] < [num,$1]) &&([metric,2258001]>[num,$2])", "db_type": "DM", "warning_level": "2", "warning_message": "达梦的磁盘排序过多，应用或数据库配置可能存在性能问题"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦数据库的字典对象UNLOAD异常", "rule_name": "dict_obj_unload_dm", "id": "17668", "rule_expression": "[metric,2253501]>[num,$1]", "db_type": "DM", "warning_level": "3", "warning_message": "达梦数据库的字典对象UNLOAD异常,达梦好数据库的SQL执行与解析可能存在性能问题（{[metric,2253501]}）"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "17533", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}, {"knowledge_name": "查询全局sort内存缓冲区的情况", "knowledge_description": "查询全局sort内存缓冲区的情况"}, {"knowledge_name": "显示20条使用大内存的SQL语句", "knowledge_description": "显示20条使用大内存的SQL语句"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}], "description": "OOM SCORE过大，当前达梦数据库实例存在宕机风险", "rule_name": "oom_killer_dm", "id": "8663", "rule_expression": "(([metric,3000007]<[num,$1])||([metric,3000014]>[num,$4])) && ([metric,3001031]>[num,$2]) && ([metric,2250202]>[num,$3])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询指定时间间隔内数据库日志信息", "knowledge_description": "查询指定时间间隔内数据库日志信息"}], "description": "半小时内日志报错数太多，说明系统存在风险", "rule_name": "log_error_count_dm", "id": "3201", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库IO维度运维诊断", "knowledge_description": "达梦数据库IO维度运维诊断"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "IO等待时间突然急剧上升，系统存在风险", "rule_name": "io_wait_high_dm", "id": "17618", "rule_expression": "([metric,2250029]>([metric hour avg,2250029]*[num,$1])) && ([metric,2250029]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询数据库表空间使用情况", "knowledge_description": "查询数据库表空间使用情况"}, {"knowledge_name": "显示数据库Huge表空间信息", "knowledge_description": "显示数据库Huge表空间信息"}], "description": "表空间使用率过高，超过90%", "rule_name": "dm_tablespace_higher", "id": "8635", "rule_expression": "[metric max in time,240,2250516]>[num,$1]", "db_type": "DM", "warning_level": "4", "warning_message": "表空间({[metric max iname in time,240,2250516]})使用率大于90%，存在表空间满的风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "显示数据库当前系统的会话状态信息", "knowledge_description": "显示数据库当前系统的会话状态信息"}, {"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "查询指定时间范围内数据库会话分布情况", "knowledge_description": "查询指定时间范围内数据库会话分布情况"}], "description": "会话使用率超过95%，达梦数据库存在严重风险", "rule_name": "session_limit_95_dm", "id": "8370", "rule_expression": "[metric in time,5,2250046][oper,>=][num,$1]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}], "description": "hash join量过大，消耗了过多内存，系统存在风险", "rule_name": "hashjoin_memory_dm", "id": "8718", "rule_expression": "(([metric,2250024]>[num,$1])||([metric,2250024]>([cib,2260001,cpu_count]*[num,$5]))) &&[metric,2250003] >[num,$2]&&(([metric,3000007] < [num,$3])||([metric,3000014] > [num,$4]))", "db_type": "DM", "warning_level": "3", "warning_message": "hash join量过大(每秒{[metric,2250024]})，消耗了过多内存（内存剩余{[metric,3000007]}），系统存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "显示数据库当前系统的会话状态信息", "knowledge_description": "显示数据库当前系统的会话状态信息"}, {"knowledge_name": "数据库活跃会话分析", "knowledge_description": "数据库活跃会话分析"}, {"knowledge_name": "达梦数据库会话分析", "knowledge_description": "达梦数据库会话分析"}, {"knowledge_name": "查询指定时间范围内数据库会话分布情况", "knowledge_description": "查询指定时间范围内数据库会话分布情况"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "会话使用率超过90%，达梦数据库存在风险", "rule_name": "session_limit_90_dm", "id": "8369", "rule_expression": "[metric in time,5,2250046][oper,>=][num,$1]", "db_type": "DM", "warning_level": "3"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，可能导致系统负载过大", "rule_name": "hashjoin_performance_dm", "id": "8692", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250003] > [num,$2]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}], "description": "hash join量过大，产生了大量的物理读，影响了IO性能", "rule_name": "hashjoin_io_dm", "id": "8700", "rule_expression": "[metric,2250024]>[num,$1] &&[metric,2250004] > [num,$2]&&[metric,3000006] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "行锁等待会话数过多，达梦数据库实例存在风险", "rule_name": "row_lock_dm", "id": "8368", "rule_expression": "(([metric,2250521]>[num,$1])||([metric,2250521]>([cib,2260001,cpu_count]*[num,$2]))||([metric,2250521]>([metric,2250051]*[num,$3])))", "db_type": "DM", "warning_level": "2", "warning_message": "行锁等待会话数过多，达梦数据库实例存在风险(行锁等待会话数{[metric,2250521]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "行锁等待十分严重，达梦数据库实例存在严重风险", "rule_name": "row_lock_critical_dm", "id": "8367", "rule_expression": "([metric,2250032] >([metric,2250043]*[num,$1]))&&([metric,2250032]>[num,$2])", "db_type": "DM", "warning_level": "4", "warning_message": "行锁等待十分严重，达梦数据库实例存在严重风险({[metric,2250032]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "如果解析存在异常，根据分析结果进行下钻分析", "knowledge_description": "泛路由-达梦解析问题分析"}], "description": "持续存在大量SQL PARSE，应用可能存在问题", "rule_name": "parse_too_high_dm", "id": "8689", "rule_expression": "([metric,2250007]>([num,$1] *[cib,2260001,cpu_count]))||([metric,2250008] > ([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "4", "warning_message": "持续存在大量SQL PARSE，应用可能存在问题(解析数：{[metric,2250007]}，硬解析：{[metric,2250008]})"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "找出内存占用率较高的Top20进程", "knowledge_description": "找出内存占用率较高的Top20进程"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}], "description": "物理内存空闲小于100M，且SWAP使用率大于30%，系统存在风险", "rule_name": "memory_low_dm", "id": "8298", "rule_expression": "[metric,3000007]<[num,$1]*[num,1024] && [metric,3001031]>[num,$2] && [metric,3001031]<[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "达梦数据库IO维度运维诊断", "knowledge_description": "达梦数据库IO维度运维诊断"}], "description": "IO延时过高，达梦数据库存在风险", "rule_name": "IO_latency_dm", "id": "8360", "rule_expression": "[metric,3000006]>[num,$1] && ([metric,3000100]>[num,$2] || [metric,3000101]>[num,$3])", "db_type": "DM", "warning_level": "4", "warning_message": "IO延时过高({[metric,3000006]})，达梦数据库存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "DSC全局事务性能下降严重", "rule_name": "DSC_TX_PERF", "id": "17510", "rule_expression": "([metric,2251004] >([metric hour avg,2251004]*[num,$1]))||([metric,2251004] >[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦解析数量过高，警告级别", "rule_name": "parse_warn_dm", "id": "17505", "rule_expression": "([metric,2250007]>([num,$1] *[cib,2260001,cpu_count]))||([metric,2250008] > ([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "2", "warning_message": "达梦解析数量过高，警告级别"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "达梦解析数量过高，警告级别", "rule_name": "parse_warn_dm", "id": "17504", "rule_expression": "([metric,2250007]>([num,$1] *[cib,2260001,cpu_count]))||([metric,2250008] > ([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "2", "warning_message": "达梦解析数量过高，警告级别"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "服务器内存分析", "knowledge_description": "服务器内存分析"}, {"knowledge_name": "找出内存占用率较高的Top20进程", "knowledge_description": "找出内存占用率较高的Top20进程"}, {"knowledge_name": "参数检查", "knowledge_description": "达梦数据库内存参数检查"}, {"knowledge_name": "查询数据库所有内存池信息", "knowledge_description": "查询数据库所有内存池信息"}], "description": "物理内存空闲小于100M，且SWAP使用率大于30%，系统存在风险", "rule_name": "memory_low_dm", "id": "8363", "rule_expression": "[metric,3000007]<[num,$1]*[num,1024] && [metric,3001031]>[num,$2] && [metric,3001031]<[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "表扫描数量过多引起了达梦数据库IO性能问题", "rule_name": "table_scan_dm", "id": "8648", "rule_expression": "[metric,2250012]>([num,$1] *[cib,2260001,cpu_count])&& [metric,3000006]>[num,$2] && [metric,3000101]>[num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦阻塞会话分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}], "description": "表锁阻塞了部分会话", "rule_name": "table_lock_dm", "id": "8371", "rule_expression": "([metric,2250033] >([metric,2250043]*[num,$1]))&&([metric,2250033]>[num,$2])", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "硬盘排序较多，并且物理内存空闲过低，可能是sql存在性能问题", "rule_name": "sort_memory_usage_dm", "id": "8721", "rule_expression": "[metric,2250062]<[num,$1] &&[metric,2250064] < [num,$2] &&[metric,3000007] < [num,$3]", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "全局阻塞风险较大，DSC风险较大", "rule_name": "DSC_BLOCK", "id": "17507", "rule_expression": "([metric,2250083]>([num,$1]*[cib,2260001,cpu_count]))||([metric,2251003]>([num,$2]*[cib,2260001,cpu_count]))", "db_type": "DM", "warning_level": "4", "warning_message": "全局阻塞风险较大，DSC风险较大（全局等待事务数：{[metric,2250083]}，全局阻塞锁数：{[metric,2250083]}）"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "达梦数据库负载维度运维诊断", "knowledge_description": "达梦数据库负载维度运维诊断"}, {"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "每秒事务数超过最近1小时平均值的10倍，应用可能存在异常", "rule_name": "transcation_count_raise_dm", "id": "8394", "rule_expression": "((([metric,2250009]/[metric hour avg,2250009])>[num,$1]) ||([metric,2250009]>([num,$2]*[cib,2260001,cpu_count]))))&&([metric,2250009]>[num,$3])", "db_type": "DM", "warning_level": "4", "warning_message": "每秒事务数超过最近1小时平均值的10倍，应用可能存在异常({[metric,2250009]})"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "REDO BUFFER出现过不足", "rule_name": "REDO_BUFFER_WARN_DM", "id": "17627", "rule_expression": "[metric,2258004]>[num,$1]", "db_type": "DM", "warning_level": "2", "warning_message": "REDO BUFFER出现过不足，在最近采样周期平均每分钟出现过{[metric,2258004]}次无法分配现象，可能原因是REDO文件IO性能不足，REDO量过大或者REDO BUFFER设置过小"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "REDO BUFFER出现过不足", "rule_name": "REDO_BUFFER_WARN_DM", "id": "17624", "rule_expression": "[metric,2258004]>[num,$1]", "db_type": "DM", "warning_level": "2", "warning_message": "REDO BUFFER出现过不足，在最近采样周期平均每分钟出现过{[metric,2258004]}次无法分配现象，可能原因是REDO文件IO性能不足，REDO量过大或者REDO BUFFER设置过小"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "REDO BUFFER出现过不足", "rule_name": "REDO_BUFFER_WARN_DM", "id": "17625", "rule_expression": "[metric,2258004]>[num,$1]", "db_type": "DM", "warning_level": "2", "warning_message": "REDO BUFFER出现过不足，在最近采样周期平均每分钟出现过{[metric,2258004]}次无法分配现象，可能原因是REDO文件IO性能不足，REDO量过大或者REDO BUFFER设置过小"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询数据库rlog buffer使用情况", "knowledge_description": "查询数据库rlog buffer使用情况"}, {"knowledge_name": "Rlog文件使用率检查", "knowledge_description": "Rlog文件使用率检查"}], "description": "REDO BUFFER严重不足，数据库性能存在隐患", "rule_name": "REDO_BUFFER_CRITICAL_DM", "id": "17628", "rule_expression": "[metric,2258004]>[num,$1]", "db_type": "DM", "warning_level": "4", "warning_message": "REDO BUFFER严重不足，在最近采样周期平均每分钟出现过{[metric,2258004]}次无法分配现象，可能原因是REDO文件IO性能不足，REDO量过大或者REDO BUFFER设置过小"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询数据库rlog buffer使用情况", "knowledge_description": "查询数据库rlog buffer使用情况"}, {"knowledge_name": "Rlog文件使用率检查", "knowledge_description": "Rlog文件使用率检查"}], "description": "REDO BUFFER严重不足，数据库性能存在隐患", "rule_name": "REDO_BUFFER_CRITICAL_DM", "id": "17631", "rule_expression": "[metric,2258004]>[num,$1]", "db_type": "DM", "warning_level": "4", "warning_message": "REDO BUFFER严重不足，在最近采样周期平均每分钟出现过{[metric,2258004]}次无法分配现象，可能原因是REDO文件IO性能不足，REDO量过大或者REDO BUFFER设置过小"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询数据库rlog buffer使用情况", "knowledge_description": "查询数据库rlog buffer使用情况"}, {"knowledge_name": "Rlog文件使用率检查", "knowledge_description": "Rlog文件使用率检查"}], "description": "REDO BUFFER严重不足，数据库性能存在隐患", "rule_name": "REDO_BUFFER_CRITICAL_DM", "id": "17629", "rule_expression": "[metric,2258004]>[num,$1]", "db_type": "DM", "warning_level": "4", "warning_message": "REDO BUFFER严重不足，在最近采样周期平均每分钟出现过{[metric,2258004]}次无法分配现象，可能原因是REDO文件IO性能不足，REDO量过大或者REDO BUFFER设置过小"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "查询数据库rlog buffer使用情况", "knowledge_description": "查询数据库rlog buffer使用情况"}, {"knowledge_name": "Rlog文件使用率检查", "knowledge_description": "Rlog文件使用率检查"}], "description": "REDO BUFFER严重不足，数据库性能存在隐患", "rule_name": "REDO_BUFFER_CRITICAL_DM", "id": "17630", "rule_expression": "[metric,2258004]>[num,$1]", "db_type": "DM", "warning_level": "4", "warning_message": "REDO BUFFER严重不足，在最近采样周期平均每分钟出现过{[metric,2258004]}次无法分配现象，可能原因是REDO文件IO性能不足，REDO量过大或者REDO BUFFER设置过小"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}, {"knowledge_description": "分析指标、SQL相似度"}], "description": "hash join量过大，消耗了太多CPU资源", "rule_name": "hashjoin_cpu_dm", "id": "17532", "rule_expression": "(([metric,2250024]>[num,$1])||([metric,2250024]>([cib,2260001,cpu_count]*[num,$4]))) &&[metric,2250003] > [num,$2]&&[metric,3000003] > [num,$2]", "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "每秒LOGONS数量超过n个，说明应用系统存在异常", "knowledge_description": "每秒LOGONS数量超过n个，说明应用系统存在异常"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "每秒LOGONS数量过多，说明应用系统存在异常", "rule_name": "avg_logons_per_sec", "id": "17517", "rule_expression": "([metric,2250002]>[num,$1])||([metric,2250002]>([cib,2260001,cpu_count]*[num,$2]))", "db_type": "DM", "warning_level": "2", "warning_message": "每秒LOGONS数量过多（{[metric,2250002]}），说明应用系统存在异常"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "如果存在问题，关注会话参数与RECYCLE 缓冲的配置", "knowledge_description": "泛路由-达梦排序性能分析"}], "description": "达梦的磁盘排序过多，应用或数据库配置可能存在性能问题", "rule_name": "disk_sort_dm", "id": "17524", "rule_expression": "([metric,2250064] < [num,$1]) &&([metric,2258001]>[num,$2])", "db_type": "DM", "warning_level": "2", "warning_message": "达梦的磁盘排序过多，应用或数据库配置可能存在性能问题"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦数据库连接超时，数据库存在性能隐患", "rule_name": "connect_slow_dm", "id": "17523", "rule_expression": "[metric,1000102] >([metric hour avg,1000102]*[num,$1])", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "运维对象连接失败，请检查运维对象是否down", "knowledge_description": "运维对象连接状态分析"}, {"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}], "description": "达梦采集任务超时，数据库实例存在性能问题", "rule_name": "collector_exec_slow_dm", "id": "17521", "rule_expression": "[metric,1000101] >([metric hour avg,1000101]*[num,$1])", "db_type": "DM", "warning_level": "2"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_description": "分析TOP SQL执行计划是否存在hash join"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦HASH JOIN性能分析"}, {"knowledge_name": "根据智能诊断的结论分析异常指标，下钻分析", "knowledge_description": "泛路由-达梦CPU使用率高分析"}], "description": "hash join量过大，消耗了过多内存，系统存在风险", "rule_name": "hashjoin_memory_dm", "id": "17534", "rule_expression": "(([metric,2250024]>[num,$1])||([metric,2250024]>([cib,2260001,cpu_count]*[num,$5]))) &&[metric,2250003] >[num,$2]&&(([metric,3000007] < [num,$3])||([metric,3000014] > [num,$4]))", "db_type": "DM", "warning_level": "3", "warning_message": "hash join量过大(每秒{[metric,2250024]})，消耗了过多内存（内存剩余{[metric,3000007]}），系统存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "分析CPU使用情况", "knowledge_description": "分析CPU使用情况"}], "description": "运行错误较多，达梦数据库存在严重隐患", "rule_name": "runtime_error_dm", "id": "8388", "rule_expression": null, "db_type": "DM", "warning_level": "4"}}
{"type": "rule", "data": {"knowledge_id": [], "description": "REDO BUFFER出现过不足", "rule_name": "REDO_BUFFER_WARN_DM", "id": "17626", "rule_expression": "[metric,2258004]>[num,$1]", "db_type": "DM", "warning_level": "2", "warning_message": "REDO BUFFER出现过不足，在最近采样周期平均每分钟出现过{[metric,2258004]}次无法分配现象，可能原因是REDO文件IO性能不足，REDO量过大或者REDO BUFFER设置过小"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "分析数据库实例情况", "knowledge_description": "分析数据库实例情况"}, {"knowledge_name": "数据库负载情况分析", "knowledge_description": "数据库负载情况分析"}, {"knowledge_name": "操作系统核心资源分析", "knowledge_description": "操作系统核心资源分析"}, {"knowledge_name": "查看top sql判断是物理读导致还是执行次数原因", "knowledge_description": "物理读较多的TOP SQL"}, {"knowledge_name": "分析服务器IO设备的IO情况", "knowledge_description": "分析服务器IO设备的IO情况"}], "description": "每秒物理读过大，数据库存在风险", "rule_name": "more_phy_read_dm", "id": "17541", "rule_expression": "(([metric,2250004]*[num,$1])>[metric hour avg,2250004]) && ([metric,2250004]>[num,$2]*[cib,2260001,cpu_count])", "db_type": "DM", "warning_level": "3", "warning_message": "每秒物理读过高（{[metric,2250004]}），数据库存在风险"}}
{"type": "rule", "data": {"knowledge_id": [{"knowledge_name": "Kill根阻塞会话", "knowledge_description": "阻塞、锁、等待会话分析(实时分析请清除分析时间)"}], "description": "数据库存在行锁", "rule_name": "row_lock_warn_dm", "id": "12078", "rule_expression": "[metric in time,5,2250032][oper,>=][num,$1]", "db_type": "DM", "warning_level": "2"}}
