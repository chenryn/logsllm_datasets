### Interference on Xfinity WiFi Radio Channels

Interference on Xfinity WiFi radio channels was a significant contributor to the lack of connectivity. In September 2015, we conducted measurements using an instrumented Linux laptop equipped with an Atheros AR9820 802.11a/b/g/n chipset. We measured interference on different WiFi channels by capturing Channel Busy Time (CBT). CBT provides a more accurate representation of the radio channel conditions, as it accounts for both channel noise and packet collisions [2]. We continuously recorded CBT from NIC registers exposed in the Atheros radio. To normalize each CBT, we calculated the Interference Factor (IF) for each channel, defined as the ratio of the observed busy time over the time spent on the channel [1].

### Sources of Interference

A major source of interference for wireless 802.11 hotspots is other nearby access points. Our study revealed that the density of wireless access points in urban Chicago is significantly higher compared to our suburban setting. Specifically, at the median, we observed around 70 2.4 GHz and 90 5 GHz wireless APs per cell in Chicago, compared to approximately 50 2.4 GHz and 5 5 GHz wireless APs per cell in Evanston (Fig. 3a). The density of 2.4 GHz networks is similar in both areas, and the radio interference for 2.4 GHz is also comparable.

### Interference Analysis

Despite the higher density of 5 GHz radio networks in urban Chicago, we observed a small but clear separation in the interference graph for the 5 GHz band between the two areas (Fig. 3b). The interference in the 5 GHz band is much lower in both areas compared to the 2.4 GHz band, with a median interference of 0.05 (compared to 0.4 for 2.4 GHz) in the urban environment.

Figure 3c illustrates the comparison of minimum channel interference observed for connected and attempted-only access points in the 2.4 GHz band in Evanston. In the median case, there is a difference of around 0.1 between the interference values for the access points we were able to connect and those we were not. For 5 GHz networks, which showed very low interference values, we did not observe a significant impact of interference on connectivity.

### Network Performance

We present the performance of Xfinity WiFi hotspots in both areas across download speed, upload speed, and Round-Trip Time (RTT), collected using the Network Diagnostic Test (NDT). Significant differences in network performance were observed between the two areas and radio bands, as shown in Fig. 4. Xfinity WiFi hotspots exhibited lower performance in downtown Chicago across all metrics, and 5 GHz band radios performed better in both locations.

There is a large performance differential between the two radio bands, with 5 GHz bands showing higher throughput in both areas. Surprisingly, these 5 GHz bands had higher latencies in Chicago than the 2.4 GHz bands. This is likely due to poor signal strength properties in Chicago rather than a general performance issue. Sundaresan et al. [23] found similar performance results for home networks.

### Cross Traffic Interference

Comcast leverages its customers' gateway routers as public hotspots for their neighborhood Xfinity WiFi service. To understand the impact of such sharing on customers' performance, we conducted controlled experiments for the case when both networks use the same router with a single radio band (and hence, share the same radio channel). We generated cross traffic on a node connected to the Xfinity WiFi network and measured the network performance on another node connected to the home network.

Since the start of our study, Comcast has been moving toward dual-band routers, now offering three new devices, two of which support dual-band radio. However, one of these routers is currently only available in selected markets, while the other is provided only to customers with high-end Internet plans [12].

### Methodology

Our experiments were conducted over a continuous 24-hour period to account for time-of-day patterns. Each set of tests involved injecting different amounts of downstream or upstream cross traffic (one direction at a time) at different rates. We ran experiments with downstream cross traffic at 0, 1, 2, 4, 8, and 16 Mbps and upstream cross traffic at 0, 1, 2, and 4 Mbps. Both upper bound limits were set based on our initial experiments. All experiments were run under controlled settings, with only one home device connecting to these gateways.

We collected our measurements using a single Xfinity customer's ARRIS TG862 Gateway [5], which was actively broadcasting the Xfinity WiFi SSID, in a home with a 25 Mbps subscription. Based on preliminary measurements, we believe that our key observations would apply to other single-radio-band devices and broadband subscriptions.

Cross traffic was generated on a separate node connected to the Xfinity network broadcasted from the same router. Upstream cross traffic was generated by running the iPerf utility [16] to send upstream UDP packets at specific rates. Downstream traffic generation was achieved using a Python server hosted in the university network that sent UDP packets at the requested rate to the Xfinity network node. These processes of performance measurement on the home network and traffic generation on the Xfinity network were coordinated and automated using a configuration/coordination server in our lab. We took three measurements of download/upload rate and selected the maximum to handle small temporal variations.

### Experimental Results

Figures 5a and 5c show the mean of the observed bandwidths along with the standard deviation for cross traffic. We observed significant performance degradation of the home network WiFi due to cross traffic from the Xfinity network. The impact of downstream cross traffic is significant starting at low values; for 2 Mbps cross traffic on the Xfinity network, the download speed of the home network dropped from 15 Mbps to 10 Mbps, and by half (7.5 Mbps) for 4 Mbps cross traffic. Figure 5a illustrates this trend in decreasing performance as cross traffic increases, with a reduction in throughput as high as 67% for 16 Mbps traffic on the public WiFi.

As the upstream cross traffic is limited to 4 Mbps, it caused less wireless interference and had a lower impact on download speed. The maximum upload speed we observed on the public hotspot was around 2 Mbps, and the impact on download and upload speeds was not noticeable before 4 Mbps upstream cross traffic, as seen in Fig. 5c. Therefore, we did not observe any significant impact of upstream traffic from the public hotspot network on the hosting network.

To isolate the cause of cross traffic interference, we performed the same series of experiments with the measurement node in the home network connected via Ethernet to the router instead of the wireless interface. Figures 5b and 5d show the home network performance for downstream and upstream cross traffic, respectively, for a client connected over the wired interface. The figures show that the download and upload measured bandwidths of the home network remain constant for all values of cross traffic on the Xfinity network, for both downstream and upstream cross traffic. With no cross traffic interference over the wired interface, we conclude that the interference due to Xfinity network cross traffic originates solely from the two WiFi networks competing for the same radio (device and spectrum), resulting in significant radio interferences with increased network traffic.

### WiFi Compatibility Issues

The performance of the home-router owner could be impacted by a public hotspot user connecting with an old WiFi standard device. To evaluate the potential impact of this issue, we ran experiments connecting an 802.11n device and an 802.11g device, one at a time, to the Xfinity network and measuring the performance of a home user using an 802.11n device. We ran our experiments using NDT, and during off-peak hours (2 AM–6 AM). Figures 6a and 6b present our results. We observed many NDT timeouts while measuring the impact of downstream cross traffic with the 802.11g device, leading to fewer data points. As expected, the 802.11g device had a significant impact on the home network, bringing down the overall WiFi performance by a significant margin.

### Related Work

Several projects have measured the performance characteristics of wireless networks, including Kotz et al. [17] study of campus-wide networks and Aguayo et al. [4] report on link-level characteristics of a rooftop-based mesh network. Farshad et al. [14] used mobile crowdsourcing to characterize the Edinburgh WiFi. More closely related to our work, Sathiaseelan et al. [21] focused on the technical and social context of providing Internet access by sharing existing broadband subscribers' connections in a medium-sized British city. Mota et al. [19] recently evaluated the feasibility of offloading cellular data traffic through WiFi hotspots provided by the government and private WiFi access points in Paris. Robinson et al. [20] and Afanasyev et al. [3] studied the coverage properties of the Google WiFi mesh network around Mountain View, CA. Brik et al. [9] focused on a Mad Mesh network with 250 Mesh Access Points. Braem et al. [6] analyzed the end-to-end quality of Internet access in community networks. By contrast, our work focuses on characterizing a provider-enabled WiFi network in urban and suburban settings and from the perspectives of both the public user and the host network owner.

### Conclusion

We presented the first characterization of the coverage, availability, and performance of provider-enabled community networks. Our study focused on Comcast's Xfinity WiFi network, the largest community WiFi network in the US, with more than ten million devices in July 2015. We analyzed the performance of this service under various geographic and temporal contexts, and from the perspectives of both the home router owner and the public hotspot user. We found that the connectivity and performance of these services in urban environments can be impacted by high signal attenuation from densely populated physical objects and radio interference from crowded wireless APs. Our results show a significant degradation in the performance of the hosting customer's home network, with reductions in throughput as high as 67% due to wireless interference.

This preliminary study was focused on a single service in two limited geographic areas—downtown Chicago and Evanston, IL—and we plan to expand this as part of our future work. We believe that our findings and analysis should be applicable to other community WiFi networks and comparable urban and suburban environments.

### Acknowledgments

We thank our shepherd Matthew Luckie and the anonymous reviewers for their invaluable feedback. We also thank Rishabh Gemawat and Sabita Acharya for helping with data collection. This work was supported in part by the National Science Foundation through Award CNS 1218287.

### References

1. ACS (Automatic Channel Selection), May 2015. https://wireless.wiki.kernel.org/en/users/documentation/acs
2. Acharya, P.A.K., Sharma, A., Belding, E.M., Almeroth, K.C., Papagiannaki, K.: Congestion-aware rate adaptation in wireless networks: a measurement-driven approach. In: Proceedings of the IEEE SECON (2008)
3. Afanasyev, M., Chen, T., Voelker, G.M., Snoeren, A.C.: Analysis of a mixed-use urban Wi-Fi network: when metropolitan becomes Neapolitan. In: Proceedings of the IMC (2008)
4. Aguayo, D., Bicket, J., Biswas, S., Judd, G., Morris, R.: Link-level measurements from an 802.11b mesh network. In: Proceedings of the ACM SIGCOMM (2004)
5. ARRIS. ARRIS Touchstone R® TG682 Telephony Gateway User’s Guide. http://tinyurl.com/mw6gcgs
6. Bart Braem, C., Bergs, J.: Analysis of end-user QoE in community networks. In: Proceedings of the ACM DEV (2015)
7. Bauer, S., Clark, D.D., Lehr, W.: Understanding broadband speed measurements. TPRC (2010)
8. Braem, B., Blondia, C., Barz, C., Rogge, H., Freitag, F., Navarro, L., Bonicioli, J., Papathanasiou, S., Escrich, P., Viñas, R.B., Kaplan, A.L., i Balaguer, I.V., Tatum, B., Matson, M.: A case for research with and on community networks. In: SIGCOMM Computing Communication Reviews, July 2013
9. Brik, V., Rayanchu, S., Saha, S., Sen, S., Shivastava, V., Banerjee, S.: A measurement study of a commercial-grade urban Wi-Fi mesh. In: Proceedings of the IMC (2008)
10. Comcast. Comcast Unveils Plans for Millions of Xfinity WiFi Hotspots Through its Home-Based Neighborhood Hotspot Initiative. http://tinyurl.com/o23vvps
11. Comcast. Wireless Internet on the Go - XFINITY WiFi by Comcast. http://wifi.comcast.com
12. Comcast. The different wireless gateways for your home network (2016). http://customer.xfinity.com/help-and-support/internet/wireless-gateway-compare/
13. Electronic Frontier Foundation. Open Wireless Movement. https://openwireless.org/
14. Farshad, A., Marina, M., Garcia, F.: Urban Wi-Fi characterization via mobile crowdsensing. In: Proceedings of the IEEE NOMS (2014)
15. Fon. How it Works — Fon. https://corp.fon.com/en/how-it-works
16. French forum for Iperf. Iperf - The TCP/UDP Bandwidth Measurement Tool. https://iperf.fr
17. Kotz, D., Essien, K.: Analysis of a campus-wide wireless network. In: Proceedings of MobiCom (2002)
18. M-Lab. NDT (Network Diagnostic Test). http://www.measurementlab.net/tools/ndt
19. Mota, V.F., Macedo, D.F., Ghamri-Doudane, Y., Nogueira, J.M.S.: On the feasibility of Wi-Fi offloading in urban areas: the Paris case study. In: Proceedings of the IFIP (WD) (2013)
20. Robinson, J., Swaminathan, R., Knightly, E.: Assessment of urban-scale wireless networks with a small number of measurements. In: Proceedings of the MobiCom (2008)
21. Sathiaseelan, A., Mortier, R., Goulden, M., Greiffenhagen, C., Radenkovic, M., Crowcroft, J., McAuley, D.: A feasibility study of an in-the-wild experimental public access Wi-Fi network. In: Proceedings of the ACM DEV (2014)
22. Solutions, S.D.C.: The Chicago tech plan: building a model for cities and technology. http://tinyurl.com/p3zvanw
23. Sundaresan, S., Feamster, N., Teixeira, R.: Measuring the performance of user traffic in home wireless networks. In: Mirkovic, J., Liu, Y. (eds.) PAM 2015. LNCS, vol. 8995, pp. 305–317. Springer, Heidelberg (2015)
24. Voices, C.: 10 hidden Wi-Fi hotspots you never knew were there, July 2015. http://corporate.comcast.com/comcast-voices/free-wifi-hotspots-top-locations