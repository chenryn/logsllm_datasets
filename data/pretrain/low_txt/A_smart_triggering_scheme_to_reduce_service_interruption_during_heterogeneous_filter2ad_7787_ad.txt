### Deployment of WiMax Clients and Base Stations

Traces were collected while driving at various speeds within the coverage areas. In each trace, downlink Carrier-to-Interference-plus-Noise Ratio (CINR) measurements were recorded every second. Due to early implementation limitations, higher-frequency measurements could not be taken. We extracted five traces that span a total of 4 hours and 27 minutes and applied our trigger prediction algorithm to these traces. Figure 12 shows two of these traces.

In WiMax networks, connection failures are likely to occur when CINR values fall below 0, and a value of 9 is typically used to trigger a handoff process. Therefore, for the WiMax traces, we set the Link Going Down Threshold (LGD_TH) to 9 and the Link Down Threshold (LD_TH) to 0.

**Figure 12: Sample WiMax CINR Traces**

---

### Results

The results are presented in Table 4 and Figure 13. A total of 30 LGD triggers were generated, and our algorithm successfully predicted 24 of them with an average proactive window of 8.7 steps. Figure 13 shows the length of each proactive window for all accurate predictions.

| Total # of LGD triggers from all traces | # of Pre-Triggers generated by our algorithm | # of Accurate Pre-Triggers | # of canceled Pre-Triggers | # of missed Pre-Triggers | Avg. length of proactive window (# of steps) |
|-----------------------------------------|-----------------------------------------------|----------------------------|-----------------------------|---------------------------|----------------------------------------------|
| 30                                      | 25                                            | 24                         | 1                           | 6                         | 8.7                                          |

**Table 4: Trigger Prediction Results, WiMax Traces**

**Figure 13: Length of Proactive Window of Accurate Predictions, WiMax Traces**

---

### Mixed Network (MxN) Architecture

Adaptors can use the connection management service. Connection managers from other parties can use the Media Independent Handover (MIH) and adaptor management services alone and handle connection management themselves. The MxN architecture also defines an adapter control layer that spans across various adapters and provides the ability to interface with the adapters. For session mobility, Session Initiation Protocol (SIP) was chosen as the session initiation and control protocol.

**Figure 14: Mixed Network (MxN) Architecture**

On the other hand, the results show one canceled PreTrigger and six missed predictions. We conjecture that the higher percentage of missed predictions in these WiMax traces compared to WiFi traces is due to the varying driving speeds during data collection. In the current design of our algorithms, fixed sizes of history windows were used. One enhancement would be to apply adaptive window sizes to adapt to different moving speeds, which will be part of our future work. Additionally, higher-frequency CINR measurements might help.

### Prototype

Intel and BT have collaborated to prototype a WiFi/WiMax multi-radio system in the BT 21CN environment [3]. Figure 14 shows the high-level architecture of the prototype at the client side, which we refer to as the MxN architecture. Applications can use the services provided by the MxN system through the MxN interface. These services include 802.21 MIH services, connection management, and network adapter management. Applications such as Virtual Private Network (VPN) and SIP-based applications that are not capable of switching across networks can use the MxN system.

For the function blocks inside the MxN system, the Smart Triggers block addresses the "when and why" step in a handover and provides the mechanism to monitor changes to MAC and PHY state, including link triggers. The Information Exchange block interfaces with the Information Server (in the networks), retrieves network information, and provides it to the Network Selection engine, which then chooses the best network to operate on. Together, these two address the "where" step. Finally, the Network Switching module works closely with SIP to address the "how" step.

We have integrated our smart triggering scheme into the Smart Triggers block of the prototype. For evaluation purposes, we set up a heterogeneous wireless environment in our lab, which includes a WiFi Access Point and a WiMax Base Station. The WiFi/WiMax prototype system is equipped with a WiFi card and a WiMax card. We conducted a set of experiments similar to those described in Figure 1 to study the benefits of smart triggering. Fading of WiFi signal strength was emulated by tuning an attenuator attached to the WiFi AP. Moreover, in our experiments, we set LGD_TH to -60 and LD_TH to -65.5.

**Figure 15: Breakdown of Time Taken for Vertical Handover with Smart Triggers Integrated**

In general, when the WiFi signal starts to fade, our triggering scheme captures the trend and generates a PreTrigger. The Connection Manager runs the network selection logic, selects WiMax as the new network, and establishes a connection to it. Note that during this process, the system remains connected to the WiFi network, and the SIP application continues streaming audio. Once the connection to the WiMax network is complete and the audio session has been transferred to the WiMax interface, the connection to the WLAN network is torn down. Of the 11 experiments we conducted, our triggering scheme predicted the LGD events in 10 of them, and on average, predictions were made 1.02 seconds ahead of time. On the other hand, our measurements show that the total time for WiMax connection establishment, IP address acquisition, binding update, and media redirection was 3.6 seconds. Altogether, with the smart trigger scheme, the audio session handover delay was reduced to 305 ms (compared to more than 9 seconds in Figure 1). The delay of 305 ms is mainly due to implementation limitations in media redirection. We expect that with improvements in the implementation, the handover delay could be reduced to less than 150 ms.

### Conclusion

For multi-radio devices that require ubiquitous connectivity across networks, vertical handovers can be lengthy (multiple seconds) as they typically involve a combination of link layer, IP layer, and application layer executions. Therefore, the ability to detect and react rapidly to link changes affects the performance of network applications in selecting an appropriate network and providing seamless connectivity. In this paper, we proposed a novel smart triggering scheme to predict when a device needs to take proactive actions and prepare for handovers. With our smart triggering, events such as LGD could be predicted more than 1 second ahead of time. Our scheme not only enables a Connection Manager to detect LGD before the connection is lost (instead of waiting for OS messages for confirmation) but also provides extra time to turn on another radio, obtain an IP address, and redirect a session. By integrating the smart triggering scheme into our WiFi/WiMax multi-radio prototype and running experiments in heterogeneous wireless networks, we showed that handover delays at the application level were significantly reduced from multiple seconds to milliseconds.

### References

1. V. Mhatre and K. Papagiannaki, “Using smart triggers for improved user performance in 802.11 wireless networks”. In Proceedings of the 4th International Conference on Mobile Systems, Applications, and Services (MobiSys), 2006.
2. C. Guo, Z. Guo, Q. Zhang & W. Zhu, “A Seamless and Proactive End-to-End Mobility Solution for Roaming Across Heterogeneous Wireless Networks”, IEEE Journal on Selected Areas in Communications, June 2004.
3. K. N. Choong, V. S. Kesavan, S. L. Ng, F. de Carvalho, A. L. Y. Low, and C. Maciocco, “SIP-based IEEE802.21 media independent handover — a BT Intel collaboration”, BT Technology Journal, Vol 25 No 2, April 2007.
4. K. Mitsuya et al., “IEEE802.21 assisted Network Selection for Seamless Handover”, in submission.
5. S. F. Chien, Huaiyu Liu, Andy L. Y. Low, Christian Maciocco, and Y. L. Ho, “Smart Predictive Trigger for Effective Handover in Wireless Networks”, In Proceedings of International Conference on Communications (ICC), 2008.
6. S. Woon, N. Golmie, and Y. A. Sekercioglu, “Effective Link Triggers To Improve Handover Performance”, In Proceedings of The 17th Annual IEEE International Symposium on Personal, Indoor and Mobile Radio Communications (PIMRC), 2006.
7. Gregory P. Pollhi, “Trends in Handover Design”. IEEE Communications Magazine, March 1996.
8. T. Eyceoz, S. Hu, and A. Duel-Hallen, “Performance Analysis of Long-range Prediction for Fast Fading Channels,” Proceedings of the 33rd CISS, March 1999.
9. L. Piroddi and W. Spinelli, “Long-range Nonlinear Prediction: A Case Study,” In Proceedings of IEEE Decision and Control 42nd Conference, June 2006.
10. S. Semmelrodt and R. Kattenbach, “Investigation of Different Fading Forecast Schemes for Flat Fading Radio Channels”. In Proceedings of IEEE VTC, Oct. 2003.
11. BT 21 Century Network, http://www.btplc.com/.
12. International Telecommunication Union, http://www.itu.int/home/index.html.
13. Telecoms and Internet Converged Services and Protocols for Advanced Networks, http://www.etsi.org/tispan/.
14. IEEE P802.21/D01.00, March 2006.
15. 3GPP Architecture Enhancements for non-3GPP accesses (3GPP TS 23.402), 2007.
16. NIST/SEMATECH e-Handbook of Statistical Methods, http://www.itl.nist.gov/div898/handbook/pmd/section4/pmd431.htm.
17. IP Multimedia Subsystem (IMS), http://en.wikipedia.org/wiki/IP_Multimedia_Subsystem.
18. H. Schulzrinne and E. Wedlund, “Application-Layer Mobility using SIP”, ACM Mobile Computing and Communications Review, Vol 4, No 3, pp47-57, 2000.