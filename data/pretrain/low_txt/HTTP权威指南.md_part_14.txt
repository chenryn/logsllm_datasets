### HTTP状态码详解

#### 200系列 - 成功响应

- **202 Accepted**
  - 请求已被接受，但服务器尚未对其执行任何操作。这并不保证请求会被完成；它仅表示在接收时，请求看起来是有效的。
  - 建议在实体的主体部分包含对请求状态的描述，并可能提供一个预计完成时间或指向该信息的位置。

- **203 Non-Authoritative Information**
  - 实体首部（更多关于实体首部的信息，请参见第3.5.4节）中包含的信息不是来自源端服务器，而是来自资源的一个副本。
  - 如果中间节点有一份资源副本，但无法或没有验证与资源相关的元信息（首部），则会出现这种情况。
  - 此响应码并非必需；如果实体首部来自源端服务器，应用程序可以选择使用200状态码。

- **204 No Content**
  - 响应报文中包含若干首部和一个状态行，但没有实体的主体部分。主要用于在不转为显示新文档的情况下更新浏览器（例如刷新表单页面）。

- **205 Reset Content**
  - 主要用于浏览器，指示浏览器清除当前页面中的所有HTML表单元素。

- **206 Partial Content**
  - 成功执行了一个部分或Range（范围）请求。客户端可以通过一些特殊的首部来获取部分或某个范围内的文档，这个状态码就说明范围请求成功了。
  - 更多有关Range首部的内容，请参见第15.9节。
  - 206响应必须包含Content-Range、Date以及ETag或Content-Location首部。

#### 300系列 - 重定向状态码

- **300 Multiple Choices**
  - 当客户端请求一个实际指向多个资源的URL时返回此状态码。比如，服务器上有某个HTML文档的英语和法语版本。返回此代码时会带有一个选项列表，用户可以选择他希望使用的那一项。
  - 有多个版本可用时，客户端需要沟通解决。更多与此有关的信息请参见第17章。服务器可以在Location首部包含首选URL。

- **301 Moved Permanently**
  - 在请求的URL已被移除时使用。响应的Location首部中应该包含资源现在所处的URL。

- **302 Found**
  - 类似于301状态码；但是，客户端应该使用Location首部给出的URL来临时定位资源。将来的请求仍应使用老的URL。

- **303 See Other**
  - 告知客户端应该用另一个URL来获取资源。新的URL位于响应报文的Location首部。其主要目的是允许POST请求的响应将客户端定向到某个资源上去。

- **304 Not Modified**
  - 客户端可以通过所包含的请求首部，使其请求变成有条件的。更多有关条件首部的内容请参见第3章。
  - 如果客户端发起了一个条件GET请求，而最近资源未被修改的话，就可以用这个状态码来说明资源未被修改。带有这个状态码的响应不应该包含实体的主体部分。

- **305 Use Proxy**
  - 用来说明必须通过一个代理来访问资源；代理的位置由Location首部给出。重要的是，客户端是相对某个特定资源来解析这条响应的，不能假定所有请求都通过这个代理进行。

- **306 （未使用）**
  - 当前未使用。

- **307 Temporary Redirect**
  - 类似于301状态码；但客户端应该使用Location首部给出的URL来临时定位资源。将来的请求应该使用老的URL。

#### 400系列 - 客户端错误状态码

- **400 Bad Request**
  - 用于告知客户端它发送了一个错误的请求。

- **401 Unauthorized**
  - 与适当的首部一同返回，在这些首部中请求客户端在获取对资源的访问权之前，对自己进行认证。更多有关认证的内容请参见第12.1节。

- **402 Payment Required**
  - 现在这个状态码还未使用，但已经被保留，以作未来之用。

- **403 Forbidden**
  - 用于说明请求被服务器拒绝了。如果服务器想说明为什么拒绝请求，可以包含实体的主体部分来对原因进行描述。但这个状态码通常是在服务器不想说明拒绝原因的时候使用的。

- **404 Not Found**
  - 用于说明服务器无法找到所请求的URL。通常会包含一个实体，以便客户端应用程序显示给用户看。

- **405 Method Not Allowed**
  - 发起的请求中带有所请求的URL不支持的方法时，使用此状态码。应该在响应中包含Allow首部，以告知客户端对所请求的资源可以使用哪些方法。更多有关Allow首部的信息请参见第3.5.4节。

- **406 Not Acceptable**
  - 客户端可以指定参数来说明它们愿意接收什么类型的实体。服务器没有与客户端可接受的URL相匹配的资源时，使用此代码。通常，服务器会包含一些首部，以便客户端弄清楚为什么请求无法满足。更多信息请参见第17章。

- **407 Proxy Authentication Required**
  - 与401状态码类似，但用于要求对资源进行认证的代理服务器。

- **408 Request Timeout**
  - 如果客户端完成请求所花的时间太长，服务器可以回送此状态码，并关闭连接。超时时长随服务器的不同有所不同，但通常对所有的合法请求来说都是够长的。

- **409 Conflict**
  - 用于说明请求可能在资源上引发的一些冲突。服务器担心请求会引发冲突时，可以发送此状态码。响应中应该包含描述冲突的主体。

- **4010 Gone**
  - 与404类似，只是服务器曾经拥有过此资源。主要用于Web站点的维护，这样服务器的管理者就可以在资源被移除的情况下通知客户端了。

- **411 Length Required**
  - 服务器要求在请求报文中包含Content-Length首部时使用。更多有关Content-Length首部的信息请参见第3.5.4节。

- **412 Precondition Failed**
  - 客户端发起了条件请求，且其中一个条件失败了的时候使用。客户端包含了Expect首部时发起的就是条件请求。更多有关Expect首部的内容请参见附录C中Expect部分。

- **413 Request Entity Too Large**
  - 客户端发送的实体主体部分比服务器能够或者希望处理的要大时，使用此状态码。

- **414 Request URI Too Long**
  - 客户端所发请求中的请求URL比服务器能够或者希望处理的要长时，使用此状态码。

- **415 Unsupported Media Type**
  - 服务器无法理解或无法支持客户端所发实体的内容类型时，使用此状态码。

- **416 Requested Range Not Satisfiable**
  - 请求报文所请求的是指定资源的某个范围，而此范围无效或无法满足时，使用此状态码。

- **417 Expectation Failed**
  - 请求的Expect请求首部包含了一个期望，但服务器无法满足此期望时，使用此状态码。更多有关Expect首部的内容请参见附录C中Expect部分。
  - 如果代理或其他中间应用程序有确切证据说明源端服务器会为某请求产生一个失败的期望，就可以发送这个响应状态码。

#### 500系列 - 服务器错误状态码

- **500 Internal Server Error**
  - 服务器遇到一个妨碍它为请求提供服务的错误时，使用此状态码。

- **501 Not Implemented**
  - 客户端发起的请求超出服务器的能力范围（比如，使用了服务器不支持的请求方法）时，使用此状态码。

- **502 Bad Gateway**
  - 作为代理或网关使用的服务器从请求响应链的下一条链路上收到了一条伪响应（比如，它无法连接到其父网关）时，使用此状态码。

- **503 Service Unavailable**
  - 用来说明服务器现在无法为请求提供服务，但将来可以。如果服务器知道什么时候资源会变为可用的，可以在响应中包含一个Retry-After首部。更多有关Retry-After首部的信息请参见第3.5.3节。

- **504 Gateway Timeout**
  - 与状态码408类似，只是这里的响应来自一个网关或代理，它们在等待另一服务器对其请求进行响应时超时了。

- **505 HTTP Version Not Supported**
  - 服务器收到的请求使用了它无法或不愿支持的协议版本时，使用此状态码。有些服务器应用程序会选择不支持协议的早期版本。

### 首部

首部提供了HTTP请求和响应的附加信息。常见的首部包括：

- **Location**：用于重定向请求到新的位置。
- **Content-Range**：用于指定响应内容的范围。
- **Date**：响应生成的日期和时间。
- **ETag**：用于缓存验证。
- **Content-Location**：用于标识响应内容的位置。
- **Allow**：列出资源支持的HTTP方法。
- **Retry-After**：告知客户端何时可以再次尝试请求。
- **Expect**：客户端对服务器的期望。

更多关于首部的详细信息，请参见相关章节。