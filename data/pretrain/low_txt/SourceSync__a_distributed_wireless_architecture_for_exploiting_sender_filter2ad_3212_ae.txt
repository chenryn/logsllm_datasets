# 8.2 Power and Diversity Gains

As previously explained, allowing multiple senders to transmit simultaneously provides both power gains from the combined signal strength and frequency diversity gains, as it is unlikely that the same frequency will experience a fade for all senders to the receiver. In this section, we verify that SourceSync indeed achieves these gains.

### Method
We placed the receiver and two transmitters at various random locations within our testbed. For each set of locations, we measured the average SNR across subcarriers, as well as the SNR per subcarrier when each sender transmitted separately and when the two senders transmitted in combination using SourceSync. We categorized the locations into three groups based on the SNRs of the senders transmitting separately: low (SNR < 12 dB), medium (12 dB ≤ SNR < 18 dB), and high (SNR ≥ 18 dB).

### Results
Figure 15 shows the average SNR across subcarriers for both separate and joint transmissions using SourceSync. As observed, SourceSync improves the average SNR by 2–3 dB across all SNR ranges. This increase is due to the addition of power from both senders to the receiver. Specifically, simultaneous transmission from two senders whose signals arrive at the receiver with equal power results in an SNR increase of 3 dB.

To further understand the gains, we plotted the SNR per subcarrier for all three SNR ranges (Figures 16(a)-(c)). These figures show that SourceSync not only improves the average SNR but also produces a flatter SNR profile compared to either sender transmitting separately. This indicates that SourceSync can exploit sender diversity on a per-subcarrier basis. The flatter SNR profile is crucial in channels like 802.11, which exhibit frequency-selective fading and varying SNRs across subcarriers. Since it is unlikely that both senders will simultaneously experience a fade in the same subcarrier, SourceSync maintains a more consistent SNR. 802.11 convolutional codes are sensitive to even a few bad subcarriers, so a flatter profile allows the system to achieve significantly higher bitrates with SourceSync than without it.

# 8.3 Last Hop Diversity

We next examine the gains from using SourceSync in a last-hop scenario to leverage sender diversity.

### Method
We positioned the two transmitters, acting as Access Points (APs), and the receiver, acting as a client, in random testbed locations. For each set of positions, we computed the throughput with each AP acting alone and the throughput of the combined system with SourceSync, using SampleRate [3] for rate adaptation. We repeated the experiment with different sets of random locations.

### Results
Figure 17 shows the cumulative distribution function (CDF) of the throughputs obtained for each set of positions using the best AP for the client and the throughputs when leveraging diversity across APs using SourceSync. As shown, SourceSync provides benefits over selective diversity (i.e., using the single best AP) at all client throughputs, with a median throughput gain of 1.57×.

# 8.4 Opportunistic Routing with SourceSync

We evaluate the gains of SourceSync with opportunistic routing.

### Method
We created a five-node topology by placing two nodes, acting as source and destination, at random locations in our testbed. For each choice of source and destination, we placed three relay nodes at other random locations between the source and destination. We measured pairwise loss rates between the nodes, computed the ETX metric for each link, and evaluated three schemes:
- A single path routing scheme that selects the best relay to route packets from source to destination.
- ExOR, which opportunistically uses any of the three relays as forwarders.
- A combination of ExOR and SourceSync, which exploits sender diversity to forward from relays to the destination.

Since rate adaptation for opportunistic routing protocols is still an open area, we configured the entire network to run at 6 Mbps and 12 Mbps, and picked the configuration that provided the highest throughput. We repeated the experiment for 20 different topologies at each rate.

### Results
Figures 18(a) and (b) show the CDF of the throughputs with single-path routing, ExOR, and the combination of ExOR and SourceSync. As expected, ExOR can harness gains from receiver diversity from the source to the relays, providing a median throughput gain of 1.26–1.4× over single-path routing. SourceSync can provide additional gains of 1.35–1.45× over the receiver diversity in ExOR by exploiting sender diversity from the relays to the destination. Furthermore, SourceSync and ExOR work in tandem to provide a median throughput gain of 1.7–2× over single-path routing.

# 9 Conclusion

This paper introduces SourceSync, a distributed wireless architecture that exploits sender diversity and demonstrates its practicality via implementation and testbed evaluation. It integrates sender diversity with last-hop diversity and opportunistic routing, showing that this synergy can significantly improve throughput.

We believe that SourceSync has wider implications for wireless design than explored here. Techniques such as distributed beamforming [34] and lattice codes [28] promise significant throughput improvements in theory. However, these techniques have not been used in practice because they require some form of symbol synchronization. The synchronization mechanisms in this paper provide a first step toward practical implementations of these techniques.

**Acknowledgments:** We thank the reviewers and our shepherd, Matt Welsh, for their comments. This work is funded by DARPA IT-MANET and an NSF award CNS-0831660.

**References:**
[1] D. Agrawal, V. Tarokh, A. Naguib, and N. Seshadri. Space-time coded OFDM for high data-rate wireless communication over wideband channels. In IEEE VTC, volume 3, 1998.
...
[45] J. Zhang, J. Jia, Q. Zhang, and E. M. K. Lo. Implementation and Evaluation of Cooperative Communications in Software-Defined Radio Testbed. In INFOCOM, San Diego, CA, 2010.