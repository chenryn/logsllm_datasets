### 优化后的文本

#### 第8章
---
## Page 469
**控制你的数据，世界在你手中**

#### 用户数据结构示例
- **用户ID**: 101
- **情感**: 爱
- **主题ID**: 11
- **用户名**: jnettles
- **密码**: [加密]
- **加入日期**: [日期]
- **名字**: [名字]
- **姓氏**: [姓氏]
- **性别**: [性别]
- **出生日期**: [出生日期]
- **响应ID**: [响应ID]
- **城市**: [城市]
- **州**: [州]
- **类别**: 外貌
- **主题**: 文身
- **图片**: [图片链接]

- **用户ID**: 102
- **情感**: 爱
- **主题ID**: 11
- **用户名**: jnettles
- **密码**: [加密]
- **加入日期**: [日期]
- **名字**: [名字]
- **姓氏**: [姓氏]
- **性别**: [性别]
- **出生日期**: [出生日期]
- **响应ID**: [响应ID]
- **城市**: [城市]
- **州**: [州]
- **类别**: 外貌
- **主题**: 牛仔靴
- **图片**: [图片链接]

- **用户ID**: 103
- **情感**: 恨
- **主题ID**: 11
- **用户名**: jnettles
- **密码**: [加密]
- **加入日期**: [日期]
- **名字**: [名字]
- **姓氏**: [姓氏]
- **性别**: [性别]
- **出生日期**: [出生日期]
- **响应ID**: [响应ID]
- **城市**: [城市]
- **州**: [州]
- **类别**: 娱乐
- **主题**: 真人秀
- **图片**: [图片链接]

- **用户ID**: 104
- **情感**: 爱
- **主题ID**: 11
- **用户名**: jnettles
- **密码**: [加密]
- **加入日期**: [日期]
- **名字**: [名字]
- **姓氏**: [姓氏]
- **性别**: [性别]
- **出生日期**: [出生日期]
- **响应ID**: [响应ID]
- **城市**: [城市]
- **州**: [州]
- **类别**: 娱乐
- **主题**: 恐怖电影
- **图片**: [图片链接]

---

## Page 470
**Mismatch的最佳数据库模式**

Mismatch数据库需要存储用户对好恶主题的响应，以及主题名及其相应的类别。以下是将类别、主题和响应加入Mismatch数据库的三种不同数据库设计。请圈出并说明哪一个最合适。

**设计一**
- 将响应存储在单独的表中，与不受直接影响的其他数据分离。
- 新的`mismatch_topic`表存储了主题名及其相应类别。
- `mismatch_response`表通过`user_id`和`topic_id`列将用户和主题连接在一起。
- 优点：没有重复数据，用户、类别和主题都在`mismatch_response`表之外。

**设计二**
- 响应存储在用户表中。
- 缺点：类别和主题对每一个响应重复，导致大量冗余数据。

**设计三**
- 类别和主题分离到各自的表中。
- 缺点：必须为每一个响应创建一个用户行，导致数据膨胀。

---

## Page 472
**使用外键关联多个表**

将表连接在一起构成一个一体化数据系统，这需要使用键（key）。我们已经使用了主键（primary key）为表中的数据提供唯一的标识符，但现在还需要外键（foreign key）将一个表中的一行链接到另一个表中的一行。

**外键的作用**
- 外键是一个表中的一列，它引用另一个表的主键。
- 通过外键，可以建立两个表之间的联系，用于查询。

**Mismatch数据库模式**
- `mismatch_user`表：
  - `username`
  - `password`
  - `join_date`
  - `first_name`
  - `last_name`
  - `gender`
  - `birthdate`
  - `city`
  - `state`

- `mismatch_topic`表：
  - `topic_id` (主键)
  - `name`
  - `category`

- `mismatch_response`表：
  - `response_id` (主键)
  - `user_id` (外键，引用`mismatch_user`表)
  - `topic_id` (外键，引用`mismatch_topic`表)
  - `response`

如果没有外键，将很难将一个表中的数据与另一个表中的数据关联起来。