# 【技术分享】如何通过Facebook获取他人的私人手机号
##### 译文声明
本文为翻译文章，原文来源：hackernoon.com
原文地址：[链接]
译文仅供参考，具体内容及含义请以原文为准。
翻译：[WisFree](http://bobao.360.cn/member/contribute?uid=2606963099)
预估稿费：200 RMB
投稿方式：发送邮件至 [linwei#360.cn](mailto:PI:EMAIL)，或登录[网页版](http://bobao.360.cn/contribute/index)在线投稿

**前言**
上个月，我发现在Facebook上获取他人的私人电话号码非常简单。在研究过程中，我发现了一些比利时名人和政治家的电话号码。尽管这种方法似乎只适用于像比利时这样人口较少（约1120万人）的小国，但这也表明，这种简单高效的攻击手段仍可能使大量用户的隐私信息泄露。

注：如果你没时间阅读整篇文章，可以直接跳到文末的“常见问题解答”部分，那里或许有你想要的信息。

**验证发现的电话号码**
当我将这一发现告知Facebook安全团队时，他们的回复令人惊讶。根据Facebook的说法，他们并不认为这是一个安全问题。

当“谁可以通过我的电话号码找到我”设置为“公开”时，你的电话号码就会被公开。这里有几个问题：首先，该选项默认设置为“公开”；其次，即使你在个人资料中将电话号码设置为“仅对自己可见”，一旦将“谁可以通过我的电话号码找到我”设置为“公开”，你的个人资料中的“仅对自己可见”设置将失效。许多用户可能会误以为自己的电话号码是不可见的，但实际上并非如此。

这个设置仅决定你的电话号码是否出现在个人资料中，而与电话号码是否公开并无直接关系。如果设置为“所有人”（默认值），那么你的电话号码就会被公开。

“谁可以查找我”的设置说明意味着能够查找你的人已经知道你的电话号码，也就是说，他人可以根据你的电话号码查看你的Facebook个人资料，而这里并没有“仅对自己可见”的选项。

如果你的Facebook绑定了手机号码，那么无论你如何设置，你的“朋友”都可以看到你的号码。然而，当我向Facebook安全团队表达担忧时，他们依然不打算修复这个问题。虽然我不完全同意他们的观点，但我尊重他们的决定。因此，我决定发表这篇文章，因为用户有权了解一切。

很多用户甚至不知道Facebook拥有他们的电话号码。尽管Facebook不能直接从手机中提取电话号码，但它会不断提示用户绑定手机号，以便于登录和密码找回。我的一位同事得知此事后立即取消了Facebook的手机号绑定，但Facebook又让他重新绑定。

**实现方法**
这项技术需要使用Graph Search工具，这是Facebook在2013年初推出的一款社交搜索工具。当你在搜索框中输入一个电话号码时，就可以找到相应的用户。

这是我找到的一个比利时明星的电话号码：
![比利时明星的电话号码](图片链接)

逐一测试这些电话号码可能需要数月时间，且不现实。此外，Facebook对查询次数有限制，大约进行一千次查询后，功能会被暂时禁用。当然，你可以使用僵尸网络来验证Facebook账号，但Facebook也有相应的应对措施。

**第一步：最后两个数字（1分钟）**
为了快速测试数千个电话号码，我设计了一种方法。需要测试的号码位数越少，拿到完整号码的速度就越快。为了获取目标号码的最后两位，我可以使用Facebook的密码重置功能：

![内政部长的电话号码最后两位](图片链接)

**第二步：运营商号码（5-35分钟）**
例如，这个号码：04PPXXXX50（只有40万种可能的组合）。这是一个典型的比利时电话号码，其中X为0-9之间的任意数字，PP为运营商代码，最后两位5和0是我们在上一步得到的。

不同的移动电话运营商有不同的固定代码，例如0468、047、048和049。某些运营商代码使用频率较高，政府人员通常使用047号段，因为Proximus是政府的通信服务提供商。因此，我编写了一个程序来枚举所有可能的电话号码组合，比如从0479开始：

![生成所有可能的电话号码组合](图片链接)

然后将这个号码列表导入Facebook的“找朋友”功能中，此时我们找到了很多名叫“Jan”的人，但他们都不是我们要找的人。

![导入所有号码](图片链接)

尝试了0478号段后仍未找到目标，所以我换了一个账号，因为Facebook只允许一个账号在短时间内导入2万个电话号码。我登录另一个测试账号，选择0477号段：

![找到运营商号码](图片链接)

这一次，我们找到了运营商号码0477。现在的号码是：0477XXXX50，所以内政部长的电话号码就在这剩下的1万个号码中。

**第三步：缩小范围（10-15分钟）**
接下来的任务是完成一些简单的数学计算。我们只剩下1万个可能的电话号码需要处理，所以我们先测试其中的一半号码，以缩小目标所在范围。例如，我们先测试0477 0000 50 — 0477 5000 50。

![成功找到目标](图片链接)

看来我们选择的号码范围是正确的，这意味着目标号码的第五位数字只能是0、1、2、3或4，总共只剩下5000种可能（0000-5000）。接下来，我们将这5000个号码平分成两部分进行测试。先测试0477 0000 50 – 0477 2500 50。

![没有找到目标](图片链接)

目标号码不在0000-2500区间内，说明它在2500-5000区间内。我们还剩2500种可能，继续将剩下的号码平分成两部分，则剩下的待测号码个数即为1250、750、325、162和81个，最终我们只剩下40个号码。我们可以继续进行这样的测试，直到将范围缩小到5个以内。当然，如果只剩下50个号码，你也可以单独测试每个号码。

**第四步：最后的倒计时（1分钟）**
如果只剩下40个可能的电话号码，我们可以直接将它们输入搜索框中查看结果。

![手动查找](图片链接)

**后话**
我已经将此事告知了内政部长，他在声明中表示，他并不知道Facebook泄漏了他的电话号码，但他对此并不介意。

此外，我们还与当地一家电台合作，在直播中拨打了另一位比利时名人的电话，告诉他我在Facebook上找到了他的电话号码。我们聊得很愉快，随后他立即删除了Facebook上的电话号码。

**常见问题解答**

**1. 发生了什么？**
对于小国来说，通过Facebook查找目标用户的电话号码相对容易。无论“谁可以通过我的电话号码找到我”是否设置为“公开”，你的电话号码都会是公开的，默认设置就是“公开”。Facebook没有提供任何措施来防止电话号码泄露，仅仅将电话号码设置为“仅对自己可见”是无效的。

**2. 谁会受到影响？**
小型国家的Facebook用户，如果将电话号码添加到个人资料中且未修改默认设置，就会受到影响。如果你的电话号码少于十位数，并且运营商代码位数有限，这种方法就能成功。

**3. 如何得知Facebook是否有我的电话号码？**
点击[这里](https://www.facebook.com/settings?tab=mobile)查看。

**4. 我如何测试自己是否受影响？**
首先，确定Facebook是否知道你的电话号码，具体方法请参阅问题3。然后点击[这里](https://www.facebook.com/settings?tab=privacy)，检查“谁可以通过我的电话号码找到我”是否设置为“公开”。如果设置为“好友”，则只有好友可以通过电话号码查看你的个人资料，且没有“仅对自己可见”的选项。

**5. Facebook应该怎么做？**
许多用户不知道他们的电话号码会通过这种方式泄露，而这正是Facebook的默认行为，这也是最大的问题。如果Facebook在“谁可以通过我的电话号码找到我”设置中添加“仅对自己可见”选项，问题可能会减轻。此外，Facebook还可以在非常用设备登录时隐藏密码重置功能中的电话号码后两位，并限制用户在“找朋友”功能中可导入的号码数量。

**6. 我是否应该移除Facebook上的电话号码？**
这很尴尬，因为双因素身份验证功能需要电话号码，这是保护账户安全的一种绝佳方法。因此，建议将“谁可以通过我的电话号码找到我”设置为“仅对好友可见”。