### Properties of Orthonormality, Invertibility, and Separability

The properties of orthonormality, invertibility (i.e., the ability to exactly reconstruct the original function from its coefficients), and separability are essential in the context of wavelet transforms. 

### Illustrative Example: 1D and 2D Diffusion Wavelet Transform

Figure 3 provides a simple illustrative example on a 10-node graph. The 1D Diffusion Wavelet (DW) transform decomposes the graph spectrum into three subbands: W1, W2, and V2, with 2, 3, and 5 eigenvalues, respectively. The 2D DW transform, on the other hand, divides the graph spectrum into an approximation subband (V V2) and detail subbands (V W2, W V2, W W2, V W1, W V1, and W W1). Each subband includes a set of \( n \times m \) eigenvalues/eigenvectors.

**Figure 3:** Example of a decomposition generated by the 2D diffusion wavelet transform for \( J=2 \).

### Multi-Resolution Analysis (MRA) of Traffic Matrices

In our initial experiments with the 2D DW tool, we analyzed over 20,000 traffic matrices (TMs) from two datasets: Abilene and GEANT networks, with 12 and 23 Points of Presence (PoPs), respectively. The TMs were sampled at a granularity of 5 minutes for Abilene and 15 minutes for GEANT. For more details about the datasets, refer to [18].

We used the 2D Diffusion Wavelet transform with two primary objectives:
1. To visualize how the diffusion process affects a traffic matrix, thereby developing our intuition about the multi-resolution decomposition and verifying the invertibility and perfect reconstruction properties.
2. To assess the compressibility achieved with the 2D DW.

**Figure 4** shows the results obtained from the DW transform of a representative TM from Abilene (March 2nd, 2004, from 12:00 to 12:05). The graphs depict reconstructions of the TMs from the approximation coefficients (\( C_{V Vj} \)) and detail coefficients (\( C_{V Wj} \), \( C_{W Vj} \), and \( C_{W Wj} \)) at each scale \( j \). The analysis was performed using the unweighted and normalized random walk as the diffusion operator, with a precision of \( \epsilon = 10^{-7} \). Since no eigenvalues are discarded in the first and second detail subspaces, the associated approximation reconstructions are identical to the original traffic matrix and are not shown in the figure. The successive blurring effect of the diffusion operator in the approximations, along with the high-frequency components in the details, is clearly visible.

**Figure 4:** Approximations and details of the decomposition of the TM-2004-03-02-1200 Abilene TM.

### Compressibility of Traffic Matrices

To evaluate the compressibility of TMs, we conducted several tests on fortnight-long and month-long series from both datasets. The goal was to determine the extent to which the energy of the original matrices is compressed into a few coefficients. **Table 1** presents the results for two representative, month-long traces. The results obtained with other traces are consistent with those shown in the table, confirming the sparseness of the DW representation: on average, 15% of the coefficients retain more than 90% of the original TM energy.

**Figure 5** supports the results of this compressibility study by plotting the Mean Square Error (MSE) of the reconstructed TMs versus the percentage of coefficients used in the reconstruction. Despite the significant differences between Abilene and GEANT, the results are almost identical, illustrating how the DW can capture the structure of the TM independently of the actual network topology.

**Figure 5:** Mean normalized MSE vs. percentage of coefficients for two month-long TM traces.

| Trace under study | Energy preserved | Coefficients needed |
|-------------------|------------------|--------------------|
| Abilene June 04   | 80%              | 4 (2.8%)           |
|                   | 90%              | 24 (4.5%)          |
| GEANT March 05    | 80%              | 21 (14.6%)         |
|                   | 90%              | 75 (14.2%)         |

**Table 1:** Percentage of coefficients needed to preserve certain fractions of the original TM energy.

### Detection of Structural Changes

We found that there is a characteristic signature related to the rank of the coefficients (ordered by their contribution to the TM's total energy), which remains consistent over time, except when there is an anomaly in the TM series (e.g., a sudden change in traffic volume). **Figure 6** shows an example of such a feature. The figure displays the rank of the largest 20 coefficients of the 14-day long March 2004 Abilene trace. A change is clearly visible around the 3500th TM (in the first hours of March 14th), coinciding with a notable structural change in the original traffic matrices (a significant increase in traffic directed to Houston from many sources). This suggests that structural TM changes can be detected by monitoring a small number of coefficients, as long as they make up the bulk of the TM's total energy.

**Figure 6:** Coefficient signature of the month-long Abilene March 2004 trace.

### Conclusions

This paper presents a proof of concept, demonstrating that diffusion wavelets provide a sparse approximation of traffic matrices, making them a promising approach for modeling TMs. However, further work is needed to:
1. Transform the compressibility of the traffic matrix into a physical model.
2. Use this model to solve various tasks, including inference (exploiting dimensionality reduction), synthesis, prediction, and anomaly detection.
3. Investigate how the sparse DW model relates to other modeling efforts, such as the gravity model or PCA-based models.
4. Explore other diffusion operators (e.g., the weighted adjacency matrix case in the \( I - L \) operator).
5. Study how network topologies can be represented and analyzed using the MRA approach.

### Acknowledgments

This work was conducted while D. Rincón was visiting the University of Adelaide. D. Rincón was partially supported by UPC (Mobilitat 2007/08), the Spanish Government (TSI-2005-06092), and EuroNF (INFSO-ICT-216366). M. Roughan was supported in part by ARC grant DP0665427. The authors are grateful to Yin Zhang of the University of Texas for the Abilene data, and to S. Uhlig and the TOTEM project team [18] for the GEANT data. The authors also wish to thank the anonymous reviewers for their insightful comments and suggestions.

### References

[1] D. L. Alderson, H. Chang, M. Roughan, S. Uhlig, and W. Willinger. The many facets of Internet topology and traffic. Networks and Heterogeneous Media, 1(4):569–600, December 2006.

[2] J. Cao, D. Davis, S. V. Wiel, and B. Yu. Time-varying network tomography. Journal of the American Statistical Association, 95(452):1063–1075, 2000.

[3] F. Chung. Spectral Graph Theory (CBMS Regional Conference Series in Mathematics, No. 92). American Mathematical Society, February 1997.

[4] M. Coates, Y. Pointurier, and M. Rabbat. Compressed network monitoring for IP and all-optical networks. In Proceedings of ACM IMC 2007, pages 241–252, 2007.

[5] R. R. Coifman and M. Maggioni. Diffusion Wavelets. Applied and Computational Harmonic Analysis, 21(1):53–94, July 2006.

[6] M. Crovella and E. Kolaczyk. Graph wavelets for spatial traffic analysis. In Proceedings of IEEE Infocom, pages 1848–1857, Apr. 2003.

[7] J. C. Doyle, D. Alderson, L. Li, S. H. Low, M. Roughan, S. Shalunov, R. Tanaka, and W. Willinger. The “robust yet fragile” nature of the Internet. In Procs. of the Natl. Academy of Sciences, volume 102(40), pages 14123–14475, Oct. 2005.

[8] A. Feldmann, A. Greenberg, C. Lund, N. Reingold, J. Rexford, and F. True. Deriving traffic demands for operational IP networks: Methodology and experience. IEEE/ACM Transactions on Networking, pages 265–279, June 2001.

[9] B. Fortz, J. Rexford, and M. Thorup. Traffic engineering with traditional IP routing protocols. IEEE Comm. Magazine, 40(10):118–124, Oct. 2002.

[10] A. Lakhina, M. Crovella, and C. Diot. Diagnosing network-wide traffic anomalies. Computer Communication Review, 34(4):219–230, October 2004.

[11] A. Lakhina, K. Papagiannaki, M. Crovella, C. Diot, E. D. Kolaczyk, and N. Taft. Structural analysis of network traffic flows. SIGMETRICS Perf. Eval. Rev., 32(1):61–72, 2004.

[12] S. Mahadevan and M. Maggioni. Proto-value Functions: A Laplacian Framework for Learning Representation and Control in Markov Decision Processes. The Journal of Machine Learning Research, 8:2169–2231, 2007.

[13] S. Mallat. A Wavelet Tour of Signal Processing. Academic Press, 1999.

[14] A. Medina, N. Taft, K. Salamatian, S. Bhattacharyya, and C. Diot. Traffic matrix estimation: existing techniques and new directions. SIGCOMM Comput. Commun. Rev., 32(4):161–174, 2002.

[15] A. Nucci, A. Sridharan, and N. Taft. The problem of synthetically generating IP traffic matrices: Initial recommendations. SIGCOMM Comput. Commun. Rev., 35(3), 2005.

[16] M. Roughan, A. Greenberg, C. Kalmanek, M. Rumsewicz, J. Yates, and Y. Zhang. Experience in measuring Internet backbone traffic variability: Models, metrics, measurements and meaning. In Procs. of ITC-18, pages 379–388, Berlin, Germany, 2003.

[17] M. Roughan, M. Thorup, and Y. Zhang. Traffic engineering with estimated traffic matrices. In Proceedings of ACM IMC 2003, pages 248–258, 2003.

[18] S. Uhlig, B. Quoitin, J. Lepropre, and S. Balon. Providing public intradomain traffic matrices to the research community. SIGCOMM Computer Communication Review, 36(1):83–86, 2006.

[19] Y. Vardi. Network tomography: estimating source-destination traffic intensities from link data. J. of the Am. Statistical Association, 91:365–377, 1996.

[20] Y. Zhang, M. Roughan, N. Duffield, and A. Greenberg. Fast accurate computation of large-scale IP traffic matrices from link loads. In ACM SIGMETRICS, pages 206–217, San Diego, California, June 2003.

[21] Y. Zhang, M. Roughan, C. Lund, and D. Donoho. An information-theoretic approach to traffic matrix estimation. In ACM SIGCOMM, pages 301–312, August 2003.