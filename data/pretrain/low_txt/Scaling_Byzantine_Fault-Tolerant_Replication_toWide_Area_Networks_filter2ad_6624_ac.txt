### 图2：写入更新延迟

- **纵轴**（单位：秒）: 从0到1秒，每0.1秒为一个刻度。
- **横轴**（单位：客户端数量）: 从0到30个客户端，每5个客户端为一个刻度。

#### 数据点
- **Steward 10 Mbps**
- **Steward 5 Mbps**
- **Steward 2.5 Mbps**
- **BFT 10 Mbps**
- **BFT 5 Mbps**
- **BFT 2.5 Mbps**

### 图3：更新混合吞吐量 - 10个客户端

- **纵轴**（单位：次/秒）: 从0到1000次/秒，每200次/秒为一个刻度。
- **横轴**（单位：写入更新百分比）: 从0%到100%，每10%为一个刻度。

### 图4：更新混合延迟 - 10个客户端

- **纵轴**（单位：毫秒）: 从0到350毫秒，每50毫秒为一个刻度。
- **横轴**（单位：写入更新百分比）: 从0%到100%，每10%为一个刻度。

### 实验设置
我们模拟了一个跨越多个大陆的广域网。选择Planetlab网络上的五个站点，并测量了所有站点之间的延迟和可用带宽，然后在我们的集群上模拟了网络拓扑。由于Planetlab机器计算能力不足，我们在自己的集群上进行了实验。这五个站点分别位于美国（华盛顿大学）、巴西（里奥格兰德多苏尔）、瑞典（瑞典计算机科学研究所）、韩国（KAIST）和澳大利亚（莫纳什大学）。网络延迟范围从59毫秒（美国-韩国）到289毫秒（巴西-韩国），可用带宽范围从405 Kbps（巴西-韩国）到1.3 Mbps（美国-澳大利亚）。

### 图5：广域网模拟 - 写入更新吞吐量

- **纵轴**（单位：次/秒）: 从0到100次/秒，每10次/秒为一个刻度。
- **横轴**（单位：客户端数量）: 从0到30个客户端，每5个客户端为一个刻度。

随着系统中客户端数量的增加，图5显示了平均写入更新吞吐量。Steward在有27个客户端时达到最大吞吐量84次/秒。延迟从单个客户端的大约200毫秒增加到30个客户端的大约360毫秒。BFT由于带宽限制，最大吞吐量约为9次/秒。单个客户端的更新延迟为631毫秒，超过6个客户端后延迟会增加到几秒钟。

### 图6：广域网模拟 - 写入更新延迟

- **纵轴**（单位：毫秒）: 从0到2500毫秒，每500毫秒为一个刻度。
- **横轴**（单位：客户端数量）: 从0到30个客户端，每5个客户端为一个刻度。

### 与非拜占庭协议的比较
由于Steward在广域站点之间部署了轻量级容错协议，我们期望其性能可以与现有的良性容错复制协议相当。我们将分层拜占庭架构的性能与两阶段提交协议进行比较。在[16]中，我们使用美国境内的WAN设置CAIRN评估了两阶段提交协议[17]的性能。我们使用Spines消息系统模拟了CAIRN网络拓扑，并在其上运行了Steward和BFT。CAIRN拓扑的主要特点是东海岸和西海岸站点通过一条38毫秒、1.86 Mbps的单一链路连接。

### 图7和图8：CAIRN网络拓扑上的写入更新吞吐量和延迟

- **纵轴**（单位：次/秒）: 从0到100次/秒，每10次/秒为一个刻度。
- **横轴**（单位：客户端数量）: 从0到30个客户端，每5个客户端为一个刻度。

在测试中，Steward实现了大约51次/秒的吞吐量，主要受限于CAIRN东西海岸之间的链路带宽。相比之下，[16]中的两阶段提交协议的上限为76次/秒。我们认为性能差异是由于Steward消息头中额外的数字签名导致的，每个更新的有效载荷增加了128字节。BFT的最大吞吐量为2.7次/秒，更新延迟超过一秒，除非只有一个客户端。

### 参考文献
- [15] Planetlab网络
- [16] 两阶段提交协议的性能评估
- [17] 两阶段提交协议
- [18] CAIRN网络

### 会议信息
- 2006年国际依赖性系统和网络会议 (DSN’06)
- 0-7695-2607-1/06 $20.00 © 2006 IEEE
- 授权许可限于清华大学。下载时间：2021年3月20日UTC 12:11:28。来自IEEE Xplore。限制适用。