# Title: Characterizing Mobile Advertising: An In-Depth Analysis

# Authors:
- Narseo Vallina-Rodriguez (University of Cambridge)
- Jay Shah (University of Cambridge)
- Alessandro Finamore (Politecnico di Torino)
- Yan Grunenberger (Telefonica Research)
- Hamed Haddadi (Queen Mary University of London)
- Konstantina Papagiannaki (Telefonica Research)
- Jon Crowcroft (University of Cambridge)

# Contact Information:
- **Narseo Vallina-Rodriguez, Jay Shah, Jon Crowcroft**: [PI:EMAIL] (University of Cambridge)
- **Alessandro Finamore**: [PI:EMAIL] (Politecnico di Torino)
- **Yan Grunenberger, Konstantina Papagiannaki**: {yan, dina}@tid.es (Telefonica Research)
- **Hamed Haddadi**: [PI:EMAIL] (Queen Mary University of London)

## Abstract
Mobile phones and tablets have ushered in the post-PC era, driven by the widespread adoption of applications (apps) and app markets. A significant revenue model for free apps is mobile advertising. While previous research has focused on specific aspects like privacy or a small set of apps, this study provides a comprehensive analysis using a unique, anonymized dataset from a major European mobile carrier with over 3 million subscribers. We characterize mobile ad traffic across various dimensions, including overall traffic, frequency, and energy implications. Our findings reveal inefficiencies in current ad delivery systems and demonstrate the potential benefits of techniques such as pre-fetching and caching. A prototype implementation on Android devices shows a 50% reduction in energy consumption for offline ad-sponsored apps while minimizing ad-related traffic.

## Keywords
- Energy
- Advertisement
- Smartphones
- Traffic
- Cellular
- Caching

## Categories and Subject Descriptors
- D.4.8 [Performance]: Measurements

## Permission
Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. To copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior specific permission and/or a fee.

## IMC'12, November 14â€“16, 2012, Boston, Massachusetts, USA
Copyright 2012 ACM 978-1-4503-1705-4/12/11 ...$15.00.

## 1. Introduction
The success and widespread adoption of mobile application (app) markets, such as Apple's App Store and Google Play, have democratized revenues for developers. With 73% of apps in Google Play being free, it is expected that free apps attract more downloads than paid ones. Many free apps generate revenue through embedded advertisements, which can significantly impact both user experience and network performance. For instance, a recent study found that 65-75% of the energy consumed by the gaming app Angry Birds on Android devices is due to third-party advertising modules.

Previous research has focused on system design, energy, and privacy aspects of mobile advertising, but there is limited understanding of the ad delivery mechanisms in real mobile networks. This study aims to fill this gap by characterizing and quantifying ad traffic using a dataset covering one day of traffic for over 3 million subscribers of a major European mobile carrier.

## 2. Extracting Ad Traffic
The mobile ad ecosystem involves multiple players, including brands, ad agencies, ad networks, publishers, and users. Mediation services integrate several ad networks, allowing publishers to switch between them to maximize revenue. To understand ad traffic, we developed a methodology that includes inspecting Software Development Kits (SDKs) provided by ad networks, analyzing traffic generated by mobile apps, and extracting rules from web logs. Using a rule set of 122 rules, we classified traffic into ad networks, analytics, and mediation services, and studied their characteristics along various dimensions.

### 2.1 Understanding Ad Networks' SDKs
Ad networks provide SDKs to integrate ads into mobile apps, simplifying the process for developers. These SDKs allow developers to define the type of ads, delivery methods (push/pull), and refresh intervals. Common ad types include banners and interstitials. The protocols used for fetching and reporting are generally based on HTTP requests, with some variations among different ad networks.

### 2.2 Identification of Ad Traffic
We identified ad traffic by manually inspecting popular ad-based apps, capturing traces from app execution, and analyzing a large dataset of HTTP transactions. This approach helped us derive a comprehensive set of rules to classify ad traffic accurately. The resulting dictionary is publicly available.

## 3. Ad Traffic Characterization
Using a dataset of 1.7 billion traffic connections (22TB of volume) from over 3 million subscribers, we characterized ad traffic along five main axes: overall volume, main actors, type of ad content, generating apps, and ad frequency.

### 3.1 Ad Volume
Figure 3 shows the Complementary Cumulative Distribution Function (CCDF) of the ad traffic volume. While 50% of devices download only 31 kB per day, the distribution has long tails, with some users consuming up to 1.35 GB. Figure 4 reports the Cumulative Distribution Function (CDF) of the ratio between ad traffic and total traffic, showing that ad traffic is a significant component, especially for Android users.

### 3.2 Main Actors
Table 4 summarizes the percentage of users, flows, and bytes for ad networks, analytics services, and mediation services across different device types. Ad networks deliver over 90% of the volume, with notable contributions from analytics and mediation services.

## Conclusion
Our analysis reveals several inefficiencies in current ad delivery systems, particularly in terms of energy and network signaling overhead. Techniques like pre-fetching and caching can significantly improve the efficiency of ad delivery. Our prototype, AdCache, demonstrates a 50% reduction in energy consumption for offline ad-sponsored apps, highlighting the potential for more spectrum-aware and energy-aware ad delivery.

## References
- [1] Leontiadis et al., "Understanding the Mobile Ad Ecosystem," Proceedings of the 13th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, 2007.
- [2] Qian et al., "Energy Consumption of Third-Party Ads in Mobile Apps," Proceedings of the 10th International Conference on Mobile Systems, Applications, and Services, 2012.
- [3] Chen et al., "System Design for Mobile Advertising," IEEE Transactions on Mobile Computing, 2011.
- [4] Zhang et al., "Energy-Efficient Mobile Advertising," IEEE Transactions on Mobile Computing, 2012.
- [5] Acar et al., "Privacy Concerns in Mobile Advertising," Proceedings of the 2010 ACM SIGSAC Workshop on Privacy in the Electronic Society, 2010.
- [6] Nikiforakis et al., "Privacy in Mobile Advertising," Proceedings of the 2011 ACM SIGSAC Workshop on Privacy in the Electronic Society, 2011.
- [7] Publicly Available Rule Set: [URL]

---

This revised version aims to be more coherent, professional, and clear, with improved structure and flow.