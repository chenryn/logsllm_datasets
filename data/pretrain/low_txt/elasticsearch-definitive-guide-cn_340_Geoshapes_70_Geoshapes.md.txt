## 地理形状

地理形状（geo-shapes）采用了一种与地理坐标点完全不同的方法。例如，在计算机屏幕上看到的圆形实际上并不是由完美的连续线条组成的，而是通过一系列连续的像素点近似描绘而成的。地理形状的工作原理与此类似。

复杂的形状，如点集、线段、多边形、多重多边形和中空多边形等，都是通过一个个 geohash 单元来绘制的。这些形状会被转换为一个被其覆盖到的 geohash 集合。

> 注意
>
> 实际上，有两种类型的网格模式可以用于地理形状：
>
> - 默认使用我们之前讨论过的 geohash。
> - 另一种是象限四叉树（quad trees）。象限四叉树与 geohash 类似，但每个层级只有 4 个单元（而 geohash 有 32 个）。这种差异取决于编码方式的选择。

组成一个形状的所有 geohash 单元作为一个组进行索引。有了这些信息，通过检查是否有相同的 geohash 单元，就可以轻松地判断两个形状是否相交。

地理形状的主要用途之一是确定查询形状与索引形状之间的关系。这些关系包括：

- `intersects`：查询形状与索引形状有重叠（默认）。
- `disjoint`：查询形状与索引形状完全不重叠。
- `within`：索引形状完全被包含在查询形状中。

> 注意
>
> 地理形状不能用于计算距离、排序、评分或聚合操作。