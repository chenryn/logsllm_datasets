### 3.2 The Cause of High Latency: Circuitous Paths

A circuitous path is defined as one that traverses a geographic location far from the geographically shortest path between two endpoints. There are two primary reasons for such paths:

1. **Absence of Local Internet Exchange Points (IXPs):** The Autonomous Systems (ASes) providing connectivity along the Internet path between two endpoints may not be physically present at a local IXP near the geographically shortest path.
2. **Lack of Business Relationships or Route Preferences:** Even if ASes are present at a geographically proximal IXP, they may not have business relationships with each other or may not prefer that route.

The presence of a local IXP facilitates local peering between multiple ISPs and helps to keep local traffic within the region. However, the existence of a local IXP alone does not guarantee low-latency paths; local ISPs must also choose to connect at these IXPs. For instance, Liquid Telecom (AS 30844) connects at JINX and has a presence in Nairobi [8], but it does not peer at KIXP. Consequently, users in South Africa must reach many Kenyan networks via LINX in London, significantly increasing the latency of these paths.

**Observation:** Local IXPs are often not present on local Internet paths. We analyzed traceroutes between BISmark routers in South Africa and Measurement Lab server locations in Tunisia, Kenya, and South Africa to quantify the prevalence of different IXPs along Internet paths within Africa. We confirmed that the routers at the IXPs responded to our traceroute probes, which we used to identify the presence of an IXP on a particular path. We define IXP prevalence as the pervasiveness of an IXP for various routing paths between two end hosts. For a pair of end hosts with \( N \) observed routing paths, the IXP prevalence for the IXP \( I \), \( P_I \), is defined as:
\[ P_I = \sum_{i=1}^{N} x_i P_i, \quad \forall x_i \in \{0, 1\}, \]
where \( P_i \) is the prevalence of the \( i \)-th routing path and \( x_i = 1 \) indicates that IXP \( I \) is present for this route.

Local IXPs in South Africa help to keep local traffic within the country. In contrast, local IXPs are much less prevalent along paths between South Africa and other African countries. Figure 4 illustrates the distribution of IXP prevalence for paths between BISmark routers in South Africa and the three Measurement Lab locations in Africa. Figure 4a shows the IXP prevalence distribution for the Johannesburg M-Lab server, where most BISmark routers are located in South Africa, and most traffic to Johannesburg traverses IXPs in Johannesburg (JINX) and Cape Town (CINX). Figure 4b, however, reveals a different scenario for paths between BISmark routers in South Africa and the M-Lab server in Nairobi, showing a lack of peering at local IXPs and no private peering. Interestingly, KIXP is not prevalent for these paths. Figure 4c shows that paths to the M-Lab server in Tunis do not traverse local IXPs in either Tunisia or South Africa.

**Cause #1: ISPs Do Not Connect to Local IXPs.** Sometimes, local ISPs do not connect to the local IXP at all. For example, Liquid Telecom (AS 30844) connects at JINX and has a fiber presence in Nairobi [8], but it does not peer at KIXP, causing users in South Africa to take circuitous paths to destinations in Kenya. ISPs in Africa often prefer to interconnect at European exchange points like LINX due to economies of scale. Most ISPs they need to peer with are present at LINX, not at local exchanges, making connectivity at LINX a requirement. Since African ISPs typically connect at LINX, connecting at local IXPs represents an additional cost with limited benefits. Furthermore, the absence of IP traffic between African countries, such as between South Africa and Kenya, reduces the incentive for ISPs to connect locally. Deploying a cache server in one country to serve users in another might increase local traffic, but such a scenario introduces a catch-22: A service provider like Google cannot improve performance for South African users by deploying a cache server in Kenya (or vice versa) until local interconnectivity improves.

**Cause #2: ISPs Are Present at the Local IXP but Do Not Peer.** In other cases, ISPs may be present at the same local IXP but choose not to peer with one another. To study this, we analyzed the peering matrices of several IXPs, which show the IXP participants that peer with one another. We constructed peering matrices for major IXPs in South Africa and Kenya (JINX and KIXP, respectively) using methods from previous work [2, 7]. We used both PeeringDB and the websites of each IXP to enumerate the IXP participants. We then analyzed BGP routing tables to infer peering relationships at each IXP.

Figure 5 shows the peering matrices for JINX and KIXP. We mapped 51 and 27 ASes for JINX and KIXP, respectively, but the figure includes only the ASes for which we could confirm at least one peering link (30 ASes at JINX and 22 ASes at KIXP). Figure 5 assumes that if we observe a peering in any path between local ASes, the peering exists at the local IXP, even if we do not always directly observe the peering at the IXP itself. Our data sometimes prevents us from verifying the precise location of the peering link. When using BGP AS paths, we can only observe the existence of peering, not its location. In the case of our traceroute measurements, occasionally, we see direct peering without address space from the IXP, but this does not mean peering at the IXP does not exist. Peering may exist at the IXP but be numbered from one of the peer AS’s address ranges, or the path through the IXP may be less preferred than another local private peering. We assumed that a relationship between two local ASes implies a peering relationship at the corresponding local IXP. Note that inferring peering links at an IXP is a challenging problem [2], and even after combining multiple data sources, we were not able to infer all the peering links at these IXPs.

Figure 5 suggests that the peering matrices at each of these IXPs may be sparse. Even when local ISPs are present at an IXP, they do not always peer with one another. When local ISPs do not peer with one another at these exchanges, paths between the local ISPs may be circuitous. Specific examples at KIXP are telling: AS 36914 (KENET) is present at KIXP but only peers with Ubuntunet and Jamii Telecom. Thus, most paths between KENET and South Africa take a circuitous path through LINX, even though several transit providers at KIXP have direct peering relationships with providers in South Africa (e.g., AS 12556, Internet Solutions, and AS 16637, MTN, are both present at KIXP but do not peer with KENET).

### 4 Reducing Latencies to Popular Internet Sites and Services

We now evaluate the expected performance improvements that clients in Africa would experience as a result of increased peering at major local ISPs. We also assess the relative benefits of adding links versus deploying additional local cache nodes for improving the performance of distributed services using the recent Google cache expansion.

**4.1 Add More Peering Links**

We quantify the performance benefits of increasing peering at local IXPs to avoid circuitous routes between local ASes. We assume that any circuitous path to Europe could be avoided if the path includes two ASes in Africa that are both present at either JINX or KIXP. In these cases, we replace the delay associated with traversing a path through Europe with the propagation delay between JINX and KIXP, which is about 30 milliseconds. Figure 6a shows the distribution of existing latencies between South Africa and KIXP, and how that distribution would change if these circuitous paths could be avoided. Adding peering links between the ASes already present at these local exchanges can significantly improve performance.

**4.2 Add More Local Caches**

Figure 6b shows the median latencies (from measurements issued every ten minutes over three days) from BISmark routers in South Africa to two Google cache nodes, one in Kenya hosted by a peer of Internet Solutions, and one in Uganda hosted by MTN. Routers in an AS that hosts a cache node or in an AS that peers with an AS hosting a cache node see low latency. On the other hand, routers that are geographically nearby but not in the AS or one of its peers see significantly higher latencies (typically more than 300 ms round-trip times). We expect that clients in a customer of an AS hosting a cache node would also see low latencies, but we lack such a vantage point.

This result demonstrates that Internet services like Google can achieve significantly better performance by placing caches to serve local users in the caches’ customer cones (or, in some cases, in their peers), even if the clients are in a different country from the caches. Performance from BISmark nodes that are geographically nearby but lack direct paths typically leave the continent and must traverse exchange points in Europe (e.g., LINX). Even when direct paths do exist, the performance benefits may depend on cache placement, as caches typically serve only over customer links and not to providers and peers. Thus, in the absence of adequate interconnectivity, adding cache servers may not improve latency performance for local users who are outside the customer cone of any Google cache. If, on the other hand, a service provider adds caches and peers with local ISPs, latencies for local users can improve significantly, even if the service provider places only a single cache in a local ISP. Figure 6c shows the effects of adding additional Google cache nodes in Kenya (which we simulated by taking the minimum latency between a client among \( k \) Google cache nodes in Kenya), with and without additional local peering links. This result suggests that content providers should encourage local ISPs to connect at local exchanges, which might ultimately reduce the number of cache server deployments required to achieve a particular level of service.

### 5 Related Work

A recent study on "boomerang routing" [5] observed that many paths between ISPs in Canada take indirect paths through the United States. We observe similar phenomena for Internet paths in Africa, with the exception that the boomerang is to Europe, and the concern is performance rather than security. Other recent work has studied the internal anatomy and interconnectivity of IXPs [1, 2] but does not focus on performance or connectivity in Africa. Other work has highlighted the importance of Internet exchange points for the development of Internet connectivity [4]. Policy work has emphasized the importance of self-organization to improve the efficiency of peering at IXPs in developing-world contexts [10], a behavior that we believe will become increasingly important as peering and interconnection increase in Africa in the coming years.

### 6 Conclusion

We have taken an initial look at Internet paths between locations in Africa, focusing on paths between South Africa, Kenya, and Tunisia. Although this study does not represent connectivity across the entire continent, it highlights specific phenomena that deserve attention and further study. First, a significant fraction of local Internet paths in Africa detour through Europe, resulting in latency penalties of several hundred milliseconds. For example, 66.8% of paths between BISmark routers and Google cache servers in Africa leave the continent. (Latency penalties to other global regions such as South America are also high.) Second, we find that local ISPs are often either (1) not present at the local exchanges, or (2) do not peer with one another at the local exchanges.

ISPs may or may not connect at specific IXPs or peer with one another at a given local IXP for many reasons. These reasons may be economic and political as much as technical, and this issue deserves further study. In contrast to ISPs in developed regions, ISPs in Africa must attain "backhaul" connectivity to large, distant IXPs in Europe, where they can achieve economies of scale with connectivity to other ISPs. Once an ISP connects to Internet destinations via Europe, it has less incentive to connect to local IXPs, which impose additional costs but no significant gains, particularly for ISPs where much traffic is remote. Some disincentives for local peering may relate to the absence of large volumes of traffic between local ISPs. However, we expect that the continued expansion of cache nodes into these regions (e.g., from Google) may change this dynamic. In turn, the deployment of any single cache node may garner much more significant performance benefits in the presence of richer local peering arrangements. As more cache nodes are deployed and more traffic remains local, the peering ecosystem may rapidly evolve to include more local peering links.

**Acknowledgments:** This work was partially supported by NSF Awards CNS-1059350 and CNS-1162088, and a Google Focused Research Award.

**References:**

1. Ager, B., Chatzis, N., Feldmann, A., Sarrar, N., Uhlig, S., Willinger, W.: Anatomy of a Large European IXP. In: Proc. ACM SIGCOMM (2012)
2. Augustin, B., Krishnamurthy, B., Willinger, W.: IXPs: Mapped? In: Proceedings of the 9th ACM SIGCOMM Internet Measurement Conference, IMC 2009, pp. 336–349. ACM, New York (2009)
3. Calder, M., Fan, X., Hu, Z., Katz-Bassett, E., Heidemann, J., Govindan, R.: Mapping the Expansion of Google’s Serving Infrastructure. In: Proceedings of the ACM Internet Measurement Conference, IMC 2013 (October 2013)
4. Chatzis, N., Smaragdakis, G., Feldmann, A.: On the Importance of Internet eXchange Points for Today’s Internet Ecosystem. CoRR, abs/1307.5264 (2013)
5. Clement, A., Obar, J.: Internet Boomerang Routing: Surveillance, Privacy, and Network Sovereignty in a North American Context (2013)
6. Github: Peering-Africa, https://github.com/agupta13/Peering-Africa
7. He, Y., Siganos, G., Faloutsos, M., Krishnamurthy, S.: Lord of the Links: A Framework for Discovering Missing Links in the Internet Topology. IEEE/ACM Trans. Netw. 17(2), 391–404 (2009)
8. Liquid Telecom Fiber, http://www.liquidtelecom.com/fibre/fibre-map
9. Sundaresan, S., de Donato, W., Feamster, N., Teixeira, R., Crawford, S., Pescapè, A.: Measuring Home Broadband Performance. Commun. ACM 55(11), 100–109 (2012)
10. Weller, D., Woodcock, B.: Internet Traffic Exchange: Market Developments and Policy Challenges. Technical report. OECD Publishing (2012)