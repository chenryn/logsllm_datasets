### 用户-内核介绍

以下是关于用户态与内核态之间交互的一些关键概念：

- **默认行为**：在常规设置下，用户态程序无法直接访问或修改内核态的数据及执行内核代码。这是为了保护操作系统免受恶意软件或其他形式的非法访问。
- **SMEP (Supervisor Mode Execution Protection)**：此机制防止了即使是在监督模式（即内核模式）下的代码尝试去执行位于用户空间中的指令。通过启用SMEP, 可以增强系统的安全性，阻止潜在的安全威胁利用内核漏洞来运行非授权代码。
- **SMAP (Supervisor Mode Access Prevention)**：类似于SMEP, 但其目的是阻止内核直接读取或写入用户空间内存区域。当SMAP被激活时，任何试图从内核态访问用户空间地址的操作都将触发异常，除非该访问是经过特别允许的。
- **KPTI (Kernel Page Table Isolation)**：这是一种旨在减轻特定类型攻击（如Meltdown漏洞）影响的技术。它通过创建两套独立的页表——一套用于用户空间进程，另一套专供内核使用——来实现隔离。这样，在用户态运行的应用程序就无法轻易地窥探到内核内存布局，同时也能模拟出一种环境，使得内核看起来好像不能执行来自用户空间的代码一样。

以上措施共同作用于提高系统整体的安全性和稳定性。