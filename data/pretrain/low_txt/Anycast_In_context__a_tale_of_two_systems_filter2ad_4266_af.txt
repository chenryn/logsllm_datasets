### References

1. **Marwan Fayed, Lorenz Bauer, Vasileios Giotsas, Sami Kerola, Marek Majkowski, Pavel Odinstov, Jakub Sitnicki, Taejoong Chung, Dave Levin, Alan Mislove, Christopher A. Wood, and Nick Sullivan. 2021. The Ties that Unbind: Decoupling IP from Web Services and Sockets for Robust Addressing Agility at CDN-Scale. In Proceedings of the 2021 ACM SIGCOMM Conference (Online). ACM.**

2. **Hongyu Gao, Vinod Yegneswaran, Jian Jiang, Yan Chen, Phillip Porras, Shalini Ghosh, and Haixin Duan. 2014. Reexamining DNS from a Global Recursive Resolver Perspective. IEEE/ACM Transactions on Networking (Oct. 2014).**

3. **Manaf Gharaibeh, Han Zhang, Christos Papadopoulos, and John Heidemann. 2016. Assessing Co-locality of IP Blocks. In Proceedings of the 19th IEEE Global Internet Symposium (San Francisco, CA, USA). IEEE.**

4. **Danilo Giordano, Danilo Cicalese, Alessandro Finamore, Marco Mellia, Maurizio Munafò, Diana Zeaiter Joumblatt, and Dario Rossi. 2016. A First Characterization of Anycast Traffic from Passive Traces. In Network Traffic Measurement and Analysis Conference (TMA) (Louvain la Neuve, Belgium). IFIP/ACM.**

5. **Google. 2020. Google Public DNS. developers.google.com/speed/public-dns**

6. **Google. 2021. Cloud Load Balancing. cloud.google.com/load-balancing**

7. **GTmetrix. 2019. The Top 1,000 Sites on the Internet. gtmetrix.com/top1000.html**

8. **Wes Hardaker. 2020. What’s in a Name? blog.apnic.net/2020/04/13/whats-in-a-name**

9. **John Heidemann, Katia Obraczka, and Joe Touch. 1997. Modeling the Performance of HTTP Over Several Transport Protocols. ACM/IEEE Transactions on Networking (Oct. 1997).**

10. **Chi-Yao Hong, Srikanth Kandula, Ratul Mahajan, Ming Zhang, Vijay Gill, Mohan Nanduri, and Roger Wattenhofer. 2013. Achieving High Utilization with Software-Driven WAN. In Proceedings of the 2013 ACM SIGCOMM Conference (Hong Kong). ACM.**

11. **Geoff Huston. 2014. How Big is that Network? labs.apnic.net/?p=526**

12. **IANA. 2020. IANA IPv4 Special-Purpose Address Registry. iana.org/assignments/iana-ipv4-special-registry/iana-ipv4-special-registry.xhtml**

13. **IANA. 2020. Root Servers. root-servers.org**

14. **ICANN. 2020. Packet Clearing House. icannwiki.org/Packet_Clearing_House**

15. **MaxMind Inc. 2020. IP Geolocation. maxmind.com/en/geoip2-databases**

16. **Sushant Jain, Alok Kumar, Subhasree Mandal, Joon Ong, Leon Poutievski, Arjun Singh, Subbaiah Venkata, Jim Wanderer, Junlan Zhou, and Min Zhu. 2013. B4: Experience with a Globally-Deployed Software Defined WAN. In Proceedings of the 2013 ACM SIGCOMM Conference (Hong Kong). ACM.**

17. **Yuchen Jin, Sundararajan Renganathan, Ganesh Ananthanarayanan, Junchen Jiang, Venkata N Padmanabhan, Manuel Schroder, Matt Calder, and Arvind Krishnamurthy. 2019. Zooming in on Wide-Area Latencies to a Global Cloud Provider. In Proceedings of the 2019 ACM SIGCOMM Conference. ACM.**

18. **Jaeyeon Jung, Emil Sit, Hari Balakrishnan, and Robert Morris. 2002. DNS Performance and the Effectiveness of Caching. IEEE/ACM Transactions on Networking (Feb. 2002).**

19. **Dina Katabi and John Wroclawski. 2000. A Framework for Global IP-Anycast (GIA). In Proceedings of the 2000 ACM SIGCOMM Conference (Stockholm, Sweden). ACM.**

20. **Ethan Katz-Bassett, John P. John, Arvind Krishnamurthy, David Wetherall, Thomas Anderson, and Yatin Chawathe. 2006. Towards IP Geolocation Using Delay and Topology Measurements. In Proceedings of the 2006 Internet Measurement Conference (IMC) (Rio de Janeiro, Brazil). ACM.**

21. **Rupa Krishnan, Harsha V. Madhyastha, Sridhar Srinivasan, Sushant Jain, Arvind Krishnamurthy, Thomas Anderson, and Jie Gao. 2009. Moving Beyond End-to-End Path Information to Optimize CDN Performance. In Proceedings of the 2009 Internet Measurement Conference (IMC) (Chicago, IL, USA). ACM.**

22. **W. Kumari and P. Hoffman. 2020. Running a Root Server Local to a Resolver. Technical Report 8806. Internet Request For Comments. www.rfc-editor.org/rfc/rfc8806.txt**

23. **Matthew Lentz, Dave Levin, Jason Castonguay, Neil Spring, and Bobby Bhattacharjee. 2013. D-mystifying the D-root Address Change. In Proceedings of the 2013 Internet Measurement Conference (IMC) (Barcelona, Spain). ACM.**

24. **Zhihao Li. 2019. Diagnosing and Improving the Performance of Internet Anycast. Ph.D. Dissertation. University of Maryland, College Park.**

25. **Zhihao Li, Dave Levin, Neil Spring, and Bobby Bhattacharjee. 2018. Internet Anycast: Performance, Problems, & Potential. In Proceedings of the 2018 ACM SIGCOMM Conference (Budapest, Hungary). ACM.**

26. **Jinjin Liang, Jian Jiang, Haixin Duan, Kang Li, and Jianping Wu. 2013. Measuring Query Latency of Top Level DNS Servers. In International Conference on Passive and Active Network Measurement (PAM) (Hong Kong). Springer.**

27. **Zhuoqing Morley Mao, Charles Cranor, Fred Douglis, Michael Rabinovich, Oliver Spatscheck, and Jia Wang. 2002. A Precise and Efficient Evaluation of the Proximity Between Web Clients and their Local DNS Servers. In USENIX Annual Technical Conference (Monterey, CA, USA). USENIX.**

28. **Stephen McQuistin, Sree Priyanka Uppu, and Marcel Flores. 2019. Taming Anycast in the Wild Internet. In Proceedings of the 2019 Internet Measurement Conference (IMC) (Amsterdam, Netherlands). ACM.**

29. **Christopher Metz. 2002. IP Anycast Point-To-(Any) Point Communication. IEEE Internet Computing (Aug. 2002).**

30. **P. Mockapetris. 1987. Domain Names - Implementation and Specification. ietf.org/rfc/rfc1035.txt**

31. **Giovane C. M. Moura, John Heidemann, Wes Hardaker, Jeroen Bulten, Joao Ceron, and Cristian Hesselman. 2020. Old But Gold: Prospecting TCP to Engineer DNS Anycast (extended). ISI-TR-740, USC/Information Sciences Institute, Tech. Report (2020).**

32. **Giovane C. M. Moura, Ricardo de Oliveira Schmidt, John Heidemann, Wouter B. de Vries, Moritz Muller, Lan Wei, and Cristian Hesselman. 2016. Anycast vs. DDoS: Evaluating the November 2015 Root DNS Event. In Proceedings of the 2016 Internet Measurement Conference (IMC) (Santa Monica, CA, USA). ACM.**

33. **Mozilla. 2020. Window: Load Event. developer.mozilla.org/en-US/docs/Web/API/Window/load_event**

34. **Moritz Müller, Giovane C. M. Moura, Ricardo de Oliveira Schmidt, and John Heidemann. 2017. Recursives in the Wild: Engineering Authoritative DNS Servers. In Proceedings of the 2017 Internet Measurement Conference (IMC) (London, United Kingdom). ACM.**

35. **RIPE NCC. 2006. Evaluating The Effects Of Anycast On DNS Root Nameservers. ripe.net/publications/docs/ripe-393#efficiency**

36. **RIPE NCC. 2018. Hosting a K-root Node. ripe.net/analyse/dns/k-root/hosting-a-k-root-node**

37. **OpenDNS. 2020. Data Center Locations. opendns.com/data-center-locations/**

38. **Craig Partridge, Trevor Mendez, and Walter Milliken. 1993. Host Anycasting Service. tools.ietf.org/html/rfc1546**

39. **Matthew Prince. 2013. Load Balancing without Load Balancers. blog.cloudflare.com/cloudflares-architecture-eliminating-single-p/**

40. **Jan Rüth, Christian Bormann, and Oliver Hohlfeld. 2017. Large-Scale Scanning of TCP’s Initial Window. In Proceedings of the 2017 Internet Measurement Conference (IMC) (London, United Kingdom). ACM.**

41. **Sandeep Sarat, Vasileios Pappas, and Andreas Terzis. 2006. On the Use of Anycast in DNS. In Proceedings of the ACM SIGMETRICS Conference (Banff, Canada). ACM.**

42. **Brandon Schlinker, Hyojeong Kim, Timothy Cui, Ethan Katz-Bassett, Harsha V. Madhyastha, Italo Cunha, James Quinn, Saif Hasan, Petr Lapukhov, and Hongyi Zeng. 2017. Engineering Egress with Edge Fabric: Steering Oceans of Content to the World. In Proceedings of the 2017 ACM SIGCOMM Conference (Los Angeles, CA, USA). ACM.**

43. **Ricardo de Oliveira Schmidt, John Heidemann, and Jan Harm Kuipers. 2017. Anycast Latency: How Many Sites Are Enough? In International Conference on Passive and Active Network Measurement (PAM) (Sydney, Australia). Springer.**

44. **Neil Spring, Ratul Mahajan, and Thomas Anderson. 2003. The Causes of Path Inflation. In Proceedings of the 2003 conference on Applications, technologies, architectures, and protocols for computer communications (Karlsruhe, Germany). ACM.**

45. **RIPE NCC Staff. 2015. RIPE Atlas: A Global Internet Measurement Network. Internet Protocol Journal (2015).**

46. **Srikanth Sundaresan, Nazanin Magharei, Nick Feamster, Renata Teixeira, and Sam Crawford. 2013. Web Performance Bottlenecks in Broadband Access Networks. In Proceedings of the ACM SIGMETRICS Conference (Pittsburgh, PA, USA). ACM.**

47. **Matthew Thomas. 2020. Chromium’s Impact on Root DNS Traffic. blog.apnic.net/2020/08/21/chromiums-impact-on-root-dns-traffic**

48. **Verisign. 2021. FAQ on RIRS Node Hosting. verisign.com/en_US/domain-names/internet-resolution/node-hosting/index.xhtml**

49. **Verizon. 2020. verizondigitalmedia.com/media-platform/delivery/network/**

50. **Lan Wei, Marcel Flores, Harkeerat Bedi, and John Heidemann. 2020. Bidirectional Anycast/Unicast Probing (BAUP): Optimizing CDN Anycast. In Network Operations and Management Symposium (Online). IEEE/IFIP.**

51. **Lan Wei and John Heidemann. 2017. Does Anycast Hang Up on You? In Network Traffic Measurement and Analysis Conference (TMA) (Dublin, Ireland). IFIP/ACM.**

52. **Florian Wohlfart, Nikolaos Chatzis, Caglar Dabanoglu, Georg Carle, and Walter Willinger. 2018. Leveraging Interconnections for Performance: The Serving Infrastructure of a Large CDN. In Proceedings of the 2018 ACM SIGCOMM Conference (Budapest, Hungary). ACM.**

53. **Young Xu. 2017. 2017 Update: Comparing Root Server Performance Globally. thousandeyes.com/blog/2017-update-comparing-root-server-performance-globally/**

54. **Kok-Kiong Yap, Murtaza Motiwala, Jeremy Rahe, Steve Padgett, Matthew Holliman, Gary Baldus, Marcus Hines, Taeeun Kim, Ashok Narayanan, Ankur Jain, et al. 2017. Taking the Edge off with Espresso: Scale, Reliability and Programmability for Global Internet Peering. In Proceedings of the 2017 ACM SIGCOMM Conference (Los Angeles, CA, USA). ACM.**

55. **Yingdi Yu, Duane Wessels, Matt Larson, and Lixia Zhang. 2012. Authority Server Selection in DNS Caching Resolvers. ACM SIGCOMM Computer Communication Review (April 2012).**

56. **Yaping Zhu, Benjamin Helsley, Jennifer Rexford, Aspi Siganporia, and Sridhar Srinivasan. 2012. LatLong: Diagnosing Wide-Area Latency Changes for CDNs. IEEE Transactions on Network and Service Management (2012).**

### B.2 Representativeness of Daily Root Latency Analysis

In Section 4, we estimate the number of queries users experience due to the root DNS by amortizing queries over user populations. To obtain estimates of user populations, we use counts of Microsoft users who use recursive resolvers (§2.1). Naturally, the recursive resolvers used by Microsoft users and those seen in DITL do not overlap perfectly.

**Figure 8: Daily Queries by Users to the Root DNS**
- **Description**: This figure shows the daily user latencies due to root DNS resolution when including and excluding requests for invalid TLDs and PTR records.
- **Key Findings**:
  - When including invalid TLD queries, the median number of queries per user per day increases to 22 (CDN) or 6 (APNIC), depending on the user data source.
  - Excluding these queries, the median number of queries per user per day is significantly lower, about 20 times less.
  - The inclusion of invalid TLD queries shifts the graph to the right, indicating a higher number of queries per user, but this does not necessarily change our qualitative conclusions about user interaction with the root DNS.

### B. Quantifying the Impact of Methodological Decisions

When analyzing latency and inflation, we often make assumptions or choose to conduct analysis in a certain way. In what follows, we justify our various assumptions and pre-processing steps, and analyze the effects of these assumptions on our results.

#### B.1 Effect of Removing Invalid TLD Queries

In Section 4, we estimate the number of queries users experience due to the root DNS by amortizing queries over user populations. Out of 51.9 billion daily requests to all roots, we observe 31 billion daily requests for bogus domain names and 2 billion daily requests for PTR records. We choose not to count these towards user query counts because we believe many of these queries do not lie on the critical path of user applications and thus do not cause user-facing latency.

- **Impact**:
  - Including invalid TLD queries drastically increases the median daily query counts to 22 (CDN) or 6 (APNIC).
  - This 20-fold increase (for CDN) or 6-fold increase (for APNIC) is surprising given that we only roughly double the amount of queries by including invalid queries.
  - The majority of invalid queries are generated by /24 subnets with a large number of users, shifting the graph far to the right.
  - While the quantitative conclusions change, the qualitative conclusion that users interact with the root DNS relatively infrequently (20 queries a day to the roots is still small) remains valid.

### A. Summary of Data

We use a variety of datasets in our work, each with its own strengths and weaknesses. This approach allows us to overcome the limitations of individual datasets by combining multiple views with different trade-offs. To aid in comprehensibility, we summarize each of our datasets in Table 2 and Table 3.

**Example of Multiple Views with Different Trade-offs:**
- **DITL Packet Traces**:
  - Contains 51.9 billion queries across 50,000 ASes.
  - Allows us to see, globally, how recursive resolvers interact with the root DNS.
  - Enables definitive statements about global inflation and query volumes.
  - Does not provide insights into how individual users interact with the root DNS.
  - Translating DITL queries to user experience requires heuristic arguments about caching (§4.3).

- **Local DNS and Activity Measurements**:
  - Limited to 10,000 measurements and 2 users.
  - Provide precise reference points for how root DNS factors into everyday Internet browsing experience.
  - Valuable for understanding the impact on individual users.

By combining these datasets, we can present a more comprehensive and nuanced view of the root DNS performance and its impact on users.