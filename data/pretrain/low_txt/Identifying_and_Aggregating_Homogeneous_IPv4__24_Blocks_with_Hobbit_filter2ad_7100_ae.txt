# Cluster Size Distribution and Topology Discovery

## Cluster Size Distribution
Figure 10: Changes in the size distribution of homogeneous blocks made by clustering.

### Data Points
-215, -28, -21, 21, 25, 29, 20, 22, 24, 26, 28, 210

## Ratio of Discovered Links
Figure 11: The ratio of the links discovered by two different approaches: 
1. Selecting addresses from each Hobbit block.
2. Selecting addresses from each /24.

### Data Points
- Average number of selected addresses per /24: 0, 20, 40, 60, 80, 100
- Ratios: 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0

## Implications

### 7.1 Implication for Topology Discovery
The homogeneous blocks identified by Hobbit can be used to select destinations for topology discovery. This reduces measurement loads compared to selecting destinations from each /20. We demonstrate this using a dataset containing traceroutes of all active addresses within homogeneous /24s. By choosing destinations from each Hobbit block rather than each /24, we achieve a higher ratio of discovered links. Figure 11 shows the ratios as a function of the average number of selected destinations per /24.

### 7.2 Implication for Identifying Cellular Devices
Hobbit identifies clusters of cellular devices (as discussed in Section 5.2). Last-hop routers to these clusters are likely gateways connecting cellular networks to the public Internet. Therefore, IP addresses within these clusters are very likely cellular IP addresses. By generalizing the characteristics of these addresses, we can find rules for identifying cellular devices. For example, common reverse DNS (rDNS) patterns can be used to identify cellular IP addresses. We found that all IP addresses within the Tele2 blocks had a common rDNS pattern, "m[0-9].+\.cust\.tele2", and about 95% of the rDNS names in OCN blocks had the keyword "omed". These patterns did not match the rDNS names of routers or other types of end-hosts, confirming their use for identifying cellular devices.

### 7.3 Implication for Sampling
Hobbit blocks can also be used for sampling. We demonstrate that a more representative sample can be generated by selecting elements from each Hobbit block. Internet hosts are diverse even within an ISP. A sample is considered more representative if it contains elements for more types of hosts. We focus on Time Warner Cable, where different rDNS patterns represent different types of hosts. We compare stratiﬁed sampling (drawing a sample point from each Hobbit block) with simple random sampling. Figure 12 shows that a stratiﬁed sample contains 2.5 times more rDNS patterns than a random sample when the sample sizes are equal. Even when the sample size is doubled for random sampling, the number of rDNS patterns is only 60% of that in a stratiﬁed sample. When 4 times as many sample points are chosen for random sampling, the numbers of rDNS patterns become similar, but the stratiﬁed sample still has slightly more patterns.

## Related Work
Several studies have measured the homogeneity of IPv4 address blocks. Cai et al. [25] identified homogeneous blocks using clustering methods, and Quan et al. [2] reported that most /24 blocks are homogeneous in terms of geographical locations. Freedman et al. [30] quantified the geographic locality of IPv4 address blocks. Gharaibeh et al. [31] evaluated the geographic co-locality of /24 blocks based on delay measurements. Chen et al. [32] clustered IP addresses of web clients using the same local domain name server (LDNS) and measured the geographical locality of the clusters. Our work focuses on topological proximity, distinguishing between route differences due to load-balancing and different route entries.

## Conclusion
We presented Hobbit, a methodology for measuring the homogeneity of /24 blocks in terms of topological proximity. Hobbit deals with path diversity due to per-destination load-balancing. We identified 1.77M homogeneous /24 blocks and aggregated them into 0.51M homogeneous aggregate blocks. We characterized the top 15 biggest blocks and found that most were allocated to data centers or cellular networks. Most blocks consist of numerically discontiguous addresses. Using these blocks for topology discovery and sampling reduces measurement loads and enhances sample representativeness. Future work includes applying Hobbit to IPv6 networks and performing a longitudinal analysis of /24 block homogeneity.

## Acknowledgments
We thank Ethan Katz-Bassett and the anonymous reviewers for their helpful comments. This research was supported in part by NSF grant CNS-1526635.

## References
[1] L. Quan, J. Heidemann, and Y. Pradkin, “Trinocular: Understanding Internet reliability through adaptive probing,” in SIGCOMM, 2013.
[2] L. Quan, J. Heidemann, and Y. Pradkin, “When the internet sleeps: correlating diurnal networks with external factors,” in IMC, 2014.
...
[34] C. Pelsser, L. Cittadini, S. Vissicchio, and R. Bush, “From paris to tokyo: On the suitability of ping to measure latency,” in IMC, 2013.