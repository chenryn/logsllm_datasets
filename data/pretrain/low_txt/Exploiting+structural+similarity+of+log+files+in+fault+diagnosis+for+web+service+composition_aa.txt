**Available online at www.sciencedirect.com**
**ScienceDirect**
**Original Article**

**Exploiting Structural Similarity of Log Files in Fault Diagnosis for Web Service Composition**

**Authors:**
- Xu Han, *a,*
- Binyang Li, *b*
- Kam-Fai Wong, *c*
- Zhongzhi Shi, *d*

**Affiliations:**
- *a* Beijing Key Laboratory of Electronic System Reliability Technology, Capital Normal University, Beijing, China
- *b* University of International Relations, Beijing, China
- *c* Department of Systems Engineering & Engineering Management, The Chinese University of Hong Kong, Hong Kong, China
- *d* The Key Laboratory of Intelligent Information Processing, Institute of Computing Technology, Chinese Academy of Sciences, Beijing, China

**Available online 7 June 2016**

**Abstract:**
With the increasing deployment of Web services, research on the dependability and availability of Web service composition has become more active. Unexpected faults in Web service compositions can occur at various levels during runtime. Log analysis, as a data-driven approach for fault diagnosis, is highly applicable and scalable across different architectures. Given that more service logs are now represented in XML or JSON formats, which offer flexibility and interoperability, the classification of semi-structured logs is a challenging issue. However, most existing approaches focus on log content analysis while neglecting structural information, leading to poor performance. To improve fault classification accuracy, we propose a similarity-based Bayesian learning approach for semi-structured logs. Our method estimates the similarity among structural elements from heterogeneous log data, constructs a combined Bayesian network (CBN), and uses a similarity-based learning algorithm to compute probabilities in the CBN. Experimental results show that our approach outperforms other learning methods on structural log datasets.

**Keywords:**
- Web services composition
- Fault diagnosis
- Combined Bayesian network (CBN)
- Similarity
- Probability

**1. Introduction**

Service-oriented computing (SOC) has transformed the design, delivery, and consumption of software applications. Web services, which implement service-oriented architecture, are widely used in various domains for both research and business purposes. Many business functions are now published as Web services by organizations and companies. There are two main approaches to developing Web services: SOAP-based and RESTful. Composite Web services play a crucial role when atomic Web services cannot fulfill user requests, enabling complex collaboration and interaction between multiple services.

Over the past decade, numerous standards for Web service composition have been defined. One such standard is the Web Services Business Process Execution Language (WSBPEL or BPEL), an executable orchestration language for modeling business processes with Web services. BPEL engines support the execution of these processes. Recent research has focused on extending BPEL engines to enable the composition of SOAP-based, RESTful, and OSGi services. As the complexity of Web service composition increases, ensuring dependability and availability is essential. Fault-tolerant Web service orchestration has been proposed to enhance the dependability of service flow execution. Fault diagnosis, a critical aspect of fault tolerance, aims to identify or locate the causes of process exceptions and failures based on runtime information. Since detailed running information is recorded in log files, fault diagnosis through log analysis is becoming increasingly important.

Semi-structured data formats like XML and JSON are commonly used for representing log files due to their flexibility and interoperability. Analyzing semi-structured logs for fault diagnosis is a key topic, but most existing methods focus on log content analysis while ignoring structural information, resulting in low classification accuracy. In this paper, we propose a similarity-based Bayesian learning approach for fault classification of semi-structured logs. Our method estimates the similarity degrees of structural elements from heterogeneous log data, constructs a combined Bayesian network (CBN), and uses a similarity-based learning algorithm to compute probabilities in the CBN. Test log data can then be classified into the most probable fault categories based on the generated CBN.

**2. Related Work**

Research in the area of Web services has focused on enhancing the dependability and availability of Web services. Fault-tolerant Web services and fault diagnosis have attracted significant attention. Model-based and data-driven approaches are the two main categories of fault diagnosis. Model-based approaches model the behavior and inner logic of the diagnosed service to discover runtime faults. Data-driven approaches transform the diagnosis problem into a classification problem, using data mining and machine learning algorithms on log file data. For semi-structured log data, there are several classification approaches, but they often ignore structural information, leading to low accuracy. Our approach aims to address this by leveraging structural similarity in semi-structured logs.

**3. A Bayesian Network Approach to Fault Diagnosis**

As a data-driven approach, fault diagnosis involves constructing a generative model based on training data from semi-structured log files and classifying test log data into possible fault categories. Due to the heterogeneity of log file sources, it is challenging to develop methods that can learn from semi-structured log data. We propose a combined Bayesian network (CBN) as a generative model for semi-structured log data, where the probabilities depend on the distribution of corresponding elements and their similar counterparts.

**3.1. Overview of the Approach**

Our approach involves the following steps:
1. Estimate the normalized similarity degrees of nodes in schema trees T0 and T1.
2. Create the basic structure of the CBN, including combination and private parts.
3. Calculate the combination similarity degrees between nodes in each schema tree and their corresponding ones in the CBN.
4. Compute the probabilities of the constructed CBN using the similarity degrees.
5. Classify test log data into fault categories using the CBN.

**3.2. Modeling Semi-Structured Log Files with Combined Bayesian Networks**

The Bayesian network is suitable for representing dependencies and relations in semi-structured data. We propose a combined Bayesian network (CBN) to handle both structural and content information. Each log file consists of labeled log records, which form the training dataset. A CBN is constructed for each category by combining the structural and content information of all data records in that category.

**4. Similarity-Based Bayesian Learning for Fault Diagnosis**

In this section, we propose a similarity-based Bayesian learning approach for fault diagnosis. We first estimate the similarity degrees of schema elements for constructing the CBN. Then, we detail how to learn the probabilities of the CBN. Finally, we present the method for classifying log data records using the CBN for fault diagnosis.

**4.1. Estimating Similarity Degrees for Constructing CBNs**

To construct the CBN, we need to find correspondences between nodes in the extracted schema trees. We use both textual and structural information to discover these correspondences. This step is crucial for accurately estimating the similarity degrees and constructing the CBN.

**Conclusion**

In this paper, we presented a similarity-based Bayesian learning approach for fault diagnosis in Web service composition. By leveraging the structural similarity of log files, our method improves the accuracy of fault classification. Experimental results demonstrate that our approach outperforms other learning methods on structural log datasets. Future work will focus on further refining the similarity estimation and expanding the application to a broader range of log data.

**Acknowledgments**

This work was supported by [funding source]. The authors would like to thank [acknowledged individuals or institutions] for their contributions.

**References**

[1] Reference 1
[2] Reference 2
[3] Reference 3
...
[25] Reference 25

**Corresponding Author:**
Xu Han
E-mail: [email address]

**Peer Review:**
Under the responsibility of Chongqing University of Technology.

**Copyright:**
Â© 2016, Chongqing University of Technology. Production and hosting by Elsevier B.V. This is an open access article under the CC BY-NC-ND license.