{"content": "{\"prompt\": \"User: I have two redirect conditions which work independently fine but I want to avoid the case where both conditions are satisfied (which results in two redirect steps instead of one)I must confess I am not good with Apache regex so I got them off the net. Any idea how to combine the two (A or B kinda logic with regex)?Here is the code:RewriteEngine On\\n# redirect from http to https\\nRewriteCond %{HTTPS} off\\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}\\n\\n# redirect from non-www to www https\\nRewriteCond %{HTTP_HOST} !^www\\\\. [NC]\\nRewriteRule ^(.*)$ https://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]Output of the multiple redirect result when both conditions are satisfied is shown below:\\n\\nAssistant:\", \"response\": [[\"You can combine both rules into one usingORcondition clause:RewriteEngine On\\n\\nRewriteCond %{HTTPS} off [OR]\\nRewriteCond %{HTTP_HOST} !^www\\\\. [NC]\\nRewriteRule ^ https://www.domain.com%{REQUEST_URI} [R=301,L,NE]Just replacewww.domain.comwith your actual domain name. Also it is better to test this in a new browser to avoid 301 caching issues.\"]]}"}
{"content": "{\"prompt\": \"User: I host 100+ websites on 2 different servers. Some of my clients recently have noticed that when they go tohttps://theirwebsite.com, if they DONT have SSL on their website, it redirects to the first SSL website in the apache conf file. I did some reading and discovered that SSL websites need their own IP addresses, so i switched the IP addresses of my SSL websites. However, i noticed that the problem is still happening. It's possible that there are still SSL websites that need to be removed or changed in httpd.conf, but is there a way to stop this from happening? Can i find a way to just make websites without https redirect to nothing if https is used?\\n\\nAssistant:\", \"response\": [[\"it redirects to the first SSL website in the apache conf file.This is because there are 2 sets of virtual hosts you have for apache: 1 that listens to port 80 (non-SSL) and one that listens to port 443 (SSL). Any non-SSL request gets sent to the vhosts that listens to port 80, and any SSL request gets sent to the chosts that listens to port 443. When a request is made for a host that isn't defined in any of the vhosts, it defaults to the \\\"default\\\" vhost, which becomes the very first one that gets defined (e.g. the first one that appears in your vhost file).In order to prevent this, you can either have a defined SSL vhost for each of your non-SSL websites, or you can create a new \\\"default\\\" vhost in your SSL file that does nothing but redirect to non-SSL:RewriteEngine On\\nRewriteRule ^ http://%{HTTP_HOST}%{REQUEST_URI} [L,R]\"]]}"}
{"content": "{\"prompt\": \"User: I have a wordpress site accessed likehttp://example.com/but my client wants to have it accessed likehttp://www.example.com/I am finding this code as a solution# BEGIN WordPress\\n<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.php [L]\\n</IfModule>\\n\\n# END WordPress\\n\\nRewriteEngine On\\nRewriteCond %{HTTP_HOST} ^domain\\\\.com$ [NC]\\nRewriteRule ^(.*)$ www.domain.com/$1 [L,R=301]But I am getting an error of redirect loopCould you please advice me what am i doing wrong?\\n\\nAssistant:\", \"response\": [[\"You're missinghttp://from yourwwwforcing rule. Also important is to have your www rule before other WP rules:# BEGIN WordPress\\n<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\n\\nRewriteCond %{HTTP_HOST} ^domain\\\\.com$ [NC]\\nRewriteRule ^(.*)$ http://www.domain.com/$1 [L,R=301]\\n\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.php [L]\\n</IfModule>\\n# END WordPressAlsodon't forget to change WP permalinks to havewwwin Site and Home URLs\"]]}"}
{"content": "{\"prompt\": \"User: Not sure if this is possible, but...Lets say i have process/login.phpif a user visits that page directly i have a check to see if the user has come from posting a form etc. If not, they get 404'd.However i am now building up plenty of process scripts etc and they all require different checks as some are just included etc.Is there a way to 404 a user if they directly access any files? using htaccess?I know there isOptions -IndexesBut that only stops the showing of the files. You can still visit any of the files directly.If there isnt a stable way of doing it then i will manually go around all the files and secure them but would rather the user just cant see anything.\\n\\nAssistant:\", \"response\": [[\"Ok its not 100% bulletproof since HTTP REFERRER can be spoofed.Try this rule:RewriteCond %{HTTP_REFERER} !^http://(www\\\\.)?yourdomain\\\\.com/ [NC] \\nRewriteRule ^process/login\\\\.php$ - [F,NC]\"]]}"}
{"content": "{\"prompt\": \"User: I'm brand new to Apache.I have the following.htaccessfileOptions -Indexes\\nRewriteBase /\\nRewriteEngine on\\nRewriteRule ^([a-zA-Z0-9_]+)*$ redirect.php?uniqueID=$1 [QSA,L]so that going to:mySite.com/242skl2jloads the page:mySite.com/redirect.php?uniqueID=242skl2jBut let's say I didn't have this RegEx in my Apache code[a-zA-Z0-9_]and I just allowed for all characters.... could someone load Apache code directly into this by navigating to something likemySite.com/2%20[R]%20reWriteRule%20^([a-zA-Z0-9_]+)*$%[email protected]/index.htmlLike SQL injection but for Apache? (I'm not even sure%20would convert to a space in my apache code but there might be something that can?)Or is this not really a concern because they can't do any real \\\"harm\\\" to the site, only to their own unique navigation?\\n\\nAssistant:\", \"response\": [[\"As far as I know, there is no known security hole in Apache where something like this could slip through. Whatever is in your URL gets escaped before it's used inside Apache's engine.Also, different from those in the central server config, rewrites and redirections defined in.htaccesscan not \\\"break out\\\" of the current web root*, so even an accidental mis-written (or exploited)RewriteRulecould not be used to get hold of something that isn't supposed to be served publicly.* = see the description ofRewriteRule's behaviour inthe docs.\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to remove the anchor tags used when toggling the accordions or a link that includes an anchor to another part of the page.http://rivo.wpengine.com/why-rivo/#toggle-id-3I would like to removing the#toggle-id-3part of this URL.Can I do something with the.htaccessfile, maybe using mod_rewrite?\\n\\nAssistant:\", \"response\": [[\"You can't use htaccess or mod_rewrite to remove URL fragments because they arenever sent to the server. As far as the server is concerned, they don't exist. You'll need to use javascript or some other client side solution to remove them.For example, from:Remove fragment in URL with JavaScript w/out causing page reload// remove fragment as much as it can go without adding an entry in browser history:\\nwindow.location.replace(\\\"#\\\");\\n\\n// slice off the remaining '#' in HTML5:    \\nif (typeof window.history.replaceState == 'function') {\\n  history.replaceState({}, '', window.location.href.slice(0, -1));\\n}\"]]}"}
{"content": "{\"prompt\": \"User: I need to redirect toindex.phpof whichever directory is requested.So I need:http://www.site.com/folder/files/hello.phpTo Redirect to:http://www.site.com/folder/files/index.phpAnd also same for any subfolders:http://www.site.com/folder/files/pages/other/hello.phpRedirect to:http://www.site.com/folder/files/pages/other/index.php\\n\\nAssistant:\", \"response\": [[\"The (technically) right wayConstruct a URI consisting of the current scheme (http/https/ etc), hostname and path of the current file and issue aLocationheader.$url = sprintf('%s://%s%s/index.php',\\n    $_SERVER['SERVER_PORT'] == 80 ? 'http' : 'https',\\n    $_SERVER['SERVER_NAME'], rtrim(dirname($_SERVER['PHP_SELF']), '/'))\\nheader(\\\"Location: $url\\\");\\nexit;This is because a location header URI should be complete and absolute. Relative URIs are technically not allowed however there is a draft specification set to change this.The pragmatic wayJust issue a relativeLocationheader as it will most probably work.header('Location: index.php');\\nexit;\"]]}"}
{"content": "{\"prompt\": \"User: I am currently hosting a website using theSilex frameworkon a shared server and I have a problem...Silex is like Symfony, there is an app.php file located in a /web/ subfolder : the website is then only accessible via the URL website.com/web/. I cannot create a virtual host as it is a shared server, so I think the solution is to use an .htaccess file...I managed to redirect website.com to website.com/web/ automatically but I don't really like this option. I would rather website.com pointed directly to website.com/web/ but I don't know how to do this by just using a .htaccess file. I have been trying to solve this problem for hours now and it's killing me...At the moment I use this file :<IfModule mod_rewrite.c>\\n    Options -MultiViews\\n    \\n    RewriteEngine On\\n    RewriteBase /\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteRule ^ web/app.php [QSA,L]\\n</IfModule>but it just redirects you from website.com to website.com/webIs there anyway I can make the root url directly point to the /web folder with a .htaccess file?Thank you very much :)\\n\\nAssistant:\", \"response\": [[\"If you want access tohttp://example.com/subdirectoryjust by typinghttp://example.comthis should work.# .htaccess main domain to subdirectory redirect \\n\\nRewriteEngine on \\n# Change example.com to be your main domain. \\nRewriteCond %{HTTP_HOST} ^(www.)?example.com$ \\n# Change 'subdirectory' to be the directory you will use for your main domain. \\nRewriteCond %{REQUEST_URI} !^/subdirectory/ \\n# Don't change the following two lines. \\nRewriteCond %{REQUEST_FILENAME} !-f \\nRewriteCond %{REQUEST_FILENAME} !-d \\n# Change 'subdirectory' to be the directory you will use for your main domain. \\nRewriteRule ^(.*)$ /subdirectory/$1 \\n# Change example.com to be your main domain again. \\n# Change 'subdirectory' to be the directory you will use for your main domain \\n# followed by / then the main file for your site, index.php, index.html, etc. \\nRewriteCond %{HTTP_HOST} ^(www.)?example.com$ \\nRewriteRule ^(/)?$ subdirectory/ [L]\"]]}"}
{"content": "{\"prompt\": \"User: I have those strings:\\\"/page/test/myimg.jpg\\\"\\n\\\"/page/test/\\\"\\n\\\"/page2/test/\\\"\\n\\\"/page/test/other\\\"I want true for all strings starting with /page/test except when it ends with.jpg.Then I did:/^\\\\/page\\\\/test(.*)(?!jpg)$/.\\nWell, it's not working. :\\\\It should return like this:\\\"/page/test/myimg.jpg\\\" // false\\n\\\"/page/test/\\\" // true\\n\\\"/page2/test/\\\" // false\\n\\\"/page/test/other\\\" // true\\n\\nAssistant:\", \"response\": [[\"Use a negative look behind anchored to end:/^\\\\/page\\\\/test(.*)(?<!\\\\.jpg)$/For clarity, this regex will match any input that *doesnt end in.jpg:^.*(?<!\\\\.jpg)$Edit (now must work in JavaScript too)JavaScript doesn't support look behinds, so this ugly option must be used, which says that at least one of the last 4 characters must be other than.jpg:^.*([^.]...|.[^j]..|..[^p].|...[^g])$\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to use.htaccessto send all traffic tohttps. I'm using the example in this answer:Need to redirect all traffic to httpsRewriteEngine on\\nRewriteCond %{HTTPS} off\\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}This isn't redirecting anything for me. I placed it invar/wwwbut it doesn't seem to have any effect. What did I do wrong?\\n\\nAssistant:\", \"response\": [[\"If that's the only rules you have in your htaccess file and it's in your document root then you need to check a few things because the rules are fine.Make sure mod_rewrite is loaded. There should be a line in yourhttpd.conffile that looks something like:LoadModule rewrite_module modules/mod_rewrite.soMake sure it's uncommented.Make sure the directory that your htaccess file is in (should be your document root) is allowed to override server settings via htaccess. In your vhost or server config, there should be something along the lines of<Directory \\\"/var/www/\\\">\\n    AllowOverride All\\n\\n    ... (some other stuff)\\n</Directory>Make sure theAllowOverrideis at leastFileInfoMake sure your document root is actually where your htaccess file is in. Your vhost config should have a line like:DocumentRoot /var/www/Make sure the document root is for the right vhost. If you have separate vhosts for SSL and non-SSL, make sure the htaccess file is in the document rootfor the non-SSL vhost.\"]]}"}
{"content": "{\"prompt\": \"User: They are some questions already about this on stackoverflow, but none is really clear about the 'best practice'.For the content design, what are the options and what is the better option?Some options I know are using folders: site.com/en/ and site.com/fr/ or redirects site.com/index.php?language=enAn even easier practice is using a new url: en.site.com and fr.site.comBut what if I want to keep site.com/index.php and nothing more ? What are my options for that?For example, if you change the language on LinkedIn, there's nothing changing in the URL. How do they work there ?update:in my case the website is a platform, using LAMP stack. Technical advice is also welcome (like how to store/link all the different language files)\\n\\nAssistant:\", \"response\": [[\"You have some options, and each has its own advantages.If you have a web app, which should not be indexed by search engines, then you are free to do whatever you want. You can keep a language setting in your Session and show strings in the chosen language. This will simplify URLs and management.However, if you have a standard website which should go into Google, then your options are restricted. If you use the former approach, google will be confused and will index only one language, or, worse, make an ugly mix of the languages. Google does not keep sessions when indexing your page, so if you have two versions of the same page in two different languages, they need to have different URLs. And passing a language as a GET parameter each time is ugly, error prone, and not user friendly.So you should either have languages as folders (eg. site.com/en/), which is the best options, or use subdomains. This can be a problem, however, because each subdomain is indexed as if it were a separate website, so things like pagerank and site reputation are split among the two.\"]]}"}
{"content": "{\"prompt\": \"User: I currently have redirects (using IIRF, but i believe this to be the same as .htaccess rules) set up so that all files don't get redirected, and just go straight to the filepath in the URL, but everything else gets redirected to /index.php\\nUsing the code below:RewriteCond %{REQUEST_FILENAME} !-f\\n\\nRewriteRule ^(.*)$ /index.php?request=$1 [L,QSA]I need it to also redirect any .php file (but only .php files) to index.php (same as the second rule)In summary, 'www.example.com/foo' AND 'www.example.com/foo.php' both need to go to the index page, but 'www.example.com/foo.js' and 'www.example.com/foo.css' (etc!) do not.\\n\\nAssistant:\", \"response\": [[\"Try:RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^(.*)$ /index.php?request=$1 [L,QSA]\\n\\nRewriteCond %{REQUEST_FILENAME} !index\\\\.php\\nRewriteCond %{REQUEST_FILENAME} \\\\.php$\\nRewriteRule ^(.*)$ /index.php?request=$1 [L,QSA]\"]]}"}
{"content": "{\"prompt\": \"User: I have defined some URL Rewriting rules in .htaccess fileIts working fine on localhost in windowsBut when I uploaded it on server that is linux based, it stopped to work\\nI have found the problem on thislinkFiles and directory names starting with a dot are treated as hidden files by Unix, Linux & Mac. The htaccess file is hidden so it doesn’t distract from normal web content like HTML files. See hidden files for more information.\\n  Without the dot at the beginning, Apache will ignore the htaccess file.But I did not find the solution ...\\n\\nAssistant:\", \"response\": [[\"make sure that AllowOverride is enabled (AllowOverride all) in httpd.conf (many distribs have default as none)if it is not that, you may have to post the actual htaccess for more help\"]]}"}
{"content": "{\"prompt\": \"User: Hey i'm using codeigniter and added rewrite rules to remove theindex.phpfrom the url which works fine.However, i've added a rule to redirect all http requests to https but when it does it redirects with the index.php.Meaning if i enter this url :domain.com/somecoolcontrolerIt will redirect me to  :https://domain.com/index.php/somecoolcontrolerBut when navigating afterwards it comes back to normal urls without it so i guess the problem is in the redirect rule, this is what i put in htaccess :RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule .* index.php/$0 [PT,L] \\nRewriteCond %{HTTPS} off\\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}How can i fix that?\\n\\nAssistant:\", \"response\": [[\"You need to put your redirect rulesbeforeyour routing rules. The rewrite engine loops so even if you have theLflag, it'll loop past your routing rules the second time around and hit the redirect rule, except this time, the URI has been rewritten already.If the rewrite rule is first, it'll redirect the browser before the routing rule gets applied. Then, when the redirected request is made, the routing rule gets applied. You'd also need aLflag.RewriteEngine On\\n\\nRewriteCond %{HTTPS} off\\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule .* index.php/$0 [PT,L]\"]]}"}
{"content": "{\"prompt\": \"User: I have a master folder where I hold all of my resources such as js, css, images, etc. called /resources/.In /resources/, I have php files I include on pages of my website, however, they're currently directly accessible if entered into the browser.Is there a way for me to use .htaccess in that directory to prevent direct requests to any files of certain extensions such as PHP?\\nHotlinking prevention isn't really what I'm looking for. I just need a way to kill any sort of direct request to these PHP files(in the /resources/ directory specifically) made by anything other than the website itself.Any help is appreciated. Thank you very much.\\n\\nAssistant:\", \"response\": [[\"Add a.htaccessin your/resources/folder containing the following<Files ~ \\\"\\\\.php$\\\">\\n  Order allow,deny\\n  Deny from all\\n</Files>It should prevent access to all.phpfiles\"]]}"}
{"content": "{\"prompt\": \"User: I search many topic about htaccess but still not success.I want when people type address:http://domain.com/?q=filename1\\nhttp://domain.com/?q=filename2\\n...It will auto redirect to:http://domain.com/download/filename1.html\\nhttp://domain.com/download/filename2.html\\n...I try:RewriteEngine On\\nRewriteRule ^/?q=(.*)$ /download/$1.html [L,R=301]But it is not working. How can I fix this?\\n\\nAssistant:\", \"response\": [[\"Using this may be helpful:RewriteEngine On\\nRewriteCond %{QUERY_STRING} q=(.*)\\nRewriteRule ^q(.*) /download/%1.html [L,R=301]EDIT:Try this :)RewriteEngine On\\nRewriteCond %{QUERY_STRING} q=(.*)\\nRewriteRule ^(.*) /download/%1.html? [L,R=301]By using?query string will be removed ;)\"]]}"}
{"content": "{\"prompt\": \"User: I'm looking for a way to rewrite all my image requests from onefolderintosome.phpfile, while preserving the original image url (or partial path).So,example.com/folder/img/test.jpgwould be rewrited as something likeexample.com/folder/some.php?img=img/test.jpg(is this the best approach?)I'm not familiarized enought witrh regular expressions, so I'll be very thankfull :)note :I've tried some solutions before, none of them worked. ALso, I'm runningApache 2.0underCentOSenvironment.\\n\\nAssistant:\", \"response\": [[\"Enable mod_rewrite and .htaccess throughhttpd.confand then put this code in your.htaccessunderDOCUMENT_ROOTdirectory:Options +FollowSymLinks -MultiViews\\n# Turn mod_rewrite on\\nRewriteEngine On\\nRewriteBase /\\n\\nRewriteRule ^(folder)/(img/[^.]+\\\\.jpg)$ $1/some.php?img=$2 [L,QSA,NC]Make sure:.htaccess is enabledmod_rewrite is enabledYour URL ishttp://example.com/folder/img/test.jpg\"]]}"}
{"content": "{\"prompt\": \"User: Insidepublic_htmldirectory I have a foldermyfolderand I have theindex.phpin that folder.All my site url readshttp://example.com/myfolder/page-nameI want it to rewritten ashttp://example.com/page-nameWhat rule should I write in.htaccessto achieve the same\\n\\nAssistant:\", \"response\": [[\"In yourpublic_htmldirectory's.htaccessfile, add these rules:RewriteEngine On\\nRewriteCond %{REQUEST_URI} !^/myfolder\\nRewriteRule ^/?([^/]+)$ /myfolder/$1 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I want to capture the url via .htaccess & send that url as a query string to the page which will check the existence of the url from the DB.So my problem is i have a old site with www.example.org & this has 4200 old links that should be mapped with the new site www.example.net.Now i have created a url mapper app which has the old site urls (4200) mapped with the new one. \\nIn this url mapper app, i have an .htaccess which will capture the url before sending it to the app. \\nNow here i want to capture the complete URL hit by the user which points to the old site & then the url is sent to one page with query string as complete url, which can be checked against the (4200) old urls & then redirected to the corresponding page of new site.How can i achieve this. To get the compelete URL in .htaccess & pass it to the page as request parameter.\\n\\nAssistant:\", \"response\": [[\"RewriteEngine On\\nRewriteCond %{REQUEST_URI} !^/mapping_script.php\\nRewriteRule ^(.*)$ /mapping_script.php?url=http://%{HTTP_HOST}%{REQUEST_URI} [L,QSA]You'd replacemapping_script.phpwith whatever this script of yours is called. If you don't need thehttp://domain.name/part of the URL, removehttp://%{HTTP_HOST}from the rule's target.\"]]}"}
{"content": "{\"prompt\": \"User: I would like to deny all files in a directory, but index.php (as being the default page).This solutions works almost:Deny from all\\n<Files index.php>\\n    Order Allow,Deny\\n    Allow from all\\n</Files>The only problem: 'upload/index.php' is now accessable, but '/upload/' isn't. How can I allow the default page with htaccess?\\n\\nAssistant:\", \"response\": [[\"Your problem is, as you may have figured it out, that you're denying all the stuff, then allow the URI 'index.php', but not the URI '/' -- even though the '/' gets redirected to the index.php behind the scenes, it's still a different URI, and thus it should be allowed too.The easiest way to do it is using theFilesMatchdirective, like this:order allow,deny\\n<FilesMatch \\\"^(index\\\\.php)?$\\\">\\n    allow from all\\n</FilesMatch>The regex^(index\\\\.php)?$means \\\"index.php or nothing\\\".\"]]}"}
{"content": "{\"prompt\": \"User: i want rewrite it with a .htaccess i have this url:../index.php?page=details&id=123456like this:../detail/123456but I do not really know how to do this. Could you help me to rewrite this url?\\nor give me a simple example that I can understand how it works\\n\\nAssistant:\", \"response\": [[\"This should work:RewriteEngine On\\nRewriteRule ^detail/([^/]*)$ /index.php?page=details&id=$1 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to get my htaccess rewrite rules to remove theindex.phpfrom the url AND also redirect thewww.requests to the non-www version.This is my htaccess which works fine with removing the index.php:RewriteEngine on\\nRewriteCond $1 !^(index\\\\.php|resources|robots\\\\.txt)\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ index.php/$1 [L,QSA]And I came across another question on how to remove thewwwpart:RewriteEngine On\\nRewriteCond %{HTTPS} !=on\\nRewriteCond %{HTTP_HOST} ^www\\\\.(.+)$ [NC]\\nRewriteRule ^(.*)$ http://%1/$1 [R=301,L]But I just cant seem to get them to play nicely together!  Any advice/suggestions most appreciated!\\n\\nAssistant:\", \"response\": [[\"RewriteEngine On\\nRewriteCond %{HTTPS} !=on\\nRewriteCond %{HTTP_HOST} ^www\\\\.(.+)$ [NC]\\nRewriteRule ^(.*)$ http://%1/$1 [R=301,L]\\n\\nRewriteCond $1 !^(index\\\\.php|resources|robots\\\\.txt)\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ index.php/$1 [L,QSA]RewriteEngine On\\\"starts\\\" rewriting.RewriteCondandRewriteRulework as pairs. \\nHere, we send user to non-www version first, and cleans URLs.\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to get the requestedfilename without the pathwith htaccess for a RewriteCond.REQUEST_FILENAMEreturns the full absolute path, but I only need the filename liketest.phpI've been searching for this a lot but couldn't find anything that helped me out.\\nThanks for any responses in advance!Edit:Im trying to do something like this:RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond _%{REQUEST_FILENAME}.php -f\\nRewriteRule ^([^/]*)$ _$1.php [L]The URL typed in the browser looks like this:http://example.org/testThe File that will be requestested by the RewriteRule is:http://example.org/_test.phpWithRewriteCond _%{REQUEST_FILENAME}.php -fi tried to checkif the file existsfirstBasically I want to do this:URI:/test/blahCheck if _test.phpexists (with underscore!)\\n\\nAssistant:\", \"response\": [[\"RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{DOCUMENT_ROOT}/_$1.php -f\\nRewriteRule ^([^/]+)$ _$1.php [L]I changed*to+so requests for e.g. example.com/ will not redirect to_.php\"]]}"}
{"content": "{\"prompt\": \"User: Trying to remove .html extensions from the site using .htaccess. So for example: www.mysite.com/charts.html would become www.mysite.com/chartsThe following script is in the .htaccess file:RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)\\\\.html$ /$1 [L,R=301]But when the url without the .html extension is entered in the browser, it shows a 403 Forbidden error. Any help would be appreciated.\\n\\nAssistant:\", \"response\": [[\"I found this solution elsewhere:RewriteEngine on\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.html -f\\nRewriteRule ^(.*)$ $1.htmlsources: \\n1)http://www.catswhocode.com/blog/10-useful-htaccess-snippets-to-have-in-your-toolbox2)http://eisabainyo.net/weblog/2007/08/19/removing-file-extension-via-htaccess/\"]]}"}
{"content": "{\"prompt\": \"User: We are running multiple domains through the same code and we want to save their images in their respective folders. Here's what we are doing./images/www.domain1.com/logo.jpg\\n/images/www.domain2.com/logo.jpgnow, what I want to know is, is this possible in htaccess that we rewrite the urls without user suspecting anything. This is what I want that<img src=\\\"/images/logo.jpg\\\" />should internally become through htaccessRewriteRule ^images/(.*)$ /images/{HTTP_HOST}/$1 [L,R=301]But my question is,The above redirect continually loopsCan I achieve the img effect without user or admin suspecting anything?Sincerely,Khuram\\n\\nAssistant:\", \"response\": [[\"You definitely should not useRflag if you don't want to change URL in browser. However even withoutRflag your RewriteRule will loop infinitely and you will eventually getinternal server error. Use RewriteRule like this:RewriteCond %{ENV:REDIRECT_STATUS} !200\\nRewriteRule ^images/(.*)$ images/%{HTTP_HOST}/$1 [L,NC]Which is using a special internal variable called{ENV:REDIRECT_STATUS}that is set to 200 once RewriteRule rule is applied successfully.\"]]}"}
{"content": "{\"prompt\": \"User: Quick search revealed many guides explaining how to detect an iPhone or iPad:RewriteEngine on\\nRewriteCond %{HTTP_USER_AGENT} iPhone\\nRewriteRule .* http://iphone.example.com/ [R]but is there any way to detect a Mac user (any browser), and redirect him?\\n\\nAssistant:\", \"response\": [[\"Macintosh UserAgents looks like something like this :Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.7.12) Gecko/20050915 Firefox/1.0.7As far as I know,RewriteCond %{HTTP_USER_AGENT}will look for the regular expression you gave him. In the mentioned case, if he findsiPhonein the User-Agent, the condition test will return true. So it should be possible to do something like this :RewriteCond %{HTTP_USER_AGENT} Macintosh\\nRewriteCond %{HTTP_HOST} ^www.example.com$\\nRewriteRule ^ http://mac.example.com%{REQUEST_URI} [R]Hope this works, and hope this helps :)\"]]}"}
{"content": "{\"prompt\": \"User: I am after a way of using the directories in the URL as PHP variables. Similar to Wordpress (if not all blogging platforms) I want a way to, say, pass domain.com/directory into a php file.The reason for this is so that when I create my own blog things, the URLs will be SEO friendly.Forexample, instead ofdomain.com/?blog=1&foo=1&bar=1&foobar=5I wantdomain.com/1/1/1/5 or somethingwhere I can then use the explode function to get variables.\\n\\nAssistant:\", \"response\": [[\"For that functionality in php, you needmod_rewriteor the equivalent in your webserver of choice, and to rewrite the url path into a get param instead.Google \\\"clean urls drupal\\\", for an example of it in the wild.\"]]}"}
{"content": "{\"prompt\": \"User: Using the answer I received fromrcs20in myprevious postwhen I add this entry to my .htaccess file I see the error 404 Not Found:Options +FollowSymLinks\\nRewriteEngine on\\nRewriteRule ^member\\\\-([0-9]+)\\\\-([^/])\\\\.htm(l)?$ view_profile.php?id=$1 [NC,L]The URL I'm passing it is:mysite/member-8222-jane.htmlAny idea why this might be happening.  My old rewrite rule works fine:RewriteRule view_profile=(.*)$ view_profile.php?id=$1\\n\\nAssistant:\", \"response\": [[\"found it:The+sign needs to be added to[^/]=>([^/]+)Options +FollowSymLinks\\nRewriteEngine on\\nRewriteRule ^member\\\\-([0-9]+)\\\\-([^/]+)\\\\.htm(l)?$ view_profile.php?id=$1 [NC,L]You can also add the extra charsjaneinmember-8222-jaane.htmlby using the $2 like:RewriteRule ^member\\\\-([0-9]+)\\\\-([^/]+)\\\\.htm(l)?$ view_profile.php?id=$1&extra=$2 [NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: I've seen it before where a rule was used to convert directories on a URL to key=value request queries.I have no idea how to do this so I can have more than one of these pairs.For example:http://www.example.com/mykey/myvalue/mykey2/myvalue2Would map to:http://www.example.com?mykey=myvalue&mykey2=myvalue2Thanks.\\n\\nAssistant:\", \"response\": [[\"Use this .htaccess code to have recursion based translation ofkey/valuebased URI:Options +FollowSymLinks -MultiViews\\nRewriteEngine on\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^([^/]+)/([^/]+)(/.*)?$ $3?$1=$2 [N,QSA]\\nRewriteRule ^(/[^/]+|[^/]+/|/?)$ /index.php [L,QSA]Using these rules a URL ofhttp://localhost/n1/v1/n2/v2/n3/v3/n4/v4will be INTERNALLY redirected tohttp://localhost/?n4=v4&n3=v3&n2=v2&n1=v1treating each pair of URL segments separated by / as a name-value pair for QUERY_STRING. BUT keep in mind if URI doesn't have even number of segments eg:http://localhost/n1/v1/n2/then it will be redirected tohttp://localhost/?n1=v1, discarding extra n2.\"]]}"}
{"content": "{\"prompt\": \"User: I currently have a wordpress site that is being upgraded and I have a maintenence redirect setup in the .htaccess file.I can allow my own IP access the site and admin but how can I allow multiple IPs access for the other editors to also have access.I'm currently using :RewriteEngine on\\n     RewriteCond %{REMOTE_HOST} !^123.456.789.101\\n     #RewriteCond %{REMOTE_ADDR} !^123.456.789.101\\n     RewriteCond %{REQUEST_URI} !/maintanence.html$ [NC]\\n     RewriteCond %{REQUEST_URI} !.(jpe?g?|png|gif) [NC]\\n     RewriteRule .* /maintanence.html [R=302,L]\\n\\nAssistant:\", \"response\": [[\"The answer might be a bit late but:RewriteCond %{REMOTE_HOST} !(123\\\\.456\\\\.789\\\\.101|123\\\\.456\\\\.789\\\\.102|123\\\\.456\\\\.789\\\\.103)works well.\"]]}"}
{"content": "{\"prompt\": \"User: I have a site that has two domains pointing to it, let's call them:work.mysite.com\\nplay.mysite.comThis is bad practice, so I want to choosework.mysite.comand make it the canonical URL, permanently redirectingplay.mysite.comto it.I'm in the root directory for these two domains, in a .htaccess file, banging my head against the cement floor and wishing I wasn't here. Here's what I am currently trying. Tell me how totally wrong I am, please?<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?play\\\\.mysite\\\\.com [NC]\\nRewriteRule ^/?(.*)?$ http://work.mysite.com/$1 [R=301]\\n</IfModule>That gets me a really pretty 500 Internal Server Error. How far off am I?\\n\\nAssistant:\", \"response\": [[\"RewriteCond %{HTTP_HOST} !work.example.com [NC]\\nRewriteRule ^(.*)$ http://work.example.com/$1 [R=301,L,QSA]This will also remove the www from www.work.example.comNot sure if the QSA is needed, but I think it will prevent play.example.com/?home from being redirecting to work.example.com/ instead of work.example.com/?home\"]]}"}
{"content": "{\"prompt\": \"User: I have 2 .htaccess files that I need to merge together. One is generated by wordpress and the other is the existing .htaccess file for the site. The 2 files are as follows:RewriteEngine on\\nRewriteCond %{HTTP_HOST} !^www\\\\.mywebsite\\\\.com$\\nRewriteRule ^(.*)$ http://www.mywebsite.com/$1 [R=301]\\n\\nRewriteRule ^postreview/$ /viewreview.php [NC,PT,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\n\\nRewriteRule ^.*$ ./template2.php  \\n\\n\\n<IfModule mod_security.c>  \\n  # Turn off mod_security filtering.  \\n  SecFilterEngine Off  \\n\\n  # The below probably isn't needed,  \\n  # but better safe than sorry.  \\n  SecFilterScanPOST Off  \\n</IfModule> \\n\\nphp_flag session.use_trans_sid off2nd file generated by wordpress:<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /projectcars/\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /projectcars/index.php [L]\\n</IfModule>I've tried several ways to combine them, but I either get a redirect error or a internal server error.\\n\\nAssistant:\", \"response\": [[\"Here's my fix:RewriteEngine on\\nRewriteCond %{HTTP_HOST} !^www.domain.com [NC]\\nRewriteRule (.*) http://www.domain.com/$1 [R=301,L]\\n\\nRewriteBase /\\n\\nRewriteRule ^postreview(\\\\/?)$ /viewreview.php [QSA,NC,PT,L]\\n\\nRewriteRule ^projectcars/index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^projectcars/(.*)$ /projectcars/index.php [L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule (.*) template2.php [NC,L]\\n\\n<IfModule mod_security.c>  \\n SecFilterEngine Off  \\n SecFilterScanPOST Off  \\n</IfModule> \\n\\nphp_flag session.use_trans_sid off\"]]}"}
{"content": "{\"prompt\": \"User: I've recently removed the.phpextension from all of my pages.Google results are still showing:www.mysite.com/page.php\\nwww.mysite.com/directory/page-example.phpThese are now dead links. The new ones are:www.mysite.com/page\\nwww.mysite.com/directory/page-exampleWhat would be the appropriate redirect so that if someone clicks one of the .php URLs, they are redirected to the extension-less URL\\n\\nAssistant:\", \"response\": [[\"Use<link rel=\\\"canonical\\\" href=\\\"FULL_PROPER_URL\\\" />in your web pages. This will tell Search Engine to use that URL when displaying search results and will treat this a s main URL when seeing duplicate URLs. Details are here:http://www.google.com/support/webmasters/bin/answer.py?answer=139394http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.htmlUse 301 Permanent Redirect. Please note that this WILL NOT stop Google or any other search engine to requesting.phppages if such link is publicly available on some other site.This needs to be placed in .htaccess file in website root folder. If placed elsewhere some tweaking may be required.Options +FollowSymLinks -MultiViews\\nRewriteEngine On\\nRewriteBase /\\n\\n# redirect to .php-less link if requested directly\\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\\\s.+\\\\.php\\\\sHTTP/.+\\nRewriteRule ^(.+)\\\\.php $1 [R=301,L]The above rule will do 301 redirect to a php-less URL. It will only redirect if .php file was requested directly and will not touch already rewritten URLs.\"]]}"}
{"content": "{\"prompt\": \"User: I want to redirect a link to another with .htaccess file in Linux host. Can you help me?from: http://example.com/examp\\nto: http://example.com/examp.phpAnd another one for my other sitefrom: http://example.com/examp\\nto: http://example.com/user.php?u=examp\\n\\nAssistant:\", \"response\": [[\"You will needmod_rewriteenabled for this. Start with placing these lines into .htaccess:RewriteEngine On\\nRewriteBase /TBH I'm not 100% sure what do you mean exactly by permalink and how do you want to redirect, so I will provide 2 variants for each URL: rewrite (internal redirect) and redirect (301 Permanent Redirect).1. This will rewrite (internal redirect) request forhttp://example.com/examptohttp://example.com/examp.phpwhile URL will remain unchanged in browser:RewriteRule ^examp$ examp.php [L]2. This will do the same as above but with proper redirect (301 Permanent Redirect) when URL will change in browser:RewriteRule ^examp$ http://example.com/examp.php [R=301,L]3. This will rewrite (internal redirect) request forhttp://example.com/examptohttp://example.com/user.php?u=exampwhile URL will remain unchanged in browser:RewriteRule ^examp$ user.php?u=examp [QSA,L]4. This will do the same as above but with proper redirect (301 Permanent Redirect) when URL will change in browser:RewriteRule ^examp$ http://example.com/user.php?u=examp [QSA,R=301,L]Useful link:http://httpd.apache.org/docs/current/rewrite/\"]]}"}
{"content": "{\"prompt\": \"User: I am using this code to send all the request to a single php file:RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule (.*) myfile.php?id=$1 [QSA,L]But now I want to also blockdirect accessto myfile.php and other phps. I don't want the php files to open directly via browser, but they must work for includes and such.How can I do this?\\n\\nAssistant:\", \"response\": [[\"Maybe this will help:RewriteCond %{REQUEST_URI} !(.*).php$ [NC]\\nRewriteRule ^.* - [F,L]Several nice examples are here:Apache wiki: RewriteCond\"]]}"}
{"content": "{\"prompt\": \"User: I am working on building my first search-engine friendly CMS. I know that perhaps one of the biggest keys to having and SEO site is to have search-engine friendly URLs. So having a link like this:http://www.mysite.com/product/details/page1will result in much better rankings than one like this:http://www.mysite.com/index.php?pageID=37I know that to create URLs like the first one, I have one of two options:use a web technology, in this case PHP, to create a directory structureleverage Apache'smod_rewriteadd-on to have these URLs passed to a PHP processorAs far as the PHP goes, I'm pretty comfortable with anything. However, I think the first option would be more difficult to maintain.Could someone show me how to write an.htaccessfile, which will:silently direct SEO URLs to a processor scriptnot redirect if the requested URL is an actual directory on the serverIs there a better way than the way I am trying it?\\n\\nAssistant:\", \"response\": [[\"You can use .htaccess for apache, create file in your root folder of web mainly \\\"htdocs\\\" name it \\\".htaccess\\\" add next content to it<IfModule mod_rewrite.c>\\n    RewriteEngine On\\n    RewriteCond %{REQUEST_FILENAME} !-d\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]\\n    Options -Indexes\\n</IfModule>in your php file you can access data from $_GET$_GET['url'];Then you can use data to parse what you need.\"]]}"}
{"content": "{\"prompt\": \"User: I'm building a site in which users can upload photos, and they can mark them as private, so no one can see them.I know how to use an ACL-based system in php, but anyone will still be able to access the photos if they have the direct link to the image file.Eg: User 1 wants to share Photo A with User 2, so he grants him access. User 2 right clicks on the image, and copies its url, eg 'http://example.com/private123.jpeg', and sends it to User 3. Now user 3 can see the image he shouldn't be able to see.To sum up, I need a way to protect images based on user permissions, but still have them loading lightning fast (so running a php script each time an image is requested, is discarded).Is it possible with apache? I was thinking that maybe I could set up a cookie when the user logs in, and let apache check that somehow. I don't care if cookies can be faked, 99,99+% of the users won't know how to do that, and the photos don't need more security than that.\\n\\nAssistant:\", \"response\": [[\"Keep all the images in their own directory, and in that directory, put a .htaccess file with this in itRewriteEngine On\\nRewriteCond %{HTTP_COOKIE} !^.*name-of-my-cookie.*$ [NC]\\nRewriteRule .* /whatever/page [NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: I want to make all my URLs uniformly clean. Which means all my URLs have no extensions, nor trailing slash, and if a person does enter in a.phpor trailing slash, it would simply redirect the person to the clean URL.Example:example.com/blog/file.phpandexample.com/blog/file/would both redirect toexample.com/blog/file\\n\\nAssistant:\", \"response\": [[\"In.htaccesstry this:RewriteEngine on\\n\\n#unless directory, remove trailing slash\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)/$ /$1 [R=301,L]\\n\\n#resolve .php file for extensionless php urls\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ $1.php [L]\\n\\n#redirect external .php requests to extensionless url\\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\\\ /([^/]+/)*[^.#?\\\\ ]+\\\\.php([#?][^\\\\ ]*)?\\\\ HTTP/\\nRewriteRule ^(([^/]+/)*[^.]+)\\\\.php /$1 [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: I recently played with a.htaccessfile to make one server to parse PHP files. Yesterday I uploaded the same.htaccessfile and tried to test a PHP file. But something went wrong: visiting my page the browser offers to download the the html page rather then viewing the page!On the server the filenames end in.html.I added the following to my.htaccessfile:AddType application/x-httpd-php .htmlI tried to find the htaccess file, but once uploaded it just disappears from the root dir.\\nI tried to upload other scripts I've found browsing. I even tried to search for some problem on a hosting forum. Nothing helped.\\nPlease help!\\n\\nAssistant:\", \"response\": [[\"Try thisAddType application/x-httpd-php .php .htm .htmlORAddHandler application/x-httpd-php .php .htm .htmlAnd remove other overriding handlers forapplication/x-httpd-phpafter above code.\"]]}"}
{"content": "{\"prompt\": \"User: I have removed the blog from my domain and put a simple index.html instead.\\nHow do I redirect all the incoming traffic so that it does not show a 404 error, but redirects to the index?I tried this, but it loops...RewriteEngine on\\nRewriteRule ^(.*)$ /index.html [L,R=301]\\n\\nAssistant:\", \"response\": [[\"Try:RewriteEngine on\\nRewriteCond %{REQUEST_URI} !^/index.html\\nRewriteRule ^(.*)$ /index.html [L,R=301]As you mentioned that this doesn't work, I'd try:RewriteEngine on\\nRewriteCond %{REQUEST_URI} !^/aaa.html\\nRewriteRule ^(.*)$ /aaa.html [L,R=301]index.html is a general default file name, so there might be rules that are on the server level, not in your .htaccess. That depends on the server setup, though.\"]]}"}
{"content": "{\"prompt\": \"User: Is there a way to require the use of htpasswd if the user is not in a certain IP range?EDIT:K I have this right nowOrder Deny,Allow\\nDeny from all\\nAuthName \\\"Htacess\\\"\\nAuthUserFile /var/www/Test/.htpasswd\\nAuthType Basic\\nRequire valid-user\\nAllow from 111.111.111.111\\nSatisfy AnyBut its giving me a 500 error\\n\\nAssistant:\", \"response\": [[\"Figured it outAuthName \\\"Htaccess\\\"\\nAuthUserFile /var/www/test/.htpasswd\\nAuthType Basic\\nSatisfy Any\\n<Limit GET POST>\\n    Order Deny,Allow\\n    Deny from all\\n    Allow from 111.111.111.111\\n    Require valid-user\\n</Limit>\"]]}"}
{"content": "{\"prompt\": \"User: I have to write script in PHP which will be dynamicly replace some files on server from time to time. Easy thing, but the problem is that I want to avoid situation when user request this file during replacing. Then he could get uncompleted file or even error.Best solution to me is block access to my site during replacing by e.g. setting .htaccess redirecting all requests to page with information about short break. But normally .htaccess file already exist, so there may be situation when server gets uncomplited .htaccess file.Is there any way to solve it?Edit:Thank you so much for all answers, guys. You are briliant.@ircmaxell Your idea sounds great for me. I read what dudes from PHP.net wrote and I don't know if I understand all correctly.So, tell me: If I do all steps you wrote and add apc.file_update_protection to my php.ini, there will be no way to get uncompleted file by user by any time? There will be always one, correct file? Are you sure at 100% ?It is very important to me coz these replacements will be very often and there is big chance to request file during renaming.\\n\\nAssistant:\", \"response\": [[\"Here's something that's easy, and will work on any local filesystem on linux:Upload (or write) the file to a temporary filenameMove the file (using themv(move) command, either in FTP, or command line, etc, or therenamecommand in PHP) to overwrite the existing one.When you execute themvcommand, it basically deletes the old file pointer, and writes the new one.  Since it's being done at the filesystem level, it's an atomic operation.  So the client can't get an old file...APC recommendsdoing thisto prevent these very issues from cropping up...Also note that you could use rsync to do it as well (since it basically does this behind the scenes)...\"]]}"}
{"content": "{\"prompt\": \"User: I'm developing a website using PHP.\\nMy .htaccess has this rewrite rule:RewriteEngine On\\nRewriteRule ^book/([^/]*)\\\\.html$ book.php?title=$1 [L]So the URL that looked like: www.example.com/book.php?title=title-of-the-book\\nturns into www.example.com/book/title-of-the-book.htmlIn a specific case, from another page in the site, I want to link to pages like this:\\nwww.example.com/book.php?title=title-of-the-book?myfield=1\\nthat then turns into \\nwww.example.com/book/title-of-the-book.html?myfield=1.htmlBeing ther, I cannot acces the GET variables using the usual PHP way$variable = $_GET['myfield']How do I solve this problem?\\n\\nAssistant:\", \"response\": [[\"Specify[QSA](Query string append) so you may pass a query string after your url.RewriteEngine On\\nRewriteRule ^book/([^/]*)\\\\.html$ book.php?title=$1 [QSA,L]PS: Why are you using*here? Wouldn't+suit better?\"]]}"}
{"content": "{\"prompt\": \"User: I'm running PHP on a shared Apache web server.  I can edit the .htaccess file.I'm trying to simulate a file file structure that is not actually there.  For example, I would like for the URL:www.Stackoverflow.com/jimwigglyto actually displaywww.StackOverflow.com/index.php?name=jimwigglyI got halfway there by editing my .htaccess file as per the instructions in this post:PHP: Serve pages without .php files in file structure:RewriteEngine on\\nRewriteRule ^jimwiggly$ index.php?name=jimwigglyThis works nicely insofar as the URL bar still displayswww.Stackoverflow.com/jimwigglyand the correct page loads, however, all of my relative links remain unchanged.  I could go back in and insert<?php echo $_GET['name'];?>before each link, but it seems like there might be a better way than that.  Additionally, I suspect my whole approach might be off, should I be going about this differently?\\n\\nAssistant:\", \"response\": [[\"I think the best way to do this is to adopt the MVC style url manipulation with the URI and not the params.In your htaccess use like:<IfModule mod_rewrite.c>\\n    RewriteEngine On\\n    #Rewrite the URI if there is no file or folder\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteCond %{REQUEST_FILENAME} !-d\\n    RewriteRule ^(.*)$ index.php?/$1 [L]\\n</IfModule>Then in your PHP Script you want to develop a small class to read the URI and split it into segments such asclass URI\\n{\\n   var $uri;\\n   var $segments = array();\\n\\n   function __construct()\\n   {\\n      $this->uri = $_SERVER['REQUEST_URI'];\\n      $this->segments = explode('/',$this->uri);\\n   }\\n\\n   function getSegment($id,$default = false)\\n   {\\n      $id = (int)($id - 1); //if you type 1 then it needs to be 0 as arrays are zerobased\\n      return isset($this->segments[$id]) ? $this->segments[$id] : $default;\\n   }\\n}Use likehttp://mysite.com/posts/22/robert-pitt-shows-mvc-style-uri-access$Uri = new URI();\\n\\necho $Uri->getSegment(1); //Would return 'posts'\\necho $Uri->getSegment(2); //Would return '22';\\necho $Uri->getSegment(3); //Would return 'robert-pitt-shows-mvc-style-uri-access'\\necho $Uri->getSegment(4); //Would return a boolean of false\\necho $Uri->getSegment(5,'fallback if not set'); //Would return 'fallback if not set'Now in MVC There usually likehttp://site.com/controller/method/parambut in a non MVC Style application you can dohttp://site.com/action/sub-action/paramHope this helps you move forward with your application.\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to do a 301 redirect of everything from an old subdomain to a new.I have a simple .htaccessRedirect 301 / http://www.smartphonesoft.com/However if I goto the old URL with a subdir, it tries to redirect to the new domain with a subdir and fails.iehttp://forum.smartphonesoft.com/reminder/goes tohttp://www.smartphonesoft.com/reminder/When I would like it to gotohttp://www.smartphonesoft.com/How can I have everything simply redirected to the new domain root?\\n\\nAssistant:\", \"response\": [[\"WithRedirectyou define the base path (path prefix) that is to be redirected; every path beyond that is redirected while just replacing the base path with the new base path.If you want to stick withmod_alias, you can useRedirectMatchand omit the match:RedirectMatch 301 ^/ http://www.smartphonesoft.com/\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to figure out how to disable the DEFLATE module (gzipping) for a specific directory on my server. This is what I have in /etc/httpd/conf/httpd.confAddOutputFilterByType DEFLATE text/html text/plain text/xml text/css\\nBrowserMatch ^Mozilla/4 gzip-only-text/html\\nBrowserMatch ^Mozilla/4\\\\.0[678] no-gzip\\nBrowserMatch \\\\bMSIE !no-gzip !gzip-only-text/htmlI can add something to my .htaccess file in the specific directory or even add a something to my /vhosts/domain.com/httpdocs/conf/vhosts.conf file. I can't seem to get it to work though. Any suggestions?\\n\\nAssistant:\", \"response\": [[\"I removed my original code from /etc/httpd/conf/httpd.conf and added this to my vhost.conf on this domain<Directory \\\"/var/www/rockchurch.com/httpdocs\\\">\\nAddOutputFilterByType DEFLATE html txt xml css js php\\nBrowserMatch ^Mozilla/4 gzip-only-text/html\\nBrowserMatch ^Mozilla/4\\\\.0[678] no-gzip\\nBrowserMatch \\\\bMSIE !no-gzip !gzip-only-text/html\\n\\nphp_admin_value open_basedir none\\nphp_admin_value safe_mode off\\nOptions FollowSymLinks\\n</Directory>\\n\\n<Directory \\\"/var/www/rockchurch.com/httpdocs/tiny\\\">\\nRemoveOutputFilter DEFLATE html txt xml css js php\\n</Directory>And works well. Apparently having it in /etc/httpd/conf/httpd.conf universally adds it to all domains, which is great, but can't be changed in specific directories elsewhere.\"]]}"}
{"content": "{\"prompt\": \"User: I want to create a way to test different layouts on a page to see which get more conversions.For example. If I have 2 versions of a page and I send 50% to page A and 50% to page B and see which one converts more sales.So I am thinking maybe use .htaccess to rewrite half to page A and the other half to page B.But how can I do that with .htaccess is there a way? do I need to use PHP instead to do this?Also if there is a better way to do this, or any cautions I should be aware of, please let me know.\\n\\nAssistant:\", \"response\": [[\"Lots of ways to deal with it on your own code. If however you're already using Google Analytics and don't care to use javascript for the test, spare yourself a lot of trouble and look athttp://www.google.com/websiteoptimizer/index.htmlUpdate (Reconfine): Google website optimizer no longer exists, this has been replaced with \\\"Google Analytics content experiments\\\"https://developers.google.com/analytics/devguides/platform/experiments-overview\"]]}"}
{"content": "{\"prompt\": \"User: I am using Apache to rewrite my URLs into clean URLs.RewriteRule ^(.*) index.phpCurrently this rewrites directories too, which is what I want, since I want everything run through my router/index.php file.What I would like to do however, is have one folder that I can access directly.  This is for lib files such as .js and .css files.  I know how to do this with an Alias, but I can't use that in a .htaccess file, which I need to use.How can I not rewrite a specific folder, eg. called \\\"lib\\\"?EDIT:I did find the following example of how to fake an Alias in .htaccess, but I can't get it working:RewriteRule /old-folder /new-folder [PT]\\n\\nAssistant:\", \"response\": [[\"+100RewriteRule ^/?lib/.+$ - [L]\\nRewriteRule ^(.*) index.php\"]]}"}
{"content": "{\"prompt\": \"User: My previous server working fine.. Today I changed new server and getting RewriteRule cannot compile regular expression on my htaccess.How to fix this line.RewriteRule ^category/([0-9]+)(?:/([^/]+)(?:/([^/]+))?)(?:/([^/]+)(?:/([^/]+))?)?/$ ./category.php?pid=$1&catname=$2&page=$3 [L]Let me know :)\\n\\nAssistant:\", \"response\": [[\"You are probably using a different Apache version with a different regular expression engine. The Apache versions since 1.3 use POSIX ERE while the versions since 2.0 use PCRE. And only PCRE support the non-capturing group(?:expr).So try a pattern without them:RewriteRule ^category/([0-9]+)(/([^/]+)(/([^/]+))?)(/([^/]+)(/([^/]+))?)?/$ ./category.php?pid=$1&catname=$3&page=$5 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I need a set of fresh eyes on this. I'm having a tough time spotting the problem.In folder X I have an .htaccess file with the following two lines in it:RewriteEngine on\\nRewriteRule ^([A-Za-z0-9\\\\.-]+)/?$ item-display.php?bibid=$1 [NC,L]My interpretation is that anything in that directory will then be redirected to the item-display page. The problem is that on the item-display page, echoing out the value of bibid outputs 'display-item'. So somehow I'm redirecting from:http://localhost/test/cat/item/14056ato:http://localhost/test/cat/item/item-display.php?bibid=item-displayAny ideas?Cheers\\n\\nAssistant:\", \"response\": [[\"You have to exclude the file you are redirecting to as that is also matched by the pattern:RewriteCond %{REQUEST_URI} !/item-display\\\\.php$\\nRewriteRule ^([A-Za-z0-9\\\\.-]+)/?$ item-display.php?bibid=$1 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to get Apache to redirect/a.php?a=123to/b/123(where 123 could be any number between 1 and 9999) but can't seem to get it to work.This is what I have in htaccess:RewriteEngine on\\n\\nRewriteRule ^a.php?a=([0-9]+) /b/$1 [L]\\nRewriteRule ^a.php$ /c/ [L]With this going to a.php?a=123 results in 404, but going to just a.php works as expected.\\nI tried escaping the ? (RewriteRule ^a.php\\\\?a=([0-9]+) /b/$1 [L]) but it still doesn't work.What am I doing wrong please?\\n\\nAssistant:\", \"response\": [[\"The query string is not part of the URI path that is tested in theRewriteRuledirective. This can only be tested with aRewriteConddirective:RewriteCond %{QUERY_STRING} ^a=([0-9]+)$\\nRewriteRule ^a\\\\.php$ /b/%1? [L,R]\\nRewriteCond %{QUERY_STRING} ^$\\nRewriteRule ^a\\\\.php$ /c/ [L,R]But if you want it the other way (requests of/b/123are redirected to/a.php?a=123):RewriteRule ^b/([0-9]+)$ a.php?a=$1 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I'm writing multilingual website. I have several files on server like:/index.php\\n/files.php\\n/funny.phpAnd would like to add language support by placing language code into URL like this:http://mywebsite/en/index.phpwould redirect to:http://mywebsite/index.php?lang=enAndhttp://mywebsite/en/files.phpwould redirect to:http://mywebsite/files.php?lang=enI would like to put more languages for example:http://mywebsite/ch-ZH/index.phpAnd I would like this to work only for files with php and php5 extension. Rest of files should be the same as they are.So for example when i will go to addresshttp://mywebsite/ch-ZH/index.phpI would like my PHP to recognize that current path ishttp://mywebsiteand NOThttp://mywebsite/ch-ZHIt's necessary for me because in my PHP code I relate on current path and would like them to work as they are working now.Could you please write how to prepare htaccess file on Apache to meet this criteria?\\n\\nAssistant:\", \"response\": [[\"Try this:RewriteEngine on\\nRewriteRule ^([a-z]{2}(-[A-Z]{2})?)/(.*) $3?lang=$1 [L,QSA]And for thecurrent pathproblem, you have to know how relative URIs are resolved: Relative URIs are resolvedby the clientfrom a base URI that is the URI (not filesystem path!) of the current resource if not declared otherwise.So if a document has the URI/en/foo/barand the relative path./bazin it, theclientresolves this to/en/foo/baz(as obviously the client doesn’t know about the actual filesystem path).For having./bazresolved to/baz, you have to change the base URI which can be done with theHTML elementBASE.\"]]}"}
{"content": "{\"prompt\": \"User: I have the following problem when I try to create a user-friendly URL, it returns a 500 error.Doesn't workRewriteEngine On\\nRewriteRule  ^page/(.+)$   /page.php?type=$1   [L]Works this one only if I change the script nameRewriteRule  ^page/(.+)$   /change-page.php?type=$1   [L]Is there any way to keep page.php that redirects to page? Thank youHere the full .htaccess configurationOptions +FollowSymLinks -MultiViews\\n# Turn mod_rewrite on\\nRewriteEngine On\\nRewriteBase /\\n\\n# For LocalHost !.php\\nRewriteCond %{HTTP_HOST} !=localhost\\nRewriteCond %{HTTP_HOST} !=127.0.0.1\\nRewriteCond %{REMOTE_ADDR} !=127.0.0.1\\nRewriteCond %{REMOTE_ADDR} !=::1\\n\\n## hide .php extension\\n# To externally redirect /dir/foo.php to /dir/foo\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\\\s([^.]+)\\\\.php [NC]\\nRewriteRule ^ %1 [R=302,L]\\n\\n# To internally forward /dir/foo to /dir/foo.php\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule ^(.*?)/?$ $1.php [L]\\n\\nRewriteRule  ^page/(.+)$  /page.php?type=$1   [L]\\n\\nAssistant:\", \"response\": [[\"Try these rules:Options +FollowSymLinks -MultiViews\\nRewriteEngine On\\nRewriteBase /\\n\\n# For LocalHost !.php\\nRewriteCond %{HTTP_HOST} !=localhost\\nRewriteCond %{HTTP_HOST} !=127.0.0.1\\nRewriteCond %{REMOTE_ADDR} !=127.0.0.1\\nRewriteCond %{REMOTE_ADDR} !=::1\\n## hide .php extension\\n# To externally redirect /dir/foo.php to /dir/foo\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\\\s([^.]+)\\\\.php[?\\\\s] [NC]\\nRewriteRule ^ %1 [R=301,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^page/([\\\\w-]+)/?$ page.php?type=$1 [L,QSA,NC]\\n\\n# To internally forward /dir/foo to /dir/foo.php\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{DOCUMENT_ROOT}/$1.php -f\\nRewriteRule ^(.*?)/?$ $1.php [L]\"]]}"}
{"content": "{\"prompt\": \"User: I checked many other similar questions but I can't come up with a .htaccess rule that would work properly.I have a server containing a Knowledgebase system (knowledgebase.php). I don't want to show thisknowledgebase.phpin the URL, ever.Examples what I want:https://help.thecrypto.appshould show same url (now it showshttps://help.thecrypto.app/knowledgebase.phpwhen you visit)https://help.thecrypto.app/knowledgebase.php?article=1should show URLhttps://help.thecrypto.app/?article=1How can I do this?I tried many options, including this:RewriteEngine on\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ /knowledgebase.php?/$1 [L]\\n\\nAssistant:\", \"response\": [[\"You can use this :RewriteEngine on\\n#1) redirect \\\"help.thecrypto.app/\\\" to /knowledgebase.php\\nRewriteCond %{HTTP_HOST} ^help.thecrypto.app$ [NC]\\nRewriteRule ^knowledgebase\\\\.php$ / [L,R]\\n#2) internally map knowledgebase.php to the root /\\n RewriteRule ^/?$ /knowledgebase.php [END]This will serve/knowledgebase.phpif you visit your site hompage/.\"]]}"}
{"content": "{\"prompt\": \"User: I am using Lumen for the first time. I placed my lumen files in folder Test and kept the folder inside /var/www/html path in server. My PHP version is7.4.3I have the following routes:$router->get('/key', function() {\\nreturn str_random(32);\\n});\\n\\n$router->get('/', function () use ($router) {\\nreturn $router->app->version();\\n});Below is my htaccess:<IfModule mod_rewrite.c>\\n<IfModule mod_negotiation.c>\\n    Options -MultiViews -Indexes\\n</IfModule>\\n\\nRewriteEngine On\\n\\n# Handle Authorization Header\\nRewriteCond %{HTTP:Authorization} .\\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\\n\\n# Redirect Trailing Slashes If Not A Folder...\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_URI} (.+)/$\\nRewriteRule ^ %1 [L,R=301]\\n\\n# Handle Front Controller...\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^ index.php [L]\\n</IfModule>But whenever I try to accesshttp://xx.xxx.xxx.xxx/Test/public/keyit showsThe requested URL was not found on this server.But if I try to accesshttp://xx.xxx.xxx.xxx/Test/public/it returns meLumen (5.7.8) (Laravel Components 5.7.*)How can I make all other routes also to work?\\n\\nAssistant:\", \"response\": [[\"I searched for< Directory /var/www/ >in /etc/apache2/apache2.conf file and changed the belowAllowOverride NonetoAllowOverride Allandrestarted the apache. It solved my issue.\"]]}"}
{"content": "{\"prompt\": \"User: Considerabc.comis my main website using nameserversns1.testnameserver.com&ns2.testnameserver.com.I would like to redirect multiple domains as below:def.com to abc.com/products/def\\nghi.com to abc.com/products/ghi\\njkl.com to abc.com/products/jkl\\nmno.com to abc.com/products/mnoI tried the below:i set the same testnameserver for def.com,ghi.com,jkl.com,mno.com.tried some combination inRewriteCondand.htaccessbut i couldn't solve it.Anyone guide me to move further.Thanks all.Note:I can't use domain forwarding / host all the domains because it's should be dynamic (like 3500+ domains to 3500+ products)\\n\\nAssistant:\", \"response\": [[\"+100I'm not sure I understand your problem, but you can redirect domains with:RewriteEngine on \\n# not for exemple.com\\nRewriteCond %{HTTP_HOST} !example\\\\.com$ [NC]\\nRewriteCond %{HTTP_HOST} (?:^|\\\\.)([^.]+)\\\\.(?:[^.]+)$\\nRewriteRule ^ http://example.com/products/%1%{REQUEST_URI} [NE,L]Point all your DNS on the main website, and just change the name of the main domain (example.com) in this .htaccess\"]]}"}
{"content": "{\"prompt\": \"User: We have a drupal websitea.comthat is password protected. I want alla.com/api/...URIs not to be, though. So I've read aboutSetEnvIf:AuthName \\\"Stage\\\"\\nAuthType Basic\\nAuthUserFile ~/.htpasswd\\nSetEnvIf Request_URI \\\".*data_sheets.*\\\\.pdf\\\" noauth\\nSetEnvIf Request_URI \\\"/api/.+\\\" noauth\\nSetEnvIfNoCase Request_Method OPTIONS noauth\\nOrder Deny,Allow\\nDeny from all\\nRequire valid-user\\nAllow from env=noauth\\nSatisfy AnyThe/api/foobarURIs are still asking for a password though. Since it's a Drupal website, with the help of anubhava we figured it has to do with how the request is handled by index.php.How to deal with that?EditAddingRewriteCond %{REQUEST_URI} ^/api/ [NC]\\nRewriteRule ^ - [E=noauth]right afterRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_URI} !=/favicon.ico\\nRewriteRule ^ index.php [L]didnt help\\n\\nAssistant:\", \"response\": [[\"This works for me:AuthName \\\"Stage\\\"\\nAuthType Basic\\nAuthUserFile /var/www/html/.htpasswd\\nSetEnvIf Request_URI \\\".*data_sheets.*\\\\.pdf\\\" noauth\\nSetEnvIf Request_URI \\\"/api/.+\\\" noauth\\nSetEnvIfNoCase Request_Method OPTIONS noauth\\n\\nRewriteEngine On\\nRewriteCond %{THE_REQUEST} \\\\s/api/\\nRewriteRule ^ - [E=noauth:1]\\n\\nOrder Deny,Allow\\nDeny from all\\nRequire valid-user\\nAllow from env=noauth\\nAllow from env=rewritten\\nSatisfy Any\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_URI} !=/favicon.ico\\nRewriteRule ^ /index.html [L]\"]]}"}
{"content": "{\"prompt\": \"User: I have over 50 html pages that I'm going to move to different folders in the same domain.How to properly make 301 redirects for each one?Some people said to place the redirect inmetahtml tags. Like this<meta http-equiv=\\\"refresh\\\" content=\\\"0; url=http://example.com/\\\" />Some other people are saying to make it inside the .htaccess file, I'm not sure what's the best way?My goal is to redirect the old URLs to the URLs without losing the page rank in Google.\\n\\nAssistant:\", \"response\": [[\"In most instances, a 301 redirect is the best way to implement redirects on a website. Using a meta refreshwon'tlet the reading entity (Google, a browser or otherwise) know that it's permanent and thus would have a negative impact in terms of SEO.A 301 redirect essentially means \\\"Moved Permanently\\\" as an HTTP status code and will be recognised for SEO purposes.Achieving this within an .htaccess file is the most efficient way of doing this as it's all done in one place and won't require the potential editing of all the individual files (50 in your case).Do this as a simple list inside an .htaccess file:RewriteEngine on\\nRedirect 301 /oldfolder/file1.html /newfolder/file1.html\\nRedirect 301 /oldfolder/file2.html /newfolder/file2.htmlOr, if all the files reside in one folder, you could use a ReWriteRule similar to below that's a lot quicker to test and implement:RewriteEngine on\\nRewriteRule ^oldfolder/(.*)$ /newfolder/$1 [R=301,NC,L]For reference:R=301 tells search engines that the redirection is permanentNC tells the engine not to care about the characters in the ruleL tells Apache it's the last rule and will avoid parsing/loops etc\"]]}"}
{"content": "{\"prompt\": \"User: WordPress adds trailing slash to each url as per permalink settings./%postname%/So if you browsewww.mysite.com/about-usyou will be redirected towww.mysite.com/about-us/Is it possible to disable this redirect so that the page is served with and without the trailing slash.\\n\\nAssistant:\", \"response\": [[\"change permalink/%postname%/to/%postname%Right below the RewriteEngine On line, add:RewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)/$ /$1 [L,R]Moreinfo htaccess code\"]]}"}
{"content": "{\"prompt\": \"User: I have written REST api in slim framework. When i call authenticate API from browser it troughs'Method not allowed. Must be one of: POST'. Below is my code, please correct me where i went wrong.Index.php<?php\\n\\nrequire 'vendor/autoload.php';\\nrequire 'Authenticate.php';\\n\\n$app = new \\\\Slim\\\\App;\\n\\n$app->post('/api/authenticate', \\\\Authenticate::class);\\n\\n$app->run();.htaccessRewriteEngine On\\nRewriteRule ^ index.php [QSA,L]URLhttp://localhost/project/api/authenticate\\n\\nAssistant:\", \"response\": [[\"if you type the URL in the browser, the method is going to beGETinstead ofPOST. What you can do is usePostmanor other alternatives of your choice to test your REST API for other methods likePOST,PUT,DELETE, etc.More info about HTTP methodshereHope it helps!\"]]}"}
{"content": "{\"prompt\": \"User: I am using PHP with Apache and wonder if there is a way to indicate from the client side that the requested PHP file shouldn't be executed/parsed. By standard, I want all PHP files to be executed when requested, but I want a way to indicate from the client side that the file should not be executed.A nice solution would be to supply an extra header in the request using JavaScript and then write some code in a.htaccessfile to check if the header is present, and if it is tell apache to not execute the file and just serve it as text.Using GET parameters or something else would also be okay.Is this possible? If so, how?\\n\\nAssistant:\", \"response\": [[\"supply an extra header in the request [using JavaScript] and then write some code in a .htaccess file to check if the header is presentYou could get Apache to check for this (secret) header and internally rewrite the request to aviewAsSource.php-type file that then reads theREQUEST_URI(or a passed query string parameter) and returns the file source instead. Similar to @LucasKrupinski suggestion, except you don't need to include anything in the PHP file itself.For example, in your root.htaccessfile:RewriteEngine On\\n\\n# Block direct access to any file in the /tools directory\\nRewriteCond %{ENV:REDIRECT_STATUS} ^$\\nRewriteRule ^tools/ - [F]\\n\\n# Display PHP source...\\nRewriteCond %{HTTP:X-Action} ^display-source$\\nRewriteCond %{REQUEST_FILENAME} -f\\nRewriteRule (.+\\\\.php)$ tools/display-source.php?url=$1 [L]For all.phprequests this checks for theX-ActionHTTP request header having a value of \\\"display-source\\\" and that the requested file exists. If these conditions are met then the request is internally written to a/tools/display-source.phpscript, passing the URL in theurlparameter. You could instead check the$_SERVER['REQUEST_URI']superglobal, but note that this also includes any query string that is passed on the request.Then, indisplay-source.php, something like:<?php\\n$url = isset($_GET['url']) ? $_GET['url'] : null;\\nif (isset($url)) {\\n    $file = $_SERVER['DOCUMENT_ROOT].'/'.$url;\\n    // Validate $file....\\n    // :\\n    highlight_file($file);\\n}\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to understand the following syntax (see usage context below):RewriteCond %{SERVER_NAME} ^example\\\\.com$I have the above (with real domain name in place of example) in my .htaccess file.  I would like to force it to be www.example.com.The website has SSL and the following SSL Coding was added by the SSL Install process at GoDaddy.  So I trying to work with both this coding, and changing to force to www with the SSL.# BEGIN GD-SSL\\n<IfModule mod_rewrite.c>\\nOptions +FollowSymLinks\\nRewriteEngine On\\nRewriteCond %{HTTPS} !=on\\nRewriteCond %{HTTP_USER_AGENT} ^(.+)$\\nRewriteCond %{SERVER_NAME} ^example\\\\.com$\\nRewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]\\nHeader add Strict-Transport-Security \\\"max-age=300\\\"\\n</IfModule>\\n# END GD-SSLI tried to add mod rewrite rules to force www and they are not working.   I think the problem resides in the RewriteCond %{SERVER_NAME} ^example.com$\\nwhich is not resolving to the \\\"www\\\".  I thought I might need to add the www. to this, however, I am not sure if this is correct.Would this be the solution to change the ssl to force WWW in the URL? Or do I need to do something else entirely?RewriteCond %{SERVER_NAME} ^www\\\\.^example\\\\.com$Any help would be greatly appreciated.  Thank you.Becky\\n\\nAssistant:\", \"response\": [[\"To match against bothwwwandnon-wwwhost in a single line, you can use the following regex pattern :^(www\\\\.)?example\\\\.com$This  matcheswww.example.comorexample.com.To force ssl www, you can use this :RewriteEngine on\\n\\nRewriteCond %{HTTPS} !on\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?example\\\\.com$\\nRewriteRule (.*) https://www.example.com/$1 [L,R,NE]\"]]}"}
{"content": "{\"prompt\": \"User: It's my first time i'm uploading codeigniter project to production and i'm getting error 404 from Apache server.error :Not Found\\nThe requested URL /index.php was not found on this server.\\nApache/2.4.18 (Ubuntu) Server at roy.my-domain.com Port 80I've read every article for 2 days and didn't found a solution....So here are my settings :Checked for rewrite mod in Apache - got \\\"Module rewrite already enabled\\\"\\nMy project is in/var/www/roy/so the url isroy.my-domain.com/royApache2.conf<Directory /var/www/html/>\\nOptions Indexes FollowSymLinks\\nAllowOverride All\\nRequire all granted\\n</Directory>\\nAccessFileName .htaccess.htaccess<IfModule mod_rewrite.c>\\nRewriteEngine on\\nRewriteBase /roy/\\nRewriteRule ^([a-z0-9_-]+)\\\\.html$ index.php/page/$1 [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond $1 !^(index\\\\.php|asset|robots\\\\.txt)\\nRewriteRule ^(.*)$ index.php/$1 [L]\\n</IfModule>config.php$config['base_url'] = 'http://'.$_SERVER['HTTP_HOST'].'/roy/';\\n$config['index_page'] = '';autoload.php (i'm using Twig)$autoload['libraries'] = array('database','session','twig');I added permissions to both logs and cache dirThe controllers structurename Login.php - \\nclass Login extends CI_Controller\\n\\nAssistant:\", \"response\": [[\"Create asitefolder inside yourhtmlone. Then, put yourroysite there. Then, I would do it this way:1 - apache2/sites-enabled/roy.my-domain.com.conf<VirtualHost roy.my-domain.com:80>\\n    DocumentRoot /var/www/html/site\\n    ServerName roy.my-domain.com\\n    <Directory /var/www/html/site>\\n        Options FollowSymLinks\\n        AllowOverride All\\n        Require all granted\\n    </Directory>\\n</VirtualHost>2 - .htaccess<IfModule mod_rewrite.c>\\nRewriteEngine on\\nRewriteBase /\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond $1 !^(index\\\\.php|robots\\\\.txt)\\nRewriteRule ^(.*)$ index.php?/$1 [L]\\n</IfModule>3 - If it's not development, it's never a good practice to use the$_SERVER['HTTP_HOST']superglobal. Can be changed from the client side. Just use the right url.After you're done all that, restart apache. In Ubuntu is:$ sudo service apache2 restart\"]]}"}
{"content": "{\"prompt\": \"User: For my web page, I have a.htaccessdocument which looks like this<Files .htaccess>\\norder allow,deny\\ndeny from all\\n</Files>\\n\\nErrorDocument 404 /websites/404/index.phpNow as far as I understand it you can include furtherErrorDocumentby just adding another line. For example<Files .htaccess>\\norder allow,deny\\ndeny from all\\n</Files>\\n\\nErrorDocument 404 /websites/404/index.php\\nErrorDocument 503 /websites/maintenance/index.phpHowever, when I try to add a page forHTTP 451using the following line of codeErrorDocument 451 /websites/451/index.phpand I reload my page I get aServer error! Error 500. I later found out this was becauseXAMPPwas no longer picking up my folder with the.htaccessfile in and the error could only be resolved by removing theErrorDocumentforerror 451. What is causing this and how can I fix it?NoteI also found that this happens forerror 418: I'm a teapotas wellEditJust to include a little more information about the software I am using. I am usingXAMPP Control Panel v3.2.2Apache 2.4.17 - This is the version which comes with XAMPP\\n\\nAssistant:\", \"response\": [[\"+50Even though there are a lot of HTTP status codes (which areofficially maintained by the IANA), not all webservers support all of these. As of Apache 2.4, the status codes 418 and 451 are not supported and silently converted to error 500 by Apache.The latest additions of supported status codes in Apache 2.4 are 414 and 501 and a crash prevention for 400 (fromApache 2.4 change log):core: Support custom ErrorDocuments for HTTP 501 and 414 status codes.\\n       PR 57167 [Edward Lu ]core: Prevent a server crash in case of an invalid CONNECT request with\\n       a custom error page for status code 400 that uses server side includes.\\n       PR 58929 [Ruediger Pluem]See thelist of supported HTTP status codes(as of Apache 2.4.4).See an older bug (filed against 2.2) regardingremapping of custom status codes to 500 errors.See thisprevious question regarding a similar problem(but also with Apache 2.2).\"]]}"}
{"content": "{\"prompt\": \"User: My hosting provider recently updated the server to Apache 2.4 and the rules to control access to a specific folder via .htacces file doesn't work anymore with this code:Order Deny,Allow\\n Deny from All\\n Allow from 123.123.123.123\\n Allow from 123.123.123.123\\n Allow from 123.123.123.123After reading Apache 2.4 documentation I understand i should use something like this instead:<RequireAny>\\nRequire ip 123.123.123.123\\nRequire ip 123.123.123.123\\nRequire ip 123.123.123.123\\n</RequireAny>but it doesn't work. Any one who can help me figuring this out? Thank you!\\n\\nAssistant:\", \"response\": [[\"For 2.4 it now looks something like this:<RequireAll>\\nRequire all denied\\nRequire ip 123.123.123.123\\nRequire ip 123.123.123.123\\nRequire ip 123.123.123.123\\n</RequireAll>EDIT:Require ip 123.123.123.123\\nRequire ip 123.123.123.123A document describing information critical to existing Apache HTTP Server users.https://httpd.apache.org/docs/trunk/upgrading.html\"]]}"}
{"content": "{\"prompt\": \"User: I just moved my blog from Blogger to WordPress, and have a problem with the mobile URL.WordpPress have a function to setup URL structure, so the URL for desktop is OK, but there is an additional?m=1in mobile version Blogger URL.This is what I'm trying to do:redirecthttp://www.example.com/2016/05/artical.html?m=1tohttp://www.example.com/2016/05/artical.htmlI tried this but it didn't work:RewriteCond %{QUERY_STRING} ^(.*)(^|&)m=1(.*)$\\nRewriteRule ^(.*)$ /$1?%1%3 [R=301,L]\\n\\nAssistant:\", \"response\": [[\"Hope this helps just afterRewriteEngine OnRewriteCond %{QUERY_STRING} ^m=1$\\nRewriteRule ^(.*)$ /$1? [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: So I'm in the process of building my own web-application type project. However, I only want the website to be viewable through a web client of mine. I have set the web client's user agent setting to a custom name (MySecretClient) and am now attempting to only allow access from browsers with the user agent,MySecretClient. Everyone else gets redirected.Is there a better way to go about doing this?\\n\\nAssistant:\", \"response\": [[\"As with so many web technology questions, there is a strict, theoretical answer and a \\\"good enough for what you probably want\\\" answer: The strict answer is: You cant, it doesn't work that way. Since the client can send whatever user agent string it wants to, you have no way of knowing what client is actually behind any given request.The \\\"good enough\\\" answer that will prevent the vast majority of users from seeing your site with the \\\"wrong\\\" user agent is documented here:http://www.htaccesstools.com/articles/detect-and-redirect-iphone/The relevant .htaccess block from the link, which redirects requests from iPhone user agents to an iPhone specific site is:RewriteEngine on\\nRewriteCond %{HTTP_USER_AGENT} iPhone\\nRewriteCond %{REQUEST_URI} !^/my-iPhone-site/ \\nRewriteRule .* /my-iPhone-site/ [R]Which you could modify in your case to redirect users with the wrong client:RewriteEngine on\\nRewriteCond %{HTTP_USER_AGENT} !^MySecretClient$\\nRewriteRule .* <URL of a tropical island paradise> [R]There is one other answer to whatmightbe your intention in doing this. If this is part of your application's security strategy, it is a bad idea! This is what's known as \\\"security through obscurity\\\" and is a well-established anti-pattern that should be avoided. Any but the most casual attacker of your software will quickly realize what's going on, figure out what client your application is meant to run on, and spoof it.\"]]}"}
{"content": "{\"prompt\": \"User: I would like to redirect urls that don't go into directories to one script (script1.php for example), and urls that have categories to another script (script2.php). Basically I would like to do something like this:http://www.test.com/user1->http://www.test.com/script1.php?username=user1where script1.php gets the username and presents an appropriate page for that user. I have that part working with this code:RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ script1.php?username=$1 [L,QSA]The problem now is that I would also like to have descriptive product urls so that for examplehttp://www.test.com/clothes/jackets/cool-red-jacket-25redirects tohttp://www.test.com/items.php?category=clothes&subcategory=jackets&id=25. I have some code that should work for that too:RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^/?([a-zA-Z-]+)/([a-zA-Z-]+)/.*-A([0-9-.]+)\\\\.php$\\nscript2.php?category=$1&subcategory=$2&id=$3 [L]The problem I'm having is combining these 2 types of redirection. The first redirect always redirects to its own page and the second redirect will never get reached. Is it possible to combine these 2 and in which way? Basically I need something like this for htaccess if possibleif(!urlHasDirectories) {\\n    redirect to script1.php?username=$username;\\n} else {\\n    redirect to script2.php?category=$category&subcategory=subcategory&id=$id;\\n}\\n\\nAssistant:\", \"response\": [[\"Lets go over basic regexs, we'll use Regex101 for this. The.is any character and*is a quantifier of the previous character/grouping zero or more times. So your first regex,RewriteRule ^(.*)$ script1.php?username=$1 [L,QSA]says rewrite anything that starts with anything and ends with anything toscripts1.php. That isn't what you want.Demo:https://regex101.com/r/hK0xY3/1With regexs it is best to be as specific as possible.I would make your rule for users:RewriteRule ^(user\\\\d+)$ script1.php?username=$1 [L,QSA]Demo:https://regex101.com/r/hK0xY3/4The+is another quantifier here meaning one or more, so you could change that to an*if a number ins't required.You said you wanted a regex that finds if there is a/in the path. I think it is best to tell the regex what to look at but that is possible:^.+?\\\\/Demo:https://regex101.com/r/hK0xY3/3With this approach though any directory request will be redirected...\"]]}"}
{"content": "{\"prompt\": \"User: I am working on laravel and need to create subdomain using laravel dynamically without going cPanel or server setting.Say here I have abc.xyz.com and I want create {subdomain}.abc.xyz.com . where subdomain will dynamic.To access I have Use following code in laravel route.Route::group(['domain' => 'abc.xyz'], function()\\n{\\n    return 'Main page will be loaded';\\n}); \\n\\nRoute::group(['domain' => '{subdomain}.abc.xyz'], function()\\n{\\n    return 'Subdomain page will be loaded';\\n});Also I have searched, but just found only way by .htaccess .Is it the only way to do this or is there any other ways also to create subdomain dynamically.\\n\\nAssistant:\", \"response\": [[\"your hosting should support wildcard subdomain featureshttps://www.namecheap.com/support/knowledgebase/article.aspx/9191/29/how-to-create-wildcard-subdomain-in-cpanel\"]]}"}
{"content": "{\"prompt\": \"User: I am runing apache and I am trying to set a header Foo=bar only when the request has a variable \\\"q\\\" on the query string. I would like something like this in my htaccess:<RequestUri \\\"q=\\\">\\n    Header set Foor \\\"bar\\\"\\n</RequestUri>Of course it does not work. I already tried using \\\"Location\\\" and \\\"LocationMatch\\\" but those are not allowed inside the htaccess. So how can I do that?\\n\\nAssistant:\", \"response\": [[\"If you are using Apache 2.4, you can do something like this<If \\\"%{QUERY_STRING} =~ /q=.*?/\\\">\\n    Header set Foo \\\"bar\\\"\\n</If>https://httpd.apache.org/docs/2.4/mod/core.html#ifhttps://httpd.apache.org/docs/2.4/expr.html#examples\"]]}"}
{"content": "{\"prompt\": \"User: I have a.htaccessfile that is used by an advanced SEO URL php system installed on my osCommerce site.It has the following rules that work just fine for most cases, but removing periods from my GET parameters:RewriteRule ^([a-z0-9/-]+)-c-([0-9_]+).html$ index.php [NC,L,QSA]\\n  RewriteRule ^([a-z0-9/-]+)-m-([0-9]+).html$ index.php [NC,L,QSA]So URL like this:http://example.com//index.php?cPath=44_95&page=1&range=1.99_2.99gets rewritten according to the rule and the1.99_2.99becomes199_299.How can I escape the period safely? (ie. without causing some random side effects)\\n\\nAssistant:\", \"response\": [[\"The standard escape character for .htaccess regular expressions is the slash (\\\"\\\\\\\").RewriteRule ^([a-z0-9/-]+)-c-([0-9_]+)\\\\.html$ index.php [NC,L,QSA]\\n                                        ^^\\n  RewriteRule ^([a-z0-9/-]+)-m-([0-9]+)\\\\.html$ index.php [NC,L,QSA]\\n                                       ^^The slash will prevent the meaning of the dot and escape it so that the dot is taken verbatim as a character to match (period, ASCII code 46 / x2E) .The other suggestion given in the comment to create a character class consisting of the dot only (\\\"[.]\\\") does the job as well, but it's perhaps a bit over the top to create a character class while you only want to name a single character. But it's technically working (and has been suggested for example inescaping dot in Apache mod_rewrite).BTW:Apache rewrite uses Perl Compatible Regular Expression (PCRE)which is the same flavour of regex like PHP is using in thepreg_*family of functions which is PHP's preferred regex dialect.\"]]}"}
{"content": "{\"prompt\": \"User: I've used the code below to create a custom 404 message (page not found) using a .htaccess file.RewriteEngine On\\nErrorDocument 404 https://%{HTTP_HOST}/404.phpIt works well, but I want to know what was the wrong URL that caused this redirection. In other words, I need to fetchHTTP refererwhile user is in 404.php. So I have used$_SERVER['HTTP_REFERER']in 404.php, but it does not return anything.Where did I have mistakes? And what is your solutions to solve this problem?\\n\\nAssistant:\", \"response\": [[\"Removehttp://from 404 handler and have it like this:ErrorDocument 404 /404.phpThe URL that is causing 404 is available to you in404.phpusing:$_SERVER[\\\"REQUEST_URI\\\"]Whenhttp://ise used in 404 handler server performs full redirection and you loose originalREQUEST_URI.\"]]}"}
{"content": "{\"prompt\": \"User: I have a personalized 404 error page in my web, withErrorDocument 404 404.htmin my.htaccess.The problem is, if you typewww.mydomain.com/whatever/whatever2.html, it shows the 404 page correctly, but the links are all broken, for example a link tohref=\\\"property.php\\\"points towww.mydomain.com/whatever/property.php, that is a 404 error too.How can I fix this without changing all the routes to absolute routes?\\n\\nAssistant:\", \"response\": [[\"You can add this in the<head>section of your page's HTML:<base href=\\\"/\\\" />so that everyrelative URLis resolved from that base URL and not from the current page's URL.\"]]}"}
{"content": "{\"prompt\": \"User: Hi i have installed the laravel on ec2 instance using this videowww.youtube.com/watch?v=8ARpTKWc6lQI have changed the document root path from/var/wwwto/var/www/html/laravel/publicin the deafult.conf file as described at the end of the videoBut now my when i open my website my homepagehttp://52.26.133.246/which have('/')shows fine but when i open my other page with routes like('AdminApp')or you can simple click on admin link on the navbar of home page with whole link ishttp://52.26.133.246/AdminAppit says404 page not foundand alsoThe requested URL /AdminApp was not found on this server.but when i use /index.php in the url the page is shown \\nhere is the linkhttp://52.26.133.246/index.php/AdminAppAlso kindly check this link also to withoutindex.phphttp://52.26.133.246/welcomewith index.phphttp://52.26.133.246/index.php/welcomeKindly help me.\\nThanks\\n\\nAssistant:\", \"response\": [[\"Trysudo a2enmod rewriteandCheck your etc/httpd/conf/httpd.conf file. \\nIt should have the following in it:AllowOverride Nonechange it toAllowOverride All\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to rewrite the URLhttp://domain.com/whateverTo:http://domain.com/cgi-bin/script.cgiMy .htaccess file looks like this:RewriteEngine On\\nRewriteRule /whatever /cgi-bin/script.cgi [NC]This doesn't work and gives me a 404 error. However, this works:RewriteEngine On\\nRewriteRule /whatever http://domain.com/cgi-bin/script.cgi [NC]But in that case, the URL change is vivible to the user. What am I doing wrong?\\n\\nAssistant:\", \"response\": [[\"Adding the[PT]flag fixed it:RewriteEngine On\\nRewriteRule /whatever /cgi-bin/script.cgi [NC,PT]Now if somebody could just explain why that's needed and what is actually going on, I would be extremely grateful.\"]]}"}
{"content": "{\"prompt\": \"User: I am a newbie for rewriting url, I have rewritten my url, but it is causing problem for all the relative paths used in the page like<link href=\\\"style/style.css\\\" rel=\\\"stylesheet\\\">\\n<link href=\\\"images/icon.png\\\" type=\\\"images/ico\\\" rel=\\\"icon\\\" />\\n<img src=\\\"images/test.png\\\" id=\\\"test\\\">Even i have applied the following rewrite rule for them, but still i find 404 error in firebug console (first one is working but second is not working for relatvie)RewriteEngine On\\nRewriteRule ^raipur/([A-Za-z0-9-]+)/([0-9]+)$ /viewRestaurant.php?raipur=$1&id=$2\\nRewriteRule ^raipur/([A-Za-z0-9-]+)/([A-za-z]+)/ /$2/my console screenshotI had even debugged my rewrite rule intohtaccess testerand its working there as required\\n\\nAssistant:\", \"response\": [[\"You links are all relative links.\\\"images/icon.png\\\"instead of\\\"/images/icon.png\\\". Because your url changed its URL base from:/viewRestuarant.php\\nBase: /to/raipur/something/1234\\nBase: /raipur/something/When the browser sees a link like:images/icon.pngit needs to prepend a base URL to it in order to know where the resource is located. By default it uses the host and base based off of the URL that it sees in the location bar. Since that's obviously not where any of these resources are, you need to either make your links into absolute URL's like:/images/icon.pngorhttp://example.com/images/icon.pngor add an explicit relative URL base into the header of your pages (between the<head> </head>tags):<base href=\\\"/\\\" />\"]]}"}
{"content": "{\"prompt\": \"User: How can I change a url of the following formatexample.com/page/1Toexample.com/index.php?page=1?When I enterexample.com/page/1it should  redirect toexample.com/index.php?page=1What changes do I need to do in my .htaccess file?folder structure is as follows-Public_html\\n      .htaccess\\n       index.phpThanks.\\n\\nAssistant:\", \"response\": [[\"+100Use this in yourpublic_html/.htaccessfileRewriteEngine on\\n   RewriteBase /\\n   RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteCond %{REQUEST_FILENAME} !-d\\n    RewriteRule ^page/([0-9])/?$ /index.php?page=$1 [QSA,NC,L]RewriteCondchecks if the requested filename  or directory already exist,RewriteRulewill be skipped.\"]]}"}
{"content": "{\"prompt\": \"User: I have an instalation on my htdocs folder that needs rewriterules to be processed like this:RewriteEngine On\\nRewriteCond %{ENV:REDIRECT_STATUS} ^$\\n\\nRewriteCond %{HTTP_HOST} ^(?:www\\\\.)?(.+)$ \\nRewriteCond %{REQUEST_URI} !^/admin? \\nRewriteCond %{REQUEST_URI} !^/payment? \\nRewriteRule ^(.*)$ %1/$1 [QSA]\\n\\nRewriteCond %{HTTP_HOST} ^(?:www\\\\.)?(.+)$\\nRewriteRule ^admin/(.*)?$ BACKEND-PHP/$1?domain=%1 [QSA]\\n\\nRewriteCond %{HTTP_HOST} ^(?:www\\\\.)?(.+)$\\nRewriteRule ^payment/(.*)?$ PAYPAL-API/$1?domain=%1 [QSA]But now, to test joomla i need add some rule in the htaccess file that stop processing rules if the given directory is \\\"localhost/joomla\\\" in order to joomla work properly.in pseudocode will be like this:RewriteEngine On\\nRewriteCond %{ENV:REDIRECT_STATUS} ^$\\n\\n**RewriteCond %{HTTP_HOST} ^(localhost)$ \\n**RewriteRule ^/joomla$ [END]\\n\\n# (if the requested file is at joomla directory \\n# htaccess will stop processing)\\n\\nRewriteCond %{HTTP_HOST} ^(?:www\\\\.)?(.+)$ \\nRewriteCond %{REQUEST_URI} !^/admin? \\nRewriteCond %{REQUEST_URI} !^/payment? \\nRewriteRule ^(.*)$ %1/$1 [QSA]\\n\\nRewriteCond %{HTTP_HOST} ^(?:www\\\\.)?(.+)$\\nRewriteRule ^admin/(.*)?$ BACKEND-PHP/$1?domain=%1 [QSA]\\n\\nRewriteCond %{HTTP_HOST} ^(?:www\\\\.)?(.+)$\\nRewriteRule ^payment/(.*)?$ PAYPAL-API/$1?domain=%1 [QSA]\\n\\nAssistant:\", \"response\": [[\"You were close. Just modify your rules toRewriteCond %{HTTP_HOST} ^localhost$ [NC]\\nRewriteRule ^joomla(/.*)?$ - [END]The-says we do no processing on this URL. The[End]flag prevents all the rules below from firing.\"]]}"}
{"content": "{\"prompt\": \"User: I've added the following code to my .htaccess file in my website's root folder:# Disable server signature\\nServerTokens ProductOnly\\nServerSignature Off\\n# END SCCCIt causes my website to crash:Internal Server Error:\\nThe server encountered an internal error or misconfiguration and was \\nunable to complete your request.Removing theservertokensline, it works as expected and removes the signature.How should I be disabling servertokens? Do I even need to if I'm disabling the signature?\\n\\nAssistant:\", \"response\": [[\"You can useServerTokensonly in the server config (httpd.conf):http://httpd.apache.org/docs/current/en/mod/core.html#servertokensIt's ok in.htaccessforServerSignature\"]]}"}
{"content": "{\"prompt\": \"User: I recently created a website with laravel 4. I used XAMP to test my website on localhost and to make it easier I created a virtual host in the vhosts file which points to the public folder of my Laravel app. The website is working perfectly.Now I rented a webspace at One.com hoster. I opened the webspace with ftp and when I came on the \\\"root\\\" but there weren't any folders so I guess that the root location is the public location? I don't for sure.The normal structure of a Laravel app is like this:--> app  \\n--> bootstrap  \\n--> public  \\n--> vendor  \\n--> other filesThis doesn't work because I think that One.com doesn't use a public html folder. I tried to make it work but unfortunately. I moved the contents of the public folder to the root of my domain and moved all the other folders in a folder named core. Then I changed some config files index.php and paths.php but still it doesn't work.The question is what do I need to change to my folder structure to let it work on this One.com webserver and which files I need to adapt (.htaccess, paths.php)? I would like to protect my private folders of course.Thanks in advance.\\n\\nAssistant:\", \"response\": [[\"Just place .htaccess file in the root folder with data below:<IfModule mod_rewrite.c>\\n    RewriteEngine on\\n    RewriteCond %{REQUEST_URI} !^public\\n    RewriteRule ^(.*)$ public/$1 [L]\\n    </IfModule>\"]]}"}
{"content": "{\"prompt\": \"User: I've built a Slim PHP app and published it on my webserver.The routes are only available if I browse directly via the index.php pagefor exampleexample.com/index.php/loginand/index.php/signupboth render the expected viewshowever if I omit index.php and browse to `example.com/login' or 'example.com/signup' I get a 404My.htaccessfile is located in the same directory asindex.phppublic/\\n├── .htaccess\\n├── index.phpthepublicfolder is configured as theDocumentRoot /var/www/example.com/publicin apacheMy.htaccessfile contains the following:<IfModule mod_rewrite.c>\\n<IfModule mod_negotiation.c>\\n    Options -MultiViews\\n</IfModule>\\n\\nRewriteEngine On\\n\\n# Redirect Trailing Slashes...\\nRewriteRule ^(.*)/$ /$1 [L,R=301]\\n\\n# Handle Front Controller...\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^ index.php [L]\\n</IfModule>Any suggestions how to fix my routing?\\n\\nAssistant:\", \"response\": [[\"Slim recommends using these rules for Apache. (.htaccess)RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^ index.php [QSA,L]Rembember you have to set theAllowOverridedirective to \\\"All\\\" in the Apache config and make sure that \\\"/public\\\" is your root virtual directory.\"]]}"}
{"content": "{\"prompt\": \"User: I'd like the following image URLhttp://www.example.com/image-provider/article/1275449_inline3_scale_700xauto.jpgto be redirected to the following PHP script that will actually generate the contenthttp://www.example.com/image-provider?url=article/1275449_inline3_scale_700xauto.jpgI've tried the following syntax in my .htaccessRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^/image-provider/(.*)$ image-provider?url=$1 [L]With no success so far:I still get a 404. Is there something wrong in my .htaccess ?\\n\\nAssistant:\", \"response\": [[\"You can use this rule:RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^(image-provider)/(.+)$ $1?url=$2 [L,QSA,NC]Couple of issues in your rule:Leading slash is not matched in.htaccessYou must use.+to avoid matching/image-provider/as an URI.\"]]}"}
{"content": "{\"prompt\": \"User: I have a website\\neg :www.abcd.comin that there are many pages.\\neg :www.abcd.com/one.php,www.abcd.com/two.phpI just want to remove the .php fromwww.abcd.com/one.phpand not from all the other pages.I have tried this part in .htaccess file.RewriteEngine on\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\n\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\n\\nRewriteRule ^(.*)$ $1.php\\n\\nAssistant:\", \"response\": [[\"You can use this rule in your root .htaccess:RewriteEngine on\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^(one)/?$ /$1.php [L,NC]\"]]}"}
{"content": "{\"prompt\": \"User: I transfered my website to a new dedicated server which is CENTOS and PHP Version 5.3.3 with PLESK.My problem is this, I'm getting \\\"No input file specied\\\" error in everypage expect homepage.  Firstly i think it's a chmod problem than i set it to 755 to all folders and files in httpdocsSecondly googled and find a solution about .htaccessMy .htaccess is:SetOutputFilter DEFLATE\\nAddDefaultCharset UTF-8\\nDefaultLanguage tr-TR\\nRewriteEngine On\\nRewriteBase /\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ index.php/$1 [L]And i changedRewriteRule ^(.*)$ index.php?/$1 [L]By this changes site started to work in a different way. There wasn't any error but in everypage i am redirecting to homepage.Hovewer when i write index.php into the url as guncebektas.com/index.php/yaptiklarimI can reach the page that i wantThan, I changed php.ini,cgi.fix_pathinfo=0nothing changed than Finally i decided to write here, thanks for your help.Site : guncebektas.com/  \\nA page : guncebektas.com/yaptiklarim  \\nI can reach : guncebektas.com/index.php/yaptiklarim\\n\\nAssistant:\", \"response\": [[\"I see that it's about fastcgi problem, i changed it to apache module from plesk control panel - PHP support (Run PHP as apache module)Now it's working\"]]}"}
{"content": "{\"prompt\": \"User: I have a default controller set:$route['default_controller'] = \\\"Home\\\";However, when I go tohttp://mydomain.com/, it says 404 Page Not Found, but when going tohttp://mydomain.com/Home, the controller loads fine. What could be the problem? I've been wracking my head for hours. My htaccess isposted hereif needed. Thanks!\\n\\nAssistant:\", \"response\": [[\"Turns out my problem was somewhat unrelated. I had to rename my default controller php file to lowercase and the controller class name to lowercase and everything started to work. When CI looks for the default controller file, it searches in lowercase for the file; if I name my controller file \\\"Home.php\\\" instead of \\\"home.php,\\\" CI misses it on Linux (since Linux file systems are case sensitive).\"]]}"}
{"content": "{\"prompt\": \"User: I have a plain text readme file that is in the root directory of my website which is version controlled with Git. I like to have the readme there because GitHub will display it when viewing that repo.However, when I go tomysite.com/readme.md, I get the readme file back. I do not want this file to be accessible to the public.What is the best way to effectively disallow the public from accessing this readme file without moving the file away from the root of the project?\\n\\nAssistant:\", \"response\": [[\"Many different ways depending on how github accesses this, you'd add some stuff to the htaccess file in your document root (or where your readme file is).Using mod_authz:<Files \\\"readme.md\\\">\\n    Order Deny,Allow\\n    Deny from all\\n</Files>This will return a 403 forbidden forall requeststo/readme.md. If you want to whitelist a specific IP, You can add this right above theDeny from allline:Allow from 12.34.56.78which will whitelist requests sent from the 12.34.56.78 IP.Using mod_rewrite (which gives you a couple of options)RewriteEngine On\\nRewriteRule ^readme\\\\.md$ - [L,F]This does the same thing. To whitelist an IP, add this before theRewriteRuleline:RewriteCond %{REMOTE_ADDR} !^12\\\\.34\\\\.56\\\\.78$You can also return a 404 instead of a 403 Forbidden by replacing theFin the rewrite flags toR=404. If you need to whitelist a referer, you can add a condition (right above the rewriterule line) like this:RewriteCond %{HTTP_REFERER} !^https?://github\\\\.com/ [NC]which will allow people to access the readme.md file if the link was embedded on a page fromgithub.com.\"]]}"}
{"content": "{\"prompt\": \"User: I have a site made using Yii framework. I have used HTTP authentication (basic) for user login purpose. It is working fine. And after authentication it redirects to user profile but in url afterwwwparthttpsis appended.eg.https://wwwhttps.example.com/directory/I have also tried removing https part using .htaccess but no luck. Here is my .htaccess configuration:#Options +FollowSymLinks \\n IndexIgnore */*\\n RewriteEngine on\\n# if a directory or a file exists, use it directly \\n RewriteCond %{REQUEST_FILENAME} !-f \\n RewriteCond %{REQUEST_FILENAME} !-d\\n# otherwise forward it to index.php \\n RewriteRule . index.php\\n\\n#Basic ldap authentication goes here ...\\n\\nRewriteCond %{HTTP_HOST} ^wwwhttps\\\\.(.*)$ [NC] \\nRewriteRule ^(.*)$ https://%1%{REQUEST_URI} [R=301,QSA,NC,L]and the login controller code:public function actionLogin()\\n    {\\n        $this->layout='//layouts/login_layout';\\n        if(isset($_SERVER['REMOTE_USER']) && $_SERVER['REMOTE_USER']!='')\\n        {\\n            $username = $_SERVER['REMOTE_USER'];\\n            $user = User::model()->findByAttributes(array('username'=>$username)); \\n\\n            $ui = UserIdentity::impersonate($user->id);\\n                if($ui)\\n                    Yii::app()->user->login($ui, 0);\\n                    $this->redirect(yii::app()->getBaseUrl(true).'/user/profile');    \\n    }       \\n }Is it because of basic authentication or anything else? If I don't use basic authentication it works fine.... Please help me. \\nThanks in advance!!!\\n\\nAssistant:\", \"response\": [[\"Change the .htaccess ldap authentication code to,RewriteCond %{HTTP_HOST} ^www\\\\.(.*)$ [NC] RewriteRule ^(.*)$ https://%1%{REQUEST_URI} [R=301,QSA,NC,L]So the entire htaccess will look like below,#Options +FollowSymLinks \\n IndexIgnore */*\\n RewriteEngine on\\n# if a directory or a file exists, use it directly \\n RewriteCond %{REQUEST_FILENAME} !-f \\n RewriteCond %{REQUEST_FILENAME} !-d\\n# otherwise forward it to index.php \\n RewriteRule . index.php\\n\\n#Basic ldap authentication goes here ...\\nRewriteCond %{HTTP_HOST} ^www\\\\.(.*)$ [NC] RewriteRule ^(.*)$ https://%1%{REQUEST_URI} [R=301,QSA,NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: I have a website done in Wordpress and I need to make some changes in the fiendly URLs.I’ve created a page from the admin panel nameddetail, this page reads the template filedetail.phpfrom the templates folder.The URL that is currently mounted ishttp://www.domain.com/detail/1234/and I need that it could be accessed ashttp://www.domain.com/anything/1234/.The following lines have been generated by Wordpress but I don’t understand them and I don’t know how to modify them for my purpose:<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.php [L]\\n</IfModule>\\n\\nAssistant:\", \"response\": [[\"First you should really understand what those rules are doing and what you really want to achieve. Then you can try to change the system to fit your needs.IfModuleensures everything inside is processed only whenmod_rewriteApache module is present. All the other directives are from this module.RewriteEngine Onenables URL rewriting.RewriteBase /tells the engine that the rules operate inside root. See also the general question onhowRewriteBaseworks.RewriteRule ^index\\\\.php$ - [L]means that no more rules should be processed ([L]) if the current URL to be rewritten isindex.php. No rewrite takes place.RewriteRuledirective accepts aregex. See alsoregextag here on SO.AllRewriteConddirectives apply to the followingRewriteRule. Unless[OR]flag is added, they must be all satisfied at the same time to execute the rule. In this case they mean:Requested resource is not a regular file.Requested resource is not a directory.Rewrite any (at least one character long) URL toindex.php. This is the last ([L]) rule to be processed.When adding newRewriteRules, you probably want to use the WordPress way of doing this, as described inZac’s answer. Figuring out the right rule by analogy to the many examples in the manual or here on SO should not be hard.\"]]}"}
{"content": "{\"prompt\": \"User: I need help with my .htaccess file. So far, nothing seems to work. I have made a PHP file called vote.php that uses GET variables to redirect the user to the appropriate voting website. Now, I want the user to be able to type myurl.com/vote1 which will redirect them to myurl.com/vote.php?vote=1 and so on vor /vote2, /vote3, /vote4 and /vote5\\nAll help is appreciated!\\nThanks,\\nTanner\\n\\nAssistant:\", \"response\": [[\"Put this code in yourDOCUMENT_ROOT/.htaccessfile:RewriteEngine On\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^vote([0-9]+)/?$ /vote.php?vote=$1 [NC,QSA,L]\"]]}"}
{"content": "{\"prompt\": \"User: Is it possible to remove or hide the .html for a single URL without doing a 301 redirect? All of the examples I have come across involve rewriting all the URLs and some sort of redirect.I would like to rewrite the following URL:http://www.somesite.com/literature.htmltohttp://www.somesite.com/literatureAll of the other URLs should be unaffected and render the .html\\n\\nAssistant:\", \"response\": [[\"Place this simple rule in yourDOCUMENT_ROOT/.htaccessfile:RewriteEngine On\\n\\nRewriteRule ^(literature)/?$ /$.html [NC,L]Reference:Apache mod_rewrite IntroductionThis will internally loadhttp://www.somesite.com/literature.htmlwhen you openhttp://www.somesite.com/literaturein your browser.\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to catch a routesome_pathon my website and redirect it to a different port on the same server. The following code works on the server, but not on my localhost box. I'm using Ubuntu<IfModule mod_rewrite.c>\\n\\n    Options +FollowSymLinks -Indexes\\n    RewriteEngine on\\n    RewriteBase /\\n\\n    # Works on the server\\n    RewriteRule ^some_path/(.*)$ http://remoteserver.com:1337/$1 [P,L]\\n\\n    # Does not work on the localhost\\n    RewriteRule ^some_local_path/(.*)$ http://localhost:1337/$1 [P,L]\\n\\n</IfModule>\\n\\nAssistant:\", \"response\": [[\"I suspect 2 things:You don't have mod_proxy enabled on local UbuntuYou may not have anything running on port # 1337\"]]}"}
{"content": "{\"prompt\": \"User: I need to make redirections from a sub-directory to the parent directory.In other words I have to redirect anything matchinghttp://exemple.com/portfolio/product1to :http://exemple.com/product1Is there any way to do that with URL REWRITE ?Thanks\\n\\nAssistant:\", \"response\": [[\"Enable mod_rewrite and .htaccess throughhttpd.confand then put this code in your.htaccessunderDOCUMENT_ROOTdirectory:Options +FollowSymLinks -MultiViews\\n# Turn mod_rewrite on\\nRewriteEngine On\\nRewriteBase /\\n\\nRewriteRule ^portfolio/(.*)$ /$1 [L,R=301,NC]\"]]}"}
{"content": "{\"prompt\": \"User: I have a problem with redirect URL in .htaccess. I want to remove .php & question marks from the URL.For Example:www.example.com/test.php?id=12towww.example.com/test/12need like this format.I tried using this code in my .htaccessOptions +FollowSymLinks -MultiViews\\n# Turn mod_rewrite on\\nRewriteEngine On\\nRewriteBase /\\n\\n## don't touch /forum URIs\\nRewriteRule ^forums/ - [L,NC]\\n\\n## hide .php extension snippet\\n\\n# To externally redirect /dir/foo.php to /dir/foo\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\\\s([^.]+)\\\\.php [NC]\\nRewriteRule ^ %1 [R,L]\\n\\n# To internally forward /dir/foo to /dir/foo.php\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule ^(.*?)/?$ $1.php [L]This code just removes the .php extension from the URL. Also need to remove the question mark.\\n\\nAssistant:\", \"response\": [[\"That code appears to be from one of my answers :)Replace your code with this:Options +FollowSymLinks -MultiViews\\n# Turn mod_rewrite on\\nRewriteEngine On\\nRewriteBase /\\n\\n## don't touch /forum URIs\\nRewriteRule ^forums/ - [L,NC]\\n\\n## hide .php extension snippet\\n\\n# To externally redirect /dir/foo.php?id=123 to /dir/foo\\nRewriteCond %{THE_REQUEST} ^GET\\\\s([^.]+)\\\\.php\\\\?id=([^&\\\\s]+) [NC]\\nRewriteRule ^ %1/%2? [R,L]\\n\\n# To internally forward /dir/foo/12 to /dir/foo.php?id=12\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule ^(.+?)/([^/]+)/?$ $1.php?id=$2 [L,QSA]\\n\\n# To externally redirect /dir/foo.php to /dir/foo\\nRewriteCond %{THE_REQUEST} ^GET\\\\s([^.]+)\\\\.php\\\\s [NC]\\nRewriteRule ^ %1 [R,L]\\n\\n# To internally forward /dir/foo to /dir/foo.php\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteCond %{QUERY_STRING} ^$\\nRewriteRule ^(.*?)/?$ $1.php [L]\"]]}"}
{"content": "{\"prompt\": \"User: Using the .htaccess file, how can I loadpage Bwhenpage Ais loaded? I do not want the URL to change, it should still saypage A.example: user loadswww.mysite.com/contactand gets the results ofwww.mysite.com/contact-usPreferably, how can i redirect multiple URLs to the same place? Such as.com/A,.com/B, and.com/Call load the content of.com/d. Is there a way to group many of those together (as opposed to this solution:htaccess redirect without changing url)\\n\\nAssistant:\", \"response\": [[\"Depending on your URL layout I would go with something like this:RewriteCond %{REQUEST_URI} ^/(A) [OR,NC]\\nRewriteCond %{REQUEST_URI} ^/(B) [OR,NC]\\nRewriteCond %{REQUEST_URI} ^/(C) [OR,NC]\\nRewriteCond %{REQUEST_URI} ^/(E)\\nRewriteRule ^.*$ /d#%1 [L]Of course you can also do it in one line:RewriteCond %{REQUEST_URI} ^/(A|B|C|E) [NC]\\nRewriteRule ^.*$ /d#%1 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I have taken over a website and am trying to force https. I have added the following to my .htaccess file:RewriteCond %{HTTPS} !=on\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L]The rest of the file looks like this:RewriteCond %{REQUEST_FILENAME} !^(.*)/audio_recording/(.*)$\\nRewriteCond %{REQUEST_FILENAME} !^(.*)/bwcheck/(.*)$\\nRewriteCond %{REQUEST_FILENAME} !^(.+)/page\\\\.php$\\n... lots of Conditions\\nRewriteRule ^(.*)\\\\.* page.php?$1 [L]\\nIndexIgnore *When I add the https redirect I am getting the following error:The page isn't redirecting properly\\nFirefox has detected that the server is redirecting the request for this address in a way that will never complete.and chrome:This webpage has a redirect loop...The url is updated to https however.EDIT:Here is the begining of the .htaccess file:php_value memory_limit 64M\\n\\n<Files .htaccess>\\norder allow,deny\\ndeny from all\\n</Files>\\n\\nDirectoryIndex index\\nOptions +FollowSymlinks\\nRewriteEngine on\\nRewriteBase /\\n\\nErrorDocument 404 /web/content/content/404.php\\n\\nAssistant:\", \"response\": [[\"The following seemed to fix my problem:RewriteCond %{ENV:HTTPS} !on [NC]\"]]}"}
{"content": "{\"prompt\": \"User: I want to set aphp_valueflag only for a specific url (rewrited) path. I'm using htaccess to accomplish this. The framework I'm using is CodeIgniter, so there is one htaccess file and url routes are handled by php.Only the backend of the website should havephp_value max_input_vars 3000. The url ishttp://www.example.com/admin/dashboardI was thinking about this in htaccess file:<Location /website.com/admin>\\n    php_value max_input_vars 20000\\n</Location>\\n\\nAssistant:\", \"response\": [[\"Okay since you cannot upgrade your Apache to latest versions here is onework-around wayto get this conditional setting in place.1 - In theDOCUMENT_ROOTRun this command to create a symbolic link ofindex.phpas__anything.phpln -s index.php __anything.php2 - Put the new code inDOCUMENT_ROOT/.htaccessjust belowRewriteEngine Online. You overall.htaccesswould look like this:# forward all URLs starting with /admin/ to __anything.php\\nRewriteRule ^(admin(?:/.*|))$ __anything.php?/$1 [L,NC]\\n\\n# set max_input_vars to 2000 for file __anything.php\\n<FilesMatch \\\"^__anything\\\\.php\\\">\\n    php_value max_input_vars 20000\\n</FilesMatch>\\n\\n# your regular Codeignitor controller code\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ index.php?/$1 [L]PS:I don't have CI installed so I cannot really test this with CI but otherwise I tested this and got enhancedmax_input_varsvalue.\"]]}"}
{"content": "{\"prompt\": \"User: below is my current .htaccess file. I would like to add another condition/rule where if a request for sitemap.xml is made, sitemap.php is served instead. Please help : )Options +FollowSymLinks\\n\\n<IfModule mod_rewrite.c>\\n\\n   RewriteEngine On\\n\\n   RewriteBase /\\n\\n   RewriteCond %{REQUEST_FILENAME} !-f\\n   RewriteCond %{REQUEST_FILENAME} !-d\\n\\n   RewriteRule ^(.*)$ index.php?filename=$1 [L,QSA]\\n\\n</IfModule>\\n\\nAssistant:\", \"response\": [[\"You could do it explicitly:Options +FollowSymLinks\\n\\n<IfModule mod_rewrite.c>\\n  RewriteEngine On\\n\\n  RewriteBase /\\n\\n  RewriteRule ^sitemap.xml$ sitemap.php [L]\\n\\n  RewriteCond %{REQUEST_FILENAME} !-f\\n  RewriteCond %{REQUEST_FILENAME} !-d\\n  RewriteRule ^(.*)$ index.php?filename=$1 [L,QSA]\\n</IfModule>You'll likely run into problems doing this though... You should create exclusions for spiders so they still receive the sitemap.xml\"]]}"}
{"content": "{\"prompt\": \"User: I want to protect my domain with a password because I just use it to test scripts, but I need to allow curl HTTP POST request. Is this possible?current .htaccess:#AuthUserFile /home/domain/.htpasswds/.htpasswd\\n#AuthType Basic\\n#AuthName \\\"Protected Domain\\\"\\n#Require valid-userPHP curl request$handle = curl_init('http://wwww.domain.com/cgi/mailScript.php');\\n    curl_setopt($handle, CURLOPT_POST, 1);\\n    curl_setopt($handle, CURLOPT_POSTFIELDS, $serial);\\n    curl_exec($handle);PHP error:Authorization Required\\n\\nThis server could not verify that you are authorized to access the document requested. Either you supplied the wrong credentials (e.g., bad password), or your browser doesn't understand how to supply the credentials required.\\n\\nAdditionally, a 401 Authorization Required error was encountered while trying to use an ErrorDocument to handle the request.Edit: I'm not concerned about security as much as just preventing people from exploring the site.\\n\\nAssistant:\", \"response\": [[\"$username = 'login';\\n$password = 'pass';\\n//...\\ncurl_setopt($handle, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);\\ncurl_setopt($handle, CURLOPT_USERPWD, $username . \\\":\\\" . $password);\\ncurl_exec($handle);\"]]}"}
{"content": "{\"prompt\": \"User: I'm looking to create a URL Shortener, although I'm encountering an issue which I cannot think through. \\nI need the user to be able to find his id with a get request using a slash(/) instead of a?=for example,Instead of usingoli.pw?id=100I would need it to beoli.pw/100.I looked into URL rewriting but I honestly have no idea how to accomplish this with all get requests.If this is not detailed enough leave a comment below. Thanks!\\n\\nAssistant:\", \"response\": [[\"You mean?RewriteEngine On\\n\\nRewriteCond %{THE_REQUEST} ^(GET|HEAD)\\\\ /(index\\\\.php)?\\\\?id=([0-9]+)([^\\\\ ]*)\\nRewriteRule ^ /%3?%4 [L,R=301]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^([0-9]+)/?$ /?id=$1 [L,QSA]\"]]}"}
{"content": "{\"prompt\": \"User: url:http://www.side.com/en/page-1/I need to redirect tohttp://www.side.com/page-1/How to do this using .htaccess file, maybe call php file and parse string( URI )?\\n\\nAssistant:\", \"response\": [[\"You can do that with a simple rule:RewriteEngine On\\nRewriteRule ^.*?/(.*)$ /$1 [L,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: Just getting started with Silex and having some issues.Downloaded thefat zip file, unzipped it intowamp'swwwfolder. So, here'sC:\\\\wamp\\\\www\\\\fat-silex\\\\web\\\\index.php:<?php\\nrequire_once __DIR__.'/../vendor/autoload.php';\\n$app = new Silex\\\\Application();\\n$app->get('/hello', function() {\\n    return 'Hello!';\\n});\\n$app->run();Problem is I'm getting Apache's 404's forhttp://localhost/fat-silex/web/hello, and also for any URL exceptlocalhost/fat-silex/web, where I'm getting Silex'es 404 (as expected). I guess the requests go directly to Apache, and are not routed by Silex. This looks like the problem could be solved with a.htaccessfile, so I added this one, suggested in theofficial documentation:<IfModule mod_rewrite.c>\\n    Options -MultiViews\\n\\n    RewriteEngine On\\n    RewriteBase /fat-silex\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteRule ^ index.php [L]\\n</IfModule>However, it doesn't seem to haveanyeffect at all.\\n\\nAssistant:\", \"response\": [[\"Your rewrite base should be/fat-silex/web<IfModule mod_rewrite.c>\\n    Options -MultiViews\\n\\n    RewriteEngine On\\n    RewriteBase /fat-silex/web\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteRule ^ index.php [L]\\n</IfModule>I've tested it on my localhost, and it works fine\"]]}"}
{"content": "{\"prompt\": \"User: UPDATE: Problem solvedAfter many hours, I finally understood that the problem were in folder permission (757 instead of 755).Damn, I feel like a idiot, but at least, problem solved :)Thanks everyone!I'm having a weird problem with my .htaccess and mod_rewrite.Currently, I've the following .htaccess on my root:Options +FollowSymLinks\\nOptions -MultiViews\\n\\nRewriteEngine On\\n\\nRewriteBase /\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-l\\nRewriteRule . /index.php [NC,L]The problem is:I want to be able to access any existing file.i.e.:mysite.com/anydir/myfile.png -> open the anydir/myfile.png- mysite.com/anydir/script.php -> open anydir/script.php- mysite.com/file.png -> open file.png- mysite.com/notadir/imnotafile -> rewriteBut, everything works except the second point. I've afile.phpin mytestfolder, but when I domysite.com/test/file.php, it keep rewriting it, and it shouldn't...What I'm I doing wrong?\\n\\nAssistant:\", \"response\": [[\"Probably do the trick:<IfModule mod_rewrite.c>\\n    RewriteEngine On\\n    RewriteBase /\\n    RewriteCond %{REQUEST_FILENAME} !-d\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteRule ^(.*)$ index.php [QSA,L]\\n</IfModule>UPDATE 1At this part of code:RewriteRule ^index\\\\.php$ - [L][L]Stop the rewriting process immediately and don't apply any more rules. So,RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-l\\nRewriteRule . /index.php [NC,L]Are not interpreted.UPDATE 2:The server will follow symbolic links:Options +FollowSymLinksThe server will disable multi views:Options -MultiViewsRewrite engine will be enabled:RewriteEngine OnBase directory for rewrite will be/:RewriteBase /If request match a not existing file, continue:RewriteCond %{REQUEST_FILENAME} !-fIf request match a not existing directory, continue:RewriteCond %{REQUEST_FILENAME} !-dRewrite toindex.php, in a not sensitive case, and stop execution of next rules:RewriteRule index.php [NC,L]So, try the follow:Options +FollowSymLinks\\nOptions -MultiViews\\n\\nRewriteEngine On\\nRewriteBase /\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule index.php [NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: I have a site with two domains. I want that whenever domain X is visited (no matter what the path is... /foo/bar/, root or whatever), the browser should redirect to a specific URL.So:domainX.com -> domainX.com\\ndomainY.com -> domainX.com/some/pathThe following kinda sorta works, but it only matches againstdomainY.com, sowww.domainY.comordomainY.com/some/pathdoesn't work.RewriteCond %{HTTP_HOST} ^domainY\\\\.com\\nRewriteRule ^(.*)$ http://domainX\\\\.com/some/path [L]It has to accept both with and without www before though. Any ideas?\\n\\nAssistant:\", \"response\": [[\"You can extend the regular expression forHTTP_HOSTRewriteCond %{HTTP_HOST} ^(?:www\\\\.)?domainY\\\\.com$\\nRewriteRule .* http://domainX.com/some/path [L]This is a rewrite. If you want to redirect the client, you must add anRflagRewriteRule .* http://domainX.com/some/path [R,L]When everything works as it should, you may replaceRwithR=301.Nevertest withR=301.\"]]}"}
{"content": "{\"prompt\": \"User: I'm hosting my staging and production servers at Site5, a relatively good hoster IMO. The question is not about their quality but more about an issue related to PHP's version.Our development server is using PHP 5.3 which is a good version, 5.4 being too new, we don't want to use it's features yet, not enough widespread.Problem is, Site5 uses PHP 5.2 by default but you can change to 5.3 using an HTACCESS AddHandler statement. Works fine on Site5 but our dev server crashes when we keep that statement in the HTAccess file.If you use SVN/Git to deploy your web apps, you know that you always keep the same files everywhere, so thats where it hurts, i can't seem to find anything about conditional statements for HTACCESS files for AddHandler. I can write conditions on the rewrite engine easily, but i can't find anything that would look and act like this:#<If SERVERNAME == \\\"targethost.com\\\">\\n#    PHP 5.3 configuration for site5\\n#    AddHandler application/x-httpd-php53 .php\\n#</If>Anyone has a solution?\\n\\nAssistant:\", \"response\": [[\"Since Apache 2.4 you can use this expression in your .htaccess files:<If \\\"%{HTTP_HOST} == 'example.com'\\\">\\n    AddHandler application/x-httpd-php53 .php\\n</If>https://httpd.apache.org/docs/2.4/expr.html#examplesNote that this does not work in Apache 2.2.\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to set up a htaccess file that would accomplish the following:Only allow my website to be viewed if the viewing user is coming from a specific domain (link)So, for instance.  I have a domain called.  protect.mydomain.com .  I only want people coming from a link on unprotected.mydomain.com to be able to access protect.mydomain.com.The big outstanding issue I have is that if you get to protect.mydomain.com from unprotected.mydomain.com and click on a link in the protect.mydomain.com that goes to another page under protect.mydomain.com then I get sent back to my redirect because the http_referer is protect.mydomain.com .   So to combat that I put in a check to allow the referrer to be protect.mydomain.com as well.  It's not working and access is allowed from everywhere.  Here is my htaccess file. (All this is under https)RewriteEngine On\\nRewriteBase /\\nRewriteCond %{HTTP_REFERER} ^https://(.+\\\\.)*mydomain\\\\.com\\nRewriteCond %1 !^(protect|unprotected)\\\\.$ \\nRewriteRule ^.*$ https://unprotected.mydomain.com/ [R=301,L]\\n\\nAssistant:\", \"response\": [[\"You are matching your referer against^https://(.+\\\\.)*mydomain\\\\.com. Which means if some completely other site, sayhttp://stealing_your_images.com/links to something onprotect.mydomain.com, the first condition will fail, thus the request is never redirected tohttps://unprotected.mydomain.com/. You want to approach it from the other direction, only allow certain referers to pass through, then redirect everything else:RewriteEngine On\\nRewriteBase /\\n\\n# allow these referers to passthrough\\nRewriteCond %{HTTP_REFERER} ^https://(protect|unprotected)\\\\.mydomain\\\\.com\\nRewriteRule ^ - [L]\\n\\n# redirect everything else\\nRewriteRule ^ https://unprotected.mydomain.com/ [R,L]\"]]}"}
{"content": "{\"prompt\": \"User: I want to change the extension of php file.For example the file home.php is called in browser it should be shows like home.html.\\nI can done it in codeigniter by usingsuffixvariable in config file.But how can i achieve it in core php? I think it can be done through .htaccess file or may be from other way but how to do?please let me know.i try:RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ $1.htmlby using above code i try to but it is was not changed? or if there any other way to do it please let me know.\\n\\nAssistant:\", \"response\": [[\"Use this rule :RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^(.*)\\\\.html$ $1.php [L]It will redirect any request to a html file (that does not exists phisicaly) to a php file.\"]]}"}
{"content": "{\"prompt\": \"User: i need a help witch an htaccess 301 redirect.I have a site www.site.com but i need to change all pages to www.newsite.com but i want not move www.site.com (for a pages information)EXAMPLE:www.site.com (not move) index of to put then a template or message\\n\\nwww.site.com/2012/08/page.html move to www.newsite.com/2012/08/page.html\\nwww.site.com/tag/keyword/ move to www.newsite.com/tag/keyword/\\nwww.site.com/category/general/ move to www.newite.com/category/general/how i can do that? Thanks\\n\\nAssistant:\", \"response\": [[\"You could try using mod_alias'RedirectMatchto force something in the URI for the redirect. In the htaccess file in site.com's document root, add:RedirectMatch 301 ^/(.+)$ http://www.newsite.com/$1This will make it so anything afterhttp://www.site.com/will get redirected, but justhttp://www.site.com/will not. However,http://www.site.com/index.htmlwillget redirected. If that's an issue, you can use mod_rewrite:RewriteEngine On\\nRewriteCond %{REQUEST_URI} !^/$\\nRewriteCond %{REQUEST_URI} !^/index.html$\\n# and whatever else you don't want redirected\\nRewriteRule ^(.*)$ http://www.newsite.com/$1 [L,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: In my server I want to show the list of the php files available in a folder. But I don't want to let my users to copy or save them, just be able to open the PHP file.\\n\\nAssistant:\", \"response\": [[\"You can list all files in a specific directory usingglob().//here, I will grab all PHP file names, and throw them into a assoc array:\\n$fileArr = glob('path/*.php');\\n\\nforeach($fileArr as $val)\\n{\\n\\necho $val.\\\"<br>\\\";\\n\\n}\\n\\n//now you have all your file names listedTo prevent users makinghttprequests to them, you usehtaccess:Make a .htaccessfile in the directory your files are sitting in and paste this into it:deny from allNow, no one can makehttprequests to files in that directory.Why you want to do this though, is anyone's guess.\"]]}"}
{"content": "{\"prompt\": \"User: The following htaccess rule doesn't work because of the umlauts.Redirect 301 /xyz/händedruck.html  /new/händedruck.htmlHow can this redirect be modified so that it works?\\n\\nAssistant:\", \"response\": [[\"Try encoded URL instead:/xyz/h%C3%A4ndedruck.htmlTo get this string in PHP you can use theurlencodefunction.There are also many websites that can do urlencoding for you. For example:http://meyerweb.com/eric/tools/dencoder/\"]]}"}
{"content": "{\"prompt\": \"User: I have php application which have to be partially rewritten because of the customer request to have SEO frendly urls.My links are as follow:www.mysite.com/articles_en.php?artid=89, where I will have to change the url in this:www.mysite.com/articleTitleThen I have this url:www.mysite.com/halls.php?fairid=65 which should becomewww.mysite.com/fairnameAnd www.mysite.com/companies.php?fairid=65&hallid=23 which should becomewww.mysite.com/fairname/hallnameYou get the idea.I need a help with the approach. Is it good idea in the tables of the fairs, halls and articles to create a field in the table named for example alias and then to attempt to rewrite the url? Anyone can help me with the steps how to create this script, or to point me to better approach?I am good at php, but not good at all with regular expressions, so I will be lost on the .htaccess part.Any help will be deeply appreciated.Regards, Zoran\\n\\nAssistant:\", \"response\": [[\".htaccess something like:RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^([^?]*) /url_rewrite.php?path=$1 [L,QSA]database table something like:+------+--------+\\n| path | url    |\\n+------+--------+With the path as the PRIMARY KEY.And a PHP script calledurl_rewrite.phpthat takes the path parameter from the URL, does a lookup on the database to find the real url and performs an HTTP 301 redirect.The url_rewite.php page might look something like this (this is pretty much boilerplate code and will need adjusting to fit your requirements - realistically we shouldn't be using mysql_query() any more either - PDO or MySQLi are better and aren't well, deprecated).<?php\\n// -- database connection and any intialisation stuff you may have might go here ...\\n\\n//get the path\\n$sPath = !empty($_GET['path']);\\n\\n// -> error trapping for empty paths here\\n\\n//retrieve the \\\"real\\\" url from the database\\n$dbQry = mysql_query(\\\"SELECT `url` FROM `seourls` WHERE `path` = '\\\" . mysql_real_escape_string($sPath) . \\\"' LIMIT 0, 1\\\");\\n\\n// -> error trapping here for query errors here\\n\\n$dbResponse = mysql_fetch_row($dbQuery);\\n\\n// -> error trapping here for empty recordsets here\\n\\n$sRealPath = $dbResponse[0]; # which might be \\\"/articles_en.php?artid=89\\\"\\n\\n//redirect\\nheader(\\\"HTTP/1.1 302 Found\\\");\\nheader(\\\"Status: 302 Found\\\"); # for Chrome/FastCGI implementation\\nheader(\\\"Location: {$sRealPath}\\\");\\ndie();\\n\\n?>\"]]}"}
{"content": "{\"prompt\": \"User: I am moving a site from an old domain with several subdomains to a new domain.  I'd like to create a rewrite rule that will just swap out the old domain for the new one, but I am not savvy enough with regular expressions & .htaccess to do this :PI can get the 301 redirect working for the pages on the domain:RewriteCond %{HTTP_HOST} ^(.*)oldomain.org [NC]\\nRewriteRule ^(.*)$ http://newdomain.com/$1 [R=301,L]Any clues on how to modify this to include the subdomain as well?  Or am I stuck listing all the subdomains in separate rewrites?\\n\\nAssistant:\", \"response\": [[\"You just need to add a%1RewriteCond %{HTTP_HOST} ^(.*)oldomain.org [NC]\\nRewriteRule ^(.*)$ http://%1newdomain.com/$1 [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: I'm running Apache 2.26, on Windows 7 with PHP 5.39 mod_ssl/2.2.6 OpenSSL/0.9.8g .PHP works fine, so does Apache.However, I want to try and create custom php.ini files per directory, for my test sites.I could - and did - use php_flag but would like to try to create a custom php.ini file that works. I tried to Google this, but couldn't find anything relevant.This is my current .htaccess for C:/www/vhosts/localhost/testsite1:RewriteEngine on\\nRewriteBase /\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ $1.php\\n\\n\\n#RewriteCond %{REQUEST_fileNAME} !\\\\.php -f\\n#RewriteRule .* index.php\\n\\nAddType text/html .asp\\nAddHandler application/x-httpd-php .page\\n\\nphp_value include_path \\\"./php:/php/\\\"Yet, I made a change in the custom php.ini within the php to have short tags off [for testing only] but it didn't pick it up, the php code showed instead.Any help is appreciated with this; it'll be extremely useful!(bear in mind, this Apache install is a development/testing one)\\n\\nAssistant:\", \"response\": [[\"If you are usingphp_flagthen you are probably using mod_php5.  Custom 'php.ini' files aren't supported with this.  You would need to use suPHP or equiv as thephp.iniis only loaded at PHP startup, and this isn'tper-requestfor mod_php5 and FCGI.However, since you are using PHP 5.3 you can also use.user.ini fileswhich are parsed on a per-request basis.\"]]}"}
{"content": "{\"prompt\": \"User: I'm on a server with safe mode on.\\nNow the server allows .htaccess files.\\nI have one in my public_html folder with settings of Wordpress.\\nNow in a sub-domain i want to insert an.htaccessfile that dsiables safe mode.i Tried theese:php_value safe_mode 0\\nphp_flag safe_mode 0\\nphp_value safe_mode off\\nphp_flag safe_mode offbut none worked.Anyone knows how can i do that?\\nI Can not ask the server owner to disable safe mode, and basicly can't ask him anything.\\n\\nAssistant:\", \"response\": [[\"It sounds like he doesn't allow you to override safe mode. Which makes sense because what would be the point in running a shared server in safe mode if anyone could disable it as they saw fit. You're probably going to need to relocate to a server without safe mode as the only options for changing that value are not going to work for you. Safe mode is already deprecated and is not meant to be used. The \\\"safe\\\" way for a server owner to handle security is through the OS and setting up correct account permissions.\"]]}"}
{"content": "{\"prompt\": \"User: I'm helping a client migrate an old site which used .html extension at the end of the web address to a properly named URL structure.  I want to do a redirect for all URLs that end in .html to the homepage.I tried this but it didn't work:RewriteRule ^(.*)\\\\.html$ $1http://domain.org [NC]\\n\\nAssistant:\", \"response\": [[\"Something like this should fit you needs:RewriteEngine On \\nRewriteBase /\\nRewriteRule (.*)\\\\.html$ / [QSA,R=301,NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: I've been reading a couple of articles on website security and they recommend adding this code to your.htaccessfile to prevent the display of PHP errors:# supress php errors\\nphp_flag display_startup_errors off\\nphp_flag display_errors off\\nphp_flag html_errors off\\nphp_value docref_root 0\\nphp_value docref_ext 0If I add this codedirectlyinto my.htaccessfile I am given a 500 internal server error. What's wrong with it? Is this all deprecated stuff?\\n\\nAssistant:\", \"response\": [[\"It does in fact depend on thePHP SAPI. This precise.htaccesssyntax will only work withmod_phpsetups, not withCGIorFastCGIinstallations. In the latter case you would use a.user.ini(for PHP 5.3 onwards) instead.Most of the options you have there can however be configured at runtime. Useini_set()atop the invocation script:ini_set(\\\"display_errors\\\", 0);Note that for_startup_errorsit's obviously too late to be configured there. Also it's redundant to disablehtml_errorsand the docref things ifdisplay_errorsis already off.\"]]}"}
{"content": "{\"prompt\": \"User: I have some URLs like these:http://plutov.by/post/cubique_zf_jqueryhttp://plutov.by/post/mysql_useful_queriesHow can I with help of Apache mod_rewrite open the next pages?http://plutov.by/post/main?title=cubique_zf_jqueryhttp://plutov.by/post/main?title=mysql_useful_queriesAlso, will be this new rewrite rule work with \\\"one entry point rewriting\\\"?RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . index.php [L]Thanks.\\n\\nAssistant:\", \"response\": [[\"To make the new rewrite rule work with \\\"one entry point rewriting\\\", have yourrewriteRuleslike this:TheQSAflag ismandatoryas you are adding a new query string.RewriteEngine On\\n\\nRewriteRule ^(post)/([\\\\w\\\\d\\\\-]+)/?$ $1/main?title=$2 [QSA]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-l\\nRewriteRule . index.php [L]FlagQSAApache Docs.!-lchecks that the requested URI is not a symbolic ink.\"]]}"}
{"content": "{\"prompt\": \"User: I have an htaccess rewrite setup in my PHP application to route files via the bootstrapper file.  In essence, the goal is to take a URL such as www.domain.com/view/key/value/key/value where the view would route accordingly and the key/value pairs would be available via a function I wrote in the bootstrapper to the views.  All was working well...That is, until I started doing ajax-y stuff.  I'm routing all my ajax queries through a single file, ajaxDispatcher.php.  When I did that, the htaccess (correctly) caught the request and used my bootstrapper to route it inappropriately.  Similarly, it was attempting to route unwanted files such as .ico, .css, etc.I figured out the file extension routing exception, however, I've not been able to have .htaccess ignore rewrite rules for the single file ajaxDispatcher.php.  Here's where my code stands:RewriteEngine On\\n RewriteBase /\\n RewriteCond %{REQUEST_FILENAME} !-f\\n RewriteCond %{REQUEST_FILENAME} !-d\\n RewriteRule ^/ajaxDispatcher.php$ $0 [L]\\n RewriteRule !\\\\.(js|ico|gif|jpg|png|css)$ index.php?route=$1 [L]How do I get .htaccess to ignore the routing rules only for ajaxDispatcher?\\n\\nAssistant:\", \"response\": [[\"You should move your new rule atop the RewriteCond block:RewriteRule ^/?ajaxDispatcher.php$ - [L]Otherwise the RewriteConditions don't cover the extensions RewriteRule anymore, for which I assume they are intended.Another alternative is turning it into another RewriteCond of course:RewriteCond %{SCRIPT_NAME}  !ajaxDispatcherOr injecting it as assertion into the final RewriteRule(?!ajaxDispatcher.php).The ordering thing is best explained on Serverfault:https://serverfault.com/questions/214512/everything-you-ever-wanted-to-know-about-mod-rewrite-rules-but-were-afraid-to-as\"]]}"}
{"content": "{\"prompt\": \"User: I have the following in my .htaccess which is :RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^([^/]+)$ /index.php?type=cat&id=$1 [QSA,L]\\nRewriteRule ^page/([^/]+)$ /index.php?type=page&name=$1This seems to work just fine but relative paths to pictures and css files inside of index.php become broken in the second case (Page). did not work. In second case, all images are pointing to page/images/ instead of image/Other than hardcoding the actual path to images, is there any other way to fix this?images, css, js folders are located in the root. This is how the root looks like.htaccess\\nindex.php\\nimages/\\ncss/\\njs/\\n\\nAssistant:\", \"response\": [[\"RewriteCond directives only apply to the rule directly following them.Try the follwingRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^([^/]+)$ /index.php?type=cat&id=$1 [QSA,L]\\n\\nRewriteCond %{REQUEST_URI} !\\\\.(css|js|jpe?g|gif|png)$ [NC]\\nRewriteRule ^page/([^/]+)$ /index.php?type=page&name=$1 [L]\\n\\n#rewrite requests for page/images to images\\nRewriteCond %{REQUEST_URI} ^/page(/images/.+)$ [NC]\\nRewriteRule . %1 [L]EDIT.\\nModified to rewrite page/images to images\"]]}"}
{"content": "{\"prompt\": \"User: AFAIK by default all .htaccess files in all directories leading to the file requested are parsed, i.e. in this setup:DOC_ROOT = /usr/local/www/dataAllowOverrideis set toAllin the above directoryif a file at/dir1/dir2/dir3/fileis requested, all folders from/down are being checked for.htaccess. If the file is found it is parsed and then the execution is continued based on combined contents of the.htaccessfiles.So here's my setup:DOC_ROOT = /usr/local/www/data- that's where all static and php files are kept.there's a.htaccessin theDOC_ROOTthat rewrites all but some requests to index.php.there's a/Python/root.wsgiin theDOC_ROOTand in httpd.conf there's this:WSGIScriptAlias /apps /usr/local/www/data/Python/root.wsgiAs you can imagine I do not want .htaccess to be used at all for the /Python folder, but it is. How do I prevent it?I tried setting this in httpd.conf, but it doesn't do the job:<Directory \\\"/usr/local/www/apache22/data/Python\\\">\\n    AllowOverride None\\n</Directory>If I do put .htaccess in the Python folder withRewriteEngine offthat seem to do the job, but I don't want to be forced to put such a file in each of the subfolders I don't want to root .htaccess to be used.\\n\\nAssistant:\", \"response\": [[\"There isn't a way to disable inheritance, sadly. An easier way could be to create a single folder in your web root for \\\"everything else\\\", and in the .htaccess in there, put theRewriteEngine offstatement.I think you can do something withRewriteCondto disable this. If you want all subfolders to just be accessible (and rewrite anything that doesn't match an existing subfolder), you can useRewriteCond !-d.\"]]}"}
{"content": "{\"prompt\": \"User: Was wondering is this possible in .htaccess?I'm currently caching .js, .css and all image files via PHP (and providing the cached only if the file has not been modified by checking the filemtime()).However someone suggested it's possible via .htaccess and much faster, so was hoping maybe someone can shed some light...I've looked around and found various snippets but none which cover what I'm after.\\n\\nAssistant:\", \"response\": [[\"If you've gotmod_expiresinstalled on your apache server you can put something like this in your.htaccessfile. This example is PHP orientated (actually grabbed from the Drupal 7.htaccessfile) but should serve as a good starting point.FileETag MTime Size\\n<IfModule mod_expires.c>\\n  # Enable expirations.\\n  ExpiresActive On\\n\\n  # Cache all files for 2 weeks after access (A).\\n  ExpiresDefault A1209600\\n\\n  <FilesMatch \\\\.php$>\\n    # Do not allow PHP scripts to be cached unless they explicitly send cache\\n    # headers themselves. Otherwise all scripts would have to overwrite the\\n    # headers set by mod_expires if they want another caching behavior.\\n    ExpiresActive Off\\n  </FilesMatch>\\n</IfModule>\"]]}"}
{"content": "{\"prompt\": \"User: Hi I'm not a programmer by any stretch of the imagination and am trying to do a multi 301 redirect in my htaccess file based on the following:So I have a ton of urls all with similar naming conventions - here is a sample of 2.http://www.hollandsbrook.com/garrett-at-gold/\\nhttp://www.hollandsbrook.com/garrett-ace-250/These urls need to redirect to:http://www.hollandsbrook.com/garrett-metal-detectors/garrett-at-gold/\\nhttp://www.hollandsbrook.com/garrett-metal-detectors/garrett-ace-250/I could just redirect them 1 line at a time, but I'd like to use regex.Here's what I was thinking so far but not working:RewriteRule ^garrett-([a-z])/$ /garrett-metal-detectors/$1/ [R]Basically i need to redirect any page right off the root that starts with \\\"garrett-\\\" to include the folder path of \\\"garrett-metal-detectors\\\".Any thoughts would be MUCH appreciated.  Many thanks in advance for your help.\\n\\nAssistant:\", \"response\": [[\"if you want temprorary redirect use:RewriteRule ^garrett\\\\-([a-z0-9\\\\-]+)/?$ /garrett-metal-detectors/garrett-$1/ [R=302,L]if you want permanent redirect use:RewriteRule ^garrett\\\\-([a-z0-9\\\\-]+)/?$ /garrett-metal-detectors/garrett-$1/ [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: http://mysite.com/level-1/level-2/level-3/I want to redirect tohttp://mysite.com/level-1/level-2/\\\"level-1\\\" and \\\"level-2\\\" can be anything the user enters... (not these exact words)Could you direct me to a tutorial or give me a few pointers?Thanks a lot!!\\n\\nAssistant:\", \"response\": [[\"Based on your comment (from level-3 to level-2 folder EXACTLY with 301 Permanent Redirect):RewriteEngine On\\nRewriteBase /\\n\\nRewriteRule ^([^/]+/[^/]+/)[^/]+/$ http://www.example.com/$1 [QSA,R=301,L]This rule will redirectexample.com/hello/pink/kitten/toexample.com/hello/pink/If URL structure is different, then NO redirect will occur:missing trailing slash (e.g.example.com/hello/pink/kitten)4-level deep URL (e.g.example.com/hello/pink/kitten/family/)This rule needs to be placed in.htaccessin website root folder. If placed elsewhere (e.g. Apache config file, inside<VirtualHost>, for example) the rule needs small tweaking.\"]]}"}
{"content": "{\"prompt\": \"User: I want to redirect all my product images to an external site using htaccess.\\nHowever I cant figure out how to use dynamic variables, the image-url looks like this:httpz://localhost/oc1505/image/80x80-10035.jpgWhere 80x80 is the height and the width, and the 10035.jpg is the link to the external image.\\nSo in this case I would like to redirect it to an url that looks like:httpz://www.othersite.nl/imgs/prd/kln/10035.jpghow ever if the source image is 150x150-10035.jpg it should redirect to.httpz://www.othersite.nl/imgs/prd/std/10035.jpgAnd I have a few other formats that I would like to redirect.If someone could help me out a little I would be very happy.\\n\\nAssistant:\", \"response\": [[\"Try this:RewriteEngine on\\nRewriteRule 80X80-(.*)$ https://www.othersite.nl/imgs/prd/kln/$1\\nRewriteRule 150x150-(.*)$ https://www.othersite.nl/imgs/prd/std/$1\"]]}"}
{"content": "{\"prompt\": \"User: I built a contact form in PHP inside a Wordpress page, using the exec-php plugin to val and run the code. However, the Wordpress rewrite system seems to override the POSTed form data being sent to the page. Is there any way to ensure that this data gets passed through? All I have in my ,htaccess is the standard WP rewrite block.\\n\\nAssistant:\", \"response\": [[\"Yes you can access forrm POST variables in a page of Wordpress.I created a page template like this:<?php\\n/*\\nTemplate Name: Page with Form\\n*/\\n?>\\n\\n<?php get_header(); ?>\\n<div id=\\\"content\\\" class=\\\"widecolumn\\\">\\n <?php\\n var_dump($_POST);\\n\\n if (have_posts()) : while (have_posts()) : the_post();?>\\n <div class=\\\"post\\\">\\n  <h2 id=\\\"post-<?php the_ID(); ?>\\\"><?php the_title();?></h2>\\n  <div class=\\\"entrytext\\\">\\n  <?php the_content('<p class=\\\"serif\\\">Read the rest of this page &raquo;</p>');?>\\n  </div>\\n </div>\\n <?php endwhile; endif; ?>\\n <?php edit_post_link('Edit this entry.', '<p>', '</p>'); ?>\\n</div>\\n<form id=\\\"test\\\" method=\\\"post\\\">\\n   <input id=\\\"srchbox\\\" name=\\\"term\\\" size=\\\"28\\\" value=\\\"\\\" type=\\\"text\\\">&nbsp;\\n   <input name=\\\"submit\\\" value=\\\"Submit\\\" align=\\\"absmiddle\\\" type=\\\"submit\\\">\\n</form>\\n<?php get_footer(); ?>Then I created a page through Wordpress admin panel and used above page template.You can see I have a sample form \\\"test\\\" in this page template. Now when I visited the newly created page in my browser and entered some text in form and submitted the form I got this forvar_dump($_POST);line:array(2) {\\n  [\\\"term\\\"]=>string(7) \\\"foo-bar\\\"\\n  [\\\"submit\\\"]=>string(6) \\\"Submit\\\"\\n}As you can see Wordpress doesn't interrupt anything and your page has full access to your$_POSTarray for Form POST variables.\"]]}"}
{"content": "{\"prompt\": \"User: Order Deny,Allow\\nAuthUserFile /var/www/subdirectory/.htpasswd\\nAuthName \\\"Authorization Required\\\"\\nAuthType Basic\\nrequire valid-user^my .htaccess file.However, the parent directory has a password.I want this directory to ask only for one password (even though it asks for the second password, the second password can be left blank.  Despite this, i want to remove the second password because it is annoying).\\n\\nAssistant:\", \"response\": [[\"If you want the subdirectory to require the same password as the parent directory, you don't need the.htaccessat all in the subdirectory.Or are you trying to use adifferentpassword in the subdirectory?[Update:]In which case, you need to limit the parent'srequireto not include the subdirectory in question — through aFilesMatchdirective, for instance.  Keep your subdirectory's .htaccess the same, and modify the parent's to include something like:<FilesMatch \\\"\\\\.(private|dirs|are|listed|here)\\\">\\n    require valid-user\\n</FilesMatch>(It seems that there's no way to negate a FilesMatch regex; but I might be wrong about that.)\"]]}"}
{"content": "{\"prompt\": \"User: I have 2 server alias poiting to the same folder and using the same .htaccess, what I want to do is to use different favicons for each server alias.I tried withRewriteCond %{REQUEST_HOST} ^myhost.com$\\nRewriteRule ^favicon\\\\.ico$ /images/favicon1.icoBut i'm still not able to make it workAny answer, tip or solution?\\n\\nAssistant:\", \"response\": [[\"You can use HTTP_HOST instead of REQUEST_HOST. To make different favicon.ico for 2 different alias, you can try below configuration to make to work...RewriteCond %{HTTP_HOST} ^myhost.com$\\nRewriteRule ^favicon\\\\.ico$ /images/favicon1.ico\\n\\nRewriteCond %{HTTP_HOST} ^mynewhost.com$\\nRewriteRule ^favicon\\\\.ico$ /images/favicon2.icothis way you can make it work... i tried on my domain and it works... :)\"]]}"}
{"content": "{\"prompt\": \"User: I am attempting to move my Codeigniter projects from a shared hosting service to Amazon EC2 and am running into some challenges with my .htaccess settings.  These settings enabled me to not have to include index.php in the url.  My previous .htaccess is shown below and worked as expected with my previous hosting provider:<IfModule mod_rewrite.c>\\n   RewriteEngine On\\n   RewriteBase /simple.com/\\n   RewriteCond %{REQUEST_FILENAME} !-f\\n   RewriteCond %{REQUEST_FILENAME} !-d\\n   RewriteRule ^(.*)$ index.php/$1 [L]\\n</IfModule>\\n\\n<IfModule !mod_rewrite.c>\\n   ErrorDocument 404 /index.php\\n</IfModule>With my Amazon EC2 instance, I now have full access to the LAMP stack and have confirmed that the Apache Mod_Rewrite module is enabled.I have set up my EC2 instance with two Virtual Host directories, one for each of my sites.  Both sites serve up their CI applications as expected, but require index.php to be in the url.I've tried inserting my Amazon EC2 public path into the .htaccess file as follows but still no luck:RewriteBase /ec2-55-27-191-14.compute-1.amazonaws.com/simple/I am sure this is 100% user error on my part and would greatly appreciate your diagnosis!\\n\\nAssistant:\", \"response\": [[\"To answer my own question...I wound up changing the Apache file /etc/apache/sites-available/default from AllowOverRide =  None to AllowOverRide  = All.\"]]}"}
{"content": "{\"prompt\": \"User: My server uses suPHP and so each website has it's own php.ini file. My host recommended adding the following in my .htaccess file:<IfModule mod_suphp.c>\\nsuPHP_ConfigPath /home/user/public_html\\n</IfModule>This basically points to the site's php.ini file. However, I am trying to have a standard .htaccess file across all sites that I don't need to edit- basically part of my \\\"boilerplate\\\" site that I start off with. I tried to change the above to this:<IfModule mod_suphp.c>\\nsuPHP_ConfigPath %{DOCUMENT_ROOT}/public_html\\n</IfModule>But this doesn't work. As you can tell I am probably not understanding how this all works. Can anyone help me with the above code so that I don't need to put the exact path in for each .htaccess file, and get Apache to work out the path to my php.ini file?I hope that makes sense, it's a little difficult to explain!\\n\\nAssistant:\", \"response\": [[\"Just doing a sweep of old suphp Qs.mod_suphpuses the standard parameter parser so in principle %{DOCUMENT_ROOT} should work.  The issue that you almost certainly have is that suPHP is generally used for shared hosting solutions and for these, the users effective DOCUMENT_ROOT is not the same as that established by the DocumentRoot directive in the system config.Most vendors set up an environment variable to point at the users document root.  My host sets up DOCUMENT_ROOT_REAL, another that I've come across is PHP_DOCUMENT_ROOT.  You need to look at your phpinfo() report to see what applies in your case.  So on my .htaccess, I usesuPHP_ConfigPath %{ENV:DOCUMENT_ROOT_REAL}/_privateand that works fine for me.\"]]}"}
{"content": "{\"prompt\": \"User: I am managing a wordpress blog and want to throw a 404 error whenever the url contains a string pattern (example: if the url contains \\\"thisisnotwanted\\\"). I was thinking I will be able to add something to the htaccess file like: Redirect \\\"thisisnotwanted\\\" 404Can someone help? I just don't want Google to index pages with this parameter.\\n\\nAssistant:\", \"response\": [[\"This could be achived using robots.txt but since you're asking how to throw the 404 page manualy here it is :<?php\\nif ( preg_match('/thisisnotwanted/i',$_SERVER[\\\"REQUEST_URI\\\"]) ) {\\n    header(\\\"HTTP/1.0 404 Not Found - Archive Empty\\\");\\n    require TEMPLATEPATH.'/404.php';\\n    exit;\\n}\\nget_header();\\n?>This bit of code is just an example on how you can display a 404 page, and it shouldn't be used in \\\"production\\\", instead use robots.txt as Michiel Pater sugested .\"]]}"}
{"content": "{\"prompt\": \"User: I need to protect a clients CMS with a username and password, only one username is needed. I was going to use htaccess because its so quick to add.I'll be adding it using the password directories feature in WHM which stores the passwords here:\\nAuthUserFile \\\"/home/username/.htpasswds/public_html/cms/passwd\\\"How secure is this? Are there ways to get into folders such as .htpasswds?\\n\\nAssistant:\", \"response\": [[\"Straight from Apache's documentationThe most common method is Basic, and this is the method implemented by mod_auth_basic. It is important to be aware, however, that Basic authentication sends the password from the client to the serverunencrypted. This method should therefore not be used for highly sensitive data, unless accompanied by mod_ssl. Apache supports one other authentication method: AuthType Digest. This method is implemented by mod_auth_digest and is much more secure. Most recent browsers support Digest authentication.Please read the restHEREPlease read the comments, things have changed since 2011. Good catch @reve_etrange\"]]}"}
{"content": "{\"prompt\": \"User: I've correctly configured my website to re-route every piece of traffic frommywonderfulwebsite.com/folder1/whatever-url.phptohttp://folder1.mywonderfulwebsite.com/whatever-url-as-above.phpQuestion is: many times, an external website links the page with GET parameters, for examplemywonderfulwebsite.com/folder1/whatever-url.php*?trackingToken=1*So, question is how to make the mod_rewrite pass in the GET parameters to the \\\"rewrited\\\" url, like this:folder1.mywonderfulwebsite.com/whatever-url-as-above.php*?trackingToken=1*Currently, I'm doing the following:<VirtualHost *>\\n   ServerName mywonderfulwebsite.com\\n   ServerAlias www.mywonderfulwebsite.com\\n   DocumentRoot /var/www/mywonderfulwebsite/\\n   DirectoryIndex index.html\\n\\n   <Directory />\\n      allow from all\\n      Options +FollowSymlinks -Indexes\\n   </Directory>\\n\\n   RewriteEngine On\\n   RewriteRule    ^/folder1/(.*)?$    http://folder1.mywonderfulwebsite.com/$1&%{QUERY_STRING}    [L,R=301]\\n</VirtualHost>This piece of htaccess is awful: for example, trying to access this url:www.mywonderfulwebsite.com/folder1/atextfile.txtRedirects tofolder1.mywonderfulwebsite.com/atextfile.txt&In fact, the mod_rewrite appends the trailing &How do I fix this issue?How to correctly redirecting to the correct ( also with GET parameters ) url?Many thanks\\n\\nAssistant:\", \"response\": [[\"Just add the [QSA] flag to your other flags to have the [Q]uery [S]tring [A]ppended automatically.[L,R=301,QSA]\"]]}"}
{"content": "{\"prompt\": \"User: Closed.This question isoff-topic. It is not currently accepting answers.Want to improve this question?Update the questionso it'son-topicfor Stack Overflow.Closed12 years ago.Improve this questionHere is my current .htaccess codeRewriteEngine On\\n\\nRewriteCond %{REQUEST_FILENAME} !-f  \\nRewriteRule ^([^\\\\.]+)$ $1.php [NC,L]it is works only in removing .php extensionfromhttp://localhost/mysite/news.php?category=cat1&id=1tohttp://localhost/mysite/news/cat1/1/and fromhttp://localhost/mysite/news.php?category=cat1&year=2011&month=10&day=25&id=1tohttp://localhost/mysite/news/2011/10/25/1How to write complete .htaccess for the clean url above?\\n\\nAssistant:\", \"response\": [[\"Try ThisRewriteRule ^(.*)\\\\/$ $1.php [NC]for examplehttp://www.exapmle.com/contact-us/\"]]}"}
{"content": "{\"prompt\": \"User: Options +FollowSymlinks\\n\\nRewriteEngine on\\n\\nRewriteCond %{REQUEST_FILENAME} !-f # not a file\\nRewriteCond %{REQUEST_FILENAME} !-d # not a directory\\nRewriteRule ^(.+)$ index.php?params=$1 [L]as you can see, i'm trying to convert anything likemysite.com/x/y/ztomysite.com/index.php?params=x/y/zhowever, it is not working. i tried mysite.com/home and put a breakpoint on the first line in index.php, but got a 404.any ideas as to why this isn't working for me? thanks for anything!\\n\\nAssistant:\", \"response\": [[\"It seems, that eithermod_rewriteis not installed, or enabled, or that you have set theAllowOverride-directive for the specific directory toNone. Change it to (at least)FileInfo\"]]}"}
{"content": "{\"prompt\": \"User: Quick htaccess questionI am changing the domain associated with a site and want to know if I can setup the htaccess to make the following types of redirects:Redirecthttp://www.oldomain.com/contact-ustohttp://www.newdomain.com/contact-usBasically a global redirect that redirects to the new domain but keeps the rest of the URL that the user typed.UPDATE:I ended up using the following code and it works perfectlyOptions +FollowSymLinks\\nRewriteEngine On\\nRewriteCond %{HTTP_HOST} ^olddomain.com$ [OR]\\nRewriteCond %{HTTP_HOST} ^www.olddomain.com$\\nRewriteRule (.*)$ http://www.newdomain.com/$1 [R=301,L]\\n\\nAssistant:\", \"response\": [[\"Sure, you can do this easily without having to mess with cryptic RewriteEngine commands. (RewriteEngine has its place, but it's certainly not needed for something as simple as this.)Redirect permanent / http://newdomain.com/The Redirect directive automatically preserves anything following the portion of the path it's been instructed to redirect. Thedocumentation for the Redirect directiveexplains this with an example:Example:Redirect /service http://foo2.bar.com/serviceIf the client requestshttp://myserver/service/foo.txt, it will be told to accesshttp://foo2.bar.com/service/foo.txtinstead.\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to write a .htaccess rule that would redirect someone asking forhttp://mysite.com/questions/123/my-question-nametohttp://mysite.com/questions/question_handler.php?qid=123Here's what i wrote so far (it's not working):Options +FollowSymLinks\\nRewriteEngine on\\nRewriteCond %{HTTP_HOST} ^(www.)?(.*)$ [NC]\\nRewriteRule ^(.*)/questions/(\\\\d+)/(.*)$ http://%1/questions/question_handler.php?qid=%2$1 [R=301,L]Any help is much appreciated.\\n\\nAssistant:\", \"response\": [[\"RewriteRule ^http://([^/]*)/questions/(\\\\d+)/(.*)$ http://$1/questions/question_handler.php?qid=$2Your(.*)was probably too greedy so it was usinghttp://mysite.com/questions/123/my-question-nameas the first group matched\"]]}"}
{"content": "{\"prompt\": \"User: When creating websites, I like to let my clients view the work in progress. At the moment I do this by uploading their website to a directory, and use .htaccess to password protect that directory. But keeping track of passwords and ensuring the directory is still protected after an update is becoming an issue.I have now created a user login system for my clients where they can login and be redirected to a preview of their site (in an iframe on the page preview.php?c=clientName).I have looked into various ways of redirecting the client site to the preview page and the easiest has been using .htaccess, but this redirect still affects the site when in an iframe.Is there any way to stop the .htaccess redirect when the site is in an iframe?\\n\\nAssistant:\", \"response\": [[\"You could test against the \\\"Referer\\\" header, you can't really rely on that but it's the best possible.E.g.http://jsfiddle.net/QmnKR/one of the headers will beReferer: http:// fiddle.jshell.net/QmnKR/show/light/\"]]}"}
{"content": "{\"prompt\": \"User: is it possible to use php to redirect users to pagei.e. busy.phpwhen the server is busy or overcrowded, or something similiar? thanks :))\\n\\nAssistant:\", \"response\": [[\"You could use PHP Internal Functions like memory-get-usagehttp://php.net/manual/de/function.memory-get-usage.phpor access a Shell Script that gives you some kind of Information about the current load of the Server. And then depending on that Information set a Redirect via Headers.However, Remember that if your server breaks down, most likely the PHP Script wouldn't be executed and no redirect would happen. So, depending on your Infrastructure you can handle this over a secondary Server (a Load-Balancer perhaps).If you can narrow down the most likely cause of a breakdown, try to fetch it there, for example if your MySQL Connection fails, fetch that, and direct the User to your \\\"busy page\\\".\"]]}"}
{"content": "{\"prompt\": \"User: Problem:Visitors open the urlwebsite.com/?i=133r534|213213|12312312but this url isn't valid anymore and they need to be forwarded towebsite.com/#Videos:133r534|213213|12312312What I've tried:During the last hours I tried many mod_rewrite (.htaccess) rules with using Query_String, all failed. The last message inthis topicshows a solution for this problem, but what would be the rule in my situation.I'm very curious how you would solve this problem :)!\\n\\nAssistant:\", \"response\": [[\"The following will handle the simple case you show.    You'll need to add additional logic if you need to allow for other parameters in the query string or file names before the ?.RewriteEngine On\\nRewriteCond %{QUERY_STRING} ^i=(.*)\\nRewriteRule ^.*  /#Video:%1? [NE,R=permanent]Why is this tricky?RewriteRule doesn't look at the query string, so you have to use RewriteCond to evaluate the QUERY_STRING variable and capture the part you'll need later (referenced via %1)the hash character (#) is normally escaped, you must specify the [NE] flagThe trailing ? on the substitution string is required to suppress the original query stringI tested this on Apache 2.2.\"]]}"}
{"content": "{\"prompt\": \"User: I have some javascript that is generated by PHP. Currently I am including the javeascript in the html using<script type=\\\"text/javascript\\\" src=\\\"js/script.php\\\">But I want to use<script type=\\\"text/javascript\\\" src=\\\"js/script.js\\\">Now script.js does not exist, but I want it to redirect to script.php without the user knowing.Can this be done with .htaccess?\\n\\nAssistant:\", \"response\": [[\"If your web server supportsmod_rewrite, you could do something like this:RewriteEngine On\\n\\nRewriteRule ^js/script\\\\.js$ js/script.phpIf you have more than one script, you could generalize thatRewriteRuleby using a backreference from the test pattern:RewriteRule ^js/(.*)\\\\.js$ js/$1.php\"]]}"}
{"content": "{\"prompt\": \"User: i have a url like thishttp://example.com/blog/photos/photos/gallery/image/1.And i need to remove the second photos folder. How do i remove the part usingmod_rewriteand.htaccess?For your interest /blog is my document root.Thanks a lot for any suggestions, SteveEDITYou should know that the URLs being generated by Wordpress 3.0 und NextgenGallery.http://example.com/blogis my document root. That means i have installed  Wordpress into the folderblog.The first slug afterblogis the page i have my gallery associated with.The second slug is the name of the album and could be renamed to everything you want. It is just a placeholder for my galleries.galleryis the name of the gallery.\\n\\nAssistant:\", \"response\": [[\"Assuming you want to do a redirect:RewriteRule ^/blog/photos/photos/(.*)$ /blog/photos/$1 [R]\"]]}"}
{"content": "{\"prompt\": \"User: I want to run an instance of wordpress within my rails app. I currently have wordpress files housed in public/wordpress, but I need to configure my .htaccess file to allow both types of requests. How do I do that? currently, .htaccess is:General Apache optionsAddHandler fcgid-script .fcgi  \\nRewriteEngine On  \\nRewriteRule ^$ index.html [QSA]  \\nRewriteRule ^([^.]+)/!$ $1.html [QSA]  \\nRewriteCond %{REQUEST_FILENAME} !-f  \\nRewriteRule ^(.*)$ dispatch.fcgi [QSA,L]  \\nErrorDocument 500 \\\"Application error Application failed to start properly\\\"\\n\\nAssistant:\", \"response\": [[\"You should start by adding this to the .htaccess in your public folder:RewriteCond %{REQUEST_URI} ^/wordpress.*\\nRewriteRule .* - [L]However, this is not the whole story. You also need to edit /etc/apache2/sites-available/\\nwith this addition (to tell Rails not to process anything in /blog as part of the app):<Location /wordpress>  \\nPassengerEnabled offAlso in /etc/apache2/apache2.conf you may need to tell Apache to make any directory index (e.g. wordpress/) execute an index.php file if there is one:DirectoryIndex index.php\"]]}"}
{"content": "{\"prompt\": \"User: hello im having problem with my site when i typehttp://example.comit works fine but when i typehttp://www.example.comit displays page cannot be found ,what is the problem i couldnot find , i tried .htaccess redirection alsoRewriteEngine On\\nRewriteCond %{HTTP_HOST} ^www.example.com [nc]\\nRewriteRule (.*) example.com/$1 [R=301,L]it is not workingany help will be appreciated\\n\\nAssistant:\", \"response\": [[\"If you're redirecting to a different website you have to specify 'http://' at the front, otherwise Apache it will interpret it as a file on the server.RewriteEngine On\\nRewriteCond %{HTTP_HOST} ^www.example.com [nc]\\nRewriteRule (.*) http://example.com/$1 [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: I need to make accessing directories on my server case insensitive.How do I do that using htaccess?\\n\\nAssistant:\", \"response\": [[\"You have to install and enable the mod_speling module in apache and set the CheckCaseOnly Directive to On in your .htaccessCheckCaseOnly On\"]]}"}
{"content": "{\"prompt\": \"User: If i use:RewriteEngine On\\nRewriteRule ^.* controller.phpIt would send all requests to controller.php\\nBut if controller.php included a css file (/assets/css/main.css) then it wouldn't work, as when the browser called it, it would just redirect to controller.phpIs there a way i can fix this?\\n\\nAssistant:\", \"response\": [[\"You could add aconditionto exclude URLs that can be mapped to actually existing files:RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^.* controller.phpThe-fkeyword will test if the absolute path in%{REQUEST_FILENAME}is a path to an existing regular file in the filesystem and!-fis just the inverse.But if you have a fixed list of directories you want to exclude, you could also do this:RewriteCond $0 !^(assets|foo|bar)/\\nRewriteRule ^.* controller.phpThis condition tests if the match of the wholeRewriteRulepattern (referenced with$0) does not begin with neitherassets/norfoo/norbar/. If you don’t want to process the match you could also use a negated expression directly in yourRewriteRuledirective:RewriteRule !^(assets|foo|bar)/ controller.php\"]]}"}
{"content": "{\"prompt\": \"User: I would like to get rid of all the file extensions on my site. Except when they are on the index i would like it to say nothing...change this foo.com/index.htmlto this foo.com/and when the user goes to another page like foo.com/contact-us.htmlit will be foo.com/contact-usRewriteEngine On\\nRewriteRule ^ this is where i get confused :(Thanks in advance!\\n\\nAssistant:\", \"response\": [[\"Try these rules:RewriteRule ^index\\\\.html$ / [L,R=301]\\nRewriteRule (.+)\\\\.html$ /$1 [L,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: Is it possible to make the DirectoryIndex value in a.htaccessfile conditional based on IP, so that - for example - my IP see'sDirectoryIndexas index.html and everyone else seesDirectoryIndexas index.php?Is there a solution other thanmod_rewrite?\\n\\nAssistant:\", \"response\": [[\"As far as I know, there is no conditional for DirectoryIndex. You could simulate that with a mod_rewrite directive like this one:RewriteCond %{REMOTE_ADDR} your_ip\\nRewriteCond -d\\nRewriteRule (.*)/$ $1/index.htmlIf you want to exclude other visitors of the site from viewing index.html then also useRewriteCond %{REMOTE_ADDR} !your_ip\\nRewriteRule (.*)/index.html$ $1/index.php\"]]}"}
{"content": "{\"prompt\": \"User: I can't commit .htaccess files from my Windows SVN client (TortoiseSVN). The error that is returned is:Could not read status line: Existing connection was forcibly closed by the remote host.And here is basically what my vhost looks like in Apache:<VirtualHost *:80>\\n  DocumentRoot /var/www/mydomain.com/legacy/trunk/html\\n  ServerName mydomain.com\\n\\n  <Directory /var/www/>\\n    FileETag MTime Size\\n    AllowOverride All\\n  </Directory>\\n\\n  <Directory /var/www/tools>\\n    AllowOverride All\\n  </Directory>\\n\\n  <Location /svn>\\n    DAV svn\\n    SVNPath /var/svn/repos/MyRepo\\n\\n    # Limit write permission to list of valid users.\\n    # Require SSL connection for password protection.\\n    # SSLRequireSSL\\n    ErrorDocument 404 default\\n\\n    AuthType Basic\\n    AuthName \\\"Authorization Realm\\\"\\n    AuthUserFile /etc/httpd/conf/.htpasswd\\n    Require valid-user\\n  </Location>\\n</VirtualHost>How can this be changed, so that .htaccess files can be committed?\\n\\nAssistant:\", \"response\": [[\"Just found out how to fix that issue - just put this into your virtual host configuration in order to override global http.conf:<Files ~ \\\"^\\\\.ht\\\">\\n    Order allow,deny\\n    Allow from all\\n    Satisfy All\\n</Files>SourceTHIS is the correct answer for sure (tested), but the op abandoned his question :/\"]]}"}
{"content": "{\"prompt\": \"User: The following rewrite passes a string starting with the number 4 as a variable to process.php :RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(4[^/]*)$ /process.php?variable=$1 [L]So thishttp://www.domain.com/4shoppingis mapped tohttp://www.domain.com/process.php?variable=4shoppingBut I want to extend this last rewrite rule to basically state:if word begins with 4, map to /process.php?variable=$1\\nelse map to /index.phpThe second (else) part of this statement is the basic WordPress rewrite rule.  So for example:http://www.domain.com/shoppingwhich has no 4 will be directed tohttp://www.domain.com/index.php?shopping (I believe this is how WordPress permalinks work!)\\n\\nAssistant:\", \"response\": [[\"Here's the solution:RewriteRule ^(4[^/]*)$ /feedback.php?sms_code=$1 [L]\\n#\\n# BEGIN wordpress\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.php [L]\\n# END wordpressI left the default Wordpress rules in place, and added my own conditional rule above, making sure to terminate [L] processing if the condition was met\"]]}"}
{"content": "{\"prompt\": \"User: Greetings!I have CakePHP based app on shared hosting I wonder if there's a way to clean up the url through .htaccess. What bugs me is that I have to have index.php in it or I get a 404:project.com/index.php/controller/methodInitially I was getting a 404 error no matter what and my host admin ended up setting RewriteEngine off and this is what it looks like now<IfModule mod_rewrite.c>\\nRewriteEngine off\\nRewriteRule    ^$    webroot/    [L]\\nRewriteRule    (.*) webroot/$1    [L]\\n</IfModule>Is there fix for this without the .htaccess? As it is right now, does it pose any type of security risk?Thanks\\n\\nAssistant:\", \"response\": [[\"You need three .htaccess files :/.htaccess/app/.htaccess/app/webroot/.htaccessIf the one you pasted in your question is the one at the root of your website, that's probably where your problem comes from. These directives file would rewrite URLs to project.com/webroot/, which doesn't exist. It should redirect to project.com/app/webroot/, which will in turn rewrite to index.php?url=$1 (relative to project.com/app/webroot/).I'm not pasting the files here; the three of them are available in the CakePHP releases as well as in the Book:http://book.cakephp.org/2.0/en/installation/url-rewriting.html(check the 3rd item in the page).\"]]}"}
{"content": "{\"prompt\": \"User: I have a few messy old URLs like...http://www.example.com/bunch.of/unneeded/crap?opendocument&part=1http://www.example.com/bunch.of/unneeded/crap?opendocument&part=2...that I want to redirect to the newer, cleaner form...http://www.example.com/page.php/welcomehttp://www.example.com/page.php/pricesI understand I can redirect one page to another with a simple redirect i.e.Redirect 301 /bunch.of/unneeded/craphttp://www.example.com/page.phpBut the source page doesn't change, only it's GET vars. I can't figure out how to base the redirect on the value of these GET variables. Can anybody help pls!? I'm fairly handy with the old regexes so I can have a pop at using mod-rewrite if I have to but I'm not clear on the syntax for rewriting GET vars and I'd prefer to avoid the performance hit and use the cleaner Redirect directive. Is there a way? and if not can anyone clue me in as to the right mod-rewrite syntax pls?Cheers,Roger.\\n\\nAssistant:\", \"response\": [[\"As the parameters in the URL query may have an arbitrary order, you need to use a either oneRewriteConddirectivefor every parameter to check or for every possible permutiation.Here’s an example with aRewriteConddirective for each parameter:RewriteCond %{QUERY_STRING} ^([^&]&)*opendocument(&|$)\\nRewriteCond %{QUERY_STRING} ^([^&]&)*part=1(&|$)\\nRewriteRule ^bunch\\\\.of/unneeded/crap$ /page.php/welcome? [L,R=301]\\n\\nRewriteCond %{QUERY_STRING} ^([^&]&)*opendocument(&|$)\\nRewriteCond %{QUERY_STRING} ^([^&]&)*part=2(&|$)\\nRewriteRule ^bunch\\\\.of/unneeded/crap$ /page.php/prices? [L,R=301]But as you can see, this may get a mess.So a better approach might be to use aRewriteMap. The easiest would be a plain text file withkeyandvaluepairs:1 welcome\\n2 pricesTo define your map, write the following directive in your server or virual host configuration (this directive is not allowed in per-directory context):RewriteMap examplemap txt:/path/to/file/map.txtThen you would just need one rule:RewriteCond %{QUERY_STRING} ^([^&]&)*opendocument(&|$)\\nRewriteCond %{QUERY_STRING} ^([^&]&)*part=([0-9]+)(&|$)\\nRewriteRule ^bunch\\\\.of/unneeded/crap$ /page.php/%{examplemap:%2}? [L,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: Is there a way to get URI based access control directly in IIS that works with static content, ASP, WCF services and anything else that comes in looking something like an HTTP request?Particularly I want the access control to be a bullet proof as possible preferably making the decisionbeforeIIS even tries to figure out what to service the request with.This linksort of hints that this can't be done but it's old and I'd be very surprised if what I'm looking for doesn't exist.This linkhas a few other options (and a less \\\"aggressive\\\" community)An ideal solution would be able to declare that everything (staticanddynamic content) under a given URL (for examplehttps://dns.name/some/path/*) needs a login and the user must be in some group. Also, I'd rather set it up with a username/passord file (at least for now) rather than AD or some windows account system.In short I want access control and I don't want to be writing code to get it.Thisseems related but I'm not sure it's quite the same.\\n\\nAssistant:\", \"response\": [[\"You can set access rules for ASP.NET or WCF web application in web.config file.HOW TO: Control Authorization Permissions in an ASP.NET Application\"]]}"}
{"content": "{\"prompt\": \"User: I'm not too inexperienced with ReWrite (not a master either, though) so I was hoping somone might be able to help me.RewriteRule ^$ index.php?page=home [NC]\\nRewriteRule ^adm$ index.php?page=adm_home [NC]\\nRewriteRule ^adm/stats index.php?page=adm_stats [NC]Above is a snippet of my .htaccess file. As you can see, when someone visitshttp://www.example.com/adirectory/it actually calls on index.php?page=home, similarly if someone goes tohttp://www.example.com/adirectory/adm/it will still call index.php?page=adm_home within the \\\"adirectory\\\".What I'm wanting to achieve is this: I want to be able to display alerts on my pages, and to do this I want to simply be able to add alert=n (where n is a number) and thus have the redirect as index.php?page=home&alert=nHowever, I can't understand how this can be done, regex is confusing me. Seeking your help.\\n\\nAssistant:\", \"response\": [[\"You can set theQSA flagto automatically append the originally requested query string to the new one:RewriteRule ^$ index.php?page=home [L,QSA]\\nRewriteRule ^adm$ index.php?page=adm_home [L,QSA]\\nRewriteRule ^adm/stats$ index.php?page=adm_stats [L,QSA]\"]]}"}
{"content": "{\"prompt\": \"User: i'm trying to set up this:https://github.com/oprel/emanonBut everytime i try to run post.cgi i receive this error on the error log:[Sat Jul 02 13:03:13.380647 2022]\\n/fs5d/9kun/public/board/.htaccess: Invalid command 'Deny', perhaps misspelled or \\ndefined by a module not included in the server configurationThe 'Invalid command' is from .htaccess:<FilesMatch \\\"\\\\.(txt|pm)$\\\">\\ndeny from all\\n</FilesMatch>Lines 3,4,5\\nWhat should i do?? I run apache with cgi.\\n\\nAssistant:\", \"response\": [[\"I would expect you are on Apache 2.4<FilesMatch \\\"\\\\.(txt|pm)$\\\">\\ndeny from all\\n</FilesMatch>Denyis an Apache 2.2 (and earlier) directive and is formerly deprecated on Apache 2.4 and moved (from abasemodule) to mod_access_compat (an optional extension). This module is probably not enabled, hence the error.You should be using the correspondingRequiredirective on Apache 2.4 instead. For example:Require all deniedReference:https://httpd.apache.org/docs/2.4/mod/mod_authz_core.html#require\"]]}"}
{"content": "{\"prompt\": \"User: Example:This => URL request ./any_folder/main.d25a1b054a0b0fbeb3def5a0ff50d01e.min.jsFor this => URL request ./any_folder/main.min.jsMy htaccess:RewriteEngine On\\n\\n# Remove md5 from asset files\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.+).([a-fA-F0-9]{32}).(.+)?(js|css)$ $1.$3 [L]\\n\\n# Handle Authorization Header\\nRewriteCond %{HTTP:Authorization} .\\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\\n\\n# Redirect Trailing Slashes If Not A Folder...\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_URI} (.+)/$\\nRewriteRule ^ %1 [L,R=301]\\n\\n# Send Requests To Front Controller...\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^ index.php [L]The above configuration does not work.\\n\\nAssistant:\", \"response\": [[\"Have your htaccess rules file following manner. Please make sure to clear your browser cache before testing your URLs.RewriteEngine On\\n\\n# Handle Authorization Header\\nRewriteCond %{HTTP:Authorization} .\\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\\n    \\n# Remove md5 from asset files\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\n##RewriteRule ^([^.]*)\\\\.(?:[[:alnum:]]{32})\\\\.([^.]*)\\\\.(js|css)/?$ $1.$2.$3 [L]\\n##Since following has worked for OP, so adding it here, commenting above.\\nRewriteRule ^(.+).([a-fA-F0-9]{32}).(.+)?(js|css)$ $1.$4 [L]\\n\\n# Redirect Trailing Slashes If Not A Folder...\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.+)/$ $1 [L,R=301]\\n\\n# Send Requests To Front Controller...\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^ index.php [L]\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to make URL rewrite to nice looking URL with .htaccess. I was trying so many ways and always get or error 500 or nothing is happening. My folder tree looks like this:root\\n    index.php\\n    .htaccess\\n    p\\n        .htaccess\\n        citati.php \\n        ...What I am trying to do is from my \\\"p\\\" directory when someone goes tohttps://example.com/p/citati/Test-testto rewrite that tohttps://example.com/p/citati?autor=Test-testso I can have $_GET[\\\"autor\\\"] in my citati.php file. I have many .php files in \\\"p\\\" directory so that is also what I need to worry about when rewriting.\\nThis is my .htaccess from rootRewriteEngine on\\nRewriteCond %{HTTPS} off\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L,NE]\\nRewriteRule ^(.+)p/citati\\\\/(.+)$ p/citati?autor=$1 [NC]And this is what I have now in my \\\"p\\\" directory .htaccess file:<IfModule mod_rewrite.c>\\nRewriteEngine on\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule !.*\\\\.php$ %{REQUEST_FILENAME}.php [L,QSA]\\nRewriteRule ^p/citati\\\\/(.+)$ p/citati?autor=$1 [NC]\\n</IfModule>It doesn't matter if I can achieve this from root .htaccess file or from \\\"p\\\" directory .htaccess I just want somehow to do this.\\n\\nAssistant:\", \"response\": [[\"As per your shown samples, please do have your root's htaccess Rule file as follows.RewriteEngine ON\\nRewriteCond %{HTTPS} off\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L,NE]For yourpdirectory/folder have that htaccess Rule file as follows. You need to use same rules from root htaccess, you could inherit it.RewriteOptions InheritBefore\\nRewriteEngine ON\\nRewriteBase /p/\\n\\nRewriteCond %{THE_REQUEST} \\\\s/(citati[^.]*)\\\\.php\\\\s [NC]\\nRewriteRule ^ %1? [R=301,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^([^/]*)/(.*)/?$ $1.php?autor=$2 [NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: I've been trying to achieve the following rewrite/redirect on a website I'm building but I'm struggling and can't find the right answer online.I want to rewritehttp://www.example.com/php/someFile.phpTo:example.com/someFileI have managed to achieve most of the desired result with the following code in my .htaccess root file but I need help with removing the php subdirectory:RewriteEngine on\\n\\n# remove www from url\\nRewriteCond %{HTTP_HOST} ^www.example.com [NC]\\nRewriteRule ^(.*)$ http://example.com/$1 [L,R=301,NC]\\n\\n# redirect /file.php to /file\\nRewriteCond %{THE_REQUEST} \\\\s/([^.]+)\\\\.php [NC]\\nRewriteRule ^ /%1 [NE,L,R]\\n\\n# internally map /file to /file.php\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule ^(.*)/?$ /$1.php  [L]Any help would be hugely appreciated.\\n\\nAssistant:\", \"response\": [[\"Have it this way in your site root .htaccess:RewriteEngine on\\n\\n# remove www from url\\nRewriteCond %{HTTP_HOST} ^www\\\\.(example\\\\.com)$ [NC]\\nRewriteRule ^ http://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]\\n\\n# redirect /php/file.php to /file\\nRewriteCond %{THE_REQUEST} \\\\s/+(?:php/)?([^.]+)\\\\.php [NC]\\nRewriteRule ^ /%1 [NE,L,R=301]\\n\\n# internally map /file to /php/file.php\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{DOCUMENT_ROOT}/php/$1.php -f\\nRewriteRule ^(.+?)/?$ php/$1.php [L]Make sure to test after clearing your browser cache.\"]]}"}
{"content": "{\"prompt\": \"User: I hope everyone is well.I am having a few issues trying to redirect an image that was linked in error from an email to a html page.For example the email points here -https://www.caravanguard.co.uk/news/wp-content/uploads/2021/03/Swift-Vogue-580-1.jpegBut should point here -https://www.caravanguard.co.uk/news/make-mine-a-dealer-special-caravan-25644/I have appplied the following to our .htaccess, but it does not appear to have worked. I have also done the same in the wordpress yoast plugin we use.redirect 301 /news/wp-content/uploads/2021/03/Swift-Vogue-580-1.jpeg /news/make-mine-a-dealer-special-caravan-25644/Any ideas?\\n\\nAssistant:\", \"response\": [[\"With your shown samples, could you please try following. Please make sure to place these rules at top of your .htaccess file. Also please do clear your browser cache before testing any URLs.RewriteEngine ON\\nRewriteRule ^news/wp-content/uploads/2021/03/Swift-Vogue-580-1\\\\.jpeg/?$ /news/make-mine-a-dealer-special-caravan-25644/ [R=301,NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: I'm usingWordPresson anApacheserver & would like to use my.htaccessto set a cookie when someone first lands on my site.If possible I'd setTWOCookies to:store the full URLstore the value in a parameter in the URL (e.g.teamname)Ordinarily in PHP, I'd just have:function set_user_cookie() {\\n    $url = \\\"http://$_SERVER[HTTP_HOST]$_SERVER[REQUEST_URI]\\\";\\n    if (!isset($_COOKIE['LandingPageURL'])) {\\n        setcookie('LandingPageURL', $url, time()+2678400, \\\"/\\\");\\n    }\\n}\\nadd_action( 'init', 'set_user_cookie');However we've been noticing issues with caching so I wonder if it's possible to achieve this within my.htaccessinstead.Example URL:www.example.com/?teamname=Chicago+Bulls\\n\\nAssistant:\", \"response\": [[\"you can use somethinglikethis. this stores the full URL in a cookie called LandingPageURL .RewriteEngine On\\nRewriteBase /\\n// if the cookie \\\"LandingPageURL\\\" is not set \\nRewriteCond %{HTTP_COOKIE} !^.*LandingPageURL.*$ [NC]\\n// then set it ...\\nRewriteRule ^(.*)$ - [co=LandingPageURL:$1:.example.com:2678400:/]you probably want to use options likeHttpOnlyandSecurefor your cookiethere is also another method to set a cookie in .htaccess that goes like this :<If \\\"%{HTTP_COOKIE} !^.*LandingPageURL.*$\\\">\\n    Header edit Set-Cookie ^(.*)$  $1;SameSite=None;Secure;HttpOnly\\n</If>if you want to read the cookie with php you can go like this<?php\\nif(!isset($_COOKIE['LandingPageURL'])) {\\n  error_log (\\\"Cookie named 'LandingPageURL' is not set  in \\\".__FILE__.\\\" #\\\".__LINE__);\\n} else {\\n  error_log(\\\"Cookie 'LandingPageURL' is set in \\\".__FILE__.\\\" #\\\".__LINE__);\\n  error_log(\\\"Value of Cookie is: \\\" . $_COOKIE['LandingPageURL'] );\\n}\\n?>\"]]}"}
{"content": "{\"prompt\": \"User: I want to pick up the ISO code (two letters) of a country using a REGEX expressionFor example, for the countryIrelandthe ISO code isie. The ISO code could be found after the slash/or after thelast.This is myRewriteRule:RewriteRule ^gallery/country(?:/[^/]*([a-zA-Z-9]{2}))?/?$ gallery/gallery.php?country=$1 [L,QSA]Here are some valid url's... If available, I want to pick the ISO Code:gallery/countrygallery/country/gallery/country/iegallery/country/ie/gallery/country/irelandgallery/country/ireland/gallery/country/ireland-love.iegallery/country/ireland-love.ie/gallery/country/ireland.69-love.ie/I've try to adapt the template formula that I use pretty much for all of my seo url's, but i'm having difficulties with this one. Here's what I've done so far.^gallery/country(?:/[^/]*([a-zA-Z-9]{2}))?/?$https://regex101.com/r/88azeh/6\\n\\nAssistant:\", \"response\": [[\"You can use^gallery/country/(?:.*[/.])?([a-zA-Z]{2})/?$See theregex demo. Details:^- start of inputgallery/country/- a literal string(?:.*[/.])?- an optional pattern matching.*- any zero or more chars other than line break chars as many as possible[/.]- a/or.([a-zA-Z]{2})- Group 1: two ASCII letters/?- an optional/$- end of string.\"]]}"}
{"content": "{\"prompt\": \"User: I have a url similar to:https://example.com/event/FI42382I have created a folder namedeventfrom which I want to use PHP to process theFI42382part.However, the last part is treated as its own directory.  What do I need to do so that it is not a directory and instead I can manipulate the last path as a variable inevent/index.php?Sorry if I have worded the title poorly.  I wasn't sure how to explain this.\\n\\nAssistant:\", \"response\": [[\"You need to pass value which you want to access through a query string to your index.php etc. In your .htaccess file try with following Rules once. Also make sure place your .htaccess file in root(same level along with youreventfolder is present, NOT inside event folder please). Later in your php code you could get/extract thevarvalue which is passed to it.Please make sure you clear your browser cache before testing your URLs.RewriteEngine ON\\nRewriteRule %{QUERY_STRING} ^$\\nRewriteRule ^event/(.*)/?$ event/index.php?var=$1 [NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: I am hosting multiple domains on my Apache Web Server on Ubuntu 18.04 but I cannot set the tmp upload directory for PHP.I tried putting this in my .htaccess for one of the domains, however nothing was stored when I tested.php_value upload_tmp_dir /var/www/example.com/tmp/My permissions for the /var/www/example.com/tmp/ folder are set at Chmod 775Is there a working way to set this in .htaccess or in the domain's .conf file?\\n\\nAssistant:\", \"response\": [[\"+50I've made something like that for my vhosts on my local machine. Note that everything is defined in my vhost because you can't changeupload_tmp_dirandsys_temp_dirin runtime.<VirtualHost *:80>\\n    ServerName example.local\\n    ServerAlias www.example.local\\n    \\n    UseCanonicalName On\\n    \\n    <Directory /mnt/storage/Server/example>\\n        DirectoryIndex index.php\\n        #Options +Indexes +FollowSymLinks\\n        AllowOverride All\\n        Require all granted\\n    </Directory>\\n    \\n    php_admin_value upload_tmp_dir /mnt/storage/Server/example/temp/\\n    php_admin_value sys_temp_dir /mnt/storage/Server/example/temp/\\n    \\n    DocumentRoot \\\"/mnt/storage/Server/example\\\"\\n    \\n    ErrorLog ${APACHE_LOG_DIR}/example.error.log\\n    CustomLog ${APACHE_LOG_DIR}/example.access.log combined\\n</VirtualHost>How to confirm that everything works:Create simple file:$dir = sys_get_temp_dir();\\n$file = tempnam($dir, rand());\\nvar_dump(get_current_user());\\nvar_dump($dir);\\nvar_dump('is_writable: ' . (int)is_writable($dir));\\nvar_dump('is_readable: ' . (int)is_readable($dir));\\nvar_dump($file);Upload script: create file named upload.php<?php\\nif (isset($_POST['submit'])) {\\n    var_dump($_FILES);\\n}\\n?>\\n<!DOCTYPE html>\\n<html>\\n    <body>\\n    <form action=\\\"upload.php\\\" method=\\\"post\\\" enctype=\\\"multipart/form-data\\\">\\n        Select image to upload:\\n        <input type=\\\"file\\\" name=\\\"upload\\\" id=\\\"upload\\\">\\n        <input type=\\\"submit\\\" value=\\\"Upload Image\\\" name=\\\"submit\\\">\\n    </form>\\n    </body>\\n</html>\"]]}"}
{"content": "{\"prompt\": \"User: I have a directory structuremymvc\\n    |--App\\n    |--Core\\n    |--logs\\n    |--public\\n             |--index.php\\n    |--vendor\\n    |--.htaccesswhat i want is that if someone hit my urlwww.example.com/mymvc/then all the request must go throughpublic->index.phpusing.htaccessfile. i do not have access to httpd.conf file.|--public\\n        |--index.phpI want mypublicfolder to be accessible only as a document root and request pass throughindex.phpfile insidepublicfolder. No one can access directlyApp,Core,logsetc. directories. Means i want my public folder to beDOCUMENT ROOT.\\n\\nAssistant:\", \"response\": [[\"First you need to create an.htaccessfile in the root of the project.mymvc/.htaccessRewriteEngine On\\nRewriteCond %{REQUEST_URI} !public/\\nRewriteRule (.*) public/$1 [L]Then, in the.htaccessfile in thepublicdirectory (which would bemymvc/public/.htaccess), you need to add aRewriteBasedirective to the existing code, so it looks like this:mymvc/public/.htaccess# Remove the question mark from the request but maintain the query string\\nRewriteEngine On\\nRewriteBase /mymvc\\nRewriteCond %{REQUEST_FILENAME} !-f \\nRewriteCond %{REQUEST_FILENAME} !-d \\nRewriteCond %{REQUEST_FILENAME} !-l \\nRewriteRule ^(.*)$ index.php?$1 [L,QSA]\"]]}"}
{"content": "{\"prompt\": \"User: I'm using the WordPress Redirection plugin to redirect old landing pages to a new domain.I'm able to match URLs including any query strings and this redirects 100% to the new domain.Example:From:/page/(\\\\?.+)?$To:https://new-site.com/pageHow can I include query strings in the target URL of the plugin so that the browsers will redirect to something like this:https://new-site.com/page?q=test&s=test2.htaccess# BEGIN WordPress\\n<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /usbed/\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /usbed/index.php [L]\\n</IfModule>\\n\\n# END WordPress\\n\\nAssistant:\", \"response\": [[\"It's quite simple, actually.Just set theTarget URLto:https://new-site.com/page$1$1refers to the contents of the captured(\\\\?.+)in the RegEx you provided.Seehttps://redirection.me/support/redirect-regular-expressions/for more details.See sample below:However, in that example, I used this RegEx:/page(|/|/?\\\\?.+)$, which matches these URLs: (you can test it onRegExr, but you need to escape the/with a\\\\; hence you'd use\\\\/page(|\\\\/|\\\\/?\\\\?.+)$, which is also accepted by theRedirectionplugin)http://example.com/page\\nhttp://example.com/page/\\nhttp://example.com/page?q=test&s=test2\\nhttp://example.com/page/?q=test&s=test2\"]]}"}
{"content": "{\"prompt\": \"User: This question already has answers here:How to create an error 404 page using PHP?(11 answers)Closed6 years ago.I want to show users a custom 404 error page but still want to return the error code 404 instead of 302.However, adding a custom 404 page and redirecting users to it changes the status code to 302. I still want the page to send a 404 status code. Is this possible by making any changes to the.htaccessfile or using PHP?\\n\\nAssistant:\", \"response\": [[\"to generate http 404 error from php can be done by this functionhttp_response_code(404);For referencePHP.net\"]]}"}
{"content": "{\"prompt\": \"User: I have a PHP app on Heroku with an SSL certificate for the www version of the domain name. I need all requests (to both www and non-www) to go to via https, and I have added .htaccess to that affect. However, there are still circumstances where it's possible for a user to access the http version and I don't understand why.Here is my .htaccess:RewriteEngine on\\n\\nRewriteCond %{HTTPS}::%{HTTP_HOST} ^off::(?:www\\\\.)?(.+)$\\nRewriteRule ^ https://www.%1%{REQUEST_URI} [NE,L,R]My understanding is that this should force all users to access viahttps://www, but that doesn't always happen. For example, Google sometimes provides search results without thehttpsand the links open insecurehttpinstead.Any ideas about what I'm doing wrong?\\n\\nAssistant:\", \"response\": [[\"+25first redirect to the same host-name on:443, then redirect towww.. ordinarywww.is just an alias in DNS, while most use the shorter non-www hostname for websites. you might have to extend the certificate, because it requires both host-names explicitly added, unless it's wild-carded.# rewrite to HTTPS\\nRewriteCond %{HTTPS} off\\nRewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]if you want to rewrite all towww.(or whatever the certificate says), just add another rule below. at first access, the non-SSL rule[L]is the last step, at the next access the SSL rule[L]is the last step, of the rewrite.# rewrite to www.\\nRewriteCond %{HTTPS} on\\nRewriteCond %{HTTP_HOST} !^www\\\\. [NC]\\nRewriteRule ^(.*)$ https://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]also see this answerhere, concerningrobots.txtwith enforced SSL.when it is \\\"still possible to use HTTP\\\" ...maybe consider another location for the.htaccessfile - or create directories per host-name, which just redirect.\"]]}"}
{"content": "{\"prompt\": \"User: I'm building a small Jekyll site with a number of pages. I would really like to get the page (notpost) links to a pretty state like:foo.com/bar/But I can't figure out how to get past:foo.com/_site/bar/index.htmlI can link to:foo.com/bar.htmlOf course, but that only returns my YAML front material. As you can tell, I haven't quite grokked the Jekyll naming system. Is there an easy way to do this within Jekyll, or will I have to rewrite the.htaccessfile?\\n\\nAssistant:\", \"response\": [[\"You can just typepermalink: prettyin your _config.yml.Source:https://jekyllrb.com/docs/permalinks/#builtinpermalinkstyles\"]]}"}
{"content": "{\"prompt\": \"User: I noticed when accessing a site using HTTPS I get errors in the JS console when trying to include CSS or JS files from a relative path such as this:<link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"css/demo.css?id=14\\\" />Mixed Content: The page at 'https://mysiste.com/' was loaded over HTTPS, but requested an insecure stylesheet 'http://mysiste.com/css/demo.css?id=14'. This request has been blocked; the content must be served over HTTPS.What's the ideal solution for this scenarios?Should I just force all the HTTP accesses to be redirected to HTTPS?Or is there a way to tell the server to serve all relative paths using HTTPS?\\n\\nAssistant:\", \"response\": [[\"Relative links will use the protocol and host from the base URL. The base URL is usually the one which can be seen in the URL bar. But it is possible to change the base URL explicitly using thebase tag.This means if you have a base URL with http as protocol set in your page it will still use http instead of https even though you've accessed the site with https and the reference is relative, i.e. like this:<base href=\\\"http://example.com/\\\">To fix it either remove the base tag or change it to use https instead of http:<base href=\\\"https://example.com\\\">\"]]}"}
{"content": "{\"prompt\": \"User: I have a simple AJAX request that callshttp://myexamplefeed.com/feed/23213I just moved this site to a new server, and all of a sudden I'm getting this error:Cross-Origin Request Blocked: The Same Origin Policy disallows reading\\n  the remote resource athttp://myexamplefeed.com/feed/23213. (Reason:\\n  CORS header ‘Access-Control-Allow-Origin’ does not match ‘(null)’).The thing is, in my .htaccess file I've tried to match *:<IfModule mod_headers.c>\\n  Header set Access-Control-Allow-Origin: *\\n</IfModule>andhttp://myexamplefeed.com:<IfModule mod_headers.c>\\n  Header set Access-Control-Allow-Origin: \\\"http://myexamplefeed.com\\\"\\n</IfModule>and I still get theCORS header ‘Access-Control-Allow-Origin’ does not match ‘(null)’error.Isn't null referring to theHeader set Access-Control-Allow-Originvalue, and shouldn't I be able to alter it in my .htaccess file?UPDATE: That was in Firefox. In Chrome I'm getting this message:The 'Access-Control-Allow-Origin' header contains multiple values '*,\\n  *', but only one is allowed\\n\\nAssistant:\", \"response\": [[\"Try with:<IfModule mod_headers.c>\\nHeader set Access-Control-Allow-Origin \\\"*\\\"\\n</IfModule>\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to create a rewrite rule similar to the one belowRewriteRule ^/?(.*+/.pdf)$ /site-content/import/uploads/$1 [L,R=301]Any url request similar tohttp://hostname/filename.pdfShould redirect tohttp://hostname/site-content/import/uploads/filename.pdfBut it should not redirect if the request file name is inside a sub folder and also it should not redirect the urls other than .pdf or .doc fileshttp://hostname/sub-page/filename.pdf\\nhttp://hostname/sub-page/sub/filename.pdf\\nhttp://hostname/sub-page\\nhttp://hostname/image.png\\n\\nAssistant:\", \"response\": [[\"you can use this :RewriteRule ^([^/.]+\\\\.pdf)$ /site-content/import/uploads/$1 [R,L]or this :RedirectMatch ^/([^/.]+\\\\.pdf)$ /site-content/import/uploads/$1Clear your browser caches before testing this redirect.EDIT:The examples above redirect .pdf files only, to redirect both .pdf and .doc ,you can use this rule :RewriteRule ^[^/.]+\\\\.(pdf|doc)$ /site-content/import/uploads%{REQUEST_URI} [L,R]\"]]}"}
{"content": "{\"prompt\": \"User: I've can easely find a lot of .httaccess blocking examples, but in my case I would actually do the quit opposite, and allow access from all in subfolders matching(^|/)/thumbs/(/|$)If you have a directory named 'blah' that you want to block, but it\\n  can occur anywhere in your directory tree, use the following: \\n  RewriteEngine On RewriteRule (^|/)blah(/|$) - [F]Any body who know how to accomplish this?\\n\\nAssistant:\", \"response\": [[\"Well if you to want to allow/thumbs/directories, it depends how they are being blocked in the first place. If they're blocked with normal Apache access permissions, then something like this will do it, but must go in the main server config at root level or in a<VirtualHost>and not in a.htaccessfile.<DirectoryMatch \\\"/thumbs/\\\">\\n    Require all granted\\n</DirectoryMatch>Or for Apache before 2.4:<DirectoryMatch \\\"/thumbs/\\\">\\n    Order allow,deny\\n    Allow from all\\n</DirectoryMatch>Allowing is quite different from blocking with a forbidden response that you cited. You have to ask why is it not already allowed if it's within the web document root? Then open up that block.\"]]}"}
{"content": "{\"prompt\": \"User: In a project using Symfony 2.8.14 I am using a very basic setup to enable basic HTTP Authentication in Symfony as described inhttp://symfony.com/doc/2.8/security.htmlsecurity.ymlsecurity:\\n\\n    encoders:\\n        Symfony\\\\Component\\\\Security\\\\Core\\\\User\\\\User: plaintext\\n\\n    providers:\\n        in_memory:\\n            memory:\\n                users:\\n                    myuser: { password: mypassword, roles: 'ROLE_USER' }\\n\\n    firewalls:\\n        default:\\n            anonymous: ~\\n            http_basic: ~\\n\\n    access_control:\\n        - { path: ^/myroute, roles: ROLE_USER }When accessing/myrouteon my local server I am prompted with the HTTP basic auth prompt. However, after entering the correct credentials, it just keeps showing me the prompt.On a remote server there will be infinite \\\"redirects\\\" to the same route with a401status code after entering the correct credentials.Both servers are running Apache 2.4 with PHP via FastCGI. There are other threads suggesting to add# Sets the HTTP_AUTHORIZATION header removed by apache\\nRewriteCond %{HTTP:Authorization} .\\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]to the/web/.htaccessdue to a specific problem with Apache running PHP via FastCGI. However, this is already incorporated into thesymfony/standard-edition(and is also present in my.htaccess).I don't know what else to try.\\n\\nAssistant:\", \"response\": [[\"One of the notes onhttp://php.net/manual/en/features.http-auth.phpsuggested adding this:SetEnvIf Authorization .+ HTTP_AUTHORIZATION=$0That helped. It appears the default.htaccessconfig of thesymfony/standard-editionis not enough (at least in some Environments).\"]]}"}
{"content": "{\"prompt\": \"User: I have isso app running onlocalhost:63837and I'd like to proxy requests fromhttps://www.domain.com/issoThese were my approaches:RewriteRule https://www.domain.com/isso/(.*)$ http://127.0.0.1:63837/$1 [P] \\nRewriteRule /isso/(.*)$ http://127.0.0.1:63837/$1 [P] \\nRewriteRule /isso(.*)$ http://127.0.0.1:63837/$1 [P]Normally I'd adjusthttpd-vhost.confbut in this case I can't do that on my hoster (uberspace).<Location \\\"/isso\\\">\\n  ProxyPass \\\"http://127.0.0.1:63837\\\"\\n  ProxyPassReverse \\\"http://127.0.0.1:63837\\\"\\n</Location>Also, I don't like to use a subdomain for this.\\n\\nAssistant:\", \"response\": [[\"Your second approach was almost correct (in fact, exactly that would work in.conffile).In per-directory context (Directoryor.htaccess), thePatternis matched against only a partial path: the directory path where the rule is defined is stripped from the path before comparison - up to and including a trailing slash!.\\nThe removed prefix always ends with a slash, meaning the matching occurs against a string whichneverhas a leading slash.Therefore:RewriteRule ^isso/(.*)$ http://127.0.0.1:63837/$1 [P]\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to force https and redirect non-www to www:domain.com      ==>https://www.domain.comwww.domain.com  ==>https://www.domain.comThe problem is I have many sudomains and I don't have wildcard ssl (for now) so I want :(x).domain.com (except www.domain.com) ===> http://*.domain.comIs that possible ?All the ansewers i found and tested only force https or redirect all non-www to www my problem is i don't want subdomains get https except for www and redirect non-www to www\\n\\nAssistant:\", \"response\": [[\"To forcehttps://wwwonly for the www.example.com , you can use :RewriteEngine on\\n#redirect http non-www to https://www\\nRewriteCond %{HTTPS} off\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?example\\\\.com$\\nRewriteRule (.*) https://www.example.com/$1 [R=301,L]\\n#redirect https non-www to www\\nRewriteCond %{HTTPS} on\\nRewriteCond %{HTTP_HOST} ^example\\\\.com$\\nRewriteRule (.*) https://www.example.com/$1 [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: What would be the easiest way to add .html and have it work both ways?example.com/about -> works!example.com/about.html -> works!I can add \\\".html\\\" to the route, but then it doesn't work without.Route::get('about.html', function () {\\n return 'About page';\\n});\\n\\nAssistant:\", \"response\": [[\"Try this one :Route::get('about{extension}', function() {\\n    return 'About page';\\n})->where('extension', '(?:.html)?');You can also use RouteServiceProvider to catch the extension if you have many pages that needs this pattern (thanks @Mike) ://app/Providers/RouteServiceProvider.php\\n\\npublic function boot(Router $router)\\n{\\n  $router->pattern('extension', '(?:.html)?');\\n  parent::boot($router);\\n}and then in your routes.phpRoute::get('about{extension}', function() {\\n    return 'About page';\\n});\"]]}"}
{"content": "{\"prompt\": \"User: I have an Laravel based API on my Server. And I try to access this api from an AngularJS Frontend. Unfortunately this error shows up.Where do I have to add the configuration to allow the Authorization Header?\\nI tried to find a solution but couldn't manage to solve it.I tried to insert it in thehttpd.confand in the.htaccessof the Angular frontend but unfortunately it didn't work:Request header field Authorization is not allowed by Access-Control-Allow-Headers in preflight response.\\n\\nAssistant:\", \"response\": [[\"Quick AnswerIf your server is using Apache, add the following snippet to your api's respective.htaccessfile:<IfModule mod_headers.c>\\n          Header set Access-Control-Allow-Headers \\\"Authorization\\\"\\n</IfModule>More detailsin the above snippet, we are asking Apache to allowAuthorizationheader:Header set Access-Control-Allow-Headers \\\"Authorization\\\"you can add multipleheadersin one line, like this, but keep in mind that it's advised toonly allow the headers required by your app.Header set Access-Control-Allow-Headers \\\"Authorization, X-Requested-With\\\"Side NoteIn a related note, people often need to allow cross-origin request (also known as Cross-Origin Resource Sharing or CORS). The following snippet allows cross requests fromhttps://example.comorigin:Header set Access-Control-Allow-Origin \\\"https://example.com\\\"or you might use\\\"*\\\"to allow requests from all origins:Not RecommendedHeader set Access-Control-Allow-Origin \\\"*\\\"Wrap up<IfModule mod_headers.c>\\n    # To allow headers\\n    Header set Access-Control-Allow-Headers \\\"Authorization\\\"\\n\\n    # to allow cross origin request from https://example.com\\n    Header set Access-Control-Allow-Origin \\\"https://example.com\\\"\\n</IfModule>\"]]}"}
{"content": "{\"prompt\": \"User: When user enters url likehttp://example.com/app/abcd123/I want to show hime page fromhttp://example.com/app/index.php?param=abcd123Without changing URL in browser.I put .htaccess file inside app folder with codeRewriteEngine on\\nRewriteCond %{REQUEST_URI} ^/index.php [NC]\\nRewriteCond %{QUERY_STRING} ^param=(.*)\\nRewriteRule (.*) http://example.com/app/%1? [R=301,L]\\n\\nAssistant:\", \"response\": [[\"You can use this code in/app/.htaccess:RewriteEngine on\\nRewriteBase /app/\\n\\n# external redirect from actual URL to pretty one\\nRewriteCond %{THE_REQUEST} /index\\\\.php\\\\?param=([^\\\\s&]+) [NC]\\nRewriteRule ^ %1? [R=302,L,NE]\\n\\n# internal forward from pretty URL to actual one\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^(.+?)/?$ index.php?param=$1 [L,QSA]\"]]}"}
{"content": "{\"prompt\": \"User: I have created a simple application in Python/Flask, which has a home url (www.site.com/). I have acquired a HostGatorshared accountto host it, so I only have access to.htaccess, but no other Apache config files.I setup a FastCGI script to run the application (followingthese instructions), but they require the URL to have a/index.fcgior any other path.Can I make the root path (/) be served directly by the FastCGI script?Also, folders like/static/and/favicon.icoshould be served by Apache instead.What I have now as.htaccessis:AddHandler fcgid-script .fcgi\\nDirectoryIndex index.fcgi\\n\\nRewriteEngine On\\nRewriteBase /\\nRewriteRule ^index.fcgi$ - [R=302,L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ index.fcgi/$1 [R=302,L]I'm not sure, but I think the Apache version is 2.2.\\n\\nAssistant:\", \"response\": [[\"+50FYI: You can check apache version withapachectl -V  # or /<pathwhereapachelives>/apachectl -VFor the fastCGI setup, see if this link helps.http://redconservatory.com/blog/getting-django-up-and-running-with-hostgator-part-2-enable-fastcgi/Basically, if you want to run the script in/, you can use mod_rewrite to serve static files directly (as/mediain the example below), and every other path being served by the WSGI script:AddHandler fcgid-script .fcgi\\nOptions +FollowSymLinks\\nRewriteEngine On\\n\\nRewriteRule (media/.*)$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^(.*)$ index.fcgi/$1 [QSA,L]Note that, as you are using Flask, you will have to override theSCRIPT_NAMErequest variable (as describedhere), otherwise the result ofurl_for()will be a string starting in/index.fcgi/...:#!/usr/bin/python\\n#: optional path to your local python site-packages folder\\nimport sys\\nsys.path.insert(0, '<your_local_path>/lib/python2.6/site-packages')\\n\\nfrom flup.server.fcgi import WSGIServer\\nfrom yourapplication import app\\n\\nclass ScriptNameStripper(object):\\n   def __init__(self, app):\\n       self.app = app\\n\\n   def __call__(self, environ, start_response):\\n       environ['SCRIPT_NAME'] = ''\\n       return self.app(environ, start_response)\\n\\napp = ScriptNameStripper(app)\\n\\nif __name__ == '__main__':\\n    WSGIServer(app).run()\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to write a .htaccess file that would enable me to writesampleurl.com/car.php?car=1&name=Audi-A4And than it would make the url:sampleurl.com/cars/Audi-A4/1my current code is:RewriteEngine on\\nRewriteRule ^cars/([0-9][0-9])$ /cars/$1/ [R]\\nRewriteRule ^cars/([0-9][0-9])$ /cars/$1/ [R]\\nRewriteRule ^cars/([0-9][0-9])/$ /car.php?car=$1Are there any ideas how could I make this work?EDIT:Both codes work:RewriteEngine On\\nRewriteRule ^([^/]*)/([^/]*)$ /car.php?name=$1&car=$2 [L]andOptions -MultiViews\\nRewriteEngine On\\n\\nRewriteRule ^cars/([\\\\w-]+)/(\\\\d+)/?$ car.php?car=$2&name=$1 [L,QSA,NC]but when I open the website, it shows just the page, without linked css file, how can I link the css file to that webpage?Current CSS Link code:<link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"style/main.css\\\">\\n\\nAssistant:\", \"response\": [[\"You can use this rule in your site root .htaccess:Options -MultiViews\\nRewriteEngine On\\n\\nRewriteRule ^cars/([\\\\w-]+)/(\\\\d+)/?$ car.php?car=$2&name=$1 [L,QSA,NC]\"]]}"}
{"content": "{\"prompt\": \"User: I recently enabled ssl in apache2 and everything was going well, but now everytime I try to accesshttp://example.com/I get redirected tohttps://example.com/I checked my default.conf, apache2.conf for some directions but didn't find any.<VirtualHost *:80>\\nServerAdmin webmaster@localhost\\nServerName example.de\\nDocumentRoot /var/www\\n<Directory />\\n    Options FollowSymLinks\\n    AllowOverride None\\n</Directory>\\n<Directory /var/www/>\\n    Options Indexes FollowSymLinks MultiViews\\n    AllowOverride all\\n    Order allow,deny\\n    allow from all\\n</Directory>\\n\\nScriptAlias /cgi-bin/ /usr/lib/cgi-bin/\\n<Directory \\\"/usr/lib/cgi-bin\\\">\\n    AllowOverride None\\n    Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch\\n    Order allow,deny\\n    Allow from all\\n</Directory>\\nErrorLog ${APACHE_LOG_DIR}/error.log\\n# Possible values include: debug, info, notice, warn, error, crit,\\n# alert, emerg.\\nLogLevel warn\\nCustomLog ${APACHE_LOG_DIR}/access.log combined</VirtualHost>\\n<VirtualHost *:443>\\nDocumentRoot /var/www\\nServerName example.com\\nSSLEngine on\\nSSLCertificateFile /root/server.crt\\nSSLCertificateKeyFile /root/server.key\\n</VirtualHost>I also double checked the .htaccess files in all directorys.\\nIs there a way to look up from where or what is redirecting?\\nAre any other ways to redirect ALL http requests to https?\\n\\nAssistant:\", \"response\": [[\"Open Chrome Developer Tools, go to the network tab, click on preserve log, and load your site over http.If you see a 301 or 302 redirect to https then something on the server is telling your browser to go to https.If you see a 307 redirect to gyros then the site has, or had, a Strict-Transport-Security (aka HSTS) header set on it to force https and Chrome has cached that policy. This is a security feature web servers can use to enforce https. Check the HTTP Headers returned to see if that's the case and, if no such header is being sent than you can view and clear an old policy by using this page into your address bar: chrome://net-internals/#hsts\"]]}"}
{"content": "{\"prompt\": \"User: So I've been searching for a while now and can't find anything specific on how to create a pretty url / seo / slug url type system WITHOUT sending everything to a index.php or moving things into subfolders.Basically I'm making a website which you can currently go to urls like movie.php?id=#### / show.php?id=####. Ideally I'd like the url to be movie/#### or movie/id/#### (or down the line slugs of the name that i can use to grab the right one) etc.Is there a way to do it without having a single index.php router or am I just going to have to rewrite all my files to adhere to this style?\\n\\nAssistant:\", \"response\": [[\"You can create a rewrite rule in .htaccess that routes the movie urls to movie.php as follows:movie/123:RewriteRule ^movie/(\\\\d+)$ movie.php?id=$1 [L]movie/id/123:RewriteRule ^movie/id/(\\\\d+)$ movie.php?id=$1 [L]movie/title-of-movie:RewriteRule ^movie/(\\\\S+)$ movie.php?slug=$1 [L]movie/title/title-of-movie:RewriteRule ^movie/title/(\\\\S+)$ movie.php?slug=$1 [L]combination movie/123/title-of-movie:RewriteRule ^movie/(\\\\d+)/(\\\\S+)$ movie.php?id=$1&slug=$2 [L]Edit: added a full .htaccess example for 1 required with up to 2 extra optional parameters with a fallback on index.php if the url is not for movies.Options -Indexes\\nIndexIgnore */*\\n\\nOptions FollowSymLinks\\nAddDefaultCharset utf-8\\n\\n<IfModule mod_rewrite.c>\\n    RewriteEngine On\\n    RewriteBase /\\n\\n    RewriteRule ^movie/([^/]+)/?([^/]*)/?([^/]*)$ movie.php?param1=$1&param2=$2&param3=$3 [L]\\n\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteCond %{REQUEST_FILENAME} !-d\\n    RewriteCond %{REQUEST_FILENAME} !-l\\n    RewriteRule . index.php [L]\\n</IfModule>^to match from the beginning$to match until the end?for 0 or 1 occurrence+for 1 or more occurrences*for 0 or more occurrencesIf the url rule does not match and the file does not exist then it will route the url to index.php, but you can remove that last part if you don't want that.\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to build a simple website which is going to let users upload files, and privately share them with other designated users. The problem is: I don't want anyone to be able to type in the url for a file to be able to get to it (then anyone could see it).I decided to try using.htaccessto prevent direct url access, however, I cannot figure out how to access the file myself. All of the uploaded files are going to go into asubfoldercalled\\\"restricted\\\".My\\\".htaccess\\\"file is:RewriteEngine on\\nRewriteCond {%QUERY_STRING} !^.*key=SECRET.*$ [NC]\\nRewriteRule ^restricted/(.*)$ showfile.php?file=$1My \\\"showfile.php\\\" file:<?php\\necho file_get_contents('[...]/restricted/'.$_GET['file'].'?key=SECRET');\\n?>However, when I open\\\"restricted/test.txt\\\"or some other file in the restricted folder, it successfully redirects to\\\"showfile.php?file=test.txt\\\", however, I get a php error:Warning: file_get_contents([...]/restricted/test.txt?key=SECRET)\\n  [function.file-get-contents]: failed to open stream: No such file or\\n  directory in [...]/showfile.php on line 10It seems like even though the query string contains\\\"key=SECRET\\\", it is still trying to redirect.What I want: I want it to redirect on direct URL access, but that I can access it through the php page it's redirected to.\\n\\nAssistant:\", \"response\": [[\"If you want to access the file as an HTTP resource instead of direct disk access (like in your question), you can do the following:Code in .htaccess (placed the \\\"nonpublic_test\\\" folder):RewriteEngine on\\nRewriteCond %{REQUEST_URI} ^.*/restricted/.*$ [NC]\\nRewriteCond %{QUERY_STRING} !^.*key=SECRET.*$ [NC]\\nRewriteRule ^(.*)$ /$1 [R=403,L]Then in your showfile.php:<?php\\necho file_get_contents('http://www.domain.name.here/restricted/'.$_GET['file'].'?key=SECRET');\\n?>This will prevent any access to the restricted folder and its contents but still allow your showfile.php script to access the file inside that folder and output it.\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to redirect only the root domain (and not its subfolders) to another URL, without changing the address. I'm using .htaccess and redirecting with [P] flag, which works fine for subdirectories but not for the root.When writing the following .htaccess everything works fine, but in 'regular' redirect and not proxy:RewriteEngine on\\nRewriterule ^$ http://mysubdomain.mydomain.com/ [R,L]When changing to mod_proxy, it doesn't work (does not redirect without an error):RewriteEngine on\\nRewriterule ^$ http://mysubdomain.mydomain.com/ [P]It is important to me to keep the original address in the browser address bar.\\nany idea?Thanks\\n\\nAssistant:\", \"response\": [[\"It's probably doesn't work because the rule doesn;t apply.\\nIn most cases the root is not empty, but contains a request to index.html or default.html . Give this snippet a try:RewriteEngine  on\\nRewriteRule    \\\"default.html\\\"  \\\"http://mysubdomain.mydomain.com/\\\"  [P]\"]]}"}
{"content": "{\"prompt\": \"User: I have the following block in my.htaccessto deny download of configuration files# Disables download of configuration\\n<Files ~ \\\"\\\\.(tpl|yml|ini)$\\\">\\n    # Deny all requests from Apache 2.4+.\\n    <IfModule mod_authz_core.c>\\n          Require all denied\\n    </IfModule>\\n\\n    # Deny all requests from Apache 2.0-2.2.\\n    <IfModule !mod_authz_core.c>\\n        Deny from all\\n    </IfModule>\\n</Files>But how can I allow all files which are namedswagger.yml?\\n\\nAssistant:\", \"response\": [[\"You should be able to do this<Files ~ \\\"\\\\.(tpl|yml|ini)$\\\">\\n    # Deny all requests from Apache 2.4+.\\n    <IfModule mod_authz_core.c>\\n          Require all denied\\n    </IfModule>\\n    # Deny all requests from Apache 2.0-2.2.\\n    <IfModule !mod_authz_core.c>\\n        Deny from all\\n    </IfModule>\\n</Files>\\n\\n<FilesMatch \\\"swagger\\\\.yml$\\\">\\n       <IfModule mod_authz_core.c>\\n          Require all granted\\n       </IfModule>\\n       <IfModule !mod_authz_core.c>\\n        Allow from all\\n    </IfModule>\\n</FilesMatch>Also you should remove the directives for the version you are not using. If you are using 2.4 then you don't need 2.2 directives there. However I left it since that's how you have it.\"]]}"}
{"content": "{\"prompt\": \"User: I have the following RewriteRule which makes it so that someone going todomain.com/somepage/?page=3will be 301 redirected todomain.com/somepage/3/:RewriteCond %{THE_REQUEST} \\\\?page=([0-9]+) [NC]\\nRewriteRule ^ /somepage/%1/? [R=301,L]This is in a.htaccessfile in thesomepagedirectory.Now, thisworksfine... but it's a bit of a hassle. I have about a dozen pages that are paginated, all in their own directory. I would like to just be able to copy the.htaccessfile into each directory and not have to worry about editing each one. For example, I also wantdomain.com/someotherpage/?page=3to redirect todomain.com/someotherpage/3/, but to do this I'd have to edit the respective.htaccessfile and change thesomepagepart tosomeotherpage.It also causes problems when I copy my entire site to a different server. Normally, the site is placed in the root directory. However, when I'm running it locally, I place the entire site in a folder calleddev. So now I have to go through all of the RewriteRules and change it from/somepage/%1/to/dev/somepage/%1. This, as you can probably imagine, is incredibly tedious.So, is there a way of changing this so that the path that it redirects to is relative to the.htaccessfile, rather than from the server's root, so that I can reuse the same.htaccessmultiple times without changing it, and so that I can also move my entire site into adevdirectory without needing to change anything?Thanks.\\n\\nAssistant:\", \"response\": [[\"You can get rewrite base dynamically captured using a separate rule:RewriteEngine On\\n\\nRewriteCond $0#%{REQUEST_URI} ^([^#]*)#(.*)\\\\1$\\nRewriteRule ^.*$ - [E=BASE:%2]\\n\\nRewriteCond %{THE_REQUEST} \\\\?page=(\\\\d+) [NC]\\nRewriteRule ^ %{ENV:BASE}/%1/? [R=301,L]Explanation:You can use$0captured fromRewriteRulein yourRewriteCondbecausemod_rewriteactuallyprocesses a ruleset backwards. It starts with the pattern in theRewriteRule, and if it matches, goes on to check the one or moreRewriteCond.So as you can see in aRewriteCond, the LHS (test string) can use backreference variables e.g.$1,$2OR%1,%2etc but RHS side i.e. condition stringcannot usethese$1,$2OR%1,%2variables.Inside the RHS condition part only backreference we can use areinternal back-referencesi.e. the groups we have captured in this condition itself. They are denoted by\\\\1,\\\\2etc.In yourRewriteCondfirst captured group is([^#]*). It will be represented by internal back-reference `\\\\1.As you can mark out that this rule is basically findingRewriteBasedynamically by comparing%{REQUEST_URI}and$0. An example of%{REQUEST_URI}will be/directory/foobar.phpand example of$0for same example URI will befoobar.php.^([^#]*)#(.*)\\\\1$is putting the difference in 2nd captured group%2or\\\\2. Here it will populate%2or\\\\2with the value/directory/which is used later in setting up env variable%{ENV:BASE}i.e.E=BASE:%2.\"]]}"}
{"content": "{\"prompt\": \"User: I have a site where I have added the base_url() for calling the css and js files. The base_url() is withoutwww. It is working fine withhttp://example.combut not working withhttp://www.example.com. That is it is showing some issues like not taking the fonts, sessions etc. I have searched many solutions but not able to find the right one. \\n Please tell me a solution.\\n\\nAssistant:\", \"response\": [[\"You can do using .htacess redirect as @Arjar Aung provided.I used this way at my config fileif(strpos($_SERVER['HTTP_HOST'],'www')===false)\\n    {\\n        $config['base_url'] = 'http://example.com';\\n    }\\n    else\\n    {\\n        $config['base_url'] = 'http://www.example.com';\\n    }\"]]}"}
{"content": "{\"prompt\": \"User: I have a folder structure like this:subdir\\n|_ subsubdir\\n  |_ index.php\\n  |_ other_stuff.php\\n  |_ images\\n    |_ pic.jpg\\n.htaccess\\nconfig.ini\\nindex.phpContent of the .htacces file:Options +FollowSymLinks -MultiViews -Indexes\\n\\nOrder Deny,Allow\\n<FilesMatch \\\"(\\\\.ini$)|(\\\\.php$)|(^\\\\.)\\\">\\n    Deny from all\\n</FilesMatch>\\n<Files index.php>\\n    Allow from all\\n</Files>My goal is to keep users from viewing subdir/subsubdir/index.php (and all other *.php files, no matter where, but this works already) butallowthem to see the index.php in the root directory.Currently, the user is obviously still able to see subdir/subsubdir/index.php, because all files named \\\"index.php\\\" are allowed, but I have no idea how to allowjustthe one in the root directory and deny all others. I have tried different things but endet up either completely denying or allowing them all.I feel like this should be a very easy task but I just can't figure it out.Things I have tried:<FilesMatch \\\"\\\\.\\\\/index\\\\.php\\\">\\n    Allow from all\\n</FilesMatch>\\n\\n---\\n\\n<FilesMatch \\\"^index\\\\.php$\\\">\\n    Allow from all\\n</FilesMatch>\\n\\n---\\n\\n<Files ./index.php>\\n    Allow from all\\n</Files>\\n\\n---\\n\\n<Files /index.php>\\n    Allow from all\\n</Files>\\n\\nAssistant:\", \"response\": [[\"Comment out bothFilesMatchblocks:And use this code:RewriteEngine On\\n\\nRewriteCond %{REQUEST_URI} !^/index\\\\.php$ [NC]\\nRewriteRule ^\\\\.|\\\\.(ini|php)$ - [F,NC]\"]]}"}
{"content": "{\"prompt\": \"User: I am having one website and it is redirecting to five different index file randomly using php.www.xyzdomain.com/index.phpwww.xyzdomain.com/index2.phpwww.xyzdomain.com/index3.phpwww.xyzdomain.com/index4.phpwww.xyzdomain.com/index5.phpI want to redirect it using.htaccess, the same way it redirecting php.I found that using htaccess we can redirect urls like,Redirect 301 / http://www.xyzdomain.com/index.phporRedirect 302 / http://www.xyzdomain.com/index.phpCurrently i am doing that with usingphprandom array.<?php\\n\\n$urls = array(\\\"index.php\\\",\\n              \\\"index2.php\\\",\\n              \\\"index3.php\\\",\\n              \\\"index4.php\\\",\\n              \\\"index5.php\\\");\\n$url = $urls[array_rand($urls)];\\nheader(\\\"Location: http://www.xyzdomain.com/$url\\\");\\n?>Question: How to redirect multiple index randomly using .htaccess rules?\\n\\nAssistant:\", \"response\": [[\"Not fully random like PHP code but you can achieve something similar usingmod_rewriteusingTIME_SECvariable that represents seconds value of the current time. Consider this code:RewriteEngine On\\nRewriteBase /\\n\\n# dont rewrite more than once\\nRewriteCond %{ENV:REDIRECT_STATUS} .+\\nRewriteRule ^ - [L]\\n\\n# redirect all requests for php file to index file if %{TIME_SEC} is 0, 10, 20, 30, 40, 50\\n# or if %{TIME_SEC} is 1, 11, 21, 31, 41, 51\\nRewriteCond %{TIME_SEC} [01]$\\nRewriteRule ^.+?\\\\.php$ index.php [L,NC]\\n\\n# redirect all requests for php file to index file if %{TIME_SEC} is 2, 12, 22, 32, 42, 52\\n# or if %{TIME_SEC} is 3, 13, 23, 33, 43, 53\\nRewriteCond %{TIME_SEC} [23]$\\nRewriteRule ^.+?\\\\.php$ index2.php [L,NC]\\n\\n# redirect all requests for php file to index file if %{TIME_SEC} is 4, 14, 24, 34, 44, 54\\n# or if %{TIME_SEC} is 5, 15, 25, 35, 45, 55\\nRewriteCond %{TIME_SEC} [45]$\\nRewriteRule ^.+?\\\\.php$ index3.php [L,NC]\\n\\n# redirect all requests for php file to index file if %{TIME_SEC} is 6, 16, 26, 36, 46, 56\\n# or if %{TIME_SEC} is 7, 17, 27, 37, 47, 57\\nRewriteCond %{TIME_SEC} [67]$\\nRewriteRule ^.+?\\\\.php$ index4.php [L,NC]\\n\\n# redirect all requests for php file to index file if %{TIME_SEC} is ending in 8, 9\\nRewriteCond %{TIME_SEC} [89]$\\nRewriteRule ^.+?\\\\.php$ index5.php [L,NC]\"]]}"}
{"content": "{\"prompt\": \"User: This question already has answers here:Remove .php from urls with htaccess(5 answers)Closed9 years ago.Well, I know that it should be done by .htaccess\\nmy .htaccess is in the root of my site and here it's contentRewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ $1.phpAlso mod rewrite is enabled at my server.\\n I have a form with an action on./getReadings.phpin it.\\nBut when I change it to./getReadingsit says that tehre isn't such file on server. What's my mistake?\\n\\nAssistant:\", \"response\": [[\"Try addingOptions -MultiViewsbeforeRewriteEnginedirectiveOptions -MultiViews\\nRewriteEngine On\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ /$1.php [L,QSA]Note:MultiViewsis about Apache content negociation (which is the problem here sincefilenamewill automatically be translated asfilename.phpexisting file). That's why you have to disable it.EDIT: right now, you can access same content by 2 different urls (with or withoutphpextension). To avoid duplicate content (which is bad for search engines) you can redirect extensions to extensionless equivalent with this codeOptions -MultiViews\\nRewriteEngine On\\n\\nRewriteCond %{THE_REQUEST} \\\\s/(.+?)\\\\.php [NC]\\nRewriteRule . /%1 [R=301,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ /$1.php [L,QSA]\"]]}"}
{"content": "{\"prompt\": \"User: I've been working with my own MVC system for a while now and it works great!I use this in my .htaccessRewriteEngine On\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-l\\n\\nRewriteRule ^(.+)$ index.php?page=$1 [QSA,L]Now, when a page (controller) doesn't exist, I redirect to /error(in the index.php file).\\nBut there are some scenarios when a picture will be deleted in a folder, and still be printed in the html page. This will automatically make the browsers call the picture, which doesn't exist (So it will call the /error page)Now what I want to do is that, when a picture, or any file, (except, php,html files i guess) I would like to redirect to a 404 file instead of the /error.I am certain that this could be solved in the .htaccess file, but me and Apache aren't so buddies at the moment. Anyone who is friend with Apache?Thanks!\\n\\nAssistant:\", \"response\": [[\"Assuming that your images are in a common subfolder, for example/imagesinhttp://example.com/images/img.png, you can alter your rule to exclude this subdirectory completely, then add an errordocument. This .htaccess should be in your www-root.RewriteEngine On\\n\\n#If the file does not exist, and the url doesn't start with /images\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-l\\nRewriteCond %{REQUEST_URI} !^/images\\nRewriteRule ^(.+)$ index.php?page=$1 [QSA,L]\\n\\n#If the rule above didn't match, and the file does not exist, use the ErrorDocument\\nErrorDocument 404 /404.phpSeeDocumentation for ErrorDocumentDocumentation for mod_rewriteFree friendship coupon for Apache(might or might not be expired)\"]]}"}
{"content": "{\"prompt\": \"User: First let me show you my .htaccess file code belowRewriteEngine On\\nRewriteBase /site/public/admin/\\n\\n## hide .php extension snippet\\n\\n# To externally redirect /dir/foo.php to /dir/foo\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\\\s([^.]+)\\\\.php [NC]\\nRewriteRule ^ %1/ [R,L]\\n\\n# add a trailing slash    \\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_URI} !/$\\nRewriteRule . %{REQUEST_URI}/ [L,R=301]\\n\\n# To internally forward /dir/foo to /dir/foo.php\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule ^(.*?)/?$ $1.php [L]The code above works fine but what I would like to add to this is when I type the following URLhttp://localhost/site/public/admin/AccidentDetails/?caseid=12it should change to the followinghttp://localhost/site/public/admin/AccidentDetails/caseid/12/Not good at mode rewriting I would like have your opinion on that, please help.\\n\\nAssistant:\", \"response\": [[\"You can use this .htaccess:RewriteEngine On\\nRewriteBase /site/public/admin/\\n\\nRewriteCond %{THE_REQUEST} \\\\s([^.]+?)(?:\\\\.php)?\\\\?caseid=([^&\\\\s]+) [NC]\\nRewriteRule ^ %1/caseid/%2/? [R=302,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^([^/]+)/caseid/([^/]+)/?$ $1.php?caseid=$2 [L,NC,QSA]\\n\\n## hide .php extension snippet    \\n# To externally redirect /dir/foo.php to /dir/foo\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\\\s([^.]+)\\\\.php [NC]\\nRewriteRule ^ %1/ [R=302,L]\\n\\n# add a trailing slash\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule [^/]$ %{REQUEST_URI}/ [L,R=301]\\n\\n# To internally forward /dir/foo to /dir/foo.php\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule ^(.+?)/?$ $1.php [L]\"]]}"}
{"content": "{\"prompt\": \"User: My code isOptions -Multiviews\\n\\n RewriteEngine On\\n RewriteBase /\\n\\n RewriteRule ^([a-z0-9-]+)\\\\.html$ /index.php?cat=$1 [L]If I accessmysite.com/name-of-category.htmlit works, but if I accessmysite.com/name-of-category.html?anything=somethingit shows the webpage but$_GET[\\\"anything\\\"]shows nothing.\\n\\nAssistant:\", \"response\": [[\"You must specify an option calledQSA or 'Query String Append':RewriteRule ^([a-z0-9-]+)\\\\.html$ /index.php?cat=$1 [L,QSA]It will ensure that the original query strings are also included as part of your new URL.\"]]}"}
{"content": "{\"prompt\": \"User: There are a thousand threads on this but I must be missing something as I can't get it to work.My nginx load balancer decrypts SSL traffic and proxies it (via Varnish) through to the content servers. It adds a custom header to the proxied request:proxy_set_header \\\"IS-HTTPS\\\" \\\"1\\\";I can SEE this HTTP header from the content servers:<?php\\nvar_dump($_SERVER[\\\"HTTP_IS_HTTPS\\\"]);\\n?>This will outputstring(1) \\\"1\\\"on a HTTPS connection, andNULLon a HTTP.So, my .htaccess rules:RewriteCond %{HTTP:IS_HTTPS} !=\\\"1\\\"\\n\\nRewriteRule ^(securebit.*)$ https:// %{HTTP_HOST}/$1 [R=301,L]Doesn't work. Just gets into a redirect loop.(NB: the space in \\\"// %\\\" isn't there. StackOverflow validation is falling over on it.)Neither do:RewriteCond %{HTTP:IS_HTTPS} !=1RewriteCond %{HTTP:IS_HTTPS} !1RewriteCond %{HTTP:HTTP_IS_HTTPS} !=\\\"1\\\"RewriteCond %{HTTP:HTTP_IS_HTTPS} !=1RewriteCond %{HTTP:HTTP_IS_HTTPS} !1What simple, obvious and frustrating mistake am I making?\\n\\nAssistant:\", \"response\": [[\"I had a similar problem when nginx that was listening on both http and https ports was forwarding the traffic to a local apache instance.In the nginx configuration i added:proxy_set_header X-Request-Protocol $scheme; #http or httpsIn the .htaccess file i added this:RewriteEngine On\\nRewriteCond %{HTTP:X-Request-Protocol} ^http$\\nRewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=302,L]\"]]}"}
{"content": "{\"prompt\": \"User: Directory structure for my website is like this:www/PSite/inc/public/The inc(include) directory is for where i will include all the important and secure PHP files where normally users have no access but only php code from the public directory can access into the inc directory.And in public direcotry i will have all public files and pages.I have heared that it's a better security system, and i want to do it using.htaccessfile.Assume i have a.htaccessfile in thePSitedirectory how i can redirect request atPSiteto/public/index.htmlso, users will be unable to reach atincdirectory? i was trying with this code, but it dosen't works with other files and folders inpublicdirectory.RewriteEngine On\\nRewriteRule ^$ /public/index.php [L]Note that i have changed the path: localhost/PSite with psite.dev using httpd.conf and windows host fileHTTPD Conf:<VirtualHost 127.0.0.1>\\n   ServerName psite.dev\\n   DocumentRoot \\\"C:\\\\wamp\\\\www\\\\PSite\\\"\\n</VirtualHost>Thanks\\n\\nAssistant:\", \"response\": [[\"Put in the directory to deny access an .htaccess file containingdeny from allIf you have a sub-directory containing public files insert another .htaccess withallow from all\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to redirect URL's with Codeighiter routing. I could not write routing for the following.If the URL comes with/api/some/someI want to redirect it toapi/some/some, otherwise I want to redirect the URL to/home/index.i.e if any URL starts withapi/i don't want to change that URL other wise i want to redirect it to default controllerhome/indexWhat i tried is mapping the codeigniter URL routing.$route['api/(:any)'] = 'api/(:any)';\\n\\n$route['(:any)'] = 'home/index/';I am trying with codeigniter URL routing technique but i am not able to achieve this.Is this is the way to redirect URL's at codeigniter level with out touching server side redirection or is there any better approach to do this?\\n\\nAssistant:\", \"response\": [[\"Solution 1. Using CodeIgniter routingtry this in yourapplication/config/routes.php$route ['api/(:any)'] = \\\"api/$1\\\";\\n$route ['(:any)'] = \\\"home/index/$1\\\";\\n$route ['default_controller'] = \\\"home\\\";For any matching()in patter, you'l need to add respective$1or$2,$3.. based on position of that()patter. i.e for first()its $1, for second()its$2and so on.You'l need to set your default controller tohome.Solution 2. Using .htaccess page redirectionRewriteEngine On\\nRewriteCond %{REQUEST_URI} !^/api(.*)$ \\nRewriteCond %{REQUEST_URI} !^/home/index$ \\nRewriteRule ^.*$ /home/index [R=301,QSA,L]\"]]}"}
{"content": "{\"prompt\": \"User: I have .htaccess file like:RewriteEngine On\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?example.com$ [NC]\\nRewriteRule ^/?market/(.*)$ http://market.example.com/$1 [L,R=301]\\nRewriteRule ^/?buddies/(.*)$ http://buddies.example.com/$1 [L,R=301]\\nRewriteRule ^/?bazaar/(.*)$ http://bazaar.example.com/$1 [L,R=301]It works fine in market subdirectory. It redirects to the subdomain. But, There is a problem with other 2 subdirectories.ERROR FOR OTHER 2 sub-domains:The page isn't redirecting properlyWhat should I do to overcome this problem?\\n\\nAssistant:\", \"response\": [[\"It is becauseRewriteCondis only applicable to the very nextRewriteRule. Your last 2 rules execute for all the hosts includingbuddiesandbazaarand causes redirection loop.You need these rules:RewriteEngine On\\n\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?example.com$ [NC]\\nRewriteRule ^/?market/(.*)$ http://market.example.com/$1 [L,R=301]\\n\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?example.com$ [NC]\\nRewriteRule ^/?buddies/(.*)$ http://buddies.example.com/$1 [L,R=301]\\n\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?example.com$ [NC]\\nRewriteRule ^/?bazaar/(.*)$ http://bazaar.example.com/$1 [L,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to make a clone of a Wordpress site into a subdirectory. So, I will have two installations, one in the root of the domain, and one in /test. My problem is that, even though I have changed the values for siteurl and home uri in database, my links will redirect to root. So, a page like domain.com/test/contact will redirect to domain.com/contact, which is not what I want.\\n\\nAssistant:\", \"response\": [[\"You need to follow these steps to clone your WordPress website from production to staging server -1. First export database of production server WordPress website and open SQL file in an text editor.\\n2. Then find your domain name(domain.com) and replace it at all places with your domain name/test like domain.com/test.\\n3. Import production SQL file to test database from phpmyadmin.\\n4. Open staging WordPress admin like domain.com/test/wp-admin and go to Settings > Permalink section. Just click on the Save button to update htaccess file.\\n5. Optionally you can go to setting at admin page and save all general settings, menus and check Widgets area too.\\n6. Now you can access your domain.com/test WordPress website.\"]]}"}
{"content": "{\"prompt\": \"User: I'm a beginner using htaccess and I don't know how to do what I want. I'd like to understand what I'm doing so I'd really appreciate if you can help me give me some advices for ver (very!) beginners... :)\\nI'd like to:Redirect xxx.php, xxx.html or any extension to xxx (without extension)Now, my htaccess isRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ $1.phpand it works but just if I write xxx. But if I write xxx.php (I see the page :(, I'd like to redirect to xxx) and if I write xxx.html it doesn't show nothing.Finally. I've like to rewrite variables to friendly links\\ni.e. If I have xxx.php?id=1 > I would like to redirect to xxx/usernameThank you in advance\\nBest wishes and merry christmas! :)\\n\\nAssistant:\", \"response\": [[\"Try adding these rules to your htaccess file:RewriteCond %{THE_REQUEST} \\\\ /+([^\\\\?\\\\ ]+)\\\\.php\\nRewriteRule ^ /%1 [L,R=301]If you need to do the same with with.htmlextensions, then change thephppart of that condition to(php|html?).\"]]}"}
{"content": "{\"prompt\": \"User: I can match files just fine when using this<Files foo-bar.php>\\n...\\n</Files>however how do you match it if the string you're matching is like this?<Files foo-bar.php?foo=bar>\\n...\\n</Files>\\n\\nAssistant:\", \"response\": [[\"As David points out, one way to work around this is to use mod_rewrite, but if you have Apache 2.4 or newer, you can use theIf directive, which is a lot cleaner:<Files foo-bar.php>\\n   <If \\\"%{QUERY_STRING} =~ /foo=bar/\\\">\\n       ...\\n   </If>\\n</Files>Note that the argument of the directive is actually a regular expression. It's incredibly powerful.\"]]}"}
{"content": "{\"prompt\": \"User: Mod rewrite novice here. I want to pass two URL parameters in the URL, but in a more friendlier format. If user passes, \\\"example.com/blah123/sys\\\", I should be able to extract the MySQL record \\\"blah123\\\" and the mode type \\\"sys\\\", in this case. Here's the example:URL:example.com/blah123/sysIn the .htaccess, I have:RewriteEngine On\\nRewriteRule ^([^/.]+)/?$ index.php?id=$1The above works if the URL passed is: \\\"example.com/blah123\\\", but not \\\"example.com/blah123/sys\\\".I tried the following, but it is not working:RewriteEngine On\\nRewriteRule ^([^/.]+)/?$/?$ index.php?id=$1?mode=$1I need to extract the \\\"mode\\\" type passed in the second argument. So, if the user enters \\\"example.com/blah123/sys\\\", I should be able to get the value \\\"sys\\\" from the URL. How can I do that? I want to use PHP, MySql, .htacess.UPDATE:\\nMy current .htaccess:# Use PHP 5.3\\nAddType application/x-httpd-php53 .php \\nRewriteEngine On\\n#RewriteRule ^([^/.]+)/?$ index.php?id=$1\\nRewriteRule ^([^/.]+)/([^/.]+)/?$ index.php?id=$1&mode=$2 [L,QSA]\\n\\nAssistant:\", \"response\": [[\"Your regex is wrong. You cannot have$following another$in an input since$denotes end of text.This rule should work:RewriteEngine On\\n\\n# new rule to handle example.com/blah123/sys\\nRewriteRule ^(\\\\w+)/(\\\\w+)/?$ /index.php?id=$1&mode=$2 [L,QSA]\\n\\n# your existing rule to handle example.com/blah123\\nRewriteRule ^(\\\\w+)/?$ /index.php?id=$1 [L,QSA]\"]]}"}
{"content": "{\"prompt\": \"User: i'm using robots.txt to exclude some pages from spiders.User-agent: * \\nDisallow: /track.phpWhen i search something refeered to this page, google says: \\\"A description for this result is not available because of this site's robots.txt – learn more.\\\"It means that the robots.txt is working.. but why the link to the page is still found by the spider? I'd like to have no link to the 'track.php' page... how i should setup the robots.txt? (or something like .htaccess and so on..?)\\n\\nAssistant:\", \"response\": [[\"Here's what happened:Googlebot saw, on some other page, a link to track.php. Let's call that page \\\"source.html\\\".Googlebot tried to visit your track.php file.Your robots.txt told Googlebot not to read the file.So Google knows that source.html links to track.php, but it doesn't know what track.php contains. You didn't tell Google not to index track.php; you told Googlebot not to read and index the datainsidetrack.php.AsGoogle's documentation says:While Google won't crawl or index the content of pages blocked by robots.txt, we may still index the URLs if we find them on other pages on the web. As a result, the URL of the page and, potentially, other publicly available information such as anchor text in links to the site, or the title from the Open Directory Project (www.dmoz.org), can appear in Google search results.There's not a lot you can do about this. For your own pages, you can use thex-robots-tagornoindex meta tagas described in that documentation. That will prevent Googlebot from indexing the URL if it finds a link in your pages. But if some page that you don't control links to that track.php file, then Google is quite likely to index it.\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to \\\"exclude\\\" a directory (and all it's folder) from the rules in .htaccess file...Not sure if that's possible?The .htaccess file is like this:Order Allow,Deny\\nDeny from all\\n<Files ~ \\\"\\\\.(css|jpe?g|png|ico|gif|js)$\\\">\\nAllow from all\\n</Files>\\n<Files \\\"show.php\\\">\\nallow from 127.0.0.1\\n</files>Now, I want to exclude an entire sub-directory... \\nfrom these rules...\\ni.e. Allow from all (for all file extensions in directory \\\"SHOW-STR\\\")The only way now, is to do it file by file ... but I wonder if there's a way to exclude a sub-directory?\\n\\nAssistant:\", \"response\": [[\"Create an htaccess file in yourSHOW-STRdirectory with this:Order Allow,Deny\\nAllow from all\"]]}"}
{"content": "{\"prompt\": \"User: I'm not sure if it's even possible to do this, because searching for answer didn't help (although to be honest, I'm not really sure how to even google this). Anyways, I have a domain for static files (images) media.mydomain.com . All images have random names and are just there in the home folder of the domain. Like this: media.mydomain.com/123abcdefgh.jpg . However, I would like to organize them into folders, so I wouldn't have 100.000 files in one folder. Basically, I would love to have something like this media.mydomain.com/123/abcdefgh.jpg . First 3 characters of the string is folder name, others are file name. This URL also looks fine and if there's no solution, I will go with it. However, maybe it's possible to use .htaccess and somehow make it take first 3 characters of the request uri and rewrite them into folder and the rest of the string into filename? So when you go to media.mydomain.com/123abcdefgh.jpg server will access media.mydomain.com/123/abcdefgh.jpg . I hope my question is clear. Is is possible to do this somehow? Thank you in advance for your help.\\n\\nAssistant:\", \"response\": [[\"Enablemod_rewriteand.htaccessthroughhttpd.confand then put this code in yourDOCUMENT_ROOT/.htaccessfile:RewriteEngine On\\n\\nRewriteCond %{REQUEST_URI} !^/[^/]{3}/\\nRewriteRule ^(.{3})(.+?\\\\.(?:jpe?g|gif|bmp|png|tiff|css|js))$ /$1/$2 [L,R=302,NC]\"]]}"}
{"content": "{\"prompt\": \"User: I have the following url:example.com/helllllllllloAnd I was looking for a way to avoid repeated characters up to double.Inspired by this question/answersRemove Characters from URL with htaccessI have created the following htaccess document to avoid repeated characters. If the character is repeated more than 23 times the url is not completely rewrited and I was wondering if there is any possible improvment?RewriteCond %{REQUEST_METHOD}  !=POST\\nRewriteCond %{REQUEST_URI} ^(.*)l{3,}(.*)$\\nRewriteRule . %1ll%2 [R=301,L]\\n\\nAssistant:\", \"response\": [[\"Here is my full answer to avoid repeated characters in urls using lazy match as suggested by samurai8 in previous comments:FOR REPEATED SLASHS AND DASHESRewriteCond %{REQUEST_METHOD}  !=POST\\nRewriteCond %{REQUEST_URI} ^(.*?)(/{2,})(.*)$\\nRewriteRule . %1/%3 [R=301,L]\\n\\nRewriteCond %{REQUEST_METHOD}  !=POST\\nRewriteCond %{REQUEST_URI} ^(.*?)(-{2,})(.*)$\\nRewriteRule . %1-%3 [R=301,L]\\n\\nRewriteCond %{REQUEST_METHOD}  !=POST\\nRewriteCond %{REQUEST_URI} ^(.*?)(_{2,})(.*)$\\nRewriteRule . %1_%3 [R=301,L]FOR REPEATED LETTERS IN WORDSRewriteCond %{REQUEST_METHOD}  !=POST\\nRewriteCond %{REQUEST_URI} ^(.*?)a{3,}(.*)$\\nRewriteRule . %1aa%2 [R=301,L]\\n\\nRewriteCond %{REQUEST_METHOD}  !=POST\\nRewriteCond %{REQUEST_URI} ^(.*?)b{3,}(.*)$\\nRewriteRule . %1bb%2 [R=301,L]\\n\\nRewriteCond %{REQUEST_METHOD}  !=POST\\nRewriteCond %{REQUEST_URI} ^(.*?)c{3,}(.*)$\\nRewriteRule . %1cc%2 [R=301,L]\\n.\\n.\\n.\"]]}"}
{"content": "{\"prompt\": \"User: I'm using a cpanel/whm setup.htaccess files work fine for the base directory (public_html) but anything below that (public_html/stuff/) isn't processed. I'm aware I need to set AllowOverride, but where exactly do I enable this?\\n\\nAssistant:\", \"response\": [[\"The AllowOverride Directive is set in the apache global configuration file.  This file is managed by cPanel and it's important not to edit sections labeled not to edis as those edits will be lost.The configuration file is located at: /usr/local/apache/conf/httpd.confYou're looking for a section that looks like the following since the AllowOverride directive is only available inside a <directory> section of the configuration file.<Directory \\\"/\\\">\\n  Options All\\n  AllowOverride All\\n</Directory>After you ensure that this AllowOverride is enabled in the apache configuration you will need to let cPAnel know that you have updated the file by running the following command:/usr/local/cpanel/bin/apache_conf_distiller --updateMore about the AllowOverride Directive:http://httpd.apache.org/docs/2.2/mod/core.html#allowoverridecPanel Logs and Configuration Posters:http://go.cpanel.net/logposterhttp://go.cpanel.net/configposter\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to 301 Redirect one category to another category in wordpress, for some reason wordpress isn't doing it automatically so this is what i have at the moment.RewriteRule ^category/?(.*)$ /free/$1 [R=301,L]I've tried this with no hope luck, any ideas why? been looking for a solution for 4h now and i just cant figure it out.Looks like my 7 hours battle is over (kinda sad it took me that long) here is what workedSolution:RedirectMatch 301 /category/(.*) /free/$1\\n\\nAssistant:\", \"response\": [[\"Works using the redirectMatch ruleRedirectMatch 301 /category/(.*) /free/$1\"]]}"}
{"content": "{\"prompt\": \"User: I set up a subdomain on my web host like this:en.domain.com     pointing to the folder     /en/But when entering \\\"en.domain.com\\\" in the address bar, the URL changes todomain.com/en/And if I navigate further, let's say to folder \\\"aaa\\\", the URL turns intodomain.com/en/aaa/Is there a way to make the subdomain stay in the address bar, like this?:en.domain.com/aaa/\\n\\nAssistant:\", \"response\": [[\"I tried everything and nobody could help me. After much research, I found this and it works for me. So here my own answer, that may help others searching for the same thing.This will make that the URL showing the subdomain (\\\"en.domain.com\\\") doesn't change in the address bar and even if someone enters \\\"domain.com/en/\\\" it will rewrite the URL to \\\"en.domain.com\\\":RewriteEngine On\\n\\nRewriteCond %{HTTP_HOST} ^domain\\\\.com$\\nRewriteRule ^en(/(.*))? http://en.domain.com/$2 [QSA,L,R=301]This will break the paths of your site, causing that styles and images won't show. Therefore you need to put this in your HTML code on every page of your site, according to the location of each page in the structure of your site:For the page in folder \\\"en\\\":<head>\\n<base href=\\\"http://domain.com/en/\\\" />\\n</head>For the page in folder \\\"aaa\\\":<head>\\n<base href=\\\"http://domain.com/en/aaa/\\\" />\\n</head>For the page in folder \\\"bbb\\\":<head>\\n<base href=\\\"http://domain.com/en/aaa/bbb/\\\" />\\n</head>You are welcome! :-)\"]]}"}
{"content": "{\"prompt\": \"User: In my .htaccess file I have defined following rule,RewriteRule ^([-0-9a-zA-Z]+) search.php?id=$1The above rule works fine if I am browsinghttp://example.com/abcdI need to use the symbols& % - /in the url like:http://example.com/ab&cdWhat changes have to be made to the rule for this to work?\\n\\nAssistant:\", \"response\": [[\"No idea how that rule is working for you. First, it loops. Second, there is no capture groups for$2and$3, but it doesn't matter because$1is always \\\"search\\\" anyways. I'm assuming you've pasted a partial snippet of a rule that you have that works.The reason why&,%, or/isn't being matched is because your regex says:[-0-9a-zA-Z]+which means:one or more letters, numbers, or a dash. So no&,%, or/. So you can add those into the square brackets:RewriteRule ^([-0-9a-zA-Z/%&]+) search.php?id=$1&ff=$2&ffid=$3However, keep in mind that the URI isdecodedbefore any rules get applied. This means if the URI looks like:/foo%28barYou don't need to match against%, because the URI gets decoded into:/foo(barand you need to match against(. A better option may to just match against everyexceptdots:RewriteRule ^([^.]+) search.php?id=$1&ff=$2&ffid=$3or whatever youdon'twant in your match.Try:RewriteRule ^([^.]+)$ search.php?id=$1 [B]The difference here is the$to bound the match to the end of the URI, and theBflag ensures the&gets encoded.\"]]}"}
{"content": "{\"prompt\": \"User: I have a site that is in the testing phase, so it connects not to the real data but to a local copy of a database.My customer needs now a fast link to retrieve some urgent and important pdf reports, so I need to set up another version of the site that links to the \\\"real data\\\".I can create two environments (\\\"local\\\" and \\\"real\\\") with different database connections, and I would like to give the opportunity to select the environment via the URL (I know it's not pretty from a security point of view, but let's take this for granted).So I would like to use:my.ip.address/mysiteto use the test dbmy.ip.address/mysite/realto use the real db, redirecting to the URLs without the \\\"real folders\\\".F.ex.:/mysite/real/adminshould redirect to/mysite/adminbut selecting the \\\"real\\\" environment on Laravel 4.is it possible to pattern-match also folders in Laravel 4 or is it possible only for domains? In other words, does this work?$env = $app->detectEnvironment(array(\\n    'test' => array('*/mysite/*'),\\n    'real' => array('*/mysite/real/*'),\\n));If so, I just can't figure out how to write the .htaccess rule, I've triedRewriteRule ^/real(.*)$ $1But it won't work.\\n\\nAssistant:\", \"response\": [[\"I'm not sure if Laravel's internal environment handling works with folders, but it definitely works with subdomains.\\nYou could choose to setup your app using two Apache vhosts, one namedtest.example.local, one namedreal.example.localand then set the environment option in Laravel like this:$env = $app->detectEnvironment(array(\\n    'test' => array('test.example.local'),\\n    'real' => array('real.example.local'),\\n));There's a second option using .htaccess: \\nYou could set this in your .htaccess...SetEnv LARAVEL_ENVIRONMENT test\\nSetEnv LARAVEL_ENVIRONMENT realThen you could set your environment in Laravel like so:$env = $app->detectEnvironment(function()\\n{\\n    return $_SERVER['LARAVEL_ENVIRONMENT'];\\n});\"]]}"}
{"content": "{\"prompt\": \"User: I have a wordpress site which is www.mydomain.com . This site has a page www.mydomain.com/sub-pageI also have a new domain, www.newdomain.com which is pointed to the same root/site, but I want people that use this domain to get redirected to www.mydomain.com/sub-pageHere is my htaccess, Im not sure of the syntax, but at the moment this is doing nothing, www.newdomain.com simply loads www.mydomain.comRewriteCond %{HTTP_HOST} ^www\\\\.newdomain\\\\.com$ [NC]\\nRewriteCond %{HTTP_HOST} ^newdomain\\\\.com$ [NC]\\nRewriteRule ^(.*)$  http://www.mydomain.com/sub-page [R=301,L]\\n\\nAssistant:\", \"response\": [[\"Try this code :RewriteCond %{HTTP_HOST} ^www.newdomain.com$\\nRewriteRule ^(.*)$  http://www.mydomain.com/sub-page [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: I got this Joomla problem - google seems to have indexed a menu entry of mine which i had removed, but i forgot to remove the entry in the menu so now google have indexed this site:http://www.madplanuge.dk/?Itemid=134I wan to redirect it (.htaccess) to this url:http://www.madplanuge.dk/madplan/lav-madplanHow would you do that. i have already tried following:RewriteRule ^\\\\?Itemid=134http://www.madplanuge.dk/madplan/lav-madplan?[R=301,L]RewriteCond %{REQUEST_URI} ^\\\\?Itemid=134$RewriteRule ^\\\\?Itemid=134$http://www.madplanuge.dk/madplan/lav-madplan?[R=301,L]Neither of the above solutions worked.\\n\\nAssistant:\", \"response\": [[\"You can't do it with a RewriteRule alone because Apache will ignore the query string. Here I'm doing the redirect if the query string contains the ID we're looking for.RewriteCond %{QUERY_STRING} Itemid=134 [NC]\\nRewriteRule ^.*$ http://%{HTTP_HOST}/madplan/lav-madplan? [R=301,L]Remember when you're testing that your browser will cache your 301 redirect, so you'll need to clear your cache to see any changes.\"]]}"}
{"content": "{\"prompt\": \"User: I am attempting to set up  htaccess to restrict access to a particular folder.  I currently have as follows:Htaccess:AuthType Basic\\nAuthName \\\"Restricted area\\\"\\nAuthUserFile /home3/user/public_html/.htpasswd\\nrequire valid-user\\n\\nErrorDocument 404 \\\"Error\\\"\\nErrorDocument 401 \\\"Error\\\"\\nErrorDocument 403 \\\"Error\\\"htpasswd:Guest:GuestPasswordUsing this method I will either have a 500 server error returned, OR it will loop and continuously prompt me for authentication.Any help is appreciated!ALSO: I usedshowphp()to get the Document root.  So AuthUserFile path should be correct.Thanks!\\n\\nAssistant:\", \"response\": [[\"The infinite loop asking for your password is what you want to see. That means you typed in your password wrong.  The Internal Server 500 Error means you have another issue in your code.  The reason your username and password aren't working is because your server expects the password to be hashed.Change your .htpasswd file to:Guest:$apr1$u5E5vgOR$6rPNEYkeaF5IVE4c3FyKM0(The password is GuestPassword)\"]]}"}
{"content": "{\"prompt\": \"User: I'm using ZF2 (Zend Framework 2, v2.2) and I would like thathttp://www.foo.com/path/to/app/redirect to the public folder.I've tried a lot of solution but not of them allow the url to point to /path/to/app/public/index.php, while only displaying /path/to/app/.I would appreciate any solution as I cannot create a virtual host as described in app skeleton README file.Any help very much appreciated.Cheers,\\nGreg.\\n\\nAssistant:\", \"response\": [[\"Wouldn't it be easier to just set up a Virtual Host?DocumentRoot \\\"actual/path/to/application\\\"\\nServerName appnamethis would mean that when you typehttp://yourdomain.com/appname it will resolve to http://root/actual/path/to/applicationMaybe I am not understanding the problem properly - but i would use a VirtualHost instead of complex Mod_Rewrite rules.\"]]}"}
{"content": "{\"prompt\": \"User: Using htaccess, I've managed to make error pages show up beautifully on my site like such:ErrorDocument errorcode /pathtopageThe included code works for every single error code I've tested except forError 414 Request URI too long. It seems that Apache is completely ignoring the htaccess file in this case - is there a way to get it to work?\\n\\nAssistant:\", \"response\": [[\"FromErrorDocumentAlthough most error messages can be overridden, there are certain circumstances where the internal messages are used regardless of the setting of ErrorDocument. In particular, if a malformed request is detected, normal request processing will be immediately halted and the internal error message returned. This is necessary to guard against security problems caused by bad requests.It seems, that a \\\"414 Request-URI Too Large\\\" is considered severe enough, to ignore an appropriateErrorDocument 414setting.\"]]}"}
{"content": "{\"prompt\": \"User: Closed.This question isoff-topic. It is not currently accepting answers.Want to improve this question?Update the questionso it'son-topicfor Stack Overflow.Closed10 years ago.Improve this questionHow can I block users from viewing sites that are located in the folder of main domain? For example: main domain is www.maindomain.com. When I create subdomain for another account in cPanel, it creates folder it it is accesible if someone type for example www.maindomain.com/subdomain. I would like to block certain folders, but leave others, as I have pages in folder: wwwmaindomain/contact-us. How can I do that? Hope it's clear enough :)\\n\\nAssistant:\", \"response\": [[\"Add these rules in the htaccess file in your document root (formaindomain.com):RewriteEngine On\\n\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?maindomain.com$ [NC]\\nRewriteRule ^(subdomain1|subdomain2|subdomain3) - [L,F]This will return a \\\"403 Forbidden\\\" if you try to access/subdomain1,/subdomain2, or/subdomain3from the maindomain.com host. If you don't want to return a 403, you can also redirect:RewriteEngine On\\n\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?maindomain.com$ [NC]\\nRewriteRule ^(subdomain1|subdomain2|subdomain3) / [L,R=301]This redirects any access to the subdomains from the maindomain.com host to the document root.Rules to add to the top of htaccess files found in thesubdomain folders:RewriteEngine On\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?maindomain.com$ [NC]\\nRewriteRule ^ - [L,F]orRewriteEngine On\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?maindomain.com$ [NC]\\nRewriteRule ^ / [L,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: Closed.This question isoff-topic. It is not currently accepting answers.Want to improve this question?Update the questionso it'son-topicfor Stack Overflow.Closed10 years ago.Improve this questionI have been trying to redirect all requests under a domain to an underconstruction folder with the following:RewriteEngine On\\n RewriteCond %{REQUEST_URI} !=/underconstruction/\\n RewriteRule ^ /underconstruction/ [R=301]But it doesn't seem to work.I tried this (and it works):RewriteEngine On\\nRewriteCond %{REQUEST_URI} !=/underconstruction/underconstruction.html\\nRewriteRule ^ /underconstruction/underconstruction.html [R=301]But I don't see the images and CSS that it comes with it.Does anyone have any idea?\\n\\nAssistant:\", \"response\": [[\"Maybe one solution is to exclude all image and CSS files from the rule, like this:Options +FollowSymlinks -MultiViews\\nRewriteEngine On\\n# Add or remove file types in the next line if necessary.\\nRewriteCond %{REQUEST_URI} !\\\\.(css|jpg|png|gif|bmp|js)  [NC]\\nRewriteCond %{REQUEST_URI} !underconstruction\\\\.html  [NC]\\nRewriteRule .*   /underconstruction/underconstruction.html [R=302,L]Other options are to replace relative with absolute paths in the links to those files or to use the BASE element as described in thisanswer\"]]}"}
{"content": "{\"prompt\": \"User: I redirected non-www request to www through .htaccess Rewrite Rule.RewriteCond %{HTTP_HOST} !^wwwRewriteRule (.*) www.%{HTTP_HOST}/$1 [L,R=301]But now I am having problems with subdomains. When I am accessingtouch.111.comthen the above rule redirects totouch.www.111.com(which is not accessible), and the website breaks on touch devices.Please advise me on how to fix the above problem.\\n\\nAssistant:\", \"response\": [[\"You must be specific if you want to redirect onlydomain.comtowww.domain.comand retain sub-domains (such astouch.domain.com) :RewriteEngine On\\nRewriteCond %{HTTP_HOST} ^domain\\\\.com [NC]\\nRewriteRule ^(.*) http://www.domain.com/$1 [L,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: I have a.htaccessfile that redirect any extension to a non-extension url and displays therequestedfilename + .php. It works great with the(.*)part of the conditions.When I typedomain.com/file.htmlordomain.com/file.xmlit displays thefile.phpand the url looks likedomain.com/file.I just would like to know how to exculde extensions like .js and .css from the expression. I don't want to redirect them to any other php file.I tried things like:(.*!.(js|css))instead of(.*)but I can't find a working solution...The current code is this:<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\n\\n#\\n# to display the name.php file for any requested extension (.*)\\n#\\nRewriteRule ^(.*)\\\\.(.*) $1\\\\.php\\n\\n#\\n# to hide all type of extensions (.*) of urls\\n#\\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\\\s.+\\\\.(.*)\\\\sHTTP/.+\\nRewriteRule ^(.+)\\\\.php $1 [R=301,L]\\n\\n#\\n# no extension url to php\\n#\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteCond %{REQUEST_URI} !/$\\nRewriteRule (.*) $1\\\\.php [L]\\n\\n</IfModule>\\n\\nAssistant:\", \"response\": [[\"If your version of Apache supports it, you may be able to use \\\"negative lookahead\\\" and write the first RewriteRule like this:RewriteRule ^(.*)\\\\.(?!js|css)([^.]*)$ $1\\\\.phpThe[^.]part makes sure the(.*)\\\\.matches everything until the last., \\\"positioning\\\" the negative lookahead at the right spot.\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to get my.htaccessfile to forward all URLs to a single page with url parameters so that I can handle the page retrievals that way. What I want to happen is this: say the user types inhttp://mysite.com/users/danit should forward to the pagehttp://mysite.com/index.php?url=/users/dan.Similarly, if the user accessed the URLhttp://mysite.com/random-linkit should forward tohttp://mysite.com/index.php?url=random-linkHere is the code I tried in my.htaccessfile, but it just keeps throwing a 500 error at me:<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteCond % (REQUEST_FILENAME) !-f\\nRewriteRule (.*)$ index.php?url=$1 <QSA,L>\\n</IfModule>I UPDATED MY CODE TO THIS AND IT STILL THROWS A 500 ERRORI changed the < and > to [ and ] and I removed the space after the % in the RewriteCond, but it still throws an error.<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule (.*)$ index.php?url=$1 [QSA,L]\\n</IfModule>I'm a novice when it comes to.htaccess, so any help would be greatly appreciated, because I don't know what's causing the server to timeout.\\n\\nAssistant:\", \"response\": [[\"Couple of problemsRewrite flags go in square-brackets, eg[QSA,L]YourRewriteConditionsyntax looks incorrect. TryRewriteCond %{REQUEST_FILENAME} !-fJust to be on the safe side, anchor your expression to the start of the stringRewriteRule ^(.*)$ index.php?url=$1 [QSA,L]Lastly,RewriteEngineand subsequent modifiers requires theFileInfooverride. Make sure your server config or virtual host<Directory>section for your document root hasAllowOverride FileInfoUpdateHere's a typical rewrite scheme from an MVC project. This will ignore real files, directories and symlinksRewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} -f [OR]\\nRewriteCond %{REQUEST_FILENAME} -l [OR]\\nRewriteCond %{REQUEST_FILENAME} -d\\nRewriteRule ^.*$ - [NC,L]\\nRewriteRule ^(.*)$ index.php?url=$1 [QSA,L]\"]]}"}
{"content": "{\"prompt\": \"User: I have few websites on my host. Most of them have their own domain.I want to prevent access to my subdomain folder via maindomain.com/subdomain .I want to make it able to open only via subdomain.maindomain.comDisable access if possible, or just redirect it to subdomain.\\n\\nAssistant:\", \"response\": [[\"RewriteEngine on\\nRewriteBase / \\n\\n#if not already blog.website.com\\nRewriteCond %{HTTP_HOST} !^blog\\\\.website\\\\.com$ [NC] \\n#if request is for blog/, go to blog.website.com\\nRewriteRule ^blog/$ http://blog.website.com [L,NC,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: This question already has answers here:Closed11 years ago.Possible Duplicate:301 Redirect With SpacesRight now I'm redirecting every Image hit to the html page which contains the image.RewriteEngine on\\nRewriteCond %{HTTP_REFERER} !^http://(www\\\\.)?domain.com/.*$ [NC,OR]\\nRewriteCond %{HTTP_REFERER} (bing.com|google|yahoo|stumbleupon.com|reddit.com|pinterest.com) [NC]\\nRewriteRule (.*)\\\\.(gif|jpg|png)$ /$1.html [R,L]Since the Images often include spaces but the html pages always use hyphens, I need a solution to also replace all spaces, %20 and + symbols with hyphens\\n\\nAssistant:\", \"response\": [[\"Redirect to replace all spaces to hyphensSolves the problemRewriteEngine On\\nRewriteCond %{THE_REQUEST} (\\\\s|%20)\\nRewriteRule ^([^\\\\s%20]+)(?:\\\\s|%20)+([^\\\\s%20]+)((?:\\\\s|%20)+.*)$ $1-$2$3 [N,DPI]\\nRewriteRule ^([^\\\\s%20]+)(?:\\\\s|%20)+(.*)$ /$1-$2 [L,R=301,DPI]\"]]}"}
{"content": "{\"prompt\": \"User: My regex tries to match all results and redirect to a page.  I want to send the address requested to the page:RewriteRule ^/[\\\\w\\\\W]*$ processor.php [R,NC,L]For instance, my address is:www.mywebsite.com/mySecretCode123I want my php file to be able to read it:<?php echo $mySecretCode123; /* outputs 'mySecretCode123' */ ?>How can I do this?\\n\\nAssistant:\", \"response\": [[\".htaccees# RewriteCond is condition - make rewrite only if file doesn't exists\\n# (.+) means \\\"any character, one or more\\\"\\nRewriteCond  %{REQUEST_FILENAME} !-f \\nRewriteRule ^(.+)$ processor.php?mySecretCode=$1PHP<?php echo $_GET['mySecretCode']; ?>\"]]}"}
{"content": "{\"prompt\": \"User: I need to redirect all subdomain requests to be redirected to my primary domain in my htaccess. I need it to also include some sort of wildcard redirect.e.g. washington.mysite.com/ redirect to mysite.com/washingtonbut I need to to also redirect any old url on the subdomain to mysite.com/washingtone.g. washington.mysite.com/category.aspx?washington-attractions&CatID=17 redirect to my-site.com/washingtonThis is my code so far:RewriteCond %{HTTP_HOST} ^washington\\\\.mysite\\\\.com$ [OR]\\nRewriteCond %{HTTP_HOST} ^www\\\\.washington\\\\.mysite\\\\.com$\\nRewriteRule ^(.*)$ \\\"http\\\\:\\\\/\\\\/www\\\\.mysite\\\\.com\\\\/washington/$1\\\" [R=301,L]However it still appends the old URL to the new onee.g. washington.mysite.com/category.aspx?washington-attractions&CatID=17 redirects to my-site.com/washington/category.aspx?washington-attractions&CatID=17Basically I need the redirect washington.mysite.com/*(anything) to my-site.com/washingtonAny suggestions would be much appreciated :)\\n\\nAssistant:\", \"response\": [[\"RewriteCond %{HTTP_HOST} ^(www\\\\.)?washington\\\\. [NC]\\nRewriteRule ^(.*)$ http://www.mysite.com/washington [R=301,L]In yourRewriteRuleyou have/$1which matches the(.*)wildcard set of parentheses. This is why you're getting the path from the old URLs appended.I combined your 2RewriteCondition's, making the(www\\\\.)match optional with?.The[NC]flag is thenocaseflag.To clear the querystring, append?to the end of the rewrite URLRewriteCond %{HTTP_HOST} ^(www\\\\.)?washington\\\\. [NC]\\nRewriteRule ^(.*)$ http://www.mysite.com/washington? [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: I would like to redirect users that use a wrong querystring in the URL to a custom error page while ALSO giving a 404 status through the .htaccess directiveErrorDocument 404 http://www.domain.com/404.phpEDIT: this does not give 404 but 302!!!  The \\\"http://www.domain.com\\\"\\n    causes a redirect. Just the local path gives a 404. See alsohttp://httpd.apache.org/docs/2.0/mod/core.html#errordocumentTherefore I made a script in the request-receiving index.php that determines if the querystring is not valid and if so, gives this command:header(\\\"HTTP/1.0 404 Not Found\\\");BUT this does not redirect via the .htaccess directive ErrorDocument but just gives a 404 status to the visitor.And when usingheader(\\\"Location: 404.php\\\")you get a 302 status, and when usingheader(\\\"Location: 404.php\\\", true, 404)the status is 404 but it does not go to the custom 404.php page.Now I useheader (\\\"Location: \\\", true, 404); \\necho \\\"The URL you use doesn't lead to an existing page, etc.\\\";But this was not the original plan... How would I make users that use a wrong querystring in the URL redirect to the custom error page while also giving a 404 status through the .htaccess directive ErrorDocument, or is this not possible?\\n\\nAssistant:\", \"response\": [[\"As far as I'm aware the only way to show the 404 page from PHP is to explicitly redirect to it.  The reason is Apache (or whatever web server you're using) has already successfully located a resource to which to direct the client (the PHP script being executed).  If the PHP script can't resolve the client's request then it has to handle the sending of 404 headers and displaying the page itself.You could either redirectheader (\\\"HTTP/1.0 404 Not Found\\\");\\nheader ('Location: http://' . $_SERVER[\\\"SERVER_NAME\\\"] . '/404.php');Or you could include the 404 page into the PHP script that wants to trigger a 404.header (\\\"HTTP/1.0 404 Not Found\\\");\\ninclude ('/path/to/404.php');EDIT: If you use the first technique (redirection) and want to pass the $_GET to the script so it can determine what's wrong with it, you can do this.header (\\\"HTTP/1.0 404 Not Found\\\");\\nheader ('Location: http://' . $_SERVER[\\\"SERVER_NAME\\\"] . '/404.php?' . http_build_query ($_GET));If you include the 404.php file then the $_GET will be available to it already\"]]}"}
{"content": "{\"prompt\": \"User: I successfully changed my URLs from ugly ones with several parameters in the querystring to clean looking ones with the help of mod rewrite. However, there are many url's for my site. Rather than go back and edit the href attribute on each and every one of my anchor tags, I tried to write a redirect function in the .htaccess file that automatically redirects the old url to the new one.In my .htaccess file, I have the following:RewriteEngine On\\n\\nRedirect teams.php?league=$1&team=$2&year=$3&tab=$4 teams/(.*)/(.*)/(.*)/(.*)\\n\\nRewriteCond %{REQUEST_URI} !^(css|js|img)/\\nRewriteRule ^teams/([^/]*)/([^/]*)/([^/]*)/([^/]*)$ teams.php?league=$1&team=$2&year=$3&tab=$4 [L]No luck though... any thoughts?Thanks\\n\\nAssistant:\", \"response\": [[\"You need to do a check that the old URL with thephpin itis actually being requestedby matching against%{THE_REQUEST}, otherwise it'll redirect loop forever (e.g. user goes to team.php, serve redirects to teams, browser requests teams, server rewrites as teams.php, server sees \\\"teams.php\\\" and redirects to teams, browser requests teams, server rewrites as teams.php, etc. etc.)RewriteEngine On\\n\\n# redirect when the user actually requests for teams.php\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\\\ /teams\\\\.php\\\\?league=([^&]+)&team=([^&]+)&year=([^&]+)&tab=([^\\\\ ]+)\\nRewriteRule ^teams\\\\.php$ /teams/%1/%2/%3/%4? [R=301,L]\\n\\n# internally rewrite any /teams/ URI\\nRewriteCond %{REQUEST_URI} !^(css|js|img)/\\nRewriteRule ^teams/([^/]*)/([^/]*)/([^/]*)/([^/]*)$ teams.php?league=$1&team=$2&year=$3&tab=$4 [L]\"]]}"}
{"content": "{\"prompt\": \"User: My .htaccess file is as follows:Options -Multiviews\\nRewriteEngine On\\nRewriteCond %{HTTP_HOST} ^example.com\\nRewriteRule ^(.*)$ http://www.example.com/$1 [R=301,L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ $1.phpIt works, but I'm wondering how it works. For example, if I type inexample.com/main, I get the file atwww.example.com/main.php. How do I get the.phpextension if the code tells the rewriting to stop after adding thewww.to the beginning ofexample.com?Edit:Or should I create a unique ID only for the purpose of logging in the remembered user?\\n\\nAssistant:\", \"response\": [[\"The particular behavior you're asking about comes about because the ruleRewriteRule ^(.*)$ http://www.example.com/$1 [R=301,L]is a 301 redirect; it instructs the browser to initiate a completely new HTTP request.  TheLonly causes (can only cause) it to be the last rule executed forthat request; the new request comes in with the correct hostname and proceeds onward.\"]]}"}
{"content": "{\"prompt\": \"User: I want to forward everything on site X (http://example.com) to Site Y (http://destinationwebsite.com)\\nexcept \\\"PAGEX.aspx\\\"(http://example.com/PAGEX.aspx?callback=7259%2F7062434327_9fbc6da0cd)\\n\\nAssistant:\", \"response\": [[\"This should work:RewriteCond %{REQUEST_URI} !^/?PAGEX.aspx$\\n RewriteRule .* http://destinationwebsite.com [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to track ip address of hotlinkers using php and htaccess..htaccess file:RewriteEngine on \\nRewriteRule images/(.+)\\\\.(jpg|gif|png) images.phpimages.php?php \\n    $ipAddress = $_SERVER['REMOTE_ADDR'];\\n\\n    $statement=$db->prepare(\\\"INSERT INTO `ipaddress` (`ip` )\\n            VALUES (?)\\\");\\n    $statement->execute(array($ipAddress));     \\n\\n?>Now a user request a image like this  www.domain.com/images/image.jpg it will redirect to images.php and track their ips. The problem i am facing here is inside my page  is not showing image (reason htaccess redirect it to images.php). How can i fix this problem?Here is the link of previous question regarding this issue:I am not expert in htaccess so need more explanationsThanks\\n\\nAssistant:\", \"response\": [[\"If you want to log the IP and then serve the image anyway, then something like this might do:.htaccess file:RewriteEngine on \\nRewriteRule images/(.+)\\\\.(jpg|gif|png) images.php?image=$1.$2images.php:<?php \\n    $ipAddress = $_SERVER['REMOTE_ADDR'];\\n\\n    $statement=$db->prepare(\\\"INSERT INTO `ipaddress` (`ip` )\\n            VALUES (?)\\\");\\n    $statement->execute(array($ipAddress));\\n\\n    $ext = strtolower(end(explode('.', $_GET['image'])));\\n\\n    if($ext == 'gif') {\\n        $type = \\\"gif\\\";\\n    }\\n    else if($ext == 'jpg') {\\n        $type = \\\"jpeg\\\";\\n    }\\n    else if($text == 'png') {\\n        $type = \\\"png\\\";\\n    }\\n    else {\\n        $type = \\\"binary\\\";\\n    }\\n\\n    header(\\\"Content-type: image/$type\\\");\\n    readfile(\\\"images/\\\" . $_GET['image']);\\n\\n?>You may need to adjust paths here and there to make sure all files are correctly pointed to, both in.htaccessand inimages.php.\"]]}"}
{"content": "{\"prompt\": \"User: I'm wondering if there is a method in PHP for getting the values of specific rules set out in a .htaccess file? In basic terms: if there is a (for example)RewiteBaserule, what is it's value?There does not seem to be anything to serve this in the Manual for$_SERVER, perhapsfread()?\\n\\nAssistant:\", \"response\": [[\"Nope there is no way to retrieve it.RewriteBaseitself is not a rule, it is just a string that will be cut off the url before rewriting process.So php just doesn't have any chances to retrieve itPS: personally I cannot think of any reason to rely on its value. Probably you're trying to solve some issue in a wrong way.PPS: I put answer to the @Adi's question from the comments here:It is not possible to just read the.htaccessbecause of:There might be several.htaccessfiles in different directories and you cannot be sure which one has been usedRewriteCondcan be specified inhttpd.conf\"]]}"}
{"content": "{\"prompt\": \"User: I have CakePHP files in my web root (supposehttp://www.example.com/).Now, I wish to host a phpBB3 installation in a folder called \\\"forum\\\" under my web root. So when somebody accesses (http://www.example.com/forum), they can use phpBB.How do I achieve this? I've tried looking into CakePHP documentation for routes configuration, but couldn't find anything related to this.I'm pretty sure this has something to do with.htaccessbut not sure exactly what.Note - I tried creating a folder calledforumunderapp/webrootbut this often redirects tohttp://www.example.com/app/webroot/forum.\\n\\nAssistant:\", \"response\": [[\"In Cake's root.htaccessfile you can put:RewriteRule ^forum/ - [L]If you insert this just beforeRewriteRule ^$ app/webroot/   [L]then it will allow requests tohttp://www.example.com/forumto go straight to phpBB, bypassing Cake.\"]]}"}
{"content": "{\"prompt\": \"User: I have a LAMP server configured withDocumentRoot /var/wwwchanged toVirtualDocumentRoot /var/www/%-3/in the Apache2 config file - this allows me to automatically map/var/www/<subdomain>to<subdomain>.example.com.I'm currently in the process of learning CakePHP (2.x), with Cake in directory/var/www/foo/; I've noticed that the URLS aren't redirecting properly, and am attempting to resolve this issue; as perhttp://bit.ly/KmEhHl, I've modified the default .htaccess file to (among other things):RewriteBase /cake\\nRewriteRule ^$ app/webroot/ [L]\\nRewriteRule (.*) app/webroot/$1 [L]But this raises a 500 Internal Server Error - checking Apache2'serror.logandrewrite.log, this is because.htaccessis causing an infinite redirect, and is appendingapp/webrootto the URI.From my understanding, theLflag here should indicate 'last rule' - I'm assuming that this error is due to my poor understanding ofmod_rewrite, but I'm not sure exactly where this is happening. Would the error be because of some other latent issue with this setup? I'm aware that there have been several questions on this already, and will update if any new information can be found on my end. Any help would be greatly appreciated!\\n\\nAssistant:\", \"response\": [[\"Found an answer!Full answer courtesy of user 'kostasz' athttp://bit.ly/NSDWE2in comments.The hint was indeed the infinite  redirect - usingRewriteBase /cakewas not the correct base URL.To fix this issue, addRewriteBase /to each of the.htaccessfiles in/,/app/, and/app/webroot/.\"]]}"}
{"content": "{\"prompt\": \"User: I want to render a .phtml file through Apache, however when I try, it renders the page as text and not as html.In my vhost configuration, if I try to render an index.php, it executes properly. But when I change the DirectoryIndex to index.phtml and try to render the index.phtml present in the public directory it just renders text.The vhost Config is:codeServerName parminder.com\\n    DocumentRoot \\\"C:/workspace/parminder_local_net/public\\\"\\n    ErrorLog logs/parmindercom.logOptions Indexes FollowSymLinks\\n            AllowOverride All\\n            Order allow,deny\\n            Allow from all\\n    \\n    DirectoryIndex index.phtml\\n*What else do I need to configure for this to work? Do I need to use .htaccess? \\nWhat is the basic concept?\\n\\nAssistant:\", \"response\": [[\"You need to configure Apache so it knows that you want .phtml files to be treated as PHP. See step 8 ofthe PHP install guide.<FilesMatch \\\"\\\\.ph(p[2-6]?|tml)$\\\">\\n    SetHandler application/x-httpd-php\\n</FilesMatch>... but .phtml is the file extension used for PHP 2. You should probably audit them, bring them up to modern PHP coding practises and rename them to follow current conventions.\"]]}"}
{"content": "{\"prompt\": \"User: I want to redirect index.php?action=this&id=1 to index.php?action=this&id=2I tried the code below in my .htaccess but it didn't helpredirect 301 index.php?action=this&id=1 http://mysite.com/index.php?action=this&id=2What am i doing wrong here? what could be a workaround?\\n\\nAssistant:\", \"response\": [[\"In order to match specific query string youhaveto usemod_rewrite. Please check if it is installed/allowed on your host. The rule in this case will be something like this:# most likely be required for rewrite rules to function properly\\nOptions +FollowSymLinks +SymLinksIfOwnerMatch\\n\\n# Activate Rewrite Engine\\nRewriteEngine On\\nRewriteBase /\\n\\n# actual rule\\nRewriteCond %{QUERY_STRING} ^action=this&id=1 [NC]\\nRewriteRule ^index\\\\.php$ /index.php?action=this&id=2 [R=301,L]This needs to be placed in .htaccess in website root folder. If placed anywhere else some small changes may be required.This rule will only redirect/index.php?action=this&id=1to/index.php?action=this&id=2and no other URLs (just as you asked in your question).\"]]}"}
{"content": "{\"prompt\": \"User: how to change url for examplehttp://mysite.com/forum/forum.php?id=1ahttp://forum.mysite.com/forum.php?id=1\\n\\nAssistant:\", \"response\": [[\"Do you want any/forum/footo be/foo? If yes then use this code in your .htaccess:Options +FollowSymLinks -MultiViews\\n# Turn mod_rewrite on\\nRewriteEngine On\\nRewriteBase /\\n\\nRewriteRule ^forum/(.+)$ $1 [L,NC,R]\"]]}"}
{"content": "{\"prompt\": \"User: I'm currently moving a site (shop) to a new domain and putting in its place a non-shop version (made in wordpress) of the site. The aim is for most of the urls to redirect to the new domain except the few pages that the new site has. I've found other posts on stackoverflow but unfortunately I can't seem to get it working. Any help would be much appreciated, Thanks Jason.The urls I need to exclude are:\\n/ (Homepage)\\n/news and its posts /news/post-name\\n/products and its posts /products/post-name\\n/offers and its posts /offers/post-name\\n/our-philosophy\\n/our-team\\n/our-dreamHere's what I  tried:<IfModule mod_rewrite.c>\\n\\nRewriteEngine on\\n\\n#Home\\nRewriteCond %{REQUEST_URI} !^/\\n\\n#News\\nRewriteCond %{REQUEST_URI} !^/news(.*)\\n\\n#Products\\nRewriteCond %{REQUEST_URI} !^/products(.*)\\n\\n#Offers\\nRewriteCond %{REQUEST_URI} !^/offers(.*)\\n\\n#Philosophy\\nRewriteCond %{REQUEST_URI} !^/our-philosophy(.*)\\n\\n#Team\\nRewriteCond %{REQUEST_URI} !^/our-team(.*)\\n\\n#Dream\\nRewriteCond %{REQUEST_URI} !^/our-dream(.*)\\n\\nRewriteRule (.*) http://www.cotswold-fayre.co.uk/$1 [R=301,L]\\n\\n</IfModule>\\n\\n\\n\\n# BEGIN WordPress\\n<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.php [L]\\n</IfModule>\\n# END WordPress\\n\\nAssistant:\", \"response\": [[\"try adding the following to your .htaccess fileRewriteEngine on\\n\\n#Home: Exclude the home Page\\nRewriteCond %{REQUEST_URI} !^/$ [OR]\\n\\n#News: exclude anything that starts with /news, /products etc\\nRewriteCond %{REQUEST_URI} !^/(news|products|offers|our-philosophy|our-team|our-dream) [NC]\\n\\nRewriteRule (.*) http://www.cotswold-fayre.co.uk/$1 [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: I use .htaccess Mod Rewrite to send the URL to index.php, which then parses the URL and builds each page of my website.\\nThis works perfectly fine, allowing me to easily manage clean URLs using PHP instead of .htaccess.Ex:http://domain.com/some/url/here/-> goes to index.php, which loads a page with multiple PHP files put togetherHowever, I'm trying to allow certain PHP files to load as regular PHP files (without sending the URL to index.php to parse).Ex:http://domain.com/some/url/here/still works as mentioned above.http://domain.com/specialexception.phpwill load as a regular php file, without sending to index.phpI have the following code:<IfModule mod_rewrite.c>\\n\\n    RewriteEngine On\\n\\n    RewriteCond $1 !^specialexception\\\\.php$ [NC]\\n    RewriteRule !\\\\.(css|gif|jpg|png|ico|txt|xml|js|pdf|htm|zip)$ /path/to/index.php [NC,L]\\n\\n</IfModule>However, the RewriteCond line is simply ignored right now.I would appreciate any help/ideas!Thank you.\\n\\nAssistant:\", \"response\": [[\"I figured it out, though I'm not sure why this works:I switched the rules around so they happened in reverse order.\\nCode that works is as follows:RewriteCond %{REQUEST_URI} !\\\\.(css|gif|jpg|png|ico|txt|xml|js|pdf|htm|zip)$\\nRewriteRule !(specialexception)+\\\\.php)$ /path/to/index.php [NC,L]The problem with this solution:Since \\\"specialexception.php\\\" is listed as the last rule, in the actual RewriteRule line, it only solves the problem for ONE file exception.One messy way around this might be to use the pipe in the last line of regex:RewriteCond %{REQUEST_URI} !\\\\.(css|gif|jpg|png|ico|txt|xml|js|pdf|htm|zip)$\\nRewriteRule !(specialexception|anotherexception|foo|bar)+\\\\.php)$ /path/to/index.php [NC,L]If anyone has a better idea on how to add multiple exceptions for multiple files, I'd love to know!\"]]}"}
{"content": "{\"prompt\": \"User: You know how when you go to a url on a server and the directory doesn't have an index.* file or a default.* file it shows you a list of the directorie's contents? I was wondering if there is any way to customize the way that index looks or theme it to fit your site. For instance I'd want to add the php<?\\ninclude 'template.php';\\n\\nhead();\\n?>Before the listing. And<?php\\nfoot();\\n?>After. Can this be done?\\n\\nAssistant:\", \"response\": [[\"I have never done this before, but this shows how to do it:http://www.webmasterworld.com/apache/3589651.htmvia .htaccess.Edit: Maybethis(snapshot) shows exactly what you want, it's a walk-through of how to embed header and footer in the listing page.\"]]}"}
{"content": "{\"prompt\": \"User: I am having a serious issue with one application developed in CI.\\nCurrently my URLs look like thishttp://www.example.com/content/index/mission/I want to remove /content/index/ from URL So, It should look something like this.http://www.example.com/missionI have routing and .htaccess method as well. But nothing seems to be working.Here is my .htaccess fileOptions +FollowSymLinks\\nRewriteEngine on\\nRewriteBase /\\nRewriteCond $1 !^(index\\\\.php|images|css/js/style/system/feature_tab/robots\\\\.txt)\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ /index.php/$1 [QSA,L]I have also tried routing of CI by defining reouters in config/router.php But it was not working :(\\n\\nAssistant:\", \"response\": [[\"For your specific example, you'll want to create a route (inapplication/config/routes.php) that maps$route['mission/']to\\\"content/index/mission\\\"In other words,$route['mission/'] = \\\"content/index/mission\\\";See theCI documentation regarding URI routingfor more info\"]]}"}
{"content": "{\"prompt\": \"User: I would like to disable any kind of CGI execution in a directory below my document root directory. Any kind: php, perl, ruby... whatever. I would like to do it in a manner it's not depensant of the file extension. Below my document root because users have to be able to put and see HTML files.It has to be in htaccess, because it's a shared hosting.Using -ExecCGI alone is not working. I have to add to that line a AddHandler directive which is extension dependant.I have foundsome close answer in this topic, but they are extension dependant, php dependant or global apache configuration dependant.Is it possibly to do what I want?Thank you very much,\\n\\nAssistant:\", \"response\": [[\"RemoveHandler .suffixwhere.suffixis the filename suffix for the type of a script you want to disable should do it.Looking for something that disallows scripts in general right now.Edit: Aha! If you don't mind having to serve everything in the directory as static content — you probably don't, that's what your question seems to imply — you could just set the default handler for that location.<Directory something>\\n    SetHandler default-handler\\n</Directory>default-handler is in core so this shouldn't depend on anything. Correct me if I'm wrong.\"]]}"}
{"content": "{\"prompt\": \"User: I'm looking through my server because I want to restrict access to some specific folders and i've noticed I have several .htaccess files. One is in the root, the directory before public_html, is that the root, or is public_html the root? And that file enables php5 as default. I then have a htaccess doing some url re-writing in the public_html folder, then I have another one in the wordpress directory.Is there a need for them to be spread out?Do I have one htaccess for each folder I want affected or does the htaccess affect a folder plus all of the sub directories?ThanksEdit: Also have another htaccess in my wordpress theme folder?\\n\\nAssistant:\", \"response\": [[\"Apache has two ways of storing configuration options:The central configuration (the .conf files) - when you change these, you need to restart the server..htaccessfiles whose settings apply only to its directory, and all child directories. Changing these does not require a server restartIf you're on a dedicated server, youcouldtheoretically migrate all.htaccessfiles into the central configuration, but WordPress will write into a.htaccessfile when updating its permalink structure, so you'll always have at least that.In my experience, keeping individual.htaccessfiles is relatively practical in everyday maintenance work as long as they're nottoomany. I would leave things as they are.\"]]}"}
{"content": "{\"prompt\": \"User: I have a XML page www.example.com/page, but my server outputs it as text/plain as it doesn't have any extension.So I want to add XML Header via .htaccess to all the files which doesn't have extension with a condition that thefile exists.\\nAs if file doesn't exist, program is executed from database and it decides what header to output, so I don't want to break that part by forcibly changing header.\\n\\nAssistant:\", \"response\": [[\"Add aDefaultType text/xml(or whatever type you're using for your XML) to your.htaccess.\"]]}"}
{"content": "{\"prompt\": \"User: Here is what I want to do:User comes to my site fromwww.mysite.com/advert1(folder advert1 doesn't exist).htaccessthen removeswww.mysite.com/leaving justadvert1Storeadvert1as a string in a cookieLook foradvert1in a database then redirect the user to the URL specified in the database e.gmysite.com/news.Is this possible?\\n\\nAssistant:\", \"response\": [[\"You need to create the rule such where all requests are directed to a external script.\\nThen the server script may look up the database, set cookies and redirect. The .htaccess can not do this by itself unless you write a extension for apache which is likely to be beyond the scope the application you need right now.For now just redirect all requests to a script byRewriteRule ^([A-Za-z0-9-])$ /advert.php?id=$1 [L]you can use$ad_string = $_GET[\\\"id\\\"];to get the ad string in the $ad_string variable. Then you can make a connection to the database usingmysql_connect()and then run a sql query like\\\"SELECT * FROM advert_table WHERE id = '\\\" . mysql_real_escape_string($ad_string) . \\\"'\\\"This should sort out your url for the query. then use ameta redirector ajavascript redirector even aheader 301 redirect.\"]]}"}
{"content": "{\"prompt\": \"User: we have three domains one for US, one for UK, and one for Canada. i want that my users should be automatically redirected to country specific URL no matter what domain they open.e.g. if the user is from US and he is opening example.co.uk then he/she should be redirected to example.com.\\n\\nAssistant:\", \"response\": [[\"You can try to identify the country by IP. For example seehttp://www.ip2location.com/This will not cover everybody, but should be ok for most cases.\"]]}"}
{"content": "{\"prompt\": \"User: I want that every user has a profile-url like this:www.example.com/usernameI have created this htaccess:RewriteEngine on\\nRewriteRule ([^/]+) profile.php?username=$1 [L]but I get error with the css and js files.what I have to write in the htaccess ?\\n\\nAssistant:\", \"response\": [[\"You should in general exclude all real files and directories, as this will handle css/js/images/whatever else you want to serve:RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^([^/]+)$ profile.php?username=$1 [L]\"]]}"}
{"content": "{\"prompt\": \"User: The main site runs WordPress with .htaccess<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.php [L]\\n</IfModule>I'm going to create an CodeIgniter app in subdirectorysite.com/online/If simply add CI .hta file in subfolder it wouldn't work. CI .htaccess:RewriteEngine on\\nRewriteCond $1 !^(index\\\\.php|robots\\\\.txt|img|styles|js)\\nRewriteRule ^(.*)$ /index.php?/$1 [L]Is it possible to combine two .htaccess files or to do something with .htaccess  in CI subfolder?\\nThank you.UPD.Thank you for answers, I've tried all variants, and eventually moved project to subdomain.\\n\\nAssistant:\", \"response\": [[\"First thing, your .htaccess should be like this:<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{THE_REQUEST} !^GET\\\\s/+online/ [NC]\\nRewriteRule . /index.php [L]\\n</IfModule>\\n\\n#Then add this for CI handling in the same .htaccess\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond $1 !index\\\\.php [NC]\\nRewriteRule ^online/(.*)$ online/index.php?/$1 [L,NC]Then you can remove (or rename) .htaccess in theonlinesubfolder.\"]]}"}
{"content": "{\"prompt\": \"User: I am much more of a programmer than a server guru so any help is much appreciated!Forwarding a domain name for SEO reasons ->NewDomain.com hosted with 3rd party needs to point to currently hosted site CurrentDomain.com.  I know I need to...1)  Adjust NewDomain.com DNS A records specificallywww.@.*.ftp.mail.2)  Adjust NewDomain.com DNS MX records3)  Add 301 Redirect to .htaccess file hosted at CurrentDomain.com so all requests for NewDomain will be forwarded to CurrentDomain.com.RewriteEngine OnRewriteCond %{HTTP_HOST} NewDomain.com$RewriteRule ^(.*)$http://CurrentDomain.com/$1 [R=301,L]THE QUESTIONS:What else needs to be done?1)  Is something missing?2)  Should additional DNS changes be made?  If so, where?3)  Should MX record point to mail.CurrentDomain.com if I don't want mail to NewDomain?4)  Is there a better .htaccess file?\\n\\nAssistant:\", \"response\": [[\"Your .htaccess is almost right, just minor corrections:Options +FollowSymlinks -MultiViews\\nRewriteEngine on\\n\\n# for http\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?newdomain\\\\.com$ [NC]\\nRewriteCond %{SERVER_PORT} =80\\nRewriteRule ^(.*)$ http://CurrentDomain.com/$1 [R=301,L]\\n\\n# for https\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?newdomain\\\\.com$ [NC]\\nRewriteCond %{SERVER_PORT} =443\\nRewriteRule ^(.*)$ https://CurrentDomain.com/$1 [R=301,L]That waynewdomain.comorwww.newdomain.comwill both be redirected with 301 to the browsers.[NC]flag is for ignore case matching of host\"]]}"}
{"content": "{\"prompt\": \"User: I have done a fresh installation of xampp , after installing the folder containing followinghtaccessfile is not showing in my browser.SetEnv APPLICATION_ENV development\\n\\nRewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} -s [OR]\\nRewriteCond %{REQUEST_FILENAME} -l [OR]\\nRewriteCond %{REQUEST_FILENAME} -d\\nRewriteRule ^.*$ - [NC,L]\\nRewriteRule ^.*$ index.php [NC,L]it gives 500 error and the server is overloadedThis happens when I am trying to execute the public folder in my zend application.Please suggest to me whether I have to do any modifications in my xampp for getting my.htaccessfile to execute correctly.Thanks in advance\\n\\nAssistant:\", \"response\": [[\") Make sure you've enabledmod_rewritein the Apache configuration file.2) Add the lineAllowOverride Allto the directory configuration in the Apache config file.Additionally, unless you have a lot of rewrites, I recommend the following over your current rules.SetEnv APPLICATION_ENV development\\n\\nRewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-s\\nRewriteCond %{REQUEST_FILENAME} !-l\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^.*$ index.php [NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: Is it possible with.htaccessfiles to only allow requests from a specific MAC address instead of an IP address?And if the answer isyes, how?\\n\\nAssistant:\", \"response\": [[\"Short answer: NoEthernet MAC is not transferred in a IP packet, only in the Ethernet header. When the IP packet leaves the LAN (technically the local broadcast domain) the Ethernet header is stripped off and the MAC address is \\\"lost\\\".\"]]}"}
{"content": "{\"prompt\": \"User: imagine the root of a server where multiple aliases such as website.nl; website.de; etc. all direct to the root the root \\\\httpdocs\\\\ with this physical hosting:httpdocs\\\\...\\nhttpdocs\\\\holland\\\\    # webpages in Dutch   (home.php | contact.php | etc)\\nhttpdocs\\\\deutsch\\\\    # webpages in English (home.php | contact.php | etc)\\nhttpdocs\\\\images\\\\     # all multilingual webpages share the same images\\nhttpdocs\\\\js_css\\\\     # all multilingual webpages share the same scripts/layout\\nhttpdocs\\\\.htaccess   # here be a clean root, nothing else than .htaccessThus, only the webpages .php differ: the rest they all share the same! Now imagine that you want to configure .htacces via apache script to make \\\"bridge the gap\\\" if you will, between the root and the folder, making it possible to type this in browser and below water fetching the right php webpage, but keeping the shorter url in the browser:website.nl/home.php//files fetched should come from the holland folder associated with website.nlwebsite.de/home.php//files fetched should come from the deutsch folder associated with website.de(As opposed to seeing this in the browser: website.nl/holland/home.php | website.de/deutsch/home.php)What apache script line will do such thing?Thanks: Much appreciated!\\n\\nAssistant:\", \"response\": [[\"You need to have \\\"mod_rewrite\\\" installed in apache.\\nAssuming you do, place a .htaccess file in the root directory of that account\\n(probably:)~/public_html/.htaccessand then put this in that fileRewriteEngine on\\n\\nRewriteCond %{HTTP_HOST} ^website.nl(.*)$ [OR]\\nRewriteCond %{HTTP_HOST} ^www.website.nl(.*)$\\nRewriteRule ^.*$ \\\"http\\\\:\\\\/\\\\/www\\\\.website\\\\.nl\\\\/holland\\\\/$1\\\" [L,P]And then repeat the rewrite condition for website.deBasically that says, grab the section after the website.nl part, and paste it on the part after holland, but the \\\"L,P\\\" says to make that a silent redirect and keep the user on the same url as they entered with.goodluck!\"]]}"}
{"content": "{\"prompt\": \"User: Basically I'd like to emulate what Hypem.com does with their urls, if you go tohypem.com/popularyou get redirected tohypem.com/#/popularHow can I do this with htaccess? I have several basic urls that I need to redirect, all others stay the same, for example, these two need to redirect:/news/contactBut/adminshouldn't\\n\\nAssistant:\", \"response\": [[\"This code worked for me:## REWRITE RULES\\n# enable rewrite\\nRewriteEngine On\\nRewriteBase /\\nRewriteRule ^(news|contact)(/?)(.*)$ #/$1$2$3 [R,NC,NE,L]\"]]}"}
{"content": "{\"prompt\": \"User: I have a little question very simple this time I think...\\nHow Have I to write my htaccess to do this instructions :IF IS \\\"/uploads\\\" PATH INTO MY REQUEST, NOT REDIRECT AT ALL, JUST DO THE REGULAR REQUEST\\nELSE DO THE REWRITERULE : RewriteRule (.*)http://theDestinationDomain.com/$1 [P,L]I Have tested that :RewriteEngine on\\nRewriteCond %{REQUST_URI} !^/uploads/(.*)\\nRewriteCond %{HTTP_HOST} theDomainThatWillBeRedirect.com\\nRewriteRule (.*) http://theDestinationDomain.com/$1 [P,L]That Just don't work... That make always the redirection to theDestinationDomaine.com/...Any idea ?Thanks a lot !See youOlivier\\n\\nAssistant:\", \"response\": [[\"Note the extra E. :)RewriteCond %{REQUEST_URI} !/uploads/\\nRewriteCond %{HTTP_HOST} theDomainThatWillBeRedirect.com\\nRewriteRule (.*) http://theDestinationDomain.com/$1 [L,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: I have a url that is constructed using get variables likelocation.href = this.href +'?type='+ escape($('#type_of_station').html()) + '&count='+ escape($('.number_changer').attr(\\\"id\\\").slice(-1));which gives me a url like the followinghttp://posnation.com/pre_config/pre_config_step_2.php?type=Grocery&count=2on the following page I grab the variables via PHP<p id=\\\"type_of_station\\\" class=\\\"text left\\\"><?php $_GET['type'] != \\\"\\\" ? print str_replace(\\\"_\\\", \\\" \\\", $_GET['type']) : print \\\"Food Pos System\\\" ?></p>This works great but the url is kind of ugly. Is there a way to maybe hide this and still have the get variables available to me on the next page\\n\\nAssistant:\", \"response\": [[\"To make url look nice is one thing.To hide url data is another. Never hide anything. Or you will make your site unusable.\"]]}"}
{"content": "{\"prompt\": \"User: Is there a way to make .htaccess tell a folder to act as the lowest level? What I mean is this, say you have a folder like so:/about/\\n/contact/\\n/css/\\n/images/\\n.htaccess\\nindex.php\\nheader.phpIf they are at/contact/index.php, then if I have<a href=\\\"../index.php\\\">Home</a>to go to the home page, it works all fine, but if they are on the actual main page, it will try to go a directory lower.The reason is because Im trying to test sites in sub-folders.\\n\\nAssistant:\", \"response\": [[\"The directly answer your question, the answer isno. By the time, .htaccess is read, the path was already translated to a directory.If you want to change the root, you have to do it inhttpd.conf(or rewrite all the requests in the root to the destination directory). If you want to have several roots (under different domains), you have to use virtual hosts (again, only inhttpd.conf).You can also make your site work when it's not in the root directory.Use relative paths correctly (\\\"../index.php\\\" in \\\"/contact/index.php\\\" and \\\"index.php\\\" in the root webpages). Not a great option.Use absolute paths, but prefix them with the path of the website relative to the server root. The most fool-proof way to do this setting a constant for this in a file that you include in all your scripts.\"]]}"}
{"content": "{\"prompt\": \"User: I want to set up an internal foswiki to which only authorized users have access to and can view/edit the contents. One way of doing this is to modify the .htaccess file for the folder and generate as many as authorized users. But that is not very secure, so I don't want to use itIs there any way to do this in Foswiki.\\n\\nAssistant:\", \"response\": [[\"the best way is to use configure to setallthe scripts to require login.you need to hit 'yes i've read all the docco' button at the top, and then expand the Security sectionin there is a setting called {AuthScripts}. any cgi script listed there will require authentication first - so listallof them.alternatively, you can restrict access to a web or topic using the ACL settings - seehttp://foswiki.org/System/AccessControlSven\\nFoswiki developer and consultant :)\"]]}"}
{"content": "{\"prompt\": \"User: So, in my .htaccess file I have this ErrorDocument lines:ErrorDocument 500 http://www.example.com/500Since my server runs multiple websites from the same core files, I just want to redirectallinternal server errors to the same processing page. However, my problem is that it doesn't send any information about the page that cause the error, it redirects the page. I tried changing it toErrorDocument 500 index.php?500but that just causes a second internal server error when trying to locate the file. Any ideas on how I can successfully redirect it to my custom 500 error page and still acquire information about the page that caused the error in the first place?\\n\\nAssistant:\", \"response\": [[\"+50In yourErrorDocumentstatement, you're giving a URL to a remote page.  As a result, Apache sends the user a Location header, and the user goes off on their merry way.Instead, change the URL to an absolute path to a local script that will handle the error:ErrorDocument 500 /500.phpThe script should be launched with a set of environment variables starting with REDIRECT_ that should contain the various paths and query strings involved in the error.There is no way to both send the user elsewhere and also capture the information within ErrorDocument itself.  On the other hand, your script can capture the information and then redirect the user, if you still want to handle it that way for some reason.\"]]}"}
{"content": "{\"prompt\": \"User: This question is related to aprevious questionI asked, but it's a different.I'm using htaccess to control login tohttp://somesite.com/folder.Once logged in, I have php code infolder/index.phpto check the username and password used to login:$_SERVER['PHP_AUTH_USER']and$_SERVER['PHP_AUTH_PW']. I log that info to a database.This works when the user supplies a good username and password, but when it's incorrect, nothing happens - I suppose because/index.phpis never reached.Is there a way to login also failed login attempts?\\n\\nAssistant:\", \"response\": [[\"EDITThere's a simple way to do it. In your .htaccess, addErrorDocument 401 /path/to/log.phpThislog.phpis then called when a login attempt fails (you can put it behind the protected directory as well, it will be reached even though the login fails). Note that the browser doesn't know whether some resource needs authentication, so you'll always get a hit for the first attempt. These attempts, however, will not include any username and you can detect them (well, you can distinguish them from when the user enters no username, but you get the idea) by checking whether$_SERVER['PHP_AUTH_USER']is empty.OriginalWell, no, as you say/index.phpis never reached.What you can do is not to rely on Apache at all and handle the authentication only with PHP. Thismanual pageshows you how. This has a big disadvantage. Let's say you protected an entire directory. This directory has PHP files, images and whatnot. Now, to enforce the authentication, you must route everything through a PHP file. If you had only PHP files, you could do it with an include. If you have static contented, you must route it with a rewrite-rule through a PHP files that reads and outputs the static content, which will hurt the performance.\"]]}"}
{"content": "{\"prompt\": \"User: For a website I'm currently working on we're redirecting our old URL's permanently to new ones like this:\\nRedirect 301 /oldfile.phphttp://www.site.com/show/newurlNow I come across this situation in which the old url has a get var like:\\nRedirect 301 /oldfile.php?var=namehttp://www.site.com/show/newurlThis will redirect the oldfile to the new url plus it adds the get var so it redirects to:http://www.site.com/show/newurl?var=nameHow would I set up this redirect without the get var?\\n\\nAssistant:\", \"response\": [[\"mod_rewritecan strip off the query string:RewriteEngine on\\nRewriteRule ^/?oldfile.php$ http://www.site.com/show/newurl? [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: I need to offer adirectory listing of the root directoryof my site, so I created an.htaccessfile containingoptions +indexesIt works for subdirectories, but for the main directory I get theTest Page for the Apache HTTP Server on Red Hat Enterprise Linuxpage.I have two sites that are identical except for thePHP versioninstalled. On one site (PHP 5.2.1) this technique works fine. On the other (PHP 5.2.9), it doesn't.As far as I know, theApacheinstallations are identical, and I verified that thehttpd.conf files are identical.On both sites, the htaccess works for subdirectories. My problem is with the main site directory.My goal is to create simple sites based on directory listings, similar toznvy.com.Is there something about the updated PHP version thatprevents listing a root directory? If so is there aworkaround?[update]I looked at the page usingrex swain's http viewerand the server of the problem site is returning a 403 status with the Apache default page.\\n\\nAssistant:\", \"response\": [[\"The problem was being caused by the/etc/httpd/conf.d/welcome.conffile:Options -Indexes\\n    ErrorDocument 403 /error/noindex.htmlThat file overrides the htaccess and turns indexing off for any root web directory.Renaming it to welcome.conand restarting the server solved the problem.\"]]}"}
{"content": "{\"prompt\": \"User: I have cleaned up my site and discarded lots of pages. I have now 10pages left of a 100page site, all static html. I want any request for deleted pages to 301 redirect to homepage but can't figure out the .htaccess rules!\\n\\nAssistant:\", \"response\": [[\"I doubt there's a better way than listing out the 90 pages manually in your.htaccess:redirect 301 /somedeletedpage.htm http://www.example.com/unless the 90 removed pages have some common characteristics that can be regexed.\"]]}"}
{"content": "{\"prompt\": \"User: I have this .htaccess file where I prevent users from physically accessing files from the browser (where they should only be loaded through the system)Options -Indexes\\nOrder deny,allow\\ndeny from allI have one problem though, sometimes I load files via AJAX and there I get 403 Forbidden. I have little experience with apache's mod_access. I've been reading up on thedirectory directivesince all my AJAX based files are in one directory called ajax.But the thing is I need to deny access to all directories except ones called ajax and my regex skills are lacking.An example directory structure is like this.plugins/inventory/ajax\\nplugins/inventory/controller\\nplugins/inventory/view\\n\\nplugins/packages/ajax\\nplugins/packages/controller\\nplugins/packages/viewThe .htaccess file sits in the plugins directory.\\n\\nAssistant:\", \"response\": [[\"That you need to do this in the first place is kind of a failure of project architecture.  Script files that shouldn't ever be accessible to the Web shouldn't be inside your DocumentRoot in the first place.That said, this will probably work:RewriteEngine on\\n<DirectoryMatch \\\"/(?!.*/ajax$)\\\">\\n   Order deny,allow\\n   Deny from all\\n</DirectoryMatch>\"]]}"}
{"content": "{\"prompt\": \"User: I am currently using the following rules in a .htaccess file:RewriteEngine on\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ $1.phpThis works well to ensure that/myfile.phpworks as well as justmyfile(with no extension in the URL). It also handles querystrings with no problems, somyfile?var=fooalso works.The problem is that these are registering in Google Analytics as being two separate files. So whilemyfile.phpmight be the third most popular page on my site, with X visits,myfilemight be the fifth most popular page on my site with Y visits.How can I do a hard redirect, rather than \\\"accept either one\\\" type of rule?\\n\\nAssistant:\", \"response\": [[\"Try this rule to redirect requests for.phpfiles:RewriteCond %{THE_REQUEST} ^GET\\\\ /(([^/?]*/)*[^/?]+)\\\\.php\\nRewriteRule ^.+\\\\.php$ /%1 [L,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: I want to force a www. prefix on my website by using a .htaccess 301 redirect. I am currently trying:RewriteCond %{HTTP_HOST} ^mysite.com [NC]\\nRewriteRule ^(.*)$ http://www.mysite.com/$1 [L,R=301]Which normally works, but I am using Zend Framework which causes all requests to be redirected back tohttp://www.mysite.com/index.phpregardless of the initial request.For example...http://mysite.com/blog, \\nhttp://mysite.com/contact,\\nhttp://mysite.com/blog/this-is-my-article,Will all be redirected tohttp://www.mysite.com/index.phpHowever, if I initially request a specific file, such as...http://mysite.com/some-file.htmThe redirect works properly, redirecting tohttp://www.mysite.com/some-file.htm\\n\\nAssistant:\", \"response\": [[\"In first time, don't forget to enable the rewriting (\\\"RewriteEngine on\\\").\\nThe last line is important if you use Zend Framework.RewriteEngine on\\nRewriteCond %{HTTP_HOST} ^mysite.com [NC]\\nRewriteRule ^(.*)$ http://www.mysite.com/$1 [L,R=301]\\nRewriteRule !\\\\.(pdf|php|js|ico|txt|gif|jpg|png|css|rss|zip|tar\\\\.gz)$ index.phpNow the url...http://mysite.com/some-file.htm... redirect tohttp://www.mysite.com/some-file.htmbut use the index.php\"]]}"}
{"content": "{\"prompt\": \"User: I would like mod_rewrite in an .htaccess file to link to a mysql database to provide me with mapping information.Specifically, I am using a single code base to host multiple sites so..if a user requests an image, for example:http://www.example.com/images/car.jpgthis is going to hit my server and many other sites will also be hitting that /images folder, so I need Apache to reply with:\\n/home/example/pubic_html/images/7383/car.jpgNotice the injection of \\\"7383\\\" which is an example site id for that user.Basically, I want to map between example.com and 7383 using the mysql database and then get the correct file to the user.Any ideas?\\n\\nAssistant:\", \"response\": [[\"You could use a script as arewrite mapto get the real path.\"]]}"}
{"content": "{\"prompt\": \"User: I am attempting to rewrite the URL on my website using the .htaccess but have had no luck so far. I want to add a hash to the URL and redirect.I want to get the last file in the URL and redirect it to the same URL but append a # symbol before the last file. The reason I want to do this is for my website, all the content is loaded dynamically without refreshing the page.For example,www.example.com/foowould becomewww.example.com/#fooorwww.example.com/form/bar.phpwould becomewww.example.com/form/#bar.phpI don't mind if I need one entry for each page, I have tried many variations but nothing has worked so far.RewriteRule ^(.*)foo(.*)$ $1#foo$2 [R=301,L]\\n\\nRewriteRule ^(.*)/(.*)$ /$1#$2 [L,R=301,NE]\\n\\nAssistant:\", \"response\": [[\"Have it this way in your .htaccess:RewriteEngine On\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_URI} ^(.*/)([^/]+/?)$\\nRewriteRule ^ %1#%2 [L,NE,R=301]A note aboutRewriteCond %{REQUEST_URI} ^(.*/)([^/]+/?)$:We are using 2 capture groups in regex here:(.*/): Match longest match before last/being represented as%1later([^/]+/?): Match last component of URI being represented as%2laterIn target we use%1#%2to place a#between 2 back references.\"]]}"}
{"content": "{\"prompt\": \"User: I'm struggling with a fairly simple 301 redirect.I have several redirects for pages which all work fine - egRedirect 301 /folder/mypage1.html https://www.example.com/folder/mypage2.html.However now I want to redirect from a folder root to another page, I don't however want any of the other pages in the folder to redirect.So/myfolder/should redirect tohttps://www.example.com/mypage.htmlbut/myfolder/mypage.htmlshould not redirect.I've tried:Redirect 301 /myfolder/ https://www.example.com/mypage.htmlbut this doesn't work.I apologize for the newbie question that probably has a very simple answer.\\n\\nAssistant:\", \"response\": [[\"UseRedirectMatch, which matches using a regex, rather than simple prefix-matching (as withRedirect) to redirect requests for the folder only.For example:RedirectMatch 301 ^/myfolder/$ https://www.example.com/mypage.htmlBothRedirectandRedirectMatchbelong to the same Apache module: mod_aliasYou will need to clear your browser cache if you have been experimenting with 301 (permanent) redirects. Test first with 302 (temporary) redirects to avoid potential caching issues.\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to see how I can achieve the following rewrite rules.Fromhttps://localhost/site/?page=place&place=west\\nhttps://localhost/site/?page=location&location=citynameTohttps://localhost/site/place/west\\nhttps://localhost/site/location/cityI am able to change\\nhttps://localhost/site/?page=place to https://localhost/site/place but not with another additional query as mentioned above.htaccessRewriteEngine On\\n #Redirect /site/?page=foobar to /site/foobar\\nRewriteCond %{THE_REQUEST} /site/(?:index\\\\.php)?\\\\?page=(.+)\\\\sHTTP [NC]\\nRewriteRule ^ /site/%1? [L,R]\\n# Internally rewrite new path to the original one\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(?:site/)?(.+)/?$ /site/?page=$1 [L,QSA]The above htaccess works for the following which is what I also need.https://localhost/site/place\\nhttps://localhost/site/about\\nhttps://localhost/site/contact\\n\\nAssistant:\", \"response\": [[\"With your shown attempts, please try following htaccess rules file. Make sure to clear your browser cache before testing your URLs. New rules are clubbed to your already existing rules.RewriteEngine ON\\nRewriteBase /site/\\n##New rules from here......\\nRewriteCond %{THE_REQUEST} \\\\s/site/?\\\\?page=([^&]*)&place=([^&]*)\\\\s [NC]\\nRewriteRule ^ /site/%1/%2? [R=301,L]\\n\\n# Internally rewrite new path to the original one\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^site/([^/]*)/(.*)/?$ index.php?page=$1&location=$2 [NC,QSA,L]\"]]}"}
{"content": "{\"prompt\": \"User: How to create an Htaccess which will have a specific and separate code for Localhost and Production. I mean when we work on localhost, it should be work localhost code and in Production it should be load only Production code. So that i can use one Htaccess for Local and Production and it will save lot of time. Following is the model i would like to implement. It would be much appreciate anyone can help on this. Because i spend lot of time on it and not found any good approach on this. Thanks in Advance!<Localhost>\\n---localhost code goes here \\n---it should be only work in localhost and not at all in Production\\n</localhost>\\n\\n<Production>\\n---production code goes here \\n---it should be only work in Production and not at all in Localhost\\n</Producton>\\n\\nAssistant:\", \"response\": [[\"Most of the code in.htaccessshould be the same on local and production. (Otherwise, how do you test it?)However, one of the cleanest ways to separate directives between servers is toDefine(requires Apache 2.4) a variable in the server config of one of the servers (eg. the development machine):Define DEVELOPMENTThis can be defined anywhere in the server config (not.htaccess), but is always seen asglobalto the server, regardless of whether it is defined inside a<VirtualHost>container or not. You do not need to specify avalue(2nd) argument since the<IfDefine>directive (see below) does not check this. As always, whenever you make changes to the sever config you'll need to restart Apache for the changes to take effect.And reference this in.htaccess:<IfDefine DEVELOPMENT>\\n    # Local / development directives only\\n</IfDefine>\\n\\n<IfDefine !DEVELOPMENT>\\n    # Live / production directives only\\n</IfDefine>The!prefix tests that the variable isnotdefined.Depending on what type of directives you need to contain you can use an<If>container and check something like the requested hostname (eg.staging.example.comvswww.example.comfor the live site). However,<If>containers do not work the same with mod_rewrite.Reference:https://httpd.apache.org/docs/current/mod/core.html#define\"]]}"}
{"content": "{\"prompt\": \"User: When trying to create URL rewrite rules on my server, I ran into some problems so wanted to test if it was working at all with a more simple case: The URLexample.com/testshould be rewritten asexample.com/index.php, a real page that exists on my site.Here is the full content of my.htaccessfile:AcceptPathInfo Off\\n\\nSetEnv PHP_VER 5_3\\nSetEnv REGISTER_GLOBALS 0\\n\\nRewriteEngine On\\nRewriteRule   test.php   index.phpAnd the result when I enter the URLexample.com/test.php:404 Not Found: The requested URL was not found on this server.I made the.htaccessdocument slightly more simple for this test than it usually is. Usually, I also have the following rules in the document:# Redirect from non-www to www\\n\\nRewriteEngine On\\nRewriteCond %{HTTP_HOST} !^www\\\\. [NC]\\nRewriteRule ^(.*)$ https://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\\n\\n\\n# Redirect from HTTP to HTTPS\\n\\nRewriteEngine On\\nRewriteCond %{HTTPS} off\\nRewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]These rules have always worked as they should. Is there something wrong with my test rewrite rule, and if not, why are the rewrite rules working for www and HTTPS redirection?This is the structure of the files on my server:| .htaccess\\n| www\\n| -- index.php\\n\\nAssistant:\", \"response\": [[\"With your shown samples, please try following htaccess rules file. Place your https and www implementing rules at top of your file.Make sure your htaccess and index.php files are in root directory.\\nPlease make sure to clear your browser cache before testing your URLs.RewriteEngine On\\n\\n# Redirect from HTTP to HTTPS\\nRewriteCond %{HTTPS} off [OR]\\nRewriteCond %{HTTP_HOST} !^www\\\\. [NC]\\nRewriteRule ^ https://www.%{HTTP_HOST}%{REQUEST_URI} [NE,L,R=301]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule  ^test/?$   index.php [NC,L]Change the structure of htaccess as follows with your shown samples apart from few minor other changes in htaccess(like fixed regex for redirection, usedNEflag in redirection, combined Rules for https and www redirects etc; to improve your rules file)| .htaccess\\n| www\\n| -- index.php\\n| -- .htaccess (new)\"]]}"}
{"content": "{\"prompt\": \"User: I have URLs likehttp://url.com/top_admin/order.php?do=view&oid=124and\\nI need to rewrite it tohttp://url.com/top_admin/order/view/124, where\\ntop_admin is a folder that contains my script.\\nthis is my code:Options +FollowSymLinks\\nRewriteEngine on                                          \\nRewriteRule ^order/(.*)/([0-9]+) order.php?do=$1&oid=$2 [L]but it does not work.\\n\\nAssistant:\", \"response\": [[\"With your shown samples/attempts, please try following. Please make sure to clear your browser cache before testing your URLs.Options +FollowSymLinks -MultiViews\\nRewriteEngine ON\\nRewriteCond %{THE_REQUEST} \\\\s/(top_admin/order)\\\\.php\\\\?do=([^&]*)&oid=(\\\\d+)\\\\s [NC]\\n##Rule for external rewrite with 301.\\nRewriteRule ^ /%1/%2/%3? [R=301,L]\\n##Rule for internal rewrite to .php file.\\nRewriteRule ^([^/]*)/([^/]*)/(.*)/?$ $1.php?do=$2&oid=$3 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to rewrite different URLs. The first three lines work, but lower ones do not. I get a 500 Internal Server Error. A snippet of my htaccess file:RewriteCond %{SCRIPT_FILENAME} !-d\\nRewriteCond %{SCRIPT_FILENAME} !-f\\nRewriteRule ^word/(.*)$ word.php?word=$1 [QSA]\\n\\nRewriteCond %{SCRIPT_FILENAME} !-d\\nRewriteCond %{SCRIPT_FILENAME} !-f\\nRewriteRule ^/en/word/(.*)$ /en/word.php?word=$1 [QSA]It would be very nice if someone could help me, as I can't find a solution. What am I doing wrong?Greetings,\\nAndreas\\n\\nAssistant:\", \"response\": [[\"With your shown samples, please try following. Please keep your .htaccess file inside your root folder.Please make sure to clear your browser cache before testing your URLs.RewriteEngine ON\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^word/(.*)$ word.php?word=$1 [QSA,NC,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^en/word/(.*)$ en/word.php?word=$1 [QSA,NC,L]\"]]}"}
{"content": "{\"prompt\": \"User: I want to redirect this URLhttp://www.example.com/blog/Title-hereto myblog.phppagePlease noteTitle-herecan be anything.How I can do that ?I am trying following but it's not working.RewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^blog/(.*)/?$ blog.php [NC,L]I don't know why.Following is my full .htaccess code, may be here's the issue.RewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)/(.*)/(.*)/?$ product.php [NC,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)/(.*)/?$ results.php [NC,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)/?$ results.php [NC,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^blog/(.*)/?$ blog.php [NC,L]\\n\\nErrorDocument 404 http://www.example.com/404.php\\n\\nAssistant:\", \"response\": [[\"With your shown samples, could you please try following. Since you are using very generic regex(not giving any uri condition in it) so its not reaching to your last rule of blog page. Keep it as your first rule like as follows. I have also fixed your regex in your all existing rules.Please make sure to clear your browser cache before testing your URLs.###Making Rewriteengine ON here.\\nRewriteEngine ON\\n\\n##Placing rule for URIs starting from blog here.\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^blog  blog.php [NC,L]\\n\\n##Placing rule for url like: http://localhost:80/test1/test2/test3\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(?:[^/]*)/(?:[^/]*)/(?:.*)/?$ product.php [L]\\n\\n##Placing rule for url like: http://localhost:80/test1/test2\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(?:[^/]*)/(?:.*)/?$ results.php [L]\\n\\n##Placing rule for url like: http://localhost:80/test1\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^ results.php [L]\\n\\nErrorDocument 404 http://www.example.com/404.php\"]]}"}
{"content": "{\"prompt\": \"User: I have a .htaccess file and i've set up a 'Coming Soon' website. It excludes my ip as i'm the developer but for other visitors I don't wan't it to change the url of the address.Here's the file:Options +FollowSymlinks\\nRewriteEngine on\\nRewriteCond %{REMOTE_ADDR} !^12.345.67.89$\\nRewriteCond %{REQUEST_URI} !/HTML/pages/construction.html\\nRewriteCond %{REQUEST_URI} !\\\\.(jpe?g?|png|gif|css|ico|mp4) [NC]\\nRewriteRule ^(.*)$ /HTML/pages/construction.html [R=302,L]\\n\\nErrorDocument 404 /HTML/error-pages/404.htmlHow can I do this? Help is very much appreciated\\n\\nAssistant:\", \"response\": [[\"If you don't want to change the URL then simply remove the redirect flag from yourRewriteRule.Do the following :ChangeRewriteRule ^(.*)$ /HTML/pages/construction.html [R=302,L]ToRewriteRule ^(.*)$ /HTML/pages/construction.html [L]\"]]}"}
{"content": "{\"prompt\": \"User: I have a wordpress website in project and I want to mask the URL of all the pages so that when accessing them:https://myweb.com/survey/page1https://myweb.com/survey/page2....is displayed as:https://myweb.com/survey/portalI have this on .htaccess but it doesn't work:RewriteEngine On\\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\\nRewriteBase /survey/\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /survey/index.php [L]\\nRewriteRule ^survey/?$ /survey/portal/Thank you all for your time.\\n\\nAssistant:\", \"response\": [[\"Very nice efforts first of all, could you please try following; written based on your shown samples. Please clear your browser cache before testing your URLs.Also please your .htaccess file just one level abovesurveyfolder.RewriteEngine On\\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\\nRewriteBase /survey/\\nRewriteRule ^index\\\\.php$ - [L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^ https://%{HTTP_HOST}/portal [R=301]\\nRewriteRule ^ survey/index.php [L]\"]]}"}
{"content": "{\"prompt\": \"User: I was trying to get URLs edited in Apache as described below however I have not been successful.If the URI starts with letter 'a' and third digit is not '7' with total digits are 6\\nthen urlhttp://example.com/a/123456/should be rewritten tohttp://example.com/sixdigits.phpIf the URI starts with letter 'b' and third digit is not '7' with total digits are 4 then urlhttp://example.com/b/1234/should be rewritten tohttp://example.com/fourdigits.phpHere is what I have tried with the .htaccess file.RewriteRule ^a/[0-9]+/$  sixdigits.php \\nRewriteRule ^b/[0-9]+/$  fourdigits.php\\n\\nAssistant:\", \"response\": [[\"Another regex variant:RewriteEngine On\\n\\nRewriteRule ^a/\\\\d{2}[^7\\\\D]\\\\d{3}/?$ sixdigits.php [L]\\n\\nRewriteRule ^b/\\\\d{2}[^7\\\\D]\\\\d/?$ fourdigits.php [L][^7\\\\D]will match any digit except7\"]]}"}
{"content": "{\"prompt\": \"User: When I am trying to give url ashttps://example.com/dir/file/filethen the request is getting into loop and 500 error comes while it should give file does not exists. I am using LAMP Stack. I am hiding .php in my .htaccess## hide .php extension\\n# To externally redirect /dir/foo.php to /dir/foo\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\\\s([^.]+)\\\\.php [NC]\\nRewriteRule ^ %1 [R=302,L]\\n\\n# To internally forward /dir/foo to /dir/foo.php\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule ^(.*?)/?$ $1.php [L]\\n\\nAssistant:\", \"response\": [[\"# To internally forward /dir/foo to /dir/foo.php\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule ^(.*?)/?$ $1.php [L]You are getting a rewrite-loop (500 error) because the filename you are checking, ie.%{REQUEST_FILENAME}.phpisn't necessarily the same as the file you are rewriting to, ie.$1.php.If you request/dir/file/filethen theREQUEST_FILENAMEserver variable is<document-root>/dir/file(no path-info), whereas the captured backreference$1is/dir/file/file.Try the following instead:# To internally forward /dir/foo to /dir/foo.php\\nRewriteCond %{DOCUMENT_ROOT}/$1.php -f\\nRewriteRule ^(.*?)/?$ $1.php [L]A request for/dir/file/filewill now fail with a 404, since it is checking that/dir/file/file.phpexists.You don't really need to check that the request does not map to a directory before checking that it does map to a file (twice the work), unless you also have directories of the same name and you need the directory to take priority (unlikely).See alsomy answerto the following ServerFault question that goes into more detail:https://serverfault.com/questions/989333/using-apache-rewrite-rules-in-htaccess-to-remove-html-causing-a-500-error\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to allow access to a folder called .well-known but I've found this rule that blocks hidden directories;# block hidden directories\\nRewriteRule \\\"(^|/)\\\\.\\\" - [F]Obviously there's a reason why this was added (I inherited the code) but I was wondering if I could keep this rule but add an exception for the .well-known folder?\\n\\nAssistant:\", \"response\": [[\"You can indeed! You need to include a Rewrite Condition:RewriteCond %{REQUEST_URI} !^/\\\\.well-knownPut this before the actualRewriteRule, this condition basically tells the server NOT to hide the.well-knownfolder.Make sure you clear your cachebeforetesting this.\"]]}"}
{"content": "{\"prompt\": \"User: I have a virtual host in my WAMP local server, where I set my log file.I wanted to change my PHP log error level to only warnings and errors.The best way should be .htaccess, I tried this solution:How to disable notice and warning in PHP within .htaccess file?Dind't work (tried others also).At the end went to php.ini file, however is the less flexible options.1) Which are the priority of this level error instructions? (php.ini vs htaccess vs  code)\\nI guess that order?2) Why is not working in .htaccess?\\nI just set it on top of .htaccess, and did't work.\\n\\nAssistant:\", \"response\": [[\"My recommendation would be to use an httpdenvironment variable.This can act as a flag to inform your web application about the environment. Say you had a white label product, there it can be useful for example in setting what configuration should be used with a specific vhost.<VirtualHost *:80>\\n  DocumentRoot \\\"/srv/www/foo/public\\\"\\n  ServerName foo.com\\n\\n  <Directory /srv/www/foo/public>\\n\\n    # production | development | staging\\n    SetEnv APPLICATION_ENV development\\n    ...And then in your PHP code you would access it like:<?php\\ndefine('APPLICATION_ENV_LOCAL', 'local');\\ndefine('APPLICATION_ENV_DEVELOPMENT', 'development');\\ndefine('APPLICATION_ENV_STAGING', 'staging');\\ndefine('APPLICATION_ENV_PRODUCTION', 'production');\\n\\n$app_env = (getenv('APPLICATION_ENV')) ? getenv('APPLICATION_ENV') : false;\\nif (empty($app_env) || ! in_array($app_env, array(APPLICATION_ENV_LOCAL, APPLICATION_ENV_DEVELOPMENT, APPLICATION_ENV_STAGING, APPLICATION_ENV_PRODUCTION))) {\\n    throw new Exception(\\\"APPLICATION ENV IS NOT SPECIFIED OR IS INVALID.\\\");\\n}What I'd do is have totally separate config / INI type files that I  include based on the environment. Those could determine error reporting behavior, maintain distinct database connections, anything else dependent on the application environment.\"]]}"}
{"content": "{\"prompt\": \"User: I would like to add HTTP Strict Transport Security directive to my .htaccess file. I've added the lock at the end of the code here but when I test Testing the HSTS preload process it show the setting not set. I checked my Apache config and see the headers module enabled.What am I missing?<Files .htaccess>\\norder allow,deny\\ndeny from all\\n</Files>\\n\\n<FilesMatch \\\"\\\\.(png|gif|js|css)$\\\">\\n  ExpiresActive on\\n  ExpiresDefault \\\"access plus 1 month\\\"\\n</FilesMatch>\\n\\n# disable directory autoindexing\\nOptions -Indexes\\n\\nErrorDocument 400 http://%{HTTP_HOST}\\nErrorDocument 401 http://%{HTTP_HOST}\\nErrorDocument 402 http://%{HTTP_HOST}\\nErrorDocument 403 http://%{HTTP_HOST}\\nErrorDocument 405 http://%{HTTP_HOST}\\nErrorDocument 404 /incl/pages/error404.php\\nErrorDocument 500 http://%{HTTP_HOST}\\n\\nRewriteEngine On\\n\\nRewriteBase /\\nRewriteCond %{SERVER_PORT} ^80$\\nRewriteRule ^.*$ https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]\\n\\n# BEGIN GZIP\\n<ifmodule mod_deflate.c>\\n    AddOutputFilterByType DEFLATE text/text text/html text/plain text/xml text/css application/x-javascript application/javascript\\n</ifmodule>\\n# END GZIP\\n\\n# Use HTTP Strict Transport Security to force client to use secure connections only\\n<ifmodule mod_headers.c>\\n    Header set Strict-Transport-Security \\\"max-age=31536000; includeSubDomains; preload\\\" env=HTTPS\\n</ifmodule>I testedhereandhere.\\n\\nAssistant:\", \"response\": [[\"For redirects you need to usealwaysattribute:Header always set Strict-Transport-Security \\\"max-age=31536000; includeSubDomains; preload\\\" env=HTTPSFrom themod_headers documentation:You're adding a header to a locally generated non-success (non-2xx) response, such as a redirect, in which case only the table corresponding toalwaysis used in the ultimate response.\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to set theCache-Controlheader for the images in my Laravel 5.5 app. I'm using the.htaccessfile (placed in themyapp/publicdirectory):<IfModule mod_rewrite.c>\\n    # rewrite directives...\\n</IfModule>\\n\\n<FilesMatch \\\".(jpg|jpeg|svg)$\\\">\\n    Header set Cache-Control \\\"max-age=31536000, public\\\"\\n</FilesMatch>Unfortunately, theCache-Controlheader is not being set for the specified static resources, so I must be doing it wrong.Is it the .htaccess syntax I'm getting wrong, something Laravel-specific, or something else entirely?Update:I forgot to mention the server I'm working with - Nginx, which is an important clue,as it turns out.\\n\\nAssistant:\", \"response\": [[\"This works for me# BEGIN Expires-Headers\\n<IfModule mod_expires.c>\\n  <FilesMatch \\\"\\\\.(js|css)$\\\">\\n    ExpiresActive On\\n    ExpiresDefault \\\"access plus 1 weeks\\\"\\n  </FilesMatch>\\n</IfModule>\\n# END Expires-Headers\\n\\n# BEGIN Cache-Control-Headers\\n<ifmodule mod_headers.c>\\n  <filesmatch \\\"(gif|ico|jpeg|jpe|jpg|svg|png|css|js)$\\\">\\n    Header set Cache-Control \\\"max-age=604800, public\\\"\\n  </filesmatch>\\n</ifmodule>\\n# END Cache-Control-Headers\"]]}"}
{"content": "{\"prompt\": \"User: I uploaded a cakePHP project to the Godaddy server.I have also seen this link. But not solve the error:-500 internal server error occured in CakePHP 3?How to solve cakephp 500 Internal Server Error?CakePHP 500 Internal Server ErrorCakePHP shows 500 Internal Server ErrorMy .htaccess code in /root/.htaccess<IfModule mod_rewrite.c>\\n   RewriteEngine on\\n   RewriteRule    ^$ app/webroot/    [L]\\n   RewriteRule    (.*) app/webroot/$1 [L]\\n</IfModule>In /root/app/.htaccess<IfModule mod_rewrite.c>\\n    RewriteEngine on\\n    RewriteRule    ^$    webroot/    [L]\\n    RewriteRule    (.*) webroot/$1    [L]\\n</IfModule>In /root/app/webroot/.htaccess<IfModule mod_rewrite.c>\\n    RewriteEngine On\\n    RewriteCond %{REQUEST_FILENAME} !-d\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteRule ^ index.php [L]\\n</IfModule>This error is still coming after a lot of effort.Please Help?\\n\\nAssistant:\", \"response\": [[\"It may not be a problem everytime. Your .htaccess code may be alright. Please check permission of your root folder on godaddy server. It dependent on which type of server you use. Please enable to your folder permission on server. Then it may be working for you.\"]]}"}
{"content": "{\"prompt\": \"User: I am not very firm in Apache, so please excuse if the question might seem a bit obvious.\\nI would like to redirect requests that would result in an Error 403 in specific directories to my webservers root by means of a .htaccess file.\\nsohttps://thedomain.com/secretlair/->https://thedomain.comso far i used:RewriteEngine on\\nRewriteBase /\\nRewriteRule (.*) https://thedomain.com/$1 [R=301,L]which works but creates the problem of also redirectinghttps://thedomain.com/secretlair/thefile.txttohttps://thedomain.com/thefile.txtwhat do I need to change to make this work?Thanks a lot!\\n\\nAssistant:\", \"response\": [[\"You can just use aErrorDocumenthandler for403error instead of a rewrite rule like this:ErrorDocument 403 https://thedomain.com/Make sure to clear your browser cache before testing this change.\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to create a log file by using a.htaccessscript.\\nI have a image directory in which I want to place the.htaccessfile which will write all file names which is accessed from this image folder.I now need to create a log inside image folder.I tried withRewriteLogbut it's not working for me.\\nI am using Apache version 2.4.\\n\\nAssistant:\", \"response\": [[\"After going through Apache documentation for log creation, I found that Apache not allowed to write code for log creation in .htaccess file.\\nWe need to write code in httpd.conf file.SourceMy code to write log file for all images in httpd.conf file is:SetEnvIf Request_URI \\\"(\\\\.gif|\\\\.png|\\\\.jpg|\\\\.jpeg|\\\\.JPEG|\\\\.JPG|\\\\.PNG|\\\\.GIF|\\\\.JFIF|\\\\.TIFF|\\\\.BMP)$\\\" image-request=log\\nCustomLog logs/unwanted-requests.log common env=image-request\"]]}"}
{"content": "{\"prompt\": \"User: I have the following code in my .htaccess file that allows URLs that contain only letters, numbers, underscores or dashes to access my page (named \\\"available\\\"):RewriteCond %{REQUEST_FILENAME} !-l\\nRewriteRule ^[a-zA-Z0-9_-]+$ /available.shtml [L]So for example, mywebsite.com/abc goes through, mywebsite.com/ABC goes through, mywebsite.com/123 goes through, mywebsite.com/aBc123 goes through (you get the point). Any requested url that containssymbolsproduces an error page.This works great, but I also want to restrict the character length to no more than 25 characters (Meaning the requested URL must contain only letters, numbers, etc. AND belessthan 25 characters long. How can I do this? I tried using:RewriteCond %{REQUEST_FILENAME} !-l\\nRewriteRule ^([a-zA-Z0-9_-]{25,})+$ /available.shtml [L]but this makes it have to bemorethan 25 characters not less.edit(referring to comment):\\n\\nAssistant:\", \"response\": [[\"Just set the upper bound:RewriteCond %{REQUEST_FILENAME} !-l\\nRewriteRule ^[\\\\w-]{0,25}$ /available.shtml [L]Instead of0,25, you could also try1,25if you wanthttp://yoursite.comto also be sent to/availablepage.\"]]}"}
{"content": "{\"prompt\": \"User: I'm running a WordPress multisite network that allows users to optionally use a custom domain name on their websites. Users that opt not to use a custom domain are assigned a subdomain of the WP install (e.g.: fred.example.com, with example.com being the URL the WP multisite network is installed on).I have a wildcard SSL configured for the main domain, but I do not have certificates available for custom domain names.What I need is a htaccess rule to force traffic to https if the request is for eitherexample.comor*.example.com, but not if the request is coming in using a custom domain.It should work as follows:http://example.com/*→https://example.com/*http://foo.example.com/*→https://foo.example.com/*http://customdomain.com/*→http://customdomain.com/*\\n\\nAssistant:\", \"response\": [[\"Try something like the following near the top of your.htaccessfile. Using mod_rewrite:RewriteEngine On\\nRewriteCond %{HTTPS} !on\\nRewriteCond %{HTTP_HOST} ^(?:[a-z0-9-]+\\\\.)?example\\\\.com\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=302,L]What this says is... For all requests that are not HTTPS and that matchexample.comor<subdomain>.example.comthen redirect tohttps://on the same host, same URL-path.Note that this doesn't allowwww.<subdomain>.example.com(which I assume your SSL cert does not cover anyway).Change the302(temporary) to301(permanent) only when you are sure it's working OK.\"]]}"}
{"content": "{\"prompt\": \"User: I have a directory of my website I would like to secure. I am doing this using a .htaccess file to force a HTTP AUTH. I would like to force this HTTP AUTH to be done over HTTPS.Looking at various solutions on stack overflow here is the point I have got to:I have the following .htaccess file in the 'top_secret' directory:SSLRequireSSL\\nErrorDocument 403 /rd.php\\nAuthType Basic\\nAuthName \\\"Secure Page\\\"\\nAuthUserFile \\\"/home/usr/.htpasswds/public_html/top_secret/passwd\\\"\\nRequire valid-userI then have 'rd.php' in my root directory:<?php\\n$path = \\\"https://\\\".$_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URI'];\\nif ( $_SERVER['SERVER_PORT'] == 80) {\\n    header(\\\"Status: 302 Moved\\\\n\\\");\\n    header(\\\"Location: \\\".$path.\\\"\\\\n\\\\n\\\");\\n}\\nelse {\\n    header( \\\"Content-type: text/html\\\\n\\\\n\\\");\\n    echo '?';\\n}\\n?>This works quite well on my desktop computer, however when I browse to the top_secret directory from my iphone in safari (to the HTTPS or HTTP address) I just get a question mark returned. So for some reason the else condition of my php file is being outputted.I am not exactly sure what this means and how to resolve, any help would be greatly appreciated\\n\\nAssistant:\", \"response\": [[\"Rather than do this in PHP, I suggest you implement it on the web server layer. Add this to the top of your.htaccessfile:RewriteEngine on\\nRewriteCond %{HTTPS} off\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]And remove your PHP redirect code.But this is still going to require log-in before the redirect is issued, with the details being transferred insecurely. What you really need is two<VirtualHost>blocks in Apache. One for port 80 that redirects requests for your directory to HTTPS, and one for port 443 that has the HTTP AUTH configured.UpdateAlso it makes no sense to try and issue a 302 redirect within a document that is used as the 403 error document, since the status code has already been set and the document is only being used to generate the body of that response, so it can't now change the response code to 302 because it has already been set to 403. The approach I've outlined above will work, or you could simply deny HTTP requests and serve HTTPS only for that directory.\"]]}"}
{"content": "{\"prompt\": \"User: I know that there is a lot info out there on redirects from non www to www domain. But my problem is that I can manage the redirect of the home page, but not the subpages.You could see the examplehereSo when I enter the url like ourenglishclass.eu/fill-in-text-5th-6th-grade the redirect happens to the www.ourenglishclass.eu/index.phpI can see that there is probably more rewrite rules which cause it to behave this way, but I cannot find what, or how can I fix thisThese are the rules which redirecting to /index.php#\\n RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\\n #\\n # If the requested path and file is not /index.php and the request\\n # has not already been internally rewritten to the index.php script\\n RewriteCond %{REQUEST_URI} !^/index\\\\.php\\n # and the requested path and file doesn't directly match a physical file\\n RewriteCond %{REQUEST_FILENAME} !-f\\n # and the requested path and file doesn't directly match a physical folder\\n RewriteCond %{REQUEST_FILENAME} !-d\\n # internally rewrite the request to the index.php script\\n RewriteRule .* index.php [L]I have tried these redirect rules from non-www to www:#RewriteCond %{HTTP_HOST} !^www\\\\. [NC]\\n  #RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]and (this is because i'm testing also with https)# Redirect to www\\n  RewriteCond %{HTTP_HOST} ^[^.]+\\\\.[^.]+$\\n  RewriteCond %{HTTPS}s ^on(s)|\\n  RewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]Hopefully someone can point the way out\\n\\nAssistant:\", \"response\": [[\"Problem appears to be due to the fact that you are placing redirect rule below your front controller rule that forwards everything toindex.phphence makingREQUEST_URIequal to/index.php.Have your rule like this:RewriteEngine On\\n\\n# Redirect to www\\nRewriteCond %{HTTP_HOST} ^[^.]+\\\\.[^.]+$\\nRewriteCond %{HTTPS}s ^on(s)|\\nRewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]\\n\\n#\\nRewriteRule ^ - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\\n#\\n# If the requested path and file is not /index.php and the request\\n# has not already been internally rewritten to the index.php script\\nRewriteCond %{REQUEST_URI} !^/index\\\\.php\\n# and the requested path and file doesn't directly match a physical file\\nRewriteCond %{REQUEST_FILENAME} !-f\\n# and the requested path and file doesn't directly match a physical folder\\nRewriteCond %{REQUEST_FILENAME} !-d\\n# internally rewrite the request to the index.php script\\nRewriteRule ^ index.php [L]Make sure you clear your browser cache before testing this change.\"]]}"}
{"content": "{\"prompt\": \"User: frequently I use this:<If \\\"%{QUERY_STRING} =~ m#^.*TTT.*$#i\\\">I would like to know what is =~? I suppose it's related to \\\"equal\\\". So how do I make \\\"different\\\"?\\n\\nAssistant:\", \"response\": [[\"=~is used for regular expression based evaluation in expressions.Here is official Apache documentation for expressions.To negate use!~like this:<If \\\"%{QUERY_STRING} !~ /foobar/\\\">\\n   Redirect 301 \\\"/\\\" \\\"http://www.example.com/\\\"\\n</If>Check Binary Operators ListComparison operatorsName    Description\\n==      String equality\\n!=      String inequality\\n<       String less than\\n<=      String less than or equal\\n>       String greater than\\n>=      String greater than or equal\\n=~       String matches the regular expression\\n!~       String does not match the regular expression\\n-eq eq  Integer equality\\n-ne ne  Integer inequality\\n-lt lt  Integer less than\\n-le le  Integer less than or equal\\n-gt gt  Integer greater than\\n-ge ge  Integer greater than or equal\"]]}"}
{"content": "{\"prompt\": \"User: I'm working on WordPress site and I use WooCommerce plugin. This plugin rewrites all my URLs likewww.mydomain.com/product/category/postname/but my client want to remove the/product/folder.By default the Permalink Settings in WordPress can't do that and WooCommerce team alsorecommendednot to remove the/product/folder. But I want my URL be likewww.mydomain.com/category/subcategory/post_id/postname/Can anyone help, please!\\n\\nAssistant:\", \"response\": [[\"I have tried many ways to do this finally i found a pluginRemove slug from custom post typeThis works for me but this plugin is an old one and untested with my wordpress version. How ever its works for me.\"]]}"}
{"content": "{\"prompt\": \"User: PayPal are annoying...if you have thousands of customer subscriptions whichPOSTIPN's (Instant Payment Notifications) to a certain URL...you can never change that URL. If you want to have the IPN's sent to another URL, their advice...tell all your customers to cancel their subscriptions and start new ones after you've changed the IPN URL. Great.So after digging around, a solution I found is to use a 307 redirect which will not only redirect to a new URL, but carry along thePOSTdata with it. but I'm having a little trouble with that in Apache. It doesn't seem to work at all. Here is the line in my.htaccessfile:Redirect 307 /index.php?view=account&task=paypal https://api.anotherdomain.com/paypal/ipnWhat would be the reason this doesn't redirect?\\n\\nAssistant:\", \"response\": [[\"You can't match against querystring using a Redirec directive. You need to match against %{QUERY_STRING} variable using mod-rewrite. The following rule does what you want :RewriteEngine on\\n\\nRewriteCond %{QUERY_STRING} ^view=account&task=paypal$ [NC]\\nRewriteRule ^/?index\\\\.php$ http://example.com/paypal/? [R=307,L]?at the end of the destination url is important as it avoids appending old querystring to the new url.\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to redirect my entire site to a subfolder present in the root directory using the following Redirect command.Redirect 301 / http://example.com/folder/However, when I open the website, it gets redirected to something likehttp://www.example.com/folder/folder/folder/folder/folder/folder/folder...Am I doing something wrong here?\\n\\nAssistant:\", \"response\": [[\"Yes, you're redirecting anything starting with/so of course that includes/folder/and it just keeps redirecting. You can't redirect your whole site to a part of itself without excluding that part.Use this instead:RewriteEngine on\\nRewriteCond %{REQUEST_URI} !^/folder/\\nRewriteRule ^(.*)$ /folder/$1 [NE,R=301,L]It will redirect anything that is not in/folder/.To only redirect the homepage, use this instead:RewriteEngine on\\nRewriteRule ^$ /folder/ [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: Probably I'm overseeing something very basic, htaccess is not my field of expertise.My site is https-only, to achieve this, the root folder / contains these lines:RewriteEngine On\\nRewriteCond %{ENV:HTTPS} !on\\nRewriteRule ^(.*) https://%{HTTP_HOST}/$1 [R=301,L]This works just fine. Now we have a new folder called /projects, which contains its own htaccess rules to translate the url in a database query by a file called /projects/project.htmlThe working htaccess within the folder /projects is:RewriteEngine On \\nRewriteBase /projects/\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.+)$ project.html?project=$1 [QSA,L]Now I would like to force https connection on this one, because the https rule in the main directory is not applied on /projects if you visit byhttp://URLdirectly. Therefore I modified the file to:RewriteEngine On \\n\\nRewriteCond %{HTTPS} !=on\\nRewriteRule ^.*$ https://example.com%{REQUEST_URI} [R=301,L,NE]\\n\\nRewriteBase /projects/\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.+)$ project.html?project=$1 [QSA,L]With this, it switches to https, but I keep getting \\\"ERR_TOO_MANY_REDIRECTS\\\".When I change the lines as @thickguru suggested, like this:RewriteRule ^(.*)$ https://example.com/$1 [R,L]It will redirect me tohttps://example.com/index.htmlright away.I fiddled around with the settings, also with the information ofthis post, however still I can't get it to work.\\n\\nAssistant:\", \"response\": [[\"+100I just noticed it the variable you are matching against is%{ENV:HTTPS}, so , you can use the following rule in /projects/.htaccess :RewriteEngine on\\n\\nRewriteCond %{ENV:HTTPS} !on\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [NE,L,R]Clear your browser cache or try a diffrent browser to test this.\"]]}"}
{"content": "{\"prompt\": \"User: Our application needs to redirectHTTPrequests toHTTPS. \\nNormally i would use theRewriteCondas below.RewriteCond %{HTTPS} offThe thing with our current hosting company is that the requested port is always 80. It doens't matter if we send aHTTPorHTTPSrequest, the$_SERVER['SERVER_PORT']is always 80.We can handle this inPHP, but we also want to force files toHTTPS.So the concrete question. Is there anyway to forceHTTPSin.htaccesswithout usingRewriteCondlikeRewriteCond %{HTTPS}orRewriteCond %{SERVER_PORT}.\\n\\nAssistant:\", \"response\": [[\"Your situation is not that uncommon. Try this (X-Forwarded-Protois de facto standard for identifying the originating protocol of an HTTP request):RewriteCond %{HTTP:X-Forwarded-Proto} !https [NC]\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L,NE]\"]]}"}
{"content": "{\"prompt\": \"User: I have looked for the answer to my problem here, but the solution is always provided without explaining how to do it, that's the reason I can not do it properly.I have this code:RewriteRule ^dex/([^_]*)/([^_]*)/([^_]*)/([^_]*)/([^_]*)$ /dex.php?one=$1&two=$2&three=$3&four=$4&five=$5 [L]This htaccess as it is makes it mandatory that all parameters are given. This URL works:http://example.com/dex/one/two/three/four/fiveI also want to make it work like this:http://example.com/dex/one/two/three/fourMaking the last (or some) parameters optional. I read something about QSA|qsappend here:http://httpd.apache.org/docs/current/en/rewrite/flags.html#flag_qsabut I can't understand it completely.Any help? Thank you\\n\\nAssistant:\", \"response\": [[\"To anyone having the same issue, this is the code used to fix it:RewriteRule ^dex/([^/]*)/([^/]*)/([^/]*)/([^/]*)/?([^/]*)?$ /dex.php?one=$1&two=$2&three=$3&four=$4&five=$5 [L]Changed([^_]*)to([^/]*)and added?after what I wanted to make optional.In this case:/?is making a end slash optional, and([^/]*)?is making the last parameter optional. So it works when the URL is like this:http://example.com/dex/one/two/three/four/\\n\\nhttp://example.com/dex/one/two/three/four\\n\\nhttp://example.com/dex/one/two/three/four/five\\n\\nhttp://example.com/dex/one/two/three/four/five/Hope this helps someone.\"]]}"}
{"content": "{\"prompt\": \"User: I run a testsystem with a htaccess basic auth:AuthType Basic\\nAuthName \\\"Restricted Content\\\"\\nAuthUserFile /var/www/html/.htpasswd\\nRequire valid-userI now want to disable this auth for all user who target the /api and /api/orders etc. of this server. I tried it with this:SetEnvIf Request_URI \\\"/api(.*)$\\\" api_uri\\nAuthType Basic\\nAuthName \\\"Restricted Content\\\"\\nAuthUserFile /var/www/html/.htpasswd\\nRequire valid-user\\nDeny from all\\nAllow from env=api_uri\\nSatisfy anyBut this does not work - mod_setenvif is enabled. Does anybody have an idea why this is not working?Thanks!\\n\\nAssistant:\", \"response\": [[\"Have it this way:SetEnvIf Request_URI /api api_uri\\n\\nAuthType Basic\\nAuthName \\\"Restricted Content\\\"\\nAuthUserFile /var/www/html/.htpasswd\\nRequire valid-user\\n\\nSatisfy    any\\nOrder      deny,allow\\nDeny from  all\\nAllow from env=api_uri\"]]}"}
{"content": "{\"prompt\": \"User: Closed.This question does not meetStack Overflow guidelines. It is not currently accepting answers.This question does not appear to be abouta specific programming problem, a software algorithm, or software tools primarily used by programmers. If you believe the question would be on-topic onanother Stack Exchange site, you can leave a comment to explain where the question may be able to be answered.Closed7 years ago.Improve this questionLast night a shell script was able to execute some linux commands that modified my .htaccess files resulting in a simple redirect to an ad website. I've removed the redirect from the .htaccess but I'm trying to take preventative measures so that this does not happen again.I viewed the access log from my server and it shows these entries below:partners.xxxxxxxx.com-Jul-2016.gz:184.168.192.26 - - [03/Jul/2016:10:40:01 -0500] \\\"GET /e5nbwvcxef.php HTTP/1.1\\\" 200 61 \\\"-\\\" \\\"Mozilla/5.0 (X11; Linux x86_64; rv:29.0) Gecko/20100101 Firefox/29.0 SeaMonkey/2.26\\\"\\npartners.xxxxxxxx.com-Jul-2016.gz:69.64.37.219 - - [03/Jul/2016:10:40:03 -0500] \\\"POST /e5nbwvcxef.php HTTP/1.1\\\" 200 20 \\\"-\\\" \\\"Mozilla/5.0 (X11; Linux x86_64; rv:29.0) Gecko/20100101 Firefox/29.0 SeaMonkey/2.26\\\"I remember a little bit ago that if the user has this kind of access it is bad. Can anyone shed some light on tips I can do to secure my server so they cannot upload things like this? Thanks!\\n\\nAssistant:\", \"response\": [[\"First of all, you want to prevent access to your.htaccessfile, you can do that using:<Files .htaccess>\\norder allow,deny\\ndeny from all\\n</Files>You can then actually rename your.htaccessfile to help hide it from potential threats, it does not mean they can't find it.. but it certainly makes it harder!AccessFileName thehtfile.essThen, there are a number of methods you can use to help prevent \\\"hacks\\\". First of all, block any scripts that include the<script>tag in the URL:RewriteEngine On\\n\\nRewriteCond %{QUERY_STRING} (<|%3C).*script.*(>|%3E) [NC,OR]You can then block any script trying to set aPHP Globalsvariable via a URL:RewriteCond %{QUERY_STRING} GLOBALS(=|[|\\\\%[0-9A-Z]{0,2}) [OR]Block any script trying to usebase64_encodevia URL:RewriteCond %{QUERY_STRING} base64_encode.*(.*) [OR]Block any script trying to modify thea_REQUESTvariable via URL:RewriteCond %{QUERY_STRING} _REQUEST(=|[|\\\\%[0-9A-Z]{0,2})Finally, disable the use of scripts on your directories..AddHandler cgi-script .php .pl .py .jsp .asp .htm .shtml .sh .cgi\\nOptions -ExecCGILots of different options, and I imagine there are a lot more! These are some of the ones I use in my.htaccess. I hope these help to prevent similar attacks in the future! It really does suck :/\"]]}"}
{"content": "{\"prompt\": \"User: I have the following directory structure:root\\n    folder1\\n        foldera\\n            file.php\\n    folder2\\n        folderb\\n    index.php\\n    .htaccessI would like to route all requests to index.php and have this apply to all folders. Here is my .htaccess:RewriteEngine On\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^(.+)$ index.php?url=$1 [QSA,L]This seems to work fine forlocalhost/root. The request is correctly routed to index.php. But forlocalhost/root/folder1orlocalhost/root/folder1/foldera/filephpit does not work. Is there an additional rule I need to define for this to work?\\n\\nAssistant:\", \"response\": [[\"From:https://httpd.apache.org/docs/current/howto/htaccess.htmlThe configuration directives found in a .htaccess file are applied to the directory in which the .htaccess file is found, and to all subdirectories thereof. However, it is important to also remember that there may have been .htaccess files in directories higher up. Directives are applied in the order that they are found. Therefore, a .htaccess file in a particular directory may override directives found in .htaccess files found higher up in the directory tree. And those, in turn, may have overridden directives found yet higher up, \\n  or in the main server configuration file itself.If your htaccess is in the root, why the '../'? As it stands it is redirecting to an index.php above your root directory.If you want it to work for all requests, remove the two rewrite conditions. Right now it is saying: \\\"rewrite request only if the request is not for a file or a directory that exists\\\".\"]]}"}
{"content": "{\"prompt\": \"User: I want to make redirects from urls like/test/112321  to /test/\\n/test/test2/1311223 /test/test2/There are only digits in the end of the url.Now i haveRewriteCond %{HTTP_HOST} ^(.*)([0-9]*)/$ [NC]\\nRewriteRule ^(.*)/([0-9]*)$ http://%1/$1/ [R=301,L]but it doesn't work.\\nCould you help me with this?\\n\\nAssistant:\", \"response\": [[\"You don't needRewriteCond %{HTTP_HOST}as you're matchingREQUEST_URIwhich you can do inRewriteRuleitself.You can use this rule in site root .htaccess:RewriteEngine On\\n\\nRewriteRule ^(.+)/([0-9]+)/?$ /$1/ [R=301,L,NE]\"]]}"}
{"content": "{\"prompt\": \"User: I want to redirect all of my HTTP requests to my HTTPS (SSL) protocol. Please guys this is not a duplicate. I have already tried every question found on SO which indicate such question but none of them worked. I tried everything I found on the internet but still cannot figure out what the problem is. May be somewhere something has to be enabled or something like that.I want to redirect from myhttpd.conffile not from.htaccessbecause this is what suggested by Apache Org. My current Redirection Rule is<VirtualHost *:80> \\n    ServerName www.example.com\\n    Redirect / https://www.example.com/\\n</VirtualHost > \\n<VirtualHost *:443>\\n    ServerName www.example.com\\n</VirtualHost >I am making all of these changes in myhttpd.conffile located in/etc/httpd/conf/httpd.confAfter every change, I also restart my server with following/etc/init.d/httpd restartorservice httpd restartI also tried followingRewriteEngine On\\nRewriteCond %{HTTPS} off\\nRewriteRule (.*) https://%{SERVER_NAME}/%$1 [R,L]But still when I visit my site likewww.example.com, I am not redirected tohttps://www.example.com.I have a VPS Server so has enough access to my machine to enable or disable something.\\n\\nAssistant:\", \"response\": [[\"Try with:RewriteEngine on \\nRewriteCond %{HTTPS} off\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [NE,L,R]\"]]}"}
{"content": "{\"prompt\": \"User: I have a site with Wordpress. I need some single page to redirect HTTPSI get code form stackoverflow and put in .htaccess# BEGIN WordPress\\n    <IfModule mod_rewrite.c>\\n    RewriteEngine On\\n    RewriteBase /\\n\\n    RewriteCond %{HTTPS} off\\n    RewriteCond %{THE_REQUEST} /online-order-auto [NC]\\n    RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]\\n\\n    RewriteCond %{HTTPS} on\\n    RewriteCond %{THE_REQUEST} !/online-order-auto [NC]\\n    RewriteRule ^ http://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]\\n\\n    RewriteRule ^index\\\\.php$ - [L]\\n\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteCond %{REQUEST_FILENAME} !-d\\n    RewriteRule . /index.php [L]\\n    </IfModule>\\n    # END WordPress\\n    RewriteCond %{HTTP_HOST} ^(www\\\\.)?site\\\\.com\\\\.swtest\\\\.ru$\\n    RewriteRule ^(.*)$ http://www.site.ru/$1 [L,R=301]The browser wrote \\\"ERR_TOO_MANY_REDIRECTS\\\".\\nI cant understand whats a problem\\n\\nAssistant:\", \"response\": [[\"Try this. I've been looking all over and this is the only way I could make it work...#non-www. http to www. https\\nRewriteCond %{ENV:HTTPS} !on\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?yourdomain\\\\.com$\\nRewriteRule (.*) https://www.yourdomain.com/$1 [R=301,L]\\n\\n#non-www. https to www. https\\nRewriteCond %{ENV:HTTPS} on\\nRewriteCond %{HTTP_HOST} ^yourdomain\\\\.com$\\nRewriteRule (.*) https://www.yourdomain.com/$1 [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: My url: eDemo/admin/test/list/#/listI want: eDemo/admin/test/listjs:var serviceBase =\\\"http://admin-pc/eDemo/admin/test/\\\";\\nfunction config($routeProvider, $locationProvider) {\\n\\n    $routeProvider\\n        .when('/add', {\\n            controller: 'addController',\\n            templateUrl: serviceBase + 'add',\\n            controllerAs: 'vm',\\n        })\\n        .when('/edit', {\\n            controller: 'editController',\\n            templateUrl: serviceBase + 'edit',\\n            controllerAs: 'vm',\\n        })\\n\\n\\n        .otherwise({ redirectTo : 'list' });\\n}html:<div class='ng-view'></div>\\n\\nAssistant:\", \"response\": [[\"You just need to addhtml5Mode(true)in your route provider configuration.\\nMake sure that you are passing the parameter $locationProvider on config function as an argument.here us the sample js code:var serviceBase =\\\"http://admin-pc/eDemo/admin/test/\\\";\\napp.config(['$routeProvider','$locationProvider',\\n     function ($routeProvider,$locationProvider) {\\n\\n    $routeProvider\\n        .when('/add', {\\n            controller: 'addController',\\n            templateUrl: serviceBase + 'add',\\n            controllerAs: 'vm',\\n        })\\n        .when('/edit', {\\n            controller: 'editController',\\n            templateUrl: serviceBase + 'edit',\\n            controllerAs: 'vm',\\n        })\\n\\n\\n        .otherwise({ redirectTo : 'list' });\\n\\n         $locationProvider.html5Mode(true);\\n\\n}And your HTML should looks like below :<div class='ng-view'>\\n <base href=\\\"<?=url('/').'/'?>\\\">\\n</div>Also Keep in mind that never pass#in anykind of url like you redirecting , you submitting form through AJAX or anywhere.\"]]}"}
{"content": "{\"prompt\": \"User: This is my structure:- app\\n  - assets \\n    - css\\n    - js\\n  - views\\n    index.html\\n- vendor\\n.htaccess\\nindex.php.htaccessRewriteEngine On\\nRewriteBase /\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(assets|bower_components|dist)/(.*)$ /app/$1/$2 [L,NC]\\n\\nRewriteCond %{REQUEST_URI} !^assets|bower_components|dist/.*$\\nRewriteRule ^ index.php [L,QSA]My problem is that when I try to load:/assets/css/style.cssfromindex.htmlit gives me404.Why is this happening?\\n\\nAssistant:\", \"response\": [[\"In .htaccess file changeRewriteBase /toRewriteBase /assets\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to redirect uppercase URL's to lowercase, but having a bit of a nightmare with it! (Mainly because my .htaccess knowledge is lacking!)Currently I have:<IfModule mod_speling.c>\\nCheckSpelling on\\n</IfModule>\\n\\nRewriteEngine On\\nRewriteMap  lc int:tolower\\nRewriteCond %{REQUEST_URI} [A-Z]\\nRewriteRule (.*) ${lc:$1} [R=301,L]Which works fine, but the CMS I'm using puts pagination links in the URL such ashttp://website.com/blog/P8orhttp://website.com/blog/P10and because the URL's have an uppercase P (Which seems to be required) they are 404 or 301 redirecting.Is there a rule i could add to make it not pick up on segments of the URL that have aPand immediately have at least one numerical character after it? Regex maybe?Any help would be appreciated!\\n\\nAssistant:\", \"response\": [[\"You can create an exception like this:RewriteEngine On\\n\\nRewriteMap lc int:tolower\\n\\nRewriteCond %{REQUEST_URI} [A-Z]\\nRewriteCond %{REQUEST_URI} !/P\\\\d+/?$ [NC] \\nRewriteRule (.*) ${lc:$1} [R=301,L]Or using negative lookahead:RewriteCond %{REQUEST_URI} [A-Z]\\nRewriteRule ^(?!.*/P\\\\d+/?$)(.*)$ ${lc:$1} [R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to redirect my uploads folder to my s3 bucket using htaccess in wordpress however it's not working. All the images on my site are still getting served locally from the server instead of linking to the bucket.This is my htaccess file:# BEGIN WordPress\\n<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.php [L]\\n</IfModule>\\n\\n# END WordPress\\n\\nRewriteEngine On\\nRewriteRule ^wp-content/uploads/(.*)$ https://BUCKET.s3.amazonaws.com/wp-content/uploads/$1 [L]\\n\\n# BEGIN W3TC CDN\\n<FilesMatch \\\"\\\\.(ttf|ttc|otf|eot|woff|font.css)$\\\">\\n<IfModule mod_headers.c>\\n    Header set Access-Control-Allow-Origin \\\"*\\\"\\n</IfModule>\\n</FilesMatch>\\n# END W3TC CDN\\n\\nAssistant:\", \"response\": [[\"There are a couple of problems. You need to put the ruleABOVEyour wordpress rule because wordpress rules routeeveryrequest to index.php.\\nNext you will need to usemod_proxywith the use of the[P] flagbecause regardless of not specifying redirect in the rewriterule, Apache will do it anyway because the substitution URL is a new domain. So Apache will perform a Redirect. So using[P] flagshould proxy the content instead of doing a redirect. This should accomplish what you need.RewriteEngine On\\nRewriteRule ^wp-content/uploads/(.*)$ https://BUCKET.s3.amazonaws.com/wp-content/uploads/$1 [P]\\n\\n# BEGIN WordPress\\n<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteBase /\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.php [L]\\n</IfModule>\\n\\n# END WordPress\"]]}"}
{"content": "{\"prompt\": \"User: I have a problem with a redirect rule that doesn´t work with spanish special characters. I dont know how can i convert my word to type into the htaccess file, because the charset supported by htaccess file doesn´t recognice de Á, É, etc characters. Do you know can i set the redirect rule for something like:Redirect 301 /home/BÁSICO.pdf http://example.com/exampledocument.pdforRedirect 301 /home/MÉDICOS.pdf http://example.com/exampledocument.pdf\\n\\nAssistant:\", \"response\": [[\"Also exist other posibility. You can try to change all special characters with this \\\"(.*)\\\" in the RewriteRule.\"]]}"}
{"content": "{\"prompt\": \"User: I am stuck in here with htaccess. I've searched and tried many tutorials and problem solutions but couldn't achieve what I want.I want to remove folder names from the website link. My htaccess file is in the root directory i.e \\\"testing\\\"What my link looks like:http://localhost/testing/sub/test.phpWhat I want:http://localhost/test.phpFollowing is my htaccessRewriteEngine on\\nRewriteBase /\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule /(.*) /testing/sub/$1    [L]\\n\\nAssistant:\", \"response\": [[\"Use this line in your root .htaccessRewriteRule ^test.php$ /testing/sub/test.php\"]]}"}
{"content": "{\"prompt\": \"User: This is my URL structurehttp://example.com/filename-.html.htaccessRewriteEngine on\\nRewriteBase /\\n\\nRewriteRule ^filename-([0-9]+)\\\\.html$ filename.php?id=$1 [L]\\nRewriteRule ^(.*)\\\\.html$ $1.php [L]\\n\\nErrorDocument 404 /404.htmlissue is that if there is a wrong url it doesn't go to 404 error pageExample wrong urlshttp:///example.com/filename-18-bank/////-4.htmlhttp://example.com//////listing-560.htmlHow can i tell .htaccess to redirect these url to 404 error document.\\n\\nAssistant:\", \"response\": [[\"You caninsert this rule just belowRewriteBaseline:# send any request containing multiple / to 404\\nRewriteCond %{THE_REQUEST} //\\nRewriteRule ^ - [L,R=404]\"]]}"}
{"content": "{\"prompt\": \"User: I've tried to host a CodeIgniter website in Ubuntu server.All other websites are working fine without any issues (the sever contains WordPress and Laravel applications). But this particular CodeIngniter website is not taking .htaccess file. I've spend a day to figure out the issue, but no luck.Here is the details.Website url structure:http://example.com/website_name.htaccess file<IfModule mod_rewrite.c>\\n    RewriteEngine on\\n    RewriteCond $1 !^(index\\\\.php|resources|robots\\\\.txt)\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteCond %{REQUEST_FILENAME} !-d\\n    RewriteRule ^(.*)$ index.php/$1 [L]\\n</IfModule>Virtual host entry<VirtualHost *:80>\\n    ServerName example.com\\n    ServerAlias example.com\\n    DocumentRoot \\\"/var/www/example.com\\\"\\n    <Directory \\\"/var/wwww/example.com\\\">\\n            Options Indexes FollowSymLinks MultiViews\\n            AllowOverride ALL\\n            Order allow,deny\\n            allow from all\\n    </Directory>\\n</VirtualHost>CodeIgniter config file$config['base_url'] = 'http://example.com/website_name/';\\n$config['index_page'] = '';\\n$config['uri_protocol'] = 'REQUEST_URI';And when I'm trying to access the website the output is as follows,Not Found\\nThe requested URL /website_name/test was not found on this server.But if I add index.php, the the website is working without any issues. I've tried lot methods and it doesn't worked.\\n\\nAssistant:\", \"response\": [[\"Finally I've figured out the issue by spending an entire day. Here is the solution.Updated virtual host entry.<VirtualHost *:80>\\n    ServerName example.com\\n    DocumentRoot /var/www/example.com/\\n\\n    # Additional section added to get the htaccess working in sub folder.\\n    Alias /website_name/ /var/www/example.com/website_name/\\n    <Directory /var/www/example.com/website_name/>\\n        Options Indexes FollowSymLinks MultiViews\\n        AllowOverride all\\n        Order allow,deny\\n        allow from all\\n    </Directory>\\n</VirtualHost>\"]]}"}
{"content": "{\"prompt\": \"User: htaccess for apache server cause all my IIS servers will be down on maintenance. I need to redirect everything to error 503 custom page and also return the 503 error, but I don't know the correct sollution.RewriteEngine on\\nRewriteBase /\\n\\nErrorDocument 503 /503.html\\n\\nRewriteRule ^.*$ - [L,NC,R=503]This result into this: (the response is not my custom response)Service Unavailable\\n\\nThe server is temporarily unable to service your request due to maintenance downtime or capacity problems. Please try again later.\\n\\nAdditionally, a 500 Internal Server Error error was encountered while trying to use an ErrorDocument to handle the request.Another try:RewriteEngine on\\nRewriteBase /\\n\\nErrorDocument 503 /503.html\\n\\nRewriteRule ^(?!503.html)$ - [L,NC,R=503]Gives me what I need but just for www.domain.com and every other page gives me 404 (except www.domain.com/503.html which gives me 200).So what I need is to redirect every page but the domain.com/503.html to custom 503 error page and also return the error code.\\n\\nAssistant:\", \"response\": [[\"You can use negation:RewriteEngine on\\n\\nErrorDocument 503 /503.html\\n\\nRewriteRule !^503\\\\.html$ - [L,NC,R=503]\"]]}"}
{"content": "{\"prompt\": \"User: I am running XAMPP for Windows 5.6.11. I have the following PHP file:C:\\\\xampp\\\\htdocs\\\\www.johndoe.com\\\\index.phpwhich I am accessing ashttp://localhost/www.johndoe.com/As a matter of fact I need to access the following page:http://localhost/www.johndoe.com/?value=aboutas either of the following two:http://localhost/www.johndoe.com/about/\\nhttp://localhost/www.johndoe.com/aboutso I have the following in my .htaccess file:RewriteEngine on\\nRewriteRule ^www\\\\.johndoe\\\\.com/about/?$ www.johndoe.com/?value=aboutHowever, this is not working, as accessing the former sites gives me a 401 (not found).Here is what I have inC:\\\\xampp\\\\apache\\\\conf\\\\httpd.conf:<Directory />\\n    AllowOverride none\\n    Require all denied\\n</Directory>\\n\\nDocumentRoot \\\"C:/xampp/htdocs\\\"\\n<Directory \\\"C:/xampp/htdocs\\\">\\n    Options Indexes FollowSymLinks Includes ExecCGI\\n    AllowOverride All\\n    Require all granted\\n</Directory>What must I do to get my.htaccessfile to be parsed and carry out the substitution I'm after?I have tried placing the following inC:\\\\xampp\\\\apache\\\\conf\\\\httpd.conf:<Directory />\\n    AllowOverride all\\n    Require all allowed\\n</Directory>but have had no luck with it.\\nI have even tried changing my.htaccessfile to the following:RewriteEngine on\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\n\\nRewriteBase /www.johndoe.com/\\nRewriteRule ^about/?$ ?value=aboutbut I'm still getting the 404 not found error message.\\n\\nAssistant:\", \"response\": [[\"As it turns out, with the default XAMPP configuration there is no need toC:\\\\xampp\\\\apache\\\\conf\\\\httpd.conf, hence no need to restart Apache as we are just making changes toC:\\\\xampp\\\\htdocs\\\\www.johndoe.com\\\\.htaccess. Asthis post on RewriteBaseexplains, we do not needRewriteBasesince we will not use absolute paths in the destination links for.htaccessrules. Since relative links in these destination rules will be relative to the directory we are serving out of, we need delete thewww.johndoe.comdirectory from the rule, as follows:Place the.htaccessin ``C:\\\\xampp\\\\htdocs\\\\www.johndoe.com`.Place the following rewiterule in it:RewriteEngine on\\n  RewriteRule ^about/?$ index.php?value=about\"]]}"}
{"content": "{\"prompt\": \"User: I am new to codeigniter. I have just made a login feature in CI with the help of google, but here I am redirecting to URL on login but It is not working.\\nHere is the details\\nafter redirecting the link is like thishttp://localhost/xpensepedia/index.php/homewhich is giving the 404 error404 Page Not Found\\nThe page you requested was not found.and my controller ispublic function index() {\\n        $this->load->view('header');\\n        if (($this->session->userdata('user_id') != \\\"\\\")) {\\n            redirect(site_url('home'));\\n        } else {\\n            $this->load->view(\\\"register\\\");\\n        }\\n    $this->load->view('footer');\\n}My files are in the image\\n\\nAssistant:\", \"response\": [[\"Kindly check name of class you given to home.php Controller\"]]}"}
{"content": "{\"prompt\": \"User: I seemingly to have a strange issue I have found in almost every other Wordpress site.Suppose, you have set your Blog home to a static WP page/myhome. And you have a separate page for blog/blog.Now, this works fine and should be:/blog\\n/blog/page/2\\n/blog/page/3\\n/blog/page/4But, for all other pages, e.g./about-us, these links also work:/about-us/page/2\\n/about-us/page/3\\n/about-us/page/4And show the content of the/about-uspage.My problem is that/about-us/page/2should ideally redirect to/about-us(it's canonical URL) since there are no paginations in any other page except the/blog.What am I missing there ? This seems to happen on almost all sites I have checked and is really frustrating from SEO point of view.\\n\\nAssistant:\", \"response\": [[\"+100This is by design and intentional. WordPress rewrites have become increasingly complex over the years, and many plugins utilise thepageendpoint for a page (usually with a template and custom query) - redirecting introduces a potential world of pain.Long story short, it doesn't matter anyway. WordPress adds<link rel=\\\"canonical />for pages, so no need to worry over duplicate content.Update:For localised situations where you want to disregard the potential risks, this will canonicalize all page URLs - note that it does not check if a page is actually paginated (i.e. with the<!--nextpage-->quicktag) and will break this feature if you use it.function wpse_199180_canonical_pages( $wp ) {\\n    if ( ! is_admin() && is_page() && isset( $wp->query_vars['paged'] ) ) {\\n        wp_redirect( get_permalink( get_queried_object() ), 301 );\\n        exit;\\n    }\\n}\\n\\nadd_action( 'wp', 'wpse_199180_canonical_pages' );\"]]}"}
{"content": "{\"prompt\": \"User: Yes there, have been similar questions, but the suggested solutions are not working for me. \\nSo I've set up Laravel, and the installation works fine.\\nWell, as long as I'm staying on the base routelocalhost/page/as soon as I'm trying to hit one of my routes, let's saylocalhost/page/subpageand the route is configured to return a viewRoute::get('subpage', ['as' => 'subpage', 'uses' => 'GenericPageController@subpage']);The methodsubpagein the Controller:public function subpage()\\n            {\\n\\n                return view('base.subpage');\\n            }I simply get a 404 response from the server whenever i try hitting one of the routes. It doesnt matter what controller I'm using, or if its returning a view or a closure.mod_rewrite is enabledOn the main directoryAllowOverrideis set\\ntoAllmy.htaccessin thepage/publicfolder looks like the following:<IfModule mod_rewrite.c>\\n<IfModule mod_negotiation.c>\\n    Options -MultiViews\\n</IfModule>\\n\\nRewriteEngine On\\nRewriteBase /\\n\\n# Redirect Trailing Slashes...\\nRewriteRule ^(.*)/$ /$1 [L,R=301]\\n\\n# Handle Front Controller...\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^ index.php [L]Anyone has an idea what the problem could be?\\n\\nAssistant:\", \"response\": [[\"The.htaccessfile won't load up because it is in thepublicdirectory, which is really meant to be your document root. As such, you should be accessing the app by going tolocalhost/page/public/subpage.If you want to uselocalhost/page/subpagewhilst keeping your directory structure intact, then you need to add a new.htaccessfile to thepagedirectory, anddeletethe.htaccessfile from thepublicdirectory./page/.htaccesscontents:<IfModule mod_rewrite.c>\\n\\n    <IfModule mod_negotiation.c>\\n        Options -MultiViews\\n    </IfModule>\\n\\n    RewriteEngine On\\n    RewriteBase /page/\\n\\n    # Redirect Trailing Slashes...\\n    RewriteRule ^(.*)/$ /$1 [L,R=301]\\n\\n    # Send requests to public directory...\\n    RewriteCond %{REQUEST_FILENAME} !-f\\n    RewriteCond %{REQUEST_FILENAME} !-d\\n    RewriteRule ^ public/index.php [L]\\n\\n</IfModule>Unfortunately, due to the way in which Laravel obtains the request information, you will need to group your routes to thepagedirectory in your route configuration:Route::group(['prefix' => 'page'], function()\\n{\\n    Route::get('subpage', ['as' => 'subpage', 'uses' => 'GenericPageController@subpage']);\\n    // Your other routes ...\\n});Essentially, and in my opinion, this is the easiest way to work around this. You could also move the contents of yourpublicdirectory up one level and change the paths accordingly in the bootstrap file.\"]]}"}
{"content": "{\"prompt\": \"User: I have a .htaccess that contains the following :<Files .htaccess>\\norder allow,deny\\ndeny from all\\n</Files>\\n\\nOptions +FollowSymLinks\\nRewriteEngine On\\nRewriteCond %{REQUEST_URI} !^(.*)/maintenance/(.*)$ [NC]\\n\\nRewriteRule ^(.*).jpg$ /mysite/maintenance/transparent.png [NC,R=302,L]\\nRewriteRule ^(.*).jpeg$ /mysite/maintenance/transparent.png [NC,R=302,L]\\nRewriteRule ^(.*).gif$ /mysite/maintenance/transparent.png [NC,R=302,L]\\nRewriteRule ^(.*).png$ /mysite/maintenance/transparent.png [NC,R=302,L]\\n\\nRewriteRule ^(.*).php$ /mysite/maintenance/maintenance.php [NC,R=302,L]Tested on localhost.With these settings, I have an infinite loop when trying to loadhttp://localhost/mysite/test.php, (correctly) redirected tohttp://localhost/mysite/maintenance/maintenance.phpThe loop seems to be due to the 4 image redirection (note : the maintenance page has a one an unique jpg background image located in the maintenance folder root). Commenting these 4 redirection lines solves the problem.But I don't see why I enter in an infinite loop as the /maintenance/ path is itself excluded from redirection in the RewriteCond, and why the redirection on the images can interfere with this problem.Can you help ?\\n\\nAssistant:\", \"response\": [[\"You have to reorder yourRewriteCondslike this:RewriteEngine On\\n\\nRewriteRule \\\\.jpg$ /mysite/maintenance/transparent.png [NC,R=302,L]\\nRewriteRule \\\\.jpeg$ /mysite/maintenance/transparent.png [NC,R=302,L]\\nRewriteRule \\\\.gif$ /mysite/maintenance/transparent.png [NC,R=302,L]\\nRewriteCond %{REQUEST_URI} !^.*/maintenance/.*$ [NC]\\nRewriteRule \\\\.png$ /mysite/maintenance/transparent.png [NC,R=302,L]\\n\\nRewriteCond %{REQUEST_URI} !^.*/maintenance/.*$ [NC]\\nRewriteRule \\\\.php$ /mysite/maintenance/maintenance.php [NC,R=302,L]RewriteConddirective affects only the firstRewriteRuleafter it.\"]]}"}
{"content": "{\"prompt\": \"User: I am creating a website , which people can create their own video and can download it from my server.I want to limit the download count to 10.So What I am planning is to serve a download file via a php file and update the count of the file to database.If it reaches 10 downloads.I deny the download.But I guess it consume more resource.Is there any other way possible in linux server  such as using htaccess or something like that ? So after a file is accessed 10 times it should be automatically deleted.EDIT : its not users...any people can use this website for free.\\n\\nAssistant:\", \"response\": [[\"If you don't want to avoid DB queries for this you can apply a simple technique in filename to indicate remaining limit Like filename-10, filename-9 etc. But to use this approach u need to update the part after \\\"-\\\" on each download.This could be one approach.\"]]}"}
{"content": "{\"prompt\": \"User: I'm redirecting my website to mobile website when access through a mobile device.Here's the htaccess code:RewriteCond %{QUERY_STRING} !^desktop\\nRewriteCond %{HTTP_USER_AGENT} android|avantgo|blackberry|iphone [NC]\\nRewriteRule ^ http://m.example.com%{REQUEST_URI} [R,L]Folder structure of FTP is like this:Images\\nProImages\\nMobile // All mobile site data into thisWhen I attempt to accesshttp://www.example.com/ProImages/abc.jpgfrom my mobile website, it doesn't show up because as soon as it tries to callwww, it redirects tom.I tried using../ProImagesbut that again didn't solve the issue.Anybody can help in this?\\n\\nAssistant:\", \"response\": [[\"You can allow access to the image folder for the mobile versionRewriteCond %{QUERY_STRING} !^desktop\\nRewriteCond %{HTTP_USER_AGENT} android|avantgo|blackberry|iphone [NC]\\nRewriteCond %{REQUEST_URI} !^/ProImages/ [NC]\\nRewriteRule ^ http://m.example.com%{REQUEST_URI} [R,L]\"]]}"}
{"content": "{\"prompt\": \"User: How can I hide the normal PHP filename extensions and use my own extensions?For example, usingexample.doinstead ofexample.php.I want files with the the.dofilename extension to be treated as PHP files, so that I can accessexample.do. How can I do this?\\n\\nAssistant:\", \"response\": [[\"Add the following line to your.htaccessfileAddHandler application/x-httpd-php .doThis tells the server to process all files ending with.doas.php.\"]]}"}
{"content": "{\"prompt\": \"User: Here's the scenario:I want to track .htaccess in my repo, since it contains essential configuration.I want to keep prying eyes away from my dev site, so I add HTTP auth directives to .htaccess in dev.During development, I don't want Git to constantly tell me that .htaccess is modified, nor do I want .htaccess to be included in anygit add -Acommand.I do, however, want the option to add and commit .htaccess. (If I make changes that should propagate to production.)What's the best way to do this? Thanks for your advice.\\n\\nAssistant:\", \"response\": [[\"To ignore changes in a file, usegit update-index --assume-unchanged .htaccessThis command sets a flag on the file such that Git treats it as if there are no uncommitted changes to the file, regardless of the contents of file your working copy.You need to undo the previous before you can stage and commit new changes.git update-index --no-assume-unchanged .htaccess\\ngit commit .htaccess\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to redirect all urls from one domain to another but one (kind of). This is the htaccess I have to redirect all keeping the same url except of the domain (for example domain.com/something goes to domain2.com/something).RewriteEngine On\\nRewriteBase /\\nRewriteCond %{HTTP_HOST} ^domain.com$ [OR]\\nRewriteCond %{HTTP_HOST} ^www.domain.com$\\nRewriteRule ^(.*)$ \\\"http://domain2.com/$1\\\" [R=301,L]What I want to know is how to redirect all except if the url is domain.com/validation/*/validation/ is not a subfolder and it has to be the next part of the url after the domain (domain.com/something/validation can redirect, and domain.com/validation/something can't).I tried a lot of options but none worked :(I hope is enough information.\\n\\nAssistant:\", \"response\": [[\"You can exclude it inRewriteRuleitself:RewriteEngine On\\n\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?domain\\\\.com$ [NC]\\nRewriteRule !^validation http://domain2.com%{REQUEST_URI} [NE,NC,R=301,L]\"]]}"}
{"content": "{\"prompt\": \"User: In the past I had a ssl certificate but I don't have it anymore because I didn't use it. However, now I see that some of the my website's page are indexed on google with https. Clicking those links directs you to a security warning. How can I best solve this? I tried adjusting the htaccess file redirect https requests to the http protocol, but that doesn't remove the warning. Any help?\\n\\nAssistant:\", \"response\": [[\"There's nothing you can do except renew your certificate.The warning is opened by your browser,beforeany request is ever even sent to the server. When it tries to resolve an HTTPS request, it first establishes the SSL handshake with the server, this is where the server gives the browser the certificate and the browser sees that it's expired. The browser then displays a security exception/warning. That means there isnothingthat you can do on the server's end to prevent this from happening except addressing the certificate.After you've renewed your cert, you need to have a rule to redirect all HTTPS traffic to HTTP traffic using a 301 redirect.\"]]}"}
{"content": "{\"prompt\": \"User: I want to pass url parameters but parameters are not passing on to the desired page.Earlier my site was hosted on cpanel and below code works successfully but after I shifted my site to VPS Server with Cent OS Webpanel with Varnish Cache and apache running on server, the parameters are not passed on target page/url.RewriteEngine on  \\nRewriteCond %{REQUEST_FILENAME} !-f  \\nRewriteCond %{REQUEST_FILENAME} !-d  \\n\\nRewriteRule ^download/(.*).html download.php?q=$1 [L,QSA]I want to run the url:www.example.com/download/anything.htmland target url after rewrite iswww.example.com/download.php?q=anythingThe problem is that rewriterule is working but parameters are not passed.But if I use the below code the parameters are passing Successfully.RewriteEngine on  \\nRewriteCond %{REQUEST_FILENAME} !-f  \\nRewriteCond %{REQUEST_FILENAME} !-d  \\n\\nRewriteRule ^([a-zA-Z_0-9-]+)$ download.php?q=$1 [L,QSA]or below codeRewriteEngine on  \\nRewriteCond %{REQUEST_FILENAME} !-f  \\nRewriteCond %{REQUEST_FILENAME} !-d \\n\\nRewriteRule ^(.*) download.php?q=$1 [L,QSA]and I am running the below url, the parameters are passed to target page successfullywww.example.com/anythingtarget url:www.example.com/download.php?q=anythingbut I want the URL in the following formatwww.example.com/download/*****.htmlreplace *Asterisk Sign with actual query.If I add some static text to the Rewrite url likedownload/(.*).htmlthe parameters are not passed to target page.Thanks\\n\\nAssistant:\", \"response\": [[\"Most likely new server hasMultiViewsoptions enabled by default. Place this line on top of .htaccess to disable it:Options -MultiViewsOptionMultiViewsis used byApache's content negotiation modulethat runs beforemod_rewriteand and makes Apache server match extensions of files. So/filecan be in URL but it will serve/file.php.\"]]}"}
{"content": "{\"prompt\": \"User: I have a Mediawiki installation running on my web root. E.g. the main page can be accessed viahttp://example.com/index.php?title=Main_PageI would like to change it so that the short URL ishttp://example.com/Main_PageMy configuration is as follows#.htaccess\\nOptions +FollowSymLinks\\nRewriteEngine On\\nRewriteRule ^(.*)$ /index.php?title=$1 [PT,L,QSA]\\nRewriteRule ^.*$ /index.php [L,QSA].// LocalSettings.php\\n$wgScriptPath = \\\"..\\\";\\n$wgArticlePath = \\\"/$1\\\";\\n$wgUsePathInfo = true;But I get a 500 error with this configuration.This is a server where there is a~/user_root/folder. This folder contains the public HTML files for the root domain of the user, e.g.user-root.com.The folder contains several subfolders, e.g. in this case~/user_root/example, which is accessible via the mentioned URL above,example.com.Is the problem based on this folder/subfolder hierarchy and the$wgScriptPathsetting? Should$wgScriptPath = \\\"..\\\";be replaced by something else than this relative path? Please advise, if you need more information.\\n\\nAssistant:\", \"response\": [[\"Yes, your$wgScriptPathis wrong. Use:$wgScriptPath = \\\"/\\\";Your rewrite rules also seem unlikely to be what you desire, especially that^.*$ /index.php(although it might be harmless, coming last).If you are using a root url instead of a normal short url you will need to use the following\\n  instead (to ensure that existing files and directories are not seen as article, e.g. \\\"/index.php\\\" \\\"/images\\\" etc.):RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} !-f\\nRewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} !-d\\nRewriteRule ^(.*)$ %{DOCUMENT_ROOT}/w/index.php [L](Source)\"]]}"}
{"content": "{\"prompt\": \"User: For my opencart site, I'm using a vQmodshow_all_product.xmlso that the path/index.php?route=product/category&path=0shows all my products on a category page. It's working perfectly, but ideally what I would like to do is use a SEO friendly URL to achieve this, e.g./viewallwould give the same page.I would much appreciate if someone could point me in the right direction.\\n\\nAssistant:\", \"response\": [[\"First, make suremod_rewriteis enabled.Then, also make sure you can usehtaccess(Apache config ->AllowOverride All).Put this code in your htaccess (assuming it is in root folder, like yourindex.phpfile)RewriteEngine On\\nRewriteRule ^viewall$ /index.php?route=product/category&path=0 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I have myquery stringto include my pages, in my homepage like you see below and it is working fine, Im including my pages fine.But something wrong is happening and Im not finding how I can solve this.I will try to expain my isse with an example:I have a folder \\\"teachers\\\" inside I have two pdf documents and a page \\\"documents.php\\\".\\nTo acess this documents page, Im acessing: \\\"htp://localhost/website/teachers/documents\\\", and it is working fine.But If I acess  \\\"htp://localhost/website/teachers/\\\", Im able to acess my pdf documents and my page as you see in my image below.But I dont want this, I want that If some user tries to acess \\\"htp://localhost/website/teachers/\\\", I want to include my 404 file (require_once('inc/404.php');)My query string:@$url = $_GET['url'];\\n$url = explode('/', $url);\\n$url[0] = ($url[0] == NULL ? 'index' : $url[0]);\\n\\nif(file_exists('inc/'.$url[0].'.php')){\\n     require_once('inc/'.$url[0].'.php');\\n}\\nelseif(file_exists($url[0].'/'.$url[1].'/'.$url[2].'.php')){\\n     require_once($url[0].'/'.$url[1].'/'.$url[2].'.php');\\n}\\nelseif(@file_exists($url[0].'/'.$url[1].'.php')){\\n     require_once($url[0].'/'.$url[1].'.php');\\n}\\nelse{\\n     require_once('inc/404.php');\\n}Do you see what Im doing wrong to not be having the result I want?My htaccess file:RewriteEngine On\\nRewriteCond %{SCRIPT_FILENAME} !-f\\nRewriteCond %{SCRIPT_FILENAME} !-d\\nRewriteRule ^(.*)$ index.php?url=$1\\n\\nAssistant:\", \"response\": [[\"There is an easier solution.Add this line to the beginning of your .htaccess file:Options -IndexesThis way, you won't be able to see the folder contents.EDIT: htaccess rule solution (which is inwebsitefolder)ErrorDocument 404 /website/inc/404.php\\n\\nRewriteEngine On\\nRewriteBase /website/\\n\\nRewriteRule ^teachers/$ - [R=404,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ index.php?url=$1 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I need to enable php_exec function which is in php.ini file.\\nSince, I am using shared hosting, I do not have access to php.ini file. How can i enable the same function through .htaccess file?Please provide the syntax.Many Thanks in Advance.FYR :exec() has been disabled for security reasonsRegards,\\nNatu\\n\\nAssistant:\", \"response\": [[\"You simply can't allowexec(and other similar functions disabled by php.ini) through .htaccess.\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to match the following url:planets/animals-and-more/animal/humanTo:index.php?pagename=animal&animal-name=humanWhere the page 'animal' has a custom page-animal.php template that pulls in the 'animal-name' query variable and spits it into an .I have set up the rewrite tag:function animal_custom_rewrite_tag() {\\n    add_rewrite_tag('%animal-name%', '([^&]+)');\\n}\\nadd_action('init', 'animal_custom_rewrite_tag', 10, 0);And the rewrite rule(s):function add_some_rewrite_rules() {\\n    global $wp_rewrite;\\n    add_rewrite_rule('^planets/animals-and-more/animal/[a-zA-Z0-9]*$','index.php?pagename=animal&animal-name=$matches[4]','top');\\n    $wp_rewrite->flush_rules();\\n}\\nadd_action( 'init' , 'add_custom_ncta_rewrite_rules' );The rewrite rule works if I hard code a string in like 'animal-name=monkey', but it seems like thematches[n]array doesn't work at all.I know this is all possible by modifying htaccess, but I need a solution for Wordpress.Any idea why $matches[] doesn't work at all?\\n\\nAssistant:\", \"response\": [[\"Found it!This article from theme.fmmentions that thematches[n]array only works for groups in the regex surrounded by parentheses. For example:To get $matches1to return 'human' when going to 'planets/animals-and-more/animal/human', the rewrite rule would need to look like this:add_rewrite_rule('^planets/animals-and-more/animal/([a-zA-Z0-9-_]+)$','index.php?pagename=sponsorship&sponsorship_item=$matches[1]','top');with () around the group you want to 'match'.\"]]}"}
{"content": "{\"prompt\": \"User: In my .htaccess file I have:RewriteEngine On\\nRewriteBase /\\nRewriteRule ^([^/]+)/?$ index.php?ToDo=$1 [L,QSA]When doing a print_r($_GET), it outputsArray ( [ToDo] => index.php )however, when I change the Rewrite Rule to^([^/.]+)/?$ index.php?ToDo=$1 [L,QSA]print_r then outputs that $_GET is an empty array. Can someone explain to me why this occurs?\\n\\nAssistant:\", \"response\": [[\"Let's take an example URI/abc:Your first regex:^([^/]+)/?$Matches/abcand rewrites it to:/index.php?ToDo=abcNowmod_rewriteengine runs again and matches the regex^([^/]+)/?$again for URI/index.phpand rewrites it to:/index.php?ToDo=index.phpYour 2nd regex:^([^/.]+)/?$works fine because it doesn't match/index.phpURI.Best way to write this rule is like this:RewriteEngine On\\nRewriteBase /\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^([^/]+)/?$ index.php?ToDo=$1 [L,QSA]These twoRewriteCondlines will prevent rewriting if request is for a valid file or directory.\"]]}"}
{"content": "{\"prompt\": \"User: Disclaimer : I dont know anything about URL rewritingcurrently my URL looks likelegalHQWithNewAddressTable/legalHQ/public/admin/Parties.php?caseid=7 (any number basically)But how can I make it to looks like the followinglegalHQWithNewAddressTable/legalHQ/public/admin/Parties/caseid/7/I'm trying but not workingRewriteRule ^([a-zA-Z0-9]+)/?Please dont make things complicated I dont know anything about URL rewriting so please keep it as simple as possible.Any Idea?\\n\\nAssistant:\", \"response\": [[\"Place this rule in your/legalHQWithNewAddressTable/legalHQ/public/admin/.htaccess:Options -MultiViews\\nRewriteEngine On\\nRewriteBase /legalHQWithNewAddressTable/legalHQ/public/admin/\\n\\nRewriteRule ^Parties/caseid/([0-9]+)/?$ Parties.php?caseid=$1 [L,QSA,NC]\"]]}"}
{"content": "{\"prompt\": \"User: Getting values in php while using.htaccessRewriteEngine RuleI am using the following ruleRewriteEngine On\\nRewriteRule ^([^/]*)$ page.php?title=$1 [L]It means it will create a page like view(i.e.,)www.mywebsite.com/contactwww.mywebsite.com/blogBut how can i get values that is passed in the url and display it inside the page using Get methodecho \\\"Page content is \\\".$_GET['title'];While i pass the value in the url like www.mywebsite.com/view,It is just displaying > Page content is page.phpWhat mistake i am doing and how can i fix this ?\\n\\nAssistant:\", \"response\": [[\"Some urls that don't need to be rewritten are getting rewritten. You probably want to change your rule like this:RewriteEngine On\\nRewriteRule ^([^/.]+)/?$ page.php?title=$1 [L]The[^/.]ensures that there is no dot in the pathThe+ensures that there is at least one characterThe/?allows an optional trailing slash\"]]}"}
{"content": "{\"prompt\": \"User: I have been working on my.htaccessfile, to make navigation experience much easier.  According to the syntax provided by Apache Foundation?will only allow a character or word be written once or zero times, but that doesn't seem the case. For some reason its allowing me to duplicate as many characters I want. Below is the problem with more detail.RewriteRule ^contact([/]?)$  contact.phpThat line work's perfectly for what I want, but I would like to know why its allowing me to do thislocalhost/contact////////////////////////and not onlylocalhost/contactorlocalhost/contact/as it is supposed to.localhost/contact////////////////////////should go to the specified404 HTTP ERRORpage.This seems to be a problem with Apache as I have realised stackoverflow contains the same problemhttps://stackoverflow.com/unanswered//////\\n\\nAssistant:\", \"response\": [[\"You need to add this rule just belowRewriteEngine Online to send all the URLs with multiple slashes to 404 handler:RewriteCond %{THE_REQUEST} \\\\s/+(.*?)/+(/\\\\S+) [NC]\\nRewriteRule ^ [L,R=404]If for some reason you you want strip off multiple slashes use:RewriteCond %{THE_REQUEST} \\\\s/+(.*?)/+(/\\\\S*) [NC]\\nRewriteRule ^ %1%2 [R=302,L,NE]\"]]}"}
{"content": "{\"prompt\": \"User: How would I exclude a subdomain from getting forced to https and redirected to main url? I'm using the below in my .htaccess file but need a little help as my subdomain (stage.mydomain.com) gets redirected / can't access.<IfModule mod_rewrite.c>\\nRewriteEngine On\\nRewriteCond %{SERVER_PORT} !^443$\\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R,L]\\nRewriteBase /\\nRewriteRule ^index\\\\.php$ - [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.php [L]\\n</IfModule>I've tried a few options but no luck - Any ideas? Thanks!\\n\\nAssistant:\", \"response\": [[\"Have your first rule like this:RewriteCond %{HTTP_HOST} !^stage\\\\.mydomain\\\\.com$ [NC]\\nRewriteCond %{HTTPS} off\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R,L]\"]]}"}
{"content": "{\"prompt\": \"User: Moreover, does it support named capturing groups and backreferences?\\n\\nAssistant:\", \"response\": [[\"It usesPerl Compatible Regular Expressions.  You can pretty much find all the information you are looking forright here in the docs.  The short answer is yes, it supports both.\"]]}"}
{"content": "{\"prompt\": \"User: quick question:Using tutorials I have been able to redirect my domain name to point to a different page other than the index.phpHowever I cannot find any tutorials or reference material to help me in changing the default page for a particular sub-directory.For example, I want www.url.com/admin to redirect to www.url.com/adming/login whilst still showing www.url.com/admin in the address bar.I'm sure this must be fairly simple but I can't quite get my head around in.Many thanks in advance.\\n\\nAssistant:\", \"response\": [[\"Place this rule in/admin/.htaccess:RewriteEngine On\\nRewriteBase /admin/\\n\\nRewriteRule ^$ login [L]\"]]}"}
{"content": "{\"prompt\": \"User: I'm working on a website locally that contains https links, so when I click on one of these links it takes me tohttps://localhost/...which doesn't exist as there is no SSL certificate installed.Is there anything I can add to.htaccessthat checks if I'm on localhost and if so redirectshttpstohttp? The .htaccess file is used in both local development and production on our server so anything I add mustn't affect the live website.\\n\\nAssistant:\", \"response\": [[\"Nope.Reason is any rules you put in your htaccess file will only get appliedonce the request has been made, which means it'll only get applied once thehttps://localhost/request is made. If there's nothing listening to the HTTPS port (443) on localhost, then the rules will never get applied.If port 443islistening for requests on localhost, but it's just a matter of lacking an SSL certificate, the rules still won't get applied untilafter the SSL handshake is performed, which means, you're still going to get the security warning about your certificate.That being said, the rules you'd want if you had apache listening to port 443 and have a certificate installed is this:RewriteEngine On\\nRewriteCond %{HTTP_HOST} ^localhost$ [NC]\\nRewriteCond %{HTTPS} on\\nRewriteRule ^(.*)$ http://%{HTTP_HOST}/$1 [L,R]\"]]}"}
{"content": "{\"prompt\": \"User: The main site at www.mydomain.com is set up as a secure site using an SSL certificate.I need to create a subdomain that is not secured (http://open.mydomain.com).I'm hosting with InMotionHosting.com. I've created the subdomain in cPanel and pointed it to the folder at public_html/open (the main site is at public_html/mainsite) but when I try to visit the subdomain URL I get an SSL error in Chrome, and in IE I get redirected tohttps://www.mydomain.com/open.How do I fix this?Here is my .htaccess file:RewriteEngine on\\nRewriteBase /\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ index.php?q=$1 [L,QSA]\\n\\nRewriteCond %{HTTPS} off\\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}\\n\\nAssistant:\", \"response\": [[\"Change your rules to this:RewriteEngine on\\nRewriteBase /\\n\\nRewriteCond %{HTTPS} off\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?domain\\\\.com$ [NC]\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule ^(.*)$ index.php?q=$1 [L,QSA]\"]]}"}
{"content": "{\"prompt\": \"User: I have a multi language php script which use URLs to detecting which language files should be load from template folder for user.for example:English version:site.com/etc.phporsite.com/etc.php?lang=ENArabic version:site.com/etc.php?lang=ARbut I want to have more pretty and also SEO friendlier URLs. So I need to detect language by a nicer way from URLs.for example:English version:site.com/EN/etc.phpArabic version:site.com/AR/etc.phpis this possible by .htaccess file? (I search for solutions in stackoverflow, but it didn't work...)Thank you\\nAmir\\n\\nAssistant:\", \"response\": [[\"You can have these rules in your document root .htaccess:RewriteEngine On\\n\\nRewriteCond %{THE_REQUEST} \\\\s/+([^.]+\\\\.php)\\\\?lang=([^\\\\s&]+) [NC]\\nRewriteRule ^ /%2/%1? [R=301,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^([A-Z]{2})/(.+?)/?$ /$2?lang=$1 [L,QSA,NC]\\n\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^([A-Z]{2})/?$ /?lang=$1 [L,QSA,NC]\"]]}"}
{"content": "{\"prompt\": \"User: We have a number of websites that have now been closed down and deleted however are still indexed in Google, even though they are returning a 404.I want to set http 410 for everything on the domain, how would I do this in the htaccess? Use wildcards?\\n\\nAssistant:\", \"response\": [[\"I want to set http 410 for everything on the domainYou can use this rule as yourfirst rulein yourDOCUMENT_ROOT/.htaccessfile:RewriteEngine On\\n\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?domain\\\\.com$ [NC]\\nRewriteRule ^ - [L,R=410]Don't forget to replacedomain.comwith your actual domain name.\"]]}"}
{"content": "{\"prompt\": \"User: i have the example website:example.comi have a blog folder on this website and i also have another folder with the exactly same files as the root(its a translated folder)example.com/en/I need to redirect users that click on my banner to the root blog folder, using the same atributes as he clicked.for example:he clicks on a blog post in the /en/ folderexample.com/en/blog/eventos_21_example-posti need to add something on htaccess to redirect this link toexample.com/blog/eventos_21_example-postIt needs to be something that works for every post.Any help?Thank you\\n\\nAssistant:\", \"response\": [[\"put this code in yourDOCUMENT_ROOT/.htaccessfile:RewriteEngine On\\nRewriteBase /\\n\\nRewriteRule ^es/(blog/.*)$ /$1 [L,NC,R]\\nRewriteRule ^blog/(.*)$ /es/$1 [L,NC]\"]]}"}
{"content": "{\"prompt\": \"User: I'm setting an environment variable in an htaccess file and it's being prepended with \\\"REDIRECT_\\\".  As far as I've read, this is caused by URL rewriting.. the thing is, I'm not doing any rewriting (that I'm aware of).My webspace contains two files:.htaccessSetEnv Foo \\\"bar\\\"index.php<?php\\nprint_r($_ENV);Now, I'mguessingthis may have something to do with the fact that this is on a shared hosting package with 1&1.. is there anything else I should be checking or has anyone experienced this before? Or am I just missing something??Cheers\\n\\nAssistant:\", \"response\": [[\"The issue is triggered by usingPHP as a CGI Wrapper.If PHP is running as mod_php apache module it's not prefixing your variables.Reason for that is internal redirect handling thus apache recreates the variables with the REDIRECT_ prefix :-/Solution (updated)Use PHP-FPM or mod_phpIf you wanna use CGI Wrapping for PHP put this into your .htaccess:RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\"]]}"}
{"content": "{\"prompt\": \"User: I am trying to protect my website with a directory protection code. The website is in PHP.My website has https and it is likehttps://www.example.com.When I Open the website it is asking for username and password twice. I think it is taking once for http and once for https.Can anyone please help me how to solve this problem.Below is my.htaccess file codeoptions -multiviews\\n<IfModule mod_rewrite.c>\\nRewriteEngine On \\nRewriteBase /\\nRewriteCond %{HTTP_HOST} ^example.com$ [NC,OR]\\nRewriteCond %{HTTP_HOST} ^www.example.com$ [NC]\\nRewriteRule ^(.*)$ https://www.example.com/$1 [R=301,L]\\n</IfModule>\\n\\nAuthType Basic\\nAuthName \\\"example.com\\\"\\nAuthUserFile /www.example.com/web/content/.htpasswd\\nRequire valid-user\\n\\n<IfModule mod_security.c> \\n   # Turn off mod_security filtering. \\n   SecFilterEngine Off \\n   # The below probably isn't needed, \\n   # but better safe than sorry. \\n   SecFilterScanPOST Off \\n</IfModule>Thanks in advance for any help.\\n\\nAssistant:\", \"response\": [[\"You're getting authentication dialogue twice because Apache runsmod_authdirective beforemod_rewritedirective. Alsoauthenticationsession set in HTTP URL isn't valid in HTTPS URL anymore therefore it Apache has to follow the BASIC auth directive under HTTPS as well.There can be somework-aroundtype solutions to skip BASIC auth for http URL and do it only for HTTPS but it is not straight forward.UPDATE: Here is a workaround solution that you can use to avoid showing BASIC auth dialogue twice.RewriteEngine On \\nRewriteBase /\\n\\n# redirect to HTTPS and set a cookie NO_AUTH=1\\nRewriteCond %{HTTPS} off\\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L,CO=NO_AUTH:1:%{HTTP_HOST}]\\n\\n# If cookie name NO_AUTH is set then set env variable SHOW_AUTH\\nSetEnvIfNoCase COOKIE NO_AUTH=1 SHOW_AUTH\\n\\n# show Basic auth dialogue only when SHOW_AUTH is set\\nAuthType Basic\\nAuthName \\\"example.com\\\"\\nAuthUserFile /www.example.com/web/content/.htpasswd\\nRequire valid-user\\nOrder allow,deny\\nallow from all\\ndeny from env=SHOW_AUTH\\nSatisfy anySince cookie is only set forhttp://domain.comtherefore env variable is also set only once andBASIC auth dialog is also shown only once.\"]]}"}
{"content": "{\"prompt\": \"User: I really don't get it.\\nI don't understand how .htaccess, php and HTTP work together within the topic http-authentication.how can this be achieved: I have a folder where i want to prevent access to unauthorized people. \\nin this folder i have images, for example, and if the user is authorized, the image should be displayed, if not he should get the possibility to enter a username and password for this one request.do i need an .htaccess file, that redirects to a php file, that checks and handles the authentication and sends appropriate headers and also outputs the requested file?or must i do something else?\\nam i to solve this completely different?\\n\\nAssistant:\", \"response\": [[\"You have a few options.1 -Basic Authentication- When a user does a request, apache checks for htaccess file and when basic auth is set, it returns a header for authentication (when no login info has been sent). The webbrowser reacts on that and gives a native login screen. This screen is very well supported by all browsers and password remember tools. When entering the credentials the next requests sent the credentials (unencrypted) each time, so apache doesn't gives the login screen each time. You can read more on ithereHow to set it up, create .htaccess file:AuthName \\\"Protected\\\"\\nAuthType Basic\\nAuthUserFile securepath/.htpasswd\\nRequire user authuserCreate the .htpasswd at the command line:$ adduser authuser\\n$ passwd authuser\\n$ htpasswd  -c securepath/.htpasswd  authuserBut many control panels have tools to set this up using an interface.2 - Own system - You could write your own auth system where in your code you validate whether a user is authorised or not. You can build a login screen where the user when granted gets a cookie that represents the user on your server. But the cookie itself is unencrypted and can be read by others.The latter gives you the option to the user to have different passwords more easier. And the password isn't sent each time, only the cookie.For security I advise using SSL/HTTPS connection where everything is encrypted.\"]]}"}
{"content": "{\"prompt\": \"User: I have the following code in my .htaccess file.RewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-l\\nRewriteRule ^(.*)$ index.php?url=$1 [QSA,L]This redirects all requests to index.php. However I am still able to access www.mydomain.com/index.php directly from the URL. As www.mydomain.com servers the same content as www.mydomain.com/index.php will this be recorded as duplicated in google, if so how do I prevent it.\\n\\nAssistant:\", \"response\": [[\"Insert this rule before existing rule to removeindex.phpfrom URI:RewriteCond %{THE_REQUEST} /index\\\\.php [NC]\\nRewriteRule ^(.*?)index\\\\.php$ /$1 [L,R=301,NC,NE]\"]]}"}
{"content": "{\"prompt\": \"User: Essentially I need an .htaccess file that will redirect all traffic to our new domain. It need to work in the following conditions:http://www.olddomain.com/path/file.php => http://www.newdomain.com/path/file.php\\nhttps://www.olddomain.com/path/file.php => http://www.newdomain.com/path/file.php(note in the above case the https redirect to http - this is not an issue)Also:http://olddomain.com/path/file.php => http://newdomain.com/path/file.php\\nhttps://olddomain.com/path/file.php => http://newdomain.com/path/file.phpI've almost got it working by first redirecting the https version of www.olddomin.com to http version ofwww.olddomain.comwhich then redirects to the http version of the new domain, the problem I have is with the non-www version ofhttps://olddomain.comwhich redirects tohttp://olddomain.comand then stops.The code I am using is:RewriteEngine On\\nRewriteBase /\\n\\nRewriteEngine On\\nRewriteCond %{HTTPS} on\\nRewriteRule (.*) http://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\\n\\nRewriteCond %{HTTP_HOST} ^www\\\\.olddomain\\\\.com$\\nRewriteRule (.*) http://www.newdomain.com/$1 [R=301,L]This almost works except thathttps://olddomain.com/path/file.phpjust redirects tohttp://olddomain/path/file.phpand stops and doesn't get redirected tohttp://newdomain.com/path/file.phpAny help would be appreciated.\\n\\nAssistant:\", \"response\": [[\"You just need thissingle rulein theDOCUMENT_ROOT/.htaccessfile of olddomain:RewriteEngine On\\n\\nRewriteCond %{HTTP_HOST} ^(www\\\\.)?olddomain\\\\.com$ [NC]\\nRewriteRule ^ http://%1newdomain.com%{REQUEST_URI} [R=301,L,NE]Explanation:NC- ignore caseL- LastR=301- Send301status to browserNE- no escaping%1- is the value we capture in first(...)inRewriteCond. That will be eitherwwwor blank\"]]}"}
{"content": "{\"prompt\": \"User: My question might be dumb, but I googled it and didn't find an answer...Let's say I want to access my website in this given url: www.mywebsite.com/something/something_else/?some_query_string=true\\n(I put the query string because it is going to be there, and I don't know if it makes any difference in the htaccess file)I want it to keep the URL the same, but load the index file for no matter what URL, which is not in the root of the server.\\nMy server has an \\\"application\\\" folder, where all the code is.How can I do this?Thanks!\\n\\nAssistant:\", \"response\": [[\"This turned out to answer my own question:RewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteRule ^(.*)$ application/index.php?url=$1 [QSA,L]If the URL doesn't exist, it loads the index.php file inside of the folder \\\"application\\\", and it keeps the URL the same, which was exactly what I needed...Thanks for the answers!\"]]}"}
{"content": "{\"prompt\": \"User: I recently launched 3 new WordPress sites and for some reason they are all getting redirect loops. Going towww.example.comredirects toexample.com. On one of them I have just decide to stick with the non-www since it was a brand new site, however the others I need to force the www.So far I have tried the following:Changing.htaccessto force www — Did not workDefining my blog & site url inwp-config.php— Did not workUpdated database changing fromwww.example.comtoexample.comand the back towww.example.comjust trying to reset it — Did not workI've never experienced this issue before until recently.\\n\\nAssistant:\", \"response\": [[\"The issue actually had nothing to do with WordPress. After recently upgrading to Plesk 11.5 there is an option in the domain's \\\"Hosting Settings\\\" that was wrong. The setting is called \\\"Preferred domain\\\".Preferred domain:Regardless of the domain's URL that visitors specify in a browser\\n  (with the www prefix or without it), a page with the preferred\\n  domain's URL opens. The HTTP 301 code is used for such a redirection.\\n  The 'None' value means that no redirection is performed.For some reason it defaults to \\\"domain.tld\\\" but it should be set to \\\"None\\\". This fixes the problem instantly and now WordPress does not go into a redirect loop.Here are the steps to change it:Go to your domain nameClick on \\\"Websites & Domains\\\"Click on \\\"Hosting Settings\\\"on the domain nameFind \\\"Preferred domain\\\" and select \\\"None\\\"\"]]}"}
{"content": "{\"prompt\": \"User: I protected a couple of pages via the htaccess and htpasswd. Until now the site functioned well, but the last couple of days, we're experiencing some problems, and i wan't rule out this part of code.My htaccess:<Files \\\"leiden.html\\\">\\n AuthName \\\"Name and Password\\\"\\n AuthUserFile /var/www/fullpath to/.htpasswd\\n Require valid-user\\n AuthType Basic\\n</Files>\\n\\n<Files \\\"alkmaar.html\\\">\\n AuthName \\\"Name and Password\\\"\\n AuthUserFile /var/www/fullpath to/.htpasswd2\\n Require valid-user\\n AuthType Basic\\n</Files>\\n\\n<Files \\\"vlaardingen.html\\\">\\n AuthName \\\"Name and Password\\\"\\n AuthUserFile /var/www/fullpath to/.htpasswd3\\n Require valid-user\\n AuthType Basic\\n</Files>\\n\\nErrorDocument 401 /error401.htmlAnd the corresponding htpasswd's containing the encrypted name and password combination..htpasswdaaa:bbbb.htpasswd2ccc:dddd.htpasswd3eee:ffffIs it possible to use multiple htpasswd's in this way or is there a better/cleaner solution to use only one htaccess and only one htpasswd?For some reason, the site regularly blocks a user's ip-adress as a safety-precaution and i want to rule this security-solution out as cause of the problem.Thanx in advance.\\nMelkman\\n\\nAssistant:\", \"response\": [[\"Is it possible to use multiple htpasswd's in this way or is there a better/cleaner solution to use only one htaccess and only one htpasswd?Something that you could do is keep on htpasswd file, and instead of usingRequire valid-user, use the require with a specific username:<Files \\\"leiden.html\\\">\\n AuthName \\\"Name and Password\\\"\\n AuthUserFile /var/www/fullpath to/.htpasswd\\n Require user aaa\\n AuthType Basic\\n</Files>\\n\\n<Files \\\"alkmaar.html\\\">\\n AuthName \\\"Name and Password\\\"\\n AuthUserFile /var/www/fullpath to/.htpasswd\\n Require user bbb\\n AuthType Basic\\n</Files>\\n\\n<Files \\\"vlaardingen.html\\\">\\n AuthName \\\"Name and Password\\\"\\n AuthUserFile /var/www/fullpath to/.htpasswd\\n Require user ccc\\n AuthType Basic\\n</Files>The mod_authz stuff (htpasswd/BASIC auth) isn't what's causing IP addresses to be blocked. Something else must be causing that.\"]]}"}
{"content": "{\"prompt\": \"User: I have a question about htaccess and it's rewritings.I have this code:Options +FollowSymLinks  \\nRewriteEngine On  \\n\\nRewriteCond %{SCRIPT_FILENAME} !-d  \\nRewriteCond %{SCRIPT_FILENAME} !-f  \\n\\nRewriteRule ^users/(\\\\d+)*$ ./profile.php?id=$1  \\nRewriteRule ^threads/(\\\\d+)*$ ./thread.php?id=$1  \\n\\nRewriteRule ^search/(.*)$ ./search.php?query=$1whichexample.com/users/123is equals toexample.com/profile.php?id=123.if I change link to this:example.com/users/123/JohnWill htaccess ignore /John or any extra characters after the ID?the fact, John is the real-name of 123 ID, I want it to be.\\n\\nAssistant:\", \"response\": [[\"No it won't ignore extra parts from your URL since you're using$(line end) in the regex here:^users/(\\\\d+)*$Change your rules to:RewriteCond %{SCRIPT_FILENAME} !-d [OR]\\nRewriteCond %{SCRIPT_FILENAME} !-f  \\nRewriteRule ^ - [L]\\n\\nRewriteRule ^users/(\\\\d+) profile.php?id=$1 [L]\\n\\nRewriteRule ^threads/(\\\\d+) thread.php?id=$1 [L]\\n\\nRewriteRule ^search/(.*)$ search.php?query=$1 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I have a url likelocalhost/index?id=2How do I hide the id part by using htaccess and just show:localhost/index/2\\n\\nAssistant:\", \"response\": [[\"In order to catch the query string, you need to use either%{QUERY_STRING}or%{THE_REQUEST}:Options +FollowSymLinks -MultiViews\\n\\nRewriteEngine On\\nRewriteBase /\\n\\n# Redirect /index?id=2 to /index/2\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\\\s/+index\\\\?id=([^&\\\\s]+) [NC]\\nRewriteRule ^ /index?%1 [R=302,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ $1.php [QSA,L]Given that you don't have other rules that may conflict with your needs, this should work just fine.Once you confirm its working you can change from302, to301but in order to avoid caching, tests should be always done using302.Another way using%{THE_REQUEST}would be like this:Options +FollowSymLinks -MultiViews\\n\\nRewriteEngine On\\nRewriteBase /\\n\\n# Redirect /index?id=2 to /index/2\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\\\s/+index\\\\?id=([^&\\\\s]+) [NC]\\nRewriteRule ^ /index/%1? [R=302,L]\\n\\n# Internally forward /index/2 to /index.php?id=2\\nRewriteRule ^index/([0-9]+)/?$ /index.php?id=$1 [QSA,NC,L]\\n\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteCond %{REQUEST_FILENAME}\\\\.php -f\\nRewriteRule ^(.*)$ $1.php [QSA,L]\"]]}"}
{"content": "{\"prompt\": \"User: I have several pages inhttp://localhost/templatelike home.php, about.php, contact.phpInhttp://localhost/template/srI have the pages with the same name.This is what I have in my root .htaccess fileRewriteEngine on\\nRedirectMatch 301 ^/$ http://localhost/template/sr/My error.log file reports:[localhost/sid#923dd8][rid#dd70b0/initial] [perdir C:/xampp/htdocs/template/] pass through C:/xampp/htdocs/template/\\n[localhost/sid#923dd8][rid#ddd0c8/subreq] [perdir C:/xampp/htdocs/template/] pass through C:/xampp/htdocs/template/index.php\\n[localhost/sid#923dd8][rid#ddb0c0/initial] [perdir C:/xampp/htdocs/template/] pass through C:/xampp/htdocs/template/\\n[localhost/sid#923dd8][rid#ddd0c8/subreq] [perdir C:/xampp/htdocs/template/] pass through C:/xampp/htdocs/template/index.phpThis setup doesn't redirect I keep getting the pages from the root directory.\\n\\nAssistant:\", \"response\": [[\"If you're trying to redirect pages to coresponding pages in subdirectory:Options +FollowSymLinks -MultiViews\\n# Turn mod_rewrite on\\nRewriteEngine On\\nRewriteBase /\\n\\nRewriteRule ^([^/]+)/?$ /template/sr/$1 [L]\"]]}"}
{"content": "{\"prompt\": \"User: I have IP address list like this:180.183.0.0/16\\n180.210.216.0/22\\n180.214.192.0/19\\n182.52.0.0/15\\n...(400 more)How can I make a  regular expression for IP address with Subnetmask?Why I want to get this.I have a website with Load Balancer(I can't change any config in server), my client wants to deny access from specific country access.\\nI use .htaccess like this.SetEnvIf X-Forwarded-For \\\"59\\\\.(5[6-9]|6[0-1])\\\\.[0-9]+\\\\.\\\" denyIP\\norder allow,deny\\nallow from all\\ndeny from env=denyIP\\n\\nAssistant:\", \"response\": [[\"Given the list of address in your sample text these expressions will match the requested ranges by using alternation to match numeric ranges. Unfortunately they'll need to be constructed individually because of how a regular expression doesn't really evaluate the text. To match a182.52or182.53string you'd use a regex which contains the desired sub-strings and it would look like182.5[23].180.183.0.0/16 has a range 180.183.0.1 - 180.183.255.254^180\\\\.183\\\\.(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.(?:[1-9][0-9]?|1[0-9]{2}|2[0-4][0-9]|25[0-4])$180.210.216.0/22 has a range 180.183.0.1 - 180.183.3.254^180\\\\.210\\\\.[0-3]\\\\.(?:[1-9][0-9]?|1[0-9]{2}|2[0-4][0-9]|25[0-4])$180.214.192.0/19 has a range 180.183.0.1 - 180.183.31.254^180\\\\.214\\\\.(?:[0-9]|[12][0-9]|3[01])\\\\.(?:[1-9][0-9]?|1[0-9]{2}|2[0-4][0-9]|25[0-4])$182.52.0.0/15 has a range 182.52.0.1 - 182.53.255.254^182\\\\.5[23]\\\\.(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.(?:[1-9][0-9]?|1[0-9]{2}|2[0-4][0-9]|25[0-4])$\"]]}"}
{"content": "{\"prompt\": \"User: I am working on one of the cakephp2 website speed improvement.now i need to setup some header expire and cache stuff.but in cakephp in which htaccess I have to put my code.And please suggest any nice htaccess codes.I have tried#Expire Header\\n<FilesMatch \\\"\\\\.(ico|jpg|jpeg|png|gif|js|css|swf)$\\\">\\nExpiresDefault \\\"access plus 2 hours\\\"\\n</FilesMatch>but its not working, also I have tried couple of other code but none of them working for me.Is there any key configuration that am missing?One more thing if is there any other tricks to improve performance then please suggest me.\\n\\nAssistant:\", \"response\": [[\"add folowing code to .htaccess file# cache images/pdf docs for 10 days\\n<FilesMatch \\\"\\\\.(ico|pdf|jpg|jpeg|png|gif)$\\\">\\n  Header set Cache-Control \\\"max-age=864000, public, must-revalidate\\\"\\n  Header unset Last-Modified\\n</FilesMatch>\\n\\n# cache html/htm/xml/txt diles for 2 days\\n<FilesMatch \\\"\\\\.(html|htm|xml|txt|xsl)$\\\">\\n  Header set Cache-Control \\\"max-age=7200, must-revalidate\\\"\\n</FilesMatch>more informationhttp://tutorialpedia.org/tutorials/Apache+enable+file+caching+with+htaccess.html\"]]}"}
{"content": "{\"prompt\": \"User: here i am stuck with a small problem. I have a site built in Yii framework. It runs without any problem with http protocol (the index.php in url is hidden and all urls work fine). I have hosted this in amazon ec2 services. i have the following lines in my .htaccess fileOptions +FollowSymLinks\\n\\nIndexIgnore */*\\nRewriteEngine on\\n\\n# if a directory or a file exists, use it directly\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\n\\n# otherwise forward it to index.php\\nRewriteRule . index.phpbut when i use https to browse the site (note: i have it all configured) , the home page loads normally. but the other urls does not work and requires /index.php/ to be added. what am i missing here?dying for answers.thanks in advance.\\n\\nAssistant:\", \"response\": [[\"To get mod_rewrite working not only mod_rewrite must be installed, but also check in the Apache directory config (/etc/apache2/sites-enabled/000-default on Ubuntu installed via apt-get) if the rule \\\"AllowOverride None\\\" exists in your project's directory config. If so, change it to \\\"AllowOverride All\\\".#\\n# AllowOverride controls what directives may be placed in .htaccess files.\\n# It can be \\\"All\\\", \\\"None\\\", or any combination of the keywords:\\n#   Options FileInfo AuthConfig Limit\\n#\\n**AllowOverride All**mod_rewrite can be installed by remove comment from this line#LoadModule rewrite_module modules/mod_rewrite.so\"]]}"}
{"content": "{\"prompt\": \"User: I am working on codeigniter site.I have one single application this application is used by various user each user is having its own DB(Its own clients also).I need the way how to approach this cloud system.\\nAs i have the single copy of application folder and only the difference in DB for each user.\\nI have tried by creating subdomain directory in codeigniter and writing index file and htaccess file so that i can access my original application.but i need the subdomain path in url and way how to connect to the database according to that subdomian url path.htaccess file.RewriteEngine On \\nRewriteRule /test/(.*) /$1 [L]\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . /index.phpwhich way  i should follow to complete this work.Please help\\nThanks in advance.\\n\\nAssistant:\", \"response\": [[\"Here's what we do:In config/database.php, we define a set of different DB settings, which are picked based on domain. You can adjust/extend that easily.if($_SERVER['SERVER_NAME'] == 'www.stagingserver.com'){\\n  $active_group = \\\"staging\\\";\\n  $db['staging']['hostname'] = \\\"95.xxx.xxx.xxx\\\";    \\n} else {\\n  $active_group = \\\"default\\\";\\n}\\n\\n$db['default']['hostname'] = \\\"localhost:8889\\\";\\n$db['default']['username'] = \\\"root\\\";\\n$db['default']['password'] = \\\"root\\\";\\n$db['default']['database'] = \\\"database\\\";\\n$db['default']['dbdriver'] = \\\"mysql\\\";\\n$db['default']['dbprefix'] = \\\"\\\";\\n$db['default']['pconnect'] = TRUE;\\n$db['default']['db_debug'] = TRUE;\\n$db['default']['cache_on'] = FALSE;\\n$db['default']['cachedir'] = \\\"\\\";\\n$db['default']['char_set'] = \\\"utf8\\\";\\n$db['default']['dbcollat'] = \\\"utf8_general_ci\\\";\\n\\n$db['staging']['username'] = \\\"movers_user\\\";\\n$db['staging']['password'] = \\\"staging_user\\\";\\n$db['staging']['database'] = \\\"staging_database\\\";\\n$db['staging']['dbdriver'] = \\\"mysql\\\";\\n$db['staging']['dbprefix'] = \\\"\\\";\\n$db['staging']['pconnect'] = TRUE;\\n$db['staging']['db_debug'] = TRUE;\\n$db['staging']['cache_on'] = FALSE;\\n$db['staging']['cachedir'] = \\\"\\\";\\n$db['staging']['char_set'] = \\\"utf8\\\";\\n$db['staging']['dbcollat'] = \\\"utf8_general_ci\\\";\"]]}"}
{"content": "{\"prompt\": \"User: Morning,I've got 2 entries in my .htaccess file, and I want to make them a little more dynamic.Firstly I've got a non-www to www. redirect<IfModule mod_rewrite.c>\\n    RewriteCond %{HTTPS} !=on\\n    RewriteCond %{HTTP_HOST} !^www\\\\..+$ [NC]\\n    RewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\\n </IfModule>However, i'd like it to function conditionally as below<IfModule mod_rewrite.c>\\n    RewriteCond %{ENV:environment} != \\\"dev\\\" && != \\\"local\\\"\\n    RewriteCond %{HTTP_HOST} {DOESNT_CONTAIN .staging.com}\\n    RewriteCond %{HTTPS} !=on\\n    RewriteCond %{HTTP_HOST} !^www\\\\..+$ [NC]\\n    RewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\\n </IfModule>So basically, I want the www. redirect to kick in if the env variable doesnt equal dev or local, and the domain doesnt have .staging.com in itHow would I go about sorting this?Secondly, this is pretty much an identical issue, I've got some authenticationOrder deny,allow\\nDeny from all\\nAuthType Basic\\nAuthUserFile /var/www/vhosts/{HTTP_HOST}/httpdocs/.htpasswd\\nAuthName \\\"Protected Area\\\"\\nrequire valid-user\\nAllow from 127.0.0.1\\nSatisfy AnyI would like this to only run on the same conditions as above so:\\nenvironment != \\\"local\\\"\\nenvironment != \\\"dev\\\"\\nurl doesnt contain .staging.comHope some of you could shed some light onto this issue please.Many thanks!\\n\\nAssistant:\", \"response\": [[\"For the mod_rewrite part:RewriteCond %{ENV:environment} != \\\"dev\\\" && != \\\"local\\\"\\nRewriteCond %{HTTP_HOST} {DOESNT_CONTAIN .staging.com}would become:RewriteCond %{ENV:environment} !dev \\nRewriteCond %{ENV:environment} !local\\nRewriteCond %{HTTP_HOST} !\\\\.staging\\\\.comFor the mod_auth part, you'd need to set an env variable for the host and the dev/local:SetEnvIfNoCase Host .staging.com noauth=true\\nSetEnvIf environment dev noauth=true\\nSetEnvIf environment local noauth=trueThen add additionalAllowstatement:Allow from env=noauth\"]]}"}
{"content": "{\"prompt\": \"User: I have several audio files that I don't want to allow anyone else to gain access to them. Each file is in a separate folder inside a main folder, that I'll call \\\"download\\\" for now. So \\\"download\\\" has several other directories, and inside each directory are audio files. Those audio files are played with in a web app on the system.The problem is that right now anyone can type in the full address of the filelocalhost/download/dir/sound.wavand play the audio file. This is what I want to prevent from happening, I want those files to only stream when they are access or streamed from our application.I tried the following on the .htaccess filedeny from allThis just returned an403 forbiddenpage, but i was unable to stream the file from within the applicationRewriteEngine on\\nRewriteCond %{HTTP_REFERER} !^$\\nRewriteCond %{HTTP_REFERER} !^http://(www\\\\.)localhost.com/.*$ [NC]\\nRewriteRule \\\\.(mp3|wav)$ - [F]This just disabled the stream all together did not return a 403 or anything it just did not stream from neither the application or direct accessFinally I'm using AJAX to call the script that holds the files to be streamed; are there any options I can use?\\n\\nAssistant:\", \"response\": [[\"It is impossible to prevent the user from accessing those filesIn order to hear them they have to be downloaded to the user's computer and that means that they have to be accessible!The best you can do is encrypt the files and decrypt them in the player. But even then the player could be reverse-engineered and someone could discover the encryption key and algorithm. In the end you gonna find out that you just wasted a whole lot of processing time and in fact slowed down your application!\"]]}"}
{"content": "{\"prompt\": \"User: httpd.confLoadModule authn_file_module modules/mod_authn_file.so\\nLoadModule authn_core_module modules/mod_authn_core.so\\nLoadModule authz_host_module modules/mod_authz_host.so\\nLoadModule authz_groupfile_module modules/mod_authz_groupfile.so\\nLoadModule authz_user_module modules/mod_authz_user.so\\nLoadModule authz_core_module modules/mod_authz_core.so\\nLoadModule access_compat_module modules/mod_access_compat.so\\nLoadModule auth_basic_module modules/mod_auth_basic.so\\nLoadModule auth_digest_module modules/mod_auth_digest.sohttpd-vhosts.conf<VirtualHost *:8080>\\n        ServerAdmin[email protected]DocumentRoot \\\"/data/www/sites/default/public\\\"\\n        ServerName 192.168.1.162\\n        ErrorLog \\\"/data/www/logs/apache/192.168.1.162-error_log\\\"\\n        CustomLog \\\"/data/www/logs/apache/192.168.1.162-access_log\\\" combined\\n    <Directory \\\"/data/www/sites/default/public\\\">\\n        Options -Indexes\\n        AllowOverride All\\n        Order allow,deny\\n        Allow from all\\n        AuthType Basic\\n        AuthName \\\"Restricted Resource\\\"\\n        AuthBasicProvider file\\n        AuthUserFile /data/svn/htpasswd\\n        Require valid-user\\n    </Directory>\\n    ProxyPassMatch ^/(.*\\\\.php)$ fcgi://127.0.0.1:9000/data/www/sites/default/public/$1\\n</VirtualHost>I can get the info to input the user and password,but always can not be virified.I am sure the password is correct and the htpassswd file are not in the document root folder.How can i resolve this problem?\\n\\nAssistant:\", \"response\": [[\"Are you sure your Apache user (www-data?) can access the user file?\\nAlso, you can drop theAuthBasicProviderline.\"]]}"}
{"content": "{\"prompt\": \"User: I want to remove the index.php file from file path in CI . I am using ubuntu 12.04  . I tried almost all the forum result but no sucess .I place the CI folder at this path .http://localhost/xxx/CI/I have apache rewrite mod enable .sudo a2enmod rewrite\\nModule rewrite already enabledI also have this in my conf.php file$config['uri_protocol'] = 'AUTO';\\n$config['base_url'] = 'http://localhost/xxx/CI/'; \\n$config['index_page'] = '';\\n$config['index_url'] = '';I have this in my .htaccess fileRewriteEngine on\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule .* index.php/$0 [PT,L].htaccess file is at this pathhttp://localhost/xxx/CI/.htaccessand it is enable too through apache/etc/apache2/sites-available/default\\nAllowOverride AllI get this error when i access the file like thishttp://localhost/xxx/CI/login/\\n 404 Error\\n The requested URL /xxx/CI/login/ was not found on this server.Any help will be appreciated  .Thanks\\n\\nAssistant:\", \"response\": [[\"Try using the.htaccessfile below:RewriteEngine On\\nRewriteBase /xxx/CI/\\nRewriteCond %{REQUEST_FILENAME} !-f\\nRewriteCond %{REQUEST_FILENAME} !-d\\nRewriteRule . index.php [L,QSA]Then, change youruri_protocolfromAUTOtoPATH_INFO:$config['uri_protocol'] = 'PATH_INFO';If that starts re-routing everything to the default controller, then change it toORIG_PATH_INFO:$config['uri_protocol'] = 'ORIG_PATH_INFO';Additional InformationInsert these lines into your file:Options -Multiviews +FollowSymLinks\\nAllowOverride All\"]]}"}
{"content": "{\"prompt\": \"User: How can I do a wildcard redirect in .htaccess file?I tried using the following, but the*doesn't work for some reason.redirect 301 /threads/*.343/ http://myotherdomain.com/threads/*.343/I can't use mod_rewrite, because I have 7000 of these redirects that I need to do, and apparently, when I tried about half of those, my server threw out a 500 misconfiguration error.So it seems that writing 7000 lines of the aforementioned code is somehow less intensive.Anyway, please let me know how I could express a wildcard in that sort of code.\\n\\nAssistant:\", \"response\": [[\"You don't need 7000 separate rewrite rules, just useRewriteMap1 - First create a text file with all the 7000 chosen IDs in 2 columns like this:343 343\\n349 349\\n518 5182 - Then define a RewriteMap inhttpd.condlike this:RewriteMap idmap txt:/path/to/file/map.txt3 - And then enable mod_rewrite and .htaccess throughhttpd.confand then put this code in your.htaccessunderDOCUMENT_ROOTdirectory:Options +FollowSymLinks -MultiViews\\n# Turn mod_rewrite on\\nRewriteEngine On\\nRewriteBase /\\n\\nRewriteRule ^threads/(.*)$ http://myotherdomain.com/threads/${idmap:$1} [L,NC,R=301]\"]]}"}
{"content": "{\"prompt\": \"User: I am only just starting to learn how to rewrite urls with the .htaccess file.How would I change:http://www.url.net/games/game_one.phpinto this:http://www.url.net/games/game-one/This is what I have been tryingRewriteRule    ^/games/game-one.php    ^/games/game-one/    [NC,L]\\n\\nAssistant:\", \"response\": [[\"If you want people to use/games/game-one/explicitly, you have to rewrite so that it requests/game/game-one.php. So the opposite way around than you have it in your question.RewriteEngine On\\nRewriteRule ^games/game-one/$ /games/game-one.phpIf you want to rewrite other URL's too, then you'd need to use a technique similar to the prior answer.\"]]}"}
{"content": "{\"prompt\": \"User: I'm looking to set rules in my .htaccess file so that all files with a .php extension can be accessed by replacing the extension with just a slash (/foo/bar/would silently load/foo/bar.php). Previously, I foundthis, which is kind of what I'm looking for, except it only changes/foo/bar.phpto/foo/bar(notice there is no end slash).I'm almost a completely newbie when it comes to htaccess, and about 30 minutes of tweaking with the code from the previous link produced nothing by a ton of500 internal server errors. I'm sure it's such a simple fix, but neither Google nor trial and error have yet to bring me any results.Could anyone take a look at the code from the aforementioned post (copied below) and change it so that/foo/bar/will rewrite to/foo/bar.php?Options +FollowSymLinks -MultiViews\\n# Turn mod_rewrite on\\nRewriteEngine On\\nRewriteBase /\\n\\n## hide .php extension\\n# To externally redirect /dir/foo.php to /dir/foo\\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\\\s([^.]+)\\\\.php [NC]\\nRewriteRule ^ %1 [R,L,NC]\\n\\n## To internally redirect /dir/foo to /dir/foo.php\\nRewriteCond %{REQUEST_FILENAME}.php -f\\nRewriteRule ^ %{REQUEST_URI}.php [L]Many thanks!\\n\\nAssistant:\", \"response\": [[\"Per the comments below, the intent is to have user-visible URLs like /foo/bar/ that actually run php scripts like /foo/bar.php. In addition, you probably want users who try to load /foo/bar.php directly to be redirected to /foo/bar/ for consistency.#Redirect users loading /foo/bar.php to /foo/bar/\\nRewriteRule ^(.*)\\\\.php$ $1/ [R]\\n\\n#Rewrite /foo/bar/ (what the user sees) silently to /foo/bar.php\\nRewriteRule ^(.*)/$ $1.php [L]The[R]at the end of the first rule specifies to redirect rather than rewrite, so that the user loads /foo/bar/. The$1at the end of the second rule matches the parentheses (everything prior to the terminating slash) then tacks .php on the end. The[L]means to stop evaluatingRewriteRules.As in my original reply, the use of a leading slash for the replacement string depends on context. With these rules you'll be able to see the effect of the first rule since it's a redirect. If the redirect tries to go tomydomain.comfoo/bar/rather thanmydomain.com/foo/bar/, then add a leading slash before the$1in each rule.Another note - does your php script expect any query strings? There may need to be an additional tweak if it does.TheApache mod_rewrite referencehas more details.\"]]}"}
{"content": "{\"prompt\": \"User: How would I display dynamic content, say profile pages with the url syntaxmysite.com/users/user1mysite.com/users/user2mysite.com/users/user3Without having a different page or directory for every user. I'm hoping there is a way to just have something like an index.php file in the users directory and have it display appropriate user content based on the user1, user2, user3 part of the url.I know this is common but I'm not sure how to do it or what ever it would be called to google it?\\n\\nAssistant:\", \"response\": [[\"If your running apache, you may want to look intomod_rewriterules for your .htaccess file.In the following example, I redirect anything that is pointing to/users/user*to a file in the root of the site calledusers.php. You notice the([^/\\\\.]+). This is a \\\"catch-all\\\" reg-ex that will allow me to create a variable for my query string (ex:?id=$1).<IfModule mod_rewrite.c>\\n    RewriteEngine on\\n    RewriteRule ^users/user([^/\\\\.]+) users.php?id=$1 [L]\\n</IfModule>Then in myusers.phpi can retrieve the variable as:$id = $_GET['id']This will allow me to catch and handle all user URLs with only 1 file.Note:This is only an example. It will have to be built upon but it could be a good starting point for you\"]]}"}
{"content": "{\"prompt\": \"User: Should I use an .htaccess file on a static HTML site? I want to hide .html extension from the url. Many of the code I've tried but none them are working.http://eisabainyo.net/weblog/2007/08/19/removing-file-extension-via-htaccess/How to hide .html extension from the website urlAnybody please help\\n\\nAssistant:\", \"response\": [[\"It's not working maybe because the AllowOverwrite directive is not properly set : seethisYou should increase the log level withthisto see what happens.\"]]}"}
{"content": "{\"prompt\": \"User: I want a regex which can match all numbers, letters, and all punctuation symbols as well (full stop, comma, question mark, exclamation mark, colon, etc.).The string must be at least one character long, but can be any length above that.Is it possible?\\n\\nAssistant:\", \"response\": [[\"Try\\\\\\\\p{Graph}+or\\\\\\\\p{Print}+@Test\\npublic void shouldMatch()\\n{\\n    assertTrue(\\\"asdf123ASFD!@#$%^&*()\\\".matches(\\\"\\\\\\\\p{Graph}+\\\"));\\n}\\n\\n@Test\\npublic void shouldMatchWithWhitespaces()\\n{\\n    assertTrue(\\\"asdf 123 ASFD !@#$%^&*()\\\".matches(\\\"[\\\\\\\\p{Graph}\\\\\\\\s]+\\\"));\\n}You can get more infos here (Section: POSIX character classes (US-ASCII only)):http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html\"]]}"}
{"content": "{\"prompt\": \"User: I'm trying to rewrite urls for a page that has two query strings parameter. And according to these parameters value (set or not), I show different contents on the page.example.com/fotograf.php?aid=10\\nexample.com/fotograf.php?aid=10&fid=5The URLs above are the examples to not rewrited ones. I just want to make them such thatexample.com/fotograf/10/\\nexample.com/fotograf/10/5/The first URL links to the album with photos, and the second one links to a photo in that album.In.htaccess, I just want to be able to reach them with the clean URLs above. After that, I will check the URL at the top of the script and if it's not clean then with a function I wrote I will redirect it to clean one (by getting values with preg_match and preg_split and redirecting with header function).So far, I have tried this rule (which did not work to view album):RewriteRule ^fotograf/([0-9-/]+)/([0-9]+)/?$ fotograf.php?aid=$1&fid=$2 [L]Then, this (which redirects to album always):RewriteRule ^fotograf/([0-9-/]+)/?$ fotograf.php?aid=$1 [L]Finally, this (helped me to view the photo by a URL likeexample.com/fotograf/10/?fid=5):RewriteCond %{QUERY_STRING} ^fid=(.*)$\\nRewriteRule ^fotograf/(.*)/$ fotograf.php?aid=$1&fid=%1But I don't want to see any question marks or ampersands in the URL.Somehow, I need to check which one(s) is(are) set and redirect accordingly but I just don't know how to achieve this.How can I do this?Thanks in advance.\\n\\nAssistant:\", \"response\": [[\"You need to make your application to generate the URLs like you want them, so in the form:example.com/fotograf/10/\\nexample.com/fotograf/10/5/and following rewrite rule will make sure, it'll reach your php:RewriteEngine On\\n\\nRewriteRule ^fotograf/([0-9]+)/([0-9]+)/?$ fotograf.php?aid=$1&fid=$2\\n\\nRewriteRule ^fotograf/([0-9]+)/?$ fotograf.php?aid=$1mod_rewritecan't rewrite URLs in your HTML pages...\"]]}"}
