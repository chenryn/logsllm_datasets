Knight Capital Crippled by Software Bug
August2012
On Wednesday morning, August 1, 2012, Knight Capital, the number one market maker for the NYSE
andNASDAQstock exchanges,wasvirtuallywipedoutinjustafewminutesbyasoftwarebug.Thestory
ofhowthathappenedrings awakeupbellforthemoderntechniquesofhigh-frequencytrading,whichlets
brokeragefirmsplaceanddeletequotesandmaketradesinmicroseconds.
Knight Capital
The Knight Capital Group (NYSE: KCG) is an American global brokerage firm
engaging in market making, trading, and institutional financial services.
Established in 1995 and headquartered in Jersey City, N.J., Knight was the
number one market maker for the NYSE (New York Stock Exchange) and for the
NASD (National Association of Securities Dealers, which runs the NASDAQ – NASD Automated
Quotations – trading system). It is the responsibility of a market maker to provide liquidity to equity
markets by stepping in to buy or to sell stocks using its own capital to ensure orderly activity. Without
marketmakers,investorsmaynotbeabletofindanothersidefortheirtrades.
Employing almost 1,500 people, Knight’s largest business was market-making in U.S. securities. Knight
was the marketmaker for 690 securities listed on the NYSE, and it traded in over 19,000 U.S. securities.
In the second quarter of 2012, Knight traded over 350 million shares per day at an average value of $21
billion.Usingitshigh-frequencytradingalgorithms,Knightrepresentedabout17%ofalltradingactivityon
boththeNYSEandNASDstockexchanges.
High-Frequency Trading
High-frequency trading (HFT) is the use of sophisticated computer algorithms to trade securities. HFT
systems typically hold a position for only a short period of time – perhaps seconds – and liquidate their
positions at the end of the trading day. Bid and offer quotes to buy or to sell securities are made in
microseconds, and trades typically just yield a gain or loss of fractions of a penny per share. But the
penniesadduptomassiveprofitsattheendoftheday.
In the United States, high-frequency trading firms represent 2% of the approximately 20,000 firms
operatingtoday,butaccountfor73%ofallequityorders.
1
©2012SombersAssociates,Inc.,andW.H.Highleyman
Fordiscussion,contacteditorest.com

Wednesday Morning, August 1, 2012
The warning signs were clear before the NYSE opened for trading on August 1. Traders noted that there
was ahuge volumeof orders queueduptotrade whenthe openingbell went offat9:30AM.Back offices
were called to see what was going on. The Knight traders on the floor were told by their back office in
JerseyCitythatitwasn’tKnightthatwasgeneratingtheorders.
When the markets opened, sure enough they were flooded with an immense volume of orders. By 9:40
AM, the NYSE identified Knight as the source of the orders. It took Knight another 20 minutes to locate
the cause of the problem and to shut off the order flow. The backlog of queued orders continued to be
executedforanotherfifteenminutes.
Stock prices in 148 companies went wild. Wizzard Software soared 400%, from $3.50 to $14.
Abercrombie & Fitch jumped 9%. Harley-Davidson fell 12%. Later in the day, the NYSE canceled trades
ofsixsmallerstocksthathadwideswings,includingWizzard.
In45minutes,Knightexecutedbillionsofdollarsinerranttrades.Ithadexecutedordersthatamountedto
a$440millionlossforthefirm.KnightCapitalwasonitsknees.
The Aftermath
Goldman Sachs immediately offered to buy Knight’s unwanted positions at a discount over their current
market value. The NYSE moved Knight’s market-making operations, including employees, to its major
competitor,GETCO,aleadingglobalmarketmaker.
Knight’s stock price crashed from a recent high of $10.33 to a low of $2.27. Knight Capital had lost 78%
ofitsvalue!
ThomasJoyce,CEOofKnight,saidthattheproblemwasnotwiththecompany’sHFTalgorithms.Rather,
it was in a software upgrade installed Tuesday night, July 31st, to work with a new system of the NYSE.
This system is known as the Retail Liquidity Program, designed to improve markets for small investors.
2
©2012SombersAssociates,Inc.,andW.H.Highleyman
Fordiscussion,contacteditorest.com

As Joyce wryly commented, “You cannot keep people from doing stupid things. That is what happens
whenyouhaveacultureofrisk.”HesaidthatKnight’sclientswerenotnegativelyaffected
Over the weekend, unlike the big banks’ inaction during the break of the housing bubble, a consortium of
financial services firms negotiated a takeover deal with Knight. The consortium included GETCO,
Blackstone Group, TD Ameritrade, Stifel Nicolaus, Jeffries Group, and Stephens. For $400 million, they
receivedwarrantsat$1.50ashare,which,whenexecutedwillgivethemownershipof70%ofKnight.
The members of the consortium had many questions. What happened to the chain of command? Why
wasn’t trading shut off when the warning bells went off? However, they had no chance to do any due
diligence. Rather, they trusted Knight’s reputation; and Thomas Joyce has been a trusted figure on Wall
Streetfordecades.
The Future of High-Frequency Trading
There evidently have been many instances of small market turmoil due to high-frequency trading that do
not make the headlines. However, one extreme was the “flash crash” of May 2010. A massive (though
legitimate) sale of 75,000 S&P contracts started a sharp market decline on a day when the Dow Jones
averagewasalreadydown300points.Withthemarketinasharpdecline,HFT algorithmstriggeredsales
of their positions, leading to massive sales.Willing buyers were soon exhausted, and the market lost 600
points in minutes,sending somestock values intothe pennies.Themarketstabilized afewminutes later,
andthemassivedeclinewaserased.
Though not fundamentally caused by HFT, the botched Facebook IPO in May 2012 was caused by an
excessive volume of orders at the opening of the IPO that overwhelmed the NASDAQ trading system.
Customers could not tell if their orders had been executed, and new buy/sell orders were delayed by
hours. There is a good chance that a great deal of this excessive volume was caused by HFT systems.
The Knight debacle was an ironic embarrassment for CEO Joyce, who had publicly criticized the NASD
fortheproblemswithFacebook’sIPO.
One of our subscribers, Paul Green of Stratus Technologies, has recently posted a question on our
ContinuousAvailabilityForum1thathasreceivedquiteabitofcomment.Heasked:
“What advice would you give to the NYSE for avoiding problems with high-frequency trading
software?”
The responses are thoughtful and worth reading. Among them are suggestions for better circuit breakers
and a tax on trades. The NYSE instituted circuit breakers to stop trading in affected securities after the
flash crash, but perhaps the circuit breakers were not tight enough. It is not clear whether Knight had
circuit breakers, but a clear lesson from the Knight disaster is that any firm that is using HFT trading
algorithms better have tight and fast circuit breakers in place; and they should modify their trading
algorithmstobeawareofthecircuitbreakerthresholds.
The concept of taxing trades is not new. Nobel Laureate James Tobin suggested such a tax in 1972 on
currencytransactions to curtail short-term speculation in currencies. To control HFT, such a tax would be
so small that normal investors would never notice it. However, the tax would be high enough to make
trades that resulted in gains of a fraction of a penny per share much less attractive (hopefully, totally
unattractive).
OneproblemthattheexchangesfaceisthatHFTsystemsfloodthemarketwithbuy/sellordersthatnever
get executed. The intent of these orders is to test the market to see where it is moving. Consequently,
there are manymore orders than trades. Exchanges make their money on trades; they do not charge for
orders that are not executed. However, the mass of orders must be processed; and the exchanges must
1http://www.linkedin.com/search-fe/group_search?pplSearchOrigin=GLHD&keywords=continuous+availability+forum
3
©2012SombersAssociates,Inc.,andW.H.Highleyman
Fordiscussion,contacteditorest.com

invest in bigger and bigger systems to handle this non-income producing activity. A tax on trades that
could beextendedtoa tax onorders wouldgoa long waytowards solvingthis problem.Alternatively,the
exchanges could require that bids and offers be valid for a minute or so rather than the subsecond order
lifetimes currently in vogue with HFT. Phishing orders would then be converted to real orders that could
behit,andtheordervolumewouldbereducedtoameaningfulamount.
Several of the commenters on the Continuous Availability Forum felt that HFT had no redeeming value
socially. The only beneficiaries were the brokerage houses that made millions on it. However, the
proponents of HFT point out that it increases the liquidity of the marketplace and narrows the bid/offer
spread,thismakingtradingmoreefficientandmoreeconomical.
Summary
Caution! High-frequency trading can be hazardous to your health! Knight Capital certainly found this out
andhopefullyhasraisedthebarforotherfirmstoensurethattheydonotfollowinKnight’sfootsteps.
Will the exchanges take drastic steps to ensure that incidents such as the Knight debacle and the flash
crash do not happen again? Probably not, short of tightened circuit breakers. Exchanges compete with
eachotheranddonotwanttolosebusinessduetotightenedrulesnotadoptedbyotherexchanges.Only
the SEC (Securities and Exchange Commission) could force these changes, and then only in the United
States.
Besides, the billions of dollars that brokerage firms have invested in HFT systems and the billions of
dollarstheystandtomakearemajorbarrierstoanychange.
Acknowledgements
Materialforthisarticlehasbeentakenfromthefollowingsources:
KnightCapitalblamessoftwareforcomputertradingglitch,USAToday;August2,2012.
SoftwareGlitchCausesOver$400MillioninLossesforKnight,Z6Mag;August6,2012.
KnightCapitalReaches$400MillionDealtoSaveFirm,CNBC;August6,2012.
NYSE moves trades from Knight Capital IT platform to rival after software glitch, Computerworld; August
7,2012.
Insight:Knight’sJoycegetsreprievebutnewownerswantanswers,Reuters;August10,2012.
KCGPerformance,Yahoo!Finance;August10,2012.
KnightCapitalGroup,Wikipedia.
High-frequencytrading,Wikipedia.
4
©2012SombersAssociates,Inc.,andW.H.Highleyman
Fordiscussion,contacteditorest.com